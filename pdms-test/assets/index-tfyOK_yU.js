(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function Rb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var lm={exports:{}},fu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function Ib(){if(k0)return fu;k0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return fu.Fragment=e,fu.jsx=t,fu.jsxs=t,fu}var L0;function Cb(){return L0||(L0=1,lm.exports=Ib()),lm.exports}var A=Cb(),um={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function xb(){if(U0)return xe;U0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=T&&N[T]||N["@@iterator"],typeof N=="function"?N:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,$={};function H(N,ne,ae){this.props=N,this.context=ne,this.refs=$,this.updater=ae||O}H.prototype.isReactComponent={},H.prototype.setState=function(N,ne){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ne,"setState")},H.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function J(){}J.prototype=H.prototype;function Z(N,ne,ae){this.props=N,this.context=ne,this.refs=$,this.updater=ae||O}var re=Z.prototype=new J;re.constructor=Z,j(re,H.prototype),re.isPureReactComponent=!0;var he=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function x(N,ne,ae,ie,ge,Ie){return ae=Ie.ref,{$$typeof:r,type:N,key:ne,ref:ae!==void 0?ae:null,props:Ie}}function R(N,ne){return x(N.type,ne,void 0,void 0,void 0,N.props)}function I(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function V(N){var ne={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ae){return ne[ae]})}var P=/\/+/g;function L(N,ne){return typeof N=="object"&&N!==null&&N.key!=null?V(""+N.key):ne.toString(36)}function D(){}function Dt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(ne){N.status==="pending"&&(N.status="fulfilled",N.value=ne)},function(ne){N.status==="pending"&&(N.status="rejected",N.reason=ne)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function at(N,ne,ae,ie,ge){var Ie=typeof N;(Ie==="undefined"||Ie==="boolean")&&(N=null);var ve=!1;if(N===null)ve=!0;else switch(Ie){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(N.$$typeof){case r:case e:ve=!0;break;case v:return ve=N._init,at(ve(N._payload),ne,ae,ie,ge)}}if(ve)return ge=ge(N),ve=ie===""?"."+L(N,0):ie,he(ge)?(ae="",ve!=null&&(ae=ve.replace(P,"$&/")+"/"),at(ge,ne,ae,"",function(Lt){return Lt})):ge!=null&&(I(ge)&&(ge=R(ge,ae+(ge.key==null||N&&N.key===ge.key?"":(""+ge.key).replace(P,"$&/")+"/")+ve)),ne.push(ge)),1;ve=0;var ct=ie===""?".":ie+":";if(he(N))for(var qe=0;qe<N.length;qe++)ie=N[qe],Ie=ct+L(ie,qe),ve+=at(ie,ne,ae,Ie,ge);else if(qe=w(N),typeof qe=="function")for(N=qe.call(N),qe=0;!(ie=N.next()).done;)ie=ie.value,Ie=ct+L(ie,qe++),ve+=at(ie,ne,ae,Ie,ge);else if(Ie==="object"){if(typeof N.then=="function")return at(Dt(N),ne,ae,ie,ge);throw ne=String(N),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Y(N,ne,ae){if(N==null)return N;var ie=[],ge=0;return at(N,ie,"","",function(Ie){return ne.call(ae,Ie,ge++)}),ie}function le(N){if(N._status===-1){var ne=N._result;ne=ne(),ne.then(function(ae){(N._status===0||N._status===-1)&&(N._status=1,N._result=ae)},function(ae){(N._status===0||N._status===-1)&&(N._status=2,N._result=ae)}),N._status===-1&&(N._status=0,N._result=ne)}if(N._status===1)return N._result.default;throw N._result}var me=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Ce(){}return xe.Children={map:Y,forEach:function(N,ne,ae){Y(N,function(){ne.apply(this,arguments)},ae)},count:function(N){var ne=0;return Y(N,function(){ne++}),ne},toArray:function(N){return Y(N,function(ne){return ne})||[]},only:function(N){if(!I(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},xe.Component=H,xe.Fragment=t,xe.Profiler=o,xe.PureComponent=Z,xe.StrictMode=s,xe.Suspense=m,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,xe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ue.H.useMemoCache(N)}},xe.cache=function(N){return function(){return N.apply(null,arguments)}},xe.cloneElement=function(N,ne,ae){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ie=j({},N.props),ge=N.key,Ie=void 0;if(ne!=null)for(ve in ne.ref!==void 0&&(Ie=void 0),ne.key!==void 0&&(ge=""+ne.key),ne)!de.call(ne,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&ne.ref===void 0||(ie[ve]=ne[ve]);var ve=arguments.length-2;if(ve===1)ie.children=ae;else if(1<ve){for(var ct=Array(ve),qe=0;qe<ve;qe++)ct[qe]=arguments[qe+2];ie.children=ct}return x(N.type,ge,void 0,void 0,Ie,ie)},xe.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},xe.createElement=function(N,ne,ae){var ie,ge={},Ie=null;if(ne!=null)for(ie in ne.key!==void 0&&(Ie=""+ne.key),ne)de.call(ne,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ge[ie]=ne[ie]);var ve=arguments.length-2;if(ve===1)ge.children=ae;else if(1<ve){for(var ct=Array(ve),qe=0;qe<ve;qe++)ct[qe]=arguments[qe+2];ge.children=ct}if(N&&N.defaultProps)for(ie in ve=N.defaultProps,ve)ge[ie]===void 0&&(ge[ie]=ve[ie]);return x(N,Ie,void 0,void 0,null,ge)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(N){return{$$typeof:p,render:N}},xe.isValidElement=I,xe.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:le}},xe.memo=function(N,ne){return{$$typeof:g,type:N,compare:ne===void 0?null:ne}},xe.startTransition=function(N){var ne=ue.T,ae={};ue.T=ae;try{var ie=N(),ge=ue.S;ge!==null&&ge(ae,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Ce,me)}catch(Ie){me(Ie)}finally{ue.T=ne}},xe.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},xe.use=function(N){return ue.H.use(N)},xe.useActionState=function(N,ne,ae){return ue.H.useActionState(N,ne,ae)},xe.useCallback=function(N,ne){return ue.H.useCallback(N,ne)},xe.useContext=function(N){return ue.H.useContext(N)},xe.useDebugValue=function(){},xe.useDeferredValue=function(N,ne){return ue.H.useDeferredValue(N,ne)},xe.useEffect=function(N,ne,ae){var ie=ue.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(N,ne)},xe.useId=function(){return ue.H.useId()},xe.useImperativeHandle=function(N,ne,ae){return ue.H.useImperativeHandle(N,ne,ae)},xe.useInsertionEffect=function(N,ne){return ue.H.useInsertionEffect(N,ne)},xe.useLayoutEffect=function(N,ne){return ue.H.useLayoutEffect(N,ne)},xe.useMemo=function(N,ne){return ue.H.useMemo(N,ne)},xe.useOptimistic=function(N,ne){return ue.H.useOptimistic(N,ne)},xe.useReducer=function(N,ne,ae){return ue.H.useReducer(N,ne,ae)},xe.useRef=function(N){return ue.H.useRef(N)},xe.useState=function(N){return ue.H.useState(N)},xe.useSyncExternalStore=function(N,ne,ae){return ue.H.useSyncExternalStore(N,ne,ae)},xe.useTransition=function(){return ue.H.useTransition()},xe.version="19.1.0",xe}var j0;function yg(){return j0||(j0=1,um.exports=xb()),um.exports}var G=yg();const or=Rb(G);var cm={exports:{}},du={},hm={exports:{}},fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function Db(){return z0||(z0=1,function(r){function e(Y,le){var me=Y.length;Y.push(le);e:for(;0<me;){var Ce=me-1>>>1,N=Y[Ce];if(0<o(N,le))Y[Ce]=le,Y[me]=N,me=Ce;else break e}}function t(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var le=Y[0],me=Y.pop();if(me!==le){Y[0]=me;e:for(var Ce=0,N=Y.length,ne=N>>>1;Ce<ne;){var ae=2*(Ce+1)-1,ie=Y[ae],ge=ae+1,Ie=Y[ge];if(0>o(ie,me))ge<N&&0>o(Ie,ie)?(Y[Ce]=Ie,Y[ge]=me,Ce=ge):(Y[Ce]=ie,Y[ae]=me,Ce=ae);else if(ge<N&&0>o(Ie,me))Y[Ce]=Ie,Y[ge]=me,Ce=ge;else break e}}return le}function o(Y,le){var me=Y.sortIndex-le.sortIndex;return me!==0?me:Y.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var m=[],g=[],v=1,T=null,w=3,O=!1,j=!1,$=!1,H=!1,J=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function he(Y){for(var le=t(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=Y)s(g),le.sortIndex=le.expirationTime,e(m,le);else break;le=t(g)}}function ue(Y){if($=!1,he(Y),!j)if(t(m)!==null)j=!0,de||(de=!0,L());else{var le=t(g);le!==null&&at(ue,le.startTime-Y)}}var de=!1,x=-1,R=5,I=-1;function V(){return H?!0:!(r.unstable_now()-I<R)}function P(){if(H=!1,de){var Y=r.unstable_now();I=Y;var le=!0;try{e:{j=!1,$&&($=!1,Z(x),x=-1),O=!0;var me=w;try{t:{for(he(Y),T=t(m);T!==null&&!(T.expirationTime>Y&&V());){var Ce=T.callback;if(typeof Ce=="function"){T.callback=null,w=T.priorityLevel;var N=Ce(T.expirationTime<=Y);if(Y=r.unstable_now(),typeof N=="function"){T.callback=N,he(Y),le=!0;break t}T===t(m)&&s(m),he(Y)}else s(m);T=t(m)}if(T!==null)le=!0;else{var ne=t(g);ne!==null&&at(ue,ne.startTime-Y),le=!1}}break e}finally{T=null,w=me,O=!1}le=void 0}}finally{le?L():de=!1}}}var L;if(typeof re=="function")L=function(){re(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Dt=D.port2;D.port1.onmessage=P,L=function(){Dt.postMessage(null)}}else L=function(){J(P,0)};function at(Y,le){x=J(function(){Y(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var me=w;w=le;try{return Y()}finally{w=me}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=w;w=Y;try{return le()}finally{w=me}},r.unstable_scheduleCallback=function(Y,le,me){var Ce=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ce+me:Ce):me=Ce,Y){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=me+N,Y={id:v++,callback:le,priorityLevel:Y,startTime:me,expirationTime:N,sortIndex:-1},me>Ce?(Y.sortIndex=me,e(g,Y),t(m)===null&&Y===t(g)&&($?(Z(x),x=-1):$=!0,at(ue,me-Ce))):(Y.sortIndex=N,e(m,Y),j||O||(j=!0,de||(de=!0,L()))),Y},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Y){var le=w;return function(){var me=w;w=le;try{return Y.apply(this,arguments)}finally{w=me}}}}(fm)),fm}var B0;function Nb(){return B0||(B0=1,hm.exports=Db()),hm.exports}var dm={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function Ob(){if(q0)return ln;q0=1;var r=yg();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ln.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,v)},ln.flushSync=function(m){var g=f.T,v=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=g,s.p=v,s.d.f()}},ln.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},ln.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},ln.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,T=p(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:O}):v==="script"&&s.d.X(m,{crossOrigin:T,integrity:w,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ln.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},ln.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=p(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ln.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},ln.requestFormReset=function(m){s.d.r(m)},ln.unstable_batchedUpdates=function(m,g){return m(g)},ln.useFormState=function(m,g,v){return f.H.useFormState(m,g,v)},ln.useFormStatus=function(){return f.H.useHostTransitionStatus()},ln.version="19.1.0",ln}var H0;function Mb(){if(H0)return dm.exports;H0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dm.exports=Ob(),dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0;function Vb(){if(F0)return du;F0=1;var r=Nb(),e=yg(),t=Mb();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function f(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(s(188))}function m(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),n;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,S=h.child;S;){if(S===a){E=!0,a=h,l=d;break}if(S===l){E=!0,l=h,a=d;break}S=S.sibling}if(!E){for(S=d.child;S;){if(S===a){E=!0,a=d,l=h;break}if(S===l){E=!0,l=d,a=h;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),re=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function Dt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case j:return"Fragment";case H:return"Profiler";case $:return"StrictMode";case ue:return"Suspense";case de:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case O:return"Portal";case re:return(n.displayName||"Context")+".Provider";case Z:return(n._context.displayName||"Context")+".Consumer";case he:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case x:return i=n.displayName||null,i!==null?i:Dt(n.type)||"Memo";case R:i=n._payload,n=n._init;try{return Dt(n(i))}catch{}}return null}var at=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ce=[],N=-1;function ne(n){return{current:n}}function ae(n){0>N||(n.current=Ce[N],Ce[N]=null,N--)}function ie(n,i){N++,Ce[N]=n.current,n.current=i}var ge=ne(null),Ie=ne(null),ve=ne(null),ct=ne(null);function qe(n,i){switch(ie(ve,i),ie(Ie,n),ie(ge,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?c0(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=c0(i),n=h0(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ae(ge),ie(ge,n)}function Lt(){ae(ge),ae(Ie),ae(ve)}function Un(n){n.memoizedState!==null&&ie(ct,n);var i=ge.current,a=h0(i,n.type);i!==a&&(ie(Ie,n),ie(ge,a))}function En(n){Ie.current===n&&(ae(ge),ae(Ie)),ct.current===n&&(ae(ct),ou._currentValue=me)}var sn=Object.prototype.hasOwnProperty,Is=r.unstable_scheduleCallback,Cs=r.unstable_cancelCallback,il=r.unstable_shouldYield,sc=r.unstable_requestPaint,jn=r.unstable_now,ld=r.unstable_getCurrentPriorityLevel,sl=r.unstable_ImmediatePriority,Ca=r.unstable_UserBlockingPriority,xs=r.unstable_NormalPriority,ud=r.unstable_LowPriority,xa=r.unstable_IdlePriority,al=r.log,ac=r.unstable_setDisableYieldValue,dt=null,Ye=null;function Rn(n){if(typeof al=="function"&&ac(n),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(dt,n)}catch{}}var an=Math.clz32?Math.clz32:Ds,oc=Math.log,cd=Math.LN2;function Ds(n){return n>>>=0,n===0?32:31-(oc(n)/cd|0)|0}var Ns=256,Os=4194304;function tr(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Da(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=tr(l):(E&=S,E!==0?h=tr(E):a||(a=S&~n,a!==0&&(h=tr(a))))):(S=l&~d,S!==0?h=tr(S):E!==0?h=tr(E):a||(a=l&~n,a!==0&&(h=tr(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Ms(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function ol(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ll(){var n=Ns;return Ns<<=1,(Ns&4194048)===0&&(Ns=256),n}function ul(){var n=Os;return Os<<=1,(Os&62914560)===0&&(Os=4194304),n}function Br(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function qr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function cl(n,i,a,l,h,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,C=n.expirationTimes,B=n.hiddenUpdates;for(a=E&~a;0<a;){var K=31-an(a),ee=1<<K;S[K]=0,C[K]=-1;var q=B[K];if(q!==null)for(B[K]=null,K=0;K<q.length;K++){var F=q[K];F!==null&&(F.lane&=-536870913)}a&=~ee}l!==0&&mr(n,l,0),d!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~i))}function mr(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-an(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function hl(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-an(a),h=1<<l;h&i|n[l]&i&&(n[l]|=i),a&=~h}}function Ii(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Na(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ci(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:D0(n.type))}function lc(n,i){var a=le.p;try{return le.p=n,i()}finally{le.p=a}}var ot=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ot,Tt="__reactProps$"+ot,zn="__reactContainer$"+ot,fl="__reactEvents$"+ot,hd="__reactListeners$"+ot,xi="__reactHandles$"+ot,uc="__reactResources$"+ot,Vs="__reactMarker$"+ot;function Di(n){delete n[Nt],delete n[Tt],delete n[fl],delete n[hd],delete n[xi]}function Hr(n){var i=n[Nt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[zn]||a[Nt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=m0(n);n!==null;){if(a=n[Nt])return a;n=m0(n)}return i}n=a,a=n.parentNode}return null}function gr(n){if(n=n[Nt]||n[zn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function yr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function mn(n){var i=n[uc];return i||(i=n[uc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function yt(n){n[Vs]=!0}var dl=new Set,Oa={};function nr(n,i){Fr(n,i),Fr(n+"Capture",i)}function Fr(n,i){for(Oa[n]=i,n=0;n<i.length;n++)dl.add(i[n])}var cc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hc={},Ps={};function fc(n){return sn.call(Ps,n)?!0:sn.call(hc,n)?!1:cc.test(n)?Ps[n]=!0:(hc[n]=!0,!1)}function Ni(n,i,a){if(fc(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function _r(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function $t(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var ks,dc;function Gr(n){if(ks===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ks=i&&i[1]||"",dc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ks+n+dc}var Ma=!1;function Va(n,i){if(!n||Ma)return"";Ma=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(F){var q=F}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(F){q=F}n.call(ee.prototype)}}else{try{throw Error()}catch(F){q=F}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],S=d[1];if(E&&S){var C=E.split(`
`),B=S.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===B.length)for(l=C.length-1,h=B.length-1;1<=l&&0<=h&&C[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==B[h]){var K=`
`+C[l].replace(" at new "," at ");return n.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",n.displayName)),K}while(1<=l&&0<=h);break}}}finally{Ma=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Gr(a):""}function pl(n){switch(n.tag){case 26:case 27:case 5:return Gr(n.type);case 16:return Gr("Lazy");case 13:return Gr("Suspense");case 19:return Gr("SuspenseList");case 0:case 15:return Va(n.type,!1);case 11:return Va(n.type.render,!1);case 1:return Va(n.type,!0);case 31:return Gr("Activity");default:return""}}function Pa(n){try{var i="";do i+=pl(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function gn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ml(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function fd(n){var i=ml(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ka(n){n._valueTracker||(n._valueTracker=fd(n))}function gl(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=ml(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function Ls(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var dd=/[\n"\\]/g;function St(n){return n.replace(dd,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function In(n,i,a,l,h,d,E,S){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+gn(i)):n.value!==""+gn(i)&&(n.value=""+gn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Oi(n,E,gn(i)):a!=null?Oi(n,E,gn(a)):l!=null&&n.removeAttribute("value"),h==null&&d!=null&&(n.defaultChecked=!!d),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+gn(S):n.removeAttribute("name")}function Us(n,i,a,l,h,d,E,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+gn(a):"",i=i!=null?""+gn(i):a,S||i===n.value||(n.value=i),n.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Oi(n,i,a){i==="number"&&Ls(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function $r(n,i,a,l){if(n=n.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=i.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+gn(a),i=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function We(n,i,a){if(i!=null&&(i=""+gn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+gn(a):""}function js(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=gn(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Bn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var zs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pc(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||zs.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function yl(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&pc(n,h,l)}else for(var d in i)i.hasOwnProperty(d)&&pc(n,d,i[d])}function _l(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),md=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function La(n){return md.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Qr=null;function qn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Yr=null,Kr=null;function vl(n){var i=gr(n);if(i&&(n=i.stateNode)){var a=n[Tt]||null;e:switch(n=i.stateNode,i.type){case"input":if(In(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+St(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var h=l[Tt]||null;if(!h)throw Error(s(90));In(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&gl(l)}break e;case"textarea":We(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&$r(n,!!a.multiple,i,!1)}}}var vr=!1;function mc(n,i,a){if(vr)return n(i,a);vr=!0;try{var l=n(i);return l}finally{if(vr=!1,(Yr!==null||Kr!==null)&&(lh(),Yr&&(i=Yr,n=Kr,Kr=Yr=null,vl(i),n)))for(i=0;i<n.length;i++)vl(n[i])}}function Bs(n,i){var a=n.stateNode;if(a===null)return null;var l=a[Tt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hn=!1;if(rr)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{Hn=!1}var Er=null,Mi=null,Xr=null;function El(){if(Xr)return Xr;var n,i=Mi,a=i.length,l,h="value"in Er?Er.value:Er.textContent,d=h.length;for(n=0;n<a&&i[n]===h[n];n++);var E=a-n;for(l=1;l<=E&&i[a-l]===h[d-l];l++);return Xr=h.slice(n,1<l?1-l:void 0)}function Tr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Sr(){return!0}function Tl(){return!1}function Ut(n){function i(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Sr:Tl,this.isPropagationStopped=Tl,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),i}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=Ut(Ge),Hs=v({},Ge,{view:0,detail:0}),gc=Ut(Hs),ja,za,Ar,Fs=v({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ar&&(Ar&&n.type==="mousemove"?(ja=n.screenX-Ar.screenX,za=n.screenY-Ar.screenY):za=ja=0,Ar=n),ja)},movementY:function(n){return"movementY"in n?n.movementY:za}}),Fn=Ut(Fs),yc=v({},Fs,{dataTransfer:0}),gd=Ut(yc),Gs=v({},Hs,{relatedTarget:0}),Ba=Ut(Gs),Sl=v({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),qa=Ut(Sl),_c=v({},Ge,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ha=Ut(_c),yd=v({},Ge,{data:0}),Al=Ut(yd),$s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ec={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Ec[n])?!!i[n]:!1}function Qs(){return wl}var Tc=v({},Hs,{key:function(n){if(n.key){var i=$s[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Tr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?vc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(n){return n.type==="keypress"?Tr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Tr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Fa=Ut(Tc),Sc=v({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bl=Ut(Sc),Wr=v({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),Ac=Ut(Wr),wc=v({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),bc=Ut(wc),Rc=v({},Fs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ga=Ut(Rc),yn=v({},Ge,{newState:0,oldState:0}),Ic=Ut(yn),Cc=[9,13,27,32],wr=rr&&"CompositionEvent"in window,c=null;rr&&"documentMode"in document&&(c=document.documentMode);var y=rr&&"TextEvent"in window&&!c,_=rr&&(!wr||c&&8<c&&11>=c),b=" ",U=!1;function Q(n,i){switch(n){case"keyup":return Cc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ue=!1;function Ot(n,i){switch(n){case"compositionend":return oe(i);case"keypress":return i.which!==32?null:(U=!0,b);case"textInput":return n=i.data,n===b&&U?null:n;default:return null}}function je(n,i){if(Ue)return n==="compositionend"||!wr&&Q(n,i)?(n=El(),Xr=Mi=Er=null,Ue=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!jt[n.type]:i==="textarea"}function Zr(n,i,a,l){Yr?Kr?Kr.push(l):Kr=[l]:Yr=l,i=ph(i,"onChange"),0<i.length&&(a=new Ua("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var Qt=null,br=null;function Rl(n){s0(n,0)}function xc(n){var i=yr(n);if(gl(i))return n}function Ry(n,i){if(n==="change")return i}var Iy=!1;if(rr){var _d;if(rr){var vd="oninput"in document;if(!vd){var Cy=document.createElement("div");Cy.setAttribute("oninput","return;"),vd=typeof Cy.oninput=="function"}_d=vd}else _d=!1;Iy=_d&&(!document.documentMode||9<document.documentMode)}function xy(){Qt&&(Qt.detachEvent("onpropertychange",Dy),br=Qt=null)}function Dy(n){if(n.propertyName==="value"&&xc(br)){var i=[];Zr(i,br,n,qn(n)),mc(Rl,i)}}function nw(n,i,a){n==="focusin"?(xy(),Qt=i,br=a,Qt.attachEvent("onpropertychange",Dy)):n==="focusout"&&xy()}function rw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return xc(br)}function iw(n,i){if(n==="click")return xc(i)}function sw(n,i){if(n==="input"||n==="change")return xc(i)}function aw(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Cn=typeof Object.is=="function"?Object.is:aw;function Il(n,i){if(Cn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!sn.call(i,h)||!Cn(n[h],i[h]))return!1}return!0}function Ny(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Oy(n,i){var a=Ny(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ny(a)}}function My(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?My(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Vy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ls(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Ls(n.document)}return i}function Ed(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var ow=rr&&"documentMode"in document&&11>=document.documentMode,$a=null,Td=null,Cl=null,Sd=!1;function Py(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sd||$a==null||$a!==Ls(l)||(l=$a,"selectionStart"in l&&Ed(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Cl&&Il(Cl,l)||(Cl=l,l=ph(Td,"onSelect"),0<l.length&&(i=new Ua("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=$a)))}function Ys(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Qa={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionrun:Ys("Transition","TransitionRun"),transitionstart:Ys("Transition","TransitionStart"),transitioncancel:Ys("Transition","TransitionCancel"),transitionend:Ys("Transition","TransitionEnd")},Ad={},ky={};rr&&(ky=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function Ks(n){if(Ad[n])return Ad[n];if(!Qa[n])return n;var i=Qa[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in ky)return Ad[n]=i[a];return n}var Ly=Ks("animationend"),Uy=Ks("animationiteration"),jy=Ks("animationstart"),lw=Ks("transitionrun"),uw=Ks("transitionstart"),cw=Ks("transitioncancel"),zy=Ks("transitionend"),By=new Map,wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wd.push("scrollEnd");function ir(n,i){By.set(n,i),nr(i,[n])}var qy=new WeakMap;function Gn(n,i){if(typeof n=="object"&&n!==null){var a=qy.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Pa(i)},qy.set(n,i),i)}return{value:n,source:i,stack:Pa(i)}}var $n=[],Ya=0,bd=0;function Dc(){for(var n=Ya,i=bd=Ya=0;i<n;){var a=$n[i];$n[i++]=null;var l=$n[i];$n[i++]=null;var h=$n[i];$n[i++]=null;var d=$n[i];if($n[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&Hy(a,h,d)}}function Nc(n,i,a,l){$n[Ya++]=n,$n[Ya++]=i,$n[Ya++]=a,$n[Ya++]=l,bd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Rd(n,i,a,l){return Nc(n,i,a,l),Oc(n)}function Ka(n,i){return Nc(n,null,null,i),Oc(n)}function Hy(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(h=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,h&&i!==null&&(h=31-an(a),n=d.hiddenUpdates,l=n[h],l===null?n[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Oc(n){if(50<Jl)throw Jl=0,Op=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Xa={};function hw(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(n,i,a,l){return new hw(n,i,a,l)}function Id(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Jr(n,i){var a=n.alternate;return a===null?(a=xn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Fy(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Mc(n,i,a,l,h,d){var E=0;if(l=n,typeof n=="function")Id(n)&&(E=1);else if(typeof n=="string")E=db(n,a,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=xn(31,a,i,h),n.elementType=I,n.lanes=d,n;case j:return Xs(a.children,h,d,i);case $:E=8,h|=24;break;case H:return n=xn(12,a,i,h|2),n.elementType=H,n.lanes=d,n;case ue:return n=xn(13,a,i,h),n.elementType=ue,n.lanes=d,n;case de:return n=xn(19,a,i,h),n.elementType=de,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case J:case re:E=10;break e;case Z:E=9;break e;case he:E=11;break e;case x:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=xn(E,a,i,h),i.elementType=n,i.type=l,i.lanes=d,i}function Xs(n,i,a,l){return n=xn(7,n,l,i),n.lanes=a,n}function Cd(n,i,a){return n=xn(6,n,null,i),n.lanes=a,n}function xd(n,i,a){return i=xn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Wa=[],Za=0,Vc=null,Pc=0,Qn=[],Yn=0,Ws=null,ei=1,ti="";function Zs(n,i){Wa[Za++]=Pc,Wa[Za++]=Vc,Vc=n,Pc=i}function Gy(n,i,a){Qn[Yn++]=ei,Qn[Yn++]=ti,Qn[Yn++]=Ws,Ws=n;var l=ei;n=ti;var h=32-an(l)-1;l&=~(1<<h),a+=1;var d=32-an(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,ei=1<<32-an(i)+h|a<<h|l,ti=d+n}else ei=1<<d|a<<h|l,ti=n}function Dd(n){n.return!==null&&(Zs(n,1),Gy(n,1,0))}function Nd(n){for(;n===Vc;)Vc=Wa[--Za],Wa[Za]=null,Pc=Wa[--Za],Wa[Za]=null;for(;n===Ws;)Ws=Qn[--Yn],Qn[Yn]=null,ti=Qn[--Yn],Qn[Yn]=null,ei=Qn[--Yn],Qn[Yn]=null}var _n=null,pt=null,Fe=!1,Js=null,Rr=!1,Od=Error(s(519));function ea(n){var i=Error(s(418,""));throw Nl(Gn(i,n)),Od}function $y(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[Nt]=n,i[Tt]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<tu.length;a++)Ve(tu[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Us(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ka(i);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),js(i,l.value,l.defaultValue,l.children),ka(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||u0(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=mh),i=!0):i=!1,i||ea(n)}function Qy(n){for(_n=n.return;_n;)switch(_n.tag){case 5:case 13:Rr=!1;return;case 27:case 3:Rr=!0;return;default:_n=_n.return}}function xl(n){if(n!==_n)return!1;if(!Fe)return Qy(n),Fe=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Yp(n.type,n.memoizedProps)),a=!a),a&&pt&&ea(n),Qy(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){pt=ar(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}pt=null}}else i===27?(i=pt,Ki(n.type)?(n=Zp,Zp=null,pt=n):pt=i):pt=_n?ar(n.stateNode.nextSibling):null;return!0}function Dl(){pt=_n=null,Fe=!1}function Yy(){var n=Js;return n!==null&&(An===null?An=n:An.push.apply(An,n),Js=null),n}function Nl(n){Js===null?Js=[n]:Js.push(n)}var Md=ne(null),ta=null,ni=null;function Vi(n,i,a){ie(Md,i._currentValue),i._currentValue=a}function ri(n){n._currentValue=Md.current,ae(Md)}function Vd(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function Pd(n,i,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var C=0;C<i.length;C++)if(S.context===i[C]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Vd(d.return,a,n),l||(E=null);break e}d=S.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Vd(E,a,n),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===n){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Ol(n,i,a,l){n=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=h.type;Cn(h.pendingProps.value,E.value)||(n!==null?n.push(S):n=[S])}}else if(h===ct.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(ou):n=[ou])}h=h.return}n!==null&&Pd(i,n,a,l),i.flags|=262144}function kc(n){for(n=n.firstContext;n!==null;){if(!Cn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function na(n){ta=n,ni=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function on(n){return Ky(ta,n)}function Lc(n,i){return ta===null&&na(n),Ky(n,i)}function Ky(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ni===null){if(n===null)throw Error(s(308));ni=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else ni=ni.next=i;return a}var fw=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},dw=r.unstable_scheduleCallback,pw=r.unstable_NormalPriority,Vt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kd(){return{controller:new fw,data:new Map,refCount:0}}function Ml(n){n.refCount--,n.refCount===0&&dw(pw,function(){n.controller.abort()})}var Vl=null,Ld=0,Ja=0,eo=null;function mw(n,i){if(Vl===null){var a=Vl=[];Ld=0,Ja=jp(),eo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ld++,i.then(Xy,Xy),i}function Xy(){if(--Ld===0&&Vl!==null){eo!==null&&(eo.status="fulfilled");var n=Vl;Vl=null,Ja=0,eo=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function gw(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Wy=Y.S;Y.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&mw(n,i),Wy!==null&&Wy(n,i)};var ra=ne(null);function Ud(){var n=ra.current;return n!==null?n:rt.pooledCache}function Uc(n,i){i===null?ie(ra,ra.current):ie(ra,i.pool)}function Zy(){var n=Ud();return n===null?null:{parent:Vt._currentValue,pool:n}}var Pl=Error(s(460)),Jy=Error(s(474)),jc=Error(s(542)),jd={then:function(){}};function e_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function zc(){}function t_(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(zc,zc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,r_(n),n;default:if(typeof i.status=="string")i.then(zc,zc);else{if(n=rt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,r_(n),n}throw kl=i,Pl}}var kl=null;function n_(){if(kl===null)throw Error(s(459));var n=kl;return kl=null,n}function r_(n){if(n===Pl||n===jc)throw Error(s(483))}var Pi=!1;function zd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ki(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Li(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Oc(n),Hy(n,null,a),i}return Nc(n,l,i,a),Oc(n)}function Ll(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,hl(n,a)}}function qd(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Hd=!1;function Ul(){if(Hd){var n=eo;if(n!==null)throw n}}function jl(n,i,a,l){Hd=!1;var h=n.updateQueue;Pi=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var C=S,B=C.next;C.next=null,E===null?d=B:E.next=B,E=C;var K=n.alternate;K!==null&&(K=K.updateQueue,S=K.lastBaseUpdate,S!==E&&(S===null?K.firstBaseUpdate=B:S.next=B,K.lastBaseUpdate=C))}if(d!==null){var ee=h.baseState;E=0,K=B=C=null,S=d;do{var q=S.lane&-536870913,F=q!==S.lane;if(F?(ze&q)===q:(l&q)===q){q!==0&&q===Ja&&(Hd=!0),K!==null&&(K=K.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var we=n,Ee=S;q=i;var et=a;switch(Ee.tag){case 1:if(we=Ee.payload,typeof we=="function"){ee=we.call(et,ee,q);break e}ee=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ee.payload,q=typeof we=="function"?we.call(et,ee,q):we,q==null)break e;ee=v({},ee,q);break e;case 2:Pi=!0}}q=S.callback,q!==null&&(n.flags|=64,F&&(n.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},K===null?(B=K=F,C=ee):K=K.next=F,E|=q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;F=S,S=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);K===null&&(C=ee),h.baseState=C,h.firstBaseUpdate=B,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),Gi|=E,n.lanes=E,n.memoizedState=ee}}function i_(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function s_(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)i_(a[n],i)}var to=ne(null),Bc=ne(0);function a_(n,i){n=ci,ie(Bc,n),ie(to,i),ci=n|i.baseLanes}function Fd(){ie(Bc,ci),ie(to,to.current)}function Gd(){ci=Bc.current,ae(to),ae(Bc)}var Ui=0,Ne=null,Ze=null,At=null,qc=!1,no=!1,ia=!1,Hc=0,zl=0,ro=null,yw=0;function _t(){throw Error(s(321))}function $d(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Cn(n[a],i[a]))return!1;return!0}function Qd(n,i,a,l,h,d){return Ui=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=n===null||n.memoizedState===null?H_:F_,ia=!1,d=a(l,h),ia=!1,no&&(d=l_(i,a,l,h)),o_(n),d}function o_(n){Y.H=Kc;var i=Ze!==null&&Ze.next!==null;if(Ui=0,At=Ze=Ne=null,qc=!1,zl=0,ro=null,i)throw Error(s(300));n===null||zt||(n=n.dependencies,n!==null&&kc(n)&&(zt=!0))}function l_(n,i,a,l){Ne=n;var h=0;do{if(no&&(ro=null),zl=0,no=!1,25<=h)throw Error(s(301));if(h+=1,At=Ze=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=ww,d=i(a,l)}while(no);return d}function _w(){var n=Y.H,i=n.useState()[0];return i=typeof i.then=="function"?Bl(i):i,n=n.useState()[0],(Ze!==null?Ze.memoizedState:null)!==n&&(Ne.flags|=1024),i}function Yd(){var n=Hc!==0;return Hc=0,n}function Kd(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Xd(n){if(qc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}qc=!1}Ui=0,At=Ze=Ne=null,no=!1,zl=Hc=0,ro=null}function Tn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ne.memoizedState=At=n:At=At.next=n,At}function wt(){if(Ze===null){var n=Ne.alternate;n=n!==null?n.memoizedState:null}else n=Ze.next;var i=At===null?Ne.memoizedState:At.next;if(i!==null)At=i,Ze=n;else{if(n===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Ze=n,n={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},At===null?Ne.memoizedState=At=n:At=At.next=n}return At}function Wd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(n){var i=zl;return zl+=1,ro===null&&(ro=[]),n=t_(ro,n,i),i=Ne,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?H_:F_),n}function Fc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Bl(n);if(n.$$typeof===re)return on(n)}throw Error(s(438,String(n)))}function Zd(n){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Wd(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=V;return i.index++,a}function ii(n,i){return typeof i=="function"?i(n):i}function Gc(n){var i=wt();return Jd(i,Ze,n)}function Jd(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=n.baseState,h===null)n.memoizedState=d;else{i=h.next;var S=E=null,C=null,B=i,K=!1;do{var ee=B.lane&-536870913;if(ee!==B.lane?(ze&ee)===ee:(Ui&ee)===ee){var q=B.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ee===Ja&&(K=!0);else if((Ui&q)===q){B=B.next,q===Ja&&(K=!0);continue}else ee={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(S=C=ee,E=d):C=C.next=ee,Ne.lanes|=q,Gi|=q;ee=B.action,ia&&a(d,ee),d=B.hasEagerState?B.eagerState:a(d,ee)}else q={lane:ee,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(S=C=q,E=d):C=C.next=q,Ne.lanes|=ee,Gi|=ee;B=B.next}while(B!==null&&B!==i);if(C===null?E=d:C.next=S,!Cn(d,n.memoizedState)&&(zt=!0,K&&(a=eo,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function ep(n){var i=wt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=n(d,E.action),E=E.next;while(E!==h);Cn(d,i.memoizedState)||(zt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function u_(n,i,a){var l=Ne,h=wt(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!Cn((Ze||h).memoizedState,a);E&&(h.memoizedState=a,zt=!0),h=h.queue;var S=f_.bind(null,l,h,n);if(ql(2048,8,S,[n]),h.getSnapshot!==i||E||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,io(9,$c(),h_.bind(null,l,h,a,i),null),rt===null)throw Error(s(349));d||(Ui&124)!==0||c_(l,i,a)}return a}function c_(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=Wd(),Ne.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function h_(n,i,a,l){i.value=a,i.getSnapshot=l,d_(i)&&p_(n)}function f_(n,i,a){return a(function(){d_(i)&&p_(n)})}function d_(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Cn(n,a)}catch{return!0}}function p_(n){var i=Ka(n,2);i!==null&&Vn(i,n,2)}function tp(n){var i=Tn();if(typeof n=="function"){var a=n;if(n=a(),ia){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:n},i}function m_(n,i,a,l){return n.baseState=a,Jd(n,Ze,typeof l=="function"?l:ii)}function vw(n,i,a,l,h){if(Yc(n))throw Error(s(485));if(n=i.action,n!==null){var d={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,g_(i,d)):(d.next=a.next,i.pending=a.next=d)}}function g_(n,i){var a=i.action,l=i.payload,h=n.state;if(i.isTransition){var d=Y.T,E={};Y.T=E;try{var S=a(h,l),C=Y.S;C!==null&&C(E,S),y_(n,i,S)}catch(B){np(n,i,B)}finally{Y.T=d}}else try{d=a(h,l),y_(n,i,d)}catch(B){np(n,i,B)}}function y_(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){__(n,i,l)},function(l){return np(n,i,l)}):__(n,i,a)}function __(n,i,a){i.status="fulfilled",i.value=a,v_(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,g_(n,a)))}function np(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,v_(i),i=i.next;while(i!==l)}n.action=null}function v_(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function E_(n,i){return i}function T_(n,i){if(Fe){var a=rt.formState;if(a!==null){e:{var l=Ne;if(Fe){if(pt){t:{for(var h=pt,d=Rr;h.nodeType!==8;){if(!d){h=null;break t}if(h=ar(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){pt=ar(h.nextSibling),l=h.data==="F!";break e}}ea(l)}l=!1}l&&(i=a[0])}}return a=Tn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:E_,lastRenderedState:i},a.queue=l,a=z_.bind(null,Ne,l),l.dispatch=a,l=tp(!1),d=op.bind(null,Ne,!1,l.queue),l=Tn(),h={state:i,dispatch:null,action:n,pending:null},l.queue=h,a=vw.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=n,[i,a,!1]}function S_(n){var i=wt();return A_(i,Ze,n)}function A_(n,i,a){if(i=Jd(n,i,E_)[0],n=Gc(ii)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Bl(i)}catch(E){throw E===Pl?jc:E}else l=i;i=wt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,io(9,$c(),Ew.bind(null,h,a),null)),[l,d,n]}function Ew(n,i){n.action=i}function w_(n){var i=wt(),a=Ze;if(a!==null)return A_(i,a,n);wt(),i=i.memoizedState,a=wt();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function io(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=Wd(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function $c(){return{destroy:void 0,resource:void 0}}function b_(){return wt().memoizedState}function Qc(n,i,a,l){var h=Tn();l=l===void 0?null:l,Ne.flags|=n,h.memoizedState=io(1|i,$c(),a,l)}function ql(n,i,a,l){var h=wt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&$d(l,Ze.memoizedState.deps)?h.memoizedState=io(i,d,a,l):(Ne.flags|=n,h.memoizedState=io(1|i,d,a,l))}function R_(n,i){Qc(8390656,8,n,i)}function I_(n,i){ql(2048,8,n,i)}function C_(n,i){return ql(4,2,n,i)}function x_(n,i){return ql(4,4,n,i)}function D_(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function N_(n,i,a){a=a!=null?a.concat([n]):null,ql(4,4,D_.bind(null,i,n),a)}function rp(){}function O_(n,i){var a=wt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&$d(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function M_(n,i){var a=wt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&$d(i,l[1]))return l[0];if(l=n(),ia){Rn(!0);try{n()}finally{Rn(!1)}}return a.memoizedState=[l,i],l}function ip(n,i,a){return a===void 0||(Ui&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=kv(),Ne.lanes|=n,Gi|=n,a)}function V_(n,i,a,l){return Cn(a,i)?a:to.current!==null?(n=ip(n,a,l),Cn(n,i)||(zt=!0),n):(Ui&42)===0?(zt=!0,n.memoizedState=a):(n=kv(),Ne.lanes|=n,Gi|=n,i)}function P_(n,i,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var E=Y.T,S={};Y.T=S,op(n,!1,i,a);try{var C=h(),B=Y.S;if(B!==null&&B(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=gw(C,l);Hl(n,i,K,Mn(n))}else Hl(n,i,l,Mn(n))}catch(ee){Hl(n,i,{then:function(){},status:"rejected",reason:ee},Mn())}finally{le.p=d,Y.T=E}}function Tw(){}function sp(n,i,a,l){if(n.tag!==5)throw Error(s(476));var h=k_(n).queue;P_(n,h,i,me,a===null?Tw:function(){return L_(n),a(l)})}function k_(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function L_(n){var i=k_(n).next.queue;Hl(n,i,{},Mn())}function ap(){return on(ou)}function U_(){return wt().memoizedState}function j_(){return wt().memoizedState}function Sw(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Mn();n=ki(a);var l=Li(i,n,a);l!==null&&(Vn(l,i,a),Ll(l,i,a)),i={cache:kd()},n.payload=i;return}i=i.return}}function Aw(n,i,a){var l=Mn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Yc(n)?B_(i,a):(a=Rd(n,i,a,l),a!==null&&(Vn(a,n,l),q_(a,i,l)))}function z_(n,i,a){var l=Mn();Hl(n,i,a,l)}function Hl(n,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yc(n))B_(i,h);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,S=d(E,a);if(h.hasEagerState=!0,h.eagerState=S,Cn(S,E))return Nc(n,i,h,0),rt===null&&Dc(),!1}catch{}finally{}if(a=Rd(n,i,h,l),a!==null)return Vn(a,n,l),q_(a,i,l),!0}return!1}function op(n,i,a,l){if(l={lane:2,revertLane:jp(),action:l,hasEagerState:!1,eagerState:null,next:null},Yc(n)){if(i)throw Error(s(479))}else i=Rd(n,a,l,2),i!==null&&Vn(i,n,2)}function Yc(n){var i=n.alternate;return n===Ne||i!==null&&i===Ne}function B_(n,i){no=qc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function q_(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,hl(n,a)}}var Kc={readContext:on,use:Fc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t},H_={readContext:on,use:Fc,useCallback:function(n,i){return Tn().memoizedState=[n,i===void 0?null:i],n},useContext:on,useEffect:R_,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Qc(4194308,4,D_.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Qc(4194308,4,n,i)},useInsertionEffect:function(n,i){Qc(4,2,n,i)},useMemo:function(n,i){var a=Tn();i=i===void 0?null:i;var l=n();if(ia){Rn(!0);try{n()}finally{Rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=Tn();if(a!==void 0){var h=a(i);if(ia){Rn(!0);try{a(i)}finally{Rn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=Aw.bind(null,Ne,n),[l.memoizedState,n]},useRef:function(n){var i=Tn();return n={current:n},i.memoizedState=n},useState:function(n){n=tp(n);var i=n.queue,a=z_.bind(null,Ne,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:rp,useDeferredValue:function(n,i){var a=Tn();return ip(a,n,i)},useTransition:function(){var n=tp(!1);return n=P_.bind(null,Ne,n.queue,!0,!1),Tn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Ne,h=Tn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),rt===null)throw Error(s(349));(ze&124)!==0||c_(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,R_(f_.bind(null,l,d,n),[n]),l.flags|=2048,io(9,$c(),h_.bind(null,l,d,a,i),null),a},useId:function(){var n=Tn(),i=rt.identifierPrefix;if(Fe){var a=ti,l=ei;a=(l&~(1<<32-an(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Hc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=yw++,i="«"+i+"r"+a.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:ap,useFormState:T_,useActionState:T_,useOptimistic:function(n){var i=Tn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=op.bind(null,Ne,!0,a),a.dispatch=i,[n,i]},useMemoCache:Zd,useCacheRefresh:function(){return Tn().memoizedState=Sw.bind(null,Ne)}},F_={readContext:on,use:Fc,useCallback:O_,useContext:on,useEffect:I_,useImperativeHandle:N_,useInsertionEffect:C_,useLayoutEffect:x_,useMemo:M_,useReducer:Gc,useRef:b_,useState:function(){return Gc(ii)},useDebugValue:rp,useDeferredValue:function(n,i){var a=wt();return V_(a,Ze.memoizedState,n,i)},useTransition:function(){var n=Gc(ii)[0],i=wt().memoizedState;return[typeof n=="boolean"?n:Bl(n),i]},useSyncExternalStore:u_,useId:U_,useHostTransitionStatus:ap,useFormState:S_,useActionState:S_,useOptimistic:function(n,i){var a=wt();return m_(a,Ze,n,i)},useMemoCache:Zd,useCacheRefresh:j_},ww={readContext:on,use:Fc,useCallback:O_,useContext:on,useEffect:I_,useImperativeHandle:N_,useInsertionEffect:C_,useLayoutEffect:x_,useMemo:M_,useReducer:ep,useRef:b_,useState:function(){return ep(ii)},useDebugValue:rp,useDeferredValue:function(n,i){var a=wt();return Ze===null?ip(a,n,i):V_(a,Ze.memoizedState,n,i)},useTransition:function(){var n=ep(ii)[0],i=wt().memoizedState;return[typeof n=="boolean"?n:Bl(n),i]},useSyncExternalStore:u_,useId:U_,useHostTransitionStatus:ap,useFormState:w_,useActionState:w_,useOptimistic:function(n,i){var a=wt();return Ze!==null?m_(a,Ze,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Zd,useCacheRefresh:j_},so=null,Fl=0;function Xc(n){var i=Fl;return Fl+=1,so===null&&(so=[]),t_(so,n,i)}function Gl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Wc(n,i){throw i.$$typeof===T?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function G_(n){var i=n._init;return i(n._payload)}function $_(n){function i(k,M){if(n){var z=k.deletions;z===null?(k.deletions=[M],k.flags|=16):z.push(M)}}function a(k,M){if(!n)return null;for(;M!==null;)i(k,M),M=M.sibling;return null}function l(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=Jr(k,M),k.index=0,k.sibling=null,k}function d(k,M,z){return k.index=z,n?(z=k.alternate,z!==null?(z=z.index,z<M?(k.flags|=67108866,M):z):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function E(k){return n&&k.alternate===null&&(k.flags|=67108866),k}function S(k,M,z,X){return M===null||M.tag!==6?(M=Cd(z,k.mode,X),M.return=k,M):(M=h(M,z),M.return=k,M)}function C(k,M,z,X){var pe=z.type;return pe===j?K(k,M,z.props.children,X,z.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&G_(pe)===M.type)?(M=h(M,z.props),Gl(M,z),M.return=k,M):(M=Mc(z.type,z.key,z.props,null,k.mode,X),Gl(M,z),M.return=k,M)}function B(k,M,z,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=xd(z,k.mode,X),M.return=k,M):(M=h(M,z.children||[]),M.return=k,M)}function K(k,M,z,X,pe){return M===null||M.tag!==7?(M=Xs(z,k.mode,X,pe),M.return=k,M):(M=h(M,z),M.return=k,M)}function ee(k,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Cd(""+M,k.mode,z),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case w:return z=Mc(M.type,M.key,M.props,null,k.mode,z),Gl(z,M),z.return=k,z;case O:return M=xd(M,k.mode,z),M.return=k,M;case R:var X=M._init;return M=X(M._payload),ee(k,M,z)}if(at(M)||L(M))return M=Xs(M,k.mode,z,null),M.return=k,M;if(typeof M.then=="function")return ee(k,Xc(M),z);if(M.$$typeof===re)return ee(k,Lc(k,M),z);Wc(k,M)}return null}function q(k,M,z,X){var pe=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pe!==null?null:S(k,M,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return z.key===pe?C(k,M,z,X):null;case O:return z.key===pe?B(k,M,z,X):null;case R:return pe=z._init,z=pe(z._payload),q(k,M,z,X)}if(at(z)||L(z))return pe!==null?null:K(k,M,z,X,null);if(typeof z.then=="function")return q(k,M,Xc(z),X);if(z.$$typeof===re)return q(k,M,Lc(k,z),X);Wc(k,z)}return null}function F(k,M,z,X,pe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(z)||null,S(M,k,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case w:return k=k.get(X.key===null?z:X.key)||null,C(M,k,X,pe);case O:return k=k.get(X.key===null?z:X.key)||null,B(M,k,X,pe);case R:var Oe=X._init;return X=Oe(X._payload),F(k,M,z,X,pe)}if(at(X)||L(X))return k=k.get(z)||null,K(M,k,X,pe,null);if(typeof X.then=="function")return F(k,M,z,Xc(X),pe);if(X.$$typeof===re)return F(k,M,z,Lc(M,X),pe);Wc(M,X)}return null}function we(k,M,z,X){for(var pe=null,Oe=null,ye=M,Te=M=0,qt=null;ye!==null&&Te<z.length;Te++){ye.index>Te?(qt=ye,ye=null):qt=ye.sibling;var He=q(k,ye,z[Te],X);if(He===null){ye===null&&(ye=qt);break}n&&ye&&He.alternate===null&&i(k,ye),M=d(He,M,Te),Oe===null?pe=He:Oe.sibling=He,Oe=He,ye=qt}if(Te===z.length)return a(k,ye),Fe&&Zs(k,Te),pe;if(ye===null){for(;Te<z.length;Te++)ye=ee(k,z[Te],X),ye!==null&&(M=d(ye,M,Te),Oe===null?pe=ye:Oe.sibling=ye,Oe=ye);return Fe&&Zs(k,Te),pe}for(ye=l(ye);Te<z.length;Te++)qt=F(ye,k,Te,z[Te],X),qt!==null&&(n&&qt.alternate!==null&&ye.delete(qt.key===null?Te:qt.key),M=d(qt,M,Te),Oe===null?pe=qt:Oe.sibling=qt,Oe=qt);return n&&ye.forEach(function(es){return i(k,es)}),Fe&&Zs(k,Te),pe}function Ee(k,M,z,X){if(z==null)throw Error(s(151));for(var pe=null,Oe=null,ye=M,Te=M=0,qt=null,He=z.next();ye!==null&&!He.done;Te++,He=z.next()){ye.index>Te?(qt=ye,ye=null):qt=ye.sibling;var es=q(k,ye,He.value,X);if(es===null){ye===null&&(ye=qt);break}n&&ye&&es.alternate===null&&i(k,ye),M=d(es,M,Te),Oe===null?pe=es:Oe.sibling=es,Oe=es,ye=qt}if(He.done)return a(k,ye),Fe&&Zs(k,Te),pe;if(ye===null){for(;!He.done;Te++,He=z.next())He=ee(k,He.value,X),He!==null&&(M=d(He,M,Te),Oe===null?pe=He:Oe.sibling=He,Oe=He);return Fe&&Zs(k,Te),pe}for(ye=l(ye);!He.done;Te++,He=z.next())He=F(ye,k,Te,He.value,X),He!==null&&(n&&He.alternate!==null&&ye.delete(He.key===null?Te:He.key),M=d(He,M,Te),Oe===null?pe=He:Oe.sibling=He,Oe=He);return n&&ye.forEach(function(bb){return i(k,bb)}),Fe&&Zs(k,Te),pe}function et(k,M,z,X){if(typeof z=="object"&&z!==null&&z.type===j&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case w:e:{for(var pe=z.key;M!==null;){if(M.key===pe){if(pe=z.type,pe===j){if(M.tag===7){a(k,M.sibling),X=h(M,z.props.children),X.return=k,k=X;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&G_(pe)===M.type){a(k,M.sibling),X=h(M,z.props),Gl(X,z),X.return=k,k=X;break e}a(k,M);break}else i(k,M);M=M.sibling}z.type===j?(X=Xs(z.props.children,k.mode,X,z.key),X.return=k,k=X):(X=Mc(z.type,z.key,z.props,null,k.mode,X),Gl(X,z),X.return=k,k=X)}return E(k);case O:e:{for(pe=z.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(k,M.sibling),X=h(M,z.children||[]),X.return=k,k=X;break e}else{a(k,M);break}else i(k,M);M=M.sibling}X=xd(z,k.mode,X),X.return=k,k=X}return E(k);case R:return pe=z._init,z=pe(z._payload),et(k,M,z,X)}if(at(z))return we(k,M,z,X);if(L(z)){if(pe=L(z),typeof pe!="function")throw Error(s(150));return z=pe.call(z),Ee(k,M,z,X)}if(typeof z.then=="function")return et(k,M,Xc(z),X);if(z.$$typeof===re)return et(k,M,Lc(k,z),X);Wc(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(k,M.sibling),X=h(M,z),X.return=k,k=X):(a(k,M),X=Cd(z,k.mode,X),X.return=k,k=X),E(k)):a(k,M)}return function(k,M,z,X){try{Fl=0;var pe=et(k,M,z,X);return so=null,pe}catch(ye){if(ye===Pl||ye===jc)throw ye;var Oe=xn(29,ye,null,k.mode);return Oe.lanes=X,Oe.return=k,Oe}finally{}}}var ao=$_(!0),Q_=$_(!1),Kn=ne(null),Ir=null;function ji(n){var i=n.alternate;ie(Pt,Pt.current&1),ie(Kn,n),Ir===null&&(i===null||to.current!==null||i.memoizedState!==null)&&(Ir=n)}function Y_(n){if(n.tag===22){if(ie(Pt,Pt.current),ie(Kn,n),Ir===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Ir=n)}}else zi()}function zi(){ie(Pt,Pt.current),ie(Kn,Kn.current)}function si(n){ae(Kn),Ir===n&&(Ir=null),ae(Pt)}var Pt=ne(0);function Zc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Wp(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function lp(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:v({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var up={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=Mn(),h=ki(l);h.payload=i,a!=null&&(h.callback=a),i=Li(n,h,l),i!==null&&(Vn(i,n,l),Ll(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=Mn(),h=ki(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Li(n,h,l),i!==null&&(Vn(i,n,l),Ll(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Mn(),l=ki(a);l.tag=2,i!=null&&(l.callback=i),i=Li(n,l,a),i!==null&&(Vn(i,n,a),Ll(i,n,a))}};function K_(n,i,a,l,h,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!Il(a,l)||!Il(h,d):!0}function X_(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&up.enqueueReplaceState(i,i.state,null)}function sa(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=v({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var Jc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function W_(n){Jc(n)}function Z_(n){console.error(n)}function J_(n){Jc(n)}function eh(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ev(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function cp(n,i,a){return a=ki(a),a.tag=3,a.payload={element:null},a.callback=function(){eh(n,i)},a}function tv(n){return n=ki(n),n.tag=3,n}function nv(n,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;n.payload=function(){return h(d)},n.callback=function(){ev(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){ev(i,a,l),typeof h!="function"&&($i===null?$i=new Set([this]):$i.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function bw(n,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ol(i,a,h,!0),a=Kn.current,a!==null){switch(a.tag){case 13:return Ir===null?Vp():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===jd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),kp(n,l,h)),!1;case 22:return a.flags|=65536,l===jd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),kp(n,l,h)),!1}throw Error(s(435,a.tag))}return kp(n,l,h),Vp(),!1}if(Fe)return i=Kn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Od&&(n=Error(s(422),{cause:l}),Nl(Gn(n,a)))):(l!==Od&&(i=Error(s(423),{cause:l}),Nl(Gn(i,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=Gn(l,a),h=cp(n.stateNode,l,h),qd(n,h),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=Gn(d,a),Zl===null?Zl=[d]:Zl.push(d),mt!==4&&(mt=2),i===null)return!0;l=Gn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=cp(a.stateNode,l,n),qd(a,n),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&($i===null||!$i.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=tv(h),nv(h,n,a,l),qd(a,h),!1}a=a.return}while(a!==null);return!1}var rv=Error(s(461)),zt=!1;function Yt(n,i,a,l){i.child=n===null?Q_(i,null,a,l):ao(i,n.child,a,l)}function iv(n,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return na(i),l=Qd(n,i,a,E,d,h),S=Yd(),n!==null&&!zt?(Kd(n,i,h),ai(n,i,h)):(Fe&&S&&Dd(i),i.flags|=1,Yt(n,i,l,h),i.child)}function sv(n,i,a,l,h){if(n===null){var d=a.type;return typeof d=="function"&&!Id(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,av(n,i,d,l,h)):(n=Mc(a.type,null,l,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!_p(n,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Il,a(E,l)&&n.ref===i.ref)return ai(n,i,h)}return i.flags|=1,n=Jr(d,l),n.ref=i.ref,n.return=i,i.child=n}function av(n,i,a,l,h){if(n!==null){var d=n.memoizedProps;if(Il(d,l)&&n.ref===i.ref)if(zt=!1,i.pendingProps=l=d,_p(n,h))(n.flags&131072)!==0&&(zt=!0);else return i.lanes=n.lanes,ai(n,i,h)}return hp(n,i,a,l,h)}function ov(n,i,a){var l=i.pendingProps,h=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(h=i.child=n.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return lv(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Uc(i,d!==null?d.cachePool:null),d!==null?a_(i,d):Fd(),Y_(i);else return i.lanes=i.childLanes=536870912,lv(n,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Uc(i,d.cachePool),a_(i,d),zi(),i.memoizedState=null):(n!==null&&Uc(i,null),Fd(),zi());return Yt(n,i,h,a),i.child}function lv(n,i,a,l){var h=Ud();return h=h===null?null:{parent:Vt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},n!==null&&Uc(i,null),Fd(),Y_(i),n!==null&&Ol(n,i,l,!0),null}function th(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function hp(n,i,a,l,h){return na(i),a=Qd(n,i,a,l,void 0,h),l=Yd(),n!==null&&!zt?(Kd(n,i,h),ai(n,i,h)):(Fe&&l&&Dd(i),i.flags|=1,Yt(n,i,a,h),i.child)}function uv(n,i,a,l,h,d){return na(i),i.updateQueue=null,a=l_(i,l,a,h),o_(n),l=Yd(),n!==null&&!zt?(Kd(n,i,d),ai(n,i,d)):(Fe&&l&&Dd(i),i.flags|=1,Yt(n,i,a,d),i.child)}function cv(n,i,a,l,h){if(na(i),i.stateNode===null){var d=Xa,E=a.contextType;typeof E=="object"&&E!==null&&(d=on(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=up,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},zd(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?on(E):Xa,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(lp(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&up.enqueueReplaceState(d,d.state,null),jl(i,l,d,h),Ul(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){d=i.stateNode;var S=i.memoizedProps,C=sa(a,S);d.props=C;var B=d.context,K=a.contextType;E=Xa,typeof K=="object"&&K!==null&&(E=on(K));var ee=a.getDerivedStateFromProps;K=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==E)&&X_(i,d,l,E),Pi=!1;var q=i.memoizedState;d.state=q,jl(i,l,d,h),Ul(),B=i.memoizedState,S||q!==B||Pi?(typeof ee=="function"&&(lp(i,a,ee,l),B=i.memoizedState),(C=Pi||K_(i,a,C,l,q,B,E))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Bd(n,i),E=i.memoizedProps,K=sa(a,E),d.props=K,ee=i.pendingProps,q=d.context,B=a.contextType,C=Xa,typeof B=="object"&&B!==null&&(C=on(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ee||q!==C)&&X_(i,d,l,C),Pi=!1,q=i.memoizedState,d.state=q,jl(i,l,d,h),Ul();var F=i.memoizedState;E!==ee||q!==F||Pi||n!==null&&n.dependencies!==null&&kc(n.dependencies)?(typeof S=="function"&&(lp(i,a,S,l),F=i.memoizedState),(K=Pi||K_(i,a,K,l,q,F,C)||n!==null&&n.dependencies!==null&&kc(n.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=C,l=K):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),l=!1)}return d=l,th(n,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&l?(i.child=ao(i,n.child,null,h),i.child=ao(i,null,a,h)):Yt(n,i,a,h),i.memoizedState=d.state,n=i.child):n=ai(n,i,h),n}function hv(n,i,a,l){return Dl(),i.flags|=256,Yt(n,i,a,l),i.child}var fp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dp(n){return{baseLanes:n,cachePool:Zy()}}function pp(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Xn),n}function fv(n,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(Pt.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(Fe){if(h?ji(i):zi(),Fe){var S=pt,C;if(C=S){e:{for(C=S,S=Rr;C.nodeType!==8;){if(!S){S=null;break e}if(C=ar(C.nextSibling),C===null){S=null;break e}}S=C}S!==null?(i.memoizedState={dehydrated:S,treeContext:Ws!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},C=xn(18,null,null,0),C.stateNode=S,C.return=i,i.child=C,_n=i,pt=null,C=!0):C=!1}C||ea(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Wp(S)?i.lanes=32:i.lanes=536870912,null;si(i)}return S=l.children,l=l.fallback,h?(zi(),h=i.mode,S=nh({mode:"hidden",children:S},h),l=Xs(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,h=i.child,h.memoizedState=dp(a),h.childLanes=pp(n,E,a),i.memoizedState=fp,l):(ji(i),mp(i,S))}if(C=n.memoizedState,C!==null&&(S=C.dehydrated,S!==null)){if(d)i.flags&256?(ji(i),i.flags&=-257,i=gp(n,i,a)):i.memoizedState!==null?(zi(),i.child=n.child,i.flags|=128,i=null):(zi(),h=l.fallback,S=i.mode,l=nh({mode:"visible",children:l.children},S),h=Xs(h,S,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ao(i,n.child,null,a),l=i.child,l.memoizedState=dp(a),l.childLanes=pp(n,E,a),i.memoizedState=fp,i=h);else if(ji(i),Wp(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var B=E.dgst;E=B,l=Error(s(419)),l.stack="",l.digest=E,Nl({value:l,source:null,stack:null}),i=gp(n,i,a)}else if(zt||Ol(n,i,a,!1),E=(a&n.childLanes)!==0,zt||E){if(E=rt,E!==null&&(l=a&-a,l=(l&42)!==0?1:Ii(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Ka(n,l),Vn(E,n,l),rv;S.data==="$?"||Vp(),i=gp(n,i,a)}else S.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=C.treeContext,pt=ar(S.nextSibling),_n=i,Fe=!0,Js=null,Rr=!1,n!==null&&(Qn[Yn++]=ei,Qn[Yn++]=ti,Qn[Yn++]=Ws,ei=n.id,ti=n.overflow,Ws=i),i=mp(i,l.children),i.flags|=4096);return i}return h?(zi(),h=l.fallback,S=i.mode,C=n.child,B=C.sibling,l=Jr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?h=Jr(B,h):(h=Xs(h,S,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,S=n.child.memoizedState,S===null?S=dp(a):(C=S.cachePool,C!==null?(B=Vt._currentValue,C=C.parent!==B?{parent:B,pool:B}:C):C=Zy(),S={baseLanes:S.baseLanes|a,cachePool:C}),h.memoizedState=S,h.childLanes=pp(n,E,a),i.memoizedState=fp,l):(ji(i),a=n.child,n=a.sibling,a=Jr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=a,i.memoizedState=null,a)}function mp(n,i){return i=nh({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function nh(n,i){return n=xn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function gp(n,i,a){return ao(i,n.child,null,a),n=mp(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function dv(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),Vd(n.return,i,a)}function yp(n,i,a,l,h){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function pv(n,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Yt(n,i,l.children,a),l=Pt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&dv(n,a,i);else if(n.tag===19)dv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(ie(Pt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)n=a.alternate,n!==null&&Zc(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),yp(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&Zc(n)===null){i.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}yp(i,!0,a,null,d);break;case"together":yp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ai(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Gi|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Ol(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Jr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Jr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function _p(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&kc(n)))}function Rw(n,i,a){switch(i.tag){case 3:qe(i,i.stateNode.containerInfo),Vi(i,Vt,n.memoizedState.cache),Dl();break;case 27:case 5:Un(i);break;case 4:qe(i,i.stateNode.containerInfo);break;case 10:Vi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ji(i),i.flags|=128,null):(a&i.child.childLanes)!==0?fv(n,i,a):(ji(i),n=ai(n,i,a),n!==null?n.sibling:null);ji(i);break;case 19:var h=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ol(n,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return pv(n,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Pt,Pt.current),l)break;return null;case 22:case 23:return i.lanes=0,ov(n,i,a);case 24:Vi(i,Vt,n.memoizedState.cache)}return ai(n,i,a)}function mv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)zt=!0;else{if(!_p(n,a)&&(i.flags&128)===0)return zt=!1,Rw(n,i,a);zt=(n.flags&131072)!==0}else zt=!1,Fe&&(i.flags&1048576)!==0&&Gy(i,Pc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Id(l)?(n=sa(l,n),i.tag=1,i=cv(null,i,l,n,a)):(i.tag=0,i=hp(null,i,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===he){i.tag=11,i=iv(null,i,l,n,a);break e}else if(h===x){i.tag=14,i=sv(null,i,l,n,a);break e}}throw i=Dt(l)||l,Error(s(306,i,""))}}return i;case 0:return hp(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=sa(l,i.pendingProps),cv(n,i,l,h,a);case 3:e:{if(qe(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Bd(n,i),jl(i,l,null,a);var E=i.memoizedState;if(l=E.cache,Vi(i,Vt,l),l!==d.cache&&Pd(i,[Vt],a,!0),Ul(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=hv(n,i,l,a);break e}else if(l!==h){h=Gn(Error(s(424)),i),Nl(h),i=hv(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(pt=ar(n.firstChild),_n=i,Fe=!0,Js=null,Rr=!0,a=Q_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Dl(),l===h){i=ai(n,i,a);break e}Yt(n,i,l,a)}i=i.child}return i;case 26:return th(n,i),n===null?(a=v0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,n=i.pendingProps,l=gh(ve.current).createElement(a),l[Nt]=i,l[Tt]=n,Xt(l,a,n),yt(l),i.stateNode=l):i.memoizedState=v0(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Un(i),n===null&&Fe&&(l=i.stateNode=g0(i.type,i.pendingProps,ve.current),_n=i,Rr=!0,h=pt,Ki(i.type)?(Zp=h,pt=ar(l.firstChild)):pt=h),Yt(n,i,i.pendingProps.children,a),th(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Fe&&((h=l=pt)&&(l=eb(l,i.type,i.pendingProps,Rr),l!==null?(i.stateNode=l,_n=i,pt=ar(l.firstChild),Rr=!1,h=!0):h=!1),h||ea(i)),Un(i),h=i.type,d=i.pendingProps,E=n!==null?n.memoizedProps:null,l=d.children,Yp(h,d)?l=null:E!==null&&Yp(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=Qd(n,i,_w,null,null,a),ou._currentValue=h),th(n,i),Yt(n,i,l,a),i.child;case 6:return n===null&&Fe&&((n=a=pt)&&(a=tb(a,i.pendingProps,Rr),a!==null?(i.stateNode=a,_n=i,pt=null,n=!0):n=!1),n||ea(i)),null;case 13:return fv(n,i,a);case 4:return qe(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=ao(i,null,l,a):Yt(n,i,l,a),i.child;case 11:return iv(n,i,i.type,i.pendingProps,a);case 7:return Yt(n,i,i.pendingProps,a),i.child;case 8:return Yt(n,i,i.pendingProps.children,a),i.child;case 12:return Yt(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Vi(i,i.type,l.value),Yt(n,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,na(i),h=on(h),l=l(h),i.flags|=1,Yt(n,i,l,a),i.child;case 14:return sv(n,i,i.type,i.pendingProps,a);case 15:return av(n,i,i.type,i.pendingProps,a);case 19:return pv(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=nh(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Jr(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return ov(n,i,a);case 24:return na(i),l=on(Vt),n===null?(h=Ud(),h===null&&(h=rt,d=kd(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},zd(i),Vi(i,Vt,h)):((n.lanes&a)!==0&&(Bd(n,i),jl(i,null,null,a),Ul()),h=n.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Vi(i,Vt,l)):(l=d.cache,Vi(i,Vt,l),l!==h.cache&&Pd(i,[Vt],a,!0))),Yt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function oi(n){n.flags|=4}function gv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!w0(i)){if(i=Kn.current,i!==null&&((ze&4194048)===ze?Ir!==null:(ze&62914560)!==ze&&(ze&536870912)===0||i!==Ir))throw kl=jd,Jy;n.flags|=8192}}function rh(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?ul():536870912,n.lanes|=i,co|=i)}function $l(n,i){if(!Fe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ht(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function Iw(n,i,a){var l=i.pendingProps;switch(Nd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(i),null;case 1:return ht(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ri(Vt),Lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(xl(i)?oi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Yy())),ht(i),null;case 26:return a=i.memoizedState,n===null?(oi(i),a!==null?(ht(i),gv(i,a)):(ht(i),i.flags&=-16777217)):a?a!==n.memoizedState?(oi(i),ht(i),gv(i,a)):(ht(i),i.flags&=-16777217):(n.memoizedProps!==l&&oi(i),ht(i),i.flags&=-16777217),null;case 27:En(i),a=ve.current;var h=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&oi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ht(i),null}n=ge.current,xl(i)?$y(i):(n=g0(h,l,a),i.stateNode=n,oi(i))}return ht(i),null;case 5:if(En(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&oi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ht(i),null}if(n=ge.current,xl(i))$y(i);else{switch(h=gh(ve.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[Nt]=i,n[Tt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=n;e:switch(Xt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&oi(i)}}return ht(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&oi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=ve.current,xl(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,h=_n,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Nt]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||u0(n.nodeValue,a)),n||ea(i)}else n=gh(n).createTextNode(l),n[Nt]=i,i.stateNode=n}return ht(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=xl(i),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Nt]=i}else Dl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ht(i),h=!1}else h=Yy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(si(i),i):(si(i),null)}if(si(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),rh(i,i.updateQueue),ht(i),null;case 4:return Lt(),n===null&&Hp(i.stateNode.containerInfo),ht(i),null;case 10:return ri(i.type),ht(i),null;case 19:if(ae(Pt),h=i.memoizedState,h===null)return ht(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)$l(h,!1);else{if(mt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(d=Zc(n),d!==null){for(i.flags|=128,$l(h,!1),n=d.updateQueue,i.updateQueue=n,rh(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Fy(a,n),a=a.sibling;return ie(Pt,Pt.current&1|2),i.child}n=n.sibling}h.tail!==null&&jn()>ah&&(i.flags|=128,l=!0,$l(h,!1),i.lanes=4194304)}else{if(!l)if(n=Zc(d),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,rh(i,n),$l(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return ht(i),null}else 2*jn()-h.renderingStartTime>ah&&a!==536870912&&(i.flags|=128,l=!0,$l(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(n=h.last,n!==null?n.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=jn(),i.sibling=null,n=Pt.current,ie(Pt,l?n&1|2:n&1),i):(ht(i),null);case 22:case 23:return si(i),Gd(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ht(i),i.subtreeFlags&6&&(i.flags|=8192)):ht(i),a=i.updateQueue,a!==null&&rh(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&ae(ra),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ri(Vt),ht(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Cw(n,i){switch(Nd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ri(Vt),Lt(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return En(i),null;case 13:if(si(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Dl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ae(Pt),null;case 4:return Lt(),null;case 10:return ri(i.type),null;case 22:case 23:return si(i),Gd(),n!==null&&ae(ra),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return ri(Vt),null;case 25:return null;default:return null}}function yv(n,i){switch(Nd(i),i.tag){case 3:ri(Vt),Lt();break;case 26:case 27:case 5:En(i);break;case 4:Lt();break;case 13:si(i);break;case 19:ae(Pt);break;case 10:ri(i.type);break;case 22:case 23:si(i),Gd(),n!==null&&ae(ra);break;case 24:ri(Vt)}}function Ql(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(S){tt(i,i.return,S)}}function Bi(n,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&n)===n){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,h=i;var C=a,B=S;try{B()}catch(K){tt(h,C,K)}}}l=l.next}while(l!==d)}}catch(K){tt(i,i.return,K)}}function _v(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{s_(i,a)}catch(l){tt(n,n.return,l)}}}function vv(n,i,a){a.props=sa(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){tt(n,i,l)}}function Yl(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){tt(n,i,h)}}function Cr(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){tt(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){tt(n,i,h)}else a.current=null}function Ev(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){tt(n,n.return,h)}}function vp(n,i,a){try{var l=n.stateNode;Kw(l,n.type,a,i),l[Tt]=i}catch(h){tt(n,n.return,h)}}function Tv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ki(n.type)||n.tag===4}function Ep(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Tv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ki(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Tp(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=mh));else if(l!==4&&(l===27&&Ki(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Tp(n,i,a),n=n.sibling;n!==null;)Tp(n,i,a),n=n.sibling}function ih(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&Ki(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(ih(n,i,a),n=n.sibling;n!==null;)ih(n,i,a),n=n.sibling}function Sv(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Xt(i,l,a),i[Nt]=n,i[Tt]=a}catch(d){tt(n,n.return,d)}}var li=!1,vt=!1,Sp=!1,Av=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function xw(n,i){if(n=n.containerInfo,$p=Sh,n=Vy(n),Ed(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,S=-1,C=-1,B=0,K=0,ee=n,q=null;t:for(;;){for(var F;ee!==a||h!==0&&ee.nodeType!==3||(S=E+h),ee!==d||l!==0&&ee.nodeType!==3||(C=E+l),ee.nodeType===3&&(E+=ee.nodeValue.length),(F=ee.firstChild)!==null;)q=ee,ee=F;for(;;){if(ee===n)break t;if(q===a&&++B===h&&(S=E),q===d&&++K===l&&(C=E),(F=ee.nextSibling)!==null)break;ee=q,q=ee.parentNode}ee=F}a=S===-1||C===-1?null:{start:S,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qp={focusedElem:n,selectionRange:a},Sh=!1,Bt=i;Bt!==null;)if(i=Bt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Bt=n;else for(;Bt!==null;){switch(i=Bt,d=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var we=sa(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ee){tt(a,a.return,Ee)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Xp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Xp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Bt=n;break}Bt=i.return}}function wv(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:qi(n,a),l&4&&Ql(5,a);break;case 1:if(qi(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(E){tt(a,a.return,E)}else{var h=sa(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){tt(a,a.return,E)}}l&64&&_v(a),l&512&&Yl(a,a.return);break;case 3:if(qi(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{s_(n,i)}catch(E){tt(a,a.return,E)}}break;case 27:i===null&&l&4&&Sv(a);case 26:case 5:qi(n,a),i===null&&l&4&&Ev(a),l&512&&Yl(a,a.return);break;case 12:qi(n,a);break;case 13:qi(n,a),l&4&&Iv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Uw.bind(null,a),nb(n,a))));break;case 22:if(l=a.memoizedState!==null||li,!l){i=i!==null&&i.memoizedState!==null||vt,h=li;var d=vt;li=l,(vt=i)&&!d?Hi(n,a,(a.subtreeFlags&8772)!==0):qi(n,a),li=h,vt=d}break;case 30:break;default:qi(n,a)}}function bv(n){var i=n.alternate;i!==null&&(n.alternate=null,bv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Di(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var lt=null,Sn=!1;function ui(n,i,a){for(a=a.child;a!==null;)Rv(n,i,a),a=a.sibling}function Rv(n,i,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(dt,a)}catch{}switch(a.tag){case 26:vt||Cr(a,i),ui(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:vt||Cr(a,i);var l=lt,h=Sn;Ki(a.type)&&(lt=a.stateNode,Sn=!1),ui(n,i,a),ru(a.stateNode),lt=l,Sn=h;break;case 5:vt||Cr(a,i);case 6:if(l=lt,h=Sn,lt=null,ui(n,i,a),lt=l,Sn=h,lt!==null)if(Sn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){tt(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){tt(a,i,d)}break;case 18:lt!==null&&(Sn?(n=lt,p0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),hu(n)):p0(lt,a.stateNode));break;case 4:l=lt,h=Sn,lt=a.stateNode.containerInfo,Sn=!0,ui(n,i,a),lt=l,Sn=h;break;case 0:case 11:case 14:case 15:vt||Bi(2,a,i),vt||Bi(4,a,i),ui(n,i,a);break;case 1:vt||(Cr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&vv(a,i,l)),ui(n,i,a);break;case 21:ui(n,i,a);break;case 22:vt=(l=vt)||a.memoizedState!==null,ui(n,i,a),vt=l;break;default:ui(n,i,a)}}function Iv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{hu(n)}catch(a){tt(i,i.return,a)}}function Dw(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Av),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Av),i;default:throw Error(s(435,n.tag))}}function Ap(n,i){var a=Dw(n);i.forEach(function(l){var h=jw.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function Dn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=n,E=i,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(Ki(S.type)){lt=S.stateNode,Sn=!1;break e}break;case 5:lt=S.stateNode,Sn=!1;break e;case 3:case 4:lt=S.stateNode.containerInfo,Sn=!0;break e}S=S.return}if(lt===null)throw Error(s(160));Rv(d,E,h),lt=null,Sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Cv(i,n),i=i.sibling}var sr=null;function Cv(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Dn(i,n),Nn(n),l&4&&(Bi(3,n,n.return),Ql(3,n),Bi(5,n,n.return));break;case 1:Dn(i,n),Nn(n),l&512&&(vt||a===null||Cr(a,a.return)),l&64&&li&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=sr;if(Dn(i,n),Nn(n),l&512&&(vt||a===null||Cr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Vs]||d[Nt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Xt(d,l,a),d[Nt]=n,yt(d),l=d;break e;case"link":var E=S0("link","href",h).get(l+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(d=E[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}d=h.createElement(l),Xt(d,l,a),h.head.appendChild(d);break;case"meta":if(E=S0("meta","content",h).get(l+(a.content||""))){for(S=0;S<E.length;S++)if(d=E[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}d=h.createElement(l),Xt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Nt]=n,yt(d),l=d}n.stateNode=l}else A0(h,n.type,n.stateNode);else n.stateNode=T0(h,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?A0(h,n.type,n.stateNode):T0(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&vp(n,n.memoizedProps,a.memoizedProps)}break;case 27:Dn(i,n),Nn(n),l&512&&(vt||a===null||Cr(a,a.return)),a!==null&&l&4&&vp(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Dn(i,n),Nn(n),l&512&&(vt||a===null||Cr(a,a.return)),n.flags&32){h=n.stateNode;try{Bn(h,"")}catch(F){tt(n,n.return,F)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,vp(n,h,a!==null?a.memoizedProps:h)),l&1024&&(Sp=!0);break;case 6:if(Dn(i,n),Nn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(F){tt(n,n.return,F)}}break;case 3:if(vh=null,h=sr,sr=yh(i.containerInfo),Dn(i,n),sr=h,Nn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{hu(i.containerInfo)}catch(F){tt(n,n.return,F)}Sp&&(Sp=!1,xv(n));break;case 4:l=sr,sr=yh(n.stateNode.containerInfo),Dn(i,n),Nn(n),sr=l;break;case 12:Dn(i,n),Nn(n);break;case 13:Dn(i,n),Nn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xp=jn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ap(n,l)));break;case 22:h=n.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=li,K=vt;if(li=B||h,vt=K||C,Dn(i,n),vt=K,li=B,Nn(n),l&8192)e:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||li||vt||aa(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=C.stateNode;var ee=C.memoizedProps.style,q=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(F){tt(C,C.return,F)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(F){tt(C,C.return,F)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ap(n,a))));break;case 19:Dn(i,n),Nn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ap(n,l)));break;case 30:break;case 21:break;default:Dn(i,n),Nn(n)}}function Nn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(Tv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Ep(n);ih(n,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(Bn(E,""),a.flags&=-33);var S=Ep(n);ih(n,S,E);break;case 3:case 4:var C=a.stateNode.containerInfo,B=Ep(n);Tp(n,B,C);break;default:throw Error(s(161))}}catch(K){tt(n,n.return,K)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function xv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;xv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function qi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)wv(n,i.alternate,i),i=i.sibling}function aa(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Bi(4,i,i.return),aa(i);break;case 1:Cr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&vv(i,i.return,a),aa(i);break;case 27:ru(i.stateNode);case 26:case 5:Cr(i,i.return),aa(i);break;case 22:i.memoizedState===null&&aa(i);break;case 30:aa(i);break;default:aa(i)}n=n.sibling}}function Hi(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=n,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:Hi(h,d,a),Ql(4,d);break;case 1:if(Hi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){tt(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)i_(C[h],S)}catch(B){tt(l,l.return,B)}}a&&E&64&&_v(d),Yl(d,d.return);break;case 27:Sv(d);case 26:case 5:Hi(h,d,a),a&&l===null&&E&4&&Ev(d),Yl(d,d.return);break;case 12:Hi(h,d,a);break;case 13:Hi(h,d,a),a&&E&4&&Iv(h,d);break;case 22:d.memoizedState===null&&Hi(h,d,a),Yl(d,d.return);break;case 30:break;default:Hi(h,d,a)}i=i.sibling}}function wp(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Ml(a))}function bp(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ml(n))}function xr(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Dv(n,i,a,l),i=i.sibling}function Dv(n,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:xr(n,i,a,l),h&2048&&Ql(9,i);break;case 1:xr(n,i,a,l);break;case 3:xr(n,i,a,l),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ml(n)));break;case 12:if(h&2048){xr(n,i,a,l),n=i.stateNode;try{var d=i.memoizedProps,E=d.id,S=d.onPostCommit;typeof S=="function"&&S(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){tt(i,i.return,C)}}else xr(n,i,a,l);break;case 13:xr(n,i,a,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?xr(n,i,a,l):Kl(n,i):d._visibility&2?xr(n,i,a,l):(d._visibility|=2,oo(n,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&wp(E,i);break;case 24:xr(n,i,a,l),h&2048&&bp(i.alternate,i);break;default:xr(n,i,a,l)}}function oo(n,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=n,E=i,S=a,C=l,B=E.flags;switch(E.tag){case 0:case 11:case 15:oo(d,E,S,C,h),Ql(8,E);break;case 23:break;case 22:var K=E.stateNode;E.memoizedState!==null?K._visibility&2?oo(d,E,S,C,h):Kl(d,E):(K._visibility|=2,oo(d,E,S,C,h)),h&&B&2048&&wp(E.alternate,E);break;case 24:oo(d,E,S,C,h),h&&B&2048&&bp(E.alternate,E);break;default:oo(d,E,S,C,h)}i=i.sibling}}function Kl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,h=l.flags;switch(l.tag){case 22:Kl(a,l),h&2048&&wp(l.alternate,l);break;case 24:Kl(a,l),h&2048&&bp(l.alternate,l);break;default:Kl(a,l)}i=i.sibling}}var Xl=8192;function lo(n){if(n.subtreeFlags&Xl)for(n=n.child;n!==null;)Nv(n),n=n.sibling}function Nv(n){switch(n.tag){case 26:lo(n),n.flags&Xl&&n.memoizedState!==null&&mb(sr,n.memoizedState,n.memoizedProps);break;case 5:lo(n);break;case 3:case 4:var i=sr;sr=yh(n.stateNode.containerInfo),lo(n),sr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Xl,Xl=16777216,lo(n),Xl=i):lo(n));break;default:lo(n)}}function Ov(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Wl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,Vv(l,n)}Ov(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Mv(n),n=n.sibling}function Mv(n){switch(n.tag){case 0:case 11:case 15:Wl(n),n.flags&2048&&Bi(9,n,n.return);break;case 3:Wl(n);break;case 12:Wl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,sh(n)):Wl(n);break;default:Wl(n)}}function sh(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,Vv(l,n)}Ov(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Bi(8,i,i.return),sh(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,sh(i));break;default:sh(i)}n=n.sibling}}function Vv(n,i){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Bi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ml(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=n;Bt!==null;){l=Bt;var h=l.sibling,d=l.return;if(bv(l),l===a){Bt=null;break e}if(h!==null){h.return=d,Bt=h;break e}Bt=d}}}var Nw={getCacheForType:function(n){var i=on(Vt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},Ow=typeof WeakMap=="function"?WeakMap:Map,Ke=0,rt=null,Me=null,ze=0,Xe=0,On=null,Fi=!1,uo=!1,Rp=!1,ci=0,mt=0,Gi=0,oa=0,Ip=0,Xn=0,co=0,Zl=null,An=null,Cp=!1,xp=0,ah=1/0,oh=null,$i=null,Kt=0,Qi=null,ho=null,fo=0,Dp=0,Np=null,Pv=null,Jl=0,Op=null;function Mn(){if((Ke&2)!==0&&ze!==0)return ze&-ze;if(Y.T!==null){var n=Ja;return n!==0?n:jp()}return Ci()}function kv(){Xn===0&&(Xn=(ze&536870912)===0||Fe?ll():536870912);var n=Kn.current;return n!==null&&(n.flags|=32),Xn}function Vn(n,i,a){(n===rt&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)&&(po(n,0),Yi(n,ze,Xn,!1)),qr(n,a),((Ke&2)===0||n!==rt)&&(n===rt&&((Ke&2)===0&&(oa|=a),mt===4&&Yi(n,ze,Xn,!1)),Dr(n))}function Lv(n,i,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||Ms(n,i),h=l?Pw(n,i):Pp(n,i,!0),d=l;do{if(h===0){uo&&!l&&Yi(n,i,0,!1);break}else{if(a=n.current.alternate,d&&!Mw(a)){h=Pp(n,i,!1),d=!1;continue}if(h===2){if(d=i,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var S=n;h=Zl;var C=S.current.memoizedState.isDehydrated;if(C&&(po(S,E).flags|=256),E=Pp(S,E,!1),E!==2){if(Rp&&!C){S.errorRecoveryDisabledLanes|=d,oa|=d,h=4;break e}d=An,An=h,d!==null&&(An===null?An=d:An.push.apply(An,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){po(n,0),Yi(n,i,0,!0);break}e:{switch(l=n,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Yi(l,i,Xn,!Fi);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=xp+300-jn(),10<h)){if(Yi(l,i,Xn,!Fi),Da(l,0,!0)!==0)break e;l.timeoutHandle=f0(Uv.bind(null,l,a,An,oh,Cp,i,Xn,oa,co,Fi,d,2,-0,0),h);break e}Uv(l,a,An,oh,Cp,i,Xn,oa,co,Fi,d,0,-0,0)}}break}while(!0);Dr(n)}function Uv(n,i,a,l,h,d,E,S,C,B,K,ee,q,F){if(n.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(au={stylesheets:null,count:0,unsuspend:pb},Nv(i),ee=gb(),ee!==null)){n.cancelPendingCommit=ee(Gv.bind(null,n,i,d,a,l,h,E,S,C,K,1,q,F)),Yi(n,d,E,!B);return}Gv(n,i,d,a,l,h,E,S,C)}function Mw(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Cn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yi(n,i,a,l){i&=~Ip,i&=~oa,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var h=i;0<h;){var d=31-an(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&mr(n,a,i)}function lh(){return(Ke&6)===0?(eu(0),!1):!0}function Mp(){if(Me!==null){if(Xe===0)var n=Me.return;else n=Me,ni=ta=null,Xd(n),so=null,Fl=0,n=Me;for(;n!==null;)yv(n.alternate,n),n=n.return;Me=null}}function po(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Ww(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Mp(),rt=n,Me=a=Jr(n.current,null),ze=i,Xe=0,On=null,Fi=!1,uo=Ms(n,i),Rp=!1,co=Xn=Ip=oa=Gi=mt=0,An=Zl=null,Cp=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var h=31-an(l),d=1<<h;i|=n[h],l&=~d}return ci=i,Dc(),a}function jv(n,i){Ne=null,Y.H=Kc,i===Pl||i===jc?(i=n_(),Xe=3):i===Jy?(i=n_(),Xe=4):Xe=i===rv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,On=i,Me===null&&(mt=1,eh(n,Gn(i,n.current)))}function zv(){var n=Y.H;return Y.H=Kc,n===null?Kc:n}function Bv(){var n=Y.A;return Y.A=Nw,n}function Vp(){mt=4,Fi||(ze&4194048)!==ze&&Kn.current!==null||(uo=!0),(Gi&134217727)===0&&(oa&134217727)===0||rt===null||Yi(rt,ze,Xn,!1)}function Pp(n,i,a){var l=Ke;Ke|=2;var h=zv(),d=Bv();(rt!==n||ze!==i)&&(oh=null,po(n,i)),i=!1;var E=mt;e:do try{if(Xe!==0&&Me!==null){var S=Me,C=On;switch(Xe){case 8:Mp(),E=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(i=!0);var B=Xe;if(Xe=0,On=null,mo(n,S,C,B),a&&uo){E=0;break e}break;default:B=Xe,Xe=0,On=null,mo(n,S,C,B)}}Vw(),E=mt;break}catch(K){jv(n,K)}while(!0);return i&&n.shellSuspendCounter++,ni=ta=null,Ke=l,Y.H=h,Y.A=d,Me===null&&(rt=null,ze=0,Dc()),E}function Vw(){for(;Me!==null;)qv(Me)}function Pw(n,i){var a=Ke;Ke|=2;var l=zv(),h=Bv();rt!==n||ze!==i?(oh=null,ah=jn()+500,po(n,i)):uo=Ms(n,i);e:do try{if(Xe!==0&&Me!==null){i=Me;var d=On;t:switch(Xe){case 1:Xe=0,On=null,mo(n,i,d,1);break;case 2:case 9:if(e_(d)){Xe=0,On=null,Hv(i);break}i=function(){Xe!==2&&Xe!==9||rt!==n||(Xe=7),Dr(n)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:e_(d)?(Xe=0,On=null,Hv(i)):(Xe=0,On=null,mo(n,i,d,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var S=Me;if(!E||w0(E)){Xe=0,On=null;var C=S.sibling;if(C!==null)Me=C;else{var B=S.return;B!==null?(Me=B,uh(B)):Me=null}break t}}Xe=0,On=null,mo(n,i,d,5);break;case 6:Xe=0,On=null,mo(n,i,d,6);break;case 8:Mp(),mt=6;break e;default:throw Error(s(462))}}kw();break}catch(K){jv(n,K)}while(!0);return ni=ta=null,Y.H=l,Y.A=h,Ke=a,Me!==null?0:(rt=null,ze=0,Dc(),mt)}function kw(){for(;Me!==null&&!il();)qv(Me)}function qv(n){var i=mv(n.alternate,n,ci);n.memoizedProps=n.pendingProps,i===null?uh(n):Me=i}function Hv(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=uv(a,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=uv(a,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:Xd(i);default:yv(a,i),i=Me=Fy(i,ci),i=mv(a,i,ci)}n.memoizedProps=n.pendingProps,i===null?uh(n):Me=i}function mo(n,i,a,l){ni=ta=null,Xd(i),so=null,Fl=0;var h=i.return;try{if(bw(n,h,i,a,ze)){mt=1,eh(n,Gn(a,n.current)),Me=null;return}}catch(d){if(h!==null)throw Me=h,d;mt=1,eh(n,Gn(a,n.current)),Me=null;return}i.flags&32768?(Fe||l===1?n=!0:uo||(ze&536870912)!==0?n=!1:(Fi=n=!0,(l===2||l===9||l===3||l===6)&&(l=Kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fv(i,n)):uh(i)}function uh(n){var i=n;do{if((i.flags&32768)!==0){Fv(i,Fi);return}n=i.return;var a=Iw(i.alternate,i,ci);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=n}while(i!==null);mt===0&&(mt=5)}function Fv(n,i){do{var a=Cw(n.alternate,n);if(a!==null){a.flags&=32767,Me=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Me=n;return}Me=n=a}while(n!==null);mt=6,Me=null}function Gv(n,i,a,l,h,d,E,S,C){n.cancelPendingCommit=null;do ch();while(Kt!==0);if((Ke&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=bd,cl(n,a,d,E,S,C),n===rt&&(Me=rt=null,ze=0),ho=i,Qi=n,fo=a,Dp=d,Np=h,Pv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,zw(xs,function(){return Xv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=le.p,le.p=2,E=Ke,Ke|=4;try{xw(n,i,a)}finally{Ke=E,le.p=h,Y.T=l}}Kt=1,$v(),Qv(),Yv()}}function $v(){if(Kt===1){Kt=0;var n=Qi,i=ho,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=le.p;le.p=2;var h=Ke;Ke|=4;try{Cv(i,n);var d=Qp,E=Vy(n.containerInfo),S=d.focusedElem,C=d.selectionRange;if(E!==S&&S&&S.ownerDocument&&My(S.ownerDocument.documentElement,S)){if(C!==null&&Ed(S)){var B=C.start,K=C.end;if(K===void 0&&(K=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(K,S.value.length);else{var ee=S.ownerDocument||document,q=ee&&ee.defaultView||window;if(q.getSelection){var F=q.getSelection(),we=S.textContent.length,Ee=Math.min(C.start,we),et=C.end===void 0?Ee:Math.min(C.end,we);!F.extend&&Ee>et&&(E=et,et=Ee,Ee=E);var k=Oy(S,Ee),M=Oy(S,et);if(k&&M&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var z=ee.createRange();z.setStart(k.node,k.offset),F.removeAllRanges(),Ee>et?(F.addRange(z),F.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),F.addRange(z))}}}}for(ee=[],F=S;F=F.parentNode;)F.nodeType===1&&ee.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var X=ee[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Sh=!!$p,Qp=$p=null}finally{Ke=h,le.p=l,Y.T=a}}n.current=i,Kt=2}}function Qv(){if(Kt===2){Kt=0;var n=Qi,i=ho,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=le.p;le.p=2;var h=Ke;Ke|=4;try{wv(n,i.alternate,i)}finally{Ke=h,le.p=l,Y.T=a}}Kt=3}}function Yv(){if(Kt===4||Kt===3){Kt=0,sc();var n=Qi,i=ho,a=fo,l=Pv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Kt=5:(Kt=0,ho=Qi=null,Kv(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&($i=null),Na(a),i=i.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(dt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=le.p,le.p=2,Y.T=null;try{for(var d=n.onRecoverableError,E=0;E<l.length;E++){var S=l[E];d(S.value,{componentStack:S.stack})}}finally{Y.T=i,le.p=h}}(fo&3)!==0&&ch(),Dr(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===Op?Jl++:(Jl=0,Op=n):Jl=0,eu(0)}}function Kv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Ml(i)))}function ch(n){return $v(),Qv(),Yv(),Xv()}function Xv(){if(Kt!==5)return!1;var n=Qi,i=Dp;Dp=0;var a=Na(fo),l=Y.T,h=le.p;try{le.p=32>a?32:a,Y.T=null,a=Np,Np=null;var d=Qi,E=fo;if(Kt=0,ho=Qi=null,fo=0,(Ke&6)!==0)throw Error(s(331));var S=Ke;if(Ke|=4,Mv(d.current),Dv(d,d.current,E,a),Ke=S,eu(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(dt,d)}catch{}return!0}finally{le.p=h,Y.T=l,Kv(n,i)}}function Wv(n,i,a){i=Gn(a,i),i=cp(n.stateNode,i,2),n=Li(n,i,2),n!==null&&(qr(n,2),Dr(n))}function tt(n,i,a){if(n.tag===3)Wv(n,n,a);else for(;i!==null;){if(i.tag===3){Wv(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($i===null||!$i.has(l))){n=Gn(a,n),a=tv(2),l=Li(i,a,2),l!==null&&(nv(a,l,i,n),qr(l,2),Dr(l));break}}i=i.return}}function kp(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Ow;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Rp=!0,h.add(a),n=Lw.bind(null,n,i,a),i.then(n,n))}function Lw(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,rt===n&&(ze&a)===a&&(mt===4||mt===3&&(ze&62914560)===ze&&300>jn()-xp?(Ke&2)===0&&po(n,0):Ip|=a,co===ze&&(co=0)),Dr(n)}function Zv(n,i){i===0&&(i=ul()),n=Ka(n,i),n!==null&&(qr(n,i),Dr(n))}function Uw(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Zv(n,a)}function jw(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Zv(n,a)}function zw(n,i){return Is(n,i)}var hh=null,go=null,Lp=!1,fh=!1,Up=!1,la=0;function Dr(n){n!==go&&n.next===null&&(go===null?hh=go=n:go=go.next=n),fh=!0,Lp||(Lp=!0,qw())}function eu(n,i){if(!Up&&fh){Up=!0;do for(var a=!1,l=hh;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-an(42|n)+1)-1,d&=h&~(E&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,n0(l,d))}else d=ze,d=Da(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ms(l,d)||(a=!0,n0(l,d));l=l.next}while(a);Up=!1}}function Bw(){Jv()}function Jv(){fh=Lp=!1;var n=0;la!==0&&(Xw()&&(n=la),la=0);for(var i=jn(),a=null,l=hh;l!==null;){var h=l.next,d=e0(l,i);d===0?(l.next=null,a===null?hh=h:a.next=h,h===null&&(go=a)):(a=l,(n!==0||(d&3)!==0)&&(fh=!0)),l=h}eu(n)}function e0(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-an(d),S=1<<E,C=h[E];C===-1?((S&a)===0||(S&l)!==0)&&(h[E]=ol(S,i)):C<=i&&(n.expiredLanes|=S),d&=~S}if(i=rt,a=ze,a=Da(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Cs(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ms(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&Cs(l),Na(a)){case 2:case 8:a=Ca;break;case 32:a=xs;break;case 268435456:a=xa;break;default:a=xs}return l=t0.bind(null,n),a=Is(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&Cs(l),n.callbackPriority=2,n.callbackNode=null,2}function t0(n,i){if(Kt!==0&&Kt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(ch()&&n.callbackNode!==a)return null;var l=ze;return l=Da(n,n===rt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Lv(n,l,i),e0(n,jn()),n.callbackNode!=null&&n.callbackNode===a?t0.bind(null,n):null)}function n0(n,i){if(ch())return null;Lv(n,i,!0)}function qw(){Zw(function(){(Ke&6)!==0?Is(sl,Bw):Jv()})}function jp(){return la===0&&(la=ll()),la}function r0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:La(""+n)}function i0(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function Hw(n,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=r0((h[Tt]||null).action),E=l.submitter;E&&(i=(i=E[Tt]||null)?r0(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var S=new Ua("action","action",null,l,h);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(la!==0){var C=E?i0(h,E):new FormData(h);sp(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(S.preventDefault(),C=E?i0(h,E):new FormData(h),sp(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var zp=0;zp<wd.length;zp++){var Bp=wd[zp],Fw=Bp.toLowerCase(),Gw=Bp[0].toUpperCase()+Bp.slice(1);ir(Fw,"on"+Gw)}ir(Ly,"onAnimationEnd"),ir(Uy,"onAnimationIteration"),ir(jy,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(lw,"onTransitionRun"),ir(uw,"onTransitionStart"),ir(cw,"onTransitionCancel"),ir(zy,"onTransitionEnd"),Fr("onMouseEnter",["mouseout","mouseover"]),Fr("onMouseLeave",["mouseout","mouseover"]),Fr("onPointerEnter",["pointerout","pointerover"]),Fr("onPointerLeave",["pointerout","pointerover"]),nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$w=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tu));function s0(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var S=l[E],C=S.instance,B=S.currentTarget;if(S=S.listener,C!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(K){Jc(K)}h.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(S=l[E],C=S.instance,B=S.currentTarget,S=S.listener,C!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(K){Jc(K)}h.currentTarget=null,d=C}}}}function Ve(n,i){var a=i[fl];a===void 0&&(a=i[fl]=new Set);var l=n+"__bubble";a.has(l)||(a0(i,n,2,!1),a.add(l))}function qp(n,i,a){var l=0;i&&(l|=4),a0(a,n,l,i)}var dh="_reactListening"+Math.random().toString(36).slice(2);function Hp(n){if(!n[dh]){n[dh]=!0,dl.forEach(function(a){a!=="selectionchange"&&($w.has(a)||qp(a,!1,n),qp(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[dh]||(i[dh]=!0,qp("selectionchange",!1,i))}}function a0(n,i,a,l){switch(D0(i)){case 2:var h=vb;break;case 8:h=Eb;break;default:h=rm}a=h.bind(null,i,a,n),h=void 0,!Hn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(i,a,{capture:!0,passive:h}):n.addEventListener(i,a,!0):h!==void 0?n.addEventListener(i,a,{passive:h}):n.addEventListener(i,a,!1)}function Fp(n,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===h)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;S!==null;){if(E=Hr(S),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}S=S.parentNode}}l=l.return}mc(function(){var B=d,K=qn(a),ee=[];e:{var q=By.get(n);if(q!==void 0){var F=Ua,we=n;switch(n){case"keypress":if(Tr(a)===0)break e;case"keydown":case"keyup":F=Fa;break;case"focusin":we="focus",F=Ba;break;case"focusout":we="blur",F=Ba;break;case"beforeblur":case"afterblur":F=Ba;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=gd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Ac;break;case Ly:case Uy:case jy:F=qa;break;case zy:F=bc;break;case"scroll":case"scrollend":F=gc;break;case"wheel":F=Ga;break;case"copy":case"cut":case"paste":F=Ha;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=bl;break;case"toggle":case"beforetoggle":F=Ic}var Ee=(i&4)!==0,et=!Ee&&(n==="scroll"||n==="scrollend"),k=Ee?q!==null?q+"Capture":null:q;Ee=[];for(var M=B,z;M!==null;){var X=M;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||k===null||(X=Bs(M,k),X!=null&&Ee.push(nu(M,X,z))),et)break;M=M.return}0<Ee.length&&(q=new F(q,we,null,a,K),ee.push({event:q,listeners:Ee}))}}if((i&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",F=n==="mouseout"||n==="pointerout",q&&a!==Qr&&(we=a.relatedTarget||a.fromElement)&&(Hr(we)||we[zn]))break e;if((F||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,F?(we=a.relatedTarget||a.toElement,F=B,we=we?Hr(we):null,we!==null&&(et=u(we),Ee=we.tag,we!==et||Ee!==5&&Ee!==27&&Ee!==6)&&(we=null)):(F=null,we=B),F!==we)){if(Ee=Fn,X="onMouseLeave",k="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(Ee=bl,X="onPointerLeave",k="onPointerEnter",M="pointer"),et=F==null?q:yr(F),z=we==null?q:yr(we),q=new Ee(X,M+"leave",F,a,K),q.target=et,q.relatedTarget=z,X=null,Hr(K)===B&&(Ee=new Ee(k,M+"enter",we,a,K),Ee.target=z,Ee.relatedTarget=et,X=Ee),et=X,F&&we)t:{for(Ee=F,k=we,M=0,z=Ee;z;z=yo(z))M++;for(z=0,X=k;X;X=yo(X))z++;for(;0<M-z;)Ee=yo(Ee),M--;for(;0<z-M;)k=yo(k),z--;for(;M--;){if(Ee===k||k!==null&&Ee===k.alternate)break t;Ee=yo(Ee),k=yo(k)}Ee=null}else Ee=null;F!==null&&o0(ee,q,F,Ee,!1),we!==null&&et!==null&&o0(ee,et,we,Ee,!0)}}e:{if(q=B?yr(B):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var pe=Ry;else if(Mt(q))if(Iy)pe=sw;else{pe=rw;var Oe=nw}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&_l(B.elementType)&&(pe=Ry):pe=iw;if(pe&&(pe=pe(n,B))){Zr(ee,pe,a,K);break e}Oe&&Oe(n,q,B),n==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Oi(q,"number",q.value)}switch(Oe=B?yr(B):window,n){case"focusin":(Mt(Oe)||Oe.contentEditable==="true")&&($a=Oe,Td=B,Cl=null);break;case"focusout":Cl=Td=$a=null;break;case"mousedown":Sd=!0;break;case"contextmenu":case"mouseup":case"dragend":Sd=!1,Py(ee,a,K);break;case"selectionchange":if(ow)break;case"keydown":case"keyup":Py(ee,a,K)}var ye;if(wr)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Ue?Q(n,a)&&(Te="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(_&&a.locale!=="ko"&&(Ue||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Ue&&(ye=El()):(Er=K,Mi="value"in Er?Er.value:Er.textContent,Ue=!0)),Oe=ph(B,Te),0<Oe.length&&(Te=new Al(Te,n,null,a,K),ee.push({event:Te,listeners:Oe}),ye?Te.data=ye:(ye=oe(a),ye!==null&&(Te.data=ye)))),(ye=y?Ot(n,a):je(n,a))&&(Te=ph(B,"onBeforeInput"),0<Te.length&&(Oe=new Al("onBeforeInput","beforeinput",null,a,K),ee.push({event:Oe,listeners:Te}),Oe.data=ye)),Hw(ee,n,B,a,K)}s0(ee,i)})}function nu(n,i,a){return{instance:n,listener:i,currentTarget:a}}function ph(n,i){for(var a=i+"Capture",l=[];n!==null;){var h=n,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Bs(n,a),h!=null&&l.unshift(nu(n,h,d)),h=Bs(n,i),h!=null&&l.push(nu(n,h,d))),n.tag===3)return l;n=n.return}return[]}function yo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function o0(n,i,a,l,h){for(var d=i._reactName,E=[];a!==null&&a!==l;){var S=a,C=S.alternate,B=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||B===null||(C=B,h?(B=Bs(a,d),B!=null&&E.unshift(nu(a,B,C))):h||(B=Bs(a,d),B!=null&&E.push(nu(a,B,C)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var Qw=/\r\n?/g,Yw=/\u0000|\uFFFD/g;function l0(n){return(typeof n=="string"?n:""+n).replace(Qw,`
`).replace(Yw,"")}function u0(n,i){return i=l0(i),l0(n)===i}function mh(){}function Je(n,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Bn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Bn(n,""+l);break;case"className":_r(n,"class",l);break;case"tabIndex":_r(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_r(n,a,l);break;case"style":yl(n,l,d);break;case"data":if(i!=="object"){_r(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=La(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(n,i,"name",h.name,h,null),Je(n,i,"formEncType",h.formEncType,h,null),Je(n,i,"formMethod",h.formMethod,h,null),Je(n,i,"formTarget",h.formTarget,h,null)):(Je(n,i,"encType",h.encType,h,null),Je(n,i,"method",h.method,h,null),Je(n,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=La(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=mh);break;case"onScroll":l!=null&&Ve("scroll",n);break;case"onScrollEnd":l!=null&&Ve("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=La(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ve("beforetoggle",n),Ve("toggle",n),Ni(n,"popover",l);break;case"xlinkActuate":$t(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$t(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$t(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$t(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$t(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$t(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$t(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$t(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$t(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ni(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pd.get(a)||a,Ni(n,a,l))}}function Gp(n,i,a,l,h,d){switch(a){case"style":yl(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Bn(n,l):(typeof l=="number"||typeof l=="bigint")&&Bn(n,""+l);break;case"onScroll":l!=null&&Ve("scroll",n);break;case"onScrollEnd":l!=null&&Ve("scrollend",n);break;case"onClick":l!=null&&(n.onclick=mh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=n[Tt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ni(n,a,l)}}}function Xt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",n),Ve("load",n);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(n,i,d,E,a,null)}}h&&Je(n,i,"srcSet",a.srcSet,a,null),l&&Je(n,i,"src",a.src,a,null);return;case"input":Ve("invalid",n);var S=d=E=h=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":E=K;break;case"checked":C=K;break;case"defaultChecked":B=K;break;case"value":d=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Je(n,i,l,K,a,null)}}Us(n,d,S,C,B,E,h,!1),ka(n);return;case"select":Ve("invalid",n),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:Je(n,i,h,S,a,null)}i=d,a=E,n.multiple=!!l,i!=null?$r(n,!!l,i,!1):a!=null&&$r(n,!!l,a,!0);return;case"textarea":Ve("invalid",n),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Je(n,i,E,S,a,null)}js(n,l,h,d),ka(n);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(n,i,C,l,a,null)}return;case"dialog":Ve("beforetoggle",n),Ve("toggle",n),Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":Ve("load",n);break;case"video":case"audio":for(l=0;l<tu.length;l++)Ve(tu[l],n);break;case"image":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"embed":case"source":case"link":Ve("error",n),Ve("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(n,i,B,l,a,null)}return;default:if(_l(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Gp(n,i,K,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Je(n,i,S,l,a,null))}function Kw(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,S=null,C=null,B=null,K=null;for(F in a){var ee=a[F];if(a.hasOwnProperty(F)&&ee!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=ee;default:l.hasOwnProperty(F)||Je(n,i,F,null,l,ee)}}for(var q in l){var F=l[q];if(ee=a[q],l.hasOwnProperty(q)&&(F!=null||ee!=null))switch(q){case"type":d=F;break;case"name":h=F;break;case"checked":B=F;break;case"defaultChecked":K=F;break;case"value":E=F;break;case"defaultValue":S=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==ee&&Je(n,i,q,F,l,ee)}}In(n,E,S,C,B,K,d,h);return;case"select":F=E=S=q=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||Je(n,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":q=d;break;case"defaultValue":S=d;break;case"multiple":E=d;default:d!==C&&Je(n,i,h,d,l,C)}i=S,a=E,l=F,q!=null?$r(n,!!a,q,!1):!!l!=!!a&&(i!=null?$r(n,!!a,i,!0):$r(n,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Je(n,i,S,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(n,i,E,h,l,d)}We(n,q,F);return;case"option":for(var we in a)if(q=a[we],a.hasOwnProperty(we)&&q!=null&&!l.hasOwnProperty(we))switch(we){case"selected":n.selected=!1;break;default:Je(n,i,we,null,l,q)}for(C in l)if(q=l[C],F=a[C],l.hasOwnProperty(C)&&q!==F&&(q!=null||F!=null))switch(C){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Je(n,i,C,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)q=a[Ee],a.hasOwnProperty(Ee)&&q!=null&&!l.hasOwnProperty(Ee)&&Je(n,i,Ee,null,l,q);for(B in l)if(q=l[B],F=a[B],l.hasOwnProperty(B)&&q!==F&&(q!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Je(n,i,B,q,l,F)}return;default:if(_l(i)){for(var et in a)q=a[et],a.hasOwnProperty(et)&&q!==void 0&&!l.hasOwnProperty(et)&&Gp(n,i,et,void 0,l,q);for(K in l)q=l[K],F=a[K],!l.hasOwnProperty(K)||q===F||q===void 0&&F===void 0||Gp(n,i,K,q,l,F);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&Je(n,i,k,null,l,q);for(ee in l)q=l[ee],F=a[ee],!l.hasOwnProperty(ee)||q===F||q==null&&F==null||Je(n,i,ee,q,l,F)}var $p=null,Qp=null;function gh(n){return n.nodeType===9?n:n.ownerDocument}function c0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h0(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Yp(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Kp=null;function Xw(){var n=window.event;return n&&n.type==="popstate"?n===Kp?!1:(Kp=n,!0):(Kp=null,!1)}var f0=typeof setTimeout=="function"?setTimeout:void 0,Ww=typeof clearTimeout=="function"?clearTimeout:void 0,d0=typeof Promise=="function"?Promise:void 0,Zw=typeof queueMicrotask=="function"?queueMicrotask:typeof d0<"u"?function(n){return d0.resolve(null).then(n).catch(Jw)}:f0;function Jw(n){setTimeout(function(){throw n})}function Ki(n){return n==="head"}function p0(n,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&ru(E.documentElement),a&2&&ru(E.body),a&4)for(a=E.head,ru(a),E=a.firstChild;E;){var S=E.nextSibling,C=E.nodeName;E[Vs]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=S}}if(h===0){n.removeChild(d),hu(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);hu(i)}function Xp(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xp(a),Di(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function eb(n,i,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Vs])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=ar(n.nextSibling),n===null)break}return null}function tb(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ar(n.nextSibling),n===null))return null;return n}function Wp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function nb(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ar(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Zp=null;function m0(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function g0(n,i,a){switch(i=gh(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function ru(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Di(n)}var Wn=new Map,y0=new Set;function yh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var hi=le.d;le.d={f:rb,r:ib,D:sb,C:ab,L:ob,m:lb,X:cb,S:ub,M:hb};function rb(){var n=hi.f(),i=lh();return n||i}function ib(n){var i=gr(n);i!==null&&i.tag===5&&i.type==="form"?L_(i):hi.r(n)}var _o=typeof document>"u"?null:document;function _0(n,i,a){var l=_o;if(l&&typeof i=="string"&&i){var h=St(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),y0.has(h)||(y0.add(h),n={rel:n,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Xt(i,"link",n),yt(i),l.head.appendChild(i)))}}function sb(n){hi.D(n),_0("dns-prefetch",n,null)}function ab(n,i){hi.C(n,i),_0("preconnect",n,i)}function ob(n,i,a){hi.L(n,i,a);var l=_o;if(l&&n&&i){var h='link[rel="preload"][as="'+St(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+St(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+St(a.imageSizes)+'"]')):h+='[href="'+St(n)+'"]';var d=h;switch(i){case"style":d=vo(n);break;case"script":d=Eo(n)}Wn.has(d)||(n=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Wn.set(d,n),l.querySelector(h)!==null||i==="style"&&l.querySelector(iu(d))||i==="script"&&l.querySelector(su(d))||(i=l.createElement("link"),Xt(i,"link",n),yt(i),l.head.appendChild(i)))}}function lb(n,i){hi.m(n,i);var a=_o;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+St(l)+'"][href="'+St(n)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Eo(n)}if(!Wn.has(d)&&(n=v({rel:"modulepreload",href:n},i),Wn.set(d,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(su(d)))return}l=a.createElement("link"),Xt(l,"link",n),yt(l),a.head.appendChild(l)}}}function ub(n,i,a){hi.S(n,i,a);var l=_o;if(l&&n){var h=mn(l).hoistableStyles,d=vo(n);i=i||"default";var E=h.get(d);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(iu(d)))S.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Wn.get(d))&&Jp(n,a);var C=E=l.createElement("link");yt(C),Xt(C,"link",n),C._p=new Promise(function(B,K){C.onload=B,C.onerror=K}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,_h(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:S},h.set(d,E)}}}function cb(n,i){hi.X(n,i);var a=_o;if(a&&n){var l=mn(a).hoistableScripts,h=Eo(n),d=l.get(h);d||(d=a.querySelector(su(h)),d||(n=v({src:n,async:!0},i),(i=Wn.get(h))&&em(n,i),d=a.createElement("script"),yt(d),Xt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function hb(n,i){hi.M(n,i);var a=_o;if(a&&n){var l=mn(a).hoistableScripts,h=Eo(n),d=l.get(h);d||(d=a.querySelector(su(h)),d||(n=v({src:n,async:!0,type:"module"},i),(i=Wn.get(h))&&em(n,i),d=a.createElement("script"),yt(d),Xt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function v0(n,i,a,l){var h=(h=ve.current)?yh(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=vo(a.href),a=mn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=vo(a.href);var d=mn(h).hoistableStyles,E=d.get(n);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=h.querySelector(iu(n)))&&!d._p&&(E.instance=d,E.state.loading=5),Wn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wn.set(n,a),d||fb(h,n,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Eo(a),a=mn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function vo(n){return'href="'+St(n)+'"'}function iu(n){return'link[rel="stylesheet"]['+n+"]"}function E0(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function fb(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xt(i,"link",a),yt(i),n.head.appendChild(i))}function Eo(n){return'[src="'+St(n)+'"]'}function su(n){return"script[async]"+n}function T0(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+St(a.href)+'"]');if(l)return i.instance=l,yt(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),yt(l),Xt(l,"style",h),_h(l,a.precedence,n),i.instance=l;case"stylesheet":h=vo(a.href);var d=n.querySelector(iu(h));if(d)return i.state.loading|=4,i.instance=d,yt(d),d;l=E0(a),(h=Wn.get(h))&&Jp(l,h),d=(n.ownerDocument||n).createElement("link"),yt(d);var E=d;return E._p=new Promise(function(S,C){E.onload=S,E.onerror=C}),Xt(d,"link",l),i.state.loading|=4,_h(d,a.precedence,n),i.instance=d;case"script":return d=Eo(a.src),(h=n.querySelector(su(d)))?(i.instance=h,yt(h),h):(l=a,(h=Wn.get(d))&&(l=v({},a),em(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),yt(h),Xt(h,"link",l),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,_h(l,a.precedence,n));return i.instance}function _h(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Jp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function em(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var vh=null;function S0(n,i,a){if(vh===null){var l=new Map,h=vh=new Map;h.set(a,l)}else h=vh,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var d=a[h];if(!(d[Vs]||d[Nt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=n+E;var S=l.get(E);S?S.push(d):l.set(E,[d])}}return l}function A0(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function db(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function w0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var au=null;function pb(){}function mb(n,i,a){if(au===null)throw Error(s(475));var l=au;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=vo(a.href),d=n.querySelector(iu(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Eh.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=d,yt(d);return}d=n.ownerDocument||n,a=E0(a),(h=Wn.get(h))&&Jp(a,h),d=d.createElement("link"),yt(d);var E=d;E._p=new Promise(function(S,C){E.onload=S,E.onerror=C}),Xt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Eh.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function gb(){if(au===null)throw Error(s(475));var n=au;return n.stylesheets&&n.count===0&&tm(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&tm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Eh(){if(this.count--,this.count===0){if(this.stylesheets)tm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Th=null;function tm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Th=new Map,i.forEach(yb,n),Th=null,Eh.call(n))}function yb(n,i){if(!(i.state.loading&4)){var a=Th.get(n);if(a)var l=a.get(null);else{a=new Map,Th.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=Eh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var ou={$$typeof:re,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function _b(n,i,a,l,h,d,E,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Br(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Br(0),this.hiddenUpdates=Br(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function b0(n,i,a,l,h,d,E,S,C,B,K,ee){return n=new _b(n,i,a,E,S,C,B,ee),i=1,d===!0&&(i|=24),d=xn(3,null,null,i),n.current=d,d.stateNode=n,i=kd(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},zd(d),n}function R0(n){return n?(n=Xa,n):Xa}function I0(n,i,a,l,h,d){h=R0(h),l.context===null?l.context=h:l.pendingContext=h,l=ki(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Li(n,l,i),a!==null&&(Vn(a,n,i),Ll(a,n,i))}function C0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function nm(n,i){C0(n,i),(n=n.alternate)&&C0(n,i)}function x0(n){if(n.tag===13){var i=Ka(n,67108864);i!==null&&Vn(i,n,67108864),nm(n,67108864)}}var Sh=!0;function vb(n,i,a,l){var h=Y.T;Y.T=null;var d=le.p;try{le.p=2,rm(n,i,a,l)}finally{le.p=d,Y.T=h}}function Eb(n,i,a,l){var h=Y.T;Y.T=null;var d=le.p;try{le.p=8,rm(n,i,a,l)}finally{le.p=d,Y.T=h}}function rm(n,i,a,l){if(Sh){var h=im(l);if(h===null)Fp(n,i,l,Ah,a),N0(n,l);else if(Sb(h,n,i,a,l))l.stopPropagation();else if(N0(n,l),i&4&&-1<Tb.indexOf(n)){for(;h!==null;){var d=gr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=tr(d.pendingLanes);if(E!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var C=1<<31-an(E);S.entanglements[1]|=C,E&=~C}Dr(d),(Ke&6)===0&&(ah=jn()+500,eu(0))}}break;case 13:S=Ka(d,2),S!==null&&Vn(S,d,2),lh(),nm(d,2)}if(d=im(l),d===null&&Fp(n,i,l,Ah,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Fp(n,i,l,null,a)}}function im(n){return n=qn(n),sm(n)}var Ah=null;function sm(n){if(Ah=null,n=Hr(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=f(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Ah=n,null}function D0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ld()){case sl:return 2;case Ca:return 8;case xs:case ud:return 32;case xa:return 268435456;default:return 32}default:return 32}}var am=!1,Xi=null,Wi=null,Zi=null,lu=new Map,uu=new Map,Ji=[],Tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N0(n,i){switch(n){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":lu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":uu.delete(i.pointerId)}}function cu(n,i,a,l,h,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=gr(i),i!==null&&x0(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function Sb(n,i,a,l,h){switch(i){case"focusin":return Xi=cu(Xi,n,i,a,l,h),!0;case"dragenter":return Wi=cu(Wi,n,i,a,l,h),!0;case"mouseover":return Zi=cu(Zi,n,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return lu.set(d,cu(lu.get(d)||null,n,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,uu.set(d,cu(uu.get(d)||null,n,i,a,l,h)),!0}return!1}function O0(n){var i=Hr(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){n.blockedOn=i,lc(n.priority,function(){if(a.tag===13){var l=Mn();l=Ii(l);var h=Ka(a,l);h!==null&&Vn(h,a,l),nm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function wh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=im(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Qr=l,a.target.dispatchEvent(l),Qr=null}else return i=gr(a),i!==null&&x0(i),n.blockedOn=a,!1;i.shift()}return!0}function M0(n,i,a){wh(n)&&a.delete(i)}function Ab(){am=!1,Xi!==null&&wh(Xi)&&(Xi=null),Wi!==null&&wh(Wi)&&(Wi=null),Zi!==null&&wh(Zi)&&(Zi=null),lu.forEach(M0),uu.forEach(M0)}function bh(n,i){n.blockedOn===i&&(n.blockedOn=null,am||(am=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ab)))}var Rh=null;function V0(n){Rh!==n&&(Rh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rh===n&&(Rh=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],h=n[i+2];if(typeof l!="function"){if(sm(l||a)===null)continue;break}var d=gr(a);d!==null&&(n.splice(i,3),i-=3,sp(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function hu(n){function i(C){return bh(C,n)}Xi!==null&&bh(Xi,n),Wi!==null&&bh(Wi,n),Zi!==null&&bh(Zi,n),lu.forEach(i),uu.forEach(i);for(var a=0;a<Ji.length;a++){var l=Ji[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Ji.length&&(a=Ji[0],a.blockedOn===null);)O0(a),a.blockedOn===null&&Ji.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[Tt]||null;if(typeof d=="function")E||V0(a);else if(E){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[Tt]||null)S=E.formAction;else if(sm(h)!==null)continue}else S=E.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),V0(a)}}}function om(n){this._internalRoot=n}Ih.prototype.render=om.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Mn();I0(a,l,n,i,null,null)},Ih.prototype.unmount=om.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;I0(n.current,2,null,n,null,null),lh(),i[zn]=null}};function Ih(n){this._internalRoot=n}Ih.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ci();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Ji.length&&i!==0&&i<Ji[a].priority;a++);Ji.splice(a,0,n),a===0&&O0(n)}};var P0=e.version;if(P0!=="19.1.0")throw Error(s(527,P0,"19.1.0"));le.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=m(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var wb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{dt=Ch.inject(wb),Ye=Ch}catch{}}return du.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",h=W_,d=Z_,E=J_,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=b0(n,1,!1,null,null,a,l,h,d,E,S,null),n[zn]=i.current,Hp(n),new om(i)},du.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,h="",d=W_,E=Z_,S=J_,C=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=b0(n,1,!0,i,a??null,l,h,d,E,S,C,B),i.context=R0(null),a=i.current,l=Mn(),l=Ii(l),h=ki(l),h.callback=null,Li(a,h,l),a=l,i.current.lanes=a,qr(i,a),Dr(i),n[zn]=i.current,Hp(n),new Ih(i)},du.version="19.1.0",du}var G0;function Pb(){if(G0)return cm.exports;G0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cm.exports=Vb(),cm.exports}var kb=Pb();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $0="popstate";function Lb(r={}){function e(s,o){let{pathname:u,search:f,hash:p}=s.location;return Mm("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:xu(o)}return jb(e,t,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function hr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ub(){return Math.random().toString(36).substring(2,10)}function Q0(r,e){return{usr:r.state,key:r.key,idx:e}}function Mm(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?$o(e):e,state:t,key:e&&e.key||s||Ub()}}function xu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function $o(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function jb(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",m=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function T(){p="POP";let H=v(),J=H==null?null:H-g;g=H,m&&m({action:p,location:$.location,delta:J})}function w(H,J){p="PUSH";let Z=Mm($.location,H,J);g=v()+1;let re=Q0(Z,g),he=$.createHref(Z);try{f.pushState(re,"",he)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(he)}u&&m&&m({action:p,location:$.location,delta:1})}function O(H,J){p="REPLACE";let Z=Mm($.location,H,J);g=v();let re=Q0(Z,g),he=$.createHref(Z);f.replaceState(re,"",he),u&&m&&m({action:p,location:$.location,delta:0})}function j(H){return zb(H)}let $={get action(){return p},get location(){return r(o,f)},listen(H){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener($0,T),m=H,()=>{o.removeEventListener($0,T),m=null}},createHref(H){return e(o,H)},createURL:j,encodeLocation(H){let J=j(H);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:w,replace:O,go(H){return f.go(H)}};return $}function zb(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ut(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:xu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function zT(r,e,t="/"){return Bb(r,e,t,!1)}function Bb(r,e,t,s){let o=typeof e=="string"?$o(e):e,u=vi(o.pathname||"/",t);if(u==null)return null;let f=BT(r);qb(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let g=Jb(u);p=Wb(f[m],g,s)}return p}function BT(r,e=[],t=[],s=""){let o=(u,f,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(ut(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=gi([s,m.relativePath]),v=t.concat(m);u.children&&u.children.length>0&&(ut(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),BT(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Kb(g,u.index),routesMeta:v})};return r.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,f);else for(let m of qT(u.path))o(u,f,m)}),e}function qT(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=qT(s.join("/")),p=[];return p.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...f),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function qb(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Xb(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Hb=/^:[\w-]+$/,Fb=3,Gb=2,$b=1,Qb=10,Yb=-2,Y0=r=>r==="*";function Kb(r,e){let t=r.split("/"),s=t.length;return t.some(Y0)&&(s+=Yb),e&&(s+=Gb),t.filter(o=>!Y0(o)).reduce((o,u)=>o+(Hb.test(u)?Fb:u===""?$b:Qb),s)}function Xb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Wb(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let m=s[p],g=p===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",T=nf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),w=m.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=nf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:gi([u,T.pathname]),pathnameBase:rR(gi([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=gi([u,T.pathnameBase]))}return f}function nf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=Zb(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},w)=>{if(v==="*"){let j=p[w]||"";f=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const O=p[w];return T&&!O?g[v]=void 0:g[v]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function Zb(r,e=!1,t=!0){hr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Jb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function vi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function eR(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?$o(r):r;return{pathname:t?t.startsWith("/")?t:tR(t,e):e,search:iR(s),hash:sR(o)}}function tR(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function pm(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nR(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _g(r){let e=nR(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function vg(r,e,t,s=!1){let o;typeof r=="string"?o=$o(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),pm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),pm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),pm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=t;else{let T=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}p=T>=0?e[T]:"/"}let m=eR(o,p),g=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var gi=r=>r.join("/").replace(/\/\/+/g,"/"),rR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),iR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,sR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function aR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var HT=["POST","PUT","PATCH","DELETE"];new Set(HT);var oR=["GET",...HT];new Set(oR);var Qo=G.createContext(null);Qo.displayName="DataRouter";var If=G.createContext(null);If.displayName="DataRouterState";G.createContext(!1);var FT=G.createContext({isTransitioning:!1});FT.displayName="ViewTransition";var lR=G.createContext(new Map);lR.displayName="Fetchers";var uR=G.createContext(null);uR.displayName="Await";var pr=G.createContext(null);pr.displayName="Navigation";var Fu=G.createContext(null);Fu.displayName="Location";var zr=G.createContext({outlet:null,matches:[],isDataRoute:!1});zr.displayName="Route";var Eg=G.createContext(null);Eg.displayName="RouteError";function cR(r,{relative:e}={}){ut(Yo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=G.useContext(pr),{hash:o,pathname:u,search:f}=$u(r,{relative:e}),p=u;return t!=="/"&&(p=u==="/"?t:gi([t,u])),s.createHref({pathname:p,search:f,hash:o})}function Yo(){return G.useContext(Fu)!=null}function Ss(){return ut(Yo(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Fu).location}var GT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $T(r){G.useContext(pr).static||G.useLayoutEffect(r)}function Gu(){let{isDataRoute:r}=G.useContext(zr);return r?AR():hR()}function hR(){ut(Yo(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(Qo),{basename:e,navigator:t}=G.useContext(pr),{matches:s}=G.useContext(zr),{pathname:o}=Ss(),u=JSON.stringify(_g(s)),f=G.useRef(!1);return $T(()=>{f.current=!0}),G.useCallback((m,g={})=>{if(hr(f.current,GT),!f.current)return;if(typeof m=="number"){t.go(m);return}let v=vg(m,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:gi([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,u,o,r])}G.createContext(null);function $u(r,{relative:e}={}){let{matches:t}=G.useContext(zr),{pathname:s}=Ss(),o=JSON.stringify(_g(t));return G.useMemo(()=>vg(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function fR(r,e){return QT(r,e)}function QT(r,e,t,s){var J;ut(Yo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=G.useContext(pr),{matches:u}=G.useContext(zr),f=u[u.length-1],p=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let Z=v&&v.path||"";YT(m,!v||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let T=Ss(),w;if(e){let Z=typeof e=="string"?$o(e):e;ut(g==="/"||((J=Z.pathname)==null?void 0:J.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),w=Z}else w=T;let O=w.pathname||"/",j=O;if(g!=="/"){let Z=g.replace(/^\//,"").split("/");j="/"+O.replace(/^\//,"").split("/").slice(Z.length).join("/")}let $=zT(r,{pathname:j});hr(v||$!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),hr($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=yR($&&$.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:gi([g,o.encodeLocation?o.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?g:gi([g,o.encodeLocation?o.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),u,t,s);return e&&H?G.createElement(Fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},H):H}function dR(){let r=SR(),e=aR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:o},t):null,f)}var pR=G.createElement(dR,null),mR=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?G.createElement(zr.Provider,{value:this.props.routeContext},G.createElement(Eg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gR({routeContext:r,match:e,children:t}){let s=G.useContext(Qo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(zr.Provider,{value:r},t)}function yR(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ut(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,p=-1;if(t)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:v,errors:T}=t,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||w){f=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,g,v)=>{let T,w=!1,O=null,j=null;t&&(T=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||pR,f&&(p<0&&v===0?(YT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,j=null):p===v&&(w=!0,j=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,v+1)),H=()=>{let J;return T?J=O:w?J=j:g.route.Component?J=G.createElement(g.route.Component,null):g.route.element?J=g.route.element:J=m,G.createElement(gR,{match:g,routeContext:{outlet:m,matches:$,isDataRoute:t!=null},children:J})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?G.createElement(mR,{location:t.location,revalidation:t.revalidation,component:O,error:T,children:H(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):H()},null)}function Tg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _R(r){let e=G.useContext(Qo);return ut(e,Tg(r)),e}function vR(r){let e=G.useContext(If);return ut(e,Tg(r)),e}function ER(r){let e=G.useContext(zr);return ut(e,Tg(r)),e}function Sg(r){let e=ER(r),t=e.matches[e.matches.length-1];return ut(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function TR(){return Sg("useRouteId")}function SR(){var s;let r=G.useContext(Eg),e=vR("useRouteError"),t=Sg("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function AR(){let{router:r}=_R("useNavigate"),e=Sg("useNavigate"),t=G.useRef(!1);return $T(()=>{t.current=!0}),G.useCallback(async(o,u={})=>{hr(t.current,GT),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var K0={};function YT(r,e,t){!e&&!K0[r]&&(K0[r]=!0,hr(!1,t))}G.memo(wR);function wR({routes:r,future:e,state:t}){return QT(r,void 0,t,e)}function bR({to:r,replace:e,state:t,relative:s}){ut(Yo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(pr);hr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(zr),{pathname:f}=Ss(),p=Gu(),m=vg(r,_g(u),f,s==="path"),g=JSON.stringify(m);return G.useEffect(()=>{p(JSON.parse(g),{replace:e,state:t,relative:s})},[p,g,s,e,t]),null}function Uh(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RR({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){ut(!Yo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof t=="string"&&(t=$o(t));let{pathname:m="/",search:g="",hash:v="",state:T=null,key:w="default"}=t,O=G.useMemo(()=>{let j=vi(m,f);return j==null?null:{location:{pathname:j,search:g,hash:v,state:T,key:w},navigationType:s}},[f,m,g,v,T,w,s]);return hr(O!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:G.createElement(pr.Provider,{value:p},G.createElement(Fu.Provider,{children:e,value:O}))}function IR({children:r,location:e}){return fR(Vm(r),e)}function Vm(r,e=[]){let t=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){t.push.apply(t,Vm(s.props.children,u));return}ut(s.type===Uh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Vm(s.props.children,u)),t.push(f)}),t}var jh="get",zh="application/x-www-form-urlencoded";function Cf(r){return r!=null&&typeof r.tagName=="string"}function CR(r){return Cf(r)&&r.tagName.toLowerCase()==="button"}function xR(r){return Cf(r)&&r.tagName.toLowerCase()==="form"}function DR(r){return Cf(r)&&r.tagName.toLowerCase()==="input"}function NR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function OR(r,e){return r.button===0&&(!e||e==="_self")&&!NR(r)}var xh=null;function MR(){if(xh===null)try{new FormData(document.createElement("form"),0),xh=!1}catch{xh=!0}return xh}var VR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mm(r){return r!=null&&!VR.has(r)?(hr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zh}"`),null):r}function PR(r,e){let t,s,o,u,f;if(xR(r)){let p=r.getAttribute("action");s=p?vi(p,e):null,t=r.getAttribute("method")||jh,o=mm(r.getAttribute("enctype"))||zh,u=new FormData(r)}else if(CR(r)||DR(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(s=m?vi(m,e):null,t=r.getAttribute("formmethod")||p.getAttribute("method")||jh,o=mm(r.getAttribute("formenctype"))||mm(p.getAttribute("enctype"))||zh,u=new FormData(p,r),!MR()){let{name:g,type:v,value:T}=r;if(v==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(Cf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=jh,s=null,o=zh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ag(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function kR(r,e,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&vi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function LR(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function jR(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await LR(u,t);return f.links?f.links():[]}return[]}));return HR(s.flat(1).filter(UR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function X0(r,e,t,s,o,u){let f=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,p=(m,g)=>{var v;return t[g].pathname!==m.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,g)=>f(m,g)||p(m,g)):u==="data"?e.filter((m,g)=>{var T;let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(f(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function zR(r,e,{includeHydrateFallback:t}={}){return BR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function BR(r){return[...new Set(r)]}function qR(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function HR(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(qR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function KT(){let r=G.useContext(Qo);return Ag(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function FR(){let r=G.useContext(If);return Ag(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var wg=G.createContext(void 0);wg.displayName="FrameworkContext";function XT(){let r=G.useContext(wg);return Ag(r,"You must render this element inside a <HydratedRouter> element"),r}function GR(r,e){let t=G.useContext(wg),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,w=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=J=>{J.forEach(Z=>{f(Z.isIntersecting)})},H=new IntersectionObserver($,{threshold:.5});return w.current&&H.observe(w.current),()=>{H.disconnect()}}},[r]),G.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let O=()=>{o(!0)},j=()=>{o(!1),f(!1)};return t?r!=="intent"?[u,w,{}]:[u,w,{onFocus:pu(p,O),onBlur:pu(m,j),onMouseEnter:pu(g,O),onMouseLeave:pu(v,j),onTouchStart:pu(T,O)}]:[!1,w,{}]}function pu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function $R({page:r,...e}){let{router:t}=KT(),s=G.useMemo(()=>zT(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?G.createElement(YR,{page:r,matches:s,...e}):null}function QR(r){let{manifest:e,routeModules:t}=XT(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return jR(r,e,t).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,t]),s}function YR({page:r,matches:e,...t}){let s=Ss(),{manifest:o,routeModules:u}=XT(),{basename:f}=KT(),{loaderData:p,matches:m}=FR(),g=G.useMemo(()=>X0(r,e,m,o,s,"data"),[r,e,m,o,s]),v=G.useMemo(()=>X0(r,e,m,o,s,"assets"),[r,e,m,o,s]),T=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let j=new Set,$=!1;if(e.forEach(J=>{var re;let Z=o.routes[J.route.id];!Z||!Z.hasLoader||(!g.some(he=>he.route.id===J.route.id)&&J.route.id in p&&((re=u[J.route.id])!=null&&re.shouldRevalidate)||Z.hasClientLoader?$=!0:j.add(J.route.id))}),j.size===0)return[];let H=kR(r,f,"data");return $&&j.size>0&&H.searchParams.set("_routes",e.filter(J=>j.has(J.route.id)).map(J=>J.route.id).join(",")),[H.pathname+H.search]},[f,p,s,o,g,e,r,u]),w=G.useMemo(()=>zR(v,o),[v,o]),O=QR(v);return G.createElement(G.Fragment,null,T.map(j=>G.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...t})),w.map(j=>G.createElement("link",{key:j,rel:"modulepreload",href:j,...t})),O.map(({key:j,link:$})=>G.createElement("link",{key:j,...$})))}function KR(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var WT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WT&&(window.__reactRouterVersion="7.7.0")}catch{}function XR({basename:r,children:e,window:t}){let s=G.useRef();s.current==null&&(s.current=Lb({window:t,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),p=G.useCallback(m=>{G.startTransition(()=>f(m))},[f]);return G.useLayoutEffect(()=>o.listen(p),[o,p]),G.createElement(RR,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var ZT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JT=G.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:m,to:g,preventScrollReset:v,viewTransition:T,...w},O){let{basename:j}=G.useContext(pr),$=typeof g=="string"&&ZT.test(g),H,J=!1;if(typeof g=="string"&&$&&(H=g,WT))try{let I=new URL(window.location.href),V=g.startsWith("//")?new URL(I.protocol+g):new URL(g),P=vi(V.pathname,j);V.origin===I.origin&&P!=null?g=P+V.search+V.hash:J=!0}catch{hr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=cR(g,{relative:o}),[re,he,ue]=GR(s,w),de=eI(g,{replace:f,state:p,target:m,preventScrollReset:v,relative:o,viewTransition:T});function x(I){e&&e(I),I.defaultPrevented||de(I)}let R=G.createElement("a",{...w,...ue,href:H||Z,onClick:J||u?e:x,ref:KR(O,he),target:m,"data-discover":!$&&t==="render"?"true":void 0});return re&&!$?G.createElement(G.Fragment,null,R,G.createElement($R,{page:Z})):R});JT.displayName="Link";var WR=G.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:m,...g},v){let T=$u(f,{relative:g.relative}),w=Ss(),O=G.useContext(If),{navigator:j,basename:$}=G.useContext(pr),H=O!=null&&sI(T)&&p===!0,J=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,Z=w.pathname,re=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),re=re?re.toLowerCase():null,J=J.toLowerCase()),re&&$&&(re=vi(re,$)||re);const he=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let ue=Z===J||!o&&Z.startsWith(J)&&Z.charAt(he)==="/",de=re!=null&&(re===J||!o&&re.startsWith(J)&&re.charAt(J.length)==="/"),x={isActive:ue,isPending:de,isTransitioning:H},R=ue?e:void 0,I;typeof s=="function"?I=s(x):I=[s,ue?"active":null,de?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(x):u;return G.createElement(JT,{...g,"aria-current":R,className:I,ref:v,style:V,to:f,viewTransition:p},typeof m=="function"?m(x):m)});WR.displayName="NavLink";var ZR=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:f=jh,action:p,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:T,...w},O)=>{let j=rI(),$=iI(p,{relative:g}),H=f.toLowerCase()==="get"?"get":"post",J=typeof p=="string"&&ZT.test(p),Z=re=>{if(m&&m(re),re.defaultPrevented)return;re.preventDefault();let he=re.nativeEvent.submitter,ue=(he==null?void 0:he.getAttribute("formmethod"))||f;j(he||re.currentTarget,{fetcherKey:e,method:ue,navigate:t,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T})};return G.createElement("form",{ref:O,method:H,action:$,onSubmit:s?m:Z,...w,"data-discover":!J&&r==="render"?"true":void 0})});ZR.displayName="Form";function JR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e1(r){let e=G.useContext(Qo);return ut(e,JR(r)),e}function eI(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=Gu(),m=Ss(),g=$u(r,{relative:u});return G.useCallback(v=>{if(OR(v,e)){v.preventDefault();let T=t!==void 0?t:xu(m)===xu(g);p(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[m,p,g,t,s,e,r,o,u,f])}var tI=0,nI=()=>`__${String(++tI)}__`;function rI(){let{router:r}=e1("useSubmit"),{basename:e}=G.useContext(pr),t=TR();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:m,body:g}=PR(s,e);if(o.navigate===!1){let v=o.fetcherKey||nI();await r.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function iI(r,{relative:e}={}){let{basename:t}=G.useContext(pr),s=G.useContext(zr);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...$u(r||".",{relative:e})},f=Ss();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(v=>v==="")){p.delete("index"),m.filter(T=>T).forEach(T=>p.append("index",T));let v=p.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:gi([t,u.pathname])),xu(u)}function sI(r,e={}){let t=G.useContext(FT);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=e1("useViewTransitionState"),o=$u(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=vi(t.currentLocation.pathname,s)||t.currentLocation.pathname,f=vi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return nf(o.pathname,f)!=null||nf(o.pathname,u)!=null}var Gt=function(){return Gt=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},Gt.apply(this,arguments)};function Du(r,e,t){if(t||arguments.length===2)for(var s=0,o=e.length,u;s<o;s++)(u||!(s in e))&&(u||(u=Array.prototype.slice.call(e,0,s)),u[s]=e[s]);return r.concat(u||Array.prototype.slice.call(e))}var st="-ms-",Su="-moz-",$e="-webkit-",t1="comm",xf="rule",bg="decl",aI="@import",n1="@keyframes",oI="@layer",r1=Math.abs,Rg=String.fromCharCode,Pm=Object.assign;function lI(r,e){return Ft(r,0)^45?(((e<<2^Ft(r,0))<<2^Ft(r,1))<<2^Ft(r,2))<<2^Ft(r,3):0}function i1(r){return r.trim()}function di(r,e){return(r=e.exec(r))?r[0]:r}function De(r,e,t){return r.replace(e,t)}function Bh(r,e,t){return r.indexOf(e,t)}function Ft(r,e){return r.charCodeAt(e)|0}function Oo(r,e,t){return r.slice(e,t)}function Or(r){return r.length}function s1(r){return r.length}function mu(r,e){return e.push(r),r}function uI(r,e){return r.map(e).join("")}function W0(r,e){return r.filter(function(t){return!di(t,e)})}var Df=1,Mo=1,a1=0,er=0,Rt=0,Ko="";function Nf(r,e,t,s,o,u,f,p){return{value:r,root:e,parent:t,type:s,props:o,children:u,line:Df,column:Mo,length:f,return:"",siblings:p}}function rs(r,e){return Pm(Nf("",null,null,"",null,null,0,r.siblings),r,{length:-r.length},e)}function To(r){for(;r.root;)r=rs(r.root,{children:[r]});mu(r,r.siblings)}function cI(){return Rt}function hI(){return Rt=er>0?Ft(Ko,--er):0,Mo--,Rt===10&&(Mo=1,Df--),Rt}function ur(){return Rt=er<a1?Ft(Ko,er++):0,Mo++,Rt===10&&(Mo=1,Df++),Rt}function fa(){return Ft(Ko,er)}function qh(){return er}function Of(r,e){return Oo(Ko,r,e)}function km(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function fI(r){return Df=Mo=1,a1=Or(Ko=r),er=0,[]}function dI(r){return Ko="",r}function gm(r){return i1(Of(er-1,Lm(r===91?r+2:r===40?r+1:r)))}function pI(r){for(;(Rt=fa())&&Rt<33;)ur();return km(r)>2||km(Rt)>3?"":" "}function mI(r,e){for(;--e&&ur()&&!(Rt<48||Rt>102||Rt>57&&Rt<65||Rt>70&&Rt<97););return Of(r,qh()+(e<6&&fa()==32&&ur()==32))}function Lm(r){for(;ur();)switch(Rt){case r:return er;case 34:case 39:r!==34&&r!==39&&Lm(Rt);break;case 40:r===41&&Lm(r);break;case 92:ur();break}return er}function gI(r,e){for(;ur()&&r+Rt!==57;)if(r+Rt===84&&fa()===47)break;return"/*"+Of(e,er-1)+"*"+Rg(r===47?r:ur())}function yI(r){for(;!km(fa());)ur();return Of(r,er)}function _I(r){return dI(Hh("",null,null,null,[""],r=fI(r),0,[0],r))}function Hh(r,e,t,s,o,u,f,p,m){for(var g=0,v=0,T=f,w=0,O=0,j=0,$=1,H=1,J=1,Z=0,re="",he=o,ue=u,de=s,x=re;H;)switch(j=Z,Z=ur()){case 40:if(j!=108&&Ft(x,T-1)==58){Bh(x+=De(gm(Z),"&","&\f"),"&\f",r1(g?p[g-1]:0))!=-1&&(J=-1);break}case 34:case 39:case 91:x+=gm(Z);break;case 9:case 10:case 13:case 32:x+=pI(j);break;case 92:x+=mI(qh()-1,7);continue;case 47:switch(fa()){case 42:case 47:mu(vI(gI(ur(),qh()),e,t,m),m);break;default:x+="/"}break;case 123*$:p[g++]=Or(x)*J;case 125*$:case 59:case 0:switch(Z){case 0:case 125:H=0;case 59+v:J==-1&&(x=De(x,/\f/g,"")),O>0&&Or(x)-T&&mu(O>32?J0(x+";",s,t,T-1,m):J0(De(x," ","")+";",s,t,T-2,m),m);break;case 59:x+=";";default:if(mu(de=Z0(x,e,t,g,v,o,p,re,he=[],ue=[],T,u),u),Z===123)if(v===0)Hh(x,e,de,de,he,u,T,p,ue);else switch(w===99&&Ft(x,3)===110?100:w){case 100:case 108:case 109:case 115:Hh(r,de,de,s&&mu(Z0(r,de,de,0,0,o,p,re,o,he=[],T,ue),ue),o,ue,T,p,s?he:ue);break;default:Hh(x,de,de,de,[""],ue,0,p,ue)}}g=v=O=0,$=J=1,re=x="",T=f;break;case 58:T=1+Or(x),O=j;default:if($<1){if(Z==123)--$;else if(Z==125&&$++==0&&hI()==125)continue}switch(x+=Rg(Z),Z*$){case 38:J=v>0?1:(x+="\f",-1);break;case 44:p[g++]=(Or(x)-1)*J,J=1;break;case 64:fa()===45&&(x+=gm(ur())),w=fa(),v=T=Or(re=x+=yI(qh())),Z++;break;case 45:j===45&&Or(x)==2&&($=0)}}return u}function Z0(r,e,t,s,o,u,f,p,m,g,v,T){for(var w=o-1,O=o===0?u:[""],j=s1(O),$=0,H=0,J=0;$<s;++$)for(var Z=0,re=Oo(r,w+1,w=r1(H=f[$])),he=r;Z<j;++Z)(he=i1(H>0?O[Z]+" "+re:De(re,/&\f/g,O[Z])))&&(m[J++]=he);return Nf(r,e,t,o===0?xf:p,m,g,v,T)}function vI(r,e,t,s){return Nf(r,e,t,t1,Rg(cI()),Oo(r,2,-2),0,s)}function J0(r,e,t,s,o){return Nf(r,e,t,bg,Oo(r,0,s),Oo(r,s+1,-1),s,o)}function o1(r,e,t){switch(lI(r,e)){case 5103:return $e+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $e+r+r;case 4789:return Su+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return $e+r+Su+r+st+r+r;case 5936:switch(Ft(r,e+11)){case 114:return $e+r+st+De(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return $e+r+st+De(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return $e+r+st+De(r,/[svh]\w+-[tblr]{2}/,"lr")+r}case 6828:case 4268:case 2903:return $e+r+st+r+r;case 6165:return $e+r+st+"flex-"+r+r;case 5187:return $e+r+De(r,/(\w+).+(:[^]+)/,$e+"box-$1$2"+st+"flex-$1$2")+r;case 5443:return $e+r+st+"flex-item-"+De(r,/flex-|-self/g,"")+(di(r,/flex-|baseline/)?"":st+"grid-row-"+De(r,/flex-|-self/g,""))+r;case 4675:return $e+r+st+"flex-line-pack"+De(r,/align-content|flex-|-self/g,"")+r;case 5548:return $e+r+st+De(r,"shrink","negative")+r;case 5292:return $e+r+st+De(r,"basis","preferred-size")+r;case 6060:return $e+"box-"+De(r,"-grow","")+$e+r+st+De(r,"grow","positive")+r;case 4554:return $e+De(r,/([^-])(transform)/g,"$1"+$e+"$2")+r;case 6187:return De(De(De(r,/(zoom-|grab)/,$e+"$1"),/(image-set)/,$e+"$1"),r,"")+r;case 5495:case 3959:return De(r,/(image-set\([^]*)/,$e+"$1$`$1");case 4968:return De(De(r,/(.+:)(flex-)?(.*)/,$e+"box-pack:$3"+st+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$e+r+r;case 4200:if(!di(r,/flex-|baseline/))return st+"grid-column-align"+Oo(r,e)+r;break;case 2592:case 3360:return st+De(r,"template-","")+r;case 4384:case 3616:return t&&t.some(function(s,o){return e=o,di(s.props,/grid-\w+-end/)})?~Bh(r+(t=t[e].value),"span",0)?r:st+De(r,"-start","")+r+st+"grid-row-span:"+(~Bh(t,"span",0)?di(t,/\d+/):+di(t,/\d+/)-+di(r,/\d+/))+";":st+De(r,"-start","")+r;case 4896:case 4128:return t&&t.some(function(s){return di(s.props,/grid-\w+-start/)})?r:st+De(De(r,"-end","-span"),"span ","")+r;case 4095:case 3583:case 4068:case 2532:return De(r,/(.+)-inline(.+)/,$e+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Or(r)-1-e>6)switch(Ft(r,e+1)){case 109:if(Ft(r,e+4)!==45)break;case 102:return De(r,/(.+:)(.+)-([^]+)/,"$1"+$e+"$2-$3$1"+Su+(Ft(r,e+3)==108?"$3":"$2-$3"))+r;case 115:return~Bh(r,"stretch",0)?o1(De(r,"stretch","fill-available"),e,t)+r:r}break;case 5152:case 5920:return De(r,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,o,u,f,p,m,g){return st+o+":"+u+g+(f?st+o+"-span:"+(p?m:+m-+u)+g:"")+r});case 4949:if(Ft(r,e+6)===121)return De(r,":",":"+$e)+r;break;case 6444:switch(Ft(r,Ft(r,14)===45?18:11)){case 120:return De(r,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+$e+(Ft(r,14)===45?"inline-":"")+"box$3$1"+$e+"$2$3$1"+st+"$2box$3")+r;case 100:return De(r,":",":"+st)+r}break;case 5719:case 2647:case 2135:case 3927:case 2391:return De(r,"scroll-","scroll-snap-")+r}return r}function rf(r,e){for(var t="",s=0;s<r.length;s++)t+=e(r[s],s,r,e)||"";return t}function EI(r,e,t,s){switch(r.type){case oI:if(r.children.length)break;case aI:case bg:return r.return=r.return||r.value;case t1:return"";case n1:return r.return=r.value+"{"+rf(r.children,s)+"}";case xf:if(!Or(r.value=r.props.join(",")))return""}return Or(t=rf(r.children,s))?r.return=r.value+"{"+t+"}":""}function TI(r){var e=s1(r);return function(t,s,o,u){for(var f="",p=0;p<e;p++)f+=r[p](t,s,o,u)||"";return f}}function SI(r){return function(e){e.root||(e=e.return)&&r(e)}}function AI(r,e,t,s){if(r.length>-1&&!r.return)switch(r.type){case bg:r.return=o1(r.value,r.length,t);return;case n1:return rf([rs(r,{value:De(r.value,"@","@"+$e)})],s);case xf:if(r.length)return uI(t=r.props,function(o){switch(di(o,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":To(rs(r,{props:[De(o,/:(read-\w+)/,":"+Su+"$1")]})),To(rs(r,{props:[o]})),Pm(r,{props:W0(t,s)});break;case"::placeholder":To(rs(r,{props:[De(o,/:(plac\w+)/,":"+$e+"input-$1")]})),To(rs(r,{props:[De(o,/:(plac\w+)/,":"+Su+"$1")]})),To(rs(r,{props:[De(o,/:(plac\w+)/,st+"input-$1")]})),To(rs(r,{props:[o]})),Pm(r,{props:W0(t,s)});break}return""})}}var wI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Pn={},Vo=typeof process<"u"&&Pn!==void 0&&(Pn.REACT_APP_SC_ATTR||Pn.SC_ATTR)||"data-styled",l1="active",u1="data-styled-version",Mf="6.1.19",Ig=`/*!sc*/
`,sf=typeof window<"u"&&typeof document<"u",bI=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Pn!==void 0&&Pn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Pn.REACT_APP_SC_DISABLE_SPEEDY!==""?Pn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Pn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Pn!==void 0&&Pn.SC_DISABLE_SPEEDY!==void 0&&Pn.SC_DISABLE_SPEEDY!==""&&Pn.SC_DISABLE_SPEEDY!=="false"&&Pn.SC_DISABLE_SPEEDY),RI={},Vf=Object.freeze([]),Po=Object.freeze({});function c1(r,e,t){return t===void 0&&(t=Po),r.theme!==t.theme&&r.theme||e||t.theme}var h1=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),II=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,CI=/(^-|-$)/g;function eE(r){return r.replace(II,"-").replace(CI,"")}var xI=/(a)(d)/gi,Dh=52,tE=function(r){return String.fromCharCode(r+(r>25?39:97))};function Um(r){var e,t="";for(e=Math.abs(r);e>Dh;e=e/Dh|0)t=tE(e%Dh)+t;return(tE(e%Dh)+t).replace(xI,"$1-$2")}var ym,f1=5381,Ro=function(r,e){for(var t=e.length;t;)r=33*r^e.charCodeAt(--t);return r},d1=function(r){return Ro(f1,r)};function p1(r){return Um(d1(r)>>>0)}function DI(r){return r.displayName||r.name||"Component"}function _m(r){return typeof r=="string"&&!0}var m1=typeof Symbol=="function"&&Symbol.for,g1=m1?Symbol.for("react.memo"):60115,NI=m1?Symbol.for("react.forward_ref"):60112,OI={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},MI={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},y1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},VI=((ym={})[NI]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ym[g1]=y1,ym);function nE(r){return("type"in(e=r)&&e.type.$$typeof)===g1?y1:"$$typeof"in r?VI[r.$$typeof]:OI;var e}var PI=Object.defineProperty,kI=Object.getOwnPropertyNames,rE=Object.getOwnPropertySymbols,LI=Object.getOwnPropertyDescriptor,UI=Object.getPrototypeOf,iE=Object.prototype;function _1(r,e,t){if(typeof e!="string"){if(iE){var s=UI(e);s&&s!==iE&&_1(r,s,t)}var o=kI(e);rE&&(o=o.concat(rE(e)));for(var u=nE(r),f=nE(e),p=0;p<o.length;++p){var m=o[p];if(!(m in MI||t&&t[m]||f&&m in f||u&&m in u)){var g=LI(e,m);try{PI(r,m,g)}catch{}}}}return r}function ma(r){return typeof r=="function"}function Cg(r){return typeof r=="object"&&"styledComponentId"in r}function ca(r,e){return r&&e?"".concat(r," ").concat(e):r||e||""}function jm(r,e){if(r.length===0)return"";for(var t=r[0],s=1;s<r.length;s++)t+=r[s];return t}function Nu(r){return r!==null&&typeof r=="object"&&r.constructor.name===Object.name&&!("props"in r&&r.$$typeof)}function zm(r,e,t){if(t===void 0&&(t=!1),!t&&!Nu(r)&&!Array.isArray(r))return e;if(Array.isArray(e))for(var s=0;s<e.length;s++)r[s]=zm(r[s],e[s]);else if(Nu(e))for(var s in e)r[s]=zm(r[s],e[s]);return r}function xg(r,e){Object.defineProperty(r,"toString",{value:e})}function ga(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(r," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var jI=function(){function r(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return r.prototype.indexOfGroup=function(e){for(var t=0,s=0;s<e;s++)t+=this.groupSizes[s];return t},r.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var s=this.groupSizes,o=s.length,u=o;e>=u;)if((u<<=1)<0)throw ga(16,"".concat(e));this.groupSizes=new Uint32Array(u),this.groupSizes.set(s),this.length=u;for(var f=o;f<u;f++)this.groupSizes[f]=0}for(var p=this.indexOfGroup(e+1),m=(f=0,t.length);f<m;f++)this.tag.insertRule(p,t[f])&&(this.groupSizes[e]++,p++)},r.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],s=this.indexOfGroup(e),o=s+t;this.groupSizes[e]=0;for(var u=s;u<o;u++)this.tag.deleteRule(s)}},r.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var s=this.groupSizes[e],o=this.indexOfGroup(e),u=o+s,f=o;f<u;f++)t+="".concat(this.tag.getRule(f)).concat(Ig);return t},r}(),Fh=new Map,af=new Map,Gh=1,Nh=function(r){if(Fh.has(r))return Fh.get(r);for(;af.has(Gh);)Gh++;var e=Gh++;return Fh.set(r,e),af.set(e,r),e},zI=function(r,e){Gh=e+1,Fh.set(r,e),af.set(e,r)},BI="style[".concat(Vo,"][").concat(u1,'="').concat(Mf,'"]'),qI=new RegExp("^".concat(Vo,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),HI=function(r,e,t){for(var s,o=t.split(","),u=0,f=o.length;u<f;u++)(s=o[u])&&r.registerName(e,s)},FI=function(r,e){for(var t,s=((t=e.textContent)!==null&&t!==void 0?t:"").split(Ig),o=[],u=0,f=s.length;u<f;u++){var p=s[u].trim();if(p){var m=p.match(qI);if(m){var g=0|parseInt(m[1],10),v=m[2];g!==0&&(zI(v,g),HI(r,v,m[3]),r.getTag().insertRules(g,o)),o.length=0}else o.push(p)}}},sE=function(r){for(var e=document.querySelectorAll(BI),t=0,s=e.length;t<s;t++){var o=e[t];o&&o.getAttribute(Vo)!==l1&&(FI(r,o),o.parentNode&&o.parentNode.removeChild(o))}};function GI(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var v1=function(r){var e=document.head,t=r||e,s=document.createElement("style"),o=function(p){var m=Array.from(p.querySelectorAll("style[".concat(Vo,"]")));return m[m.length-1]}(t),u=o!==void 0?o.nextSibling:null;s.setAttribute(Vo,l1),s.setAttribute(u1,Mf);var f=GI();return f&&s.setAttribute("nonce",f),t.insertBefore(s,u),s},$I=function(){function r(e){this.element=v1(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var s=document.styleSheets,o=0,u=s.length;o<u;o++){var f=s[o];if(f.ownerNode===t)return f}throw ga(17)}(this.element),this.length=0}return r.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},r.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},r.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},r}(),QI=function(){function r(e){this.element=v1(e),this.nodes=this.element.childNodes,this.length=0}return r.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var s=document.createTextNode(t);return this.element.insertBefore(s,this.nodes[e]||null),this.length++,!0}return!1},r.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},r.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},r}(),YI=function(){function r(e){this.rules=[],this.length=0}return r.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},r.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},r.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},r}(),aE=sf,KI={isServer:!sf,useCSSOMInjection:!bI},of=function(){function r(e,t,s){e===void 0&&(e=Po),t===void 0&&(t={});var o=this;this.options=Gt(Gt({},KI),e),this.gs=t,this.names=new Map(s),this.server=!!e.isServer,!this.server&&sf&&aE&&(aE=!1,sE(this)),xg(this,function(){return function(u){for(var f=u.getTag(),p=f.length,m="",g=function(T){var w=function(J){return af.get(J)}(T);if(w===void 0)return"continue";var O=u.names.get(w),j=f.getGroup(T);if(O===void 0||!O.size||j.length===0)return"continue";var $="".concat(Vo,".g").concat(T,'[id="').concat(w,'"]'),H="";O!==void 0&&O.forEach(function(J){J.length>0&&(H+="".concat(J,","))}),m+="".concat(j).concat($,'{content:"').concat(H,'"}').concat(Ig)},v=0;v<p;v++)g(v);return m}(o)})}return r.registerId=function(e){return Nh(e)},r.prototype.rehydrate=function(){!this.server&&sf&&sE(this)},r.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new r(Gt(Gt({},this.options),e),this.gs,t&&this.names||void 0)},r.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},r.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var s=t.useCSSOMInjection,o=t.target;return t.isServer?new YI(o):s?new $I(o):new QI(o)}(this.options),new jI(e)));var e},r.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},r.prototype.registerName=function(e,t){if(Nh(e),this.names.has(e))this.names.get(e).add(t);else{var s=new Set;s.add(t),this.names.set(e,s)}},r.prototype.insertRules=function(e,t,s){this.registerName(e,t),this.getTag().insertRules(Nh(e),s)},r.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},r.prototype.clearRules=function(e){this.getTag().clearGroup(Nh(e)),this.clearNames(e)},r.prototype.clearTag=function(){this.tag=void 0},r}(),XI=/&/g,WI=/^\s*\/\/.*$/gm;function E1(r,e){return r.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(s){return"".concat(e," ").concat(s)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=E1(t.children,e)),t})}function ZI(r){var e,t,s,o=Po,u=o.options,f=u===void 0?Po:u,p=o.plugins,m=p===void 0?Vf:p,g=function(w,O,j){return j.startsWith(t)&&j.endsWith(t)&&j.replaceAll(t,"").length>0?".".concat(e):w},v=m.slice();v.push(function(w){w.type===xf&&w.value.includes("&")&&(w.props[0]=w.props[0].replace(XI,t).replace(s,g))}),f.prefix&&v.push(AI),v.push(EI);var T=function(w,O,j,$){O===void 0&&(O=""),j===void 0&&(j=""),$===void 0&&($="&"),e=$,t=O,s=new RegExp("\\".concat(t,"\\b"),"g");var H=w.replace(WI,""),J=_I(j||O?"".concat(j," ").concat(O," { ").concat(H," }"):H);f.namespace&&(J=E1(J,f.namespace));var Z=[];return rf(J,TI(v.concat(SI(function(re){return Z.push(re)})))),Z};return T.hash=m.length?m.reduce(function(w,O){return O.name||ga(15),Ro(w,O.name)},f1).toString():"",T}var JI=new of,Bm=ZI(),T1=or.createContext({shouldForwardProp:void 0,styleSheet:JI,stylis:Bm});T1.Consumer;or.createContext(void 0);function qm(){return G.useContext(T1)}var eC=function(){function r(e,t){var s=this;this.inject=function(o,u){u===void 0&&(u=Bm);var f=s.name+u.hash;o.hasNameForId(s.id,f)||o.insertRules(s.id,f,u(s.rules,f,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,xg(this,function(){throw ga(12,String(s.name))})}return r.prototype.getName=function(e){return e===void 0&&(e=Bm),this.name+e.hash},r}(),tC=function(r){return r>="A"&&r<="Z"};function oE(r){for(var e="",t=0;t<r.length;t++){var s=r[t];if(t===1&&s==="-"&&r[0]==="-")return r;tC(s)?e+="-"+s.toLowerCase():e+=s}return e.startsWith("ms-")?"-"+e:e}var S1=function(r){return r==null||r===!1||r===""},A1=function(r){var e,t,s=[];for(var o in r){var u=r[o];r.hasOwnProperty(o)&&!S1(u)&&(Array.isArray(u)&&u.isCss||ma(u)?s.push("".concat(oE(o),":"),u,";"):Nu(u)?s.push.apply(s,Du(Du(["".concat(o," {")],A1(u),!1),["}"],!1)):s.push("".concat(oE(o),": ").concat((e=o,(t=u)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in wI||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return s};function us(r,e,t,s){if(S1(r))return[];if(Cg(r))return[".".concat(r.styledComponentId)];if(ma(r)){if(!ma(u=r)||u.prototype&&u.prototype.isReactComponent||!e)return[r];var o=r(e);return us(o,e,t,s)}var u;return r instanceof eC?t?(r.inject(t,s),[r.getName(s)]):[r]:Nu(r)?A1(r):Array.isArray(r)?Array.prototype.concat.apply(Vf,r.map(function(f){return us(f,e,t,s)})):[r.toString()]}function w1(r){for(var e=0;e<r.length;e+=1){var t=r[e];if(ma(t)&&!Cg(t))return!1}return!0}var nC=d1(Mf),rC=function(){function r(e,t,s){this.rules=e,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&w1(e),this.componentId=t,this.baseHash=Ro(nC,t),this.baseStyle=s,of.registerId(t)}return r.prototype.generateAndInjectStyles=function(e,t,s){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))o=ca(o,this.staticRulesId);else{var u=jm(us(this.rules,e,t,s)),f=Um(Ro(this.baseHash,u)>>>0);if(!t.hasNameForId(this.componentId,f)){var p=s(u,".".concat(f),void 0,this.componentId);t.insertRules(this.componentId,f,p)}o=ca(o,f),this.staticRulesId=f}else{for(var m=Ro(this.baseHash,s.hash),g="",v=0;v<this.rules.length;v++){var T=this.rules[v];if(typeof T=="string")g+=T;else if(T){var w=jm(us(T,e,t,s));m=Ro(m,w+v),g+=w}}if(g){var O=Um(m>>>0);t.hasNameForId(this.componentId,O)||t.insertRules(this.componentId,O,s(g,".".concat(O),void 0,this.componentId)),o=ca(o,O)}}return o},r}(),Ou=or.createContext(void 0);Ou.Consumer;function iC(r){var e=or.useContext(Ou),t=G.useMemo(function(){return function(s,o){if(!s)throw ga(14);if(ma(s)){var u=s(o);return u}if(Array.isArray(s)||typeof s!="object")throw ga(8);return o?Gt(Gt({},o),s):s}(r.theme,e)},[r.theme,e]);return r.children?or.createElement(Ou.Provider,{value:t},r.children):null}var vm={};function sC(r,e,t){var s=Cg(r),o=r,u=!_m(r),f=e.attrs,p=f===void 0?Vf:f,m=e.componentId,g=m===void 0?function(he,ue){var de=typeof he!="string"?"sc":eE(he);vm[de]=(vm[de]||0)+1;var x="".concat(de,"-").concat(p1(Mf+de+vm[de]));return ue?"".concat(ue,"-").concat(x):x}(e.displayName,e.parentComponentId):m,v=e.displayName,T=v===void 0?function(he){return _m(he)?"styled.".concat(he):"Styled(".concat(DI(he),")")}(r):v,w=e.displayName&&e.componentId?"".concat(eE(e.displayName),"-").concat(e.componentId):e.componentId||g,O=s&&o.attrs?o.attrs.concat(p).filter(Boolean):p,j=e.shouldForwardProp;if(s&&o.shouldForwardProp){var $=o.shouldForwardProp;if(e.shouldForwardProp){var H=e.shouldForwardProp;j=function(he,ue){return $(he,ue)&&H(he,ue)}}else j=$}var J=new rC(t,w,s?o.componentStyle:void 0);function Z(he,ue){return function(de,x,R){var I=de.attrs,V=de.componentStyle,P=de.defaultProps,L=de.foldedComponentIds,D=de.styledComponentId,Dt=de.target,at=or.useContext(Ou),Y=qm(),le=de.shouldForwardProp||Y.shouldForwardProp,me=c1(x,at,P)||Po,Ce=function(Ie,ve,ct){for(var qe,Lt=Gt(Gt({},ve),{className:void 0,theme:ct}),Un=0;Un<Ie.length;Un+=1){var En=ma(qe=Ie[Un])?qe(Lt):qe;for(var sn in En)Lt[sn]=sn==="className"?ca(Lt[sn],En[sn]):sn==="style"?Gt(Gt({},Lt[sn]),En[sn]):En[sn]}return ve.className&&(Lt.className=ca(Lt.className,ve.className)),Lt}(I,x,me),N=Ce.as||Dt,ne={};for(var ae in Ce)Ce[ae]===void 0||ae[0]==="$"||ae==="as"||ae==="theme"&&Ce.theme===me||(ae==="forwardedAs"?ne.as=Ce.forwardedAs:le&&!le(ae,N)||(ne[ae]=Ce[ae]));var ie=function(Ie,ve){var ct=qm(),qe=Ie.generateAndInjectStyles(ve,ct.styleSheet,ct.stylis);return qe}(V,Ce),ge=ca(L,D);return ie&&(ge+=" "+ie),Ce.className&&(ge+=" "+Ce.className),ne[_m(N)&&!h1.has(N)?"class":"className"]=ge,R&&(ne.ref=R),G.createElement(N,ne)}(re,he,ue)}Z.displayName=T;var re=or.forwardRef(Z);return re.attrs=O,re.componentStyle=J,re.displayName=T,re.shouldForwardProp=j,re.foldedComponentIds=s?ca(o.foldedComponentIds,o.styledComponentId):"",re.styledComponentId=w,re.target=s?o.target:r,Object.defineProperty(re,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(he){this._foldedDefaultProps=s?function(ue){for(var de=[],x=1;x<arguments.length;x++)de[x-1]=arguments[x];for(var R=0,I=de;R<I.length;R++)zm(ue,I[R],!0);return ue}({},o.defaultProps,he):he}}),xg(re,function(){return".".concat(re.styledComponentId)}),u&&_1(re,r,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),re}function lE(r,e){for(var t=[r[0]],s=0,o=e.length;s<o;s+=1)t.push(e[s],r[s+1]);return t}var uE=function(r){return Object.assign(r,{isCss:!0})};function b1(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(ma(r)||Nu(r))return uE(us(lE(Vf,Du([r],e,!0))));var s=r;return e.length===0&&s.length===1&&typeof s[0]=="string"?us(s):uE(us(lE(s,e)))}function Hm(r,e,t){if(t===void 0&&(t=Po),!e)throw ga(1,e);var s=function(o){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];return r(e,t,b1.apply(void 0,Du([o],u,!1)))};return s.attrs=function(o){return Hm(r,e,Gt(Gt({},t),{attrs:Array.prototype.concat(t.attrs,o).filter(Boolean)}))},s.withConfig=function(o){return Hm(r,e,Gt(Gt({},t),o))},s}var R1=function(r){return Hm(sC,r)},se=R1;h1.forEach(function(r){se[r]=R1(r)});var aC=function(){function r(e,t){this.rules=e,this.componentId=t,this.isStatic=w1(e),of.registerId(this.componentId+1)}return r.prototype.createStyles=function(e,t,s,o){var u=o(jm(us(this.rules,t,s,o)),""),f=this.componentId+e;s.insertRules(f,f,u)},r.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},r.prototype.renderStyles=function(e,t,s,o){e>2&&of.registerId(this.componentId+e),this.removeStyles(e,s),this.createStyles(e,t,s,o)},r}();function oC(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var s=b1.apply(void 0,Du([r],e,!1)),o="sc-global-".concat(p1(JSON.stringify(s))),u=new aC(s,o),f=function(m){var g=qm(),v=or.useContext(Ou),T=or.useRef(g.styleSheet.allocateGSInstance(o)).current;return g.styleSheet.server&&p(T,m,g.styleSheet,v,g.stylis),or.useLayoutEffect(function(){if(!g.styleSheet.server)return p(T,m,g.styleSheet,v,g.stylis),function(){return u.removeStyles(T,g.styleSheet)}},[T,m,g.styleSheet,v,g.stylis]),null};function p(m,g,v,T,w){if(u.isStatic)u.renderStyles(m,RI,v,w);else{var O=Gt(Gt({},g),{theme:c1(g,T,f.defaultProps)});u.renderStyles(m,O,v,w)}}return or.memo(f)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=()=>{};var cE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},uC=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],f=r[t++],p=r[t++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[t++],f=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},C1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,v=u>>2,T=(u&3)<<4|p>>4;let w=(p&15)<<2|g>>6,O=g&63;m||(O=64,f||(w=64)),s.push(t[v],t[T],t[w],t[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(I1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):uC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],p=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||p==null||g==null||T==null)throw new cC;const w=u<<2|p>>4;if(s.push(w),g!==64){const O=p<<4&240|g>>2;if(s.push(O),T!==64){const j=g<<6&192|T;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class cC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hC=function(r){const e=I1(r);return C1.encodeByteArray(e,!0)},lf=function(r){return hC(r).replace(/\./g,"")},x1=function(r){try{return C1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=()=>fC().__FIREBASE_DEFAULTS__,pC=()=>{if(typeof process>"u"||typeof cE>"u")return;const r=cE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},mC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&x1(r[1]);return e&&JSON.parse(e)},Pf=()=>{try{return lC()||dC()||pC()||mC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},D1=r=>{var e,t;return(t=(e=Pf())==null?void 0:e.emulatorHosts)==null?void 0:t[r]},gC=r=>{const e=D1(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},N1=()=>{var r;return(r=Pf())==null?void 0:r.config},O1=r=>{var e;return(e=Pf())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function M1(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[lf(JSON.stringify(t)),lf(JSON.stringify(f)),""].join(".")}const Au={};function vC(){const r={prod:[],emulator:[]};for(const e of Object.keys(Au))Au[e]?r.emulator.push(e):r.prod.push(e);return r}function EC(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let hE=!1;function V1(r,e){if(typeof window>"u"||typeof document>"u"||!Xo(window.location.host)||Au[r]===e||Au[r]||hE)return;Au[r]=e;function t(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=vC().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,O){w.setAttribute("width","24"),w.setAttribute("id",O),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{hE=!0,f()},w}function v(w,O){w.setAttribute("id",O),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=EC(s),O=t("text"),j=document.getElementById(O)||document.createElement("span"),$=t("learnmore"),H=document.getElementById($)||document.createElement("a"),J=t("preprendIcon"),Z=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const re=w.element;p(re),v(H,$);const he=g();m(Z,J),re.append(Z,j,H,he),document.body.appendChild(re)}u?(j.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function SC(){var e;const r=(e=Pf())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function bC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RC(){const r=pn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function IC(){return!SC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CC(){try{return typeof indexedDB=="object"}catch{return!1}}function xC(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="FirebaseError";class bi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=DC,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?NC(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new bi(o,p,s)}}function NC(r,e){return r.replace(OC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const OC=/\{\$([^}]+)}/g;function MC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ya(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(fE(u)&&fE(f)){if(!ya(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function fE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function gu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function yu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function VC(r,e){const t=new PC(r,e);return t.subscribe.bind(t)}class PC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");kC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Em),o.error===void 0&&(o.error=Em),o.complete===void 0&&(o.complete=Em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kC(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(r){return r&&r._delegate?r._delegate:r}class _a{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new yC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jC(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:UC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UC(r){return r===ua?void 0:r}function jC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new LC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const BC={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},qC=Pe.INFO,HC={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},FC=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=HC[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dg{constructor(e){this.name=e,this._logLevel=qC,this._logHandler=FC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const GC=(r,e)=>e.some(t=>r instanceof t);let dE,pE;function $C(){return dE||(dE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QC(){return pE||(pE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P1=new WeakMap,Fm=new WeakMap,k1=new WeakMap,Tm=new WeakMap,Ng=new WeakMap;function YC(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{t(cs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&P1.set(t,r)}).catch(()=>{}),Ng.set(e,r),e}function KC(r){if(Fm.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Fm.set(r,e)}let Gm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Fm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||k1.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return cs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function XC(r){Gm=r(Gm)}function WC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Sm(this),e,...t);return k1.set(s,e.sort?e.sort():[e]),cs(s)}:QC().includes(r)?function(...e){return r.apply(Sm(this),e),cs(P1.get(this))}:function(...e){return cs(r.apply(Sm(this),e))}}function ZC(r){return typeof r=="function"?WC(r):(r instanceof IDBTransaction&&KC(r),GC(r,$C())?new Proxy(r,Gm):r)}function cs(r){if(r instanceof IDBRequest)return YC(r);if(Tm.has(r))return Tm.get(r);const e=ZC(r);return e!==r&&(Tm.set(r,e),Ng.set(e,r)),e}const Sm=r=>Ng.get(r);function JC(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),p=cs(f);return s&&f.addEventListener("upgradeneeded",m=>{s(cs(f.result),m.oldVersion,m.newVersion,cs(f.transaction),m)}),t&&f.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const ex=["get","getKey","getAll","getAllKeys","count"],tx=["put","add","delete","clear"],Am=new Map;function mE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Am.get(e))return Am.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=tx.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ex.includes(t)))return;const u=async function(f,...p){const m=this.transaction(f,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[t](...p),o&&m.done]))[0]};return Am.set(e,u),u}XC(r=>({...r,get:(e,t,s)=>mE(e,t)||r.get(e,t,s),has:(e,t)=>!!mE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rx(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function rx(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $m="@firebase/app",gE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new Dg("@firebase/app"),ix="@firebase/app-compat",sx="@firebase/analytics-compat",ax="@firebase/analytics",ox="@firebase/app-check-compat",lx="@firebase/app-check",ux="@firebase/auth",cx="@firebase/auth-compat",hx="@firebase/database",fx="@firebase/data-connect",dx="@firebase/database-compat",px="@firebase/functions",mx="@firebase/functions-compat",gx="@firebase/installations",yx="@firebase/installations-compat",_x="@firebase/messaging",vx="@firebase/messaging-compat",Ex="@firebase/performance",Tx="@firebase/performance-compat",Sx="@firebase/remote-config",Ax="@firebase/remote-config-compat",wx="@firebase/storage",bx="@firebase/storage-compat",Rx="@firebase/firestore",Ix="@firebase/ai",Cx="@firebase/firestore-compat",xx="firebase",Dx="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="[DEFAULT]",Nx={[$m]:"fire-core",[ix]:"fire-core-compat",[ax]:"fire-analytics",[sx]:"fire-analytics-compat",[lx]:"fire-app-check",[ox]:"fire-app-check-compat",[ux]:"fire-auth",[cx]:"fire-auth-compat",[hx]:"fire-rtdb",[fx]:"fire-data-connect",[dx]:"fire-rtdb-compat",[px]:"fire-fn",[mx]:"fire-fn-compat",[gx]:"fire-iid",[yx]:"fire-iid-compat",[_x]:"fire-fcm",[vx]:"fire-fcm-compat",[Ex]:"fire-perf",[Tx]:"fire-perf-compat",[Sx]:"fire-rc",[Ax]:"fire-rc-compat",[wx]:"fire-gcs",[bx]:"fire-gcs-compat",[Rx]:"fire-fst",[Cx]:"fire-fst-compat",[Ix]:"fire-vertex","fire-js":"fire-js",[xx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new Map,Ox=new Map,Ym=new Map;function yE(r,e){try{r.container.addComponent(e)}catch(t){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ko(r){const e=r.name;if(Ym.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;Ym.set(e,r);for(const t of uf.values())yE(t,r);for(const t of Ox.values())yE(t,r);return!0}function Og(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Zn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new Qu("app","Firebase",Mx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new _a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=Dx;function L1(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s={name:Qm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw hs.create("bad-app-name",{appName:String(o)});if(t||(t=N1()),!t)throw hs.create("no-options");const u=uf.get(o);if(u){if(ya(t,u.options)&&ya(s,u.config))return u;throw hs.create("duplicate-app",{appName:o})}const f=new zC(o);for(const m of Ym.values())f.addComponent(m);const p=new Vx(t,s,f);return uf.set(o,p),p}function U1(r=Qm){const e=uf.get(r);if(!e&&r===Qm&&N1())return L1();if(!e)throw hs.create("no-app",{appName:r});return e}function fs(r,e,t){let s=Nx[r]??r;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(f.join(" "));return}ko(new _a(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="firebase-heartbeat-database",kx=1,Mu="firebase-heartbeat-store";let wm=null;function j1(){return wm||(wm=JC(Px,kx,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Mu)}catch(t){console.warn(t)}}}}).catch(r=>{throw hs.create("idb-open",{originalErrorMessage:r.message})})),wm}async function Lx(r){try{const t=(await j1()).transaction(Mu),s=await t.objectStore(Mu).get(z1(r));return await t.done,s}catch(e){if(e instanceof bi)Ei.warn(e.message);else{const t=hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ei.warn(t.message)}}}async function _E(r,e){try{const s=(await j1()).transaction(Mu,"readwrite");await s.objectStore(Mu).put(e,z1(r)),await s.done}catch(t){if(t instanceof bi)Ei.warn(t.message);else{const s=hs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ei.warn(s.message)}}}function z1(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=1024,jx=30;class zx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qx(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=vE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>jx){const f=Hx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ei.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=vE(),{heartbeatsToSend:s,unsentEntries:o}=Bx(this._heartbeatsCache.heartbeats),u=lf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Ei.warn(t),""}}}function vE(){return new Date().toISOString().substring(0,10)}function Bx(r,e=Ux){const t=[];let s=r.slice();for(const o of r){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),EE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),EE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class qx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CC()?xC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Lx(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return _E(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return _E(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function EE(r){return lf(JSON.stringify({version:2,heartbeats:r})).length}function Hx(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(r){ko(new _a("platform-logger",e=>new nx(e),"PRIVATE")),ko(new _a("heartbeat",e=>new zx(e),"PRIVATE")),fs($m,gE,r),fs($m,gE,"esm2020"),fs("fire-js","")}Fx("");function B1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Gx=B1,q1=new Qu("auth","Firebase",B1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new Dg("@firebase/auth");function $x(r,...e){cf.logLevel<=Pe.WARN&&cf.warn(`Auth (${Wo}): ${r}`,...e)}function $h(r,...e){cf.logLevel<=Pe.ERROR&&cf.error(`Auth (${Wo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(r,...e){throw Mg(r,...e)}function Mr(r,...e){return Mg(r,...e)}function H1(r,e,t){const s={...Gx(),[e]:t};return new Qu("auth","Firebase",s).create(e,{appName:r.name})}function yi(r){return H1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mg(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return q1.create(r,...e)}function Se(r,e,...t){if(!r)throw Mg(e,...t)}function pi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw $h(e),new Error(e)}function Ti(r,e){r||pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function Qx(){return TE()==="http:"||TE()==="https:"}function TE(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Qx()||wC()||"connection"in navigator)?navigator.onLine:!0}function Kx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ti(t>e,"Short delay should be less than long delay!"),this.isMobile=TC()||bC()}get(){return Yx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(r,e){Ti(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Zx=new Ku(3e4,6e4);function As(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ri(r,e,t,s,o={}){return G1(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const p=Yu({key:r.config.apiKey,...f}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:m,...u};return AC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Xo(r.emulatorConfig.host)&&(g.credentials="include"),F1.fetch()(await $1(r,r.config.apiHost,t,p),g)})}async function G1(r,e,t){r._canInitEmulator=!1;const s={...Xx,...e};try{const o=new e2(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Oh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oh(r,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw Oh(r,"email-already-in-use",f);if(m==="USER_DISABLED")throw Oh(r,"user-disabled",f);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw H1(r,v,g);fr(r,v)}}catch(o){if(o instanceof bi)throw o;fr(r,"network-request-failed",{message:String(o)})}}async function Xu(r,e,t,s,o={}){const u=await Ri(r,e,t,s,o);return"mfaPendingCredential"in u&&fr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function $1(r,e,t,s){const o=`${e}${t}?${s}`,u=r,f=u.config.emulator?Vg(r.config,o):`${r.config.apiScheme}://${o}`;return Wx.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Jx(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class e2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Mr(this.auth,"network-request-failed")),Zx.get())})}}function Oh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Mr(r,e,s);return o.customData._tokenResponse=t,o}function SE(r){return r!==void 0&&r.enterprise!==void 0}class t2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Jx(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function n2(r,e){return Ri(r,"GET","/v2/recaptchaConfig",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(r,e){return Ri(r,"POST","/v1/accounts:delete",e)}async function hf(r,e){return Ri(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i2(r,e=!1){const t=xt(r),s=await t.getIdToken(e),o=Pg(s);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:wu(bm(o.auth_time)),issuedAtTime:wu(bm(o.iat)),expirationTime:wu(bm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function bm(r){return Number(r)*1e3}function Pg(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return $h("JWT malformed, contained fewer than 3 sections"),null;try{const o=x1(t);return o?JSON.parse(o):($h("Failed to decode base64 JWT payload"),null)}catch(o){return $h("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function AE(r){const e=Pg(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof bi&&s2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function s2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wu(this.lastLoginAt),this.creationTime=wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(r){var T;const e=r.auth,t=await r.getIdToken(),s=await Lo(r,hf(e,{idToken:t}));Se(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?Q1(o.providerUserInfo):[],f=l2(r.providerData,u),p=r.isAnonymous,m=!(r.email&&o.passwordHash)&&!(f!=null&&f.length),g=p?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Xm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function o2(r){const e=xt(r);await ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Q1(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(r,e){const t=await G1(r,{},async()=>{const s=Yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await $1(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:s};return r.emulatorConfig&&Xo(r.emulatorConfig.host)&&(m.credentials="include"),F1.fetch()(f,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function c2(r,e){return Ri(r,"POST","/v2/accounts:revokeToken",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=AE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await u2(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,f=new Co;return s&&(Se(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class lr{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new a2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Xm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Lo(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return i2(this,e)}reload(){return o2(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new lr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await ff(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await Lo(this,r2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,f=t.photoURL??void 0,p=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:O,providerData:j,stsTokenManager:$}=t;Se(T&&$,e,"internal-error");const H=Co.fromJSON(this.name,$);Se(typeof T=="string",e,"internal-error"),ts(s,e.name),ts(o,e.name),Se(typeof w=="boolean",e,"internal-error"),Se(typeof O=="boolean",e,"internal-error"),ts(u,e.name),ts(f,e.name),ts(p,e.name),ts(m,e.name),ts(g,e.name),ts(v,e.name);const J=new lr({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:O,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:H,createdAt:g,lastLoginAt:v});return j&&Array.isArray(j)&&(J.providerData=j.map(Z=>({...Z}))),m&&(J._redirectEventId=m),J}static async _fromIdTokenResponse(e,t,s=!1){const o=new Co;o.updateFromServerResponse(t);const u=new lr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ff(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Q1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new Co;p.updateFromIdToken(s);const m=new lr({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Xm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=new Map;function mi(r){Ti(r instanceof Function,"Expected a class definition");let e=wE.get(r);return e?(Ti(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,wE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Y1.type="NONE";const bE=Y1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(r,e,t){return`firebase:${r}:${e}:${t}`}class xo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Qh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Qh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await hf(this.auth,{idToken:e}).catch(()=>{});return t?lr._fromGetAccountInfoResponse(this.auth,t,e):null}return lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new xo(mi(bE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||mi(bE);const f=Qh(s,e.config.apiKey,e.name);let p=null;for(const g of t)try{const v=await g._get(f);if(v){let T;if(typeof v=="string"){const w=await hf(e,{idToken:v}).catch(()=>{});if(!w)break;T=await lr._fromGetAccountInfoResponse(e,w,v)}else T=lr._fromJSON(e,v);g!==u&&(p=T),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new xo(u,e,s):(u=m[0],p&&await u._set(f,p.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new xo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Z1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(K1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eS(e))return"Blackberry";if(tS(e))return"Webos";if(X1(e))return"Safari";if((e.includes("chrome/")||W1(e))&&!e.includes("edge/"))return"Chrome";if(J1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function K1(r=pn()){return/firefox\//i.test(r)}function X1(r=pn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function W1(r=pn()){return/crios\//i.test(r)}function Z1(r=pn()){return/iemobile/i.test(r)}function J1(r=pn()){return/android/i.test(r)}function eS(r=pn()){return/blackberry/i.test(r)}function tS(r=pn()){return/webos/i.test(r)}function kg(r=pn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function h2(r=pn()){var e;return kg(r)&&!!((e=window.navigator)!=null&&e.standalone)}function f2(){return RC()&&document.documentMode===10}function nS(r=pn()){return kg(r)||J1(r)||tS(r)||eS(r)||/windows phone/i.test(r)||Z1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(r,e=[]){let t;switch(r){case"Browser":t=RE(pn());break;case"Worker":t=`${RE(pn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((f,p)=>{try{const m=e(u);f(m)}catch(m){p(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(r,e={}){return Ri(r,"GET","/v2/passwordPolicy",As(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=6;class g2{constructor(e){var s;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??m2,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IE(this),this.idTokenSubscription=new IE(this),this.beforeStateQueue=new d2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mi(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await xo.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await hf(this,{idToken:e}),s=await lr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Zn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,p=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===p)&&(m!=null&&m.user)&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ff(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Kx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(yi(this));const t=e?xt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p2(this),t=new g2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await c2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mi(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[mi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{f=!0,m()}}else{const m=e.addObserver(t);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&$x(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ba(r){return xt(r)}class IE{constructor(e){this.auth=e,this.observer=null,this.addObserver=VC(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _2(r){kf=r}function iS(r){return kf.loadJS(r)}function v2(){return kf.recaptchaEnterpriseScript}function E2(){return kf.gapiScript}function T2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class S2{constructor(){this.enterprise=new A2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class A2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const w2="recaptcha-enterprise",sS="NO_RECAPTCHA";class b2{constructor(e){this.type=w2,this.auth=ba(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{n2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new t2(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(m=>{p(m)})})}function o(u,f,p){const m=window.grecaptcha;SE(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(sS)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new S2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!t&&SE(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=v2();m.length!==0&&(m+=p),iS(m).then(()=>{o(p,u,f)}).catch(g=>{f(g)})}}).catch(p=>{f(p)})})}}async function CE(r,e,t,s=!1,o=!1){const u=new b2(r);let f;if(o)f=sS;else try{f=await u.verify(t)}catch{f=await u.verify(t,!0)}const p={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Wm(r,e,t,s,o){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await CE(r,e,t,t==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await CE(r,e,t,t==="getOobCode");return s(r,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(r,e){const t=Og(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(ya(u,e??{}))return o;fr(o,"already-initialized")}return t.initialize({options:e})}function I2(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(mi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function C2(r,e,t){const s=ba(r);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=aS(e),{host:f,port:p}=x2(e),m=p===null?"":`:${p}`,g={url:`${u}//${f}${m}/`},v=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(ya(g,s.config.emulator)&&ya(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Xo(f)?(M1(`${u}//${f}${m}`),V1("Auth",!0)):D2()}function aS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function x2(r){const e=aS(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:xE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:xE(f)}}}function xE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function D2(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return pi("not implemented")}_getIdTokenResponse(e){return pi("not implemented")}_linkToIdToken(e,t){return pi("not implemented")}_getReauthenticationResolver(e){return pi("not implemented")}}async function N2(r,e){return Ri(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(r,e){return Xu(r,"POST","/v1/accounts:signInWithPassword",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(r,e){return Xu(r,"POST","/v1/accounts:signInWithEmailLink",As(r,e))}async function V2(r,e){return Xu(r,"POST","/v1/accounts:signInWithEmailLink",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends Lg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Vu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Vu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wm(e,t,"signInWithPassword",O2);case"emailLink":return M2(e,{email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wm(e,s,"signUpPassword",N2);case"emailLink":return V2(e,{idToken:t,email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(r,e){return Xu(r,"POST","/v1/accounts:signInWithIdp",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="http://localhost";class va extends Lg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const f=new va(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return Do(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Do(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Do(e,t)}buildRequest(){const e={requestUri:P2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function L2(r){const e=gu(yu(r)).link,t=e?gu(yu(e)).deep_link_id:null,s=gu(yu(r)).deep_link_id;return(s?gu(yu(s)).link:null)||s||t||e||r}class Ug{constructor(e){const t=gu(yu(e)),s=t.apiKey??null,o=t.oobCode??null,u=k2(t.mode??null);Se(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=L2(e);try{return new Ug(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.providerId=Zo.PROVIDER_ID}static credential(e,t){return Vu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Ug.parseLink(t);return Se(s,"argument-error"),Vu._fromEmailAndCode(e,s.code,s.tenantId)}}Zo.PROVIDER_ID="password";Zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends oS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Wu{constructor(){super("facebook.com")}static credential(e){return va._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return va._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ss.credential(t,s)}catch{return null}}}ss.GOOGLE_SIGN_IN_METHOD="google.com";ss.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Wu{constructor(){super("github.com")}static credential(e){return va._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.GITHUB_SIGN_IN_METHOD="github.com";as.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Wu{constructor(){super("twitter.com")}static credential(e,t){return va._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return os.credential(t,s)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(r,e){return Xu(r,"POST","/v1/accounts:signUp",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await lr._fromIdTokenResponse(e,s,o),f=DE(s);return new Ea({user:u,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=DE(s);return new Ea({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function DE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends bi{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,df.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new df(e,t,s,o)}}function lS(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?df._fromErrorAndOperation(r,u,e,s):u})}async function j2(r,e,t=!1){const s=await Lo(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ea._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(r,e,t=!1){const{auth:s}=r;if(Zn(s.app))return Promise.reject(yi(s));const o="reauthenticate";try{const u=await Lo(r,lS(s,o,e,r),t);Se(u.idToken,s,"internal-error");const f=Pg(u.idToken);Se(f,s,"internal-error");const{sub:p}=f;return Se(r.uid===p,s,"user-mismatch"),Ea._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&fr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uS(r,e,t=!1){if(Zn(r.app))return Promise.reject(yi(r));const s="signIn",o=await lS(r,s,e),u=await Ea._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}async function B2(r,e){return uS(ba(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cS(r){const e=ba(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function q2(r,e,t){if(Zn(r.app))return Promise.reject(yi(r));const s=ba(r),f=await Wm(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",U2).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&cS(r),m}),p=await Ea._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function H2(r,e,t){return Zn(r.app)?Promise.reject(yi(r)):B2(xt(r),Zo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&cS(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(r,e){return Ri(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=xt(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},f=await Lo(s,F2(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const p=s.providerData.find(({providerId:m})=>m==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function $2(r,e,t,s){return xt(r).onIdTokenChanged(e,t,s)}function Q2(r,e,t){return xt(r).beforeAuthStateChanged(e,t)}function Lf(r,e,t,s){return xt(r).onAuthStateChanged(e,t,s)}function Y2(r){return xt(r).signOut()}const pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pf,"1"),this.storage.removeItem(pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=1e3,X2=10;class fS extends hS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,p,m)=>{this.notifyListeners(f,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);f2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,X2):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},K2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fS.type="LOCAL";const W2=fS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS extends hS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}dS.type="SESSION";const pS=dS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Uf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async g=>g(t.origin,u)),m=await Z2(p);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,m)=>{const g=jg("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(w.data.response);break;default:clearTimeout(v),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(){return window}function eD(r){Vr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(){return typeof Vr().WorkerGlobalScope<"u"&&typeof Vr().importScripts=="function"}async function tD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function rD(){return mS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="firebaseLocalStorageDb",iD=1,mf="firebaseLocalStorage",yS="fbase_key";class Zu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jf(r,e){return r.transaction([mf],e?"readwrite":"readonly").objectStore(mf)}function sD(){const r=indexedDB.deleteDatabase(gS);return new Zu(r).toPromise()}function Zm(){const r=indexedDB.open(gS,iD);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(mf,{keyPath:yS})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(mf)?e(s):(s.close(),await sD(),e(await Zm()))})})}async function NE(r,e,t){const s=jf(r,!0).put({[yS]:e,value:t});return new Zu(s).toPromise()}async function aD(r,e){const t=jf(r,!1).get(e),s=await new Zu(t).toPromise();return s===void 0?null:s.value}function OE(r,e){const t=jf(r,!0).delete(e);return new Zu(t).toPromise()}const oD=800,lD=3;class _S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>lD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uf._getInstance(rD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await tD(),!this.activeServiceWorker)return;this.sender=new J2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zm();return await NE(e,pf,"1"),await OE(e,pf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>NE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>aD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>OE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=jf(o,!1).getAll();return new Zu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_S.type="LOCAL";const uD=_S;new Ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(r,e){return e?mi(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg extends Lg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Do(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function hD(r){return uS(r.auth,new zg(r),r.bypassAuthState)}function fD(r){const{auth:e,user:t}=r;return Se(t,e,"internal-error"),z2(t,new zg(r),r.bypassAuthState)}async function dD(r){const{auth:e,user:t}=r;return Se(t,e,"internal-error"),j2(t,new zg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hD;case"linkViaPopup":case"linkViaRedirect":return dD;case"reauthViaPopup":case"reauthViaRedirect":return fD;default:fr(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=new Ku(2e3,1e4);class Io extends vS{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Io.currentPopupAction&&Io.currentPopupAction.cancel(),Io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Ti(this.filter.length===1,"Popup operations only handle one event");const e=jg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if((s=(t=this.authWindow)==null?void 0:t.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pD.get())};e()}}Io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="pendingRedirect",Yh=new Map;class gD extends vS{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Yh.get(this.auth._key());if(!e){try{const s=await yD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Yh.set(this.auth._key(),e)}return this.bypassAuthState||Yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yD(r,e){const t=ED(e),s=vD(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function _D(r,e){Yh.set(r._key(),e)}function vD(r){return mi(r._redirectPersistence)}function ED(r){return Qh(mD,r.config.apiKey,r.name)}async function TD(r,e,t=!1){if(Zn(r.app))return Promise.reject(yi(r));const s=ba(r),o=cD(s,e),f=await new gD(s,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=600*1e3;class AD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!ES(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";t.onError(Mr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SD&&this.cachedEventUids.clear(),this.cachedEventUids.has(ME(e))}saveEventToCache(e){this.cachedEventUids.add(ME(e)),this.lastProcessedEventTime=Date.now()}}function ME(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function ES({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ES(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(r,e={}){return Ri(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ID=/^https?/;async function CD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await bD(r);for(const t of e)try{if(xD(t))return}catch{}fr(r,"unauthorized-domain")}function xD(r){const e=Km(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!ID.test(t))return!1;if(RD.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=new Ku(3e4,6e4);function VE(){const r=Vr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function ND(r){return new Promise((e,t)=>{var o,u,f;function s(){VE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VE(),t(Mr(r,"network-request-failed"))},timeout:DD.get()})}if((u=(o=Vr().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=Vr().gapi)!=null&&f.load)s();else{const p=T2("iframefcb");return Vr()[p]=()=>{gapi.load?s():t(Mr(r,"network-request-failed"))},iS(`${E2()}?onload=${p}`).catch(m=>t(m))}}).catch(e=>{throw Kh=null,e})}let Kh=null;function OD(r){return Kh=Kh||ND(r),Kh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=new Ku(5e3,15e3),VD="__/auth/iframe",PD="emulator/auth/iframe",kD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UD(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Vg(e,PD):`https://${r.config.authDomain}/${VD}`,s={apiKey:e.apiKey,appName:r.name,v:Wo},o=LD.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Yu(s).slice(1)}`}async function jD(r){const e=await OD(r),t=Vr().gapi;return Se(t,r,"internal-error"),e.open({where:document.body,url:UD(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Mr(r,"network-request-failed"),p=Vr().setTimeout(()=>{u(f)},MD.get());function m(){Vr().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BD=500,qD=600,HD="_blank",FD="http://localhost";class PE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GD(r,e,t,s=BD,o=qD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m={...zD,width:s.toString(),height:o.toString(),top:u,left:f},g=pn().toLowerCase();t&&(p=W1(g)?HD:t),K1(g)&&(e=e||FD,m.scrollbars="yes");const v=Object.entries(m).reduce((w,[O,j])=>`${w}${O}=${j},`,"");if(h2(g)&&p!=="_self")return $D(e||"",p),new PE(null);const T=window.open(e||"",p,v);Se(T,r,"popup-blocked");try{T.focus()}catch{}return new PE(T)}function $D(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="__/auth/handler",YD="emulator/auth/handler",KD=encodeURIComponent("fac");async function kE(r,e,t,s,o,u){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Wo,eventId:o};if(e instanceof oS){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",MC(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))f[v]=T}if(e instanceof Wu){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(f.scopes=v.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const m=await r._getAppCheckToken(),g=m?`#${KD}=${encodeURIComponent(m)}`:"";return`${XD(r)}?${Yu(p).slice(1)}${g}`}function XD({config:r}){return r.emulator?Vg(r,YD):`https://${r.authDomain}/${QD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="webStorageSupport";class WD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pS,this._completeRedirectFn=TD,this._overrideRedirectResult=_D}async _openPopup(e,t,s,o){var f;Ti((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await kE(e,t,s,Km(),o);return GD(e,u,jg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await kE(e,t,s,Km(),o);return eD(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Ti(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await jD(e),s=new AD(e);return t.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rm,{type:Rm},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[Rm];u!==void 0&&t(!!u),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=CD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nS()||X1()||kg()}}const ZD=WD;var LE="@firebase/auth",UE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tN(r){ko(new _a("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rS(r)},g=new y2(s,o,u,m);return I2(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ko(new _a("auth-internal",e=>{const t=ba(e.getProvider("auth").getImmediate());return(s=>new JD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),fs(LE,UE,eN(r)),fs(LE,UE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=300,rN=O1("authIdTokenMaxAge")||nN;let jE=null;const iN=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>rN)return;const o=t==null?void 0:t.token;jE!==o&&(jE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sN(r=U1()){const e=Og(r,"auth");if(e.isInitialized())return e.getImmediate();const t=R2(r,{popupRedirectResolver:ZD,persistence:[uD,W2,pS]}),s=O1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=iN(u.toString());Q2(t,f,()=>f(t.currentUser)),$2(t,p=>f(p))}}const o=D1("auth");return o&&C2(t,`http://${o}`),t}function aN(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}_2({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Mr("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",aN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tN("Browser");var oN="firebase",lN="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(oN,lN,"app");var zE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ds,TS;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function I(){}I.prototype=R.prototype,x.D=R.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(V,P,L){for(var D=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)D[Dt-2]=arguments[Dt];return R.prototype[P].apply(V,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,I){I||(I=0);var V=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)V[P]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(P=0;16>P;++P)V[P]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=x.g[0],I=x.g[1],P=x.g[2];var L=x.g[3],D=R+(L^I&(P^L))+V[0]+3614090360&4294967295;R=I+(D<<7&4294967295|D>>>25),D=L+(P^R&(I^P))+V[1]+3905402710&4294967295,L=R+(D<<12&4294967295|D>>>20),D=P+(I^L&(R^I))+V[2]+606105819&4294967295,P=L+(D<<17&4294967295|D>>>15),D=I+(R^P&(L^R))+V[3]+3250441966&4294967295,I=P+(D<<22&4294967295|D>>>10),D=R+(L^I&(P^L))+V[4]+4118548399&4294967295,R=I+(D<<7&4294967295|D>>>25),D=L+(P^R&(I^P))+V[5]+1200080426&4294967295,L=R+(D<<12&4294967295|D>>>20),D=P+(I^L&(R^I))+V[6]+2821735955&4294967295,P=L+(D<<17&4294967295|D>>>15),D=I+(R^P&(L^R))+V[7]+4249261313&4294967295,I=P+(D<<22&4294967295|D>>>10),D=R+(L^I&(P^L))+V[8]+1770035416&4294967295,R=I+(D<<7&4294967295|D>>>25),D=L+(P^R&(I^P))+V[9]+2336552879&4294967295,L=R+(D<<12&4294967295|D>>>20),D=P+(I^L&(R^I))+V[10]+4294925233&4294967295,P=L+(D<<17&4294967295|D>>>15),D=I+(R^P&(L^R))+V[11]+2304563134&4294967295,I=P+(D<<22&4294967295|D>>>10),D=R+(L^I&(P^L))+V[12]+1804603682&4294967295,R=I+(D<<7&4294967295|D>>>25),D=L+(P^R&(I^P))+V[13]+4254626195&4294967295,L=R+(D<<12&4294967295|D>>>20),D=P+(I^L&(R^I))+V[14]+2792965006&4294967295,P=L+(D<<17&4294967295|D>>>15),D=I+(R^P&(L^R))+V[15]+1236535329&4294967295,I=P+(D<<22&4294967295|D>>>10),D=R+(P^L&(I^P))+V[1]+4129170786&4294967295,R=I+(D<<5&4294967295|D>>>27),D=L+(I^P&(R^I))+V[6]+3225465664&4294967295,L=R+(D<<9&4294967295|D>>>23),D=P+(R^I&(L^R))+V[11]+643717713&4294967295,P=L+(D<<14&4294967295|D>>>18),D=I+(L^R&(P^L))+V[0]+3921069994&4294967295,I=P+(D<<20&4294967295|D>>>12),D=R+(P^L&(I^P))+V[5]+3593408605&4294967295,R=I+(D<<5&4294967295|D>>>27),D=L+(I^P&(R^I))+V[10]+38016083&4294967295,L=R+(D<<9&4294967295|D>>>23),D=P+(R^I&(L^R))+V[15]+3634488961&4294967295,P=L+(D<<14&4294967295|D>>>18),D=I+(L^R&(P^L))+V[4]+3889429448&4294967295,I=P+(D<<20&4294967295|D>>>12),D=R+(P^L&(I^P))+V[9]+568446438&4294967295,R=I+(D<<5&4294967295|D>>>27),D=L+(I^P&(R^I))+V[14]+3275163606&4294967295,L=R+(D<<9&4294967295|D>>>23),D=P+(R^I&(L^R))+V[3]+4107603335&4294967295,P=L+(D<<14&4294967295|D>>>18),D=I+(L^R&(P^L))+V[8]+1163531501&4294967295,I=P+(D<<20&4294967295|D>>>12),D=R+(P^L&(I^P))+V[13]+2850285829&4294967295,R=I+(D<<5&4294967295|D>>>27),D=L+(I^P&(R^I))+V[2]+4243563512&4294967295,L=R+(D<<9&4294967295|D>>>23),D=P+(R^I&(L^R))+V[7]+1735328473&4294967295,P=L+(D<<14&4294967295|D>>>18),D=I+(L^R&(P^L))+V[12]+2368359562&4294967295,I=P+(D<<20&4294967295|D>>>12),D=R+(I^P^L)+V[5]+4294588738&4294967295,R=I+(D<<4&4294967295|D>>>28),D=L+(R^I^P)+V[8]+2272392833&4294967295,L=R+(D<<11&4294967295|D>>>21),D=P+(L^R^I)+V[11]+1839030562&4294967295,P=L+(D<<16&4294967295|D>>>16),D=I+(P^L^R)+V[14]+4259657740&4294967295,I=P+(D<<23&4294967295|D>>>9),D=R+(I^P^L)+V[1]+2763975236&4294967295,R=I+(D<<4&4294967295|D>>>28),D=L+(R^I^P)+V[4]+1272893353&4294967295,L=R+(D<<11&4294967295|D>>>21),D=P+(L^R^I)+V[7]+4139469664&4294967295,P=L+(D<<16&4294967295|D>>>16),D=I+(P^L^R)+V[10]+3200236656&4294967295,I=P+(D<<23&4294967295|D>>>9),D=R+(I^P^L)+V[13]+681279174&4294967295,R=I+(D<<4&4294967295|D>>>28),D=L+(R^I^P)+V[0]+3936430074&4294967295,L=R+(D<<11&4294967295|D>>>21),D=P+(L^R^I)+V[3]+3572445317&4294967295,P=L+(D<<16&4294967295|D>>>16),D=I+(P^L^R)+V[6]+76029189&4294967295,I=P+(D<<23&4294967295|D>>>9),D=R+(I^P^L)+V[9]+3654602809&4294967295,R=I+(D<<4&4294967295|D>>>28),D=L+(R^I^P)+V[12]+3873151461&4294967295,L=R+(D<<11&4294967295|D>>>21),D=P+(L^R^I)+V[15]+530742520&4294967295,P=L+(D<<16&4294967295|D>>>16),D=I+(P^L^R)+V[2]+3299628645&4294967295,I=P+(D<<23&4294967295|D>>>9),D=R+(P^(I|~L))+V[0]+4096336452&4294967295,R=I+(D<<6&4294967295|D>>>26),D=L+(I^(R|~P))+V[7]+1126891415&4294967295,L=R+(D<<10&4294967295|D>>>22),D=P+(R^(L|~I))+V[14]+2878612391&4294967295,P=L+(D<<15&4294967295|D>>>17),D=I+(L^(P|~R))+V[5]+4237533241&4294967295,I=P+(D<<21&4294967295|D>>>11),D=R+(P^(I|~L))+V[12]+1700485571&4294967295,R=I+(D<<6&4294967295|D>>>26),D=L+(I^(R|~P))+V[3]+2399980690&4294967295,L=R+(D<<10&4294967295|D>>>22),D=P+(R^(L|~I))+V[10]+4293915773&4294967295,P=L+(D<<15&4294967295|D>>>17),D=I+(L^(P|~R))+V[1]+2240044497&4294967295,I=P+(D<<21&4294967295|D>>>11),D=R+(P^(I|~L))+V[8]+1873313359&4294967295,R=I+(D<<6&4294967295|D>>>26),D=L+(I^(R|~P))+V[15]+4264355552&4294967295,L=R+(D<<10&4294967295|D>>>22),D=P+(R^(L|~I))+V[6]+2734768916&4294967295,P=L+(D<<15&4294967295|D>>>17),D=I+(L^(P|~R))+V[13]+1309151649&4294967295,I=P+(D<<21&4294967295|D>>>11),D=R+(P^(I|~L))+V[4]+4149444226&4294967295,R=I+(D<<6&4294967295|D>>>26),D=L+(I^(R|~P))+V[11]+3174756917&4294967295,L=R+(D<<10&4294967295|D>>>22),D=P+(R^(L|~I))+V[2]+718787259&4294967295,P=L+(D<<15&4294967295|D>>>17),D=I+(L^(P|~R))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var I=R-this.blockSize,V=this.B,P=this.h,L=0;L<R;){if(P==0)for(;L<=I;)o(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<R;)if(V[P++]=x.charCodeAt(L++),P==this.blockSize){o(this,V),P=0;break}}else for(;L<R;)if(V[P++]=x[L++],P==this.blockSize){o(this,V),P=0;break}}this.h=P,this.o+=R},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var I=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=I&255,I/=256;for(this.u(x),x=Array(16),R=I=0;4>R;++R)for(var V=0;32>V;V+=8)x[I++]=this.g[R]>>>V&255;return x};function u(x,R){var I=p;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=R(x)}function f(x,R){this.h=R;for(var I=[],V=!0,P=x.length-1;0<=P;P--){var L=x[P]|0;V&&L==R||(I[P]=L,V=!1)}this.g=I}var p={};function m(x){return-128<=x&&128>x?u(x,function(R){return new f([R|0],0>R?-1:0)}):new f([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return T;if(0>x)return H(g(-x));for(var R=[],I=1,V=0;x>=I;V++)R[V]=x/I|0,I*=4294967296;return new f(R,0)}function v(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return H(v(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),V=T,P=0;P<x.length;P+=8){var L=Math.min(8,x.length-P),D=parseInt(x.substring(P,P+L),R);8>L?(L=g(Math.pow(R,L)),V=V.j(L).add(g(D))):(V=V.j(I),V=V.add(g(D)))}return V}var T=m(0),w=m(1),O=m(16777216);r=f.prototype,r.m=function(){if($(this))return-H(this).m();for(var x=0,R=1,I=0;I<this.g.length;I++){var V=this.i(I);x+=(0<=V?V:4294967296+V)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(j(this))return"0";if($(this))return"-"+H(this).toString(x);for(var R=g(Math.pow(x,6)),I=this,V="";;){var P=he(I,R).g;I=J(I,P.j(R));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=P,j(I))return L+V;for(;6>L.length;)L="0"+L;V=L+V}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function j(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function $(x){return x.h==-1}r.l=function(x){return x=J(this,x),$(x)?-1:j(x)?0:1};function H(x){for(var R=x.g.length,I=[],V=0;V<R;V++)I[V]=~x.g[V];return new f(I,~x.h).add(w)}r.abs=function(){return $(this)?H(this):this},r.add=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],V=0,P=0;P<=R;P++){var L=V+(this.i(P)&65535)+(x.i(P)&65535),D=(L>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);V=D>>>16,L&=65535,D&=65535,I[P]=D<<16|L}return new f(I,I[I.length-1]&-2147483648?-1:0)};function J(x,R){return x.add(H(R))}r.j=function(x){if(j(this)||j(x))return T;if($(this))return $(x)?H(this).j(H(x)):H(H(this).j(x));if($(x))return H(this.j(H(x)));if(0>this.l(O)&&0>x.l(O))return g(this.m()*x.m());for(var R=this.g.length+x.g.length,I=[],V=0;V<2*R;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(var P=0;P<x.g.length;P++){var L=this.i(V)>>>16,D=this.i(V)&65535,Dt=x.i(P)>>>16,at=x.i(P)&65535;I[2*V+2*P]+=D*at,Z(I,2*V+2*P),I[2*V+2*P+1]+=L*at,Z(I,2*V+2*P+1),I[2*V+2*P+1]+=D*Dt,Z(I,2*V+2*P+1),I[2*V+2*P+2]+=L*Dt,Z(I,2*V+2*P+2)}for(V=0;V<R;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=R;V<2*R;V++)I[V]=0;return new f(I,0)};function Z(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function re(x,R){this.g=x,this.h=R}function he(x,R){if(j(R))throw Error("division by zero");if(j(x))return new re(T,T);if($(x))return R=he(H(x),R),new re(H(R.g),H(R.h));if($(R))return R=he(x,H(R)),new re(H(R.g),R.h);if(30<x.g.length){if($(x)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var I=w,V=R;0>=V.l(x);)I=ue(I),V=ue(V);var P=de(I,1),L=de(V,1);for(V=de(V,2),I=de(I,2);!j(V);){var D=L.add(V);0>=D.l(x)&&(P=P.add(I),L=D),V=de(V,1),I=de(I,1)}return R=J(x,P.j(R)),new re(P,R)}for(P=T;0<=x.l(R);){for(I=Math.max(1,Math.floor(x.m()/R.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),L=g(I),D=L.j(R);$(D)||0<D.l(x);)I-=V,L=g(I),D=L.j(R);j(L)&&(L=w),P=P.add(L),x=J(x,D)}return new re(P,x)}r.A=function(x){return he(this,x).h},r.and=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)&x.i(V);return new f(I,this.h&x.h)},r.or=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)|x.i(V);return new f(I,this.h|x.h)},r.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)^x.i(V);return new f(I,this.h^x.h)};function ue(x){for(var R=x.g.length+1,I=[],V=0;V<R;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new f(I,x.h)}function de(x,R){var I=R>>5;R%=32;for(var V=x.g.length-I,P=[],L=0;L<V;L++)P[L]=0<R?x.i(L+I)>>>R|x.i(L+I+1)<<32-R:x.i(L+I);return new f(P,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,TS=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,ds=f}).apply(typeof zE<"u"?zE:typeof self<"u"?self:typeof window<"u"?window:{});var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SS,_u,AS,Xh,Jm,wS,bS,RS;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mh=="object"&&Mh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var U=c[b];if(!(U in _))break e;_=_[U]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,U={next:function(){if(!b&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,b),c.apply(y,U)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,w.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function j(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,U,Q){for(var oe=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)oe[Ue-2]=arguments[Ue];return y.prototype[U].apply(b,oe)}}function $(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function H(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(m(b)){const U=c.length||0,Q=b.length||0;c.length=U+Q;for(let oe=0;oe<Q;oe++)c[U+oe]=b[oe]}else c.push(b)}}class J{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Z(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var ue=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function de(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function x(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let _,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(_ in b)c[_]=b[_];for(let Q=0;Q<I.length;Q++)_=I[Q],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){p.setTimeout(()=>{throw c},0)}function D(){var c=Ce;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Dt{constructor(){this.h=this.g=null}add(y,_){const b=at.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var at=new J(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,me=!1,Ce=new Dt,N=()=>{const c=p.Promise.resolve(void 0);le=()=>{c.then(ne)}};var ne=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){L(_)}var y=at;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,y),p.removeEventListener("test",_,y)}catch{}return c}();function Ie(c,y){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ue){e:{try{he(y.nodeName);var U=!0;break e}catch{}U=!1}U||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}j(Ie,ie);var ve={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ct="closure_listenable_"+(1e6*Math.random()|0),qe=0;function Lt(c,y,_,b,U){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=U,this.key=++qe,this.da=this.fa=!1}function Un(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function En(c){this.src=c,this.g={},this.h=0}En.prototype.add=function(c,y,_,b,U){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var oe=Is(c,y,b,U);return-1<oe?(y=c[oe],_||(y.fa=!1)):(y=new Lt(y,this.src,Q,!!b,U),y.fa=_,c.push(y)),y};function sn(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],U=Array.prototype.indexOf.call(b,y,void 0),Q;(Q=0<=U)&&Array.prototype.splice.call(b,U,1),Q&&(Un(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Is(c,y,_,b){for(var U=0;U<c.length;++U){var Q=c[U];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==b)return U}return-1}var Cs="closure_lm_"+(1e6*Math.random()|0),il={};function sc(c,y,_,b,U){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)sc(c,y[Q],_,b,U);return null}return _=ac(_),c&&c[ct]?c.K(y,_,g(b)?!!b.capture:!1,U):jn(c,y,_,!1,b,U)}function jn(c,y,_,b,U,Q){if(!y)throw Error("Invalid event type");var oe=g(U)?!!U.capture:!!U,Ue=xa(c);if(Ue||(c[Cs]=Ue=new En(c)),_=Ue.add(y,_,b,oe,Q),_.proxy)return _;if(b=ld(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ge||(U=oe),U===void 0&&(U=!1),c.addEventListener(y.toString(),b,U);else if(c.attachEvent)c.attachEvent(xs(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ld(){function c(_){return y.call(c.src,c.listener,_)}const y=ud;return c}function sl(c,y,_,b,U){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)sl(c,y[Q],_,b,U);else b=g(b)?!!b.capture:!!b,_=ac(_),c&&c[ct]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=Is(Q,_,b,U),-1<_&&(Un(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=xa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Is(y,_,b,U)),(_=-1<c?y[c]:null)&&Ca(_))}function Ca(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ct])sn(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(xs(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=xa(y))?(sn(_,c),_.h==0&&(_.src=null,y[Cs]=null)):Un(c)}}}function xs(c){return c in il?il[c]:il[c]="on"+c}function ud(c,y){if(c.da)c=!0;else{y=new Ie(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&Ca(c),c=_.call(b,y)}return c}function xa(c){return c=c[Cs],c instanceof En?c:null}var al="__closure_events_fn_"+(1e9*Math.random()>>>0);function ac(c){return typeof c=="function"?c:(c[al]||(c[al]=function(y){return c.handleEvent(y)}),c[al])}function dt(){ae.call(this),this.i=new En(this),this.M=this,this.F=null}j(dt,ae),dt.prototype[ct]=!0,dt.prototype.removeEventListener=function(c,y,_,b){sl(this,c,y,_,b)};function Ye(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new ie(y,c);else if(y instanceof ie)y.target=y.target||c;else{var U=y;y=new ie(b,c),V(y,U)}if(U=!0,_)for(var Q=_.length-1;0<=Q;Q--){var oe=y.g=_[Q];U=Rn(oe,b,!0,y)&&U}if(oe=y.g=c,U=Rn(oe,b,!0,y)&&U,U=Rn(oe,b,!1,y)&&U,_)for(Q=0;Q<_.length;Q++)oe=y.g=_[Q],U=Rn(oe,b,!1,y)&&U}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)Un(_[b]);delete c.g[y],c.h--}}this.F=null},dt.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},dt.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function Rn(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,Q=0;Q<y.length;++Q){var oe=y[Q];if(oe&&!oe.da&&oe.capture==_){var Ue=oe.listener,Ot=oe.ha||oe.src;oe.fa&&sn(c.i,oe),U=Ue.call(Ot,b)!==!1&&U}}return U&&!b.defaultPrevented}function an(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function oc(c){c.g=an(()=>{c.g=null,c.i&&(c.i=!1,oc(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class cd extends ae{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:oc(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ds(c){ae.call(this),this.h=c,this.g={}}j(Ds,ae);var Ns=[];function Os(c){de(c.g,function(y,_){this.g.hasOwnProperty(_)&&Ca(y)},c),c.g={}}Ds.prototype.N=function(){Ds.aa.N.call(this),Os(this)},Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tr=p.JSON.stringify,Da=p.JSON.parse,Ms=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function ol(){}ol.prototype.h=null;function ll(c){return c.h||(c.h=c.i())}function ul(){}var Br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qr(){ie.call(this,"d")}j(qr,ie);function cl(){ie.call(this,"c")}j(cl,ie);var mr={},hl=null;function Ii(){return hl=hl||new dt}mr.La="serverreachability";function Na(c){ie.call(this,mr.La,c)}j(Na,ie);function Ci(c){const y=Ii();Ye(y,new Na(y))}mr.STAT_EVENT="statevent";function lc(c,y){ie.call(this,mr.STAT_EVENT,c),this.stat=y}j(lc,ie);function ot(c){const y=Ii();Ye(y,new lc(y,c))}mr.Ma="timingevent";function Nt(c,y){ie.call(this,mr.Ma,c),this.size=y}j(Nt,ie);function Tt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function zn(){this.g=!0}zn.prototype.xa=function(){this.g=!1};function fl(c,y,_,b,U,Q){c.info(function(){if(c.g)if(Q)for(var oe="",Ue=Q.split("&"),Ot=0;Ot<Ue.length;Ot++){var je=Ue[Ot].split("=");if(1<je.length){var jt=je[0];je=je[1];var Mt=jt.split("_");oe=2<=Mt.length&&Mt[1]=="type"?oe+(jt+"="+je+"&"):oe+(jt+"=redacted&")}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+y+`
`+_+`
`+oe})}function hd(c,y,_,b,U,Q,oe){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+y+`
`+_+`
`+Q+" "+oe})}function xi(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Vs(c,_)+(b?" "+b:"")})}function uc(c,y){c.info(function(){return"TIMEOUT: "+y})}zn.prototype.info=function(){};function Vs(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var U=b[1];if(Array.isArray(U)&&!(1>U.length)){var Q=U[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var oe=1;oe<U.length;oe++)U[oe]=""}}}}return tr(_)}catch{return y}}var Di={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gr;function yr(){}j(yr,ol),yr.prototype.g=function(){return new XMLHttpRequest},yr.prototype.i=function(){return{}},gr=new yr;function mn(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new Ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yt}function yt(){this.i=null,this.g="",this.h=!1}var dl={},Oa={};function nr(c,y,_){c.L=1,c.v=js(In(y)),c.m=_,c.P=!0,Fr(c,null)}function Fr(c,y){c.F=Date.now(),Ps(c),c.A=In(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),vl(_.i,"t",b),c.C=0,_=c.j.J,c.h=new yt,c.g=bc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new cd(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Ns[0]=U.toString()),U=Ns);for(var Q=0;Q<U.length;Q++){var oe=sc(_,U[Q],b||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ci(),fl(c.i,c.u,c.A,c.l,c.R,c.m)}mn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Fn(c)==3?y.j():this.Y(c)},mn.prototype.Y=function(c){try{if(c==this.g)e:{const Mt=Fn(this.g);var y=this.g.Ba();const Zr=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||yc(this.g)))){this.J||Mt!=4||y==7||(y==8||0>=Zr?Ci(3):Ci(2)),Ni(this);var _=this.g.Z();this.X=_;t:if(cc(this)){var b=yc(this.g);c="";var U=b.length,Q=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$t(this),_r(this);var oe="";break t}this.h.i=new p.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Q&&y==U-1)});b.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,hd(this.i,this.u,this.A,this.l,this.R,Mt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Ot=this.g;if((Ue=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Ue)){var je=Ue;break t}}je=null}if(_=je)xi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ks(this,_);else{this.o=!1,this.s=3,ot(12),$t(this),_r(this);break e}}if(this.P){_=!0;let Qt;for(;!this.J&&this.C<oe.length;)if(Qt=hc(this,oe),Qt==Oa){Mt==4&&(this.s=4,ot(14),_=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==dl){this.s=4,ot(15),xi(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else xi(this.i,this.l,Qt,null),ks(this,Qt);if(cc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||oe.length!=0||this.h.h||(this.s=1,ot(16),_=!1),this.o=this.o&&_,!_)xi(this.i,this.l,oe,"[Invalid Chunked Response]"),$t(this),_r(this);else if(0<oe.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Qs(jt),jt.M=!0,ot(11))}}else xi(this.i,this.l,oe,null),ks(this,oe);Mt==4&&$t(this),this.o&&!this.J&&(Mt==4?Sc(this.j,this):(this.o=!1,Ps(this)))}else gd(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),$t(this),_r(this)}}}catch{}finally{}};function cc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function hc(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?Oa:(_=Number(y.substring(_,b)),isNaN(_)?dl:(b+=1,b+_>y.length?Oa:(y=y.slice(b,b+_),c.C=b+_,y)))}mn.prototype.cancel=function(){this.J=!0,$t(this)};function Ps(c){c.S=Date.now()+c.I,fc(c,c.I)}function fc(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Tt(w(c.ba,c),y)}function Ni(c){c.B&&(p.clearTimeout(c.B),c.B=null)}mn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(uc(this.i,this.A),this.L!=2&&(Ci(),ot(17)),$t(this),this.s=2,_r(this)):fc(this,this.S-c)};function _r(c){c.j.G==0||c.J||Sc(c.j,c)}function $t(c){Ni(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Os(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ks(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||pl(_.h,c))){if(!c.K&&pl(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Fa(_),qa(_);else break e;wl(_),ot(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=Tt(w(_.Za,_),6e3));if(1>=Va(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Wr(_,11)}else if((c.K||_.g==c)&&Fa(_),!Z(y))for(U=_.Da.g.parse(y),y=0;y<U.length;y++){let je=U[y];if(_.T=je[0],je=je[1],_.G==2)if(je[0]=="c"){_.K=je[1],_.ia=je[2];const jt=je[3];jt!=null&&(_.la=jt,_.j.info("VER="+_.la));const Mt=je[4];Mt!=null&&(_.Aa=Mt,_.j.info("SVER="+_.Aa));const Zr=je[5];Zr!=null&&typeof Zr=="number"&&0<Zr&&(b=1.5*Zr,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Qt=c.g;if(Qt){const br=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(br){var Q=b.h;Q.g||br.indexOf("spdy")==-1&&br.indexOf("quic")==-1&&br.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Pa(Q,Q.h),Q.h=null))}if(b.D){const Rl=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Rl&&(b.ya=Rl,We(b.I,b.D,Rl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var oe=c;if(b.qa=wc(b,b.J?b.ia:null,b.W),oe.K){gn(b.h,oe);var Ue=oe,Ot=b.L;Ot&&(Ue.I=Ot),Ue.B&&(Ni(Ue),Ps(Ue)),b.g=oe}else Ec(b);0<_.i.length&&Ha(_)}else je[0]!="stop"&&je[0]!="close"||Wr(_,7);else _.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Wr(_,7):Sl(_):je[0]!="noop"&&_.l&&_.l.ta(je),_.v=0)}}Ci(4)}catch{}}var dc=class{constructor(c,y){this.g=c,this.map=y}};function Gr(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ma(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Va(c){return c.h?1:c.g?c.g.size:0}function pl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Pa(c,y){c.g?c.g.add(y):c.h=y}function gn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Gr.prototype.cancel=function(){if(this.i=ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ml(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return $(c.i)}function fd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function ka(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function gl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ka(c),b=fd(c),U=b.length,Q=0;Q<U;Q++)y.call(void 0,b[Q],_&&_[Q],c)}var Ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dd(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),U=null;if(0<=b){var Q=c[_].substring(0,b);U=c[_].substring(b+1)}else Q=c[_];y(Q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function St(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof St){this.h=c.h,Us(this,c.j),this.o=c.o,this.g=c.g,Oi(this,c.s),this.l=c.l;var y=c.i,_=new Qr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),$r(this,_),this.m=c.m}else c&&(y=String(c).match(Ls))?(this.h=!1,Us(this,y[1]||"",!0),this.o=Bn(y[2]||""),this.g=Bn(y[3]||"",!0),Oi(this,y[4]),this.l=Bn(y[5]||"",!0),$r(this,y[6]||"",!0),this.m=Bn(y[7]||"")):(this.h=!1,this.i=new Qr(null,this.h))}St.prototype.toString=function(){var c=[],y=this.j;y&&c.push(zs(y,yl,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(zs(y,yl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(zs(_,_.charAt(0)=="/"?pd:_l,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",zs(_,La)),c.join("")};function In(c){return new St(c)}function Us(c,y,_){c.j=_?Bn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Oi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function $r(c,y,_){y instanceof Qr?(c.i=y,mc(c.i,c.h)):(_||(y=zs(y,md)),c.i=new Qr(y,c.h))}function We(c,y,_){c.i.set(y,_)}function js(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Bn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function zs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,pc),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var yl=/[#\/\?@]/g,_l=/[#\?:]/g,pd=/[#\?]/g,md=/[#\?@]/g,La=/#/g;function Qr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function qn(c){c.g||(c.g=new Map,c.h=0,c.i&&dd(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Qr.prototype,r.add=function(c,y){qn(this),this.i=null,c=vr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Yr(c,y){qn(c),y=vr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Kr(c,y){return qn(c),y=vr(c,y),c.g.has(y)}r.forEach=function(c,y){qn(this),this.g.forEach(function(_,b){_.forEach(function(U){c.call(y,U,b,this)},this)},this)},r.na=function(){qn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const U=c[b];for(let Q=0;Q<U.length;Q++)_.push(y[b])}return _},r.V=function(c){qn(this);let y=[];if(typeof c=="string")Kr(this,c)&&(y=y.concat(this.g.get(vr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return qn(this),this.i=null,c=vr(this,c),Kr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function vl(c,y,_){Yr(c,y),0<_.length&&(c.i=null,c.g.set(vr(c,y),$(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const Q=encodeURIComponent(String(b)),oe=this.V(b);for(b=0;b<oe.length;b++){var U=Q;oe[b]!==""&&(U+="="+encodeURIComponent(String(oe[b]))),c.push(U)}}return this.i=c.join("&")};function vr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function mc(c,y){y&&!c.j&&(qn(c),c.i=null,c.g.forEach(function(_,b){var U=b.toLowerCase();b!=U&&(Yr(this,b),vl(this,U,_))},c)),c.j=y}function Bs(c,y){const _=new zn;if(p.Image){const b=new Image;b.onload=O(Hn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=O(Hn,_,"TestLoadImage: error",!1,y,b),b.onabort=O(Hn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=O(Hn,_,"TestLoadImage: timeout",!1,y,b),p.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function rr(c,y){const _=new zn,b=new AbortController,U=setTimeout(()=>{b.abort(),Hn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Q=>{clearTimeout(U),Q.ok?Hn(_,"TestPingServer: ok",!0,y):Hn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Hn(_,"TestPingServer: error",!1,y)})}function Hn(c,y,_,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(_)}catch{}}function qs(){this.g=new Ms}function Er(c,y,_){const b=_||"";try{gl(c,function(U,Q){let oe=U;g(U)&&(oe=tr(U)),y.push(b+Q+"="+encodeURIComponent(oe))})}catch(U){throw y.push(b+"type="+encodeURIComponent("_badmap")),U}}function Mi(c){this.l=c.Ub||null,this.j=c.eb||!1}j(Mi,ol),Mi.prototype.g=function(){return new Xr(this.l,this.j)},Mi.prototype.i=function(c){return function(){return c}}({});function Xr(c,y){dt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Xr,dt),r=Xr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Sr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Sr(this)),this.g&&(this.readyState=3,Sr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;El(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function El(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Tr(this):Sr(this),this.readyState==3&&El(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Tr(this))},r.Qa=function(c){this.g&&(this.response=c,Tr(this))},r.ga=function(){this.g&&Tr(this)};function Tr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Sr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Sr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Tl(c){let y="";return de(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Ut(c,y,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=Tl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):We(c,y,_))}function Ge(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Ge,dt);var Ua=/^https?$/i,Hs=["POST","PUT"];r=Ge.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gr.g(),this.v=this.o?ll(this.o):ll(gr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){gc(this,Q);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)_.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())_.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),U=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Hs,y,void 0))||b||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of _)this.g.setRequestHeader(Q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){gc(this,Q)}};function gc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ja(c),Ar(c)}function ja(c){c.A||(c.A=!0,Ye(c,"complete"),Ye(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ye(this,"complete"),Ye(this,"abort"),Ar(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ar(this,!0)),Ge.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?za(this):this.bb())},r.bb=function(){za(this)};function za(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Fn(c)!=4||c.Z()!=2)){if(c.u&&Fn(c)==4)an(c.Ea,0,c);else if(Ye(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var b;if(b=oe===0){var U=String(c.D).match(Ls)[1]||null;!U&&p.self&&p.self.location&&(U=p.self.location.protocol.slice(0,-1)),b=!Ua.test(U?U.toLowerCase():"")}_=b}if(_)Ye(c,"complete"),Ye(c,"success");else{c.m=6;try{var Q=2<Fn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",ja(c)}}finally{Ar(c)}}}}function Ar(c,y){if(c.g){Fs(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ye(c,"ready");try{_.onreadystatechange=b}catch{}}}function Fs(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Da(y)}};function yc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function gd(c){const y={};c=(c.g&&2<=Fn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(Z(c[b]))continue;var _=P(c[b]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[U]||[];y[U]=Q,Q.push(_)}x(y,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ba(c){this.Aa=0,this.i=[],this.j=new zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gs("baseRetryDelayMs",5e3,c),this.cb=Gs("retryDelaySeedMs",1e4,c),this.Wa=Gs("forwardChannelMaxRetries",2,c),this.wa=Gs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Gr(c&&c.concurrentRequestLimit),this.Da=new qs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ba.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,b){ot(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=wc(this,null,this.W),Ha(this)};function Sl(c){if(_c(c),c.G==3){var y=c.U++,_=In(c.I);if(We(_,"SID",c.K),We(_,"RID",y),We(_,"TYPE","terminate"),$s(c,_),y=new mn(c,c.j,y),y.L=2,y.v=js(In(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=y.v,_=!0),_||(y.g=bc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ps(y)}Ac(c)}function qa(c){c.g&&(Qs(c),c.g.cancel(),c.g=null)}function _c(c){qa(c),c.u&&(p.clearTimeout(c.u),c.u=null),Fa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function Ha(c){if(!Ma(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||N(),me||(le(),me=!0),Ce.add(y,c),c.B=0}}function yd(c,y){return Va(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Tt(w(c.Ga,c,y),bl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new mn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=R(Q),V(Q,this.S)):Q=this.S),this.m!==null||this.O||(U.H=Q,Q=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=vc(this,U,y),_=In(this.I),We(_,"RID",c),We(_,"CVER",22),this.D&&We(_,"X-HTTP-Session-Id",this.D),$s(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(Tl(Q)))+"&"+y:this.m&&Ut(_,this.m,Q)),Pa(this.h,U),this.Ua&&We(_,"TYPE","init"),this.P?(We(_,"$req",y),We(_,"SID","null"),U.T=!0,nr(U,_,null)):nr(U,_,y),this.G=2}}else this.G==3&&(c?Al(this,c):this.i.length==0||Ma(this.h)||Al(this))};function Al(c,y){var _;y?_=y.l:_=c.U++;const b=In(c.I);We(b,"SID",c.K),We(b,"RID",_),We(b,"AID",c.T),$s(c,b),c.m&&c.o&&Ut(b,c.m,c.o),_=new mn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=vc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Pa(c.h,_),nr(_,b,y)}function $s(c,y){c.H&&de(c.H,function(_,b){We(y,b,_)}),c.l&&gl({},function(_,b){We(y,b,_)})}function vc(c,y,_){_=Math.min(c.i.length,_);var b=c.l?w(c.l.Na,c.l,c):null;e:{var U=c.i;let Q=-1;for(;;){const oe=["count="+_];Q==-1?0<_?(Q=U[0].g,oe.push("ofs="+Q)):Q=0:oe.push("ofs="+Q);let Ue=!0;for(let Ot=0;Ot<_;Ot++){let je=U[Ot].g;const jt=U[Ot].map;if(je-=Q,0>je)Q=Math.max(0,U[Ot].g-100),Ue=!1;else try{Er(jt,oe,"req"+je+"_")}catch{b&&b(jt)}}if(Ue){b=oe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,b}function Ec(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||N(),me||(le(),me=!0),Ce.add(y,c),c.v=0}}function wl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Tt(w(c.Fa,c),bl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Tc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Tt(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),qa(this),Tc(this))};function Qs(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function Tc(c){c.g=new mn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=In(c.qa);We(y,"RID","rpc"),We(y,"SID",c.K),We(y,"AID",c.T),We(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(y,"TO",c.ja),We(y,"TYPE","xmlhttp"),$s(c,y),c.m&&c.o&&Ut(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=js(In(y)),_.m=null,_.P=!0,Fr(_,c)}r.Za=function(){this.C!=null&&(this.C=null,qa(this),wl(this),ot(19))};function Fa(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function Sc(c,y){var _=null;if(c.g==y){Fa(c),Qs(c),c.g=null;var b=2}else if(pl(c.h,y))_=y.D,gn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var U=c.B;b=Ii(),Ye(b,new Nt(b,_)),Ha(c)}else Ec(c);else if(U=y.s,U==3||U==0&&0<y.X||!(b==1&&yd(c,y)||b==2&&wl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),U){case 1:Wr(c,5);break;case 4:Wr(c,10);break;case 3:Wr(c,6);break;default:Wr(c,2)}}}function bl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Wr(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),b=c.Xa;const U=!b;b=new St(b||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Us(b,"https"),js(b),U?Bs(b.toString(),_):rr(b.toString(),_)}else ot(2);c.G=0,c.l&&c.l.sa(y),Ac(c),_c(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Ac(c){if(c.G=0,c.ka=[],c.l){const y=ml(c.h);(y.length!=0||c.i.length!=0)&&(H(c.ka,y),H(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function wc(c,y,_){var b=_ instanceof St?In(_):new St(_);if(b.g!="")y&&(b.g=y+"."+b.g),Oi(b,b.s);else{var U=p.location;b=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var Q=new St(null);b&&Us(Q,b),y&&(Q.g=y),U&&Oi(Q,U),_&&(Q.l=_),b=Q}return _=c.D,y=c.ya,_&&y&&We(b,_,y),We(b,"VER",c.la),$s(c,b),b}function bc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ge(new Mi({eb:_})):new Ge(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rc(){}r=Rc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ga(){}Ga.prototype.g=function(c,y){return new yn(c,y)};function yn(c,y){dt.call(this),this.g=new Ba(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Z(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Z(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new wr(this)}j(yn,dt),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Sl(this.g)},yn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=tr(c),c=_);y.i.push(new dc(y.Ya++,c)),y.G==3&&Ha(y)},yn.prototype.N=function(){this.g.l=null,delete this.j,Sl(this.g),delete this.g,yn.aa.N.call(this)};function Ic(c){qr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}j(Ic,qr);function Cc(){cl.call(this),this.status=1}j(Cc,cl);function wr(c){this.g=c}j(wr,Rc),wr.prototype.ua=function(){Ye(this.g,"a")},wr.prototype.ta=function(c){Ye(this.g,new Ic(c))},wr.prototype.sa=function(c){Ye(this.g,new Cc)},wr.prototype.ra=function(){Ye(this.g,"b")},Ga.prototype.createWebChannel=Ga.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,RS=function(){return new Ga},bS=function(){return Ii()},wS=mr,Jm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Di.NO_ERROR=0,Di.TIMEOUT=8,Di.HTTP_ERROR=6,Xh=Di,Hr.COMPLETE="complete",AS=Hr,ul.EventType=Br,Br.OPEN="a",Br.CLOSE="b",Br.ERROR="c",Br.MESSAGE="d",dt.prototype.listen=dt.prototype.K,_u=ul,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,SS=Ge}).apply(typeof Mh<"u"?Mh:typeof self<"u"?self:typeof window<"u"?window:{});const BE="@firebase/firestore",qE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new Dg("@firebase/firestore");function So(){return Ta.logLevel}function fe(r,...e){if(Ta.logLevel<=Pe.DEBUG){const t=e.map(Bg);Ta.debug(`Firestore (${Jo}): ${r}`,...t)}}function Si(r,...e){if(Ta.logLevel<=Pe.ERROR){const t=e.map(Bg);Ta.error(`Firestore (${Jo}): ${r}`,...t)}}function Uo(r,...e){if(Ta.logLevel<=Pe.WARN){const t=e.map(Bg);Ta.warn(`Firestore (${Jo}): ${r}`,...t)}}function Bg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,IS(r,s,t)}function IS(r,e,t){let s=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Si(s),new Error(s)}function Qe(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||IS(e,o,s)}function Re(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends bi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fn.UNAUTHENTICATED))}shutdown(){}}class cN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class hN{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let u=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _i,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _i)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new CS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class fN{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dN{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new fN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new HE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new HE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=mN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function ke(r,e){return r<e?-1:r>e?1:0}function eg(r,e){const t=Math.min(r.length,e.length);for(let s=0;s<t;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Im(o)===Im(u)?ke(o,u):Im(o)?1:-1}return ke(r.length,e.length)}const gN=55296,yN=57343;function Im(r){const e=r.charCodeAt(0);return e>=gN&&e<=yN}function jo(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="__name__";class Nr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ae(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Nr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Nr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Nr.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return ke(e.length,t.length)}static compareSegments(e,t){const s=Nr.isNumericId(e),o=Nr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Nr.extractNumericId(e).compare(Nr.extractNumericId(t)):eg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ds.fromString(e.substring(4,e.length-2))}}class it extends Nr{construct(e,t,s){return new it(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new it(t)}static emptyPath(){return new it([])}}const _N=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Nr{construct(e,t,s){return new nn(e,t,s)}static isValidIdentifier(e){return _N.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FE}static keyField(){return new nn([FE])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ce(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ce(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new ce(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(t)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(it.fromString(e))}static fromName(e){return new _e(it.fromString(e).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(r,e,t){if(!t)throw new ce(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function vN(r,e,t,s){if(e===!0&&s===!0)throw new ce(W.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function GE(r){if(!_e.isDocumentKey(r))throw new ce(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $E(r){if(_e.isDocumentKey(r))throw new ce(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function DS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function zf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ae(12329,{type:typeof r})}function Ln(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zf(r);throw new ce(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(r,e){const t={typeString:r};return e&&(t.value=e),t}function Ju(r,e){if(!DS(r))throw new ce(W.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new ce(W.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=-62135596800,YE=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*YE);return new nt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<QE)throw new ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/YE}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ju(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-QE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:Ct("string",nt._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new nt(0,0))}static max(){return new be(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=-1;function EN(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new nt(t+1,0):new nt(t,s));return new ms(o,_e.empty(),e)}function TN(r){return new ms(r.readTime,r.key,Pu)}class ms{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ms(be.min(),_e.empty(),Pu)}static max(){return new ms(be.max(),_e.empty(),Pu)}}function SN(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(r.documentKey,e.documentKey),t!==0?t:ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==AN)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,u=0,f=!1;e.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&t()},m=>s(m))}),f=!0,u===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const u=e.length,f=new Array(u);let p=0;for(let m=0;m<u;m++){const g=m;t(e[g]).next(v=>{f[g]=v,++p,p===u&&s(f)},v=>o(v))}})}static doWhile(e,t){return new te((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function bN(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function tl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=-1;function qf(r){return r==null}function gf(r){return r===0&&1/r==-1/0}function RN(r){return typeof r=="number"&&Number.isInteger(r)&&!gf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="";function IN(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=KE(e)),e=CN(r.get(t),e);return KE(e)}function CN(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case NS:t+="";break;default:t+=u}}return t}function KE(r){return r+NS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ws(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function OS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vh(this.root,e,this.comparator,!0)}}class Vh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??tn.RED,this.left=o??tn.EMPTY,this.right=u??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new tn(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new WE(this.data.getIterator())}getIteratorFrom(e){return new WE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class WE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new kn([])}unionWith(e){let t=new kt(nn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new MS("Invalid base64 string: "+u):u}}(e);return new rn(t)}static fromUint8Array(e){const t=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const xN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const t=xN.exec(r);if(Qe(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(r.seconds),nanos:Et(r.nanos)}}function Et(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ys(r){return typeof r=="string"?rn.fromBase64String(r):rn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="server_timestamp",PS="__type__",kS="__previous_value__",LS="__local_write_time__";function Fg(r){var t,s;return((s=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[PS])==null?void 0:s.stringValue)===VS}function Hf(r){const e=r.mapValue.fields[kS];return Fg(e)?Hf(e):e}function ku(r){const e=gs(r.mapValue.fields[LS].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,t,s,o,u,f,p,m,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const yf="(default)";class Lu{constructor(e,t){this.projectId=e,this.database=t||yf}static empty(){return new Lu("","")}get isDefaultDatabase(){return this.database===yf}isEqual(e){return e instanceof Lu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="__type__",NN="__max__",Ph={mapValue:{}},jS="__vector__",_f="value";function _s(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fg(r)?4:MN(r)?9007199254740991:ON(r)?10:11:Ae(28295,{value:r})}function jr(r,e){if(r===e)return!0;const t=_s(r);if(t!==_s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ku(r).isEqual(ku(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=gs(o.timestampValue),p=gs(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ys(o.bytesValue).isEqual(ys(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Et(o.doubleValue),p=Et(u.doubleValue);return f===p?gf(f)===gf(p):isNaN(f)&&isNaN(p)}return!1}(r,e);case 9:return jo(r.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(XE(f)!==XE(p))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(p[m]===void 0||!jr(f[m],p[m])))return!1;return!0}(r,e);default:return Ae(52216,{left:r})}}function Uu(r,e){return(r.values||[]).find(t=>jr(t,e))!==void 0}function zo(r,e){if(r===e)return 0;const t=_s(r),s=_s(e);if(t!==s)return ke(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return function(u,f){const p=Et(u.integerValue||u.doubleValue),m=Et(f.integerValue||f.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(r,e);case 3:return ZE(r.timestampValue,e.timestampValue);case 4:return ZE(ku(r),ku(e));case 5:return eg(r.stringValue,e.stringValue);case 6:return function(u,f){const p=ys(u),m=ys(f);return p.compareTo(m)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const p=u.split("/"),m=f.split("/");for(let g=0;g<p.length&&g<m.length;g++){const v=ke(p[g],m[g]);if(v!==0)return v}return ke(p.length,m.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const p=ke(Et(u.latitude),Et(f.latitude));return p!==0?p:ke(Et(u.longitude),Et(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return JE(r.arrayValue,e.arrayValue);case 10:return function(u,f){var w,O,j,$;const p=u.fields||{},m=f.fields||{},g=(w=p[_f])==null?void 0:w.arrayValue,v=(O=m[_f])==null?void 0:O.arrayValue,T=ke(((j=g==null?void 0:g.values)==null?void 0:j.length)||0,(($=v==null?void 0:v.values)==null?void 0:$.length)||0);return T!==0?T:JE(g,v)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Ph.mapValue&&f===Ph.mapValue)return 0;if(u===Ph.mapValue)return 1;if(f===Ph.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),g=f.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let T=0;T<m.length&&T<v.length;++T){const w=eg(m[T],v[T]);if(w!==0)return w;const O=zo(p[m[T]],g[v[T]]);if(O!==0)return O}return ke(m.length,v.length)}(r.mapValue,e.mapValue);default:throw Ae(23264,{he:t})}}function ZE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const t=gs(r),s=gs(e),o=ke(t.seconds,s.seconds);return o!==0?o:ke(t.nanos,s.nanos)}function JE(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=zo(t[o],s[o]);if(u)return u}return ke(t.length,s.length)}function Bo(r){return tg(r)}function tg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=gs(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return ys(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return _e.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=tg(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${tg(t.fields[f])}`;return o+"}"}(r.mapValue):Ae(61005,{value:r})}function Wh(r){switch(_s(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hf(r);return e?16+Wh(e):16;case 5:return 2*r.stringValue.length;case 6:return ys(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Wh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ws(s.fields,(u,f)=>{o+=u.length+Wh(f)}),o}(r.mapValue);default:throw Ae(13486,{value:r})}}function eT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ng(r){return!!r&&"integerValue"in r}function Gg(r){return!!r&&"arrayValue"in r}function tT(r){return!!r&&"nullValue"in r}function nT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Zh(r){return!!r&&"mapValue"in r}function ON(r){var t,s;return((s=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[US])==null?void 0:s.stringValue)===jS}function bu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ws(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=bu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bu(r.arrayValue.values[t]);return e}return{...r}}function MN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===NN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Zh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bu(t)}setAll(e){let t=nn.emptyPath(),s={},o=[];e.forEach((f,p)=>{if(!t.isImmediateParentOf(p)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=p.popLast()}f?s[p.lastSegment()]=bu(f):o.push(p.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Zh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Zh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ws(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new bn(bu(this.value))}}function zS(r){const e=[];return ws(r.fields,(t,s)=>{const o=new nn([t]);if(Zh(s)){const u=zS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t,s,o,u,f,p){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new dn(e,0,be.min(),be.min(),be.min(),bn.empty(),0)}static newFoundDocument(e,t,s,o){return new dn(e,1,t,be.min(),s,o,0)}static newNoDocument(e,t){return new dn(e,2,t,be.min(),be.min(),bn.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,be.min(),be.min(),bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,t){this.position=e,this.inclusive=t}}function rT(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(f.referenceValue),t.key):s=zo(f,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function iT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!jr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,t="asc"){this.field=e,this.dir=t}}function VN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{}class It extends BS{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new kN(e,t,s):t==="array-contains"?new jN(e,s):t==="in"?new zN(e,s):t==="not-in"?new BN(e,s):t==="array-contains-any"?new qN(e,s):new It(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new LN(e,s):new UN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(zo(t,this.value)):t!==null&&_s(this.value)===_s(t)&&this.matchesComparison(zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends BS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new dr(e,t)}matches(e){return qS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qS(r){return r.op==="and"}function HS(r){return PN(r)&&qS(r)}function PN(r){for(const e of r.filters)if(e instanceof dr)return!1;return!0}function rg(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+Bo(r.value);if(HS(r))return r.filters.map(e=>rg(e)).join(",");{const e=r.filters.map(t=>rg(t)).join(",");return`${r.op}(${e})`}}function FS(r,e){return r instanceof It?function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&jr(s.value,o.value)}(r,e):r instanceof dr?function(s,o){return o instanceof dr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&FS(f,o.filters[p]),!0):!1}(r,e):void Ae(19439)}function GS(r){return r instanceof It?function(t){return`${t.field.canonicalString()} ${t.op} ${Bo(t.value)}`}(r):r instanceof dr?function(t){return t.op.toString()+" {"+t.getFilters().map(GS).join(" ,")+"}"}(r):"Filter"}class kN extends It{constructor(e,t,s){super(e,t,s),this.key=_e.fromName(s.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class LN extends It{constructor(e,t){super(e,"in",t),this.keys=$S("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class UN extends It{constructor(e,t){super(e,"not-in",t),this.keys=$S("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $S(r,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(s=>_e.fromName(s.referenceValue))}class jN extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gg(t)&&Uu(t.arrayValue,this.value)}}class zN extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Uu(this.value.arrayValue,t)}}class BN extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(Uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Uu(this.value.arrayValue,t)}}class qN extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Uu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,t=null,s=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function sT(r,e=null,t=[],s=[],o=null,u=null,f=null){return new HN(r,e,t,s,o,u,f)}function $g(r){const e=Re(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>rg(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),qf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Bo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Bo(s)).join(",")),e.Te=t}return e.Te}function Qg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!VN(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!FS(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!iT(r.startAt,e.startAt)&&iT(r.endAt,e.endAt)}function ig(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t=null,s=[],o=[],u=null,f="F",p=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FN(r,e,t,s,o,u,f,p){return new nl(r,e,t,s,o,u,f,p)}function Ff(r){return new nl(r)}function aT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function QS(r){return r.collectionGroup!==null}function Ru(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new kt(nn.comparator);return f.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new ju(u,s))}),t.has(nn.keyField().canonicalString())||e.Ie.push(new ju(nn.keyField(),s))}return e.Ie}function Pr(r){const e=Re(r);return e.Ee||(e.Ee=GN(e,Ru(r))),e.Ee}function GN(r,e){if(r.limitType==="F")return sT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new ju(o.field,u)});const t=r.endAt?new vf(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new vf(r.startAt.position,r.startAt.inclusive):null;return sT(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function sg(r,e){const t=r.filters.concat([e]);return new nl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function ag(r,e,t){return new nl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Gf(r,e){return Qg(Pr(r),Pr(e))&&r.limitType===e.limitType}function YS(r){return`${$g(Pr(r))}|lt:${r.limitType}`}function Ao(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>GS(o)).join(", ")}]`),qf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Bo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Bo(o)).join(",")),`Target(${s})`}(Pr(r))}; limitType=${r.limitType})`}function $f(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Ru(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,p,m){const g=rT(f,p,m);return f.inclusive?g<=0:g<0}(s.startAt,Ru(s),o)||s.endAt&&!function(f,p,m){const g=rT(f,p,m);return f.inclusive?g>=0:g>0}(s.endAt,Ru(s),o))}(r,e)}function $N(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function KS(r){return(e,t)=>{let s=!1;for(const o of Ru(r)){const u=QN(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function QN(r,e,t){const s=r.field.isKeyField()?_e.comparator(e.key,t.key):function(u,f,p){const m=f.data.field(u),g=p.data.field(u);return m!==null&&g!==null?zo(m,g):Ae(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return OS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=new ft(_e.comparator);function Ai(){return YN}const XS=new ft(_e.comparator);function vu(...r){let e=XS;for(const t of r)e=e.insert(t.key,t);return e}function WS(r){let e=XS;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ha(){return Iu()}function ZS(){return Iu()}function Iu(){return new Ra(r=>r.toString(),(r,e)=>r.isEqual(e))}const KN=new ft(_e.comparator),XN=new kt(_e.comparator);function Le(...r){let e=XN;for(const t of r)e=e.add(t);return e}const WN=new kt(ke);function ZN(){return WN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gf(e)?"-0":e}}function JS(r){return{integerValue:""+r}}function JN(r,e){return RN(e)?JS(e):Yg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(){this._=void 0}}function eO(r,e,t){return r instanceof zu?function(o,u){const f={fields:{[PS]:{stringValue:VS},[LS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Fg(u)&&(u=Hf(u)),u&&(f.fields[kS]=u),{mapValue:f}}(t,e):r instanceof Bu?tA(r,e):r instanceof qu?nA(r,e):function(o,u){const f=eA(o,u),p=oT(f)+oT(o.Ae);return ng(f)&&ng(o.Ae)?JS(p):Yg(o.serializer,p)}(r,e)}function tO(r,e,t){return r instanceof Bu?tA(r,e):r instanceof qu?nA(r,e):t}function eA(r,e){return r instanceof Ef?function(s){return ng(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class zu extends Qf{}class Bu extends Qf{constructor(e){super(),this.elements=e}}function tA(r,e){const t=rA(e);for(const s of r.elements)t.some(o=>jr(o,s))||t.push(s);return{arrayValue:{values:t}}}class qu extends Qf{constructor(e){super(),this.elements=e}}function nA(r,e){let t=rA(e);for(const s of r.elements)t=t.filter(o=>!jr(o,s));return{arrayValue:{values:t}}}class Ef extends Qf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function oT(r){return Et(r.integerValue||r.doubleValue)}function rA(r){return Gg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,t){this.field=e,this.transform=t}}function rO(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Bu&&o instanceof Bu||s instanceof qu&&o instanceof qu?jo(s.elements,o.elements,jr):s instanceof Ef&&o instanceof Ef?jr(s.Ae,o.Ae):s instanceof zu&&o instanceof zu}(r.transform,e.transform)}class iO{constructor(e,t){this.version=e,this.transformResults=t}}class cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Yf{}function iA(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new aA(r.key,cr.none()):new ec(r.key,r.data,cr.none());{const t=r.data,s=bn.empty();let o=new kt(nn.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new bs(r.key,s,new kn(o.toArray()),cr.none())}}function sO(r,e,t){r instanceof ec?function(o,u,f){const p=o.value.clone(),m=uT(o.fieldTransforms,u,f.transformResults);p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,t):r instanceof bs?function(o,u,f){if(!Jh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=uT(o.fieldTransforms,u,f.transformResults),m=u.data;m.setAll(sA(o)),m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,t):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function Cu(r,e,t,s){return r instanceof ec?function(u,f,p,m){if(!Jh(u.precondition,f))return p;const g=u.value.clone(),v=cT(u.fieldTransforms,m,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof bs?function(u,f,p,m){if(!Jh(u.precondition,f))return p;const g=cT(u.fieldTransforms,m,f),v=f.data;return v.setAll(sA(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(r,e,t,s):function(u,f,p){return Jh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,e,t)}function aO(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=eA(s.transform,o||null);u!=null&&(t===null&&(t=bn.empty()),t.set(s.field,u))}return t||null}function lT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&jo(s,o,(u,f)=>rO(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ec extends Yf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class bs extends Yf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function sA(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function uT(r,e,t){const s=new Map;Qe(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const u=r[o],f=u.transform,p=e.data.field(u.field);s.set(u.field,tO(f,p,t[o]))}return s}function cT(r,e,t){const s=new Map;for(const o of r){const u=o.transform,f=t.data.field(o.field);s.set(o.field,eO(u,f,e))}return s}class aA extends Yf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oO extends Yf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&sO(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Cu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Cu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=ZS();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=t.has(o.key)?null:p;const m=iA(f,p);m!==null&&s.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(t,s)=>lT(t,s))&&jo(this.baseMutations,e.baseMutations,(t,s)=>lT(t,s))}}class Kg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return KN}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Kg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Be;function hO(r){switch(r){case W.OK:return Ae(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Ae(15467,{code:r})}}function oA(r){if(r===void 0)return Si("GRPC error has no .code"),W.UNKNOWN;switch(r){case bt.OK:return W.OK;case bt.CANCELLED:return W.CANCELLED;case bt.UNKNOWN:return W.UNKNOWN;case bt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case bt.INTERNAL:return W.INTERNAL;case bt.UNAVAILABLE:return W.UNAVAILABLE;case bt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case bt.NOT_FOUND:return W.NOT_FOUND;case bt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case bt.ABORTED:return W.ABORTED;case bt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case bt.DATA_LOSS:return W.DATA_LOSS;default:return Ae(39323,{code:r})}}(Be=bt||(bt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new ds([4294967295,4294967295],0);function hT(r){const e=fO().encode(r),t=new TS;return t.update(e),new Uint8Array(t.digest())}function fT(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ds([t,s],0),new ds([o,u],0)]}class Xg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Eu(`Invalid padding: ${t}`);if(s<0)throw new Eu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Eu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Eu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ds.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(ds.fromNumber(s)));return o.compare(dO)===1&&(o=new ds([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=hT(e),[s,o]=fT(t);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Xg(u,o,t);return s.forEach(p=>f.insert(p)),f}insert(e){if(this.ge===0)return;const t=hT(e),[s,o]=fT(t);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,tc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Kf(be.min(),o,new ft(ke),Ai(),Le())}}class tc{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new tc(s,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class lA{constructor(e,t){this.targetId=e,this.Ce=t}}class uA{constructor(e,t,s=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class dT{constructor(){this.ve=0,this.Fe=pT(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),t=Le(),s=Le();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:u})}}),new tc(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=pT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ai(),this.Je=kh(),this.He=kh(),this.Ye=new ft(ke)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(ig(u))if(s===0){const f=new _e(u.path);this.et(t,f,dn.newNoDocument(f,be.min()))}else Qe(s===1,20013,{expectedCount:s});else{const f=this._t(t);if(f!==s){const p=this.ut(e),m=p?this.ct(p,e,f):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let f,p;try{f=ys(s).toUint8Array()}catch(m){if(m instanceof MS)return Uo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Xg(f,o,u)}catch(m){return Uo(m instanceof Eu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(t,u,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((u,f)=>{const p=this.ot(f);if(p){if(u.current&&ig(p.target)){const m=new _e(p.target.path);this.It(m).has(f)||this.Et(f,m)||this.et(f,m,dn.newNoDocument(m,e))}u.Be&&(t.set(f,u.ke()),u.qe())}});let s=Le();this.He.forEach((u,f)=>{let p=!0;f.forEachWhile(m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new Kf(e,t,this.Ye,this.je,s);return this.je=Ai(),this.Je=kh(),this.He=kh(),this.Ye=new ft(ke),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new dT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new kt(ke),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new kt(ke),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dT),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function kh(){return new ft(_e.comparator)}function pT(){return new ft(_e.comparator)}const mO={asc:"ASCENDING",desc:"DESCENDING"},gO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yO={and:"AND",or:"OR"};class _O{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function og(r,e){return r.useProto3Json||qf(e)?e:{value:e}}function Tf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function vO(r,e){return Tf(r,e.toTimestamp())}function kr(r){return Qe(!!r,49232),be.fromTimestamp(function(t){const s=gs(t);return new nt(s.seconds,s.nanos)}(r))}function Wg(r,e){return lg(r,e).canonicalString()}function lg(r,e){const t=function(o){return new it(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function hA(r){const e=it.fromString(r);return Qe(gA(e),10190,{key:e.toString()}),e}function ug(r,e){return Wg(r.databaseId,e.path)}function Cm(r,e){const t=hA(e);if(t.get(1)!==r.databaseId.projectId)throw new ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new _e(dA(t))}function fA(r,e){return Wg(r.databaseId,e)}function EO(r){const e=hA(r);return e.length===4?it.emptyPath():dA(e)}function cg(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function dA(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function mT(r,e,t){return{name:ug(r,e),fields:t.value.mapValue.fields}}function TO(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Qe(v===void 0||typeof v=="string",58123),rn.fromBase64String(v||"")):(Qe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),rn.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&function(g){const v=g.code===void 0?W.UNKNOWN:oA(g.code);return new ce(v,g.message||"")}(f);t=new uA(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Cm(r,s.document.name),u=kr(s.document.updateTime),f=s.document.createTime?kr(s.document.createTime):be.min(),p=new bn({mapValue:{fields:s.document.fields}}),m=dn.newFoundDocument(o,u,f,p),g=s.targetIds||[],v=s.removedTargetIds||[];t=new ef(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Cm(r,s.document),u=s.readTime?kr(s.readTime):be.min(),f=dn.newNoDocument(o,u),p=s.removedTargetIds||[];t=new ef([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Cm(r,s.document),u=s.removedTargetIds||[];t=new ef([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new cO(o,u),p=s.targetId;t=new lA(p,f)}}return t}function SO(r,e){let t;if(e instanceof ec)t={update:mT(r,e.key,e.value)};else if(e instanceof aA)t={delete:ug(r,e.key)};else if(e instanceof bs)t={update:mT(r,e.key,e.data),updateMask:NO(e.fieldMask)};else{if(!(e instanceof oO))return Ae(16599,{Vt:e.type});t={verify:ug(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof zu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Bu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof qu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ef)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Ae(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:vO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)}(r,e.precondition)),t}function AO(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map(t=>function(o,u){let f=o.updateTime?kr(o.updateTime):kr(u);return f.isEqual(be.min())&&(f=kr(u)),new iO(f,o.transformResults||[])}(t,e))):[]}function wO(r,e){return{documents:[fA(r,e.path)]}}function bO(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=fA(r,o);const u=function(g){if(g.length!==0)return mA(dr.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(v=>function(w){return{field:wo(w.field),direction:CO(w.dir)}}(v))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const p=og(r,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:t,parent:o}}function RO(r){let e=EO(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=function(T){const w=pA(T);return w instanceof dr&&HS(w)?w.getFilters():[w]}(t.where));let f=[];t.orderBy&&(f=function(T){return T.map(w=>function(j){return new ju(bo(j.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(w))}(t.orderBy));let p=null;t.limit&&(p=function(T){let w;return w=typeof T=="object"?T.value:T,qf(w)?null:w}(t.limit));let m=null;t.startAt&&(m=function(T){const w=!!T.before,O=T.values||[];return new vf(O,w)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const w=!T.before,O=T.values||[];return new vf(O,w)}(t.endAt)),FN(e,o,f,u,p,"F",m,g)}function IO(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function pA(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=bo(t.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=bo(t.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=bo(t.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=bo(t.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(r):r.fieldFilter!==void 0?function(t){return It.create(bo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return dr.create(t.compositeFilter.filters.map(s=>pA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(t.compositeFilter.op))}(r):Ae(30097,{filter:r})}function CO(r){return mO[r]}function xO(r){return gO[r]}function DO(r){return yO[r]}function wo(r){return{fieldPath:r.canonicalString()}}function bo(r){return nn.fromServerFormat(r.fieldPath)}function mA(r){return r instanceof It?function(t){if(t.op==="=="){if(nT(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NAN"}};if(tT(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nT(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NAN"}};if(tT(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(t.field),op:xO(t.op),value:t.value}}}(r):r instanceof dr?function(t){const s=t.getFilters().map(o=>mA(o));return s.length===1?s[0]:{compositeFilter:{op:DO(t.op),filters:s}}}(r):Ae(54877,{filter:r})}function NO(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t,s,o,u=be.min(),f=be.min(),p=rn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.yt=e}}function MO(r){const e=RO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ag(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.Cn=new PO}addToCollectionParentIndex(e,t){return this.Cn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(ms.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class PO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new kt(it.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yA=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(yA,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qo(0)}static cr(){return new qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="LruGarbageCollector",kO=1048576;function _T([r,e],[t,s]){const o=ke(r,t);return o===0?ke(e,s):o}class LO{constructor(e){this.Ir=e,this.buffer=new kt(_T),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();_T(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class UO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(yT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){tl(t)?fe(yT,"Ignoring IndexedDB error during garbage collection: ",t):await el(t)}await this.Vr(3e5)})}}class jO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Bf.ce);const s=new LO(t);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(gT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gT):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,f,p,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,p=Date.now(),this.removeTargets(e,s,t))).next(T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),So()<=Pe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function zO(r,e){return new jO(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.changes=new Ra(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Cu(s.mutation,o,kn.empty(),nt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Le()){const o=ha();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let f=vu();return u.forEach((p,m)=>{f=f.insert(p,m.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=ha();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Le()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,p)=>{t.set(f,p)})})}computeViews(e,t,s,o){let u=Ai();const f=Iu(),p=function(){return Iu()}();return t.forEach((m,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof bs)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),Cu(v.mutation,g,v.mutation.getFieldMask(),nt.now())):f.set(g.key,kn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((g,v)=>f.set(g,v)),t.forEach((g,v)=>p.set(g,new qO(v,f.get(g)??null))),p))}recalculateAndSaveOverlays(e,t){const s=Iu();let o=new ft((f,p)=>f-p),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const p of f)p.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let v=s.get(m)||kn.empty();v=p.applyToLocalView(g,v),s.set(m,v);const T=(o.get(p.batchId)||Le()).add(m);o=o.insert(p.batchId,T)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,v=m.value,T=ZS();v.forEach(w=>{if(!u.has(w)){const O=iA(t.get(w),s.get(w));O!==null&&T.set(w,O),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return te.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):QS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):te.resolve(ha());let p=Pu,m=u;return f.next(g=>te.forEach(g,(v,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),u.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{m=m.insert(v,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,m,g,Le())).next(v=>({batchId:p,changes:WS(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(s=>{let o=vu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let f=vu();return this.indexManager.getCollectionParents(e,u).next(p=>te.forEach(p,m=>{const g=function(T,w){return new nl(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((T,w)=>{f=f.insert(T,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(f=>{u.forEach((m,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,dn.newInvalidDocument(v)))});let p=vu();return f.forEach((m,g)=>{const v=u.get(m);v!==void 0&&Cu(v.mutation,g,kn.empty(),nt.now()),$f(t,g)&&(p=p.insert(m,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return te.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:kr(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:MO(o.bundledQuery),readTime:kr(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.overlays=new ft(_e.comparator),this.qr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ha();return te.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.St(e,t,u)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=ha(),u=t.length+1,f=new _e(t.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ft((g,v)=>g-v);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ha(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const p=ha(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>p.set(g,v)),!(p.size()>=o)););return te.resolve(p)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new uO(t,s));let u=this.qr.get(t);u===void 0&&(u=Le(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(){this.Qr=new kt(Ht.$r),this.Ur=new kt(Ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Ht(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new Ht(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new _e(new it([])),s=new Ht(t,e),o=new Ht(t,e+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _e(new it([])),s=new Ht(t,e),o=new Ht(t,e+1);let u=Le();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new Ht(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _e.comparator(e.key,t.key)||ke(e.Yr,t.Yr)}static Kr(e,t){return ke(e.Yr,t.Yr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Ht.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new lO(u,t,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new Ht(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,t){return te.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Hg:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ht(t,0),o=new Ht(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const p=this.Xr(f.Yr);u.push(p)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new kt(ke);return t.forEach(o=>{const u=new Ht(o,0),f=new Ht(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],p=>{s=s.add(p.Yr)})}),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const f=new Ht(new _e(u),0);let p=new kt(ke);return this.Zr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Yr)),!0)},f),te.resolve(this.ti(p))}ti(e){const t=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Qe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(t.mutations,o=>{const u=new Ht(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new Ht(t,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.ri=e,this.docs=function(){return new ft(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let s=Ai();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():dn.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Ai();const f=t.path,p=new _e(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||SN(TN(v),s)<=0||(o.has(v.key)||$f(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ae(9500)}ii(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new KO(this)}getSize(e){return te.resolve(this.size)}}class KO extends BO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.persistence=e,this.si=new Ra(t=>$g(t),Qg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Zg,this.targetCount=0,this.ai=qo.ur()}forEachTarget(e,t){return this.si.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),te.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new qo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Pr(t),te.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach((f,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,t){this.ui={},this.overlays={},this.ci=new Bf(0),this.li=!1,this.li=!0,this.hi=new $O,this.referenceDelegate=e(this),this.Pi=new XO(this),this.indexManager=new VO,this.remoteDocumentCache=function(o){return new YO(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new OO(t),this.Ii=new FO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new GO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new QO(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){fe("MemoryPersistence","Starting transaction:",e);const o=new WO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,t){return te.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class WO extends wN{constructor(e){super(),this.currentSequenceNumber=e}}class Jg{constructor(e){this.persistence=e,this.Ri=new Zg,this.Vi=null}static mi(e){return new Jg(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,s=>{const o=_e.fromPath(s);return this.gi(e,o).next(u=>{u||t.removeEntry(o,be.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return te.or([()=>te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Sf{constructor(e,t){this.persistence=e,this.pi=new Ra(s=>IN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=zO(this,t)}static mi(e,t){return new Sf(e,t)}Ei(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return te.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,t).next(p=>{p||(s++,u.removeEntry(f,be.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Wh(e.data.value)),t}br(e,t,s){return te.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Le(),o=Le();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ey(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return IC()?8:bN(pn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,t,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new ZO;return this.Ss(e,t,f).next(p=>{if(u.result=p,this.Vs)return this.bs(e,t,f,p.size)})}).next(()=>u.result)}bs(e,t,s,o){return s.documentReadCount<this.fs?(So()<=Pe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Ao(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(So()<=Pe.DEBUG&&fe("QueryEngine","Query:",Ao(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(So()<=Pe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Ao(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(t))):te.resolve())}ys(e,t){if(aT(t))return te.resolve(null);let s=Pr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=ag(t,null,"F"),s=Pr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Le(...u);return this.ps.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.Ds(t,p);return this.Cs(t,g,f,m.readTime)?this.ys(e,ag(t,null,"F")):this.vs(e,g,t,m)}))})))}ws(e,t,s,o){return aT(t)||o.isEqual(be.min())?te.resolve(null):this.ps.getDocuments(e,s).next(u=>{const f=this.Ds(t,u);return this.Cs(t,f,s,o)?te.resolve(null):(So()<=Pe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ao(t)),this.vs(e,f,t,EN(o,Pu)).next(p=>p))})}Ds(e,t){let s=new kt(KS(e));return t.forEach((o,u)=>{$f(e,u)&&(s=s.add(u))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return So()<=Pe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Ao(t)),this.ps.getDocumentsMatchingQuery(e,t,ms.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="LocalStore",e4=3e8;class t4{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ft(ke),this.xs=new Ra(u=>$g(u),Qg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function n4(r,e,t,s){return new t4(r,e,t,s)}async function vA(r,e){const t=Re(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let m=Le();for(const g of o){f.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){p.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(s,m).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:p}))})})}function r4(r,e){const t=Re(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return function(p,m,g,v){const T=g.batch,w=T.keys();let O=te.resolve();return w.forEach(j=>{O=O.next(()=>v.getEntry(m,j)).next($=>{const H=g.docVersions.get(j);Qe(H!==null,48541),$.version.compareTo(H)<0&&(T.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),v.addEntry($)))})}),O.next(()=>p.mutationQueue.removeMutationBatch(m,T))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let m=Le();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function EA(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function i4(r,e){const t=Re(r),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const p=[];e.targetChanges.forEach((v,T)=>{const w=o.get(T);if(!w)return;p.push(t.Pi.removeMatchingKeys(u,v.removedDocuments,T).next(()=>t.Pi.addMatchingKeys(u,v.addedDocuments,T)));let O=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(rn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,s)),o=o.insert(T,O),function($,H,J){return $.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=e4?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0}(w,O,v)&&p.push(t.Pi.updateTargetData(u,O))});let m=Ai(),g=Le();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))}),p.push(s4(u,f,e.documentUpdates).next(v=>{m=v.ks,g=v.qs})),!s.isEqual(be.min())){const v=t.Pi.getLastRemoteSnapshotVersion(u).next(T=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(v)}return te.waitFor(p).next(()=>f.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(t.Ms=o,u))}function s4(r,e,t){let s=Le(),o=Le();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Ai();return t.forEach((p,m)=>{const g=u.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(be.min())?(e.removeEntry(p,m.readTime),f=f.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),f=f.insert(p,m)):fe(ty,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)}),{ks:f,qs:o}})}function a4(r,e){const t=Re(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Hg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function o4(r,e){const t=Re(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Pi.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):t.Pi.allocateTargetId(s).next(f=>(o=new ls(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function hg(r,e,t){const s=Re(r),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!tl(f))throw f;fe(ty,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function vT(r,e,t){const s=Re(r);let o=be.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",f=>function(m,g,v){const T=Re(m),w=T.xs.get(v);return w!==void 0?te.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,v)}(s,f,Pr(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next(m=>{u=m})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,t?o:be.min(),t?u:Le())).next(p=>(l4(s,$N(e),p),{documents:p,Qs:u})))}function l4(r,e,t){let s=r.Os.get(e)||be.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(e,s)}class ET{constructor(){this.activeTargetIds=ZN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u4{constructor(){this.Mo=new ET,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ET,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="ConnectivityMonitor";class ST{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(TT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(TT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh=null;function fg(){return Lh===null?Lh=function(){return 268435456+Math.round(2147483648*Math.random())}():Lh++,"0x"+Lh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="RestConnection",h4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===yf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const f=fg(),p=this.zo(e,t.toUriEncodedString());fe(xm,`Sending RPC '${e}' ${f}:`,p,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:g}=new URL(p),v=Xo(g);return this.Jo(e,p,m,s,v).then(T=>(fe(xm,`Received RPC '${e}' ${f}: `,T),T),T=>{throw Uo(xm,`RPC '${e}' ${f} failed with error: `,T,"url: ",p,"request:",s),T})}Ho(e,t,s,o,u,f){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,t){const s=h4[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class p4 extends f4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const f=fg();return new Promise((p,m)=>{const g=new SS;g.setWithCredentials(!0),g.listenOnce(AS.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Xh.NO_ERROR:const T=g.getResponseJson();fe(un,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),p(T);break;case Xh.TIMEOUT:fe(un,`RPC '${e}' ${f} timed out`),m(new ce(W.DEADLINE_EXCEEDED,"Request time out"));break;case Xh.HTTP_ERROR:const w=g.getStatus();if(fe(un,`RPC '${e}' ${f} failed with status:`,w,"response text:",g.getResponseText()),w>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const j=O==null?void 0:O.error;if(j&&j.status&&j.message){const $=function(J){const Z=J.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Z)>=0?Z:W.UNKNOWN}(j.status);m(new ce($,j.message))}else m(new ce(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ce(W.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(un,`RPC '${e}' ${f} completed.`)}});const v=JSON.stringify(o);fe(un,`RPC '${e}' ${f} sending request:`,o),g.send(t,"POST",v,s,15)})}T_(e,t,s){const o=fg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=RS(),p=bS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const v=u.join("");fe(un,`Creating RPC '${e}' stream ${o}: ${v}`,m);const T=f.createWebChannel(v,m);this.I_(T);let w=!1,O=!1;const j=new d4({Yo:H=>{O?fe(un,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(w||(fe(un,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),fe(un,`RPC '${e}' stream ${o} sending:`,H),T.send(H))},Zo:()=>T.close()}),$=(H,J,Z)=>{H.listen(J,re=>{try{Z(re)}catch(he){setTimeout(()=>{throw he},0)}})};return $(T,_u.EventType.OPEN,()=>{O||(fe(un,`RPC '${e}' stream ${o} transport opened.`),j.o_())}),$(T,_u.EventType.CLOSE,()=>{O||(O=!0,fe(un,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(T))}),$(T,_u.EventType.ERROR,H=>{O||(O=!0,Uo(un,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),j.a_(new ce(W.UNAVAILABLE,"The operation could not be completed")))}),$(T,_u.EventType.MESSAGE,H=>{var J;if(!O){const Z=H.data[0];Qe(!!Z,16349);const re=Z,he=(re==null?void 0:re.error)||((J=re[0])==null?void 0:J.error);if(he){fe(un,`RPC '${e}' stream ${o} received error:`,he);const ue=he.status;let de=function(I){const V=bt[I];if(V!==void 0)return oA(V)}(ue),x=he.message;de===void 0&&(de=W.INTERNAL,x="Unknown error status: "+ue+" with message "+he.message),O=!0,j.a_(new ce(de,x)),T.close()}else fe(un,`RPC '${e}' stream ${o} received:`,Z),j.u_(Z)}}),$(p,wS.STAT_EVENT,H=>{H.stat===Jm.PROXY?fe(un,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===Jm.NOPROXY&&fe(un,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.__()},0),j}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(r){return new _O(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="PersistentStream";class SA{constructor(e,t,s,o,u,f,p,m){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(Si(t.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===t&&this.G_(s,o)},s=>{e(()=>{const o=new ce(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return fe(AT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(fe(AT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class m4 extends SA{constructor(e,t,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=TO(this.serializer,e),s=function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?kr(f.readTime):be.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=cg(this.serializer),t.addTarget=function(u,f){let p;const m=f.target;if(p=ig(m)?{documents:wO(u,m)}:{query:bO(u,m).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=cA(u,f.resumeToken);const g=og(u,f.expectedCount);g!==null&&(p.expectedCount=g)}else if(f.snapshotVersion.compareTo(be.min())>0){p.readTime=Tf(u,f.snapshotVersion.toTimestamp());const g=og(u,f.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,e);const s=IO(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=cg(this.serializer),t.removeTarget=e,this.q_(t)}}class g4 extends SA{constructor(e,t,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=AO(e.writeResults,e.commitTime),s=kr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=cg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>SO(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{}class _4 extends y4{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,lg(t,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(W.UNKNOWN,u.toString())})}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Ho(e,lg(t,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(W.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class v4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Si(t),this.aa=!1):fe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="RemoteStore";class E4{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{Ia(this)&&(fe(Sa,"Restarting streams for network reachability change."),await async function(m){const g=Re(m);g.Ea.add(4),await nc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Wf(g)}(this))})}),this.Ra=new v4(s,o)}}async function Wf(r){if(Ia(r))for(const e of r.da)await e(!0)}async function nc(r){for(const e of r.da)await e(!1)}function AA(r,e){const t=Re(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),sy(t)?iy(t):rl(t).O_()&&ry(t,e))}function ny(r,e){const t=Re(r),s=rl(t);t.Ia.delete(e),s.O_()&&wA(t,e),t.Ia.size===0&&(s.O_()?s.L_():Ia(t)&&t.Ra.set("Unknown"))}function ry(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}rl(r).Y_(e)}function wA(r,e){r.Va.Ue(e),rl(r).Z_(e)}function iy(r){r.Va=new pO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),rl(r).start(),r.Ra.ua()}function sy(r){return Ia(r)&&!rl(r).x_()&&r.Ia.size>0}function Ia(r){return Re(r).Ea.size===0}function bA(r){r.Va=void 0}async function T4(r){r.Ra.set("Online")}async function S4(r){r.Ia.forEach((e,t)=>{ry(r,e)})}async function A4(r,e){bA(r),sy(r)?(r.Ra.ha(e),iy(r)):r.Ra.set("Unknown")}async function w4(r,e,t){if(r.Ra.set("Online"),e instanceof uA&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))}(r,e)}catch(s){fe(Sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Af(r,s)}else if(e instanceof ef?r.Va.Ze(e):e instanceof lA?r.Va.st(e):r.Va.tt(e),!t.isEqual(be.min()))try{const s=await EA(r.localStore);t.compareTo(s)>=0&&await function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(m.resumeToken,f))}}),p.targetMismatches.forEach((m,g)=>{const v=u.Ia.get(m);if(!v)return;u.Ia.set(m,v.withResumeToken(rn.EMPTY_BYTE_STRING,v.snapshotVersion)),wA(u,m);const T=new ls(v.target,m,g,v.sequenceNumber);ry(u,T)}),u.remoteSyncer.applyRemoteEvent(p)}(r,t)}catch(s){fe(Sa,"Failed to raise snapshot:",s),await Af(r,s)}}async function Af(r,e,t){if(!tl(e))throw e;r.Ea.add(1),await nc(r),r.Ra.set("Offline"),t||(t=()=>EA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{fe(Sa,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Wf(r)})}function RA(r,e){return e().catch(t=>Af(r,t,e))}async function Zf(r){const e=Re(r),t=vs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hg;for(;b4(e);)try{const o=await a4(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,R4(e,o)}catch(o){await Af(e,o)}IA(e)&&CA(e)}function b4(r){return Ia(r)&&r.Ta.length<10}function R4(r,e){r.Ta.push(e);const t=vs(r);t.O_()&&t.X_&&t.ea(e.mutations)}function IA(r){return Ia(r)&&!vs(r).x_()&&r.Ta.length>0}function CA(r){vs(r).start()}async function I4(r){vs(r).ra()}async function C4(r){const e=vs(r);for(const t of r.Ta)e.ea(t.mutations)}async function x4(r,e,t){const s=r.Ta.shift(),o=Kg.from(s,e,t);await RA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Zf(r)}async function D4(r,e){e&&vs(r).X_&&await async function(s,o){if(function(f){return hO(f)&&f!==W.ABORTED}(o.code)){const u=s.Ta.shift();vs(s).B_(),await RA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Zf(s)}}(r,e),IA(r)&&CA(r)}async function wT(r,e){const t=Re(r);t.asyncQueue.verifyOperationInProgress(),fe(Sa,"RemoteStore received new credentials");const s=Ia(t);t.Ea.add(3),await nc(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Wf(t)}async function N4(r,e){const t=Re(r);e?(t.Ea.delete(2),await Wf(t)):e||(t.Ea.add(2),await nc(t),t.Ra.set("Unknown"))}function rl(r){return r.ma||(r.ma=function(t,s,o){const u=Re(t);return u.sa(),new m4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:T4.bind(null,r),t_:S4.bind(null,r),r_:A4.bind(null,r),H_:w4.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),sy(r)?iy(r):r.Ra.set("Unknown")):(await r.ma.stop(),bA(r))})),r.ma}function vs(r){return r.fa||(r.fa=function(t,s,o){const u=Re(t);return u.sa(),new g4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:I4.bind(null,r),r_:D4.bind(null,r),ta:C4.bind(null,r),na:x4.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Zf(r)):(await r.fa.stop(),r.Ta.length>0&&(fe(Sa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const f=Date.now()+s,p=new ay(e,t,f,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oy(r,e){if(Si("AsyncQueue",`${e}: ${r}`),tl(r))return new ce(W.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||_e.comparator(t.key,s.key):(t,s)=>_e.comparator(t.key,s.key),this.keyedMap=vu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new No;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.ga=new ft(_e.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ho{constructor(e,t,s,o,u,f,p,m,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const f=[];return t.forEach(p=>{f.push({type:0,doc:p})}),new Ho(e,t,No.emptySet(t),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class M4{constructor(){this.queries=RT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Re(t),u=o.queries;o.queries=RT(),u.forEach((f,p)=>{for(const m of p.Sa)m.onError(s)})})(this,new ce(W.ABORTED,"Firestore shutting down"))}}function RT(){return new Ra(r=>YS(r),Gf)}async function ly(r,e){const t=Re(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new O4,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const p=oy(f,`Initialization of query '${Ao(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&cy(t)}async function uy(r,e){const t=Re(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function V4(r,e){const t=Re(r);let s=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&cy(t)}function P4(r,e,t){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function cy(r){r.Ca.forEach(e=>{e.next()})}var dg,IT;(IT=dg||(dg={})).Ma="default",IT.Cache="cache";class hy{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.key=e}}class DA{constructor(e){this.key=e}}class k4{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=KS(e),this.tu=new No(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new bT,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,T)=>{const w=o.get(v),O=$f(this.query,T)?T:null,j=!!w&&this.mutatedKeys.has(w.key),$=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let H=!1;w&&O?w.data.isEqual(O.data)?j!==$&&(s.track({type:3,doc:O}),H=!0):this.su(w,O)||(s.track({type:2,doc:O}),H=!0,(m&&this.eu(O,m)>0||g&&this.eu(O,g)<0)&&(p=!0)):!w&&O?(s.track({type:0,doc:O}),H=!0):w&&!O&&(s.track({type:1,doc:w}),H=!0,(m||g)&&(p=!0)),H&&(O?(f=f.add(O),u=$?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:f,iu:s,Cs:p,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((v,T)=>function(O,j){const $=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:H})}};return $(O)-$(j)}(v.type,T.type)||this.eu(v.doc,T.doc)),this.ou(s),o=o??!1;const p=t&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,f.length!==0||g?{snapshot:new Ho(this.query,e.tu,u,f,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new DA(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new xA(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=Le();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fy="SyncEngine";class L4{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class U4{constructor(e){this.key=e,this.hu=!1}}class j4{constructor(e,t,s,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ra(p=>YS(p),Gf),this.Iu=new Map,this.Eu=new Set,this.du=new ft(_e.comparator),this.Au=new Map,this.Ru=new Zg,this.Vu={},this.mu=new Map,this.fu=qo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function z4(r,e,t=!0){const s=kA(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await NA(s,e,t,!0),o}async function B4(r,e){const t=kA(r);await NA(t,e,!0,!1)}async function NA(r,e,t,s){const o=await o4(r.localStore,Pr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,t);let p;return s&&(p=await q4(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&t&&AA(r.remoteStore,o),p}async function q4(r,e,t,s,o){r.pu=(T,w,O)=>async function($,H,J,Z){let re=H.view.ru(J);re.Cs&&(re=await vT($.localStore,H.query,!1).then(({documents:x})=>H.view.ru(x,re)));const he=Z&&Z.targetChanges.get(H.targetId),ue=Z&&Z.targetMismatches.get(H.targetId)!=null,de=H.view.applyChanges(re,$.isPrimaryClient,he,ue);return xT($,H.targetId,de.au),de.snapshot}(r,T,w,O);const u=await vT(r.localStore,e,!0),f=new k4(e,u.Qs),p=f.ru(u.documents),m=tc.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=f.applyChanges(p,r.isPrimaryClient,m);xT(r,t,g.au);const v=new L4(e,t,f);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function H4(r,e,t){const s=Re(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!Gf(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await hg(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&ny(s.remoteStore,o.targetId),pg(s,o.targetId)}).catch(el)):(pg(s,o.targetId),await hg(s.localStore,o.targetId,!0))}async function F4(r,e){const t=Re(r),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),ny(t.remoteStore,s.targetId))}async function G4(r,e,t){const s=Z4(r);try{const o=await function(f,p){const m=Re(f),g=nt.now(),v=p.reduce((O,j)=>O.add(j.key),Le());let T,w;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>{let j=Ai(),$=Le();return m.Ns.getEntries(O,v).next(H=>{j=H,j.forEach((J,Z)=>{Z.isValidDocument()||($=$.add(J))})}).next(()=>m.localDocuments.getOverlayedDocuments(O,j)).next(H=>{T=H;const J=[];for(const Z of p){const re=aO(Z,T.get(Z.key).overlayedDocument);re!=null&&J.push(new bs(Z.key,re,zS(re.value.mapValue),cr.exists(!0)))}return m.mutationQueue.addMutationBatch(O,g,J,p)}).next(H=>{w=H;const J=H.applyToLocalDocumentSet(T,$);return m.documentOverlayCache.saveOverlays(O,H.batchId,J)})}).then(()=>({batchId:w.batchId,changes:WS(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,m){let g=f.Vu[f.currentUser.toKey()];g||(g=new ft(ke)),g=g.insert(p,m),f.Vu[f.currentUser.toKey()]=g}(s,o.batchId,t),await rc(s,o.changes),await Zf(s.remoteStore)}catch(o){const u=oy(o,"Failed to persist write");t.reject(u)}}async function OA(r,e){const t=Re(r);try{const s=await i4(t.localStore,e);e.targetChanges.forEach((o,u)=>{const f=t.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))}),await rc(t,s,e)}catch(s){await el(s)}}function CT(r,e,t){const s=Re(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach((u,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)}),function(f,p){const m=Re(f);m.onlineState=p;let g=!1;m.queries.forEach((v,T)=>{for(const w of T.Sa)w.va(p)&&(g=!0)}),g&&cy(m)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function $4(r,e,t){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ft(_e.comparator);f=f.insert(u,dn.newNoDocument(u,be.min()));const p=Le().add(u),m=new Kf(be.min(),new Map,new ft(ke),f,p);await OA(s,m),s.du=s.du.remove(u),s.Au.delete(e),dy(s)}else await hg(s.localStore,e,!1).then(()=>pg(s,e,t)).catch(el)}async function Q4(r,e){const t=Re(r),s=e.batch.batchId;try{const o=await r4(t.localStore,e);VA(t,s,null),MA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await rc(t,o)}catch(o){await el(o)}}async function Y4(r,e,t){const s=Re(r);try{const o=await function(f,p){const m=Re(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,p).next(T=>(Qe(T!==null,37113),v=T.keys(),m.mutationQueue.removeMutationBatch(g,T))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(s.localStore,e);VA(s,e,t),MA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await rc(s,o)}catch(o){await el(o)}}function MA(r,e){(r.mu.get(e)||[]).forEach(t=>{t.resolve()}),r.mu.delete(e)}function VA(r,e,t){const s=Re(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function pg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),t&&r.Pu.yu(s,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||PA(r,s)})}function PA(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(ny(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),dy(r))}function xT(r,e,t){for(const s of t)s instanceof xA?(r.Ru.addReference(s.key,e),K4(r,s)):s instanceof DA?(fe(fy,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||PA(r,s.key)):Ae(19791,{wu:s})}function K4(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Eu.has(s)||(fe(fy,"New document in limbo: "+t),r.Eu.add(s),dy(r))}function dy(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new _e(it.fromString(e)),s=r.fu.next();r.Au.set(s,new U4(t)),r.du=r.du.insert(t,s),AA(r.remoteStore,new ls(Pr(Ff(t.path)),s,"TargetPurposeLimboResolution",Bf.ce))}}async function rc(r,e,t){const s=Re(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((p,m)=>{f.push(s.pu(m,e,t).then(g=>{var v;if((g||t)&&s.isPrimaryClient){const T=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(m.targetId))==null?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(g){o.push(g);const T=ey.As(m.targetId,g);u.push(T)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(m,g){const v=Re(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>te.forEach(g,w=>te.forEach(w.Es,O=>v.persistence.referenceDelegate.addReference(T,w.targetId,O)).next(()=>te.forEach(w.ds,O=>v.persistence.referenceDelegate.removeReference(T,w.targetId,O)))))}catch(T){if(!tl(T))throw T;fe(ty,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const O=v.Ms.get(w),j=O.snapshotVersion,$=O.withLastLimboFreeSnapshotVersion(j);v.Ms=v.Ms.insert(w,$)}}}(s.localStore,u))}async function X4(r,e){const t=Re(r);if(!t.currentUser.isEqual(e)){fe(fy,"User change. New user:",e.toKey());const s=await vA(t.localStore,e);t.currentUser=e,function(u,f){u.mu.forEach(p=>{p.forEach(m=>{m.reject(new ce(W.CANCELLED,f))})}),u.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await rc(t,s.Ls)}}function W4(r,e){const t=Re(r),s=t.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=t.Iu.get(e);if(!u)return o;for(const f of u){const p=t.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function kA(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=OA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$4.bind(null,e),e.Pu.H_=V4.bind(null,e.eventManager),e.Pu.yu=P4.bind(null,e.eventManager),e}function Z4(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y4.bind(null,e),e}class wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return n4(this.persistence,new JO,e.initialUser,this.serializer)}Cu(e){return new _A(Jg.mi,this.serializer)}Du(e){return new u4}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wf.provider={build:()=>new wf};class J4 extends wf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Qe(this.persistence.referenceDelegate instanceof Sf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new UO(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new _A(s=>Sf.mi(s,t),this.serializer)}}class mg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>CT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=X4.bind(null,this.syncEngine),await N4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new M4}()}createDatastore(e){const t=Xf(e.databaseInfo.databaseId),s=function(u){return new p4(u)}(e.databaseInfo);return function(u,f,p,m){return new _4(u,f,p,m)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,f,p){return new E4(s,o,u,f,p)}(this.localStore,this.datastore,e.asyncQueue,t=>CT(this.syncEngine,t,0),function(){return ST.v()?new ST:new c4}())}createSyncEngine(e,t){return function(o,u,f,p,m,g,v){const T=new j4(o,u,f,p,m,g);return v&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Re(o);fe(Sa,"RemoteStore shutting down."),u.Ea.add(5),await nc(u),u.Aa.shutdown(),u.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}mg.provider={build:()=>new mg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="FirestoreClient";class eM{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=fn.UNAUTHENTICATED,this.clientId=qg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{fe(Es,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(fe(Es,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=oy(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Nm(r,e){r.asyncQueue.verifyOperationInProgress(),fe(Es,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await vA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function DT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await tM(r);fe(Es,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>wT(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>wT(e.remoteStore,o)),r._onlineComponents=e}async function tM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(Es,"Using user provided OfflineComponentProvider");try{await Nm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Uo("Error using user provided cache. Falling back to memory cache: "+t),await Nm(r,new wf)}}else fe(Es,"Using default OfflineComponentProvider"),await Nm(r,new J4(void 0));return r._offlineComponents}async function LA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(Es,"Using user provided OnlineComponentProvider"),await DT(r,r._uninitializedComponentsProvider._online)):(fe(Es,"Using default OnlineComponentProvider"),await DT(r,new mg))),r._onlineComponents}function nM(r){return LA(r).then(e=>e.syncEngine)}async function bf(r){const e=await LA(r),t=e.eventManager;return t.onListen=z4.bind(null,e.syncEngine),t.onUnlisten=H4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=B4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=F4.bind(null,e.syncEngine),t}function rM(r,e,t={}){const s=new _i;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,g){const v=new py({next:w=>{v.Nu(),f.enqueueAndForget(()=>uy(u,T));const O=w.docs.has(p);!O&&w.fromCache?g.reject(new ce(W.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&w.fromCache&&m&&m.source==="server"?g.reject(new ce(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new hy(Ff(p.path),v,{includeMetadataChanges:!0,qa:!0});return ly(u,T)}(await bf(r),r.asyncQueue,e,t,s)),s.promise}function iM(r,e,t={}){const s=new _i;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,g){const v=new py({next:w=>{v.Nu(),f.enqueueAndForget(()=>uy(u,T)),w.fromCache&&m.source==="server"?g.reject(new ce(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new hy(p,v,{includeMetadataChanges:!0,qa:!0});return ly(u,T)}(await bf(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="firestore.googleapis.com",OT=!0;class MT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jA,this.ssl=OT}else this.host=e.host,this.ssl=e.ssl??OT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kO)throw new ce(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UA(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new uN;switch(s.type){case"firstParty":return new dN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=NT.get(t);s&&(fe("ComponentProvider","Removing Datastore"),NT.delete(t),s.terminate())}(this),Promise.resolve()}}function sM(r,e,t,s={}){var g;r=Ln(r,Jf);const o=Xo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${t}`;o&&(M1(`https://${p}`),V1("Firestore",!0)),u.host!==jA&&u.host!==p&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:p,ssl:o,emulatorOptions:s};if(!ya(m,f)&&(r._setSettings(m),s.mockUserToken)){let v,T;if(typeof s.mockUserToken=="string")v=s.mockUserToken,T=fn.MOCK_USER;else{v=_C(s.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ce(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new fn(w)}r._authCredentials=new cN(new CS(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Rs(this.firestore,e,this._query)}}class gt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Ju(t,gt._jsonSchema))return new gt(e,s||null,new _e(it.fromString(t.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:Ct("string",gt._jsonSchemaVersion),referencePath:Ct("string")};class ps extends Rs{constructor(e,t,s){super(e,t,Ff(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new _e(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function Aa(r,e,...t){if(r=xt(r),xS("collection","path",e),r instanceof Jf){const s=it.fromString(e,...t);return $E(s),new ps(r,null,s)}{if(!(r instanceof gt||r instanceof ps))throw new ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...t));return $E(s),new ps(r.firestore,null,s)}}function wi(r,e,...t){if(r=xt(r),arguments.length===1&&(e=qg.newId()),xS("doc","path",e),r instanceof Jf){const s=it.fromString(e,...t);return GE(s),new gt(r,null,new _e(s))}{if(!(r instanceof gt||r instanceof ps))throw new ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...t));return GE(s),new gt(r.firestore,r instanceof ps?r.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="AsyncQueue";class PT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TA(this,"async_queue_retry"),this._c=()=>{const s=Dm();s&&fe(VT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Dm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Dm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new _i;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!tl(e))throw e;fe(VT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Si("INTERNAL UNHANDLED ERROR: ",kT(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=ay.createAndSchedule(this,e,t,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:kT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function kT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Ts extends Jf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new PT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new PT(e),this._firestoreClient=void 0,await e}}}function zA(r,e){const t=typeof r=="object"?r:U1(),s=typeof r=="string"?r:yf,o=Og(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=gC("firestore");u&&sM(o,...u)}return o}function ed(r){if(r._terminated)throw new ce(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||aM(r),r._firestoreClient}function aM(r){var s,o,u;const e=r._freezeSettings(),t=function(p,m,g,v){return new DN(p,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,UA(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new eM(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&function(p){const m=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(rn.fromBase64String(e))}catch(t){throw new ce(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jn(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ju(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Ct("string",Jn._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Lr._jsonSchemaVersion}}static fromJSON(e){if(Ju(e,Lr._jsonSchema))return new Lr(e.latitude,e.longitude)}}Lr._jsonSchemaVersion="firestore/geoPoint/1.0",Lr._jsonSchema={type:Ct("string",Lr._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ju(e,Ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Ur(e.vectorValues);throw new ce(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ur._jsonSchemaVersion="firestore/vectorValue/1.0",Ur._jsonSchema={type:Ct("string",Ur._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=/^__.*__$/;class lM{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,t,this.fieldTransforms):new ec(e,this.data,t,this.fieldTransforms)}}class BA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new bs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:r})}}class my{constructor(e,t,s,o,u,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new my({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qA(this.Ac)&&oM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class uM{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Xf(e)}Cc(e,t,s,o=!1){return new my({Ac:e,methodName:t,Dc:s,path:nn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rd(r){const e=r._freezeSettings(),t=Xf(r._databaseId);return new uM(r._databaseId,!!e.ignoreUndefinedProperties,t)}function HA(r,e,t,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,t,o);yy("Data must be an object, but it was:",f,s);const p=FA(s,f);let m,g;if(u.merge)m=new kn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const w=gg(e,T,t);if(!f.contains(w))throw new ce(W.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);$A(v,w)||v.push(w)}m=new kn(v),g=f.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,g=f.fieldTransforms;return new lM(new bn(p),m,g)}class id extends nd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof id}}class gy extends nd{_toFieldTransform(e){return new nO(e.path,new zu)}isEqual(e){return e instanceof gy}}function cM(r,e,t,s){const o=r.Cc(1,e,t);yy("Data must be an object, but it was:",o,s);const u=[],f=bn.empty();ws(s,(m,g)=>{const v=_y(e,m,t);g=xt(g);const T=o.yc(v);if(g instanceof id)u.push(v);else{const w=ic(g,T);w!=null&&(u.push(v),f.set(v,w))}});const p=new kn(u);return new BA(f,p,o.fieldTransforms)}function hM(r,e,t,s,o,u){const f=r.Cc(1,e,t),p=[gg(e,s,t)],m=[o];if(u.length%2!=0)throw new ce(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)p.push(gg(e,u[w])),m.push(u[w+1]);const g=[],v=bn.empty();for(let w=p.length-1;w>=0;--w)if(!$A(g,p[w])){const O=p[w];let j=m[w];j=xt(j);const $=f.yc(O);if(j instanceof id)g.push(O);else{const H=ic(j,$);H!=null&&(g.push(O),v.set(O,H))}}const T=new kn(g);return new BA(v,T,f.fieldTransforms)}function fM(r,e,t,s=!1){return ic(t,r.Cc(s?4:3,e))}function ic(r,e){if(GA(r=xt(r)))return yy("Unsupported field value:",e,r),FA(r,e);if(r instanceof nd)return function(s,o){if(!qA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let m=ic(p,o.wc(f));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=xt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return JN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=nt.fromDate(s);return{timestampValue:Tf(o.serializer,u)}}if(s instanceof nt){const u=new nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Tf(o.serializer,u)}}if(s instanceof Lr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Jn)return{bytesValue:cA(o.serializer,s._byteString)};if(s instanceof gt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Wg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ur)return function(f,p){return{mapValue:{fields:{[US]:{stringValue:jS},[_f]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return Yg(p.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${zf(s)}`)}(r,e)}function FA(r,e){const t={};return OS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(r,(s,o)=>{const u=ic(o,e.mc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function GA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof nt||r instanceof Lr||r instanceof Jn||r instanceof gt||r instanceof nd||r instanceof Ur)}function yy(r,e,t){if(!GA(t)||!DS(t)){const s=zf(t);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function gg(r,e,t){if((e=xt(e))instanceof td)return e._internalPath;if(typeof e=="string")return _y(r,e);throw Rf("Field path arguments must be of type string or ",r,!1,void 0,t)}const dM=new RegExp("[~\\*/\\[\\]]");function _y(r,e,t){if(e.search(dM)>=0)throw Rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new td(...e.split("."))._internalPath}catch{throw Rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Rf(r,e,t,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${s}`),f&&(m+=` in document ${o}`),m+=")"),new ce(W.INVALID_ARGUMENT,p+r+m)}function $A(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class pM extends QA{data(){return super.data()}}function sd(r,e){return typeof e=="string"?_y(r,e):e instanceof td?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vy{}class KA extends vy{}function Fo(r,e,...t){let s=[];e instanceof vy&&s.push(e),s=s.concat(t),function(u){const f=u.filter(m=>m instanceof Ey).length,p=u.filter(m=>m instanceof ad).length;if(f>1||f>0&&p>0)throw new ce(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class ad extends KA{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new ad(e,t,s)}_apply(e){const t=this._parse(e);return XA(e._query,t),new Rs(e.firestore,e.converter,sg(e._query,t))}_parse(e){const t=rd(e.firestore);return function(u,f,p,m,g,v,T){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ce(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){jT(T,v);const j=[];for(const $ of T)j.push(UT(m,u,$));w={arrayValue:{values:j}}}else w=UT(m,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||jT(T,v),w=fM(p,f,T,v==="in"||v==="not-in");return It.create(g,v,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Go(r,e,t){const s=e,o=sd("where",r);return ad._create(o,s,t)}class Ey extends vy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ey(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:dr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let f=o;const p=u.getFlattenedFilters();for(const m of p)XA(f,m),f=sg(f,m)}(e._query,t),new Rs(e.firestore,e.converter,sg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ty extends KA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ty(e,t)}_apply(e){const t=function(o,u,f){if(o.startAt!==null)throw new ce(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ju(u,f)}(e._query,this._field,this._direction);return new Rs(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new nl(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Sy(r,e="asc"){const t=e,s=sd("orderBy",r);return Ty._create(s,t)}function UT(r,e,t){if(typeof(t=xt(t))=="string"){if(t==="")throw new ce(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QS(e)&&t.indexOf("/")!==-1)throw new ce(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(it.fromString(t));if(!_e.isDocumentKey(s))throw new ce(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return eT(r,new _e(s))}if(t instanceof gt)return eT(r,t._key);throw new ce(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zf(t)}.`)}function jT(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XA(r,e){const t=function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class mM{convertValue(e,t="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ws(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var s,o,u;const t=(u=(o=(s=e.fields)==null?void 0:s[_f].arrayValue)==null?void 0:o.values)==null?void 0:u.map(f=>Et(f.doubleValue));return new Ur(t)}convertGeoPoint(e){return new Lr(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Hf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ku(e));default:return null}}convertTimestamp(e){const t=gs(e);return new nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=it.fromString(e);Qe(gA(s),9688,{name:e});const o=new Lu(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(t)||Si(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class Tu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class da extends QA{constructor(e,t,s,o,u,f){super(e,t,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(sd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=da._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:Ct("string",da._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class tf extends da{data(e={}){return super.data(e)}}class pa{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Tu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new tf(this._firestore,this._userDataWriter,s.key,s,new Tu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const m=new tf(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Tu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const m=new tf(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Tu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return p.type!==0&&(g=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),v=f.indexOf(p.doc.key)),{type:gM(p.type),doc:m,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(r){r=Ln(r,gt);const e=Ln(r.firestore,Ts);return rM(ed(e),r._key).then(t=>ew(e,r,t))}pa._jsonSchemaVersion="firestore/querySnapshot/1.0",pa._jsonSchema={type:Ct("string",pa._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Ay extends mM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,t)}}function JA(r){r=Ln(r,Rs);const e=Ln(r.firestore,Ts),t=ed(e),s=new Ay(e);return YA(r._query),iM(t,r._query).then(o=>new pa(e,s,r,o))}function yM(r,e,t){r=Ln(r,gt);const s=Ln(r.firestore,Ts),o=WA(r.converter,e);return wy(s,[HA(rd(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,cr.none())])}function Hu(r,e,t,...s){r=Ln(r,gt);const o=Ln(r.firestore,Ts),u=rd(o);let f;return f=typeof(e=xt(e))=="string"||e instanceof td?hM(u,"updateDoc",r._key,e,t,s):cM(u,"updateDoc",r._key,e),wy(o,[f.toMutation(r._key,cr.exists(!0))])}function _M(r,e){const t=Ln(r.firestore,Ts),s=wi(r),o=WA(r.converter,e);return wy(t,[HA(rd(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,cr.exists(!1))]).then(()=>s)}function od(r,...e){var m,g,v;r=xt(r);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||LT(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(LT(e[s])){const T=e[s];e[s]=(m=T.next)==null?void 0:m.bind(T),e[s+1]=(g=T.error)==null?void 0:g.bind(T),e[s+2]=(v=T.complete)==null?void 0:v.bind(T)}let u,f,p;if(r instanceof gt)f=Ln(r.firestore,Ts),p=Ff(r._key.path),u={next:T=>{e[s]&&e[s](ew(f,r,T))},error:e[s+1],complete:e[s+2]};else{const T=Ln(r,Rs);f=Ln(T.firestore,Ts),p=T._query;const w=new Ay(f);u={next:O=>{e[s]&&e[s](new pa(f,w,T,O))},error:e[s+1],complete:e[s+2]},YA(r._query)}return function(w,O,j,$){const H=new py($),J=new hy(O,H,j);return w.asyncQueue.enqueueAndForget(async()=>ly(await bf(w),J)),()=>{H.Nu(),w.asyncQueue.enqueueAndForget(async()=>uy(await bf(w),J))}}(ed(f),p,o,u)}function wy(r,e){return function(s,o){const u=new _i;return s.asyncQueue.enqueueAndForget(async()=>G4(await nM(s),o,u)),u.promise}(ed(r),e)}function ew(r,e,t){const s=t.docs.get(e._key),o=new Ay(r);return new da(r,o,e._key,s,new Tu(t.hasPendingWrites,t.fromCache),e.converter)}function vM(){return new gy("serverTimestamp")}(function(e,t=!0){(function(o){Jo=o})(Wo),ko(new _a("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new Ts(new hN(s.getProvider("auth-internal")),new pN(f,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lu(g.options.projectId,v)}(f,o),f);return u={useFetchStreams:t,...u},p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),fs(BE,qE,e),fs(BE,qE,"esm2020")})();const EM={apiKey:"AIzaSyB5aFUQbtG1rShW-1O88aZjCG7uErNxmgQ",authDomain:"pdms-test-8a5cc.firebaseapp.com",projectId:"pdms-test-8a5cc",storageBucket:"pdms-test-8a5cc.firebasestorage.app",messagingSenderId:"631678861167",appId:"1:631678861167:web:5cd775b77e53535700329a"},by=L1(EM);zA(by);const vn=zA(by),wa=sN(by);function TM({onLoginSuccess:r}){const[e,t]=G.useState(""),[s,o]=G.useState(""),u=Gu(),f=()=>{u("/signup")},p=()=>{H2(wa,e,s).then(()=>{r(),u("/dashboard")}).catch(m=>{alert("로그인 실패: "+m.message)})};return A.jsxs(SM,{children:[A.jsxs(AM,{children:[A.jsxs(wM,{children:[A.jsx(bM,{children:"PDMS"}),A.jsx(RM,{children:"Pushcomz Design Management System"})]}),A.jsxs(IM,{children:[A.jsx(CM,{type:"text",value:e,onChange:m=>t(m.target.value),placeholder:"이메일을 입력해주세요."}),A.jsx(xM,{type:"password",value:s,onChange:m=>o(m.target.value),placeholder:"비밀번호를 입력해주세요."})]}),A.jsx(DM,{onClick:p,children:"로그인"}),A.jsxs(OM,{children:[A.jsx(MM,{children:"계정이 없습니까?"}),A.jsx(VM,{onClick:f,children:"등록하기"})]})]}),A.jsx(NM,{children:"© Pushcomz Corp."})]})}const SM=se.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:r})=>r.colors.gray01};
`,AM=se.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:r})=>r.colors.white01};
`,wM=se.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,bM=se.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:r})=>r.colors.navy};
`,RM=se.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,IM=se.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
`,CM=se.input`
  width: 460px;
  margin-bottom: 10px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,xM=se.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,DM=se.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:r})=>r.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:r})=>r.colors.white01};
`,NM=se.p`
  margin-top: 20px;
  font-size: 12px;
  font-weight: 300;
  line-height: 18px;
  text-align: center;
`,OM=se.div`
  
`,MM=se.span`
  margin-right: 10px;
  font-size: 13px;
`,VM=se.button`
  font-size: 13px;
  color: ${({theme:r})=>r.colors.navy};
`,tw="./assets/logo-NEcdCz8m.svg";function PM(){const[r,e]=G.useState(""),[t,s]=G.useState(null),o=Gu();G.useEffect(()=>{const p=Lf(wa,async m=>{if(m){m.displayName&&e(m.displayName);const g=await ZA(wi(vn,"users",m.uid));g.exists()?s(g.data().role):s(null)}else e(""),s(null)});return()=>p()},[]);const u=()=>{Y2(wa).then(()=>{o("/")}).catch(p=>{alert("로그아웃 중 오류가 발생했습니다: "+p.message)})},f=p=>{switch(p){case 1:return"요청자";case 2:return"디자이너";case 3:return"담당자";default:return"역할 없음"}};return A.jsxs(kM,{children:[A.jsx(LM,{src:tw}),A.jsxs(UM,{children:[A.jsxs(jM,{children:[r,"님 (",f(t),")환영합니다."]}),A.jsx(zM,{onClick:u,children:"로그아웃"}),A.jsx(BM,{})]})]})}const kM=se.header`
  ${({theme:r})=>r.mixin.flex("center","space-between")};
  padding: 12px 20px;
  background-color: ${({theme:r})=>r.colors.navy};
`,LM=se.img`
  
`,UM=se.div`

`,jM=se.span`
  margin-right: 10px;
  color: ${({theme:r})=>r.colors.white01};
  font-size: 14px;
  line-height: 20px;
`,zM=se.button`
  color: ${({theme:r})=>r.colors.white01};
  font-size: 14px;
  line-height: 20px;
`,BM=se.span`
  color: ${({theme:r})=>r.colors.white01};
  font-size: 14px;
  line-height: 20px;
`;function qM({userName:r}){const[e,t]=G.useState({completionDt:"",openDt:"",taskForm:"GHS",taskType:"프론트테마",requirement:"",url:"",note:"",emergency:!1}),s=(u,f)=>{t(p=>({...p,[u]:f}))},o=async u=>{if(u.preventDefault(),!e.requirement){alert("요청 내용을 입력하세요.");return}const f=new Date,p=g=>g?nt.fromDate(new Date(g)):null,m=async()=>{const g=new Date,v=g.getFullYear().toString().slice(2),T=(g.getMonth()+1).toString().padStart(2,"0"),w=Fo(Aa(vn,"design_request"),Go("design_request_id",">=",`H${v}${T}000`),Go("design_request_id","<",`H${v}${T}999`)),j=(await JA(w)).size+1;return`H${v}${T}${j.toString().padStart(3,"0")}`};_M(Aa(vn,"design_request"),{design_request_id:await m(),request_date:p(f.toISOString()),requester:r,completion_dt:p(e.completionDt),open_dt:p(e.openDt),task_form:e.taskForm,task_type:e.taskType,requirement:e.requirement,url:e.url,note:e.note,status:"대기",assigned_designer:"미배정",requester_review_status:"검수대기",manager_review_status:"",result_url:"",designer_start_date:null,designer_end_date:null,emergency:e.emergency,requester_edit_state:!1,designer_edit_state:!1,created_at:vM(),updated_at:null,delete_at:null}).then(()=>{alert("요청이 등록되었습니다!"),t({completionDt:"",openDt:"",taskForm:"GHS",taskType:"프론트테마",requirement:"",url:"",note:"",emergency:!1})}).catch(g=>{alert("등록 중 오류가 발생했습니다: "+g.message)})};return A.jsxs(HM,{onSubmit:o,children:[A.jsx(FM,{children:"디자인 요청 등록"}),A.jsxs(GM,{children:[A.jsxs(fi,{children:[A.jsx(ns,{htmlFor:"completionDt",children:"요청 완료일"}),A.jsx("input",{type:"date",id:"completionDt",value:e.completionDt,onChange:u=>s("completionDt",u.target.value)})]}),A.jsxs(fi,{children:[A.jsx(ns,{htmlFor:"openDt",children:"오픈일"}),A.jsx("input",{type:"date",id:"openDt",value:e.openDt,onChange:u=>s("openDt",u.target.value)})]}),A.jsxs(fi,{children:[A.jsx(ns,{htmlFor:"taskForm",children:"업무형태"}),A.jsxs("select",{id:"taskForm",value:e.taskForm,onChange:u=>s("taskForm",u.target.value),children:[A.jsx("option",{value:"GHS",children:"GHS"}),A.jsx("option",{value:"MHC",children:"MHC"}),A.jsx("option",{value:"MHC/GHS",children:"MHC/GHS"})]})]}),A.jsxs(fi,{children:[A.jsx(ns,{htmlFor:"taskType",children:"업무타입"}),A.jsxs("select",{id:"taskType",value:e.taskType,onChange:u=>s("taskType",u.target.value),children:[A.jsx("option",{value:"프론트테마",children:"프론트테마"}),A.jsx("option",{value:"별도기획전",children:"별도기획전"}),A.jsx("option",{value:"일자별배너",children:"일자별배너"}),A.jsx("option",{value:"핫새배너",children:"핫새배너"}),A.jsx("option",{value:"큐레이션배너",children:"큐레이션배너"}),A.jsx("option",{value:"GNB-기획전(전문관)",children:"GNB-기획전(전문관)"}),A.jsx("option",{value:"GNB-주류이지픽업",children:"GNB-주류이지픽업"}),A.jsx("option",{value:"GNB-택배배송관",children:"GNB-택배배송관"}),A.jsx("option",{value:"페이/카드프로모션",children:"페이/카드프로모션"}),A.jsx("option",{value:"이벤트배너",children:"이벤트배너"}),A.jsx("option",{value:"상품상세",children:"상품상세"}),A.jsx("option",{value:"제휴",children:"제휴"}),A.jsx("option",{value:"클럽",children:"클럽"}),A.jsx("option",{value:"팝업",children:"팝업"}),A.jsx("option",{value:"푸시",children:"푸시"}),A.jsx("option",{value:"홈테마",children:"홈테마"}),A.jsx("option",{value:"즉시배송",children:"즉시배송"}),A.jsx("option",{value:"트레이딩",children:"트레이딩"}),A.jsx("option",{value:"이벤트",children:"이벤트"}),A.jsx("option",{value:"기타",children:"기타"})]})]}),A.jsxs(fi,{children:[A.jsx(ns,{htmlFor:"requirement",children:"작업 항목"}),A.jsx(Om,{id:"requirement",value:e.requirement,onChange:u=>s("requirement",u.target.value),placeholder:"작업 항목을 입력하세요."})]}),A.jsxs(fi,{children:[A.jsx(ns,{htmlFor:"url",children:"요청 기획안 URL"}),A.jsx(Om,{id:"url",value:e.url,onChange:u=>s("url",u.target.value),placeholder:"요청 기획안 URL을 입력하세요."})]}),A.jsxs(fi,{children:[A.jsx(ns,{htmlFor:"note",children:"메모"}),A.jsx(Om,{id:"note",value:e.note,onChange:u=>s("note",u.target.value),placeholder:"메모를 입력하세요."})]}),A.jsxs(fi,{children:[A.jsx(ns,{htmlFor:"emergency",children:"긴급 일정"}),A.jsxs(QM,{children:[A.jsx("input",{type:"checkbox",id:"emergency",checked:e.emergency,onChange:u=>s("emergency",u.target.checked)}),A.jsx("span",{children:"긴급으로 설정"})]})]}),A.jsx(fi,{children:A.jsx($M,{type:"submit",children:"등록하기"})})]})]})}const HM=se.form``,FM=se.h2``,GM=se.ul`
  ${({theme:r})=>r.mixin.flex("center")};
  margin: 20px 0;
  gap: 30px;
`,fi=se.li`
  ${({theme:r})=>r.mixin.flex("center")};
  flex-direction: column;
  gap: 10px;
`,ns=se.label`
  width: 100%;
  text-align: center;
  font-size: 18px;
  font-weight: 700;
`,$M=se.button`
  padding: 5px 10px;
  border-radius: 4px;
  font-size: 15px;
  background-color: ${({theme:r})=>r.colors.navy};
  color: ${({theme:r})=>r.colors.white01};
`,Om=se.textarea`
  min-width: 200px;
  resize: none;
`,QM=se.div`
  ${({theme:r})=>r.mixin.flex("center")};
  gap: 5px;
`;function YM({item:r,index:e,onReviewComplete:t,onCancel:s}){const o=u=>{if(!u)return"-";if(u.toDate){const f=u.toDate();return`${f.getMonth()+1}/${f.getDate()}`}return u};return A.jsxs(JM,{isCanceled:r.status==="취소",children:[A.jsx(Wt,{children:e}),A.jsx(Wt,{children:r.design_request_id}),A.jsx(Wt,{children:o(r.request_date)}),A.jsx(Wt,{children:r.requester}),A.jsx(Wt,{children:o(r.completion_dt)}),A.jsx(Wt,{children:o(r.open_dt)}),A.jsx(Wt,{children:r.task_form}),A.jsx(Wt,{children:r.task_type}),A.jsxs(Wt,{children:[r.emergency?A.jsx(eV,{children:"긴급"}):"",r.requirement]}),A.jsx(Wt,{children:r.url}),A.jsx(Wt,{children:r.note}),A.jsx(Wt,{children:r.status==="검수요청"?"진행중":r.status==="검수중"?"검수 요청":r.status||"대기"}),A.jsx(Wt,{children:r.assigned_designer||"미배정"}),A.jsx(Wt,{children:r.manager_review_status==="검수완료"&&r.url||""}),A.jsx(Wt,{children:A.jsx(ZM,{onClick:()=>s(r.id),children:"취소"})}),A.jsx(Wt,{children:A.jsx(WM,{children:"수정"})}),A.jsx(Wt,{children:r.manager_review_status==="검수완료"?r.status!=="완료"?A.jsx(KM,{onClick:()=>t(r.id),children:"검수완료"}):A.jsx(XM,{children:"완료"}):""})]})}const KM=se.button`
  padding: 5px 10px;
  border-radius: 4px;
  color: ${({theme:r})=>r.colors.white01};
  background-color: ${({theme:r})=>r.colors.navy};
`,XM=se.span`
  color: green;
  font-weight: bold;
`,WM=se.button`
  padding: 5px 10px;
  border-radius: 4px;
  color: ${({theme:r})=>r.colors.white01};
  background-color: ${({theme:r})=>r.colors.navy};
`,ZM=se.button`
  padding: 5px 10px;
  border-radius: 4px;
  color: ${({theme:r})=>r.colors.white01};
  background-color: ${({theme:r})=>r.colors.navy};
`,JM=se.tr`
  ${({isCanceled:r})=>r&&`
      td {
        text-decoration: line-through;
        color: gray;
      }
    `}
`,Wt=se.td`
  padding: 5px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 400;
`,eV=se.span`
  margin-right: 5px;
  padding: 4px 6px;
  border-radius: 4px;
  font-weight: 700;
  background-color: ${({theme:r})=>r.colors.red};
  color: ${({theme:r})=>r.colors.white01};
`;function tV({data:r,onReviewComplete:e,onCancel:t}){return console.log(r),A.jsxs(nV,{children:[A.jsx(rV,{children:"요청 리스트"}),A.jsxs("colgroup",{children:[A.jsx("col",{style:{width:"50px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"120px"}}),A.jsx("col",{}),A.jsx("col",{}),A.jsx("col",{}),A.jsx("col",{style:{width:"100px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"80px"}})]}),A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx(Zt,{children:"NO"}),A.jsx(Zt,{children:"문서번호"}),A.jsx(Zt,{children:"요청일"}),A.jsx(Zt,{children:"요청자"}),A.jsxs(Zt,{children:["완료",A.jsx("br",{}),"요청일"]}),A.jsx(Zt,{children:"오픈일"}),A.jsx(Zt,{children:"업무형태"}),A.jsx(Zt,{children:"업무타입"}),A.jsx(Zt,{children:"작업항목"}),A.jsx(Zt,{children:"기획안 URL"}),A.jsx(Zt,{children:"메모"}),A.jsx(Zt,{children:"진행상태"}),A.jsxs(Zt,{children:["담당",A.jsx("br",{}),"디자이너"]}),A.jsx(Zt,{children:"산출물 URL"}),A.jsx(Zt,{children:"취소"}),A.jsx(Zt,{children:"수정"}),A.jsx(Zt,{children:"검수"})]})}),A.jsx("tbody",{children:r.length>0?r.map((s,o)=>A.jsx(YM,{index:o+1,item:s,onReviewComplete:e,onCancel:t},s.id)):A.jsx("tr",{children:A.jsx("td",{colSpan:17,style:{textAlign:"center",padding:"20px"},children:"등록된 요청이 없습니다."})})})]})}const nV=se.table`
  width: 100%;
  text-align: center;
  border-top: 2px solid ${({theme:r})=>r.colors.black};
`,rV=se.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,Zt=se.th`
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:r})=>r.colors.white02};
`;function iV(){const[r,e]=G.useState(""),[t,s]=G.useState([]);G.useEffect(()=>{const f=Lf(wa,p=>{p&&p.displayName&&e(p.displayName)});return()=>f()},[]),G.useEffect(()=>{if(!r)return;const f=Fo(Aa(vn,"design_request"),Go("requester","==",r),Sy("design_request_id","asc")),p=od(f,m=>{const g=m.docs.map(v=>({id:v.id,...v.data()}));s(g)});return()=>p()},[r]);const o=async f=>{await Hu(wi(vn,"design_request",f),{status:"완료",requester_review_status:"검수완료"}),s(p=>p.map(m=>m.id===f?{...m,status:"완료",requester_review_status:"검수완료"}:m)),alert("완료 처리되었습니다.")},u=async f=>{await Hu(wi(vn,"design_request",f),{status:"취소"}),s(p=>p.map(m=>m.id===f?{...m,status:"취소"}:m))};return A.jsxs(A.Fragment,{children:[A.jsx(qM,{userName:r}),A.jsx(sV,{children:"요청 리스트"}),A.jsx(tV,{data:t,onReviewComplete:o,onCancel:u})]})}const sV=se.h2`
  margin-bottom: 20px;
`;function aV({index:r,item:e,onChange:t,onSave:s}){const o=u=>{if(!u)return"-";if(u.toDate){const f=u.toDate();return`${f.getMonth()+1}/${f.getDate()}`}return u};return A.jsxs(lV,{isCanceled:e.status==="취소",children:[A.jsx(cn,{children:r}),A.jsx(cn,{children:e.design_request_id}),A.jsx(cn,{children:o(e.request_date)}),A.jsx(cn,{children:e.requester}),A.jsx(cn,{children:o(e.completion_dt)}),A.jsx(cn,{children:o(e.open_dt)}),A.jsx(cn,{children:e.task_form}),A.jsx(cn,{children:e.task_type}),A.jsxs(cn,{children:[e.emergency?A.jsx(uV,{children:"긴급"}):"",e.requirement]}),A.jsx(cn,{children:e.url?A.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.url}):""}),A.jsx(cn,{children:e.note||""}),A.jsx(cn,{children:A.jsx("input",{type:"date",onChange:u=>t(e.id,"start_dt",u.target.value),disabled:e.status==="취소"})}),A.jsx(cn,{children:A.jsx("input",{type:"date",onChange:u=>t(e.id,"end_dt",u.target.value),disabled:e.status==="취소"})}),A.jsx(cn,{children:A.jsx("input",{type:"text",placeholder:"산출물 URL을 입력해주세요.",onChange:u=>t(e.id,"result_url",u.target.value),disabled:e.status==="취소"})}),A.jsx(cn,{children:A.jsxs("select",{onChange:u=>t(e.id,"status",u.target.value),disabled:e.status==="취소",children:[A.jsx("option",{value:"대기중",children:"대기"}),A.jsx("option",{value:"진행중",children:"진행중"}),A.jsx("option",{value:"검수요청",children:"검수요청"})]})}),A.jsx(cn,{children:A.jsx(oV,{onClick:()=>s(e.id),disabled:e.status==="취소",children:"저장"})})]})}const oV=se.button`
  padding: 6px 10px;
  background: #073863;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
`,lV=se.tr`
  ${({isCanceled:r})=>r&&`
      td {
        text-decoration: line-through;
        color: gray;
      }
    `}
`,cn=se.td`
  padding: 5px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 400;
`,uV=se.span`
  margin-right: 5px;
  padding: 4px 6px;
  border-radius: 4px;
  font-weight: 700;
  background-color: ${({theme:r})=>r.colors.red};
  color: ${({theme:r})=>r.colors.white01};
`;function cV({requests:r,onChange:e,onSave:t}){return A.jsxs(hV,{children:[A.jsxs("colgroup",{children:[A.jsx("col",{style:{width:"50px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"70px"}}),A.jsx("col",{style:{width:"90px"}}),A.jsx("col",{style:{width:"120px"}}),A.jsx("col",{}),A.jsx("col",{}),A.jsx("col",{}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"100px"}})]}),A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx(hn,{children:"NO"}),A.jsx(hn,{children:"문서번호"}),A.jsx(hn,{children:"요청일"}),A.jsx(hn,{children:"요청자"}),A.jsxs(hn,{children:["완료",A.jsx("br",{}),"요청일"]}),A.jsx(hn,{children:"오픈일"}),A.jsx(hn,{children:"업무형태"}),A.jsx(hn,{children:"업무타입"}),A.jsx(hn,{children:"작업항목"}),A.jsx(hn,{children:"기획안 URL"}),A.jsx(hn,{children:"메모"}),A.jsx(hn,{children:"디자인 시작일"}),A.jsx(hn,{children:"디자인 종료일"}),A.jsx(hn,{children:"산출물 링크"}),A.jsx(hn,{children:"진행상태"}),A.jsx(hn,{children:"저장"})]})}),A.jsx("tbody",{children:r.length>0?r.map((s,o)=>A.jsx(aV,{index:o+1,item:s,onChange:e,onSave:t},s.id)):A.jsx("tr",{children:A.jsx("td",{colSpan:16,style:{textAlign:"center"},children:"배정된 요청이 없습니다."})})})]})}const hV=se.table`
  width: 100%;
  text-align: center;
  border-top: 2px solid ${({theme:r})=>r.colors.black};
`,hn=se.th`
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:r})=>r.colors.white02};
`;function fV(){const[r,e]=G.useState([]),[t,s]=G.useState(""),[o,u]=G.useState({});G.useEffect(()=>{const g=Lf(wa,v=>{v&&v.displayName&&s(v.displayName)});return()=>g()},[]),G.useEffect(()=>{if(!t)return;const g=Fo(Aa(vn,"design_request"),Go("assigned_designer","==",t),Sy("design_request_id","asc")),v=od(g,T=>{const w=T.docs.map(O=>({id:O.id,...O.data()}));e(w)});return()=>v()},[t]);const f=(g,v,T)=>{u(w=>({...w,[g]:{...w[g],[v]:T}}))},p=g=>g?nt.fromDate(new Date(g)):null,m=async g=>{const v=wi(vn,"design_request",g),T=o[g];if(!T){alert("변경된 내용이 없습니다.");return}await Hu(v,{designer_start_date:p(T.start_dt),designer_end_date:p(T.end_dt),result_url:T.result_url||"",status:T.status}),alert("저장되었습니다.")};return A.jsxs(dV,{children:[A.jsx(pV,{children:"디자이너 화면"}),A.jsx(cV,{requests:r,formData:o,onChange:f,onSave:m})]})}const dV=se.div``,pV=se.h2`
  margin-bottom: 20px;
`;function mV({index:r,item:e,designerList:t,selectedDesigner:s,onDesignerSelect:o,onAssignDesigner:u,onSendToRequester:f}){const p=m=>{if(!m)return"-";if(m.toDate){const g=m.toDate();return`${g.getMonth()+1}/${g.getDate()}`}return m};return A.jsxs(vV,{isCanceled:e.status==="취소",children:[A.jsx(Jt,{children:r}),A.jsx(Jt,{children:e.design_request_id}),A.jsx(Jt,{children:p(e.request_date)}),A.jsx(Jt,{children:e.requester}),A.jsx(Jt,{children:p(e.completion_dt)}),A.jsx(Jt,{children:p(e.open_dt)}),A.jsx(Jt,{children:e.task_form}),A.jsx(Jt,{children:e.task_type}),A.jsxs(Jt,{children:[e.emergency?A.jsx(TV,{children:"긴급"}):"",e.requirement]}),A.jsx(Jt,{children:e.url||""}),A.jsx(Jt,{children:e.note||""}),A.jsx(Jt,{children:e.status==="검수요청"?"검수중":e.status||"대기"}),A.jsx(Jt,{children:e.result_url||""}),A.jsx(Jt,{children:p(e.designer_start_date)}),A.jsx(Jt,{children:p(e.designer_end_date)}),A.jsxs(Jt,{children:[A.jsxs(yV,{value:s,onChange:m=>o(m.target.value),disabled:e.status==="취소",children:[A.jsx("option",{value:"",children:"디자이너 선택"}),t.map(m=>A.jsx("option",{value:m.name,children:m.name},m.id))]}),A.jsx(gV,{onClick:u,disabled:e.status==="취소",children:"배정"})]}),A.jsx(Jt,{children:e.status==="검수요청"&&e.manager_review_status!=="검수완료"?A.jsx(_V,{onClick:f,children:"완료"}):e.manager_review_status==="검수완료"?A.jsx(EV,{children:"완료"}):""})]})}const gV=se.button`
  margin-left: 10px;
  margin-top: 6px;
  padding: 6px 10px;
  background: #073863;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
`,yV=se.select`
  padding: 6px;
  border: 1px solid #ccc;
  border-radius: 4px;
`,_V=se.button`
  padding: 6px 12px;
  background: #28a745;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
`,vV=se.tr`
  ${({isCanceled:r})=>r&&`
      td {
        text-decoration: line-through;
        color: gray;
      }
    `}
`,Jt=se.td`
  padding: 5px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 400;
`,EV=se.span`
  color: green;
  font-size: 13px;
  font-weight: bold;
`,TV=se.span`
  margin-right: 5px;
  padding: 4px 6px;
  border-radius: 4px;
  font-weight: 700;
  background-color: ${({theme:r})=>r.colors.red};
  color: ${({theme:r})=>r.colors.white01};
`;function SV({data:r,designerList:e,selectedDesigners:t,designerSelect:s,assignDesigner:o,sendToRequester:u}){return A.jsxs(AV,{children:[A.jsx(wV,{children:"매니저 요청 리스트"}),A.jsxs("colgroup",{children:[A.jsx("col",{style:{width:"50px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"120px"}}),A.jsx("col",{}),A.jsx("col",{}),A.jsx("col",{}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"180px"}}),A.jsx("col",{style:{width:"60px"}})]}),A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx(en,{children:"NO"}),A.jsx(en,{children:"문서번호"}),A.jsx(en,{children:"요청일"}),A.jsx(en,{children:"요청자"}),A.jsxs(en,{children:["완료",A.jsx("br",{}),"요청일"]}),A.jsx(en,{children:"오픈일"}),A.jsx(en,{children:"업무형태"}),A.jsx(en,{children:"업무타입"}),A.jsx(en,{children:"작업항목"}),A.jsx(en,{children:"기획안 URL"}),A.jsx(en,{children:"메모"}),A.jsx(en,{children:"진행상태"}),A.jsx(en,{children:"산출물 URL"}),A.jsxs(en,{children:["디자인",A.jsx("br",{}),"시작일"]}),A.jsxs(en,{children:["디자인",A.jsx("br",{}),"종료일"]}),A.jsx(en,{children:"배정"}),A.jsx(en,{children:"검수"})]})}),A.jsx("tbody",{children:r.length>0?r.map((f,p)=>A.jsx(mV,{index:p+1,item:f,designerList:e,selectedDesigner:t[f.id]||"",onDesignerSelect:m=>s(f.id,m),onAssignDesigner:()=>o(f.id),onSendToRequester:()=>u(f.id)},f.id)):A.jsx("tr",{children:A.jsx("td",{colSpan:17,style:{textAlign:"center",padding:"20px"},children:"등록된 요청이 없습니다."})})})]})}const AV=se.table`
  width: 100%;
  text-align: center;
  border-top: 2px solid ${({theme:r})=>r.colors.black};
`,wV=se.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,en=se.th`
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:r})=>r.colors.white02};
`;function bV(){const[r,e]=G.useState([]),[t,s]=G.useState([]),[o,u]=G.useState({});G.useEffect(()=>{const g=Fo(Aa(vn,"design_request"),Sy("design_request_id","asc")),v=od(g,T=>{const w=T.docs.map(O=>({id:O.id,...O.data()}));e(w)});return()=>v()},[]),G.useEffect(()=>{(async()=>{const v=Fo(Aa(vn,"users"),Go("role","==",2)),w=(await JA(v)).docs.map(O=>({id:O.id,...O.data()}));s(w)})()},[]);const f=(g,v)=>{u(T=>({...T,[g]:v}))},p=async g=>{const v=o[g];if(!v){alert("디자이너를 선택하세요.");return}const T=wi(vn,"design_request",g);await Hu(T,{assigned_designer:v}),alert("디자이너가 배정되었습니다!"),e(w=>w.map(O=>O.id===g?{...O,assigned_designer:v}:O))},m=async g=>{await Hu(wi(vn,"design_request",g),{manager_review_status:"검수완료",status:"검수중"}),e(v=>v.map(T=>T.id===g?{...T,manager_review_status:"검수완료",status:"검수중"}:T)),alert("요청자에게 전달되었습니다.")};return A.jsxs(RV,{children:[A.jsx(IV,{children:"매니저 요청리스트"}),A.jsx(SV,{data:r,designerList:t,selectedDesigners:o,designerSelect:f,assignDesigner:p,sendToRequester:m})]})}const RV=se.div``,IV=se.h2`
  margin-bottom: 20px;
`;function CV({userRole:r}){const e=()=>{if(r===1)return A.jsx(iV,{});if(r===2)return A.jsx(fV,{});if(r===3)return A.jsx(bV,{})};return A.jsx(xV,{children:e()})}const xV=se.main`
  padding: 20px 25px;
`,DV="./assets/aside-logo-DoEwMgfJ.svg",NV="data:image/svg+xml,%3csvg%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='36'%20height='36'%20rx='18'%20fill='%23212121'/%3e%3cpath%20d='M14%2020H22V19.45C22%2018.7167%2021.6333%2018.125%2020.9%2017.675C20.1667%2017.225%2019.2%2017%2018%2017C16.8%2017%2015.8333%2017.225%2015.1%2017.675C14.3667%2018.125%2014%2018.7167%2014%2019.45V20ZM18%2016C18.55%2016%2019.0208%2015.8042%2019.4125%2015.4125C19.8042%2015.0208%2020%2014.55%2020%2014C20%2013.45%2019.8042%2012.9792%2019.4125%2012.5875C19.0208%2012.1958%2018.55%2012%2018%2012C17.45%2012%2016.9792%2012.1958%2016.5875%2012.5875C16.1958%2012.9792%2016%2013.45%2016%2014C16%2014.55%2016.1958%2015.0208%2016.5875%2015.4125C16.9792%2015.8042%2017.45%2016%2018%2016ZM8%2028V10C8%209.45%208.19583%208.97917%208.5875%208.5875C8.97917%208.19583%209.45%208%2010%208H26C26.55%208%2027.0208%208.19583%2027.4125%208.5875C27.8042%208.97917%2028%209.45%2028%2010V22C28%2022.55%2027.8042%2023.0208%2027.4125%2023.4125C27.0208%2023.8042%2026.55%2024%2026%2024H12L8%2028ZM11.15%2022H26V10H10V23.125L11.15%2022Z'%20fill='white'/%3e%3c/svg%3e";function OV({item:r}){return A.jsxs(MV,{status:r.status,children:[A.jsx(VV,{children:r.status}),A.jsx(PV,{children:r.count})]})}const MV=se.li`
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  padding: 20.5px 10px;
  margin-bottom: 8px;
  font-family: 'Pretendard';
  color: ${({theme:r})=>r.colors.black};

  background-color: ${({status:r})=>{switch(r){case"대기중":return"#FFF7ED";case"작업중":return"#EEF4FF";case"완료":return"#F5F5F5";default:return"#f9f9f9"}}};
`,VV=se.span`
  font-size: 16px;
  font-weight: 400;
`,PV=se.span`
  font-size: 14px;
  font-weight: 700;
`;function kV({requests:r}){const e=[{status:"대기중",count:r.filter(t=>t.status==="대기").length},{status:"작업중",count:r.filter(t=>t.status==="진행중").length},{status:"완료",count:r.filter(t=>t.status==="완료").length}];return A.jsxs(LV,{children:[A.jsxs(UV,{children:[A.jsx(jV,{src:DV}),A.jsx(zV,{children:"업무 관리시스템"})]}),A.jsx(BV,{children:A.jsx(qV,{children:"디자인 요청 등록"})}),A.jsxs(HV,{children:[A.jsxs(FV,{children:[A.jsx(GV,{src:NV}),A.jsx($V,{children:"나의 요청"})]}),A.jsx(QV,{children:e.map(t=>A.jsx(OV,{item:t},t.status))})]})]})}const LV=se.aside`
  max-width: 240px;
  height: 100%;
  border-right: 1px solid ${({theme:r})=>r.colors.black};
`,UV=se.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  padding: 20px 24px;
  border-bottom: 1px solid ${({theme:r})=>r.colors.gray02};
`,jV=se.img`
  margin-right: 8px;
`,zV=se.span`
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 700;
  color: ${({theme:r})=>r.colors.black};
  white-space: nowrap;
`,BV=se.div`
  padding: 32.5px 20px;
  border-bottom: 1px solid ${({theme:r})=>r.colors.gray02};
`,qV=se.button`
  padding: 12px 44px;
  border-radius: 8px;
  font-family: 'Pretendard';
  font-size: 16px;
  background-color: ${({theme:r})=>r.colors.black};
  color: ${({theme:r})=>r.colors.white01};
  white-space: nowrap;
`,HV=se.div`
  padding: 0 24px;
`,FV=se.div`
  ${({theme:r})=>r.mixin.flex("center")};
  gap: 12px;
  padding: 30px 0;
`,GV=se.img``,$V=se.h4`
  font-family: 'Pretendard';
  font-size: 20px;
  font-weight: 700;
  color: ${({theme:r})=>r.colors.black};
`,QV=se.ul`
  ${({theme:r})=>r.mixin.flex("center")};
  flex-direction: column;
`;function YV(){const[r,e]=G.useState(null),[t,s]=G.useState([]);return G.useEffect(()=>{const o=Lf(wa,async u=>{if(u){const f=await ZA(wi(vn,"users",u.uid));if(f.exists()){const p=f.data();if(e(p.role),p.role===1){const m=Fo(Aa(vn,"design_request"),Go("requester","==",u.displayName));od(m,g=>{const v=g.docs.map(T=>({status:T.data().status||"대기중"}));s(v)})}}}else e(null),s([])});return()=>o()},[]),A.jsxs(KV,{children:[A.jsx(kV,{requests:t}),A.jsxs(XV,{children:[A.jsx(PM,{}),A.jsx(CV,{userRole:r})]})]})}const KV=se.div`
  ${({theme:r})=>r.mixin.flex()};
  width: 100%;
  height: 100%;
`,XV=se.div`
  flex: 1;
`;function WV(){const[r,e]=G.useState(""),[t,s]=G.useState(""),[o,u]=G.useState(""),[f,p]=G.useState(""),m=Gu(),g=async()=>{if(o!==f){alert("비밀번호가 일치하지 않습니다.");return}q2(wa,t,o).then(async v=>{const T=v.user;await G2(T,{displayName:r}),await yM(wi(vn,"users",T.uid),{name:r,role:2,createdAt:new Date})}).then(()=>{alert("회원가입이 완료되었습니다!"),m("/")}).catch(v=>{alert("회원가입 중 오류 발생: "+v.message)})};return A.jsx(ZV,{children:A.jsxs(JV,{children:[A.jsxs(eP,{children:[A.jsx(tP,{children:"PDMS"}),A.jsx(nP,{children:"Pushcomz Design Management System"})]}),A.jsx(rP,{children:A.jsx(iP,{src:tw})}),A.jsxs(sP,{children:[A.jsx(aP,{type:"text",value:r,onChange:v=>e(v.target.value),placeholder:"이름을 입력해주세요."}),A.jsx(oP,{type:"text",value:t,onChange:v=>s(v.target.value),placeholder:"이메일을 입력해주세요."}),A.jsx(lP,{type:"password",value:o,onChange:v=>u(v.target.value),placeholder:"비밀번호를 입력해주세요."}),A.jsx(uP,{type:"password",value:f,onChange:v=>p(v.target.value),placeholder:"비밀번호 확인을 입력해주세요."})]}),A.jsx(cP,{onClick:g,children:"등록하기"})]})})}const ZV=se.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:r})=>r.colors.gray01};
`,JV=se.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:r})=>r.colors.white01};
`,eP=se.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,tP=se.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:r})=>r.colors.navy};
`,nP=se.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,rP=se.div`
  margin-right: auto;
`,iP=se.img`
  
`,sP=se.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  gap: 10px;
`,aP=se.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,oP=se.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,lP=se.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,uP=se.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,cP=se.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:r})=>r.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:r})=>r.colors.white01};
`;function hP(){const[r,e]=G.useState(!1);return A.jsx(XR,{basename:"/pdms-test",children:A.jsxs(IR,{children:[A.jsx(Uh,{path:"/",element:A.jsx(TM,{onLoginSuccess:()=>e(!0)})}),A.jsx(Uh,{path:"/dashboard",element:r?A.jsx(YV,{}):A.jsx(bR,{to:"/"})}),A.jsx(Uh,{path:"/signup",element:A.jsx(WV,{})})]})})}const fP="/assets/Pretendard-Regular-B2kfZGS5.ttf",dP="/assets/Pretendard-Bold-BIECnYSa.ttf",pP=oC`
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    height: 100vh;
  }

  li {
    list-style: none;
  }

  button {
    background-color: transparent;
    border: none;
    cursor: pointer;
    &:focus {
      outline: none;
    }
  }

  input {
    border: none;

    &:focus {
      outline: none;
    }
  }

  table {
    border-collapse: collapse;

    th, td {
      border: 1px solid #ccc;
    }
  }

  @font-face {
    font-family: 'Pretendard';
    src: url(${fP}) format('truetype');
    font-weight: 400;
  }

  @font-face {
    font-family: 'Pretendard';
    src: url(${dP}) format('truetype');
    font-weight: 700;
  }

`,mP={white01:"#fff",white02:"#f4f4f4",red:"#eb193a",navy:"#073863",gray01:"#ECEDF0",gray02:"#ccc",black:"#212121"},gP={flex:(r="flex-start",e="flex-start")=>`
    display: flex;
    align-items: ${r};
    justify-content: ${e}
  `},yP={colors:mP,mixin:gP};kb.createRoot(document.getElementById("root")).render(A.jsx(G.StrictMode,{children:A.jsxs(iC,{theme:yP,children:[A.jsx(hP,{}),A.jsx(pP,{})]})}));
