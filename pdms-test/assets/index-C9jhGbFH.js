(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function ob(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Fp={exports:{}},Jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function lb(){if(mE)return Jl;mE=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Jl.Fragment=t,Jl.jsx=n,Jl.jsxs=n,Jl}var gE;function ub(){return gE||(gE=1,Fp.exports=lb()),Fp.exports}var rt=ub(),Gp={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function cb(){if(yE)return Dt;yE=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,G={};function H(N,et,st){this.props=N,this.context=et,this.refs=G,this.updater=st||M}H.prototype.isReactComponent={},H.prototype.setState=function(N,et){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,et,"setState")},H.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function J(){}J.prototype=H.prototype;function X(N,et,st){this.props=N,this.context=et,this.refs=G,this.updater=st||M}var nt=X.prototype=new J;nt.constructor=X,U(nt,H.prototype),nt.isPureReactComponent=!0;var ut=Array.isArray,lt={H:null,A:null,T:null,S:null,V:null},ft=Object.prototype.hasOwnProperty;function C(N,et,st,it,mt,Rt){return st=Rt.ref,{$$typeof:r,type:N,key:et,ref:st!==void 0?st:null,props:Rt}}function b(N,et){return C(N.type,et,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function x(N){var et={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(st){return et[st]})}var V=/\/+/g;function k(N,et){return typeof N=="object"&&N!==null&&N.key!=null?x(""+N.key):et.toString(36)}function D(){}function De(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(et){N.status==="pending"&&(N.status="fulfilled",N.value=et)},function(et){N.status==="pending"&&(N.status="rejected",N.reason=et)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ae(N,et,st,it,mt){var Rt=typeof N;(Rt==="undefined"||Rt==="boolean")&&(N=null);var _t=!1;if(N===null)_t=!0;else switch(Rt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(N.$$typeof){case r:case t:_t=!0;break;case E:return _t=N._init,ae(_t(N._payload),et,st,it,mt)}}if(_t)return mt=mt(N),_t=it===""?"."+k(N,0):it,ut(mt)?(st="",_t!=null&&(st=_t.replace(V,"$&/")+"/"),ae(mt,et,st,"",function(Le){return Le})):mt!=null&&(R(mt)&&(mt=b(mt,st+(mt.key==null||N&&N.key===mt.key?"":(""+mt.key).replace(V,"$&/")+"/")+_t)),et.push(mt)),1;_t=0;var ce=it===""?".":it+":";if(ut(N))for(var qt=0;qt<N.length;qt++)it=N[qt],Rt=ce+k(it,qt),_t+=ae(it,et,st,Rt,mt);else if(qt=w(N),typeof qt=="function")for(N=qt.call(N),qt=0;!(it=N.next()).done;)it=it.value,Rt=ce+k(it,qt++),_t+=ae(it,et,st,Rt,mt);else if(Rt==="object"){if(typeof N.then=="function")return ae(De(N),et,st,it,mt);throw et=String(N),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return _t}function K(N,et,st){if(N==null)return N;var it=[],mt=0;return ae(N,it,"","",function(Rt){return et.call(st,Rt,mt++)}),it}function ot(N){if(N._status===-1){var et=N._result;et=et(),et.then(function(st){(N._status===0||N._status===-1)&&(N._status=1,N._result=st)},function(st){(N._status===0||N._status===-1)&&(N._status=2,N._result=st)}),N._status===-1&&(N._status=0,N._result=et)}if(N._status===1)return N._result.default;throw N._result}var pt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Ct(){}return Dt.Children={map:K,forEach:function(N,et,st){K(N,function(){et.apply(this,arguments)},st)},count:function(N){var et=0;return K(N,function(){et++}),et},toArray:function(N){return K(N,function(et){return et})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Dt.Component=H,Dt.Fragment=n,Dt.Profiler=o,Dt.PureComponent=X,Dt.StrictMode=s,Dt.Suspense=m,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return lt.H.useMemoCache(N)}},Dt.cache=function(N){return function(){return N.apply(null,arguments)}},Dt.cloneElement=function(N,et,st){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var it=U({},N.props),mt=N.key,Rt=void 0;if(et!=null)for(_t in et.ref!==void 0&&(Rt=void 0),et.key!==void 0&&(mt=""+et.key),et)!ft.call(et,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&et.ref===void 0||(it[_t]=et[_t]);var _t=arguments.length-2;if(_t===1)it.children=st;else if(1<_t){for(var ce=Array(_t),qt=0;qt<_t;qt++)ce[qt]=arguments[qt+2];it.children=ce}return C(N.type,mt,void 0,void 0,Rt,it)},Dt.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Dt.createElement=function(N,et,st){var it,mt={},Rt=null;if(et!=null)for(it in et.key!==void 0&&(Rt=""+et.key),et)ft.call(et,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(mt[it]=et[it]);var _t=arguments.length-2;if(_t===1)mt.children=st;else if(1<_t){for(var ce=Array(_t),qt=0;qt<_t;qt++)ce[qt]=arguments[qt+2];mt.children=ce}if(N&&N.defaultProps)for(it in _t=N.defaultProps,_t)mt[it]===void 0&&(mt[it]=_t[it]);return C(N,Rt,void 0,void 0,null,mt)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(N){return{$$typeof:p,render:N}},Dt.isValidElement=R,Dt.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:ot}},Dt.memo=function(N,et){return{$$typeof:g,type:N,compare:et===void 0?null:et}},Dt.startTransition=function(N){var et=lt.T,st={};lt.T=st;try{var it=N(),mt=lt.S;mt!==null&&mt(st,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Ct,pt)}catch(Rt){pt(Rt)}finally{lt.T=et}},Dt.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},Dt.use=function(N){return lt.H.use(N)},Dt.useActionState=function(N,et,st){return lt.H.useActionState(N,et,st)},Dt.useCallback=function(N,et){return lt.H.useCallback(N,et)},Dt.useContext=function(N){return lt.H.useContext(N)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(N,et){return lt.H.useDeferredValue(N,et)},Dt.useEffect=function(N,et,st){var it=lt.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(N,et)},Dt.useId=function(){return lt.H.useId()},Dt.useImperativeHandle=function(N,et,st){return lt.H.useImperativeHandle(N,et,st)},Dt.useInsertionEffect=function(N,et){return lt.H.useInsertionEffect(N,et)},Dt.useLayoutEffect=function(N,et){return lt.H.useLayoutEffect(N,et)},Dt.useMemo=function(N,et){return lt.H.useMemo(N,et)},Dt.useOptimistic=function(N,et){return lt.H.useOptimistic(N,et)},Dt.useReducer=function(N,et,st){return lt.H.useReducer(N,et,st)},Dt.useRef=function(N){return lt.H.useRef(N)},Dt.useState=function(N){return lt.H.useState(N)},Dt.useSyncExternalStore=function(N,et,st){return lt.H.useSyncExternalStore(N,et,st)},Dt.useTransition=function(){return lt.H.useTransition()},Dt.version="19.1.0",Dt}var _E;function Jm(){return _E||(_E=1,Gp.exports=cb()),Gp.exports}var F=Jm();const Jn=ob(F);var $p={exports:{}},tu={},Kp={exports:{}},Qp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function hb(){return vE||(vE=1,function(r){function t(K,ot){var pt=K.length;K.push(ot);t:for(;0<pt;){var Ct=pt-1>>>1,N=K[Ct];if(0<o(N,ot))K[Ct]=ot,K[pt]=N,pt=Ct;else break t}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ot=K[0],pt=K.pop();if(pt!==ot){K[0]=pt;t:for(var Ct=0,N=K.length,et=N>>>1;Ct<et;){var st=2*(Ct+1)-1,it=K[st],mt=st+1,Rt=K[mt];if(0>o(it,pt))mt<N&&0>o(Rt,it)?(K[Ct]=Rt,K[mt]=pt,Ct=mt):(K[Ct]=it,K[st]=pt,Ct=st);else if(mt<N&&0>o(Rt,pt))K[Ct]=Rt,K[mt]=pt,Ct=mt;else break t}}return ot}function o(K,ot){var pt=K.sortIndex-ot.sortIndex;return pt!==0?pt:K.id-ot.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var m=[],g=[],E=1,S=null,w=3,M=!1,U=!1,G=!1,H=!1,J=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function ut(K){for(var ot=n(g);ot!==null;){if(ot.callback===null)s(g);else if(ot.startTime<=K)s(g),ot.sortIndex=ot.expirationTime,t(m,ot);else break;ot=n(g)}}function lt(K){if(G=!1,ut(K),!U)if(n(m)!==null)U=!0,ft||(ft=!0,k());else{var ot=n(g);ot!==null&&ae(lt,ot.startTime-K)}}var ft=!1,C=-1,b=5,R=-1;function x(){return H?!0:!(r.unstable_now()-R<b)}function V(){if(H=!1,ft){var K=r.unstable_now();R=K;var ot=!0;try{t:{U=!1,G&&(G=!1,X(C),C=-1),M=!0;var pt=w;try{e:{for(ut(K),S=n(m);S!==null&&!(S.expirationTime>K&&x());){var Ct=S.callback;if(typeof Ct=="function"){S.callback=null,w=S.priorityLevel;var N=Ct(S.expirationTime<=K);if(K=r.unstable_now(),typeof N=="function"){S.callback=N,ut(K),ot=!0;break e}S===n(m)&&s(m),ut(K)}else s(m);S=n(m)}if(S!==null)ot=!0;else{var et=n(g);et!==null&&ae(lt,et.startTime-K),ot=!1}}break t}finally{S=null,w=pt,M=!1}ot=void 0}}finally{ot?k():ft=!1}}}var k;if(typeof nt=="function")k=function(){nt(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,De=D.port2;D.port1.onmessage=V,k=function(){De.postMessage(null)}}else k=function(){J(V,0)};function ae(K,ot){C=J(function(){K(r.unstable_now())},ot)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var ot=3;break;default:ot=w}var pt=w;w=ot;try{return K()}finally{w=pt}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(K,ot){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var pt=w;w=K;try{return ot()}finally{w=pt}},r.unstable_scheduleCallback=function(K,ot,pt){var Ct=r.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Ct+pt:Ct):pt=Ct,K){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=pt+N,K={id:E++,callback:ot,priorityLevel:K,startTime:pt,expirationTime:N,sortIndex:-1},pt>Ct?(K.sortIndex=pt,t(g,K),n(m)===null&&K===n(g)&&(G?(X(C),C=-1):G=!0,ae(lt,pt-Ct))):(K.sortIndex=N,t(m,K),U||M||(U=!0,ft||(ft=!0,k()))),K},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(K){var ot=w;return function(){var pt=w;w=ot;try{return K.apply(this,arguments)}finally{w=pt}}}}(Qp)),Qp}var EE;function fb(){return EE||(EE=1,Kp.exports=hb()),Kp.exports}var Yp={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function db(){if(TE)return rn;TE=1;var r=Jm();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:m,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(m,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,E)},rn.flushSync=function(m){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=g,s.p=E,s.d.f()}},rn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},rn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},rn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var E=g.as,S=p(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:M}):E==="script"&&s.d.X(m,{crossOrigin:S,integrity:w,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},rn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=p(E,g.crossOrigin);s.d.L(m,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rn.preloadModule=function(m,g){if(typeof m=="string")if(g){var E=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},rn.requestFormReset=function(m){s.d.r(m)},rn.unstable_batchedUpdates=function(m,g){return m(g)},rn.useFormState=function(m,g,E){return f.H.useFormState(m,g,E)},rn.useFormStatus=function(){return f.H.useHostTransitionStatus()},rn.version="19.1.0",rn}var SE;function pb(){if(SE)return Yp.exports;SE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Yp.exports=db(),Yp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function mb(){if(AE)return tu;AE=1;var r=fb(),t=Jm(),n=pb();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function m(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function De(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case H:return"Profiler";case G:return"StrictMode";case lt:return"Suspense";case ft:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case nt:return(e.displayName||"Context")+".Provider";case X:return(e._context.displayName||"Context")+".Consumer";case ut:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return i=e.displayName||null,i!==null?i:De(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return De(e(i))}catch{}}return null}var ae=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Ct=[],N=-1;function et(e){return{current:e}}function st(e){0>N||(e.current=Ct[N],Ct[N]=null,N--)}function it(e,i){N++,Ct[N]=e.current,e.current=i}var mt=et(null),Rt=et(null),_t=et(null),ce=et(null);function qt(e,i){switch(it(_t,i),it(Rt,e),it(mt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Hv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Hv(i),e=Fv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}st(mt),it(mt,e)}function Le(){st(mt),st(Rt),st(_t)}function Nn(e){e.memoizedState!==null&&it(ce,e);var i=mt.current,a=Fv(i,e.type);i!==a&&(it(Rt,e),it(mt,a))}function dn(e){Rt.current===e&&(st(mt),st(Rt)),ce.current===e&&(st(ce),Ql._currentValue=pt)}var tn=Object.prototype.hasOwnProperty,ms=r.unstable_scheduleCallback,gs=r.unstable_cancelCallback,Go=r.unstable_shouldYield,$u=r.unstable_requestPaint,On=r.unstable_now,Ff=r.unstable_getCurrentPriorityLevel,$o=r.unstable_ImmediatePriority,pa=r.unstable_UserBlockingPriority,ys=r.unstable_NormalPriority,Gf=r.unstable_LowPriority,ma=r.unstable_IdlePriority,Ko=r.log,Ku=r.unstable_setDisableYieldValue,de=null,Qt=null;function vn(e){if(typeof Ko=="function"&&Ku(e),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(de,e)}catch{}}var en=Math.clz32?Math.clz32:_s,Qu=Math.log,$f=Math.LN2;function _s(e){return e>>>=0,e===0?32:31-(Qu(e)/$f|0)|0}var vs=256,Es=4194304;function Kn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ga(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Kn(l):(v&=T,v!==0?h=Kn(v):a||(a=T&~e,a!==0&&(h=Kn(a))))):(T=l&~d,T!==0?h=Kn(T):v!==0?h=Kn(v):a||(a=l&~e,a!==0&&(h=Kn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Ts(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Qo(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yo(){var e=vs;return vs<<=1,(vs&4194048)===0&&(vs=256),e}function Xo(){var e=Es;return Es<<=1,(Es&62914560)===0&&(Es=4194304),e}function Vr(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Pr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Wo(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,B=e.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-en(a),Z=1<<Q;T[Q]=0,I[Q]=-1;var j=B[Q];if(j!==null)for(B[Q]=null,Q=0;Q<j.length;Q++){var q=j[Q];q!==null&&(q.lane&=-536870913)}a&=~Z}l!==0&&or(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function or(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-en(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Zo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-en(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function _i(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ya(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function vi(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:uE(e.type))}function Yu(e,i){var a=ot.p;try{return ot.p=e,i()}finally{ot.p=a}}var oe=Math.random().toString(36).slice(2),Ne="__reactFiber$"+oe,Te="__reactProps$"+oe,xn="__reactContainer$"+oe,Jo="__reactEvents$"+oe,Kf="__reactListeners$"+oe,Ei="__reactHandles$"+oe,Xu="__reactResources$"+oe,Ss="__reactMarker$"+oe;function Ti(e){delete e[Ne],delete e[Te],delete e[Jo],delete e[Kf],delete e[Ei]}function kr(e){var i=e[Ne];if(i)return i;for(var a=e.parentNode;a;){if(i=a[xn]||a[Ne]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Qv(e);e!==null;){if(a=e[Ne])return a;e=Qv(e)}return i}e=a,a=e.parentNode}return null}function lr(e){if(e=e[Ne]||e[xn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function ur(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function un(e){var i=e[Xu];return i||(i=e[Xu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ge(e){e[Ss]=!0}var tl=new Set,_a={};function Qn(e,i){Lr(e,i),Lr(e+"Capture",i)}function Lr(e,i){for(_a[e]=i,e=0;e<i.length;e++)tl.add(i[e])}var Wu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zu={},As={};function Ju(e){return tn.call(As,e)?!0:tn.call(Zu,e)?!1:Wu.test(e)?As[e]=!0:(Zu[e]=!0,!1)}function Si(e,i,a){if(Ju(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function cr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function $e(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var ws,tc;function Ur(e){if(ws===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ws=i&&i[1]||"",tc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ws+e+tc}var va=!1;function Ea(e,i){if(!e||va)return"";va=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var j=q}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(q){j=q}e.call(Z.prototype)}}else{try{throw Error()}catch(q){j=q}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),B=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var Q=`
`+I[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=h);break}}}finally{va=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ur(a):""}function el(e){switch(e.tag){case 26:case 27:case 5:return Ur(e.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 15:return Ea(e.type,!1);case 11:return Ea(e.type.render,!1);case 1:return Ea(e.type,!0);case 31:return Ur("Activity");default:return""}}function Ta(e){try{var i="";do i+=el(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nl(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Qf(e){var i=nl(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Sa(e){e._valueTracker||(e._valueTracker=Qf(e))}function rl(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=nl(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function bs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Yf=/[\n"\\]/g;function Se(e){return e.replace(Yf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function En(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+cn(i)):e.value!==""+cn(i)&&(e.value=""+cn(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Ai(e,v,cn(i)):a!=null?Ai(e,v,cn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+cn(T):e.removeAttribute("name")}function Rs(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+cn(a):"",i=i!=null?""+cn(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Ai(e,i,a){i==="number"&&bs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+cn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Wt(e,i,a){if(i!=null&&(i=""+cn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+cn(a):""}function Is(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=cn(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Mn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Cs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ec(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Cs.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function il(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&ec(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&ec(e,d,i[d])}function sl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(e){return Wf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Br=null;function Vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jr=null,qr=null;function al(e){var i=lr(e);if(i&&(e=i.stateNode)){var a=e[Te]||null;t:switch(e=i.stateNode,i.type){case"input":if(En(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Se(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Te]||null;if(!h)throw Error(s(90));En(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&rl(l)}break t;case"textarea":Wt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&zr(e,!!a.multiple,i,!1)}}}var hr=!1;function nc(e,i,a){if(hr)return e(i,a);hr=!0;try{var l=e(i);return l}finally{if(hr=!1,(jr!==null||qr!==null)&&(Yc(),jr&&(i=jr,e=qr,qr=jr=null,al(i),e)))for(i=0;i<e.length;i++)al(e[i])}}function Ds(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Te]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pn=!1;if(Yn)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){Pn=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{Pn=!1}var fr=null,wi=null,Hr=null;function ol(){if(Hr)return Hr;var e,i=wi,a=i.length,l,h="value"in fr?fr.value:fr.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Hr=h.slice(e,1<l?1-l:void 0)}function dr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function pr(){return!0}function ll(){return!1}function Ue(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?pr:ll,this.isPropagationStopped=ll,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),i}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=Ue(Gt),Os=E({},Gt,{view:0,detail:0}),rc=Ue(Os),ba,Ra,mr,xs=E({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mr&&(mr&&e.type==="mousemove"?(ba=e.screenX-mr.screenX,Ra=e.screenY-mr.screenY):Ra=ba=0,mr=e),ba)},movementY:function(e){return"movementY"in e?e.movementY:Ra}}),kn=Ue(xs),ic=E({},xs,{dataTransfer:0}),Zf=Ue(ic),Ms=E({},Os,{relatedTarget:0}),Ia=Ue(Ms),ul=E({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ca=Ue(ul),sc=E({},Gt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Da=Ue(sc),Jf=E({},Gt,{data:0}),cl=Ue(Jf),Vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ac={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hl(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=oc[e])?!!i[e]:!1}function Ps(){return hl}var lc=E({},Os,{key:function(e){if(e.key){var i=Vs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ac[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(e){return e.type==="keypress"?dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Na=Ue(lc),uc=E({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fl=Ue(uc),Fr=E({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),cc=Ue(Fr),hc=E({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),fc=Ue(hc),dc=E({},xs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Oa=Ue(dc),hn=E({},Gt,{newState:0,oldState:0}),pc=Ue(hn),mc=[9,13,27,32],gr=Yn&&"CompositionEvent"in window,c=null;Yn&&"documentMode"in document&&(c=document.documentMode);var y=Yn&&"TextEvent"in window&&!c,_=Yn&&(!gr||c&&8<c&&11>=c),A=" ",L=!1;function $(e,i){switch(e){case"keyup":return mc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ut=!1;function Oe(e,i){switch(e){case"compositionend":return at(i);case"keypress":return i.which!==32?null:(L=!0,A);case"textInput":return e=i.data,e===A&&L?null:e;default:return null}}function zt(e,i){if(Ut)return e==="compositionend"||!gr&&$(e,i)?(e=ol(),Hr=wi=fr=null,Ut=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var ze={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xe(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!ze[e.type]:i==="textarea"}function Gr(e,i,a,l){jr?qr?qr.push(l):qr=[l]:jr=l,i=eh(i,"onChange"),0<i.length&&(a=new wa("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ke=null,yr=null;function dl(e){Uv(e,0)}function gc(e){var i=ur(e);if(rl(i))return e}function sy(e,i){if(e==="change")return i}var ay=!1;if(Yn){var td;if(Yn){var ed="oninput"in document;if(!ed){var oy=document.createElement("div");oy.setAttribute("oninput","return;"),ed=typeof oy.oninput=="function"}td=ed}else td=!1;ay=td&&(!document.documentMode||9<document.documentMode)}function ly(){Ke&&(Ke.detachEvent("onpropertychange",uy),yr=Ke=null)}function uy(e){if(e.propertyName==="value"&&gc(yr)){var i=[];Gr(i,yr,e,Vn(e)),nc(dl,i)}}function LA(e,i,a){e==="focusin"?(ly(),Ke=i,yr=a,Ke.attachEvent("onpropertychange",uy)):e==="focusout"&&ly()}function UA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gc(yr)}function zA(e,i){if(e==="click")return gc(i)}function BA(e,i){if(e==="input"||e==="change")return gc(i)}function jA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Tn=typeof Object.is=="function"?Object.is:jA;function pl(e,i){if(Tn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!tn.call(i,h)||!Tn(e[h],i[h]))return!1}return!0}function cy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hy(e,i){var a=cy(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=cy(a)}}function fy(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?fy(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function dy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=bs(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=bs(e.document)}return i}function nd(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var qA=Yn&&"documentMode"in document&&11>=document.documentMode,xa=null,rd=null,ml=null,id=!1;function py(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;id||xa==null||xa!==bs(l)||(l=xa,"selectionStart"in l&&nd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&pl(ml,l)||(ml=l,l=eh(rd,"onSelect"),0<l.length&&(i=new wa("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=xa)))}function ks(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ma={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},sd={},my={};Yn&&(my=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Ls(e){if(sd[e])return sd[e];if(!Ma[e])return e;var i=Ma[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in my)return sd[e]=i[a];return e}var gy=Ls("animationend"),yy=Ls("animationiteration"),_y=Ls("animationstart"),HA=Ls("transitionrun"),FA=Ls("transitionstart"),GA=Ls("transitioncancel"),vy=Ls("transitionend"),Ey=new Map,ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ad.push("scrollEnd");function Xn(e,i){Ey.set(e,i),Qn(i,[e])}var Ty=new WeakMap;function Ln(e,i){if(typeof e=="object"&&e!==null){var a=Ty.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ta(i)},Ty.set(e,i),i)}return{value:e,source:i,stack:Ta(i)}}var Un=[],Va=0,od=0;function yc(){for(var e=Va,i=od=Va=0;i<e;){var a=Un[i];Un[i++]=null;var l=Un[i];Un[i++]=null;var h=Un[i];Un[i++]=null;var d=Un[i];if(Un[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Sy(a,h,d)}}function _c(e,i,a,l){Un[Va++]=e,Un[Va++]=i,Un[Va++]=a,Un[Va++]=l,od|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function ld(e,i,a,l){return _c(e,i,a,l),vc(e)}function Pa(e,i){return _c(e,null,null,i),vc(e)}function Sy(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-en(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function vc(e){if(50<Bl)throw Bl=0,pp=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ka={};function $A(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,i,a,l){return new $A(e,i,a,l)}function ud(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $r(e,i){var a=e.alternate;return a===null?(a=Sn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ay(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Ec(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")ud(e)&&(v=1);else if(typeof e=="string")v=Qw(e,a,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Sn(31,a,i,h),e.elementType=R,e.lanes=d,e;case U:return Us(a.children,h,d,i);case G:v=8,h|=24;break;case H:return e=Sn(12,a,i,h|2),e.elementType=H,e.lanes=d,e;case lt:return e=Sn(13,a,i,h),e.elementType=lt,e.lanes=d,e;case ft:return e=Sn(19,a,i,h),e.elementType=ft,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:case nt:v=10;break t;case X:v=9;break t;case ut:v=11;break t;case C:v=14;break t;case b:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Sn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Us(e,i,a,l){return e=Sn(7,e,l,i),e.lanes=a,e}function cd(e,i,a){return e=Sn(6,e,null,i),e.lanes=a,e}function hd(e,i,a){return i=Sn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var La=[],Ua=0,Tc=null,Sc=0,zn=[],Bn=0,zs=null,Kr=1,Qr="";function Bs(e,i){La[Ua++]=Sc,La[Ua++]=Tc,Tc=e,Sc=i}function wy(e,i,a){zn[Bn++]=Kr,zn[Bn++]=Qr,zn[Bn++]=zs,zs=e;var l=Kr;e=Qr;var h=32-en(l)-1;l&=~(1<<h),a+=1;var d=32-en(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Kr=1<<32-en(i)+h|a<<h|l,Qr=d+e}else Kr=1<<d|a<<h|l,Qr=e}function fd(e){e.return!==null&&(Bs(e,1),wy(e,1,0))}function dd(e){for(;e===Tc;)Tc=La[--Ua],La[Ua]=null,Sc=La[--Ua],La[Ua]=null;for(;e===zs;)zs=zn[--Bn],zn[Bn]=null,Qr=zn[--Bn],zn[Bn]=null,Kr=zn[--Bn],zn[Bn]=null}var fn=null,pe=null,Ft=!1,js=null,_r=!1,pd=Error(s(519));function qs(e){var i=Error(s(418,""));throw _l(Ln(i,e)),pd}function by(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ne]=e,i[Te]=l,a){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(a=0;a<ql.length;a++)Vt(ql[a],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),Rs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Sa(i);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),Is(i,l.value,l.defaultValue,l.children),Sa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||qv(i.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),l.onScroll!=null&&Vt("scroll",i),l.onScrollEnd!=null&&Vt("scrollend",i),l.onClick!=null&&(i.onclick=nh),i=!0):i=!1,i||qs(e)}function Ry(e){for(fn=e.return;fn;)switch(fn.tag){case 5:case 13:_r=!1;return;case 27:case 3:_r=!0;return;default:fn=fn.return}}function gl(e){if(e!==fn)return!1;if(!Ft)return Ry(e),Ft=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Np(e.type,e.memoizedProps)),a=!a),a&&pe&&qs(e),Ry(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){pe=Zn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}pe=null}}else i===27?(i=pe,Bi(e.type)?(e=Vp,Vp=null,pe=e):pe=i):pe=fn?Zn(e.stateNode.nextSibling):null;return!0}function yl(){pe=fn=null,Ft=!1}function Iy(){var e=js;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),js=null),e}function _l(e){js===null?js=[e]:js.push(e)}var md=et(null),Hs=null,Yr=null;function bi(e,i,a){it(md,i._currentValue),i._currentValue=a}function Xr(e){e._currentValue=md.current,st(md)}function gd(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function yd(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),gd(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),gd(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function vl(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;Tn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===ce.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ql):e=[Ql])}h=h.return}e!==null&&yd(i,e,a,l),i.flags|=262144}function Ac(e){for(e=e.firstContext;e!==null;){if(!Tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fs(e){Hs=e,Yr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nn(e){return Cy(Hs,e)}function wc(e,i){return Hs===null&&Fs(e),Cy(e,i)}function Cy(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Yr===null){if(e===null)throw Error(s(308));Yr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Yr=Yr.next=i;return a}var KA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},QA=r.unstable_scheduleCallback,YA=r.unstable_NormalPriority,Me={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _d(){return{controller:new KA,data:new Map,refCount:0}}function El(e){e.refCount--,e.refCount===0&&QA(YA,function(){e.controller.abort()})}var Tl=null,vd=0,za=0,Ba=null;function XA(e,i){if(Tl===null){var a=Tl=[];vd=0,za=Tp(),Ba={status:"pending",value:void 0,then:function(l){a.push(l)}}}return vd++,i.then(Dy,Dy),i}function Dy(){if(--vd===0&&Tl!==null){Ba!==null&&(Ba.status="fulfilled");var e=Tl;Tl=null,za=0,Ba=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function WA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ny=K.S;K.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&XA(e,i),Ny!==null&&Ny(e,i)};var Gs=et(null);function Ed(){var e=Gs.current;return e!==null?e:ne.pooledCache}function bc(e,i){i===null?it(Gs,Gs.current):it(Gs,i.pool)}function Oy(){var e=Ed();return e===null?null:{parent:Me._currentValue,pool:e}}var Sl=Error(s(460)),xy=Error(s(474)),Rc=Error(s(542)),Td={then:function(){}};function My(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ic(){}function Vy(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Ic,Ic),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ky(e),e;default:if(typeof i.status=="string")i.then(Ic,Ic);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ky(e),e}throw Al=i,Sl}}var Al=null;function Py(){if(Al===null)throw Error(s(459));var e=Al;return Al=null,e}function ky(e){if(e===Sl||e===Rc)throw Error(s(483))}var Ri=!1;function Sd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ad(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ii(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ci(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=vc(e),Sy(e,null,a),i}return _c(e,l,i,a),vc(e)}function wl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Zo(e,a)}}function wd(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var bd=!1;function bl(){if(bd){var e=Ba;if(e!==null)throw e}}function Rl(e,i,a,l){bd=!1;var h=e.updateQueue;Ri=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,B=I.next;I.next=null,v===null?d=B:v.next=B,v=I;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==v&&(T===null?Q.firstBaseUpdate=B:T.next=B,Q.lastBaseUpdate=I))}if(d!==null){var Z=h.baseState;v=0,Q=B=I=null,T=d;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(Bt&j)===j:(l&j)===j){j!==0&&j===za&&(bd=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var At=e,vt=T;j=i;var te=a;switch(vt.tag){case 1:if(At=vt.payload,typeof At=="function"){Z=At.call(te,Z,j);break t}Z=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=vt.payload,j=typeof At=="function"?At.call(te,Z,j):At,j==null)break t;Z=E({},Z,j);break t;case 2:Ri=!0}}j=T.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(B=Q=q,I=Z):Q=Q.next=q,v|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Q===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),ki|=v,e.lanes=v,e.memoizedState=Z}}function Ly(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Uy(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ly(a[e],i)}var ja=et(null),Cc=et(0);function zy(e,i){e=ri,it(Cc,e),it(ja,i),ri=e|i.baseLanes}function Rd(){it(Cc,ri),it(ja,ja.current)}function Id(){ri=Cc.current,st(ja),st(Cc)}var Di=0,Ot=null,Zt=null,Ae=null,Dc=!1,qa=!1,$s=!1,Nc=0,Il=0,Ha=null,ZA=0;function ye(){throw Error(s(321))}function Cd(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Tn(e[a],i[a]))return!1;return!0}function Dd(e,i,a,l,h,d){return Di=d,Ot=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=e===null||e.memoizedState===null?S_:A_,$s=!1,d=a(l,h),$s=!1,qa&&(d=jy(i,a,l,h)),By(e),d}function By(e){K.H=kc;var i=Zt!==null&&Zt.next!==null;if(Di=0,Ae=Zt=Ot=null,Dc=!1,Il=0,Ha=null,i)throw Error(s(300));e===null||Be||(e=e.dependencies,e!==null&&Ac(e)&&(Be=!0))}function jy(e,i,a,l){Ot=e;var h=0;do{if(qa&&(Ha=null),Il=0,qa=!1,25<=h)throw Error(s(301));if(h+=1,Ae=Zt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=sw,d=i(a,l)}while(qa);return d}function JA(){var e=K.H,i=e.useState()[0];return i=typeof i.then=="function"?Cl(i):i,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(Ot.flags|=1024),i}function Nd(){var e=Nc!==0;return Nc=0,e}function Od(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function xd(e){if(Dc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Dc=!1}Di=0,Ae=Zt=Ot=null,qa=!1,Il=Nc=0,Ha=null}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Ot.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function we(){if(Zt===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var i=Ae===null?Ot.memoizedState:Ae.next;if(i!==null)Ae=i,Zt=e;else{if(e===null)throw Ot.alternate===null?Error(s(467)):Error(s(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ae===null?Ot.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Md(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(e){var i=Il;return Il+=1,Ha===null&&(Ha=[]),e=Vy(Ha,e,i),i=Ot,(Ae===null?i.memoizedState:Ae.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?S_:A_),e}function Oc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Cl(e);if(e.$$typeof===nt)return nn(e)}throw Error(s(438,String(e)))}function Vd(e){var i=null,a=Ot.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ot.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Md(),Ot.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=x;return i.index++,a}function Wr(e,i){return typeof i=="function"?i(e):i}function xc(e){var i=we();return Pd(i,Zt,e)}function Pd(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,I=null,B=i,Q=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Bt&Z)===Z:(Di&Z)===Z){var j=B.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===za&&(Q=!0);else if((Di&j)===j){B=B.next,j===za&&(Q=!0);continue}else Z={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=Z,v=d):I=I.next=Z,Ot.lanes|=j,ki|=j;Z=B.action,$s&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else j={lane:Z,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=j,v=d):I=I.next=j,Ot.lanes|=Z,ki|=Z;B=B.next}while(B!==null&&B!==i);if(I===null?v=d:I.next=T,!Tn(d,e.memoizedState)&&(Be=!0,Q&&(a=Ba,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function kd(e){var i=we(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);Tn(d,i.memoizedState)||(Be=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function qy(e,i,a){var l=Ot,h=we(),d=Ft;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!Tn((Zt||h).memoizedState,a);v&&(h.memoizedState=a,Be=!0),h=h.queue;var T=Gy.bind(null,l,h,e);if(Dl(2048,8,T,[e]),h.getSnapshot!==i||v||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Fa(9,Mc(),Fy.bind(null,l,h,a,i),null),ne===null)throw Error(s(349));d||(Di&124)!==0||Hy(l,i,a)}return a}function Hy(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Ot.updateQueue,i===null?(i=Md(),Ot.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Fy(e,i,a,l){i.value=a,i.getSnapshot=l,$y(i)&&Ky(e)}function Gy(e,i,a){return a(function(){$y(i)&&Ky(e)})}function $y(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Tn(e,a)}catch{return!0}}function Ky(e){var i=Pa(e,2);i!==null&&In(i,e,2)}function Ld(e){var i=pn();if(typeof e=="function"){var a=e;if(e=a(),$s){vn(!0);try{a()}finally{vn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:e},i}function Qy(e,i,a,l){return e.baseState=a,Pd(e,Zt,typeof l=="function"?l:Wr)}function tw(e,i,a,l,h){if(Pc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Yy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Yy(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var T=a(h,l),I=K.S;I!==null&&I(v,T),Xy(e,i,T)}catch(B){Ud(e,i,B)}finally{K.T=d}}else try{d=a(h,l),Xy(e,i,d)}catch(B){Ud(e,i,B)}}function Xy(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wy(e,i,l)},function(l){return Ud(e,i,l)}):Wy(e,i,a)}function Wy(e,i,a){i.status="fulfilled",i.value=a,Zy(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Yy(e,a)))}function Ud(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Zy(i),i=i.next;while(i!==l)}e.action=null}function Zy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Jy(e,i){return i}function t_(e,i){if(Ft){var a=ne.formState;if(a!==null){t:{var l=Ot;if(Ft){if(pe){e:{for(var h=pe,d=_r;h.nodeType!==8;){if(!d){h=null;break e}if(h=Zn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){pe=Zn(h.nextSibling),l=h.data==="F!";break t}}qs(l)}l=!1}l&&(i=a[0])}}return a=pn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jy,lastRenderedState:i},a.queue=l,a=v_.bind(null,Ot,l),l.dispatch=a,l=Ld(!1),d=Hd.bind(null,Ot,!1,l.queue),l=pn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=tw.bind(null,Ot,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function e_(e){var i=we();return n_(i,Zt,e)}function n_(e,i,a){if(i=Pd(e,i,Jy)[0],e=xc(Wr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Cl(i)}catch(v){throw v===Sl?Rc:v}else l=i;i=we();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ot.flags|=2048,Fa(9,Mc(),ew.bind(null,h,a),null)),[l,d,e]}function ew(e,i){e.action=i}function r_(e){var i=we(),a=Zt;if(a!==null)return n_(i,a,e);we(),i=i.memoizedState,a=we();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Fa(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Ot.updateQueue,i===null&&(i=Md(),Ot.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Mc(){return{destroy:void 0,resource:void 0}}function i_(){return we().memoizedState}function Vc(e,i,a,l){var h=pn();l=l===void 0?null:l,Ot.flags|=e,h.memoizedState=Fa(1|i,Mc(),a,l)}function Dl(e,i,a,l){var h=we();l=l===void 0?null:l;var d=h.memoizedState.inst;Zt!==null&&l!==null&&Cd(l,Zt.memoizedState.deps)?h.memoizedState=Fa(i,d,a,l):(Ot.flags|=e,h.memoizedState=Fa(1|i,d,a,l))}function s_(e,i){Vc(8390656,8,e,i)}function a_(e,i){Dl(2048,8,e,i)}function o_(e,i){return Dl(4,2,e,i)}function l_(e,i){return Dl(4,4,e,i)}function u_(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function c_(e,i,a){a=a!=null?a.concat([e]):null,Dl(4,4,u_.bind(null,i,e),a)}function zd(){}function h_(e,i){var a=we();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Cd(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function f_(e,i){var a=we();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Cd(i,l[1]))return l[0];if(l=e(),$s){vn(!0);try{e()}finally{vn(!1)}}return a.memoizedState=[l,i],l}function Bd(e,i,a){return a===void 0||(Di&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=mv(),Ot.lanes|=e,ki|=e,a)}function d_(e,i,a,l){return Tn(a,i)?a:ja.current!==null?(e=Bd(e,a,l),Tn(e,i)||(Be=!0),e):(Di&42)===0?(Be=!0,e.memoizedState=a):(e=mv(),Ot.lanes|=e,ki|=e,i)}function p_(e,i,a,l,h){var d=ot.p;ot.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,Hd(e,!1,i,a);try{var I=h(),B=K.S;if(B!==null&&B(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=WA(I,l);Nl(e,i,Q,Rn(e))}else Nl(e,i,l,Rn(e))}catch(Z){Nl(e,i,{then:function(){},status:"rejected",reason:Z},Rn())}finally{ot.p=d,K.T=v}}function nw(){}function jd(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=m_(e).queue;p_(e,h,i,pt,a===null?nw:function(){return g_(e),a(l)})}function m_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:pt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function g_(e){var i=m_(e).next.queue;Nl(e,i,{},Rn())}function qd(){return nn(Ql)}function y_(){return we().memoizedState}function __(){return we().memoizedState}function rw(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Rn();e=Ii(a);var l=Ci(i,e,a);l!==null&&(In(l,i,a),wl(l,i,a)),i={cache:_d()},e.payload=i;return}i=i.return}}function iw(e,i,a){var l=Rn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Pc(e)?E_(i,a):(a=ld(e,i,a,l),a!==null&&(In(a,e,l),T_(a,i,l)))}function v_(e,i,a){var l=Rn();Nl(e,i,a,l)}function Nl(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pc(e))E_(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,Tn(T,v))return _c(e,i,h,0),ne===null&&yc(),!1}catch{}finally{}if(a=ld(e,i,h,l),a!==null)return In(a,e,l),T_(a,i,l),!0}return!1}function Hd(e,i,a,l){if(l={lane:2,revertLane:Tp(),action:l,hasEagerState:!1,eagerState:null,next:null},Pc(e)){if(i)throw Error(s(479))}else i=ld(e,a,l,2),i!==null&&In(i,e,2)}function Pc(e){var i=e.alternate;return e===Ot||i!==null&&i===Ot}function E_(e,i){qa=Dc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function T_(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Zo(e,a)}}var kc={readContext:nn,use:Oc,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye},S_={readContext:nn,use:Oc,useCallback:function(e,i){return pn().memoizedState=[e,i===void 0?null:i],e},useContext:nn,useEffect:s_,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Vc(4194308,4,u_.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Vc(4194308,4,e,i)},useInsertionEffect:function(e,i){Vc(4,2,e,i)},useMemo:function(e,i){var a=pn();i=i===void 0?null:i;var l=e();if($s){vn(!0);try{e()}finally{vn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=pn();if(a!==void 0){var h=a(i);if($s){vn(!0);try{a(i)}finally{vn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=iw.bind(null,Ot,e),[l.memoizedState,e]},useRef:function(e){var i=pn();return e={current:e},i.memoizedState=e},useState:function(e){e=Ld(e);var i=e.queue,a=v_.bind(null,Ot,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:zd,useDeferredValue:function(e,i){var a=pn();return Bd(a,e,i)},useTransition:function(){var e=Ld(!1);return e=p_.bind(null,Ot,e.queue,!0,!1),pn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Ot,h=pn();if(Ft){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ne===null)throw Error(s(349));(Bt&124)!==0||Hy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,s_(Gy.bind(null,l,d,e),[e]),l.flags|=2048,Fa(9,Mc(),Fy.bind(null,l,d,a,i),null),a},useId:function(){var e=pn(),i=ne.identifierPrefix;if(Ft){var a=Qr,l=Kr;a=(l&~(1<<32-en(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Nc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=ZA++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:qd,useFormState:t_,useActionState:t_,useOptimistic:function(e){var i=pn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Hd.bind(null,Ot,!0,a),a.dispatch=i,[e,i]},useMemoCache:Vd,useCacheRefresh:function(){return pn().memoizedState=rw.bind(null,Ot)}},A_={readContext:nn,use:Oc,useCallback:h_,useContext:nn,useEffect:a_,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:xc,useRef:i_,useState:function(){return xc(Wr)},useDebugValue:zd,useDeferredValue:function(e,i){var a=we();return d_(a,Zt.memoizedState,e,i)},useTransition:function(){var e=xc(Wr)[0],i=we().memoizedState;return[typeof e=="boolean"?e:Cl(e),i]},useSyncExternalStore:qy,useId:y_,useHostTransitionStatus:qd,useFormState:e_,useActionState:e_,useOptimistic:function(e,i){var a=we();return Qy(a,Zt,e,i)},useMemoCache:Vd,useCacheRefresh:__},sw={readContext:nn,use:Oc,useCallback:h_,useContext:nn,useEffect:a_,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:kd,useRef:i_,useState:function(){return kd(Wr)},useDebugValue:zd,useDeferredValue:function(e,i){var a=we();return Zt===null?Bd(a,e,i):d_(a,Zt.memoizedState,e,i)},useTransition:function(){var e=kd(Wr)[0],i=we().memoizedState;return[typeof e=="boolean"?e:Cl(e),i]},useSyncExternalStore:qy,useId:y_,useHostTransitionStatus:qd,useFormState:r_,useActionState:r_,useOptimistic:function(e,i){var a=we();return Zt!==null?Qy(a,Zt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Vd,useCacheRefresh:__},Ga=null,Ol=0;function Lc(e){var i=Ol;return Ol+=1,Ga===null&&(Ga=[]),Vy(Ga,e,i)}function xl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Uc(e,i){throw i.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function w_(e){var i=e._init;return i(e._payload)}function b_(e){function i(P,O){if(e){var z=P.deletions;z===null?(P.deletions=[O],P.flags|=16):z.push(O)}}function a(P,O){if(!e)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=$r(P,O),P.index=0,P.sibling=null,P}function d(P,O,z){return P.index=z,e?(z=P.alternate,z!==null?(z=z.index,z<O?(P.flags|=67108866,O):z):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function T(P,O,z,Y){return O===null||O.tag!==6?(O=cd(z,P.mode,Y),O.return=P,O):(O=h(O,z),O.return=P,O)}function I(P,O,z,Y){var dt=z.type;return dt===U?Q(P,O,z.props.children,Y,z.key):O!==null&&(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&w_(dt)===O.type)?(O=h(O,z.props),xl(O,z),O.return=P,O):(O=Ec(z.type,z.key,z.props,null,P.mode,Y),xl(O,z),O.return=P,O)}function B(P,O,z,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=hd(z,P.mode,Y),O.return=P,O):(O=h(O,z.children||[]),O.return=P,O)}function Q(P,O,z,Y,dt){return O===null||O.tag!==7?(O=Us(z,P.mode,Y,dt),O.return=P,O):(O=h(O,z),O.return=P,O)}function Z(P,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=cd(""+O,P.mode,z),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case w:return z=Ec(O.type,O.key,O.props,null,P.mode,z),xl(z,O),z.return=P,z;case M:return O=hd(O,P.mode,z),O.return=P,O;case b:var Y=O._init;return O=Y(O._payload),Z(P,O,z)}if(ae(O)||k(O))return O=Us(O,P.mode,z,null),O.return=P,O;if(typeof O.then=="function")return Z(P,Lc(O),z);if(O.$$typeof===nt)return Z(P,wc(P,O),z);Uc(P,O)}return null}function j(P,O,z,Y){var dt=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return dt!==null?null:T(P,O,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return z.key===dt?I(P,O,z,Y):null;case M:return z.key===dt?B(P,O,z,Y):null;case b:return dt=z._init,z=dt(z._payload),j(P,O,z,Y)}if(ae(z)||k(z))return dt!==null?null:Q(P,O,z,Y,null);if(typeof z.then=="function")return j(P,O,Lc(z),Y);if(z.$$typeof===nt)return j(P,O,wc(P,z),Y);Uc(P,z)}return null}function q(P,O,z,Y,dt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return P=P.get(z)||null,T(O,P,""+Y,dt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return P=P.get(Y.key===null?z:Y.key)||null,I(O,P,Y,dt);case M:return P=P.get(Y.key===null?z:Y.key)||null,B(O,P,Y,dt);case b:var xt=Y._init;return Y=xt(Y._payload),q(P,O,z,Y,dt)}if(ae(Y)||k(Y))return P=P.get(z)||null,Q(O,P,Y,dt,null);if(typeof Y.then=="function")return q(P,O,z,Lc(Y),dt);if(Y.$$typeof===nt)return q(P,O,z,wc(O,Y),dt);Uc(O,Y)}return null}function At(P,O,z,Y){for(var dt=null,xt=null,gt=O,Et=O=0,qe=null;gt!==null&&Et<z.length;Et++){gt.index>Et?(qe=gt,gt=null):qe=gt.sibling;var Ht=j(P,gt,z[Et],Y);if(Ht===null){gt===null&&(gt=qe);break}e&&gt&&Ht.alternate===null&&i(P,gt),O=d(Ht,O,Et),xt===null?dt=Ht:xt.sibling=Ht,xt=Ht,gt=qe}if(Et===z.length)return a(P,gt),Ft&&Bs(P,Et),dt;if(gt===null){for(;Et<z.length;Et++)gt=Z(P,z[Et],Y),gt!==null&&(O=d(gt,O,Et),xt===null?dt=gt:xt.sibling=gt,xt=gt);return Ft&&Bs(P,Et),dt}for(gt=l(gt);Et<z.length;Et++)qe=q(gt,P,Et,z[Et],Y),qe!==null&&(e&&qe.alternate!==null&&gt.delete(qe.key===null?Et:qe.key),O=d(qe,O,Et),xt===null?dt=qe:xt.sibling=qe,xt=qe);return e&&gt.forEach(function(Gi){return i(P,Gi)}),Ft&&Bs(P,Et),dt}function vt(P,O,z,Y){if(z==null)throw Error(s(151));for(var dt=null,xt=null,gt=O,Et=O=0,qe=null,Ht=z.next();gt!==null&&!Ht.done;Et++,Ht=z.next()){gt.index>Et?(qe=gt,gt=null):qe=gt.sibling;var Gi=j(P,gt,Ht.value,Y);if(Gi===null){gt===null&&(gt=qe);break}e&&gt&&Gi.alternate===null&&i(P,gt),O=d(Gi,O,Et),xt===null?dt=Gi:xt.sibling=Gi,xt=Gi,gt=qe}if(Ht.done)return a(P,gt),Ft&&Bs(P,Et),dt;if(gt===null){for(;!Ht.done;Et++,Ht=z.next())Ht=Z(P,Ht.value,Y),Ht!==null&&(O=d(Ht,O,Et),xt===null?dt=Ht:xt.sibling=Ht,xt=Ht);return Ft&&Bs(P,Et),dt}for(gt=l(gt);!Ht.done;Et++,Ht=z.next())Ht=q(gt,P,Et,Ht.value,Y),Ht!==null&&(e&&Ht.alternate!==null&&gt.delete(Ht.key===null?Et:Ht.key),O=d(Ht,O,Et),xt===null?dt=Ht:xt.sibling=Ht,xt=Ht);return e&&gt.forEach(function(ab){return i(P,ab)}),Ft&&Bs(P,Et),dt}function te(P,O,z,Y){if(typeof z=="object"&&z!==null&&z.type===U&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case w:t:{for(var dt=z.key;O!==null;){if(O.key===dt){if(dt=z.type,dt===U){if(O.tag===7){a(P,O.sibling),Y=h(O,z.props.children),Y.return=P,P=Y;break t}}else if(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&w_(dt)===O.type){a(P,O.sibling),Y=h(O,z.props),xl(Y,z),Y.return=P,P=Y;break t}a(P,O);break}else i(P,O);O=O.sibling}z.type===U?(Y=Us(z.props.children,P.mode,Y,z.key),Y.return=P,P=Y):(Y=Ec(z.type,z.key,z.props,null,P.mode,Y),xl(Y,z),Y.return=P,P=Y)}return v(P);case M:t:{for(dt=z.key;O!==null;){if(O.key===dt)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(P,O.sibling),Y=h(O,z.children||[]),Y.return=P,P=Y;break t}else{a(P,O);break}else i(P,O);O=O.sibling}Y=hd(z,P.mode,Y),Y.return=P,P=Y}return v(P);case b:return dt=z._init,z=dt(z._payload),te(P,O,z,Y)}if(ae(z))return At(P,O,z,Y);if(k(z)){if(dt=k(z),typeof dt!="function")throw Error(s(150));return z=dt.call(z),vt(P,O,z,Y)}if(typeof z.then=="function")return te(P,O,Lc(z),Y);if(z.$$typeof===nt)return te(P,O,wc(P,z),Y);Uc(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(P,O.sibling),Y=h(O,z),Y.return=P,P=Y):(a(P,O),Y=cd(z,P.mode,Y),Y.return=P,P=Y),v(P)):a(P,O)}return function(P,O,z,Y){try{Ol=0;var dt=te(P,O,z,Y);return Ga=null,dt}catch(gt){if(gt===Sl||gt===Rc)throw gt;var xt=Sn(29,gt,null,P.mode);return xt.lanes=Y,xt.return=P,xt}finally{}}}var $a=b_(!0),R_=b_(!1),jn=et(null),vr=null;function Ni(e){var i=e.alternate;it(Ve,Ve.current&1),it(jn,e),vr===null&&(i===null||ja.current!==null||i.memoizedState!==null)&&(vr=e)}function I_(e){if(e.tag===22){if(it(Ve,Ve.current),it(jn,e),vr===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(vr=e)}}else Oi()}function Oi(){it(Ve,Ve.current),it(jn,jn.current)}function Zr(e){st(jn),vr===e&&(vr=null),st(Ve)}var Ve=et(0);function zc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Mp(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Fd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Gd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Rn(),h=Ii(l);h.payload=i,a!=null&&(h.callback=a),i=Ci(e,h,l),i!==null&&(In(i,e,l),wl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Rn(),h=Ii(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ci(e,h,l),i!==null&&(In(i,e,l),wl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Rn(),l=Ii(a);l.tag=2,i!=null&&(l.callback=i),i=Ci(e,l,a),i!==null&&(In(i,e,a),wl(i,e,a))}};function C_(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!pl(a,l)||!pl(h,d):!0}function D_(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Gd.enqueueReplaceState(i,i.state,null)}function Ks(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Bc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function N_(e){Bc(e)}function O_(e){console.error(e)}function x_(e){Bc(e)}function jc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function M_(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $d(e,i,a){return a=Ii(a),a.tag=3,a.payload={element:null},a.callback=function(){jc(e,i)},a}function V_(e){return e=Ii(e),e.tag=3,e}function P_(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){M_(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){M_(i,a,l),typeof h!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function aw(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&vl(i,a,h,!0),a=jn.current,a!==null){switch(a.tag){case 13:return vr===null?gp():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Td?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),_p(e,l,h)),!1;case 22:return a.flags|=65536,l===Td?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),_p(e,l,h)),!1}throw Error(s(435,a.tag))}return _p(e,l,h),gp(),!1}if(Ft)return i=jn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==pd&&(e=Error(s(422),{cause:l}),_l(Ln(e,a)))):(l!==pd&&(i=Error(s(423),{cause:l}),_l(Ln(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Ln(l,a),h=$d(e.stateNode,l,h),wd(e,h),me!==4&&(me=2)),!1;var d=Error(s(520),{cause:l});if(d=Ln(d,a),zl===null?zl=[d]:zl.push(d),me!==4&&(me=2),i===null)return!0;l=Ln(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=$d(a.stateNode,l,e),wd(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Li===null||!Li.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=V_(h),P_(h,e,a,l),wd(a,h),!1}a=a.return}while(a!==null);return!1}var k_=Error(s(461)),Be=!1;function Qe(e,i,a,l){i.child=e===null?R_(i,null,a,l):$a(i,e.child,a,l)}function L_(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Fs(i),l=Dd(e,i,a,v,d,h),T=Nd(),e!==null&&!Be?(Od(e,i,h),Jr(e,i,h)):(Ft&&T&&fd(i),i.flags|=1,Qe(e,i,l,h),i.child)}function U_(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!ud(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,z_(e,i,d,l,h)):(e=Ec(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!tp(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:pl,a(v,l)&&e.ref===i.ref)return Jr(e,i,h)}return i.flags|=1,e=$r(d,l),e.ref=i.ref,e.return=i,i.child=e}function z_(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(pl(d,l)&&e.ref===i.ref)if(Be=!1,i.pendingProps=l=d,tp(e,h))(e.flags&131072)!==0&&(Be=!0);else return i.lanes=e.lanes,Jr(e,i,h)}return Kd(e,i,a,l,h)}function B_(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return j_(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&bc(i,d!==null?d.cachePool:null),d!==null?zy(i,d):Rd(),I_(i);else return i.lanes=i.childLanes=536870912,j_(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(bc(i,d.cachePool),zy(i,d),Oi(),i.memoizedState=null):(e!==null&&bc(i,null),Rd(),Oi());return Qe(e,i,h,a),i.child}function j_(e,i,a,l){var h=Ed();return h=h===null?null:{parent:Me._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&bc(i,null),Rd(),I_(i),e!==null&&vl(e,i,l,!0),null}function qc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Kd(e,i,a,l,h){return Fs(i),a=Dd(e,i,a,l,void 0,h),l=Nd(),e!==null&&!Be?(Od(e,i,h),Jr(e,i,h)):(Ft&&l&&fd(i),i.flags|=1,Qe(e,i,a,h),i.child)}function q_(e,i,a,l,h,d){return Fs(i),i.updateQueue=null,a=jy(i,l,a,h),By(e),l=Nd(),e!==null&&!Be?(Od(e,i,d),Jr(e,i,d)):(Ft&&l&&fd(i),i.flags|=1,Qe(e,i,a,d),i.child)}function H_(e,i,a,l,h){if(Fs(i),i.stateNode===null){var d=ka,v=a.contextType;typeof v=="object"&&v!==null&&(d=nn(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Gd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Sd(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?nn(v):ka,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Fd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Gd.enqueueReplaceState(d,d.state,null),Rl(i,l,d,h),bl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,I=Ks(a,T);d.props=I;var B=d.context,Q=a.contextType;v=ka,typeof Q=="object"&&Q!==null&&(v=nn(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&D_(i,d,l,v),Ri=!1;var j=i.memoizedState;d.state=j,Rl(i,l,d,h),bl(),B=i.memoizedState,T||j!==B||Ri?(typeof Z=="function"&&(Fd(i,a,Z,l),B=i.memoizedState),(I=Ri||C_(i,a,I,l,j,B,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Ad(e,i),v=i.memoizedProps,Q=Ks(a,v),d.props=Q,Z=i.pendingProps,j=d.context,B=a.contextType,I=ka,typeof B=="object"&&B!==null&&(I=nn(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||j!==I)&&D_(i,d,l,I),Ri=!1,j=i.memoizedState,d.state=j,Rl(i,l,d,h),bl();var q=i.memoizedState;v!==Z||j!==q||Ri||e!==null&&e.dependencies!==null&&Ac(e.dependencies)?(typeof T=="function"&&(Fd(i,a,T,l),q=i.memoizedState),(Q=Ri||C_(i,a,Q,l,j,q,I)||e!==null&&e.dependencies!==null&&Ac(e.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=I,l=Q):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,qc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=$a(i,e.child,null,h),i.child=$a(i,null,a,h)):Qe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Jr(e,i,h),e}function F_(e,i,a,l){return yl(),i.flags|=256,Qe(e,i,a,l),i.child}var Qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yd(e){return{baseLanes:e,cachePool:Oy()}}function Xd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=qn),e}function G_(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ft){if(h?Ni(i):Oi(),Ft){var T=pe,I;if(I=T){t:{for(I=T,T=_r;I.nodeType!==8;){if(!T){T=null;break t}if(I=Zn(I.nextSibling),I===null){T=null;break t}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:zs!==null?{id:Kr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},I=Sn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,fn=i,pe=null,I=!0):I=!1}I||qs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Mp(T)?i.lanes=32:i.lanes=536870912,null;Zr(i)}return T=l.children,l=l.fallback,h?(Oi(),h=i.mode,T=Hc({mode:"hidden",children:T},h),l=Us(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Yd(a),h.childLanes=Xd(e,v,a),i.memoizedState=Qd,l):(Ni(i),Wd(i,T))}if(I=e.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Ni(i),i.flags&=-257,i=Zd(e,i,a)):i.memoizedState!==null?(Oi(),i.child=e.child,i.flags|=128,i=null):(Oi(),h=l.fallback,T=i.mode,l=Hc({mode:"visible",children:l.children},T),h=Us(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,$a(i,e.child,null,a),l=i.child,l.memoizedState=Yd(a),l.childLanes=Xd(e,v,a),i.memoizedState=Qd,i=h);else if(Ni(i),Mp(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,_l({value:l,source:null,stack:null}),i=Zd(e,i,a)}else if(Be||vl(e,i,a,!1),v=(a&e.childLanes)!==0,Be||v){if(v=ne,v!==null&&(l=a&-a,l=(l&42)!==0?1:_i(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Pa(e,l),In(v,e,l),k_;T.data==="$?"||gp(),i=Zd(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,pe=Zn(T.nextSibling),fn=i,Ft=!0,js=null,_r=!1,e!==null&&(zn[Bn++]=Kr,zn[Bn++]=Qr,zn[Bn++]=zs,Kr=e.id,Qr=e.overflow,zs=i),i=Wd(i,l.children),i.flags|=4096);return i}return h?(Oi(),h=l.fallback,T=i.mode,I=e.child,B=I.sibling,l=$r(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?h=$r(B,h):(h=Us(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=Yd(a):(I=T.cachePool,I!==null?(B=Me._currentValue,I=I.parent!==B?{parent:B,pool:B}:I):I=Oy(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=Xd(e,v,a),i.memoizedState=Qd,l):(Ni(i),a=e.child,e=a.sibling,a=$r(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Wd(e,i){return i=Hc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Hc(e,i){return e=Sn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Zd(e,i,a){return $a(i,e.child,null,a),e=Wd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function $_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),gd(e.return,i,a)}function Jd(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function K_(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Qe(e,i,l.children,a),l=Ve.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$_(e,a,i);else if(e.tag===19)$_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(it(Ve,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&zc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Jd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&zc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Jd(i,!0,a,null,d);break;case"together":Jd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Jr(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),ki|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(vl(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=$r(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=$r(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function tp(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ac(e)))}function ow(e,i,a){switch(i.tag){case 3:qt(i,i.stateNode.containerInfo),bi(i,Me,e.memoizedState.cache),yl();break;case 27:case 5:Nn(i);break;case 4:qt(i,i.stateNode.containerInfo);break;case 10:bi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ni(i),i.flags|=128,null):(a&i.child.childLanes)!==0?G_(e,i,a):(Ni(i),e=Jr(e,i,a),e!==null?e.sibling:null);Ni(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(vl(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return K_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Ve,Ve.current),l)break;return null;case 22:case 23:return i.lanes=0,B_(e,i,a);case 24:bi(i,Me,e.memoizedState.cache)}return Jr(e,i,a)}function Q_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Be=!0;else{if(!tp(e,a)&&(i.flags&128)===0)return Be=!1,ow(e,i,a);Be=(e.flags&131072)!==0}else Be=!1,Ft&&(i.flags&1048576)!==0&&wy(i,Sc,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")ud(l)?(e=Ks(l,e),i.tag=1,i=H_(null,i,l,e,a)):(i.tag=0,i=Kd(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===ut){i.tag=11,i=L_(null,i,l,e,a);break t}else if(h===C){i.tag=14,i=U_(null,i,l,e,a);break t}}throw i=De(l)||l,Error(s(306,i,""))}}return i;case 0:return Kd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ks(l,i.pendingProps),H_(e,i,l,h,a);case 3:t:{if(qt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Ad(e,i),Rl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,bi(i,Me,l),l!==d.cache&&yd(i,[Me],a,!0),bl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=F_(e,i,l,a);break t}else if(l!==h){h=Ln(Error(s(424)),i),_l(h),i=F_(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(pe=Zn(e.firstChild),fn=i,Ft=!0,js=null,_r=!0,a=R_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(yl(),l===h){i=Jr(e,i,a);break t}Qe(e,i,l,a)}i=i.child}return i;case 26:return qc(e,i),e===null?(a=Zv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ft||(a=i.type,e=i.pendingProps,l=rh(_t.current).createElement(a),l[Ne]=i,l[Te]=e,Xe(l,a,e),ge(l),i.stateNode=l):i.memoizedState=Zv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Nn(i),e===null&&Ft&&(l=i.stateNode=Yv(i.type,i.pendingProps,_t.current),fn=i,_r=!0,h=pe,Bi(i.type)?(Vp=h,pe=Zn(l.firstChild)):pe=h),Qe(e,i,i.pendingProps.children,a),qc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ft&&((h=l=pe)&&(l=Pw(l,i.type,i.pendingProps,_r),l!==null?(i.stateNode=l,fn=i,pe=Zn(l.firstChild),_r=!1,h=!0):h=!1),h||qs(i)),Nn(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Np(h,d)?l=null:v!==null&&Np(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Dd(e,i,JA,null,null,a),Ql._currentValue=h),qc(e,i),Qe(e,i,l,a),i.child;case 6:return e===null&&Ft&&((e=a=pe)&&(a=kw(a,i.pendingProps,_r),a!==null?(i.stateNode=a,fn=i,pe=null,e=!0):e=!1),e||qs(i)),null;case 13:return G_(e,i,a);case 4:return qt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=$a(i,null,l,a):Qe(e,i,l,a),i.child;case 11:return L_(e,i,i.type,i.pendingProps,a);case 7:return Qe(e,i,i.pendingProps,a),i.child;case 8:return Qe(e,i,i.pendingProps.children,a),i.child;case 12:return Qe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,bi(i,i.type,l.value),Qe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Fs(i),h=nn(h),l=l(h),i.flags|=1,Qe(e,i,l,a),i.child;case 14:return U_(e,i,i.type,i.pendingProps,a);case 15:return z_(e,i,i.type,i.pendingProps,a);case 19:return K_(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=Hc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=$r(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return B_(e,i,a);case 24:return Fs(i),l=nn(Me),e===null?(h=Ed(),h===null&&(h=ne,d=_d(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Sd(i),bi(i,Me,h)):((e.lanes&a)!==0&&(Ad(e,i),Rl(i,null,null,a),bl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),bi(i,Me,l)):(l=d.cache,bi(i,Me,l),l!==h.cache&&yd(i,[Me],a,!0))),Qe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ti(e){e.flags|=4}function Y_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!rE(i)){if(i=jn.current,i!==null&&((Bt&4194048)===Bt?vr!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||i!==vr))throw Al=Td,xy;e.flags|=8192}}function Fc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Xo():536870912,e.lanes|=i,Xa|=i)}function Ml(e,i){if(!Ft)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function he(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function lw(e,i,a){var l=i.pendingProps;switch(dd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(i),null;case 1:return he(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Xr(Me),Le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(gl(i)?ti(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Iy())),he(i),null;case 26:return a=i.memoizedState,e===null?(ti(i),a!==null?(he(i),Y_(i,a)):(he(i),i.flags&=-16777217)):a?a!==e.memoizedState?(ti(i),he(i),Y_(i,a)):(he(i),i.flags&=-16777217):(e.memoizedProps!==l&&ti(i),he(i),i.flags&=-16777217),null;case 27:dn(i),a=_t.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ti(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return he(i),null}e=mt.current,gl(i)?by(i):(e=Yv(h,l,a),i.stateNode=e,ti(i))}return he(i),null;case 5:if(dn(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ti(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return he(i),null}if(e=mt.current,gl(i))by(i);else{switch(h=rh(_t.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Ne]=i,e[Te]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Xe(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ti(i)}}return he(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&ti(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=_t.current,gl(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=fn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ne]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||qv(e.nodeValue,a)),e||qs(i)}else e=rh(e).createTextNode(l),e[Ne]=i,i.stateNode=e}return he(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=gl(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ne]=i}else yl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;he(i),h=!1}else h=Iy(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Zr(i),i):(Zr(i),null)}if(Zr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Fc(i,i.updateQueue),he(i),null;case 4:return Le(),e===null&&bp(i.stateNode.containerInfo),he(i),null;case 10:return Xr(i.type),he(i),null;case 19:if(st(Ve),h=i.memoizedState,h===null)return he(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Ml(h,!1);else{if(me!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=zc(e),d!==null){for(i.flags|=128,Ml(h,!1),e=d.updateQueue,i.updateQueue=e,Fc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Ay(a,e),a=a.sibling;return it(Ve,Ve.current&1|2),i.child}e=e.sibling}h.tail!==null&&On()>Kc&&(i.flags|=128,l=!0,Ml(h,!1),i.lanes=4194304)}else{if(!l)if(e=zc(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Fc(i,e),Ml(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ft)return he(i),null}else 2*On()-h.renderingStartTime>Kc&&a!==536870912&&(i.flags|=128,l=!0,Ml(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=On(),i.sibling=null,e=Ve.current,it(Ve,l?e&1|2:e&1),i):(he(i),null);case 22:case 23:return Zr(i),Id(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(he(i),i.subtreeFlags&6&&(i.flags|=8192)):he(i),a=i.updateQueue,a!==null&&Fc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&st(Gs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Xr(Me),he(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function uw(e,i){switch(dd(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Xr(Me),Le(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return dn(i),null;case 13:if(Zr(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));yl()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return st(Ve),null;case 4:return Le(),null;case 10:return Xr(i.type),null;case 22:case 23:return Zr(i),Id(),e!==null&&st(Gs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Xr(Me),null;case 25:return null;default:return null}}function X_(e,i){switch(dd(i),i.tag){case 3:Xr(Me),Le();break;case 26:case 27:case 5:dn(i);break;case 4:Le();break;case 13:Zr(i);break;case 19:st(Ve);break;case 10:Xr(i.type);break;case 22:case 23:Zr(i),Id(),e!==null&&st(Gs);break;case 24:Xr(Me)}}function Vl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){ee(i,i.return,T)}}function xi(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a,B=T;try{B()}catch(Q){ee(h,I,Q)}}}l=l.next}while(l!==d)}}catch(Q){ee(i,i.return,Q)}}function W_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Uy(i,a)}catch(l){ee(e,e.return,l)}}}function Z_(e,i,a){a.props=Ks(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ee(e,i,l)}}function Pl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){ee(e,i,h)}}function Er(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ee(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ee(e,i,h)}else a.current=null}function J_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ee(e,e.return,h)}}function ep(e,i,a){try{var l=e.stateNode;Nw(l,e.type,a,i),l[Te]=i}catch(h){ee(e,e.return,h)}}function tv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Bi(e.type)||e.tag===4}function np(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||tv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Bi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rp(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=nh));else if(l!==4&&(l===27&&Bi(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(rp(e,i,a),e=e.sibling;e!==null;)rp(e,i,a),e=e.sibling}function Gc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Bi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Gc(e,i,a),e=e.sibling;e!==null;)Gc(e,i,a),e=e.sibling}function ev(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Xe(i,l,a),i[Ne]=e,i[Te]=a}catch(d){ee(e,e.return,d)}}var ei=!1,_e=!1,ip=!1,nv=typeof WeakSet=="function"?WeakSet:Set,je=null;function cw(e,i){if(e=e.containerInfo,Cp=uh,e=dy(e),nd(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,I=-1,B=0,Q=0,Z=e,j=null;e:for(;;){for(var q;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==d||l!==0&&Z.nodeType!==3||(I=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(q=Z.firstChild)!==null;)j=Z,Z=q;for(;;){if(Z===e)break e;if(j===a&&++B===h&&(T=v),j===d&&++Q===l&&(I=v),(q=Z.nextSibling)!==null)break;Z=j,j=Z.parentNode}Z=q}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dp={focusedElem:e,selectionRange:a},uh=!1,je=i;je!==null;)if(i=je,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,je=e;else for(;je!==null;){switch(i=je,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var At=Ks(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(At,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(vt){ee(a,a.return,vt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)xp(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xp(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,je=e;break}je=i.return}}function rv(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Mi(e,a),l&4&&Vl(5,a);break;case 1:if(Mi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){ee(a,a.return,v)}else{var h=Ks(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){ee(a,a.return,v)}}l&64&&W_(a),l&512&&Pl(a,a.return);break;case 3:if(Mi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Uy(e,i)}catch(v){ee(a,a.return,v)}}break;case 27:i===null&&l&4&&ev(a);case 26:case 5:Mi(e,a),i===null&&l&4&&J_(a),l&512&&Pl(a,a.return);break;case 12:Mi(e,a);break;case 13:Mi(e,a),l&4&&av(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=vw.bind(null,a),Lw(e,a))));break;case 22:if(l=a.memoizedState!==null||ei,!l){i=i!==null&&i.memoizedState!==null||_e,h=ei;var d=_e;ei=l,(_e=i)&&!d?Vi(e,a,(a.subtreeFlags&8772)!==0):Mi(e,a),ei=h,_e=d}break;case 30:break;default:Mi(e,a)}}function iv(e){var i=e.alternate;i!==null&&(e.alternate=null,iv(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ti(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,mn=!1;function ni(e,i,a){for(a=a.child;a!==null;)sv(e,i,a),a=a.sibling}function sv(e,i,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(de,a)}catch{}switch(a.tag){case 26:_e||Er(a,i),ni(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_e||Er(a,i);var l=le,h=mn;Bi(a.type)&&(le=a.stateNode,mn=!1),ni(e,i,a),Fl(a.stateNode),le=l,mn=h;break;case 5:_e||Er(a,i);case 6:if(l=le,h=mn,le=null,ni(e,i,a),le=l,mn=h,le!==null)if(mn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(d){ee(a,i,d)}else try{le.removeChild(a.stateNode)}catch(d){ee(a,i,d)}break;case 18:le!==null&&(mn?(e=le,Kv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Zl(e)):Kv(le,a.stateNode));break;case 4:l=le,h=mn,le=a.stateNode.containerInfo,mn=!0,ni(e,i,a),le=l,mn=h;break;case 0:case 11:case 14:case 15:_e||xi(2,a,i),_e||xi(4,a,i),ni(e,i,a);break;case 1:_e||(Er(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Z_(a,i,l)),ni(e,i,a);break;case 21:ni(e,i,a);break;case 22:_e=(l=_e)||a.memoizedState!==null,ni(e,i,a),_e=l;break;default:ni(e,i,a)}}function av(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zl(e)}catch(a){ee(i,i.return,a)}}function hw(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new nv),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new nv),i;default:throw Error(s(435,e.tag))}}function sp(e,i){var a=hw(e);i.forEach(function(l){var h=Ew.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function An(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Bi(T.type)){le=T.stateNode,mn=!1;break t}break;case 5:le=T.stateNode,mn=!1;break t;case 3:case 4:le=T.stateNode.containerInfo,mn=!0;break t}T=T.return}if(le===null)throw Error(s(160));sv(d,v,h),le=null,mn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ov(i,e),i=i.sibling}var Wn=null;function ov(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:An(i,e),wn(e),l&4&&(xi(3,e,e.return),Vl(3,e),xi(5,e,e.return));break;case 1:An(i,e),wn(e),l&512&&(_e||a===null||Er(a,a.return)),l&64&&ei&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Wn;if(An(i,e),wn(e),l&512&&(_e||a===null||Er(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ss]||d[Ne]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Xe(d,l,a),d[Ne]=e,ge(d),l=d;break t;case"link":var v=eE("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),Xe(d,l,a),h.head.appendChild(d);break;case"meta":if(v=eE("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),Xe(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ne]=e,ge(d),l=d}e.stateNode=l}else nE(h,e.type,e.stateNode);else e.stateNode=tE(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?nE(h,e.type,e.stateNode):tE(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ep(e,e.memoizedProps,a.memoizedProps)}break;case 27:An(i,e),wn(e),l&512&&(_e||a===null||Er(a,a.return)),a!==null&&l&4&&ep(e,e.memoizedProps,a.memoizedProps);break;case 5:if(An(i,e),wn(e),l&512&&(_e||a===null||Er(a,a.return)),e.flags&32){h=e.stateNode;try{Mn(h,"")}catch(q){ee(e,e.return,q)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,ep(e,h,a!==null?a.memoizedProps:h)),l&1024&&(ip=!0);break;case 6:if(An(i,e),wn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(q){ee(e,e.return,q)}}break;case 3:if(ah=null,h=Wn,Wn=ih(i.containerInfo),An(i,e),Wn=h,wn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Zl(i.containerInfo)}catch(q){ee(e,e.return,q)}ip&&(ip=!1,lv(e));break;case 4:l=Wn,Wn=ih(e.stateNode.containerInfo),An(i,e),wn(e),Wn=l;break;case 12:An(i,e),wn(e);break;case 13:An(i,e),wn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(hp=On()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,sp(e,l)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=ei,Q=_e;if(ei=B||h,_e=Q||I,An(i,e),_e=Q,ei=B,wn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||ei||_e||Qs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var Z=I.memoizedProps.style,j=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(q){ee(I,I.return,q)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(q){ee(I,I.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,sp(e,a))));break;case 19:An(i,e),wn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,sp(e,l)));break;case 30:break;case 21:break;default:An(i,e),wn(e)}}function wn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(tv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=np(e);Gc(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Mn(v,""),a.flags&=-33);var T=np(e);Gc(e,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,B=np(e);rp(e,B,I);break;default:throw Error(s(161))}}catch(Q){ee(e,e.return,Q)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function lv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;lv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Mi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)rv(e,i.alternate,i),i=i.sibling}function Qs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:xi(4,i,i.return),Qs(i);break;case 1:Er(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Z_(i,i.return,a),Qs(i);break;case 27:Fl(i.stateNode);case 26:case 5:Er(i,i.return),Qs(i);break;case 22:i.memoizedState===null&&Qs(i);break;case 30:Qs(i);break;default:Qs(i)}e=e.sibling}}function Vi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Vi(h,d,a),Vl(4,d);break;case 1:if(Vi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){ee(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Ly(I[h],T)}catch(B){ee(l,l.return,B)}}a&&v&64&&W_(d),Pl(d,d.return);break;case 27:ev(d);case 26:case 5:Vi(h,d,a),a&&l===null&&v&4&&J_(d),Pl(d,d.return);break;case 12:Vi(h,d,a);break;case 13:Vi(h,d,a),a&&v&4&&av(h,d);break;case 22:d.memoizedState===null&&Vi(h,d,a),Pl(d,d.return);break;case 30:break;default:Vi(h,d,a)}i=i.sibling}}function ap(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&El(a))}function op(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&El(e))}function Tr(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)uv(e,i,a,l),i=i.sibling}function uv(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Tr(e,i,a,l),h&2048&&Vl(9,i);break;case 1:Tr(e,i,a,l);break;case 3:Tr(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&El(e)));break;case 12:if(h&2048){Tr(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){ee(i,i.return,I)}}else Tr(e,i,a,l);break;case 13:Tr(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Tr(e,i,a,l):kl(e,i):d._visibility&2?Tr(e,i,a,l):(d._visibility|=2,Ka(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&ap(v,i);break;case 24:Tr(e,i,a,l),h&2048&&op(i.alternate,i);break;default:Tr(e,i,a,l)}}function Ka(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,I=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:Ka(d,v,T,I,h),Vl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?Ka(d,v,T,I,h):kl(d,v):(Q._visibility|=2,Ka(d,v,T,I,h)),h&&B&2048&&ap(v.alternate,v);break;case 24:Ka(d,v,T,I,h),h&&B&2048&&op(v.alternate,v);break;default:Ka(d,v,T,I,h)}i=i.sibling}}function kl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:kl(a,l),h&2048&&ap(l.alternate,l);break;case 24:kl(a,l),h&2048&&op(l.alternate,l);break;default:kl(a,l)}i=i.sibling}}var Ll=8192;function Qa(e){if(e.subtreeFlags&Ll)for(e=e.child;e!==null;)cv(e),e=e.sibling}function cv(e){switch(e.tag){case 26:Qa(e),e.flags&Ll&&e.memoizedState!==null&&Xw(Wn,e.memoizedState,e.memoizedProps);break;case 5:Qa(e);break;case 3:case 4:var i=Wn;Wn=ih(e.stateNode.containerInfo),Qa(e),Wn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Ll,Ll=16777216,Qa(e),Ll=i):Qa(e));break;default:Qa(e)}}function hv(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Ul(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];je=l,dv(l,e)}hv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fv(e),e=e.sibling}function fv(e){switch(e.tag){case 0:case 11:case 15:Ul(e),e.flags&2048&&xi(9,e,e.return);break;case 3:Ul(e);break;case 12:Ul(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,$c(e)):Ul(e);break;default:Ul(e)}}function $c(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];je=l,dv(l,e)}hv(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:xi(8,i,i.return),$c(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,$c(i));break;default:$c(i)}e=e.sibling}}function dv(e,i){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:xi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,je=l;else t:for(a=e;je!==null;){l=je;var h=l.sibling,d=l.return;if(iv(l),l===a){je=null;break t}if(h!==null){h.return=d,je=h;break t}je=d}}}var fw={getCacheForType:function(e){var i=nn(Me),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},dw=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ne=null,Mt=null,Bt=0,Xt=0,bn=null,Pi=!1,Ya=!1,lp=!1,ri=0,me=0,ki=0,Ys=0,up=0,qn=0,Xa=0,zl=null,gn=null,cp=!1,hp=0,Kc=1/0,Qc=null,Li=null,Ye=0,Ui=null,Wa=null,Za=0,fp=0,dp=null,pv=null,Bl=0,pp=null;function Rn(){if((Yt&2)!==0&&Bt!==0)return Bt&-Bt;if(K.T!==null){var e=za;return e!==0?e:Tp()}return vi()}function mv(){qn===0&&(qn=(Bt&536870912)===0||Ft?Yo():536870912);var e=jn.current;return e!==null&&(e.flags|=32),qn}function In(e,i,a){(e===ne&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Ja(e,0),zi(e,Bt,qn,!1)),Pr(e,a),((Yt&2)===0||e!==ne)&&(e===ne&&((Yt&2)===0&&(Ys|=a),me===4&&zi(e,Bt,qn,!1)),Sr(e))}function gv(e,i,a){if((Yt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Ts(e,i),h=l?gw(e,i):yp(e,i,!0),d=l;do{if(h===0){Ya&&!l&&zi(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!pw(a)){h=yp(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=zl;var I=T.current.memoizedState.isDehydrated;if(I&&(Ja(T,v).flags|=256),v=yp(T,v,!1),v!==2){if(lp&&!I){T.errorRecoveryDisabledLanes|=d,Ys|=d,h=4;break t}d=gn,gn=h,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ja(e,0),zi(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:zi(l,i,qn,!Pi);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=hp+300-On(),10<h)){if(zi(l,i,qn,!Pi),ga(l,0,!0)!==0)break t;l.timeoutHandle=Gv(yv.bind(null,l,a,gn,Qc,cp,i,qn,Ys,Xa,Pi,d,2,-0,0),h);break t}yv(l,a,gn,Qc,cp,i,qn,Ys,Xa,Pi,d,0,-0,0)}}break}while(!0);Sr(e)}function yv(e,i,a,l,h,d,v,T,I,B,Q,Z,j,q){if(e.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Kl={stylesheets:null,count:0,unsuspend:Yw},cv(i),Z=Ww(),Z!==null)){e.cancelPendingCommit=Z(wv.bind(null,e,i,d,a,l,h,v,T,I,Q,1,j,q)),zi(e,d,v,!B);return}wv(e,i,d,a,l,h,v,T,I)}function pw(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Tn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function zi(e,i,a,l){i&=~up,i&=~Ys,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-en(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&or(e,a,i)}function Yc(){return(Yt&6)===0?(jl(0),!1):!0}function mp(){if(Mt!==null){if(Xt===0)var e=Mt.return;else e=Mt,Yr=Hs=null,xd(e),Ga=null,Ol=0,e=Mt;for(;e!==null;)X_(e.alternate,e),e=e.return;Mt=null}}function Ja(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,xw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),mp(),ne=e,Mt=a=$r(e.current,null),Bt=i,Xt=0,bn=null,Pi=!1,Ya=Ts(e,i),lp=!1,Xa=qn=up=Ys=ki=me=0,gn=zl=null,cp=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-en(l),d=1<<h;i|=e[h],l&=~d}return ri=i,yc(),a}function _v(e,i){Ot=null,K.H=kc,i===Sl||i===Rc?(i=Py(),Xt=3):i===xy?(i=Py(),Xt=4):Xt=i===k_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Mt===null&&(me=1,jc(e,Ln(i,e.current)))}function vv(){var e=K.H;return K.H=kc,e===null?kc:e}function Ev(){var e=K.A;return K.A=fw,e}function gp(){me=4,Pi||(Bt&4194048)!==Bt&&jn.current!==null||(Ya=!0),(ki&134217727)===0&&(Ys&134217727)===0||ne===null||zi(ne,Bt,qn,!1)}function yp(e,i,a){var l=Yt;Yt|=2;var h=vv(),d=Ev();(ne!==e||Bt!==i)&&(Qc=null,Ja(e,i)),i=!1;var v=me;t:do try{if(Xt!==0&&Mt!==null){var T=Mt,I=bn;switch(Xt){case 8:mp(),v=6;break t;case 3:case 2:case 9:case 6:jn.current===null&&(i=!0);var B=Xt;if(Xt=0,bn=null,to(e,T,I,B),a&&Ya){v=0;break t}break;default:B=Xt,Xt=0,bn=null,to(e,T,I,B)}}mw(),v=me;break}catch(Q){_v(e,Q)}while(!0);return i&&e.shellSuspendCounter++,Yr=Hs=null,Yt=l,K.H=h,K.A=d,Mt===null&&(ne=null,Bt=0,yc()),v}function mw(){for(;Mt!==null;)Tv(Mt)}function gw(e,i){var a=Yt;Yt|=2;var l=vv(),h=Ev();ne!==e||Bt!==i?(Qc=null,Kc=On()+500,Ja(e,i)):Ya=Ts(e,i);t:do try{if(Xt!==0&&Mt!==null){i=Mt;var d=bn;e:switch(Xt){case 1:Xt=0,bn=null,to(e,i,d,1);break;case 2:case 9:if(My(d)){Xt=0,bn=null,Sv(i);break}i=function(){Xt!==2&&Xt!==9||ne!==e||(Xt=7),Sr(e)},d.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:My(d)?(Xt=0,bn=null,Sv(i)):(Xt=0,bn=null,to(e,i,d,7));break;case 5:var v=null;switch(Mt.tag){case 26:v=Mt.memoizedState;case 5:case 27:var T=Mt;if(!v||rE(v)){Xt=0,bn=null;var I=T.sibling;if(I!==null)Mt=I;else{var B=T.return;B!==null?(Mt=B,Xc(B)):Mt=null}break e}}Xt=0,bn=null,to(e,i,d,5);break;case 6:Xt=0,bn=null,to(e,i,d,6);break;case 8:mp(),me=6;break t;default:throw Error(s(462))}}yw();break}catch(Q){_v(e,Q)}while(!0);return Yr=Hs=null,K.H=l,K.A=h,Yt=a,Mt!==null?0:(ne=null,Bt=0,yc(),me)}function yw(){for(;Mt!==null&&!Go();)Tv(Mt)}function Tv(e){var i=Q_(e.alternate,e,ri);e.memoizedProps=e.pendingProps,i===null?Xc(e):Mt=i}function Sv(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=q_(a,i,i.pendingProps,i.type,void 0,Bt);break;case 11:i=q_(a,i,i.pendingProps,i.type.render,i.ref,Bt);break;case 5:xd(i);default:X_(a,i),i=Mt=Ay(i,ri),i=Q_(a,i,ri)}e.memoizedProps=e.pendingProps,i===null?Xc(e):Mt=i}function to(e,i,a,l){Yr=Hs=null,xd(i),Ga=null,Ol=0;var h=i.return;try{if(aw(e,h,i,a,Bt)){me=1,jc(e,Ln(a,e.current)),Mt=null;return}}catch(d){if(h!==null)throw Mt=h,d;me=1,jc(e,Ln(a,e.current)),Mt=null;return}i.flags&32768?(Ft||l===1?e=!0:Ya||(Bt&536870912)!==0?e=!1:(Pi=e=!0,(l===2||l===9||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Av(i,e)):Xc(i)}function Xc(e){var i=e;do{if((i.flags&32768)!==0){Av(i,Pi);return}e=i.return;var a=lw(i.alternate,i,ri);if(a!==null){Mt=a;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);me===0&&(me=5)}function Av(e,i){do{var a=uw(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);me=6,Mt=null}function wv(e,i,a,l,h,d,v,T,I){e.cancelPendingCommit=null;do Wc();while(Ye!==0);if((Yt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=od,Wo(e,a,d,v,T,I),e===ne&&(Mt=ne=null,Bt=0),Wa=i,Ui=e,Za=a,fp=d,dp=h,pv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Tw(ys,function(){return Dv(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ot.p,ot.p=2,v=Yt,Yt|=4;try{cw(e,i,a)}finally{Yt=v,ot.p=h,K.T=l}}Ye=1,bv(),Rv(),Iv()}}function bv(){if(Ye===1){Ye=0;var e=Ui,i=Wa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ot.p;ot.p=2;var h=Yt;Yt|=4;try{ov(i,e);var d=Dp,v=dy(e.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&fy(T.ownerDocument.documentElement,T)){if(I!==null&&nd(T)){var B=I.start,Q=I.end;if(Q===void 0&&(Q=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Q,T.value.length);else{var Z=T.ownerDocument||document,j=Z&&Z.defaultView||window;if(j.getSelection){var q=j.getSelection(),At=T.textContent.length,vt=Math.min(I.start,At),te=I.end===void 0?vt:Math.min(I.end,At);!q.extend&&vt>te&&(v=te,te=vt,vt=v);var P=hy(T,vt),O=hy(T,te);if(P&&O&&(q.rangeCount!==1||q.anchorNode!==P.node||q.anchorOffset!==P.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var z=Z.createRange();z.setStart(P.node,P.offset),q.removeAllRanges(),vt>te?(q.addRange(z),q.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),q.addRange(z))}}}}for(Z=[],q=T;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var Y=Z[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}uh=!!Cp,Dp=Cp=null}finally{Yt=h,ot.p=l,K.T=a}}e.current=i,Ye=2}}function Rv(){if(Ye===2){Ye=0;var e=Ui,i=Wa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ot.p;ot.p=2;var h=Yt;Yt|=4;try{rv(e,i.alternate,i)}finally{Yt=h,ot.p=l,K.T=a}}Ye=3}}function Iv(){if(Ye===4||Ye===3){Ye=0,$u();var e=Ui,i=Wa,a=Za,l=pv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ye=5:(Ye=0,Wa=Ui=null,Cv(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Li=null),ya(a),i=i.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(de,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=ot.p,ot.p=2,K.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{K.T=i,ot.p=h}}(Za&3)!==0&&Wc(),Sr(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===pp?Bl++:(Bl=0,pp=e):Bl=0,jl(0)}}function Cv(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,El(i)))}function Wc(e){return bv(),Rv(),Iv(),Dv()}function Dv(){if(Ye!==5)return!1;var e=Ui,i=fp;fp=0;var a=ya(Za),l=K.T,h=ot.p;try{ot.p=32>a?32:a,K.T=null,a=dp,dp=null;var d=Ui,v=Za;if(Ye=0,Wa=Ui=null,Za=0,(Yt&6)!==0)throw Error(s(331));var T=Yt;if(Yt|=4,fv(d.current),uv(d,d.current,v,a),Yt=T,jl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(de,d)}catch{}return!0}finally{ot.p=h,K.T=l,Cv(e,i)}}function Nv(e,i,a){i=Ln(a,i),i=$d(e.stateNode,i,2),e=Ci(e,i,2),e!==null&&(Pr(e,2),Sr(e))}function ee(e,i,a){if(e.tag===3)Nv(e,e,a);else for(;i!==null;){if(i.tag===3){Nv(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Li===null||!Li.has(l))){e=Ln(a,e),a=V_(2),l=Ci(i,a,2),l!==null&&(P_(a,l,i,e),Pr(l,2),Sr(l));break}}i=i.return}}function _p(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new dw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(lp=!0,h.add(a),e=_w.bind(null,e,i,a),i.then(e,e))}function _w(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(Bt&a)===a&&(me===4||me===3&&(Bt&62914560)===Bt&&300>On()-hp?(Yt&2)===0&&Ja(e,0):up|=a,Xa===Bt&&(Xa=0)),Sr(e)}function Ov(e,i){i===0&&(i=Xo()),e=Pa(e,i),e!==null&&(Pr(e,i),Sr(e))}function vw(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Ov(e,a)}function Ew(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Ov(e,a)}function Tw(e,i){return ms(e,i)}var Zc=null,eo=null,vp=!1,Jc=!1,Ep=!1,Xs=0;function Sr(e){e!==eo&&e.next===null&&(eo===null?Zc=eo=e:eo=eo.next=e),Jc=!0,vp||(vp=!0,Aw())}function jl(e,i){if(!Ep&&Jc){Ep=!0;do for(var a=!1,l=Zc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-en(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Pv(l,d))}else d=Bt,d=ga(l,l===ne?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ts(l,d)||(a=!0,Pv(l,d));l=l.next}while(a);Ep=!1}}function Sw(){xv()}function xv(){Jc=vp=!1;var e=0;Xs!==0&&(Ow()&&(e=Xs),Xs=0);for(var i=On(),a=null,l=Zc;l!==null;){var h=l.next,d=Mv(l,i);d===0?(l.next=null,a===null?Zc=h:a.next=h,h===null&&(eo=a)):(a=l,(e!==0||(d&3)!==0)&&(Jc=!0)),l=h}jl(e)}function Mv(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-en(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Qo(T,i)):I<=i&&(e.expiredLanes|=T),d&=~T}if(i=ne,a=Bt,a=ga(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&gs(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ts(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&gs(l),ya(a)){case 2:case 8:a=pa;break;case 32:a=ys;break;case 268435456:a=ma;break;default:a=ys}return l=Vv.bind(null,e),a=ms(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&gs(l),e.callbackPriority=2,e.callbackNode=null,2}function Vv(e,i){if(Ye!==0&&Ye!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Wc()&&e.callbackNode!==a)return null;var l=Bt;return l=ga(e,e===ne?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(gv(e,l,i),Mv(e,On()),e.callbackNode!=null&&e.callbackNode===a?Vv.bind(null,e):null)}function Pv(e,i){if(Wc())return null;gv(e,i,!0)}function Aw(){Mw(function(){(Yt&6)!==0?ms($o,Sw):xv()})}function Tp(){return Xs===0&&(Xs=Yo()),Xs}function kv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Aa(""+e)}function Lv(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function ww(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=kv((h[Te]||null).action),v=l.submitter;v&&(i=(i=v[Te]||null)?kv(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new wa("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xs!==0){var I=v?Lv(h,v):new FormData(h);jd(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?Lv(h,v):new FormData(h),jd(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Sp=0;Sp<ad.length;Sp++){var Ap=ad[Sp],bw=Ap.toLowerCase(),Rw=Ap[0].toUpperCase()+Ap.slice(1);Xn(bw,"on"+Rw)}Xn(gy,"onAnimationEnd"),Xn(yy,"onAnimationIteration"),Xn(_y,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(HA,"onTransitionRun"),Xn(FA,"onTransitionStart"),Xn(GA,"onTransitionCancel"),Xn(vy,"onTransitionEnd"),Lr("onMouseEnter",["mouseout","mouseover"]),Lr("onMouseLeave",["mouseout","mouseover"]),Lr("onPointerEnter",["pointerout","pointerover"]),Lr("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function Uv(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,B=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=B;try{d(h)}catch(Q){Bc(Q)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,B=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=B;try{d(h)}catch(Q){Bc(Q)}h.currentTarget=null,d=I}}}}function Vt(e,i){var a=i[Jo];a===void 0&&(a=i[Jo]=new Set);var l=e+"__bubble";a.has(l)||(zv(i,e,2,!1),a.add(l))}function wp(e,i,a){var l=0;i&&(l|=4),zv(a,e,l,i)}var th="_reactListening"+Math.random().toString(36).slice(2);function bp(e){if(!e[th]){e[th]=!0,tl.forEach(function(a){a!=="selectionchange"&&(Iw.has(a)||wp(a,!1,e),wp(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[th]||(i[th]=!0,wp("selectionchange",!1,i))}}function zv(e,i,a,l){switch(uE(i)){case 2:var h=tb;break;case 8:h=eb;break;default:h=zp}a=h.bind(null,i,a,e),h=void 0,!Pn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Rp(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=kr(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue t}T=T.parentNode}}l=l.return}nc(function(){var B=d,Q=Vn(a),Z=[];t:{var j=Ey.get(e);if(j!==void 0){var q=wa,At=e;switch(e){case"keypress":if(dr(a)===0)break t;case"keydown":case"keyup":q=Na;break;case"focusin":At="focus",q=Ia;break;case"focusout":At="blur",q=Ia;break;case"beforeblur":case"afterblur":q=Ia;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=cc;break;case gy:case yy:case _y:q=Ca;break;case vy:q=fc;break;case"scroll":case"scrollend":q=rc;break;case"wheel":q=Oa;break;case"copy":case"cut":case"paste":q=Da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=fl;break;case"toggle":case"beforetoggle":q=pc}var vt=(i&4)!==0,te=!vt&&(e==="scroll"||e==="scrollend"),P=vt?j!==null?j+"Capture":null:j;vt=[];for(var O=B,z;O!==null;){var Y=O;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||P===null||(Y=Ds(O,P),Y!=null&&vt.push(Hl(O,Y,z))),te)break;O=O.return}0<vt.length&&(j=new q(j,At,null,a,Q),Z.push({event:j,listeners:vt}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==Br&&(At=a.relatedTarget||a.fromElement)&&(kr(At)||At[xn]))break t;if((q||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,q?(At=a.relatedTarget||a.toElement,q=B,At=At?kr(At):null,At!==null&&(te=u(At),vt=At.tag,At!==te||vt!==5&&vt!==27&&vt!==6)&&(At=null)):(q=null,At=B),q!==At)){if(vt=kn,Y="onMouseLeave",P="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(vt=fl,Y="onPointerLeave",P="onPointerEnter",O="pointer"),te=q==null?j:ur(q),z=At==null?j:ur(At),j=new vt(Y,O+"leave",q,a,Q),j.target=te,j.relatedTarget=z,Y=null,kr(Q)===B&&(vt=new vt(P,O+"enter",At,a,Q),vt.target=z,vt.relatedTarget=te,Y=vt),te=Y,q&&At)e:{for(vt=q,P=At,O=0,z=vt;z;z=no(z))O++;for(z=0,Y=P;Y;Y=no(Y))z++;for(;0<O-z;)vt=no(vt),O--;for(;0<z-O;)P=no(P),z--;for(;O--;){if(vt===P||P!==null&&vt===P.alternate)break e;vt=no(vt),P=no(P)}vt=null}else vt=null;q!==null&&Bv(Z,j,q,vt,!1),At!==null&&te!==null&&Bv(Z,te,At,vt,!0)}}t:{if(j=B?ur(B):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var dt=sy;else if(xe(j))if(ay)dt=BA;else{dt=UA;var xt=LA}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&sl(B.elementType)&&(dt=sy):dt=zA;if(dt&&(dt=dt(e,B))){Gr(Z,dt,a,Q);break t}xt&&xt(e,j,B),e==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&Ai(j,"number",j.value)}switch(xt=B?ur(B):window,e){case"focusin":(xe(xt)||xt.contentEditable==="true")&&(xa=xt,rd=B,ml=null);break;case"focusout":ml=rd=xa=null;break;case"mousedown":id=!0;break;case"contextmenu":case"mouseup":case"dragend":id=!1,py(Z,a,Q);break;case"selectionchange":if(qA)break;case"keydown":case"keyup":py(Z,a,Q)}var gt;if(gr)t:{switch(e){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else Ut?$(e,a)&&(Et="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Et="onCompositionStart");Et&&(_&&a.locale!=="ko"&&(Ut||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Ut&&(gt=ol()):(fr=Q,wi="value"in fr?fr.value:fr.textContent,Ut=!0)),xt=eh(B,Et),0<xt.length&&(Et=new cl(Et,e,null,a,Q),Z.push({event:Et,listeners:xt}),gt?Et.data=gt:(gt=at(a),gt!==null&&(Et.data=gt)))),(gt=y?Oe(e,a):zt(e,a))&&(Et=eh(B,"onBeforeInput"),0<Et.length&&(xt=new cl("onBeforeInput","beforeinput",null,a,Q),Z.push({event:xt,listeners:Et}),xt.data=gt)),ww(Z,e,B,a,Q)}Uv(Z,i)})}function Hl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function eh(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ds(e,a),h!=null&&l.unshift(Hl(e,h,d)),h=Ds(e,i),h!=null&&l.push(Hl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function no(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Bv(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,B=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||B===null||(I=B,h?(B=Ds(a,d),B!=null&&v.unshift(Hl(a,B,I))):h||(B=Ds(a,d),B!=null&&v.push(Hl(a,B,I)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var Cw=/\r\n?/g,Dw=/\u0000|\uFFFD/g;function jv(e){return(typeof e=="string"?e:""+e).replace(Cw,`
`).replace(Dw,"")}function qv(e,i){return i=jv(i),jv(e)===i}function nh(){}function Jt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Mn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Mn(e,""+l);break;case"className":cr(e,"class",l);break;case"tabIndex":cr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cr(e,a,l);break;case"style":il(e,l,d);break;case"data":if(i!=="object"){cr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Aa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Jt(e,i,"name",h.name,h,null),Jt(e,i,"formEncType",h.formEncType,h,null),Jt(e,i,"formMethod",h.formMethod,h,null),Jt(e,i,"formTarget",h.formTarget,h,null)):(Jt(e,i,"encType",h.encType,h,null),Jt(e,i,"method",h.method,h,null),Jt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Aa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=nh);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Aa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),Si(e,"popover",l);break;case"xlinkActuate":$e(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$e(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$e(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$e(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$e(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$e(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$e(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$e(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$e(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Si(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Xf.get(a)||a,Si(e,a,l))}}function Ip(e,i,a,l,h,d){switch(a){case"style":il(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Mn(e,l):(typeof l=="number"||typeof l=="bigint")&&Mn(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=nh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_a.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Te]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Si(e,a,l)}}}function Xe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,d,v,a,null)}}h&&Jt(e,i,"srcSet",a.srcSet,a,null),l&&Jt(e,i,"src",a.src,a,null);return;case"input":Vt("invalid",e);var T=d=v=h=null,I=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":I=Q;break;case"defaultChecked":B=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Jt(e,i,l,Q,a,null)}}Rs(e,d,T,I,B,v,h,!1),Sa(e);return;case"select":Vt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Jt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?zr(e,!!l,i,!1):a!=null&&zr(e,!!l,a,!0);return;case"textarea":Vt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Jt(e,i,v,T,a,null)}Is(e,l,h,d),Sa(e);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(e,i,I,l,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<ql.length;l++)Vt(ql[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,B,l,a,null)}return;default:if(sl(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Ip(e,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Jt(e,i,T,l,a,null))}function Nw(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,B=null,Q=null;for(q in a){var Z=a[q];if(a.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(q)||Jt(e,i,q,null,l,Z)}}for(var j in l){var q=l[j];if(Z=a[j],l.hasOwnProperty(j)&&(q!=null||Z!=null))switch(j){case"type":d=q;break;case"name":h=q;break;case"checked":B=q;break;case"defaultChecked":Q=q;break;case"value":v=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==Z&&Jt(e,i,j,q,l,Z)}}En(e,v,T,I,B,Q,d,h);return;case"select":q=v=T=j=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(d)||Jt(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":j=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Jt(e,i,h,d,l,I)}i=T,a=v,l=q,j!=null?zr(e,!!a,j,!1):!!l!=!!a&&(i!=null?zr(e,!!a,i,!0):zr(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Jt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Jt(e,i,v,h,l,d)}Wt(e,j,q);return;case"option":for(var At in a)if(j=a[At],a.hasOwnProperty(At)&&j!=null&&!l.hasOwnProperty(At))switch(At){case"selected":e.selected=!1;break;default:Jt(e,i,At,null,l,j)}for(I in l)if(j=l[I],q=a[I],l.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null))switch(I){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Jt(e,i,I,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)j=a[vt],a.hasOwnProperty(vt)&&j!=null&&!l.hasOwnProperty(vt)&&Jt(e,i,vt,null,l,j);for(B in l)if(j=l[B],q=a[B],l.hasOwnProperty(B)&&j!==q&&(j!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Jt(e,i,B,j,l,q)}return;default:if(sl(i)){for(var te in a)j=a[te],a.hasOwnProperty(te)&&j!==void 0&&!l.hasOwnProperty(te)&&Ip(e,i,te,void 0,l,j);for(Q in l)j=l[Q],q=a[Q],!l.hasOwnProperty(Q)||j===q||j===void 0&&q===void 0||Ip(e,i,Q,j,l,q);return}}for(var P in a)j=a[P],a.hasOwnProperty(P)&&j!=null&&!l.hasOwnProperty(P)&&Jt(e,i,P,null,l,j);for(Z in l)j=l[Z],q=a[Z],!l.hasOwnProperty(Z)||j===q||j==null&&q==null||Jt(e,i,Z,j,l,q)}var Cp=null,Dp=null;function rh(e){return e.nodeType===9?e:e.ownerDocument}function Hv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Np(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Op=null;function Ow(){var e=window.event;return e&&e.type==="popstate"?e===Op?!1:(Op=e,!0):(Op=null,!1)}var Gv=typeof setTimeout=="function"?setTimeout:void 0,xw=typeof clearTimeout=="function"?clearTimeout:void 0,$v=typeof Promise=="function"?Promise:void 0,Mw=typeof queueMicrotask=="function"?queueMicrotask:typeof $v<"u"?function(e){return $v.resolve(null).then(e).catch(Vw)}:Gv;function Vw(e){setTimeout(function(){throw e})}function Bi(e){return e==="head"}function Kv(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&Fl(v.documentElement),a&2&&Fl(v.body),a&4)for(a=v.head,Fl(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[Ss]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),Zl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Zl(i)}function xp(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xp(a),Ti(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Pw(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ss])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Zn(e.nextSibling),e===null)break}return null}function kw(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Zn(e.nextSibling),e===null))return null;return e}function Mp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Lw(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Zn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Vp=null;function Qv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function Yv(e,i,a){switch(i=rh(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Fl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ti(e)}var Hn=new Map,Xv=new Set;function ih(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ii=ot.d;ot.d={f:Uw,r:zw,D:Bw,C:jw,L:qw,m:Hw,X:Gw,S:Fw,M:$w};function Uw(){var e=ii.f(),i=Yc();return e||i}function zw(e){var i=lr(e);i!==null&&i.tag===5&&i.type==="form"?g_(i):ii.r(e)}var ro=typeof document>"u"?null:document;function Wv(e,i,a){var l=ro;if(l&&typeof i=="string"&&i){var h=Se(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Xv.has(h)||(Xv.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Xe(i,"link",e),ge(i),l.head.appendChild(i)))}}function Bw(e){ii.D(e),Wv("dns-prefetch",e,null)}function jw(e,i){ii.C(e,i),Wv("preconnect",e,i)}function qw(e,i,a){ii.L(e,i,a);var l=ro;if(l&&e&&i){var h='link[rel="preload"][as="'+Se(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Se(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Se(a.imageSizes)+'"]')):h+='[href="'+Se(e)+'"]';var d=h;switch(i){case"style":d=io(e);break;case"script":d=so(e)}Hn.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Hn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Gl(d))||i==="script"&&l.querySelector($l(d))||(i=l.createElement("link"),Xe(i,"link",e),ge(i),l.head.appendChild(i)))}}function Hw(e,i){ii.m(e,i);var a=ro;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Se(l)+'"][href="'+Se(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=so(e)}if(!Hn.has(d)&&(e=E({rel:"modulepreload",href:e},i),Hn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($l(d)))return}l=a.createElement("link"),Xe(l,"link",e),ge(l),a.head.appendChild(l)}}}function Fw(e,i,a){ii.S(e,i,a);var l=ro;if(l&&e){var h=un(l).hoistableStyles,d=io(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Gl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Hn.get(d))&&Pp(e,a);var I=v=l.createElement("link");ge(I),Xe(I,"link",e),I._p=new Promise(function(B,Q){I.onload=B,I.onerror=Q}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,sh(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function Gw(e,i){ii.X(e,i);var a=ro;if(a&&e){var l=un(a).hoistableScripts,h=so(e),d=l.get(h);d||(d=a.querySelector($l(h)),d||(e=E({src:e,async:!0},i),(i=Hn.get(h))&&kp(e,i),d=a.createElement("script"),ge(d),Xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function $w(e,i){ii.M(e,i);var a=ro;if(a&&e){var l=un(a).hoistableScripts,h=so(e),d=l.get(h);d||(d=a.querySelector($l(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=Hn.get(h))&&kp(e,i),d=a.createElement("script"),ge(d),Xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Zv(e,i,a,l){var h=(h=_t.current)?ih(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=io(a.href),a=un(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=io(a.href);var d=un(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(Gl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Hn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(e,a),d||Kw(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=so(a),a=un(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function io(e){return'href="'+Se(e)+'"'}function Gl(e){return'link[rel="stylesheet"]['+e+"]"}function Jv(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function Kw(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xe(i,"link",a),ge(i),e.head.appendChild(i))}function so(e){return'[src="'+Se(e)+'"]'}function $l(e){return"script[async]"+e}function tE(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+Se(a.href)+'"]');if(l)return i.instance=l,ge(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ge(l),Xe(l,"style",h),sh(l,a.precedence,e),i.instance=l;case"stylesheet":h=io(a.href);var d=e.querySelector(Gl(h));if(d)return i.state.loading|=4,i.instance=d,ge(d),d;l=Jv(a),(h=Hn.get(h))&&Pp(l,h),d=(e.ownerDocument||e).createElement("link"),ge(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Xe(d,"link",l),i.state.loading|=4,sh(d,a.precedence,e),i.instance=d;case"script":return d=so(a.src),(h=e.querySelector($l(d)))?(i.instance=h,ge(h),h):(l=a,(h=Hn.get(d))&&(l=E({},a),kp(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ge(h),Xe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,sh(l,a.precedence,e));return i.instance}function sh(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Pp(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function kp(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var ah=null;function eE(e,i,a){if(ah===null){var l=new Map,h=ah=new Map;h.set(a,l)}else h=ah,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Ss]||d[Ne]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function nE(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function Qw(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function rE(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Kl=null;function Yw(){}function Xw(e,i,a){if(Kl===null)throw Error(s(475));var l=Kl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=io(a.href),d=e.querySelector(Gl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=oh.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ge(d);return}d=e.ownerDocument||e,a=Jv(a),(h=Hn.get(h))&&Pp(a,h),d=d.createElement("link"),ge(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Xe(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=oh.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function Ww(){if(Kl===null)throw Error(s(475));var e=Kl;return e.stylesheets&&e.count===0&&Lp(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Lp(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function oh(){if(this.count--,this.count===0){if(this.stylesheets)Lp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lh=null;function Lp(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lh=new Map,i.forEach(Zw,e),lh=null,oh.call(e))}function Zw(e,i){if(!(i.state.loading&4)){var a=lh.get(e);if(a)var l=a.get(null);else{a=new Map,lh.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=oh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Ql={$$typeof:nt,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function Jw(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.hiddenUpdates=Vr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function iE(e,i,a,l,h,d,v,T,I,B,Q,Z){return e=new Jw(e,i,a,v,T,I,B,Z),i=1,d===!0&&(i|=24),d=Sn(3,null,null,i),e.current=d,d.stateNode=e,i=_d(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Sd(d),e}function sE(e){return e?(e=ka,e):ka}function aE(e,i,a,l,h,d){h=sE(h),l.context===null?l.context=h:l.pendingContext=h,l=Ii(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ci(e,l,i),a!==null&&(In(a,e,i),wl(a,e,i))}function oE(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Up(e,i){oE(e,i),(e=e.alternate)&&oE(e,i)}function lE(e){if(e.tag===13){var i=Pa(e,67108864);i!==null&&In(i,e,67108864),Up(e,67108864)}}var uh=!0;function tb(e,i,a,l){var h=K.T;K.T=null;var d=ot.p;try{ot.p=2,zp(e,i,a,l)}finally{ot.p=d,K.T=h}}function eb(e,i,a,l){var h=K.T;K.T=null;var d=ot.p;try{ot.p=8,zp(e,i,a,l)}finally{ot.p=d,K.T=h}}function zp(e,i,a,l){if(uh){var h=Bp(l);if(h===null)Rp(e,i,l,ch,a),cE(e,l);else if(rb(h,e,i,a,l))l.stopPropagation();else if(cE(e,l),i&4&&-1<nb.indexOf(e)){for(;h!==null;){var d=lr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Kn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-en(v);T.entanglements[1]|=I,v&=~I}Sr(d),(Yt&6)===0&&(Kc=On()+500,jl(0))}}break;case 13:T=Pa(d,2),T!==null&&In(T,d,2),Yc(),Up(d,2)}if(d=Bp(l),d===null&&Rp(e,i,l,ch,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Rp(e,i,l,null,a)}}function Bp(e){return e=Vn(e),jp(e)}var ch=null;function jp(e){if(ch=null,e=kr(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return ch=e,null}function uE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ff()){case $o:return 2;case pa:return 8;case ys:case Gf:return 32;case ma:return 268435456;default:return 32}default:return 32}}var qp=!1,ji=null,qi=null,Hi=null,Yl=new Map,Xl=new Map,Fi=[],nb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cE(e,i){switch(e){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":Yl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(i.pointerId)}}function Wl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=lr(i),i!==null&&lE(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function rb(e,i,a,l,h){switch(i){case"focusin":return ji=Wl(ji,e,i,a,l,h),!0;case"dragenter":return qi=Wl(qi,e,i,a,l,h),!0;case"mouseover":return Hi=Wl(Hi,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Yl.set(d,Wl(Yl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Xl.set(d,Wl(Xl.get(d)||null,e,i,a,l,h)),!0}return!1}function hE(e){var i=kr(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Yu(e.priority,function(){if(a.tag===13){var l=Rn();l=_i(l);var h=Pa(a,l);h!==null&&In(h,a,l),Up(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Bp(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Br=l,a.target.dispatchEvent(l),Br=null}else return i=lr(a),i!==null&&lE(i),e.blockedOn=a,!1;i.shift()}return!0}function fE(e,i,a){hh(e)&&a.delete(i)}function ib(){qp=!1,ji!==null&&hh(ji)&&(ji=null),qi!==null&&hh(qi)&&(qi=null),Hi!==null&&hh(Hi)&&(Hi=null),Yl.forEach(fE),Xl.forEach(fE)}function fh(e,i){e.blockedOn===i&&(e.blockedOn=null,qp||(qp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ib)))}var dh=null;function dE(e){dh!==e&&(dh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){dh===e&&(dh=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(jp(l||a)===null)continue;break}var d=lr(a);d!==null&&(e.splice(i,3),i-=3,jd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Zl(e){function i(I){return fh(I,e)}ji!==null&&fh(ji,e),qi!==null&&fh(qi,e),Hi!==null&&fh(Hi,e),Yl.forEach(i),Xl.forEach(i);for(var a=0;a<Fi.length;a++){var l=Fi[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Fi.length&&(a=Fi[0],a.blockedOn===null);)hE(a),a.blockedOn===null&&Fi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Te]||null;if(typeof d=="function")v||dE(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Te]||null)T=v.formAction;else if(jp(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),dE(a)}}}function Hp(e){this._internalRoot=e}ph.prototype.render=Hp.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Rn();aE(a,l,e,i,null,null)},ph.prototype.unmount=Hp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;aE(e.current,2,null,e,null,null),Yc(),i[xn]=null}};function ph(e){this._internalRoot=e}ph.prototype.unstable_scheduleHydration=function(e){if(e){var i=vi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Fi.length&&i!==0&&i<Fi[a].priority;a++);Fi.splice(a,0,e),a===0&&hE(e)}};var pE=t.version;if(pE!=="19.1.0")throw Error(s(527,pE,"19.1.0"));ot.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var sb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{de=mh.inject(sb),Qt=mh}catch{}}return tu.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=N_,d=O_,v=x_,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=iE(e,1,!1,null,null,a,l,h,d,v,T,null),e[xn]=i.current,bp(e),new Hp(i)},tu.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=N_,v=O_,T=x_,I=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=iE(e,1,!0,i,a??null,l,h,d,v,T,I,B),i.context=sE(null),a=i.current,l=Rn(),l=_i(l),h=Ii(l),h.callback=null,Ci(a,h,l),a=l,i.current.lanes=a,Pr(i,a),Sr(i),e[xn]=i.current,bp(e),new ph(i)},tu.version="19.1.0",tu}var wE;function gb(){if(wE)return $p.exports;wE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),$p.exports=mb(),$p.exports}var yb=gb();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bE="popstate";function _b(r={}){function t(s,o){let{pathname:u,search:f,hash:p}=s.location;return pm("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:gu(o)}return Eb(t,n,null,r)}function ue(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function rr(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vb(){return Math.random().toString(36).substring(2,10)}function RE(r,t){return{usr:r.state,key:r.key,idx:t}}function pm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?xo(t):t,state:n,key:t&&t.key||s||vb()}}function gu({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function xo(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function Eb(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",m=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function S(){p="POP";let H=E(),J=H==null?null:H-g;g=H,m&&m({action:p,location:G.location,delta:J})}function w(H,J){p="PUSH";let X=pm(G.location,H,J);g=E()+1;let nt=RE(X,g),ut=G.createHref(X);try{f.pushState(nt,"",ut)}catch(lt){if(lt instanceof DOMException&&lt.name==="DataCloneError")throw lt;o.location.assign(ut)}u&&m&&m({action:p,location:G.location,delta:1})}function M(H,J){p="REPLACE";let X=pm(G.location,H,J);g=E();let nt=RE(X,g),ut=G.createHref(X);f.replaceState(nt,"",ut),u&&m&&m({action:p,location:G.location,delta:0})}function U(H){return Tb(H)}let G={get action(){return p},get location(){return r(o,f)},listen(H){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(bE,S),m=H,()=>{o.removeEventListener(bE,S),m=null}},createHref(H){return t(o,H)},createURL:U,encodeLocation(H){let J=U(H);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:w,replace:M,go(H){return f.go(H)}};return G}function Tb(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ue(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:gu(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function v0(r,t,n="/"){return Sb(r,t,n,!1)}function Sb(r,t,n,s){let o=typeof t=="string"?xo(t):t,u=hi(o.pathname||"/",n);if(u==null)return null;let f=E0(r);Ab(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let g=Vb(u);p=xb(f[m],g,s)}return p}function E0(r,t=[],n=[],s=""){let o=(u,f,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(ue(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=li([s,m.relativePath]),E=n.concat(m);u.children&&u.children.length>0&&(ue(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),E0(u.children,t,E,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:Nb(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,f);else for(let m of T0(u.path))o(u,f,m)}),t}function T0(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=T0(s.join("/")),p=[];return p.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...f),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function Ab(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:Ob(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var wb=/^:[\w-]+$/,bb=3,Rb=2,Ib=1,Cb=10,Db=-2,IE=r=>r==="*";function Nb(r,t){let n=r.split("/"),s=n.length;return n.some(IE)&&(s+=Db),t&&(s+=Rb),n.filter(o=>!IE(o)).reduce((o,u)=>o+(wb.test(u)?bb:u===""?Ib:Cb),s)}function Ob(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function xb(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let m=s[p],g=p===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",S=Hh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},E),w=m.route;if(!S&&g&&n&&!s[s.length-1].route.index&&(S=Hh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:li([u,S.pathname]),pathnameBase:Ub(li([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=li([u,S.pathnameBase]))}return f}function Hh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Mb(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:S},w)=>{if(E==="*"){let U=p[w]||"";f=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const M=p[w];return S&&!M?g[E]=void 0:g[E]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function Mb(r,t=!1,n=!0){rr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Vb(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function hi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Pb(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?xo(r):r;return{pathname:n?n.startsWith("/")?n:kb(n,t):t,search:zb(s),hash:Bb(o)}}function kb(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Xp(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Lb(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function tg(r){let t=Lb(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function eg(r,t,n,s=!1){let o;typeof r=="string"?o=xo(r):(o={...r},ue(!o.pathname||!o.pathname.includes("?"),Xp("?","pathname","search",o)),ue(!o.pathname||!o.pathname.includes("#"),Xp("#","pathname","hash",o)),ue(!o.search||!o.search.includes("#"),Xp("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let S=t.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}p=S>=0?t[S]:"/"}let m=Pb(o,p),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||E)&&(m.pathname+="/"),m}var li=r=>r.join("/").replace(/\/\/+/g,"/"),Ub=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),zb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Bb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function jb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var S0=["POST","PUT","PATCH","DELETE"];new Set(S0);var qb=["GET",...S0];new Set(qb);var Mo=F.createContext(null);Mo.displayName="DataRouter";var pf=F.createContext(null);pf.displayName="DataRouterState";F.createContext(!1);var A0=F.createContext({isTransitioning:!1});A0.displayName="ViewTransition";var Hb=F.createContext(new Map);Hb.displayName="Fetchers";var Fb=F.createContext(null);Fb.displayName="Await";var ar=F.createContext(null);ar.displayName="Navigation";var Du=F.createContext(null);Du.displayName="Location";var Mr=F.createContext({outlet:null,matches:[],isDataRoute:!1});Mr.displayName="Route";var ng=F.createContext(null);ng.displayName="RouteError";function Gb(r,{relative:t}={}){ue(Vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(ar),{hash:o,pathname:u,search:f}=Ou(r,{relative:t}),p=u;return n!=="/"&&(p=u==="/"?n:li([n,u])),s.createHref({pathname:p,search:f,hash:o})}function Vo(){return F.useContext(Du)!=null}function hs(){return ue(Vo(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Du).location}var w0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function b0(r){F.useContext(ar).static||F.useLayoutEffect(r)}function Nu(){let{isDataRoute:r}=F.useContext(Mr);return r?iR():$b()}function $b(){ue(Vo(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(Mo),{basename:t,navigator:n}=F.useContext(ar),{matches:s}=F.useContext(Mr),{pathname:o}=hs(),u=JSON.stringify(tg(s)),f=F.useRef(!1);return b0(()=>{f.current=!0}),F.useCallback((m,g={})=>{if(rr(f.current,w0),!f.current)return;if(typeof m=="number"){n.go(m);return}let E=eg(m,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:li([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,r])}F.createContext(null);function Ou(r,{relative:t}={}){let{matches:n}=F.useContext(Mr),{pathname:s}=hs(),o=JSON.stringify(tg(n));return F.useMemo(()=>eg(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function Kb(r,t){return R0(r,t)}function R0(r,t,n,s){var J;ue(Vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=F.useContext(ar),{matches:u}=F.useContext(Mr),f=u[u.length-1],p=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let X=E&&E.path||"";I0(m,!E||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let S=hs(),w;if(t){let X=typeof t=="string"?xo(t):t;ue(g==="/"||((J=X.pathname)==null?void 0:J.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${X.pathname}" was given in the \`location\` prop.`),w=X}else w=S;let M=w.pathname||"/",U=M;if(g!=="/"){let X=g.replace(/^\//,"").split("/");U="/"+M.replace(/^\//,"").split("/").slice(X.length).join("/")}let G=v0(r,{pathname:U});rr(E||G!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),rr(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=Zb(G&&G.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:li([g,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?g:li([g,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),u,n,s);return t&&H?F.createElement(Du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},H):H}function Qb(){let r=rR(),t=jb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),n?F.createElement("pre",{style:o},n):null,f)}var Yb=F.createElement(Qb,null),Xb=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?F.createElement(Mr.Provider,{value:this.props.routeContext},F.createElement(ng.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Wb({routeContext:r,match:t,children:n}){let s=F.useContext(Mo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(Mr.Provider,{value:r},n)}function Zb(r,t=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ue(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,p=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:E,errors:S}=n,w=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||w){f=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,g,E)=>{let S,w=!1,M=null,U=null;n&&(S=u&&g.route.id?u[g.route.id]:void 0,M=g.route.errorElement||Yb,f&&(p<0&&E===0?(I0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,U=null):p===E&&(w=!0,U=g.route.hydrateFallbackElement||null)));let G=t.concat(o.slice(0,E+1)),H=()=>{let J;return S?J=M:w?J=U:g.route.Component?J=F.createElement(g.route.Component,null):g.route.element?J=g.route.element:J=m,F.createElement(Wb,{match:g,routeContext:{outlet:m,matches:G,isDataRoute:n!=null},children:J})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?F.createElement(Xb,{location:n.location,revalidation:n.revalidation,component:M,error:S,children:H(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):H()},null)}function rg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jb(r){let t=F.useContext(Mo);return ue(t,rg(r)),t}function tR(r){let t=F.useContext(pf);return ue(t,rg(r)),t}function eR(r){let t=F.useContext(Mr);return ue(t,rg(r)),t}function ig(r){let t=eR(r),n=t.matches[t.matches.length-1];return ue(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function nR(){return ig("useRouteId")}function rR(){var s;let r=F.useContext(ng),t=tR("useRouteError"),n=ig("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function iR(){let{router:r}=Jb("useNavigate"),t=ig("useNavigate"),n=F.useRef(!1);return b0(()=>{n.current=!0}),F.useCallback(async(o,u={})=>{rr(n.current,w0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var CE={};function I0(r,t,n){!t&&!CE[r]&&(CE[r]=!0,rr(!1,n))}F.memo(sR);function sR({routes:r,future:t,state:n}){return R0(r,void 0,n,t)}function aR({to:r,replace:t,state:n,relative:s}){ue(Vo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(ar);rr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=F.useContext(Mr),{pathname:f}=hs(),p=Nu(),m=eg(r,tg(u),f,s==="path"),g=JSON.stringify(m);return F.useEffect(()=>{p(JSON.parse(g),{replace:t,state:n,relative:s})},[p,g,s,t,n]),null}function bh(r){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oR({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ue(!Vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=F.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=xo(n));let{pathname:m="/",search:g="",hash:E="",state:S=null,key:w="default"}=n,M=F.useMemo(()=>{let U=hi(m,f);return U==null?null:{location:{pathname:U,search:g,hash:E,state:S,key:w},navigationType:s}},[f,m,g,E,S,w,s]);return rr(M!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:F.createElement(ar.Provider,{value:p},F.createElement(Du.Provider,{children:t,value:M}))}function lR({children:r,location:t}){return Kb(mm(r),t)}function mm(r,t=[]){let n=[];return F.Children.forEach(r,(s,o)=>{if(!F.isValidElement(s))return;let u=[...t,o];if(s.type===F.Fragment){n.push.apply(n,mm(s.props.children,u));return}ue(s.type===bh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=mm(s.props.children,u)),n.push(f)}),n}var Rh="get",Ih="application/x-www-form-urlencoded";function mf(r){return r!=null&&typeof r.tagName=="string"}function uR(r){return mf(r)&&r.tagName.toLowerCase()==="button"}function cR(r){return mf(r)&&r.tagName.toLowerCase()==="form"}function hR(r){return mf(r)&&r.tagName.toLowerCase()==="input"}function fR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function dR(r,t){return r.button===0&&(!t||t==="_self")&&!fR(r)}var gh=null;function pR(){if(gh===null)try{new FormData(document.createElement("form"),0),gh=!1}catch{gh=!0}return gh}var mR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wp(r){return r!=null&&!mR.has(r)?(rr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ih}"`),null):r}function gR(r,t){let n,s,o,u,f;if(cR(r)){let p=r.getAttribute("action");s=p?hi(p,t):null,n=r.getAttribute("method")||Rh,o=Wp(r.getAttribute("enctype"))||Ih,u=new FormData(r)}else if(uR(r)||hR(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(s=m?hi(m,t):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Rh,o=Wp(r.getAttribute("formenctype"))||Wp(p.getAttribute("enctype"))||Ih,u=new FormData(p,r),!pR()){let{name:g,type:E,value:S}=r;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,S)}}else{if(mf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rh,s=null,o=Ih,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sg(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function yR(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&hi(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function _R(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function ER(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await _R(u,n);return f.links?f.links():[]}return[]}));return wR(s.flat(1).filter(vR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function DE(r,t,n,s,o,u){let f=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>{var E;return n[g].pathname!==m.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return u==="assets"?t.filter((m,g)=>f(m,g)||p(m,g)):u==="data"?t.filter((m,g)=>{var S;let E=s.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(f(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function TR(r,t,{includeHydrateFallback:n}={}){return SR(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function SR(r){return[...new Set(r)]}function AR(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function wR(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(AR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function C0(){let r=F.useContext(Mo);return sg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function bR(){let r=F.useContext(pf);return sg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ag=F.createContext(void 0);ag.displayName="FrameworkContext";function D0(){let r=F.useContext(ag);return sg(r,"You must render this element inside a <HydratedRouter> element"),r}function RR(r,t){let n=F.useContext(ag),[s,o]=F.useState(!1),[u,f]=F.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=t,w=F.useRef(null);F.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let G=J=>{J.forEach(X=>{f(X.isIntersecting)})},H=new IntersectionObserver(G,{threshold:.5});return w.current&&H.observe(w.current),()=>{H.disconnect()}}},[r]),F.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let M=()=>{o(!0)},U=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:eu(p,M),onBlur:eu(m,U),onMouseEnter:eu(g,M),onMouseLeave:eu(E,U),onTouchStart:eu(S,M)}]:[!1,w,{}]}function eu(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function IR({page:r,...t}){let{router:n}=C0(),s=F.useMemo(()=>v0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?F.createElement(DR,{page:r,matches:s,...t}):null}function CR(r){let{manifest:t,routeModules:n}=D0(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return ER(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function DR({page:r,matches:t,...n}){let s=hs(),{manifest:o,routeModules:u}=D0(),{basename:f}=C0(),{loaderData:p,matches:m}=bR(),g=F.useMemo(()=>DE(r,t,m,o,s,"data"),[r,t,m,o,s]),E=F.useMemo(()=>DE(r,t,m,o,s,"assets"),[r,t,m,o,s]),S=F.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let U=new Set,G=!1;if(t.forEach(J=>{var nt;let X=o.routes[J.route.id];!X||!X.hasLoader||(!g.some(ut=>ut.route.id===J.route.id)&&J.route.id in p&&((nt=u[J.route.id])!=null&&nt.shouldRevalidate)||X.hasClientLoader?G=!0:U.add(J.route.id))}),U.size===0)return[];let H=yR(r,f,"data");return G&&U.size>0&&H.searchParams.set("_routes",t.filter(J=>U.has(J.route.id)).map(J=>J.route.id).join(",")),[H.pathname+H.search]},[f,p,s,o,g,t,r,u]),w=F.useMemo(()=>TR(E,o),[E,o]),M=CR(E);return F.createElement(F.Fragment,null,S.map(U=>F.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),w.map(U=>F.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),M.map(({key:U,link:G})=>F.createElement("link",{key:U,...G})))}function NR(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var N0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{N0&&(window.__reactRouterVersion="7.7.0")}catch{}function OR({basename:r,children:t,window:n}){let s=F.useRef();s.current==null&&(s.current=_b({window:n,v5Compat:!0}));let o=s.current,[u,f]=F.useState({action:o.action,location:o.location}),p=F.useCallback(m=>{F.startTransition(()=>f(m))},[f]);return F.useLayoutEffect(()=>o.listen(p),[o,p]),F.createElement(oR,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var O0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x0=F.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:m,to:g,preventScrollReset:E,viewTransition:S,...w},M){let{basename:U}=F.useContext(ar),G=typeof g=="string"&&O0.test(g),H,J=!1;if(typeof g=="string"&&G&&(H=g,N0))try{let R=new URL(window.location.href),x=g.startsWith("//")?new URL(R.protocol+g):new URL(g),V=hi(x.pathname,U);x.origin===R.origin&&V!=null?g=V+x.search+x.hash:J=!0}catch{rr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=Gb(g,{relative:o}),[nt,ut,lt]=RR(s,w),ft=PR(g,{replace:f,state:p,target:m,preventScrollReset:E,relative:o,viewTransition:S});function C(R){t&&t(R),R.defaultPrevented||ft(R)}let b=F.createElement("a",{...w,...lt,href:H||X,onClick:J||u?t:C,ref:NR(M,ut),target:m,"data-discover":!G&&n==="render"?"true":void 0});return nt&&!G?F.createElement(F.Fragment,null,b,F.createElement(IR,{page:X})):b});x0.displayName="Link";var xR=F.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:m,...g},E){let S=Ou(f,{relative:g.relative}),w=hs(),M=F.useContext(pf),{navigator:U,basename:G}=F.useContext(ar),H=M!=null&&BR(S)&&p===!0,J=U.encodeLocation?U.encodeLocation(S).pathname:S.pathname,X=w.pathname,nt=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(X=X.toLowerCase(),nt=nt?nt.toLowerCase():null,J=J.toLowerCase()),nt&&G&&(nt=hi(nt,G)||nt);const ut=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let lt=X===J||!o&&X.startsWith(J)&&X.charAt(ut)==="/",ft=nt!=null&&(nt===J||!o&&nt.startsWith(J)&&nt.charAt(J.length)==="/"),C={isActive:lt,isPending:ft,isTransitioning:H},b=lt?t:void 0,R;typeof s=="function"?R=s(C):R=[s,lt?"active":null,ft?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(C):u;return F.createElement(x0,{...g,"aria-current":b,className:R,ref:E,style:x,to:f,viewTransition:p},typeof m=="function"?m(C):m)});xR.displayName="NavLink";var MR=F.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Rh,action:p,onSubmit:m,relative:g,preventScrollReset:E,viewTransition:S,...w},M)=>{let U=UR(),G=zR(p,{relative:g}),H=f.toLowerCase()==="get"?"get":"post",J=typeof p=="string"&&O0.test(p),X=nt=>{if(m&&m(nt),nt.defaultPrevented)return;nt.preventDefault();let ut=nt.nativeEvent.submitter,lt=(ut==null?void 0:ut.getAttribute("formmethod"))||f;U(ut||nt.currentTarget,{fetcherKey:t,method:lt,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:S})};return F.createElement("form",{ref:M,method:H,action:G,onSubmit:s?m:X,...w,"data-discover":!J&&r==="render"?"true":void 0})});MR.displayName="Form";function VR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M0(r){let t=F.useContext(Mo);return ue(t,VR(r)),t}function PR(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=Nu(),m=hs(),g=Ou(r,{relative:u});return F.useCallback(E=>{if(dR(E,t)){E.preventDefault();let S=n!==void 0?n:gu(m)===gu(g);p(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[m,p,g,n,s,t,r,o,u,f])}var kR=0,LR=()=>`__${String(++kR)}__`;function UR(){let{router:r}=M0("useSubmit"),{basename:t}=F.useContext(ar),n=nR();return F.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:m,body:g}=gR(s,t);if(o.navigate===!1){let E=o.fetcherKey||LR();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function zR(r,{relative:t}={}){let{basename:n}=F.useContext(ar),s=F.useContext(Mr);ue(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Ou(r||".",{relative:t})},f=hs();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(E=>E==="")){p.delete("index"),m.filter(S=>S).forEach(S=>p.append("index",S));let E=p.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:li([n,u.pathname])),gu(u)}function BR(r,t={}){let n=F.useContext(A0);ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=M0("useViewTransitionState"),o=Ou(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=hi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=hi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Hh(o.pathname,f)!=null||Hh(o.pathname,u)!=null}var Ge=function(){return Ge=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},Ge.apply(this,arguments)};function yu(r,t,n){if(n||arguments.length===2)for(var s=0,o=t.length,u;s<o;s++)(u||!(s in t))&&(u||(u=Array.prototype.slice.call(t,0,s)),u[s]=t[s]);return r.concat(u||Array.prototype.slice.call(t))}var ie="-ms-",uu="-moz-",$t="-webkit-",V0="comm",gf="rule",og="decl",jR="@import",P0="@keyframes",qR="@layer",k0=Math.abs,lg=String.fromCharCode,gm=Object.assign;function HR(r,t){return Fe(r,0)^45?(((t<<2^Fe(r,0))<<2^Fe(r,1))<<2^Fe(r,2))<<2^Fe(r,3):0}function L0(r){return r.trim()}function si(r,t){return(r=t.exec(r))?r[0]:r}function Nt(r,t,n){return r.replace(t,n)}function Ch(r,t,n){return r.indexOf(t,n)}function Fe(r,t){return r.charCodeAt(t)|0}function vo(r,t,n){return r.slice(t,n)}function wr(r){return r.length}function U0(r){return r.length}function nu(r,t){return t.push(r),r}function FR(r,t){return r.map(t).join("")}function NE(r,t){return r.filter(function(n){return!si(n,t)})}var yf=1,Eo=1,z0=0,$n=0,Re=0,Po="";function _f(r,t,n,s,o,u,f,p){return{value:r,root:t,parent:n,type:s,props:o,children:u,line:yf,column:Eo,length:f,return:"",siblings:p}}function Ki(r,t){return gm(_f("",null,null,"",null,null,0,r.siblings),r,{length:-r.length},t)}function ao(r){for(;r.root;)r=Ki(r.root,{children:[r]});nu(r,r.siblings)}function GR(){return Re}function $R(){return Re=$n>0?Fe(Po,--$n):0,Eo--,Re===10&&(Eo=1,yf--),Re}function er(){return Re=$n<z0?Fe(Po,$n++):0,Eo++,Re===10&&(Eo=1,yf++),Re}function ta(){return Fe(Po,$n)}function Dh(){return $n}function vf(r,t){return vo(Po,r,t)}function ym(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function KR(r){return yf=Eo=1,z0=wr(Po=r),$n=0,[]}function QR(r){return Po="",r}function Zp(r){return L0(vf($n-1,_m(r===91?r+2:r===40?r+1:r)))}function YR(r){for(;(Re=ta())&&Re<33;)er();return ym(r)>2||ym(Re)>3?"":" "}function XR(r,t){for(;--t&&er()&&!(Re<48||Re>102||Re>57&&Re<65||Re>70&&Re<97););return vf(r,Dh()+(t<6&&ta()==32&&er()==32))}function _m(r){for(;er();)switch(Re){case r:return $n;case 34:case 39:r!==34&&r!==39&&_m(Re);break;case 40:r===41&&_m(r);break;case 92:er();break}return $n}function WR(r,t){for(;er()&&r+Re!==57;)if(r+Re===84&&ta()===47)break;return"/*"+vf(t,$n-1)+"*"+lg(r===47?r:er())}function ZR(r){for(;!ym(ta());)er();return vf(r,$n)}function JR(r){return QR(Nh("",null,null,null,[""],r=KR(r),0,[0],r))}function Nh(r,t,n,s,o,u,f,p,m){for(var g=0,E=0,S=f,w=0,M=0,U=0,G=1,H=1,J=1,X=0,nt="",ut=o,lt=u,ft=s,C=nt;H;)switch(U=X,X=er()){case 40:if(U!=108&&Fe(C,S-1)==58){Ch(C+=Nt(Zp(X),"&","&\f"),"&\f",k0(g?p[g-1]:0))!=-1&&(J=-1);break}case 34:case 39:case 91:C+=Zp(X);break;case 9:case 10:case 13:case 32:C+=YR(U);break;case 92:C+=XR(Dh()-1,7);continue;case 47:switch(ta()){case 42:case 47:nu(tI(WR(er(),Dh()),t,n,m),m);break;default:C+="/"}break;case 123*G:p[g++]=wr(C)*J;case 125*G:case 59:case 0:switch(X){case 0:case 125:H=0;case 59+E:J==-1&&(C=Nt(C,/\f/g,"")),M>0&&wr(C)-S&&nu(M>32?xE(C+";",s,n,S-1,m):xE(Nt(C," ","")+";",s,n,S-2,m),m);break;case 59:C+=";";default:if(nu(ft=OE(C,t,n,g,E,o,p,nt,ut=[],lt=[],S,u),u),X===123)if(E===0)Nh(C,t,ft,ft,ut,u,S,p,lt);else switch(w===99&&Fe(C,3)===110?100:w){case 100:case 108:case 109:case 115:Nh(r,ft,ft,s&&nu(OE(r,ft,ft,0,0,o,p,nt,o,ut=[],S,lt),lt),o,lt,S,p,s?ut:lt);break;default:Nh(C,ft,ft,ft,[""],lt,0,p,lt)}}g=E=M=0,G=J=1,nt=C="",S=f;break;case 58:S=1+wr(C),M=U;default:if(G<1){if(X==123)--G;else if(X==125&&G++==0&&$R()==125)continue}switch(C+=lg(X),X*G){case 38:J=E>0?1:(C+="\f",-1);break;case 44:p[g++]=(wr(C)-1)*J,J=1;break;case 64:ta()===45&&(C+=Zp(er())),w=ta(),E=S=wr(nt=C+=ZR(Dh())),X++;break;case 45:U===45&&wr(C)==2&&(G=0)}}return u}function OE(r,t,n,s,o,u,f,p,m,g,E,S){for(var w=o-1,M=o===0?u:[""],U=U0(M),G=0,H=0,J=0;G<s;++G)for(var X=0,nt=vo(r,w+1,w=k0(H=f[G])),ut=r;X<U;++X)(ut=L0(H>0?M[X]+" "+nt:Nt(nt,/&\f/g,M[X])))&&(m[J++]=ut);return _f(r,t,n,o===0?gf:p,m,g,E,S)}function tI(r,t,n,s){return _f(r,t,n,V0,lg(GR()),vo(r,2,-2),0,s)}function xE(r,t,n,s,o){return _f(r,t,n,og,vo(r,0,s),vo(r,s+1,-1),s,o)}function B0(r,t,n){switch(HR(r,t)){case 5103:return $t+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $t+r+r;case 4789:return uu+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return $t+r+uu+r+ie+r+r;case 5936:switch(Fe(r,t+11)){case 114:return $t+r+ie+Nt(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return $t+r+ie+Nt(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return $t+r+ie+Nt(r,/[svh]\w+-[tblr]{2}/,"lr")+r}case 6828:case 4268:case 2903:return $t+r+ie+r+r;case 6165:return $t+r+ie+"flex-"+r+r;case 5187:return $t+r+Nt(r,/(\w+).+(:[^]+)/,$t+"box-$1$2"+ie+"flex-$1$2")+r;case 5443:return $t+r+ie+"flex-item-"+Nt(r,/flex-|-self/g,"")+(si(r,/flex-|baseline/)?"":ie+"grid-row-"+Nt(r,/flex-|-self/g,""))+r;case 4675:return $t+r+ie+"flex-line-pack"+Nt(r,/align-content|flex-|-self/g,"")+r;case 5548:return $t+r+ie+Nt(r,"shrink","negative")+r;case 5292:return $t+r+ie+Nt(r,"basis","preferred-size")+r;case 6060:return $t+"box-"+Nt(r,"-grow","")+$t+r+ie+Nt(r,"grow","positive")+r;case 4554:return $t+Nt(r,/([^-])(transform)/g,"$1"+$t+"$2")+r;case 6187:return Nt(Nt(Nt(r,/(zoom-|grab)/,$t+"$1"),/(image-set)/,$t+"$1"),r,"")+r;case 5495:case 3959:return Nt(r,/(image-set\([^]*)/,$t+"$1$`$1");case 4968:return Nt(Nt(r,/(.+:)(flex-)?(.*)/,$t+"box-pack:$3"+ie+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$t+r+r;case 4200:if(!si(r,/flex-|baseline/))return ie+"grid-column-align"+vo(r,t)+r;break;case 2592:case 3360:return ie+Nt(r,"template-","")+r;case 4384:case 3616:return n&&n.some(function(s,o){return t=o,si(s.props,/grid-\w+-end/)})?~Ch(r+(n=n[t].value),"span",0)?r:ie+Nt(r,"-start","")+r+ie+"grid-row-span:"+(~Ch(n,"span",0)?si(n,/\d+/):+si(n,/\d+/)-+si(r,/\d+/))+";":ie+Nt(r,"-start","")+r;case 4896:case 4128:return n&&n.some(function(s){return si(s.props,/grid-\w+-start/)})?r:ie+Nt(Nt(r,"-end","-span"),"span ","")+r;case 4095:case 3583:case 4068:case 2532:return Nt(r,/(.+)-inline(.+)/,$t+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(wr(r)-1-t>6)switch(Fe(r,t+1)){case 109:if(Fe(r,t+4)!==45)break;case 102:return Nt(r,/(.+:)(.+)-([^]+)/,"$1"+$t+"$2-$3$1"+uu+(Fe(r,t+3)==108?"$3":"$2-$3"))+r;case 115:return~Ch(r,"stretch",0)?B0(Nt(r,"stretch","fill-available"),t,n)+r:r}break;case 5152:case 5920:return Nt(r,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,o,u,f,p,m,g){return ie+o+":"+u+g+(f?ie+o+"-span:"+(p?m:+m-+u)+g:"")+r});case 4949:if(Fe(r,t+6)===121)return Nt(r,":",":"+$t)+r;break;case 6444:switch(Fe(r,Fe(r,14)===45?18:11)){case 120:return Nt(r,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+$t+(Fe(r,14)===45?"inline-":"")+"box$3$1"+$t+"$2$3$1"+ie+"$2box$3")+r;case 100:return Nt(r,":",":"+ie)+r}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Nt(r,"scroll-","scroll-snap-")+r}return r}function Fh(r,t){for(var n="",s=0;s<r.length;s++)n+=t(r[s],s,r,t)||"";return n}function eI(r,t,n,s){switch(r.type){case qR:if(r.children.length)break;case jR:case og:return r.return=r.return||r.value;case V0:return"";case P0:return r.return=r.value+"{"+Fh(r.children,s)+"}";case gf:if(!wr(r.value=r.props.join(",")))return""}return wr(n=Fh(r.children,s))?r.return=r.value+"{"+n+"}":""}function nI(r){var t=U0(r);return function(n,s,o,u){for(var f="",p=0;p<t;p++)f+=r[p](n,s,o,u)||"";return f}}function rI(r){return function(t){t.root||(t=t.return)&&r(t)}}function iI(r,t,n,s){if(r.length>-1&&!r.return)switch(r.type){case og:r.return=B0(r.value,r.length,n);return;case P0:return Fh([Ki(r,{value:Nt(r.value,"@","@"+$t)})],s);case gf:if(r.length)return FR(n=r.props,function(o){switch(si(o,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ao(Ki(r,{props:[Nt(o,/:(read-\w+)/,":"+uu+"$1")]})),ao(Ki(r,{props:[o]})),gm(r,{props:NE(n,s)});break;case"::placeholder":ao(Ki(r,{props:[Nt(o,/:(plac\w+)/,":"+$t+"input-$1")]})),ao(Ki(r,{props:[Nt(o,/:(plac\w+)/,":"+uu+"$1")]})),ao(Ki(r,{props:[Nt(o,/:(plac\w+)/,ie+"input-$1")]})),ao(Ki(r,{props:[o]})),gm(r,{props:NE(n,s)});break}return""})}}var sI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Cn={},To=typeof process<"u"&&Cn!==void 0&&(Cn.REACT_APP_SC_ATTR||Cn.SC_ATTR)||"data-styled",j0="active",q0="data-styled-version",Ef="6.1.19",ug=`/*!sc*/
`,Gh=typeof window<"u"&&typeof document<"u",aI=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Cn!==void 0&&Cn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Cn.REACT_APP_SC_DISABLE_SPEEDY!==""?Cn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Cn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Cn!==void 0&&Cn.SC_DISABLE_SPEEDY!==void 0&&Cn.SC_DISABLE_SPEEDY!==""&&Cn.SC_DISABLE_SPEEDY!=="false"&&Cn.SC_DISABLE_SPEEDY),oI={},Tf=Object.freeze([]),So=Object.freeze({});function H0(r,t,n){return n===void 0&&(n=So),r.theme!==n.theme&&r.theme||t||n.theme}var F0=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),lI=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,uI=/(^-|-$)/g;function ME(r){return r.replace(lI,"-").replace(uI,"")}var cI=/(a)(d)/gi,yh=52,VE=function(r){return String.fromCharCode(r+(r>25?39:97))};function vm(r){var t,n="";for(t=Math.abs(r);t>yh;t=t/yh|0)n=VE(t%yh)+n;return(VE(t%yh)+n).replace(cI,"$1-$2")}var Jp,G0=5381,ho=function(r,t){for(var n=t.length;n;)r=33*r^t.charCodeAt(--n);return r},$0=function(r){return ho(G0,r)};function K0(r){return vm($0(r)>>>0)}function hI(r){return r.displayName||r.name||"Component"}function tm(r){return typeof r=="string"&&!0}var Q0=typeof Symbol=="function"&&Symbol.for,Y0=Q0?Symbol.for("react.memo"):60115,fI=Q0?Symbol.for("react.forward_ref"):60112,dI={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},pI={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},X0={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mI=((Jp={})[fI]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Jp[Y0]=X0,Jp);function PE(r){return("type"in(t=r)&&t.type.$$typeof)===Y0?X0:"$$typeof"in r?mI[r.$$typeof]:dI;var t}var gI=Object.defineProperty,yI=Object.getOwnPropertyNames,kE=Object.getOwnPropertySymbols,_I=Object.getOwnPropertyDescriptor,vI=Object.getPrototypeOf,LE=Object.prototype;function W0(r,t,n){if(typeof t!="string"){if(LE){var s=vI(t);s&&s!==LE&&W0(r,s,n)}var o=yI(t);kE&&(o=o.concat(kE(t)));for(var u=PE(r),f=PE(t),p=0;p<o.length;++p){var m=o[p];if(!(m in pI||n&&n[m]||f&&m in f||u&&m in u)){var g=_I(t,m);try{gI(r,m,g)}catch{}}}}return r}function ra(r){return typeof r=="function"}function cg(r){return typeof r=="object"&&"styledComponentId"in r}function Zs(r,t){return r&&t?"".concat(r," ").concat(t):r||t||""}function Em(r,t){if(r.length===0)return"";for(var n=r[0],s=1;s<r.length;s++)n+=r[s];return n}function _u(r){return r!==null&&typeof r=="object"&&r.constructor.name===Object.name&&!("props"in r&&r.$$typeof)}function Tm(r,t,n){if(n===void 0&&(n=!1),!n&&!_u(r)&&!Array.isArray(r))return t;if(Array.isArray(t))for(var s=0;s<t.length;s++)r[s]=Tm(r[s],t[s]);else if(_u(t))for(var s in t)r[s]=Tm(r[s],t[s]);return r}function hg(r,t){Object.defineProperty(r,"toString",{value:t})}function ia(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(r," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var EI=function(){function r(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return r.prototype.indexOfGroup=function(t){for(var n=0,s=0;s<t;s++)n+=this.groupSizes[s];return n},r.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var s=this.groupSizes,o=s.length,u=o;t>=u;)if((u<<=1)<0)throw ia(16,"".concat(t));this.groupSizes=new Uint32Array(u),this.groupSizes.set(s),this.length=u;for(var f=o;f<u;f++)this.groupSizes[f]=0}for(var p=this.indexOfGroup(t+1),m=(f=0,n.length);f<m;f++)this.tag.insertRule(p,n[f])&&(this.groupSizes[t]++,p++)},r.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],s=this.indexOfGroup(t),o=s+n;this.groupSizes[t]=0;for(var u=s;u<o;u++)this.tag.deleteRule(s)}},r.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var s=this.groupSizes[t],o=this.indexOfGroup(t),u=o+s,f=o;f<u;f++)n+="".concat(this.tag.getRule(f)).concat(ug);return n},r}(),Oh=new Map,$h=new Map,xh=1,_h=function(r){if(Oh.has(r))return Oh.get(r);for(;$h.has(xh);)xh++;var t=xh++;return Oh.set(r,t),$h.set(t,r),t},TI=function(r,t){xh=t+1,Oh.set(r,t),$h.set(t,r)},SI="style[".concat(To,"][").concat(q0,'="').concat(Ef,'"]'),AI=new RegExp("^".concat(To,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),wI=function(r,t,n){for(var s,o=n.split(","),u=0,f=o.length;u<f;u++)(s=o[u])&&r.registerName(t,s)},bI=function(r,t){for(var n,s=((n=t.textContent)!==null&&n!==void 0?n:"").split(ug),o=[],u=0,f=s.length;u<f;u++){var p=s[u].trim();if(p){var m=p.match(AI);if(m){var g=0|parseInt(m[1],10),E=m[2];g!==0&&(TI(E,g),wI(r,E,m[3]),r.getTag().insertRules(g,o)),o.length=0}else o.push(p)}}},UE=function(r){for(var t=document.querySelectorAll(SI),n=0,s=t.length;n<s;n++){var o=t[n];o&&o.getAttribute(To)!==j0&&(bI(r,o),o.parentNode&&o.parentNode.removeChild(o))}};function RI(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Z0=function(r){var t=document.head,n=r||t,s=document.createElement("style"),o=function(p){var m=Array.from(p.querySelectorAll("style[".concat(To,"]")));return m[m.length-1]}(n),u=o!==void 0?o.nextSibling:null;s.setAttribute(To,j0),s.setAttribute(q0,Ef);var f=RI();return f&&s.setAttribute("nonce",f),n.insertBefore(s,u),s},II=function(){function r(t){this.element=Z0(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var s=document.styleSheets,o=0,u=s.length;o<u;o++){var f=s[o];if(f.ownerNode===n)return f}throw ia(17)}(this.element),this.length=0}return r.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},r.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},r.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},r}(),CI=function(){function r(t){this.element=Z0(t),this.nodes=this.element.childNodes,this.length=0}return r.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var s=document.createTextNode(n);return this.element.insertBefore(s,this.nodes[t]||null),this.length++,!0}return!1},r.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},r.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},r}(),DI=function(){function r(t){this.rules=[],this.length=0}return r.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},r.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},r.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},r}(),zE=Gh,NI={isServer:!Gh,useCSSOMInjection:!aI},Kh=function(){function r(t,n,s){t===void 0&&(t=So),n===void 0&&(n={});var o=this;this.options=Ge(Ge({},NI),t),this.gs=n,this.names=new Map(s),this.server=!!t.isServer,!this.server&&Gh&&zE&&(zE=!1,UE(this)),hg(this,function(){return function(u){for(var f=u.getTag(),p=f.length,m="",g=function(S){var w=function(J){return $h.get(J)}(S);if(w===void 0)return"continue";var M=u.names.get(w),U=f.getGroup(S);if(M===void 0||!M.size||U.length===0)return"continue";var G="".concat(To,".g").concat(S,'[id="').concat(w,'"]'),H="";M!==void 0&&M.forEach(function(J){J.length>0&&(H+="".concat(J,","))}),m+="".concat(U).concat(G,'{content:"').concat(H,'"}').concat(ug)},E=0;E<p;E++)g(E);return m}(o)})}return r.registerId=function(t){return _h(t)},r.prototype.rehydrate=function(){!this.server&&Gh&&UE(this)},r.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new r(Ge(Ge({},this.options),t),this.gs,n&&this.names||void 0)},r.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},r.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var s=n.useCSSOMInjection,o=n.target;return n.isServer?new DI(o):s?new II(o):new CI(o)}(this.options),new EI(t)));var t},r.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},r.prototype.registerName=function(t,n){if(_h(t),this.names.has(t))this.names.get(t).add(n);else{var s=new Set;s.add(n),this.names.set(t,s)}},r.prototype.insertRules=function(t,n,s){this.registerName(t,n),this.getTag().insertRules(_h(t),s)},r.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},r.prototype.clearRules=function(t){this.getTag().clearGroup(_h(t)),this.clearNames(t)},r.prototype.clearTag=function(){this.tag=void 0},r}(),OI=/&/g,xI=/^\s*\/\/.*$/gm;function J0(r,t){return r.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(s){return"".concat(t," ").concat(s)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=J0(n.children,t)),n})}function MI(r){var t,n,s,o=So,u=o.options,f=u===void 0?So:u,p=o.plugins,m=p===void 0?Tf:p,g=function(w,M,U){return U.startsWith(n)&&U.endsWith(n)&&U.replaceAll(n,"").length>0?".".concat(t):w},E=m.slice();E.push(function(w){w.type===gf&&w.value.includes("&")&&(w.props[0]=w.props[0].replace(OI,n).replace(s,g))}),f.prefix&&E.push(iI),E.push(eI);var S=function(w,M,U,G){M===void 0&&(M=""),U===void 0&&(U=""),G===void 0&&(G="&"),t=G,n=M,s=new RegExp("\\".concat(n,"\\b"),"g");var H=w.replace(xI,""),J=JR(U||M?"".concat(U," ").concat(M," { ").concat(H," }"):H);f.namespace&&(J=J0(J,f.namespace));var X=[];return Fh(J,nI(E.concat(rI(function(nt){return X.push(nt)})))),X};return S.hash=m.length?m.reduce(function(w,M){return M.name||ia(15),ho(w,M.name)},G0).toString():"",S}var VI=new Kh,Sm=MI(),tS=Jn.createContext({shouldForwardProp:void 0,styleSheet:VI,stylis:Sm});tS.Consumer;Jn.createContext(void 0);function Am(){return F.useContext(tS)}var PI=function(){function r(t,n){var s=this;this.inject=function(o,u){u===void 0&&(u=Sm);var f=s.name+u.hash;o.hasNameForId(s.id,f)||o.insertRules(s.id,f,u(s.rules,f,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,hg(this,function(){throw ia(12,String(s.name))})}return r.prototype.getName=function(t){return t===void 0&&(t=Sm),this.name+t.hash},r}(),kI=function(r){return r>="A"&&r<="Z"};function BE(r){for(var t="",n=0;n<r.length;n++){var s=r[n];if(n===1&&s==="-"&&r[0]==="-")return r;kI(s)?t+="-"+s.toLowerCase():t+=s}return t.startsWith("ms-")?"-"+t:t}var eS=function(r){return r==null||r===!1||r===""},nS=function(r){var t,n,s=[];for(var o in r){var u=r[o];r.hasOwnProperty(o)&&!eS(u)&&(Array.isArray(u)&&u.isCss||ra(u)?s.push("".concat(BE(o),":"),u,";"):_u(u)?s.push.apply(s,yu(yu(["".concat(o," {")],nS(u),!1),["}"],!1)):s.push("".concat(BE(o),": ").concat((t=o,(n=u)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in sI||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return s};function Ji(r,t,n,s){if(eS(r))return[];if(cg(r))return[".".concat(r.styledComponentId)];if(ra(r)){if(!ra(u=r)||u.prototype&&u.prototype.isReactComponent||!t)return[r];var o=r(t);return Ji(o,t,n,s)}var u;return r instanceof PI?n?(r.inject(n,s),[r.getName(s)]):[r]:_u(r)?nS(r):Array.isArray(r)?Array.prototype.concat.apply(Tf,r.map(function(f){return Ji(f,t,n,s)})):[r.toString()]}function rS(r){for(var t=0;t<r.length;t+=1){var n=r[t];if(ra(n)&&!cg(n))return!1}return!0}var LI=$0(Ef),UI=function(){function r(t,n,s){this.rules=t,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&rS(t),this.componentId=n,this.baseHash=ho(LI,n),this.baseStyle=s,Kh.registerId(n)}return r.prototype.generateAndInjectStyles=function(t,n,s){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=Zs(o,this.staticRulesId);else{var u=Em(Ji(this.rules,t,n,s)),f=vm(ho(this.baseHash,u)>>>0);if(!n.hasNameForId(this.componentId,f)){var p=s(u,".".concat(f),void 0,this.componentId);n.insertRules(this.componentId,f,p)}o=Zs(o,f),this.staticRulesId=f}else{for(var m=ho(this.baseHash,s.hash),g="",E=0;E<this.rules.length;E++){var S=this.rules[E];if(typeof S=="string")g+=S;else if(S){var w=Em(Ji(S,t,n,s));m=ho(m,w+E),g+=w}}if(g){var M=vm(m>>>0);n.hasNameForId(this.componentId,M)||n.insertRules(this.componentId,M,s(g,".".concat(M),void 0,this.componentId)),o=Zs(o,M)}}return o},r}(),vu=Jn.createContext(void 0);vu.Consumer;function zI(r){var t=Jn.useContext(vu),n=F.useMemo(function(){return function(s,o){if(!s)throw ia(14);if(ra(s)){var u=s(o);return u}if(Array.isArray(s)||typeof s!="object")throw ia(8);return o?Ge(Ge({},o),s):s}(r.theme,t)},[r.theme,t]);return r.children?Jn.createElement(vu.Provider,{value:n},r.children):null}var em={};function BI(r,t,n){var s=cg(r),o=r,u=!tm(r),f=t.attrs,p=f===void 0?Tf:f,m=t.componentId,g=m===void 0?function(ut,lt){var ft=typeof ut!="string"?"sc":ME(ut);em[ft]=(em[ft]||0)+1;var C="".concat(ft,"-").concat(K0(Ef+ft+em[ft]));return lt?"".concat(lt,"-").concat(C):C}(t.displayName,t.parentComponentId):m,E=t.displayName,S=E===void 0?function(ut){return tm(ut)?"styled.".concat(ut):"Styled(".concat(hI(ut),")")}(r):E,w=t.displayName&&t.componentId?"".concat(ME(t.displayName),"-").concat(t.componentId):t.componentId||g,M=s&&o.attrs?o.attrs.concat(p).filter(Boolean):p,U=t.shouldForwardProp;if(s&&o.shouldForwardProp){var G=o.shouldForwardProp;if(t.shouldForwardProp){var H=t.shouldForwardProp;U=function(ut,lt){return G(ut,lt)&&H(ut,lt)}}else U=G}var J=new UI(n,w,s?o.componentStyle:void 0);function X(ut,lt){return function(ft,C,b){var R=ft.attrs,x=ft.componentStyle,V=ft.defaultProps,k=ft.foldedComponentIds,D=ft.styledComponentId,De=ft.target,ae=Jn.useContext(vu),K=Am(),ot=ft.shouldForwardProp||K.shouldForwardProp,pt=H0(C,ae,V)||So,Ct=function(Rt,_t,ce){for(var qt,Le=Ge(Ge({},_t),{className:void 0,theme:ce}),Nn=0;Nn<Rt.length;Nn+=1){var dn=ra(qt=Rt[Nn])?qt(Le):qt;for(var tn in dn)Le[tn]=tn==="className"?Zs(Le[tn],dn[tn]):tn==="style"?Ge(Ge({},Le[tn]),dn[tn]):dn[tn]}return _t.className&&(Le.className=Zs(Le.className,_t.className)),Le}(R,C,pt),N=Ct.as||De,et={};for(var st in Ct)Ct[st]===void 0||st[0]==="$"||st==="as"||st==="theme"&&Ct.theme===pt||(st==="forwardedAs"?et.as=Ct.forwardedAs:ot&&!ot(st,N)||(et[st]=Ct[st]));var it=function(Rt,_t){var ce=Am(),qt=Rt.generateAndInjectStyles(_t,ce.styleSheet,ce.stylis);return qt}(x,Ct),mt=Zs(k,D);return it&&(mt+=" "+it),Ct.className&&(mt+=" "+Ct.className),et[tm(N)&&!F0.has(N)?"class":"className"]=mt,b&&(et.ref=b),F.createElement(N,et)}(nt,ut,lt)}X.displayName=S;var nt=Jn.forwardRef(X);return nt.attrs=M,nt.componentStyle=J,nt.displayName=S,nt.shouldForwardProp=U,nt.foldedComponentIds=s?Zs(o.foldedComponentIds,o.styledComponentId):"",nt.styledComponentId=w,nt.target=s?o.target:r,Object.defineProperty(nt,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ut){this._foldedDefaultProps=s?function(lt){for(var ft=[],C=1;C<arguments.length;C++)ft[C-1]=arguments[C];for(var b=0,R=ft;b<R.length;b++)Tm(lt,R[b],!0);return lt}({},o.defaultProps,ut):ut}}),hg(nt,function(){return".".concat(nt.styledComponentId)}),u&&W0(nt,r,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),nt}function jE(r,t){for(var n=[r[0]],s=0,o=t.length;s<o;s+=1)n.push(t[s],r[s+1]);return n}var qE=function(r){return Object.assign(r,{isCss:!0})};function iS(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ra(r)||_u(r))return qE(Ji(jE(Tf,yu([r],t,!0))));var s=r;return t.length===0&&s.length===1&&typeof s[0]=="string"?Ji(s):qE(Ji(jE(s,t)))}function wm(r,t,n){if(n===void 0&&(n=So),!t)throw ia(1,t);var s=function(o){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];return r(t,n,iS.apply(void 0,yu([o],u,!1)))};return s.attrs=function(o){return wm(r,t,Ge(Ge({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},s.withConfig=function(o){return wm(r,t,Ge(Ge({},n),o))},s}var sS=function(r){return wm(BI,r)},It=sS;F0.forEach(function(r){It[r]=sS(r)});var jI=function(){function r(t,n){this.rules=t,this.componentId=n,this.isStatic=rS(t),Kh.registerId(this.componentId+1)}return r.prototype.createStyles=function(t,n,s,o){var u=o(Em(Ji(this.rules,n,s,o)),""),f=this.componentId+t;s.insertRules(f,f,u)},r.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},r.prototype.renderStyles=function(t,n,s,o){t>2&&Kh.registerId(this.componentId+t),this.removeStyles(t,s),this.createStyles(t,n,s,o)},r}();function qI(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var s=iS.apply(void 0,yu([r],t,!1)),o="sc-global-".concat(K0(JSON.stringify(s))),u=new jI(s,o),f=function(m){var g=Am(),E=Jn.useContext(vu),S=Jn.useRef(g.styleSheet.allocateGSInstance(o)).current;return g.styleSheet.server&&p(S,m,g.styleSheet,E,g.stylis),Jn.useLayoutEffect(function(){if(!g.styleSheet.server)return p(S,m,g.styleSheet,E,g.stylis),function(){return u.removeStyles(S,g.styleSheet)}},[S,m,g.styleSheet,E,g.stylis]),null};function p(m,g,E,S,w){if(u.isStatic)u.renderStyles(m,oI,E,w);else{var M=Ge(Ge({},g),{theme:H0(g,S,f.defaultProps)});u.renderStyles(m,M,E,w)}}return Jn.memo(f)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=()=>{};var HE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},FI=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},oS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,E=u>>2,S=(u&3)<<4|p>>4;let w=(p&15)<<2|g>>6,M=g&63;m||(M=64,f||(w=64)),s.push(n[E],n[S],n[w],n[M])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(aS(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):FI(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||g==null||S==null)throw new GI;const w=u<<2|p>>4;if(s.push(w),g!==64){const M=p<<4&240|g>>2;if(s.push(M),S!==64){const U=g<<6&192|S;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class GI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $I=function(r){const t=aS(r);return oS.encodeByteArray(t,!0)},Qh=function(r){return $I(r).replace(/\./g,"")},lS=function(r){try{return oS.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=()=>KI().__FIREBASE_DEFAULTS__,YI=()=>{if(typeof process>"u"||typeof HE>"u")return;const r=HE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},XI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&lS(r[1]);return t&&JSON.parse(t)},Sf=()=>{try{return HI()||QI()||YI()||XI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},uS=r=>{var t,n;return(n=(t=Sf())==null?void 0:t.emulatorHosts)==null?void 0:n[r]},WI=r=>{const t=uS(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},cS=()=>{var r;return(r=Sf())==null?void 0:r.config},hS=r=>{var t;return(t=Sf())==null?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fS(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Qh(JSON.stringify(n)),Qh(JSON.stringify(f)),""].join(".")}const cu={};function tC(){const r={prod:[],emulator:[]};for(const t of Object.keys(cu))cu[t]?r.emulator.push(t):r.prod.push(t);return r}function eC(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let FE=!1;function dS(r,t){if(typeof window>"u"||typeof document>"u"||!ko(window.location.host)||cu[r]===t||cu[r]||FE)return;cu[r]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=tC().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,M){w.setAttribute("width","24"),w.setAttribute("id",M),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{FE=!0,f()},w}function E(w,M){w.setAttribute("id",M),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=eC(s),M=n("text"),U=document.getElementById(M)||document.createElement("span"),G=n("learnmore"),H=document.getElementById(G)||document.createElement("a"),J=n("preprendIcon"),X=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const nt=w.element;p(nt),E(H,G);const ut=g();m(X,J),nt.append(X,U,H,ut),document.body.appendChild(nt)}u?(U.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function rC(){var t;const r=(t=Sf())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function aC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oC(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lC(){return!rC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uC(){try{return typeof indexedDB=="object"}catch{return!1}}function cC(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="FirebaseError";class gi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=hC,Object.setPrototypeOf(this,gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xu.prototype.create)}}class xu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?fC(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new gi(o,p,s)}}function fC(r,t){return r.replace(dC,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const dC=/\{\$([^}]+)}/g;function pC(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function sa(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(GE(u)&&GE(f)){if(!sa(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function GE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function ru(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function iu(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function mC(r,t){const n=new gC(r,t);return n.subscribe.bind(n)}class gC{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");yC(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=nm),o.error===void 0&&(o.error=nm),o.complete===void 0&&(o.complete=nm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yC(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(r){return r&&r._delegate?r._delegate:r}class aa{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new ZI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(EC(t))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ws){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ws){return this.instances.has(t)}getOptions(t=Ws){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vC(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ws){return this.component?this.component.multipleInstances?t:Ws:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vC(r){return r===Ws?void 0:r}function EC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new _C(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const SC={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},AC=Pt.INFO,wC={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},bC=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=wC[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fg{constructor(t){this.name=t,this._logLevel=AC,this._logHandler=bC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?SC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const RC=(r,t)=>t.some(n=>r instanceof n);let $E,KE;function IC(){return $E||($E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CC(){return KE||(KE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pS=new WeakMap,bm=new WeakMap,mS=new WeakMap,rm=new WeakMap,dg=new WeakMap;function DC(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ts(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&pS.set(n,r)}).catch(()=>{}),dg.set(t,r),t}function NC(r){if(bm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});bm.set(r,t)}let Rm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return bm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||mS.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ts(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function OC(r){Rm=r(Rm)}function xC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(im(this),t,...n);return mS.set(s,t.sort?t.sort():[t]),ts(s)}:CC().includes(r)?function(...t){return r.apply(im(this),t),ts(pS.get(this))}:function(...t){return ts(r.apply(im(this),t))}}function MC(r){return typeof r=="function"?xC(r):(r instanceof IDBTransaction&&NC(r),RC(r,IC())?new Proxy(r,Rm):r)}function ts(r){if(r instanceof IDBRequest)return DC(r);if(rm.has(r))return rm.get(r);const t=MC(r);return t!==r&&(rm.set(r,t),dg.set(t,r)),t}const im=r=>dg.get(r);function VC(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),p=ts(f);return s&&f.addEventListener("upgradeneeded",m=>{s(ts(f.result),m.oldVersion,m.newVersion,ts(f.transaction),m)}),n&&f.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const PC=["get","getKey","getAll","getAllKeys","count"],kC=["put","add","delete","clear"],sm=new Map;function QE(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(sm.get(t))return sm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=kC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||PC.includes(n)))return;const u=async function(f,...p){const m=this.transaction(f,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&m.done]))[0]};return sm.set(t,u),u}OC(r=>({...r,get:(t,n,s)=>QE(t,n)||r.get(t,n,s),has:(t,n)=>!!QE(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function UC(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Im="@firebase/app",YE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new fg("@firebase/app"),zC="@firebase/app-compat",BC="@firebase/analytics-compat",jC="@firebase/analytics",qC="@firebase/app-check-compat",HC="@firebase/app-check",FC="@firebase/auth",GC="@firebase/auth-compat",$C="@firebase/database",KC="@firebase/data-connect",QC="@firebase/database-compat",YC="@firebase/functions",XC="@firebase/functions-compat",WC="@firebase/installations",ZC="@firebase/installations-compat",JC="@firebase/messaging",tD="@firebase/messaging-compat",eD="@firebase/performance",nD="@firebase/performance-compat",rD="@firebase/remote-config",iD="@firebase/remote-config-compat",sD="@firebase/storage",aD="@firebase/storage-compat",oD="@firebase/firestore",lD="@firebase/ai",uD="@firebase/firestore-compat",cD="firebase",hD="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="[DEFAULT]",fD={[Im]:"fire-core",[zC]:"fire-core-compat",[jC]:"fire-analytics",[BC]:"fire-analytics-compat",[HC]:"fire-app-check",[qC]:"fire-app-check-compat",[FC]:"fire-auth",[GC]:"fire-auth-compat",[$C]:"fire-rtdb",[KC]:"fire-data-connect",[QC]:"fire-rtdb-compat",[YC]:"fire-fn",[XC]:"fire-fn-compat",[WC]:"fire-iid",[ZC]:"fire-iid-compat",[JC]:"fire-fcm",[tD]:"fire-fcm-compat",[eD]:"fire-perf",[nD]:"fire-perf-compat",[rD]:"fire-rc",[iD]:"fire-rc-compat",[sD]:"fire-gcs",[aD]:"fire-gcs-compat",[oD]:"fire-fst",[uD]:"fire-fst-compat",[lD]:"fire-vertex","fire-js":"fire-js",[cD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Map,dD=new Map,Dm=new Map;function XE(r,t){try{r.container.addComponent(t)}catch(n){fi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ao(r){const t=r.name;if(Dm.has(t))return fi.debug(`There were multiple attempts to register component ${t}.`),!1;Dm.set(t,r);for(const n of Yh.values())XE(n,r);for(const n of dD.values())XE(n,r);return!0}function pg(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Fn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new xu("app","Firebase",pD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=hD;function gS(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Cm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw es.create("bad-app-name",{appName:String(o)});if(n||(n=cS()),!n)throw es.create("no-options");const u=Yh.get(o);if(u){if(sa(n,u.options)&&sa(s,u.config))return u;throw es.create("duplicate-app",{appName:o})}const f=new TC(o);for(const m of Dm.values())f.addComponent(m);const p=new mD(n,s,f);return Yh.set(o,p),p}function yS(r=Cm){const t=Yh.get(r);if(!t&&r===Cm&&cS())return gS();if(!t)throw es.create("no-app",{appName:r});return t}function ns(r,t,n){let s=fD[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fi.warn(f.join(" "));return}Ao(new aa(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="firebase-heartbeat-database",yD=1,Eu="firebase-heartbeat-store";let am=null;function _S(){return am||(am=VC(gD,yD,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Eu)}catch(n){console.warn(n)}}}}).catch(r=>{throw es.create("idb-open",{originalErrorMessage:r.message})})),am}async function _D(r){try{const n=(await _S()).transaction(Eu),s=await n.objectStore(Eu).get(vS(r));return await n.done,s}catch(t){if(t instanceof gi)fi.warn(t.message);else{const n=es.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});fi.warn(n.message)}}}async function WE(r,t){try{const s=(await _S()).transaction(Eu,"readwrite");await s.objectStore(Eu).put(t,vS(r)),await s.done}catch(n){if(n instanceof gi)fi.warn(n.message);else{const s=es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fi.warn(s.message)}}}function vS(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=1024,ED=30;class TD{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=ZE();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>ED){const f=wD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){fi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ZE(),{heartbeatsToSend:s,unsentEntries:o}=SD(this._heartbeatsCache.heartbeats),u=Qh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return fi.warn(n),""}}}function ZE(){return new Date().toISOString().substring(0,10)}function SD(r,t=vD){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),JE(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),JE(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class AD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uC()?cC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _D(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return WE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return WE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function JE(r){return Qh(JSON.stringify({version:2,heartbeats:r})).length}function wD(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(r){Ao(new aa("platform-logger",t=>new LC(t),"PRIVATE")),Ao(new aa("heartbeat",t=>new TD(t),"PRIVATE")),ns(Im,YE,r),ns(Im,YE,"esm2020"),ns("fire-js","")}bD("");function ES(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RD=ES,TS=new xu("auth","Firebase",ES());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new fg("@firebase/auth");function ID(r,...t){Xh.logLevel<=Pt.WARN&&Xh.warn(`Auth (${Lo}): ${r}`,...t)}function Mh(r,...t){Xh.logLevel<=Pt.ERROR&&Xh.error(`Auth (${Lo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(r,...t){throw mg(r,...t)}function br(r,...t){return mg(r,...t)}function SS(r,t,n){const s={...RD(),[t]:n};return new xu("auth","Firebase",s).create(t,{appName:r.name})}function ui(r){return SS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mg(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return TS.create(r,...t)}function Tt(r,t,...n){if(!r)throw mg(t,...n)}function ai(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Mh(t),new Error(t)}function di(r,t){r||ai(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function CD(){return tT()==="http:"||tT()==="https:"}function tT(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CD()||sC()||"connection"in navigator)?navigator.onLine:!0}function ND(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(t,n){this.shortDelay=t,this.longDelay=n,di(n>t,"Short delay should be less than long delay!"),this.isMobile=nC()||aC()}get(){return DD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(r,t){di(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MD=new Vu(3e4,6e4);function fs(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function yi(r,t,n,s,o={}){return wS(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const p=Mu({key:r.config.apiKey,...f}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g={method:t,headers:m,...u};return iC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ko(r.emulatorConfig.host)&&(g.credentials="include"),AS.fetch()(await bS(r,r.config.apiHost,n,p),g)})}async function wS(r,t,n){r._canInitEmulator=!1;const s={...OD,...t};try{const o=new PD(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw vh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw vh(r,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw vh(r,"email-already-in-use",f);if(m==="USER_DISABLED")throw vh(r,"user-disabled",f);const E=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw SS(r,E,g);ir(r,E)}}catch(o){if(o instanceof gi)throw o;ir(r,"network-request-failed",{message:String(o)})}}async function Pu(r,t,n,s,o={}){const u=await yi(r,t,n,s,o);return"mfaPendingCredential"in u&&ir(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function bS(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?gg(r.config,o):`${r.config.apiScheme}://${o}`;return xD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function VD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(br(this.auth,"network-request-failed")),MD.get())})}}function vh(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=br(r,t,s);return o.customData._tokenResponse=n,o}function eT(r){return r!==void 0&&r.enterprise!==void 0}class kD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return VD(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LD(r,t){return yi(r,"GET","/v2/recaptchaConfig",fs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(r,t){return yi(r,"POST","/v1/accounts:delete",t)}async function Wh(r,t){return yi(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function zD(r,t=!1){const n=ke(r),s=await n.getIdToken(t),o=yg(s);Tt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:hu(om(o.auth_time)),issuedAtTime:hu(om(o.iat)),expirationTime:hu(om(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function om(r){return Number(r)*1e3}function yg(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=lS(n);return o?JSON.parse(o):(Mh("Failed to decode base64 JWT payload"),null)}catch(o){return Mh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function nT(r){const t=yg(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof gi&&BD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function BD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(r){var S;const t=r.auth,n=await r.getIdToken(),s=await wo(r,Wh(t,{idToken:n}));Tt(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(S=o.providerUserInfo)!=null&&S.length?RS(o.providerUserInfo):[],f=HD(r.providerData,u),p=r.isAnonymous,m=!(r.email&&o.passwordHash)&&!(f!=null&&f.length),g=p?m:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Om(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function qD(r){const t=ke(r);await Zh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function HD(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function RS(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(r,t){const n=await wS(r,{},async()=>{const s=Mu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await bS(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:s};return r.emulatorConfig&&ko(r.emulatorConfig.host)&&(m.credentials="include"),AS.fetch()(f,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GD(r,t){return yi(r,"POST","/v2/accounts:revokeToken",fs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):nT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=nT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await FD(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new po;return s&&(Tt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Tt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Tt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class tr{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new jD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Om(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await wo(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return zD(this,t)}reload(){return qD(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new tr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Zh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(ui(this.auth));const t=await this.getIdToken();return await wo(this,UD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:M,providerData:U,stsTokenManager:G}=n;Tt(S&&G,t,"internal-error");const H=po.fromJSON(this.name,G);Tt(typeof S=="string",t,"internal-error"),$i(s,t.name),$i(o,t.name),Tt(typeof w=="boolean",t,"internal-error"),Tt(typeof M=="boolean",t,"internal-error"),$i(u,t.name),$i(f,t.name),$i(p,t.name),$i(m,t.name),$i(g,t.name),$i(E,t.name);const J=new tr({uid:S,auth:t,email:o,emailVerified:w,displayName:s,isAnonymous:M,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:H,createdAt:g,lastLoginAt:E});return U&&Array.isArray(U)&&(J.providerData=U.map(X=>({...X}))),m&&(J._redirectEventId=m),J}static async _fromIdTokenResponse(t,n,s=!1){const o=new po;o.updateFromServerResponse(n);const u=new tr({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Zh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Tt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?RS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new po;p.updateFromIdToken(s);const m=new tr({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=new Map;function oi(r){di(r instanceof Function,"Expected a class definition");let t=rT.get(r);return t?(di(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,rT.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}IS.type="NONE";const iT=IS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(r,t,n){return`firebase:${r}:${t}:${n}`}class mo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Vh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Vh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Wh(this.auth,{idToken:t}).catch(()=>{});return n?tr._fromGetAccountInfoResponse(this.auth,n,t):null}return tr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new mo(oi(iT),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||oi(iT);const f=Vh(s,t.config.apiKey,t.name);let p=null;for(const g of n)try{const E=await g._get(f);if(E){let S;if(typeof E=="string"){const w=await Wh(t,{idToken:E}).catch(()=>{});if(!w)break;S=await tr._fromGetAccountInfoResponse(t,w,E)}else S=tr._fromJSON(t,E);g!==u&&(p=S),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new mo(u,t,s):(u=m[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new mo(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(OS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(CS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(MS(t))return"Blackberry";if(VS(t))return"Webos";if(DS(t))return"Safari";if((t.includes("chrome/")||NS(t))&&!t.includes("edge/"))return"Chrome";if(xS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function CS(r=ln()){return/firefox\//i.test(r)}function DS(r=ln()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function NS(r=ln()){return/crios\//i.test(r)}function OS(r=ln()){return/iemobile/i.test(r)}function xS(r=ln()){return/android/i.test(r)}function MS(r=ln()){return/blackberry/i.test(r)}function VS(r=ln()){return/webos/i.test(r)}function _g(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function $D(r=ln()){var t;return _g(r)&&!!((t=window.navigator)!=null&&t.standalone)}function KD(){return oC()&&document.documentMode===10}function PS(r=ln()){return _g(r)||xS(r)||VS(r)||MS(r)||/windows phone/i.test(r)||OS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(r,t=[]){let n;switch(r){case"Browser":n=sT(ln());break;case"Worker":n=`${sT(ln())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,p)=>{try{const m=t(u);f(m)}catch(m){p(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(r,t={}){return yi(r,"GET","/v2/passwordPolicy",fs(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=6;class WD{constructor(t){var s;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??XD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=t.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aT(this),this.idTokenSubscription=new aT(this),this.beforeStateQueue=new QD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=oi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await mo.create(this,t),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Wh(this,{idToken:t}),s=await tr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(Fn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,p=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(t);(!f||f===p)&&(m!=null&&m.user)&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Zh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ND()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Fn(this.app))return Promise.reject(ui(this));const n=t?ke(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Fn(this.app)?Promise.reject(ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await YD(this),n=new WD(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new xu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await GD(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&oi(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,s,o);return()=>{f=!0,m()}}else{const m=t.addObserver(n);return()=>{f=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var n;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&ID(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ha(r){return ke(r)}class aT{constructor(t){this.auth=t,this.observer=null,this.addObserver=mC(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JD(r){Af=r}function LS(r){return Af.loadJS(r)}function tN(){return Af.recaptchaEnterpriseScript}function eN(){return Af.gapiScript}function nN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class rN{constructor(){this.enterprise=new iN}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class iN{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const sN="recaptcha-enterprise",US="NO_RECAPTCHA";class aN{constructor(t){this.type=sN,this.auth=ha(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{LD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new kD(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(m=>{p(m)})})}function o(u,f,p){const m=window.grecaptcha;eT(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(US)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rN().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&eT(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=tN();m.length!==0&&(m+=p),LS(m).then(()=>{o(p,u,f)}).catch(g=>{f(g)})}}).catch(p=>{f(p)})})}}async function oT(r,t,n,s=!1,o=!1){const u=new aN(r);let f;if(o)f=US;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function xm(r,t,n,s,o){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await oT(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await oT(r,t,n,n==="getOobCode");return s(r,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(r,t){const n=pg(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(sa(u,t??{}))return o;ir(o,"already-initialized")}return n.initialize({options:t})}function lN(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(oi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function uN(r,t,n){const s=ha(r);Tt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=zS(t),{host:f,port:p}=cN(t),m=p===null?"":`:${p}`,g={url:`${u}//${f}${m}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(sa(g,s.config.emulator)&&sa(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ko(f)?(fS(`${u}//${f}${m}`),dS("Auth",!0)):hN()}function zS(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function cN(r){const t=zS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:lT(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:lT(f)}}}function lT(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function hN(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ai("not implemented")}_getIdTokenResponse(t){return ai("not implemented")}_linkToIdToken(t,n){return ai("not implemented")}_getReauthenticationResolver(t){return ai("not implemented")}}async function fN(r,t){return yi(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(r,t){return Pu(r,"POST","/v1/accounts:signInWithPassword",fs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(r,t){return Pu(r,"POST","/v1/accounts:signInWithEmailLink",fs(r,t))}async function mN(r,t){return Pu(r,"POST","/v1/accounts:signInWithEmailLink",fs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends vg{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Tu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Tu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xm(t,n,"signInWithPassword",dN);case"emailLink":return pN(t,{email:this._email,oobCode:this._password});default:ir(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xm(t,s,"signUpPassword",fN);case"emailLink":return mN(t,{idToken:n,email:this._email,oobCode:this._password});default:ir(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(r,t){return Pu(r,"POST","/v1/accounts:signInWithIdp",fs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="http://localhost";class oa extends vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new oa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new oa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return go(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,go(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,go(t,n)}buildRequest(){const t={requestUri:gN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Mu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _N(r){const t=ru(iu(r)).link,n=t?ru(iu(t)).deep_link_id:null,s=ru(iu(r)).deep_link_id;return(s?ru(iu(s)).link:null)||s||n||t||r}class Eg{constructor(t){const n=ru(iu(t)),s=n.apiKey??null,o=n.oobCode??null,u=yN(n.mode??null);Tt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=_N(t);try{return new Eg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.providerId=Uo.PROVIDER_ID}static credential(t,n){return Tu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Eg.parseLink(n);return Tt(s,"argument-error"),Tu._fromEmailAndCode(t,s.code,s.tenantId)}}Uo.PROVIDER_ID="password";Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends BS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends ku{constructor(){super("facebook.com")}static credential(t){return oa._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qi.credentialFromTaggedObject(t)}static credentialFromError(t){return Qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qi.credential(t.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return oa._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Yi.credentialFromTaggedObject(t)}static credentialFromError(t){return Yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Yi.credential(n,s)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends ku{constructor(){super("github.com")}static credential(t){return oa._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xi.credentialFromTaggedObject(t)}static credentialFromError(t){return Xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xi.credential(t.oauthAccessToken)}catch{return null}}}Xi.GITHUB_SIGN_IN_METHOD="github.com";Xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends ku{constructor(){super("twitter.com")}static credential(t,n){return oa._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Wi.credentialFromTaggedObject(t)}static credentialFromError(t){return Wi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Wi.credential(n,s)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(r,t){return Pu(r,"POST","/v1/accounts:signUp",fs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await tr._fromIdTokenResponse(t,s,o),f=uT(s);return new la({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=uT(s);return new la({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function uT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends gi{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Jh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Jh(t,n,s,o)}}function jS(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Jh._fromErrorAndOperation(r,u,t,s):u})}async function EN(r,t,n=!1){const s=await wo(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return la._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(r,t,n=!1){const{auth:s}=r;if(Fn(s.app))return Promise.reject(ui(s));const o="reauthenticate";try{const u=await wo(r,jS(s,o,t,r),n);Tt(u.idToken,s,"internal-error");const f=yg(u.idToken);Tt(f,s,"internal-error");const{sub:p}=f;return Tt(r.uid===p,s,"user-mismatch"),la._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ir(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qS(r,t,n=!1){if(Fn(r.app))return Promise.reject(ui(r));const s="signIn",o=await jS(r,s,t),u=await la._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function SN(r,t){return qS(ha(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HS(r){const t=ha(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function AN(r,t,n){if(Fn(r.app))return Promise.reject(ui(r));const s=ha(r),f=await xm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vN).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&HS(r),m}),p=await la._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function wN(r,t,n){return Fn(r.app)?Promise.reject(ui(r)):SN(ke(r),Uo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&HS(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(r,t){return yi(r,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(r,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const s=ke(r),u={idToken:await s.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},f=await wo(s,bN(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const p=s.providerData.find(({providerId:m})=>m==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function IN(r,t,n,s){return ke(r).onIdTokenChanged(t,n,s)}function CN(r,t,n){return ke(r).beforeAuthStateChanged(t,n)}function Tg(r,t,n,s){return ke(r).onAuthStateChanged(t,n,s)}function DN(r){return ke(r).signOut()}const tf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tf,"1"),this.storage.removeItem(tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=1e3,ON=10;class GS extends FS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,p,m)=>{this.notifyListeners(f,m)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);KD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,ON):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},NN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}GS.type="LOCAL";const xN=GS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S extends FS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}$S.type="SESSION";const KS=$S;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new wf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async g=>g(n.origin,u)),m=await MN(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,m)=>{const g=Sg("",20);o.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(w.data.response);break;default:clearTimeout(E),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return window}function PN(r){Rr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(){return typeof Rr().WorkerGlobalScope<"u"&&typeof Rr().importScripts=="function"}async function kN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function UN(){return QS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="firebaseLocalStorageDb",zN=1,ef="firebaseLocalStorage",XS="fbase_key";class Lu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bf(r,t){return r.transaction([ef],t?"readwrite":"readonly").objectStore(ef)}function BN(){const r=indexedDB.deleteDatabase(YS);return new Lu(r).toPromise()}function Mm(){const r=indexedDB.open(YS,zN);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ef,{keyPath:XS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ef)?t(s):(s.close(),await BN(),t(await Mm()))})})}async function cT(r,t,n){const s=bf(r,!0).put({[XS]:t,value:n});return new Lu(s).toPromise()}async function jN(r,t){const n=bf(r,!1).get(t),s=await new Lu(n).toPromise();return s===void 0?null:s.value}function hT(r,t){const n=bf(r,!0).delete(t);return new Lu(n).toPromise()}const qN=800,HN=3;class WS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>HN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wf._getInstance(UN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await kN(),!this.activeServiceWorker)return;this.sender=new VN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(s=t[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||LN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Mm();return await cT(t,tf,"1"),await hT(t,tf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>cT(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>jN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>hT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=bf(o,!1).getAll();return new Lu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WS.type="LOCAL";const FN=WS;new Vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(r,t){return t?oi(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends vg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return go(t,this._buildIdpRequest())}_linkToIdToken(t,n){return go(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return go(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function $N(r){return qS(r.auth,new Ag(r),r.bypassAuthState)}function KN(r){const{auth:t,user:n}=r;return Tt(n,t,"internal-error"),TN(n,new Ag(r),r.bypassAuthState)}async function QN(r){const{auth:t,user:n}=r;return Tt(n,t,"internal-error"),EN(n,new Ag(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=t;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return $N;case"linkViaPopup":case"linkViaRedirect":return QN;case"reauthViaPopup":case"reauthViaRedirect":return KN;default:ir(this.auth,"internal-error")}}resolve(t){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=new Vu(2e3,1e4);class fo extends ZS{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const t=Sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,YN.get())};t()}}fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="pendingRedirect",Ph=new Map;class WN extends ZS{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Ph.get(this.auth._key());if(!t){try{const s=await ZN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Ph.set(this.auth._key(),t)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZN(r,t){const n=eO(t),s=tO(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function JN(r,t){Ph.set(r._key(),t)}function tO(r){return oi(r._redirectPersistence)}function eO(r){return Vh(XN,r.config.apiKey,r.name)}async function nO(r,t,n=!1){if(Fn(r.app))return Promise.reject(ui(r));const s=ha(r),o=GN(s,t),f=await new WN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=600*1e3;class iO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!sO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!JS(t)){const o=((s=t.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(br(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=rO&&this.cachedEventUids.clear(),this.cachedEventUids.has(fT(t))}saveEventToCache(t){this.cachedEventUids.add(fT(t)),this.lastProcessedEventTime=Date.now()}}function fT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function JS({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function sO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(r,t={}){return yi(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lO=/^https?/;async function uO(r){if(r.config.emulator)return;const{authorizedDomains:t}=await aO(r);for(const n of t)try{if(cO(n))return}catch{}ir(r,"unauthorized-domain")}function cO(r){const t=Nm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!lO.test(n))return!1;if(oO.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new Vu(3e4,6e4);function dT(){const r=Rr().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function fO(r){return new Promise((t,n)=>{var o,u,f;function s(){dT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dT(),n(br(r,"network-request-failed"))},timeout:hO.get()})}if((u=(o=Rr().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((f=Rr().gapi)!=null&&f.load)s();else{const p=nN("iframefcb");return Rr()[p]=()=>{gapi.load?s():n(br(r,"network-request-failed"))},LS(`${eN()}?onload=${p}`).catch(m=>n(m))}}).catch(t=>{throw kh=null,t})}let kh=null;function dO(r){return kh=kh||fO(r),kh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=new Vu(5e3,15e3),mO="__/auth/iframe",gO="emulator/auth/iframe",yO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_O=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vO(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?gg(t,gO):`https://${r.config.authDomain}/${mO}`,s={apiKey:t.apiKey,appName:r.name,v:Lo},o=_O.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Mu(s).slice(1)}`}async function EO(r){const t=await dO(r),n=Rr().gapi;return Tt(n,r,"internal-error"),t.open({where:document.body,url:vO(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=br(r,"network-request-failed"),p=Rr().setTimeout(()=>{u(f)},pO.get());function m(){Rr().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SO=500,AO=600,wO="_blank",bO="http://localhost";class pT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RO(r,t,n,s=SO,o=AO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m={...TO,width:s.toString(),height:o.toString(),top:u,left:f},g=ln().toLowerCase();n&&(p=NS(g)?wO:n),CS(g)&&(t=t||bO,m.scrollbars="yes");const E=Object.entries(m).reduce((w,[M,U])=>`${w}${M}=${U},`,"");if($D(g)&&p!=="_self")return IO(t||"",p),new pT(null);const S=window.open(t||"",p,E);Tt(S,r,"popup-blocked");try{S.focus()}catch{}return new pT(S)}function IO(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="__/auth/handler",DO="emulator/auth/handler",NO=encodeURIComponent("fac");async function mT(r,t,n,s,o,u){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Lo,eventId:o};if(t instanceof BS){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",pC(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(t instanceof ku){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const m=await r._getAppCheckToken(),g=m?`#${NO}=${encodeURIComponent(m)}`:"";return`${OO(r)}?${Mu(p).slice(1)}${g}`}function OO({config:r}){return r.emulator?gg(r,DO):`https://${r.authDomain}/${CO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="webStorageSupport";class xO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KS,this._completeRedirectFn=nO,this._overrideRedirectResult=JN}async _openPopup(t,n,s,o){var f;di((f=this.eventManagers[t._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await mT(t,n,s,Nm(),o);return RO(t,u,Sg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await mT(t,n,s,Nm(),o);return PN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(di(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await EO(t),s=new iO(t);return n.register("authEvent",o=>(Tt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(lm,{type:lm},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[lm];u!==void 0&&n(!!u),ir(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return PS()||DS()||_g()}}const MO=xO;var gT="@firebase/auth",yT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kO(r){Ao(new aa("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;Tt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kS(r)},g=new ZD(s,o,u,m);return lN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ao(new aa("auth-internal",t=>{const n=ha(t.getProvider("auth").getImmediate());return(s=>new VO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ns(gT,yT,PO(r)),ns(gT,yT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=300,UO=hS("authIdTokenMaxAge")||LO;let _T=null;const zO=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>UO)return;const o=n==null?void 0:n.token;_T!==o&&(_T=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function BO(r=yS()){const t=pg(r,"auth");if(t.isInitialized())return t.getImmediate();const n=oN(r,{popupRedirectResolver:MO,persistence:[FN,xN,KS]}),s=hS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=zO(u.toString());CN(n,f,()=>f(n.currentUser)),IN(n,p=>f(p))}}const o=uS("auth");return o&&uN(n,`http://${o}`),n}function jO(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}JD({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=br("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",jO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kO("Browser");var qO="firebase",HO="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns(qO,HO,"app");var vT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rs,t1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,b){function R(){}R.prototype=b.prototype,C.D=b.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(x,V,k){for(var D=Array(arguments.length-2),De=2;De<arguments.length;De++)D[De-2]=arguments[De];return b.prototype[V].apply(x,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,b,R){R||(R=0);var x=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)x[V]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(V=0;16>V;++V)x[V]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=C.g[0],R=C.g[1],V=C.g[2];var k=C.g[3],D=b+(k^R&(V^k))+x[0]+3614090360&4294967295;b=R+(D<<7&4294967295|D>>>25),D=k+(V^b&(R^V))+x[1]+3905402710&4294967295,k=b+(D<<12&4294967295|D>>>20),D=V+(R^k&(b^R))+x[2]+606105819&4294967295,V=k+(D<<17&4294967295|D>>>15),D=R+(b^V&(k^b))+x[3]+3250441966&4294967295,R=V+(D<<22&4294967295|D>>>10),D=b+(k^R&(V^k))+x[4]+4118548399&4294967295,b=R+(D<<7&4294967295|D>>>25),D=k+(V^b&(R^V))+x[5]+1200080426&4294967295,k=b+(D<<12&4294967295|D>>>20),D=V+(R^k&(b^R))+x[6]+2821735955&4294967295,V=k+(D<<17&4294967295|D>>>15),D=R+(b^V&(k^b))+x[7]+4249261313&4294967295,R=V+(D<<22&4294967295|D>>>10),D=b+(k^R&(V^k))+x[8]+1770035416&4294967295,b=R+(D<<7&4294967295|D>>>25),D=k+(V^b&(R^V))+x[9]+2336552879&4294967295,k=b+(D<<12&4294967295|D>>>20),D=V+(R^k&(b^R))+x[10]+4294925233&4294967295,V=k+(D<<17&4294967295|D>>>15),D=R+(b^V&(k^b))+x[11]+2304563134&4294967295,R=V+(D<<22&4294967295|D>>>10),D=b+(k^R&(V^k))+x[12]+1804603682&4294967295,b=R+(D<<7&4294967295|D>>>25),D=k+(V^b&(R^V))+x[13]+4254626195&4294967295,k=b+(D<<12&4294967295|D>>>20),D=V+(R^k&(b^R))+x[14]+2792965006&4294967295,V=k+(D<<17&4294967295|D>>>15),D=R+(b^V&(k^b))+x[15]+1236535329&4294967295,R=V+(D<<22&4294967295|D>>>10),D=b+(V^k&(R^V))+x[1]+4129170786&4294967295,b=R+(D<<5&4294967295|D>>>27),D=k+(R^V&(b^R))+x[6]+3225465664&4294967295,k=b+(D<<9&4294967295|D>>>23),D=V+(b^R&(k^b))+x[11]+643717713&4294967295,V=k+(D<<14&4294967295|D>>>18),D=R+(k^b&(V^k))+x[0]+3921069994&4294967295,R=V+(D<<20&4294967295|D>>>12),D=b+(V^k&(R^V))+x[5]+3593408605&4294967295,b=R+(D<<5&4294967295|D>>>27),D=k+(R^V&(b^R))+x[10]+38016083&4294967295,k=b+(D<<9&4294967295|D>>>23),D=V+(b^R&(k^b))+x[15]+3634488961&4294967295,V=k+(D<<14&4294967295|D>>>18),D=R+(k^b&(V^k))+x[4]+3889429448&4294967295,R=V+(D<<20&4294967295|D>>>12),D=b+(V^k&(R^V))+x[9]+568446438&4294967295,b=R+(D<<5&4294967295|D>>>27),D=k+(R^V&(b^R))+x[14]+3275163606&4294967295,k=b+(D<<9&4294967295|D>>>23),D=V+(b^R&(k^b))+x[3]+4107603335&4294967295,V=k+(D<<14&4294967295|D>>>18),D=R+(k^b&(V^k))+x[8]+1163531501&4294967295,R=V+(D<<20&4294967295|D>>>12),D=b+(V^k&(R^V))+x[13]+2850285829&4294967295,b=R+(D<<5&4294967295|D>>>27),D=k+(R^V&(b^R))+x[2]+4243563512&4294967295,k=b+(D<<9&4294967295|D>>>23),D=V+(b^R&(k^b))+x[7]+1735328473&4294967295,V=k+(D<<14&4294967295|D>>>18),D=R+(k^b&(V^k))+x[12]+2368359562&4294967295,R=V+(D<<20&4294967295|D>>>12),D=b+(R^V^k)+x[5]+4294588738&4294967295,b=R+(D<<4&4294967295|D>>>28),D=k+(b^R^V)+x[8]+2272392833&4294967295,k=b+(D<<11&4294967295|D>>>21),D=V+(k^b^R)+x[11]+1839030562&4294967295,V=k+(D<<16&4294967295|D>>>16),D=R+(V^k^b)+x[14]+4259657740&4294967295,R=V+(D<<23&4294967295|D>>>9),D=b+(R^V^k)+x[1]+2763975236&4294967295,b=R+(D<<4&4294967295|D>>>28),D=k+(b^R^V)+x[4]+1272893353&4294967295,k=b+(D<<11&4294967295|D>>>21),D=V+(k^b^R)+x[7]+4139469664&4294967295,V=k+(D<<16&4294967295|D>>>16),D=R+(V^k^b)+x[10]+3200236656&4294967295,R=V+(D<<23&4294967295|D>>>9),D=b+(R^V^k)+x[13]+681279174&4294967295,b=R+(D<<4&4294967295|D>>>28),D=k+(b^R^V)+x[0]+3936430074&4294967295,k=b+(D<<11&4294967295|D>>>21),D=V+(k^b^R)+x[3]+3572445317&4294967295,V=k+(D<<16&4294967295|D>>>16),D=R+(V^k^b)+x[6]+76029189&4294967295,R=V+(D<<23&4294967295|D>>>9),D=b+(R^V^k)+x[9]+3654602809&4294967295,b=R+(D<<4&4294967295|D>>>28),D=k+(b^R^V)+x[12]+3873151461&4294967295,k=b+(D<<11&4294967295|D>>>21),D=V+(k^b^R)+x[15]+530742520&4294967295,V=k+(D<<16&4294967295|D>>>16),D=R+(V^k^b)+x[2]+3299628645&4294967295,R=V+(D<<23&4294967295|D>>>9),D=b+(V^(R|~k))+x[0]+4096336452&4294967295,b=R+(D<<6&4294967295|D>>>26),D=k+(R^(b|~V))+x[7]+1126891415&4294967295,k=b+(D<<10&4294967295|D>>>22),D=V+(b^(k|~R))+x[14]+2878612391&4294967295,V=k+(D<<15&4294967295|D>>>17),D=R+(k^(V|~b))+x[5]+4237533241&4294967295,R=V+(D<<21&4294967295|D>>>11),D=b+(V^(R|~k))+x[12]+1700485571&4294967295,b=R+(D<<6&4294967295|D>>>26),D=k+(R^(b|~V))+x[3]+2399980690&4294967295,k=b+(D<<10&4294967295|D>>>22),D=V+(b^(k|~R))+x[10]+4293915773&4294967295,V=k+(D<<15&4294967295|D>>>17),D=R+(k^(V|~b))+x[1]+2240044497&4294967295,R=V+(D<<21&4294967295|D>>>11),D=b+(V^(R|~k))+x[8]+1873313359&4294967295,b=R+(D<<6&4294967295|D>>>26),D=k+(R^(b|~V))+x[15]+4264355552&4294967295,k=b+(D<<10&4294967295|D>>>22),D=V+(b^(k|~R))+x[6]+2734768916&4294967295,V=k+(D<<15&4294967295|D>>>17),D=R+(k^(V|~b))+x[13]+1309151649&4294967295,R=V+(D<<21&4294967295|D>>>11),D=b+(V^(R|~k))+x[4]+4149444226&4294967295,b=R+(D<<6&4294967295|D>>>26),D=k+(R^(b|~V))+x[11]+3174756917&4294967295,k=b+(D<<10&4294967295|D>>>22),D=V+(b^(k|~R))+x[2]+718787259&4294967295,V=k+(D<<15&4294967295|D>>>17),D=R+(k^(V|~b))+x[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+k&4294967295}s.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var R=b-this.blockSize,x=this.B,V=this.h,k=0;k<b;){if(V==0)for(;k<=R;)o(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<b;)if(x[V++]=C.charCodeAt(k++),V==this.blockSize){o(this,x),V=0;break}}else for(;k<b;)if(x[V++]=C[k++],V==this.blockSize){o(this,x),V=0;break}}this.h=V,this.o+=b},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var R=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=R&255,R/=256;for(this.u(C),C=Array(16),b=R=0;4>b;++b)for(var x=0;32>x;x+=8)C[R++]=this.g[b]>>>x&255;return C};function u(C,b){var R=p;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=b(C)}function f(C,b){this.h=b;for(var R=[],x=!0,V=C.length-1;0<=V;V--){var k=C[V]|0;x&&k==b||(R[V]=k,x=!1)}this.g=R}var p={};function m(C){return-128<=C&&128>C?u(C,function(b){return new f([b|0],0>b?-1:0)}):new f([C|0],0>C?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return S;if(0>C)return H(g(-C));for(var b=[],R=1,x=0;C>=R;x++)b[x]=C/R|0,R*=4294967296;return new f(b,0)}function E(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return H(E(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(b,8)),x=S,V=0;V<C.length;V+=8){var k=Math.min(8,C.length-V),D=parseInt(C.substring(V,V+k),b);8>k?(k=g(Math.pow(b,k)),x=x.j(k).add(g(D))):(x=x.j(R),x=x.add(g(D)))}return x}var S=m(0),w=m(1),M=m(16777216);r=f.prototype,r.m=function(){if(G(this))return-H(this).m();for(var C=0,b=1,R=0;R<this.g.length;R++){var x=this.i(R);C+=(0<=x?x:4294967296+x)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(U(this))return"0";if(G(this))return"-"+H(this).toString(C);for(var b=g(Math.pow(C,6)),R=this,x="";;){var V=ut(R,b).g;R=J(R,V.j(b));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=V,U(R))return k+x;for(;6>k.length;)k="0"+k;x=k+x}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function U(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function G(C){return C.h==-1}r.l=function(C){return C=J(this,C),G(C)?-1:U(C)?0:1};function H(C){for(var b=C.g.length,R=[],x=0;x<b;x++)R[x]=~C.g[x];return new f(R,~C.h).add(w)}r.abs=function(){return G(this)?H(this):this},r.add=function(C){for(var b=Math.max(this.g.length,C.g.length),R=[],x=0,V=0;V<=b;V++){var k=x+(this.i(V)&65535)+(C.i(V)&65535),D=(k>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);x=D>>>16,k&=65535,D&=65535,R[V]=D<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function J(C,b){return C.add(H(b))}r.j=function(C){if(U(this)||U(C))return S;if(G(this))return G(C)?H(this).j(H(C)):H(H(this).j(C));if(G(C))return H(this.j(H(C)));if(0>this.l(M)&&0>C.l(M))return g(this.m()*C.m());for(var b=this.g.length+C.g.length,R=[],x=0;x<2*b;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var V=0;V<C.g.length;V++){var k=this.i(x)>>>16,D=this.i(x)&65535,De=C.i(V)>>>16,ae=C.i(V)&65535;R[2*x+2*V]+=D*ae,X(R,2*x+2*V),R[2*x+2*V+1]+=k*ae,X(R,2*x+2*V+1),R[2*x+2*V+1]+=D*De,X(R,2*x+2*V+1),R[2*x+2*V+2]+=k*De,X(R,2*x+2*V+2)}for(x=0;x<b;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=b;x<2*b;x++)R[x]=0;return new f(R,0)};function X(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function nt(C,b){this.g=C,this.h=b}function ut(C,b){if(U(b))throw Error("division by zero");if(U(C))return new nt(S,S);if(G(C))return b=ut(H(C),b),new nt(H(b.g),H(b.h));if(G(b))return b=ut(C,H(b)),new nt(H(b.g),b.h);if(30<C.g.length){if(G(C)||G(b))throw Error("slowDivide_ only works with positive integers.");for(var R=w,x=b;0>=x.l(C);)R=lt(R),x=lt(x);var V=ft(R,1),k=ft(x,1);for(x=ft(x,2),R=ft(R,2);!U(x);){var D=k.add(x);0>=D.l(C)&&(V=V.add(R),k=D),x=ft(x,1),R=ft(R,1)}return b=J(C,V.j(b)),new nt(V,b)}for(V=S;0<=C.l(b);){for(R=Math.max(1,Math.floor(C.m()/b.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),k=g(R),D=k.j(b);G(D)||0<D.l(C);)R-=x,k=g(R),D=k.j(b);U(k)&&(k=w),V=V.add(k),C=J(C,D)}return new nt(V,C)}r.A=function(C){return ut(this,C).h},r.and=function(C){for(var b=Math.max(this.g.length,C.g.length),R=[],x=0;x<b;x++)R[x]=this.i(x)&C.i(x);return new f(R,this.h&C.h)},r.or=function(C){for(var b=Math.max(this.g.length,C.g.length),R=[],x=0;x<b;x++)R[x]=this.i(x)|C.i(x);return new f(R,this.h|C.h)},r.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),R=[],x=0;x<b;x++)R[x]=this.i(x)^C.i(x);return new f(R,this.h^C.h)};function lt(C){for(var b=C.g.length+1,R=[],x=0;x<b;x++)R[x]=C.i(x)<<1|C.i(x-1)>>>31;return new f(R,C.h)}function ft(C,b){var R=b>>5;b%=32;for(var x=C.g.length-R,V=[],k=0;k<x;k++)V[k]=0<b?C.i(k+R)>>>b|C.i(k+R+1)<<32-b:C.i(k+R);return new f(V,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,t1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,rs=f}).apply(typeof vT<"u"?vT:typeof self<"u"?self:typeof window<"u"?window:{});var Eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e1,su,n1,Lh,Vm,r1,i1,s1;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eh=="object"&&Eh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in _))break t;_=_[L]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,L={next:function(){if(!A&&_<c.length){var $=_++;return{value:y($,c[$]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function S(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),c.apply(y,L)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,w.apply(null,arguments)}function M(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function U(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,L,$){for(var at=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)at[Ut-2]=arguments[Ut];return y.prototype[L].apply(A,at)}}function G(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function H(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(m(A)){const L=c.length||0,$=A.length||0;c.length=L+$;for(let at=0;at<$;at++)c[L+at]=A[at]}else c.push(A)}}class J{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(c){return/^[\s\xa0]*$/.test(c)}function nt(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function ut(c){return ut[" "](c),c}ut[" "]=function(){};var lt=nt().indexOf("Gecko")!=-1&&!(nt().toLowerCase().indexOf("webkit")!=-1&&nt().indexOf("Edge")==-1)&&!(nt().indexOf("Trident")!=-1||nt().indexOf("MSIE")!=-1)&&nt().indexOf("Edge")==-1;function ft(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function C(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function b(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,y){let _,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(_ in A)c[_]=A[_];for(let $=0;$<R.length;$++)_=R[$],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function k(c){p.setTimeout(()=>{throw c},0)}function D(){var c=Ct;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class De{constructor(){this.h=this.g=null}add(y,_){const A=ae.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new J(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,pt=!1,Ct=new De,N=()=>{const c=p.Promise.resolve(void 0);ot=()=>{c.then(et)}};var et=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){k(_)}var y=ae;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pt=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,y),p.removeEventListener("test",_,y)}catch{}return c}();function Rt(c,y){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(lt){t:{try{ut(y.nodeName);var L=!0;break t}catch{}L=!1}L||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:_t[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Rt.aa.h.call(this)}}U(Rt,it);var _t={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),qt=0;function Le(c,y,_,A,L){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=L,this.key=++qt,this.da=this.fa=!1}function Nn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function dn(c){this.src=c,this.g={},this.h=0}dn.prototype.add=function(c,y,_,A,L){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var at=ms(c,y,A,L);return-1<at?(y=c[at],_||(y.fa=!1)):(y=new Le(y,this.src,$,!!A,L),y.fa=_,c.push(y)),y};function tn(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],L=Array.prototype.indexOf.call(A,y,void 0),$;($=0<=L)&&Array.prototype.splice.call(A,L,1),$&&(Nn(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ms(c,y,_,A){for(var L=0;L<c.length;++L){var $=c[L];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==A)return L}return-1}var gs="closure_lm_"+(1e6*Math.random()|0),Go={};function $u(c,y,_,A,L){if(Array.isArray(y)){for(var $=0;$<y.length;$++)$u(c,y[$],_,A,L);return null}return _=Ku(_),c&&c[ce]?c.K(y,_,g(A)?!!A.capture:!1,L):On(c,y,_,!1,A,L)}function On(c,y,_,A,L,$){if(!y)throw Error("Invalid event type");var at=g(L)?!!L.capture:!!L,Ut=ma(c);if(Ut||(c[gs]=Ut=new dn(c)),_=Ut.add(y,_,A,at,$),_.proxy)return _;if(A=Ff(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)mt||(L=at),L===void 0&&(L=!1),c.addEventListener(y.toString(),A,L);else if(c.attachEvent)c.attachEvent(ys(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ff(){function c(_){return y.call(c.src,c.listener,_)}const y=Gf;return c}function $o(c,y,_,A,L){if(Array.isArray(y))for(var $=0;$<y.length;$++)$o(c,y[$],_,A,L);else A=g(A)?!!A.capture:!!A,_=Ku(_),c&&c[ce]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],_=ms($,_,A,L),-1<_&&(Nn($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=ma(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ms(y,_,A,L)),(_=-1<c?y[c]:null)&&pa(_))}function pa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ce])tn(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(ys(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=ma(y))?(tn(_,c),_.h==0&&(_.src=null,y[gs]=null)):Nn(c)}}}function ys(c){return c in Go?Go[c]:Go[c]="on"+c}function Gf(c,y){if(c.da)c=!0;else{y=new Rt(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&pa(c),c=_.call(A,y)}return c}function ma(c){return c=c[gs],c instanceof dn?c:null}var Ko="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ku(c){return typeof c=="function"?c:(c[Ko]||(c[Ko]=function(y){return c.handleEvent(y)}),c[Ko])}function de(){st.call(this),this.i=new dn(this),this.M=this,this.F=null}U(de,st),de.prototype[ce]=!0,de.prototype.removeEventListener=function(c,y,_,A){$o(this,c,y,_,A)};function Qt(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new it(y,c);else if(y instanceof it)y.target=y.target||c;else{var L=y;y=new it(A,c),x(y,L)}if(L=!0,_)for(var $=_.length-1;0<=$;$--){var at=y.g=_[$];L=vn(at,A,!0,y)&&L}if(at=y.g=c,L=vn(at,A,!0,y)&&L,L=vn(at,A,!1,y)&&L,_)for($=0;$<_.length;$++)at=y.g=_[$],L=vn(at,A,!1,y)&&L}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)Nn(_[A]);delete c.g[y],c.h--}}this.F=null},de.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},de.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function vn(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var L=!0,$=0;$<y.length;++$){var at=y[$];if(at&&!at.da&&at.capture==_){var Ut=at.listener,Oe=at.ha||at.src;at.fa&&tn(c.i,at),L=Ut.call(Oe,A)!==!1&&L}}return L&&!A.defaultPrevented}function en(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function Qu(c){c.g=en(()=>{c.g=null,c.i&&(c.i=!1,Qu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class $f extends st{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Qu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _s(c){st.call(this),this.h=c,this.g={}}U(_s,st);var vs=[];function Es(c){ft(c.g,function(y,_){this.g.hasOwnProperty(_)&&pa(y)},c),c.g={}}_s.prototype.N=function(){_s.aa.N.call(this),Es(this)},_s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=p.JSON.stringify,ga=p.JSON.parse,Ts=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function Qo(){}Qo.prototype.h=null;function Yo(c){return c.h||(c.h=c.i())}function Xo(){}var Vr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pr(){it.call(this,"d")}U(Pr,it);function Wo(){it.call(this,"c")}U(Wo,it);var or={},Zo=null;function _i(){return Zo=Zo||new de}or.La="serverreachability";function ya(c){it.call(this,or.La,c)}U(ya,it);function vi(c){const y=_i();Qt(y,new ya(y))}or.STAT_EVENT="statevent";function Yu(c,y){it.call(this,or.STAT_EVENT,c),this.stat=y}U(Yu,it);function oe(c){const y=_i();Qt(y,new Yu(y,c))}or.Ma="timingevent";function Ne(c,y){it.call(this,or.Ma,c),this.size=y}U(Ne,it);function Te(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function xn(){this.g=!0}xn.prototype.xa=function(){this.g=!1};function Jo(c,y,_,A,L,$){c.info(function(){if(c.g)if($)for(var at="",Ut=$.split("&"),Oe=0;Oe<Ut.length;Oe++){var zt=Ut[Oe].split("=");if(1<zt.length){var ze=zt[0];zt=zt[1];var xe=ze.split("_");at=2<=xe.length&&xe[1]=="type"?at+(ze+"="+zt+"&"):at+(ze+"=redacted&")}}else at=null;else at=$;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+y+`
`+_+`
`+at})}function Kf(c,y,_,A,L,$,at){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+y+`
`+_+`
`+$+" "+at})}function Ei(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ss(c,_)+(A?" "+A:"")})}function Xu(c,y){c.info(function(){return"TIMEOUT: "+y})}xn.prototype.info=function(){};function Ss(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var $=L[0];if($!="noop"&&$!="stop"&&$!="close")for(var at=1;at<L.length;at++)L[at]=""}}}}return Kn(_)}catch{return y}}var Ti={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lr;function ur(){}U(ur,Qo),ur.prototype.g=function(){return new XMLHttpRequest},ur.prototype.i=function(){return{}},lr=new ur;function un(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new _s(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ge}function ge(){this.i=null,this.g="",this.h=!1}var tl={},_a={};function Qn(c,y,_){c.L=1,c.v=Is(En(y)),c.m=_,c.P=!0,Lr(c,null)}function Lr(c,y){c.F=Date.now(),As(c),c.A=En(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),al(_.i,"t",A),c.C=0,_=c.j.J,c.h=new ge,c.g=fc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new $f(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(vs[0]=L.toString()),L=vs);for(var $=0;$<L.length;$++){var at=$u(_,L[$],A||y.handleEvent,!1,y.h||y);if(!at)break;y.g[at.key]=at}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),vi(),Jo(c.i,c.u,c.A,c.l,c.R,c.m)}un.prototype.ca=function(c){c=c.target;const y=this.M;y&&kn(c)==3?y.j():this.Y(c)},un.prototype.Y=function(c){try{if(c==this.g)t:{const xe=kn(this.g);var y=this.g.Ba();const Gr=this.g.Z();if(!(3>xe)&&(xe!=3||this.g&&(this.h.h||this.g.oa()||ic(this.g)))){this.J||xe!=4||y==7||(y==8||0>=Gr?vi(3):vi(2)),Si(this);var _=this.g.Z();this.X=_;e:if(Wu(this)){var A=ic(this.g);c="";var L=A.length,$=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$e(this),cr(this);var at="";break e}this.h.i=new p.TextDecoder}for(y=0;y<L;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!($&&y==L-1)});A.length=0,this.h.g+=c,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=_==200,Kf(this.i,this.u,this.A,this.l,this.R,xe,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Oe=this.g;if((Ut=Oe.g?Oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Ut)){var zt=Ut;break e}}zt=null}if(_=zt)Ei(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ws(this,_);else{this.o=!1,this.s=3,oe(12),$e(this),cr(this);break t}}if(this.P){_=!0;let Ke;for(;!this.J&&this.C<at.length;)if(Ke=Zu(this,at),Ke==_a){xe==4&&(this.s=4,oe(14),_=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(Ke==tl){this.s=4,oe(15),Ei(this.i,this.l,at,"[Invalid Chunk]"),_=!1;break}else Ei(this.i,this.l,Ke,null),ws(this,Ke);if(Wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||at.length!=0||this.h.h||(this.s=1,oe(16),_=!1),this.o=this.o&&_,!_)Ei(this.i,this.l,at,"[Invalid Chunked Response]"),$e(this),cr(this);else if(0<at.length&&!this.W){this.W=!0;var ze=this.j;ze.g==this&&ze.ba&&!ze.M&&(ze.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),Ps(ze),ze.M=!0,oe(11))}}else Ei(this.i,this.l,at,null),ws(this,at);xe==4&&$e(this),this.o&&!this.J&&(xe==4?uc(this.j,this):(this.o=!1,As(this)))}else Zf(this.g),_==400&&0<at.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),$e(this),cr(this)}}}catch{}finally{}};function Wu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Zu(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?_a:(_=Number(y.substring(_,A)),isNaN(_)?tl:(A+=1,A+_>y.length?_a:(y=y.slice(A,A+_),c.C=A+_,y)))}un.prototype.cancel=function(){this.J=!0,$e(this)};function As(c){c.S=Date.now()+c.I,Ju(c,c.I)}function Ju(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Te(w(c.ba,c),y)}function Si(c){c.B&&(p.clearTimeout(c.B),c.B=null)}un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Xu(this.i,this.A),this.L!=2&&(vi(),oe(17)),$e(this),this.s=2,cr(this)):Ju(this,this.S-c)};function cr(c){c.j.G==0||c.J||uc(c.j,c)}function $e(c){Si(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Es(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ws(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||el(_.h,c))){if(!c.K&&el(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Na(_),Ca(_);else break t;hl(_),oe(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=Te(w(_.Za,_),6e3));if(1>=Ea(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Fr(_,11)}else if((c.K||_.g==c)&&Na(_),!X(y))for(L=_.Da.g.parse(y),y=0;y<L.length;y++){let zt=L[y];if(_.T=zt[0],zt=zt[1],_.G==2)if(zt[0]=="c"){_.K=zt[1],_.ia=zt[2];const ze=zt[3];ze!=null&&(_.la=ze,_.j.info("VER="+_.la));const xe=zt[4];xe!=null&&(_.Aa=xe,_.j.info("SVER="+_.Aa));const Gr=zt[5];Gr!=null&&typeof Gr=="number"&&0<Gr&&(A=1.5*Gr,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ke=c.g;if(Ke){const yr=Ke.g?Ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yr){var $=A.h;$.g||yr.indexOf("spdy")==-1&&yr.indexOf("quic")==-1&&yr.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ta($,$.h),$.h=null))}if(A.D){const dl=Ke.g?Ke.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(A.ya=dl,Wt(A.I,A.D,dl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var at=c;if(A.qa=hc(A,A.J?A.ia:null,A.W),at.K){cn(A.h,at);var Ut=at,Oe=A.L;Oe&&(Ut.I=Oe),Ut.B&&(Si(Ut),As(Ut)),A.g=at}else oc(A);0<_.i.length&&Da(_)}else zt[0]!="stop"&&zt[0]!="close"||Fr(_,7);else _.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Fr(_,7):ul(_):zt[0]!="noop"&&_.l&&_.l.ta(zt),_.v=0)}}vi(4)}catch{}}var tc=class{constructor(c,y){this.g=c,this.map=y}};function Ur(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function va(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ea(c){return c.h?1:c.g?c.g.size:0}function el(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ta(c,y){c.g?c.g.add(y):c.h=y}function cn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ur.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return G(c.i)}function Qf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function Sa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function rl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Sa(c),A=Qf(c),L=A.length,$=0;$<L;$++)y.call(void 0,A[$],_&&_[$],c)}var bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),L=null;if(0<=A){var $=c[_].substring(0,A);L=c[_].substring(A+1)}else $=c[_];y($,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Se(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Se){this.h=c.h,Rs(this,c.j),this.o=c.o,this.g=c.g,Ai(this,c.s),this.l=c.l;var y=c.i,_=new Br;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),zr(this,_),this.m=c.m}else c&&(y=String(c).match(bs))?(this.h=!1,Rs(this,y[1]||"",!0),this.o=Mn(y[2]||""),this.g=Mn(y[3]||"",!0),Ai(this,y[4]),this.l=Mn(y[5]||"",!0),zr(this,y[6]||"",!0),this.m=Mn(y[7]||"")):(this.h=!1,this.i=new Br(null,this.h))}Se.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Cs(y,il,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Cs(y,il,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Cs(_,_.charAt(0)=="/"?Xf:sl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Cs(_,Aa)),c.join("")};function En(c){return new Se(c)}function Rs(c,y,_){c.j=_?Mn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ai(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function zr(c,y,_){y instanceof Br?(c.i=y,nc(c.i,c.h)):(_||(y=Cs(y,Wf)),c.i=new Br(y,c.h))}function Wt(c,y,_){c.i.set(y,_)}function Is(c){return Wt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Mn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Cs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,ec),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ec(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var il=/[#\/\?@]/g,sl=/[#\?:]/g,Xf=/[#\?]/g,Wf=/[#\?@]/g,Aa=/#/g;function Br(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Vn(c){c.g||(c.g=new Map,c.h=0,c.i&&Yf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Br.prototype,r.add=function(c,y){Vn(this),this.i=null,c=hr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function jr(c,y){Vn(c),y=hr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function qr(c,y){return Vn(c),y=hr(c,y),c.g.has(y)}r.forEach=function(c,y){Vn(this),this.g.forEach(function(_,A){_.forEach(function(L){c.call(y,L,A,this)},this)},this)},r.na=function(){Vn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const L=c[A];for(let $=0;$<L.length;$++)_.push(y[A])}return _},r.V=function(c){Vn(this);let y=[];if(typeof c=="string")qr(this,c)&&(y=y.concat(this.g.get(hr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Vn(this),this.i=null,c=hr(this,c),qr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function al(c,y,_){jr(c,y),0<_.length&&(c.i=null,c.g.set(hr(c,y),G(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const $=encodeURIComponent(String(A)),at=this.V(A);for(A=0;A<at.length;A++){var L=$;at[A]!==""&&(L+="="+encodeURIComponent(String(at[A]))),c.push(L)}}return this.i=c.join("&")};function hr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function nc(c,y){y&&!c.j&&(Vn(c),c.i=null,c.g.forEach(function(_,A){var L=A.toLowerCase();A!=L&&(jr(this,A),al(this,L,_))},c)),c.j=y}function Ds(c,y){const _=new xn;if(p.Image){const A=new Image;A.onload=M(Pn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=M(Pn,_,"TestLoadImage: error",!1,y,A),A.onabort=M(Pn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=M(Pn,_,"TestLoadImage: timeout",!1,y,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Yn(c,y){const _=new xn,A=new AbortController,L=setTimeout(()=>{A.abort(),Pn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then($=>{clearTimeout(L),$.ok?Pn(_,"TestPingServer: ok",!0,y):Pn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(L),Pn(_,"TestPingServer: error",!1,y)})}function Pn(c,y,_,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(_)}catch{}}function Ns(){this.g=new Ts}function fr(c,y,_){const A=_||"";try{rl(c,function(L,$){let at=L;g(L)&&(at=Kn(L)),y.push(A+$+"="+encodeURIComponent(at))})}catch(L){throw y.push(A+"type="+encodeURIComponent("_badmap")),L}}function wi(c){this.l=c.Ub||null,this.j=c.eb||!1}U(wi,Qo),wi.prototype.g=function(){return new Hr(this.l,this.j)},wi.prototype.i=function(c){return function(){return c}}({});function Hr(c,y){de.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Hr,de),r=Hr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,pr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ol(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ol(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?dr(this):pr(this),this.readyState==3&&ol(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,dr(this))},r.Qa=function(c){this.g&&(this.response=c,dr(this))},r.ga=function(){this.g&&dr(this)};function dr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,pr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function pr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ll(c){let y="";return ft(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Ue(c,y,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=ll(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Wt(c,y,_))}function Gt(c){de.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Gt,de);var wa=/^https?$/i,Os=["POST","PUT"];r=Gt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lr.g(),this.v=this.o?Yo(this.o):Yo(lr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){rc(this,$);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)_.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())_.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),L=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Os,y,void 0))||A||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,at]of _)this.g.setRequestHeader($,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xs(this),this.u=!0,this.g.send(c),this.u=!1}catch($){rc(this,$)}};function rc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ba(c),mr(c)}function ba(c){c.A||(c.A=!0,Qt(c,"complete"),Qt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qt(this,"complete"),Qt(this,"abort"),mr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mr(this,!0)),Gt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ra(this):this.bb())},r.bb=function(){Ra(this)};function Ra(c){if(c.h&&typeof f<"u"&&(!c.v[1]||kn(c)!=4||c.Z()!=2)){if(c.u&&kn(c)==4)en(c.Ea,0,c);else if(Qt(c,"readystatechange"),kn(c)==4){c.h=!1;try{const at=c.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var A;if(A=at===0){var L=String(c.D).match(bs)[1]||null;!L&&p.self&&p.self.location&&(L=p.self.location.protocol.slice(0,-1)),A=!wa.test(L?L.toLowerCase():"")}_=A}if(_)Qt(c,"complete"),Qt(c,"success");else{c.m=6;try{var $=2<kn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",ba(c)}}finally{mr(c)}}}}function mr(c,y){if(c.g){xs(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qt(c,"ready");try{_.onreadystatechange=A}catch{}}}function xs(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function kn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ga(y)}};function ic(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Zf(c){const y={};c=(c.g&&2<=kn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(X(c[A]))continue;var _=V(c[A]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[L]||[];y[L]=$,$.push(_)}C(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ia(c){this.Aa=0,this.i=[],this.j=new xn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ms("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ms("baseRetryDelayMs",5e3,c),this.cb=Ms("retryDelaySeedMs",1e4,c),this.Wa=Ms("forwardChannelMaxRetries",2,c),this.wa=Ms("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ur(c&&c.concurrentRequestLimit),this.Da=new Ns,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ia.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,A){oe(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=hc(this,null,this.W),Da(this)};function ul(c){if(sc(c),c.G==3){var y=c.U++,_=En(c.I);if(Wt(_,"SID",c.K),Wt(_,"RID",y),Wt(_,"TYPE","terminate"),Vs(c,_),y=new un(c,c.j,y),y.L=2,y.v=Is(En(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=y.v,_=!0),_||(y.g=fc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),As(y)}cc(c)}function Ca(c){c.g&&(Ps(c),c.g.cancel(),c.g=null)}function sc(c){Ca(c),c.u&&(p.clearTimeout(c.u),c.u=null),Na(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function Da(c){if(!va(c.h)&&!c.s){c.s=!0;var y=c.Ga;ot||N(),pt||(ot(),pt=!0),Ct.add(y,c),c.B=0}}function Jf(c,y){return Ea(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Te(w(c.Ga,c,y),fl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new un(this,this.j,c);let $=this.o;if(this.S&&($?($=b($),x($,this.S)):$=this.S),this.m!==null||this.O||(L.H=$,$=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=ac(this,L,y),_=En(this.I),Wt(_,"RID",c),Wt(_,"CVER",22),this.D&&Wt(_,"X-HTTP-Session-Id",this.D),Vs(this,_),$&&(this.O?y="headers="+encodeURIComponent(String(ll($)))+"&"+y:this.m&&Ue(_,this.m,$)),Ta(this.h,L),this.Ua&&Wt(_,"TYPE","init"),this.P?(Wt(_,"$req",y),Wt(_,"SID","null"),L.T=!0,Qn(L,_,null)):Qn(L,_,y),this.G=2}}else this.G==3&&(c?cl(this,c):this.i.length==0||va(this.h)||cl(this))};function cl(c,y){var _;y?_=y.l:_=c.U++;const A=En(c.I);Wt(A,"SID",c.K),Wt(A,"RID",_),Wt(A,"AID",c.T),Vs(c,A),c.m&&c.o&&Ue(A,c.m,c.o),_=new un(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ac(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ta(c.h,_),Qn(_,A,y)}function Vs(c,y){c.H&&ft(c.H,function(_,A){Wt(y,A,_)}),c.l&&rl({},function(_,A){Wt(y,A,_)})}function ac(c,y,_){_=Math.min(c.i.length,_);var A=c.l?w(c.l.Na,c.l,c):null;t:{var L=c.i;let $=-1;for(;;){const at=["count="+_];$==-1?0<_?($=L[0].g,at.push("ofs="+$)):$=0:at.push("ofs="+$);let Ut=!0;for(let Oe=0;Oe<_;Oe++){let zt=L[Oe].g;const ze=L[Oe].map;if(zt-=$,0>zt)$=Math.max(0,L[Oe].g-100),Ut=!1;else try{fr(ze,at,"req"+zt+"_")}catch{A&&A(ze)}}if(Ut){A=at.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,A}function oc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ot||N(),pt||(ot(),pt=!0),Ct.add(y,c),c.v=0}}function hl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Te(w(c.Fa,c),fl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,lc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Te(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),Ca(this),lc(this))};function Ps(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function lc(c){c.g=new un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=En(c.qa);Wt(y,"RID","rpc"),Wt(y,"SID",c.K),Wt(y,"AID",c.T),Wt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Wt(y,"TO",c.ja),Wt(y,"TYPE","xmlhttp"),Vs(c,y),c.m&&c.o&&Ue(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Is(En(y)),_.m=null,_.P=!0,Lr(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Ca(this),hl(this),oe(19))};function Na(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function uc(c,y){var _=null;if(c.g==y){Na(c),Ps(c),c.g=null;var A=2}else if(el(c.h,y))_=y.D,cn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var L=c.B;A=_i(),Qt(A,new Ne(A,_)),Da(c)}else oc(c);else if(L=y.s,L==3||L==0&&0<y.X||!(A==1&&Jf(c,y)||A==2&&hl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),L){case 1:Fr(c,5);break;case 4:Fr(c,10);break;case 3:Fr(c,6);break;default:Fr(c,2)}}}function fl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Fr(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),A=c.Xa;const L=!A;A=new Se(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Rs(A,"https"),Is(A),L?Ds(A.toString(),_):Yn(A.toString(),_)}else oe(2);c.G=0,c.l&&c.l.sa(y),cc(c),sc(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function cc(c){if(c.G=0,c.ka=[],c.l){const y=nl(c.h);(y.length!=0||c.i.length!=0)&&(H(c.ka,y),H(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function hc(c,y,_){var A=_ instanceof Se?En(_):new Se(_);if(A.g!="")y&&(A.g=y+"."+A.g),Ai(A,A.s);else{var L=p.location;A=L.protocol,y=y?y+"."+L.hostname:L.hostname,L=+L.port;var $=new Se(null);A&&Rs($,A),y&&($.g=y),L&&Ai($,L),_&&($.l=_),A=$}return _=c.D,y=c.ya,_&&y&&Wt(A,_,y),Wt(A,"VER",c.la),Vs(c,A),A}function fc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Gt(new wi({eb:_})):new Gt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function dc(){}r=dc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Oa(){}Oa.prototype.g=function(c,y){return new hn(c,y)};function hn(c,y){de.call(this),this.g=new Ia(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!X(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new gr(this)}U(hn,de),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){ul(this.g)},hn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Kn(c),c=_);y.i.push(new tc(y.Ya++,c)),y.G==3&&Da(y)},hn.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,hn.aa.N.call(this)};function pc(c){Pr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}U(pc,Pr);function mc(){Wo.call(this),this.status=1}U(mc,Wo);function gr(c){this.g=c}U(gr,dc),gr.prototype.ua=function(){Qt(this.g,"a")},gr.prototype.ta=function(c){Qt(this.g,new pc(c))},gr.prototype.sa=function(c){Qt(this.g,new mc)},gr.prototype.ra=function(){Qt(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,s1=function(){return new Oa},i1=function(){return _i()},r1=or,Vm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ti.NO_ERROR=0,Ti.TIMEOUT=8,Ti.HTTP_ERROR=6,Lh=Ti,kr.COMPLETE="complete",n1=kr,Xo.EventType=Vr,Vr.OPEN="a",Vr.CLOSE="b",Vr.ERROR="c",Vr.MESSAGE="d",de.prototype.listen=de.prototype.K,su=Xo,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,e1=Gt}).apply(typeof Eh<"u"?Eh:typeof self<"u"?self:typeof window<"u"?window:{});const ET="@firebase/firestore",TT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new fg("@firebase/firestore");function oo(){return ua.logLevel}function ht(r,...t){if(ua.logLevel<=Pt.DEBUG){const n=t.map(wg);ua.debug(`Firestore (${zo}): ${r}`,...n)}}function pi(r,...t){if(ua.logLevel<=Pt.ERROR){const n=t.map(wg);ua.error(`Firestore (${zo}): ${r}`,...n)}}function bo(r,...t){if(ua.logLevel<=Pt.WARN){const n=t.map(wg);ua.warn(`Firestore (${zo}): ${r}`,...n)}}function wg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,a1(r,s,n)}function a1(r,t,n){let s=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw pi(s),new Error(s)}function Kt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||a1(t,o,s)}function bt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends gi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class FO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class GO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $O{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ci,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const m=u;t.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ci)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new o1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class KO{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QO{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new KO(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ST{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YO{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ST(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ST(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=XO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function kt(r,t){return r<t?-1:r>t?1:0}function Pm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return um(o)===um(u)?kt(o,u):um(o)?1:-1}return kt(r.length,t.length)}const WO=55296,ZO=57343;function um(r){const t=r.charCodeAt(0);return t>=WO&&t<=ZO}function Ro(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="__name__";class Ar{constructor(t,n,s){n===void 0?n=0:n>t.length&&St(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&St(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ar.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ar?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Ar.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return kt(t.length,n.length)}static compareSegments(t,n){const s=Ar.isNumericId(t),o=Ar.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ar.extractNumericId(t).compare(Ar.extractNumericId(n)):Pm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return rs.fromString(t.substring(4,t.length-2))}}class re extends Ar{construct(t,n,s){return new re(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new re(n)}static emptyPath(){return new re([])}}const JO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Ar{construct(t,n,s){return new Ze(t,n,s)}static isValidIdentifier(t){return JO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===AT}static keyField(){return new Ze([AT])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ct(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ct(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new ct(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(re.fromString(t))}static fromName(t){return new yt(re.fromString(t).popFirst(5))}static empty(){return new yt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return re.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new re(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(r,t,n){if(!n)throw new ct(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function t2(r,t,n,s){if(t===!0&&s===!0)throw new ct(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function wT(r){if(!yt.isDocumentKey(r))throw new ct(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function bT(r){if(yt.isDocumentKey(r))throw new ct(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function u1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Rf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":St(12329,{type:typeof r})}function Or(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rf(r);throw new ct(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r,t){const n={typeString:r};return t&&(n.value=t),n}function Uu(r,t){if(!u1(r))throw new ct(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ct(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=-62135596800,IT=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*IT);return new se(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<RT)throw new ct(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IT}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Uu(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-RT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ce("string",se._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new se(0,0))}static max(){return new wt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=-1;function e2(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=wt.fromTimestamp(s===1e9?new se(n+1,0):new se(n,s));return new ss(o,yt.empty(),t)}function n2(r){return new ss(r.readTime,r.key,Su)}class ss{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new ss(wt.min(),yt.empty(),Su)}static max(){return new ss(wt.max(),yt.empty(),Su)}}function r2(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(r.documentKey,t.documentKey),n!==0?n:kt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==i2)throw r;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new tt((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof tt?n:tt.resolve(n)}catch(n){return tt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.reject(n)}static resolve(t){return new tt((n,s)=>{n(t)})}static reject(t){return new tt((n,s)=>{s(t)})}static waitFor(t){return new tt((n,s)=>{let o=0,u=0,f=!1;t.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},m=>s(m))}),f=!0,u===o&&n()})}static or(t){let n=tt.resolve(!1);for(const s of t)n=n.next(o=>o?tt.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new tt((s,o)=>{const u=t.length,f=new Array(u);let p=0;for(let m=0;m<u;m++){const g=m;n(t[g]).next(E=>{f[g]=E,++p,p===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new tt((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function a2(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}If.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=-1;function Cf(r){return r==null}function nf(r){return r===0&&1/r==-1/0}function o2(r){return typeof r=="number"&&Number.isInteger(r)&&!nf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="";function l2(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=CT(t)),t=u2(r.get(n),t);return CT(t)}function u2(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case c1:n+="";break;default:n+=u}}return n}function CT(r){return r+c1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function ds(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function h1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,n){this.comparator=t,this.root=n||We.EMPTY}insert(t,n){return new fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Th(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Th(this.root,t,this.comparator,!1)}getReverseIterator(){return new Th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Th(this.root,t,this.comparator,!0)}}class Th{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??We.RED,this.left=o??We.EMPTY,this.right=u??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new We(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return We.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new We(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new NT(this.data.getIterator())}getIteratorFrom(t){return new NT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Pe(this.comparator);return n.data=t,n}}class NT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new Dn([])}unionWith(t){let n=new Pe(Ze.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Dn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ro(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new f1("Invalid base64 string: "+u):u}}(t);return new Je(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Je(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const c2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(r){if(Kt(!!r,39018),typeof r=="string"){let t=0;const n=c2.exec(r);if(Kt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ve(r.seconds),nanos:ve(r.nanos)}}function ve(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function os(r){return typeof r=="string"?Je.fromBase64String(r):Je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="server_timestamp",p1="__type__",m1="__previous_value__",g1="__local_write_time__";function Ig(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[p1])==null?void 0:s.stringValue)===d1}function Df(r){const t=r.mapValue.fields[m1];return Ig(t)?Df(t):t}function Au(r){const t=as(r.mapValue.fields[g1].timestampValue);return new se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t,n,s,o,u,f,p,m,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=E}}const rf="(default)";class wu{constructor(t,n){this.projectId=t,this.database=n||rf}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database===rf}isEqual(t){return t instanceof wu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="__type__",f2="__max__",Sh={mapValue:{}},_1="__vector__",sf="value";function ls(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ig(r)?4:p2(r)?9007199254740991:d2(r)?10:11:St(28295,{value:r})}function xr(r,t){if(r===t)return!0;const n=ls(r);if(n!==ls(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Au(r).isEqual(Au(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=as(o.timestampValue),p=as(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return os(o.bytesValue).isEqual(os(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return ve(o.geoPointValue.latitude)===ve(u.geoPointValue.latitude)&&ve(o.geoPointValue.longitude)===ve(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ve(o.integerValue)===ve(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ve(o.doubleValue),p=ve(u.doubleValue);return f===p?nf(f)===nf(p):isNaN(f)&&isNaN(p)}return!1}(r,t);case 9:return Ro(r.arrayValue.values||[],t.arrayValue.values||[],xr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(DT(f)!==DT(p))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(p[m]===void 0||!xr(f[m],p[m])))return!1;return!0}(r,t);default:return St(52216,{left:r})}}function bu(r,t){return(r.values||[]).find(n=>xr(n,t))!==void 0}function Io(r,t){if(r===t)return 0;const n=ls(r),s=ls(t);if(n!==s)return kt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const p=ve(u.integerValue||u.doubleValue),m=ve(f.integerValue||f.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(r,t);case 3:return OT(r.timestampValue,t.timestampValue);case 4:return OT(Au(r),Au(t));case 5:return Pm(r.stringValue,t.stringValue);case 6:return function(u,f){const p=os(u),m=os(f);return p.compareTo(m)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const p=u.split("/"),m=f.split("/");for(let g=0;g<p.length&&g<m.length;g++){const E=kt(p[g],m[g]);if(E!==0)return E}return kt(p.length,m.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const p=kt(ve(u.latitude),ve(f.latitude));return p!==0?p:kt(ve(u.longitude),ve(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return xT(r.arrayValue,t.arrayValue);case 10:return function(u,f){var w,M,U,G;const p=u.fields||{},m=f.fields||{},g=(w=p[sf])==null?void 0:w.arrayValue,E=(M=m[sf])==null?void 0:M.arrayValue,S=kt(((U=g==null?void 0:g.values)==null?void 0:U.length)||0,((G=E==null?void 0:E.values)==null?void 0:G.length)||0);return S!==0?S:xT(g,E)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Sh.mapValue&&f===Sh.mapValue)return 0;if(u===Sh.mapValue)return 1;if(f===Sh.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),g=f.fields||{},E=Object.keys(g);m.sort(),E.sort();for(let S=0;S<m.length&&S<E.length;++S){const w=Pm(m[S],E[S]);if(w!==0)return w;const M=Io(p[m[S]],g[E[S]]);if(M!==0)return M}return kt(m.length,E.length)}(r.mapValue,t.mapValue);default:throw St(23264,{he:n})}}function OT(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return kt(r,t);const n=as(r),s=as(t),o=kt(n.seconds,s.seconds);return o!==0?o:kt(n.nanos,s.nanos)}function xT(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Io(n[o],s[o]);if(u)return u}return kt(n.length,s.length)}function Co(r){return km(r)}function km(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=as(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return os(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return yt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=km(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${km(n.fields[f])}`;return o+"}"}(r.mapValue):St(61005,{value:r})}function Uh(r){switch(ls(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Df(r);return t?16+Uh(t):16;case 5:return 2*r.stringValue.length;case 6:return os(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Uh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ds(s.fields,(u,f)=>{o+=u.length+Uh(f)}),o}(r.mapValue);default:throw St(13486,{value:r})}}function MT(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Lm(r){return!!r&&"integerValue"in r}function Cg(r){return!!r&&"arrayValue"in r}function VT(r){return!!r&&"nullValue"in r}function PT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zh(r){return!!r&&"mapValue"in r}function d2(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[y1])==null?void 0:s.stringValue)===_1}function fu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ds(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=fu(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=fu(r.arrayValue.values[n]);return t}return{...r}}function p2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===f2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.value=t}static empty(){return new _n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!zh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=fu(n)}setAll(t){let n=Ze.emptyPath(),s={},o=[];t.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=fu(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());zh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return xr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];zh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){ds(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new _n(fu(this.value))}}function v1(r){const t=[];return ds(r.fields,(n,s)=>{const o=new Ze([n]);if(zh(s)){const u=v1(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Dn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t,n,s,o,u,f,p){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new on(t,0,wt.min(),wt.min(),wt.min(),_n.empty(),0)}static newFoundDocument(t,n,s,o){return new on(t,1,n,wt.min(),s,o,0)}static newNoDocument(t,n){return new on(t,2,n,wt.min(),wt.min(),_n.empty(),0)}static newUnknownDocument(t,n){return new on(t,3,n,wt.min(),wt.min(),_n.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t,n){this.position=t,this.inclusive=n}}function kT(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(f.referenceValue),n.key):s=Io(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function LT(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!xr(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t,n="asc"){this.field=t,this.dir=n}}function m2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{}class Ie extends E1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new y2(t,n,s):n==="array-contains"?new E2(t,s):n==="in"?new T2(t,s):n==="not-in"?new S2(t,s):n==="array-contains-any"?new A2(t,s):new Ie(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new _2(t,s):new v2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Io(n,this.value)):n!==null&&ls(this.value)===ls(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends E1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new sr(t,n)}matches(t){return T1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function T1(r){return r.op==="and"}function S1(r){return g2(r)&&T1(r)}function g2(r){for(const t of r.filters)if(t instanceof sr)return!1;return!0}function Um(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+Co(r.value);if(S1(r))return r.filters.map(t=>Um(t)).join(",");{const t=r.filters.map(n=>Um(n)).join(",");return`${r.op}(${t})`}}function A1(r,t){return r instanceof Ie?function(s,o){return o instanceof Ie&&s.op===o.op&&s.field.isEqual(o.field)&&xr(s.value,o.value)}(r,t):r instanceof sr?function(s,o){return o instanceof sr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&A1(f,o.filters[p]),!0):!1}(r,t):void St(19439)}function w1(r){return r instanceof Ie?function(n){return`${n.field.canonicalString()} ${n.op} ${Co(n.value)}`}(r):r instanceof sr?function(n){return n.op.toString()+" {"+n.getFilters().map(w1).join(" ,")+"}"}(r):"Filter"}class y2 extends Ie{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class _2 extends Ie{constructor(t,n){super(t,"in",n),this.keys=b1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class v2 extends Ie{constructor(t,n){super(t,"not-in",n),this.keys=b1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function b1(r,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(s=>yt.fromName(s.referenceValue))}class E2 extends Ie{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Cg(n)&&bu(n.arrayValue,this.value)}}class T2 extends Ie{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&bu(this.value.arrayValue,n)}}class S2 extends Ie{constructor(t,n){super(t,"not-in",n)}matches(t){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bu(this.value.arrayValue,n)}}class A2 extends Ie{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>bu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t,n=null,s=[],o=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function UT(r,t=null,n=[],s=[],o=null,u=null,f=null){return new w2(r,t,n,s,o,u,f)}function Dg(r){const t=bt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Um(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Cf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Co(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Co(s)).join(",")),t.Te=n}return t.Te}function Ng(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!m2(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!A1(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!LT(r.startAt,t.startAt)&&LT(r.endAt,t.endAt)}function zm(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(t,n=null,s=[],o=[],u=null,f="F",p=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function b2(r,t,n,s,o,u,f,p){return new zu(r,t,n,s,o,u,f,p)}function Og(r){return new zu(r)}function zT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function R1(r){return r.collectionGroup!==null}function du(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Pe(Ze.comparator);return f.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new of(u,s))}),n.has(Ze.keyField().canonicalString())||t.Ie.push(new of(Ze.keyField(),s))}return t.Ie}function Ir(r){const t=bt(r);return t.Ee||(t.Ee=R2(t,du(r))),t.Ee}function R2(r,t){if(r.limitType==="F")return UT(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new of(o.field,u)});const n=r.endAt?new af(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new af(r.startAt.position,r.startAt.inclusive):null;return UT(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Bm(r,t){const n=r.filters.concat([t]);return new zu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function jm(r,t,n){return new zu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Nf(r,t){return Ng(Ir(r),Ir(t))&&r.limitType===t.limitType}function I1(r){return`${Dg(Ir(r))}|lt:${r.limitType}`}function lo(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>w1(o)).join(", ")}]`),Cf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Co(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Co(o)).join(",")),`Target(${s})`}(Ir(r))}; limitType=${r.limitType})`}function Of(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of du(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,p,m){const g=kT(f,p,m);return f.inclusive?g<=0:g<0}(s.startAt,du(s),o)||s.endAt&&!function(f,p,m){const g=kT(f,p,m);return f.inclusive?g>=0:g>0}(s.endAt,du(s),o))}(r,t)}function I2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function C1(r){return(t,n)=>{let s=!1;for(const o of du(r)){const u=C2(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function C2(r,t,n){const s=r.field.isKeyField()?yt.comparator(t.key,n.key):function(u,f,p){const m=f.data.field(u),g=p.data.field(u);return m!==null&&g!==null?Io(m,g):St(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return St(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ds(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return h1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=new fe(yt.comparator);function mi(){return D2}const D1=new fe(yt.comparator);function au(...r){let t=D1;for(const n of r)t=t.insert(n.key,n);return t}function N1(r){let t=D1;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Js(){return pu()}function O1(){return pu()}function pu(){return new fa(r=>r.toString(),(r,t)=>r.isEqual(t))}const N2=new fe(yt.comparator),O2=new Pe(yt.comparator);function Lt(...r){let t=O2;for(const n of r)t=t.add(n);return t}const x2=new Pe(kt);function M2(){return x2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nf(t)?"-0":t}}function x1(r){return{integerValue:""+r}}function V2(r,t){return o2(t)?x1(t):xg(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(){this._=void 0}}function P2(r,t,n){return r instanceof Ru?function(o,u){const f={fields:{[p1]:{stringValue:d1},[g1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ig(u)&&(u=Df(u)),u&&(f.fields[m1]=u),{mapValue:f}}(n,t):r instanceof Iu?V1(r,t):r instanceof Cu?P1(r,t):function(o,u){const f=M1(o,u),p=BT(f)+BT(o.Ae);return Lm(f)&&Lm(o.Ae)?x1(p):xg(o.serializer,p)}(r,t)}function k2(r,t,n){return r instanceof Iu?V1(r,t):r instanceof Cu?P1(r,t):n}function M1(r,t){return r instanceof lf?function(s){return Lm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Ru extends xf{}class Iu extends xf{constructor(t){super(),this.elements=t}}function V1(r,t){const n=k1(t);for(const s of r.elements)n.some(o=>xr(o,s))||n.push(s);return{arrayValue:{values:n}}}class Cu extends xf{constructor(t){super(),this.elements=t}}function P1(r,t){let n=k1(t);for(const s of r.elements)n=n.filter(o=>!xr(o,s));return{arrayValue:{values:n}}}class lf extends xf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function BT(r){return ve(r.integerValue||r.doubleValue)}function k1(r){return Cg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t,n){this.field=t,this.transform=n}}function U2(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Iu&&o instanceof Iu||s instanceof Cu&&o instanceof Cu?Ro(s.elements,o.elements,xr):s instanceof lf&&o instanceof lf?xr(s.Ae,o.Ae):s instanceof Ru&&o instanceof Ru}(r.transform,t.transform)}class z2{constructor(t,n){this.version=t,this.transformResults=n}}class nr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new nr}static exists(t){return new nr(void 0,t)}static updateTime(t){return new nr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Mf{}function L1(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new z1(r.key,nr.none()):new Bu(r.key,r.data,nr.none());{const n=r.data,s=_n.empty();let o=new Pe(Ze.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ps(r.key,s,new Dn(o.toArray()),nr.none())}}function B2(r,t,n){r instanceof Bu?function(o,u,f){const p=o.value.clone(),m=qT(o.fieldTransforms,u,f.transformResults);p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):r instanceof ps?function(o,u,f){if(!Bh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=qT(o.fieldTransforms,u,f.transformResults),m=u.data;m.setAll(U1(o)),m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function mu(r,t,n,s){return r instanceof Bu?function(u,f,p,m){if(!Bh(u.precondition,f))return p;const g=u.value.clone(),E=HT(u.fieldTransforms,m,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,t,n,s):r instanceof ps?function(u,f,p,m){if(!Bh(u.precondition,f))return p;const g=HT(u.fieldTransforms,m,f),E=f.data;return E.setAll(U1(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,t,n,s):function(u,f,p){return Bh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,t,n)}function j2(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=M1(s.transform,o||null);u!=null&&(n===null&&(n=_n.empty()),n.set(s.field,u))}return n||null}function jT(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ro(s,o,(u,f)=>U2(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Bu extends Mf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ps extends Mf{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function U1(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function qT(r,t,n){const s=new Map;Kt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=t.data.field(u.field);s.set(u.field,k2(f,p,n[o]))}return s}function HT(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,P2(u,f,t))}return s}class z1 extends Mf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q2 extends Mf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&B2(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=mu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=mu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=O1();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const m=L1(f,p);m!==null&&s.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(wt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Lt())}isEqual(t){return this.batchId===t.batchId&&Ro(this.mutations,t.mutations,(n,s)=>jT(n,s))&&Ro(this.baseMutations,t.baseMutations,(n,s)=>jT(n,s))}}class Mg{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Kt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=function(){return N2}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Mg(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,jt;function $2(r){switch(r){case W.OK:return St(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return St(15467,{code:r})}}function B1(r){if(r===void 0)return pi("GRPC error has no .code"),W.UNKNOWN;switch(r){case be.OK:return W.OK;case be.CANCELLED:return W.CANCELLED;case be.UNKNOWN:return W.UNKNOWN;case be.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case be.INTERNAL:return W.INTERNAL;case be.UNAVAILABLE:return W.UNAVAILABLE;case be.UNAUTHENTICATED:return W.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case be.NOT_FOUND:return W.NOT_FOUND;case be.ALREADY_EXISTS:return W.ALREADY_EXISTS;case be.PERMISSION_DENIED:return W.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case be.ABORTED:return W.ABORTED;case be.OUT_OF_RANGE:return W.OUT_OF_RANGE;case be.UNIMPLEMENTED:return W.UNIMPLEMENTED;case be.DATA_LOSS:return W.DATA_LOSS;default:return St(39323,{code:r})}}(jt=be||(be={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=new rs([4294967295,4294967295],0);function FT(r){const t=K2().encode(r),n=new t1;return n.update(t),new Uint8Array(n.digest())}function GT(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new rs([n,s],0),new rs([o,u],0)]}class Vg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ou(`Invalid padding: ${n}`);if(s<0)throw new ou(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new ou(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=rs.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(rs.fromNumber(s)));return o.compare(Q2)===1&&(o=new rs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=FT(t),[s,o]=GT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Vg(u,o,n);return s.forEach(p=>f.insert(p)),f}insert(t){if(this.ge===0)return;const n=FT(t),[s,o]=GT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,ju.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Vf(wt.min(),o,new fe(kt),mi(),Lt())}}class ju{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new ju(s,n,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class j1{constructor(t,n){this.targetId=t,this.Ce=n}}class q1{constructor(t,n,s=Je.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class $T{constructor(){this.ve=0,this.Fe=KT(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),s=Lt();return this.Fe.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:St(38017,{changeType:u})}}),new ju(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=KT()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Y2{constructor(t){this.Ge=t,this.ze=new Map,this.je=mi(),this.Je=Ah(),this.He=Ah(),this.Ye=new fe(kt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:St(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(zm(u))if(s===0){const f=new yt(u.path);this.et(n,f,on.newNoDocument(f,wt.min()))}else Kt(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const p=this.ut(t),m=p?this.ct(p,t,f):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=os(s).toUint8Array()}catch(m){if(m instanceof f1)return bo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Vg(f,o,u)}catch(m){return bo(m instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),o++)}),o}Tt(t){const n=new Map;this.ze.forEach((u,f)=>{const p=this.ot(f);if(p){if(u.current&&zm(p.target)){const m=new yt(p.target.path);this.It(m).has(f)||this.Et(f,m)||this.et(f,m,on.newNoDocument(m,t))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Lt();this.He.forEach((u,f)=>{let p=!0;f.forEachWhile(m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(t));const o=new Vf(t,n,this.Ye,this.je,s);return this.je=mi(),this.Je=Ah(),this.He=Ah(),this.Ye=new fe(kt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new $T,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Pe(kt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Pe(kt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new $T),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Ah(){return new fe(yt.comparator)}function KT(){return new fe(yt.comparator)}const X2={asc:"ASCENDING",desc:"DESCENDING"},W2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z2={and:"AND",or:"OR"};class J2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function qm(r,t){return r.useProto3Json||Cf(t)?t:{value:t}}function uf(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function H1(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function tx(r,t){return uf(r,t.toTimestamp())}function Cr(r){return Kt(!!r,49232),wt.fromTimestamp(function(n){const s=as(n);return new se(s.seconds,s.nanos)}(r))}function Pg(r,t){return Hm(r,t).canonicalString()}function Hm(r,t){const n=function(o){return new re(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function F1(r){const t=re.fromString(r);return Kt(Y1(t),10190,{key:t.toString()}),t}function Fm(r,t){return Pg(r.databaseId,t.path)}function cm(r,t){const n=F1(t);if(n.get(1)!==r.databaseId.projectId)throw new ct(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ct(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new yt($1(n))}function G1(r,t){return Pg(r.databaseId,t)}function ex(r){const t=F1(r);return t.length===4?re.emptyPath():$1(t)}function Gm(r){return new re(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function $1(r){return Kt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function QT(r,t,n){return{name:Fm(r,t),fields:n.value.mapValue.fields}}function nx(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:St(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Kt(E===void 0||typeof E=="string",58123),Je.fromBase64String(E||"")):(Kt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Je.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&function(g){const E=g.code===void 0?W.UNKNOWN:B1(g.code);return new ct(E,g.message||"")}(f);n=new q1(s,o,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=cm(r,s.document.name),u=Cr(s.document.updateTime),f=s.document.createTime?Cr(s.document.createTime):wt.min(),p=new _n({mapValue:{fields:s.document.fields}}),m=on.newFoundDocument(o,u,f,p),g=s.targetIds||[],E=s.removedTargetIds||[];n=new jh(g,E,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=cm(r,s.document),u=s.readTime?Cr(s.readTime):wt.min(),f=on.newNoDocument(o,u),p=s.removedTargetIds||[];n=new jh([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=cm(r,s.document),u=s.removedTargetIds||[];n=new jh([],u,o,null)}else{if(!("filter"in t))return St(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new G2(o,u),p=s.targetId;n=new j1(p,f)}}return n}function rx(r,t){let n;if(t instanceof Bu)n={update:QT(r,t.key,t.value)};else if(t instanceof z1)n={delete:Fm(r,t.key)};else if(t instanceof ps)n={update:QT(r,t.key,t.data),updateMask:fx(t.fieldMask)};else{if(!(t instanceof q2))return St(16599,{Vt:t.type});n={verify:Fm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof Ru)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Iu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Cu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof lf)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw St(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:tx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:St(27497)}(r,t.precondition)),n}function ix(r,t){return r&&r.length>0?(Kt(t!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?Cr(o.updateTime):Cr(u);return f.isEqual(wt.min())&&(f=Cr(u)),new z2(f,o.transformResults||[])}(n,t))):[]}function sx(r,t){return{documents:[G1(r,t.path)]}}function ax(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=G1(r,o);const u=function(g){if(g.length!==0)return Q1(sr.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(w){return{field:uo(w.field),direction:ux(w.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=qm(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ft:n,parent:o}}function ox(r){let t=ex(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Kt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(S){const w=K1(S);return w instanceof sr&&S1(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(w=>function(U){return new of(co(U.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(w))}(n.orderBy));let p=null;n.limit&&(p=function(S){let w;return w=typeof S=="object"?S.value:S,Cf(w)?null:w}(n.limit));let m=null;n.startAt&&(m=function(S){const w=!!S.before,M=S.values||[];return new af(M,w)}(n.startAt));let g=null;return n.endAt&&(g=function(S){const w=!S.before,M=S.values||[];return new af(M,w)}(n.endAt)),b2(t,o,f,u,p,"F",m,g)}function lx(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function K1(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=co(n.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=co(n.unaryFilter.field);return Ie.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(n.unaryFilter.field);return Ie.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=co(n.unaryFilter.field);return Ie.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}}(r):r.fieldFilter!==void 0?function(n){return Ie.create(co(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return sr.create(n.compositeFilter.filters.map(s=>K1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return St(1026)}}(n.compositeFilter.op))}(r):St(30097,{filter:r})}function ux(r){return X2[r]}function cx(r){return W2[r]}function hx(r){return Z2[r]}function uo(r){return{fieldPath:r.canonicalString()}}function co(r){return Ze.fromServerFormat(r.fieldPath)}function Q1(r){return r instanceof Ie?function(n){if(n.op==="=="){if(PT(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(VT(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PT(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(VT(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:cx(n.op),value:n.value}}}(r):r instanceof sr?function(n){const s=n.getFilters().map(o=>Q1(o));return s.length===1?s[0]:{compositeFilter:{op:hx(n.op),filters:s}}}(r):St(54877,{filter:r})}function fx(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Y1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t,n,s,o,u=wt.min(),f=wt.min(),p=Je.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(t){return new Zi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(t){this.yt=t}}function px(r){const t=ox({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.Cn=new gx}addToCollectionParentIndex(t,n){return this.Cn.add(n),tt.resolve()}getCollectionParents(t,n){return tt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return tt.resolve()}deleteFieldIndex(t,n){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,n){return tt.resolve()}getDocumentsMatchingTarget(t,n){return tt.resolve(null)}getIndexType(t,n){return tt.resolve(0)}getFieldIndexes(t,n){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,n){return tt.resolve(ss.min())}getMinOffsetFromCollectionGroup(t,n){return tt.resolve(ss.min())}updateCollectionGroup(t,n,s){return tt.resolve()}updateIndexEntries(t,n){return tt.resolve()}}class gx{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Pe(re.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Pe(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X1=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(X1,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Do(0)}static cr(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="LruGarbageCollector",yx=1048576;function WT([r,t],[n,s]){const o=kt(r,n);return o===0?kt(t,s):o}class _x{constructor(t){this.Ir=t,this.buffer=new Pe(WT),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();WT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vx{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(XT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jo(n)?ht(XT,"Ignoring IndexedDB error during garbage collection: ",n):await Bo(n)}await this.Vr(3e5)})}}class Ex{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return tt.resolve(If.ce);const s=new _x(n);return this.mr.forEachTarget(t,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(YT)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YT):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,p,m,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o))).next(S=>(s=S,p=Date.now(),this.removeTargets(t,s,n))).next(S=>(u=S,m=Date.now(),this.removeOrphanedDocuments(t,s))).next(S=>(g=Date.now(),oo()<=Pt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${S} documents in `+(g-m)+`ms
Total Duration: ${g-E}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function Tx(r,t){return new Ex(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.changes=new fa(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?tt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&mu(s.mutation,o,Dn.empty(),se.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Lt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Lt()){const o=Js();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=au();return u.forEach((p,m)=>{f=f.insert(p,m.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Js();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Lt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(t,n,s,o){let u=mi();const f=pu(),p=function(){return pu()}();return n.forEach((m,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ps)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),mu(E.mutation,g,E.mutation.getFieldMask(),se.now())):f.set(g.key,Dn.empty())}),this.recalculateAndSaveOverlays(t,u).next(m=>(m.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>p.set(g,new Ax(E,f.get(g)??null))),p))}recalculateAndSaveOverlays(t,n){const s=pu();let o=new fe((f,p)=>f-p),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const p of f)p.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let E=s.get(m)||Dn.empty();E=p.applyToLocalView(g,E),s.set(m,E);const S=(o.get(p.batchId)||Lt()).add(m);o=o.insert(p.batchId,S)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,E=m.value,S=O1();E.forEach(w=>{if(!u.has(w)){const M=L1(n.get(w),s.get(w));M!==null&&S.set(w,M),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,S))}return tt.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):R1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):tt.resolve(Js());let p=Su,m=u;return f.next(g=>tt.forEach(g,(E,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(E)?tt.resolve():this.remoteDocumentCache.getEntry(t,E).next(w=>{m=m.insert(E,w)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,m,g,Lt())).next(E=>({batchId:p,changes:N1(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next(s=>{let o=au();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=au();return this.indexManager.getCollectionParents(t,u).next(p=>tt.forEach(p,m=>{const g=function(S,w){return new zu(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(E=>{E.forEach((S,w)=>{f=f.insert(S,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((m,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,on.newInvalidDocument(E)))});let p=au();return f.forEach((m,g)=>{const E=u.get(m);E!==void 0&&mu(E.mutation,g,Dn.empty(),se.now()),Of(n,g)&&(p=p.insert(m,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return tt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Cr(o.createTime)}}(n)),tt.resolve()}getNamedQuery(t,n){return tt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(o){return{name:o.name,query:px(o.bundledQuery),readTime:Cr(o.readTime)}}(n)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.overlays=new fe(yt.comparator),this.qr=new Map}getOverlay(t,n){return tt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Js();return tt.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),tt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),tt.resolve()}getOverlaysForCollection(t,n,s){const o=Js(),u=n.length+1,f=new yt(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new fe((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Js(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const p=Js(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,E)=>p.set(g,E)),!(p.size()>=o)););return tt.resolve(p)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new F2(n,s));let u=this.qr.get(n);u===void 0&&(u=Lt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(){this.Qr=new Pe(He.$r),this.Ur=new Pe(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new He(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Gr(new He(t,n))}zr(t,n){t.forEach(s=>this.removeReference(s,n))}jr(t){const n=new yt(new re([])),s=new He(n,t),o=new He(n,t+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new yt(new re([])),s=new He(n,t),o=new He(n,t+1);let u=Lt();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new He(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class He{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return yt.comparator(t.key,n.key)||kt(t.Yr,n.Yr)}static Kr(t,n){return kt(t.Yr,n.Yr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pe(He.$r)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new H2(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new He(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return tt.resolve(f)}lookupMutationBatch(t,n){return tt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?Rg:this.tr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new He(n,0),o=new He(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const p=this.Xr(f.Yr);u.push(p)}),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Pe(kt);return n.forEach(o=>{const u=new He(o,0),f=new He(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],p=>{s=s.add(p.Yr)})}),tt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const f=new He(new yt(u),0);let p=new Pe(kt);return this.Zr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Yr)),!0)},f),tt.resolve(this.ti(p))}ti(t){const n=[];return t.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return tt.forEach(n.mutations,o=>{const u=new He(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,n){const s=new He(n,0),o=this.Zr.firstAfterOrEqual(s);return tt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(t){this.ri=t,this.docs=function(){return new fe(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return tt.resolve(s?s.document.mutableCopy():on.newInvalidDocument(n))}getEntries(t,n){let s=mi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():on.newInvalidDocument(o))}),tt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=mi();const f=n.path,p=new yt(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:E}}=m.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||r2(n2(E),s)<=0||(o.has(E.key)||Of(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){St(9500)}ii(t,n){return tt.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new Nx(this)}getSize(t){return tt.resolve(this.size)}}class Nx extends Sx{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)}),tt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t){this.persistence=t,this.si=new fa(n=>Dg(n),Ng),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.oi=0,this._i=new kg,this.targetCount=0,this.ai=Do.ur()}forEachTarget(t,n){return this.si.forEach((s,o)=>n(o)),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),tt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Do(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,tt.resolve()}updateTargetData(t,n){return this.Pr(n),tt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)}),tt.waitFor(u).next(()=>o)}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return tt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),tt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),tt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),tt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return tt.resolve(s)}containsKey(t,n){return tt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t,n){this.ui={},this.overlays={},this.ci=new If(0),this.li=!1,this.li=!0,this.hi=new Ix,this.referenceDelegate=t(this),this.Pi=new Ox(this),this.indexManager=new mx,this.remoteDocumentCache=function(o){return new Dx(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new dx(n),this.Ii=new bx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Rx,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new Cx(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const o=new xx(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(t,n){return tt.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,n)))}}class xx extends s2{constructor(t){super(),this.currentSequenceNumber=t}}class Lg{constructor(t){this.persistence=t,this.Ri=new kg,this.Vi=null}static mi(t){return new Lg(t)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),tt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),tt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.fi,s=>{const o=yt.fromPath(s);return this.gi(t,o).next(u=>{u||n.removeEntry(o,wt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return tt.or([()=>tt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class cf{constructor(t,n){this.persistence=t,this.pi=new fa(s=>l2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Tx(this,n)}static mi(t,n){return new cf(t,n)}Ei(){}di(t){return tt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}wr(t){let n=0;return this.pr(t,s=>{n++}).next(()=>n)}pr(t,n){return tt.forEach(this.pi,(s,o)=>this.br(t,s,o).next(u=>u?tt.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,f=>this.br(t,f,n).next(p=>{p||(s++,u.removeEntry(f,wt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),tt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),tt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),tt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Uh(t.data.value)),n}br(t,n,s){return tt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Lt(),o=Lt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ug(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return lC()?8:a2(ln())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new Mx;return this.Ss(t,n,f).next(p=>{if(u.result=p,this.Vs)return this.bs(t,n,f,p.size)})}).next(()=>u.result)}bs(t,n,s,o){return s.documentReadCount<this.fs?(oo()<=Pt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),tt.resolve()):(oo()<=Pt.DEBUG&&ht("QueryEngine","Query:",lo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(oo()<=Pt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ir(n))):tt.resolve())}ys(t,n){if(zT(n))return tt.resolve(null);let s=Ir(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=jm(n,null,"F"),s=Ir(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Lt(...u);return this.ps.getDocuments(t,f).next(p=>this.indexManager.getMinOffset(t,s).next(m=>{const g=this.Ds(n,p);return this.Cs(n,g,f,m.readTime)?this.ys(t,jm(n,null,"F")):this.vs(t,g,n,m)}))})))}ws(t,n,s,o){return zT(n)||o.isEqual(wt.min())?tt.resolve(null):this.ps.getDocuments(t,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?tt.resolve(null):(oo()<=Pt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(n)),this.vs(t,f,n,e2(o,Su)).next(p=>p))})}Ds(t,n){let s=new Pe(C1(t));return n.forEach((o,u)=>{Of(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return oo()<=Pt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",lo(n)),this.ps.getDocumentsMatchingQuery(t,n,ss.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="LocalStore",Px=3e8;class kx{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new fe(kt),this.xs=new fa(u=>Dg(u),Ng),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function Lx(r,t,n,s){return new kx(r,t,n,s)}async function Z1(r,t){const n=bt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let m=Lt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}for(const g of u){p.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}return n.localDocuments.getDocuments(s,m).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:p}))})})}function Ux(r,t){const n=bt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(p,m,g,E){const S=g.batch,w=S.keys();let M=tt.resolve();return w.forEach(U=>{M=M.next(()=>E.getEntry(m,U)).next(G=>{const H=g.docVersions.get(U);Kt(H!==null,48541),G.version.compareTo(H)<0&&(S.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),E.addEntry(G)))})}),M.next(()=>p.mutationQueue.removeMutationBatch(m,S))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let m=Lt();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function J1(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function zx(r,t){const n=bt(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];t.targetChanges.forEach((E,S)=>{const w=o.get(S);if(!w)return;p.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S)));let M=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?M=M.withResumeToken(Je.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(S,M),function(G,H,J){return G.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=Px?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0}(w,M,E)&&p.push(n.Pi.updateTargetData(u,M))});let m=mi(),g=Lt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),p.push(Bx(u,f,t.documentUpdates).next(E=>{m=E.ks,g=E.qs})),!s.isEqual(wt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(E)}return tt.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(n.Ms=o,u))}function Bx(r,t,n){let s=Lt(),o=Lt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=mi();return n.forEach((p,m)=>{const g=u.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(wt.min())?(t.removeEntry(p,m.readTime),f=f.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),f=f.insert(p,m)):ht(zg,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)}),{ks:f,qs:o}})}function jx(r,t){const n=bt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Rg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function qx(r,t){const n=bt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,t).next(u=>u?(o=u,tt.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new Zi(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s})}async function $m(r,t,n){const s=bt(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!jo(f))throw f;ht(zg,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function ZT(r,t,n){const s=bt(r);let o=wt.min(),u=Lt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(m,g,E){const S=bt(m),w=S.xs.get(E);return w!==void 0?tt.resolve(S.Ms.get(w)):S.Pi.getTargetData(g,E)}(s,f,Ir(t)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next(m=>{u=m})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:wt.min(),n?u:Lt())).next(p=>(Hx(s,I2(t),p),{documents:p,Qs:u})))}function Hx(r,t,n){let s=r.Os.get(t)||wt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(t,s)}class JT{constructor(){this.activeTargetIds=M2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Fx{constructor(){this.Mo=new JT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new JT,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="ConnectivityMonitor";class e0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(t0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(t0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh=null;function Km(){return wh===null?wh=function(){return 268435456+Math.round(2147483648*Math.random())}():wh++,"0x"+wh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="RestConnection",$x={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Kx{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===rf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=Km(),p=this.zo(t,n.toUriEncodedString());ht(hm,`Sending RPC '${t}' ${f}:`,p,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:g}=new URL(p),E=ko(g);return this.Jo(t,p,m,s,E).then(S=>(ht(hm,`Received RPC '${t}' ${f}: `,S),S),S=>{throw bo(hm,`RPC '${t}' ${f} failed with error: `,S,"url: ",p,"request:",s),S})}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}zo(t,n){const s=$x[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class Yx extends Kx{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=Km();return new Promise((p,m)=>{const g=new e1;g.setWithCredentials(!0),g.listenOnce(n1.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Lh.NO_ERROR:const S=g.getResponseJson();ht(sn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),p(S);break;case Lh.TIMEOUT:ht(sn,`RPC '${t}' ${f} timed out`),m(new ct(W.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:const w=g.getStatus();if(ht(sn,`RPC '${t}' ${f} failed with status:`,w,"response text:",g.getResponseText()),w>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const U=M==null?void 0:M.error;if(U&&U.status&&U.message){const G=function(J){const X=J.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(X)>=0?X:W.UNKNOWN}(U.status);m(new ct(G,U.message))}else m(new ct(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ct(W.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ht(sn,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);ht(sn,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}T_(t,n,s){const o=Km(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=s1(),p=i1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const E=u.join("");ht(sn,`Creating RPC '${t}' stream ${o}: ${E}`,m);const S=f.createWebChannel(E,m);this.I_(S);let w=!1,M=!1;const U=new Qx({Yo:H=>{M?ht(sn,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(w||(ht(sn,`Opening RPC '${t}' stream ${o} transport.`),S.open(),w=!0),ht(sn,`RPC '${t}' stream ${o} sending:`,H),S.send(H))},Zo:()=>S.close()}),G=(H,J,X)=>{H.listen(J,nt=>{try{X(nt)}catch(ut){setTimeout(()=>{throw ut},0)}})};return G(S,su.EventType.OPEN,()=>{M||(ht(sn,`RPC '${t}' stream ${o} transport opened.`),U.o_())}),G(S,su.EventType.CLOSE,()=>{M||(M=!0,ht(sn,`RPC '${t}' stream ${o} transport closed`),U.a_(),this.E_(S))}),G(S,su.EventType.ERROR,H=>{M||(M=!0,bo(sn,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),U.a_(new ct(W.UNAVAILABLE,"The operation could not be completed")))}),G(S,su.EventType.MESSAGE,H=>{var J;if(!M){const X=H.data[0];Kt(!!X,16349);const nt=X,ut=(nt==null?void 0:nt.error)||((J=nt[0])==null?void 0:J.error);if(ut){ht(sn,`RPC '${t}' stream ${o} received error:`,ut);const lt=ut.status;let ft=function(R){const x=be[R];if(x!==void 0)return B1(x)}(lt),C=ut.message;ft===void 0&&(ft=W.INTERNAL,C="Unknown error status: "+lt+" with message "+ut.message),M=!0,U.a_(new ct(ft,C)),S.close()}else ht(sn,`RPC '${t}' stream ${o} received:`,X),U.u_(X)}}),G(p,r1.STAT_EVENT,H=>{H.stat===Vm.PROXY?ht(sn,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===Vm.NOPROXY&&ht(sn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.__()},0),U}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function fm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(r){return new J2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="PersistentStream";class eA{constructor(t,n,s,o,u,f,p,m){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tA(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(pi(n.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{t(()=>{const o=new ct(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return ht(n0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(ht(n0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Xx extends eA{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=nx(this.serializer,t),s=function(u){if(!("targetChange"in u))return wt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?wt.min():f.readTime?Cr(f.readTime):wt.min()}(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Gm(this.serializer),n.addTarget=function(u,f){let p;const m=f.target;if(p=zm(m)?{documents:sx(u,m)}:{query:ax(u,m).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=H1(u,f.resumeToken);const g=qm(u,f.expectedCount);g!==null&&(p.expectedCount=g)}else if(f.snapshotVersion.compareTo(wt.min())>0){p.readTime=uf(u,f.snapshotVersion.toTimestamp());const g=qm(u,f.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,t);const s=lx(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Gm(this.serializer),n.removeTarget=t,this.q_(n)}}class Wx extends eA{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=ix(t.writeResults,t.commitTime),s=Cr(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Gm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>rx(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{}class Jx extends Zx{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(t,Hm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(W.UNKNOWN,u.toString())})}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Ho(t,Hm(n,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(W.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class tM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pi(n),this.aa=!1):ht("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class eM{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{da(this)&&(ht(ca,"Restarting streams for network reachability change."),await async function(m){const g=bt(m);g.Ea.add(4),await qu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await kf(g)}(this))})}),this.Ra=new tM(s,o)}}async function kf(r){if(da(r))for(const t of r.da)await t(!0)}async function qu(r){for(const t of r.da)await t(!1)}function nA(r,t){const n=bt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Hg(n)?qg(n):qo(n).O_()&&jg(n,t))}function Bg(r,t){const n=bt(r),s=qo(n);n.Ia.delete(t),s.O_()&&rA(n,t),n.Ia.size===0&&(s.O_()?s.L_():da(n)&&n.Ra.set("Unknown"))}function jg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}qo(r).Y_(t)}function rA(r,t){r.Va.Ue(t),qo(r).Z_(t)}function qg(r){r.Va=new Y2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),qo(r).start(),r.Ra.ua()}function Hg(r){return da(r)&&!qo(r).x_()&&r.Ia.size>0}function da(r){return bt(r).Ea.size===0}function iA(r){r.Va=void 0}async function nM(r){r.Ra.set("Online")}async function rM(r){r.Ia.forEach((t,n)=>{jg(r,t)})}async function iM(r,t){iA(r),Hg(r)?(r.Ra.ha(t),qg(r)):r.Ra.set("Unknown")}async function sM(r,t,n){if(r.Ra.set("Online"),t instanceof q1&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))}(r,t)}catch(s){ht(ca,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await hf(r,s)}else if(t instanceof jh?r.Va.Ze(t):t instanceof j1?r.Va.st(t):r.Va.tt(t),!n.isEqual(wt.min()))try{const s=await J1(r.localStore);n.compareTo(s)>=0&&await function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(m.resumeToken,f))}}),p.targetMismatches.forEach((m,g)=>{const E=u.Ia.get(m);if(!E)return;u.Ia.set(m,E.withResumeToken(Je.EMPTY_BYTE_STRING,E.snapshotVersion)),rA(u,m);const S=new Zi(E.target,m,g,E.sequenceNumber);jg(u,S)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){ht(ca,"Failed to raise snapshot:",s),await hf(r,s)}}async function hf(r,t,n){if(!jo(t))throw t;r.Ea.add(1),await qu(r),r.Ra.set("Offline"),n||(n=()=>J1(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ht(ca,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await kf(r)})}function sA(r,t){return t().catch(n=>hf(r,n,t))}async function Lf(r){const t=bt(r),n=us(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Rg;for(;aM(t);)try{const o=await jx(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,oM(t,o)}catch(o){await hf(t,o)}aA(t)&&oA(t)}function aM(r){return da(r)&&r.Ta.length<10}function oM(r,t){r.Ta.push(t);const n=us(r);n.O_()&&n.X_&&n.ea(t.mutations)}function aA(r){return da(r)&&!us(r).x_()&&r.Ta.length>0}function oA(r){us(r).start()}async function lM(r){us(r).ra()}async function uM(r){const t=us(r);for(const n of r.Ta)t.ea(n.mutations)}async function cM(r,t,n){const s=r.Ta.shift(),o=Mg.from(s,t,n);await sA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Lf(r)}async function hM(r,t){t&&us(r).X_&&await async function(s,o){if(function(f){return $2(f)&&f!==W.ABORTED}(o.code)){const u=s.Ta.shift();us(s).B_(),await sA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Lf(s)}}(r,t),aA(r)&&oA(r)}async function r0(r,t){const n=bt(r);n.asyncQueue.verifyOperationInProgress(),ht(ca,"RemoteStore received new credentials");const s=da(n);n.Ea.add(3),await qu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await kf(n)}async function fM(r,t){const n=bt(r);t?(n.Ea.delete(2),await kf(n)):t||(n.Ea.add(2),await qu(n),n.Ra.set("Unknown"))}function qo(r){return r.ma||(r.ma=function(n,s,o){const u=bt(n);return u.sa(),new Xx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:nM.bind(null,r),t_:rM.bind(null,r),r_:iM.bind(null,r),H_:sM.bind(null,r)}),r.da.push(async t=>{t?(r.ma.B_(),Hg(r)?qg(r):r.Ra.set("Unknown")):(await r.ma.stop(),iA(r))})),r.ma}function us(r){return r.fa||(r.fa=function(n,s,o){const u=bt(n);return u.sa(),new Wx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:lM.bind(null,r),r_:hM.bind(null,r),ta:uM.bind(null,r),na:cM.bind(null,r)}),r.da.push(async t=>{t?(r.fa.B_(),await Lf(r)):(await r.fa.stop(),r.Ta.length>0&&(ht(ca,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,p=new Fg(t,n,f,o,u);return p.start(s),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gg(r,t){if(pi("AsyncQueue",`${t}: ${r}`),jo(r))return new ct(W.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{static emptySet(t){return new yo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=au(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof yo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new yo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.ga=new fe(yt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):St(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,s)=>{t.push(s)}),t}}class No{constructor(t,n,s,o,u,f,p,m,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new No(t,n,yo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Nf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class pM{constructor(){this.queries=s0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=bt(n),u=o.queries;o.queries=s0(),u.forEach((f,p)=>{for(const m of p.Sa)m.onError(s)})})(this,new ct(W.ABORTED,"Firestore shutting down"))}}function s0(){return new fa(r=>I1(r),Nf)}async function lA(r,t){const n=bt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new dM,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Gg(f,`Initialization of query '${lo(t.query)}' failed`);return void t.onError(p)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&$g(n)}async function uA(r,t){const n=bt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function mM(r,t){const n=bt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&$g(n)}function gM(r,t,n){const s=bt(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function $g(r){r.Ca.forEach(t=>{t.next()})}var Qm,a0;(a0=Qm||(Qm={})).Ma="default",a0.Cache="cache";class cA{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new No(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=No.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t){this.key=t}}class fA{constructor(t){this.key=t}}class yM{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=C1(t),this.tu=new yo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new i0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,S)=>{const w=o.get(E),M=Of(this.query,S)?S:null,U=!!w&&this.mutatedKeys.has(w.key),G=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let H=!1;w&&M?w.data.isEqual(M.data)?U!==G&&(s.track({type:3,doc:M}),H=!0):this.su(w,M)||(s.track({type:2,doc:M}),H=!0,(m&&this.eu(M,m)>0||g&&this.eu(M,g)<0)&&(p=!0)):!w&&M?(s.track({type:0,doc:M}),H=!0):w&&!M&&(s.track({type:1,doc:w}),H=!0,(m||g)&&(p=!0)),H&&(M?(f=f.add(M),u=G?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort((E,S)=>function(M,U){const G=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:H})}};return G(M)-G(U)}(E.type,S.type)||this.eu(E.doc,S.doc)),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,f.length!==0||g?{snapshot:new No(this.query,t.tu,u,f,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new i0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return t.forEach(s=>{this.Xa.has(s)||n.push(new fA(s))}),this.Xa.forEach(s=>{t.has(s)||n.push(new hA(s))}),n}cu(t){this.Ya=t.Qs,this.Xa=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return No.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kg="SyncEngine";class _M{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class vM{constructor(t){this.key=t,this.hu=!1}}class EM{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new fa(p=>I1(p),Nf),this.Iu=new Map,this.Eu=new Set,this.du=new fe(yt.comparator),this.Au=new Map,this.Ru=new kg,this.Vu={},this.mu=new Map,this.fu=Do.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TM(r,t,n=!0){const s=_A(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await dA(s,t,n,!0),o}async function SM(r,t){const n=_A(r);await dA(n,t,!0,!1)}async function dA(r,t,n,s){const o=await qx(r.localStore,Ir(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await AM(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&nA(r.remoteStore,o),p}async function AM(r,t,n,s,o){r.pu=(S,w,M)=>async function(G,H,J,X){let nt=H.view.ru(J);nt.Cs&&(nt=await ZT(G.localStore,H.query,!1).then(({documents:C})=>H.view.ru(C,nt)));const ut=X&&X.targetChanges.get(H.targetId),lt=X&&X.targetMismatches.get(H.targetId)!=null,ft=H.view.applyChanges(nt,G.isPrimaryClient,ut,lt);return l0(G,H.targetId,ft.au),ft.snapshot}(r,S,w,M);const u=await ZT(r.localStore,t,!0),f=new yM(t,u.Qs),p=f.ru(u.documents),m=ju.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(p,r.isPrimaryClient,m);l0(r,n,g.au);const E=new _M(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),g.snapshot}async function wM(r,t,n){const s=bt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!Nf(f,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await $m(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Bg(s.remoteStore,o.targetId),Ym(s,o.targetId)}).catch(Bo)):(Ym(s,o.targetId),await $m(s.localStore,o.targetId,!0))}async function bM(r,t){const n=bt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Bg(n.remoteStore,s.targetId))}async function RM(r,t,n){const s=MM(r);try{const o=await function(f,p){const m=bt(f),g=se.now(),E=p.reduce((M,U)=>M.add(U.key),Lt());let S,w;return m.persistence.runTransaction("Locally write mutations","readwrite",M=>{let U=mi(),G=Lt();return m.Ns.getEntries(M,E).next(H=>{U=H,U.forEach((J,X)=>{X.isValidDocument()||(G=G.add(J))})}).next(()=>m.localDocuments.getOverlayedDocuments(M,U)).next(H=>{S=H;const J=[];for(const X of p){const nt=j2(X,S.get(X.key).overlayedDocument);nt!=null&&J.push(new ps(X.key,nt,v1(nt.value.mapValue),nr.exists(!0)))}return m.mutationQueue.addMutationBatch(M,g,J,p)}).next(H=>{w=H;const J=H.applyToLocalDocumentSet(S,G);return m.documentOverlayCache.saveOverlays(M,H.batchId,J)})}).then(()=>({batchId:w.batchId,changes:N1(S)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,m){let g=f.Vu[f.currentUser.toKey()];g||(g=new fe(kt)),g=g.insert(p,m),f.Vu[f.currentUser.toKey()]=g}(s,o.batchId,n),await Hu(s,o.changes),await Lf(s.remoteStore)}catch(o){const u=Gg(o,"Failed to persist write");n.reject(u)}}async function pA(r,t){const n=bt(r);try{const s=await zx(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Kt(f.hu,14607):o.removedDocuments.size>0&&(Kt(f.hu,42227),f.hu=!1))}),await Hu(n,s,t)}catch(s){await Bo(s)}}function o0(r,t,n){const s=bt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const p=f.view.va(t);p.snapshot&&o.push(p.snapshot)}),function(f,p){const m=bt(f);m.onlineState=p;let g=!1;m.queries.forEach((E,S)=>{for(const w of S.Sa)w.va(p)&&(g=!0)}),g&&$g(m)}(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function IM(r,t,n){const s=bt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new fe(yt.comparator);f=f.insert(u,on.newNoDocument(u,wt.min()));const p=Lt().add(u),m=new Vf(wt.min(),new Map,new fe(kt),f,p);await pA(s,m),s.du=s.du.remove(u),s.Au.delete(t),Qg(s)}else await $m(s.localStore,t,!1).then(()=>Ym(s,t,n)).catch(Bo)}async function CM(r,t){const n=bt(r),s=t.batch.batchId;try{const o=await Ux(n.localStore,t);gA(n,s,null),mA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Hu(n,o)}catch(o){await Bo(o)}}async function DM(r,t,n){const s=bt(r);try{const o=await function(f,p){const m=bt(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return m.mutationQueue.lookupMutationBatch(g,p).next(S=>(Kt(S!==null,37113),E=S.keys(),m.mutationQueue.removeMutationBatch(g,S))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,E,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>m.localDocuments.getDocuments(g,E))})}(s.localStore,t);gA(s,t,n),mA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Hu(s,o)}catch(o){await Bo(o)}}function mA(r,t){(r.mu.get(t)||[]).forEach(n=>{n.resolve()}),r.mu.delete(t)}function gA(r,t,n){const s=bt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Ym(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach(s=>{r.Ru.containsKey(s)||yA(r,s)})}function yA(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Bg(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Qg(r))}function l0(r,t,n){for(const s of n)s instanceof hA?(r.Ru.addReference(s.key,t),NM(r,s)):s instanceof fA?(ht(Kg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||yA(r,s.key)):St(19791,{wu:s})}function NM(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ht(Kg,"New document in limbo: "+n),r.Eu.add(s),Qg(r))}function Qg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new yt(re.fromString(t)),s=r.fu.next();r.Au.set(s,new vM(n)),r.du=r.du.insert(n,s),nA(r.remoteStore,new Zi(Ir(Og(n.path)),s,"TargetPurposeLimboResolution",If.ce))}}async function Hu(r,t,n){const s=bt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((p,m)=>{f.push(s.pu(m,t,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const S=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:E.current;s.sharedClientState.updateQueryState(m.targetId,S?"current":"not-current")}if(g){o.push(g);const S=Ug.As(m.targetId,g);u.push(S)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(m,g){const E=bt(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>tt.forEach(g,w=>tt.forEach(w.Es,M=>E.persistence.referenceDelegate.addReference(S,w.targetId,M)).next(()=>tt.forEach(w.ds,M=>E.persistence.referenceDelegate.removeReference(S,w.targetId,M)))))}catch(S){if(!jo(S))throw S;ht(zg,"Failed to update sequence numbers: "+S)}for(const S of g){const w=S.targetId;if(!S.fromCache){const M=E.Ms.get(w),U=M.snapshotVersion,G=M.withLastLimboFreeSnapshotVersion(U);E.Ms=E.Ms.insert(w,G)}}}(s.localStore,u))}async function OM(r,t){const n=bt(r);if(!n.currentUser.isEqual(t)){ht(Kg,"User change. New user:",t.toKey());const s=await Z1(n.localStore,t);n.currentUser=t,function(u,f){u.mu.forEach(p=>{p.forEach(m=>{m.reject(new ct(W.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Hu(n,s.Ls)}}function xM(r,t){const n=bt(r),s=n.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let o=Lt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function _A(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=pA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=IM.bind(null,t),t.Pu.H_=mM.bind(null,t.eventManager),t.Pu.yu=gM.bind(null,t.eventManager),t}function MM(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=CM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=DM.bind(null,t),t}class ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Pf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return Lx(this.persistence,new Vx,t.initialUser,this.serializer)}Cu(t){return new W1(Lg.mi,this.serializer)}Du(t){return new Fx}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ff.provider={build:()=>new ff};class VM extends ff{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Kt(this.persistence.referenceDelegate instanceof cf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new vx(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new W1(s=>cf.mi(s,n),this.serializer)}}class Xm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>o0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=OM.bind(null,this.syncEngine),await fM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new pM}()}createDatastore(t){const n=Pf(t.databaseInfo.databaseId),s=function(u){return new Yx(u)}(t.databaseInfo);return function(u,f,p,m){return new Jx(u,f,p,m)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,p){return new eM(s,o,u,f,p)}(this.localStore,this.datastore,t.asyncQueue,n=>o0(this.syncEngine,n,0),function(){return e0.v()?new e0:new Gx}())}createSyncEngine(t,n){return function(o,u,f,p,m,g,E){const S=new EM(o,u,f,p,m,g);return E&&(S.gu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=bt(o);ht(ca,"RemoteStore shutting down."),u.Ea.add(5),await qu(u),u.Aa.shutdown(),u.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}Xm.provider={build:()=>new Xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):pi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="FirestoreClient";class PM{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=bg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ht(cs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ht(cs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Gg(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function dm(r,t){r.asyncQueue.verifyOperationInProgress(),ht(cs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Z1(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function u0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await kM(r);ht(cs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>r0(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>r0(t.remoteStore,o)),r._onlineComponents=t}async function kM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ht(cs,"Using user provided OfflineComponentProvider");try{await dm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await dm(r,new ff)}}else ht(cs,"Using default OfflineComponentProvider"),await dm(r,new VM(void 0));return r._offlineComponents}async function EA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ht(cs,"Using user provided OnlineComponentProvider"),await u0(r,r._uninitializedComponentsProvider._online)):(ht(cs,"Using default OnlineComponentProvider"),await u0(r,new Xm))),r._onlineComponents}function LM(r){return EA(r).then(t=>t.syncEngine)}async function TA(r){const t=await EA(r),n=t.eventManager;return n.onListen=TM.bind(null,t.syncEngine),n.onUnlisten=wM.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=SM.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=bM.bind(null,t.syncEngine),n}function UM(r,t,n={}){const s=new ci;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,g){const E=new vA({next:w=>{E.Nu(),f.enqueueAndForget(()=>uA(u,S));const M=w.docs.has(p);!M&&w.fromCache?g.reject(new ct(W.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&w.fromCache&&m&&m.source==="server"?g.reject(new ct(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),S=new cA(Og(p.path),E,{includeMetadataChanges:!0,qa:!0});return lA(u,S)}(await TA(r),r.asyncQueue,t,n,s)),s.promise}function zM(r,t,n={}){const s=new ci;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,g){const E=new vA({next:w=>{E.Nu(),f.enqueueAndForget(()=>uA(u,S)),w.fromCache&&m.source==="server"?g.reject(new ct(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),S=new cA(p,E,{includeMetadataChanges:!0,qa:!0});return lA(u,S)}(await TA(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="firestore.googleapis.com",h0=!0;class f0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AA,this.ssl=h0}else this.host=t.host,this.ssl=t.ssl??h0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=X1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<yx)throw new ct(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}t2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SA(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Uf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new FO;switch(s.type){case"firstParty":return new QO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=c0.get(n);s&&(ht("ComponentProvider","Removing Datastore"),c0.delete(n),s.terminate())}(this),Promise.resolve()}}function BM(r,t,n,s={}){var g;r=Or(r,Uf);const o=ko(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${n}`;o&&(fS(`https://${p}`),dS("Firestore",!0)),u.host!==AA&&u.host!==p&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:p,ssl:o,emulatorOptions:s};if(!sa(m,f)&&(r._setSettings(m),s.mockUserToken)){let E,S;if(typeof s.mockUserToken=="string")E=s.mockUserToken,S=an.MOCK_USER;else{E=JI(s.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ct(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new an(w)}r._authCredentials=new GO(new o1(E,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ho(this.firestore,t,this._query)}}class Ee{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ee(this.firestore,t,this._key)}toJSON(){return{type:Ee._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Uu(n,Ee._jsonSchema))return new Ee(t,s||null,new yt(re.fromString(n.referencePath)))}}Ee._jsonSchemaVersion="firestore/documentReference/1.0",Ee._jsonSchema={type:Ce("string",Ee._jsonSchemaVersion),referencePath:Ce("string")};class is extends Ho{constructor(t,n,s){super(t,n,Og(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ee(this.firestore,null,new yt(t))}withConverter(t){return new is(this.firestore,t,this._path)}}function Wm(r,t,...n){if(r=ke(r),l1("collection","path",t),r instanceof Uf){const s=re.fromString(t,...n);return bT(s),new is(r,null,s)}{if(!(r instanceof Ee||r instanceof is))throw new ct(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(re.fromString(t,...n));return bT(s),new is(r.firestore,null,s)}}function Fu(r,t,...n){if(r=ke(r),arguments.length===1&&(t=bg.newId()),l1("doc","path",t),r instanceof Uf){const s=re.fromString(t,...n);return wT(s),new Ee(r,null,new yt(s))}{if(!(r instanceof Ee||r instanceof is))throw new ct(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(re.fromString(t,...n));return wT(s),new Ee(r.firestore,r instanceof is?r.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="AsyncQueue";class p0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tA(this,"async_queue_retry"),this._c=()=>{const s=fm();s&&ht(d0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=fm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ci;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!jo(t))throw t;ht(d0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,pi("INTERNAL UNHANDLED ERROR: ",m0(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Fg.createAndSchedule(this,t,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&St(47125,{Pc:m0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function m0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Fo extends Uf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new p0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new p0(t),this._firestoreClient=void 0,await t}}}function wA(r,t){const n=typeof r=="object"?r:yS(),s=typeof r=="string"?r:rf,o=pg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=WI("firestore");u&&BM(o,...u)}return o}function Yg(r){if(r._terminated)throw new ct(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jM(r),r._firestoreClient}function jM(r){var s,o,u;const t=r._freezeSettings(),n=function(p,m,g,E){return new h2(p,m,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,SA(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,t);r._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new PM(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(p){const m=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gn(Je.fromBase64String(t))}catch(n){throw new ct(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Gn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Uu(t,Gn._jsonSchema))return Gn.fromBase64String(t.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Ce("string",Gn._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Dr._jsonSchemaVersion}}static fromJSON(t){if(Uu(t,Dr._jsonSchema))return new Dr(t.latitude,t.longitude)}}Dr._jsonSchemaVersion="firestore/geoPoint/1.0",Dr._jsonSchema={type:Ce("string",Dr._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Uu(t,Nr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Nr(t.vectorValues);throw new ct(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nr._jsonSchemaVersion="firestore/vectorValue/1.0",Nr._jsonSchema={type:Ce("string",Nr._jsonSchemaVersion),vectorValues:Ce("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=/^__.*__$/;class HM{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ps(t,this.data,this.fieldMask,n,this.fieldTransforms):new Bu(t,this.data,n,this.fieldTransforms)}}class bA{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ps(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function RA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:r})}}class Xg{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Xg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const n=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){var o;const n=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return df(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(RA(this.Ac)&&qM.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class FM{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Pf(t)}Cc(t,n,s,o=!1){return new Xg({Ac:t,methodName:n,Dc:s,path:Ze.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jf(r){const t=r._freezeSettings(),n=Pf(r._databaseId);return new FM(r._databaseId,!!t.ignoreUndefinedProperties,n)}function IA(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);Zg("Data must be an object, but it was:",f,s);const p=CA(s,f);let m,g;if(u.merge)m=new Dn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const w=Zm(t,S,n);if(!f.contains(w))throw new ct(W.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);NA(E,w)||E.push(w)}m=new Dn(E),g=f.fieldTransforms.filter(S=>m.covers(S.field))}else m=null,g=f.fieldTransforms;return new HM(new _n(p),m,g)}class qf extends Bf{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof qf}}class Wg extends Bf{_toFieldTransform(t){return new L2(t.path,new Ru)}isEqual(t){return t instanceof Wg}}function GM(r,t,n,s){const o=r.Cc(1,t,n);Zg("Data must be an object, but it was:",o,s);const u=[],f=_n.empty();ds(s,(m,g)=>{const E=Jg(t,m,n);g=ke(g);const S=o.yc(E);if(g instanceof qf)u.push(E);else{const w=Gu(g,S);w!=null&&(u.push(E),f.set(E,w))}});const p=new Dn(u);return new bA(f,p,o.fieldTransforms)}function $M(r,t,n,s,o,u){const f=r.Cc(1,t,n),p=[Zm(t,s,n)],m=[o];if(u.length%2!=0)throw new ct(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)p.push(Zm(t,u[w])),m.push(u[w+1]);const g=[],E=_n.empty();for(let w=p.length-1;w>=0;--w)if(!NA(g,p[w])){const M=p[w];let U=m[w];U=ke(U);const G=f.yc(M);if(U instanceof qf)g.push(M);else{const H=Gu(U,G);H!=null&&(g.push(M),E.set(M,H))}}const S=new Dn(g);return new bA(E,S,f.fieldTransforms)}function KM(r,t,n,s=!1){return Gu(n,r.Cc(s?4:3,t))}function Gu(r,t){if(DA(r=ke(r)))return Zg("Unsupported field value:",t,r),CA(r,t);if(r instanceof Bf)return function(s,o){if(!RA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let m=Gu(p,o.wc(f));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=ke(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return V2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=se.fromDate(s);return{timestampValue:uf(o.serializer,u)}}if(s instanceof se){const u=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:uf(o.serializer,u)}}if(s instanceof Dr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gn)return{bytesValue:H1(o.serializer,s._byteString)};if(s instanceof Ee){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Pg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Nr)return function(f,p){return{mapValue:{fields:{[y1]:{stringValue:_1},[sf]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return xg(p.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Rf(s)}`)}(r,t)}function CA(r,t){const n={};return h1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ds(r,(s,o)=>{const u=Gu(o,t.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function DA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof Dr||r instanceof Gn||r instanceof Ee||r instanceof Bf||r instanceof Nr)}function Zg(r,t,n){if(!DA(n)||!u1(n)){const s=Rf(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function Zm(r,t,n){if((t=ke(t))instanceof zf)return t._internalPath;if(typeof t=="string")return Jg(r,t);throw df("Field path arguments must be of type string or ",r,!1,void 0,n)}const QM=new RegExp("[~\\*/\\[\\]]");function Jg(r,t,n){if(t.search(QM)>=0)throw df(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new zf(...t.split("."))._internalPath}catch{throw df(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function df(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${s}`),f&&(m+=` in document ${o}`),m+=")"),new ct(W.INVALID_ARGUMENT,p+r+m)}function NA(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ee(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new YM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ty("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YM extends OA{data(){return super.data()}}function ty(r,t){return typeof t=="string"?Jg(r,t):t instanceof zf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ey{}class WM extends ey{}function ZM(r,t,...n){let s=[];t instanceof ey&&s.push(t),s=s.concat(n),function(u){const f=u.filter(m=>m instanceof ny).length,p=u.filter(m=>m instanceof Hf).length;if(f>1||f>0&&p>0)throw new ct(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Hf extends WM{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Hf(t,n,s)}_apply(t){const n=this._parse(t);return xA(t._query,n),new Ho(t.firestore,t.converter,Bm(t._query,n))}_parse(t){const n=jf(t.firestore);return function(u,f,p,m,g,E,S){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ct(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){y0(S,E);const U=[];for(const G of S)U.push(g0(m,u,G));w={arrayValue:{values:U}}}else w=g0(m,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||y0(S,E),w=KM(p,f,S,E==="in"||E==="not-in");return Ie.create(g,E,w)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function JM(r,t,n){const s=t,o=ty("where",r);return Hf._create(o,s,n)}class ny extends ey{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new ny(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:sr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const p=u.getFlattenedFilters();for(const m of p)xA(f,m),f=Bm(f,m)}(t._query,n),new Ho(t.firestore,t.converter,Bm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function g0(r,t,n){if(typeof(n=ke(n))=="string"){if(n==="")throw new ct(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!R1(t)&&n.indexOf("/")!==-1)throw new ct(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(re.fromString(n));if(!yt.isDocumentKey(s))throw new ct(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return MT(r,new yt(s))}if(n instanceof Ee)return MT(r,n._key);throw new ct(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rf(n)}.`)}function y0(r,t){if(!Array.isArray(r)||r.length===0)throw new ct(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function xA(r,t){const n=function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ct(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class t4{convertValue(t,n="none"){switch(ls(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(os(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ds(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var s,o,u;const n=(u=(o=(s=t.fields)==null?void 0:s[sf].arrayValue)==null?void 0:o.values)==null?void 0:u.map(f=>ve(f.doubleValue));return new Nr(n)}convertGeoPoint(t){return new Dr(ve(t.latitude),ve(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Df(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Au(t));default:return null}}convertTimestamp(t){const n=as(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=re.fromString(t);Kt(Y1(s),9688,{name:t});const o=new wu(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(n)||pi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class lu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ea extends OA{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(ty("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:Ce("string",ea._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class qh extends ea{data(t={}){return super.data(t)}}class _o{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new lu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new qh(this._firestore,this._userDataWriter,s.key,s,new lu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const m=new qh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new lu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const m=new qh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new lu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return p.type!==0&&(g=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:e4(p.type),doc:m,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=_o._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=bg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function e4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(r){r=Or(r,Ee);const t=Or(r.firestore,Fo);return UM(Yg(t),r._key).then(n=>s4(t,r,n))}_o._jsonSchemaVersion="firestore/querySnapshot/1.0",_o._jsonSchema={type:Ce("string",_o._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class PA extends t4{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ee(this.firestore,null,n)}}function _0(r){r=Or(r,Ho);const t=Or(r.firestore,Fo),n=Yg(t),s=new PA(t);return XM(r._query),zM(n,r._query).then(o=>new _o(t,s,r,o))}function n4(r,t,n){r=Or(r,Ee);const s=Or(r.firestore,Fo),o=MA(r.converter,t);return ry(s,[IA(jf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,nr.none())])}function r4(r,t,n,...s){r=Or(r,Ee);const o=Or(r.firestore,Fo),u=jf(o);let f;return f=typeof(t=ke(t))=="string"||t instanceof zf?$M(u,"updateDoc",r._key,t,n,s):GM(u,"updateDoc",r._key,t),ry(o,[f.toMutation(r._key,nr.exists(!0))])}function i4(r,t){const n=Or(r.firestore,Fo),s=Fu(r),o=MA(r.converter,t);return ry(n,[IA(jf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,nr.exists(!1))]).then(()=>s)}function ry(r,t){return function(s,o){const u=new ci;return s.asyncQueue.enqueueAndForget(async()=>RM(await LM(s),o,u)),u.promise}(Yg(r),t)}function s4(r,t,n){const s=n.docs.get(t._key),o=new PA(r);return new ea(r,o,t._key,s,new lu(n.hasPendingWrites,n.fromCache),t.converter)}function a4(){return new Wg("serverTimestamp")}(function(t,n=!0){(function(o){zo=o})(Lo),Ao(new aa("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new Fo(new $O(s.getProvider("auth-internal")),new YO(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(g.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),ns(ET,TT,t),ns(ET,TT,"esm2020")})();const o4={apiKey:"AIzaSyB5aFUQbtG1rShW-1O88aZjCG7uErNxmgQ",authDomain:"pdms-test-8a5cc.firebaseapp.com",projectId:"pdms-test-8a5cc",storageBucket:"pdms-test-8a5cc.firebasestorage.app",messagingSenderId:"631678861167",appId:"1:631678861167:web:5cd775b77e53535700329a"},iy=gS(o4);wA(iy);const na=wA(iy),Oo=BO(iy);function l4({onLoginSuccess:r}){const[t,n]=F.useState(""),[s,o]=F.useState(""),u=Nu(),f=()=>{u("/signup")},p=()=>{wN(Oo,t,s).then(()=>{r(),u("/dashboard")}).catch(m=>{alert(" : "+m.message)})};return rt.jsxs(u4,{children:[rt.jsxs(c4,{children:[rt.jsxs(h4,{children:[rt.jsx(f4,{children:"PDMS"}),rt.jsx(d4,{children:"Pushcomz Design Management System"})]}),rt.jsxs(p4,{children:[rt.jsx(m4,{type:"text",value:t,onChange:m=>n(m.target.value),placeholder:" ."}),rt.jsx(g4,{type:"password",value:s,onChange:m=>o(m.target.value),placeholder:" ."})]}),rt.jsx(y4,{onClick:p,children:""}),rt.jsxs(v4,{children:[rt.jsx(E4,{children:" ?"}),rt.jsx(T4,{onClick:f,children:""})]})]}),rt.jsx(_4,{children:" Pushcomz Corp."})]})}const u4=It.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:r})=>r.colors.gray};
`,c4=It.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:r})=>r.colors.white};
`,h4=It.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,f4=It.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:r})=>r.colors.navy};
`,d4=It.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,p4=It.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
`,m4=It.input`
  width: 460px;
  margin-bottom: 10px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,g4=It.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,y4=It.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:r})=>r.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:r})=>r.colors.white};
`,_4=It.p`
  margin-top: 20px;
  font-size: 12px;
  font-weight: 300;
  line-height: 18px;
  text-align: center;
`,v4=It.div`
  
`,E4=It.span`
  margin-right: 10px;
  font-size: 13px;
`,T4=It.button`
  font-size: 13px;
  color: ${({theme:r})=>r.colors.navy};
`,kA="./assets/logo-NEcdCz8m.svg";function S4(){const[r,t]=F.useState(""),[n,s]=F.useState(null),o=Nu();F.useEffect(()=>{const p=Tg(Oo,async m=>{if(m){m.displayName&&t(m.displayName);const g=await VA(Fu(na,"users",m.uid));g.exists()?s(g.data().role):s(null)}else t(""),s(null)});return()=>p()},[]);const u=()=>{DN(Oo).then(()=>{o("/")}).catch(p=>{alert("   : "+p.message)})},f=p=>{switch(p){case 1:return"";case 2:return"";case 3:return"";default:return" "}};return rt.jsxs(A4,{children:[rt.jsx(w4,{src:kA}),rt.jsxs(b4,{children:[rt.jsxs(R4,{children:[r," (",f(n),")."]}),rt.jsx(I4,{onClick:u,children:""}),rt.jsx(C4,{})]})]})}const A4=It.header`
  ${({theme:r})=>r.mixin.flex("center","space-between")};
  padding: 15px 20px;
  background-color: ${({theme:r})=>r.colors.navy};
`,w4=It.img`
  
`,b4=It.div`

`,R4=It.span`
  margin-right: 10px;
  color: ${({theme:r})=>r.colors.white};
  font-size: 14px;
  line-height: 20px;
`,I4=It.button`
  color: ${({theme:r})=>r.colors.white};
  font-size: 14px;
  line-height: 20px;
`,C4=It.span`
  color: ${({theme:r})=>r.colors.white};
  font-size: 14px;
  line-height: 20px;
`;function D4(){const[r,t]=F.useState(""),[n,s]=F.useState(""),[o,u]=F.useState(""),[f,p]=F.useState(""),[m,g]=F.useState("");F.useEffect(()=>{const S=Tg(Oo,w=>{w&&w.displayName&&t(w.displayName)});return()=>S()},[]);const E=async S=>{if(S.preventDefault(),!f){alert("  .");return}const w=new Date,M=`${w.getMonth()+1}/${w.getDate()}`;i4(Wm(na,"design_request"),{requester:r,request_date:M,task_form:n,task_type:o,requirement:f,url:m,created_at:a4(),updated_at:null,delete_at:null}).then(()=>{alert(" !"),p(""),g("")}).catch(U=>{alert("   : "+U.message)})};return rt.jsxs(N4,{onSubmit:E,children:[rt.jsx("h2",{children:"  "}),rt.jsxs(O4,{children:[rt.jsx("label",{children:""}),rt.jsxs("select",{value:n,onChange:S=>s(S.target.value),children:[rt.jsx("option",{value:"GHS",children:"GHS"}),rt.jsx("option",{value:"MHC",children:"MHC"})]}),rt.jsx("label",{children:""}),rt.jsxs("select",{value:o,onChange:S=>u(S.target.value),children:[rt.jsx("option",{value:"",children:""}),rt.jsx("option",{value:"",children:""}),rt.jsx("option",{value:"",children:""}),rt.jsx("option",{value:"",children:""})]}),rt.jsx("label",{children:" "}),rt.jsx("input",{type:"text",value:f,onChange:S=>p(S.target.value),placeholder:"  ."}),rt.jsx("label",{children:"  URL"}),rt.jsx("input",{type:"text",value:m,onChange:S=>g(S.target.value),placeholder:"  URL ."})]}),rt.jsx(x4,{type:"submit",children:""})]})}const N4=It.form`
`,O4=It.ul`
  ${({theme:r})=>r.mixin.flex()};
  flex-direction: column;
`,x4=It.button`
  
`;function M4(){return rt.jsx(rt.Fragment,{})}function V4(){const[r,t]=F.useState([]),[n,s]=F.useState([]),[o,u]=F.useState({});F.useEffect(()=>{(async()=>{const E=(await _0(Wm(na,"design_request"))).docs.map(S=>({id:S.id,...S.data()}));t(E)})()},[]),F.useEffect(()=>{(async()=>{const g=ZM(Wm(na,"users"),JM("role","==",2)),S=(await _0(g)).docs.map(w=>({id:w.id,...w.data()}));s(S)})()},[]);const f=(m,g)=>{u(E=>({...E,[m]:g}))},p=async m=>{const g=o[m];if(!g){alert(" .");return}const E=Fu(na,"design_request",m);await r4(E,{assigned_designer:g,status:"assigned"}),alert(" !"),t(S=>S.map(w=>w.id===m?{...w,assigned_designer:g}:w))};return rt.jsxs(P4,{children:[rt.jsx("h2",{children:" "}),r.length>0?rt.jsx(k4,{children:r.map(m=>rt.jsxs(L4,{children:[rt.jsxs(U4,{children:[rt.jsxs("p",{children:[rt.jsx("strong",{children:":"})," ",m.requester]}),rt.jsxs("p",{children:[rt.jsx("strong",{children:":"})," ",m.request_date]}),rt.jsxs("p",{children:[rt.jsx("strong",{children:":"})," ",m.task_form]}),rt.jsxs("p",{children:[rt.jsx("strong",{children:":"})," ",m.task_type]}),rt.jsxs("p",{children:[rt.jsx("strong",{children:":"})," ",m.requirement]}),m.url&&rt.jsxs("p",{children:[rt.jsx("strong",{children:":"})," ",rt.jsx("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",children:""})]}),rt.jsxs("p",{children:[rt.jsx("strong",{children:" :"})," ",m.assigned_designer||""]})]}),rt.jsxs(z4,{children:[rt.jsxs("select",{value:o[m.id]||"",onChange:g=>f(m.id,g.target.value),children:[rt.jsx("option",{value:"",children:" "}),n.map(g=>rt.jsx("option",{value:g.name,children:g.name},g.id))]}),rt.jsx("button",{onClick:()=>p(m.id),children:""})]})]},m.id))}):rt.jsx("p",{children:"   ..."})]})}const P4=It.div`
  padding: 20px;
`,k4=It.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
`,L4=It.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  border: 1px solid #ddd;
  padding: 16px;
  border-radius: 8px;
  background: #fff;
`,U4=It.div`
  flex: 1;
  p {
    margin: 4px 0;
  }
`,z4=It.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
  select {
    padding: 8px;
    font-size: 14px;
  }
  button {
    padding: 8px 12px;
    background: #073863;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
`;function B4(){const[r,t]=F.useState(null);F.useEffect(()=>{const s=Tg(Oo,async o=>{if(o){const u=await VA(Fu(na,"users",o.uid));u.exists()&&t(u.data().role)}else t(null)});return()=>s()},[]);const n=()=>{if(r===1)return rt.jsx(D4,{});if(r===2)return rt.jsx(M4,{});if(r===3)return rt.jsx(V4,{})};return rt.jsx(j4,{children:n()})}const j4=It.main`
  
`;function q4(){return rt.jsxs(H4,{children:[rt.jsx(S4,{}),rt.jsx(B4,{})]})}const H4=It.div`
  
`;function F4(){const[r,t]=F.useState(""),[n,s]=F.useState(""),[o,u]=F.useState(""),[f,p]=F.useState(""),m=Nu(),g=async()=>{if(o!==f){alert("  .");return}AN(Oo,n,o).then(async E=>{const S=E.user;await RN(S,{displayName:r}),await n4(Fu(na,"users",S.uid),{role:3,createdAt:new Date})}).then(()=>{alert(" !"),m("/")}).catch(E=>{alert("   : "+E.message)})};return rt.jsx(G4,{children:rt.jsxs($4,{children:[rt.jsxs(K4,{children:[rt.jsx(Q4,{children:"PDMS"}),rt.jsx(Y4,{children:"Pushcomz Design Management System"})]}),rt.jsx(X4,{children:rt.jsx(W4,{src:kA})}),rt.jsxs(Z4,{children:[rt.jsx(J4,{type:"text",value:r,onChange:E=>t(E.target.value),placeholder:" ."}),rt.jsx(tV,{type:"text",value:n,onChange:E=>s(E.target.value),placeholder:" ."}),rt.jsx(eV,{type:"password",value:o,onChange:E=>u(E.target.value),placeholder:" ."}),rt.jsx(nV,{type:"password",value:f,onChange:E=>p(E.target.value),placeholder:"  ."})]}),rt.jsx(rV,{onClick:g,children:""})]})})}const G4=It.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:r})=>r.colors.gray};
`,$4=It.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:r})=>r.colors.white};
`,K4=It.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,Q4=It.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:r})=>r.colors.navy};
`,Y4=It.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,X4=It.div`
  margin-right: auto;
`,W4=It.img`
  
`,Z4=It.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  gap: 10px;
`,J4=It.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,tV=It.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,eV=It.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,nV=It.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,rV=It.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:r})=>r.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:r})=>r.colors.white};
`;function iV(){const[r,t]=F.useState(!1);return rt.jsx(OR,{basename:"/pdms-test",children:rt.jsxs(lR,{children:[rt.jsx(bh,{path:"/",element:rt.jsx(l4,{onLoginSuccess:()=>t(!0)})}),rt.jsx(bh,{path:"/dashboard",element:r?rt.jsx(q4,{}):rt.jsx(aR,{to:"/"})}),rt.jsx(bh,{path:"/signup",element:rt.jsx(F4,{})})]})})}const sV=qI`
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    height: 100vh;
  }

  li {
    list-style: none;
  }

  button {
    background-color: transparent;
    border: none;
    cursor: pointer;
    &:focus {
      outline: none;
    }
  }

  input {
    border: none;

    &:focus {
      outline: none;
    }
  }
`,aV={white:"#fff",navy:"#073863",gray:"#EFEFEF"},oV={flex:(r="flex-start",t="flex-start")=>`
    display: flex;
    align-items: ${r};
    justify-content: ${t}
  `},lV={colors:aV,mixin:oV};yb.createRoot(document.getElementById("root")).render(rt.jsx(F.StrictMode,{children:rt.jsxs(zI,{theme:lV,children:[rt.jsx(iV,{}),rt.jsx(sV,{})]})}));
