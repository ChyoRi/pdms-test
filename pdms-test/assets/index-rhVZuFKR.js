(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function _b(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var tm={exports:{}},iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function vb(){if(DE)return iu;DE=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return iu.Fragment=t,iu.jsx=n,iu.jsxs=n,iu}var NE;function Eb(){return NE||(NE=1,tm.exports=vb()),tm.exports}var A=Eb(),em={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function Tb(){if(OE)return xt;OE=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,$={};function H(N,nt,st){this.props=N,this.context=nt,this.refs=$,this.updater=st||O}H.prototype.isReactComponent={},H.prototype.setState=function(N,nt){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,nt,"setState")},H.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function J(){}J.prototype=H.prototype;function W(N,nt,st){this.props=N,this.context=nt,this.refs=$,this.updater=st||O}var rt=W.prototype=new J;rt.constructor=W,j(rt,H.prototype),rt.isPureReactComponent=!0;var ut=Array.isArray,lt={H:null,A:null,T:null,S:null,V:null},dt=Object.prototype.hasOwnProperty;function x(N,nt,st,it,gt,It){return st=It.ref,{$$typeof:r,type:N,key:nt,ref:st!==void 0?st:null,props:It}}function R(N,nt){return x(N.type,nt,void 0,void 0,void 0,N.props)}function I(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function V(N){var nt={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(st){return nt[st]})}var P=/\/+/g;function L(N,nt){return typeof N=="object"&&N!==null&&N.key!=null?V(""+N.key):nt.toString(36)}function D(){}function De(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(nt){N.status==="pending"&&(N.status="fulfilled",N.value=nt)},function(nt){N.status==="pending"&&(N.status="rejected",N.reason=nt)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ae(N,nt,st,it,gt){var It=typeof N;(It==="undefined"||It==="boolean")&&(N=null);var vt=!1;if(N===null)vt=!0;else switch(It){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(N.$$typeof){case r:case t:vt=!0;break;case v:return vt=N._init,ae(vt(N._payload),nt,st,it,gt)}}if(vt)return gt=gt(N),vt=it===""?"."+L(N,0):it,ut(gt)?(st="",vt!=null&&(st=vt.replace(P,"$&/")+"/"),ae(gt,nt,st,"",function(Le){return Le})):gt!=null&&(I(gt)&&(gt=R(gt,st+(gt.key==null||N&&N.key===gt.key?"":(""+gt.key).replace(P,"$&/")+"/")+vt)),nt.push(gt)),1;vt=0;var ce=it===""?".":it+":";if(ut(N))for(var qt=0;qt<N.length;qt++)it=N[qt],It=ce+L(it,qt),vt+=ae(it,nt,st,It,gt);else if(qt=w(N),typeof qt=="function")for(N=qt.call(N),qt=0;!(it=N.next()).done;)it=it.value,It=ce+L(it,qt++),vt+=ae(it,nt,st,It,gt);else if(It==="object"){if(typeof N.then=="function")return ae(De(N),nt,st,it,gt);throw nt=String(N),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return vt}function K(N,nt,st){if(N==null)return N;var it=[],gt=0;return ae(N,it,"","",function(It){return nt.call(st,It,gt++)}),it}function ot(N){if(N._status===-1){var nt=N._result;nt=nt(),nt.then(function(st){(N._status===0||N._status===-1)&&(N._status=1,N._result=st)},function(st){(N._status===0||N._status===-1)&&(N._status=2,N._result=st)}),N._status===-1&&(N._status=0,N._result=nt)}if(N._status===1)return N._result.default;throw N._result}var mt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Ct(){}return xt.Children={map:K,forEach:function(N,nt,st){K(N,function(){nt.apply(this,arguments)},st)},count:function(N){var nt=0;return K(N,function(){nt++}),nt},toArray:function(N){return K(N,function(nt){return nt})||[]},only:function(N){if(!I(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},xt.Component=H,xt.Fragment=n,xt.Profiler=o,xt.PureComponent=W,xt.StrictMode=s,xt.Suspense=m,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,xt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return lt.H.useMemoCache(N)}},xt.cache=function(N){return function(){return N.apply(null,arguments)}},xt.cloneElement=function(N,nt,st){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var it=j({},N.props),gt=N.key,It=void 0;if(nt!=null)for(vt in nt.ref!==void 0&&(It=void 0),nt.key!==void 0&&(gt=""+nt.key),nt)!dt.call(nt,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&nt.ref===void 0||(it[vt]=nt[vt]);var vt=arguments.length-2;if(vt===1)it.children=st;else if(1<vt){for(var ce=Array(vt),qt=0;qt<vt;qt++)ce[qt]=arguments[qt+2];it.children=ce}return x(N.type,gt,void 0,void 0,It,it)},xt.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},xt.createElement=function(N,nt,st){var it,gt={},It=null;if(nt!=null)for(it in nt.key!==void 0&&(It=""+nt.key),nt)dt.call(nt,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(gt[it]=nt[it]);var vt=arguments.length-2;if(vt===1)gt.children=st;else if(1<vt){for(var ce=Array(vt),qt=0;qt<vt;qt++)ce[qt]=arguments[qt+2];gt.children=ce}if(N&&N.defaultProps)for(it in vt=N.defaultProps,vt)gt[it]===void 0&&(gt[it]=vt[it]);return x(N,It,void 0,void 0,null,gt)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(N){return{$$typeof:p,render:N}},xt.isValidElement=I,xt.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:ot}},xt.memo=function(N,nt){return{$$typeof:g,type:N,compare:nt===void 0?null:nt}},xt.startTransition=function(N){var nt=lt.T,st={};lt.T=st;try{var it=N(),gt=lt.S;gt!==null&&gt(st,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Ct,mt)}catch(It){mt(It)}finally{lt.T=nt}},xt.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},xt.use=function(N){return lt.H.use(N)},xt.useActionState=function(N,nt,st){return lt.H.useActionState(N,nt,st)},xt.useCallback=function(N,nt){return lt.H.useCallback(N,nt)},xt.useContext=function(N){return lt.H.useContext(N)},xt.useDebugValue=function(){},xt.useDeferredValue=function(N,nt){return lt.H.useDeferredValue(N,nt)},xt.useEffect=function(N,nt,st){var it=lt.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(N,nt)},xt.useId=function(){return lt.H.useId()},xt.useImperativeHandle=function(N,nt,st){return lt.H.useImperativeHandle(N,nt,st)},xt.useInsertionEffect=function(N,nt){return lt.H.useInsertionEffect(N,nt)},xt.useLayoutEffect=function(N,nt){return lt.H.useLayoutEffect(N,nt)},xt.useMemo=function(N,nt){return lt.H.useMemo(N,nt)},xt.useOptimistic=function(N,nt){return lt.H.useOptimistic(N,nt)},xt.useReducer=function(N,nt,st){return lt.H.useReducer(N,nt,st)},xt.useRef=function(N){return lt.H.useRef(N)},xt.useState=function(N){return lt.H.useState(N)},xt.useSyncExternalStore=function(N,nt,st){return lt.H.useSyncExternalStore(N,nt,st)},xt.useTransition=function(){return lt.H.useTransition()},xt.version="19.1.0",xt}var ME;function ug(){return ME||(ME=1,em.exports=Tb()),em.exports}var G=ug();const rr=_b(G);var nm={exports:{}},su={},rm={exports:{}},im={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function Sb(){return VE||(VE=1,function(r){function t(K,ot){var mt=K.length;K.push(ot);t:for(;0<mt;){var Ct=mt-1>>>1,N=K[Ct];if(0<o(N,ot))K[Ct]=ot,K[mt]=N,mt=Ct;else break t}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ot=K[0],mt=K.pop();if(mt!==ot){K[0]=mt;t:for(var Ct=0,N=K.length,nt=N>>>1;Ct<nt;){var st=2*(Ct+1)-1,it=K[st],gt=st+1,It=K[gt];if(0>o(it,mt))gt<N&&0>o(It,it)?(K[Ct]=It,K[gt]=mt,Ct=gt):(K[Ct]=it,K[st]=mt,Ct=st);else if(gt<N&&0>o(It,mt))K[Ct]=It,K[gt]=mt,Ct=gt;else break t}}return ot}function o(K,ot){var mt=K.sortIndex-ot.sortIndex;return mt!==0?mt:K.id-ot.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var m=[],g=[],v=1,S=null,w=3,O=!1,j=!1,$=!1,H=!1,J=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function ut(K){for(var ot=n(g);ot!==null;){if(ot.callback===null)s(g);else if(ot.startTime<=K)s(g),ot.sortIndex=ot.expirationTime,t(m,ot);else break;ot=n(g)}}function lt(K){if($=!1,ut(K),!j)if(n(m)!==null)j=!0,dt||(dt=!0,L());else{var ot=n(g);ot!==null&&ae(lt,ot.startTime-K)}}var dt=!1,x=-1,R=5,I=-1;function V(){return H?!0:!(r.unstable_now()-I<R)}function P(){if(H=!1,dt){var K=r.unstable_now();I=K;var ot=!0;try{t:{j=!1,$&&($=!1,W(x),x=-1),O=!0;var mt=w;try{e:{for(ut(K),S=n(m);S!==null&&!(S.expirationTime>K&&V());){var Ct=S.callback;if(typeof Ct=="function"){S.callback=null,w=S.priorityLevel;var N=Ct(S.expirationTime<=K);if(K=r.unstable_now(),typeof N=="function"){S.callback=N,ut(K),ot=!0;break e}S===n(m)&&s(m),ut(K)}else s(m);S=n(m)}if(S!==null)ot=!0;else{var nt=n(g);nt!==null&&ae(lt,nt.startTime-K),ot=!1}}break t}finally{S=null,w=mt,O=!1}ot=void 0}}finally{ot?L():dt=!1}}}var L;if(typeof rt=="function")L=function(){rt(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,De=D.port2;D.port1.onmessage=P,L=function(){De.postMessage(null)}}else L=function(){J(P,0)};function ae(K,ot){x=J(function(){K(r.unstable_now())},ot)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var ot=3;break;default:ot=w}var mt=w;w=ot;try{return K()}finally{w=mt}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(K,ot){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var mt=w;w=K;try{return ot()}finally{w=mt}},r.unstable_scheduleCallback=function(K,ot,mt){var Ct=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Ct+mt:Ct):mt=Ct,K){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=mt+N,K={id:v++,callback:ot,priorityLevel:K,startTime:mt,expirationTime:N,sortIndex:-1},mt>Ct?(K.sortIndex=mt,t(g,K),n(m)===null&&K===n(g)&&($?(W(x),x=-1):$=!0,ae(lt,mt-Ct))):(K.sortIndex=N,t(m,K),j||O||(j=!0,dt||(dt=!0,L()))),K},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(K){var ot=w;return function(){var mt=w;w=ot;try{return K.apply(this,arguments)}finally{w=mt}}}}(im)),im}var PE;function Ab(){return PE||(PE=1,rm.exports=Sb()),rm.exports}var sm={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function wb(){if(kE)return an;kE=1;var r=ug();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:m,containerInfo:g,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,v)},an.flushSync=function(m){var g=f.T,v=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=g,s.p=v,s.d.f()}},an.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},an.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},an.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,S=p(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:O}):v==="script"&&s.d.X(m,{crossOrigin:S,integrity:w,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},an.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},an.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,S=p(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},an.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},an.requestFormReset=function(m){s.d.r(m)},an.unstable_batchedUpdates=function(m,g){return m(g)},an.useFormState=function(m,g,v){return f.H.useFormState(m,g,v)},an.useFormStatus=function(){return f.H.useHostTransitionStatus()},an.version="19.1.0",an}var LE;function bb(){if(LE)return sm.exports;LE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),sm.exports=wb(),sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function Rb(){if(UE)return su;UE=1;var r=Ab(),t=ug(),n=bb();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function m(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,T=h.child;T;){if(T===a){E=!0,a=h,l=d;break}if(T===l){E=!0,l=h,a=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===a){E=!0,a=d,l=h;break}if(T===l){E=!0,l=d,a=h;break}T=T.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function De(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case H:return"Profiler";case $:return"StrictMode";case lt:return"Suspense";case dt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case rt:return(e.displayName||"Context")+".Provider";case W:return(e._context.displayName||"Context")+".Consumer";case ut:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return i=e.displayName||null,i!==null?i:De(e.type)||"Memo";case R:i=e._payload,e=e._init;try{return De(e(i))}catch{}}return null}var ae=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Ct=[],N=-1;function nt(e){return{current:e}}function st(e){0>N||(e.current=Ct[N],Ct[N]=null,N--)}function it(e,i){N++,Ct[N]=e.current,e.current=i}var gt=nt(null),It=nt(null),vt=nt(null),ce=nt(null);function qt(e,i){switch(it(vt,i),it(It,e),it(gt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?iE(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=iE(i),e=sE(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}st(gt),it(gt,e)}function Le(){st(gt),st(It),st(vt)}function Vn(e){e.memoizedState!==null&&it(ce,e);var i=gt.current,a=sE(i,e.type);i!==a&&(it(It,e),it(gt,a))}function mn(e){It.current===e&&(st(gt),st(It)),ce.current===e&&(st(ce),Jl._currentValue=mt)}var nn=Object.prototype.hasOwnProperty,Ss=r.unstable_scheduleCallback,As=r.unstable_cancelCallback,Xo=r.unstable_shouldYield,Zu=r.unstable_requestPaint,Pn=r.unstable_now,td=r.unstable_getCurrentPriorityLevel,Wo=r.unstable_ImmediatePriority,Aa=r.unstable_UserBlockingPriority,ws=r.unstable_NormalPriority,ed=r.unstable_LowPriority,wa=r.unstable_IdlePriority,Zo=r.log,Ju=r.unstable_setDisableYieldValue,de=null,Kt=null;function Tn(e){if(typeof Zo=="function"&&Ju(e),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(de,e)}catch{}}var rn=Math.clz32?Math.clz32:bs,tc=Math.log,nd=Math.LN2;function bs(e){return e>>>=0,e===0?32:31-(tc(e)/nd|0)|0}var Rs=256,Is=4194304;function Wn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ba(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Wn(l):(E&=T,E!==0?h=Wn(E):a||(a=T&~e,a!==0&&(h=Wn(a))))):(T=l&~d,T!==0?h=Wn(T):E!==0?h=Wn(E):a||(a=l&~e,a!==0&&(h=Wn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Cs(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Jo(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tl(){var e=Rs;return Rs<<=1,(Rs&4194048)===0&&(Rs=256),e}function el(){var e=Is;return Is<<=1,(Is&62914560)===0&&(Is=4194304),e}function Lr(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ur(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function nl(e,i,a,l,h,d){var E=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,B=e.hiddenUpdates;for(a=E&~a;0<a;){var Y=31-rn(a),tt=1<<Y;T[Y]=0,C[Y]=-1;var q=B[Y];if(q!==null)for(B[Y]=null,Y=0;Y<q.length;Y++){var F=q[Y];F!==null&&(F.lane&=-536870913)}a&=~tt}l!==0&&hr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(E&~i))}function hr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-rn(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function rl(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-rn(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Ai(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ra(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function wi(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:wE(e.type))}function ec(e,i){var a=ot.p;try{return ot.p=e,i()}finally{ot.p=a}}var oe=Math.random().toString(36).slice(2),Ne="__reactFiber$"+oe,Te="__reactProps$"+oe,kn="__reactContainer$"+oe,il="__reactEvents$"+oe,rd="__reactListeners$"+oe,bi="__reactHandles$"+oe,nc="__reactResources$"+oe,xs="__reactMarker$"+oe;function Ri(e){delete e[Ne],delete e[Te],delete e[il],delete e[rd],delete e[bi]}function jr(e){var i=e[Ne];if(i)return i;for(var a=e.parentNode;a;){if(i=a[kn]||a[Ne]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=uE(e);e!==null;){if(a=e[Ne])return a;e=uE(e)}return i}e=a,a=e.parentNode}return null}function fr(e){if(e=e[Ne]||e[kn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function dr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function hn(e){var i=e[nc];return i||(i=e[nc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ye(e){e[xs]=!0}var sl=new Set,Ia={};function Zn(e,i){zr(e,i),zr(e+"Capture",i)}function zr(e,i){for(Ia[e]=i,e=0;e<i.length;e++)sl.add(i[e])}var rc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ic={},Ds={};function sc(e){return nn.call(Ds,e)?!0:nn.call(ic,e)?!1:rc.test(e)?Ds[e]=!0:(ic[e]=!0,!1)}function Ii(e,i,a){if(sc(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function pr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function $e(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var Ns,ac;function Br(e){if(Ns===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ns=i&&i[1]||"",ac=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ns+e+ac}var Ca=!1;function xa(e,i){if(!e||Ca)return"";Ca=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(F){var q=F}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(F){q=F}e.call(tt.prototype)}}else{try{throw Error()}catch(F){q=F}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var C=E.split(`
`),B=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===B.length)for(l=C.length-1,h=B.length-1;1<=l&&0<=h&&C[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==B[h]){var Y=`
`+C[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Ca=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Br(a):""}function al(e){switch(e.tag){case 26:case 27:case 5:return Br(e.type);case 16:return Br("Lazy");case 13:return Br("Suspense");case 19:return Br("SuspenseList");case 0:case 15:return xa(e.type,!1);case 11:return xa(e.type.render,!1);case 1:return xa(e.type,!0);case 31:return Br("Activity");default:return""}}function Da(e){try{var i="";do i+=al(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function fn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ol(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function id(e){var i=ol(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Na(e){e._valueTracker||(e._valueTracker=id(e))}function ll(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=ol(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Os(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sd=/[\n"\\]/g;function Se(e){return e.replace(sd,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Sn(e,i,a,l,h,d,E,T){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),i!=null?E==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+fn(i)):e.value!==""+fn(i)&&(e.value=""+fn(i)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),i!=null?Ci(e,E,fn(i)):a!=null?Ci(e,E,fn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+fn(T):e.removeAttribute("name")}function Ms(e,i,a,l,h,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+fn(a):"",i=i!=null?""+fn(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E)}function Ci(e,i,a){i==="number"&&Os(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function qr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+fn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Wt(e,i,a){if(i!=null&&(i=""+fn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+fn(a):""}function Vs(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=fn(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Ln(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oc(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Ps.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function ul(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&oc(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&oc(e,d,i[d])}function cl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ad=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),od=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(e){return od.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Hr=null;function Un(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fr=null,Gr=null;function hl(e){var i=fr(e);if(i&&(e=i.stateNode)){var a=e[Te]||null;t:switch(e=i.stateNode,i.type){case"input":if(Sn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Se(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Te]||null;if(!h)throw Error(s(90));Sn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&ll(l)}break t;case"textarea":Wt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&qr(e,!!a.multiple,i,!1)}}}var mr=!1;function lc(e,i,a){if(mr)return e(i,a);mr=!0;try{var l=e(i);return l}finally{if(mr=!1,(Fr!==null||Gr!==null)&&(eh(),Fr&&(i=Fr,e=Gr,Gr=Fr=null,hl(i),e)))for(i=0;i<e.length;i++)hl(e[i])}}function ks(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Te]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jn=!1;if(Jn)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){jn=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{jn=!1}var gr=null,xi=null,$r=null;function fl(){if($r)return $r;var e,i=xi,a=i.length,l,h="value"in gr?gr.value:gr.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var E=a-e;for(l=1;l<=E&&i[a-l]===h[d-l];l++);return $r=h.slice(e,1<l?1-l:void 0)}function yr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function _r(){return!0}function dl(){return!1}function Ue(e){function i(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?_r:dl,this.isPropagationStopped=dl,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),i}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=Ue(Gt),Us=v({},Gt,{view:0,detail:0}),uc=Ue(Us),Va,Pa,vr,js=v({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vr&&(vr&&e.type==="mousemove"?(Va=e.screenX-vr.screenX,Pa=e.screenY-vr.screenY):Pa=Va=0,vr=e),Va)},movementY:function(e){return"movementY"in e?e.movementY:Pa}}),zn=Ue(js),cc=v({},js,{dataTransfer:0}),ld=Ue(cc),zs=v({},Us,{relatedTarget:0}),ka=Ue(zs),pl=v({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),La=Ue(pl),hc=v({},Gt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ua=Ue(hc),ud=v({},Gt,{data:0}),ml=Ue(ud),Bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gl(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=dc[e])?!!i[e]:!1}function qs(){return gl}var pc=v({},Us,{key:function(e){if(e.key){var i=Bs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=yr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(e){return e.type==="keypress"?yr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ja=Ue(pc),mc=v({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yl=Ue(mc),Qr=v({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),gc=Ue(Qr),yc=v({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),_c=Ue(yc),vc=v({},js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),za=Ue(vc),dn=v({},Gt,{newState:0,oldState:0}),Ec=Ue(dn),Tc=[9,13,27,32],Er=Jn&&"CompositionEvent"in window,c=null;Jn&&"documentMode"in document&&(c=document.documentMode);var y=Jn&&"TextEvent"in window&&!c,_=Jn&&(!Er||c&&8<c&&11>=c),b=" ",U=!1;function Q(e,i){switch(e){case"keyup":return Tc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ut=!1;function Oe(e,i){switch(e){case"compositionend":return at(i);case"keypress":return i.which!==32?null:(U=!0,b);case"textInput":return e=i.data,e===b&&U?null:e;default:return null}}function jt(e,i){if(Ut)return e==="compositionend"||!Er&&Q(e,i)?(e=fl(),$r=xi=gr=null,Ut=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Me(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!je[e.type]:i==="textarea"}function Kr(e,i,a,l){Fr?Gr?Gr.push(l):Gr=[l]:Fr=l,i=oh(i,"onChange"),0<i.length&&(a=new Ma("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Qe=null,Tr=null;function _l(e){Jv(e,0)}function Sc(e){var i=dr(e);if(ll(i))return e}function Ey(e,i){if(e==="change")return i}var Ty=!1;if(Jn){var cd;if(Jn){var hd="oninput"in document;if(!hd){var Sy=document.createElement("div");Sy.setAttribute("oninput","return;"),hd=typeof Sy.oninput=="function"}cd=hd}else cd=!1;Ty=cd&&(!document.documentMode||9<document.documentMode)}function Ay(){Qe&&(Qe.detachEvent("onpropertychange",wy),Tr=Qe=null)}function wy(e){if(e.propertyName==="value"&&Sc(Tr)){var i=[];Kr(i,Tr,e,Un(e)),lc(_l,i)}}function KA(e,i,a){e==="focusin"?(Ay(),Qe=i,Tr=a,Qe.attachEvent("onpropertychange",wy)):e==="focusout"&&Ay()}function YA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sc(Tr)}function XA(e,i){if(e==="click")return Sc(i)}function WA(e,i){if(e==="input"||e==="change")return Sc(i)}function ZA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var An=typeof Object.is=="function"?Object.is:ZA;function vl(e,i){if(An(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!nn.call(i,h)||!An(e[h],i[h]))return!1}return!0}function by(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ry(e,i){var a=by(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=by(a)}}function Iy(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Iy(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Cy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Os(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Os(e.document)}return i}function fd(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var JA=Jn&&"documentMode"in document&&11>=document.documentMode,Ba=null,dd=null,El=null,pd=!1;function xy(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pd||Ba==null||Ba!==Os(l)||(l=Ba,"selectionStart"in l&&fd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),El&&vl(El,l)||(El=l,l=oh(dd,"onSelect"),0<l.length&&(i=new Ma("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Ba)))}function Hs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var qa={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},md={},Dy={};Jn&&(Dy=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Fs(e){if(md[e])return md[e];if(!qa[e])return e;var i=qa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Dy)return md[e]=i[a];return e}var Ny=Fs("animationend"),Oy=Fs("animationiteration"),My=Fs("animationstart"),tw=Fs("transitionrun"),ew=Fs("transitionstart"),nw=Fs("transitioncancel"),Vy=Fs("transitionend"),Py=new Map,gd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gd.push("scrollEnd");function tr(e,i){Py.set(e,i),Zn(i,[e])}var ky=new WeakMap;function Bn(e,i){if(typeof e=="object"&&e!==null){var a=ky.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Da(i)},ky.set(e,i),i)}return{value:e,source:i,stack:Da(i)}}var qn=[],Ha=0,yd=0;function Ac(){for(var e=Ha,i=yd=Ha=0;i<e;){var a=qn[i];qn[i++]=null;var l=qn[i];qn[i++]=null;var h=qn[i];qn[i++]=null;var d=qn[i];if(qn[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&Ly(a,h,d)}}function wc(e,i,a,l){qn[Ha++]=e,qn[Ha++]=i,qn[Ha++]=a,qn[Ha++]=l,yd|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function _d(e,i,a,l){return wc(e,i,a,l),bc(e)}function Fa(e,i){return wc(e,null,null,i),bc(e)}function Ly(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-rn(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function bc(e){if(50<Gl)throw Gl=0,wp=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ga={};function rw(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,i,a,l){return new rw(e,i,a,l)}function vd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yr(e,i){var a=e.alternate;return a===null?(a=wn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Uy(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Rc(e,i,a,l,h,d){var E=0;if(l=e,typeof e=="function")vd(e)&&(E=1);else if(typeof e=="string")E=sb(e,a,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=wn(31,a,i,h),e.elementType=I,e.lanes=d,e;case j:return Gs(a.children,h,d,i);case $:E=8,h|=24;break;case H:return e=wn(12,a,i,h|2),e.elementType=H,e.lanes=d,e;case lt:return e=wn(13,a,i,h),e.elementType=lt,e.lanes=d,e;case dt:return e=wn(19,a,i,h),e.elementType=dt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:case rt:E=10;break t;case W:E=9;break t;case ut:E=11;break t;case x:E=14;break t;case R:E=16,l=null;break t}E=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=wn(E,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Gs(e,i,a,l){return e=wn(7,e,l,i),e.lanes=a,e}function Ed(e,i,a){return e=wn(6,e,null,i),e.lanes=a,e}function Td(e,i,a){return i=wn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var $a=[],Qa=0,Ic=null,Cc=0,Hn=[],Fn=0,$s=null,Xr=1,Wr="";function Qs(e,i){$a[Qa++]=Cc,$a[Qa++]=Ic,Ic=e,Cc=i}function jy(e,i,a){Hn[Fn++]=Xr,Hn[Fn++]=Wr,Hn[Fn++]=$s,$s=e;var l=Xr;e=Wr;var h=32-rn(l)-1;l&=~(1<<h),a+=1;var d=32-rn(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Xr=1<<32-rn(i)+h|a<<h|l,Wr=d+e}else Xr=1<<d|a<<h|l,Wr=e}function Sd(e){e.return!==null&&(Qs(e,1),jy(e,1,0))}function Ad(e){for(;e===Ic;)Ic=$a[--Qa],$a[Qa]=null,Cc=$a[--Qa],$a[Qa]=null;for(;e===$s;)$s=Hn[--Fn],Hn[Fn]=null,Wr=Hn[--Fn],Hn[Fn]=null,Xr=Hn[--Fn],Hn[Fn]=null}var pn=null,pe=null,Ft=!1,Ks=null,Sr=!1,wd=Error(s(519));function Ys(e){var i=Error(s(418,""));throw Al(Bn(i,e)),wd}function zy(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ne]=e,i[Te]=l,a){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(a=0;a<Ql.length;a++)Vt(Ql[a],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),Ms(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Na(i);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),Vs(i,l.value,l.defaultValue,l.children),Na(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||rE(i.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),l.onScroll!=null&&Vt("scroll",i),l.onScrollEnd!=null&&Vt("scrollend",i),l.onClick!=null&&(i.onclick=lh),i=!0):i=!1,i||Ys(e)}function By(e){for(pn=e.return;pn;)switch(pn.tag){case 5:case 13:Sr=!1;return;case 27:case 3:Sr=!0;return;default:pn=pn.return}}function Tl(e){if(e!==pn)return!1;if(!Ft)return By(e),Ft=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||zp(e.type,e.memoizedProps)),a=!a),a&&pe&&Ys(e),By(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){pe=nr(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}pe=null}}else i===27?(i=pe,Gi(e.type)?(e=Fp,Fp=null,pe=e):pe=i):pe=pn?nr(e.stateNode.nextSibling):null;return!0}function Sl(){pe=pn=null,Ft=!1}function qy(){var e=Ks;return e!==null&&(_n===null?_n=e:_n.push.apply(_n,e),Ks=null),e}function Al(e){Ks===null?Ks=[e]:Ks.push(e)}var bd=nt(null),Xs=null,Zr=null;function Di(e,i,a){it(bd,i._currentValue),i._currentValue=a}function Jr(e){e._currentValue=bd.current,st(bd)}function Rd(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Id(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Rd(d.return,a,e),l||(E=null);break t}d=T.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Rd(E,a,e),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===e){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function wl(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=h.type;An(h.pendingProps.value,E.value)||(e!==null?e.push(T):e=[T])}}else if(h===ce.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Jl):e=[Jl])}h=h.return}e!==null&&Id(i,e,a,l),i.flags|=262144}function xc(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ws(e){Xs=e,Zr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function sn(e){return Hy(Xs,e)}function Dc(e,i){return Xs===null&&Ws(e),Hy(e,i)}function Hy(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Zr===null){if(e===null)throw Error(s(308));Zr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Zr=Zr.next=i;return a}var iw=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},sw=r.unstable_scheduleCallback,aw=r.unstable_NormalPriority,Ve={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cd(){return{controller:new iw,data:new Map,refCount:0}}function bl(e){e.refCount--,e.refCount===0&&sw(aw,function(){e.controller.abort()})}var Rl=null,xd=0,Ka=0,Ya=null;function ow(e,i){if(Rl===null){var a=Rl=[];xd=0,Ka=Np(),Ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return xd++,i.then(Fy,Fy),i}function Fy(){if(--xd===0&&Rl!==null){Ya!==null&&(Ya.status="fulfilled");var e=Rl;Rl=null,Ka=0,Ya=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function lw(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Gy=K.S;K.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ow(e,i),Gy!==null&&Gy(e,i)};var Zs=nt(null);function Dd(){var e=Zs.current;return e!==null?e:re.pooledCache}function Nc(e,i){i===null?it(Zs,Zs.current):it(Zs,i.pool)}function $y(){var e=Dd();return e===null?null:{parent:Ve._currentValue,pool:e}}var Il=Error(s(460)),Qy=Error(s(474)),Oc=Error(s(542)),Nd={then:function(){}};function Ky(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Mc(){}function Yy(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Mc,Mc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Wy(e),e;default:if(typeof i.status=="string")i.then(Mc,Mc);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Wy(e),e}throw Cl=i,Il}}var Cl=null;function Xy(){if(Cl===null)throw Error(s(459));var e=Cl;return Cl=null,e}function Wy(e){if(e===Il||e===Oc)throw Error(s(483))}var Ni=!1;function Od(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Md(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mi(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=bc(e),Ly(e,null,a),i}return wc(e,l,i,a),bc(e)}function xl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,rl(e,a)}}function Vd(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Pd=!1;function Dl(){if(Pd){var e=Ya;if(e!==null)throw e}}function Nl(e,i,a,l){Pd=!1;var h=e.updateQueue;Ni=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,B=C.next;C.next=null,E===null?d=B:E.next=B,E=C;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==E&&(T===null?Y.firstBaseUpdate=B:T.next=B,Y.lastBaseUpdate=C))}if(d!==null){var tt=h.baseState;E=0,Y=B=C=null,T=d;do{var q=T.lane&-536870913,F=q!==T.lane;if(F?(zt&q)===q:(l&q)===q){q!==0&&q===Ka&&(Pd=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var wt=e,Et=T;q=i;var te=a;switch(Et.tag){case 1:if(wt=Et.payload,typeof wt=="function"){tt=wt.call(te,tt,q);break t}tt=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=Et.payload,q=typeof wt=="function"?wt.call(te,tt,q):wt,q==null)break t;tt=v({},tt,q);break t;case 2:Ni=!0}}q=T.callback,q!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(B=Y=F,C=tt):Y=Y.next=F,E|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Y===null&&(C=tt),h.baseState=C,h.firstBaseUpdate=B,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Bi|=E,e.lanes=E,e.memoizedState=tt}}function Zy(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Jy(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Zy(a[e],i)}var Xa=nt(null),Vc=nt(0);function t_(e,i){e=ai,it(Vc,e),it(Xa,i),ai=e|i.baseLanes}function kd(){it(Vc,ai),it(Xa,Xa.current)}function Ld(){ai=Vc.current,st(Xa),st(Vc)}var Vi=0,Nt=null,Zt=null,Ae=null,Pc=!1,Wa=!1,Js=!1,kc=0,Ol=0,Za=null,uw=0;function _e(){throw Error(s(321))}function Ud(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!An(e[a],i[a]))return!1;return!0}function jd(e,i,a,l,h,d){return Vi=d,Nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=e===null||e.memoizedState===null?L_:U_,Js=!1,d=a(l,h),Js=!1,Wa&&(d=n_(i,a,l,h)),e_(e),d}function e_(e){K.H=qc;var i=Zt!==null&&Zt.next!==null;if(Vi=0,Ae=Zt=Nt=null,Pc=!1,Ol=0,Za=null,i)throw Error(s(300));e===null||ze||(e=e.dependencies,e!==null&&xc(e)&&(ze=!0))}function n_(e,i,a,l){Nt=e;var h=0;do{if(Wa&&(Za=null),Ol=0,Wa=!1,25<=h)throw Error(s(301));if(h+=1,Ae=Zt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=gw,d=i(a,l)}while(Wa);return d}function cw(){var e=K.H,i=e.useState()[0];return i=typeof i.then=="function"?Ml(i):i,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(Nt.flags|=1024),i}function zd(){var e=kc!==0;return kc=0,e}function Bd(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function qd(e){if(Pc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Pc=!1}Vi=0,Ae=Zt=Nt=null,Wa=!1,Ol=kc=0,Za=null}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Nt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function we(){if(Zt===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var i=Ae===null?Nt.memoizedState:Ae.next;if(i!==null)Ae=i,Zt=e;else{if(e===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ae===null?Nt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(e){var i=Ol;return Ol+=1,Za===null&&(Za=[]),e=Yy(Za,e,i),i=Nt,(Ae===null?i.memoizedState:Ae.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?L_:U_),e}function Lc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ml(e);if(e.$$typeof===rt)return sn(e)}throw Error(s(438,String(e)))}function Fd(e){var i=null,a=Nt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Hd(),Nt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function ti(e,i){return typeof i=="function"?i(e):i}function Uc(e){var i=we();return Gd(i,Zt,e)}function Gd(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=E=null,C=null,B=i,Y=!1;do{var tt=B.lane&-536870913;if(tt!==B.lane?(zt&tt)===tt:(Vi&tt)===tt){var q=B.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),tt===Ka&&(Y=!0);else if((Vi&q)===q){B=B.next,q===Ka&&(Y=!0);continue}else tt={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=tt,E=d):C=C.next=tt,Nt.lanes|=q,Bi|=q;tt=B.action,Js&&a(d,tt),d=B.hasEagerState?B.eagerState:a(d,tt)}else q={lane:tt,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=q,E=d):C=C.next=q,Nt.lanes|=tt,Bi|=tt;B=B.next}while(B!==null&&B!==i);if(C===null?E=d:C.next=T,!An(d,e.memoizedState)&&(ze=!0,Y&&(a=Ya,a!==null)))throw a;e.memoizedState=d,e.baseState=E,e.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function $d(e){var i=we(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=e(d,E.action),E=E.next;while(E!==h);An(d,i.memoizedState)||(ze=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function r_(e,i,a){var l=Nt,h=we(),d=Ft;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!An((Zt||h).memoizedState,a);E&&(h.memoizedState=a,ze=!0),h=h.queue;var T=a_.bind(null,l,h,e);if(Vl(2048,8,T,[e]),h.getSnapshot!==i||E||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Ja(9,jc(),s_.bind(null,l,h,a,i),null),re===null)throw Error(s(349));d||(Vi&124)!==0||i_(l,i,a)}return a}function i_(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Nt.updateQueue,i===null?(i=Hd(),Nt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function s_(e,i,a,l){i.value=a,i.getSnapshot=l,o_(i)&&l_(e)}function a_(e,i,a){return a(function(){o_(i)&&l_(e)})}function o_(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!An(e,a)}catch{return!0}}function l_(e){var i=Fa(e,2);i!==null&&xn(i,e,2)}function Qd(e){var i=gn();if(typeof e=="function"){var a=e;if(e=a(),Js){Tn(!0);try{a()}finally{Tn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:e},i}function u_(e,i,a,l){return e.baseState=a,Gd(e,Zt,typeof l=="function"?l:ti)}function hw(e,i,a,l,h){if(Bc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,c_(i,d)):(d.next=a.next,i.pending=a.next=d)}}function c_(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=K.T,E={};K.T=E;try{var T=a(h,l),C=K.S;C!==null&&C(E,T),h_(e,i,T)}catch(B){Kd(e,i,B)}finally{K.T=d}}else try{d=a(h,l),h_(e,i,d)}catch(B){Kd(e,i,B)}}function h_(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){f_(e,i,l)},function(l){return Kd(e,i,l)}):f_(e,i,a)}function f_(e,i,a){i.status="fulfilled",i.value=a,d_(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,c_(e,a)))}function Kd(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,d_(i),i=i.next;while(i!==l)}e.action=null}function d_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function p_(e,i){return i}function m_(e,i){if(Ft){var a=re.formState;if(a!==null){t:{var l=Nt;if(Ft){if(pe){e:{for(var h=pe,d=Sr;h.nodeType!==8;){if(!d){h=null;break e}if(h=nr(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){pe=nr(h.nextSibling),l=h.data==="F!";break t}}Ys(l)}l=!1}l&&(i=a[0])}}return a=gn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p_,lastRenderedState:i},a.queue=l,a=V_.bind(null,Nt,l),l.dispatch=a,l=Qd(!1),d=Jd.bind(null,Nt,!1,l.queue),l=gn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=hw.bind(null,Nt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function g_(e){var i=we();return y_(i,Zt,e)}function y_(e,i,a){if(i=Gd(e,i,p_)[0],e=Uc(ti)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Ml(i)}catch(E){throw E===Il?Oc:E}else l=i;i=we();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Nt.flags|=2048,Ja(9,jc(),fw.bind(null,h,a),null)),[l,d,e]}function fw(e,i){e.action=i}function __(e){var i=we(),a=Zt;if(a!==null)return y_(i,a,e);we(),i=i.memoizedState,a=we();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ja(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Nt.updateQueue,i===null&&(i=Hd(),Nt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function jc(){return{destroy:void 0,resource:void 0}}function v_(){return we().memoizedState}function zc(e,i,a,l){var h=gn();l=l===void 0?null:l,Nt.flags|=e,h.memoizedState=Ja(1|i,jc(),a,l)}function Vl(e,i,a,l){var h=we();l=l===void 0?null:l;var d=h.memoizedState.inst;Zt!==null&&l!==null&&Ud(l,Zt.memoizedState.deps)?h.memoizedState=Ja(i,d,a,l):(Nt.flags|=e,h.memoizedState=Ja(1|i,d,a,l))}function E_(e,i){zc(8390656,8,e,i)}function T_(e,i){Vl(2048,8,e,i)}function S_(e,i){return Vl(4,2,e,i)}function A_(e,i){return Vl(4,4,e,i)}function w_(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function b_(e,i,a){a=a!=null?a.concat([e]):null,Vl(4,4,w_.bind(null,i,e),a)}function Yd(){}function R_(e,i){var a=we();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Ud(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function I_(e,i){var a=we();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Ud(i,l[1]))return l[0];if(l=e(),Js){Tn(!0);try{e()}finally{Tn(!1)}}return a.memoizedState=[l,i],l}function Xd(e,i,a){return a===void 0||(Vi&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=Dv(),Nt.lanes|=e,Bi|=e,a)}function C_(e,i,a,l){return An(a,i)?a:Xa.current!==null?(e=Xd(e,a,l),An(e,i)||(ze=!0),e):(Vi&42)===0?(ze=!0,e.memoizedState=a):(e=Dv(),Nt.lanes|=e,Bi|=e,i)}function x_(e,i,a,l,h){var d=ot.p;ot.p=d!==0&&8>d?d:8;var E=K.T,T={};K.T=T,Jd(e,!1,i,a);try{var C=h(),B=K.S;if(B!==null&&B(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=lw(C,l);Pl(e,i,Y,Cn(e))}else Pl(e,i,l,Cn(e))}catch(tt){Pl(e,i,{then:function(){},status:"rejected",reason:tt},Cn())}finally{ot.p=d,K.T=E}}function dw(){}function Wd(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=D_(e).queue;x_(e,h,i,mt,a===null?dw:function(){return N_(e),a(l)})}function D_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:mt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function N_(e){var i=D_(e).next.queue;Pl(e,i,{},Cn())}function Zd(){return sn(Jl)}function O_(){return we().memoizedState}function M_(){return we().memoizedState}function pw(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Cn();e=Oi(a);var l=Mi(i,e,a);l!==null&&(xn(l,i,a),xl(l,i,a)),i={cache:Cd()},e.payload=i;return}i=i.return}}function mw(e,i,a){var l=Cn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Bc(e)?P_(i,a):(a=_d(e,i,a,l),a!==null&&(xn(a,e,l),k_(a,i,l)))}function V_(e,i,a){var l=Cn();Pl(e,i,a,l)}function Pl(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Bc(e))P_(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,T=d(E,a);if(h.hasEagerState=!0,h.eagerState=T,An(T,E))return wc(e,i,h,0),re===null&&Ac(),!1}catch{}finally{}if(a=_d(e,i,h,l),a!==null)return xn(a,e,l),k_(a,i,l),!0}return!1}function Jd(e,i,a,l){if(l={lane:2,revertLane:Np(),action:l,hasEagerState:!1,eagerState:null,next:null},Bc(e)){if(i)throw Error(s(479))}else i=_d(e,a,l,2),i!==null&&xn(i,e,2)}function Bc(e){var i=e.alternate;return e===Nt||i!==null&&i===Nt}function P_(e,i){Wa=Pc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function k_(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,rl(e,a)}}var qc={readContext:sn,use:Lc,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e},L_={readContext:sn,use:Lc,useCallback:function(e,i){return gn().memoizedState=[e,i===void 0?null:i],e},useContext:sn,useEffect:E_,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,zc(4194308,4,w_.bind(null,i,e),a)},useLayoutEffect:function(e,i){return zc(4194308,4,e,i)},useInsertionEffect:function(e,i){zc(4,2,e,i)},useMemo:function(e,i){var a=gn();i=i===void 0?null:i;var l=e();if(Js){Tn(!0);try{e()}finally{Tn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=gn();if(a!==void 0){var h=a(i);if(Js){Tn(!0);try{a(i)}finally{Tn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=mw.bind(null,Nt,e),[l.memoizedState,e]},useRef:function(e){var i=gn();return e={current:e},i.memoizedState=e},useState:function(e){e=Qd(e);var i=e.queue,a=V_.bind(null,Nt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Yd,useDeferredValue:function(e,i){var a=gn();return Xd(a,e,i)},useTransition:function(){var e=Qd(!1);return e=x_.bind(null,Nt,e.queue,!0,!1),gn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Nt,h=gn();if(Ft){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),re===null)throw Error(s(349));(zt&124)!==0||i_(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,E_(a_.bind(null,l,d,e),[e]),l.flags|=2048,Ja(9,jc(),s_.bind(null,l,d,a,i),null),a},useId:function(){var e=gn(),i=re.identifierPrefix;if(Ft){var a=Wr,l=Xr;a=(l&~(1<<32-rn(l)-1)).toString(32)+a,i=""+i+"R"+a,a=kc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=uw++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Zd,useFormState:m_,useActionState:m_,useOptimistic:function(e){var i=gn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Jd.bind(null,Nt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Fd,useCacheRefresh:function(){return gn().memoizedState=pw.bind(null,Nt)}},U_={readContext:sn,use:Lc,useCallback:R_,useContext:sn,useEffect:T_,useImperativeHandle:b_,useInsertionEffect:S_,useLayoutEffect:A_,useMemo:I_,useReducer:Uc,useRef:v_,useState:function(){return Uc(ti)},useDebugValue:Yd,useDeferredValue:function(e,i){var a=we();return C_(a,Zt.memoizedState,e,i)},useTransition:function(){var e=Uc(ti)[0],i=we().memoizedState;return[typeof e=="boolean"?e:Ml(e),i]},useSyncExternalStore:r_,useId:O_,useHostTransitionStatus:Zd,useFormState:g_,useActionState:g_,useOptimistic:function(e,i){var a=we();return u_(a,Zt,e,i)},useMemoCache:Fd,useCacheRefresh:M_},gw={readContext:sn,use:Lc,useCallback:R_,useContext:sn,useEffect:T_,useImperativeHandle:b_,useInsertionEffect:S_,useLayoutEffect:A_,useMemo:I_,useReducer:$d,useRef:v_,useState:function(){return $d(ti)},useDebugValue:Yd,useDeferredValue:function(e,i){var a=we();return Zt===null?Xd(a,e,i):C_(a,Zt.memoizedState,e,i)},useTransition:function(){var e=$d(ti)[0],i=we().memoizedState;return[typeof e=="boolean"?e:Ml(e),i]},useSyncExternalStore:r_,useId:O_,useHostTransitionStatus:Zd,useFormState:__,useActionState:__,useOptimistic:function(e,i){var a=we();return Zt!==null?u_(a,Zt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Fd,useCacheRefresh:M_},to=null,kl=0;function Hc(e){var i=kl;return kl+=1,to===null&&(to=[]),Yy(to,e,i)}function Ll(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Fc(e,i){throw i.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function j_(e){var i=e._init;return i(e._payload)}function z_(e){function i(k,M){if(e){var z=k.deletions;z===null?(k.deletions=[M],k.flags|=16):z.push(M)}}function a(k,M){if(!e)return null;for(;M!==null;)i(k,M),M=M.sibling;return null}function l(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=Yr(k,M),k.index=0,k.sibling=null,k}function d(k,M,z){return k.index=z,e?(z=k.alternate,z!==null?(z=z.index,z<M?(k.flags|=67108866,M):z):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function E(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,M,z,X){return M===null||M.tag!==6?(M=Ed(z,k.mode,X),M.return=k,M):(M=h(M,z),M.return=k,M)}function C(k,M,z,X){var pt=z.type;return pt===j?Y(k,M,z.props.children,X,z.key):M!==null&&(M.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===R&&j_(pt)===M.type)?(M=h(M,z.props),Ll(M,z),M.return=k,M):(M=Rc(z.type,z.key,z.props,null,k.mode,X),Ll(M,z),M.return=k,M)}function B(k,M,z,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Td(z,k.mode,X),M.return=k,M):(M=h(M,z.children||[]),M.return=k,M)}function Y(k,M,z,X,pt){return M===null||M.tag!==7?(M=Gs(z,k.mode,X,pt),M.return=k,M):(M=h(M,z),M.return=k,M)}function tt(k,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Ed(""+M,k.mode,z),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case w:return z=Rc(M.type,M.key,M.props,null,k.mode,z),Ll(z,M),z.return=k,z;case O:return M=Td(M,k.mode,z),M.return=k,M;case R:var X=M._init;return M=X(M._payload),tt(k,M,z)}if(ae(M)||L(M))return M=Gs(M,k.mode,z,null),M.return=k,M;if(typeof M.then=="function")return tt(k,Hc(M),z);if(M.$$typeof===rt)return tt(k,Dc(k,M),z);Fc(k,M)}return null}function q(k,M,z,X){var pt=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pt!==null?null:T(k,M,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return z.key===pt?C(k,M,z,X):null;case O:return z.key===pt?B(k,M,z,X):null;case R:return pt=z._init,z=pt(z._payload),q(k,M,z,X)}if(ae(z)||L(z))return pt!==null?null:Y(k,M,z,X,null);if(typeof z.then=="function")return q(k,M,Hc(z),X);if(z.$$typeof===rt)return q(k,M,Dc(k,z),X);Fc(k,z)}return null}function F(k,M,z,X,pt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(z)||null,T(M,k,""+X,pt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case w:return k=k.get(X.key===null?z:X.key)||null,C(M,k,X,pt);case O:return k=k.get(X.key===null?z:X.key)||null,B(M,k,X,pt);case R:var Ot=X._init;return X=Ot(X._payload),F(k,M,z,X,pt)}if(ae(X)||L(X))return k=k.get(z)||null,Y(M,k,X,pt,null);if(typeof X.then=="function")return F(k,M,z,Hc(X),pt);if(X.$$typeof===rt)return F(k,M,z,Dc(M,X),pt);Fc(M,X)}return null}function wt(k,M,z,X){for(var pt=null,Ot=null,yt=M,Tt=M=0,qe=null;yt!==null&&Tt<z.length;Tt++){yt.index>Tt?(qe=yt,yt=null):qe=yt.sibling;var Ht=q(k,yt,z[Tt],X);if(Ht===null){yt===null&&(yt=qe);break}e&&yt&&Ht.alternate===null&&i(k,yt),M=d(Ht,M,Tt),Ot===null?pt=Ht:Ot.sibling=Ht,Ot=Ht,yt=qe}if(Tt===z.length)return a(k,yt),Ft&&Qs(k,Tt),pt;if(yt===null){for(;Tt<z.length;Tt++)yt=tt(k,z[Tt],X),yt!==null&&(M=d(yt,M,Tt),Ot===null?pt=yt:Ot.sibling=yt,Ot=yt);return Ft&&Qs(k,Tt),pt}for(yt=l(yt);Tt<z.length;Tt++)qe=F(yt,k,Tt,z[Tt],X),qe!==null&&(e&&qe.alternate!==null&&yt.delete(qe.key===null?Tt:qe.key),M=d(qe,M,Tt),Ot===null?pt=qe:Ot.sibling=qe,Ot=qe);return e&&yt.forEach(function(Xi){return i(k,Xi)}),Ft&&Qs(k,Tt),pt}function Et(k,M,z,X){if(z==null)throw Error(s(151));for(var pt=null,Ot=null,yt=M,Tt=M=0,qe=null,Ht=z.next();yt!==null&&!Ht.done;Tt++,Ht=z.next()){yt.index>Tt?(qe=yt,yt=null):qe=yt.sibling;var Xi=q(k,yt,Ht.value,X);if(Xi===null){yt===null&&(yt=qe);break}e&&yt&&Xi.alternate===null&&i(k,yt),M=d(Xi,M,Tt),Ot===null?pt=Xi:Ot.sibling=Xi,Ot=Xi,yt=qe}if(Ht.done)return a(k,yt),Ft&&Qs(k,Tt),pt;if(yt===null){for(;!Ht.done;Tt++,Ht=z.next())Ht=tt(k,Ht.value,X),Ht!==null&&(M=d(Ht,M,Tt),Ot===null?pt=Ht:Ot.sibling=Ht,Ot=Ht);return Ft&&Qs(k,Tt),pt}for(yt=l(yt);!Ht.done;Tt++,Ht=z.next())Ht=F(yt,k,Tt,Ht.value,X),Ht!==null&&(e&&Ht.alternate!==null&&yt.delete(Ht.key===null?Tt:Ht.key),M=d(Ht,M,Tt),Ot===null?pt=Ht:Ot.sibling=Ht,Ot=Ht);return e&&yt.forEach(function(yb){return i(k,yb)}),Ft&&Qs(k,Tt),pt}function te(k,M,z,X){if(typeof z=="object"&&z!==null&&z.type===j&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case w:t:{for(var pt=z.key;M!==null;){if(M.key===pt){if(pt=z.type,pt===j){if(M.tag===7){a(k,M.sibling),X=h(M,z.props.children),X.return=k,k=X;break t}}else if(M.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===R&&j_(pt)===M.type){a(k,M.sibling),X=h(M,z.props),Ll(X,z),X.return=k,k=X;break t}a(k,M);break}else i(k,M);M=M.sibling}z.type===j?(X=Gs(z.props.children,k.mode,X,z.key),X.return=k,k=X):(X=Rc(z.type,z.key,z.props,null,k.mode,X),Ll(X,z),X.return=k,k=X)}return E(k);case O:t:{for(pt=z.key;M!==null;){if(M.key===pt)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(k,M.sibling),X=h(M,z.children||[]),X.return=k,k=X;break t}else{a(k,M);break}else i(k,M);M=M.sibling}X=Td(z,k.mode,X),X.return=k,k=X}return E(k);case R:return pt=z._init,z=pt(z._payload),te(k,M,z,X)}if(ae(z))return wt(k,M,z,X);if(L(z)){if(pt=L(z),typeof pt!="function")throw Error(s(150));return z=pt.call(z),Et(k,M,z,X)}if(typeof z.then=="function")return te(k,M,Hc(z),X);if(z.$$typeof===rt)return te(k,M,Dc(k,z),X);Fc(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(k,M.sibling),X=h(M,z),X.return=k,k=X):(a(k,M),X=Ed(z,k.mode,X),X.return=k,k=X),E(k)):a(k,M)}return function(k,M,z,X){try{kl=0;var pt=te(k,M,z,X);return to=null,pt}catch(yt){if(yt===Il||yt===Oc)throw yt;var Ot=wn(29,yt,null,k.mode);return Ot.lanes=X,Ot.return=k,Ot}finally{}}}var eo=z_(!0),B_=z_(!1),Gn=nt(null),Ar=null;function Pi(e){var i=e.alternate;it(Pe,Pe.current&1),it(Gn,e),Ar===null&&(i===null||Xa.current!==null||i.memoizedState!==null)&&(Ar=e)}function q_(e){if(e.tag===22){if(it(Pe,Pe.current),it(Gn,e),Ar===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Ar=e)}}else ki()}function ki(){it(Pe,Pe.current),it(Gn,Gn.current)}function ei(e){st(Gn),Ar===e&&(Ar=null),st(Pe)}var Pe=nt(0);function Gc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Hp(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function tp(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:v({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ep={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Cn(),h=Oi(l);h.payload=i,a!=null&&(h.callback=a),i=Mi(e,h,l),i!==null&&(xn(i,e,l),xl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Cn(),h=Oi(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Mi(e,h,l),i!==null&&(xn(i,e,l),xl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Cn(),l=Oi(a);l.tag=2,i!=null&&(l.callback=i),i=Mi(e,l,a),i!==null&&(xn(i,e,a),xl(i,e,a))}};function H_(e,i,a,l,h,d,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!vl(a,l)||!vl(h,d):!0}function F_(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&ep.enqueueReplaceState(i,i.state,null)}function ta(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=v({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var $c=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function G_(e){$c(e)}function $_(e){console.error(e)}function Q_(e){$c(e)}function Qc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function K_(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function np(e,i,a){return a=Oi(a),a.tag=3,a.payload={element:null},a.callback=function(){Qc(e,i)},a}function Y_(e){return e=Oi(e),e.tag=3,e}function X_(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){K_(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){K_(i,a,l),typeof h!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function yw(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&wl(i,a,h,!0),a=Gn.current,a!==null){switch(a.tag){case 13:return Ar===null?Rp():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Nd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Cp(e,l,h)),!1;case 22:return a.flags|=65536,l===Nd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Cp(e,l,h)),!1}throw Error(s(435,a.tag))}return Cp(e,l,h),Rp(),!1}if(Ft)return i=Gn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==wd&&(e=Error(s(422),{cause:l}),Al(Bn(e,a)))):(l!==wd&&(i=Error(s(423),{cause:l}),Al(Bn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Bn(l,a),h=np(e.stateNode,l,h),Vd(e,h),me!==4&&(me=2)),!1;var d=Error(s(520),{cause:l});if(d=Bn(d,a),Fl===null?Fl=[d]:Fl.push(d),me!==4&&(me=2),i===null)return!0;l=Bn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=np(a.stateNode,l,e),Vd(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(qi===null||!qi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Y_(h),X_(h,e,a,l),Vd(a,h),!1}a=a.return}while(a!==null);return!1}var W_=Error(s(461)),ze=!1;function Ke(e,i,a,l){i.child=e===null?B_(i,null,a,l):eo(i,e.child,a,l)}function Z_(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return Ws(i),l=jd(e,i,a,E,d,h),T=zd(),e!==null&&!ze?(Bd(e,i,h),ni(e,i,h)):(Ft&&T&&Sd(i),i.flags|=1,Ke(e,i,l,h),i.child)}function J_(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!vd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,tv(e,i,d,l,h)):(e=Rc(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!cp(e,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:vl,a(E,l)&&e.ref===i.ref)return ni(e,i,h)}return i.flags|=1,e=Yr(d,l),e.ref=i.ref,e.return=i,i.child=e}function tv(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(vl(d,l)&&e.ref===i.ref)if(ze=!1,i.pendingProps=l=d,cp(e,h))(e.flags&131072)!==0&&(ze=!0);else return i.lanes=e.lanes,ni(e,i,h)}return rp(e,i,a,l,h)}function ev(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return nv(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nc(i,d!==null?d.cachePool:null),d!==null?t_(i,d):kd(),q_(i);else return i.lanes=i.childLanes=536870912,nv(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Nc(i,d.cachePool),t_(i,d),ki(),i.memoizedState=null):(e!==null&&Nc(i,null),kd(),ki());return Ke(e,i,h,a),i.child}function nv(e,i,a,l){var h=Dd();return h=h===null?null:{parent:Ve._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Nc(i,null),kd(),q_(i),e!==null&&wl(e,i,l,!0),null}function Kc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function rp(e,i,a,l,h){return Ws(i),a=jd(e,i,a,l,void 0,h),l=zd(),e!==null&&!ze?(Bd(e,i,h),ni(e,i,h)):(Ft&&l&&Sd(i),i.flags|=1,Ke(e,i,a,h),i.child)}function rv(e,i,a,l,h,d){return Ws(i),i.updateQueue=null,a=n_(i,l,a,h),e_(e),l=zd(),e!==null&&!ze?(Bd(e,i,d),ni(e,i,d)):(Ft&&l&&Sd(i),i.flags|=1,Ke(e,i,a,d),i.child)}function iv(e,i,a,l,h){if(Ws(i),i.stateNode===null){var d=Ga,E=a.contextType;typeof E=="object"&&E!==null&&(d=sn(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ep,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Od(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?sn(E):Ga,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(tp(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&ep.enqueueReplaceState(d,d.state,null),Nl(i,l,d,h),Dl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,C=ta(a,T);d.props=C;var B=d.context,Y=a.contextType;E=Ga,typeof Y=="object"&&Y!==null&&(E=sn(Y));var tt=a.getDerivedStateFromProps;Y=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==E)&&F_(i,d,l,E),Ni=!1;var q=i.memoizedState;d.state=q,Nl(i,l,d,h),Dl(),B=i.memoizedState,T||q!==B||Ni?(typeof tt=="function"&&(tp(i,a,tt,l),B=i.memoizedState),(C=Ni||H_(i,a,C,l,q,B,E))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Md(e,i),E=i.memoizedProps,Y=ta(a,E),d.props=Y,tt=i.pendingProps,q=d.context,B=a.contextType,C=Ga,typeof B=="object"&&B!==null&&(C=sn(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==tt||q!==C)&&F_(i,d,l,C),Ni=!1,q=i.memoizedState,d.state=q,Nl(i,l,d,h),Dl();var F=i.memoizedState;E!==tt||q!==F||Ni||e!==null&&e.dependencies!==null&&xc(e.dependencies)?(typeof T=="function"&&(tp(i,a,T,l),F=i.memoizedState),(Y=Ni||H_(i,a,Y,l,q,F,C)||e!==null&&e.dependencies!==null&&xc(e.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=C,l=Y):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Kc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=eo(i,e.child,null,h),i.child=eo(i,null,a,h)):Ke(e,i,a,h),i.memoizedState=d.state,e=i.child):e=ni(e,i,h),e}function sv(e,i,a,l){return Sl(),i.flags|=256,Ke(e,i,a,l),i.child}var ip={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sp(e){return{baseLanes:e,cachePool:$y()}}function ap(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=$n),e}function av(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ft){if(h?Pi(i):ki(),Ft){var T=pe,C;if(C=T){t:{for(C=T,T=Sr;C.nodeType!==8;){if(!T){T=null;break t}if(C=nr(C.nextSibling),C===null){T=null;break t}}T=C}T!==null?(i.memoizedState={dehydrated:T,treeContext:$s!==null?{id:Xr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},C=wn(18,null,null,0),C.stateNode=T,C.return=i,i.child=C,pn=i,pe=null,C=!0):C=!1}C||Ys(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Hp(T)?i.lanes=32:i.lanes=536870912,null;ei(i)}return T=l.children,l=l.fallback,h?(ki(),h=i.mode,T=Yc({mode:"hidden",children:T},h),l=Gs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=sp(a),h.childLanes=ap(e,E,a),i.memoizedState=ip,l):(Pi(i),op(i,T))}if(C=e.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(Pi(i),i.flags&=-257,i=lp(e,i,a)):i.memoizedState!==null?(ki(),i.child=e.child,i.flags|=128,i=null):(ki(),h=l.fallback,T=i.mode,l=Yc({mode:"visible",children:l.children},T),h=Gs(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,eo(i,e.child,null,a),l=i.child,l.memoizedState=sp(a),l.childLanes=ap(e,E,a),i.memoizedState=ip,i=h);else if(Pi(i),Hp(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var B=E.dgst;E=B,l=Error(s(419)),l.stack="",l.digest=E,Al({value:l,source:null,stack:null}),i=lp(e,i,a)}else if(ze||wl(e,i,a,!1),E=(a&e.childLanes)!==0,ze||E){if(E=re,E!==null&&(l=a&-a,l=(l&42)!==0?1:Ai(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Fa(e,l),xn(E,e,l),W_;T.data==="$?"||Rp(),i=lp(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,pe=nr(T.nextSibling),pn=i,Ft=!0,Ks=null,Sr=!1,e!==null&&(Hn[Fn++]=Xr,Hn[Fn++]=Wr,Hn[Fn++]=$s,Xr=e.id,Wr=e.overflow,$s=i),i=op(i,l.children),i.flags|=4096);return i}return h?(ki(),h=l.fallback,T=i.mode,C=e.child,B=C.sibling,l=Yr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?h=Yr(B,h):(h=Gs(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=sp(a):(C=T.cachePool,C!==null?(B=Ve._currentValue,C=C.parent!==B?{parent:B,pool:B}:C):C=$y(),T={baseLanes:T.baseLanes|a,cachePool:C}),h.memoizedState=T,h.childLanes=ap(e,E,a),i.memoizedState=ip,l):(Pi(i),a=e.child,e=a.sibling,a=Yr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(E=i.deletions,E===null?(i.deletions=[e],i.flags|=16):E.push(e)),i.child=a,i.memoizedState=null,a)}function op(e,i){return i=Yc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Yc(e,i){return e=wn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function lp(e,i,a){return eo(i,e.child,null,a),e=op(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function ov(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Rd(e.return,i,a)}function up(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function lv(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ke(e,i,l.children,a),l=Pe.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ov(e,a,i);else if(e.tag===19)ov(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(it(Pe,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Gc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),up(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Gc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}up(i,!0,a,null,d);break;case"together":up(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ni(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Bi|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(wl(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Yr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Yr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function cp(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&xc(e)))}function _w(e,i,a){switch(i.tag){case 3:qt(i,i.stateNode.containerInfo),Di(i,Ve,e.memoizedState.cache),Sl();break;case 27:case 5:Vn(i);break;case 4:qt(i,i.stateNode.containerInfo);break;case 10:Di(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Pi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?av(e,i,a):(Pi(i),e=ni(e,i,a),e!==null?e.sibling:null);Pi(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(wl(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return lv(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Pe,Pe.current),l)break;return null;case 22:case 23:return i.lanes=0,ev(e,i,a);case 24:Di(i,Ve,e.memoizedState.cache)}return ni(e,i,a)}function uv(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)ze=!0;else{if(!cp(e,a)&&(i.flags&128)===0)return ze=!1,_w(e,i,a);ze=(e.flags&131072)!==0}else ze=!1,Ft&&(i.flags&1048576)!==0&&jy(i,Cc,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")vd(l)?(e=ta(l,e),i.tag=1,i=iv(null,i,l,e,a)):(i.tag=0,i=rp(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===ut){i.tag=11,i=Z_(null,i,l,e,a);break t}else if(h===x){i.tag=14,i=J_(null,i,l,e,a);break t}}throw i=De(l)||l,Error(s(306,i,""))}}return i;case 0:return rp(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ta(l,i.pendingProps),iv(e,i,l,h,a);case 3:t:{if(qt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Md(e,i),Nl(i,l,null,a);var E=i.memoizedState;if(l=E.cache,Di(i,Ve,l),l!==d.cache&&Id(i,[Ve],a,!0),Dl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=sv(e,i,l,a);break t}else if(l!==h){h=Bn(Error(s(424)),i),Al(h),i=sv(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(pe=nr(e.firstChild),pn=i,Ft=!0,Ks=null,Sr=!0,a=B_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Sl(),l===h){i=ni(e,i,a);break t}Ke(e,i,l,a)}i=i.child}return i;case 26:return Kc(e,i),e===null?(a=dE(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ft||(a=i.type,e=i.pendingProps,l=uh(vt.current).createElement(a),l[Ne]=i,l[Te]=e,Xe(l,a,e),ye(l),i.stateNode=l):i.memoizedState=dE(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Vn(i),e===null&&Ft&&(l=i.stateNode=cE(i.type,i.pendingProps,vt.current),pn=i,Sr=!0,h=pe,Gi(i.type)?(Fp=h,pe=nr(l.firstChild)):pe=h),Ke(e,i,i.pendingProps.children,a),Kc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ft&&((h=l=pe)&&(l=$w(l,i.type,i.pendingProps,Sr),l!==null?(i.stateNode=l,pn=i,pe=nr(l.firstChild),Sr=!1,h=!0):h=!1),h||Ys(i)),Vn(i),h=i.type,d=i.pendingProps,E=e!==null?e.memoizedProps:null,l=d.children,zp(h,d)?l=null:E!==null&&zp(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=jd(e,i,cw,null,null,a),Jl._currentValue=h),Kc(e,i),Ke(e,i,l,a),i.child;case 6:return e===null&&Ft&&((e=a=pe)&&(a=Qw(a,i.pendingProps,Sr),a!==null?(i.stateNode=a,pn=i,pe=null,e=!0):e=!1),e||Ys(i)),null;case 13:return av(e,i,a);case 4:return qt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=eo(i,null,l,a):Ke(e,i,l,a),i.child;case 11:return Z_(e,i,i.type,i.pendingProps,a);case 7:return Ke(e,i,i.pendingProps,a),i.child;case 8:return Ke(e,i,i.pendingProps.children,a),i.child;case 12:return Ke(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Di(i,i.type,l.value),Ke(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ws(i),h=sn(h),l=l(h),i.flags|=1,Ke(e,i,l,a),i.child;case 14:return J_(e,i,i.type,i.pendingProps,a);case 15:return tv(e,i,i.type,i.pendingProps,a);case 19:return lv(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=Yc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Yr(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return ev(e,i,a);case 24:return Ws(i),l=sn(Ve),e===null?(h=Dd(),h===null&&(h=re,d=Cd(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Od(i),Di(i,Ve,h)):((e.lanes&a)!==0&&(Md(e,i),Nl(i,null,null,a),Dl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Di(i,Ve,l)):(l=d.cache,Di(i,Ve,l),l!==h.cache&&Id(i,[Ve],a,!0))),Ke(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ri(e){e.flags|=4}function cv(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_E(i)){if(i=Gn.current,i!==null&&((zt&4194048)===zt?Ar!==null:(zt&62914560)!==zt&&(zt&536870912)===0||i!==Ar))throw Cl=Nd,Qy;e.flags|=8192}}function Xc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?el():536870912,e.lanes|=i,so|=i)}function Ul(e,i){if(!Ft)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function he(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function vw(e,i,a){var l=i.pendingProps;switch(Ad(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(i),null;case 1:return he(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Jr(Ve),Le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Tl(i)?ri(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,qy())),he(i),null;case 26:return a=i.memoizedState,e===null?(ri(i),a!==null?(he(i),cv(i,a)):(he(i),i.flags&=-16777217)):a?a!==e.memoizedState?(ri(i),he(i),cv(i,a)):(he(i),i.flags&=-16777217):(e.memoizedProps!==l&&ri(i),he(i),i.flags&=-16777217),null;case 27:mn(i),a=vt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ri(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return he(i),null}e=gt.current,Tl(i)?zy(i):(e=cE(h,l,a),i.stateNode=e,ri(i))}return he(i),null;case 5:if(mn(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ri(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return he(i),null}if(e=gt.current,Tl(i))zy(i);else{switch(h=uh(vt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Ne]=i,e[Te]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Xe(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ri(i)}}return he(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&ri(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=vt.current,Tl(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=pn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ne]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||rE(e.nodeValue,a)),e||Ys(i)}else e=uh(e).createTextNode(l),e[Ne]=i,i.stateNode=e}return he(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Tl(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ne]=i}else Sl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;he(i),h=!1}else h=qy(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ei(i),i):(ei(i),null)}if(ei(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Xc(i,i.updateQueue),he(i),null;case 4:return Le(),e===null&&Pp(i.stateNode.containerInfo),he(i),null;case 10:return Jr(i.type),he(i),null;case 19:if(st(Pe),h=i.memoizedState,h===null)return he(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Ul(h,!1);else{if(me!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Gc(e),d!==null){for(i.flags|=128,Ul(h,!1),e=d.updateQueue,i.updateQueue=e,Xc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Uy(a,e),a=a.sibling;return it(Pe,Pe.current&1|2),i.child}e=e.sibling}h.tail!==null&&Pn()>Jc&&(i.flags|=128,l=!0,Ul(h,!1),i.lanes=4194304)}else{if(!l)if(e=Gc(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Xc(i,e),Ul(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ft)return he(i),null}else 2*Pn()-h.renderingStartTime>Jc&&a!==536870912&&(i.flags|=128,l=!0,Ul(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Pn(),i.sibling=null,e=Pe.current,it(Pe,l?e&1|2:e&1),i):(he(i),null);case 22:case 23:return ei(i),Ld(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(he(i),i.subtreeFlags&6&&(i.flags|=8192)):he(i),a=i.updateQueue,a!==null&&Xc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&st(Zs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Jr(Ve),he(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Ew(e,i){switch(Ad(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Jr(Ve),Le(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return mn(i),null;case 13:if(ei(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Sl()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return st(Pe),null;case 4:return Le(),null;case 10:return Jr(i.type),null;case 22:case 23:return ei(i),Ld(),e!==null&&st(Zs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Jr(Ve),null;case 25:return null;default:return null}}function hv(e,i){switch(Ad(i),i.tag){case 3:Jr(Ve),Le();break;case 26:case 27:case 5:mn(i);break;case 4:Le();break;case 13:ei(i);break;case 19:st(Pe);break;case 10:Jr(i.type);break;case 22:case 23:ei(i),Ld(),e!==null&&st(Zs);break;case 24:Jr(Ve)}}function jl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(T){ee(i,i.return,T)}}function Li(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,h=i;var C=a,B=T;try{B()}catch(Y){ee(h,C,Y)}}}l=l.next}while(l!==d)}}catch(Y){ee(i,i.return,Y)}}function fv(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Jy(i,a)}catch(l){ee(e,e.return,l)}}}function dv(e,i,a){a.props=ta(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ee(e,i,l)}}function zl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){ee(e,i,h)}}function wr(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ee(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ee(e,i,h)}else a.current=null}function pv(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ee(e,e.return,h)}}function hp(e,i,a){try{var l=e.stateNode;Bw(l,e.type,a,i),l[Te]=i}catch(h){ee(e,e.return,h)}}function mv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gi(e.type)||e.tag===4}function fp(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||mv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dp(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=lh));else if(l!==4&&(l===27&&Gi(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(dp(e,i,a),e=e.sibling;e!==null;)dp(e,i,a),e=e.sibling}function Wc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Gi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Wc(e,i,a),e=e.sibling;e!==null;)Wc(e,i,a),e=e.sibling}function gv(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Xe(i,l,a),i[Ne]=e,i[Te]=a}catch(d){ee(e,e.return,d)}}var ii=!1,ve=!1,pp=!1,yv=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Tw(e,i){if(e=e.containerInfo,Up=mh,e=Cy(e),fd(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var E=0,T=-1,C=-1,B=0,Y=0,tt=e,q=null;e:for(;;){for(var F;tt!==a||h!==0&&tt.nodeType!==3||(T=E+h),tt!==d||l!==0&&tt.nodeType!==3||(C=E+l),tt.nodeType===3&&(E+=tt.nodeValue.length),(F=tt.firstChild)!==null;)q=tt,tt=F;for(;;){if(tt===e)break e;if(q===a&&++B===h&&(T=E),q===d&&++Y===l&&(C=E),(F=tt.nextSibling)!==null)break;tt=q,q=tt.parentNode}tt=F}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(jp={focusedElem:e,selectionRange:a},mh=!1,Be=i;Be!==null;)if(i=Be,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Be=e;else for(;Be!==null;){switch(i=Be,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var wt=ta(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(wt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Et){ee(a,a.return,Et)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)qp(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qp(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Be=e;break}Be=i.return}}function _v(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ui(e,a),l&4&&jl(5,a);break;case 1:if(Ui(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(E){ee(a,a.return,E)}else{var h=ta(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(E){ee(a,a.return,E)}}l&64&&fv(a),l&512&&zl(a,a.return);break;case 3:if(Ui(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Jy(e,i)}catch(E){ee(a,a.return,E)}}break;case 27:i===null&&l&4&&gv(a);case 26:case 5:Ui(e,a),i===null&&l&4&&pv(a),l&512&&zl(a,a.return);break;case 12:Ui(e,a);break;case 13:Ui(e,a),l&4&&Tv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Dw.bind(null,a),Kw(e,a))));break;case 22:if(l=a.memoizedState!==null||ii,!l){i=i!==null&&i.memoizedState!==null||ve,h=ii;var d=ve;ii=l,(ve=i)&&!d?ji(e,a,(a.subtreeFlags&8772)!==0):Ui(e,a),ii=h,ve=d}break;case 30:break;default:Ui(e,a)}}function vv(e){var i=e.alternate;i!==null&&(e.alternate=null,vv(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ri(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,yn=!1;function si(e,i,a){for(a=a.child;a!==null;)Ev(e,i,a),a=a.sibling}function Ev(e,i,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(de,a)}catch{}switch(a.tag){case 26:ve||wr(a,i),si(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ve||wr(a,i);var l=le,h=yn;Gi(a.type)&&(le=a.stateNode,yn=!1),si(e,i,a),Yl(a.stateNode),le=l,yn=h;break;case 5:ve||wr(a,i);case 6:if(l=le,h=yn,le=null,si(e,i,a),le=l,yn=h,le!==null)if(yn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(d){ee(a,i,d)}else try{le.removeChild(a.stateNode)}catch(d){ee(a,i,d)}break;case 18:le!==null&&(yn?(e=le,lE(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ru(e)):lE(le,a.stateNode));break;case 4:l=le,h=yn,le=a.stateNode.containerInfo,yn=!0,si(e,i,a),le=l,yn=h;break;case 0:case 11:case 14:case 15:ve||Li(2,a,i),ve||Li(4,a,i),si(e,i,a);break;case 1:ve||(wr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&dv(a,i,l)),si(e,i,a);break;case 21:si(e,i,a);break;case 22:ve=(l=ve)||a.memoizedState!==null,si(e,i,a),ve=l;break;default:si(e,i,a)}}function Tv(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ru(e)}catch(a){ee(i,i.return,a)}}function Sw(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new yv),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new yv),i;default:throw Error(s(435,e.tag))}}function mp(e,i){var a=Sw(e);i.forEach(function(l){var h=Nw.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function bn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,E=i,T=E;t:for(;T!==null;){switch(T.tag){case 27:if(Gi(T.type)){le=T.stateNode,yn=!1;break t}break;case 5:le=T.stateNode,yn=!1;break t;case 3:case 4:le=T.stateNode.containerInfo,yn=!0;break t}T=T.return}if(le===null)throw Error(s(160));Ev(d,E,h),le=null,yn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Sv(i,e),i=i.sibling}var er=null;function Sv(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bn(i,e),Rn(e),l&4&&(Li(3,e,e.return),jl(3,e),Li(5,e,e.return));break;case 1:bn(i,e),Rn(e),l&512&&(ve||a===null||wr(a,a.return)),l&64&&ii&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=er;if(bn(i,e),Rn(e),l&512&&(ve||a===null||wr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[xs]||d[Ne]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Xe(d,l,a),d[Ne]=e,ye(d),l=d;break t;case"link":var E=gE("link","href",h).get(l+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break e}}d=h.createElement(l),Xe(d,l,a),h.head.appendChild(d);break;case"meta":if(E=gE("meta","content",h).get(l+(a.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break e}}d=h.createElement(l),Xe(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ne]=e,ye(d),l=d}e.stateNode=l}else yE(h,e.type,e.stateNode);else e.stateNode=mE(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?yE(h,e.type,e.stateNode):mE(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&hp(e,e.memoizedProps,a.memoizedProps)}break;case 27:bn(i,e),Rn(e),l&512&&(ve||a===null||wr(a,a.return)),a!==null&&l&4&&hp(e,e.memoizedProps,a.memoizedProps);break;case 5:if(bn(i,e),Rn(e),l&512&&(ve||a===null||wr(a,a.return)),e.flags&32){h=e.stateNode;try{Ln(h,"")}catch(F){ee(e,e.return,F)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,hp(e,h,a!==null?a.memoizedProps:h)),l&1024&&(pp=!0);break;case 6:if(bn(i,e),Rn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(F){ee(e,e.return,F)}}break;case 3:if(fh=null,h=er,er=ch(i.containerInfo),bn(i,e),er=h,Rn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ru(i.containerInfo)}catch(F){ee(e,e.return,F)}pp&&(pp=!1,Av(e));break;case 4:l=er,er=ch(e.stateNode.containerInfo),bn(i,e),Rn(e),er=l;break;case 12:bn(i,e),Rn(e);break;case 13:bn(i,e),Rn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tp=Pn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,mp(e,l)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=ii,Y=ve;if(ii=B||h,ve=Y||C,bn(i,e),ve=Y,ii=B,Rn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||ii||ve||ea(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=C.stateNode;var tt=C.memoizedProps.style,q=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(F){ee(C,C.return,F)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(F){ee(C,C.return,F)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,mp(e,a))));break;case 19:bn(i,e),Rn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,mp(e,l)));break;case 30:break;case 21:break;default:bn(i,e),Rn(e)}}function Rn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(mv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=fp(e);Wc(e,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(Ln(E,""),a.flags&=-33);var T=fp(e);Wc(e,T,E);break;case 3:case 4:var C=a.stateNode.containerInfo,B=fp(e);dp(e,B,C);break;default:throw Error(s(161))}}catch(Y){ee(e,e.return,Y)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Av(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Av(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ui(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)_v(e,i.alternate,i),i=i.sibling}function ea(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Li(4,i,i.return),ea(i);break;case 1:wr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&dv(i,i.return,a),ea(i);break;case 27:Yl(i.stateNode);case 26:case 5:wr(i,i.return),ea(i);break;case 22:i.memoizedState===null&&ea(i);break;case 30:ea(i);break;default:ea(i)}e=e.sibling}}function ji(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:ji(h,d,a),jl(4,d);break;case 1:if(ji(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){ee(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Zy(C[h],T)}catch(B){ee(l,l.return,B)}}a&&E&64&&fv(d),zl(d,d.return);break;case 27:gv(d);case 26:case 5:ji(h,d,a),a&&l===null&&E&4&&pv(d),zl(d,d.return);break;case 12:ji(h,d,a);break;case 13:ji(h,d,a),a&&E&4&&Tv(h,d);break;case 22:d.memoizedState===null&&ji(h,d,a),zl(d,d.return);break;case 30:break;default:ji(h,d,a)}i=i.sibling}}function gp(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&bl(a))}function yp(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&bl(e))}function br(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)wv(e,i,a,l),i=i.sibling}function wv(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:br(e,i,a,l),h&2048&&jl(9,i);break;case 1:br(e,i,a,l);break;case 3:br(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&bl(e)));break;case 12:if(h&2048){br(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){ee(i,i.return,C)}}else br(e,i,a,l);break;case 13:br(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?br(e,i,a,l):Bl(e,i):d._visibility&2?br(e,i,a,l):(d._visibility|=2,no(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&gp(E,i);break;case 24:br(e,i,a,l),h&2048&&yp(i.alternate,i);break;default:br(e,i,a,l)}}function no(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,E=i,T=a,C=l,B=E.flags;switch(E.tag){case 0:case 11:case 15:no(d,E,T,C,h),jl(8,E);break;case 23:break;case 22:var Y=E.stateNode;E.memoizedState!==null?Y._visibility&2?no(d,E,T,C,h):Bl(d,E):(Y._visibility|=2,no(d,E,T,C,h)),h&&B&2048&&gp(E.alternate,E);break;case 24:no(d,E,T,C,h),h&&B&2048&&yp(E.alternate,E);break;default:no(d,E,T,C,h)}i=i.sibling}}function Bl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Bl(a,l),h&2048&&gp(l.alternate,l);break;case 24:Bl(a,l),h&2048&&yp(l.alternate,l);break;default:Bl(a,l)}i=i.sibling}}var ql=8192;function ro(e){if(e.subtreeFlags&ql)for(e=e.child;e!==null;)bv(e),e=e.sibling}function bv(e){switch(e.tag){case 26:ro(e),e.flags&ql&&e.memoizedState!==null&&ob(er,e.memoizedState,e.memoizedProps);break;case 5:ro(e);break;case 3:case 4:var i=er;er=ch(e.stateNode.containerInfo),ro(e),er=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ql,ql=16777216,ro(e),ql=i):ro(e));break;default:ro(e)}}function Rv(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Hl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Be=l,Cv(l,e)}Rv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Iv(e),e=e.sibling}function Iv(e){switch(e.tag){case 0:case 11:case 15:Hl(e),e.flags&2048&&Li(9,e,e.return);break;case 3:Hl(e);break;case 12:Hl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Zc(e)):Hl(e);break;default:Hl(e)}}function Zc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Be=l,Cv(l,e)}Rv(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Li(8,i,i.return),Zc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Zc(i));break;default:Zc(i)}e=e.sibling}}function Cv(e,i){for(;Be!==null;){var a=Be;switch(a.tag){case 0:case 11:case 15:Li(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:bl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Be=l;else t:for(a=e;Be!==null;){l=Be;var h=l.sibling,d=l.return;if(vv(l),l===a){Be=null;break t}if(h!==null){h.return=d,Be=h;break t}Be=d}}}var Aw={getCacheForType:function(e){var i=sn(Ve),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},ww=typeof WeakMap=="function"?WeakMap:Map,Yt=0,re=null,Mt=null,zt=0,Xt=0,In=null,zi=!1,io=!1,_p=!1,ai=0,me=0,Bi=0,na=0,vp=0,$n=0,so=0,Fl=null,_n=null,Ep=!1,Tp=0,Jc=1/0,th=null,qi=null,Ye=0,Hi=null,ao=null,oo=0,Sp=0,Ap=null,xv=null,Gl=0,wp=null;function Cn(){if((Yt&2)!==0&&zt!==0)return zt&-zt;if(K.T!==null){var e=Ka;return e!==0?e:Np()}return wi()}function Dv(){$n===0&&($n=(zt&536870912)===0||Ft?tl():536870912);var e=Gn.current;return e!==null&&(e.flags|=32),$n}function xn(e,i,a){(e===re&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(lo(e,0),Fi(e,zt,$n,!1)),Ur(e,a),((Yt&2)===0||e!==re)&&(e===re&&((Yt&2)===0&&(na|=a),me===4&&Fi(e,zt,$n,!1)),Rr(e))}function Nv(e,i,a){if((Yt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Cs(e,i),h=l?Iw(e,i):Ip(e,i,!0),d=l;do{if(h===0){io&&!l&&Fi(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!bw(a)){h=Ip(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;t:{var T=e;h=Fl;var C=T.current.memoizedState.isDehydrated;if(C&&(lo(T,E).flags|=256),E=Ip(T,E,!1),E!==2){if(_p&&!C){T.errorRecoveryDisabledLanes|=d,na|=d,h=4;break t}d=_n,_n=h,d!==null&&(_n===null?_n=d:_n.push.apply(_n,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){lo(e,0),Fi(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Fi(l,i,$n,!zi);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Tp+300-Pn(),10<h)){if(Fi(l,i,$n,!zi),ba(l,0,!0)!==0)break t;l.timeoutHandle=aE(Ov.bind(null,l,a,_n,th,Ep,i,$n,na,so,zi,d,2,-0,0),h);break t}Ov(l,a,_n,th,Ep,i,$n,na,so,zi,d,0,-0,0)}}break}while(!0);Rr(e)}function Ov(e,i,a,l,h,d,E,T,C,B,Y,tt,q,F){if(e.timeoutHandle=-1,tt=i.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(Zl={stylesheets:null,count:0,unsuspend:ab},bv(i),tt=lb(),tt!==null)){e.cancelPendingCommit=tt(jv.bind(null,e,i,d,a,l,h,E,T,C,Y,1,q,F)),Fi(e,d,E,!B);return}jv(e,i,d,a,l,h,E,T,C)}function bw(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!An(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Fi(e,i,a,l){i&=~vp,i&=~na,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-rn(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&hr(e,a,i)}function eh(){return(Yt&6)===0?($l(0),!1):!0}function bp(){if(Mt!==null){if(Xt===0)var e=Mt.return;else e=Mt,Zr=Xs=null,qd(e),to=null,kl=0,e=Mt;for(;e!==null;)hv(e.alternate,e),e=e.return;Mt=null}}function lo(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Hw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),bp(),re=e,Mt=a=Yr(e.current,null),zt=i,Xt=0,In=null,zi=!1,io=Cs(e,i),_p=!1,so=$n=vp=na=Bi=me=0,_n=Fl=null,Ep=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-rn(l),d=1<<h;i|=e[h],l&=~d}return ai=i,Ac(),a}function Mv(e,i){Nt=null,K.H=qc,i===Il||i===Oc?(i=Xy(),Xt=3):i===Qy?(i=Xy(),Xt=4):Xt=i===W_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,In=i,Mt===null&&(me=1,Qc(e,Bn(i,e.current)))}function Vv(){var e=K.H;return K.H=qc,e===null?qc:e}function Pv(){var e=K.A;return K.A=Aw,e}function Rp(){me=4,zi||(zt&4194048)!==zt&&Gn.current!==null||(io=!0),(Bi&134217727)===0&&(na&134217727)===0||re===null||Fi(re,zt,$n,!1)}function Ip(e,i,a){var l=Yt;Yt|=2;var h=Vv(),d=Pv();(re!==e||zt!==i)&&(th=null,lo(e,i)),i=!1;var E=me;t:do try{if(Xt!==0&&Mt!==null){var T=Mt,C=In;switch(Xt){case 8:bp(),E=6;break t;case 3:case 2:case 9:case 6:Gn.current===null&&(i=!0);var B=Xt;if(Xt=0,In=null,uo(e,T,C,B),a&&io){E=0;break t}break;default:B=Xt,Xt=0,In=null,uo(e,T,C,B)}}Rw(),E=me;break}catch(Y){Mv(e,Y)}while(!0);return i&&e.shellSuspendCounter++,Zr=Xs=null,Yt=l,K.H=h,K.A=d,Mt===null&&(re=null,zt=0,Ac()),E}function Rw(){for(;Mt!==null;)kv(Mt)}function Iw(e,i){var a=Yt;Yt|=2;var l=Vv(),h=Pv();re!==e||zt!==i?(th=null,Jc=Pn()+500,lo(e,i)):io=Cs(e,i);t:do try{if(Xt!==0&&Mt!==null){i=Mt;var d=In;e:switch(Xt){case 1:Xt=0,In=null,uo(e,i,d,1);break;case 2:case 9:if(Ky(d)){Xt=0,In=null,Lv(i);break}i=function(){Xt!==2&&Xt!==9||re!==e||(Xt=7),Rr(e)},d.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Ky(d)?(Xt=0,In=null,Lv(i)):(Xt=0,In=null,uo(e,i,d,7));break;case 5:var E=null;switch(Mt.tag){case 26:E=Mt.memoizedState;case 5:case 27:var T=Mt;if(!E||_E(E)){Xt=0,In=null;var C=T.sibling;if(C!==null)Mt=C;else{var B=T.return;B!==null?(Mt=B,nh(B)):Mt=null}break e}}Xt=0,In=null,uo(e,i,d,5);break;case 6:Xt=0,In=null,uo(e,i,d,6);break;case 8:bp(),me=6;break t;default:throw Error(s(462))}}Cw();break}catch(Y){Mv(e,Y)}while(!0);return Zr=Xs=null,K.H=l,K.A=h,Yt=a,Mt!==null?0:(re=null,zt=0,Ac(),me)}function Cw(){for(;Mt!==null&&!Xo();)kv(Mt)}function kv(e){var i=uv(e.alternate,e,ai);e.memoizedProps=e.pendingProps,i===null?nh(e):Mt=i}function Lv(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=rv(a,i,i.pendingProps,i.type,void 0,zt);break;case 11:i=rv(a,i,i.pendingProps,i.type.render,i.ref,zt);break;case 5:qd(i);default:hv(a,i),i=Mt=Uy(i,ai),i=uv(a,i,ai)}e.memoizedProps=e.pendingProps,i===null?nh(e):Mt=i}function uo(e,i,a,l){Zr=Xs=null,qd(i),to=null,kl=0;var h=i.return;try{if(yw(e,h,i,a,zt)){me=1,Qc(e,Bn(a,e.current)),Mt=null;return}}catch(d){if(h!==null)throw Mt=h,d;me=1,Qc(e,Bn(a,e.current)),Mt=null;return}i.flags&32768?(Ft||l===1?e=!0:io||(zt&536870912)!==0?e=!1:(zi=e=!0,(l===2||l===9||l===3||l===6)&&(l=Gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Uv(i,e)):nh(i)}function nh(e){var i=e;do{if((i.flags&32768)!==0){Uv(i,zi);return}e=i.return;var a=vw(i.alternate,i,ai);if(a!==null){Mt=a;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);me===0&&(me=5)}function Uv(e,i){do{var a=Ew(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);me=6,Mt=null}function jv(e,i,a,l,h,d,E,T,C){e.cancelPendingCommit=null;do rh();while(Ye!==0);if((Yt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=yd,nl(e,a,d,E,T,C),e===re&&(Mt=re=null,zt=0),ao=i,Hi=e,oo=a,Sp=d,Ap=h,xv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ow(ws,function(){return Fv(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ot.p,ot.p=2,E=Yt,Yt|=4;try{Tw(e,i,a)}finally{Yt=E,ot.p=h,K.T=l}}Ye=1,zv(),Bv(),qv()}}function zv(){if(Ye===1){Ye=0;var e=Hi,i=ao,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ot.p;ot.p=2;var h=Yt;Yt|=4;try{Sv(i,e);var d=jp,E=Cy(e.containerInfo),T=d.focusedElem,C=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&Iy(T.ownerDocument.documentElement,T)){if(C!==null&&fd(T)){var B=C.start,Y=C.end;if(Y===void 0&&(Y=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Y,T.value.length);else{var tt=T.ownerDocument||document,q=tt&&tt.defaultView||window;if(q.getSelection){var F=q.getSelection(),wt=T.textContent.length,Et=Math.min(C.start,wt),te=C.end===void 0?Et:Math.min(C.end,wt);!F.extend&&Et>te&&(E=te,te=Et,Et=E);var k=Ry(T,Et),M=Ry(T,te);if(k&&M&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var z=tt.createRange();z.setStart(k.node,k.offset),F.removeAllRanges(),Et>te?(F.addRange(z),F.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),F.addRange(z))}}}}for(tt=[],F=T;F=F.parentNode;)F.nodeType===1&&tt.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<tt.length;T++){var X=tt[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}mh=!!Up,jp=Up=null}finally{Yt=h,ot.p=l,K.T=a}}e.current=i,Ye=2}}function Bv(){if(Ye===2){Ye=0;var e=Hi,i=ao,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ot.p;ot.p=2;var h=Yt;Yt|=4;try{_v(e,i.alternate,i)}finally{Yt=h,ot.p=l,K.T=a}}Ye=3}}function qv(){if(Ye===4||Ye===3){Ye=0,Zu();var e=Hi,i=ao,a=oo,l=xv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ye=5:(Ye=0,ao=Hi=null,Hv(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(qi=null),Ra(a),i=i.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(de,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=ot.p,ot.p=2,K.T=null;try{for(var d=e.onRecoverableError,E=0;E<l.length;E++){var T=l[E];d(T.value,{componentStack:T.stack})}}finally{K.T=i,ot.p=h}}(oo&3)!==0&&rh(),Rr(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===wp?Gl++:(Gl=0,wp=e):Gl=0,$l(0)}}function Hv(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,bl(i)))}function rh(e){return zv(),Bv(),qv(),Fv()}function Fv(){if(Ye!==5)return!1;var e=Hi,i=Sp;Sp=0;var a=Ra(oo),l=K.T,h=ot.p;try{ot.p=32>a?32:a,K.T=null,a=Ap,Ap=null;var d=Hi,E=oo;if(Ye=0,ao=Hi=null,oo=0,(Yt&6)!==0)throw Error(s(331));var T=Yt;if(Yt|=4,Iv(d.current),wv(d,d.current,E,a),Yt=T,$l(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(de,d)}catch{}return!0}finally{ot.p=h,K.T=l,Hv(e,i)}}function Gv(e,i,a){i=Bn(a,i),i=np(e.stateNode,i,2),e=Mi(e,i,2),e!==null&&(Ur(e,2),Rr(e))}function ee(e,i,a){if(e.tag===3)Gv(e,e,a);else for(;i!==null;){if(i.tag===3){Gv(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qi===null||!qi.has(l))){e=Bn(a,e),a=Y_(2),l=Mi(i,a,2),l!==null&&(X_(a,l,i,e),Ur(l,2),Rr(l));break}}i=i.return}}function Cp(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new ww;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(_p=!0,h.add(a),e=xw.bind(null,e,i,a),i.then(e,e))}function xw(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,re===e&&(zt&a)===a&&(me===4||me===3&&(zt&62914560)===zt&&300>Pn()-Tp?(Yt&2)===0&&lo(e,0):vp|=a,so===zt&&(so=0)),Rr(e)}function $v(e,i){i===0&&(i=el()),e=Fa(e,i),e!==null&&(Ur(e,i),Rr(e))}function Dw(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),$v(e,a)}function Nw(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),$v(e,a)}function Ow(e,i){return Ss(e,i)}var ih=null,co=null,xp=!1,sh=!1,Dp=!1,ra=0;function Rr(e){e!==co&&e.next===null&&(co===null?ih=co=e:co=co.next=e),sh=!0,xp||(xp=!0,Vw())}function $l(e,i){if(!Dp&&sh){Dp=!0;do for(var a=!1,l=ih;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-rn(42|e)+1)-1,d&=h&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Xv(l,d))}else d=zt,d=ba(l,l===re?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Cs(l,d)||(a=!0,Xv(l,d));l=l.next}while(a);Dp=!1}}function Mw(){Qv()}function Qv(){sh=xp=!1;var e=0;ra!==0&&(qw()&&(e=ra),ra=0);for(var i=Pn(),a=null,l=ih;l!==null;){var h=l.next,d=Kv(l,i);d===0?(l.next=null,a===null?ih=h:a.next=h,h===null&&(co=a)):(a=l,(e!==0||(d&3)!==0)&&(sh=!0)),l=h}$l(e)}function Kv(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var E=31-rn(d),T=1<<E,C=h[E];C===-1?((T&a)===0||(T&l)!==0)&&(h[E]=Jo(T,i)):C<=i&&(e.expiredLanes|=T),d&=~T}if(i=re,a=zt,a=ba(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&As(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Cs(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&As(l),Ra(a)){case 2:case 8:a=Aa;break;case 32:a=ws;break;case 268435456:a=wa;break;default:a=ws}return l=Yv.bind(null,e),a=Ss(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&As(l),e.callbackPriority=2,e.callbackNode=null,2}function Yv(e,i){if(Ye!==0&&Ye!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(rh()&&e.callbackNode!==a)return null;var l=zt;return l=ba(e,e===re?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Nv(e,l,i),Kv(e,Pn()),e.callbackNode!=null&&e.callbackNode===a?Yv.bind(null,e):null)}function Xv(e,i){if(rh())return null;Nv(e,i,!0)}function Vw(){Fw(function(){(Yt&6)!==0?Ss(Wo,Mw):Qv()})}function Np(){return ra===0&&(ra=tl()),ra}function Wv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Oa(""+e)}function Zv(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function Pw(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Wv((h[Te]||null).action),E=l.submitter;E&&(i=(i=E[Te]||null)?Wv(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var T=new Ma("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ra!==0){var C=E?Zv(h,E):new FormData(h);Wd(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=E?Zv(h,E):new FormData(h),Wd(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Op=0;Op<gd.length;Op++){var Mp=gd[Op],kw=Mp.toLowerCase(),Lw=Mp[0].toUpperCase()+Mp.slice(1);tr(kw,"on"+Lw)}tr(Ny,"onAnimationEnd"),tr(Oy,"onAnimationIteration"),tr(My,"onAnimationStart"),tr("dblclick","onDoubleClick"),tr("focusin","onFocus"),tr("focusout","onBlur"),tr(tw,"onTransitionRun"),tr(ew,"onTransitionStart"),tr(nw,"onTransitionCancel"),tr(Vy,"onTransitionEnd"),zr("onMouseEnter",["mouseout","mouseover"]),zr("onMouseLeave",["mouseout","mouseover"]),zr("onPointerEnter",["pointerout","pointerover"]),zr("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function Jv(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var T=l[E],C=T.instance,B=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=B;try{d(h)}catch(Y){$c(Y)}h.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(T=l[E],C=T.instance,B=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=B;try{d(h)}catch(Y){$c(Y)}h.currentTarget=null,d=C}}}}function Vt(e,i){var a=i[il];a===void 0&&(a=i[il]=new Set);var l=e+"__bubble";a.has(l)||(tE(i,e,2,!1),a.add(l))}function Vp(e,i,a){var l=0;i&&(l|=4),tE(a,e,l,i)}var ah="_reactListening"+Math.random().toString(36).slice(2);function Pp(e){if(!e[ah]){e[ah]=!0,sl.forEach(function(a){a!=="selectionchange"&&(Uw.has(a)||Vp(a,!1,e),Vp(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[ah]||(i[ah]=!0,Vp("selectionchange",!1,i))}}function tE(e,i,a,l){switch(wE(i)){case 2:var h=hb;break;case 8:h=fb;break;default:h=Yp}a=h.bind(null,i,a,e),h=void 0,!jn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function kp(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===h)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;T!==null;){if(E=jr(T),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue t}T=T.parentNode}}l=l.return}lc(function(){var B=d,Y=Un(a),tt=[];t:{var q=Py.get(e);if(q!==void 0){var F=Ma,wt=e;switch(e){case"keypress":if(yr(a)===0)break t;case"keydown":case"keyup":F=ja;break;case"focusin":wt="focus",F=ka;break;case"focusout":wt="blur",F=ka;break;case"beforeblur":case"afterblur":F=ka;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=ld;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=gc;break;case Ny:case Oy:case My:F=La;break;case Vy:F=_c;break;case"scroll":case"scrollend":F=uc;break;case"wheel":F=za;break;case"copy":case"cut":case"paste":F=Ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=yl;break;case"toggle":case"beforetoggle":F=Ec}var Et=(i&4)!==0,te=!Et&&(e==="scroll"||e==="scrollend"),k=Et?q!==null?q+"Capture":null:q;Et=[];for(var M=B,z;M!==null;){var X=M;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||k===null||(X=ks(M,k),X!=null&&Et.push(Kl(M,X,z))),te)break;M=M.return}0<Et.length&&(q=new F(q,wt,null,a,Y),tt.push({event:q,listeners:Et}))}}if((i&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",q&&a!==Hr&&(wt=a.relatedTarget||a.fromElement)&&(jr(wt)||wt[kn]))break t;if((F||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,F?(wt=a.relatedTarget||a.toElement,F=B,wt=wt?jr(wt):null,wt!==null&&(te=u(wt),Et=wt.tag,wt!==te||Et!==5&&Et!==27&&Et!==6)&&(wt=null)):(F=null,wt=B),F!==wt)){if(Et=zn,X="onMouseLeave",k="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Et=yl,X="onPointerLeave",k="onPointerEnter",M="pointer"),te=F==null?q:dr(F),z=wt==null?q:dr(wt),q=new Et(X,M+"leave",F,a,Y),q.target=te,q.relatedTarget=z,X=null,jr(Y)===B&&(Et=new Et(k,M+"enter",wt,a,Y),Et.target=z,Et.relatedTarget=te,X=Et),te=X,F&&wt)e:{for(Et=F,k=wt,M=0,z=Et;z;z=ho(z))M++;for(z=0,X=k;X;X=ho(X))z++;for(;0<M-z;)Et=ho(Et),M--;for(;0<z-M;)k=ho(k),z--;for(;M--;){if(Et===k||k!==null&&Et===k.alternate)break e;Et=ho(Et),k=ho(k)}Et=null}else Et=null;F!==null&&eE(tt,q,F,Et,!1),wt!==null&&te!==null&&eE(tt,te,wt,Et,!0)}}t:{if(q=B?dr(B):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var pt=Ey;else if(Me(q))if(Ty)pt=WA;else{pt=YA;var Ot=KA}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&cl(B.elementType)&&(pt=Ey):pt=XA;if(pt&&(pt=pt(e,B))){Kr(tt,pt,a,Y);break t}Ot&&Ot(e,q,B),e==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Ci(q,"number",q.value)}switch(Ot=B?dr(B):window,e){case"focusin":(Me(Ot)||Ot.contentEditable==="true")&&(Ba=Ot,dd=B,El=null);break;case"focusout":El=dd=Ba=null;break;case"mousedown":pd=!0;break;case"contextmenu":case"mouseup":case"dragend":pd=!1,xy(tt,a,Y);break;case"selectionchange":if(JA)break;case"keydown":case"keyup":xy(tt,a,Y)}var yt;if(Er)t:{switch(e){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else Ut?Q(e,a)&&(Tt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Tt="onCompositionStart");Tt&&(_&&a.locale!=="ko"&&(Ut||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Ut&&(yt=fl()):(gr=Y,xi="value"in gr?gr.value:gr.textContent,Ut=!0)),Ot=oh(B,Tt),0<Ot.length&&(Tt=new ml(Tt,e,null,a,Y),tt.push({event:Tt,listeners:Ot}),yt?Tt.data=yt:(yt=at(a),yt!==null&&(Tt.data=yt)))),(yt=y?Oe(e,a):jt(e,a))&&(Tt=oh(B,"onBeforeInput"),0<Tt.length&&(Ot=new ml("onBeforeInput","beforeinput",null,a,Y),tt.push({event:Ot,listeners:Tt}),Ot.data=yt)),Pw(tt,e,B,a,Y)}Jv(tt,i)})}function Kl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function oh(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ks(e,a),h!=null&&l.unshift(Kl(e,h,d)),h=ks(e,i),h!=null&&l.push(Kl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function ho(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function eE(e,i,a,l,h){for(var d=i._reactName,E=[];a!==null&&a!==l;){var T=a,C=T.alternate,B=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||B===null||(C=B,h?(B=ks(a,d),B!=null&&E.unshift(Kl(a,B,C))):h||(B=ks(a,d),B!=null&&E.push(Kl(a,B,C)))),a=a.return}E.length!==0&&e.push({event:i,listeners:E})}var jw=/\r\n?/g,zw=/\u0000|\uFFFD/g;function nE(e){return(typeof e=="string"?e:""+e).replace(jw,`
`).replace(zw,"")}function rE(e,i){return i=nE(i),nE(e)===i}function lh(){}function Jt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Ln(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Ln(e,""+l);break;case"className":pr(e,"class",l);break;case"tabIndex":pr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pr(e,a,l);break;case"style":ul(e,l,d);break;case"data":if(i!=="object"){pr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Oa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Jt(e,i,"name",h.name,h,null),Jt(e,i,"formEncType",h.formEncType,h,null),Jt(e,i,"formMethod",h.formMethod,h,null),Jt(e,i,"formTarget",h.formTarget,h,null)):(Jt(e,i,"encType",h.encType,h,null),Jt(e,i,"method",h.method,h,null),Jt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Oa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=lh);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Oa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),Ii(e,"popover",l);break;case"xlinkActuate":$e(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$e(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$e(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$e(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$e(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$e(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$e(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$e(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$e(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ii(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ad.get(a)||a,Ii(e,a,l))}}function Lp(e,i,a,l,h,d){switch(a){case"style":ul(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Ln(e,l):(typeof l=="number"||typeof l=="bigint")&&Ln(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=lh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ia.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Te]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ii(e,a,l)}}}function Xe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,d,E,a,null)}}h&&Jt(e,i,"srcSet",a.srcSet,a,null),l&&Jt(e,i,"src",a.src,a,null);return;case"input":Vt("invalid",e);var T=d=E=h=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":E=Y;break;case"checked":C=Y;break;case"defaultChecked":B=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Jt(e,i,l,Y,a,null)}}Ms(e,d,T,C,B,E,h,!1),Na(e);return;case"select":Vt("invalid",e),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:Jt(e,i,h,T,a,null)}i=d,a=E,e.multiple=!!l,i!=null?qr(e,!!l,i,!1):a!=null&&qr(e,!!l,a,!0);return;case"textarea":Vt("invalid",e),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Jt(e,i,E,T,a,null)}Vs(e,l,h,d),Na(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(e,i,C,l,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<Ql.length;l++)Vt(Ql[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,B,l,a,null)}return;default:if(cl(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Lp(e,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Jt(e,i,T,l,a,null))}function Bw(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,T=null,C=null,B=null,Y=null;for(F in a){var tt=a[F];if(a.hasOwnProperty(F)&&tt!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=tt;default:l.hasOwnProperty(F)||Jt(e,i,F,null,l,tt)}}for(var q in l){var F=l[q];if(tt=a[q],l.hasOwnProperty(q)&&(F!=null||tt!=null))switch(q){case"type":d=F;break;case"name":h=F;break;case"checked":B=F;break;case"defaultChecked":Y=F;break;case"value":E=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==tt&&Jt(e,i,q,F,l,tt)}}Sn(e,E,T,C,B,Y,d,h);return;case"select":F=E=T=q=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||Jt(e,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==C&&Jt(e,i,h,d,l,C)}i=T,a=E,l=F,q!=null?qr(e,!!a,q,!1):!!l!=!!a&&(i!=null?qr(e,!!a,i,!0):qr(e,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Jt(e,i,T,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Jt(e,i,E,h,l,d)}Wt(e,q,F);return;case"option":for(var wt in a)if(q=a[wt],a.hasOwnProperty(wt)&&q!=null&&!l.hasOwnProperty(wt))switch(wt){case"selected":e.selected=!1;break;default:Jt(e,i,wt,null,l,q)}for(C in l)if(q=l[C],F=a[C],l.hasOwnProperty(C)&&q!==F&&(q!=null||F!=null))switch(C){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Jt(e,i,C,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)q=a[Et],a.hasOwnProperty(Et)&&q!=null&&!l.hasOwnProperty(Et)&&Jt(e,i,Et,null,l,q);for(B in l)if(q=l[B],F=a[B],l.hasOwnProperty(B)&&q!==F&&(q!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Jt(e,i,B,q,l,F)}return;default:if(cl(i)){for(var te in a)q=a[te],a.hasOwnProperty(te)&&q!==void 0&&!l.hasOwnProperty(te)&&Lp(e,i,te,void 0,l,q);for(Y in l)q=l[Y],F=a[Y],!l.hasOwnProperty(Y)||q===F||q===void 0&&F===void 0||Lp(e,i,Y,q,l,F);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&Jt(e,i,k,null,l,q);for(tt in l)q=l[tt],F=a[tt],!l.hasOwnProperty(tt)||q===F||q==null&&F==null||Jt(e,i,tt,q,l,F)}var Up=null,jp=null;function uh(e){return e.nodeType===9?e:e.ownerDocument}function iE(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sE(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function zp(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bp=null;function qw(){var e=window.event;return e&&e.type==="popstate"?e===Bp?!1:(Bp=e,!0):(Bp=null,!1)}var aE=typeof setTimeout=="function"?setTimeout:void 0,Hw=typeof clearTimeout=="function"?clearTimeout:void 0,oE=typeof Promise=="function"?Promise:void 0,Fw=typeof queueMicrotask=="function"?queueMicrotask:typeof oE<"u"?function(e){return oE.resolve(null).then(e).catch(Gw)}:aE;function Gw(e){setTimeout(function(){throw e})}function Gi(e){return e==="head"}function lE(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=e.ownerDocument;if(a&1&&Yl(E.documentElement),a&2&&Yl(E.body),a&4)for(a=E.head,Yl(a),E=a.firstChild;E;){var T=E.nextSibling,C=E.nodeName;E[xs]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=T}}if(h===0){e.removeChild(d),ru(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);ru(i)}function qp(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qp(a),Ri(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function $w(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[xs])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=nr(e.nextSibling),e===null)break}return null}function Qw(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=nr(e.nextSibling),e===null))return null;return e}function Hp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Kw(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function nr(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Fp=null;function uE(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function cE(e,i,a){switch(i=uh(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Yl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ri(e)}var Qn=new Map,hE=new Set;function ch(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var oi=ot.d;ot.d={f:Yw,r:Xw,D:Ww,C:Zw,L:Jw,m:tb,X:nb,S:eb,M:rb};function Yw(){var e=oi.f(),i=eh();return e||i}function Xw(e){var i=fr(e);i!==null&&i.tag===5&&i.type==="form"?N_(i):oi.r(e)}var fo=typeof document>"u"?null:document;function fE(e,i,a){var l=fo;if(l&&typeof i=="string"&&i){var h=Se(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),hE.has(h)||(hE.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Xe(i,"link",e),ye(i),l.head.appendChild(i)))}}function Ww(e){oi.D(e),fE("dns-prefetch",e,null)}function Zw(e,i){oi.C(e,i),fE("preconnect",e,i)}function Jw(e,i,a){oi.L(e,i,a);var l=fo;if(l&&e&&i){var h='link[rel="preload"][as="'+Se(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Se(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Se(a.imageSizes)+'"]')):h+='[href="'+Se(e)+'"]';var d=h;switch(i){case"style":d=po(e);break;case"script":d=mo(e)}Qn.has(d)||(e=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Qn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Xl(d))||i==="script"&&l.querySelector(Wl(d))||(i=l.createElement("link"),Xe(i,"link",e),ye(i),l.head.appendChild(i)))}}function tb(e,i){oi.m(e,i);var a=fo;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Se(l)+'"][href="'+Se(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=mo(e)}if(!Qn.has(d)&&(e=v({rel:"modulepreload",href:e},i),Qn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Wl(d)))return}l=a.createElement("link"),Xe(l,"link",e),ye(l),a.head.appendChild(l)}}}function eb(e,i,a){oi.S(e,i,a);var l=fo;if(l&&e){var h=hn(l).hoistableStyles,d=po(e);i=i||"default";var E=h.get(d);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(Xl(d)))T.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Qn.get(d))&&Gp(e,a);var C=E=l.createElement("link");ye(C),Xe(C,"link",e),C._p=new Promise(function(B,Y){C.onload=B,C.onerror=Y}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,hh(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:T},h.set(d,E)}}}function nb(e,i){oi.X(e,i);var a=fo;if(a&&e){var l=hn(a).hoistableScripts,h=mo(e),d=l.get(h);d||(d=a.querySelector(Wl(h)),d||(e=v({src:e,async:!0},i),(i=Qn.get(h))&&$p(e,i),d=a.createElement("script"),ye(d),Xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function rb(e,i){oi.M(e,i);var a=fo;if(a&&e){var l=hn(a).hoistableScripts,h=mo(e),d=l.get(h);d||(d=a.querySelector(Wl(h)),d||(e=v({src:e,async:!0,type:"module"},i),(i=Qn.get(h))&&$p(e,i),d=a.createElement("script"),ye(d),Xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function dE(e,i,a,l){var h=(h=vt.current)?ch(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=po(a.href),a=hn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=po(a.href);var d=hn(h).hoistableStyles,E=d.get(e);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,E),(d=h.querySelector(Xl(e)))&&!d._p&&(E.instance=d,E.state.loading=5),Qn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(e,a),d||ib(h,e,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=mo(a),a=hn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function po(e){return'href="'+Se(e)+'"'}function Xl(e){return'link[rel="stylesheet"]['+e+"]"}function pE(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function ib(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xe(i,"link",a),ye(i),e.head.appendChild(i))}function mo(e){return'[src="'+Se(e)+'"]'}function Wl(e){return"script[async]"+e}function mE(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+Se(a.href)+'"]');if(l)return i.instance=l,ye(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ye(l),Xe(l,"style",h),hh(l,a.precedence,e),i.instance=l;case"stylesheet":h=po(a.href);var d=e.querySelector(Xl(h));if(d)return i.state.loading|=4,i.instance=d,ye(d),d;l=pE(a),(h=Qn.get(h))&&Gp(l,h),d=(e.ownerDocument||e).createElement("link"),ye(d);var E=d;return E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),Xe(d,"link",l),i.state.loading|=4,hh(d,a.precedence,e),i.instance=d;case"script":return d=mo(a.src),(h=e.querySelector(Wl(d)))?(i.instance=h,ye(h),h):(l=a,(h=Qn.get(d))&&(l=v({},a),$p(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ye(h),Xe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,hh(l,a.precedence,e));return i.instance}function hh(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Gp(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function $p(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var fh=null;function gE(e,i,a){if(fh===null){var l=new Map,h=fh=new Map;h.set(a,l)}else h=fh,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[xs]||d[Ne]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=e+E;var T=l.get(E);T?T.push(d):l.set(E,[d])}}return l}function yE(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function sb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function _E(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Zl=null;function ab(){}function ob(e,i,a){if(Zl===null)throw Error(s(475));var l=Zl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=po(a.href),d=e.querySelector(Xl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=dh.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ye(d);return}d=e.ownerDocument||e,a=pE(a),(h=Qn.get(h))&&Gp(a,h),d=d.createElement("link"),ye(d);var E=d;E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),Xe(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=dh.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function lb(){if(Zl===null)throw Error(s(475));var e=Zl;return e.stylesheets&&e.count===0&&Qp(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Qp(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function dh(){if(this.count--,this.count===0){if(this.stylesheets)Qp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ph=null;function Qp(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ph=new Map,i.forEach(ub,e),ph=null,dh.call(e))}function ub(e,i){if(!(i.state.loading&4)){var a=ph.get(e);if(a)var l=a.get(null);else{a=new Map,ph.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=dh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Jl={$$typeof:rt,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function cb(e,i,a,l,h,d,E,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lr(0),this.hiddenUpdates=Lr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function vE(e,i,a,l,h,d,E,T,C,B,Y,tt){return e=new cb(e,i,a,E,T,C,B,tt),i=1,d===!0&&(i|=24),d=wn(3,null,null,i),e.current=d,d.stateNode=e,i=Cd(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Od(d),e}function EE(e){return e?(e=Ga,e):Ga}function TE(e,i,a,l,h,d){h=EE(h),l.context===null?l.context=h:l.pendingContext=h,l=Oi(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Mi(e,l,i),a!==null&&(xn(a,e,i),xl(a,e,i))}function SE(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Kp(e,i){SE(e,i),(e=e.alternate)&&SE(e,i)}function AE(e){if(e.tag===13){var i=Fa(e,67108864);i!==null&&xn(i,e,67108864),Kp(e,67108864)}}var mh=!0;function hb(e,i,a,l){var h=K.T;K.T=null;var d=ot.p;try{ot.p=2,Yp(e,i,a,l)}finally{ot.p=d,K.T=h}}function fb(e,i,a,l){var h=K.T;K.T=null;var d=ot.p;try{ot.p=8,Yp(e,i,a,l)}finally{ot.p=d,K.T=h}}function Yp(e,i,a,l){if(mh){var h=Xp(l);if(h===null)kp(e,i,l,gh,a),bE(e,l);else if(pb(h,e,i,a,l))l.stopPropagation();else if(bE(e,l),i&4&&-1<db.indexOf(e)){for(;h!==null;){var d=fr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Wn(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var C=1<<31-rn(E);T.entanglements[1]|=C,E&=~C}Rr(d),(Yt&6)===0&&(Jc=Pn()+500,$l(0))}}break;case 13:T=Fa(d,2),T!==null&&xn(T,d,2),eh(),Kp(d,2)}if(d=Xp(l),d===null&&kp(e,i,l,gh,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else kp(e,i,l,null,a)}}function Xp(e){return e=Un(e),Wp(e)}var gh=null;function Wp(e){if(gh=null,e=jr(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return gh=e,null}function wE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(td()){case Wo:return 2;case Aa:return 8;case ws:case ed:return 32;case wa:return 268435456;default:return 32}default:return 32}}var Zp=!1,$i=null,Qi=null,Ki=null,tu=new Map,eu=new Map,Yi=[],db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bE(e,i){switch(e){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":tu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(i.pointerId)}}function nu(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=fr(i),i!==null&&AE(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function pb(e,i,a,l,h){switch(i){case"focusin":return $i=nu($i,e,i,a,l,h),!0;case"dragenter":return Qi=nu(Qi,e,i,a,l,h),!0;case"mouseover":return Ki=nu(Ki,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return tu.set(d,nu(tu.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,eu.set(d,nu(eu.get(d)||null,e,i,a,l,h)),!0}return!1}function RE(e){var i=jr(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,ec(e.priority,function(){if(a.tag===13){var l=Cn();l=Ai(l);var h=Fa(a,l);h!==null&&xn(h,a,l),Kp(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Xp(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Hr=l,a.target.dispatchEvent(l),Hr=null}else return i=fr(a),i!==null&&AE(i),e.blockedOn=a,!1;i.shift()}return!0}function IE(e,i,a){yh(e)&&a.delete(i)}function mb(){Zp=!1,$i!==null&&yh($i)&&($i=null),Qi!==null&&yh(Qi)&&(Qi=null),Ki!==null&&yh(Ki)&&(Ki=null),tu.forEach(IE),eu.forEach(IE)}function _h(e,i){e.blockedOn===i&&(e.blockedOn=null,Zp||(Zp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,mb)))}var vh=null;function CE(e){vh!==e&&(vh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){vh===e&&(vh=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Wp(l||a)===null)continue;break}var d=fr(a);d!==null&&(e.splice(i,3),i-=3,Wd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ru(e){function i(C){return _h(C,e)}$i!==null&&_h($i,e),Qi!==null&&_h(Qi,e),Ki!==null&&_h(Ki,e),tu.forEach(i),eu.forEach(i);for(var a=0;a<Yi.length;a++){var l=Yi[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Yi.length&&(a=Yi[0],a.blockedOn===null);)RE(a),a.blockedOn===null&&Yi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[Te]||null;if(typeof d=="function")E||CE(a);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[Te]||null)T=E.formAction;else if(Wp(h)!==null)continue}else T=E.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),CE(a)}}}function Jp(e){this._internalRoot=e}Eh.prototype.render=Jp.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Cn();TE(a,l,e,i,null,null)},Eh.prototype.unmount=Jp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;TE(e.current,2,null,e,null,null),eh(),i[kn]=null}};function Eh(e){this._internalRoot=e}Eh.prototype.unstable_scheduleHydration=function(e){if(e){var i=wi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Yi.length&&i!==0&&i<Yi[a].priority;a++);Yi.splice(a,0,e),a===0&&RE(e)}};var xE=t.version;if(xE!=="19.1.0")throw Error(s(527,xE,"19.1.0"));ot.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var gb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{de=Th.inject(gb),Kt=Th}catch{}}return su.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=G_,d=$_,E=Q_,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=vE(e,1,!1,null,null,a,l,h,d,E,T,null),e[kn]=i.current,Pp(e),new Jp(i)},su.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=G_,E=$_,T=Q_,C=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=vE(e,1,!0,i,a??null,l,h,d,E,T,C,B),i.context=EE(null),a=i.current,l=Cn(),l=Ai(l),h=Oi(l),h.callback=null,Mi(a,h,l),a=l,i.current.lanes=a,Ur(i,a),Rr(i),e[kn]=i.current,Pp(e),new Eh(i)},su.version="19.1.0",su}var jE;function Ib(){if(jE)return nm.exports;jE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),nm.exports=Rb(),nm.exports}var Cb=Ib();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zE="popstate";function xb(r={}){function t(s,o){let{pathname:u,search:f,hash:p}=s.location;return bm("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Tu(o)}return Nb(t,n,null,r)}function ue(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function or(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Db(){return Math.random().toString(36).substring(2,10)}function BE(r,t){return{usr:r.state,key:r.key,idx:t}}function bm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?jo(t):t,state:n,key:t&&t.key||s||Db()}}function Tu({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function jo(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function Nb(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",m=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function S(){p="POP";let H=v(),J=H==null?null:H-g;g=H,m&&m({action:p,location:$.location,delta:J})}function w(H,J){p="PUSH";let W=bm($.location,H,J);g=v()+1;let rt=BE(W,g),ut=$.createHref(W);try{f.pushState(rt,"",ut)}catch(lt){if(lt instanceof DOMException&&lt.name==="DataCloneError")throw lt;o.location.assign(ut)}u&&m&&m({action:p,location:$.location,delta:1})}function O(H,J){p="REPLACE";let W=bm($.location,H,J);g=v();let rt=BE(W,g),ut=$.createHref(W);f.replaceState(rt,"",ut),u&&m&&m({action:p,location:$.location,delta:0})}function j(H){return Ob(H)}let $={get action(){return p},get location(){return r(o,f)},listen(H){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(zE,S),m=H,()=>{o.removeEventListener(zE,S),m=null}},createHref(H){return t(o,H)},createURL:j,encodeLocation(H){let J=j(H);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:w,replace:O,go(H){return f.go(H)}};return $}function Ob(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ue(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Tu(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function VT(r,t,n="/"){return Mb(r,t,n,!1)}function Mb(r,t,n,s){let o=typeof t=="string"?jo(t):t,u=mi(o.pathname||"/",n);if(u==null)return null;let f=PT(r);Vb(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let g=Gb(u);p=Hb(f[m],g,s)}return p}function PT(r,t=[],n=[],s=""){let o=(u,f,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(ue(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=fi([s,m.relativePath]),v=n.concat(m);u.children&&u.children.length>0&&(ue(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),PT(u.children,t,v,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:Bb(g,u.index),routesMeta:v})};return r.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,f);else for(let m of kT(u.path))o(u,f,m)}),t}function kT(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=kT(s.join("/")),p=[];return p.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...f),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function Vb(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:qb(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Pb=/^:[\w-]+$/,kb=3,Lb=2,Ub=1,jb=10,zb=-2,qE=r=>r==="*";function Bb(r,t){let n=r.split("/"),s=n.length;return n.some(qE)&&(s+=zb),t&&(s+=Lb),n.filter(o=>!qE(o)).reduce((o,u)=>o+(Pb.test(u)?kb:u===""?Ub:jb),s)}function qb(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function Hb(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let m=s[p],g=p===s.length-1,v=u==="/"?t:t.slice(u.length)||"/",S=Yh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),w=m.route;if(!S&&g&&n&&!s[s.length-1].route.index&&(S=Yh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:fi([u,S.pathname]),pathnameBase:Yb(fi([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=fi([u,S.pathnameBase]))}return f}function Yh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Fb(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:S},w)=>{if(v==="*"){let j=p[w]||"";f=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const O=p[w];return S&&!O?g[v]=void 0:g[v]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function Fb(r,t=!1,n=!0){or(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Gb(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return or(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function mi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function $b(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?jo(r):r;return{pathname:n?n.startsWith("/")?n:Qb(n,t):t,search:Xb(s),hash:Wb(o)}}function Qb(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function am(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Kb(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cg(r){let t=Kb(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function hg(r,t,n,s=!1){let o;typeof r=="string"?o=jo(r):(o={...r},ue(!o.pathname||!o.pathname.includes("?"),am("?","pathname","search",o)),ue(!o.pathname||!o.pathname.includes("#"),am("#","pathname","hash",o)),ue(!o.search||!o.search.includes("#"),am("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let S=t.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}p=S>=0?t[S]:"/"}let m=$b(o,p),g=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var fi=r=>r.join("/").replace(/\/\/+/g,"/"),Yb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Xb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Wb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Zb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var LT=["POST","PUT","PATCH","DELETE"];new Set(LT);var Jb=["GET",...LT];new Set(Jb);var zo=G.createContext(null);zo.displayName="DataRouter";var Tf=G.createContext(null);Tf.displayName="DataRouterState";G.createContext(!1);var UT=G.createContext({isTransitioning:!1});UT.displayName="ViewTransition";var tR=G.createContext(new Map);tR.displayName="Fetchers";var eR=G.createContext(null);eR.displayName="Await";var cr=G.createContext(null);cr.displayName="Navigation";var ku=G.createContext(null);ku.displayName="Location";var kr=G.createContext({outlet:null,matches:[],isDataRoute:!1});kr.displayName="Route";var fg=G.createContext(null);fg.displayName="RouteError";function nR(r,{relative:t}={}){ue(Bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(cr),{hash:o,pathname:u,search:f}=Uu(r,{relative:t}),p=u;return n!=="/"&&(p=u==="/"?n:fi([n,u])),s.createHref({pathname:p,search:f,hash:o})}function Bo(){return G.useContext(ku)!=null}function _s(){return ue(Bo(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(ku).location}var jT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zT(r){G.useContext(cr).static||G.useLayoutEffect(r)}function Lu(){let{isDataRoute:r}=G.useContext(kr);return r?mR():rR()}function rR(){ue(Bo(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(zo),{basename:t,navigator:n}=G.useContext(cr),{matches:s}=G.useContext(kr),{pathname:o}=_s(),u=JSON.stringify(cg(s)),f=G.useRef(!1);return zT(()=>{f.current=!0}),G.useCallback((m,g={})=>{if(or(f.current,jT),!f.current)return;if(typeof m=="number"){n.go(m);return}let v=hg(m,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:fi([t,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[t,n,u,o,r])}G.createContext(null);function Uu(r,{relative:t}={}){let{matches:n}=G.useContext(kr),{pathname:s}=_s(),o=JSON.stringify(cg(n));return G.useMemo(()=>hg(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function iR(r,t){return BT(r,t)}function BT(r,t,n,s){var J;ue(Bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=G.useContext(cr),{matches:u}=G.useContext(kr),f=u[u.length-1],p=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let W=v&&v.path||"";qT(m,!v||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let S=_s(),w;if(t){let W=typeof t=="string"?jo(t):t;ue(g==="/"||((J=W.pathname)==null?void 0:J.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${W.pathname}" was given in the \`location\` prop.`),w=W}else w=S;let O=w.pathname||"/",j=O;if(g!=="/"){let W=g.replace(/^\//,"").split("/");j="/"+O.replace(/^\//,"").split("/").slice(W.length).join("/")}let $=VT(r,{pathname:j});or(v||$!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),or($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=uR($&&$.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:fi([g,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?g:fi([g,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),u,n,s);return t&&H?G.createElement(ku.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},H):H}function sR(){let r=pR(),t=Zb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),n?G.createElement("pre",{style:o},n):null,f)}var aR=G.createElement(sR,null),oR=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?G.createElement(kr.Provider,{value:this.props.routeContext},G.createElement(fg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lR({routeContext:r,match:t,children:n}){let s=G.useContext(zo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(kr.Provider,{value:r},n)}function uR(r,t=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ue(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,p=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:v,errors:S}=n,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||w){f=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,g,v)=>{let S,w=!1,O=null,j=null;n&&(S=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||aR,f&&(p<0&&v===0?(qT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,j=null):p===v&&(w=!0,j=g.route.hydrateFallbackElement||null)));let $=t.concat(o.slice(0,v+1)),H=()=>{let J;return S?J=O:w?J=j:g.route.Component?J=G.createElement(g.route.Component,null):g.route.element?J=g.route.element:J=m,G.createElement(lR,{match:g,routeContext:{outlet:m,matches:$,isDataRoute:n!=null},children:J})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?G.createElement(oR,{location:n.location,revalidation:n.revalidation,component:O,error:S,children:H(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):H()},null)}function dg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cR(r){let t=G.useContext(zo);return ue(t,dg(r)),t}function hR(r){let t=G.useContext(Tf);return ue(t,dg(r)),t}function fR(r){let t=G.useContext(kr);return ue(t,dg(r)),t}function pg(r){let t=fR(r),n=t.matches[t.matches.length-1];return ue(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function dR(){return pg("useRouteId")}function pR(){var s;let r=G.useContext(fg),t=hR("useRouteError"),n=pg("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function mR(){let{router:r}=cR("useNavigate"),t=pg("useNavigate"),n=G.useRef(!1);return zT(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{or(n.current,jT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var HE={};function qT(r,t,n){!t&&!HE[r]&&(HE[r]=!0,or(!1,n))}G.memo(gR);function gR({routes:r,future:t,state:n}){return BT(r,void 0,n,t)}function yR({to:r,replace:t,state:n,relative:s}){ue(Bo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(cr);or(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(kr),{pathname:f}=_s(),p=Lu(),m=hg(r,cg(u),f,s==="path"),g=JSON.stringify(m);return G.useEffect(()=>{p(JSON.parse(g),{replace:t,state:n,relative:s})},[p,g,s,t,n]),null}function Nh(r){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _R({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ue(!Bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=jo(n));let{pathname:m="/",search:g="",hash:v="",state:S=null,key:w="default"}=n,O=G.useMemo(()=>{let j=mi(m,f);return j==null?null:{location:{pathname:j,search:g,hash:v,state:S,key:w},navigationType:s}},[f,m,g,v,S,w,s]);return or(O!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:G.createElement(cr.Provider,{value:p},G.createElement(ku.Provider,{children:t,value:O}))}function vR({children:r,location:t}){return iR(Rm(r),t)}function Rm(r,t=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...t,o];if(s.type===G.Fragment){n.push.apply(n,Rm(s.props.children,u));return}ue(s.type===Nh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Rm(s.props.children,u)),n.push(f)}),n}var Oh="get",Mh="application/x-www-form-urlencoded";function Sf(r){return r!=null&&typeof r.tagName=="string"}function ER(r){return Sf(r)&&r.tagName.toLowerCase()==="button"}function TR(r){return Sf(r)&&r.tagName.toLowerCase()==="form"}function SR(r){return Sf(r)&&r.tagName.toLowerCase()==="input"}function AR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function wR(r,t){return r.button===0&&(!t||t==="_self")&&!AR(r)}var Sh=null;function bR(){if(Sh===null)try{new FormData(document.createElement("form"),0),Sh=!1}catch{Sh=!0}return Sh}var RR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function om(r){return r!=null&&!RR.has(r)?(or(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mh}"`),null):r}function IR(r,t){let n,s,o,u,f;if(TR(r)){let p=r.getAttribute("action");s=p?mi(p,t):null,n=r.getAttribute("method")||Oh,o=om(r.getAttribute("enctype"))||Mh,u=new FormData(r)}else if(ER(r)||SR(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(s=m?mi(m,t):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Oh,o=om(r.getAttribute("formenctype"))||om(p.getAttribute("enctype"))||Mh,u=new FormData(p,r),!bR()){let{name:g,type:v,value:S}=r;if(v==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,S)}}else{if(Sf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Oh,s=null,o=Mh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mg(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function CR(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&mi(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function xR(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function NR(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await xR(u,n);return f.links?f.links():[]}return[]}));return PR(s.flat(1).filter(DR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function FE(r,t,n,s,o,u){let f=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>{var v;return n[g].pathname!==m.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return u==="assets"?t.filter((m,g)=>f(m,g)||p(m,g)):u==="data"?t.filter((m,g)=>{var S;let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(f(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function OR(r,t,{includeHydrateFallback:n}={}){return MR(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function MR(r){return[...new Set(r)]}function VR(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function PR(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(VR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function HT(){let r=G.useContext(zo);return mg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function kR(){let r=G.useContext(Tf);return mg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var gg=G.createContext(void 0);gg.displayName="FrameworkContext";function FT(){let r=G.useContext(gg);return mg(r,"You must render this element inside a <HydratedRouter> element"),r}function LR(r,t){let n=G.useContext(gg),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:S}=t,w=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=J=>{J.forEach(W=>{f(W.isIntersecting)})},H=new IntersectionObserver($,{threshold:.5});return w.current&&H.observe(w.current),()=>{H.disconnect()}}},[r]),G.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let O=()=>{o(!0)},j=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:au(p,O),onBlur:au(m,j),onMouseEnter:au(g,O),onMouseLeave:au(v,j),onTouchStart:au(S,O)}]:[!1,w,{}]}function au(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function UR({page:r,...t}){let{router:n}=HT(),s=G.useMemo(()=>VT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(zR,{page:r,matches:s,...t}):null}function jR(r){let{manifest:t,routeModules:n}=FT(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return NR(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function zR({page:r,matches:t,...n}){let s=_s(),{manifest:o,routeModules:u}=FT(),{basename:f}=HT(),{loaderData:p,matches:m}=kR(),g=G.useMemo(()=>FE(r,t,m,o,s,"data"),[r,t,m,o,s]),v=G.useMemo(()=>FE(r,t,m,o,s,"assets"),[r,t,m,o,s]),S=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let j=new Set,$=!1;if(t.forEach(J=>{var rt;let W=o.routes[J.route.id];!W||!W.hasLoader||(!g.some(ut=>ut.route.id===J.route.id)&&J.route.id in p&&((rt=u[J.route.id])!=null&&rt.shouldRevalidate)||W.hasClientLoader?$=!0:j.add(J.route.id))}),j.size===0)return[];let H=CR(r,f,"data");return $&&j.size>0&&H.searchParams.set("_routes",t.filter(J=>j.has(J.route.id)).map(J=>J.route.id).join(",")),[H.pathname+H.search]},[f,p,s,o,g,t,r,u]),w=G.useMemo(()=>OR(v,o),[v,o]),O=jR(v);return G.createElement(G.Fragment,null,S.map(j=>G.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),w.map(j=>G.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),O.map(({key:j,link:$})=>G.createElement("link",{key:j,...$})))}function BR(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var GT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GT&&(window.__reactRouterVersion="7.7.0")}catch{}function qR({basename:r,children:t,window:n}){let s=G.useRef();s.current==null&&(s.current=xb({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),p=G.useCallback(m=>{G.startTransition(()=>f(m))},[f]);return G.useLayoutEffect(()=>o.listen(p),[o,p]),G.createElement(_R,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var $T=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QT=G.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:m,to:g,preventScrollReset:v,viewTransition:S,...w},O){let{basename:j}=G.useContext(cr),$=typeof g=="string"&&$T.test(g),H,J=!1;if(typeof g=="string"&&$&&(H=g,GT))try{let I=new URL(window.location.href),V=g.startsWith("//")?new URL(I.protocol+g):new URL(g),P=mi(V.pathname,j);V.origin===I.origin&&P!=null?g=P+V.search+V.hash:J=!0}catch{or(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=nR(g,{relative:o}),[rt,ut,lt]=LR(s,w),dt=$R(g,{replace:f,state:p,target:m,preventScrollReset:v,relative:o,viewTransition:S});function x(I){t&&t(I),I.defaultPrevented||dt(I)}let R=G.createElement("a",{...w,...lt,href:H||W,onClick:J||u?t:x,ref:BR(O,ut),target:m,"data-discover":!$&&n==="render"?"true":void 0});return rt&&!$?G.createElement(G.Fragment,null,R,G.createElement(UR,{page:W})):R});QT.displayName="Link";var HR=G.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:m,...g},v){let S=Uu(f,{relative:g.relative}),w=_s(),O=G.useContext(Tf),{navigator:j,basename:$}=G.useContext(cr),H=O!=null&&WR(S)&&p===!0,J=j.encodeLocation?j.encodeLocation(S).pathname:S.pathname,W=w.pathname,rt=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(W=W.toLowerCase(),rt=rt?rt.toLowerCase():null,J=J.toLowerCase()),rt&&$&&(rt=mi(rt,$)||rt);const ut=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let lt=W===J||!o&&W.startsWith(J)&&W.charAt(ut)==="/",dt=rt!=null&&(rt===J||!o&&rt.startsWith(J)&&rt.charAt(J.length)==="/"),x={isActive:lt,isPending:dt,isTransitioning:H},R=lt?t:void 0,I;typeof s=="function"?I=s(x):I=[s,lt?"active":null,dt?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(x):u;return G.createElement(QT,{...g,"aria-current":R,className:I,ref:v,style:V,to:f,viewTransition:p},typeof m=="function"?m(x):m)});HR.displayName="NavLink";var FR=G.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Oh,action:p,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:S,...w},O)=>{let j=YR(),$=XR(p,{relative:g}),H=f.toLowerCase()==="get"?"get":"post",J=typeof p=="string"&&$T.test(p),W=rt=>{if(m&&m(rt),rt.defaultPrevented)return;rt.preventDefault();let ut=rt.nativeEvent.submitter,lt=(ut==null?void 0:ut.getAttribute("formmethod"))||f;j(ut||rt.currentTarget,{fetcherKey:t,method:lt,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:S})};return G.createElement("form",{ref:O,method:H,action:$,onSubmit:s?m:W,...w,"data-discover":!J&&r==="render"?"true":void 0})});FR.displayName="Form";function GR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KT(r){let t=G.useContext(zo);return ue(t,GR(r)),t}function $R(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=Lu(),m=_s(),g=Uu(r,{relative:u});return G.useCallback(v=>{if(wR(v,t)){v.preventDefault();let S=n!==void 0?n:Tu(m)===Tu(g);p(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[m,p,g,n,s,t,r,o,u,f])}var QR=0,KR=()=>`__${String(++QR)}__`;function YR(){let{router:r}=KT("useSubmit"),{basename:t}=G.useContext(cr),n=dR();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:m,body:g}=IR(s,t);if(o.navigate===!1){let v=o.fetcherKey||KR();await r.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function XR(r,{relative:t}={}){let{basename:n}=G.useContext(cr),s=G.useContext(kr);ue(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Uu(r||".",{relative:t})},f=_s();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(v=>v==="")){p.delete("index"),m.filter(S=>S).forEach(S=>p.append("index",S));let v=p.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:fi([n,u.pathname])),Tu(u)}function WR(r,t={}){let n=G.useContext(UT);ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=KT("useViewTransitionState"),o=Uu(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=mi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=mi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Yh(o.pathname,f)!=null||Yh(o.pathname,u)!=null}var Ge=function(){return Ge=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},Ge.apply(this,arguments)};function Su(r,t,n){if(n||arguments.length===2)for(var s=0,o=t.length,u;s<o;s++)(u||!(s in t))&&(u||(u=Array.prototype.slice.call(t,0,s)),u[s]=t[s]);return r.concat(u||Array.prototype.slice.call(t))}var se="-ms-",pu="-moz-",$t="-webkit-",YT="comm",Af="rule",yg="decl",ZR="@import",XT="@keyframes",JR="@layer",WT=Math.abs,_g=String.fromCharCode,Im=Object.assign;function tI(r,t){return Fe(r,0)^45?(((t<<2^Fe(r,0))<<2^Fe(r,1))<<2^Fe(r,2))<<2^Fe(r,3):0}function ZT(r){return r.trim()}function ui(r,t){return(r=t.exec(r))?r[0]:r}function Dt(r,t,n){return r.replace(t,n)}function Vh(r,t,n){return r.indexOf(t,n)}function Fe(r,t){return r.charCodeAt(t)|0}function Io(r,t,n){return r.slice(t,n)}function Cr(r){return r.length}function JT(r){return r.length}function ou(r,t){return t.push(r),r}function eI(r,t){return r.map(t).join("")}function GE(r,t){return r.filter(function(n){return!ui(n,t)})}var wf=1,Co=1,tS=0,Xn=0,Re=0,qo="";function bf(r,t,n,s,o,u,f,p){return{value:r,root:t,parent:n,type:s,props:o,children:u,line:wf,column:Co,length:f,return:"",siblings:p}}function Ji(r,t){return Im(bf("",null,null,"",null,null,0,r.siblings),r,{length:-r.length},t)}function go(r){for(;r.root;)r=Ji(r.root,{children:[r]});ou(r,r.siblings)}function nI(){return Re}function rI(){return Re=Xn>0?Fe(qo,--Xn):0,Co--,Re===10&&(Co=1,wf--),Re}function sr(){return Re=Xn<tS?Fe(qo,Xn++):0,Co++,Re===10&&(Co=1,wf++),Re}function oa(){return Fe(qo,Xn)}function Ph(){return Xn}function Rf(r,t){return Io(qo,r,t)}function Cm(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function iI(r){return wf=Co=1,tS=Cr(qo=r),Xn=0,[]}function sI(r){return qo="",r}function lm(r){return ZT(Rf(Xn-1,xm(r===91?r+2:r===40?r+1:r)))}function aI(r){for(;(Re=oa())&&Re<33;)sr();return Cm(r)>2||Cm(Re)>3?"":" "}function oI(r,t){for(;--t&&sr()&&!(Re<48||Re>102||Re>57&&Re<65||Re>70&&Re<97););return Rf(r,Ph()+(t<6&&oa()==32&&sr()==32))}function xm(r){for(;sr();)switch(Re){case r:return Xn;case 34:case 39:r!==34&&r!==39&&xm(Re);break;case 40:r===41&&xm(r);break;case 92:sr();break}return Xn}function lI(r,t){for(;sr()&&r+Re!==57;)if(r+Re===84&&oa()===47)break;return"/*"+Rf(t,Xn-1)+"*"+_g(r===47?r:sr())}function uI(r){for(;!Cm(oa());)sr();return Rf(r,Xn)}function cI(r){return sI(kh("",null,null,null,[""],r=iI(r),0,[0],r))}function kh(r,t,n,s,o,u,f,p,m){for(var g=0,v=0,S=f,w=0,O=0,j=0,$=1,H=1,J=1,W=0,rt="",ut=o,lt=u,dt=s,x=rt;H;)switch(j=W,W=sr()){case 40:if(j!=108&&Fe(x,S-1)==58){Vh(x+=Dt(lm(W),"&","&\f"),"&\f",WT(g?p[g-1]:0))!=-1&&(J=-1);break}case 34:case 39:case 91:x+=lm(W);break;case 9:case 10:case 13:case 32:x+=aI(j);break;case 92:x+=oI(Ph()-1,7);continue;case 47:switch(oa()){case 42:case 47:ou(hI(lI(sr(),Ph()),t,n,m),m);break;default:x+="/"}break;case 123*$:p[g++]=Cr(x)*J;case 125*$:case 59:case 0:switch(W){case 0:case 125:H=0;case 59+v:J==-1&&(x=Dt(x,/\f/g,"")),O>0&&Cr(x)-S&&ou(O>32?QE(x+";",s,n,S-1,m):QE(Dt(x," ","")+";",s,n,S-2,m),m);break;case 59:x+=";";default:if(ou(dt=$E(x,t,n,g,v,o,p,rt,ut=[],lt=[],S,u),u),W===123)if(v===0)kh(x,t,dt,dt,ut,u,S,p,lt);else switch(w===99&&Fe(x,3)===110?100:w){case 100:case 108:case 109:case 115:kh(r,dt,dt,s&&ou($E(r,dt,dt,0,0,o,p,rt,o,ut=[],S,lt),lt),o,lt,S,p,s?ut:lt);break;default:kh(x,dt,dt,dt,[""],lt,0,p,lt)}}g=v=O=0,$=J=1,rt=x="",S=f;break;case 58:S=1+Cr(x),O=j;default:if($<1){if(W==123)--$;else if(W==125&&$++==0&&rI()==125)continue}switch(x+=_g(W),W*$){case 38:J=v>0?1:(x+="\f",-1);break;case 44:p[g++]=(Cr(x)-1)*J,J=1;break;case 64:oa()===45&&(x+=lm(sr())),w=oa(),v=S=Cr(rt=x+=uI(Ph())),W++;break;case 45:j===45&&Cr(x)==2&&($=0)}}return u}function $E(r,t,n,s,o,u,f,p,m,g,v,S){for(var w=o-1,O=o===0?u:[""],j=JT(O),$=0,H=0,J=0;$<s;++$)for(var W=0,rt=Io(r,w+1,w=WT(H=f[$])),ut=r;W<j;++W)(ut=ZT(H>0?O[W]+" "+rt:Dt(rt,/&\f/g,O[W])))&&(m[J++]=ut);return bf(r,t,n,o===0?Af:p,m,g,v,S)}function hI(r,t,n,s){return bf(r,t,n,YT,_g(nI()),Io(r,2,-2),0,s)}function QE(r,t,n,s,o){return bf(r,t,n,yg,Io(r,0,s),Io(r,s+1,-1),s,o)}function eS(r,t,n){switch(tI(r,t)){case 5103:return $t+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $t+r+r;case 4789:return pu+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return $t+r+pu+r+se+r+r;case 5936:switch(Fe(r,t+11)){case 114:return $t+r+se+Dt(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return $t+r+se+Dt(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return $t+r+se+Dt(r,/[svh]\w+-[tblr]{2}/,"lr")+r}case 6828:case 4268:case 2903:return $t+r+se+r+r;case 6165:return $t+r+se+"flex-"+r+r;case 5187:return $t+r+Dt(r,/(\w+).+(:[^]+)/,$t+"box-$1$2"+se+"flex-$1$2")+r;case 5443:return $t+r+se+"flex-item-"+Dt(r,/flex-|-self/g,"")+(ui(r,/flex-|baseline/)?"":se+"grid-row-"+Dt(r,/flex-|-self/g,""))+r;case 4675:return $t+r+se+"flex-line-pack"+Dt(r,/align-content|flex-|-self/g,"")+r;case 5548:return $t+r+se+Dt(r,"shrink","negative")+r;case 5292:return $t+r+se+Dt(r,"basis","preferred-size")+r;case 6060:return $t+"box-"+Dt(r,"-grow","")+$t+r+se+Dt(r,"grow","positive")+r;case 4554:return $t+Dt(r,/([^-])(transform)/g,"$1"+$t+"$2")+r;case 6187:return Dt(Dt(Dt(r,/(zoom-|grab)/,$t+"$1"),/(image-set)/,$t+"$1"),r,"")+r;case 5495:case 3959:return Dt(r,/(image-set\([^]*)/,$t+"$1$`$1");case 4968:return Dt(Dt(r,/(.+:)(flex-)?(.*)/,$t+"box-pack:$3"+se+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$t+r+r;case 4200:if(!ui(r,/flex-|baseline/))return se+"grid-column-align"+Io(r,t)+r;break;case 2592:case 3360:return se+Dt(r,"template-","")+r;case 4384:case 3616:return n&&n.some(function(s,o){return t=o,ui(s.props,/grid-\w+-end/)})?~Vh(r+(n=n[t].value),"span",0)?r:se+Dt(r,"-start","")+r+se+"grid-row-span:"+(~Vh(n,"span",0)?ui(n,/\d+/):+ui(n,/\d+/)-+ui(r,/\d+/))+";":se+Dt(r,"-start","")+r;case 4896:case 4128:return n&&n.some(function(s){return ui(s.props,/grid-\w+-start/)})?r:se+Dt(Dt(r,"-end","-span"),"span ","")+r;case 4095:case 3583:case 4068:case 2532:return Dt(r,/(.+)-inline(.+)/,$t+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Cr(r)-1-t>6)switch(Fe(r,t+1)){case 109:if(Fe(r,t+4)!==45)break;case 102:return Dt(r,/(.+:)(.+)-([^]+)/,"$1"+$t+"$2-$3$1"+pu+(Fe(r,t+3)==108?"$3":"$2-$3"))+r;case 115:return~Vh(r,"stretch",0)?eS(Dt(r,"stretch","fill-available"),t,n)+r:r}break;case 5152:case 5920:return Dt(r,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,o,u,f,p,m,g){return se+o+":"+u+g+(f?se+o+"-span:"+(p?m:+m-+u)+g:"")+r});case 4949:if(Fe(r,t+6)===121)return Dt(r,":",":"+$t)+r;break;case 6444:switch(Fe(r,Fe(r,14)===45?18:11)){case 120:return Dt(r,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+$t+(Fe(r,14)===45?"inline-":"")+"box$3$1"+$t+"$2$3$1"+se+"$2box$3")+r;case 100:return Dt(r,":",":"+se)+r}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Dt(r,"scroll-","scroll-snap-")+r}return r}function Xh(r,t){for(var n="",s=0;s<r.length;s++)n+=t(r[s],s,r,t)||"";return n}function fI(r,t,n,s){switch(r.type){case JR:if(r.children.length)break;case ZR:case yg:return r.return=r.return||r.value;case YT:return"";case XT:return r.return=r.value+"{"+Xh(r.children,s)+"}";case Af:if(!Cr(r.value=r.props.join(",")))return""}return Cr(n=Xh(r.children,s))?r.return=r.value+"{"+n+"}":""}function dI(r){var t=JT(r);return function(n,s,o,u){for(var f="",p=0;p<t;p++)f+=r[p](n,s,o,u)||"";return f}}function pI(r){return function(t){t.root||(t=t.return)&&r(t)}}function mI(r,t,n,s){if(r.length>-1&&!r.return)switch(r.type){case yg:r.return=eS(r.value,r.length,n);return;case XT:return Xh([Ji(r,{value:Dt(r.value,"@","@"+$t)})],s);case Af:if(r.length)return eI(n=r.props,function(o){switch(ui(o,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":go(Ji(r,{props:[Dt(o,/:(read-\w+)/,":"+pu+"$1")]})),go(Ji(r,{props:[o]})),Im(r,{props:GE(n,s)});break;case"::placeholder":go(Ji(r,{props:[Dt(o,/:(plac\w+)/,":"+$t+"input-$1")]})),go(Ji(r,{props:[Dt(o,/:(plac\w+)/,":"+pu+"$1")]})),go(Ji(r,{props:[Dt(o,/:(plac\w+)/,se+"input-$1")]})),go(Ji(r,{props:[o]})),Im(r,{props:GE(n,s)});break}return""})}}var gI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Dn={},xo=typeof process<"u"&&Dn!==void 0&&(Dn.REACT_APP_SC_ATTR||Dn.SC_ATTR)||"data-styled",nS="active",rS="data-styled-version",If="6.1.19",vg=`/*!sc*/
`,Wh=typeof window<"u"&&typeof document<"u",yI=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Dn!==void 0&&Dn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Dn.REACT_APP_SC_DISABLE_SPEEDY!==""?Dn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Dn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Dn!==void 0&&Dn.SC_DISABLE_SPEEDY!==void 0&&Dn.SC_DISABLE_SPEEDY!==""&&Dn.SC_DISABLE_SPEEDY!=="false"&&Dn.SC_DISABLE_SPEEDY),_I={},Cf=Object.freeze([]),Do=Object.freeze({});function iS(r,t,n){return n===void 0&&(n=Do),r.theme!==n.theme&&r.theme||t||n.theme}var sS=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),vI=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,EI=/(^-|-$)/g;function KE(r){return r.replace(vI,"-").replace(EI,"")}var TI=/(a)(d)/gi,Ah=52,YE=function(r){return String.fromCharCode(r+(r>25?39:97))};function Dm(r){var t,n="";for(t=Math.abs(r);t>Ah;t=t/Ah|0)n=YE(t%Ah)+n;return(YE(t%Ah)+n).replace(TI,"$1-$2")}var um,aS=5381,To=function(r,t){for(var n=t.length;n;)r=33*r^t.charCodeAt(--n);return r},oS=function(r){return To(aS,r)};function lS(r){return Dm(oS(r)>>>0)}function SI(r){return r.displayName||r.name||"Component"}function cm(r){return typeof r=="string"&&!0}var uS=typeof Symbol=="function"&&Symbol.for,cS=uS?Symbol.for("react.memo"):60115,AI=uS?Symbol.for("react.forward_ref"):60112,wI={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},bI={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},hS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},RI=((um={})[AI]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},um[cS]=hS,um);function XE(r){return("type"in(t=r)&&t.type.$$typeof)===cS?hS:"$$typeof"in r?RI[r.$$typeof]:wI;var t}var II=Object.defineProperty,CI=Object.getOwnPropertyNames,WE=Object.getOwnPropertySymbols,xI=Object.getOwnPropertyDescriptor,DI=Object.getPrototypeOf,ZE=Object.prototype;function fS(r,t,n){if(typeof t!="string"){if(ZE){var s=DI(t);s&&s!==ZE&&fS(r,s,n)}var o=CI(t);WE&&(o=o.concat(WE(t)));for(var u=XE(r),f=XE(t),p=0;p<o.length;++p){var m=o[p];if(!(m in bI||n&&n[m]||f&&m in f||u&&m in u)){var g=xI(t,m);try{II(r,m,g)}catch{}}}}return r}function ca(r){return typeof r=="function"}function Eg(r){return typeof r=="object"&&"styledComponentId"in r}function sa(r,t){return r&&t?"".concat(r," ").concat(t):r||t||""}function Nm(r,t){if(r.length===0)return"";for(var n=r[0],s=1;s<r.length;s++)n+=r[s];return n}function Au(r){return r!==null&&typeof r=="object"&&r.constructor.name===Object.name&&!("props"in r&&r.$$typeof)}function Om(r,t,n){if(n===void 0&&(n=!1),!n&&!Au(r)&&!Array.isArray(r))return t;if(Array.isArray(t))for(var s=0;s<t.length;s++)r[s]=Om(r[s],t[s]);else if(Au(t))for(var s in t)r[s]=Om(r[s],t[s]);return r}function Tg(r,t){Object.defineProperty(r,"toString",{value:t})}function ha(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(r," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var NI=function(){function r(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return r.prototype.indexOfGroup=function(t){for(var n=0,s=0;s<t;s++)n+=this.groupSizes[s];return n},r.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var s=this.groupSizes,o=s.length,u=o;t>=u;)if((u<<=1)<0)throw ha(16,"".concat(t));this.groupSizes=new Uint32Array(u),this.groupSizes.set(s),this.length=u;for(var f=o;f<u;f++)this.groupSizes[f]=0}for(var p=this.indexOfGroup(t+1),m=(f=0,n.length);f<m;f++)this.tag.insertRule(p,n[f])&&(this.groupSizes[t]++,p++)},r.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],s=this.indexOfGroup(t),o=s+n;this.groupSizes[t]=0;for(var u=s;u<o;u++)this.tag.deleteRule(s)}},r.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var s=this.groupSizes[t],o=this.indexOfGroup(t),u=o+s,f=o;f<u;f++)n+="".concat(this.tag.getRule(f)).concat(vg);return n},r}(),Lh=new Map,Zh=new Map,Uh=1,wh=function(r){if(Lh.has(r))return Lh.get(r);for(;Zh.has(Uh);)Uh++;var t=Uh++;return Lh.set(r,t),Zh.set(t,r),t},OI=function(r,t){Uh=t+1,Lh.set(r,t),Zh.set(t,r)},MI="style[".concat(xo,"][").concat(rS,'="').concat(If,'"]'),VI=new RegExp("^".concat(xo,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),PI=function(r,t,n){for(var s,o=n.split(","),u=0,f=o.length;u<f;u++)(s=o[u])&&r.registerName(t,s)},kI=function(r,t){for(var n,s=((n=t.textContent)!==null&&n!==void 0?n:"").split(vg),o=[],u=0,f=s.length;u<f;u++){var p=s[u].trim();if(p){var m=p.match(VI);if(m){var g=0|parseInt(m[1],10),v=m[2];g!==0&&(OI(v,g),PI(r,v,m[3]),r.getTag().insertRules(g,o)),o.length=0}else o.push(p)}}},JE=function(r){for(var t=document.querySelectorAll(MI),n=0,s=t.length;n<s;n++){var o=t[n];o&&o.getAttribute(xo)!==nS&&(kI(r,o),o.parentNode&&o.parentNode.removeChild(o))}};function LI(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var dS=function(r){var t=document.head,n=r||t,s=document.createElement("style"),o=function(p){var m=Array.from(p.querySelectorAll("style[".concat(xo,"]")));return m[m.length-1]}(n),u=o!==void 0?o.nextSibling:null;s.setAttribute(xo,nS),s.setAttribute(rS,If);var f=LI();return f&&s.setAttribute("nonce",f),n.insertBefore(s,u),s},UI=function(){function r(t){this.element=dS(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var s=document.styleSheets,o=0,u=s.length;o<u;o++){var f=s[o];if(f.ownerNode===n)return f}throw ha(17)}(this.element),this.length=0}return r.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},r.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},r.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},r}(),jI=function(){function r(t){this.element=dS(t),this.nodes=this.element.childNodes,this.length=0}return r.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var s=document.createTextNode(n);return this.element.insertBefore(s,this.nodes[t]||null),this.length++,!0}return!1},r.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},r.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},r}(),zI=function(){function r(t){this.rules=[],this.length=0}return r.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},r.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},r.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},r}(),t0=Wh,BI={isServer:!Wh,useCSSOMInjection:!yI},Jh=function(){function r(t,n,s){t===void 0&&(t=Do),n===void 0&&(n={});var o=this;this.options=Ge(Ge({},BI),t),this.gs=n,this.names=new Map(s),this.server=!!t.isServer,!this.server&&Wh&&t0&&(t0=!1,JE(this)),Tg(this,function(){return function(u){for(var f=u.getTag(),p=f.length,m="",g=function(S){var w=function(J){return Zh.get(J)}(S);if(w===void 0)return"continue";var O=u.names.get(w),j=f.getGroup(S);if(O===void 0||!O.size||j.length===0)return"continue";var $="".concat(xo,".g").concat(S,'[id="').concat(w,'"]'),H="";O!==void 0&&O.forEach(function(J){J.length>0&&(H+="".concat(J,","))}),m+="".concat(j).concat($,'{content:"').concat(H,'"}').concat(vg)},v=0;v<p;v++)g(v);return m}(o)})}return r.registerId=function(t){return wh(t)},r.prototype.rehydrate=function(){!this.server&&Wh&&JE(this)},r.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new r(Ge(Ge({},this.options),t),this.gs,n&&this.names||void 0)},r.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},r.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var s=n.useCSSOMInjection,o=n.target;return n.isServer?new zI(o):s?new UI(o):new jI(o)}(this.options),new NI(t)));var t},r.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},r.prototype.registerName=function(t,n){if(wh(t),this.names.has(t))this.names.get(t).add(n);else{var s=new Set;s.add(n),this.names.set(t,s)}},r.prototype.insertRules=function(t,n,s){this.registerName(t,n),this.getTag().insertRules(wh(t),s)},r.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},r.prototype.clearRules=function(t){this.getTag().clearGroup(wh(t)),this.clearNames(t)},r.prototype.clearTag=function(){this.tag=void 0},r}(),qI=/&/g,HI=/^\s*\/\/.*$/gm;function pS(r,t){return r.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(s){return"".concat(t," ").concat(s)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=pS(n.children,t)),n})}function FI(r){var t,n,s,o=Do,u=o.options,f=u===void 0?Do:u,p=o.plugins,m=p===void 0?Cf:p,g=function(w,O,j){return j.startsWith(n)&&j.endsWith(n)&&j.replaceAll(n,"").length>0?".".concat(t):w},v=m.slice();v.push(function(w){w.type===Af&&w.value.includes("&")&&(w.props[0]=w.props[0].replace(qI,n).replace(s,g))}),f.prefix&&v.push(mI),v.push(fI);var S=function(w,O,j,$){O===void 0&&(O=""),j===void 0&&(j=""),$===void 0&&($="&"),t=$,n=O,s=new RegExp("\\".concat(n,"\\b"),"g");var H=w.replace(HI,""),J=cI(j||O?"".concat(j," ").concat(O," { ").concat(H," }"):H);f.namespace&&(J=pS(J,f.namespace));var W=[];return Xh(J,dI(v.concat(pI(function(rt){return W.push(rt)})))),W};return S.hash=m.length?m.reduce(function(w,O){return O.name||ha(15),To(w,O.name)},aS).toString():"",S}var GI=new Jh,Mm=FI(),mS=rr.createContext({shouldForwardProp:void 0,styleSheet:GI,stylis:Mm});mS.Consumer;rr.createContext(void 0);function Vm(){return G.useContext(mS)}var $I=function(){function r(t,n){var s=this;this.inject=function(o,u){u===void 0&&(u=Mm);var f=s.name+u.hash;o.hasNameForId(s.id,f)||o.insertRules(s.id,f,u(s.rules,f,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,Tg(this,function(){throw ha(12,String(s.name))})}return r.prototype.getName=function(t){return t===void 0&&(t=Mm),this.name+t.hash},r}(),QI=function(r){return r>="A"&&r<="Z"};function e0(r){for(var t="",n=0;n<r.length;n++){var s=r[n];if(n===1&&s==="-"&&r[0]==="-")return r;QI(s)?t+="-"+s.toLowerCase():t+=s}return t.startsWith("ms-")?"-"+t:t}var gS=function(r){return r==null||r===!1||r===""},yS=function(r){var t,n,s=[];for(var o in r){var u=r[o];r.hasOwnProperty(o)&&!gS(u)&&(Array.isArray(u)&&u.isCss||ca(u)?s.push("".concat(e0(o),":"),u,";"):Au(u)?s.push.apply(s,Su(Su(["".concat(o," {")],yS(u),!1),["}"],!1)):s.push("".concat(e0(o),": ").concat((t=o,(n=u)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in gI||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return s};function ss(r,t,n,s){if(gS(r))return[];if(Eg(r))return[".".concat(r.styledComponentId)];if(ca(r)){if(!ca(u=r)||u.prototype&&u.prototype.isReactComponent||!t)return[r];var o=r(t);return ss(o,t,n,s)}var u;return r instanceof $I?n?(r.inject(n,s),[r.getName(s)]):[r]:Au(r)?yS(r):Array.isArray(r)?Array.prototype.concat.apply(Cf,r.map(function(f){return ss(f,t,n,s)})):[r.toString()]}function _S(r){for(var t=0;t<r.length;t+=1){var n=r[t];if(ca(n)&&!Eg(n))return!1}return!0}var KI=oS(If),YI=function(){function r(t,n,s){this.rules=t,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&_S(t),this.componentId=n,this.baseHash=To(KI,n),this.baseStyle=s,Jh.registerId(n)}return r.prototype.generateAndInjectStyles=function(t,n,s){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=sa(o,this.staticRulesId);else{var u=Nm(ss(this.rules,t,n,s)),f=Dm(To(this.baseHash,u)>>>0);if(!n.hasNameForId(this.componentId,f)){var p=s(u,".".concat(f),void 0,this.componentId);n.insertRules(this.componentId,f,p)}o=sa(o,f),this.staticRulesId=f}else{for(var m=To(this.baseHash,s.hash),g="",v=0;v<this.rules.length;v++){var S=this.rules[v];if(typeof S=="string")g+=S;else if(S){var w=Nm(ss(S,t,n,s));m=To(m,w+v),g+=w}}if(g){var O=Dm(m>>>0);n.hasNameForId(this.componentId,O)||n.insertRules(this.componentId,O,s(g,".".concat(O),void 0,this.componentId)),o=sa(o,O)}}return o},r}(),wu=rr.createContext(void 0);wu.Consumer;function XI(r){var t=rr.useContext(wu),n=G.useMemo(function(){return function(s,o){if(!s)throw ha(14);if(ca(s)){var u=s(o);return u}if(Array.isArray(s)||typeof s!="object")throw ha(8);return o?Ge(Ge({},o),s):s}(r.theme,t)},[r.theme,t]);return r.children?rr.createElement(wu.Provider,{value:n},r.children):null}var hm={};function WI(r,t,n){var s=Eg(r),o=r,u=!cm(r),f=t.attrs,p=f===void 0?Cf:f,m=t.componentId,g=m===void 0?function(ut,lt){var dt=typeof ut!="string"?"sc":KE(ut);hm[dt]=(hm[dt]||0)+1;var x="".concat(dt,"-").concat(lS(If+dt+hm[dt]));return lt?"".concat(lt,"-").concat(x):x}(t.displayName,t.parentComponentId):m,v=t.displayName,S=v===void 0?function(ut){return cm(ut)?"styled.".concat(ut):"Styled(".concat(SI(ut),")")}(r):v,w=t.displayName&&t.componentId?"".concat(KE(t.displayName),"-").concat(t.componentId):t.componentId||g,O=s&&o.attrs?o.attrs.concat(p).filter(Boolean):p,j=t.shouldForwardProp;if(s&&o.shouldForwardProp){var $=o.shouldForwardProp;if(t.shouldForwardProp){var H=t.shouldForwardProp;j=function(ut,lt){return $(ut,lt)&&H(ut,lt)}}else j=$}var J=new YI(n,w,s?o.componentStyle:void 0);function W(ut,lt){return function(dt,x,R){var I=dt.attrs,V=dt.componentStyle,P=dt.defaultProps,L=dt.foldedComponentIds,D=dt.styledComponentId,De=dt.target,ae=rr.useContext(wu),K=Vm(),ot=dt.shouldForwardProp||K.shouldForwardProp,mt=iS(x,ae,P)||Do,Ct=function(It,vt,ce){for(var qt,Le=Ge(Ge({},vt),{className:void 0,theme:ce}),Vn=0;Vn<It.length;Vn+=1){var mn=ca(qt=It[Vn])?qt(Le):qt;for(var nn in mn)Le[nn]=nn==="className"?sa(Le[nn],mn[nn]):nn==="style"?Ge(Ge({},Le[nn]),mn[nn]):mn[nn]}return vt.className&&(Le.className=sa(Le.className,vt.className)),Le}(I,x,mt),N=Ct.as||De,nt={};for(var st in Ct)Ct[st]===void 0||st[0]==="$"||st==="as"||st==="theme"&&Ct.theme===mt||(st==="forwardedAs"?nt.as=Ct.forwardedAs:ot&&!ot(st,N)||(nt[st]=Ct[st]));var it=function(It,vt){var ce=Vm(),qt=It.generateAndInjectStyles(vt,ce.styleSheet,ce.stylis);return qt}(V,Ct),gt=sa(L,D);return it&&(gt+=" "+it),Ct.className&&(gt+=" "+Ct.className),nt[cm(N)&&!sS.has(N)?"class":"className"]=gt,R&&(nt.ref=R),G.createElement(N,nt)}(rt,ut,lt)}W.displayName=S;var rt=rr.forwardRef(W);return rt.attrs=O,rt.componentStyle=J,rt.displayName=S,rt.shouldForwardProp=j,rt.foldedComponentIds=s?sa(o.foldedComponentIds,o.styledComponentId):"",rt.styledComponentId=w,rt.target=s?o.target:r,Object.defineProperty(rt,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ut){this._foldedDefaultProps=s?function(lt){for(var dt=[],x=1;x<arguments.length;x++)dt[x-1]=arguments[x];for(var R=0,I=dt;R<I.length;R++)Om(lt,I[R],!0);return lt}({},o.defaultProps,ut):ut}}),Tg(rt,function(){return".".concat(rt.styledComponentId)}),u&&fS(rt,r,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),rt}function n0(r,t){for(var n=[r[0]],s=0,o=t.length;s<o;s+=1)n.push(t[s],r[s+1]);return n}var r0=function(r){return Object.assign(r,{isCss:!0})};function vS(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ca(r)||Au(r))return r0(ss(n0(Cf,Su([r],t,!0))));var s=r;return t.length===0&&s.length===1&&typeof s[0]=="string"?ss(s):r0(ss(n0(s,t)))}function Pm(r,t,n){if(n===void 0&&(n=Do),!t)throw ha(1,t);var s=function(o){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];return r(t,n,vS.apply(void 0,Su([o],u,!1)))};return s.attrs=function(o){return Pm(r,t,Ge(Ge({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},s.withConfig=function(o){return Pm(r,t,Ge(Ge({},n),o))},s}var ES=function(r){return Pm(WI,r)},ft=ES;sS.forEach(function(r){ft[r]=ES(r)});var ZI=function(){function r(t,n){this.rules=t,this.componentId=n,this.isStatic=_S(t),Jh.registerId(this.componentId+1)}return r.prototype.createStyles=function(t,n,s,o){var u=o(Nm(ss(this.rules,n,s,o)),""),f=this.componentId+t;s.insertRules(f,f,u)},r.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},r.prototype.renderStyles=function(t,n,s,o){t>2&&Jh.registerId(this.componentId+t),this.removeStyles(t,s),this.createStyles(t,n,s,o)},r}();function JI(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var s=vS.apply(void 0,Su([r],t,!1)),o="sc-global-".concat(lS(JSON.stringify(s))),u=new ZI(s,o),f=function(m){var g=Vm(),v=rr.useContext(wu),S=rr.useRef(g.styleSheet.allocateGSInstance(o)).current;return g.styleSheet.server&&p(S,m,g.styleSheet,v,g.stylis),rr.useLayoutEffect(function(){if(!g.styleSheet.server)return p(S,m,g.styleSheet,v,g.stylis),function(){return u.removeStyles(S,g.styleSheet)}},[S,m,g.styleSheet,v,g.stylis]),null};function p(m,g,v,S,w){if(u.isStatic)u.renderStyles(m,_I,v,w);else{var O=Ge(Ge({},g),{theme:iS(g,S,f.defaultProps)});u.renderStyles(m,O,v,w)}}return rr.memo(f)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=()=>{};var i0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},eC=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},SS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,v=u>>2,S=(u&3)<<4|p>>4;let w=(p&15)<<2|g>>6,O=g&63;m||(O=64,f||(w=64)),s.push(n[v],n[S],n[w],n[O])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(TS(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):eC(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||g==null||S==null)throw new nC;const w=u<<2|p>>4;if(s.push(w),g!==64){const O=p<<4&240|g>>2;if(s.push(O),S!==64){const j=g<<6&192|S;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class nC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rC=function(r){const t=TS(r);return SS.encodeByteArray(t,!0)},tf=function(r){return rC(r).replace(/\./g,"")},AS=function(r){try{return SS.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=()=>iC().__FIREBASE_DEFAULTS__,aC=()=>{if(typeof process>"u"||typeof i0>"u")return;const r=i0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},oC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&AS(r[1]);return t&&JSON.parse(t)},xf=()=>{try{return tC()||sC()||aC()||oC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},wS=r=>{var t,n;return(n=(t=xf())==null?void 0:t.emulatorHosts)==null?void 0:n[r]},lC=r=>{const t=wS(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},bS=()=>{var r;return(r=xf())==null?void 0:r.config},RS=r=>{var t;return(t=xf())==null?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function IS(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[tf(JSON.stringify(n)),tf(JSON.stringify(f)),""].join(".")}const mu={};function hC(){const r={prod:[],emulator:[]};for(const t of Object.keys(mu))mu[t]?r.emulator.push(t):r.prod.push(t);return r}function fC(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let s0=!1;function CS(r,t){if(typeof window>"u"||typeof document>"u"||!Ho(window.location.host)||mu[r]===t||mu[r]||s0)return;mu[r]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=hC().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,O){w.setAttribute("width","24"),w.setAttribute("id",O),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{s0=!0,f()},w}function v(w,O){w.setAttribute("id",O),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=fC(s),O=n("text"),j=document.getElementById(O)||document.createElement("span"),$=n("learnmore"),H=document.getElementById($)||document.createElement("a"),J=n("preprendIcon"),W=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const rt=w.element;p(rt),v(H,$);const ut=g();m(W,J),rt.append(W,j,H,ut),document.body.appendChild(rt)}u?(j.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function pC(){var t;const r=(t=xf())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function yC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _C(){const r=cn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function vC(){return!pC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EC(){try{return typeof indexedDB=="object"}catch{return!1}}function TC(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="FirebaseError";class Ti extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=SC,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ju.prototype.create)}}class ju{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?AC(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Ti(o,p,s)}}function AC(r,t){return r.replace(wC,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const wC=/\{\$([^}]+)}/g;function bC(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function fa(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(a0(u)&&a0(f)){if(!fa(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function a0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function lu(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function uu(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function RC(r,t){const n=new IC(r,t);return n.subscribe.bind(n)}class IC{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");CC(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=fm),o.error===void 0&&(o.error=fm),o.complete===void 0&&(o.complete=fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CC(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(r){return r&&r._delegate?r._delegate:r}class da{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new uC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(NC(t))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=ia){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ia){return this.instances.has(t)}getOptions(t=ia){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DC(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ia){return this.component?this.component.multipleInstances?t:ia:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DC(r){return r===ia?void 0:r}function NC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new xC(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const MC={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},VC=Pt.INFO,PC={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},kC=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=PC[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sg{constructor(t){this.name=t,this._logLevel=VC,this._logHandler=kC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?MC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const LC=(r,t)=>t.some(n=>r instanceof n);let o0,l0;function UC(){return o0||(o0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jC(){return l0||(l0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xS=new WeakMap,km=new WeakMap,DS=new WeakMap,dm=new WeakMap,Ag=new WeakMap;function zC(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(as(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&xS.set(n,r)}).catch(()=>{}),Ag.set(t,r),t}function BC(r){if(km.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});km.set(r,t)}let Lm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return km.get(r);if(t==="objectStoreNames")return r.objectStoreNames||DS.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function qC(r){Lm=r(Lm)}function HC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(pm(this),t,...n);return DS.set(s,t.sort?t.sort():[t]),as(s)}:jC().includes(r)?function(...t){return r.apply(pm(this),t),as(xS.get(this))}:function(...t){return as(r.apply(pm(this),t))}}function FC(r){return typeof r=="function"?HC(r):(r instanceof IDBTransaction&&BC(r),LC(r,UC())?new Proxy(r,Lm):r)}function as(r){if(r instanceof IDBRequest)return zC(r);if(dm.has(r))return dm.get(r);const t=FC(r);return t!==r&&(dm.set(r,t),Ag.set(t,r)),t}const pm=r=>Ag.get(r);function GC(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),p=as(f);return s&&f.addEventListener("upgradeneeded",m=>{s(as(f.result),m.oldVersion,m.newVersion,as(f.transaction),m)}),n&&f.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const $C=["get","getKey","getAll","getAllKeys","count"],QC=["put","add","delete","clear"],mm=new Map;function u0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(mm.get(t))return mm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=QC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||$C.includes(n)))return;const u=async function(f,...p){const m=this.transaction(f,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&m.done]))[0]};return mm.set(t,u),u}qC(r=>({...r,get:(t,n,s)=>u0(t,n)||r.get(t,n,s),has:(t,n)=>!!u0(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function YC(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Um="@firebase/app",c0="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new Sg("@firebase/app"),XC="@firebase/app-compat",WC="@firebase/analytics-compat",ZC="@firebase/analytics",JC="@firebase/app-check-compat",tx="@firebase/app-check",ex="@firebase/auth",nx="@firebase/auth-compat",rx="@firebase/database",ix="@firebase/data-connect",sx="@firebase/database-compat",ax="@firebase/functions",ox="@firebase/functions-compat",lx="@firebase/installations",ux="@firebase/installations-compat",cx="@firebase/messaging",hx="@firebase/messaging-compat",fx="@firebase/performance",dx="@firebase/performance-compat",px="@firebase/remote-config",mx="@firebase/remote-config-compat",gx="@firebase/storage",yx="@firebase/storage-compat",_x="@firebase/firestore",vx="@firebase/ai",Ex="@firebase/firestore-compat",Tx="firebase",Sx="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="[DEFAULT]",Ax={[Um]:"fire-core",[XC]:"fire-core-compat",[ZC]:"fire-analytics",[WC]:"fire-analytics-compat",[tx]:"fire-app-check",[JC]:"fire-app-check-compat",[ex]:"fire-auth",[nx]:"fire-auth-compat",[rx]:"fire-rtdb",[ix]:"fire-data-connect",[sx]:"fire-rtdb-compat",[ax]:"fire-fn",[ox]:"fire-fn-compat",[lx]:"fire-iid",[ux]:"fire-iid-compat",[cx]:"fire-fcm",[hx]:"fire-fcm-compat",[fx]:"fire-perf",[dx]:"fire-perf-compat",[px]:"fire-rc",[mx]:"fire-rc-compat",[gx]:"fire-gcs",[yx]:"fire-gcs-compat",[_x]:"fire-fst",[Ex]:"fire-fst-compat",[vx]:"fire-vertex","fire-js":"fire-js",[Tx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new Map,wx=new Map,zm=new Map;function h0(r,t){try{r.container.addComponent(t)}catch(n){gi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function No(r){const t=r.name;if(zm.has(t))return gi.debug(`There were multiple attempts to register component ${t}.`),!1;zm.set(t,r);for(const n of ef.values())h0(n,r);for(const n of wx.values())h0(n,r);return!0}function wg(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Kn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new ju("app","Firebase",bx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=Sx;function NS(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:jm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw os.create("bad-app-name",{appName:String(o)});if(n||(n=bS()),!n)throw os.create("no-options");const u=ef.get(o);if(u){if(fa(n,u.options)&&fa(s,u.config))return u;throw os.create("duplicate-app",{appName:o})}const f=new OC(o);for(const m of zm.values())f.addComponent(m);const p=new Rx(n,s,f);return ef.set(o,p),p}function OS(r=jm){const t=ef.get(r);if(!t&&r===jm&&bS())return NS();if(!t)throw os.create("no-app",{appName:r});return t}function ls(r,t,n){let s=Ax[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gi.warn(f.join(" "));return}No(new da(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="firebase-heartbeat-database",Cx=1,bu="firebase-heartbeat-store";let gm=null;function MS(){return gm||(gm=GC(Ix,Cx,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(bu)}catch(n){console.warn(n)}}}}).catch(r=>{throw os.create("idb-open",{originalErrorMessage:r.message})})),gm}async function xx(r){try{const n=(await MS()).transaction(bu),s=await n.objectStore(bu).get(VS(r));return await n.done,s}catch(t){if(t instanceof Ti)gi.warn(t.message);else{const n=os.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});gi.warn(n.message)}}}async function f0(r,t){try{const s=(await MS()).transaction(bu,"readwrite");await s.objectStore(bu).put(t,VS(r)),await s.done}catch(n){if(n instanceof Ti)gi.warn(n.message);else{const s=os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gi.warn(s.message)}}}function VS(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=1024,Nx=30;class Ox{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Vx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=d0();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Nx){const f=Px(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){gi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=d0(),{heartbeatsToSend:s,unsentEntries:o}=Mx(this._heartbeatsCache.heartbeats),u=tf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return gi.warn(n),""}}}function d0(){return new Date().toISOString().substring(0,10)}function Mx(r,t=Dx){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),p0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),p0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Vx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EC()?TC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return f0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return f0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function p0(r){return tf(JSON.stringify({version:2,heartbeats:r})).length}function Px(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(r){No(new da("platform-logger",t=>new KC(t),"PRIVATE")),No(new da("heartbeat",t=>new Ox(t),"PRIVATE")),ls(Um,c0,r),ls(Um,c0,"esm2020"),ls("fire-js","")}kx("");function PS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lx=PS,kS=new ju("auth","Firebase",PS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=new Sg("@firebase/auth");function Ux(r,...t){nf.logLevel<=Pt.WARN&&nf.warn(`Auth (${Fo}): ${r}`,...t)}function jh(r,...t){nf.logLevel<=Pt.ERROR&&nf.error(`Auth (${Fo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(r,...t){throw bg(r,...t)}function xr(r,...t){return bg(r,...t)}function LS(r,t,n){const s={...Lx(),[t]:n};return new ju("auth","Firebase",s).create(t,{appName:r.name})}function di(r){return LS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bg(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return kS.create(r,...t)}function St(r,t,...n){if(!r)throw bg(t,...n)}function ci(r){const t="INTERNAL ASSERTION FAILED: "+r;throw jh(t),new Error(t)}function yi(r,t){r||ci(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function jx(){return m0()==="http:"||m0()==="https:"}function m0(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jx()||gC()||"connection"in navigator)?navigator.onLine:!0}function Bx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(t,n){this.shortDelay=t,this.longDelay=n,yi(n>t,"Short delay should be less than long delay!"),this.isMobile=dC()||yC()}get(){return zx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(r,t){yi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Fx=new Bu(3e4,6e4);function vs(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Si(r,t,n,s,o={}){return jS(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const p=zu({key:r.config.apiKey,...f}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g={method:t,headers:m,...u};return mC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ho(r.emulatorConfig.host)&&(g.credentials="include"),US.fetch()(await zS(r,r.config.apiHost,n,p),g)})}async function jS(r,t,n){r._canInitEmulator=!1;const s={...qx,...t};try{const o=new $x(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw bh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw bh(r,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw bh(r,"email-already-in-use",f);if(m==="USER_DISABLED")throw bh(r,"user-disabled",f);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw LS(r,v,g);lr(r,v)}}catch(o){if(o instanceof Ti)throw o;lr(r,"network-request-failed",{message:String(o)})}}async function qu(r,t,n,s,o={}){const u=await Si(r,t,n,s,o);return"mfaPendingCredential"in u&&lr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function zS(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Rg(r.config,o):`${r.config.apiScheme}://${o}`;return Hx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Gx(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $x{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(xr(this.auth,"network-request-failed")),Fx.get())})}}function bh(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=xr(r,t,s);return o.customData._tokenResponse=n,o}function g0(r){return r!==void 0&&r.enterprise!==void 0}class Qx{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Gx(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Kx(r,t){return Si(r,"GET","/v2/recaptchaConfig",vs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(r,t){return Si(r,"POST","/v1/accounts:delete",t)}async function rf(r,t){return Si(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Xx(r,t=!1){const n=xe(r),s=await n.getIdToken(t),o=Ig(s);St(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:gu(ym(o.auth_time)),issuedAtTime:gu(ym(o.iat)),expirationTime:gu(ym(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function ym(r){return Number(r)*1e3}function Ig(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return jh("JWT malformed, contained fewer than 3 sections"),null;try{const o=AS(n);return o?JSON.parse(o):(jh("Failed to decode base64 JWT payload"),null)}catch(o){return jh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function y0(r){const t=Ig(r);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Ti&&Wx(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Wx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(r){var S;const t=r.auth,n=await r.getIdToken(),s=await Oo(r,rf(t,{idToken:n}));St(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(S=o.providerUserInfo)!=null&&S.length?BS(o.providerUserInfo):[],f=tD(r.providerData,u),p=r.isAnonymous,m=!(r.email&&o.passwordHash)&&!(f!=null&&f.length),g=p?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new qm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function Jx(r){const t=xe(r);await sf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function tD(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function BS(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(r,t){const n=await jS(r,{},async()=>{const s=zu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await zS(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:s};return r.emulatorConfig&&Ho(r.emulatorConfig.host)&&(m.credentials="include"),US.fetch()(f,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nD(r,t){return Si(r,"POST","/v2/accounts:revokeToken",vs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):y0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){St(t.length!==0,"internal-error");const n=y0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await eD(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ao;return s&&(St(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(St(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(St(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(r,t){St(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ir{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Zx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new qm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Oo(this,this.stsTokenManager.getToken(this.auth,t));return St(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Xx(this,t)}reload(){return Jx(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ir({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await sf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(di(this.auth));const t=await this.getIdToken();return await Oo(this,Yx(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:O,providerData:j,stsTokenManager:$}=n;St(S&&$,t,"internal-error");const H=Ao.fromJSON(this.name,$);St(typeof S=="string",t,"internal-error"),Wi(s,t.name),Wi(o,t.name),St(typeof w=="boolean",t,"internal-error"),St(typeof O=="boolean",t,"internal-error"),Wi(u,t.name),Wi(f,t.name),Wi(p,t.name),Wi(m,t.name),Wi(g,t.name),Wi(v,t.name);const J=new ir({uid:S,auth:t,email:o,emailVerified:w,displayName:s,isAnonymous:O,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:H,createdAt:g,lastLoginAt:v});return j&&Array.isArray(j)&&(J.providerData=j.map(W=>({...W}))),m&&(J._redirectEventId=m),J}static async _fromIdTokenResponse(t,n,s=!1){const o=new Ao;o.updateFromServerResponse(n);const u=new ir({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await sf(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];St(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?BS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new Ao;p.updateFromIdToken(s);const m=new ir({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new qm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=new Map;function hi(r){yi(r instanceof Function,"Expected a class definition");let t=_0.get(r);return t?(yi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,_0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}qS.type="NONE";const v0=qS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(r,t,n){return`firebase:${r}:${t}:${n}`}class wo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=zh(this.userKey,o.apiKey,u),this.fullPersistenceKey=zh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await rf(this.auth,{idToken:t}).catch(()=>{});return n?ir._fromGetAccountInfoResponse(this.auth,n,t):null}return ir._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new wo(hi(v0),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||hi(v0);const f=zh(s,t.config.apiKey,t.name);let p=null;for(const g of n)try{const v=await g._get(f);if(v){let S;if(typeof v=="string"){const w=await rf(t,{idToken:v}).catch(()=>{});if(!w)break;S=await ir._fromGetAccountInfoResponse(t,w,v)}else S=ir._fromJSON(t,v);g!==u&&(p=S),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new wo(u,t,s):(u=m[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new wo(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($S(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(HS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(KS(t))return"Blackberry";if(YS(t))return"Webos";if(FS(t))return"Safari";if((t.includes("chrome/")||GS(t))&&!t.includes("edge/"))return"Chrome";if(QS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function HS(r=cn()){return/firefox\//i.test(r)}function FS(r=cn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function GS(r=cn()){return/crios\//i.test(r)}function $S(r=cn()){return/iemobile/i.test(r)}function QS(r=cn()){return/android/i.test(r)}function KS(r=cn()){return/blackberry/i.test(r)}function YS(r=cn()){return/webos/i.test(r)}function Cg(r=cn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function rD(r=cn()){var t;return Cg(r)&&!!((t=window.navigator)!=null&&t.standalone)}function iD(){return _C()&&document.documentMode===10}function XS(r=cn()){return Cg(r)||QS(r)||YS(r)||KS(r)||/windows phone/i.test(r)||$S(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(r,t=[]){let n;switch(r){case"Browser":n=E0(cn());break;case"Worker":n=`${E0(cn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,p)=>{try{const m=t(u);f(m)}catch(m){p(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(r,t={}){return Si(r,"GET","/v2/passwordPolicy",vs(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=6;class lD{constructor(t){var s;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??oD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=t.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T0(this),this.idTokenSubscription=new T0(this),this.beforeStateQueue=new sD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=hi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await wo.create(this,t),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await rf(this,{idToken:t}),s=await ir._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(Kn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,p=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(t);(!f||f===p)&&(m!=null&&m.user)&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await sf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Bx()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kn(this.app))return Promise.reject(di(this));const n=t?xe(t):null;return n&&St(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kn(this.app)?Promise.reject(di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await aD(this),n=new lD(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ju("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await nD(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&hi(t)||this._popupRedirectResolver;St(n,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,s,o);return()=>{f=!0,m()}}else{const m=t.addObserver(n);return()=>{f=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=WS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var n;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&Ux(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function va(r){return xe(r)}class T0{constructor(t){this.auth=t,this.observer=null,this.addObserver=RC(n=>this.observer=n)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cD(r){Df=r}function ZS(r){return Df.loadJS(r)}function hD(){return Df.recaptchaEnterpriseScript}function fD(){return Df.gapiScript}function dD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class pD{constructor(){this.enterprise=new mD}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class mD{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const gD="recaptcha-enterprise",JS="NO_RECAPTCHA";class yD{constructor(t){this.type=gD,this.auth=va(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{Kx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new Qx(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(m=>{p(m)})})}function o(u,f,p){const m=window.grecaptcha;g0(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(JS)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pD().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&g0(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=hD();m.length!==0&&(m+=p),ZS(m).then(()=>{o(p,u,f)}).catch(g=>{f(g)})}}).catch(p=>{f(p)})})}}async function S0(r,t,n,s=!1,o=!1){const u=new yD(r);let f;if(o)f=JS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Hm(r,t,n,s,o){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await S0(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await S0(r,t,n,n==="getOobCode");return s(r,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(r,t){const n=wg(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(fa(u,t??{}))return o;lr(o,"already-initialized")}return n.initialize({options:t})}function vD(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(hi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function ED(r,t,n){const s=va(r);St(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=t1(t),{host:f,port:p}=TD(t),m=p===null?"":`:${p}`,g={url:`${u}//${f}${m}/`},v=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){St(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),St(fa(g,s.config.emulator)&&fa(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Ho(f)?(IS(`${u}//${f}${m}`),CS("Auth",!0)):SD()}function t1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function TD(r){const t=t1(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:A0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:A0(f)}}}function A0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function SD(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ci("not implemented")}_getIdTokenResponse(t){return ci("not implemented")}_linkToIdToken(t,n){return ci("not implemented")}_getReauthenticationResolver(t){return ci("not implemented")}}async function AD(r,t){return Si(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(r,t){return qu(r,"POST","/v1/accounts:signInWithPassword",vs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(r,t){return qu(r,"POST","/v1/accounts:signInWithEmailLink",vs(r,t))}async function RD(r,t){return qu(r,"POST","/v1/accounts:signInWithEmailLink",vs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends xg{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Ru(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Ru(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(t,n,"signInWithPassword",wD);case"emailLink":return bD(t,{email:this._email,oobCode:this._password});default:lr(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(t,s,"signUpPassword",AD);case"emailLink":return RD(t,{idToken:n,email:this._email,oobCode:this._password});default:lr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(r,t){return qu(r,"POST","/v1/accounts:signInWithIdp",vs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="http://localhost";class pa extends xg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new pa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new pa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return bo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,bo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,bo(t,n)}buildRequest(){const t={requestUri:ID,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=zu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xD(r){const t=lu(uu(r)).link,n=t?lu(uu(t)).deep_link_id:null,s=lu(uu(r)).deep_link_id;return(s?lu(uu(s)).link:null)||s||n||t||r}class Dg{constructor(t){const n=lu(uu(t)),s=n.apiKey??null,o=n.oobCode??null,u=CD(n.mode??null);St(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=xD(t);try{return new Dg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.providerId=Go.PROVIDER_ID}static credential(t,n){return Ru._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Dg.parseLink(n);return St(s,"argument-error"),Ru._fromEmailAndCode(t,s.code,s.tenantId)}}Go.PROVIDER_ID="password";Go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends e1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Hu{constructor(){super("facebook.com")}static credential(t){return pa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ts.credential(t.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Hu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return pa._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return es.credentialFromTaggedObject(t)}static credentialFromError(t){return es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return es.credential(n,s)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Hu{constructor(){super("github.com")}static credential(t){return pa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ns.credentialFromTaggedObject(t)}static credentialFromError(t){return ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ns.credential(t.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Hu{constructor(){super("twitter.com")}static credential(t,n){return pa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return rs.credentialFromTaggedObject(t)}static credentialFromError(t){return rs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(r,t){return qu(r,"POST","/v1/accounts:signUp",vs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await ir._fromIdTokenResponse(t,s,o),f=w0(s);return new ma({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=w0(s);return new ma({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function w0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends Ti{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,af.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new af(t,n,s,o)}}function n1(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?af._fromErrorAndOperation(r,u,t,s):u})}async function ND(r,t,n=!1){const s=await Oo(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return ma._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(r,t,n=!1){const{auth:s}=r;if(Kn(s.app))return Promise.reject(di(s));const o="reauthenticate";try{const u=await Oo(r,n1(s,o,t,r),n);St(u.idToken,s,"internal-error");const f=Ig(u.idToken);St(f,s,"internal-error");const{sub:p}=f;return St(r.uid===p,s,"user-mismatch"),ma._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&lr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(r,t,n=!1){if(Kn(r.app))return Promise.reject(di(r));const s="signIn",o=await n1(r,s,t),u=await ma._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function MD(r,t){return r1(va(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(r){const t=va(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function VD(r,t,n){if(Kn(r.app))return Promise.reject(di(r));const s=va(r),f=await Hm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DD).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&i1(r),m}),p=await ma._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function PD(r,t,n){return Kn(r.app)?Promise.reject(di(r)):MD(xe(r),Go.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&i1(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(r,t){return Si(r,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(r,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const s=xe(r),u={idToken:await s.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},f=await Oo(s,kD(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const p=s.providerData.find(({providerId:m})=>m==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function UD(r,t,n,s){return xe(r).onIdTokenChanged(t,n,s)}function jD(r,t,n){return xe(r).beforeAuthStateChanged(t,n)}function Nf(r,t,n,s){return xe(r).onAuthStateChanged(t,n,s)}function zD(r){return xe(r).signOut()}const of="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(of,"1"),this.storage.removeItem(of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=1e3,qD=10;class a1 extends s1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,p,m)=>{this.notifyListeners(f,m)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);iD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,qD):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},BD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}a1.type="LOCAL";const HD=a1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1 extends s1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}o1.type="SESSION";const l1=o1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Of(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async g=>g(n.origin,u)),m=await FD(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Of.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,m)=>{const g=Ng("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(w.data.response);break;default:clearTimeout(v),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function $D(r){Dr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function QD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function YD(){return u1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="firebaseLocalStorageDb",XD=1,lf="firebaseLocalStorage",h1="fbase_key";class Fu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mf(r,t){return r.transaction([lf],t?"readwrite":"readonly").objectStore(lf)}function WD(){const r=indexedDB.deleteDatabase(c1);return new Fu(r).toPromise()}function Fm(){const r=indexedDB.open(c1,XD);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(lf,{keyPath:h1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(lf)?t(s):(s.close(),await WD(),t(await Fm()))})})}async function b0(r,t,n){const s=Mf(r,!0).put({[h1]:t,value:n});return new Fu(s).toPromise()}async function ZD(r,t){const n=Mf(r,!1).get(t),s=await new Fu(n).toPromise();return s===void 0?null:s.value}function R0(r,t){const n=Mf(r,!0).delete(t);return new Fu(n).toPromise()}const JD=800,tN=3;class f1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>tN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Of._getInstance(YD()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await QD(),!this.activeServiceWorker)return;this.sender=new GD(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(s=t[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||KD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Fm();return await b0(t,of,"1"),await R0(t,of),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>b0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>ZD(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>R0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Mf(o,!1).getAll();return new Fu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f1.type="LOCAL";const eN=f1;new Bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(r,t){return t?hi(t):(St(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og extends xg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return bo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return bo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return bo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function rN(r){return r1(r.auth,new Og(r),r.bypassAuthState)}function iN(r){const{auth:t,user:n}=r;return St(n,t,"internal-error"),OD(n,new Og(r),r.bypassAuthState)}async function sN(r){const{auth:t,user:n}=r;return St(n,t,"internal-error"),ND(n,new Og(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=t;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return rN;case"linkViaPopup":case"linkViaRedirect":return sN;case"reauthViaPopup":case"reauthViaRedirect":return iN;default:lr(this.auth,"internal-error")}}resolve(t){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new Bu(2e3,1e4);class So extends d1{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,So.currentPopupAction&&So.currentPopupAction.cancel(),So.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){yi(this.filter.length===1,"Popup operations only handle one event");const t=Ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,So.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,aN.get())};t()}}So.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="pendingRedirect",Bh=new Map;class lN extends d1{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Bh.get(this.auth._key());if(!t){try{const s=await uN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Bh.set(this.auth._key(),t)}return this.bypassAuthState||Bh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uN(r,t){const n=fN(t),s=hN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function cN(r,t){Bh.set(r._key(),t)}function hN(r){return hi(r._redirectPersistence)}function fN(r){return zh(oN,r.config.apiKey,r.name)}async function dN(r,t,n=!1){if(Kn(r.app))return Promise.reject(di(r));const s=va(r),o=nN(s,t),f=await new lN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=600*1e3;class mN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!gN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!p1(t)){const o=((s=t.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(xr(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=pN&&this.cachedEventUids.clear(),this.cachedEventUids.has(I0(t))}saveEventToCache(t){this.cachedEventUids.add(I0(t)),this.lastProcessedEventTime=Date.now()}}function I0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function p1({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function gN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(r,t={}){return Si(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vN=/^https?/;async function EN(r){if(r.config.emulator)return;const{authorizedDomains:t}=await yN(r);for(const n of t)try{if(TN(n))return}catch{}lr(r,"unauthorized-domain")}function TN(r){const t=Bm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!vN.test(n))return!1;if(_N.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=new Bu(3e4,6e4);function C0(){const r=Dr().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function AN(r){return new Promise((t,n)=>{var o,u,f;function s(){C0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{C0(),n(xr(r,"network-request-failed"))},timeout:SN.get()})}if((u=(o=Dr().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((f=Dr().gapi)!=null&&f.load)s();else{const p=dD("iframefcb");return Dr()[p]=()=>{gapi.load?s():n(xr(r,"network-request-failed"))},ZS(`${fD()}?onload=${p}`).catch(m=>n(m))}}).catch(t=>{throw qh=null,t})}let qh=null;function wN(r){return qh=qh||AN(r),qh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new Bu(5e3,15e3),RN="__/auth/iframe",IN="emulator/auth/iframe",CN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DN(r){const t=r.config;St(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Rg(t,IN):`https://${r.config.authDomain}/${RN}`,s={apiKey:t.apiKey,appName:r.name,v:Fo},o=xN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${zu(s).slice(1)}`}async function NN(r){const t=await wN(r),n=Dr().gapi;return St(n,r,"internal-error"),t.open({where:document.body,url:DN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=xr(r,"network-request-failed"),p=Dr().setTimeout(()=>{u(f)},bN.get());function m(){Dr().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MN=500,VN=600,PN="_blank",kN="http://localhost";class x0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LN(r,t,n,s=MN,o=VN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m={...ON,width:s.toString(),height:o.toString(),top:u,left:f},g=cn().toLowerCase();n&&(p=GS(g)?PN:n),HS(g)&&(t=t||kN,m.scrollbars="yes");const v=Object.entries(m).reduce((w,[O,j])=>`${w}${O}=${j},`,"");if(rD(g)&&p!=="_self")return UN(t||"",p),new x0(null);const S=window.open(t||"",p,v);St(S,r,"popup-blocked");try{S.focus()}catch{}return new x0(S)}function UN(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="__/auth/handler",zN="emulator/auth/handler",BN=encodeURIComponent("fac");async function D0(r,t,n,s,o,u){St(r.config.authDomain,r,"auth-domain-config-required"),St(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Fo,eventId:o};if(t instanceof e1){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",bC(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,S]of Object.entries({}))f[v]=S}if(t instanceof Hu){const v=t.getScopes().filter(S=>S!=="");v.length>0&&(f.scopes=v.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const m=await r._getAppCheckToken(),g=m?`#${BN}=${encodeURIComponent(m)}`:"";return`${qN(r)}?${zu(p).slice(1)}${g}`}function qN({config:r}){return r.emulator?Rg(r,zN):`https://${r.authDomain}/${jN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="webStorageSupport";class HN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l1,this._completeRedirectFn=dN,this._overrideRedirectResult=cN}async _openPopup(t,n,s,o){var f;yi((f=this.eventManagers[t._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await D0(t,n,s,Bm(),o);return LN(t,u,Ng())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await D0(t,n,s,Bm(),o);return $D(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(yi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await NN(t),s=new mN(t);return n.register("authEvent",o=>(St(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(_m,{type:_m},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[_m];u!==void 0&&n(!!u),lr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=EN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return XS()||FS()||Cg()}}const FN=HN;var N0="@firebase/auth",O0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QN(r){No(new da("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;St(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WS(r)},g=new uD(s,o,u,m);return vD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),No(new da("auth-internal",t=>{const n=va(t.getProvider("auth").getImmediate());return(s=>new GN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ls(N0,O0,$N(r)),ls(N0,O0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=300,YN=RS("authIdTokenMaxAge")||KN;let M0=null;const XN=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>YN)return;const o=n==null?void 0:n.token;M0!==o&&(M0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function WN(r=OS()){const t=wg(r,"auth");if(t.isInitialized())return t.getImmediate();const n=_D(r,{popupRedirectResolver:FN,persistence:[eN,HD,l1]}),s=RS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=XN(u.toString());jD(n,f,()=>f(n.currentUser)),UD(n,p=>f(p))}}const o=wS("auth");return o&&ED(n,`http://${o}`),n}function ZN(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}cD({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=xr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",ZN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QN("Browser");var JN="firebase",tO="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls(JN,tO,"app");var V0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,m1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,R){function I(){}I.prototype=R.prototype,x.D=R.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(V,P,L){for(var D=Array(arguments.length-2),De=2;De<arguments.length;De++)D[De-2]=arguments[De];return R.prototype[P].apply(V,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,I){I||(I=0);var V=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)V[P]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(P=0;16>P;++P)V[P]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=x.g[0],I=x.g[1],P=x.g[2];var L=x.g[3],D=R+(L^I&(P^L))+V[0]+3614090360&4294967295;R=I+(D<<7&4294967295|D>>>25),D=L+(P^R&(I^P))+V[1]+3905402710&4294967295,L=R+(D<<12&4294967295|D>>>20),D=P+(I^L&(R^I))+V[2]+606105819&4294967295,P=L+(D<<17&4294967295|D>>>15),D=I+(R^P&(L^R))+V[3]+3250441966&4294967295,I=P+(D<<22&4294967295|D>>>10),D=R+(L^I&(P^L))+V[4]+4118548399&4294967295,R=I+(D<<7&4294967295|D>>>25),D=L+(P^R&(I^P))+V[5]+1200080426&4294967295,L=R+(D<<12&4294967295|D>>>20),D=P+(I^L&(R^I))+V[6]+2821735955&4294967295,P=L+(D<<17&4294967295|D>>>15),D=I+(R^P&(L^R))+V[7]+4249261313&4294967295,I=P+(D<<22&4294967295|D>>>10),D=R+(L^I&(P^L))+V[8]+1770035416&4294967295,R=I+(D<<7&4294967295|D>>>25),D=L+(P^R&(I^P))+V[9]+2336552879&4294967295,L=R+(D<<12&4294967295|D>>>20),D=P+(I^L&(R^I))+V[10]+4294925233&4294967295,P=L+(D<<17&4294967295|D>>>15),D=I+(R^P&(L^R))+V[11]+2304563134&4294967295,I=P+(D<<22&4294967295|D>>>10),D=R+(L^I&(P^L))+V[12]+1804603682&4294967295,R=I+(D<<7&4294967295|D>>>25),D=L+(P^R&(I^P))+V[13]+4254626195&4294967295,L=R+(D<<12&4294967295|D>>>20),D=P+(I^L&(R^I))+V[14]+2792965006&4294967295,P=L+(D<<17&4294967295|D>>>15),D=I+(R^P&(L^R))+V[15]+1236535329&4294967295,I=P+(D<<22&4294967295|D>>>10),D=R+(P^L&(I^P))+V[1]+4129170786&4294967295,R=I+(D<<5&4294967295|D>>>27),D=L+(I^P&(R^I))+V[6]+3225465664&4294967295,L=R+(D<<9&4294967295|D>>>23),D=P+(R^I&(L^R))+V[11]+643717713&4294967295,P=L+(D<<14&4294967295|D>>>18),D=I+(L^R&(P^L))+V[0]+3921069994&4294967295,I=P+(D<<20&4294967295|D>>>12),D=R+(P^L&(I^P))+V[5]+3593408605&4294967295,R=I+(D<<5&4294967295|D>>>27),D=L+(I^P&(R^I))+V[10]+38016083&4294967295,L=R+(D<<9&4294967295|D>>>23),D=P+(R^I&(L^R))+V[15]+3634488961&4294967295,P=L+(D<<14&4294967295|D>>>18),D=I+(L^R&(P^L))+V[4]+3889429448&4294967295,I=P+(D<<20&4294967295|D>>>12),D=R+(P^L&(I^P))+V[9]+568446438&4294967295,R=I+(D<<5&4294967295|D>>>27),D=L+(I^P&(R^I))+V[14]+3275163606&4294967295,L=R+(D<<9&4294967295|D>>>23),D=P+(R^I&(L^R))+V[3]+4107603335&4294967295,P=L+(D<<14&4294967295|D>>>18),D=I+(L^R&(P^L))+V[8]+1163531501&4294967295,I=P+(D<<20&4294967295|D>>>12),D=R+(P^L&(I^P))+V[13]+2850285829&4294967295,R=I+(D<<5&4294967295|D>>>27),D=L+(I^P&(R^I))+V[2]+4243563512&4294967295,L=R+(D<<9&4294967295|D>>>23),D=P+(R^I&(L^R))+V[7]+1735328473&4294967295,P=L+(D<<14&4294967295|D>>>18),D=I+(L^R&(P^L))+V[12]+2368359562&4294967295,I=P+(D<<20&4294967295|D>>>12),D=R+(I^P^L)+V[5]+4294588738&4294967295,R=I+(D<<4&4294967295|D>>>28),D=L+(R^I^P)+V[8]+2272392833&4294967295,L=R+(D<<11&4294967295|D>>>21),D=P+(L^R^I)+V[11]+1839030562&4294967295,P=L+(D<<16&4294967295|D>>>16),D=I+(P^L^R)+V[14]+4259657740&4294967295,I=P+(D<<23&4294967295|D>>>9),D=R+(I^P^L)+V[1]+2763975236&4294967295,R=I+(D<<4&4294967295|D>>>28),D=L+(R^I^P)+V[4]+1272893353&4294967295,L=R+(D<<11&4294967295|D>>>21),D=P+(L^R^I)+V[7]+4139469664&4294967295,P=L+(D<<16&4294967295|D>>>16),D=I+(P^L^R)+V[10]+3200236656&4294967295,I=P+(D<<23&4294967295|D>>>9),D=R+(I^P^L)+V[13]+681279174&4294967295,R=I+(D<<4&4294967295|D>>>28),D=L+(R^I^P)+V[0]+3936430074&4294967295,L=R+(D<<11&4294967295|D>>>21),D=P+(L^R^I)+V[3]+3572445317&4294967295,P=L+(D<<16&4294967295|D>>>16),D=I+(P^L^R)+V[6]+76029189&4294967295,I=P+(D<<23&4294967295|D>>>9),D=R+(I^P^L)+V[9]+3654602809&4294967295,R=I+(D<<4&4294967295|D>>>28),D=L+(R^I^P)+V[12]+3873151461&4294967295,L=R+(D<<11&4294967295|D>>>21),D=P+(L^R^I)+V[15]+530742520&4294967295,P=L+(D<<16&4294967295|D>>>16),D=I+(P^L^R)+V[2]+3299628645&4294967295,I=P+(D<<23&4294967295|D>>>9),D=R+(P^(I|~L))+V[0]+4096336452&4294967295,R=I+(D<<6&4294967295|D>>>26),D=L+(I^(R|~P))+V[7]+1126891415&4294967295,L=R+(D<<10&4294967295|D>>>22),D=P+(R^(L|~I))+V[14]+2878612391&4294967295,P=L+(D<<15&4294967295|D>>>17),D=I+(L^(P|~R))+V[5]+4237533241&4294967295,I=P+(D<<21&4294967295|D>>>11),D=R+(P^(I|~L))+V[12]+1700485571&4294967295,R=I+(D<<6&4294967295|D>>>26),D=L+(I^(R|~P))+V[3]+2399980690&4294967295,L=R+(D<<10&4294967295|D>>>22),D=P+(R^(L|~I))+V[10]+4293915773&4294967295,P=L+(D<<15&4294967295|D>>>17),D=I+(L^(P|~R))+V[1]+2240044497&4294967295,I=P+(D<<21&4294967295|D>>>11),D=R+(P^(I|~L))+V[8]+1873313359&4294967295,R=I+(D<<6&4294967295|D>>>26),D=L+(I^(R|~P))+V[15]+4264355552&4294967295,L=R+(D<<10&4294967295|D>>>22),D=P+(R^(L|~I))+V[6]+2734768916&4294967295,P=L+(D<<15&4294967295|D>>>17),D=I+(L^(P|~R))+V[13]+1309151649&4294967295,I=P+(D<<21&4294967295|D>>>11),D=R+(P^(I|~L))+V[4]+4149444226&4294967295,R=I+(D<<6&4294967295|D>>>26),D=L+(I^(R|~P))+V[11]+3174756917&4294967295,L=R+(D<<10&4294967295|D>>>22),D=P+(R^(L|~I))+V[2]+718787259&4294967295,P=L+(D<<15&4294967295|D>>>17),D=I+(L^(P|~R))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var I=R-this.blockSize,V=this.B,P=this.h,L=0;L<R;){if(P==0)for(;L<=I;)o(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<R;)if(V[P++]=x.charCodeAt(L++),P==this.blockSize){o(this,V),P=0;break}}else for(;L<R;)if(V[P++]=x[L++],P==this.blockSize){o(this,V),P=0;break}}this.h=P,this.o+=R},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var I=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=I&255,I/=256;for(this.u(x),x=Array(16),R=I=0;4>R;++R)for(var V=0;32>V;V+=8)x[I++]=this.g[R]>>>V&255;return x};function u(x,R){var I=p;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=R(x)}function f(x,R){this.h=R;for(var I=[],V=!0,P=x.length-1;0<=P;P--){var L=x[P]|0;V&&L==R||(I[P]=L,V=!1)}this.g=I}var p={};function m(x){return-128<=x&&128>x?u(x,function(R){return new f([R|0],0>R?-1:0)}):new f([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return S;if(0>x)return H(g(-x));for(var R=[],I=1,V=0;x>=I;V++)R[V]=x/I|0,I*=4294967296;return new f(R,0)}function v(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return H(v(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),V=S,P=0;P<x.length;P+=8){var L=Math.min(8,x.length-P),D=parseInt(x.substring(P,P+L),R);8>L?(L=g(Math.pow(R,L)),V=V.j(L).add(g(D))):(V=V.j(I),V=V.add(g(D)))}return V}var S=m(0),w=m(1),O=m(16777216);r=f.prototype,r.m=function(){if($(this))return-H(this).m();for(var x=0,R=1,I=0;I<this.g.length;I++){var V=this.i(I);x+=(0<=V?V:4294967296+V)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(j(this))return"0";if($(this))return"-"+H(this).toString(x);for(var R=g(Math.pow(x,6)),I=this,V="";;){var P=ut(I,R).g;I=J(I,P.j(R));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=P,j(I))return L+V;for(;6>L.length;)L="0"+L;V=L+V}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function j(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function $(x){return x.h==-1}r.l=function(x){return x=J(this,x),$(x)?-1:j(x)?0:1};function H(x){for(var R=x.g.length,I=[],V=0;V<R;V++)I[V]=~x.g[V];return new f(I,~x.h).add(w)}r.abs=function(){return $(this)?H(this):this},r.add=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],V=0,P=0;P<=R;P++){var L=V+(this.i(P)&65535)+(x.i(P)&65535),D=(L>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);V=D>>>16,L&=65535,D&=65535,I[P]=D<<16|L}return new f(I,I[I.length-1]&-2147483648?-1:0)};function J(x,R){return x.add(H(R))}r.j=function(x){if(j(this)||j(x))return S;if($(this))return $(x)?H(this).j(H(x)):H(H(this).j(x));if($(x))return H(this.j(H(x)));if(0>this.l(O)&&0>x.l(O))return g(this.m()*x.m());for(var R=this.g.length+x.g.length,I=[],V=0;V<2*R;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(var P=0;P<x.g.length;P++){var L=this.i(V)>>>16,D=this.i(V)&65535,De=x.i(P)>>>16,ae=x.i(P)&65535;I[2*V+2*P]+=D*ae,W(I,2*V+2*P),I[2*V+2*P+1]+=L*ae,W(I,2*V+2*P+1),I[2*V+2*P+1]+=D*De,W(I,2*V+2*P+1),I[2*V+2*P+2]+=L*De,W(I,2*V+2*P+2)}for(V=0;V<R;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=R;V<2*R;V++)I[V]=0;return new f(I,0)};function W(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function rt(x,R){this.g=x,this.h=R}function ut(x,R){if(j(R))throw Error("division by zero");if(j(x))return new rt(S,S);if($(x))return R=ut(H(x),R),new rt(H(R.g),H(R.h));if($(R))return R=ut(x,H(R)),new rt(H(R.g),R.h);if(30<x.g.length){if($(x)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var I=w,V=R;0>=V.l(x);)I=lt(I),V=lt(V);var P=dt(I,1),L=dt(V,1);for(V=dt(V,2),I=dt(I,2);!j(V);){var D=L.add(V);0>=D.l(x)&&(P=P.add(I),L=D),V=dt(V,1),I=dt(I,1)}return R=J(x,P.j(R)),new rt(P,R)}for(P=S;0<=x.l(R);){for(I=Math.max(1,Math.floor(x.m()/R.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),L=g(I),D=L.j(R);$(D)||0<D.l(x);)I-=V,L=g(I),D=L.j(R);j(L)&&(L=w),P=P.add(L),x=J(x,D)}return new rt(P,x)}r.A=function(x){return ut(this,x).h},r.and=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)&x.i(V);return new f(I,this.h&x.h)},r.or=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)|x.i(V);return new f(I,this.h|x.h)},r.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)^x.i(V);return new f(I,this.h^x.h)};function lt(x){for(var R=x.g.length+1,I=[],V=0;V<R;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new f(I,x.h)}function dt(x,R){var I=R>>5;R%=32;for(var V=x.g.length-I,P=[],L=0;L<V;L++)P[L]=0<R?x.i(L+I)>>>R|x.i(L+I+1)<<32-R:x.i(L+I);return new f(P,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,m1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,us=f}).apply(typeof V0<"u"?V0:typeof self<"u"?self:typeof window<"u"?window:{});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var g1,cu,y1,Hh,Gm,_1,v1,E1;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rh=="object"&&Rh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var U=c[b];if(!(U in _))break t;_=_[U]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,U={next:function(){if(!b&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function S(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,b),c.apply(y,U)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:S,w.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function j(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,U,Q){for(var at=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)at[Ut-2]=arguments[Ut];return y.prototype[U].apply(b,at)}}function $(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function H(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(m(b)){const U=c.length||0,Q=b.length||0;c.length=U+Q;for(let at=0;at<Q;at++)c[U+at]=b[at]}else c.push(b)}}class J{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function W(c){return/^[\s\xa0]*$/.test(c)}function rt(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function ut(c){return ut[" "](c),c}ut[" "]=function(){};var lt=rt().indexOf("Gecko")!=-1&&!(rt().toLowerCase().indexOf("webkit")!=-1&&rt().indexOf("Edge")==-1)&&!(rt().indexOf("Trident")!=-1||rt().indexOf("MSIE")!=-1)&&rt().indexOf("Edge")==-1;function dt(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function x(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let _,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(_ in b)c[_]=b[_];for(let Q=0;Q<I.length;Q++)_=I[Q],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){p.setTimeout(()=>{throw c},0)}function D(){var c=Ct;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class De{constructor(){this.h=this.g=null}add(y,_){const b=ae.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ae=new J(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,mt=!1,Ct=new De,N=()=>{const c=p.Promise.resolve(void 0);ot=()=>{c.then(nt)}};var nt=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){L(_)}var y=ae;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}mt=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,y),p.removeEventListener("test",_,y)}catch{}return c}();function It(c,y){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(lt){t:{try{ut(y.nodeName);var U=!0;break t}catch{}U=!1}U||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:vt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&It.aa.h.call(this)}}j(It,it);var vt={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),qt=0;function Le(c,y,_,b,U){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=U,this.key=++qt,this.da=this.fa=!1}function Vn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mn(c){this.src=c,this.g={},this.h=0}mn.prototype.add=function(c,y,_,b,U){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var at=Ss(c,y,b,U);return-1<at?(y=c[at],_||(y.fa=!1)):(y=new Le(y,this.src,Q,!!b,U),y.fa=_,c.push(y)),y};function nn(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],U=Array.prototype.indexOf.call(b,y,void 0),Q;(Q=0<=U)&&Array.prototype.splice.call(b,U,1),Q&&(Vn(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ss(c,y,_,b){for(var U=0;U<c.length;++U){var Q=c[U];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==b)return U}return-1}var As="closure_lm_"+(1e6*Math.random()|0),Xo={};function Zu(c,y,_,b,U){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Zu(c,y[Q],_,b,U);return null}return _=Ju(_),c&&c[ce]?c.K(y,_,g(b)?!!b.capture:!1,U):Pn(c,y,_,!1,b,U)}function Pn(c,y,_,b,U,Q){if(!y)throw Error("Invalid event type");var at=g(U)?!!U.capture:!!U,Ut=wa(c);if(Ut||(c[As]=Ut=new mn(c)),_=Ut.add(y,_,b,at,Q),_.proxy)return _;if(b=td(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)gt||(U=at),U===void 0&&(U=!1),c.addEventListener(y.toString(),b,U);else if(c.attachEvent)c.attachEvent(ws(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function td(){function c(_){return y.call(c.src,c.listener,_)}const y=ed;return c}function Wo(c,y,_,b,U){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Wo(c,y[Q],_,b,U);else b=g(b)?!!b.capture:!!b,_=Ju(_),c&&c[ce]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=Ss(Q,_,b,U),-1<_&&(Vn(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=wa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ss(y,_,b,U)),(_=-1<c?y[c]:null)&&Aa(_))}function Aa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ce])nn(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(ws(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=wa(y))?(nn(_,c),_.h==0&&(_.src=null,y[As]=null)):Vn(c)}}}function ws(c){return c in Xo?Xo[c]:Xo[c]="on"+c}function ed(c,y){if(c.da)c=!0;else{y=new It(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&Aa(c),c=_.call(b,y)}return c}function wa(c){return c=c[As],c instanceof mn?c:null}var Zo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ju(c){return typeof c=="function"?c:(c[Zo]||(c[Zo]=function(y){return c.handleEvent(y)}),c[Zo])}function de(){st.call(this),this.i=new mn(this),this.M=this,this.F=null}j(de,st),de.prototype[ce]=!0,de.prototype.removeEventListener=function(c,y,_,b){Wo(this,c,y,_,b)};function Kt(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new it(y,c);else if(y instanceof it)y.target=y.target||c;else{var U=y;y=new it(b,c),V(y,U)}if(U=!0,_)for(var Q=_.length-1;0<=Q;Q--){var at=y.g=_[Q];U=Tn(at,b,!0,y)&&U}if(at=y.g=c,U=Tn(at,b,!0,y)&&U,U=Tn(at,b,!1,y)&&U,_)for(Q=0;Q<_.length;Q++)at=y.g=_[Q],U=Tn(at,b,!1,y)&&U}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)Vn(_[b]);delete c.g[y],c.h--}}this.F=null},de.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},de.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function Tn(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,Q=0;Q<y.length;++Q){var at=y[Q];if(at&&!at.da&&at.capture==_){var Ut=at.listener,Oe=at.ha||at.src;at.fa&&nn(c.i,at),U=Ut.call(Oe,b)!==!1&&U}}return U&&!b.defaultPrevented}function rn(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function tc(c){c.g=rn(()=>{c.g=null,c.i&&(c.i=!1,tc(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nd extends st{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:tc(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(c){st.call(this),this.h=c,this.g={}}j(bs,st);var Rs=[];function Is(c){dt(c.g,function(y,_){this.g.hasOwnProperty(_)&&Aa(y)},c),c.g={}}bs.prototype.N=function(){bs.aa.N.call(this),Is(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=p.JSON.stringify,ba=p.JSON.parse,Cs=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function Jo(){}Jo.prototype.h=null;function tl(c){return c.h||(c.h=c.i())}function el(){}var Lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ur(){it.call(this,"d")}j(Ur,it);function nl(){it.call(this,"c")}j(nl,it);var hr={},rl=null;function Ai(){return rl=rl||new de}hr.La="serverreachability";function Ra(c){it.call(this,hr.La,c)}j(Ra,it);function wi(c){const y=Ai();Kt(y,new Ra(y))}hr.STAT_EVENT="statevent";function ec(c,y){it.call(this,hr.STAT_EVENT,c),this.stat=y}j(ec,it);function oe(c){const y=Ai();Kt(y,new ec(y,c))}hr.Ma="timingevent";function Ne(c,y){it.call(this,hr.Ma,c),this.size=y}j(Ne,it);function Te(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function kn(){this.g=!0}kn.prototype.xa=function(){this.g=!1};function il(c,y,_,b,U,Q){c.info(function(){if(c.g)if(Q)for(var at="",Ut=Q.split("&"),Oe=0;Oe<Ut.length;Oe++){var jt=Ut[Oe].split("=");if(1<jt.length){var je=jt[0];jt=jt[1];var Me=je.split("_");at=2<=Me.length&&Me[1]=="type"?at+(je+"="+jt+"&"):at+(je+"=redacted&")}}else at=null;else at=Q;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+y+`
`+_+`
`+at})}function rd(c,y,_,b,U,Q,at){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+y+`
`+_+`
`+Q+" "+at})}function bi(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+xs(c,_)+(b?" "+b:"")})}function nc(c,y){c.info(function(){return"TIMEOUT: "+y})}kn.prototype.info=function(){};function xs(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var U=b[1];if(Array.isArray(U)&&!(1>U.length)){var Q=U[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var at=1;at<U.length;at++)U[at]=""}}}}return Wn(_)}catch{return y}}var Ri={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fr;function dr(){}j(dr,Jo),dr.prototype.g=function(){return new XMLHttpRequest},dr.prototype.i=function(){return{}},fr=new dr;function hn(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ye}function ye(){this.i=null,this.g="",this.h=!1}var sl={},Ia={};function Zn(c,y,_){c.L=1,c.v=Vs(Sn(y)),c.m=_,c.P=!0,zr(c,null)}function zr(c,y){c.F=Date.now(),Ds(c),c.A=Sn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),hl(_.i,"t",b),c.C=0,_=c.j.J,c.h=new ye,c.g=_c(c.j,_?y:null,!c.m),0<c.O&&(c.M=new nd(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Rs[0]=U.toString()),U=Rs);for(var Q=0;Q<U.length;Q++){var at=Zu(_,U[Q],b||y.handleEvent,!1,y.h||y);if(!at)break;y.g[at.key]=at}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),wi(),il(c.i,c.u,c.A,c.l,c.R,c.m)}hn.prototype.ca=function(c){c=c.target;const y=this.M;y&&zn(c)==3?y.j():this.Y(c)},hn.prototype.Y=function(c){try{if(c==this.g)t:{const Me=zn(this.g);var y=this.g.Ba();const Kr=this.g.Z();if(!(3>Me)&&(Me!=3||this.g&&(this.h.h||this.g.oa()||cc(this.g)))){this.J||Me!=4||y==7||(y==8||0>=Kr?wi(3):wi(2)),Ii(this);var _=this.g.Z();this.X=_;e:if(rc(this)){var b=cc(this.g);c="";var U=b.length,Q=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$e(this),pr(this);var at="";break e}this.h.i=new p.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Q&&y==U-1)});b.length=0,this.h.g+=c,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=_==200,rd(this.i,this.u,this.A,this.l,this.R,Me,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Oe=this.g;if((Ut=Oe.g?Oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ut)){var jt=Ut;break e}}jt=null}if(_=jt)bi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ns(this,_);else{this.o=!1,this.s=3,oe(12),$e(this),pr(this);break t}}if(this.P){_=!0;let Qe;for(;!this.J&&this.C<at.length;)if(Qe=ic(this,at),Qe==Ia){Me==4&&(this.s=4,oe(14),_=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Qe==sl){this.s=4,oe(15),bi(this.i,this.l,at,"[Invalid Chunk]"),_=!1;break}else bi(this.i,this.l,Qe,null),Ns(this,Qe);if(rc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||at.length!=0||this.h.h||(this.s=1,oe(16),_=!1),this.o=this.o&&_,!_)bi(this.i,this.l,at,"[Invalid Chunked Response]"),$e(this),pr(this);else if(0<at.length&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.ba&&!je.M&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),qs(je),je.M=!0,oe(11))}}else bi(this.i,this.l,at,null),Ns(this,at);Me==4&&$e(this),this.o&&!this.J&&(Me==4?mc(this.j,this):(this.o=!1,Ds(this)))}else ld(this.g),_==400&&0<at.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),$e(this),pr(this)}}}catch{}finally{}};function rc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ic(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?Ia:(_=Number(y.substring(_,b)),isNaN(_)?sl:(b+=1,b+_>y.length?Ia:(y=y.slice(b,b+_),c.C=b+_,y)))}hn.prototype.cancel=function(){this.J=!0,$e(this)};function Ds(c){c.S=Date.now()+c.I,sc(c,c.I)}function sc(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Te(w(c.ba,c),y)}function Ii(c){c.B&&(p.clearTimeout(c.B),c.B=null)}hn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(nc(this.i,this.A),this.L!=2&&(wi(),oe(17)),$e(this),this.s=2,pr(this)):sc(this,this.S-c)};function pr(c){c.j.G==0||c.J||mc(c.j,c)}function $e(c){Ii(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Is(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ns(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||al(_.h,c))){if(!c.K&&al(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ja(_),La(_);else break t;gl(_),oe(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=Te(w(_.Za,_),6e3));if(1>=xa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Qr(_,11)}else if((c.K||_.g==c)&&ja(_),!W(y))for(U=_.Da.g.parse(y),y=0;y<U.length;y++){let jt=U[y];if(_.T=jt[0],jt=jt[1],_.G==2)if(jt[0]=="c"){_.K=jt[1],_.ia=jt[2];const je=jt[3];je!=null&&(_.la=je,_.j.info("VER="+_.la));const Me=jt[4];Me!=null&&(_.Aa=Me,_.j.info("SVER="+_.Aa));const Kr=jt[5];Kr!=null&&typeof Kr=="number"&&0<Kr&&(b=1.5*Kr,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Qe=c.g;if(Qe){const Tr=Qe.g?Qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tr){var Q=b.h;Q.g||Tr.indexOf("spdy")==-1&&Tr.indexOf("quic")==-1&&Tr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Da(Q,Q.h),Q.h=null))}if(b.D){const _l=Qe.g?Qe.g.getResponseHeader("X-HTTP-Session-Id"):null;_l&&(b.ya=_l,Wt(b.I,b.D,_l))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var at=c;if(b.qa=yc(b,b.J?b.ia:null,b.W),at.K){fn(b.h,at);var Ut=at,Oe=b.L;Oe&&(Ut.I=Oe),Ut.B&&(Ii(Ut),Ds(Ut)),b.g=at}else dc(b);0<_.i.length&&Ua(_)}else jt[0]!="stop"&&jt[0]!="close"||Qr(_,7);else _.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Qr(_,7):pl(_):jt[0]!="noop"&&_.l&&_.l.ta(jt),_.v=0)}}wi(4)}catch{}}var ac=class{constructor(c,y){this.g=c,this.map=y}};function Br(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ca(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function xa(c){return c.h?1:c.g?c.g.size:0}function al(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Da(c,y){c.g?c.g.add(y):c.h=y}function fn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Br.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ol(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return $(c.i)}function id(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function Na(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function ll(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Na(c),b=id(c),U=b.length,Q=0;Q<U;Q++)y.call(void 0,b[Q],_&&_[Q],c)}var Os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sd(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),U=null;if(0<=b){var Q=c[_].substring(0,b);U=c[_].substring(b+1)}else Q=c[_];y(Q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Se(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Se){this.h=c.h,Ms(this,c.j),this.o=c.o,this.g=c.g,Ci(this,c.s),this.l=c.l;var y=c.i,_=new Hr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),qr(this,_),this.m=c.m}else c&&(y=String(c).match(Os))?(this.h=!1,Ms(this,y[1]||"",!0),this.o=Ln(y[2]||""),this.g=Ln(y[3]||"",!0),Ci(this,y[4]),this.l=Ln(y[5]||"",!0),qr(this,y[6]||"",!0),this.m=Ln(y[7]||"")):(this.h=!1,this.i=new Hr(null,this.h))}Se.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ps(y,ul,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ps(y,ul,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ps(_,_.charAt(0)=="/"?ad:cl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ps(_,Oa)),c.join("")};function Sn(c){return new Se(c)}function Ms(c,y,_){c.j=_?Ln(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ci(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function qr(c,y,_){y instanceof Hr?(c.i=y,lc(c.i,c.h)):(_||(y=Ps(y,od)),c.i=new Hr(y,c.h))}function Wt(c,y,_){c.i.set(y,_)}function Vs(c){return Wt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ln(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ps(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,oc),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function oc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ul=/[#\/\?@]/g,cl=/[#\?:]/g,ad=/[#\?]/g,od=/[#\?@]/g,Oa=/#/g;function Hr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Un(c){c.g||(c.g=new Map,c.h=0,c.i&&sd(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Hr.prototype,r.add=function(c,y){Un(this),this.i=null,c=mr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Fr(c,y){Un(c),y=mr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Gr(c,y){return Un(c),y=mr(c,y),c.g.has(y)}r.forEach=function(c,y){Un(this),this.g.forEach(function(_,b){_.forEach(function(U){c.call(y,U,b,this)},this)},this)},r.na=function(){Un(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const U=c[b];for(let Q=0;Q<U.length;Q++)_.push(y[b])}return _},r.V=function(c){Un(this);let y=[];if(typeof c=="string")Gr(this,c)&&(y=y.concat(this.g.get(mr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Un(this),this.i=null,c=mr(this,c),Gr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function hl(c,y,_){Fr(c,y),0<_.length&&(c.i=null,c.g.set(mr(c,y),$(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const Q=encodeURIComponent(String(b)),at=this.V(b);for(b=0;b<at.length;b++){var U=Q;at[b]!==""&&(U+="="+encodeURIComponent(String(at[b]))),c.push(U)}}return this.i=c.join("&")};function mr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function lc(c,y){y&&!c.j&&(Un(c),c.i=null,c.g.forEach(function(_,b){var U=b.toLowerCase();b!=U&&(Fr(this,b),hl(this,U,_))},c)),c.j=y}function ks(c,y){const _=new kn;if(p.Image){const b=new Image;b.onload=O(jn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=O(jn,_,"TestLoadImage: error",!1,y,b),b.onabort=O(jn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=O(jn,_,"TestLoadImage: timeout",!1,y,b),p.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Jn(c,y){const _=new kn,b=new AbortController,U=setTimeout(()=>{b.abort(),jn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Q=>{clearTimeout(U),Q.ok?jn(_,"TestPingServer: ok",!0,y):jn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),jn(_,"TestPingServer: error",!1,y)})}function jn(c,y,_,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(_)}catch{}}function Ls(){this.g=new Cs}function gr(c,y,_){const b=_||"";try{ll(c,function(U,Q){let at=U;g(U)&&(at=Wn(U)),y.push(b+Q+"="+encodeURIComponent(at))})}catch(U){throw y.push(b+"type="+encodeURIComponent("_badmap")),U}}function xi(c){this.l=c.Ub||null,this.j=c.eb||!1}j(xi,Jo),xi.prototype.g=function(){return new $r(this.l,this.j)},xi.prototype.i=function(c){return function(){return c}}({});function $r(c,y){de.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j($r,de),r=$r.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,_r(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,_r(this)),this.g&&(this.readyState=3,_r(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function fl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?yr(this):_r(this),this.readyState==3&&fl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,yr(this))},r.Qa=function(c){this.g&&(this.response=c,yr(this))},r.ga=function(){this.g&&yr(this)};function yr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,_r(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function _r(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function dl(c){let y="";return dt(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Ue(c,y,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=dl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Wt(c,y,_))}function Gt(c){de.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Gt,de);var Ma=/^https?$/i,Us=["POST","PUT"];r=Gt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fr.g(),this.v=this.o?tl(this.o):tl(fr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){uc(this,Q);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)_.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())_.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),U=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Us,y,void 0))||b||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,at]of _)this.g.setRequestHeader(Q,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{js(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){uc(this,Q)}};function uc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Va(c),vr(c)}function Va(c){c.A||(c.A=!0,Kt(c,"complete"),Kt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Kt(this,"complete"),Kt(this,"abort"),vr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vr(this,!0)),Gt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Pa(this):this.bb())},r.bb=function(){Pa(this)};function Pa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||zn(c)!=4||c.Z()!=2)){if(c.u&&zn(c)==4)rn(c.Ea,0,c);else if(Kt(c,"readystatechange"),zn(c)==4){c.h=!1;try{const at=c.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var b;if(b=at===0){var U=String(c.D).match(Os)[1]||null;!U&&p.self&&p.self.location&&(U=p.self.location.protocol.slice(0,-1)),b=!Ma.test(U?U.toLowerCase():"")}_=b}if(_)Kt(c,"complete"),Kt(c,"success");else{c.m=6;try{var Q=2<zn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Va(c)}}finally{vr(c)}}}}function vr(c,y){if(c.g){js(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Kt(c,"ready");try{_.onreadystatechange=b}catch{}}}function js(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function zn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ba(y)}};function cc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ld(c){const y={};c=(c.g&&2<=zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(W(c[b]))continue;var _=P(c[b]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[U]||[];y[U]=Q,Q.push(_)}x(y,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ka(c){this.Aa=0,this.i=[],this.j=new kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zs("baseRetryDelayMs",5e3,c),this.cb=zs("retryDelaySeedMs",1e4,c),this.Wa=zs("forwardChannelMaxRetries",2,c),this.wa=zs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Br(c&&c.concurrentRequestLimit),this.Da=new Ls,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ka.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,b){oe(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=yc(this,null,this.W),Ua(this)};function pl(c){if(hc(c),c.G==3){var y=c.U++,_=Sn(c.I);if(Wt(_,"SID",c.K),Wt(_,"RID",y),Wt(_,"TYPE","terminate"),Bs(c,_),y=new hn(c,c.j,y),y.L=2,y.v=Vs(Sn(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=y.v,_=!0),_||(y.g=_c(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ds(y)}gc(c)}function La(c){c.g&&(qs(c),c.g.cancel(),c.g=null)}function hc(c){La(c),c.u&&(p.clearTimeout(c.u),c.u=null),ja(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function Ua(c){if(!Ca(c.h)&&!c.s){c.s=!0;var y=c.Ga;ot||N(),mt||(ot(),mt=!0),Ct.add(y,c),c.B=0}}function ud(c,y){return xa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Te(w(c.Ga,c,y),yl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new hn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=R(Q),V(Q,this.S)):Q=this.S),this.m!==null||this.O||(U.H=Q,Q=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=fc(this,U,y),_=Sn(this.I),Wt(_,"RID",c),Wt(_,"CVER",22),this.D&&Wt(_,"X-HTTP-Session-Id",this.D),Bs(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(dl(Q)))+"&"+y:this.m&&Ue(_,this.m,Q)),Da(this.h,U),this.Ua&&Wt(_,"TYPE","init"),this.P?(Wt(_,"$req",y),Wt(_,"SID","null"),U.T=!0,Zn(U,_,null)):Zn(U,_,y),this.G=2}}else this.G==3&&(c?ml(this,c):this.i.length==0||Ca(this.h)||ml(this))};function ml(c,y){var _;y?_=y.l:_=c.U++;const b=Sn(c.I);Wt(b,"SID",c.K),Wt(b,"RID",_),Wt(b,"AID",c.T),Bs(c,b),c.m&&c.o&&Ue(b,c.m,c.o),_=new hn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=fc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Da(c.h,_),Zn(_,b,y)}function Bs(c,y){c.H&&dt(c.H,function(_,b){Wt(y,b,_)}),c.l&&ll({},function(_,b){Wt(y,b,_)})}function fc(c,y,_){_=Math.min(c.i.length,_);var b=c.l?w(c.l.Na,c.l,c):null;t:{var U=c.i;let Q=-1;for(;;){const at=["count="+_];Q==-1?0<_?(Q=U[0].g,at.push("ofs="+Q)):Q=0:at.push("ofs="+Q);let Ut=!0;for(let Oe=0;Oe<_;Oe++){let jt=U[Oe].g;const je=U[Oe].map;if(jt-=Q,0>jt)Q=Math.max(0,U[Oe].g-100),Ut=!1;else try{gr(je,at,"req"+jt+"_")}catch{b&&b(je)}}if(Ut){b=at.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,b}function dc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ot||N(),mt||(ot(),mt=!0),Ct.add(y,c),c.v=0}}function gl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Te(w(c.Fa,c),yl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,pc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Te(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),La(this),pc(this))};function qs(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function pc(c){c.g=new hn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Sn(c.qa);Wt(y,"RID","rpc"),Wt(y,"SID",c.K),Wt(y,"AID",c.T),Wt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Wt(y,"TO",c.ja),Wt(y,"TYPE","xmlhttp"),Bs(c,y),c.m&&c.o&&Ue(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Vs(Sn(y)),_.m=null,_.P=!0,zr(_,c)}r.Za=function(){this.C!=null&&(this.C=null,La(this),gl(this),oe(19))};function ja(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function mc(c,y){var _=null;if(c.g==y){ja(c),qs(c),c.g=null;var b=2}else if(al(c.h,y))_=y.D,fn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var U=c.B;b=Ai(),Kt(b,new Ne(b,_)),Ua(c)}else dc(c);else if(U=y.s,U==3||U==0&&0<y.X||!(b==1&&ud(c,y)||b==2&&gl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),U){case 1:Qr(c,5);break;case 4:Qr(c,10);break;case 3:Qr(c,6);break;default:Qr(c,2)}}}function yl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Qr(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),b=c.Xa;const U=!b;b=new Se(b||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ms(b,"https"),Vs(b),U?ks(b.toString(),_):Jn(b.toString(),_)}else oe(2);c.G=0,c.l&&c.l.sa(y),gc(c),hc(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function gc(c){if(c.G=0,c.ka=[],c.l){const y=ol(c.h);(y.length!=0||c.i.length!=0)&&(H(c.ka,y),H(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function yc(c,y,_){var b=_ instanceof Se?Sn(_):new Se(_);if(b.g!="")y&&(b.g=y+"."+b.g),Ci(b,b.s);else{var U=p.location;b=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var Q=new Se(null);b&&Ms(Q,b),y&&(Q.g=y),U&&Ci(Q,U),_&&(Q.l=_),b=Q}return _=c.D,y=c.ya,_&&y&&Wt(b,_,y),Wt(b,"VER",c.la),Bs(c,b),b}function _c(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Gt(new xi({eb:_})):new Gt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vc(){}r=vc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function za(){}za.prototype.g=function(c,y){return new dn(c,y)};function dn(c,y){de.call(this),this.g=new ka(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!W(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!W(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Er(this)}j(dn,de),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){pl(this.g)},dn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Wn(c),c=_);y.i.push(new ac(y.Ya++,c)),y.G==3&&Ua(y)},dn.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,dn.aa.N.call(this)};function Ec(c){Ur.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}j(Ec,Ur);function Tc(){nl.call(this),this.status=1}j(Tc,nl);function Er(c){this.g=c}j(Er,vc),Er.prototype.ua=function(){Kt(this.g,"a")},Er.prototype.ta=function(c){Kt(this.g,new Ec(c))},Er.prototype.sa=function(c){Kt(this.g,new Tc)},Er.prototype.ra=function(){Kt(this.g,"b")},za.prototype.createWebChannel=za.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,E1=function(){return new za},v1=function(){return Ai()},_1=hr,Gm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ri.NO_ERROR=0,Ri.TIMEOUT=8,Ri.HTTP_ERROR=6,Hh=Ri,jr.COMPLETE="complete",y1=jr,el.EventType=Lr,Lr.OPEN="a",Lr.CLOSE="b",Lr.ERROR="c",Lr.MESSAGE="d",de.prototype.listen=de.prototype.K,cu=el,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,g1=Gt}).apply(typeof Rh<"u"?Rh:typeof self<"u"?self:typeof window<"u"?window:{});const P0="@firebase/firestore",k0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new Sg("@firebase/firestore");function yo(){return ga.logLevel}function ht(r,...t){if(ga.logLevel<=Pt.DEBUG){const n=t.map(Mg);ga.debug(`Firestore (${$o}): ${r}`,...n)}}function _i(r,...t){if(ga.logLevel<=Pt.ERROR){const n=t.map(Mg);ga.error(`Firestore (${$o}): ${r}`,...n)}}function Mo(r,...t){if(ga.logLevel<=Pt.WARN){const n=t.map(Mg);ga.warn(`Firestore (${$o}): ${r}`,...n)}}function Mg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,T1(r,s,n)}function T1(r,t,n){let s=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw _i(s),new Error(s)}function Qt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||T1(t,o,s)}function Rt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Ti{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class eO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class nO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rO{constructor(t){this.t=t,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Qt(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new pi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new pi,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const m=u;t.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new pi)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qt(typeof s.accessToken=="string",31837,{l:s}),new S1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new ln(t)}}class iO{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sO{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new iO(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class L0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aO{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Qt(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new L0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new L0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=oO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function kt(r,t){return r<t?-1:r>t?1:0}function $m(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return vm(o)===vm(u)?kt(o,u):vm(o)?1:-1}return kt(r.length,t.length)}const lO=55296,uO=57343;function vm(r){const t=r.charCodeAt(0);return t>=lO&&t<=uO}function Vo(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="__name__";class Ir{constructor(t,n,s){n===void 0?n=0:n>t.length&&At(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&At(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ir.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ir?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Ir.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return kt(t.length,n.length)}static compareSegments(t,n){const s=Ir.isNumericId(t),o=Ir.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ir.extractNumericId(t).compare(Ir.extractNumericId(n)):$m(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return us.fromString(t.substring(4,t.length-2))}}class ie extends Ir{construct(t,n,s){return new ie(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ie(n)}static emptyPath(){return new ie([])}}const cO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ir{construct(t,n,s){return new tn(t,n,s)}static isValidIdentifier(t){return cO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===U0}static keyField(){return new tn([U0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(ie.fromString(t))}static fromName(t){return new _t(ie.fromString(t).popFirst(5))}static empty(){return new _t(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ie.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new ie(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(r,t,n){if(!n)throw new ct(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function hO(r,t,n,s){if(t===!0&&s===!0)throw new ct(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function j0(r){if(!_t.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function z0(r){if(_t.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function w1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Vf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":At(12329,{type:typeof r})}function Mn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vf(r);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r,t){const n={typeString:r};return t&&(n.value=t),n}function Gu(r,t){if(!w1(r))throw new ct(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ct(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=-62135596800,q0=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*q0);return new ne(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<B0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q0}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gu(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-B0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Ce("string",ne._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new ne(0,0))}static max(){return new bt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=-1;function fO(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(s===1e9?new ne(n+1,0):new ne(n,s));return new hs(o,_t.empty(),t)}function dO(r){return new hs(r.readTime,r.key,Iu)}class hs{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new hs(bt.min(),_t.empty(),Iu)}static max(){return new hs(bt.max(),_t.empty(),Iu)}}function pO(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=_t.comparator(r.documentKey,t.documentKey),n!==0?n:kt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==mO)throw r;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new et((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof et?n:et.resolve(n)}catch(n){return et.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):et.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):et.reject(n)}static resolve(t){return new et((n,s)=>{n(t)})}static reject(t){return new et((n,s)=>{s(t)})}static waitFor(t){return new et((n,s)=>{let o=0,u=0,f=!1;t.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},m=>s(m))}),f=!0,u===o&&n()})}static or(t){let n=et.resolve(!1);for(const s of t)n=n.next(o=>o?et.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new et((s,o)=>{const u=t.length,f=new Array(u);let p=0;for(let m=0;m<u;m++){const g=m;n(t[g]).next(v=>{f[g]=v,++p,p===u&&s(f)},v=>o(v))}})}static doWhile(t,n){return new et((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function yO(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ko(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Pf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg=-1;function kf(r){return r==null}function uf(r){return r===0&&1/r==-1/0}function _O(r){return typeof r=="number"&&Number.isInteger(r)&&!uf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="";function vO(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=H0(t)),t=EO(r.get(n),t);return H0(t)}function EO(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case b1:n+="";break;default:n+=u}}return n}function H0(r){return r+b1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Es(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function R1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,n){this.comparator=t,this.root=n||Je.EMPTY}insert(t,n){return new fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ih(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ih(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ih(this.root,t,this.comparator,!0)}}class Ih{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Je.RED,this.left=o??Je.EMPTY,this.right=u??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Je(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Je.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw At(27949);return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Je(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new G0(this.data.getIterator())}getIteratorFrom(t){return new G0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ke(this.comparator);return n.data=t,n}}class G0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new Nn([])}unionWith(t){let n=new ke(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Nn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Vo(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new I1("Invalid base64 string: "+u):u}}(t);return new en(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new en(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const TO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(r){if(Qt(!!r,39018),typeof r=="string"){let t=0;const n=TO.exec(r);if(Qt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ee(r.seconds),nanos:Ee(r.nanos)}}function Ee(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ds(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="server_timestamp",x1="__type__",D1="__previous_value__",N1="__local_write_time__";function kg(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[x1])==null?void 0:s.stringValue)===C1}function Lf(r){const t=r.mapValue.fields[D1];return kg(t)?Lf(t):t}function Cu(r){const t=fs(r.mapValue.fields[N1].timestampValue);return new ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(t,n,s,o,u,f,p,m,g,v){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const cf="(default)";class xu{constructor(t,n){this.projectId=t,this.database=n||cf}static empty(){return new xu("","")}get isDefaultDatabase(){return this.database===cf}isEqual(t){return t instanceof xu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="__type__",AO="__max__",Ch={mapValue:{}},M1="__vector__",hf="value";function ps(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?kg(r)?4:bO(r)?9007199254740991:wO(r)?10:11:At(28295,{value:r})}function Pr(r,t){if(r===t)return!0;const n=ps(r);if(n!==ps(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Cu(r).isEqual(Cu(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=fs(o.timestampValue),p=fs(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return ds(o.bytesValue).isEqual(ds(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return Ee(o.geoPointValue.latitude)===Ee(u.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ee(o.integerValue)===Ee(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ee(o.doubleValue),p=Ee(u.doubleValue);return f===p?uf(f)===uf(p):isNaN(f)&&isNaN(p)}return!1}(r,t);case 9:return Vo(r.arrayValue.values||[],t.arrayValue.values||[],Pr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(F0(f)!==F0(p))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(p[m]===void 0||!Pr(f[m],p[m])))return!1;return!0}(r,t);default:return At(52216,{left:r})}}function Du(r,t){return(r.values||[]).find(n=>Pr(n,t))!==void 0}function Po(r,t){if(r===t)return 0;const n=ps(r),s=ps(t);if(n!==s)return kt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const p=Ee(u.integerValue||u.doubleValue),m=Ee(f.integerValue||f.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(r,t);case 3:return $0(r.timestampValue,t.timestampValue);case 4:return $0(Cu(r),Cu(t));case 5:return $m(r.stringValue,t.stringValue);case 6:return function(u,f){const p=ds(u),m=ds(f);return p.compareTo(m)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const p=u.split("/"),m=f.split("/");for(let g=0;g<p.length&&g<m.length;g++){const v=kt(p[g],m[g]);if(v!==0)return v}return kt(p.length,m.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const p=kt(Ee(u.latitude),Ee(f.latitude));return p!==0?p:kt(Ee(u.longitude),Ee(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Q0(r.arrayValue,t.arrayValue);case 10:return function(u,f){var w,O,j,$;const p=u.fields||{},m=f.fields||{},g=(w=p[hf])==null?void 0:w.arrayValue,v=(O=m[hf])==null?void 0:O.arrayValue,S=kt(((j=g==null?void 0:g.values)==null?void 0:j.length)||0,(($=v==null?void 0:v.values)==null?void 0:$.length)||0);return S!==0?S:Q0(g,v)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Ch.mapValue&&f===Ch.mapValue)return 0;if(u===Ch.mapValue)return 1;if(f===Ch.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),g=f.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let S=0;S<m.length&&S<v.length;++S){const w=$m(m[S],v[S]);if(w!==0)return w;const O=Po(p[m[S]],g[v[S]]);if(O!==0)return O}return kt(m.length,v.length)}(r.mapValue,t.mapValue);default:throw At(23264,{he:n})}}function $0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return kt(r,t);const n=fs(r),s=fs(t),o=kt(n.seconds,s.seconds);return o!==0?o:kt(n.nanos,s.nanos)}function Q0(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Po(n[o],s[o]);if(u)return u}return kt(n.length,s.length)}function ko(r){return Qm(r)}function Qm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=fs(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ds(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return _t.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Qm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Qm(n.fields[f])}`;return o+"}"}(r.mapValue):At(61005,{value:r})}function Fh(r){switch(ps(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Lf(r);return t?16+Fh(t):16;case 5:return 2*r.stringValue.length;case 6:return ds(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Fh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Es(s.fields,(u,f)=>{o+=u.length+Fh(f)}),o}(r.mapValue);default:throw At(13486,{value:r})}}function K0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Km(r){return!!r&&"integerValue"in r}function Lg(r){return!!r&&"arrayValue"in r}function Y0(r){return!!r&&"nullValue"in r}function X0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Gh(r){return!!r&&"mapValue"in r}function wO(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[O1])==null?void 0:s.stringValue)===M1}function yu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Es(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=yu(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=yu(r.arrayValue.values[n]);return t}return{...r}}function bO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===AO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t){this.value=t}static empty(){return new En({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Gh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=yu(n)}setAll(t){let n=tn.emptyPath(),s={},o=[];t.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=yu(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Pr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Gh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Es(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new En(yu(this.value))}}function V1(r){const t=[];return Es(r.fields,(n,s)=>{const o=new tn([n]);if(Gh(s)){const u=V1(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Nn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t,n,s,o,u,f,p){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new un(t,0,bt.min(),bt.min(),bt.min(),En.empty(),0)}static newFoundDocument(t,n,s,o){return new un(t,1,n,bt.min(),s,o,0)}static newNoDocument(t,n){return new un(t,2,n,bt.min(),bt.min(),En.empty(),0)}static newUnknownDocument(t,n){return new un(t,3,n,bt.min(),bt.min(),En.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(t,n){this.position=t,this.inclusive=n}}function W0(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=_t.comparator(_t.fromName(f.referenceValue),n.key):s=Po(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Z0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Pr(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(t,n="asc"){this.field=t,this.dir=n}}function RO(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{}class Ie extends P1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new CO(t,n,s):n==="array-contains"?new NO(t,s):n==="in"?new OO(t,s):n==="not-in"?new MO(t,s):n==="array-contains-any"?new VO(t,s):new Ie(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new xO(t,s):new DO(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Po(n,this.value)):n!==null&&ps(this.value)===ps(n)&&this.matchesComparison(Po(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends P1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ur(t,n)}matches(t){return k1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function k1(r){return r.op==="and"}function L1(r){return IO(r)&&k1(r)}function IO(r){for(const t of r.filters)if(t instanceof ur)return!1;return!0}function Ym(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+ko(r.value);if(L1(r))return r.filters.map(t=>Ym(t)).join(",");{const t=r.filters.map(n=>Ym(n)).join(",");return`${r.op}(${t})`}}function U1(r,t){return r instanceof Ie?function(s,o){return o instanceof Ie&&s.op===o.op&&s.field.isEqual(o.field)&&Pr(s.value,o.value)}(r,t):r instanceof ur?function(s,o){return o instanceof ur&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&U1(f,o.filters[p]),!0):!1}(r,t):void At(19439)}function j1(r){return r instanceof Ie?function(n){return`${n.field.canonicalString()} ${n.op} ${ko(n.value)}`}(r):r instanceof ur?function(n){return n.op.toString()+" {"+n.getFilters().map(j1).join(" ,")+"}"}(r):"Filter"}class CO extends Ie{constructor(t,n,s){super(t,n,s),this.key=_t.fromName(s.referenceValue)}matches(t){const n=_t.comparator(t.key,this.key);return this.matchesComparison(n)}}class xO extends Ie{constructor(t,n){super(t,"in",n),this.keys=z1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class DO extends Ie{constructor(t,n){super(t,"not-in",n),this.keys=z1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function z1(r,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(s=>_t.fromName(s.referenceValue))}class NO extends Ie{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Lg(n)&&Du(n.arrayValue,this.value)}}class OO extends Ie{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Du(this.value.arrayValue,n)}}class MO extends Ie{constructor(t,n){super(t,"not-in",n)}matches(t){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Du(this.value.arrayValue,n)}}class VO extends Ie{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Lg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Du(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(t,n=null,s=[],o=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function J0(r,t=null,n=[],s=[],o=null,u=null,f=null){return new PO(r,t,n,s,o,u,f)}function Ug(r){const t=Rt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Ym(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),kf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>ko(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>ko(s)).join(",")),t.Te=n}return t.Te}function jg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!RO(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!U1(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Z0(r.startAt,t.startAt)&&Z0(r.endAt,t.endAt)}function Xm(r){return _t.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(t,n=null,s=[],o=[],u=null,f="F",p=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kO(r,t,n,s,o,u,f,p){return new $u(r,t,n,s,o,u,f,p)}function Uf(r){return new $u(r)}function tT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function B1(r){return r.collectionGroup!==null}function _u(r){const t=Rt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new ke(tn.comparator);return f.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new df(u,s))}),n.has(tn.keyField().canonicalString())||t.Ie.push(new df(tn.keyField(),s))}return t.Ie}function Nr(r){const t=Rt(r);return t.Ee||(t.Ee=LO(t,_u(r))),t.Ee}function LO(r,t){if(r.limitType==="F")return J0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new df(o.field,u)});const n=r.endAt?new ff(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ff(r.startAt.position,r.startAt.inclusive):null;return J0(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Wm(r,t){const n=r.filters.concat([t]);return new $u(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Zm(r,t,n){return new $u(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function jf(r,t){return jg(Nr(r),Nr(t))&&r.limitType===t.limitType}function q1(r){return`${Ug(Nr(r))}|lt:${r.limitType}`}function _o(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>j1(o)).join(", ")}]`),kf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>ko(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>ko(o)).join(",")),`Target(${s})`}(Nr(r))}; limitType=${r.limitType})`}function zf(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_t.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of _u(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,p,m){const g=W0(f,p,m);return f.inclusive?g<=0:g<0}(s.startAt,_u(s),o)||s.endAt&&!function(f,p,m){const g=W0(f,p,m);return f.inclusive?g>=0:g>0}(s.endAt,_u(s),o))}(r,t)}function UO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function H1(r){return(t,n)=>{let s=!1;for(const o of _u(r)){const u=jO(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function jO(r,t,n){const s=r.field.isKeyField()?_t.comparator(t.key,n.key):function(u,f,p){const m=f.data.field(u),g=p.data.field(u);return m!==null&&g!==null?Po(m,g):At(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return At(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Es(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return R1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new fe(_t.comparator);function vi(){return zO}const F1=new fe(_t.comparator);function hu(...r){let t=F1;for(const n of r)t=t.insert(n.key,n);return t}function G1(r){let t=F1;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function aa(){return vu()}function $1(){return vu()}function vu(){return new Ea(r=>r.toString(),(r,t)=>r.isEqual(t))}const BO=new fe(_t.comparator),qO=new ke(_t.comparator);function Lt(...r){let t=qO;for(const n of r)t=t.add(n);return t}const HO=new ke(kt);function FO(){return HO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uf(t)?"-0":t}}function Q1(r){return{integerValue:""+r}}function GO(r,t){return _O(t)?Q1(t):zg(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(){this._=void 0}}function $O(r,t,n){return r instanceof Nu?function(o,u){const f={fields:{[x1]:{stringValue:C1},[N1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&kg(u)&&(u=Lf(u)),u&&(f.fields[D1]=u),{mapValue:f}}(n,t):r instanceof Ou?Y1(r,t):r instanceof Mu?X1(r,t):function(o,u){const f=K1(o,u),p=eT(f)+eT(o.Ae);return Km(f)&&Km(o.Ae)?Q1(p):zg(o.serializer,p)}(r,t)}function QO(r,t,n){return r instanceof Ou?Y1(r,t):r instanceof Mu?X1(r,t):n}function K1(r,t){return r instanceof pf?function(s){return Km(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Nu extends Bf{}class Ou extends Bf{constructor(t){super(),this.elements=t}}function Y1(r,t){const n=W1(t);for(const s of r.elements)n.some(o=>Pr(o,s))||n.push(s);return{arrayValue:{values:n}}}class Mu extends Bf{constructor(t){super(),this.elements=t}}function X1(r,t){let n=W1(t);for(const s of r.elements)n=n.filter(o=>!Pr(o,s));return{arrayValue:{values:n}}}class pf extends Bf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function eT(r){return Ee(r.integerValue||r.doubleValue)}function W1(r){return Lg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(t,n){this.field=t,this.transform=n}}function YO(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Ou&&o instanceof Ou||s instanceof Mu&&o instanceof Mu?Vo(s.elements,o.elements,Pr):s instanceof pf&&o instanceof pf?Pr(s.Ae,o.Ae):s instanceof Nu&&o instanceof Nu}(r.transform,t.transform)}class XO{constructor(t,n){this.version=t,this.transformResults=n}}class ar{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ar}static exists(t){return new ar(void 0,t)}static updateTime(t){return new ar(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $h(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class qf{}function Z1(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new tA(r.key,ar.none()):new Qu(r.key,r.data,ar.none());{const n=r.data,s=En.empty();let o=new ke(tn.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ts(r.key,s,new Nn(o.toArray()),ar.none())}}function WO(r,t,n){r instanceof Qu?function(o,u,f){const p=o.value.clone(),m=rT(o.fieldTransforms,u,f.transformResults);p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):r instanceof Ts?function(o,u,f){if(!$h(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=rT(o.fieldTransforms,u,f.transformResults),m=u.data;m.setAll(J1(o)),m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Eu(r,t,n,s){return r instanceof Qu?function(u,f,p,m){if(!$h(u.precondition,f))return p;const g=u.value.clone(),v=iT(u.fieldTransforms,m,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,t,n,s):r instanceof Ts?function(u,f,p,m){if(!$h(u.precondition,f))return p;const g=iT(u.fieldTransforms,m,f),v=f.data;return v.setAll(J1(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,t,n,s):function(u,f,p){return $h(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,t,n)}function ZO(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=K1(s.transform,o||null);u!=null&&(n===null&&(n=En.empty()),n.set(s.field,u))}return n||null}function nT(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Vo(s,o,(u,f)=>YO(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Qu extends qf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ts extends qf{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function J1(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function rT(r,t,n){const s=new Map;Qt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=t.data.field(u.field);s.set(u.field,QO(f,p,n[o]))}return s}function iT(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,$O(u,f,t))}return s}class tA extends qf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JO extends qf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&WO(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Eu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Eu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=$1();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const m=Z1(f,p);m!==null&&s.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(bt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Lt())}isEqual(t){return this.batchId===t.batchId&&Vo(this.mutations,t.mutations,(n,s)=>nT(n,s))&&Vo(this.baseMutations,t.baseMutations,(n,s)=>nT(n,s))}}class Bg{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=function(){return BO}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Bg(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,Bt;function r2(r){switch(r){case Z.OK:return At(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return At(15467,{code:r})}}function eA(r){if(r===void 0)return _i("GRPC error has no .code"),Z.UNKNOWN;switch(r){case be.OK:return Z.OK;case be.CANCELLED:return Z.CANCELLED;case be.UNKNOWN:return Z.UNKNOWN;case be.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case be.INTERNAL:return Z.INTERNAL;case be.UNAVAILABLE:return Z.UNAVAILABLE;case be.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case be.NOT_FOUND:return Z.NOT_FOUND;case be.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case be.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case be.ABORTED:return Z.ABORTED;case be.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case be.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case be.DATA_LOSS:return Z.DATA_LOSS;default:return At(39323,{code:r})}}(Bt=be||(be={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=new us([4294967295,4294967295],0);function sT(r){const t=i2().encode(r),n=new m1;return n.update(t),new Uint8Array(n.digest())}function aT(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new us([n,s],0),new us([o,u],0)]}class qg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new fu(`Invalid padding: ${n}`);if(s<0)throw new fu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new fu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=us.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(us.fromNumber(s)));return o.compare(s2)===1&&(o=new us([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=sT(t),[s,o]=aT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new qg(u,o,n);return s.forEach(p=>f.insert(p)),f}insert(t){if(this.ge===0)return;const n=sT(t),[s,o]=aT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Ku.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Hf(bt.min(),o,new fe(kt),vi(),Lt())}}class Ku{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ku(s,n,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class nA{constructor(t,n){this.targetId=t,this.Ce=n}}class rA{constructor(t,n,s=en.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class oT{constructor(){this.ve=0,this.Fe=lT(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),s=Lt();return this.Fe.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:At(38017,{changeType:u})}}),new Ku(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=lT()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class a2{constructor(t){this.Ge=t,this.ze=new Map,this.je=vi(),this.Je=xh(),this.He=xh(),this.Ye=new fe(kt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:At(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Xm(u))if(s===0){const f=new _t(u.path);this.et(n,f,un.newNoDocument(f,bt.min()))}else Qt(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const p=this.ut(t),m=p?this.ct(p,t,f):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=ds(s).toUint8Array()}catch(m){if(m instanceof I1)return Mo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new qg(f,o,u)}catch(m){return Mo(m instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),o++)}),o}Tt(t){const n=new Map;this.ze.forEach((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Xm(p.target)){const m=new _t(p.target.path);this.It(m).has(f)||this.Et(f,m)||this.et(f,m,un.newNoDocument(m,t))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Lt();this.He.forEach((u,f)=>{let p=!0;f.forEachWhile(m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(t));const o=new Hf(t,n,this.Ye,this.je,s);return this.je=vi(),this.Je=xh(),this.He=xh(),this.Ye=new fe(kt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new oT,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new ke(kt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new ke(kt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new oT),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function xh(){return new fe(_t.comparator)}function lT(){return new fe(_t.comparator)}const o2={asc:"ASCENDING",desc:"DESCENDING"},l2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u2={and:"AND",or:"OR"};class c2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Jm(r,t){return r.useProto3Json||kf(t)?t:{value:t}}function mf(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iA(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function h2(r,t){return mf(r,t.toTimestamp())}function Or(r){return Qt(!!r,49232),bt.fromTimestamp(function(n){const s=fs(n);return new ne(s.seconds,s.nanos)}(r))}function Hg(r,t){return tg(r,t).canonicalString()}function tg(r,t){const n=function(o){return new ie(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function sA(r){const t=ie.fromString(r);return Qt(cA(t),10190,{key:t.toString()}),t}function eg(r,t){return Hg(r.databaseId,t.path)}function Em(r,t){const n=sA(t);if(n.get(1)!==r.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _t(oA(n))}function aA(r,t){return Hg(r.databaseId,t)}function f2(r){const t=sA(r);return t.length===4?ie.emptyPath():oA(t)}function ng(r){return new ie(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function oA(r){return Qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function uT(r,t,n){return{name:eg(r,t),fields:n.value.mapValue.fields}}function d2(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:At(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Qt(v===void 0||typeof v=="string",58123),en.fromBase64String(v||"")):(Qt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),en.fromUint8Array(v||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&function(g){const v=g.code===void 0?Z.UNKNOWN:eA(g.code);return new ct(v,g.message||"")}(f);n=new rA(s,o,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Em(r,s.document.name),u=Or(s.document.updateTime),f=s.document.createTime?Or(s.document.createTime):bt.min(),p=new En({mapValue:{fields:s.document.fields}}),m=un.newFoundDocument(o,u,f,p),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Qh(g,v,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Em(r,s.document),u=s.readTime?Or(s.readTime):bt.min(),f=un.newNoDocument(o,u),p=s.removedTargetIds||[];n=new Qh([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Em(r,s.document),u=s.removedTargetIds||[];n=new Qh([],u,o,null)}else{if(!("filter"in t))return At(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new n2(o,u),p=s.targetId;n=new nA(p,f)}}return n}function p2(r,t){let n;if(t instanceof Qu)n={update:uT(r,t.key,t.value)};else if(t instanceof tA)n={delete:eg(r,t.key)};else if(t instanceof Ts)n={update:uT(r,t.key,t.data),updateMask:A2(t.fieldMask)};else{if(!(t instanceof JO))return At(16599,{Vt:t.type});n={verify:eg(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof Nu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ou)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Mu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof pf)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw At(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:h2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:At(27497)}(r,t.precondition)),n}function m2(r,t){return r&&r.length>0?(Qt(t!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?Or(o.updateTime):Or(u);return f.isEqual(bt.min())&&(f=Or(u)),new XO(f,o.transformResults||[])}(n,t))):[]}function g2(r,t){return{documents:[aA(r,t.path)]}}function y2(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=aA(r,o);const u=function(g){if(g.length!==0)return uA(ur.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(v=>function(w){return{field:vo(w.field),direction:E2(w.dir)}}(v))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Jm(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ft:n,parent:o}}function _2(r){let t=f2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qt(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];n.where&&(u=function(S){const w=lA(S);return w instanceof ur&&L1(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(w=>function(j){return new df(Eo(j.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(w))}(n.orderBy));let p=null;n.limit&&(p=function(S){let w;return w=typeof S=="object"?S.value:S,kf(w)?null:w}(n.limit));let m=null;n.startAt&&(m=function(S){const w=!!S.before,O=S.values||[];return new ff(O,w)}(n.startAt));let g=null;return n.endAt&&(g=function(S){const w=!S.before,O=S.values||[];return new ff(O,w)}(n.endAt)),kO(t,o,f,u,p,"F",m,g)}function v2(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function lA(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Eo(n.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(n.unaryFilter.field);return Ie.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Eo(n.unaryFilter.field);return Ie.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Eo(n.unaryFilter.field);return Ie.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}}(r):r.fieldFilter!==void 0?function(n){return Ie.create(Eo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return ur.create(n.compositeFilter.filters.map(s=>lA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return At(1026)}}(n.compositeFilter.op))}(r):At(30097,{filter:r})}function E2(r){return o2[r]}function T2(r){return l2[r]}function S2(r){return u2[r]}function vo(r){return{fieldPath:r.canonicalString()}}function Eo(r){return tn.fromServerFormat(r.fieldPath)}function uA(r){return r instanceof Ie?function(n){if(n.op==="=="){if(X0(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NAN"}};if(Y0(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(X0(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NAN"}};if(Y0(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(n.field),op:T2(n.op),value:n.value}}}(r):r instanceof ur?function(n){const s=n.getFilters().map(o=>uA(o));return s.length===1?s[0]:{compositeFilter:{op:S2(n.op),filters:s}}}(r):At(54877,{filter:r})}function A2(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function cA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t,n,s,o,u=bt.min(),f=bt.min(),p=en.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(t){return new is(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t){this.yt=t}}function b2(r){const t=_2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Zm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.Cn=new I2}addToCollectionParentIndex(t,n){return this.Cn.add(n),et.resolve()}getCollectionParents(t,n){return et.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return et.resolve()}deleteFieldIndex(t,n){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,n){return et.resolve()}getDocumentsMatchingTarget(t,n){return et.resolve(null)}getIndexType(t,n){return et.resolve(0)}getFieldIndexes(t,n){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,n){return et.resolve(hs.min())}getMinOffsetFromCollectionGroup(t,n){return et.resolve(hs.min())}updateCollectionGroup(t,n,s){return et.resolve()}updateIndexEntries(t,n){return et.resolve()}}class I2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new ke(ie.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new ke(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hA=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(hA,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Lo(0)}static cr(){return new Lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="LruGarbageCollector",C2=1048576;function fT([r,t],[n,s]){const o=kt(r,n);return o===0?kt(t,s):o}class x2{constructor(t){this.Ir=t,this.buffer=new ke(fT),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();fT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class D2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(hT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ko(n)?ht(hT,"Ignoring IndexedDB error during garbage collection: ",n):await Qo(n)}await this.Vr(3e5)})}}class N2{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return et.resolve(Pf.ce);const s=new x2(n);return this.mr.forEachTarget(t,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(cT)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cT):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,p,m,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o))).next(S=>(s=S,p=Date.now(),this.removeTargets(t,s,n))).next(S=>(u=S,m=Date.now(),this.removeOrphanedDocuments(t,s))).next(S=>(g=Date.now(),yo()<=Pt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${S} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function O2(r,t){return new N2(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.changes=new Ea(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?et.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Eu(s.mutation,o,Nn.empty(),ne.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Lt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Lt()){const o=aa();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=hu();return u.forEach((p,m)=>{f=f.insert(p,m.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=aa();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Lt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(t,n,s,o){let u=vi();const f=vu(),p=function(){return vu()}();return n.forEach((m,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ts)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),Eu(v.mutation,g,v.mutation.getFieldMask(),ne.now())):f.set(g.key,Nn.empty())}),this.recalculateAndSaveOverlays(t,u).next(m=>(m.forEach((g,v)=>f.set(g,v)),n.forEach((g,v)=>p.set(g,new V2(v,f.get(g)??null))),p))}recalculateAndSaveOverlays(t,n){const s=vu();let o=new fe((f,p)=>f-p),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const p of f)p.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let v=s.get(m)||Nn.empty();v=p.applyToLocalView(g,v),s.set(m,v);const S=(o.get(p.batchId)||Lt()).add(m);o=o.insert(p.batchId,S)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,v=m.value,S=$1();v.forEach(w=>{if(!u.has(w)){const O=Z1(n.get(w),s.get(w));O!==null&&S.set(w,O),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,S))}return et.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return _t.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):B1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):et.resolve(aa());let p=Iu,m=u;return f.next(g=>et.forEach(g,(v,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(v)?et.resolve():this.remoteDocumentCache.getEntry(t,v).next(w=>{m=m.insert(v,w)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,m,g,Lt())).next(v=>({batchId:p,changes:G1(v)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new _t(n)).next(s=>{let o=hu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=hu();return this.indexManager.getCollectionParents(t,u).next(p=>et.forEach(p,m=>{const g=function(S,w){return new $u(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(v=>{v.forEach((S,w)=>{f=f.insert(S,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((m,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,un.newInvalidDocument(v)))});let p=hu();return f.forEach((m,g)=>{const v=u.get(m);v!==void 0&&Eu(v.mutation,g,Nn.empty(),ne.now()),zf(n,g)&&(p=p.insert(m,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return et.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Or(o.createTime)}}(n)),et.resolve()}getNamedQuery(t,n){return et.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(o){return{name:o.name,query:b2(o.bundledQuery),readTime:Or(o.readTime)}}(n)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.overlays=new fe(_t.comparator),this.qr=new Map}getOverlay(t,n){return et.resolve(this.overlays.get(n))}getOverlays(t,n){const s=aa();return et.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),et.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),et.resolve()}getOverlaysForCollection(t,n,s){const o=aa(),u=n.length+1,f=new _t(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return et.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new fe((g,v)=>g-v);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=aa(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const p=aa(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>p.set(g,v)),!(p.size()>=o)););return et.resolve(p)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new e2(n,s));let u=this.qr.get(n);u===void 0&&(u=Lt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(){this.Qr=new ke(He.$r),this.Ur=new ke(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new He(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Gr(new He(t,n))}zr(t,n){t.forEach(s=>this.removeReference(s,n))}jr(t){const n=new _t(new ie([])),s=new He(n,t),o=new He(n,t+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new _t(new ie([])),s=new He(n,t),o=new He(n,t+1);let u=Lt();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new He(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class He{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return _t.comparator(t.key,n.key)||kt(t.Yr,n.Yr)}static Kr(t,n){return kt(t.Yr,n.Yr)||_t.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ke(He.$r)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new t2(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new He(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return et.resolve(f)}lookupMutationBatch(t,n){return et.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?Pg:this.tr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new He(n,0),o=new He(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const p=this.Xr(f.Yr);u.push(p)}),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new ke(kt);return n.forEach(o=>{const u=new He(o,0),f=new He(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],p=>{s=s.add(p.Yr)})}),et.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;_t.isDocumentKey(u)||(u=u.child(""));const f=new He(new _t(u),0);let p=new ke(kt);return this.Zr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Yr)),!0)},f),et.resolve(this.ti(p))}ti(t){const n=[];return t.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Qt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return et.forEach(n.mutations,o=>{const u=new He(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,n){const s=new He(n,0),o=this.Zr.firstAfterOrEqual(s);return et.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t){this.ri=t,this.docs=function(){return new fe(_t.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return et.resolve(s?s.document.mutableCopy():un.newInvalidDocument(n))}getEntries(t,n){let s=vi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():un.newInvalidDocument(o))}),et.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=vi();const f=n.path,p=new _t(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||pO(dO(v),s)<=0||(o.has(v.key)||zf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,n,s,o){At(9500)}ii(t,n){return et.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new B2(this)}getSize(t){return et.resolve(this.size)}}class B2 extends M2{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)}),et.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t){this.persistence=t,this.si=new Ea(n=>Ug(n),jg),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Fg,this.targetCount=0,this.ai=Lo.ur()}forEachTarget(t,n){return this.si.forEach((s,o)=>n(o)),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),et.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Lo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,et.resolve()}updateTargetData(t,n){return this.Pr(n),et.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)}),et.waitFor(u).next(()=>o)}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return et.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),et.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),et.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),et.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return et.resolve(s)}containsKey(t,n){return et.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(t,n){this.ui={},this.overlays={},this.ci=new Pf(0),this.li=!1,this.li=!0,this.hi=new U2,this.referenceDelegate=t(this),this.Pi=new q2(this),this.indexManager=new R2,this.remoteDocumentCache=function(o){return new z2(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new w2(n),this.Ii=new k2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new L2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new j2(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const o=new H2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(t,n){return et.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,n)))}}class H2 extends gO{constructor(t){super(),this.currentSequenceNumber=t}}class Gg{constructor(t){this.persistence=t,this.Ri=new Fg,this.Vi=null}static mi(t){return new Gg(t)}get fi(){if(this.Vi)return this.Vi;throw At(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),et.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),et.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,s=>{const o=_t.fromPath(s);return this.gi(t,o).next(u=>{u||n.removeEntry(o,bt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return et.or([()=>et.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class gf{constructor(t,n){this.persistence=t,this.pi=new Ea(s=>vO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=O2(this,n)}static mi(t,n){return new gf(t,n)}Ei(){}di(t){return et.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}wr(t){let n=0;return this.pr(t,s=>{n++}).next(()=>n)}pr(t,n){return et.forEach(this.pi,(s,o)=>this.br(t,s,o).next(u=>u?et.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,f=>this.br(t,f,n).next(p=>{p||(s++,u.removeEntry(f,bt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Fh(t.data.value)),n}br(t,n,s){return et.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return et.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Lt(),o=Lt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new $g(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return vC()?8:yO(cn())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new F2;return this.Ss(t,n,f).next(p=>{if(u.result=p,this.Vs)return this.bs(t,n,f,p.size)})}).next(()=>u.result)}bs(t,n,s,o){return s.documentReadCount<this.fs?(yo()<=Pt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",_o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(yo()<=Pt.DEBUG&&ht("QueryEngine","Query:",_o(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(yo()<=Pt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",_o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Nr(n))):et.resolve())}ys(t,n){if(tT(n))return et.resolve(null);let s=Nr(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Zm(n,null,"F"),s=Nr(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Lt(...u);return this.ps.getDocuments(t,f).next(p=>this.indexManager.getMinOffset(t,s).next(m=>{const g=this.Ds(n,p);return this.Cs(n,g,f,m.readTime)?this.ys(t,Zm(n,null,"F")):this.vs(t,g,n,m)}))})))}ws(t,n,s,o){return tT(n)||o.isEqual(bt.min())?et.resolve(null):this.ps.getDocuments(t,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?et.resolve(null):(yo()<=Pt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(n)),this.vs(t,f,n,fO(o,Iu)).next(p=>p))})}Ds(t,n){let s=new ke(H1(t));return n.forEach((o,u)=>{zf(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return yo()<=Pt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",_o(n)),this.ps.getDocumentsMatchingQuery(t,n,hs.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="LocalStore",$2=3e8;class Q2{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new fe(kt),this.xs=new Ea(u=>Ug(u),jg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new P2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function K2(r,t,n,s){return new Q2(r,t,n,s)}async function dA(r,t){const n=Rt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let m=Lt();for(const g of o){f.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){p.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:p}))})})}function Y2(r,t){const n=Rt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(p,m,g,v){const S=g.batch,w=S.keys();let O=et.resolve();return w.forEach(j=>{O=O.next(()=>v.getEntry(m,j)).next($=>{const H=g.docVersions.get(j);Qt(H!==null,48541),$.version.compareTo(H)<0&&(S.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),v.addEntry($)))})}),O.next(()=>p.mutationQueue.removeMutationBatch(m,S))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let m=Lt();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function pA(r){const t=Rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function X2(r,t){const n=Rt(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];t.targetChanges.forEach((v,S)=>{const w=o.get(S);if(!w)return;p.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,S).next(()=>n.Pi.addMatchingKeys(u,v.addedDocuments,S)));let O=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?O=O.withResumeToken(en.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,s)),o=o.insert(S,O),function($,H,J){return $.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=$2?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0}(w,O,v)&&p.push(n.Pi.updateTargetData(u,O))});let m=vi(),g=Lt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),p.push(W2(u,f,t.documentUpdates).next(v=>{m=v.ks,g=v.qs})),!s.isEqual(bt.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next(S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(v)}return et.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(n.Ms=o,u))}function W2(r,t,n){let s=Lt(),o=Lt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=vi();return n.forEach((p,m)=>{const g=u.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(bt.min())?(t.removeEntry(p,m.readTime),f=f.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),f=f.insert(p,m)):ht(Qg,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)}),{ks:f,qs:o}})}function Z2(r,t){const n=Rt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Pg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function J2(r,t){const n=Rt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,t).next(u=>u?(o=u,et.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new is(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s})}async function rg(r,t,n){const s=Rt(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Ko(f))throw f;ht(Qg,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function dT(r,t,n){const s=Rt(r);let o=bt.min(),u=Lt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(m,g,v){const S=Rt(m),w=S.xs.get(v);return w!==void 0?et.resolve(S.Ms.get(w)):S.Pi.getTargetData(g,v)}(s,f,Nr(t)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next(m=>{u=m})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:bt.min(),n?u:Lt())).next(p=>(tM(s,UO(t),p),{documents:p,Qs:u})))}function tM(r,t,n){let s=r.Os.get(t)||bt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(t,s)}class pT{constructor(){this.activeTargetIds=FO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class eM{constructor(){this.Mo=new pT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new pT,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="ConnectivityMonitor";class gT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(mT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(mT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh=null;function ig(){return Dh===null?Dh=function(){return 268435456+Math.round(2147483648*Math.random())}():Dh++,"0x"+Dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="RestConnection",rM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iM{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===cf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=ig(),p=this.zo(t,n.toUriEncodedString());ht(Tm,`Sending RPC '${t}' ${f}:`,p,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:g}=new URL(p),v=Ho(g);return this.Jo(t,p,m,s,v).then(S=>(ht(Tm,`Received RPC '${t}' ${f}: `,S),S),S=>{throw Mo(Tm,`RPC '${t}' ${f} failed with error: `,S,"url: ",p,"request:",s),S})}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$o}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}zo(t,n){const s=rM[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class aM extends iM{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=ig();return new Promise((p,m)=>{const g=new g1;g.setWithCredentials(!0),g.listenOnce(y1.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Hh.NO_ERROR:const S=g.getResponseJson();ht(on,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),p(S);break;case Hh.TIMEOUT:ht(on,`RPC '${t}' ${f} timed out`),m(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Hh.HTTP_ERROR:const w=g.getStatus();if(ht(on,`RPC '${t}' ${f} failed with status:`,w,"response text:",g.getResponseText()),w>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const j=O==null?void 0:O.error;if(j&&j.status&&j.message){const $=function(J){const W=J.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(W)>=0?W:Z.UNKNOWN}(j.status);m(new ct($,j.message))}else m(new ct(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ht(on,`RPC '${t}' ${f} completed.`)}});const v=JSON.stringify(o);ht(on,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",v,s,15)})}T_(t,n,s){const o=ig(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=E1(),p=v1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=u.join("");ht(on,`Creating RPC '${t}' stream ${o}: ${v}`,m);const S=f.createWebChannel(v,m);this.I_(S);let w=!1,O=!1;const j=new sM({Yo:H=>{O?ht(on,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(w||(ht(on,`Opening RPC '${t}' stream ${o} transport.`),S.open(),w=!0),ht(on,`RPC '${t}' stream ${o} sending:`,H),S.send(H))},Zo:()=>S.close()}),$=(H,J,W)=>{H.listen(J,rt=>{try{W(rt)}catch(ut){setTimeout(()=>{throw ut},0)}})};return $(S,cu.EventType.OPEN,()=>{O||(ht(on,`RPC '${t}' stream ${o} transport opened.`),j.o_())}),$(S,cu.EventType.CLOSE,()=>{O||(O=!0,ht(on,`RPC '${t}' stream ${o} transport closed`),j.a_(),this.E_(S))}),$(S,cu.EventType.ERROR,H=>{O||(O=!0,Mo(on,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),j.a_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))}),$(S,cu.EventType.MESSAGE,H=>{var J;if(!O){const W=H.data[0];Qt(!!W,16349);const rt=W,ut=(rt==null?void 0:rt.error)||((J=rt[0])==null?void 0:J.error);if(ut){ht(on,`RPC '${t}' stream ${o} received error:`,ut);const lt=ut.status;let dt=function(I){const V=be[I];if(V!==void 0)return eA(V)}(lt),x=ut.message;dt===void 0&&(dt=Z.INTERNAL,x="Unknown error status: "+lt+" with message "+ut.message),O=!0,j.a_(new ct(dt,x)),S.close()}else ht(on,`RPC '${t}' stream ${o} received:`,W),j.u_(W)}}),$(p,_1.STAT_EVENT,H=>{H.stat===Gm.PROXY?ht(on,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===Gm.NOPROXY&&ht(on,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.__()},0),j}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function Sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(r){return new c2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="PersistentStream";class gA{constructor(t,n,s,o,u,f,p,m){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mA(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(_i(n.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{t(()=>{const o=new ct(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return ht(yT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(ht(yT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oM extends gA{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=d2(this.serializer,t),s=function(u){if(!("targetChange"in u))return bt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?bt.min():f.readTime?Or(f.readTime):bt.min()}(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=ng(this.serializer),n.addTarget=function(u,f){let p;const m=f.target;if(p=Xm(m)?{documents:g2(u,m)}:{query:y2(u,m).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=iA(u,f.resumeToken);const g=Jm(u,f.expectedCount);g!==null&&(p.expectedCount=g)}else if(f.snapshotVersion.compareTo(bt.min())>0){p.readTime=mf(u,f.snapshotVersion.toTimestamp());const g=Jm(u,f.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,t);const s=v2(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=ng(this.serializer),n.removeTarget=t,this.q_(n)}}class lM extends gA{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=m2(t.writeResults,t.commitTime),s=Or(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=ng(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>p2(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{}class cM extends uM{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(t,tg(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(Z.UNKNOWN,u.toString())})}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Ho(t,tg(n,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(Z.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class hM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_i(n),this.aa=!1):ht("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="RemoteStore";class fM{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{Ta(this)&&(ht(ya,"Restarting streams for network reachability change."),await async function(m){const g=Rt(m);g.Ea.add(4),await Yu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Gf(g)}(this))})}),this.Ra=new hM(s,o)}}async function Gf(r){if(Ta(r))for(const t of r.da)await t(!0)}async function Yu(r){for(const t of r.da)await t(!1)}function yA(r,t){const n=Rt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Wg(n)?Xg(n):Yo(n).O_()&&Yg(n,t))}function Kg(r,t){const n=Rt(r),s=Yo(n);n.Ia.delete(t),s.O_()&&_A(n,t),n.Ia.size===0&&(s.O_()?s.L_():Ta(n)&&n.Ra.set("Unknown"))}function Yg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Yo(r).Y_(t)}function _A(r,t){r.Va.Ue(t),Yo(r).Z_(t)}function Xg(r){r.Va=new a2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Yo(r).start(),r.Ra.ua()}function Wg(r){return Ta(r)&&!Yo(r).x_()&&r.Ia.size>0}function Ta(r){return Rt(r).Ea.size===0}function vA(r){r.Va=void 0}async function dM(r){r.Ra.set("Online")}async function pM(r){r.Ia.forEach((t,n)=>{Yg(r,t)})}async function mM(r,t){vA(r),Wg(r)?(r.Ra.ha(t),Xg(r)):r.Ra.set("Unknown")}async function gM(r,t,n){if(r.Ra.set("Online"),t instanceof rA&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))}(r,t)}catch(s){ht(ya,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await yf(r,s)}else if(t instanceof Qh?r.Va.Ze(t):t instanceof nA?r.Va.st(t):r.Va.tt(t),!n.isEqual(bt.min()))try{const s=await pA(r.localStore);n.compareTo(s)>=0&&await function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(m.resumeToken,f))}}),p.targetMismatches.forEach((m,g)=>{const v=u.Ia.get(m);if(!v)return;u.Ia.set(m,v.withResumeToken(en.EMPTY_BYTE_STRING,v.snapshotVersion)),_A(u,m);const S=new is(v.target,m,g,v.sequenceNumber);Yg(u,S)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){ht(ya,"Failed to raise snapshot:",s),await yf(r,s)}}async function yf(r,t,n){if(!Ko(t))throw t;r.Ea.add(1),await Yu(r),r.Ra.set("Offline"),n||(n=()=>pA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ht(ya,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Gf(r)})}function EA(r,t){return t().catch(n=>yf(r,n,t))}async function $f(r){const t=Rt(r),n=ms(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Pg;for(;yM(t);)try{const o=await Z2(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,_M(t,o)}catch(o){await yf(t,o)}TA(t)&&SA(t)}function yM(r){return Ta(r)&&r.Ta.length<10}function _M(r,t){r.Ta.push(t);const n=ms(r);n.O_()&&n.X_&&n.ea(t.mutations)}function TA(r){return Ta(r)&&!ms(r).x_()&&r.Ta.length>0}function SA(r){ms(r).start()}async function vM(r){ms(r).ra()}async function EM(r){const t=ms(r);for(const n of r.Ta)t.ea(n.mutations)}async function TM(r,t,n){const s=r.Ta.shift(),o=Bg.from(s,t,n);await EA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await $f(r)}async function SM(r,t){t&&ms(r).X_&&await async function(s,o){if(function(f){return r2(f)&&f!==Z.ABORTED}(o.code)){const u=s.Ta.shift();ms(s).B_(),await EA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await $f(s)}}(r,t),TA(r)&&SA(r)}async function _T(r,t){const n=Rt(r);n.asyncQueue.verifyOperationInProgress(),ht(ya,"RemoteStore received new credentials");const s=Ta(n);n.Ea.add(3),await Yu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Gf(n)}async function AM(r,t){const n=Rt(r);t?(n.Ea.delete(2),await Gf(n)):t||(n.Ea.add(2),await Yu(n),n.Ra.set("Unknown"))}function Yo(r){return r.ma||(r.ma=function(n,s,o){const u=Rt(n);return u.sa(),new oM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:dM.bind(null,r),t_:pM.bind(null,r),r_:mM.bind(null,r),H_:gM.bind(null,r)}),r.da.push(async t=>{t?(r.ma.B_(),Wg(r)?Xg(r):r.Ra.set("Unknown")):(await r.ma.stop(),vA(r))})),r.ma}function ms(r){return r.fa||(r.fa=function(n,s,o){const u=Rt(n);return u.sa(),new lM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:vM.bind(null,r),r_:SM.bind(null,r),ta:EM.bind(null,r),na:TM.bind(null,r)}),r.da.push(async t=>{t?(r.fa.B_(),await $f(r)):(await r.fa.stop(),r.Ta.length>0&&(ht(ya,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,p=new Zg(t,n,f,o,u);return p.start(s),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jg(r,t){if(_i("AsyncQueue",`${t}: ${r}`),Ko(r))return new ct(Z.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{static emptySet(t){return new Ro(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||_t.comparator(n.key,s.key):(n,s)=>_t.comparator(n.key,s.key),this.keyedMap=hu(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ro)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ro;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.ga=new fe(_t.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):At(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,s)=>{t.push(s)}),t}}class Uo{constructor(t,n,s,o,u,f,p,m,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new Uo(t,n,Ro.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&jf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class bM{constructor(){this.queries=ET(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Rt(n),u=o.queries;o.queries=ET(),u.forEach((f,p)=>{for(const m of p.Sa)m.onError(s)})})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function ET(){return new Ea(r=>q1(r),jf)}async function ty(r,t){const n=Rt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new wM,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Jg(f,`Initialization of query '${_o(t.query)}' failed`);return void t.onError(p)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&ny(n)}async function ey(r,t){const n=Rt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function RM(r,t){const n=Rt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&ny(n)}function IM(r,t,n){const s=Rt(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function ny(r){r.Ca.forEach(t=>{t.next()})}var sg,TT;(TT=sg||(sg={})).Ma="default",TT.Cache="cache";class ry{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Uo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Uo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==sg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(t){this.key=t}}class wA{constructor(t){this.key=t}}class CM{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=H1(t),this.tu=new Ro(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new vT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((v,S)=>{const w=o.get(v),O=zf(this.query,S)?S:null,j=!!w&&this.mutatedKeys.has(w.key),$=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let H=!1;w&&O?w.data.isEqual(O.data)?j!==$&&(s.track({type:3,doc:O}),H=!0):this.su(w,O)||(s.track({type:2,doc:O}),H=!0,(m&&this.eu(O,m)>0||g&&this.eu(O,g)<0)&&(p=!0)):!w&&O?(s.track({type:0,doc:O}),H=!0):w&&!O&&(s.track({type:1,doc:w}),H=!0,(m||g)&&(p=!0)),H&&(O?(f=f.add(O),u=$?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:f,iu:s,Cs:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort((v,S)=>function(O,j){const $=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Rt:H})}};return $(O)-$(j)}(v.type,S.type)||this.eu(v.doc,S.doc)),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,f.length!==0||g?{snapshot:new Uo(this.query,t.tu,u,f,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return t.forEach(s=>{this.Xa.has(s)||n.push(new wA(s))}),this.Xa.forEach(s=>{t.has(s)||n.push(new AA(s))}),n}cu(t){this.Ya=t.Qs,this.Xa=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const iy="SyncEngine";class xM{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class DM{constructor(t){this.key=t,this.hu=!1}}class NM{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ea(p=>q1(p),jf),this.Iu=new Map,this.Eu=new Set,this.du=new fe(_t.comparator),this.Au=new Map,this.Ru=new Fg,this.Vu={},this.mu=new Map,this.fu=Lo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OM(r,t,n=!0){const s=DA(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await bA(s,t,n,!0),o}async function MM(r,t){const n=DA(r);await bA(n,t,!0,!1)}async function bA(r,t,n,s){const o=await J2(r.localStore,Nr(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await VM(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&yA(r.remoteStore,o),p}async function VM(r,t,n,s,o){r.pu=(S,w,O)=>async function($,H,J,W){let rt=H.view.ru(J);rt.Cs&&(rt=await dT($.localStore,H.query,!1).then(({documents:x})=>H.view.ru(x,rt)));const ut=W&&W.targetChanges.get(H.targetId),lt=W&&W.targetMismatches.get(H.targetId)!=null,dt=H.view.applyChanges(rt,$.isPrimaryClient,ut,lt);return AT($,H.targetId,dt.au),dt.snapshot}(r,S,w,O);const u=await dT(r.localStore,t,!0),f=new CM(t,u.Qs),p=f.ru(u.documents),m=Ku.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(p,r.isPrimaryClient,m);AT(r,n,g.au);const v=new xM(t,n,f);return r.Tu.set(t,v),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),g.snapshot}async function PM(r,t,n){const s=Rt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!jf(f,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await rg(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Kg(s.remoteStore,o.targetId),ag(s,o.targetId)}).catch(Qo)):(ag(s,o.targetId),await rg(s.localStore,o.targetId,!0))}async function kM(r,t){const n=Rt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Kg(n.remoteStore,s.targetId))}async function LM(r,t,n){const s=FM(r);try{const o=await function(f,p){const m=Rt(f),g=ne.now(),v=p.reduce((O,j)=>O.add(j.key),Lt());let S,w;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>{let j=vi(),$=Lt();return m.Ns.getEntries(O,v).next(H=>{j=H,j.forEach((J,W)=>{W.isValidDocument()||($=$.add(J))})}).next(()=>m.localDocuments.getOverlayedDocuments(O,j)).next(H=>{S=H;const J=[];for(const W of p){const rt=ZO(W,S.get(W.key).overlayedDocument);rt!=null&&J.push(new Ts(W.key,rt,V1(rt.value.mapValue),ar.exists(!0)))}return m.mutationQueue.addMutationBatch(O,g,J,p)}).next(H=>{w=H;const J=H.applyToLocalDocumentSet(S,$);return m.documentOverlayCache.saveOverlays(O,H.batchId,J)})}).then(()=>({batchId:w.batchId,changes:G1(S)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,m){let g=f.Vu[f.currentUser.toKey()];g||(g=new fe(kt)),g=g.insert(p,m),f.Vu[f.currentUser.toKey()]=g}(s,o.batchId,n),await Xu(s,o.changes),await $f(s.remoteStore)}catch(o){const u=Jg(o,"Failed to persist write");n.reject(u)}}async function RA(r,t){const n=Rt(r);try{const s=await X2(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(Qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qt(f.hu,14607):o.removedDocuments.size>0&&(Qt(f.hu,42227),f.hu=!1))}),await Xu(n,s,t)}catch(s){await Qo(s)}}function ST(r,t,n){const s=Rt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const p=f.view.va(t);p.snapshot&&o.push(p.snapshot)}),function(f,p){const m=Rt(f);m.onlineState=p;let g=!1;m.queries.forEach((v,S)=>{for(const w of S.Sa)w.va(p)&&(g=!0)}),g&&ny(m)}(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function UM(r,t,n){const s=Rt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new fe(_t.comparator);f=f.insert(u,un.newNoDocument(u,bt.min()));const p=Lt().add(u),m=new Hf(bt.min(),new Map,new fe(kt),f,p);await RA(s,m),s.du=s.du.remove(u),s.Au.delete(t),sy(s)}else await rg(s.localStore,t,!1).then(()=>ag(s,t,n)).catch(Qo)}async function jM(r,t){const n=Rt(r),s=t.batch.batchId;try{const o=await Y2(n.localStore,t);CA(n,s,null),IA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Xu(n,o)}catch(o){await Qo(o)}}async function zM(r,t,n){const s=Rt(r);try{const o=await function(f,p){const m=Rt(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,p).next(S=>(Qt(S!==null,37113),v=S.keys(),m.mutationQueue.removeMutationBatch(g,S))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(s.localStore,t);CA(s,t,n),IA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Xu(s,o)}catch(o){await Qo(o)}}function IA(r,t){(r.mu.get(t)||[]).forEach(n=>{n.resolve()}),r.mu.delete(t)}function CA(r,t,n){const s=Rt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function ag(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach(s=>{r.Ru.containsKey(s)||xA(r,s)})}function xA(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Kg(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),sy(r))}function AT(r,t,n){for(const s of n)s instanceof AA?(r.Ru.addReference(s.key,t),BM(r,s)):s instanceof wA?(ht(iy,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||xA(r,s.key)):At(19791,{wu:s})}function BM(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ht(iy,"New document in limbo: "+n),r.Eu.add(s),sy(r))}function sy(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new _t(ie.fromString(t)),s=r.fu.next();r.Au.set(s,new DM(n)),r.du=r.du.insert(n,s),yA(r.remoteStore,new is(Nr(Uf(n.path)),s,"TargetPurposeLimboResolution",Pf.ce))}}async function Xu(r,t,n){const s=Rt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((p,m)=>{f.push(s.pu(m,t,n).then(g=>{var v;if((g||n)&&s.isPrimaryClient){const S=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,S?"current":"not-current")}if(g){o.push(g);const S=$g.As(m.targetId,g);u.push(S)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(m,g){const v=Rt(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>et.forEach(g,w=>et.forEach(w.Es,O=>v.persistence.referenceDelegate.addReference(S,w.targetId,O)).next(()=>et.forEach(w.ds,O=>v.persistence.referenceDelegate.removeReference(S,w.targetId,O)))))}catch(S){if(!Ko(S))throw S;ht(Qg,"Failed to update sequence numbers: "+S)}for(const S of g){const w=S.targetId;if(!S.fromCache){const O=v.Ms.get(w),j=O.snapshotVersion,$=O.withLastLimboFreeSnapshotVersion(j);v.Ms=v.Ms.insert(w,$)}}}(s.localStore,u))}async function qM(r,t){const n=Rt(r);if(!n.currentUser.isEqual(t)){ht(iy,"User change. New user:",t.toKey());const s=await dA(n.localStore,t);n.currentUser=t,function(u,f){u.mu.forEach(p=>{p.forEach(m=>{m.reject(new ct(Z.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Xu(n,s.Ls)}}function HM(r,t){const n=Rt(r),s=n.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let o=Lt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function DA(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=RA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=HM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=UM.bind(null,t),t.Pu.H_=RM.bind(null,t.eventManager),t.Pu.yu=IM.bind(null,t.eventManager),t}function FM(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zM.bind(null,t),t}class _f{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ff(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return K2(this.persistence,new G2,t.initialUser,this.serializer)}Cu(t){return new fA(Gg.mi,this.serializer)}Du(t){return new eM}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_f.provider={build:()=>new _f};class GM extends _f{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Qt(this.persistence.referenceDelegate instanceof gf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new D2(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new fA(s=>gf.mi(s,n),this.serializer)}}class og{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ST(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=qM.bind(null,this.syncEngine),await AM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new bM}()}createDatastore(t){const n=Ff(t.databaseInfo.databaseId),s=function(u){return new aM(u)}(t.databaseInfo);return function(u,f,p,m){return new cM(u,f,p,m)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,p){return new fM(s,o,u,f,p)}(this.localStore,this.datastore,t.asyncQueue,n=>ST(this.syncEngine,n,0),function(){return gT.v()?new gT:new nM}())}createSyncEngine(t,n){return function(o,u,f,p,m,g,v){const S=new NM(o,u,f,p,m,g);return v&&(S.gu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=Rt(o);ht(ya,"RemoteStore shutting down."),u.Ea.add(5),await Yu(u),u.Aa.shutdown(),u.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}og.provider={build:()=>new og};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):_i("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="FirestoreClient";class $M{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=Vg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ht(gs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ht(gs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Jg(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Am(r,t){r.asyncQueue.verifyOperationInProgress(),ht(gs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await dA(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function wT(r,t){r.asyncQueue.verifyOperationInProgress();const n=await QM(r);ht(gs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>_T(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>_T(t.remoteStore,o)),r._onlineComponents=t}async function QM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ht(gs,"Using user provided OfflineComponentProvider");try{await Am(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Mo("Error using user provided cache. Falling back to memory cache: "+n),await Am(r,new _f)}}else ht(gs,"Using default OfflineComponentProvider"),await Am(r,new GM(void 0));return r._offlineComponents}async function NA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ht(gs,"Using user provided OnlineComponentProvider"),await wT(r,r._uninitializedComponentsProvider._online)):(ht(gs,"Using default OnlineComponentProvider"),await wT(r,new og))),r._onlineComponents}function KM(r){return NA(r).then(t=>t.syncEngine)}async function vf(r){const t=await NA(r),n=t.eventManager;return n.onListen=OM.bind(null,t.syncEngine),n.onUnlisten=PM.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=MM.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=kM.bind(null,t.syncEngine),n}function YM(r,t,n={}){const s=new pi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,g){const v=new ay({next:w=>{v.Nu(),f.enqueueAndForget(()=>ey(u,S));const O=w.docs.has(p);!O&&w.fromCache?g.reject(new ct(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&w.fromCache&&m&&m.source==="server"?g.reject(new ct(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),S=new ry(Uf(p.path),v,{includeMetadataChanges:!0,qa:!0});return ty(u,S)}(await vf(r),r.asyncQueue,t,n,s)),s.promise}function XM(r,t,n={}){const s=new pi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,g){const v=new ay({next:w=>{v.Nu(),f.enqueueAndForget(()=>ey(u,S)),w.fromCache&&m.source==="server"?g.reject(new ct(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),S=new ry(p,v,{includeMetadataChanges:!0,qa:!0});return ty(u,S)}(await vf(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="firestore.googleapis.com",RT=!0;class IT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MA,this.ssl=RT}else this.host=t.host,this.ssl=t.ssl??RT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=hA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<C2)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}hO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OA(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Qf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new eO;switch(s.type){case"firstParty":return new sO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=bT.get(n);s&&(ht("ComponentProvider","Removing Datastore"),bT.delete(n),s.terminate())}(this),Promise.resolve()}}function WM(r,t,n,s={}){var g;r=Mn(r,Qf);const o=Ho(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${n}`;o&&(IS(`https://${p}`),CS("Firestore",!0)),u.host!==MA&&u.host!==p&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:p,ssl:o,emulatorOptions:s};if(!fa(m,f)&&(r._setSettings(m),s.mockUserToken)){let v,S;if(typeof s.mockUserToken=="string")v=s.mockUserToken,S=ln.MOCK_USER;else{v=cC(s.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new ln(w)}r._authCredentials=new nO(new S1(v,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Sa(this.firestore,t,this._query)}}class ge{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ge(this.firestore,t,this._key)}toJSON(){return{type:ge._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Gu(n,ge._jsonSchema))return new ge(t,s||null,new _t(ie.fromString(n.referencePath)))}}ge._jsonSchemaVersion="firestore/documentReference/1.0",ge._jsonSchema={type:Ce("string",ge._jsonSchemaVersion),referencePath:Ce("string")};class cs extends Sa{constructor(t,n,s){super(t,n,Uf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ge(this.firestore,null,new _t(t))}withConverter(t){return new cs(this.firestore,t,this._path)}}function Vu(r,t,...n){if(r=xe(r),A1("collection","path",t),r instanceof Qf){const s=ie.fromString(t,...n);return z0(s),new cs(r,null,s)}{if(!(r instanceof ge||r instanceof cs))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ie.fromString(t,...n));return z0(s),new cs(r.firestore,null,s)}}function Ei(r,t,...n){if(r=xe(r),arguments.length===1&&(t=Vg.newId()),A1("doc","path",t),r instanceof Qf){const s=ie.fromString(t,...n);return j0(s),new ge(r,null,new _t(s))}{if(!(r instanceof ge||r instanceof cs))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ie.fromString(t,...n));return j0(s),new ge(r.firestore,r instanceof cs?r.converter:null,new _t(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="AsyncQueue";class xT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mA(this,"async_queue_retry"),this._c=()=>{const s=Sm();s&&ht(CT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new pi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ko(t))throw t;ht(CT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,_i("INTERNAL UNHANDLED ERROR: ",DT(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Zg.createAndSchedule(this,t,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&At(47125,{Pc:DT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function DT(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class ys extends Qf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new xT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new xT(t),this._firestoreClient=void 0,await t}}}function VA(r,t){const n=typeof r=="object"?r:OS(),s=typeof r=="string"?r:cf,o=wg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=lC("firestore");u&&WM(o,...u)}return o}function Kf(r){if(r._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ZM(r),r._firestoreClient}function ZM(r){var s,o,u;const t=r._freezeSettings(),n=function(p,m,g,v){return new SO(p,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,OA(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,t);r._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new $M(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(p){const m=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yn(en.fromBase64String(t))}catch(n){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Yn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gu(t,Yn._jsonSchema))return Yn.fromBase64String(t.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Ce("string",Yn._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mr._jsonSchemaVersion}}static fromJSON(t){if(Gu(t,Mr._jsonSchema))return new Mr(t.latitude,t.longitude)}}Mr._jsonSchemaVersion="firestore/geoPoint/1.0",Mr._jsonSchema={type:Ce("string",Mr._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Vr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gu(t,Vr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Vr(t.vectorValues);throw new ct(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vr._jsonSchemaVersion="firestore/vectorValue/1.0",Vr._jsonSchema={type:Ce("string",Vr._jsonSchemaVersion),vectorValues:Ce("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=/^__.*__$/;class t4{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ts(t,this.data,this.fieldMask,n,this.fieldTransforms):new Qu(t,this.data,n,this.fieldTransforms)}}class PA{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Ts(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function kA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{Ac:r})}}class oy{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new oy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const n=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){var o;const n=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Ef(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(kA(this.Ac)&&JM.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class e4{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Ff(t)}Cc(t,n,s,o=!1){return new oy({Ac:t,methodName:n,Dc:s,path:tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wf(r){const t=r._freezeSettings(),n=Ff(r._databaseId);return new e4(r._databaseId,!!t.ignoreUndefinedProperties,n)}function LA(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);uy("Data must be an object, but it was:",f,s);const p=UA(s,f);let m,g;if(u.merge)m=new Nn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const S of u.mergeFields){const w=lg(t,S,n);if(!f.contains(w))throw new ct(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);zA(v,w)||v.push(w)}m=new Nn(v),g=f.fieldTransforms.filter(S=>m.covers(S.field))}else m=null,g=f.fieldTransforms;return new t4(new En(p),m,g)}class Zf extends Xf{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Zf}}class ly extends Xf{_toFieldTransform(t){return new KO(t.path,new Nu)}isEqual(t){return t instanceof ly}}function n4(r,t,n,s){const o=r.Cc(1,t,n);uy("Data must be an object, but it was:",o,s);const u=[],f=En.empty();Es(s,(m,g)=>{const v=cy(t,m,n);g=xe(g);const S=o.yc(v);if(g instanceof Zf)u.push(v);else{const w=Wu(g,S);w!=null&&(u.push(v),f.set(v,w))}});const p=new Nn(u);return new PA(f,p,o.fieldTransforms)}function r4(r,t,n,s,o,u){const f=r.Cc(1,t,n),p=[lg(t,s,n)],m=[o];if(u.length%2!=0)throw new ct(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)p.push(lg(t,u[w])),m.push(u[w+1]);const g=[],v=En.empty();for(let w=p.length-1;w>=0;--w)if(!zA(g,p[w])){const O=p[w];let j=m[w];j=xe(j);const $=f.yc(O);if(j instanceof Zf)g.push(O);else{const H=Wu(j,$);H!=null&&(g.push(O),v.set(O,H))}}const S=new Nn(g);return new PA(v,S,f.fieldTransforms)}function i4(r,t,n,s=!1){return Wu(n,r.Cc(s?4:3,t))}function Wu(r,t){if(jA(r=xe(r)))return uy("Unsupported field value:",t,r),UA(r,t);if(r instanceof Xf)return function(s,o){if(!kA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let m=Wu(p,o.wc(f));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=xe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return GO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ne.fromDate(s);return{timestampValue:mf(o.serializer,u)}}if(s instanceof ne){const u=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:mf(o.serializer,u)}}if(s instanceof Mr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Yn)return{bytesValue:iA(o.serializer,s._byteString)};if(s instanceof ge){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Hg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Vr)return function(f,p){return{mapValue:{fields:{[O1]:{stringValue:M1},[hf]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return zg(p.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Vf(s)}`)}(r,t)}function UA(r,t){const n={};return R1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Es(r,(s,o)=>{const u=Wu(o,t.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function jA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof Mr||r instanceof Yn||r instanceof ge||r instanceof Xf||r instanceof Vr)}function uy(r,t,n){if(!jA(n)||!w1(n)){const s=Vf(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function lg(r,t,n){if((t=xe(t))instanceof Yf)return t._internalPath;if(typeof t=="string")return cy(r,t);throw Ef("Field path arguments must be of type string or ",r,!1,void 0,n)}const s4=new RegExp("[~\\*/\\[\\]]");function cy(r,t,n){if(t.search(s4)>=0)throw Ef(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Yf(...t.split("."))._internalPath}catch{throw Ef(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ef(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${s}`),f&&(m+=` in document ${o}`),m+=")"),new ct(Z.INVALID_ARGUMENT,p+r+m)}function zA(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ge(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new a4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(hy("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class a4 extends BA{data(){return super.data()}}function hy(r,t){return typeof t=="string"?cy(r,t):t instanceof Yf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fy{}class o4 extends fy{}function dy(r,t,...n){let s=[];t instanceof fy&&s.push(t),s=s.concat(n),function(u){const f=u.filter(m=>m instanceof my).length,p=u.filter(m=>m instanceof Jf).length;if(f>1||f>0&&p>0)throw new ct(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Jf extends o4{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Jf(t,n,s)}_apply(t){const n=this._parse(t);return HA(t._query,n),new Sa(t.firestore,t.converter,Wm(t._query,n))}_parse(t){const n=Wf(t.firestore);return function(u,f,p,m,g,v,S){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ct(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){MT(S,v);const j=[];for(const $ of S)j.push(OT(m,u,$));w={arrayValue:{values:j}}}else w=OT(m,u,S)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||MT(S,v),w=i4(p,f,S,v==="in"||v==="not-in");return Ie.create(g,v,w)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function py(r,t,n){const s=t,o=hy("where",r);return Jf._create(o,s,n)}class my extends fy{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new my(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:ur.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const p=u.getFlattenedFilters();for(const m of p)HA(f,m),f=Wm(f,m)}(t._query,n),new Sa(t.firestore,t.converter,Wm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function OT(r,t,n){if(typeof(n=xe(n))=="string"){if(n==="")throw new ct(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!B1(t)&&n.indexOf("/")!==-1)throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ie.fromString(n));if(!_t.isDocumentKey(s))throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return K0(r,new _t(s))}if(n instanceof ge)return K0(r,n._key);throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vf(n)}.`)}function MT(r,t){if(!Array.isArray(r)||r.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function HA(r,t){const n=function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ct(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class l4{convertValue(t,n="none"){switch(ps(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ds(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw At(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Es(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var s,o,u;const n=(u=(o=(s=t.fields)==null?void 0:s[hf].arrayValue)==null?void 0:o.values)==null?void 0:u.map(f=>Ee(f.doubleValue));return new Vr(n)}convertGeoPoint(t){return new Mr(Ee(t.latitude),Ee(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Lf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Cu(t));default:return null}}convertTimestamp(t){const n=fs(t);return new ne(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ie.fromString(t);Qt(cA(s),9688,{name:t});const o=new xu(s.get(1),s.get(3)),u=new _t(s.popFirst(5));return o.isEqual(n)||_i(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class du{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class la extends BA{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(hy("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=la._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:Ce("string",la._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Kh extends la{data(t={}){return super.data(t)}}class ua{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new du(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Kh(this._firestore,this._userDataWriter,s.key,s,new du(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const m=new Kh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new du(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const m=new Kh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new du(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return p.type!==0&&(g=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),v=f.indexOf(p.doc.key)),{type:u4(p.type),doc:m,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ua._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function u4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(r){r=Mn(r,ge);const t=Mn(r.firestore,ys);return YM(Kf(t),r._key).then(n=>$A(t,r,n))}ua._jsonSchemaVersion="firestore/querySnapshot/1.0",ua._jsonSchema={type:Ce("string",ua._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class gy extends l4{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ge(this.firestore,null,n)}}function c4(r){r=Mn(r,Sa);const t=Mn(r.firestore,ys),n=Kf(t),s=new gy(t);return qA(r._query),XM(n,r._query).then(o=>new ua(t,s,r,o))}function h4(r,t,n){r=Mn(r,ge);const s=Mn(r.firestore,ys),o=FA(r.converter,t);return _y(s,[LA(Wf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ar.none())])}function Pu(r,t,n,...s){r=Mn(r,ge);const o=Mn(r.firestore,ys),u=Wf(o);let f;return f=typeof(t=xe(t))=="string"||t instanceof Yf?r4(u,"updateDoc",r._key,t,n,s):n4(u,"updateDoc",r._key,t),_y(o,[f.toMutation(r._key,ar.exists(!0))])}function f4(r,t){const n=Mn(r.firestore,ys),s=Ei(r),o=FA(r.converter,t);return _y(n,[LA(Wf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ar.exists(!1))]).then(()=>s)}function yy(r,...t){var m,g,v;r=xe(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||NT(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(NT(t[s])){const S=t[s];t[s]=(m=S.next)==null?void 0:m.bind(S),t[s+1]=(g=S.error)==null?void 0:g.bind(S),t[s+2]=(v=S.complete)==null?void 0:v.bind(S)}let u,f,p;if(r instanceof ge)f=Mn(r.firestore,ys),p=Uf(r._key.path),u={next:S=>{t[s]&&t[s]($A(f,r,S))},error:t[s+1],complete:t[s+2]};else{const S=Mn(r,Sa);f=Mn(S.firestore,ys),p=S._query;const w=new gy(f);u={next:O=>{t[s]&&t[s](new ua(f,w,S,O))},error:t[s+1],complete:t[s+2]},qA(r._query)}return function(w,O,j,$){const H=new ay($),J=new ry(O,H,j);return w.asyncQueue.enqueueAndForget(async()=>ty(await vf(w),J)),()=>{H.Nu(),w.asyncQueue.enqueueAndForget(async()=>ey(await vf(w),J))}}(Kf(f),p,o,u)}function _y(r,t){return function(s,o){const u=new pi;return s.asyncQueue.enqueueAndForget(async()=>LM(await KM(s),o,u)),u.promise}(Kf(r),t)}function $A(r,t,n){const s=n.docs.get(t._key),o=new gy(r);return new la(r,o,t._key,s,new du(n.hasPendingWrites,n.fromCache),t.converter)}function d4(){return new ly("serverTimestamp")}(function(t,n=!0){(function(o){$o=o})(Fo),No(new da("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new ys(new rO(s.getProvider("auth-internal")),new aO(f,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xu(g.options.projectId,v)}(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),ls(P0,k0,t),ls(P0,k0,"esm2020")})();const p4={apiKey:"AIzaSyB5aFUQbtG1rShW-1O88aZjCG7uErNxmgQ",authDomain:"pdms-test-8a5cc.firebaseapp.com",projectId:"pdms-test-8a5cc",storageBucket:"pdms-test-8a5cc.firebasestorage.app",messagingSenderId:"631678861167",appId:"1:631678861167:web:5cd775b77e53535700329a"},vy=NS(p4);VA(vy);const On=VA(vy),_a=WN(vy);function m4({onLoginSuccess:r}){const[t,n]=G.useState(""),[s,o]=G.useState(""),u=Lu(),f=()=>{u("/signup")},p=()=>{PD(_a,t,s).then(()=>{r(),u("/dashboard")}).catch(m=>{alert(" : "+m.message)})};return A.jsxs(g4,{children:[A.jsxs(y4,{children:[A.jsxs(_4,{children:[A.jsx(v4,{children:"PDMS"}),A.jsx(E4,{children:"Pushcomz Design Management System"})]}),A.jsxs(T4,{children:[A.jsx(S4,{type:"text",value:t,onChange:m=>n(m.target.value),placeholder:" ."}),A.jsx(A4,{type:"password",value:s,onChange:m=>o(m.target.value),placeholder:" ."})]}),A.jsx(w4,{onClick:p,children:""}),A.jsxs(R4,{children:[A.jsx(I4,{children:" ?"}),A.jsx(C4,{onClick:f,children:""})]})]}),A.jsx(b4,{children:" Pushcomz Corp."})]})}const g4=ft.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:r})=>r.colors.gray01};
`,y4=ft.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:r})=>r.colors.white01};
`,_4=ft.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,v4=ft.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:r})=>r.colors.navy};
`,E4=ft.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,T4=ft.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
`,S4=ft.input`
  width: 460px;
  margin-bottom: 10px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,A4=ft.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,w4=ft.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:r})=>r.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:r})=>r.colors.white01};
`,b4=ft.p`
  margin-top: 20px;
  font-size: 12px;
  font-weight: 300;
  line-height: 18px;
  text-align: center;
`,R4=ft.div`
  
`,I4=ft.span`
  margin-right: 10px;
  font-size: 13px;
`,C4=ft.button`
  font-size: 13px;
  color: ${({theme:r})=>r.colors.navy};
`,QA="./assets/logo-NEcdCz8m.svg";function x4(){const[r,t]=G.useState(""),[n,s]=G.useState(null),o=Lu();G.useEffect(()=>{const p=Nf(_a,async m=>{if(m){m.displayName&&t(m.displayName);const g=await GA(Ei(On,"users",m.uid));g.exists()?s(g.data().role):s(null)}else t(""),s(null)});return()=>p()},[]);const u=()=>{zD(_a).then(()=>{o("/")}).catch(p=>{alert("   : "+p.message)})},f=p=>{switch(p){case 1:return"";case 2:return"";case 3:return"";default:return" "}};return A.jsxs(D4,{children:[A.jsx(N4,{src:QA}),A.jsxs(O4,{children:[A.jsxs(M4,{children:[r," (",f(n),")."]}),A.jsx(V4,{onClick:u,children:""}),A.jsx(P4,{})]})]})}const D4=ft.header`
  ${({theme:r})=>r.mixin.flex("center","space-between")};
  padding: 15px 20px;
  background-color: ${({theme:r})=>r.colors.navy};
`,N4=ft.img`
  
`,O4=ft.div`

`,M4=ft.span`
  margin-right: 10px;
  color: ${({theme:r})=>r.colors.white01};
  font-size: 14px;
  line-height: 20px;
`,V4=ft.button`
  color: ${({theme:r})=>r.colors.white01};
  font-size: 14px;
  line-height: 20px;
`,P4=ft.span`
  color: ${({theme:r})=>r.colors.white01};
  font-size: 14px;
  line-height: 20px;
`;function k4({userName:r}){const[t,n]=G.useState({completionDt:"",openDt:"",taskForm:"GHS",taskType:"",requirement:"",url:"",note:"",priority:""}),s=(u,f)=>{n(p=>({...p,[u]:f}))},o=async u=>{if(u.preventDefault(),!t.requirement){alert("  .");return}const f=new Date,p=m=>m?ne.fromDate(new Date(m)):null;f4(Vu(On,"design_request"),{request_date:p(f.toISOString()),requester:r,completion_dt:p(t.completionDt),open_dt:p(t.openDt),task_form:t.taskForm,task_type:t.taskType,requirement:t.requirement,url:t.url,note:t.note,status:"",assigned_designer:"",requester_review_status:"",manager_review_status:"",result_url:"",designer_start_date:null,designer_end_date:null,priority:t.priority,requester_edit_state:!1,designer_edit_state:!1,created_at:d4(),updated_at:null,delete_at:null}).then(()=>{alert(" !"),n({completionDt:"",openDt:"",taskForm:"GHS",taskType:"",requirement:"",url:"",note:"",priority:""})}).catch(m=>{alert("   : "+m.message)})};return A.jsxs(L4,{onSubmit:o,children:[A.jsx(U4,{children:"  "}),A.jsxs(j4,{children:[A.jsxs(li,{children:[A.jsx(Zi,{htmlFor:"completionDt",children:" "}),A.jsx("input",{type:"date",id:"completionDt",value:t.completionDt,onChange:u=>s("completionDt",u.target.value)})]}),A.jsxs(li,{children:[A.jsx(Zi,{htmlFor:"openDt",children:""}),A.jsx("input",{type:"date",id:"openDt",value:t.openDt,onChange:u=>s("openDt",u.target.value)})]}),A.jsxs(li,{children:[A.jsx(Zi,{htmlFor:"taskForm",children:""}),A.jsxs("select",{id:"taskForm",value:t.taskForm,onChange:u=>s("taskForm",u.target.value),children:[A.jsx("option",{value:"GHS",children:"GHS"}),A.jsx("option",{value:"MHC",children:"MHC"}),A.jsx("option",{value:"MHC/GHS",children:"MHC/GHS"})]})]}),A.jsxs(li,{children:[A.jsx(Zi,{htmlFor:"taskType",children:""}),A.jsxs("select",{id:"taskType",value:t.taskType,onChange:u=>s("taskType",u.target.value),children:[A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"GNB-()",children:"GNB-()"}),A.jsx("option",{value:"GNB-",children:"GNB-"}),A.jsx("option",{value:"GNB-",children:"GNB-"}),A.jsx("option",{value:"/",children:"/"}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""})]})]}),A.jsxs(li,{children:[A.jsx(Zi,{htmlFor:"requirement",children:" "}),A.jsx(wm,{id:"requirement",value:t.requirement,onChange:u=>s("requirement",u.target.value),placeholder:"  ."})]}),A.jsxs(li,{children:[A.jsx(Zi,{htmlFor:"url",children:"  URL"}),A.jsx(wm,{id:"url",value:t.url,onChange:u=>s("url",u.target.value),placeholder:"  URL ."})]}),A.jsxs(li,{children:[A.jsx(Zi,{htmlFor:"note",children:""}),A.jsx(wm,{id:"note",value:t.note,onChange:u=>s("note",u.target.value),placeholder:" URL ."})]}),A.jsxs(li,{children:[A.jsx(Zi,{htmlFor:"priority",children:""}),A.jsxs("select",{id:"priority",value:t.priority,onChange:u=>s("priority",u.target.value),children:[A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:" "}),A.jsx("option",{value:"",children:"- "}),A.jsx("option",{value:"",children:" "}),A.jsx("option",{value:"",children:" "})]})]}),A.jsx(li,{children:A.jsx(z4,{type:"submit",children:""})})]})]})}const L4=ft.form``,U4=ft.h2``,j4=ft.ul`
  ${({theme:r})=>r.mixin.flex("center")};
  margin: 20px 0;
  gap: 30px;
`,li=ft.li`
  ${({theme:r})=>r.mixin.flex("center")};
  flex-direction: column;
  gap: 10px;
`,Zi=ft.label`
  width: 100%;
  text-align: center;
  font-size: 18px;
  font-weight: 700;
`,z4=ft.button`
  padding: 5px 10px;
  border-radius: 4px;
  font-size: 15px;
  background-color: ${({theme:r})=>r.colors.navy};
  color: ${({theme:r})=>r.colors.white01};
`,wm=ft.textarea`
  min-width: 200px;
  resize: none;
`;function B4({item:r,index:t,onReviewComplete:n,onCancel:s}){const o=u=>{if(!u)return"-";if(u.toDate){const f=u.toDate();return`${f.getMonth()+1}/${f.getDate()}`}return u};return A.jsxs($4,{isCanceled:r.status==="",children:[A.jsx(We,{children:t}),A.jsx(We,{children:o(r.request_date)}),A.jsx(We,{children:r.requester}),A.jsx(We,{children:o(r.completion_dt)}),A.jsx(We,{children:o(r.open_dt)}),A.jsx(We,{children:r.task_form}),A.jsx(We,{children:r.task_type}),A.jsx(We,{children:r.requirement}),A.jsx(We,{children:r.url}),A.jsx(We,{children:r.note}),A.jsx(We,{children:r.priority}),A.jsx(We,{children:r.status===""?"":r.status===""?" ":r.status||""}),A.jsx(We,{children:r.assigned_designer||""}),A.jsx(We,{children:r.manager_review_status===""&&r.url||""}),A.jsx(We,{children:A.jsx(G4,{onClick:()=>s(r.id),children:""})}),A.jsx(We,{children:A.jsx(F4,{children:""})}),A.jsx(We,{children:r.manager_review_status===""?r.status!==""?A.jsx(q4,{onClick:()=>n(r.id),children:""}):A.jsx(H4,{children:""}):""})]})}const q4=ft.button`
  padding: 5px 10px;
  border-radius: 4px;
  color: ${({theme:r})=>r.colors.white01};
  background-color: ${({theme:r})=>r.colors.navy};
`,H4=ft.span`
  color: green;
  font-weight: bold;
`,F4=ft.button`
  padding: 5px 10px;
  border-radius: 4px;
  color: ${({theme:r})=>r.colors.white01};
  background-color: ${({theme:r})=>r.colors.navy};
`,G4=ft.button`
  padding: 5px 10px;
  border-radius: 4px;
  color: ${({theme:r})=>r.colors.white01};
  background-color: ${({theme:r})=>r.colors.navy};
`,$4=ft.tr`
  ${({isCanceled:r})=>r&&`
      td {
        text-decoration: line-through;
        color: gray;
      }
    `}
`,We=ft.td`
  padding: 5px;
`;function Q4({data:r,onReviewComplete:t,onCancel:n}){return console.log(r),A.jsxs(K4,{children:[A.jsx(Y4,{children:" "}),A.jsxs("colgroup",{children:[A.jsx("col",{style:{width:"50px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"120px"}}),A.jsx("col",{}),A.jsx("col",{}),A.jsx("col",{}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"100px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"100px"}}),A.jsx("col",{style:{width:"100px"}})]}),A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx(Ze,{children:"NO"}),A.jsx(Ze,{children:""}),A.jsx(Ze,{children:""}),A.jsxs(Ze,{children:["",A.jsx("br",{}),""]}),A.jsx(Ze,{children:""}),A.jsx(Ze,{children:""}),A.jsx(Ze,{children:""}),A.jsx(Ze,{children:""}),A.jsx(Ze,{children:" URL"}),A.jsx(Ze,{children:""}),A.jsx(Ze,{children:""}),A.jsx(Ze,{children:""}),A.jsxs(Ze,{children:["",A.jsx("br",{}),""]}),A.jsx(Ze,{children:" URL"}),A.jsx(Ze,{children:""}),A.jsx(Ze,{children:""}),A.jsx(Ze,{children:""})]})}),A.jsx("tbody",{children:r.length>0?r.map((s,o)=>A.jsx(B4,{index:o+1,item:s,onReviewComplete:t,onCancel:n},s.id)):A.jsx("tr",{children:A.jsx("td",{colSpan:17,style:{textAlign:"center",padding:"20px"},children:"  ."})})})]})}const K4=ft.table`
  width: 100%;
  text-align: center;
  border-top: 2px solid ${({theme:r})=>r.colors.black};
`,Y4=ft.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,Ze=ft.th`
  border-bottom: none;
  font-family: 'Pretendard-Bold';
  font-size: 14px;
  background-color: ${({theme:r})=>r.colors.white02};
`;function X4(){const[r,t]=G.useState(""),[n,s]=G.useState([]);G.useEffect(()=>{const f=Nf(_a,p=>{p&&p.displayName&&t(p.displayName)});return()=>f()},[]),G.useEffect(()=>{if(!r)return;const f=dy(Vu(On,"design_request"),py("requester","==",r)),p=yy(f,m=>{const g=m.docs.map(v=>({id:v.id,...v.data()}));s(g)});return()=>p()},[r]);const o=async f=>{await Pu(Ei(On,"design_request",f),{status:"",requester_review_status:""}),s(p=>p.map(m=>m.id===f?{...m,status:"",requester_review_status:""}:m)),alert(" .")},u=async f=>{await Pu(Ei(On,"design_request",f),{status:""}),s(p=>p.map(m=>m.id===f?{...m,status:""}:m))};return A.jsxs(A.Fragment,{children:[A.jsx(k4,{userName:r}),A.jsx(W4,{children:" "}),A.jsx(Q4,{data:n,onReviewComplete:o,onCancel:u})]})}const W4=ft.h2`
  margin-bottom: 20px;
`;function Z4({index:r,item:t,onChange:n,onSave:s}){const o=u=>{if(!u)return"-";if(u.toDate){const f=u.toDate();return`${f.getMonth()+1}/${f.getDate()}`}return u};return A.jsxs(tV,{isCanceled:t.status==="",children:[A.jsx("td",{children:r}),A.jsx("td",{children:o(t.request_date)}),A.jsx("td",{children:t.requester}),A.jsx("td",{children:o(t.completion_dt)}),A.jsx("td",{children:o(t.open_dt)}),A.jsx("td",{children:t.task_form}),A.jsx("td",{children:t.task_type}),A.jsx("td",{children:t.requirement}),A.jsx("td",{children:t.url?A.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:t.url}):""}),A.jsx("td",{children:t.note||""}),A.jsx("td",{children:t.priority}),A.jsx("td",{children:A.jsx("input",{type:"date",onChange:u=>n(t.id,"start_dt",u.target.value)})}),A.jsx("td",{children:A.jsx("input",{type:"date",onChange:u=>n(t.id,"end_dt",u.target.value)})}),A.jsx("td",{children:A.jsx("input",{type:"text",placeholder:" URL .",onChange:u=>n(t.id,"result_url",u.target.value)})}),A.jsx("td",{children:A.jsxs("select",{onChange:u=>n(t.id,"status",u.target.value),children:[A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""})]})}),A.jsx("td",{children:A.jsx(J4,{onClick:()=>s(t.id),children:""})})]})}const J4=ft.button`
  padding: 6px 10px;
  background: #073863;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
`,tV=ft.tr`
  ${({isCanceled:r})=>r&&`
      td {
        text-decoration: line-through;
        color: gray;
      }
    `}
`;function eV({requests:r,onChange:t,onSave:n}){return A.jsxs(nV,{children:[A.jsxs("colgroup",{children:[A.jsx("col",{style:{width:"50px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"70px"}}),A.jsx("col",{style:{width:"90px"}}),A.jsx("col",{style:{width:"120px"}}),A.jsx("col",{}),A.jsx("col",{}),A.jsx("col",{}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"100px"}})]}),A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx("th",{children:"NO"}),A.jsx("th",{children:""}),A.jsx("th",{children:""}),A.jsxs("th",{children:["",A.jsx("br",{}),""]}),A.jsx("th",{children:""}),A.jsx("th",{children:""}),A.jsx("th",{children:""}),A.jsx("th",{children:""}),A.jsx("th",{children:" URL"}),A.jsx("th",{children:""}),A.jsx("th",{children:""}),A.jsxs("th",{children:["",A.jsx("br",{}),""]}),A.jsxs("th",{children:["",A.jsx("br",{}),""]}),A.jsx("th",{children:" "}),A.jsx("th",{children:""}),A.jsx("th",{children:""})]})}),A.jsx("tbody",{children:r.length>0?r.map((s,o)=>A.jsx(Z4,{index:o+1,item:s,onChange:t,onSave:n},s.id)):A.jsx("tr",{children:A.jsx("td",{colSpan:15,style:{textAlign:"center"},children:"  ."})})})]})}const nV=ft.table`
  width: 100%;
  text-align: center;
  border-collapse: collapse;
  th, td {
    border: 1px solid #ddd;
    padding: 8px;
  }
`;function rV(){const[r,t]=G.useState([]),[n,s]=G.useState(""),[o,u]=G.useState({});G.useEffect(()=>{const g=Nf(_a,v=>{v&&v.displayName&&s(v.displayName)});return()=>g()},[]),G.useEffect(()=>{if(!n)return;const g=dy(Vu(On,"design_request"),py("assigned_designer","==",n)),v=yy(g,S=>{const w=S.docs.map(O=>({id:O.id,...O.data()}));t(w)});return()=>v()},[n]);const f=(g,v,S)=>{u(w=>({...w,[g]:{...w[g],[v]:S}}))},p=g=>g?ne.fromDate(new Date(g)):null,m=async g=>{const v=Ei(On,"design_request",g),S=o[g];if(!S){alert("  .");return}await Pu(v,{designer_start_date:p(S.start_dt),designer_end_date:p(S.end_dt),result_url:S.result_url||"",status:S.status}),alert(".")};return A.jsxs(iV,{children:[A.jsx(sV,{children:" "}),A.jsx(eV,{requests:r,formData:o,onChange:f,onSave:m})]})}const iV=ft.div``,sV=ft.h2`
  margin-bottom: 20px;
`;function aV({index:r,item:t,designerList:n,selectedDesigner:s,onDesignerSelect:o,onAssignDesigner:u,onSendToRequester:f}){const p=m=>{if(!m)return"-";if(m.toDate){const g=m.toDate();return`${g.getMonth()+1}/${g.getDate()}`}return m};return A.jsxs(cV,{isCanceled:t.status==="",children:[A.jsx("td",{children:r}),A.jsx("td",{children:p(t.request_date)}),A.jsx("td",{children:t.requester}),A.jsx("td",{children:p(t.completion_dt)}),A.jsx("td",{children:p(t.open_dt)}),A.jsx("td",{children:t.task_form}),A.jsx("td",{children:t.task_type}),A.jsx("td",{children:t.requirement}),A.jsx("td",{children:t.url||""}),A.jsx("td",{children:t.note||""}),A.jsx("td",{children:t.priority}),A.jsx("td",{children:t.status===""?"":t.status||""}),A.jsx("td",{children:t.result_url||""}),A.jsx("td",{children:p(t.designer_start_date)}),A.jsx("td",{children:p(t.designer_end_date)}),A.jsxs("td",{children:[A.jsxs(lV,{value:s,onChange:m=>o(m.target.value),children:[A.jsx("option",{value:"",children:" "}),n.map(m=>A.jsx("option",{value:m.name,children:m.name},m.id))]}),A.jsx(oV,{onClick:u,children:""})]}),A.jsx("td",{children:t.status===""&&t.manager_review_status!==""?A.jsx(uV,{onClick:f,children:""}):t.manager_review_status===""?A.jsx(hV,{children:""}):""})]})}const oV=ft.button`
  margin-left: 10px;
  margin-top: 6px;
  padding: 6px 10px;
  background: #073863;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
`,lV=ft.select`
  padding: 6px;
  border: 1px solid #ccc;
  border-radius: 4px;
`,uV=ft.button`
  padding: 6px 12px;
  background: #28a745;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
`,cV=ft.tr`
  ${({isCanceled:r})=>r&&`
      td {
        text-decoration: line-through;
        color: gray;
      }
    `}
`,hV=ft.span`
  color: green;
  font-size: 13px;
  font-weight: bold;
`;function fV({data:r,designerList:t,selectedDesigners:n,designerSelect:s,assignDesigner:o,sendToRequester:u}){return A.jsxs(dV,{children:[A.jsx(pV,{children:"  "}),A.jsxs("colgroup",{children:[A.jsx("col",{style:{width:"50px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"120px"}}),A.jsx("col",{}),A.jsx("col",{}),A.jsx("col",{}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"170px"}}),A.jsx("col",{style:{width:"60px"}})]}),A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx("th",{children:"NO"}),A.jsx("th",{children:""}),A.jsx("th",{children:""}),A.jsxs("th",{children:["",A.jsx("br",{}),""]}),A.jsx("th",{children:""}),A.jsx("th",{children:""}),A.jsx("th",{children:""}),A.jsx("th",{children:""}),A.jsx("th",{children:" URL"}),A.jsx("th",{children:""}),A.jsx("th",{children:""}),A.jsx("th",{children:""}),A.jsx("th",{children:" URL"}),A.jsxs("th",{children:["",A.jsx("br",{}),""]}),A.jsxs("th",{children:["",A.jsx("br",{}),""]}),A.jsx("th",{children:""}),A.jsx("th",{children:""})]})}),A.jsx("tbody",{children:r.length>0?r.map((f,p)=>A.jsx(aV,{index:p+1,item:f,designerList:t,selectedDesigner:n[f.id]||"",onDesignerSelect:m=>s(f.id,m),onAssignDesigner:()=>o(f.id),onSendToRequester:()=>u(f.id)},f.id)):A.jsx("tr",{children:A.jsx("td",{colSpan:17,style:{textAlign:"center",padding:"20px"},children:"  ."})})})]})}const dV=ft.table`
  width: 100%;
  text-align: center;
`,pV=ft.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`;function mV(){const[r,t]=G.useState([]),[n,s]=G.useState([]),[o,u]=G.useState({});G.useEffect(()=>{const g=yy(Vu(On,"design_request"),v=>{const S=v.docs.map(w=>({id:w.id,...w.data()}));t(S)});return()=>g()},[]),G.useEffect(()=>{(async()=>{const v=dy(Vu(On,"users"),py("role","==",2)),w=(await c4(v)).docs.map(O=>({id:O.id,...O.data()}));s(w)})()},[]);const f=(g,v)=>{u(S=>({...S,[g]:v}))},p=async g=>{const v=o[g];if(!v){alert(" .");return}const S=Ei(On,"design_request",g);await Pu(S,{assigned_designer:v}),alert(" !"),t(w=>w.map(O=>O.id===g?{...O,assigned_designer:v}:O))},m=async g=>{await Pu(Ei(On,"design_request",g),{manager_review_status:"",status:""}),t(v=>v.map(S=>S.id===g?{...S,manager_review_status:"",status:""}:S)),alert(" .")};return A.jsxs(gV,{children:[A.jsx(yV,{children:" "}),A.jsx(fV,{data:r,designerList:n,selectedDesigners:o,designerSelect:f,assignDesigner:p,sendToRequester:m})]})}const gV=ft.div``,yV=ft.h2`
  margin-bottom: 20px;
`;function _V(){const[r,t]=G.useState(null);G.useEffect(()=>{const s=Nf(_a,async o=>{if(o){const u=await GA(Ei(On,"users",o.uid));u.exists()&&t(u.data().role)}else t(null)});return()=>s()},[]);const n=()=>{if(r===1)return A.jsx(X4,{});if(r===2)return A.jsx(rV,{});if(r===3)return A.jsx(mV,{})};return A.jsx(vV,{children:n()})}const vV=ft.main`
  padding: 20px 25px;
`;function EV(){return A.jsxs(TV,{children:[A.jsx(x4,{}),A.jsx(_V,{})]})}const TV=ft.div``;function SV(){const[r,t]=G.useState(""),[n,s]=G.useState(""),[o,u]=G.useState(""),[f,p]=G.useState(""),m=Lu(),g=async()=>{if(o!==f){alert("  .");return}VD(_a,n,o).then(async v=>{const S=v.user;await LD(S,{displayName:r}),await h4(Ei(On,"users",S.uid),{name:r,role:2,createdAt:new Date})}).then(()=>{alert(" !"),m("/")}).catch(v=>{alert("   : "+v.message)})};return A.jsx(AV,{children:A.jsxs(wV,{children:[A.jsxs(bV,{children:[A.jsx(RV,{children:"PDMS"}),A.jsx(IV,{children:"Pushcomz Design Management System"})]}),A.jsx(CV,{children:A.jsx(xV,{src:QA})}),A.jsxs(DV,{children:[A.jsx(NV,{type:"text",value:r,onChange:v=>t(v.target.value),placeholder:" ."}),A.jsx(OV,{type:"text",value:n,onChange:v=>s(v.target.value),placeholder:" ."}),A.jsx(MV,{type:"password",value:o,onChange:v=>u(v.target.value),placeholder:" ."}),A.jsx(VV,{type:"password",value:f,onChange:v=>p(v.target.value),placeholder:"  ."})]}),A.jsx(PV,{onClick:g,children:""})]})})}const AV=ft.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:r})=>r.colors.gray01};
`,wV=ft.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:r})=>r.colors.white01};
`,bV=ft.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,RV=ft.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:r})=>r.colors.navy};
`,IV=ft.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,CV=ft.div`
  margin-right: auto;
`,xV=ft.img`
  
`,DV=ft.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  gap: 10px;
`,NV=ft.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,OV=ft.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,MV=ft.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,VV=ft.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,PV=ft.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:r})=>r.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:r})=>r.colors.white01};
`;function kV(){const[r,t]=G.useState(!1);return A.jsx(qR,{basename:"/pdms-test",children:A.jsxs(vR,{children:[A.jsx(Nh,{path:"/",element:A.jsx(m4,{onLoginSuccess:()=>t(!0)})}),A.jsx(Nh,{path:"/dashboard",element:r?A.jsx(EV,{}):A.jsx(yR,{to:"/"})}),A.jsx(Nh,{path:"/signup",element:A.jsx(SV,{})})]})})}const LV="/assets/Pretendard-Regular-B2kfZGS5.ttf",UV="/assets/Pretendard-Bold-BIECnYSa.ttf",jV=JI`
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    height: 100vh;
  }

  li {
    list-style: none;
  }

  button {
    background-color: transparent;
    border: none;
    cursor: pointer;
    &:focus {
      outline: none;
    }
  }

  input {
    border: none;

    &:focus {
      outline: none;
    }
  }

  table {
    border-collapse: collapse;

    th, td {
      border: 1px solid #ccc;
    }
  }

  @font-face {
    font-family: 'Pretendard-Regular';
    src: url(${LV}) format('truetype');
    font-weight: 400;
  }

  @font-face {
    font-family: 'Pretendard-Bold';
    src: url(${UV}) format('truetype');
    font-weight: 700;
  }

`,zV={white01:"#fff",white02:"#f4f4f4",navy:"#073863",gray01:"#ECEDF0",gray02:"#ccc",black:"#212121"},BV={flex:(r="flex-start",t="flex-start")=>`
    display: flex;
    align-items: ${r};
    justify-content: ${t}
  `},qV={colors:zV,mixin:BV};Cb.createRoot(document.getElementById("root")).render(A.jsx(G.StrictMode,{children:A.jsxs(XI,{theme:qV,children:[A.jsx(kV,{}),A.jsx(jV,{})]})}));
