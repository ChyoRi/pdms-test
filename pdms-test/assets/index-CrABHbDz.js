var j2=Object.defineProperty;var U2=(e,t,n)=>t in e?j2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var wt=(e,t,n)=>U2(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function z2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var G_={exports:{}},gh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function B2(){if(qE)return gh;qE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:e,type:i,key:l,ref:s!==void 0?s:null,props:a}}return gh.Fragment=t,gh.jsx=n,gh.jsxs=n,gh}var $E;function F2(){return $E||($E=1,G_.exports=B2()),G_.exports}var v=F2(),K_={exports:{}},Gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function q2(){if(HE)return Gt;HE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function _(q){return q===null||typeof q!="object"?null:(q=y&&q[y]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function T(q,lt,ot){this.props=q,this.context=lt,this.refs=A,this.updater=ot||x}T.prototype.isReactComponent={},T.prototype.setState=function(q,lt){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,lt,"setState")},T.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function D(){}D.prototype=T.prototype;function O(q,lt,ot){this.props=q,this.context=lt,this.refs=A,this.updater=ot||x}var L=O.prototype=new D;L.constructor=O,E(L,T.prototype),L.isPureReactComponent=!0;var B=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function C(q,lt,ot,K,at,yt){return ot=yt.ref,{$$typeof:e,type:q,key:lt,ref:ot!==void 0?ot:null,props:yt}}function k(q,lt){return C(q.type,lt,void 0,void 0,void 0,q.props)}function P(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function z(q){var lt={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ot){return lt[ot]})}var U=/\/+/g;function $(q,lt){return typeof q=="object"&&q!==null&&q.key!=null?z(""+q.key):lt.toString(36)}function F(){}function Pt(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(F,F):(q.status="pending",q.then(function(lt){q.status==="pending"&&(q.status="fulfilled",q.value=lt)},function(lt){q.status==="pending"&&(q.status="rejected",q.reason=lt)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function X(q,lt,ot,K,at){var yt=typeof q;(yt==="undefined"||yt==="boolean")&&(q=null);var nt=!1;if(q===null)nt=!0;else switch(yt){case"bigint":case"string":case"number":nt=!0;break;case"object":switch(q.$$typeof){case e:case t:nt=!0;break;case p:return nt=q._init,X(nt(q._payload),lt,ot,K,at)}}if(nt)return at=at(q),nt=K===""?"."+$(q,0):K,B(at)?(ot="",nt!=null&&(ot=nt.replace(U,"$&/")+"/"),X(at,lt,ot,"",function(vt){return vt})):at!=null&&(P(at)&&(at=k(at,ot+(at.key==null||q&&q.key===at.key?"":(""+at.key).replace(U,"$&/")+"/")+nt)),lt.push(at)),1;nt=0;var pt=K===""?".":K+":";if(B(q))for(var _t=0;_t<q.length;_t++)K=q[_t],yt=pt+$(K,_t),nt+=X(K,lt,ot,yt,at);else if(_t=_(q),typeof _t=="function")for(q=_t.call(q),_t=0;!(K=q.next()).done;)K=K.value,yt=pt+$(K,_t++),nt+=X(K,lt,ot,yt,at);else if(yt==="object"){if(typeof q.then=="function")return X(Pt(q),lt,ot,K,at);throw lt=String(q),Error("Objects are not valid as a React child (found: "+(lt==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":lt)+"). If you meant to render a collection of children, use an array instead.")}return nt}function V(q,lt,ot){if(q==null)return q;var K=[],at=0;return X(q,K,"","",function(yt){return lt.call(ot,yt,at++)}),K}function Z(q){if(q._status===-1){var lt=q._result;lt=lt(),lt.then(function(ot){(q._status===0||q._status===-1)&&(q._status=1,q._result=ot)},function(ot){(q._status===0||q._status===-1)&&(q._status=2,q._result=ot)}),q._status===-1&&(q._status=0,q._result=lt)}if(q._status===1)return q._result.default;throw q._result}var ct=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var lt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(lt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function st(){}return Gt.Children={map:V,forEach:function(q,lt,ot){V(q,function(){lt.apply(this,arguments)},ot)},count:function(q){var lt=0;return V(q,function(){lt++}),lt},toArray:function(q){return V(q,function(lt){return lt})||[]},only:function(q){if(!P(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Gt.Component=T,Gt.Fragment=n,Gt.Profiler=s,Gt.PureComponent=O,Gt.StrictMode=i,Gt.Suspense=h,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Gt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return M.H.useMemoCache(q)}},Gt.cache=function(q){return function(){return q.apply(null,arguments)}},Gt.cloneElement=function(q,lt,ot){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var K=E({},q.props),at=q.key,yt=void 0;if(lt!=null)for(nt in lt.ref!==void 0&&(yt=void 0),lt.key!==void 0&&(at=""+lt.key),lt)!Y.call(lt,nt)||nt==="key"||nt==="__self"||nt==="__source"||nt==="ref"&&lt.ref===void 0||(K[nt]=lt[nt]);var nt=arguments.length-2;if(nt===1)K.children=ot;else if(1<nt){for(var pt=Array(nt),_t=0;_t<nt;_t++)pt[_t]=arguments[_t+2];K.children=pt}return C(q.type,at,void 0,void 0,yt,K)},Gt.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:a,_context:q},q},Gt.createElement=function(q,lt,ot){var K,at={},yt=null;if(lt!=null)for(K in lt.key!==void 0&&(yt=""+lt.key),lt)Y.call(lt,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(at[K]=lt[K]);var nt=arguments.length-2;if(nt===1)at.children=ot;else if(1<nt){for(var pt=Array(nt),_t=0;_t<nt;_t++)pt[_t]=arguments[_t+2];at.children=pt}if(q&&q.defaultProps)for(K in nt=q.defaultProps,nt)at[K]===void 0&&(at[K]=nt[K]);return C(q,yt,void 0,void 0,null,at)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(q){return{$$typeof:c,render:q}},Gt.isValidElement=P,Gt.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:Z}},Gt.memo=function(q,lt){return{$$typeof:f,type:q,compare:lt===void 0?null:lt}},Gt.startTransition=function(q){var lt=M.T,ot={};M.T=ot;try{var K=q(),at=M.S;at!==null&&at(ot,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(st,ct)}catch(yt){ct(yt)}finally{M.T=lt}},Gt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Gt.use=function(q){return M.H.use(q)},Gt.useActionState=function(q,lt,ot){return M.H.useActionState(q,lt,ot)},Gt.useCallback=function(q,lt){return M.H.useCallback(q,lt)},Gt.useContext=function(q){return M.H.useContext(q)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(q,lt){return M.H.useDeferredValue(q,lt)},Gt.useEffect=function(q,lt,ot){var K=M.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(q,lt)},Gt.useId=function(){return M.H.useId()},Gt.useImperativeHandle=function(q,lt,ot){return M.H.useImperativeHandle(q,lt,ot)},Gt.useInsertionEffect=function(q,lt){return M.H.useInsertionEffect(q,lt)},Gt.useLayoutEffect=function(q,lt){return M.H.useLayoutEffect(q,lt)},Gt.useMemo=function(q,lt){return M.H.useMemo(q,lt)},Gt.useOptimistic=function(q,lt){return M.H.useOptimistic(q,lt)},Gt.useReducer=function(q,lt,ot){return M.H.useReducer(q,lt,ot)},Gt.useRef=function(q){return M.H.useRef(q)},Gt.useState=function(q){return M.H.useState(q)},Gt.useSyncExternalStore=function(q,lt,ot){return M.H.useSyncExternalStore(q,lt,ot)},Gt.useTransition=function(){return M.H.useTransition()},Gt.version="19.1.0",Gt}var WE;function tv(){return WE||(WE=1,K_.exports=q2()),K_.exports}var j=tv();const Et=z2(j);var X_={exports:{}},mh={},Q_={exports:{}},Z_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE;function $2(){return YE||(YE=1,function(e){function t(V,Z){var ct=V.length;V.push(Z);t:for(;0<ct;){var st=ct-1>>>1,q=V[st];if(0<s(q,Z))V[st]=Z,V[ct]=q,ct=st;else break t}}function n(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var Z=V[0],ct=V.pop();if(ct!==Z){V[0]=ct;t:for(var st=0,q=V.length,lt=q>>>1;st<lt;){var ot=2*(st+1)-1,K=V[ot],at=ot+1,yt=V[at];if(0>s(K,ct))at<q&&0>s(yt,K)?(V[st]=yt,V[at]=ct,st=at):(V[st]=K,V[ot]=ct,st=ot);else if(at<q&&0>s(yt,ct))V[st]=yt,V[at]=ct,st=at;else break t}}return Z}function s(V,Z){var ct=V.sortIndex-Z.sortIndex;return ct!==0?ct:V.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var h=[],f=[],p=1,y=null,_=3,x=!1,E=!1,A=!1,T=!1,D=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function B(V){for(var Z=n(f);Z!==null;){if(Z.callback===null)i(f);else if(Z.startTime<=V)i(f),Z.sortIndex=Z.expirationTime,t(h,Z);else break;Z=n(f)}}function M(V){if(A=!1,B(V),!E)if(n(h)!==null)E=!0,Y||(Y=!0,$());else{var Z=n(f);Z!==null&&X(M,Z.startTime-V)}}var Y=!1,C=-1,k=5,P=-1;function z(){return T?!0:!(e.unstable_now()-P<k)}function U(){if(T=!1,Y){var V=e.unstable_now();P=V;var Z=!0;try{t:{E=!1,A&&(A=!1,O(C),C=-1),x=!0;var ct=_;try{e:{for(B(V),y=n(h);y!==null&&!(y.expirationTime>V&&z());){var st=y.callback;if(typeof st=="function"){y.callback=null,_=y.priorityLevel;var q=st(y.expirationTime<=V);if(V=e.unstable_now(),typeof q=="function"){y.callback=q,B(V),Z=!0;break e}y===n(h)&&i(h),B(V)}else i(h);y=n(h)}if(y!==null)Z=!0;else{var lt=n(f);lt!==null&&X(M,lt.startTime-V),Z=!1}}break t}finally{y=null,_=ct,x=!1}Z=void 0}}finally{Z?$():Y=!1}}}var $;if(typeof L=="function")$=function(){L(U)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Pt=F.port2;F.port1.onmessage=U,$=function(){Pt.postMessage(null)}}else $=function(){D(U,0)};function X(V,Z){C=D(function(){V(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(V){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var ct=_;_=Z;try{return V()}finally{_=ct}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(V,Z){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ct=_;_=V;try{return Z()}finally{_=ct}},e.unstable_scheduleCallback=function(V,Z,ct){var st=e.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?st+ct:st):ct=st,V){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ct+q,V={id:p++,callback:Z,priorityLevel:V,startTime:ct,expirationTime:q,sortIndex:-1},ct>st?(V.sortIndex=ct,t(f,V),n(h)===null&&V===n(f)&&(A?(O(C),C=-1):A=!0,X(M,ct-st))):(V.sortIndex=q,t(h,V),E||x||(E=!0,Y||(Y=!0,$()))),V},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(V){var Z=_;return function(){var ct=_;_=Z;try{return V.apply(this,arguments)}finally{_=ct}}}}(Z_)),Z_}var GE;function H2(){return GE||(GE=1,Q_.exports=$2()),Q_.exports}var J_={exports:{}},si={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function W2(){if(KE)return si;KE=1;var e=tv();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,f,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return si.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,si.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(h,f,null,p)},si.flushSync=function(h){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=p,i.d.f()}},si.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},si.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},si.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,y=c(p,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:x}):p==="script"&&i.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},si.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},si.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,y=c(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},si.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=c(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},si.requestFormReset=function(h){i.d.r(h)},si.unstable_batchedUpdates=function(h,f){return h(f)},si.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},si.useFormStatus=function(){return l.H.useHostTransitionStatus()},si.version="19.1.0",si}var XE;function Y2(){if(XE)return J_.exports;XE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),J_.exports=W2(),J_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function G2(){if(QE)return mh;QE=1;var e=H2(),t=tv(),n=Y2();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(a(r)!==r)throw Error(i(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var u=r,d=o;;){var m=u.return;if(m===null)break;var b=m.alternate;if(b===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===u)return c(m),r;if(b===d)return c(m),o;b=b.sibling}throw Error(i(188))}if(u.return!==d.return)u=m,d=b;else{for(var R=!1,I=m.child;I;){if(I===u){R=!0,u=m,d=b;break}if(I===d){R=!0,d=m,u=b;break}I=I.sibling}if(!R){for(I=b.child;I;){if(I===u){R=!0,u=b,d=m;break}if(I===d){R=!0,d=b,u=m;break}I=I.sibling}if(!R)throw Error(i(189))}}if(u.alternate!==d)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:o}function f(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=f(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),L=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function $(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var F=Symbol.for("react.client.reference");function Pt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===F?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case M:return"Suspense";case Y:return"SuspenseList";case P:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case x:return"Portal";case L:return(r.displayName||"Context")+".Provider";case O:return(r._context.displayName||"Context")+".Consumer";case B:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case C:return o=r.displayName||null,o!==null?o:Pt(r.type)||"Memo";case k:o=r._payload,r=r._init;try{return Pt(r(o))}catch{}}return null}var X=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},st=[],q=-1;function lt(r){return{current:r}}function ot(r){0>q||(r.current=st[q],st[q]=null,q--)}function K(r,o){q++,st[q]=r.current,r.current=o}var at=lt(null),yt=lt(null),nt=lt(null),pt=lt(null);function _t(r,o){switch(K(nt,o),K(yt,r),K(at,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?yE(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=yE(o),r=_E(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ot(at),K(at,r)}function vt(){ot(at),ot(yt),ot(nt)}function At(r){r.memoizedState!==null&&K(pt,r);var o=at.current,u=_E(o,r.type);o!==u&&(K(yt,r),K(at,u))}function $t(r){yt.current===r&&(ot(at),ot(yt)),pt.current===r&&(ot(pt),uh._currentValue=ct)}var ue=Object.prototype.hasOwnProperty,An=e.unstable_scheduleCallback,ei=e.unstable_cancelCallback,ni=e.unstable_shouldYield,cs=e.unstable_requestPaint,Rn=e.unstable_now,bt=e.unstable_getCurrentPriorityLevel,It=e.unstable_ImmediatePriority,Rt=e.unstable_UserBlockingPriority,St=e.unstable_NormalPriority,re=e.unstable_LowPriority,Fn=e.unstable_IdlePriority,qn=e.log,qi=e.unstable_setDisableYieldValue,Ue=null,pe=null;function di(r){if(typeof qn=="function"&&qi(r),pe&&typeof pe.setStrictMode=="function")try{pe.setStrictMode(Ue,r)}catch{}}var kn=Math.clz32?Math.clz32:ur,Ml=Math.log,pu=Math.LN2;function ur(r){return r>>>=0,r===0?32:31-(Ml(r)/pu|0)|0}var hr=256,fr=4194304;function ki(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function dr(r,o,u){var d=r.pendingLanes;if(d===0)return 0;var m=0,b=r.suspendedLanes,R=r.pingedLanes;r=r.warmLanes;var I=d&134217727;return I!==0?(d=I&~b,d!==0?m=ki(d):(R&=I,R!==0?m=ki(R):u||(u=I&~r,u!==0&&(m=ki(u))))):(I=d&~b,I!==0?m=ki(I):R!==0?m=ki(R):u||(u=d&~r,u!==0&&(m=ki(u)))),m===0?0:o!==0&&o!==m&&(o&b)===0&&(b=m&-m,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:m}function pr(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function la(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ht(){var r=hr;return hr<<=1,(hr&4194048)===0&&(hr=256),r}function me(){var r=fr;return fr<<=1,(fr&62914560)===0&&(fr=4194304),r}function Vt(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function he(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Cn(r,o,u,d,m,b){var R=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var I=r.entanglements,W=r.expirationTimes,et=r.hiddenUpdates;for(u=R&~u;0<u;){var ht=31-kn(u),gt=1<<ht;I[ht]=0,W[ht]=-1;var it=et[ht];if(it!==null)for(et[ht]=null,ht=0;ht<it.length;ht++){var rt=it[ht];rt!==null&&(rt.lane&=-536870913)}u&=~gt}d!==0&&Wt(r,d,0),b!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=b&~(R&~o))}function Wt(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var d=31-kn(o);r.entangledLanes|=o,r.entanglements[d]=r.entanglements[d]|1073741824|u&4194090}function vo(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var d=31-kn(u),m=1<<d;m&o|r[d]&o&&(r[d]|=o),u&=~m}}function Rs(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ca(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function $i(){var r=Z.p;return r!==0?r:(r=window.event,r===void 0?32:VE(r.type))}function ua(r,o){var u=Z.p;try{return Z.p=r,o()}finally{Z.p=u}}var ze=Math.random().toString(36).slice(2),bn="__reactFiber$"+ze,an="__reactProps$"+ze,Hi="__reactContainer$"+ze,gu="__reactEvents$"+ze,Qm="__reactListeners$"+ze,ha="__reactHandles$"+ze,nd="__reactResources$"+ze,xo="__reactMarker$"+ze;function fa(r){delete r[bn],delete r[an],delete r[gu],delete r[Qm],delete r[ha]}function gr(r){var o=r[bn];if(o)return o;for(var u=r.parentNode;u;){if(o=u[Hi]||u[bn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=wE(r);r!==null;){if(u=r[bn])return u;r=wE(r)}return o}r=u,u=r.parentNode}return null}function ks(r){if(r=r[bn]||r[Hi]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function Cs(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function pi(r){var o=r[nd];return o||(o=r[nd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Je(r){r[xo]=!0}var mu=new Set,Il={};function us(r,o){mr(r,o),mr(r+"Capture",o)}function mr(r,o){for(Il[r]=o,r=0;r<o.length;r++)mu.add(o[r])}var id=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sd={},wo={};function rd(r){return ue.call(wo,r)?!0:ue.call(sd,r)?!1:id.test(r)?wo[r]=!0:(sd[r]=!0,!1)}function da(r,o,u){if(rd(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function Ds(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function $n(r,o,u,d){if(d===null)r.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+d)}}var Eo,ad;function yr(r){if(Eo===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Eo=o&&o[1]||"",ad=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Eo+r+ad}var Ol=!1;function Pl(r,o){if(!r||Ol)return"";Ol=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var gt=function(){throw Error()};if(Object.defineProperty(gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gt,[])}catch(rt){var it=rt}Reflect.construct(r,[],gt)}else{try{gt.call()}catch(rt){it=rt}r.call(gt.prototype)}}else{try{throw Error()}catch(rt){it=rt}(gt=r())&&typeof gt.catch=="function"&&gt.catch(function(){})}}catch(rt){if(rt&&it&&typeof rt.stack=="string")return[rt.stack,it.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),R=b[0],I=b[1];if(R&&I){var W=R.split(`
`),et=I.split(`
`);for(m=d=0;d<W.length&&!W[d].includes("DetermineComponentFrameRoot");)d++;for(;m<et.length&&!et[m].includes("DetermineComponentFrameRoot");)m++;if(d===W.length||m===et.length)for(d=W.length-1,m=et.length-1;1<=d&&0<=m&&W[d]!==et[m];)m--;for(;1<=d&&0<=m;d--,m--)if(W[d]!==et[m]){if(d!==1||m!==1)do if(d--,m--,0>m||W[d]!==et[m]){var ht=`
`+W[d].replace(" at new "," at ");return r.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",r.displayName)),ht}while(1<=d&&0<=m);break}}}finally{Ol=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?yr(u):""}function yu(r){switch(r.tag){case 26:case 27:case 5:return yr(r.type);case 16:return yr("Lazy");case 13:return yr("Suspense");case 19:return yr("SuspenseList");case 0:case 15:return Pl(r.type,!1);case 11:return Pl(r.type.render,!1);case 1:return Pl(r.type,!0);case 31:return yr("Activity");default:return""}}function Nl(r){try{var o="";do o+=yu(r),r=r.return;while(r);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function gi(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function _u(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Zm(r){var o=_u(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),d=""+r[o];if(!r.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,b=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return m.call(this)},set:function(R){d=""+R,b.call(this,R)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(R){d=""+R},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Ll(r){r._valueTracker||(r._valueTracker=Zm(r))}function bu(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return r&&(d=_u(r)?r.checked?"true":"false":r.value),r=d,r!==u?(o.setValue(r),!0):!1}function So(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Jm=/[\n"\\]/g;function on(r){return r.replace(Jm,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ci(r,o,u,d,m,b,R,I){r.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.type=R:r.removeAttribute("type"),o!=null?R==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+gi(o)):r.value!==""+gi(o)&&(r.value=""+gi(o)):R!=="submit"&&R!=="reset"||r.removeAttribute("value"),o!=null?pa(r,R,gi(o)):u!=null?pa(r,R,gi(u)):d!=null&&r.removeAttribute("value"),m==null&&b!=null&&(r.defaultChecked=!!b),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+gi(I):r.removeAttribute("name")}function To(r,o,u,d,m,b,R,I){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;u=u!=null?""+gi(u):"",o=o!=null?""+gi(o):u,I||o===r.value||(r.value=o),r.defaultValue=o}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=I?r.checked:!!d,r.defaultChecked=!!d,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(r.name=R)}function pa(r,o,u){o==="number"&&So(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function _r(r,o,u,d){if(r=r.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<r.length;u++)m=o.hasOwnProperty("$"+r[u].value),r[u].selected!==m&&(r[u].selected=m),m&&d&&(r[u].defaultSelected=!0)}else{for(u=""+gi(u),o=null,m=0;m<r.length;m++){if(r[m].value===u){r[m].selected=!0,d&&(r[m].defaultSelected=!0);return}o!==null||r[m].disabled||(o=r[m])}o!==null&&(o.selected=!0)}}function Se(r,o,u){if(o!=null&&(o=""+gi(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+gi(u):""}function Ao(r,o,u,d){if(o==null){if(d!=null){if(u!=null)throw Error(i(92));if(X(d)){if(1<d.length)throw Error(i(93));d=d[0]}u=d}u==null&&(u=""),o=u}u=gi(o),r.defaultValue=u,d=r.textContent,d===u&&d!==""&&d!==null&&(r.value=d)}function Wi(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var Ro=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function od(r,o,u){var d=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":d?r.setProperty(o,u):typeof u!="number"||u===0||Ro.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function vu(r,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var m in o)d=o[m],o.hasOwnProperty(m)&&u[m]!==d&&od(r,m,d)}else for(var b in o)o.hasOwnProperty(b)&&od(r,b,o[b])}function xu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ty=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ey=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vl(r){return ey.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var br=null;function Yi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var vr=null,xr=null;function wu(r){var o=ks(r);if(o&&(r=o.stateNode)){var u=r[an]||null;t:switch(r=o.stateNode,o.type){case"input":if(Ci(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+on(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==r&&d.form===r.form){var m=d[an]||null;if(!m)throw Error(i(90));Ci(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<u.length;o++)d=u[o],d.form===r.form&&bu(d)}break t;case"textarea":Se(r,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&_r(r,!!u.multiple,o,!1)}}}var Ms=!1;function ld(r,o,u){if(Ms)return r(o,u);Ms=!0;try{var d=r(o);return d}finally{if(Ms=!1,(vr!==null||xr!==null)&&(ep(),vr&&(o=vr,r=xr,xr=vr=null,wu(o),r)))for(o=0;o<r.length;o++)wu(r[o])}}function ko(r,o){var u=r.stateNode;if(u===null)return null;var d=u[an]||null;if(d===null)return null;u=d[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break t;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gi=!1;if(hs)try{var Co={};Object.defineProperty(Co,"passive",{get:function(){Gi=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{Gi=!1}var Is=null,ga=null,wr=null;function Eu(){if(wr)return wr;var r,o=ga,u=o.length,d,m="value"in Is?Is.value:Is.textContent,b=m.length;for(r=0;r<u&&o[r]===m[r];r++);var R=u-r;for(d=1;d<=R&&o[u-d]===m[b-d];d++);return wr=m.slice(r,1<d?1-d:void 0)}function Os(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Ps(){return!0}function Su(){return!1}function Dn(r){function o(u,d,m,b,R){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=b,this.target=R,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(u=r[I],this[I]=u?u(b):b[I]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ps:Su,this.isPropagationStopped=Su,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ps)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ps)},persist:function(){},isPersistent:Ps}),o}var ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=Dn(ye),Do=p({},ye,{view:0,detail:0}),cd=Dn(Do),Ul,zl,Ns,Mo=p({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Po,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ns&&(Ns&&r.type==="mousemove"?(Ul=r.screenX-Ns.screenX,zl=r.screenY-Ns.screenY):zl=Ul=0,Ns=r),Ul)},movementY:function(r){return"movementY"in r?r.movementY:zl}}),Ki=Dn(Mo),ud=p({},Mo,{dataTransfer:0}),ny=Dn(ud),Io=p({},Do,{relatedTarget:0}),Bl=Dn(Io),Tu=p({},ye,{animationName:0,elapsedTime:0,pseudoElement:0}),Fl=Dn(Tu),hd=p({},ye,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ql=Dn(hd),iy=p({},ye,{data:0}),Au=Dn(iy),Oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=dd[r])?!!o[r]:!1}function Po(){return Ru}var pd=p({},Do,{key:function(r){if(r.key){var o=Oo[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Os(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?fd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Po,charCode:function(r){return r.type==="keypress"?Os(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Os(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),$l=Dn(pd),gd=p({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ku=Dn(gd),Er=p({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Po}),md=Dn(Er),yd=p({},ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),_d=Dn(yd),bd=p({},Mo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Hl=Dn(bd),mi=p({},ye,{newState:0,oldState:0}),vd=Dn(mi),xd=[9,13,27,32],Ls=hs&&"CompositionEvent"in window,g=null;hs&&"documentMode"in document&&(g=document.documentMode);var w=hs&&"TextEvent"in window&&!g,S=hs&&(!Ls||g&&8<g&&11>=g),N=" ",J=!1;function ut(r,o){switch(r){case"keyup":return xd.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ae=!1;function vn(r,o){switch(r){case"compositionend":return xt(o);case"keypress":return o.which!==32?null:(J=!0,N);case"textInput":return r=o.data,r===N&&J?null:r;default:return null}}function oe(r,o){if(ae)return r==="compositionend"||!Ls&&ut(r,o)?(r=Eu(),wr=ga=Is=null,ae=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return S&&o.locale!=="ko"?null:o.data;default:return null}}var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xn(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!Mn[r.type]:o==="textarea"}function Sr(r,o,u,d){vr?xr?xr.push(d):xr=[d]:vr=d,o=op(o,"onChange"),0<o.length&&(u=new jl("onChange","change",null,u,d),r.push({event:u,listeners:o}))}var Hn=null,Vs=null;function Cu(r){fE(r,0)}function wd(r){var o=Cs(r);if(bu(o))return r}function Ox(r,o){if(r==="change")return o}var Px=!1;if(hs){var sy;if(hs){var ry="oninput"in document;if(!ry){var Nx=document.createElement("div");Nx.setAttribute("oninput","return;"),ry=typeof Nx.oninput=="function"}sy=ry}else sy=!1;Px=sy&&(!document.documentMode||9<document.documentMode)}function Lx(){Hn&&(Hn.detachEvent("onpropertychange",Vx),Vs=Hn=null)}function Vx(r){if(r.propertyName==="value"&&wd(Vs)){var o=[];Sr(o,Vs,r,Yi(r)),ld(Cu,o)}}function pO(r,o,u){r==="focusin"?(Lx(),Hn=o,Vs=u,Hn.attachEvent("onpropertychange",Vx)):r==="focusout"&&Lx()}function gO(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return wd(Vs)}function mO(r,o){if(r==="click")return wd(o)}function yO(r,o){if(r==="input"||r==="change")return wd(o)}function _O(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Di=typeof Object.is=="function"?Object.is:_O;function Du(r,o){if(Di(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!ue.call(o,m)||!Di(r[m],o[m]))return!1}return!0}function jx(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ux(r,o){var u=jx(r);r=0;for(var d;u;){if(u.nodeType===3){if(d=r+u.textContent.length,r<=o&&d>=o)return{node:u,offset:o-r};r=d}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=jx(u)}}function zx(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?zx(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Bx(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=So(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=So(r.document)}return o}function ay(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var bO=hs&&"documentMode"in document&&11>=document.documentMode,Wl=null,oy=null,Mu=null,ly=!1;function Fx(r,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ly||Wl==null||Wl!==So(d)||(d=Wl,"selectionStart"in d&&ay(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Mu&&Du(Mu,d)||(Mu=d,d=op(oy,"onSelect"),0<d.length&&(o=new jl("onSelect","select",null,o,u),r.push({event:o,listeners:d}),o.target=Wl)))}function No(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var Yl={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionrun:No("Transition","TransitionRun"),transitionstart:No("Transition","TransitionStart"),transitioncancel:No("Transition","TransitionCancel"),transitionend:No("Transition","TransitionEnd")},cy={},qx={};hs&&(qx=document.createElement("div").style,"AnimationEvent"in window||(delete Yl.animationend.animation,delete Yl.animationiteration.animation,delete Yl.animationstart.animation),"TransitionEvent"in window||delete Yl.transitionend.transition);function Lo(r){if(cy[r])return cy[r];if(!Yl[r])return r;var o=Yl[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in qx)return cy[r]=o[u];return r}var $x=Lo("animationend"),Hx=Lo("animationiteration"),Wx=Lo("animationstart"),vO=Lo("transitionrun"),xO=Lo("transitionstart"),wO=Lo("transitioncancel"),Yx=Lo("transitionend"),Gx=new Map,uy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uy.push("scrollEnd");function fs(r,o){Gx.set(r,o),us(o,[r])}var Kx=new WeakMap;function Xi(r,o){if(typeof r=="object"&&r!==null){var u=Kx.get(r);return u!==void 0?u:(o={value:r,source:o,stack:Nl(o)},Kx.set(r,o),o)}return{value:r,source:o,stack:Nl(o)}}var Qi=[],Gl=0,hy=0;function Ed(){for(var r=Gl,o=hy=Gl=0;o<r;){var u=Qi[o];Qi[o++]=null;var d=Qi[o];Qi[o++]=null;var m=Qi[o];Qi[o++]=null;var b=Qi[o];if(Qi[o++]=null,d!==null&&m!==null){var R=d.pending;R===null?m.next=m:(m.next=R.next,R.next=m),d.pending=m}b!==0&&Xx(u,m,b)}}function Sd(r,o,u,d){Qi[Gl++]=r,Qi[Gl++]=o,Qi[Gl++]=u,Qi[Gl++]=d,hy|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function fy(r,o,u,d){return Sd(r,o,u,d),Td(r)}function Kl(r,o){return Sd(r,null,null,o),Td(r)}function Xx(r,o,u){r.lanes|=u;var d=r.alternate;d!==null&&(d.lanes|=u);for(var m=!1,b=r.return;b!==null;)b.childLanes|=u,d=b.alternate,d!==null&&(d.childLanes|=u),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(m=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,m&&o!==null&&(m=31-kn(u),r=b.hiddenUpdates,d=r[m],d===null?r[m]=[o]:d.push(o),o.lane=u|536870912),b):null}function Td(r){if(50<nh)throw nh=0,__=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Xl={};function EO(r,o,u,d){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(r,o,u,d){return new EO(r,o,u,d)}function dy(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Tr(r,o){var u=r.alternate;return u===null?(u=Mi(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function Qx(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Ad(r,o,u,d,m,b){var R=0;if(d=r,typeof r=="function")dy(r)&&(R=1);else if(typeof r=="string")R=T2(r,u,at.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case P:return r=Mi(31,u,o,m),r.elementType=P,r.lanes=b,r;case E:return Vo(u.children,m,b,o);case A:R=8,m|=24;break;case T:return r=Mi(12,u,o,m|2),r.elementType=T,r.lanes=b,r;case M:return r=Mi(13,u,o,m),r.elementType=M,r.lanes=b,r;case Y:return r=Mi(19,u,o,m),r.elementType=Y,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:case L:R=10;break t;case O:R=9;break t;case B:R=11;break t;case C:R=14;break t;case k:R=16,d=null;break t}R=29,u=Error(i(130,r===null?"null":typeof r,"")),d=null}return o=Mi(R,u,o,m),o.elementType=r,o.type=d,o.lanes=b,o}function Vo(r,o,u,d){return r=Mi(7,r,d,o),r.lanes=u,r}function py(r,o,u){return r=Mi(6,r,null,o),r.lanes=u,r}function gy(r,o,u){return o=Mi(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Ql=[],Zl=0,Rd=null,kd=0,Zi=[],Ji=0,jo=null,Ar=1,Rr="";function Uo(r,o){Ql[Zl++]=kd,Ql[Zl++]=Rd,Rd=r,kd=o}function Zx(r,o,u){Zi[Ji++]=Ar,Zi[Ji++]=Rr,Zi[Ji++]=jo,jo=r;var d=Ar;r=Rr;var m=32-kn(d)-1;d&=~(1<<m),u+=1;var b=32-kn(o)+m;if(30<b){var R=m-m%5;b=(d&(1<<R)-1).toString(32),d>>=R,m-=R,Ar=1<<32-kn(o)+m|u<<m|d,Rr=b+r}else Ar=1<<b|u<<m|d,Rr=r}function my(r){r.return!==null&&(Uo(r,1),Zx(r,1,0))}function yy(r){for(;r===Rd;)Rd=Ql[--Zl],Ql[Zl]=null,kd=Ql[--Zl],Ql[Zl]=null;for(;r===jo;)jo=Zi[--Ji],Zi[Ji]=null,Rr=Zi[--Ji],Zi[Ji]=null,Ar=Zi[--Ji],Zi[Ji]=null}var yi=null,Ye=null,ge=!1,zo=null,js=!1,_y=Error(i(519));function Bo(r){var o=Error(i(418,""));throw Pu(Xi(o,r)),_y}function Jx(r){var o=r.stateNode,u=r.type,d=r.memoizedProps;switch(o[bn]=r,o[an]=d,u){case"dialog":te("cancel",o),te("close",o);break;case"iframe":case"object":case"embed":te("load",o);break;case"video":case"audio":for(u=0;u<sh.length;u++)te(sh[u],o);break;case"source":te("error",o);break;case"img":case"image":case"link":te("error",o),te("load",o);break;case"details":te("toggle",o);break;case"input":te("invalid",o),To(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Ll(o);break;case"select":te("invalid",o);break;case"textarea":te("invalid",o),Ao(o,d.value,d.defaultValue,d.children),Ll(o)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||d.suppressHydrationWarning===!0||mE(o.textContent,u)?(d.popover!=null&&(te("beforetoggle",o),te("toggle",o)),d.onScroll!=null&&te("scroll",o),d.onScrollEnd!=null&&te("scrollend",o),d.onClick!=null&&(o.onclick=lp),o=!0):o=!1,o||Bo(r)}function tw(r){for(yi=r.return;yi;)switch(yi.tag){case 5:case 13:js=!1;return;case 27:case 3:js=!0;return;default:yi=yi.return}}function Iu(r){if(r!==yi)return!1;if(!ge)return tw(r),ge=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||P_(r.type,r.memoizedProps)),u=!u),u&&Ye&&Bo(r),tw(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(o===0){Ye=ps(r.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;r=r.nextSibling}Ye=null}}else o===27?(o=Ye,Ma(r.type)?(r=j_,j_=null,Ye=r):Ye=o):Ye=yi?ps(r.stateNode.nextSibling):null;return!0}function Ou(){Ye=yi=null,ge=!1}function ew(){var r=zo;return r!==null&&(wi===null?wi=r:wi.push.apply(wi,r),zo=null),r}function Pu(r){zo===null?zo=[r]:zo.push(r)}var by=lt(null),Fo=null,kr=null;function ma(r,o,u){K(by,o._currentValue),o._currentValue=u}function Cr(r){r._currentValue=by.current,ot(by)}function vy(r,o,u){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===u)break;r=r.return}}function xy(r,o,u,d){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var b=m.dependencies;if(b!==null){var R=m.child;b=b.firstContext;t:for(;b!==null;){var I=b;b=m;for(var W=0;W<o.length;W++)if(I.context===o[W]){b.lanes|=u,I=b.alternate,I!==null&&(I.lanes|=u),vy(b.return,u,r),d||(R=null);break t}b=I.next}}else if(m.tag===18){if(R=m.return,R===null)throw Error(i(341));R.lanes|=u,b=R.alternate,b!==null&&(b.lanes|=u),vy(R,u,r),R=null}else R=m.child;if(R!==null)R.return=m;else for(R=m;R!==null;){if(R===r){R=null;break}if(m=R.sibling,m!==null){m.return=R.return,R=m;break}R=R.return}m=R}}function Nu(r,o,u,d){r=null;for(var m=o,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var R=m.alternate;if(R===null)throw Error(i(387));if(R=R.memoizedProps,R!==null){var I=m.type;Di(m.pendingProps.value,R.value)||(r!==null?r.push(I):r=[I])}}else if(m===pt.current){if(R=m.alternate,R===null)throw Error(i(387));R.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(uh):r=[uh])}m=m.return}r!==null&&xy(o,r,u,d),o.flags|=262144}function Cd(r){for(r=r.firstContext;r!==null;){if(!Di(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function qo(r){Fo=r,kr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function ii(r){return nw(Fo,r)}function Dd(r,o){return Fo===null&&qo(r),nw(r,o)}function nw(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},kr===null){if(r===null)throw Error(i(308));kr=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else kr=kr.next=o;return u}var SO=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,d){r.push(d)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},TO=e.unstable_scheduleCallback,AO=e.unstable_NormalPriority,wn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wy(){return{controller:new SO,data:new Map,refCount:0}}function Lu(r){r.refCount--,r.refCount===0&&TO(AO,function(){r.controller.abort()})}var Vu=null,Ey=0,Jl=0,tc=null;function RO(r,o){if(Vu===null){var u=Vu=[];Ey=0,Jl=T_(),tc={status:"pending",value:void 0,then:function(d){u.push(d)}}}return Ey++,o.then(iw,iw),o}function iw(){if(--Ey===0&&Vu!==null){tc!==null&&(tc.status="fulfilled");var r=Vu;Vu=null,Jl=0,tc=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function kO(r,o){var u=[],d={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return r.then(function(){d.status="fulfilled",d.value=o;for(var m=0;m<u.length;m++)(0,u[m])(o)},function(m){for(d.status="rejected",d.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),d}var sw=V.S;V.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&RO(r,o),sw!==null&&sw(r,o)};var $o=lt(null);function Sy(){var r=$o.current;return r!==null?r:Ie.pooledCache}function Md(r,o){o===null?K($o,$o.current):K($o,o.pool)}function rw(){var r=Sy();return r===null?null:{parent:wn._currentValue,pool:r}}var ju=Error(i(460)),aw=Error(i(474)),Id=Error(i(542)),Ty={then:function(){}};function ow(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Od(){}function lw(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(Od,Od),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,uw(r),r;default:if(typeof o.status=="string")o.then(Od,Od);else{if(r=Ie,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(d){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=d}},function(d){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,uw(r),r}throw Uu=o,ju}}var Uu=null;function cw(){if(Uu===null)throw Error(i(459));var r=Uu;return Uu=null,r}function uw(r){if(r===ju||r===Id)throw Error(i(483))}var ya=!1;function Ay(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ry(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function _a(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ba(r,o,u){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(xe&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,o=Td(r),Xx(r,null,u),o}return Sd(r,d,o,u),Td(r)}function zu(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var d=o.lanes;d&=r.pendingLanes,u|=d,o.lanes=u,vo(r,u)}}function ky(r,o){var u=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var R={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?m=b=R:b=b.next=R,u=u.next}while(u!==null);b===null?m=b=o:b=b.next=o}else m=b=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var Cy=!1;function Bu(){if(Cy){var r=tc;if(r!==null)throw r}}function Fu(r,o,u,d){Cy=!1;var m=r.updateQueue;ya=!1;var b=m.firstBaseUpdate,R=m.lastBaseUpdate,I=m.shared.pending;if(I!==null){m.shared.pending=null;var W=I,et=W.next;W.next=null,R===null?b=et:R.next=et,R=W;var ht=r.alternate;ht!==null&&(ht=ht.updateQueue,I=ht.lastBaseUpdate,I!==R&&(I===null?ht.firstBaseUpdate=et:I.next=et,ht.lastBaseUpdate=W))}if(b!==null){var gt=m.baseState;R=0,ht=et=W=null,I=b;do{var it=I.lane&-536870913,rt=it!==I.lane;if(rt?(le&it)===it:(d&it)===it){it!==0&&it===Jl&&(Cy=!0),ht!==null&&(ht=ht.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});t:{var zt=r,Nt=I;it=o;var Re=u;switch(Nt.tag){case 1:if(zt=Nt.payload,typeof zt=="function"){gt=zt.call(Re,gt,it);break t}gt=zt;break t;case 3:zt.flags=zt.flags&-65537|128;case 0:if(zt=Nt.payload,it=typeof zt=="function"?zt.call(Re,gt,it):zt,it==null)break t;gt=p({},gt,it);break t;case 2:ya=!0}}it=I.callback,it!==null&&(r.flags|=64,rt&&(r.flags|=8192),rt=m.callbacks,rt===null?m.callbacks=[it]:rt.push(it))}else rt={lane:it,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ht===null?(et=ht=rt,W=gt):ht=ht.next=rt,R|=it;if(I=I.next,I===null){if(I=m.shared.pending,I===null)break;rt=I,I=rt.next,rt.next=null,m.lastBaseUpdate=rt,m.shared.pending=null}}while(!0);ht===null&&(W=gt),m.baseState=W,m.firstBaseUpdate=et,m.lastBaseUpdate=ht,b===null&&(m.shared.lanes=0),Ra|=R,r.lanes=R,r.memoizedState=gt}}function hw(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function fw(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)hw(u[r],o)}var ec=lt(null),Pd=lt(0);function dw(r,o){r=Lr,K(Pd,r),K(ec,o),Lr=r|o.baseLanes}function Dy(){K(Pd,Lr),K(ec,ec.current)}function My(){Lr=Pd.current,ot(ec),ot(Pd)}var va=0,Xt=null,Te=null,ln=null,Nd=!1,nc=!1,Ho=!1,Ld=0,qu=0,ic=null,CO=0;function tn(){throw Error(i(321))}function Iy(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!Di(r[u],o[u]))return!1;return!0}function Oy(r,o,u,d,m,b){return va=b,Xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,V.H=r===null||r.memoizedState===null?Xw:Qw,Ho=!1,b=u(d,m),Ho=!1,nc&&(b=gw(o,u,d,m)),pw(r),b}function pw(r){V.H=Fd;var o=Te!==null&&Te.next!==null;if(va=0,ln=Te=Xt=null,Nd=!1,qu=0,ic=null,o)throw Error(i(300));r===null||In||(r=r.dependencies,r!==null&&Cd(r)&&(In=!0))}function gw(r,o,u,d){Xt=r;var m=0;do{if(nc&&(ic=null),qu=0,nc=!1,25<=m)throw Error(i(301));if(m+=1,ln=Te=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}V.H=LO,b=o(u,d)}while(nc);return b}function DO(){var r=V.H,o=r.useState()[0];return o=typeof o.then=="function"?$u(o):o,r=r.useState()[0],(Te!==null?Te.memoizedState:null)!==r&&(Xt.flags|=1024),o}function Py(){var r=Ld!==0;return Ld=0,r}function Ny(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function Ly(r){if(Nd){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Nd=!1}va=0,ln=Te=Xt=null,nc=!1,qu=Ld=0,ic=null}function vi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Xt.memoizedState=ln=r:ln=ln.next=r,ln}function cn(){if(Te===null){var r=Xt.alternate;r=r!==null?r.memoizedState:null}else r=Te.next;var o=ln===null?Xt.memoizedState:ln.next;if(o!==null)ln=o,Te=r;else{if(r===null)throw Xt.alternate===null?Error(i(467)):Error(i(310));Te=r,r={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},ln===null?Xt.memoizedState=ln=r:ln=ln.next=r}return ln}function Vy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $u(r){var o=qu;return qu+=1,ic===null&&(ic=[]),r=lw(ic,r,o),o=Xt,(ln===null?o.memoizedState:ln.next)===null&&(o=o.alternate,V.H=o===null||o.memoizedState===null?Xw:Qw),r}function Vd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return $u(r);if(r.$$typeof===L)return ii(r)}throw Error(i(438,String(r)))}function jy(r){var o=null,u=Xt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var d=Xt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Vy(),Xt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),d=0;d<r;d++)u[d]=z;return o.index++,u}function Dr(r,o){return typeof o=="function"?o(r):o}function jd(r){var o=cn();return Uy(o,Te,r)}function Uy(r,o,u){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=u;var m=r.baseQueue,b=d.pending;if(b!==null){if(m!==null){var R=m.next;m.next=b.next,b.next=R}o.baseQueue=m=b,d.pending=null}if(b=r.baseState,m===null)r.memoizedState=b;else{o=m.next;var I=R=null,W=null,et=o,ht=!1;do{var gt=et.lane&-536870913;if(gt!==et.lane?(le&gt)===gt:(va&gt)===gt){var it=et.revertLane;if(it===0)W!==null&&(W=W.next={lane:0,revertLane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),gt===Jl&&(ht=!0);else if((va&it)===it){et=et.next,it===Jl&&(ht=!0);continue}else gt={lane:0,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},W===null?(I=W=gt,R=b):W=W.next=gt,Xt.lanes|=it,Ra|=it;gt=et.action,Ho&&u(b,gt),b=et.hasEagerState?et.eagerState:u(b,gt)}else it={lane:gt,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},W===null?(I=W=it,R=b):W=W.next=it,Xt.lanes|=gt,Ra|=gt;et=et.next}while(et!==null&&et!==o);if(W===null?R=b:W.next=I,!Di(b,r.memoizedState)&&(In=!0,ht&&(u=tc,u!==null)))throw u;r.memoizedState=b,r.baseState=R,r.baseQueue=W,d.lastRenderedState=b}return m===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function zy(r){var o=cn(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var d=u.dispatch,m=u.pending,b=o.memoizedState;if(m!==null){u.pending=null;var R=m=m.next;do b=r(b,R.action),R=R.next;while(R!==m);Di(b,o.memoizedState)||(In=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,d]}function mw(r,o,u){var d=Xt,m=cn(),b=ge;if(b){if(u===void 0)throw Error(i(407));u=u()}else u=o();var R=!Di((Te||m).memoizedState,u);R&&(m.memoizedState=u,In=!0),m=m.queue;var I=bw.bind(null,d,m,r);if(Hu(2048,8,I,[r]),m.getSnapshot!==o||R||ln!==null&&ln.memoizedState.tag&1){if(d.flags|=2048,sc(9,Ud(),_w.bind(null,d,m,u,o),null),Ie===null)throw Error(i(349));b||(va&124)!==0||yw(d,o,u)}return u}function yw(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=Xt.updateQueue,o===null?(o=Vy(),Xt.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function _w(r,o,u,d){o.value=u,o.getSnapshot=d,vw(o)&&xw(r)}function bw(r,o,u){return u(function(){vw(o)&&xw(r)})}function vw(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!Di(r,u)}catch{return!0}}function xw(r){var o=Kl(r,2);o!==null&&Li(o,r,2)}function By(r){var o=vi();if(typeof r=="function"){var u=r;if(r=u(),Ho){di(!0);try{u()}finally{di(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:r},o}function ww(r,o,u,d){return r.baseState=u,Uy(r,Te,typeof d=="function"?d:Dr)}function MO(r,o,u,d,m){if(Bd(r))throw Error(i(485));if(r=o.action,r!==null){var b={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){b.listeners.push(R)}};V.T!==null?u(!0):b.isTransition=!1,d(b),u=o.pending,u===null?(b.next=o.pending=b,Ew(o,b)):(b.next=u.next,o.pending=u.next=b)}}function Ew(r,o){var u=o.action,d=o.payload,m=r.state;if(o.isTransition){var b=V.T,R={};V.T=R;try{var I=u(m,d),W=V.S;W!==null&&W(R,I),Sw(r,o,I)}catch(et){Fy(r,o,et)}finally{V.T=b}}else try{b=u(m,d),Sw(r,o,b)}catch(et){Fy(r,o,et)}}function Sw(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){Tw(r,o,d)},function(d){return Fy(r,o,d)}):Tw(r,o,u)}function Tw(r,o,u){o.status="fulfilled",o.value=u,Aw(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,Ew(r,u)))}function Fy(r,o,u){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=u,Aw(o),o=o.next;while(o!==d)}r.action=null}function Aw(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function Rw(r,o){return o}function kw(r,o){if(ge){var u=Ie.formState;if(u!==null){t:{var d=Xt;if(ge){if(Ye){e:{for(var m=Ye,b=js;m.nodeType!==8;){if(!b){m=null;break e}if(m=ps(m.nextSibling),m===null){m=null;break e}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){Ye=ps(m.nextSibling),d=m.data==="F!";break t}}Bo(d)}d=!1}d&&(o=u[0])}}return u=vi(),u.memoizedState=u.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rw,lastRenderedState:o},u.queue=d,u=Yw.bind(null,Xt,d),d.dispatch=u,d=By(!1),b=Yy.bind(null,Xt,!1,d.queue),d=vi(),m={state:o,dispatch:null,action:r,pending:null},d.queue=m,u=MO.bind(null,Xt,m,b,u),m.dispatch=u,d.memoizedState=r,[o,u,!1]}function Cw(r){var o=cn();return Dw(o,Te,r)}function Dw(r,o,u){if(o=Uy(r,o,Rw)[0],r=jd(Dr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=$u(o)}catch(R){throw R===ju?Id:R}else d=o;o=cn();var m=o.queue,b=m.dispatch;return u!==o.memoizedState&&(Xt.flags|=2048,sc(9,Ud(),IO.bind(null,m,u),null)),[d,b,r]}function IO(r,o){r.action=o}function Mw(r){var o=cn(),u=Te;if(u!==null)return Dw(o,u,r);cn(),o=o.memoizedState,u=cn();var d=u.queue.dispatch;return u.memoizedState=r,[o,d,!1]}function sc(r,o,u,d){return r={tag:r,create:u,deps:d,inst:o,next:null},o=Xt.updateQueue,o===null&&(o=Vy(),Xt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(d=u.next,u.next=r,r.next=d,o.lastEffect=r),r}function Ud(){return{destroy:void 0,resource:void 0}}function Iw(){return cn().memoizedState}function zd(r,o,u,d){var m=vi();d=d===void 0?null:d,Xt.flags|=r,m.memoizedState=sc(1|o,Ud(),u,d)}function Hu(r,o,u,d){var m=cn();d=d===void 0?null:d;var b=m.memoizedState.inst;Te!==null&&d!==null&&Iy(d,Te.memoizedState.deps)?m.memoizedState=sc(o,b,u,d):(Xt.flags|=r,m.memoizedState=sc(1|o,b,u,d))}function Ow(r,o){zd(8390656,8,r,o)}function Pw(r,o){Hu(2048,8,r,o)}function Nw(r,o){return Hu(4,2,r,o)}function Lw(r,o){return Hu(4,4,r,o)}function Vw(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function jw(r,o,u){u=u!=null?u.concat([r]):null,Hu(4,4,Vw.bind(null,o,r),u)}function qy(){}function Uw(r,o){var u=cn();o=o===void 0?null:o;var d=u.memoizedState;return o!==null&&Iy(o,d[1])?d[0]:(u.memoizedState=[r,o],r)}function zw(r,o){var u=cn();o=o===void 0?null:o;var d=u.memoizedState;if(o!==null&&Iy(o,d[1]))return d[0];if(d=r(),Ho){di(!0);try{r()}finally{di(!1)}}return u.memoizedState=[d,o],d}function $y(r,o,u){return u===void 0||(va&1073741824)!==0?r.memoizedState=o:(r.memoizedState=u,r=q1(),Xt.lanes|=r,Ra|=r,u)}function Bw(r,o,u,d){return Di(u,o)?u:ec.current!==null?(r=$y(r,u,d),Di(r,o)||(In=!0),r):(va&42)===0?(In=!0,r.memoizedState=u):(r=q1(),Xt.lanes|=r,Ra|=r,o)}function Fw(r,o,u,d,m){var b=Z.p;Z.p=b!==0&&8>b?b:8;var R=V.T,I={};V.T=I,Yy(r,!1,o,u);try{var W=m(),et=V.S;if(et!==null&&et(I,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var ht=kO(W,d);Wu(r,o,ht,Ni(r))}else Wu(r,o,d,Ni(r))}catch(gt){Wu(r,o,{then:function(){},status:"rejected",reason:gt},Ni())}finally{Z.p=b,V.T=R}}function OO(){}function Hy(r,o,u,d){if(r.tag!==5)throw Error(i(476));var m=qw(r).queue;Fw(r,m,o,ct,u===null?OO:function(){return $w(r),u(d)})}function qw(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:ct},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function $w(r){var o=qw(r).next.queue;Wu(r,o,{},Ni())}function Wy(){return ii(uh)}function Hw(){return cn().memoizedState}function Ww(){return cn().memoizedState}function PO(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=Ni();r=_a(u);var d=ba(o,r,u);d!==null&&(Li(d,o,u),zu(d,o,u)),o={cache:wy()},r.payload=o;return}o=o.return}}function NO(r,o,u){var d=Ni();u={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Bd(r)?Gw(o,u):(u=fy(r,o,u,d),u!==null&&(Li(u,r,d),Kw(u,o,d)))}function Yw(r,o,u){var d=Ni();Wu(r,o,u,d)}function Wu(r,o,u,d){var m={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Bd(r))Gw(o,m);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var R=o.lastRenderedState,I=b(R,u);if(m.hasEagerState=!0,m.eagerState=I,Di(I,R))return Sd(r,o,m,0),Ie===null&&Ed(),!1}catch{}finally{}if(u=fy(r,o,m,d),u!==null)return Li(u,r,d),Kw(u,o,d),!0}return!1}function Yy(r,o,u,d){if(d={lane:2,revertLane:T_(),action:d,hasEagerState:!1,eagerState:null,next:null},Bd(r)){if(o)throw Error(i(479))}else o=fy(r,u,d,2),o!==null&&Li(o,r,2)}function Bd(r){var o=r.alternate;return r===Xt||o!==null&&o===Xt}function Gw(r,o){nc=Nd=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function Kw(r,o,u){if((u&4194048)!==0){var d=o.lanes;d&=r.pendingLanes,u|=d,o.lanes=u,vo(r,u)}}var Fd={readContext:ii,use:Vd,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn},Xw={readContext:ii,use:Vd,useCallback:function(r,o){return vi().memoizedState=[r,o===void 0?null:o],r},useContext:ii,useEffect:Ow,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,zd(4194308,4,Vw.bind(null,o,r),u)},useLayoutEffect:function(r,o){return zd(4194308,4,r,o)},useInsertionEffect:function(r,o){zd(4,2,r,o)},useMemo:function(r,o){var u=vi();o=o===void 0?null:o;var d=r();if(Ho){di(!0);try{r()}finally{di(!1)}}return u.memoizedState=[d,o],d},useReducer:function(r,o,u){var d=vi();if(u!==void 0){var m=u(o);if(Ho){di(!0);try{u(o)}finally{di(!1)}}}else m=o;return d.memoizedState=d.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},d.queue=r,r=r.dispatch=NO.bind(null,Xt,r),[d.memoizedState,r]},useRef:function(r){var o=vi();return r={current:r},o.memoizedState=r},useState:function(r){r=By(r);var o=r.queue,u=Yw.bind(null,Xt,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:qy,useDeferredValue:function(r,o){var u=vi();return $y(u,r,o)},useTransition:function(){var r=By(!1);return r=Fw.bind(null,Xt,r.queue,!0,!1),vi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var d=Xt,m=vi();if(ge){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),Ie===null)throw Error(i(349));(le&124)!==0||yw(d,o,u)}m.memoizedState=u;var b={value:u,getSnapshot:o};return m.queue=b,Ow(bw.bind(null,d,b,r),[r]),d.flags|=2048,sc(9,Ud(),_w.bind(null,d,b,u,o),null),u},useId:function(){var r=vi(),o=Ie.identifierPrefix;if(ge){var u=Rr,d=Ar;u=(d&~(1<<32-kn(d)-1)).toString(32)+u,o="«"+o+"R"+u,u=Ld++,0<u&&(o+="H"+u.toString(32)),o+="»"}else u=CO++,o="«"+o+"r"+u.toString(32)+"»";return r.memoizedState=o},useHostTransitionStatus:Wy,useFormState:kw,useActionState:kw,useOptimistic:function(r){var o=vi();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Yy.bind(null,Xt,!0,u),u.dispatch=o,[r,o]},useMemoCache:jy,useCacheRefresh:function(){return vi().memoizedState=PO.bind(null,Xt)}},Qw={readContext:ii,use:Vd,useCallback:Uw,useContext:ii,useEffect:Pw,useImperativeHandle:jw,useInsertionEffect:Nw,useLayoutEffect:Lw,useMemo:zw,useReducer:jd,useRef:Iw,useState:function(){return jd(Dr)},useDebugValue:qy,useDeferredValue:function(r,o){var u=cn();return Bw(u,Te.memoizedState,r,o)},useTransition:function(){var r=jd(Dr)[0],o=cn().memoizedState;return[typeof r=="boolean"?r:$u(r),o]},useSyncExternalStore:mw,useId:Hw,useHostTransitionStatus:Wy,useFormState:Cw,useActionState:Cw,useOptimistic:function(r,o){var u=cn();return ww(u,Te,r,o)},useMemoCache:jy,useCacheRefresh:Ww},LO={readContext:ii,use:Vd,useCallback:Uw,useContext:ii,useEffect:Pw,useImperativeHandle:jw,useInsertionEffect:Nw,useLayoutEffect:Lw,useMemo:zw,useReducer:zy,useRef:Iw,useState:function(){return zy(Dr)},useDebugValue:qy,useDeferredValue:function(r,o){var u=cn();return Te===null?$y(u,r,o):Bw(u,Te.memoizedState,r,o)},useTransition:function(){var r=zy(Dr)[0],o=cn().memoizedState;return[typeof r=="boolean"?r:$u(r),o]},useSyncExternalStore:mw,useId:Hw,useHostTransitionStatus:Wy,useFormState:Mw,useActionState:Mw,useOptimistic:function(r,o){var u=cn();return Te!==null?ww(u,Te,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:jy,useCacheRefresh:Ww},rc=null,Yu=0;function qd(r){var o=Yu;return Yu+=1,rc===null&&(rc=[]),lw(rc,r,o)}function Gu(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function $d(r,o){throw o.$$typeof===y?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function Zw(r){var o=r._init;return o(r._payload)}function Jw(r){function o(Q,G){if(r){var tt=Q.deletions;tt===null?(Q.deletions=[G],Q.flags|=16):tt.push(G)}}function u(Q,G){if(!r)return null;for(;G!==null;)o(Q,G),G=G.sibling;return null}function d(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function m(Q,G){return Q=Tr(Q,G),Q.index=0,Q.sibling=null,Q}function b(Q,G,tt){return Q.index=tt,r?(tt=Q.alternate,tt!==null?(tt=tt.index,tt<G?(Q.flags|=67108866,G):tt):(Q.flags|=67108866,G)):(Q.flags|=1048576,G)}function R(Q){return r&&Q.alternate===null&&(Q.flags|=67108866),Q}function I(Q,G,tt,ft){return G===null||G.tag!==6?(G=py(tt,Q.mode,ft),G.return=Q,G):(G=m(G,tt),G.return=Q,G)}function W(Q,G,tt,ft){var Ct=tt.type;return Ct===E?ht(Q,G,tt.props.children,ft,tt.key):G!==null&&(G.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===k&&Zw(Ct)===G.type)?(G=m(G,tt.props),Gu(G,tt),G.return=Q,G):(G=Ad(tt.type,tt.key,tt.props,null,Q.mode,ft),Gu(G,tt),G.return=Q,G)}function et(Q,G,tt,ft){return G===null||G.tag!==4||G.stateNode.containerInfo!==tt.containerInfo||G.stateNode.implementation!==tt.implementation?(G=gy(tt,Q.mode,ft),G.return=Q,G):(G=m(G,tt.children||[]),G.return=Q,G)}function ht(Q,G,tt,ft,Ct){return G===null||G.tag!==7?(G=Vo(tt,Q.mode,ft,Ct),G.return=Q,G):(G=m(G,tt),G.return=Q,G)}function gt(Q,G,tt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=py(""+G,Q.mode,tt),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case _:return tt=Ad(G.type,G.key,G.props,null,Q.mode,tt),Gu(tt,G),tt.return=Q,tt;case x:return G=gy(G,Q.mode,tt),G.return=Q,G;case k:var ft=G._init;return G=ft(G._payload),gt(Q,G,tt)}if(X(G)||$(G))return G=Vo(G,Q.mode,tt,null),G.return=Q,G;if(typeof G.then=="function")return gt(Q,qd(G),tt);if(G.$$typeof===L)return gt(Q,Dd(Q,G),tt);$d(Q,G)}return null}function it(Q,G,tt,ft){var Ct=G!==null?G.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return Ct!==null?null:I(Q,G,""+tt,ft);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case _:return tt.key===Ct?W(Q,G,tt,ft):null;case x:return tt.key===Ct?et(Q,G,tt,ft):null;case k:return Ct=tt._init,tt=Ct(tt._payload),it(Q,G,tt,ft)}if(X(tt)||$(tt))return Ct!==null?null:ht(Q,G,tt,ft,null);if(typeof tt.then=="function")return it(Q,G,qd(tt),ft);if(tt.$$typeof===L)return it(Q,G,Dd(Q,tt),ft);$d(Q,tt)}return null}function rt(Q,G,tt,ft,Ct){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return Q=Q.get(tt)||null,I(G,Q,""+ft,Ct);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case _:return Q=Q.get(ft.key===null?tt:ft.key)||null,W(G,Q,ft,Ct);case x:return Q=Q.get(ft.key===null?tt:ft.key)||null,et(G,Q,ft,Ct);case k:var Qt=ft._init;return ft=Qt(ft._payload),rt(Q,G,tt,ft,Ct)}if(X(ft)||$(ft))return Q=Q.get(tt)||null,ht(G,Q,ft,Ct,null);if(typeof ft.then=="function")return rt(Q,G,tt,qd(ft),Ct);if(ft.$$typeof===L)return rt(Q,G,tt,Dd(G,ft),Ct);$d(G,ft)}return null}function zt(Q,G,tt,ft){for(var Ct=null,Qt=null,Dt=G,Lt=G=0,Pn=null;Dt!==null&&Lt<tt.length;Lt++){Dt.index>Lt?(Pn=Dt,Dt=null):Pn=Dt.sibling;var fe=it(Q,Dt,tt[Lt],ft);if(fe===null){Dt===null&&(Dt=Pn);break}r&&Dt&&fe.alternate===null&&o(Q,Dt),G=b(fe,G,Lt),Qt===null?Ct=fe:Qt.sibling=fe,Qt=fe,Dt=Pn}if(Lt===tt.length)return u(Q,Dt),ge&&Uo(Q,Lt),Ct;if(Dt===null){for(;Lt<tt.length;Lt++)Dt=gt(Q,tt[Lt],ft),Dt!==null&&(G=b(Dt,G,Lt),Qt===null?Ct=Dt:Qt.sibling=Dt,Qt=Dt);return ge&&Uo(Q,Lt),Ct}for(Dt=d(Dt);Lt<tt.length;Lt++)Pn=rt(Dt,Q,Lt,tt[Lt],ft),Pn!==null&&(r&&Pn.alternate!==null&&Dt.delete(Pn.key===null?Lt:Pn.key),G=b(Pn,G,Lt),Qt===null?Ct=Pn:Qt.sibling=Pn,Qt=Pn);return r&&Dt.forEach(function(La){return o(Q,La)}),ge&&Uo(Q,Lt),Ct}function Nt(Q,G,tt,ft){if(tt==null)throw Error(i(151));for(var Ct=null,Qt=null,Dt=G,Lt=G=0,Pn=null,fe=tt.next();Dt!==null&&!fe.done;Lt++,fe=tt.next()){Dt.index>Lt?(Pn=Dt,Dt=null):Pn=Dt.sibling;var La=it(Q,Dt,fe.value,ft);if(La===null){Dt===null&&(Dt=Pn);break}r&&Dt&&La.alternate===null&&o(Q,Dt),G=b(La,G,Lt),Qt===null?Ct=La:Qt.sibling=La,Qt=La,Dt=Pn}if(fe.done)return u(Q,Dt),ge&&Uo(Q,Lt),Ct;if(Dt===null){for(;!fe.done;Lt++,fe=tt.next())fe=gt(Q,fe.value,ft),fe!==null&&(G=b(fe,G,Lt),Qt===null?Ct=fe:Qt.sibling=fe,Qt=fe);return ge&&Uo(Q,Lt),Ct}for(Dt=d(Dt);!fe.done;Lt++,fe=tt.next())fe=rt(Dt,Q,Lt,fe.value,ft),fe!==null&&(r&&fe.alternate!==null&&Dt.delete(fe.key===null?Lt:fe.key),G=b(fe,G,Lt),Qt===null?Ct=fe:Qt.sibling=fe,Qt=fe);return r&&Dt.forEach(function(V2){return o(Q,V2)}),ge&&Uo(Q,Lt),Ct}function Re(Q,G,tt,ft){if(typeof tt=="object"&&tt!==null&&tt.type===E&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case _:t:{for(var Ct=tt.key;G!==null;){if(G.key===Ct){if(Ct=tt.type,Ct===E){if(G.tag===7){u(Q,G.sibling),ft=m(G,tt.props.children),ft.return=Q,Q=ft;break t}}else if(G.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===k&&Zw(Ct)===G.type){u(Q,G.sibling),ft=m(G,tt.props),Gu(ft,tt),ft.return=Q,Q=ft;break t}u(Q,G);break}else o(Q,G);G=G.sibling}tt.type===E?(ft=Vo(tt.props.children,Q.mode,ft,tt.key),ft.return=Q,Q=ft):(ft=Ad(tt.type,tt.key,tt.props,null,Q.mode,ft),Gu(ft,tt),ft.return=Q,Q=ft)}return R(Q);case x:t:{for(Ct=tt.key;G!==null;){if(G.key===Ct)if(G.tag===4&&G.stateNode.containerInfo===tt.containerInfo&&G.stateNode.implementation===tt.implementation){u(Q,G.sibling),ft=m(G,tt.children||[]),ft.return=Q,Q=ft;break t}else{u(Q,G);break}else o(Q,G);G=G.sibling}ft=gy(tt,Q.mode,ft),ft.return=Q,Q=ft}return R(Q);case k:return Ct=tt._init,tt=Ct(tt._payload),Re(Q,G,tt,ft)}if(X(tt))return zt(Q,G,tt,ft);if($(tt)){if(Ct=$(tt),typeof Ct!="function")throw Error(i(150));return tt=Ct.call(tt),Nt(Q,G,tt,ft)}if(typeof tt.then=="function")return Re(Q,G,qd(tt),ft);if(tt.$$typeof===L)return Re(Q,G,Dd(Q,tt),ft);$d(Q,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,G!==null&&G.tag===6?(u(Q,G.sibling),ft=m(G,tt),ft.return=Q,Q=ft):(u(Q,G),ft=py(tt,Q.mode,ft),ft.return=Q,Q=ft),R(Q)):u(Q,G)}return function(Q,G,tt,ft){try{Yu=0;var Ct=Re(Q,G,tt,ft);return rc=null,Ct}catch(Dt){if(Dt===ju||Dt===Id)throw Dt;var Qt=Mi(29,Dt,null,Q.mode);return Qt.lanes=ft,Qt.return=Q,Qt}finally{}}}var ac=Jw(!0),t1=Jw(!1),ts=lt(null),Us=null;function xa(r){var o=r.alternate;K(En,En.current&1),K(ts,r),Us===null&&(o===null||ec.current!==null||o.memoizedState!==null)&&(Us=r)}function e1(r){if(r.tag===22){if(K(En,En.current),K(ts,r),Us===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Us=r)}}else wa()}function wa(){K(En,En.current),K(ts,ts.current)}function Mr(r){ot(ts),Us===r&&(Us=null),ot(En)}var En=lt(0);function Hd(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||V_(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Gy(r,o,u,d){o=r.memoizedState,u=u(d,o),u=u==null?o:p({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Ky={enqueueSetState:function(r,o,u){r=r._reactInternals;var d=Ni(),m=_a(d);m.payload=o,u!=null&&(m.callback=u),o=ba(r,m,d),o!==null&&(Li(o,r,d),zu(o,r,d))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var d=Ni(),m=_a(d);m.tag=1,m.payload=o,u!=null&&(m.callback=u),o=ba(r,m,d),o!==null&&(Li(o,r,d),zu(o,r,d))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=Ni(),d=_a(u);d.tag=2,o!=null&&(d.callback=o),o=ba(r,d,u),o!==null&&(Li(o,r,u),zu(o,r,u))}};function n1(r,o,u,d,m,b,R){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,b,R):o.prototype&&o.prototype.isPureReactComponent?!Du(u,d)||!Du(m,b):!0}function i1(r,o,u,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==r&&Ky.enqueueReplaceState(o,o.state,null)}function Wo(r,o){var u=o;if("ref"in o){u={};for(var d in o)d!=="ref"&&(u[d]=o[d])}if(r=r.defaultProps){u===o&&(u=p({},u));for(var m in r)u[m]===void 0&&(u[m]=r[m])}return u}var Wd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function s1(r){Wd(r)}function r1(r){console.error(r)}function a1(r){Wd(r)}function Yd(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function o1(r,o,u){try{var d=r.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Xy(r,o,u){return u=_a(u),u.tag=3,u.payload={element:null},u.callback=function(){Yd(r,o)},u}function l1(r){return r=_a(r),r.tag=3,r}function c1(r,o,u,d){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var b=d.value;r.payload=function(){return m(b)},r.callback=function(){o1(o,u,d)}}var R=u.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(r.callback=function(){o1(o,u,d),typeof m!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var I=d.stack;this.componentDidCatch(d.value,{componentStack:I!==null?I:""})})}function VO(r,o,u,d,m){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=u.alternate,o!==null&&Nu(o,u,m,!0),u=ts.current,u!==null){switch(u.tag){case 13:return Us===null?v_():u.alternate===null&&Ge===0&&(Ge=3),u.flags&=-257,u.flags|=65536,u.lanes=m,d===Ty?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([d]):o.add(d),w_(r,d,m)),!1;case 22:return u.flags|=65536,d===Ty?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([d]):u.add(d)),w_(r,d,m)),!1}throw Error(i(435,u.tag))}return w_(r,d,m),v_(),!1}if(ge)return o=ts.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,d!==_y&&(r=Error(i(422),{cause:d}),Pu(Xi(r,u)))):(d!==_y&&(o=Error(i(423),{cause:d}),Pu(Xi(o,u))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,d=Xi(d,u),m=Xy(r.stateNode,d,m),ky(r,m),Ge!==4&&(Ge=2)),!1;var b=Error(i(520),{cause:d});if(b=Xi(b,u),eh===null?eh=[b]:eh.push(b),Ge!==4&&(Ge=2),o===null)return!0;d=Xi(d,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=m&-m,u.lanes|=r,r=Xy(u.stateNode,d,r),ky(u,r),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ka===null||!ka.has(b))))return u.flags|=65536,m&=-m,u.lanes|=m,m=l1(m),c1(m,r,u,d),ky(u,m),!1}u=u.return}while(u!==null);return!1}var u1=Error(i(461)),In=!1;function Wn(r,o,u,d){o.child=r===null?t1(o,null,u,d):ac(o,r.child,u,d)}function h1(r,o,u,d,m){u=u.render;var b=o.ref;if("ref"in d){var R={};for(var I in d)I!=="ref"&&(R[I]=d[I])}else R=d;return qo(o),d=Oy(r,o,u,R,b,m),I=Py(),r!==null&&!In?(Ny(r,o,m),Ir(r,o,m)):(ge&&I&&my(o),o.flags|=1,Wn(r,o,d,m),o.child)}function f1(r,o,u,d,m){if(r===null){var b=u.type;return typeof b=="function"&&!dy(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,d1(r,o,b,d,m)):(r=Ad(u.type,null,d,o,o.mode,m),r.ref=o.ref,r.return=o,o.child=r)}if(b=r.child,!s_(r,m)){var R=b.memoizedProps;if(u=u.compare,u=u!==null?u:Du,u(R,d)&&r.ref===o.ref)return Ir(r,o,m)}return o.flags|=1,r=Tr(b,d),r.ref=o.ref,r.return=o,o.child=r}function d1(r,o,u,d,m){if(r!==null){var b=r.memoizedProps;if(Du(b,d)&&r.ref===o.ref)if(In=!1,o.pendingProps=d=b,s_(r,m))(r.flags&131072)!==0&&(In=!0);else return o.lanes=r.lanes,Ir(r,o,m)}return Qy(r,o,u,d,m)}function p1(r,o,u){var d=o.pendingProps,m=d.children,b=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=b!==null?b.baseLanes|u:u,r!==null){for(m=o.child=r.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;o.childLanes=b&~d}else o.childLanes=0,o.child=null;return g1(r,o,d,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Md(o,b!==null?b.cachePool:null),b!==null?dw(o,b):Dy(),e1(o);else return o.lanes=o.childLanes=536870912,g1(r,o,b!==null?b.baseLanes|u:u,u)}else b!==null?(Md(o,b.cachePool),dw(o,b),wa(),o.memoizedState=null):(r!==null&&Md(o,null),Dy(),wa());return Wn(r,o,m,u),o.child}function g1(r,o,u,d){var m=Sy();return m=m===null?null:{parent:wn._currentValue,pool:m},o.memoizedState={baseLanes:u,cachePool:m},r!==null&&Md(o,null),Dy(),e1(o),r!==null&&Nu(r,o,d,!0),null}function Gd(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function Qy(r,o,u,d,m){return qo(o),u=Oy(r,o,u,d,void 0,m),d=Py(),r!==null&&!In?(Ny(r,o,m),Ir(r,o,m)):(ge&&d&&my(o),o.flags|=1,Wn(r,o,u,m),o.child)}function m1(r,o,u,d,m,b){return qo(o),o.updateQueue=null,u=gw(o,d,u,m),pw(r),d=Py(),r!==null&&!In?(Ny(r,o,b),Ir(r,o,b)):(ge&&d&&my(o),o.flags|=1,Wn(r,o,u,b),o.child)}function y1(r,o,u,d,m){if(qo(o),o.stateNode===null){var b=Xl,R=u.contextType;typeof R=="object"&&R!==null&&(b=ii(R)),b=new u(d,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Ky,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=d,b.state=o.memoizedState,b.refs={},Ay(o),R=u.contextType,b.context=typeof R=="object"&&R!==null?ii(R):Xl,b.state=o.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(Gy(o,u,R,d),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(R=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),R!==b.state&&Ky.enqueueReplaceState(b,b.state,null),Fu(o,d,b,m),Bu(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(r===null){b=o.stateNode;var I=o.memoizedProps,W=Wo(u,I);b.props=W;var et=b.context,ht=u.contextType;R=Xl,typeof ht=="object"&&ht!==null&&(R=ii(ht));var gt=u.getDerivedStateFromProps;ht=typeof gt=="function"||typeof b.getSnapshotBeforeUpdate=="function",I=o.pendingProps!==I,ht||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(I||et!==R)&&i1(o,b,d,R),ya=!1;var it=o.memoizedState;b.state=it,Fu(o,d,b,m),Bu(),et=o.memoizedState,I||it!==et||ya?(typeof gt=="function"&&(Gy(o,u,gt,d),et=o.memoizedState),(W=ya||n1(o,u,W,d,it,et,R))?(ht||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=et),b.props=d,b.state=et,b.context=R,d=W):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{b=o.stateNode,Ry(r,o),R=o.memoizedProps,ht=Wo(u,R),b.props=ht,gt=o.pendingProps,it=b.context,et=u.contextType,W=Xl,typeof et=="object"&&et!==null&&(W=ii(et)),I=u.getDerivedStateFromProps,(et=typeof I=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==gt||it!==W)&&i1(o,b,d,W),ya=!1,it=o.memoizedState,b.state=it,Fu(o,d,b,m),Bu();var rt=o.memoizedState;R!==gt||it!==rt||ya||r!==null&&r.dependencies!==null&&Cd(r.dependencies)?(typeof I=="function"&&(Gy(o,u,I,d),rt=o.memoizedState),(ht=ya||n1(o,u,ht,d,it,rt,W)||r!==null&&r.dependencies!==null&&Cd(r.dependencies))?(et||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,rt,W),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,rt,W)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||R===r.memoizedProps&&it===r.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&it===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=rt),b.props=d,b.state=rt,b.context=W,d=ht):(typeof b.componentDidUpdate!="function"||R===r.memoizedProps&&it===r.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&it===r.memoizedState||(o.flags|=1024),d=!1)}return b=d,Gd(r,o),d=(o.flags&128)!==0,b||d?(b=o.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,r!==null&&d?(o.child=ac(o,r.child,null,m),o.child=ac(o,null,u,m)):Wn(r,o,u,m),o.memoizedState=b.state,r=o.child):r=Ir(r,o,m),r}function _1(r,o,u,d){return Ou(),o.flags|=256,Wn(r,o,u,d),o.child}var Zy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jy(r){return{baseLanes:r,cachePool:rw()}}function t_(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=es),r}function b1(r,o,u){var d=o.pendingProps,m=!1,b=(o.flags&128)!==0,R;if((R=b)||(R=r!==null&&r.memoizedState===null?!1:(En.current&2)!==0),R&&(m=!0,o.flags&=-129),R=(o.flags&32)!==0,o.flags&=-33,r===null){if(ge){if(m?xa(o):wa(),ge){var I=Ye,W;if(W=I){t:{for(W=I,I=js;W.nodeType!==8;){if(!I){I=null;break t}if(W=ps(W.nextSibling),W===null){I=null;break t}}I=W}I!==null?(o.memoizedState={dehydrated:I,treeContext:jo!==null?{id:Ar,overflow:Rr}:null,retryLane:536870912,hydrationErrors:null},W=Mi(18,null,null,0),W.stateNode=I,W.return=o,o.child=W,yi=o,Ye=null,W=!0):W=!1}W||Bo(o)}if(I=o.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return V_(I)?o.lanes=32:o.lanes=536870912,null;Mr(o)}return I=d.children,d=d.fallback,m?(wa(),m=o.mode,I=Kd({mode:"hidden",children:I},m),d=Vo(d,m,u,null),I.return=o,d.return=o,I.sibling=d,o.child=I,m=o.child,m.memoizedState=Jy(u),m.childLanes=t_(r,R,u),o.memoizedState=Zy,d):(xa(o),e_(o,I))}if(W=r.memoizedState,W!==null&&(I=W.dehydrated,I!==null)){if(b)o.flags&256?(xa(o),o.flags&=-257,o=n_(r,o,u)):o.memoizedState!==null?(wa(),o.child=r.child,o.flags|=128,o=null):(wa(),m=d.fallback,I=o.mode,d=Kd({mode:"visible",children:d.children},I),m=Vo(m,I,u,null),m.flags|=2,d.return=o,m.return=o,d.sibling=m,o.child=d,ac(o,r.child,null,u),d=o.child,d.memoizedState=Jy(u),d.childLanes=t_(r,R,u),o.memoizedState=Zy,o=m);else if(xa(o),V_(I)){if(R=I.nextSibling&&I.nextSibling.dataset,R)var et=R.dgst;R=et,d=Error(i(419)),d.stack="",d.digest=R,Pu({value:d,source:null,stack:null}),o=n_(r,o,u)}else if(In||Nu(r,o,u,!1),R=(u&r.childLanes)!==0,In||R){if(R=Ie,R!==null&&(d=u&-u,d=(d&42)!==0?1:Rs(d),d=(d&(R.suspendedLanes|u))!==0?0:d,d!==0&&d!==W.retryLane))throw W.retryLane=d,Kl(r,d),Li(R,r,d),u1;I.data==="$?"||v_(),o=n_(r,o,u)}else I.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=W.treeContext,Ye=ps(I.nextSibling),yi=o,ge=!0,zo=null,js=!1,r!==null&&(Zi[Ji++]=Ar,Zi[Ji++]=Rr,Zi[Ji++]=jo,Ar=r.id,Rr=r.overflow,jo=o),o=e_(o,d.children),o.flags|=4096);return o}return m?(wa(),m=d.fallback,I=o.mode,W=r.child,et=W.sibling,d=Tr(W,{mode:"hidden",children:d.children}),d.subtreeFlags=W.subtreeFlags&65011712,et!==null?m=Tr(et,m):(m=Vo(m,I,u,null),m.flags|=2),m.return=o,d.return=o,d.sibling=m,o.child=d,d=m,m=o.child,I=r.child.memoizedState,I===null?I=Jy(u):(W=I.cachePool,W!==null?(et=wn._currentValue,W=W.parent!==et?{parent:et,pool:et}:W):W=rw(),I={baseLanes:I.baseLanes|u,cachePool:W}),m.memoizedState=I,m.childLanes=t_(r,R,u),o.memoizedState=Zy,d):(xa(o),u=r.child,r=u.sibling,u=Tr(u,{mode:"visible",children:d.children}),u.return=o,u.sibling=null,r!==null&&(R=o.deletions,R===null?(o.deletions=[r],o.flags|=16):R.push(r)),o.child=u,o.memoizedState=null,u)}function e_(r,o){return o=Kd({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function Kd(r,o){return r=Mi(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function n_(r,o,u){return ac(o,r.child,null,u),r=e_(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function v1(r,o,u){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),vy(r.return,o,u)}function i_(r,o,u,d,m){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=u,b.tailMode=m)}function x1(r,o,u){var d=o.pendingProps,m=d.revealOrder,b=d.tail;if(Wn(r,o,d.children,u),d=En.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&v1(r,u,o);else if(r.tag===19)v1(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(K(En,d),m){case"forwards":for(u=o.child,m=null;u!==null;)r=u.alternate,r!==null&&Hd(r)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),i_(o,!1,m,u,b);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(r=m.alternate,r!==null&&Hd(r)===null){o.child=m;break}r=m.sibling,m.sibling=u,u=m,m=r}i_(o,!0,u,null,b);break;case"together":i_(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ir(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),Ra|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(Nu(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,u=Tr(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=Tr(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function s_(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Cd(r)))}function jO(r,o,u){switch(o.tag){case 3:_t(o,o.stateNode.containerInfo),ma(o,wn,r.memoizedState.cache),Ou();break;case 27:case 5:At(o);break;case 4:_t(o,o.stateNode.containerInfo);break;case 10:ma(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(xa(o),o.flags|=128,null):(u&o.child.childLanes)!==0?b1(r,o,u):(xa(o),r=Ir(r,o,u),r!==null?r.sibling:null);xa(o);break;case 19:var m=(r.flags&128)!==0;if(d=(u&o.childLanes)!==0,d||(Nu(r,o,u,!1),d=(u&o.childLanes)!==0),m){if(d)return x1(r,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),K(En,En.current),d)break;return null;case 22:case 23:return o.lanes=0,p1(r,o,u);case 24:ma(o,wn,r.memoizedState.cache)}return Ir(r,o,u)}function w1(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)In=!0;else{if(!s_(r,u)&&(o.flags&128)===0)return In=!1,jO(r,o,u);In=(r.flags&131072)!==0}else In=!1,ge&&(o.flags&1048576)!==0&&Zx(o,kd,o.index);switch(o.lanes=0,o.tag){case 16:t:{r=o.pendingProps;var d=o.elementType,m=d._init;if(d=m(d._payload),o.type=d,typeof d=="function")dy(d)?(r=Wo(d,r),o.tag=1,o=y1(null,o,d,r,u)):(o.tag=0,o=Qy(null,o,d,r,u));else{if(d!=null){if(m=d.$$typeof,m===B){o.tag=11,o=h1(null,o,d,r,u);break t}else if(m===C){o.tag=14,o=f1(null,o,d,r,u);break t}}throw o=Pt(d)||d,Error(i(306,o,""))}}return o;case 0:return Qy(r,o,o.type,o.pendingProps,u);case 1:return d=o.type,m=Wo(d,o.pendingProps),y1(r,o,d,m,u);case 3:t:{if(_t(o,o.stateNode.containerInfo),r===null)throw Error(i(387));d=o.pendingProps;var b=o.memoizedState;m=b.element,Ry(r,o),Fu(o,d,null,u);var R=o.memoizedState;if(d=R.cache,ma(o,wn,d),d!==b.cache&&xy(o,[wn],u,!0),Bu(),d=R.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:R.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=_1(r,o,d,u);break t}else if(d!==m){m=Xi(Error(i(424)),o),Pu(m),o=_1(r,o,d,u);break t}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ye=ps(r.firstChild),yi=o,ge=!0,zo=null,js=!0,u=t1(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ou(),d===m){o=Ir(r,o,u);break t}Wn(r,o,d,u)}o=o.child}return o;case 26:return Gd(r,o),r===null?(u=AE(o.type,null,o.pendingProps,null))?o.memoizedState=u:ge||(u=o.type,r=o.pendingProps,d=cp(nt.current).createElement(u),d[bn]=o,d[an]=r,Gn(d,u,r),Je(d),o.stateNode=d):o.memoizedState=AE(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return At(o),r===null&&ge&&(d=o.stateNode=EE(o.type,o.pendingProps,nt.current),yi=o,js=!0,m=Ye,Ma(o.type)?(j_=m,Ye=ps(d.firstChild)):Ye=m),Wn(r,o,o.pendingProps.children,u),Gd(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&ge&&((m=d=Ye)&&(d=f2(d,o.type,o.pendingProps,js),d!==null?(o.stateNode=d,yi=o,Ye=ps(d.firstChild),js=!1,m=!0):m=!1),m||Bo(o)),At(o),m=o.type,b=o.pendingProps,R=r!==null?r.memoizedProps:null,d=b.children,P_(m,b)?d=null:R!==null&&P_(m,R)&&(o.flags|=32),o.memoizedState!==null&&(m=Oy(r,o,DO,null,null,u),uh._currentValue=m),Gd(r,o),Wn(r,o,d,u),o.child;case 6:return r===null&&ge&&((r=u=Ye)&&(u=d2(u,o.pendingProps,js),u!==null?(o.stateNode=u,yi=o,Ye=null,r=!0):r=!1),r||Bo(o)),null;case 13:return b1(r,o,u);case 4:return _t(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=ac(o,null,d,u):Wn(r,o,d,u),o.child;case 11:return h1(r,o,o.type,o.pendingProps,u);case 7:return Wn(r,o,o.pendingProps,u),o.child;case 8:return Wn(r,o,o.pendingProps.children,u),o.child;case 12:return Wn(r,o,o.pendingProps.children,u),o.child;case 10:return d=o.pendingProps,ma(o,o.type,d.value),Wn(r,o,d.children,u),o.child;case 9:return m=o.type._context,d=o.pendingProps.children,qo(o),m=ii(m),d=d(m),o.flags|=1,Wn(r,o,d,u),o.child;case 14:return f1(r,o,o.type,o.pendingProps,u);case 15:return d1(r,o,o.type,o.pendingProps,u);case 19:return x1(r,o,u);case 31:return d=o.pendingProps,u=o.mode,d={mode:d.mode,children:d.children},r===null?(u=Kd(d,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=Tr(r.child,d),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return p1(r,o,u);case 24:return qo(o),d=ii(wn),r===null?(m=Sy(),m===null&&(m=Ie,b=wy(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=u),m=b),o.memoizedState={parent:d,cache:m},Ay(o),ma(o,wn,m)):((r.lanes&u)!==0&&(Ry(r,o),Fu(o,null,null,u),Bu()),m=r.memoizedState,b=o.memoizedState,m.parent!==d?(m={parent:d,cache:d},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),ma(o,wn,d)):(d=b.cache,ma(o,wn,d),d!==m.cache&&xy(o,[wn],u,!0))),Wn(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Or(r){r.flags|=4}function E1(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!ME(o)){if(o=ts.current,o!==null&&((le&4194048)===le?Us!==null:(le&62914560)!==le&&(le&536870912)===0||o!==Us))throw Uu=Ty,aw;r.flags|=8192}}function Xd(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?me():536870912,r.lanes|=o,uc|=o)}function Ku(r,o){if(!ge)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function $e(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,d=0;if(o)for(var m=r.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=d,r.childLanes=u,o}function UO(r,o,u){var d=o.pendingProps;switch(yy(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(o),null;case 1:return $e(o),null;case 3:return u=o.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Cr(wn),vt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Iu(o)?Or(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ew())),$e(o),null;case 26:return u=o.memoizedState,r===null?(Or(o),u!==null?($e(o),E1(o,u)):($e(o),o.flags&=-16777217)):u?u!==r.memoizedState?(Or(o),$e(o),E1(o,u)):($e(o),o.flags&=-16777217):(r.memoizedProps!==d&&Or(o),$e(o),o.flags&=-16777217),null;case 27:$t(o),u=nt.current;var m=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Or(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return $e(o),null}r=at.current,Iu(o)?Jx(o):(r=EE(m,d,u),o.stateNode=r,Or(o))}return $e(o),null;case 5:if($t(o),u=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Or(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return $e(o),null}if(r=at.current,Iu(o))Jx(o);else{switch(m=cp(nt.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?m.createElement(u,{is:d.is}):m.createElement(u)}}r[bn]=o,r[an]=d;t:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break t;for(;m.sibling===null;){if(m.return===null||m.return===o)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=r;t:switch(Gn(r,u,d),u){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Or(o)}}return $e(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==d&&Or(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(r=nt.current,Iu(o)){if(r=o.stateNode,u=o.memoizedProps,d=null,m=yi,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}r[bn]=o,r=!!(r.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||mE(r.nodeValue,u)),r||Bo(o)}else r=cp(r).createTextNode(d),r[bn]=o,o.stateNode=r}return $e(o),null;case 13:if(d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=Iu(o),d!==null&&d.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[bn]=o}else Ou(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;$e(o),m=!1}else m=ew(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(Mr(o),o):(Mr(o),null)}if(Mr(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=d!==null,r=r!==null&&r.memoizedState!==null,u){d=o.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==m&&(d.flags|=2048)}return u!==r&&u&&(o.child.flags|=8192),Xd(o,o.updateQueue),$e(o),null;case 4:return vt(),r===null&&C_(o.stateNode.containerInfo),$e(o),null;case 10:return Cr(o.type),$e(o),null;case 19:if(ot(En),m=o.memoizedState,m===null)return $e(o),null;if(d=(o.flags&128)!==0,b=m.rendering,b===null)if(d)Ku(m,!1);else{if(Ge!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(b=Hd(r),b!==null){for(o.flags|=128,Ku(m,!1),r=b.updateQueue,o.updateQueue=r,Xd(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)Qx(u,r),u=u.sibling;return K(En,En.current&1|2),o.child}r=r.sibling}m.tail!==null&&Rn()>Jd&&(o.flags|=128,d=!0,Ku(m,!1),o.lanes=4194304)}else{if(!d)if(r=Hd(b),r!==null){if(o.flags|=128,d=!0,r=r.updateQueue,o.updateQueue=r,Xd(o,r),Ku(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!ge)return $e(o),null}else 2*Rn()-m.renderingStartTime>Jd&&u!==536870912&&(o.flags|=128,d=!0,Ku(m,!1),o.lanes=4194304);m.isBackwards?(b.sibling=o.child,o.child=b):(r=m.last,r!==null?r.sibling=b:o.child=b,m.last=b)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Rn(),o.sibling=null,r=En.current,K(En,d?r&1|2:r&1),o):($e(o),null);case 22:case 23:return Mr(o),My(),d=o.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(u&536870912)!==0&&(o.flags&128)===0&&($e(o),o.subtreeFlags&6&&(o.flags|=8192)):$e(o),u=o.updateQueue,u!==null&&Xd(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048),r!==null&&ot($o),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Cr(wn),$e(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function zO(r,o){switch(yy(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Cr(wn),vt(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return $t(o),null;case 13:if(Mr(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Ou()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return ot(En),null;case 4:return vt(),null;case 10:return Cr(o.type),null;case 22:case 23:return Mr(o),My(),r!==null&&ot($o),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Cr(wn),null;case 25:return null;default:return null}}function S1(r,o){switch(yy(o),o.tag){case 3:Cr(wn),vt();break;case 26:case 27:case 5:$t(o);break;case 4:vt();break;case 13:Mr(o);break;case 19:ot(En);break;case 10:Cr(o.type);break;case 22:case 23:Mr(o),My(),r!==null&&ot($o);break;case 24:Cr(wn)}}function Xu(r,o){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var m=d.next;u=m;do{if((u.tag&r)===r){d=void 0;var b=u.create,R=u.inst;d=b(),R.destroy=d}u=u.next}while(u!==m)}}catch(I){De(o,o.return,I)}}function Ea(r,o,u){try{var d=o.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var b=m.next;d=b;do{if((d.tag&r)===r){var R=d.inst,I=R.destroy;if(I!==void 0){R.destroy=void 0,m=o;var W=u,et=I;try{et()}catch(ht){De(m,W,ht)}}}d=d.next}while(d!==b)}}catch(ht){De(o,o.return,ht)}}function T1(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{fw(o,u)}catch(d){De(r,r.return,d)}}}function A1(r,o,u){u.props=Wo(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(d){De(r,o,d)}}function Qu(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof u=="function"?r.refCleanup=u(d):u.current=d}}catch(m){De(r,o,m)}}function zs(r,o){var u=r.ref,d=r.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(m){De(r,o,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){De(r,o,m)}else u.current=null}function R1(r){var o=r.type,u=r.memoizedProps,d=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break t;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(m){De(r,r.return,m)}}function r_(r,o,u){try{var d=r.stateNode;o2(d,r.type,u,o),d[an]=o}catch(m){De(r,r.return,m)}}function k1(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ma(r.type)||r.tag===4}function a_(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||k1(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ma(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function o_(r,o,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=lp));else if(d!==4&&(d===27&&Ma(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(o_(r,o,u),r=r.sibling;r!==null;)o_(r,o,u),r=r.sibling}function Qd(r,o,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(d!==4&&(d===27&&Ma(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(Qd(r,o,u),r=r.sibling;r!==null;)Qd(r,o,u),r=r.sibling}function C1(r){var o=r.stateNode,u=r.memoizedProps;try{for(var d=r.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);Gn(o,d,u),o[bn]=r,o[an]=u}catch(b){De(r,r.return,b)}}var Pr=!1,en=!1,l_=!1,D1=typeof WeakSet=="function"?WeakSet:Set,On=null;function BO(r,o){if(r=r.containerInfo,I_=gp,r=Bx(r),ay(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else t:{u=(u=r.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break t}var R=0,I=-1,W=-1,et=0,ht=0,gt=r,it=null;e:for(;;){for(var rt;gt!==u||m!==0&&gt.nodeType!==3||(I=R+m),gt!==b||d!==0&&gt.nodeType!==3||(W=R+d),gt.nodeType===3&&(R+=gt.nodeValue.length),(rt=gt.firstChild)!==null;)it=gt,gt=rt;for(;;){if(gt===r)break e;if(it===u&&++et===m&&(I=R),it===b&&++ht===d&&(W=R),(rt=gt.nextSibling)!==null)break;gt=it,it=gt.parentNode}gt=rt}u=I===-1||W===-1?null:{start:I,end:W}}else u=null}u=u||{start:0,end:0}}else u=null;for(O_={focusedElem:r,selectionRange:u},gp=!1,On=o;On!==null;)if(o=On,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,On=r;else for(;On!==null;){switch(o=On,b=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,u=o,m=b.memoizedProps,b=b.memoizedState,d=u.stateNode;try{var zt=Wo(u.type,m,u.elementType===u.type);r=d.getSnapshotBeforeUpdate(zt,b),d.__reactInternalSnapshotBeforeUpdate=r}catch(Nt){De(u,u.return,Nt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)L_(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":L_(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,On=r;break}On=o.return}}function M1(r,o,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Sa(r,u),d&4&&Xu(5,u);break;case 1:if(Sa(r,u),d&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(R){De(u,u.return,R)}else{var m=Wo(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(m,o,r.__reactInternalSnapshotBeforeUpdate)}catch(R){De(u,u.return,R)}}d&64&&T1(u),d&512&&Qu(u,u.return);break;case 3:if(Sa(r,u),d&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{fw(r,o)}catch(R){De(u,u.return,R)}}break;case 27:o===null&&d&4&&C1(u);case 26:case 5:Sa(r,u),o===null&&d&4&&R1(u),d&512&&Qu(u,u.return);break;case 12:Sa(r,u);break;case 13:Sa(r,u),d&4&&P1(r,u),d&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=XO.bind(null,u),p2(r,u))));break;case 22:if(d=u.memoizedState!==null||Pr,!d){o=o!==null&&o.memoizedState!==null||en,m=Pr;var b=en;Pr=d,(en=o)&&!b?Ta(r,u,(u.subtreeFlags&8772)!==0):Sa(r,u),Pr=m,en=b}break;case 30:break;default:Sa(r,u)}}function I1(r){var o=r.alternate;o!==null&&(r.alternate=null,I1(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&fa(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Be=null,xi=!1;function Nr(r,o,u){for(u=u.child;u!==null;)O1(r,o,u),u=u.sibling}function O1(r,o,u){if(pe&&typeof pe.onCommitFiberUnmount=="function")try{pe.onCommitFiberUnmount(Ue,u)}catch{}switch(u.tag){case 26:en||zs(u,o),Nr(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:en||zs(u,o);var d=Be,m=xi;Ma(u.type)&&(Be=u.stateNode,xi=!1),Nr(r,o,u),ah(u.stateNode),Be=d,xi=m;break;case 5:en||zs(u,o);case 6:if(d=Be,m=xi,Be=null,Nr(r,o,u),Be=d,xi=m,Be!==null)if(xi)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(u.stateNode)}catch(b){De(u,o,b)}else try{Be.removeChild(u.stateNode)}catch(b){De(u,o,b)}break;case 18:Be!==null&&(xi?(r=Be,xE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),ph(r)):xE(Be,u.stateNode));break;case 4:d=Be,m=xi,Be=u.stateNode.containerInfo,xi=!0,Nr(r,o,u),Be=d,xi=m;break;case 0:case 11:case 14:case 15:en||Ea(2,u,o),en||Ea(4,u,o),Nr(r,o,u);break;case 1:en||(zs(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"&&A1(u,o,d)),Nr(r,o,u);break;case 21:Nr(r,o,u);break;case 22:en=(d=en)||u.memoizedState!==null,Nr(r,o,u),en=d;break;default:Nr(r,o,u)}}function P1(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ph(r)}catch(u){De(o,o.return,u)}}function FO(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new D1),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new D1),o;default:throw Error(i(435,r.tag))}}function c_(r,o){var u=FO(r);o.forEach(function(d){var m=QO.bind(null,r,d);u.has(d)||(u.add(d),d.then(m,m))})}function Ii(r,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d],b=r,R=o,I=R;t:for(;I!==null;){switch(I.tag){case 27:if(Ma(I.type)){Be=I.stateNode,xi=!1;break t}break;case 5:Be=I.stateNode,xi=!1;break t;case 3:case 4:Be=I.stateNode.containerInfo,xi=!0;break t}I=I.return}if(Be===null)throw Error(i(160));O1(b,R,m),Be=null,xi=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)N1(o,r),o=o.sibling}var ds=null;function N1(r,o){var u=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ii(o,r),Oi(r),d&4&&(Ea(3,r,r.return),Xu(3,r),Ea(5,r,r.return));break;case 1:Ii(o,r),Oi(r),d&512&&(en||u===null||zs(u,u.return)),d&64&&Pr&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var m=ds;if(Ii(o,r),Oi(r),d&512&&(en||u===null||zs(u,u.return)),d&4){var b=u!==null?u.memoizedState:null;if(d=r.memoizedState,u===null)if(d===null)if(r.stateNode===null){t:{d=r.type,u=r.memoizedProps,m=m.ownerDocument||m;e:switch(d){case"title":b=m.getElementsByTagName("title")[0],(!b||b[xo]||b[bn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(d),m.head.insertBefore(b,m.querySelector("head > title"))),Gn(b,d,u),b[bn]=r,Je(b),d=b;break t;case"link":var R=CE("link","href",m).get(d+(u.href||""));if(R){for(var I=0;I<R.length;I++)if(b=R[I],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){R.splice(I,1);break e}}b=m.createElement(d),Gn(b,d,u),m.head.appendChild(b);break;case"meta":if(R=CE("meta","content",m).get(d+(u.content||""))){for(I=0;I<R.length;I++)if(b=R[I],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){R.splice(I,1);break e}}b=m.createElement(d),Gn(b,d,u),m.head.appendChild(b);break;default:throw Error(i(468,d))}b[bn]=r,Je(b),d=b}r.stateNode=d}else DE(m,r.type,r.stateNode);else r.stateNode=kE(m,d,r.memoizedProps);else b!==d?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,d===null?DE(m,r.type,r.stateNode):kE(m,d,r.memoizedProps)):d===null&&r.stateNode!==null&&r_(r,r.memoizedProps,u.memoizedProps)}break;case 27:Ii(o,r),Oi(r),d&512&&(en||u===null||zs(u,u.return)),u!==null&&d&4&&r_(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Ii(o,r),Oi(r),d&512&&(en||u===null||zs(u,u.return)),r.flags&32){m=r.stateNode;try{Wi(m,"")}catch(rt){De(r,r.return,rt)}}d&4&&r.stateNode!=null&&(m=r.memoizedProps,r_(r,m,u!==null?u.memoizedProps:m)),d&1024&&(l_=!0);break;case 6:if(Ii(o,r),Oi(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,u=r.stateNode;try{u.nodeValue=d}catch(rt){De(r,r.return,rt)}}break;case 3:if(fp=null,m=ds,ds=up(o.containerInfo),Ii(o,r),ds=m,Oi(r),d&4&&u!==null&&u.memoizedState.isDehydrated)try{ph(o.containerInfo)}catch(rt){De(r,r.return,rt)}l_&&(l_=!1,L1(r));break;case 4:d=ds,ds=up(r.stateNode.containerInfo),Ii(o,r),Oi(r),ds=d;break;case 12:Ii(o,r),Oi(r);break;case 13:Ii(o,r),Oi(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(g_=Rn()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,c_(r,d)));break;case 22:m=r.memoizedState!==null;var W=u!==null&&u.memoizedState!==null,et=Pr,ht=en;if(Pr=et||m,en=ht||W,Ii(o,r),en=ht,Pr=et,Oi(r),d&8192)t:for(o=r.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(u===null||W||Pr||en||Yo(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){W=u=o;try{if(b=W.stateNode,m)R=b.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{I=W.stateNode;var gt=W.memoizedProps.style,it=gt!=null&&gt.hasOwnProperty("display")?gt.display:null;I.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(rt){De(W,W.return,rt)}}}else if(o.tag===6){if(u===null){W=o;try{W.stateNode.nodeValue=m?"":W.memoizedProps}catch(rt){De(W,W.return,rt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=r.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,c_(r,u))));break;case 19:Ii(o,r),Oi(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,c_(r,d)));break;case 30:break;case 21:break;default:Ii(o,r),Oi(r)}}function Oi(r){var o=r.flags;if(o&2){try{for(var u,d=r.return;d!==null;){if(k1(d)){u=d;break}d=d.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var m=u.stateNode,b=a_(r);Qd(r,b,m);break;case 5:var R=u.stateNode;u.flags&32&&(Wi(R,""),u.flags&=-33);var I=a_(r);Qd(r,I,R);break;case 3:case 4:var W=u.stateNode.containerInfo,et=a_(r);o_(r,et,W);break;default:throw Error(i(161))}}catch(ht){De(r,r.return,ht)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function L1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;L1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function Sa(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)M1(r,o.alternate,o),o=o.sibling}function Yo(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Ea(4,o,o.return),Yo(o);break;case 1:zs(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&A1(o,o.return,u),Yo(o);break;case 27:ah(o.stateNode);case 26:case 5:zs(o,o.return),Yo(o);break;case 22:o.memoizedState===null&&Yo(o);break;case 30:Yo(o);break;default:Yo(o)}r=r.sibling}}function Ta(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,m=r,b=o,R=b.flags;switch(b.tag){case 0:case 11:case 15:Ta(m,b,u),Xu(4,b);break;case 1:if(Ta(m,b,u),d=b,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(et){De(d,d.return,et)}if(d=b,m=d.updateQueue,m!==null){var I=d.stateNode;try{var W=m.shared.hiddenCallbacks;if(W!==null)for(m.shared.hiddenCallbacks=null,m=0;m<W.length;m++)hw(W[m],I)}catch(et){De(d,d.return,et)}}u&&R&64&&T1(b),Qu(b,b.return);break;case 27:C1(b);case 26:case 5:Ta(m,b,u),u&&d===null&&R&4&&R1(b),Qu(b,b.return);break;case 12:Ta(m,b,u);break;case 13:Ta(m,b,u),u&&R&4&&P1(m,b);break;case 22:b.memoizedState===null&&Ta(m,b,u),Qu(b,b.return);break;case 30:break;default:Ta(m,b,u)}o=o.sibling}}function u_(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Lu(u))}function h_(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Lu(r))}function Bs(r,o,u,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)V1(r,o,u,d),o=o.sibling}function V1(r,o,u,d){var m=o.flags;switch(o.tag){case 0:case 11:case 15:Bs(r,o,u,d),m&2048&&Xu(9,o);break;case 1:Bs(r,o,u,d);break;case 3:Bs(r,o,u,d),m&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Lu(r)));break;case 12:if(m&2048){Bs(r,o,u,d),r=o.stateNode;try{var b=o.memoizedProps,R=b.id,I=b.onPostCommit;typeof I=="function"&&I(R,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(W){De(o,o.return,W)}}else Bs(r,o,u,d);break;case 13:Bs(r,o,u,d);break;case 23:break;case 22:b=o.stateNode,R=o.alternate,o.memoizedState!==null?b._visibility&2?Bs(r,o,u,d):Zu(r,o):b._visibility&2?Bs(r,o,u,d):(b._visibility|=2,oc(r,o,u,d,(o.subtreeFlags&10256)!==0)),m&2048&&u_(R,o);break;case 24:Bs(r,o,u,d),m&2048&&h_(o.alternate,o);break;default:Bs(r,o,u,d)}}function oc(r,o,u,d,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=r,R=o,I=u,W=d,et=R.flags;switch(R.tag){case 0:case 11:case 15:oc(b,R,I,W,m),Xu(8,R);break;case 23:break;case 22:var ht=R.stateNode;R.memoizedState!==null?ht._visibility&2?oc(b,R,I,W,m):Zu(b,R):(ht._visibility|=2,oc(b,R,I,W,m)),m&&et&2048&&u_(R.alternate,R);break;case 24:oc(b,R,I,W,m),m&&et&2048&&h_(R.alternate,R);break;default:oc(b,R,I,W,m)}o=o.sibling}}function Zu(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,d=o,m=d.flags;switch(d.tag){case 22:Zu(u,d),m&2048&&u_(d.alternate,d);break;case 24:Zu(u,d),m&2048&&h_(d.alternate,d);break;default:Zu(u,d)}o=o.sibling}}var Ju=8192;function lc(r){if(r.subtreeFlags&Ju)for(r=r.child;r!==null;)j1(r),r=r.sibling}function j1(r){switch(r.tag){case 26:lc(r),r.flags&Ju&&r.memoizedState!==null&&R2(ds,r.memoizedState,r.memoizedProps);break;case 5:lc(r);break;case 3:case 4:var o=ds;ds=up(r.stateNode.containerInfo),lc(r),ds=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=Ju,Ju=16777216,lc(r),Ju=o):lc(r));break;default:lc(r)}}function U1(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function th(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];On=d,B1(d,r)}U1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)z1(r),r=r.sibling}function z1(r){switch(r.tag){case 0:case 11:case 15:th(r),r.flags&2048&&Ea(9,r,r.return);break;case 3:th(r);break;case 12:th(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,Zd(r)):th(r);break;default:th(r)}}function Zd(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];On=d,B1(d,r)}U1(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Ea(8,o,o.return),Zd(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Zd(o));break;default:Zd(o)}r=r.sibling}}function B1(r,o){for(;On!==null;){var u=On;switch(u.tag){case 0:case 11:case 15:Ea(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Lu(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,On=d;else t:for(u=r;On!==null;){d=On;var m=d.sibling,b=d.return;if(I1(d),d===u){On=null;break t}if(m!==null){m.return=b,On=m;break t}On=b}}}var qO={getCacheForType:function(r){var o=ii(wn),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u}},$O=typeof WeakMap=="function"?WeakMap:Map,xe=0,Ie=null,Jt=null,le=0,we=0,Pi=null,Aa=!1,cc=!1,f_=!1,Lr=0,Ge=0,Ra=0,Go=0,d_=0,es=0,uc=0,eh=null,wi=null,p_=!1,g_=0,Jd=1/0,tp=null,ka=null,Yn=0,Ca=null,hc=null,fc=0,m_=0,y_=null,F1=null,nh=0,__=null;function Ni(){if((xe&2)!==0&&le!==0)return le&-le;if(V.T!==null){var r=Jl;return r!==0?r:T_()}return $i()}function q1(){es===0&&(es=(le&536870912)===0||ge?Ht():536870912);var r=ts.current;return r!==null&&(r.flags|=32),es}function Li(r,o,u){(r===Ie&&(we===2||we===9)||r.cancelPendingCommit!==null)&&(dc(r,0),Da(r,le,es,!1)),he(r,u),((xe&2)===0||r!==Ie)&&(r===Ie&&((xe&2)===0&&(Go|=u),Ge===4&&Da(r,le,es,!1)),Fs(r))}function $1(r,o,u){if((xe&6)!==0)throw Error(i(327));var d=!u&&(o&124)===0&&(o&r.expiredLanes)===0||pr(r,o),m=d?YO(r,o):x_(r,o,!0),b=d;do{if(m===0){cc&&!d&&Da(r,o,0,!1);break}else{if(u=r.current.alternate,b&&!HO(u)){m=x_(r,o,!1),b=!1;continue}if(m===2){if(b=o,r.errorRecoveryDisabledLanes&b)var R=0;else R=r.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){o=R;t:{var I=r;m=eh;var W=I.current.memoizedState.isDehydrated;if(W&&(dc(I,R).flags|=256),R=x_(I,R,!1),R!==2){if(f_&&!W){I.errorRecoveryDisabledLanes|=b,Go|=b,m=4;break t}b=wi,wi=m,b!==null&&(wi===null?wi=b:wi.push.apply(wi,b))}m=R}if(b=!1,m!==2)continue}}if(m===1){dc(r,0),Da(r,o,0,!0);break}t:{switch(d=r,b=m,b){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Da(d,o,es,!Aa);break t;case 2:wi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(m=g_+300-Rn(),10<m)){if(Da(d,o,es,!Aa),dr(d,0,!0)!==0)break t;d.timeoutHandle=bE(H1.bind(null,d,u,wi,tp,p_,o,es,Go,uc,Aa,b,2,-0,0),m);break t}H1(d,u,wi,tp,p_,o,es,Go,uc,Aa,b,0,-0,0)}}break}while(!0);Fs(r)}function H1(r,o,u,d,m,b,R,I,W,et,ht,gt,it,rt){if(r.timeoutHandle=-1,gt=o.subtreeFlags,(gt&8192||(gt&16785408)===16785408)&&(ch={stylesheets:null,count:0,unsuspend:A2},j1(o),gt=k2(),gt!==null)){r.cancelPendingCommit=gt(Z1.bind(null,r,o,b,u,d,m,R,I,W,ht,1,it,rt)),Da(r,b,R,!et);return}Z1(r,o,b,u,d,m,R,I,W)}function HO(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var m=u[d],b=m.getSnapshot;m=m.value;try{if(!Di(b(),m))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Da(r,o,u,d){o&=~d_,o&=~Go,r.suspendedLanes|=o,r.pingedLanes&=~o,d&&(r.warmLanes|=o),d=r.expirationTimes;for(var m=o;0<m;){var b=31-kn(m),R=1<<b;d[b]=-1,m&=~R}u!==0&&Wt(r,u,o)}function ep(){return(xe&6)===0?(ih(0),!1):!0}function b_(){if(Jt!==null){if(we===0)var r=Jt.return;else r=Jt,kr=Fo=null,Ly(r),rc=null,Yu=0,r=Jt;for(;r!==null;)S1(r.alternate,r),r=r.return;Jt=null}}function dc(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,c2(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),b_(),Ie=r,Jt=u=Tr(r.current,null),le=o,we=0,Pi=null,Aa=!1,cc=pr(r,o),f_=!1,uc=es=d_=Go=Ra=Ge=0,wi=eh=null,p_=!1,(o&8)!==0&&(o|=o&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=o;0<d;){var m=31-kn(d),b=1<<m;o|=r[m],d&=~b}return Lr=o,Ed(),u}function W1(r,o){Xt=null,V.H=Fd,o===ju||o===Id?(o=cw(),we=3):o===aw?(o=cw(),we=4):we=o===u1?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Pi=o,Jt===null&&(Ge=1,Yd(r,Xi(o,r.current)))}function Y1(){var r=V.H;return V.H=Fd,r===null?Fd:r}function G1(){var r=V.A;return V.A=qO,r}function v_(){Ge=4,Aa||(le&4194048)!==le&&ts.current!==null||(cc=!0),(Ra&134217727)===0&&(Go&134217727)===0||Ie===null||Da(Ie,le,es,!1)}function x_(r,o,u){var d=xe;xe|=2;var m=Y1(),b=G1();(Ie!==r||le!==o)&&(tp=null,dc(r,o)),o=!1;var R=Ge;t:do try{if(we!==0&&Jt!==null){var I=Jt,W=Pi;switch(we){case 8:b_(),R=6;break t;case 3:case 2:case 9:case 6:ts.current===null&&(o=!0);var et=we;if(we=0,Pi=null,pc(r,I,W,et),u&&cc){R=0;break t}break;default:et=we,we=0,Pi=null,pc(r,I,W,et)}}WO(),R=Ge;break}catch(ht){W1(r,ht)}while(!0);return o&&r.shellSuspendCounter++,kr=Fo=null,xe=d,V.H=m,V.A=b,Jt===null&&(Ie=null,le=0,Ed()),R}function WO(){for(;Jt!==null;)K1(Jt)}function YO(r,o){var u=xe;xe|=2;var d=Y1(),m=G1();Ie!==r||le!==o?(tp=null,Jd=Rn()+500,dc(r,o)):cc=pr(r,o);t:do try{if(we!==0&&Jt!==null){o=Jt;var b=Pi;e:switch(we){case 1:we=0,Pi=null,pc(r,o,b,1);break;case 2:case 9:if(ow(b)){we=0,Pi=null,X1(o);break}o=function(){we!==2&&we!==9||Ie!==r||(we=7),Fs(r)},b.then(o,o);break t;case 3:we=7;break t;case 4:we=5;break t;case 7:ow(b)?(we=0,Pi=null,X1(o)):(we=0,Pi=null,pc(r,o,b,7));break;case 5:var R=null;switch(Jt.tag){case 26:R=Jt.memoizedState;case 5:case 27:var I=Jt;if(!R||ME(R)){we=0,Pi=null;var W=I.sibling;if(W!==null)Jt=W;else{var et=I.return;et!==null?(Jt=et,np(et)):Jt=null}break e}}we=0,Pi=null,pc(r,o,b,5);break;case 6:we=0,Pi=null,pc(r,o,b,6);break;case 8:b_(),Ge=6;break t;default:throw Error(i(462))}}GO();break}catch(ht){W1(r,ht)}while(!0);return kr=Fo=null,V.H=d,V.A=m,xe=u,Jt!==null?0:(Ie=null,le=0,Ed(),Ge)}function GO(){for(;Jt!==null&&!ni();)K1(Jt)}function K1(r){var o=w1(r.alternate,r,Lr);r.memoizedProps=r.pendingProps,o===null?np(r):Jt=o}function X1(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=m1(u,o,o.pendingProps,o.type,void 0,le);break;case 11:o=m1(u,o,o.pendingProps,o.type.render,o.ref,le);break;case 5:Ly(o);default:S1(u,o),o=Jt=Qx(o,Lr),o=w1(u,o,Lr)}r.memoizedProps=r.pendingProps,o===null?np(r):Jt=o}function pc(r,o,u,d){kr=Fo=null,Ly(o),rc=null,Yu=0;var m=o.return;try{if(VO(r,m,o,u,le)){Ge=1,Yd(r,Xi(u,r.current)),Jt=null;return}}catch(b){if(m!==null)throw Jt=m,b;Ge=1,Yd(r,Xi(u,r.current)),Jt=null;return}o.flags&32768?(ge||d===1?r=!0:cc||(le&536870912)!==0?r=!1:(Aa=r=!0,(d===2||d===9||d===3||d===6)&&(d=ts.current,d!==null&&d.tag===13&&(d.flags|=16384))),Q1(o,r)):np(o)}function np(r){var o=r;do{if((o.flags&32768)!==0){Q1(o,Aa);return}r=o.return;var u=UO(o.alternate,o,Lr);if(u!==null){Jt=u;return}if(o=o.sibling,o!==null){Jt=o;return}Jt=o=r}while(o!==null);Ge===0&&(Ge=5)}function Q1(r,o){do{var u=zO(r.alternate,r);if(u!==null){u.flags&=32767,Jt=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){Jt=r;return}Jt=r=u}while(r!==null);Ge=6,Jt=null}function Z1(r,o,u,d,m,b,R,I,W){r.cancelPendingCommit=null;do ip();while(Yn!==0);if((xe&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(b=o.lanes|o.childLanes,b|=hy,Cn(r,u,b,R,I,W),r===Ie&&(Jt=Ie=null,le=0),hc=o,Ca=r,fc=u,m_=b,y_=m,F1=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,ZO(St,function(){return iE(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=V.T,V.T=null,m=Z.p,Z.p=2,R=xe,xe|=4;try{BO(r,o,u)}finally{xe=R,Z.p=m,V.T=d}}Yn=1,J1(),tE(),eE()}}function J1(){if(Yn===1){Yn=0;var r=Ca,o=hc,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=V.T,V.T=null;var d=Z.p;Z.p=2;var m=xe;xe|=4;try{N1(o,r);var b=O_,R=Bx(r.containerInfo),I=b.focusedElem,W=b.selectionRange;if(R!==I&&I&&I.ownerDocument&&zx(I.ownerDocument.documentElement,I)){if(W!==null&&ay(I)){var et=W.start,ht=W.end;if(ht===void 0&&(ht=et),"selectionStart"in I)I.selectionStart=et,I.selectionEnd=Math.min(ht,I.value.length);else{var gt=I.ownerDocument||document,it=gt&&gt.defaultView||window;if(it.getSelection){var rt=it.getSelection(),zt=I.textContent.length,Nt=Math.min(W.start,zt),Re=W.end===void 0?Nt:Math.min(W.end,zt);!rt.extend&&Nt>Re&&(R=Re,Re=Nt,Nt=R);var Q=Ux(I,Nt),G=Ux(I,Re);if(Q&&G&&(rt.rangeCount!==1||rt.anchorNode!==Q.node||rt.anchorOffset!==Q.offset||rt.focusNode!==G.node||rt.focusOffset!==G.offset)){var tt=gt.createRange();tt.setStart(Q.node,Q.offset),rt.removeAllRanges(),Nt>Re?(rt.addRange(tt),rt.extend(G.node,G.offset)):(tt.setEnd(G.node,G.offset),rt.addRange(tt))}}}}for(gt=[],rt=I;rt=rt.parentNode;)rt.nodeType===1&&gt.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<gt.length;I++){var ft=gt[I];ft.element.scrollLeft=ft.left,ft.element.scrollTop=ft.top}}gp=!!I_,O_=I_=null}finally{xe=m,Z.p=d,V.T=u}}r.current=o,Yn=2}}function tE(){if(Yn===2){Yn=0;var r=Ca,o=hc,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=V.T,V.T=null;var d=Z.p;Z.p=2;var m=xe;xe|=4;try{M1(r,o.alternate,o)}finally{xe=m,Z.p=d,V.T=u}}Yn=3}}function eE(){if(Yn===4||Yn===3){Yn=0,cs();var r=Ca,o=hc,u=fc,d=F1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Yn=5:(Yn=0,hc=Ca=null,nE(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(ka=null),ca(u),o=o.stateNode,pe&&typeof pe.onCommitFiberRoot=="function")try{pe.onCommitFiberRoot(Ue,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=V.T,m=Z.p,Z.p=2,V.T=null;try{for(var b=r.onRecoverableError,R=0;R<d.length;R++){var I=d[R];b(I.value,{componentStack:I.stack})}}finally{V.T=o,Z.p=m}}(fc&3)!==0&&ip(),Fs(r),m=r.pendingLanes,(u&4194090)!==0&&(m&42)!==0?r===__?nh++:(nh=0,__=r):nh=0,ih(0)}}function nE(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Lu(o)))}function ip(r){return J1(),tE(),eE(),iE()}function iE(){if(Yn!==5)return!1;var r=Ca,o=m_;m_=0;var u=ca(fc),d=V.T,m=Z.p;try{Z.p=32>u?32:u,V.T=null,u=y_,y_=null;var b=Ca,R=fc;if(Yn=0,hc=Ca=null,fc=0,(xe&6)!==0)throw Error(i(331));var I=xe;if(xe|=4,z1(b.current),V1(b,b.current,R,u),xe=I,ih(0,!1),pe&&typeof pe.onPostCommitFiberRoot=="function")try{pe.onPostCommitFiberRoot(Ue,b)}catch{}return!0}finally{Z.p=m,V.T=d,nE(r,o)}}function sE(r,o,u){o=Xi(u,o),o=Xy(r.stateNode,o,2),r=ba(r,o,2),r!==null&&(he(r,2),Fs(r))}function De(r,o,u){if(r.tag===3)sE(r,r,u);else for(;o!==null;){if(o.tag===3){sE(o,r,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ka===null||!ka.has(d))){r=Xi(u,r),u=l1(2),d=ba(o,u,2),d!==null&&(c1(u,d,o,r),he(d,2),Fs(d));break}}o=o.return}}function w_(r,o,u){var d=r.pingCache;if(d===null){d=r.pingCache=new $O;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(f_=!0,m.add(u),r=KO.bind(null,r,o,u),o.then(r,r))}function KO(r,o,u){var d=r.pingCache;d!==null&&d.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,Ie===r&&(le&u)===u&&(Ge===4||Ge===3&&(le&62914560)===le&&300>Rn()-g_?(xe&2)===0&&dc(r,0):d_|=u,uc===le&&(uc=0)),Fs(r)}function rE(r,o){o===0&&(o=me()),r=Kl(r,o),r!==null&&(he(r,o),Fs(r))}function XO(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),rE(r,u)}function QO(r,o){var u=0;switch(r.tag){case 13:var d=r.stateNode,m=r.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),rE(r,u)}function ZO(r,o){return An(r,o)}var sp=null,gc=null,E_=!1,rp=!1,S_=!1,Ko=0;function Fs(r){r!==gc&&r.next===null&&(gc===null?sp=gc=r:gc=gc.next=r),rp=!0,E_||(E_=!0,t2())}function ih(r,o){if(!S_&&rp){S_=!0;do for(var u=!1,d=sp;d!==null;){if(r!==0){var m=d.pendingLanes;if(m===0)var b=0;else{var R=d.suspendedLanes,I=d.pingedLanes;b=(1<<31-kn(42|r)+1)-1,b&=m&~(R&~I),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,cE(d,b))}else b=le,b=dr(d,d===Ie?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||pr(d,b)||(u=!0,cE(d,b));d=d.next}while(u);S_=!1}}function JO(){aE()}function aE(){rp=E_=!1;var r=0;Ko!==0&&(l2()&&(r=Ko),Ko=0);for(var o=Rn(),u=null,d=sp;d!==null;){var m=d.next,b=oE(d,o);b===0?(d.next=null,u===null?sp=m:u.next=m,m===null&&(gc=u)):(u=d,(r!==0||(b&3)!==0)&&(rp=!0)),d=m}ih(r)}function oE(r,o){for(var u=r.suspendedLanes,d=r.pingedLanes,m=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var R=31-kn(b),I=1<<R,W=m[R];W===-1?((I&u)===0||(I&d)!==0)&&(m[R]=la(I,o)):W<=o&&(r.expiredLanes|=I),b&=~I}if(o=Ie,u=le,u=dr(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,u===0||r===o&&(we===2||we===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&ei(d),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||pr(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(d!==null&&ei(d),ca(u)){case 2:case 8:u=Rt;break;case 32:u=St;break;case 268435456:u=Fn;break;default:u=St}return d=lE.bind(null,r),u=An(u,d),r.callbackPriority=o,r.callbackNode=u,o}return d!==null&&d!==null&&ei(d),r.callbackPriority=2,r.callbackNode=null,2}function lE(r,o){if(Yn!==0&&Yn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(ip()&&r.callbackNode!==u)return null;var d=le;return d=dr(r,r===Ie?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:($1(r,d,o),oE(r,Rn()),r.callbackNode!=null&&r.callbackNode===u?lE.bind(null,r):null)}function cE(r,o){if(ip())return null;$1(r,o,!0)}function t2(){u2(function(){(xe&6)!==0?An(It,JO):aE()})}function T_(){return Ko===0&&(Ko=Ht()),Ko}function uE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Vl(""+r)}function hE(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function e2(r,o,u,d,m){if(o==="submit"&&u&&u.stateNode===m){var b=uE((m[an]||null).action),R=d.submitter;R&&(o=(o=R[an]||null)?uE(o.formAction):R.getAttribute("formAction"),o!==null&&(b=o,R=null));var I=new jl("action","action",null,d,m);r.push({event:I,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ko!==0){var W=R?hE(m,R):new FormData(m);Hy(u,{pending:!0,data:W,method:m.method,action:b},null,W)}}else typeof b=="function"&&(I.preventDefault(),W=R?hE(m,R):new FormData(m),Hy(u,{pending:!0,data:W,method:m.method,action:b},b,W))},currentTarget:m}]})}}for(var A_=0;A_<uy.length;A_++){var R_=uy[A_],n2=R_.toLowerCase(),i2=R_[0].toUpperCase()+R_.slice(1);fs(n2,"on"+i2)}fs($x,"onAnimationEnd"),fs(Hx,"onAnimationIteration"),fs(Wx,"onAnimationStart"),fs("dblclick","onDoubleClick"),fs("focusin","onFocus"),fs("focusout","onBlur"),fs(vO,"onTransitionRun"),fs(xO,"onTransitionStart"),fs(wO,"onTransitionCancel"),fs(Yx,"onTransitionEnd"),mr("onMouseEnter",["mouseout","mouseover"]),mr("onMouseLeave",["mouseout","mouseover"]),mr("onPointerEnter",["pointerout","pointerover"]),mr("onPointerLeave",["pointerout","pointerover"]),us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),us("onBeforeInput",["compositionend","keypress","textInput","paste"]),us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sh));function fE(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var d=r[u],m=d.event;d=d.listeners;t:{var b=void 0;if(o)for(var R=d.length-1;0<=R;R--){var I=d[R],W=I.instance,et=I.currentTarget;if(I=I.listener,W!==b&&m.isPropagationStopped())break t;b=I,m.currentTarget=et;try{b(m)}catch(ht){Wd(ht)}m.currentTarget=null,b=W}else for(R=0;R<d.length;R++){if(I=d[R],W=I.instance,et=I.currentTarget,I=I.listener,W!==b&&m.isPropagationStopped())break t;b=I,m.currentTarget=et;try{b(m)}catch(ht){Wd(ht)}m.currentTarget=null,b=W}}}}function te(r,o){var u=o[gu];u===void 0&&(u=o[gu]=new Set);var d=r+"__bubble";u.has(d)||(dE(o,r,2,!1),u.add(d))}function k_(r,o,u){var d=0;o&&(d|=4),dE(u,r,d,o)}var ap="_reactListening"+Math.random().toString(36).slice(2);function C_(r){if(!r[ap]){r[ap]=!0,mu.forEach(function(u){u!=="selectionchange"&&(s2.has(u)||k_(u,!1,r),k_(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[ap]||(o[ap]=!0,k_("selectionchange",!1,o))}}function dE(r,o,u,d){switch(VE(o)){case 2:var m=M2;break;case 8:m=I2;break;default:m=q_}u=m.bind(null,o,u,r),m=void 0,!Gi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?r.addEventListener(o,u,{capture:!0,passive:m}):r.addEventListener(o,u,!0):m!==void 0?r.addEventListener(o,u,{passive:m}):r.addEventListener(o,u,!1)}function D_(r,o,u,d,m){var b=d;if((o&1)===0&&(o&2)===0&&d!==null)t:for(;;){if(d===null)return;var R=d.tag;if(R===3||R===4){var I=d.stateNode.containerInfo;if(I===m)break;if(R===4)for(R=d.return;R!==null;){var W=R.tag;if((W===3||W===4)&&R.stateNode.containerInfo===m)return;R=R.return}for(;I!==null;){if(R=gr(I),R===null)return;if(W=R.tag,W===5||W===6||W===26||W===27){d=b=R;continue t}I=I.parentNode}}d=d.return}ld(function(){var et=b,ht=Yi(u),gt=[];t:{var it=Gx.get(r);if(it!==void 0){var rt=jl,zt=r;switch(r){case"keypress":if(Os(u)===0)break t;case"keydown":case"keyup":rt=$l;break;case"focusin":zt="focus",rt=Bl;break;case"focusout":zt="blur",rt=Bl;break;case"beforeblur":case"afterblur":rt=Bl;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Ki;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=ny;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=md;break;case $x:case Hx:case Wx:rt=Fl;break;case Yx:rt=_d;break;case"scroll":case"scrollend":rt=cd;break;case"wheel":rt=Hl;break;case"copy":case"cut":case"paste":rt=ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=ku;break;case"toggle":case"beforetoggle":rt=vd}var Nt=(o&4)!==0,Re=!Nt&&(r==="scroll"||r==="scrollend"),Q=Nt?it!==null?it+"Capture":null:it;Nt=[];for(var G=et,tt;G!==null;){var ft=G;if(tt=ft.stateNode,ft=ft.tag,ft!==5&&ft!==26&&ft!==27||tt===null||Q===null||(ft=ko(G,Q),ft!=null&&Nt.push(rh(G,ft,tt))),Re)break;G=G.return}0<Nt.length&&(it=new rt(it,zt,null,u,ht),gt.push({event:it,listeners:Nt}))}}if((o&7)===0){t:{if(it=r==="mouseover"||r==="pointerover",rt=r==="mouseout"||r==="pointerout",it&&u!==br&&(zt=u.relatedTarget||u.fromElement)&&(gr(zt)||zt[Hi]))break t;if((rt||it)&&(it=ht.window===ht?ht:(it=ht.ownerDocument)?it.defaultView||it.parentWindow:window,rt?(zt=u.relatedTarget||u.toElement,rt=et,zt=zt?gr(zt):null,zt!==null&&(Re=a(zt),Nt=zt.tag,zt!==Re||Nt!==5&&Nt!==27&&Nt!==6)&&(zt=null)):(rt=null,zt=et),rt!==zt)){if(Nt=Ki,ft="onMouseLeave",Q="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(Nt=ku,ft="onPointerLeave",Q="onPointerEnter",G="pointer"),Re=rt==null?it:Cs(rt),tt=zt==null?it:Cs(zt),it=new Nt(ft,G+"leave",rt,u,ht),it.target=Re,it.relatedTarget=tt,ft=null,gr(ht)===et&&(Nt=new Nt(Q,G+"enter",zt,u,ht),Nt.target=tt,Nt.relatedTarget=Re,ft=Nt),Re=ft,rt&&zt)e:{for(Nt=rt,Q=zt,G=0,tt=Nt;tt;tt=mc(tt))G++;for(tt=0,ft=Q;ft;ft=mc(ft))tt++;for(;0<G-tt;)Nt=mc(Nt),G--;for(;0<tt-G;)Q=mc(Q),tt--;for(;G--;){if(Nt===Q||Q!==null&&Nt===Q.alternate)break e;Nt=mc(Nt),Q=mc(Q)}Nt=null}else Nt=null;rt!==null&&pE(gt,it,rt,Nt,!1),zt!==null&&Re!==null&&pE(gt,Re,zt,Nt,!0)}}t:{if(it=et?Cs(et):window,rt=it.nodeName&&it.nodeName.toLowerCase(),rt==="select"||rt==="input"&&it.type==="file")var Ct=Ox;else if(xn(it))if(Px)Ct=yO;else{Ct=gO;var Qt=pO}else rt=it.nodeName,!rt||rt.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?et&&xu(et.elementType)&&(Ct=Ox):Ct=mO;if(Ct&&(Ct=Ct(r,et))){Sr(gt,Ct,u,ht);break t}Qt&&Qt(r,it,et),r==="focusout"&&et&&it.type==="number"&&et.memoizedProps.value!=null&&pa(it,"number",it.value)}switch(Qt=et?Cs(et):window,r){case"focusin":(xn(Qt)||Qt.contentEditable==="true")&&(Wl=Qt,oy=et,Mu=null);break;case"focusout":Mu=oy=Wl=null;break;case"mousedown":ly=!0;break;case"contextmenu":case"mouseup":case"dragend":ly=!1,Fx(gt,u,ht);break;case"selectionchange":if(bO)break;case"keydown":case"keyup":Fx(gt,u,ht)}var Dt;if(Ls)t:{switch(r){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else ae?ut(r,u)&&(Lt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Lt="onCompositionStart");Lt&&(S&&u.locale!=="ko"&&(ae||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&ae&&(Dt=Eu()):(Is=ht,ga="value"in Is?Is.value:Is.textContent,ae=!0)),Qt=op(et,Lt),0<Qt.length&&(Lt=new Au(Lt,r,null,u,ht),gt.push({event:Lt,listeners:Qt}),Dt?Lt.data=Dt:(Dt=xt(u),Dt!==null&&(Lt.data=Dt)))),(Dt=w?vn(r,u):oe(r,u))&&(Lt=op(et,"onBeforeInput"),0<Lt.length&&(Qt=new Au("onBeforeInput","beforeinput",null,u,ht),gt.push({event:Qt,listeners:Lt}),Qt.data=Dt)),e2(gt,r,et,u,ht)}fE(gt,o)})}function rh(r,o,u){return{instance:r,listener:o,currentTarget:u}}function op(r,o){for(var u=o+"Capture",d=[];r!==null;){var m=r,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=ko(r,u),m!=null&&d.unshift(rh(r,m,b)),m=ko(r,o),m!=null&&d.push(rh(r,m,b))),r.tag===3)return d;r=r.return}return[]}function mc(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function pE(r,o,u,d,m){for(var b=o._reactName,R=[];u!==null&&u!==d;){var I=u,W=I.alternate,et=I.stateNode;if(I=I.tag,W!==null&&W===d)break;I!==5&&I!==26&&I!==27||et===null||(W=et,m?(et=ko(u,b),et!=null&&R.unshift(rh(u,et,W))):m||(et=ko(u,b),et!=null&&R.push(rh(u,et,W)))),u=u.return}R.length!==0&&r.push({event:o,listeners:R})}var r2=/\r\n?/g,a2=/\u0000|\uFFFD/g;function gE(r){return(typeof r=="string"?r:""+r).replace(r2,`
`).replace(a2,"")}function mE(r,o){return o=gE(o),gE(r)===o}function lp(){}function Ae(r,o,u,d,m,b){switch(u){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||Wi(r,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&Wi(r,""+d);break;case"className":Ds(r,"class",d);break;case"tabIndex":Ds(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Ds(r,u,d);break;case"style":vu(r,d,b);break;case"data":if(o!=="object"){Ds(r,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=Vl(""+d),r.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&Ae(r,o,"name",m.name,m,null),Ae(r,o,"formEncType",m.formEncType,m,null),Ae(r,o,"formMethod",m.formMethod,m,null),Ae(r,o,"formTarget",m.formTarget,m,null)):(Ae(r,o,"encType",m.encType,m,null),Ae(r,o,"method",m.method,m,null),Ae(r,o,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=Vl(""+d),r.setAttribute(u,d);break;case"onClick":d!=null&&(r.onclick=lp);break;case"onScroll":d!=null&&te("scroll",r);break;case"onScrollEnd":d!=null&&te("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}u=Vl(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""+d):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":d===!0?r.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,d):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(u,d):r.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(u):r.setAttribute(u,d);break;case"popover":te("beforetoggle",r),te("toggle",r),da(r,"popover",d);break;case"xlinkActuate":$n(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":$n(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":$n(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":$n(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":$n(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":$n(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":$n(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":$n(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":$n(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":da(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=ty.get(u)||u,da(r,u,d))}}function M_(r,o,u,d,m,b){switch(u){case"style":vu(r,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof d=="string"?Wi(r,d):(typeof d=="number"||typeof d=="bigint")&&Wi(r,""+d);break;case"onScroll":d!=null&&te("scroll",r);break;case"onScrollEnd":d!=null&&te("scrollend",r);break;case"onClick":d!=null&&(r.onclick=lp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Il.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),o=u.slice(2,m?u.length-7:void 0),b=r[an]||null,b=b!=null?b[u]:null,typeof b=="function"&&r.removeEventListener(o,b,m),typeof d=="function")){typeof b!="function"&&b!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,d,m);break t}u in r?r[u]=d:d===!0?r.setAttribute(u,""):da(r,u,d)}}}function Gn(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":te("error",r),te("load",r);var d=!1,m=!1,b;for(b in u)if(u.hasOwnProperty(b)){var R=u[b];if(R!=null)switch(b){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Ae(r,o,b,R,u,null)}}m&&Ae(r,o,"srcSet",u.srcSet,u,null),d&&Ae(r,o,"src",u.src,u,null);return;case"input":te("invalid",r);var I=b=R=m=null,W=null,et=null;for(d in u)if(u.hasOwnProperty(d)){var ht=u[d];if(ht!=null)switch(d){case"name":m=ht;break;case"type":R=ht;break;case"checked":W=ht;break;case"defaultChecked":et=ht;break;case"value":b=ht;break;case"defaultValue":I=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(i(137,o));break;default:Ae(r,o,d,ht,u,null)}}To(r,b,I,W,et,R,m,!1),Ll(r);return;case"select":te("invalid",r),d=R=b=null;for(m in u)if(u.hasOwnProperty(m)&&(I=u[m],I!=null))switch(m){case"value":b=I;break;case"defaultValue":R=I;break;case"multiple":d=I;default:Ae(r,o,m,I,u,null)}o=b,u=R,r.multiple=!!d,o!=null?_r(r,!!d,o,!1):u!=null&&_r(r,!!d,u,!0);return;case"textarea":te("invalid",r),b=m=d=null;for(R in u)if(u.hasOwnProperty(R)&&(I=u[R],I!=null))switch(R){case"value":d=I;break;case"defaultValue":m=I;break;case"children":b=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:Ae(r,o,R,I,u,null)}Ao(r,d,m,b),Ll(r);return;case"option":for(W in u)if(u.hasOwnProperty(W)&&(d=u[W],d!=null))switch(W){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Ae(r,o,W,d,u,null)}return;case"dialog":te("beforetoggle",r),te("toggle",r),te("cancel",r),te("close",r);break;case"iframe":case"object":te("load",r);break;case"video":case"audio":for(d=0;d<sh.length;d++)te(sh[d],r);break;case"image":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"embed":case"source":case"link":te("error",r),te("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in u)if(u.hasOwnProperty(et)&&(d=u[et],d!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Ae(r,o,et,d,u,null)}return;default:if(xu(o)){for(ht in u)u.hasOwnProperty(ht)&&(d=u[ht],d!==void 0&&M_(r,o,ht,d,u,void 0));return}}for(I in u)u.hasOwnProperty(I)&&(d=u[I],d!=null&&Ae(r,o,I,d,u,null))}function o2(r,o,u,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,R=null,I=null,W=null,et=null,ht=null;for(rt in u){var gt=u[rt];if(u.hasOwnProperty(rt)&&gt!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":W=gt;default:d.hasOwnProperty(rt)||Ae(r,o,rt,null,d,gt)}}for(var it in d){var rt=d[it];if(gt=u[it],d.hasOwnProperty(it)&&(rt!=null||gt!=null))switch(it){case"type":b=rt;break;case"name":m=rt;break;case"checked":et=rt;break;case"defaultChecked":ht=rt;break;case"value":R=rt;break;case"defaultValue":I=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(i(137,o));break;default:rt!==gt&&Ae(r,o,it,rt,d,gt)}}Ci(r,R,I,W,et,ht,b,m);return;case"select":rt=R=I=it=null;for(b in u)if(W=u[b],u.hasOwnProperty(b)&&W!=null)switch(b){case"value":break;case"multiple":rt=W;default:d.hasOwnProperty(b)||Ae(r,o,b,null,d,W)}for(m in d)if(b=d[m],W=u[m],d.hasOwnProperty(m)&&(b!=null||W!=null))switch(m){case"value":it=b;break;case"defaultValue":I=b;break;case"multiple":R=b;default:b!==W&&Ae(r,o,m,b,d,W)}o=I,u=R,d=rt,it!=null?_r(r,!!u,it,!1):!!d!=!!u&&(o!=null?_r(r,!!u,o,!0):_r(r,!!u,u?[]:"",!1));return;case"textarea":rt=it=null;for(I in u)if(m=u[I],u.hasOwnProperty(I)&&m!=null&&!d.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Ae(r,o,I,null,d,m)}for(R in d)if(m=d[R],b=u[R],d.hasOwnProperty(R)&&(m!=null||b!=null))switch(R){case"value":it=m;break;case"defaultValue":rt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==b&&Ae(r,o,R,m,d,b)}Se(r,it,rt);return;case"option":for(var zt in u)if(it=u[zt],u.hasOwnProperty(zt)&&it!=null&&!d.hasOwnProperty(zt))switch(zt){case"selected":r.selected=!1;break;default:Ae(r,o,zt,null,d,it)}for(W in d)if(it=d[W],rt=u[W],d.hasOwnProperty(W)&&it!==rt&&(it!=null||rt!=null))switch(W){case"selected":r.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:Ae(r,o,W,it,d,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nt in u)it=u[Nt],u.hasOwnProperty(Nt)&&it!=null&&!d.hasOwnProperty(Nt)&&Ae(r,o,Nt,null,d,it);for(et in d)if(it=d[et],rt=u[et],d.hasOwnProperty(et)&&it!==rt&&(it!=null||rt!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(i(137,o));break;default:Ae(r,o,et,it,d,rt)}return;default:if(xu(o)){for(var Re in u)it=u[Re],u.hasOwnProperty(Re)&&it!==void 0&&!d.hasOwnProperty(Re)&&M_(r,o,Re,void 0,d,it);for(ht in d)it=d[ht],rt=u[ht],!d.hasOwnProperty(ht)||it===rt||it===void 0&&rt===void 0||M_(r,o,ht,it,d,rt);return}}for(var Q in u)it=u[Q],u.hasOwnProperty(Q)&&it!=null&&!d.hasOwnProperty(Q)&&Ae(r,o,Q,null,d,it);for(gt in d)it=d[gt],rt=u[gt],!d.hasOwnProperty(gt)||it===rt||it==null&&rt==null||Ae(r,o,gt,it,d,rt)}var I_=null,O_=null;function cp(r){return r.nodeType===9?r:r.ownerDocument}function yE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _E(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function P_(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var N_=null;function l2(){var r=window.event;return r&&r.type==="popstate"?r===N_?!1:(N_=r,!0):(N_=null,!1)}var bE=typeof setTimeout=="function"?setTimeout:void 0,c2=typeof clearTimeout=="function"?clearTimeout:void 0,vE=typeof Promise=="function"?Promise:void 0,u2=typeof queueMicrotask=="function"?queueMicrotask:typeof vE<"u"?function(r){return vE.resolve(null).then(r).catch(h2)}:bE;function h2(r){setTimeout(function(){throw r})}function Ma(r){return r==="head"}function xE(r,o){var u=o,d=0,m=0;do{var b=u.nextSibling;if(r.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<d&&8>d){u=d;var R=r.ownerDocument;if(u&1&&ah(R.documentElement),u&2&&ah(R.body),u&4)for(u=R.head,ah(u),R=u.firstChild;R;){var I=R.nextSibling,W=R.nodeName;R[xo]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&R.rel.toLowerCase()==="stylesheet"||u.removeChild(R),R=I}}if(m===0){r.removeChild(b),ph(o);return}m--}else u==="$"||u==="$?"||u==="$!"?m++:d=u.charCodeAt(0)-48;else d=0;u=b}while(u);ph(o)}function L_(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":L_(u),fa(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function f2(r,o,u,d){for(;r.nodeType===1;){var m=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[xo])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=ps(r.nextSibling),r===null)break}return null}function d2(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=ps(r.nextSibling),r===null))return null;return r}function V_(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function p2(r,o){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")o();else{var d=function(){o(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function ps(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var j_=null;function wE(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}function EE(r,o,u){switch(o=cp(u),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function ah(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);fa(r)}var ns=new Map,SE=new Set;function up(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Vr=Z.d;Z.d={f:g2,r:m2,D:y2,C:_2,L:b2,m:v2,X:w2,S:x2,M:E2};function g2(){var r=Vr.f(),o=ep();return r||o}function m2(r){var o=ks(r);o!==null&&o.tag===5&&o.type==="form"?$w(o):Vr.r(r)}var yc=typeof document>"u"?null:document;function TE(r,o,u){var d=yc;if(d&&typeof o=="string"&&o){var m=on(o);m='link[rel="'+r+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),SE.has(m)||(SE.add(m),r={rel:r,crossOrigin:u,href:o},d.querySelector(m)===null&&(o=d.createElement("link"),Gn(o,"link",r),Je(o),d.head.appendChild(o)))}}function y2(r){Vr.D(r),TE("dns-prefetch",r,null)}function _2(r,o){Vr.C(r,o),TE("preconnect",r,o)}function b2(r,o,u){Vr.L(r,o,u);var d=yc;if(d&&r&&o){var m='link[rel="preload"][as="'+on(o)+'"]';o==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+on(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+on(u.imageSizes)+'"]')):m+='[href="'+on(r)+'"]';var b=m;switch(o){case"style":b=_c(r);break;case"script":b=bc(r)}ns.has(b)||(r=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),ns.set(b,r),d.querySelector(m)!==null||o==="style"&&d.querySelector(oh(b))||o==="script"&&d.querySelector(lh(b))||(o=d.createElement("link"),Gn(o,"link",r),Je(o),d.head.appendChild(o)))}}function v2(r,o){Vr.m(r,o);var u=yc;if(u&&r){var d=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+on(d)+'"][href="'+on(r)+'"]',b=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=bc(r)}if(!ns.has(b)&&(r=p({rel:"modulepreload",href:r},o),ns.set(b,r),u.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(lh(b)))return}d=u.createElement("link"),Gn(d,"link",r),Je(d),u.head.appendChild(d)}}}function x2(r,o,u){Vr.S(r,o,u);var d=yc;if(d&&r){var m=pi(d).hoistableStyles,b=_c(r);o=o||"default";var R=m.get(b);if(!R){var I={loading:0,preload:null};if(R=d.querySelector(oh(b)))I.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},u),(u=ns.get(b))&&U_(r,u);var W=R=d.createElement("link");Je(W),Gn(W,"link",r),W._p=new Promise(function(et,ht){W.onload=et,W.onerror=ht}),W.addEventListener("load",function(){I.loading|=1}),W.addEventListener("error",function(){I.loading|=2}),I.loading|=4,hp(R,o,d)}R={type:"stylesheet",instance:R,count:1,state:I},m.set(b,R)}}}function w2(r,o){Vr.X(r,o);var u=yc;if(u&&r){var d=pi(u).hoistableScripts,m=bc(r),b=d.get(m);b||(b=u.querySelector(lh(m)),b||(r=p({src:r,async:!0},o),(o=ns.get(m))&&z_(r,o),b=u.createElement("script"),Je(b),Gn(b,"link",r),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(m,b))}}function E2(r,o){Vr.M(r,o);var u=yc;if(u&&r){var d=pi(u).hoistableScripts,m=bc(r),b=d.get(m);b||(b=u.querySelector(lh(m)),b||(r=p({src:r,async:!0,type:"module"},o),(o=ns.get(m))&&z_(r,o),b=u.createElement("script"),Je(b),Gn(b,"link",r),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(m,b))}}function AE(r,o,u,d){var m=(m=nt.current)?up(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=_c(u.href),u=pi(m).hoistableStyles,d=u.get(o),d||(d={type:"style",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=_c(u.href);var b=pi(m).hoistableStyles,R=b.get(r);if(R||(m=m.ownerDocument||m,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,R),(b=m.querySelector(oh(r)))&&!b._p&&(R.instance=b,R.state.loading=5),ns.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ns.set(r,u),b||S2(m,r,u,R.state))),o&&d===null)throw Error(i(528,""));return R}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=bc(u),u=pi(m).hoistableScripts,d=u.get(o),d||(d={type:"script",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function _c(r){return'href="'+on(r)+'"'}function oh(r){return'link[rel="stylesheet"]['+r+"]"}function RE(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function S2(r,o,u,d){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=r.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Gn(o,"link",u),Je(o),r.head.appendChild(o))}function bc(r){return'[src="'+on(r)+'"]'}function lh(r){return"script[async]"+r}function kE(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var d=r.querySelector('style[data-href~="'+on(u.href)+'"]');if(d)return o.instance=d,Je(d),d;var m=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Je(d),Gn(d,"style",m),hp(d,u.precedence,r),o.instance=d;case"stylesheet":m=_c(u.href);var b=r.querySelector(oh(m));if(b)return o.state.loading|=4,o.instance=b,Je(b),b;d=RE(u),(m=ns.get(m))&&U_(d,m),b=(r.ownerDocument||r).createElement("link"),Je(b);var R=b;return R._p=new Promise(function(I,W){R.onload=I,R.onerror=W}),Gn(b,"link",d),o.state.loading|=4,hp(b,u.precedence,r),o.instance=b;case"script":return b=bc(u.src),(m=r.querySelector(lh(b)))?(o.instance=m,Je(m),m):(d=u,(m=ns.get(b))&&(d=p({},u),z_(d,m)),r=r.ownerDocument||r,m=r.createElement("script"),Je(m),Gn(m,"link",d),r.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,hp(d,u.precedence,r));return o.instance}function hp(r,o,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,b=m,R=0;R<d.length;R++){var I=d[R];if(I.dataset.precedence===o)b=I;else if(b!==m)break}b?b.parentNode.insertBefore(r,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function U_(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function z_(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var fp=null;function CE(r,o,u){if(fp===null){var d=new Map,m=fp=new Map;m.set(u,d)}else m=fp,d=m.get(u),d||(d=new Map,m.set(u,d));if(d.has(r))return d;for(d.set(r,null),u=u.getElementsByTagName(r),m=0;m<u.length;m++){var b=u[m];if(!(b[xo]||b[bn]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var R=b.getAttribute(o)||"";R=r+R;var I=d.get(R);I?I.push(b):d.set(R,[b])}}return d}function DE(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function T2(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function ME(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ch=null;function A2(){}function R2(r,o,u){if(ch===null)throw Error(i(475));var d=ch;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=_c(u.href),b=r.querySelector(oh(m));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=dp.bind(d),r.then(d,d)),o.state.loading|=4,o.instance=b,Je(b);return}b=r.ownerDocument||r,u=RE(u),(m=ns.get(m))&&U_(u,m),b=b.createElement("link"),Je(b);var R=b;R._p=new Promise(function(I,W){R.onload=I,R.onerror=W}),Gn(b,"link",u),o.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=dp.bind(d),r.addEventListener("load",o),r.addEventListener("error",o))}}function k2(){if(ch===null)throw Error(i(475));var r=ch;return r.stylesheets&&r.count===0&&B_(r,r.stylesheets),0<r.count?function(o){var u=setTimeout(function(){if(r.stylesheets&&B_(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u)}}:null}function dp(){if(this.count--,this.count===0){if(this.stylesheets)B_(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var pp=null;function B_(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,pp=new Map,o.forEach(C2,r),pp=null,dp.call(r))}function C2(r,o){if(!(o.state.loading&4)){var u=pp.get(r);if(u)var d=u.get(null);else{u=new Map,pp.set(r,u);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var R=m[b];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(u.set(R.dataset.precedence,R),d=R)}d&&u.set(null,d)}m=o.instance,R=m.getAttribute("data-precedence"),b=u.get(R)||d,b===d&&u.set(null,m),u.set(R,m),this.count++,d=dp.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),b?b.parentNode.insertBefore(m,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),o.state.loading|=4}}var uh={$$typeof:L,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function D2(r,o,u,d,m,b,R,I){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.hiddenUpdates=Vt(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function IE(r,o,u,d,m,b,R,I,W,et,ht,gt){return r=new D2(r,o,u,R,I,W,et,gt),o=1,b===!0&&(o|=24),b=Mi(3,null,null,o),r.current=b,b.stateNode=r,o=wy(),o.refCount++,r.pooledCache=o,o.refCount++,b.memoizedState={element:d,isDehydrated:u,cache:o},Ay(b),r}function OE(r){return r?(r=Xl,r):Xl}function PE(r,o,u,d,m,b){m=OE(m),d.context===null?d.context=m:d.pendingContext=m,d=_a(o),d.payload={element:u},b=b===void 0?null:b,b!==null&&(d.callback=b),u=ba(r,d,o),u!==null&&(Li(u,r,o),zu(u,r,o))}function NE(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function F_(r,o){NE(r,o),(r=r.alternate)&&NE(r,o)}function LE(r){if(r.tag===13){var o=Kl(r,67108864);o!==null&&Li(o,r,67108864),F_(r,67108864)}}var gp=!0;function M2(r,o,u,d){var m=V.T;V.T=null;var b=Z.p;try{Z.p=2,q_(r,o,u,d)}finally{Z.p=b,V.T=m}}function I2(r,o,u,d){var m=V.T;V.T=null;var b=Z.p;try{Z.p=8,q_(r,o,u,d)}finally{Z.p=b,V.T=m}}function q_(r,o,u,d){if(gp){var m=$_(d);if(m===null)D_(r,o,d,mp,u),jE(r,d);else if(P2(m,r,o,u,d))d.stopPropagation();else if(jE(r,d),o&4&&-1<O2.indexOf(r)){for(;m!==null;){var b=ks(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var R=ki(b.pendingLanes);if(R!==0){var I=b;for(I.pendingLanes|=2,I.entangledLanes|=2;R;){var W=1<<31-kn(R);I.entanglements[1]|=W,R&=~W}Fs(b),(xe&6)===0&&(Jd=Rn()+500,ih(0))}}break;case 13:I=Kl(b,2),I!==null&&Li(I,b,2),ep(),F_(b,2)}if(b=$_(d),b===null&&D_(r,o,d,mp,u),b===m)break;m=b}m!==null&&d.stopPropagation()}else D_(r,o,d,null,u)}}function $_(r){return r=Yi(r),H_(r)}var mp=null;function H_(r){if(mp=null,r=gr(r),r!==null){var o=a(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=l(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return mp=r,null}function VE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case It:return 2;case Rt:return 8;case St:case re:return 32;case Fn:return 268435456;default:return 32}default:return 32}}var W_=!1,Ia=null,Oa=null,Pa=null,hh=new Map,fh=new Map,Na=[],O2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jE(r,o){switch(r){case"focusin":case"focusout":Ia=null;break;case"dragenter":case"dragleave":Oa=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":hh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":fh.delete(o.pointerId)}}function dh(r,o,u,d,m,b){return r===null||r.nativeEvent!==b?(r={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:b,targetContainers:[m]},o!==null&&(o=ks(o),o!==null&&LE(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),r)}function P2(r,o,u,d,m){switch(o){case"focusin":return Ia=dh(Ia,r,o,u,d,m),!0;case"dragenter":return Oa=dh(Oa,r,o,u,d,m),!0;case"mouseover":return Pa=dh(Pa,r,o,u,d,m),!0;case"pointerover":var b=m.pointerId;return hh.set(b,dh(hh.get(b)||null,r,o,u,d,m)),!0;case"gotpointercapture":return b=m.pointerId,fh.set(b,dh(fh.get(b)||null,r,o,u,d,m)),!0}return!1}function UE(r){var o=gr(r.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){r.blockedOn=o,ua(r.priority,function(){if(u.tag===13){var d=Ni();d=Rs(d);var m=Kl(u,d);m!==null&&Li(m,u,d),F_(u,d)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function yp(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=$_(r.nativeEvent);if(u===null){u=r.nativeEvent;var d=new u.constructor(u.type,u);br=d,u.target.dispatchEvent(d),br=null}else return o=ks(u),o!==null&&LE(o),r.blockedOn=u,!1;o.shift()}return!0}function zE(r,o,u){yp(r)&&u.delete(o)}function N2(){W_=!1,Ia!==null&&yp(Ia)&&(Ia=null),Oa!==null&&yp(Oa)&&(Oa=null),Pa!==null&&yp(Pa)&&(Pa=null),hh.forEach(zE),fh.forEach(zE)}function _p(r,o){r.blockedOn===o&&(r.blockedOn=null,W_||(W_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,N2)))}var bp=null;function BE(r){bp!==r&&(bp=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){bp===r&&(bp=null);for(var o=0;o<r.length;o+=3){var u=r[o],d=r[o+1],m=r[o+2];if(typeof d!="function"){if(H_(d||u)===null)continue;break}var b=ks(u);b!==null&&(r.splice(o,3),o-=3,Hy(b,{pending:!0,data:m,method:u.method,action:d},d,m))}}))}function ph(r){function o(W){return _p(W,r)}Ia!==null&&_p(Ia,r),Oa!==null&&_p(Oa,r),Pa!==null&&_p(Pa,r),hh.forEach(o),fh.forEach(o);for(var u=0;u<Na.length;u++){var d=Na[u];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Na.length&&(u=Na[0],u.blockedOn===null);)UE(u),u.blockedOn===null&&Na.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var m=u[d],b=u[d+1],R=m[an]||null;if(typeof b=="function")R||BE(u);else if(R){var I=null;if(b&&b.hasAttribute("formAction")){if(m=b,R=b[an]||null)I=R.formAction;else if(H_(m)!==null)continue}else I=R.action;typeof I=="function"?u[d+1]=I:(u.splice(d,3),d-=3),BE(u)}}}function Y_(r){this._internalRoot=r}vp.prototype.render=Y_.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,d=Ni();PE(u,d,r,o,null,null)},vp.prototype.unmount=Y_.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;PE(r.current,2,null,r,null,null),ep(),o[Hi]=null}};function vp(r){this._internalRoot=r}vp.prototype.unstable_scheduleHydration=function(r){if(r){var o=$i();r={blockedOn:null,target:r,priority:o};for(var u=0;u<Na.length&&o!==0&&o<Na[u].priority;u++);Na.splice(u,0,r),u===0&&UE(r)}};var FE=t.version;if(FE!=="19.1.0")throw Error(i(527,FE,"19.1.0"));Z.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(o),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var L2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xp.isDisabled&&xp.supportsFiber)try{Ue=xp.inject(L2),pe=xp}catch{}}return mh.createRoot=function(r,o){if(!s(r))throw Error(i(299));var u=!1,d="",m=s1,b=r1,R=a1,I=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks)),o=IE(r,1,!1,null,null,u,d,m,b,R,I,null),r[Hi]=o.current,C_(r),new Y_(o)},mh.hydrateRoot=function(r,o,u){if(!s(r))throw Error(i(299));var d=!1,m="",b=s1,R=r1,I=a1,W=null,et=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&(I=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(W=u.unstable_transitionCallbacks),u.formState!==void 0&&(et=u.formState)),o=IE(r,1,!0,o,u??null,d,m,b,R,I,W,et),o.context=OE(null),u=o.current,d=Ni(),d=Rs(d),m=_a(d),m.callback=null,ba(u,m,d),u=d,o.current.lanes=u,he(o,u),Fs(o),r[Hi]=o.current,C_(r),new vp(o)},mh.version="19.1.0",mh}var ZE;function K2(){if(ZE)return X_.exports;ZE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),X_.exports=G2(),X_.exports}var X2=K2();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var JE="popstate";function Q2(e={}){function t(s,a){let{pathname:l="/",search:c="",hash:h=""}=Sl(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Kb("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let l=s.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let h=s.location.href,f=h.indexOf("#");c=f===-1?h:h.slice(0,f)}return c+"#"+(typeof a=="string"?a:cf(a))}function i(s,a){Fi(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return J2(t,n,i,e)}function qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Z2(){return Math.random().toString(36).substring(2,10)}function tS(e,t){return{usr:e.state,key:e.key,idx:t}}function Kb(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Sl(t):t,state:n,key:t&&t.key||i||Z2()}}function cf({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Sl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function J2(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,c="POP",h=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function y(){c="POP";let T=p(),D=T==null?null:T-f;f=T,h&&h({action:c,location:A.location,delta:D})}function _(T,D){c="PUSH";let O=Kb(A.location,T,D);n&&n(O,T),f=p()+1;let L=tS(O,f),B=A.createHref(O);try{l.pushState(L,"",B)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(B)}a&&h&&h({action:c,location:A.location,delta:1})}function x(T,D){c="REPLACE";let O=Kb(A.location,T,D);n&&n(O,T),f=p();let L=tS(O,f),B=A.createHref(O);l.replaceState(L,"",B),a&&h&&h({action:c,location:A.location,delta:0})}function E(T){return tP(T)}let A={get action(){return c},get location(){return e(s,l)},listen(T){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(JE,y),h=T,()=>{s.removeEventListener(JE,y),h=null}},createHref(T){return t(s,T)},createURL:E,encodeLocation(T){let D=E(T);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:_,replace:x,go(T){return l.go(T)}};return A}function tP(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qe(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:cf(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function lk(e,t,n="/"){return eP(e,t,n,!1)}function eP(e,t,n,i){let s=typeof t=="string"?Sl(t):t,a=ta(s.pathname||"/",n);if(a==null)return null;let l=ck(e);nP(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=dP(a);c=hP(l[h],f,i)}return c}function ck(e,t=[],n=[],i=""){let s=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(qe(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=Qr([i,h.relativePath]),p=n.concat(h);a.children&&a.children.length>0&&(qe(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),ck(a.children,t,p,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:cP(f,a.index),routesMeta:p})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let h of uk(a.path))s(a,l,h)}),t}function uk(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=uk(i.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function nP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:uP(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var iP=/^:[\w-]+$/,sP=3,rP=2,aP=1,oP=10,lP=-2,eS=e=>e==="*";function cP(e,t){let n=e.split("/"),i=n.length;return n.some(eS)&&(i+=lP),t&&(i+=rP),n.filter(s=>!eS(s)).reduce((s,a)=>s+(iP.test(a)?sP:a===""?aP:oP),i)}function uP(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function hP(e,t,n=!1){let{routesMeta:i}=e,s={},a="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],f=c===i.length-1,p=a==="/"?t:t.slice(a.length)||"/",y=Mg({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),_=h.route;if(!y&&f&&n&&!i[i.length-1].route.index&&(y=Mg({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:Qr([a,y.pathname]),pathnameBase:yP(Qr([a,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(a=Qr([a,y.pathnameBase]))}return l}function Mg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=fP(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:y},_)=>{if(p==="*"){let E=c[_]||"";l=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const x=c[_];return y&&!x?f[p]=void 0:f[p]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:e}}function fP(e,t=!1,n=!0){Fi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function dP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ta(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function pP(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?Sl(e):e;return{pathname:n?n.startsWith("/")?n:gP(n,t):t,search:_P(i),hash:bP(s)}}function gP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function tb(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ev(e){let t=mP(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function nv(e,t,n,i=!1){let s;typeof e=="string"?s=Sl(e):(s={...e},qe(!s.pathname||!s.pathname.includes("?"),tb("?","pathname","search",s)),qe(!s.pathname||!s.pathname.includes("#"),tb("#","pathname","hash",s)),qe(!s.search||!s.search.includes("#"),tb("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let y=t.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;s.pathname=_.join("/")}c=y>=0?t[y]:"/"}let h=pP(s,c),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var Qr=e=>e.join("/").replace(/\/\/+/g,"/"),yP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_P=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var hk=["POST","PUT","PATCH","DELETE"];new Set(hk);var xP=["GET",...hk];new Set(xP);var nu=j.createContext(null);nu.displayName="DataRouter";var cm=j.createContext(null);cm.displayName="DataRouterState";j.createContext(!1);var fk=j.createContext({isTransitioning:!1});fk.displayName="ViewTransition";var wP=j.createContext(new Map);wP.displayName="Fetchers";var EP=j.createContext(null);EP.displayName="Await";var As=j.createContext(null);As.displayName="Navigation";var Lf=j.createContext(null);Lf.displayName="Location";var or=j.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var iv=j.createContext(null);iv.displayName="RouteError";function SP(e,{relative:t}={}){qe(iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=j.useContext(As),{hash:s,pathname:a,search:l}=Vf(e,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:Qr([n,a])),i.createHref({pathname:c,search:l,hash:s})}function iu(){return j.useContext(Lf)!=null}function lr(){return qe(iu(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Lf).location}var dk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pk(e){j.useContext(As).static||j.useLayoutEffect(e)}function Tl(){let{isDataRoute:e}=j.useContext(or);return e?VP():TP()}function TP(){qe(iu(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(nu),{basename:t,navigator:n}=j.useContext(As),{matches:i}=j.useContext(or),{pathname:s}=lr(),a=JSON.stringify(ev(i)),l=j.useRef(!1);return pk(()=>{l.current=!0}),j.useCallback((h,f={})=>{if(Fi(l.current,dk),!l.current)return;if(typeof h=="number"){n.go(h);return}let p=nv(h,JSON.parse(a),s,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Qr([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,a,s,e])}j.createContext(null);function Vf(e,{relative:t}={}){let{matches:n}=j.useContext(or),{pathname:i}=lr(),s=JSON.stringify(ev(n));return j.useMemo(()=>nv(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function AP(e,t){return gk(e,t)}function gk(e,t,n,i){var D;qe(iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(As),{matches:a}=j.useContext(or),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let O=p&&p.path||"";mk(h,!p||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let y=lr(),_;if(t){let O=typeof t=="string"?Sl(t):t;qe(f==="/"||((D=O.pathname)==null?void 0:D.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${O.pathname}" was given in the \`location\` prop.`),_=O}else _=y;let x=_.pathname||"/",E=x;if(f!=="/"){let O=f.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(O.length).join("/")}let A=lk(e,{pathname:E});Fi(p||A!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Fi(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=MP(A&&A.map(O=>Object.assign({},O,{params:Object.assign({},c,O.params),pathname:Qr([f,s.encodeLocation?s.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?f:Qr([f,s.encodeLocation?s.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),a,n,i);return t&&T?j.createElement(Lf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},T):T}function RP(){let e=LP(),t=vP(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:a},"ErrorBoundary")," or"," ",j.createElement("code",{style:a},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:s},n):null,l)}var kP=j.createElement(RP,null),CP=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?j.createElement(or.Provider,{value:this.props.routeContext},j.createElement(iv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DP({routeContext:e,match:t,children:n}){let i=j.useContext(nu);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(or.Provider,{value:e},n)}function MP(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let h=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);qe(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(n)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:y}=n,_=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||_){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,f,p)=>{let y,_=!1,x=null,E=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||kP,l&&(c<0&&p===0?(mk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):c===p&&(_=!0,E=f.route.hydrateFallbackElement||null)));let A=t.concat(s.slice(0,p+1)),T=()=>{let D;return y?D=x:_?D=E:f.route.Component?D=j.createElement(f.route.Component,null):f.route.element?D=f.route.element:D=h,j.createElement(DP,{match:f,routeContext:{outlet:h,matches:A,isDataRoute:n!=null},children:D})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?j.createElement(CP,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:T(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):T()},null)}function sv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IP(e){let t=j.useContext(nu);return qe(t,sv(e)),t}function OP(e){let t=j.useContext(cm);return qe(t,sv(e)),t}function PP(e){let t=j.useContext(or);return qe(t,sv(e)),t}function rv(e){let t=PP(e),n=t.matches[t.matches.length-1];return qe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function NP(){return rv("useRouteId")}function LP(){var i;let e=j.useContext(iv),t=OP("useRouteError"),n=rv("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function VP(){let{router:e}=IP("useNavigate"),t=rv("useNavigate"),n=j.useRef(!1);return pk(()=>{n.current=!0}),j.useCallback(async(s,a={})=>{Fi(n.current,dk),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var nS={};function mk(e,t,n){!t&&!nS[e]&&(nS[e]=!0,Fi(!1,n))}j.memo(jP);function jP({routes:e,future:t,state:n}){return gk(e,void 0,n,t)}function eb({to:e,replace:t,state:n,relative:i}){qe(iu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=j.useContext(As);Fi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=j.useContext(or),{pathname:l}=lr(),c=Tl(),h=nv(e,ev(a),l,i==="path"),f=JSON.stringify(h);return j.useEffect(()=>{c(JSON.parse(f),{replace:t,state:n,relative:i})},[c,f,i,t,n]),null}function Ih(e){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UP({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:a=!1}){qe(!iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=Sl(n));let{pathname:h="/",search:f="",hash:p="",state:y=null,key:_="default"}=n,x=j.useMemo(()=>{let E=ta(h,l);return E==null?null:{location:{pathname:E,search:f,hash:p,state:y,key:_},navigationType:i}},[l,h,f,p,y,_,i]);return Fi(x!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:j.createElement(As.Provider,{value:c},j.createElement(Lf.Provider,{children:t,value:x}))}function zP({children:e,location:t}){return AP(Xb(e),t)}function Xb(e,t=[]){let n=[];return j.Children.forEach(e,(i,s)=>{if(!j.isValidElement(i))return;let a=[...t,s];if(i.type===j.Fragment){n.push.apply(n,Xb(i.props.children,a));return}qe(i.type===Ih,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Xb(i.props.children,a)),n.push(l)}),n}var og="get",lg="application/x-www-form-urlencoded";function um(e){return e!=null&&typeof e.tagName=="string"}function BP(e){return um(e)&&e.tagName.toLowerCase()==="button"}function FP(e){return um(e)&&e.tagName.toLowerCase()==="form"}function qP(e){return um(e)&&e.tagName.toLowerCase()==="input"}function $P(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function HP(e,t){return e.button===0&&(!t||t==="_self")&&!$P(e)}function Qb(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(s=>[n,s]):[[n,i]])},[]))}function WP(e,t){let n=Qb(e);return t&&t.forEach((i,s)=>{n.has(s)||t.getAll(s).forEach(a=>{n.append(s,a)})}),n}var wp=null;function YP(){if(wp===null)try{new FormData(document.createElement("form"),0),wp=!1}catch{wp=!0}return wp}var GP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nb(e){return e!=null&&!GP.has(e)?(Fi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lg}"`),null):e}function KP(e,t){let n,i,s,a,l;if(FP(e)){let c=e.getAttribute("action");i=c?ta(c,t):null,n=e.getAttribute("method")||og,s=nb(e.getAttribute("enctype"))||lg,a=new FormData(e)}else if(BP(e)||qP(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||c.getAttribute("action");if(i=h?ta(h,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||og,s=nb(e.getAttribute("formenctype"))||nb(c.getAttribute("enctype"))||lg,a=new FormData(c,e),!YP()){let{name:f,type:p,value:y}=e;if(p==="image"){let _=f?`${f}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else f&&a.append(f,y)}}else{if(um(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=og,i=null,s=lg,l=e}return a&&s==="text/plain"&&(l=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function av(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function XP(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&ta(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function QP(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZP(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function JP(e,t,n){let i=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let l=await QP(a,n);return l.links?l.links():[]}return[]}));return iN(i.flat(1).filter(ZP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function iS(e,t,n,i,s,a){let l=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,c=(h,f)=>{var p;return n[f].pathname!==h.pathname||((p=n[f].route.path)==null?void 0:p.endsWith("*"))&&n[f].params["*"]!==h.params["*"]};return a==="assets"?t.filter((h,f)=>l(h,f)||c(h,f)):a==="data"?t.filter((h,f)=>{var y;let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function tN(e,t,{includeHydrateFallback:n}={}){return eN(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function eN(e){return[...new Set(e)]}function nN(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function iN(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let a=JSON.stringify(nN(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function yk(){let e=j.useContext(nu);return av(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function sN(){let e=j.useContext(cm);return av(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ov=j.createContext(void 0);ov.displayName="FrameworkContext";function _k(){let e=j.useContext(ov);return av(e,"You must render this element inside a <HydratedRouter> element"),e}function rN(e,t){let n=j.useContext(ov),[i,s]=j.useState(!1),[a,l]=j.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:y}=t,_=j.useRef(null);j.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let A=D=>{D.forEach(O=>{l(O.isIntersecting)})},T=new IntersectionObserver(A,{threshold:.5});return _.current&&T.observe(_.current),()=>{T.disconnect()}}},[e]),j.useEffect(()=>{if(i){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[i]);let x=()=>{s(!0)},E=()=>{s(!1),l(!1)};return n?e!=="intent"?[a,_,{}]:[a,_,{onFocus:yh(c,x),onBlur:yh(h,E),onMouseEnter:yh(f,x),onMouseLeave:yh(p,E),onTouchStart:yh(y,x)}]:[!1,_,{}]}function yh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function aN({page:e,...t}){let{router:n}=yk(),i=j.useMemo(()=>lk(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?j.createElement(lN,{page:e,matches:i,...t}):null}function oN(e){let{manifest:t,routeModules:n}=_k(),[i,s]=j.useState([]);return j.useEffect(()=>{let a=!1;return JP(e,t,n).then(l=>{a||s(l)}),()=>{a=!0}},[e,t,n]),i}function lN({page:e,matches:t,...n}){let i=lr(),{manifest:s,routeModules:a}=_k(),{basename:l}=yk(),{loaderData:c,matches:h}=sN(),f=j.useMemo(()=>iS(e,t,h,s,i,"data"),[e,t,h,s,i]),p=j.useMemo(()=>iS(e,t,h,s,i,"assets"),[e,t,h,s,i]),y=j.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let E=new Set,A=!1;if(t.forEach(D=>{var L;let O=s.routes[D.route.id];!O||!O.hasLoader||(!f.some(B=>B.route.id===D.route.id)&&D.route.id in c&&((L=a[D.route.id])!=null&&L.shouldRevalidate)||O.hasClientLoader?A=!0:E.add(D.route.id))}),E.size===0)return[];let T=XP(e,l,"data");return A&&E.size>0&&T.searchParams.set("_routes",t.filter(D=>E.has(D.route.id)).map(D=>D.route.id).join(",")),[T.pathname+T.search]},[l,c,i,s,f,t,e,a]),_=j.useMemo(()=>tN(p,s),[p,s]),x=oN(p);return j.createElement(j.Fragment,null,y.map(E=>j.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),_.map(E=>j.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),x.map(({key:E,link:A})=>j.createElement("link",{key:E,...A})))}function cN(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var bk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bk&&(window.__reactRouterVersion="7.7.0")}catch{}function uN({basename:e,children:t,window:n}){let i=j.useRef();i.current==null&&(i.current=Q2({window:n,v5Compat:!0}));let s=i.current,[a,l]=j.useState({action:s.action,location:s.location}),c=j.useCallback(h=>{j.startTransition(()=>l(h))},[l]);return j.useLayoutEffect(()=>s.listen(c),[s,c]),j.createElement(UP,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var vk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xk=j.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:l,state:c,target:h,to:f,preventScrollReset:p,viewTransition:y,..._},x){let{basename:E}=j.useContext(As),A=typeof f=="string"&&vk.test(f),T,D=!1;if(typeof f=="string"&&A&&(T=f,bk))try{let P=new URL(window.location.href),z=f.startsWith("//")?new URL(P.protocol+f):new URL(f),U=ta(z.pathname,E);z.origin===P.origin&&U!=null?f=U+z.search+z.hash:D=!0}catch{Fi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=SP(f,{relative:s}),[L,B,M]=rN(i,_),Y=pN(f,{replace:l,state:c,target:h,preventScrollReset:p,relative:s,viewTransition:y});function C(P){t&&t(P),P.defaultPrevented||Y(P)}let k=j.createElement("a",{..._,...M,href:T||O,onClick:D||a?t:C,ref:cN(x,B),target:h,"data-discover":!A&&n==="render"?"true":void 0});return L&&!A?j.createElement(j.Fragment,null,k,j.createElement(aN,{page:O})):k});xk.displayName="Link";var hN=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:l,viewTransition:c,children:h,...f},p){let y=Vf(l,{relative:f.relative}),_=lr(),x=j.useContext(cm),{navigator:E,basename:A}=j.useContext(As),T=x!=null&&bN(y)&&c===!0,D=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,O=_.pathname,L=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(O=O.toLowerCase(),L=L?L.toLowerCase():null,D=D.toLowerCase()),L&&A&&(L=ta(L,A)||L);const B=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let M=O===D||!s&&O.startsWith(D)&&O.charAt(B)==="/",Y=L!=null&&(L===D||!s&&L.startsWith(D)&&L.charAt(D.length)==="/"),C={isActive:M,isPending:Y,isTransitioning:T},k=M?t:void 0,P;typeof i=="function"?P=i(C):P=[i,M?"active":null,Y?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let z=typeof a=="function"?a(C):a;return j.createElement(xk,{...f,"aria-current":k,className:P,ref:p,style:z,to:l,viewTransition:c},typeof h=="function"?h(C):h)});hN.displayName="NavLink";var fN=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:a,method:l=og,action:c,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:y,..._},x)=>{let E=yN(),A=_N(c,{relative:f}),T=l.toLowerCase()==="get"?"get":"post",D=typeof c=="string"&&vk.test(c),O=L=>{if(h&&h(L),L.defaultPrevented)return;L.preventDefault();let B=L.nativeEvent.submitter,M=(B==null?void 0:B.getAttribute("formmethod"))||l;E(B||L.currentTarget,{fetcherKey:t,method:M,navigate:n,replace:s,state:a,relative:f,preventScrollReset:p,viewTransition:y})};return j.createElement("form",{ref:x,method:T,action:A,onSubmit:i?h:O,..._,"data-discover":!D&&e==="render"?"true":void 0})});fN.displayName="Form";function dN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wk(e){let t=j.useContext(nu);return qe(t,dN(e)),t}function pN(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=Tl(),h=lr(),f=Vf(e,{relative:a});return j.useCallback(p=>{if(HP(p,t)){p.preventDefault();let y=n!==void 0?n:cf(h)===cf(f);c(e,{replace:y,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[h,c,f,n,i,t,e,s,a,l])}function hm(e){Fi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=j.useRef(Qb(e)),n=j.useRef(!1),i=lr(),s=j.useMemo(()=>WP(i.search,n.current?null:t.current),[i.search]),a=Tl(),l=j.useCallback((c,h)=>{const f=Qb(typeof c=="function"?c(new URLSearchParams(s)):c);n.current=!0,a("?"+f,h)},[a,s]);return[s,l]}var gN=0,mN=()=>`__${String(++gN)}__`;function yN(){let{router:e}=wk("useSubmit"),{basename:t}=j.useContext(As),n=NP();return j.useCallback(async(i,s={})=>{let{action:a,method:l,encType:c,formData:h,body:f}=KP(i,t);if(s.navigate===!1){let p=s.fetcherKey||mN();await e.fetch(p,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function _N(e,{relative:t}={}){let{basename:n}=j.useContext(As),i=j.useContext(or);qe(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...Vf(e||".",{relative:t})},l=lr();if(e==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Qr([n,a.pathname])),cf(a)}function bN(e,t={}){let n=j.useContext(fk);qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=wk("useViewTransitionState"),s=Vf(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=ta(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=ta(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Mg(s.pathname,l)!=null||Mg(s.pathname,a)!=null}var Un=function(){return Un=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Un.apply(this,arguments)};function uf(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,a;i<s;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))}var Pe="-ms-",Wh="-moz-",_e="-webkit-",Ek="comm",fm="rule",lv="decl",vN="@import",Sk="@keyframes",xN="@layer",Tk=Math.abs,cv=String.fromCharCode,Zb=Object.assign;function wN(e,t){return jn(e,0)^45?(((t<<2^jn(e,0))<<2^jn(e,1))<<2^jn(e,2))<<2^jn(e,3):0}function Ak(e){return e.trim()}function Br(e,t){return(e=t.exec(e))?e[0]:e}function Kt(e,t,n){return e.replace(t,n)}function cg(e,t,n){return e.indexOf(t,n)}function jn(e,t){return e.charCodeAt(t)|0}function Uc(e,t,n){return e.slice(t,n)}function Gs(e){return e.length}function Rk(e){return e.length}function Oh(e,t){return t.push(e),e}function EN(e,t){return e.map(t).join("")}function sS(e,t){return e.filter(function(n){return!Br(n,t)})}var dm=1,zc=1,kk=0,ls=0,pn=0,su="";function pm(e,t,n,i,s,a,l,c){return{value:e,root:t,parent:n,type:i,props:s,children:a,line:dm,column:zc,length:l,return:"",siblings:c}}function Ba(e,t){return Zb(pm("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function vc(e){for(;e.root;)e=Ba(e.root,{children:[e]});Oh(e,e.siblings)}function SN(){return pn}function TN(){return pn=ls>0?jn(su,--ls):0,zc--,pn===10&&(zc=1,dm--),pn}function vs(){return pn=ls<kk?jn(su,ls++):0,zc++,pn===10&&(zc=1,dm++),pn}function cl(){return jn(su,ls)}function ug(){return ls}function gm(e,t){return Uc(su,e,t)}function Jb(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function AN(e){return dm=zc=1,kk=Gs(su=e),ls=0,[]}function RN(e){return su="",e}function ib(e){return Ak(gm(ls-1,t0(e===91?e+2:e===40?e+1:e)))}function kN(e){for(;(pn=cl())&&pn<33;)vs();return Jb(e)>2||Jb(pn)>3?"":" "}function CN(e,t){for(;--t&&vs()&&!(pn<48||pn>102||pn>57&&pn<65||pn>70&&pn<97););return gm(e,ug()+(t<6&&cl()==32&&vs()==32))}function t0(e){for(;vs();)switch(pn){case e:return ls;case 34:case 39:e!==34&&e!==39&&t0(pn);break;case 40:e===41&&t0(e);break;case 92:vs();break}return ls}function DN(e,t){for(;vs()&&e+pn!==57;)if(e+pn===84&&cl()===47)break;return"/*"+gm(t,ls-1)+"*"+cv(e===47?e:vs())}function MN(e){for(;!Jb(cl());)vs();return gm(e,ls)}function IN(e){return RN(hg("",null,null,null,[""],e=AN(e),0,[0],e))}function hg(e,t,n,i,s,a,l,c,h){for(var f=0,p=0,y=l,_=0,x=0,E=0,A=1,T=1,D=1,O=0,L="",B=s,M=a,Y=i,C=L;T;)switch(E=O,O=vs()){case 40:if(E!=108&&jn(C,y-1)==58){cg(C+=Kt(ib(O),"&","&\f"),"&\f",Tk(f?c[f-1]:0))!=-1&&(D=-1);break}case 34:case 39:case 91:C+=ib(O);break;case 9:case 10:case 13:case 32:C+=kN(E);break;case 92:C+=CN(ug()-1,7);continue;case 47:switch(cl()){case 42:case 47:Oh(ON(DN(vs(),ug()),t,n,h),h);break;default:C+="/"}break;case 123*A:c[f++]=Gs(C)*D;case 125*A:case 59:case 0:switch(O){case 0:case 125:T=0;case 59+p:D==-1&&(C=Kt(C,/\f/g,"")),x>0&&Gs(C)-y&&Oh(x>32?aS(C+";",i,n,y-1,h):aS(Kt(C," ","")+";",i,n,y-2,h),h);break;case 59:C+=";";default:if(Oh(Y=rS(C,t,n,f,p,s,c,L,B=[],M=[],y,a),a),O===123)if(p===0)hg(C,t,Y,Y,B,a,y,c,M);else switch(_===99&&jn(C,3)===110?100:_){case 100:case 108:case 109:case 115:hg(e,Y,Y,i&&Oh(rS(e,Y,Y,0,0,s,c,L,s,B=[],y,M),M),s,M,y,c,i?B:M);break;default:hg(C,Y,Y,Y,[""],M,0,c,M)}}f=p=x=0,A=D=1,L=C="",y=l;break;case 58:y=1+Gs(C),x=E;default:if(A<1){if(O==123)--A;else if(O==125&&A++==0&&TN()==125)continue}switch(C+=cv(O),O*A){case 38:D=p>0?1:(C+="\f",-1);break;case 44:c[f++]=(Gs(C)-1)*D,D=1;break;case 64:cl()===45&&(C+=ib(vs())),_=cl(),p=y=Gs(L=C+=MN(ug())),O++;break;case 45:E===45&&Gs(C)==2&&(A=0)}}return a}function rS(e,t,n,i,s,a,l,c,h,f,p,y){for(var _=s-1,x=s===0?a:[""],E=Rk(x),A=0,T=0,D=0;A<i;++A)for(var O=0,L=Uc(e,_+1,_=Tk(T=l[A])),B=e;O<E;++O)(B=Ak(T>0?x[O]+" "+L:Kt(L,/&\f/g,x[O])))&&(h[D++]=B);return pm(e,t,n,s===0?fm:c,h,f,p,y)}function ON(e,t,n,i){return pm(e,t,n,Ek,cv(SN()),Uc(e,2,-2),0,i)}function aS(e,t,n,i,s){return pm(e,t,n,lv,Uc(e,0,i),Uc(e,i+1,-1),i,s)}function Ck(e,t,n){switch(wN(e,t)){case 5103:return _e+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _e+e+e;case 4789:return Wh+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return _e+e+Wh+e+Pe+e+e;case 5936:switch(jn(e,t+11)){case 114:return _e+e+Pe+Kt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return _e+e+Pe+Kt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return _e+e+Pe+Kt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return _e+e+Pe+e+e;case 6165:return _e+e+Pe+"flex-"+e+e;case 5187:return _e+e+Kt(e,/(\w+).+(:[^]+)/,_e+"box-$1$2"+Pe+"flex-$1$2")+e;case 5443:return _e+e+Pe+"flex-item-"+Kt(e,/flex-|-self/g,"")+(Br(e,/flex-|baseline/)?"":Pe+"grid-row-"+Kt(e,/flex-|-self/g,""))+e;case 4675:return _e+e+Pe+"flex-line-pack"+Kt(e,/align-content|flex-|-self/g,"")+e;case 5548:return _e+e+Pe+Kt(e,"shrink","negative")+e;case 5292:return _e+e+Pe+Kt(e,"basis","preferred-size")+e;case 6060:return _e+"box-"+Kt(e,"-grow","")+_e+e+Pe+Kt(e,"grow","positive")+e;case 4554:return _e+Kt(e,/([^-])(transform)/g,"$1"+_e+"$2")+e;case 6187:return Kt(Kt(Kt(e,/(zoom-|grab)/,_e+"$1"),/(image-set)/,_e+"$1"),e,"")+e;case 5495:case 3959:return Kt(e,/(image-set\([^]*)/,_e+"$1$`$1");case 4968:return Kt(Kt(e,/(.+:)(flex-)?(.*)/,_e+"box-pack:$3"+Pe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_e+e+e;case 4200:if(!Br(e,/flex-|baseline/))return Pe+"grid-column-align"+Uc(e,t)+e;break;case 2592:case 3360:return Pe+Kt(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(i,s){return t=s,Br(i.props,/grid-\w+-end/)})?~cg(e+(n=n[t].value),"span",0)?e:Pe+Kt(e,"-start","")+e+Pe+"grid-row-span:"+(~cg(n,"span",0)?Br(n,/\d+/):+Br(n,/\d+/)-+Br(e,/\d+/))+";":Pe+Kt(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(i){return Br(i.props,/grid-\w+-start/)})?e:Pe+Kt(Kt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Kt(e,/(.+)-inline(.+)/,_e+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Gs(e)-1-t>6)switch(jn(e,t+1)){case 109:if(jn(e,t+4)!==45)break;case 102:return Kt(e,/(.+:)(.+)-([^]+)/,"$1"+_e+"$2-$3$1"+Wh+(jn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~cg(e,"stretch",0)?Ck(Kt(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Kt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,s,a,l,c,h,f){return Pe+s+":"+a+f+(l?Pe+s+"-span:"+(c?h:+h-+a)+f:"")+e});case 4949:if(jn(e,t+6)===121)return Kt(e,":",":"+_e)+e;break;case 6444:switch(jn(e,jn(e,14)===45?18:11)){case 120:return Kt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+_e+(jn(e,14)===45?"inline-":"")+"box$3$1"+_e+"$2$3$1"+Pe+"$2box$3")+e;case 100:return Kt(e,":",":"+Pe)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Kt(e,"scroll-","scroll-snap-")+e}return e}function Ig(e,t){for(var n="",i=0;i<e.length;i++)n+=t(e[i],i,e,t)||"";return n}function PN(e,t,n,i){switch(e.type){case xN:if(e.children.length)break;case vN:case lv:return e.return=e.return||e.value;case Ek:return"";case Sk:return e.return=e.value+"{"+Ig(e.children,i)+"}";case fm:if(!Gs(e.value=e.props.join(",")))return""}return Gs(n=Ig(e.children,i))?e.return=e.value+"{"+n+"}":""}function NN(e){var t=Rk(e);return function(n,i,s,a){for(var l="",c=0;c<t;c++)l+=e[c](n,i,s,a)||"";return l}}function LN(e){return function(t){t.root||(t=t.return)&&e(t)}}function VN(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case lv:e.return=Ck(e.value,e.length,n);return;case Sk:return Ig([Ba(e,{value:Kt(e.value,"@","@"+_e)})],i);case fm:if(e.length)return EN(n=e.props,function(s){switch(Br(s,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":vc(Ba(e,{props:[Kt(s,/:(read-\w+)/,":"+Wh+"$1")]})),vc(Ba(e,{props:[s]})),Zb(e,{props:sS(n,i)});break;case"::placeholder":vc(Ba(e,{props:[Kt(s,/:(plac\w+)/,":"+_e+"input-$1")]})),vc(Ba(e,{props:[Kt(s,/:(plac\w+)/,":"+Wh+"$1")]})),vc(Ba(e,{props:[Kt(s,/:(plac\w+)/,Pe+"input-$1")]})),vc(Ba(e,{props:[s]})),Zb(e,{props:sS(n,i)});break}return""})}}var jN={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Vi={},Bc=typeof process<"u"&&Vi!==void 0&&(Vi.REACT_APP_SC_ATTR||Vi.SC_ATTR)||"data-styled",Dk="active",Mk="data-styled-version",mm="6.1.19",uv=`/*!sc*/
`,Og=typeof window<"u"&&typeof document<"u",UN=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Vi!==void 0&&Vi.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Vi.REACT_APP_SC_DISABLE_SPEEDY!==""?Vi.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Vi.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Vi!==void 0&&Vi.SC_DISABLE_SPEEDY!==void 0&&Vi.SC_DISABLE_SPEEDY!==""&&Vi.SC_DISABLE_SPEEDY!=="false"&&Vi.SC_DISABLE_SPEEDY),zN={},ym=Object.freeze([]),Fc=Object.freeze({});function Ik(e,t,n){return n===void 0&&(n=Fc),e.theme!==n.theme&&e.theme||t||n.theme}var Ok=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),BN=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,FN=/(^-|-$)/g;function oS(e){return e.replace(BN,"-").replace(FN,"")}var qN=/(a)(d)/gi,Ep=52,lS=function(e){return String.fromCharCode(e+(e>25?39:97))};function e0(e){var t,n="";for(t=Math.abs(e);t>Ep;t=t/Ep|0)n=lS(t%Ep)+n;return(lS(t%Ep)+n).replace(qN,"$1-$2")}var sb,Pk=5381,Cc=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Nk=function(e){return Cc(Pk,e)};function Lk(e){return e0(Nk(e)>>>0)}function $N(e){return e.displayName||e.name||"Component"}function rb(e){return typeof e=="string"&&!0}var Vk=typeof Symbol=="function"&&Symbol.for,jk=Vk?Symbol.for("react.memo"):60115,HN=Vk?Symbol.for("react.forward_ref"):60112,WN={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},YN={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Uk={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},GN=((sb={})[HN]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},sb[jk]=Uk,sb);function cS(e){return("type"in(t=e)&&t.type.$$typeof)===jk?Uk:"$$typeof"in e?GN[e.$$typeof]:WN;var t}var KN=Object.defineProperty,XN=Object.getOwnPropertyNames,uS=Object.getOwnPropertySymbols,QN=Object.getOwnPropertyDescriptor,ZN=Object.getPrototypeOf,hS=Object.prototype;function zk(e,t,n){if(typeof t!="string"){if(hS){var i=ZN(t);i&&i!==hS&&zk(e,i,n)}var s=XN(t);uS&&(s=s.concat(uS(t)));for(var a=cS(e),l=cS(t),c=0;c<s.length;++c){var h=s[c];if(!(h in YN||n&&n[h]||l&&h in l||a&&h in a)){var f=QN(t,h);try{KN(e,h,f)}catch{}}}}return e}function pl(e){return typeof e=="function"}function hv(e){return typeof e=="object"&&"styledComponentId"in e}function rl(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function n0(e,t){if(e.length===0)return"";for(var n=e[0],i=1;i<e.length;i++)n+=e[i];return n}function hf(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function i0(e,t,n){if(n===void 0&&(n=!1),!n&&!hf(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var i=0;i<t.length;i++)e[i]=i0(e[i],t[i]);else if(hf(t))for(var i in t)e[i]=i0(e[i],t[i]);return e}function fv(e,t){Object.defineProperty(e,"toString",{value:t})}function gl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var JN=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,i=0;i<t;i++)n+=this.groupSizes[i];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,a=s;t>=a;)if((a<<=1)<0)throw gl(16,"".concat(t));this.groupSizes=new Uint32Array(a),this.groupSizes.set(i),this.length=a;for(var l=s;l<a;l++)this.groupSizes[l]=0}for(var c=this.indexOfGroup(t+1),h=(l=0,n.length);l<h;l++)this.tag.insertRule(c,n[l])&&(this.groupSizes[t]++,c++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],i=this.indexOfGroup(t),s=i+n;this.groupSizes[t]=0;for(var a=i;a<s;a++)this.tag.deleteRule(i)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var i=this.groupSizes[t],s=this.indexOfGroup(t),a=s+i,l=s;l<a;l++)n+="".concat(this.tag.getRule(l)).concat(uv);return n},e}(),fg=new Map,Pg=new Map,dg=1,Sp=function(e){if(fg.has(e))return fg.get(e);for(;Pg.has(dg);)dg++;var t=dg++;return fg.set(e,t),Pg.set(t,e),t},tL=function(e,t){dg=t+1,fg.set(e,t),Pg.set(t,e)},eL="style[".concat(Bc,"][").concat(Mk,'="').concat(mm,'"]'),nL=new RegExp("^".concat(Bc,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),iL=function(e,t,n){for(var i,s=n.split(","),a=0,l=s.length;a<l;a++)(i=s[a])&&e.registerName(t,i)},sL=function(e,t){for(var n,i=((n=t.textContent)!==null&&n!==void 0?n:"").split(uv),s=[],a=0,l=i.length;a<l;a++){var c=i[a].trim();if(c){var h=c.match(nL);if(h){var f=0|parseInt(h[1],10),p=h[2];f!==0&&(tL(p,f),iL(e,p,h[3]),e.getTag().insertRules(f,s)),s.length=0}else s.push(c)}}},fS=function(e){for(var t=document.querySelectorAll(eL),n=0,i=t.length;n<i;n++){var s=t[n];s&&s.getAttribute(Bc)!==Dk&&(sL(e,s),s.parentNode&&s.parentNode.removeChild(s))}};function rL(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Bk=function(e){var t=document.head,n=e||t,i=document.createElement("style"),s=function(c){var h=Array.from(c.querySelectorAll("style[".concat(Bc,"]")));return h[h.length-1]}(n),a=s!==void 0?s.nextSibling:null;i.setAttribute(Bc,Dk),i.setAttribute(Mk,mm);var l=rL();return l&&i.setAttribute("nonce",l),n.insertBefore(i,a),i},aL=function(){function e(t){this.element=Bk(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var i=document.styleSheets,s=0,a=i.length;s<a;s++){var l=i[s];if(l.ownerNode===n)return l}throw gl(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),oL=function(){function e(t){this.element=Bk(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var i=document.createTextNode(n);return this.element.insertBefore(i,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),lL=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),dS=Og,cL={isServer:!Og,useCSSOMInjection:!UN},Ng=function(){function e(t,n,i){t===void 0&&(t=Fc),n===void 0&&(n={});var s=this;this.options=Un(Un({},cL),t),this.gs=n,this.names=new Map(i),this.server=!!t.isServer,!this.server&&Og&&dS&&(dS=!1,fS(this)),fv(this,function(){return function(a){for(var l=a.getTag(),c=l.length,h="",f=function(y){var _=function(D){return Pg.get(D)}(y);if(_===void 0)return"continue";var x=a.names.get(_),E=l.getGroup(y);if(x===void 0||!x.size||E.length===0)return"continue";var A="".concat(Bc,".g").concat(y,'[id="').concat(_,'"]'),T="";x!==void 0&&x.forEach(function(D){D.length>0&&(T+="".concat(D,","))}),h+="".concat(E).concat(A,'{content:"').concat(T,'"}').concat(uv)},p=0;p<c;p++)f(p);return h}(s)})}return e.registerId=function(t){return Sp(t)},e.prototype.rehydrate=function(){!this.server&&Og&&fS(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Un(Un({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var i=n.useCSSOMInjection,s=n.target;return n.isServer?new lL(s):i?new aL(s):new oL(s)}(this.options),new JN(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(Sp(t),this.names.has(t))this.names.get(t).add(n);else{var i=new Set;i.add(n),this.names.set(t,i)}},e.prototype.insertRules=function(t,n,i){this.registerName(t,n),this.getTag().insertRules(Sp(t),i)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Sp(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),uL=/&/g,hL=/^\s*\/\/.*$/gm;function Fk(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(i){return"".concat(t," ").concat(i)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Fk(n.children,t)),n})}function fL(e){var t,n,i,s=Fc,a=s.options,l=a===void 0?Fc:a,c=s.plugins,h=c===void 0?ym:c,f=function(_,x,E){return E.startsWith(n)&&E.endsWith(n)&&E.replaceAll(n,"").length>0?".".concat(t):_},p=h.slice();p.push(function(_){_.type===fm&&_.value.includes("&")&&(_.props[0]=_.props[0].replace(uL,n).replace(i,f))}),l.prefix&&p.push(VN),p.push(PN);var y=function(_,x,E,A){x===void 0&&(x=""),E===void 0&&(E=""),A===void 0&&(A="&"),t=A,n=x,i=new RegExp("\\".concat(n,"\\b"),"g");var T=_.replace(hL,""),D=IN(E||x?"".concat(E," ").concat(x," { ").concat(T," }"):T);l.namespace&&(D=Fk(D,l.namespace));var O=[];return Ig(D,NN(p.concat(LN(function(L){return O.push(L)})))),O};return y.hash=h.length?h.reduce(function(_,x){return x.name||gl(15),Cc(_,x.name)},Pk).toString():"",y}var dL=new Ng,s0=fL(),qk=Et.createContext({shouldForwardProp:void 0,styleSheet:dL,stylis:s0});qk.Consumer;Et.createContext(void 0);function r0(){return j.useContext(qk)}var pL=function(){function e(t,n){var i=this;this.inject=function(s,a){a===void 0&&(a=s0);var l=i.name+a.hash;s.hasNameForId(i.id,l)||s.insertRules(i.id,l,a(i.rules,l,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,fv(this,function(){throw gl(12,String(i.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=s0),this.name+t.hash},e}(),gL=function(e){return e>="A"&&e<="Z"};function pS(e){for(var t="",n=0;n<e.length;n++){var i=e[n];if(n===1&&i==="-"&&e[0]==="-")return e;gL(i)?t+="-"+i.toLowerCase():t+=i}return t.startsWith("ms-")?"-"+t:t}var $k=function(e){return e==null||e===!1||e===""},Hk=function(e){var t,n,i=[];for(var s in e){var a=e[s];e.hasOwnProperty(s)&&!$k(a)&&(Array.isArray(a)&&a.isCss||pl(a)?i.push("".concat(pS(s),":"),a,";"):hf(a)?i.push.apply(i,uf(uf(["".concat(s," {")],Hk(a),!1),["}"],!1)):i.push("".concat(pS(s),": ").concat((t=s,(n=a)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in jN||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return i};function Qa(e,t,n,i){if($k(e))return[];if(hv(e))return[".".concat(e.styledComponentId)];if(pl(e)){if(!pl(a=e)||a.prototype&&a.prototype.isReactComponent||!t)return[e];var s=e(t);return Qa(s,t,n,i)}var a;return e instanceof pL?n?(e.inject(n,i),[e.getName(i)]):[e]:hf(e)?Hk(e):Array.isArray(e)?Array.prototype.concat.apply(ym,e.map(function(l){return Qa(l,t,n,i)})):[e.toString()]}function Wk(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(pl(n)&&!hv(n))return!1}return!0}var mL=Nk(mm),yL=function(){function e(t,n,i){this.rules=t,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&Wk(t),this.componentId=n,this.baseHash=Cc(mL,n),this.baseStyle=i,Ng.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,i){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))s=rl(s,this.staticRulesId);else{var a=n0(Qa(this.rules,t,n,i)),l=e0(Cc(this.baseHash,a)>>>0);if(!n.hasNameForId(this.componentId,l)){var c=i(a,".".concat(l),void 0,this.componentId);n.insertRules(this.componentId,l,c)}s=rl(s,l),this.staticRulesId=l}else{for(var h=Cc(this.baseHash,i.hash),f="",p=0;p<this.rules.length;p++){var y=this.rules[p];if(typeof y=="string")f+=y;else if(y){var _=n0(Qa(y,t,n,i));h=Cc(h,_+p),f+=_}}if(f){var x=e0(h>>>0);n.hasNameForId(this.componentId,x)||n.insertRules(this.componentId,x,i(f,".".concat(x),void 0,this.componentId)),s=rl(s,x)}}return s},e}(),ff=Et.createContext(void 0);ff.Consumer;function _L(e){var t=Et.useContext(ff),n=j.useMemo(function(){return function(i,s){if(!i)throw gl(14);if(pl(i)){var a=i(s);return a}if(Array.isArray(i)||typeof i!="object")throw gl(8);return s?Un(Un({},s),i):i}(e.theme,t)},[e.theme,t]);return e.children?Et.createElement(ff.Provider,{value:n},e.children):null}var ab={};function bL(e,t,n){var i=hv(e),s=e,a=!rb(e),l=t.attrs,c=l===void 0?ym:l,h=t.componentId,f=h===void 0?function(B,M){var Y=typeof B!="string"?"sc":oS(B);ab[Y]=(ab[Y]||0)+1;var C="".concat(Y,"-").concat(Lk(mm+Y+ab[Y]));return M?"".concat(M,"-").concat(C):C}(t.displayName,t.parentComponentId):h,p=t.displayName,y=p===void 0?function(B){return rb(B)?"styled.".concat(B):"Styled(".concat($N(B),")")}(e):p,_=t.displayName&&t.componentId?"".concat(oS(t.displayName),"-").concat(t.componentId):t.componentId||f,x=i&&s.attrs?s.attrs.concat(c).filter(Boolean):c,E=t.shouldForwardProp;if(i&&s.shouldForwardProp){var A=s.shouldForwardProp;if(t.shouldForwardProp){var T=t.shouldForwardProp;E=function(B,M){return A(B,M)&&T(B,M)}}else E=A}var D=new yL(n,_,i?s.componentStyle:void 0);function O(B,M){return function(Y,C,k){var P=Y.attrs,z=Y.componentStyle,U=Y.defaultProps,$=Y.foldedComponentIds,F=Y.styledComponentId,Pt=Y.target,X=Et.useContext(ff),V=r0(),Z=Y.shouldForwardProp||V.shouldForwardProp,ct=Ik(C,X,U)||Fc,st=function(yt,nt,pt){for(var _t,vt=Un(Un({},nt),{className:void 0,theme:pt}),At=0;At<yt.length;At+=1){var $t=pl(_t=yt[At])?_t(vt):_t;for(var ue in $t)vt[ue]=ue==="className"?rl(vt[ue],$t[ue]):ue==="style"?Un(Un({},vt[ue]),$t[ue]):$t[ue]}return nt.className&&(vt.className=rl(vt.className,nt.className)),vt}(P,C,ct),q=st.as||Pt,lt={};for(var ot in st)st[ot]===void 0||ot[0]==="$"||ot==="as"||ot==="theme"&&st.theme===ct||(ot==="forwardedAs"?lt.as=st.forwardedAs:Z&&!Z(ot,q)||(lt[ot]=st[ot]));var K=function(yt,nt){var pt=r0(),_t=yt.generateAndInjectStyles(nt,pt.styleSheet,pt.stylis);return _t}(z,st),at=rl($,F);return K&&(at+=" "+K),st.className&&(at+=" "+st.className),lt[rb(q)&&!Ok.has(q)?"class":"className"]=at,k&&(lt.ref=k),j.createElement(q,lt)}(L,B,M)}O.displayName=y;var L=Et.forwardRef(O);return L.attrs=x,L.componentStyle=D,L.displayName=y,L.shouldForwardProp=E,L.foldedComponentIds=i?rl(s.foldedComponentIds,s.styledComponentId):"",L.styledComponentId=_,L.target=i?s.target:e,Object.defineProperty(L,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(B){this._foldedDefaultProps=i?function(M){for(var Y=[],C=1;C<arguments.length;C++)Y[C-1]=arguments[C];for(var k=0,P=Y;k<P.length;k++)i0(M,P[k],!0);return M}({},s.defaultProps,B):B}}),fv(L,function(){return".".concat(L.styledComponentId)}),a&&zk(L,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),L}function gS(e,t){for(var n=[e[0]],i=0,s=t.length;i<s;i+=1)n.push(t[i],e[i+1]);return n}var mS=function(e){return Object.assign(e,{isCss:!0})};function Yk(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(pl(e)||hf(e))return mS(Qa(gS(ym,uf([e],t,!0))));var i=e;return t.length===0&&i.length===1&&typeof i[0]=="string"?Qa(i):mS(Qa(gS(i,t)))}function a0(e,t,n){if(n===void 0&&(n=Fc),!t)throw gl(1,t);var i=function(s){for(var a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];return e(t,n,Yk.apply(void 0,uf([s],a,!1)))};return i.attrs=function(s){return a0(e,t,Un(Un({},n),{attrs:Array.prototype.concat(n.attrs,s).filter(Boolean)}))},i.withConfig=function(s){return a0(e,t,Un(Un({},n),s))},i}var Gk=function(e){return a0(bL,e)},H=Gk;Ok.forEach(function(e){H[e]=Gk(e)});var vL=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=Wk(t),Ng.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,i,s){var a=s(n0(Qa(this.rules,n,i,s)),""),l=this.componentId+t;i.insertRules(l,l,a)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,i,s){t>2&&Ng.registerId(this.componentId+t),this.removeStyles(t,i),this.createStyles(t,n,i,s)},e}();function Kk(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Yk.apply(void 0,uf([e],t,!1)),s="sc-global-".concat(Lk(JSON.stringify(i))),a=new vL(i,s),l=function(h){var f=r0(),p=Et.useContext(ff),y=Et.useRef(f.styleSheet.allocateGSInstance(s)).current;return f.styleSheet.server&&c(y,h,f.styleSheet,p,f.stylis),Et.useLayoutEffect(function(){if(!f.styleSheet.server)return c(y,h,f.styleSheet,p,f.stylis),function(){return a.removeStyles(y,f.styleSheet)}},[y,h,f.styleSheet,p,f.stylis]),null};function c(h,f,p,y,_){if(a.isStatic)a.renderStyles(h,zN,p,_);else{var x=Un(Un({},f),{theme:Ik(f,y,l.defaultProps)});a.renderStyles(h,x,p,_)}}return Et.memo(l)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=()=>{};var yS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},wL=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=e[n++];t[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=e[n++],l=e[n++],c=e[n++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const a=e[n++],l=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return t.join("")},Qk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const a=e[s],l=s+1<e.length,c=l?e[s+1]:0,h=s+2<e.length,f=h?e[s+2]:0,p=a>>2,y=(a&3)<<4|c>>4;let _=(c&15)<<2|f>>6,x=f&63;h||(x=64,l||(_=64)),i.push(n[p],n[y],n[_],n[x])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Xk(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):wL(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const a=n[e.charAt(s++)],c=s<e.length?n[e.charAt(s)]:0;++s;const f=s<e.length?n[e.charAt(s)]:64;++s;const y=s<e.length?n[e.charAt(s)]:64;if(++s,a==null||c==null||f==null||y==null)throw new EL;const _=a<<2|c>>4;if(i.push(_),f!==64){const x=c<<4&240|f>>2;if(i.push(x),y!==64){const E=f<<6&192|y;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class EL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SL=function(e){const t=Xk(e);return Qk.encodeByteArray(t,!0)},Lg=function(e){return SL(e).replace(/\./g,"")},Zk=function(e){try{return Qk.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=()=>TL().__FIREBASE_DEFAULTS__,RL=()=>{if(typeof process>"u"||typeof yS>"u")return;const e=yS.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},kL=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Zk(e[1]);return t&&JSON.parse(t)},_m=()=>{try{return xL()||AL()||RL()||kL()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Jk=e=>{var t,n;return(n=(t=_m())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},CL=e=>{const t=Jk(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},tC=()=>{var e;return(e=_m())==null?void 0:e.config},eC=e=>{var t;return(t=_m())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nC(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Lg(JSON.stringify(n)),Lg(JSON.stringify(l)),""].join(".")}const Yh={};function IL(){const e={prod:[],emulator:[]};for(const t of Object.keys(Yh))Yh[t]?e.emulator.push(t):e.prod.push(t);return e}function OL(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let _S=!1;function iC(e,t){if(typeof window>"u"||typeof document>"u"||!ru(window.location.host)||Yh[e]===t||Yh[e]||_S)return;Yh[e]=t;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",a=IL().prod.length>0;function l(){const _=document.getElementById(i);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,x){_.setAttribute("width","24"),_.setAttribute("id",x),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{_S=!0,l()},_}function p(_,x){_.setAttribute("id",x),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=OL(i),x=n("text"),E=document.getElementById(x)||document.createElement("span"),A=n("learnmore"),T=document.getElementById(A)||document.createElement("a"),D=n("preprendIcon"),O=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const L=_.element;c(L),p(T,A);const B=f();h(O,D),L.append(O,E,T,B),document.body.appendChild(L)}a?(E.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fi())}function NL(){var t;const e=(t=_m())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VL(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function jL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UL(){const e=fi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function zL(){return!NL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BL(){try{return typeof indexedDB=="object"}catch{return!1}}function FL(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;t(((a=s.error)==null?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="FirebaseError";class ra extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=qL,Object.setPrototypeOf(this,ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jf.prototype.create)}}class jf{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,a=this.errors[t],l=a?$L(a,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new ra(s,c,i)}}function $L(e,t){return e.replace(HL,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const HL=/\{\$([^}]+)}/g;function WL(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ml(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const a=e[s],l=t[s];if(bS(a)&&bS(l)){if(!ml(a,l))return!1}else if(a!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function bS(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Ph(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,a]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(a)}}),t}function Nh(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function YL(e,t){const n=new GL(e,t);return n.subscribe.bind(n)}class GL{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");KL(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=ob),s.error===void 0&&(s.error=ob),s.complete===void 0&&(s.complete=ob);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KL(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function ob(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(e){return e&&e._delegate?e._delegate:e}class yl{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new DL;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ZL(t))try{this.getOrInitializeService({instanceIdentifier:el})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(t=el){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=el){return this.instances.has(t)}getOptions(t=el){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);i===c&&l.resolve(s)}return s}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&t(a,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:QL(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=el){return this.component?this.component.multipleInstances?t:el:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QL(e){return e===el?void 0:e}function ZL(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new XL(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ne||(ne={}));const t4={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},e4=ne.INFO,n4={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},i4=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=n4[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dv{constructor(t){this.name=t,this._logLevel=e4,this._logHandler=i4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?t4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...t),this._logHandler(this,ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...t),this._logHandler(this,ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...t),this._logHandler(this,ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...t),this._logHandler(this,ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...t),this._logHandler(this,ne.ERROR,...t)}}const s4=(e,t)=>t.some(n=>e instanceof n);let vS,xS;function r4(){return vS||(vS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a4(){return xS||(xS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sC=new WeakMap,o0=new WeakMap,rC=new WeakMap,lb=new WeakMap,pv=new WeakMap;function o4(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",l)},a=()=>{n(Za(e.result)),s()},l=()=>{i(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&sC.set(n,e)}).catch(()=>{}),pv.set(t,e),t}function l4(e){if(o0.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",l),e.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",l),e.addEventListener("abort",l)});o0.set(e,t)}let l0={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return o0.get(e);if(t==="objectStoreNames")return e.objectStoreNames||rC.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Za(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function c4(e){l0=e(l0)}function u4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(cb(this),t,...n);return rC.set(i,t.sort?t.sort():[t]),Za(i)}:a4().includes(e)?function(...t){return e.apply(cb(this),t),Za(sC.get(this))}:function(...t){return Za(e.apply(cb(this),t))}}function h4(e){return typeof e=="function"?u4(e):(e instanceof IDBTransaction&&l4(e),s4(e,r4())?new Proxy(e,l0):e)}function Za(e){if(e instanceof IDBRequest)return o4(e);if(lb.has(e))return lb.get(e);const t=h4(e);return t!==e&&(lb.set(e,t),pv.set(t,e)),t}const cb=e=>pv.get(e);function f4(e,t,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const l=indexedDB.open(e,t),c=Za(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Za(l.result),h.oldVersion,h.newVersion,Za(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const d4=["get","getKey","getAll","getAllKeys","count"],p4=["put","add","delete","clear"],ub=new Map;function wS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ub.get(t))return ub.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=p4.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||d4.includes(n)))return;const a=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&h.done]))[0]};return ub.set(t,a),a}c4(e=>({...e,get:(t,n,i)=>wS(t,n)||e.get(t,n,i),has:(t,n)=>!!wS(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(m4(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function m4(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const c0="@firebase/app",ES="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new dv("@firebase/app"),y4="@firebase/app-compat",_4="@firebase/analytics-compat",b4="@firebase/analytics",v4="@firebase/app-check-compat",x4="@firebase/app-check",w4="@firebase/auth",E4="@firebase/auth-compat",S4="@firebase/database",T4="@firebase/data-connect",A4="@firebase/database-compat",R4="@firebase/functions",k4="@firebase/functions-compat",C4="@firebase/installations",D4="@firebase/installations-compat",M4="@firebase/messaging",I4="@firebase/messaging-compat",O4="@firebase/performance",P4="@firebase/performance-compat",N4="@firebase/remote-config",L4="@firebase/remote-config-compat",V4="@firebase/storage",j4="@firebase/storage-compat",U4="@firebase/firestore",z4="@firebase/ai",B4="@firebase/firestore-compat",F4="firebase",q4="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="[DEFAULT]",$4={[c0]:"fire-core",[y4]:"fire-core-compat",[b4]:"fire-analytics",[_4]:"fire-analytics-compat",[x4]:"fire-app-check",[v4]:"fire-app-check-compat",[w4]:"fire-auth",[E4]:"fire-auth-compat",[S4]:"fire-rtdb",[T4]:"fire-data-connect",[A4]:"fire-rtdb-compat",[R4]:"fire-fn",[k4]:"fire-fn-compat",[C4]:"fire-iid",[D4]:"fire-iid-compat",[M4]:"fire-fcm",[I4]:"fire-fcm-compat",[O4]:"fire-perf",[P4]:"fire-perf-compat",[N4]:"fire-rc",[L4]:"fire-rc-compat",[V4]:"fire-gcs",[j4]:"fire-gcs-compat",[U4]:"fire-fst",[B4]:"fire-fst-compat",[z4]:"fire-vertex","fire-js":"fire-js",[F4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=new Map,H4=new Map,h0=new Map;function SS(e,t){try{e.container.addComponent(t)}catch(n){ea.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function qc(e){const t=e.name;if(h0.has(t))return ea.debug(`There were multiple attempts to register component ${t}.`),!1;h0.set(t,e);for(const n of df.values())SS(n,e);for(const n of H4.values())SS(n,e);return!0}function gv(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function rs(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ja=new jf("app","Firebase",W4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=q4;function aC(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:u0,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw Ja.create("bad-app-name",{appName:String(s)});if(n||(n=tC()),!n)throw Ja.create("no-options");const a=df.get(s);if(a){if(ml(n,a.options)&&ml(i,a.config))return a;throw Ja.create("duplicate-app",{appName:s})}const l=new JL(s);for(const h of h0.values())l.addComponent(h);const c=new Y4(n,i,l);return df.set(s,c),c}function mv(e=u0){const t=df.get(e);if(!t&&e===u0&&tC())return aC();if(!t)throw Ja.create("no-app",{appName:e});return t}function G4(){return Array.from(df.values())}function to(e,t,n){let i=$4[e]??e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ea.warn(l.join(" "));return}qc(new yl(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4="firebase-heartbeat-database",X4=1,pf="firebase-heartbeat-store";let hb=null;function oC(){return hb||(hb=f4(K4,X4,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(pf)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ja.create("idb-open",{originalErrorMessage:e.message})})),hb}async function Q4(e){try{const n=(await oC()).transaction(pf),i=await n.objectStore(pf).get(lC(e));return await n.done,i}catch(t){if(t instanceof ra)ea.warn(t.message);else{const n=Ja.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ea.warn(n.message)}}}async function TS(e,t){try{const i=(await oC()).transaction(pf,"readwrite");await i.objectStore(pf).put(t,lC(e)),await i.done}catch(n){if(n instanceof ra)ea.warn(n.message);else{const i=Ja.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ea.warn(i.message)}}}function lC(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=1024,J4=30;class tV{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nV(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=AS();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>J4){const l=iV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ea.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=AS(),{heartbeatsToSend:i,unsentEntries:s}=eV(this._heartbeatsCache.heartbeats),a=Lg(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ea.warn(n),""}}}function AS(){return new Date().toISOString().substring(0,10)}function eV(e,t=Z4){const n=[];let i=e.slice();for(const s of e){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),RS(n)>t){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),RS(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class nV{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BL()?FL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Q4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return TS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return TS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function RS(e){return Lg(JSON.stringify({version:2,heartbeats:e})).length}function iV(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(e){qc(new yl("platform-logger",t=>new g4(t),"PRIVATE")),qc(new yl("heartbeat",t=>new tV(t),"PRIVATE")),to(c0,ES,e),to(c0,ES,"esm2020"),to("fire-js","")}sV("");var rV="firebase",aV="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */to(rV,aV,"app");var kS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eo,cC;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,k){function P(){}P.prototype=k.prototype,C.D=k.prototype,C.prototype=new P,C.prototype.constructor=C,C.C=function(z,U,$){for(var F=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)F[Pt-2]=arguments[Pt];return k.prototype[U].apply(z,F)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,k,P){P||(P=0);var z=Array(16);if(typeof k=="string")for(var U=0;16>U;++U)z[U]=k.charCodeAt(P++)|k.charCodeAt(P++)<<8|k.charCodeAt(P++)<<16|k.charCodeAt(P++)<<24;else for(U=0;16>U;++U)z[U]=k[P++]|k[P++]<<8|k[P++]<<16|k[P++]<<24;k=C.g[0],P=C.g[1],U=C.g[2];var $=C.g[3],F=k+($^P&(U^$))+z[0]+3614090360&4294967295;k=P+(F<<7&4294967295|F>>>25),F=$+(U^k&(P^U))+z[1]+3905402710&4294967295,$=k+(F<<12&4294967295|F>>>20),F=U+(P^$&(k^P))+z[2]+606105819&4294967295,U=$+(F<<17&4294967295|F>>>15),F=P+(k^U&($^k))+z[3]+3250441966&4294967295,P=U+(F<<22&4294967295|F>>>10),F=k+($^P&(U^$))+z[4]+4118548399&4294967295,k=P+(F<<7&4294967295|F>>>25),F=$+(U^k&(P^U))+z[5]+1200080426&4294967295,$=k+(F<<12&4294967295|F>>>20),F=U+(P^$&(k^P))+z[6]+2821735955&4294967295,U=$+(F<<17&4294967295|F>>>15),F=P+(k^U&($^k))+z[7]+4249261313&4294967295,P=U+(F<<22&4294967295|F>>>10),F=k+($^P&(U^$))+z[8]+1770035416&4294967295,k=P+(F<<7&4294967295|F>>>25),F=$+(U^k&(P^U))+z[9]+2336552879&4294967295,$=k+(F<<12&4294967295|F>>>20),F=U+(P^$&(k^P))+z[10]+4294925233&4294967295,U=$+(F<<17&4294967295|F>>>15),F=P+(k^U&($^k))+z[11]+2304563134&4294967295,P=U+(F<<22&4294967295|F>>>10),F=k+($^P&(U^$))+z[12]+1804603682&4294967295,k=P+(F<<7&4294967295|F>>>25),F=$+(U^k&(P^U))+z[13]+4254626195&4294967295,$=k+(F<<12&4294967295|F>>>20),F=U+(P^$&(k^P))+z[14]+2792965006&4294967295,U=$+(F<<17&4294967295|F>>>15),F=P+(k^U&($^k))+z[15]+1236535329&4294967295,P=U+(F<<22&4294967295|F>>>10),F=k+(U^$&(P^U))+z[1]+4129170786&4294967295,k=P+(F<<5&4294967295|F>>>27),F=$+(P^U&(k^P))+z[6]+3225465664&4294967295,$=k+(F<<9&4294967295|F>>>23),F=U+(k^P&($^k))+z[11]+643717713&4294967295,U=$+(F<<14&4294967295|F>>>18),F=P+($^k&(U^$))+z[0]+3921069994&4294967295,P=U+(F<<20&4294967295|F>>>12),F=k+(U^$&(P^U))+z[5]+3593408605&4294967295,k=P+(F<<5&4294967295|F>>>27),F=$+(P^U&(k^P))+z[10]+38016083&4294967295,$=k+(F<<9&4294967295|F>>>23),F=U+(k^P&($^k))+z[15]+3634488961&4294967295,U=$+(F<<14&4294967295|F>>>18),F=P+($^k&(U^$))+z[4]+3889429448&4294967295,P=U+(F<<20&4294967295|F>>>12),F=k+(U^$&(P^U))+z[9]+568446438&4294967295,k=P+(F<<5&4294967295|F>>>27),F=$+(P^U&(k^P))+z[14]+3275163606&4294967295,$=k+(F<<9&4294967295|F>>>23),F=U+(k^P&($^k))+z[3]+4107603335&4294967295,U=$+(F<<14&4294967295|F>>>18),F=P+($^k&(U^$))+z[8]+1163531501&4294967295,P=U+(F<<20&4294967295|F>>>12),F=k+(U^$&(P^U))+z[13]+2850285829&4294967295,k=P+(F<<5&4294967295|F>>>27),F=$+(P^U&(k^P))+z[2]+4243563512&4294967295,$=k+(F<<9&4294967295|F>>>23),F=U+(k^P&($^k))+z[7]+1735328473&4294967295,U=$+(F<<14&4294967295|F>>>18),F=P+($^k&(U^$))+z[12]+2368359562&4294967295,P=U+(F<<20&4294967295|F>>>12),F=k+(P^U^$)+z[5]+4294588738&4294967295,k=P+(F<<4&4294967295|F>>>28),F=$+(k^P^U)+z[8]+2272392833&4294967295,$=k+(F<<11&4294967295|F>>>21),F=U+($^k^P)+z[11]+1839030562&4294967295,U=$+(F<<16&4294967295|F>>>16),F=P+(U^$^k)+z[14]+4259657740&4294967295,P=U+(F<<23&4294967295|F>>>9),F=k+(P^U^$)+z[1]+2763975236&4294967295,k=P+(F<<4&4294967295|F>>>28),F=$+(k^P^U)+z[4]+1272893353&4294967295,$=k+(F<<11&4294967295|F>>>21),F=U+($^k^P)+z[7]+4139469664&4294967295,U=$+(F<<16&4294967295|F>>>16),F=P+(U^$^k)+z[10]+3200236656&4294967295,P=U+(F<<23&4294967295|F>>>9),F=k+(P^U^$)+z[13]+681279174&4294967295,k=P+(F<<4&4294967295|F>>>28),F=$+(k^P^U)+z[0]+3936430074&4294967295,$=k+(F<<11&4294967295|F>>>21),F=U+($^k^P)+z[3]+3572445317&4294967295,U=$+(F<<16&4294967295|F>>>16),F=P+(U^$^k)+z[6]+76029189&4294967295,P=U+(F<<23&4294967295|F>>>9),F=k+(P^U^$)+z[9]+3654602809&4294967295,k=P+(F<<4&4294967295|F>>>28),F=$+(k^P^U)+z[12]+3873151461&4294967295,$=k+(F<<11&4294967295|F>>>21),F=U+($^k^P)+z[15]+530742520&4294967295,U=$+(F<<16&4294967295|F>>>16),F=P+(U^$^k)+z[2]+3299628645&4294967295,P=U+(F<<23&4294967295|F>>>9),F=k+(U^(P|~$))+z[0]+4096336452&4294967295,k=P+(F<<6&4294967295|F>>>26),F=$+(P^(k|~U))+z[7]+1126891415&4294967295,$=k+(F<<10&4294967295|F>>>22),F=U+(k^($|~P))+z[14]+2878612391&4294967295,U=$+(F<<15&4294967295|F>>>17),F=P+($^(U|~k))+z[5]+4237533241&4294967295,P=U+(F<<21&4294967295|F>>>11),F=k+(U^(P|~$))+z[12]+1700485571&4294967295,k=P+(F<<6&4294967295|F>>>26),F=$+(P^(k|~U))+z[3]+2399980690&4294967295,$=k+(F<<10&4294967295|F>>>22),F=U+(k^($|~P))+z[10]+4293915773&4294967295,U=$+(F<<15&4294967295|F>>>17),F=P+($^(U|~k))+z[1]+2240044497&4294967295,P=U+(F<<21&4294967295|F>>>11),F=k+(U^(P|~$))+z[8]+1873313359&4294967295,k=P+(F<<6&4294967295|F>>>26),F=$+(P^(k|~U))+z[15]+4264355552&4294967295,$=k+(F<<10&4294967295|F>>>22),F=U+(k^($|~P))+z[6]+2734768916&4294967295,U=$+(F<<15&4294967295|F>>>17),F=P+($^(U|~k))+z[13]+1309151649&4294967295,P=U+(F<<21&4294967295|F>>>11),F=k+(U^(P|~$))+z[4]+4149444226&4294967295,k=P+(F<<6&4294967295|F>>>26),F=$+(P^(k|~U))+z[11]+3174756917&4294967295,$=k+(F<<10&4294967295|F>>>22),F=U+(k^($|~P))+z[2]+718787259&4294967295,U=$+(F<<15&4294967295|F>>>17),F=P+($^(U|~k))+z[9]+3951481745&4294967295,C.g[0]=C.g[0]+k&4294967295,C.g[1]=C.g[1]+(U+(F<<21&4294967295|F>>>11))&4294967295,C.g[2]=C.g[2]+U&4294967295,C.g[3]=C.g[3]+$&4294967295}i.prototype.u=function(C,k){k===void 0&&(k=C.length);for(var P=k-this.blockSize,z=this.B,U=this.h,$=0;$<k;){if(U==0)for(;$<=P;)s(this,C,$),$+=this.blockSize;if(typeof C=="string"){for(;$<k;)if(z[U++]=C.charCodeAt($++),U==this.blockSize){s(this,z),U=0;break}}else for(;$<k;)if(z[U++]=C[$++],U==this.blockSize){s(this,z),U=0;break}}this.h=U,this.o+=k},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var k=1;k<C.length-8;++k)C[k]=0;var P=8*this.o;for(k=C.length-8;k<C.length;++k)C[k]=P&255,P/=256;for(this.u(C),C=Array(16),k=P=0;4>k;++k)for(var z=0;32>z;z+=8)C[P++]=this.g[k]>>>z&255;return C};function a(C,k){var P=c;return Object.prototype.hasOwnProperty.call(P,C)?P[C]:P[C]=k(C)}function l(C,k){this.h=k;for(var P=[],z=!0,U=C.length-1;0<=U;U--){var $=C[U]|0;z&&$==k||(P[U]=$,z=!1)}this.g=P}var c={};function h(C){return-128<=C&&128>C?a(C,function(k){return new l([k|0],0>k?-1:0)}):new l([C|0],0>C?-1:0)}function f(C){if(isNaN(C)||!isFinite(C))return y;if(0>C)return T(f(-C));for(var k=[],P=1,z=0;C>=P;z++)k[z]=C/P|0,P*=4294967296;return new l(k,0)}function p(C,k){if(C.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(C.charAt(0)=="-")return T(p(C.substring(1),k));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=f(Math.pow(k,8)),z=y,U=0;U<C.length;U+=8){var $=Math.min(8,C.length-U),F=parseInt(C.substring(U,U+$),k);8>$?($=f(Math.pow(k,$)),z=z.j($).add(f(F))):(z=z.j(P),z=z.add(f(F)))}return z}var y=h(0),_=h(1),x=h(16777216);e=l.prototype,e.m=function(){if(A(this))return-T(this).m();for(var C=0,k=1,P=0;P<this.g.length;P++){var z=this.i(P);C+=(0<=z?z:4294967296+z)*k,k*=4294967296}return C},e.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(E(this))return"0";if(A(this))return"-"+T(this).toString(C);for(var k=f(Math.pow(C,6)),P=this,z="";;){var U=B(P,k).g;P=D(P,U.j(k));var $=((0<P.g.length?P.g[0]:P.h)>>>0).toString(C);if(P=U,E(P))return $+z;for(;6>$.length;)$="0"+$;z=$+z}},e.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function E(C){if(C.h!=0)return!1;for(var k=0;k<C.g.length;k++)if(C.g[k]!=0)return!1;return!0}function A(C){return C.h==-1}e.l=function(C){return C=D(this,C),A(C)?-1:E(C)?0:1};function T(C){for(var k=C.g.length,P=[],z=0;z<k;z++)P[z]=~C.g[z];return new l(P,~C.h).add(_)}e.abs=function(){return A(this)?T(this):this},e.add=function(C){for(var k=Math.max(this.g.length,C.g.length),P=[],z=0,U=0;U<=k;U++){var $=z+(this.i(U)&65535)+(C.i(U)&65535),F=($>>>16)+(this.i(U)>>>16)+(C.i(U)>>>16);z=F>>>16,$&=65535,F&=65535,P[U]=F<<16|$}return new l(P,P[P.length-1]&-2147483648?-1:0)};function D(C,k){return C.add(T(k))}e.j=function(C){if(E(this)||E(C))return y;if(A(this))return A(C)?T(this).j(T(C)):T(T(this).j(C));if(A(C))return T(this.j(T(C)));if(0>this.l(x)&&0>C.l(x))return f(this.m()*C.m());for(var k=this.g.length+C.g.length,P=[],z=0;z<2*k;z++)P[z]=0;for(z=0;z<this.g.length;z++)for(var U=0;U<C.g.length;U++){var $=this.i(z)>>>16,F=this.i(z)&65535,Pt=C.i(U)>>>16,X=C.i(U)&65535;P[2*z+2*U]+=F*X,O(P,2*z+2*U),P[2*z+2*U+1]+=$*X,O(P,2*z+2*U+1),P[2*z+2*U+1]+=F*Pt,O(P,2*z+2*U+1),P[2*z+2*U+2]+=$*Pt,O(P,2*z+2*U+2)}for(z=0;z<k;z++)P[z]=P[2*z+1]<<16|P[2*z];for(z=k;z<2*k;z++)P[z]=0;return new l(P,0)};function O(C,k){for(;(C[k]&65535)!=C[k];)C[k+1]+=C[k]>>>16,C[k]&=65535,k++}function L(C,k){this.g=C,this.h=k}function B(C,k){if(E(k))throw Error("division by zero");if(E(C))return new L(y,y);if(A(C))return k=B(T(C),k),new L(T(k.g),T(k.h));if(A(k))return k=B(C,T(k)),new L(T(k.g),k.h);if(30<C.g.length){if(A(C)||A(k))throw Error("slowDivide_ only works with positive integers.");for(var P=_,z=k;0>=z.l(C);)P=M(P),z=M(z);var U=Y(P,1),$=Y(z,1);for(z=Y(z,2),P=Y(P,2);!E(z);){var F=$.add(z);0>=F.l(C)&&(U=U.add(P),$=F),z=Y(z,1),P=Y(P,1)}return k=D(C,U.j(k)),new L(U,k)}for(U=y;0<=C.l(k);){for(P=Math.max(1,Math.floor(C.m()/k.m())),z=Math.ceil(Math.log(P)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),$=f(P),F=$.j(k);A(F)||0<F.l(C);)P-=z,$=f(P),F=$.j(k);E($)&&($=_),U=U.add($),C=D(C,F)}return new L(U,C)}e.A=function(C){return B(this,C).h},e.and=function(C){for(var k=Math.max(this.g.length,C.g.length),P=[],z=0;z<k;z++)P[z]=this.i(z)&C.i(z);return new l(P,this.h&C.h)},e.or=function(C){for(var k=Math.max(this.g.length,C.g.length),P=[],z=0;z<k;z++)P[z]=this.i(z)|C.i(z);return new l(P,this.h|C.h)},e.xor=function(C){for(var k=Math.max(this.g.length,C.g.length),P=[],z=0;z<k;z++)P[z]=this.i(z)^C.i(z);return new l(P,this.h^C.h)};function M(C){for(var k=C.g.length+1,P=[],z=0;z<k;z++)P[z]=C.i(z)<<1|C.i(z-1)>>>31;return new l(P,C.h)}function Y(C,k){var P=k>>5;k%=32;for(var z=C.g.length-P,U=[],$=0;$<z;$++)U[$]=0<k?C.i($+P)>>>k|C.i($+P+1)<<32-k:C.i($+P);return new l(U,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,cC=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,eo=l}).apply(typeof kS<"u"?kS:typeof self<"u"?self:typeof window<"u"?window:{});var Tp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uC,Lh,hC,pg,f0,fC,dC,pC;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,w,S){return g==Array.prototype||g==Object.prototype||(g[w]=S.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tp=="object"&&Tp];for(var w=0;w<g.length;++w){var S=g[w];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var i=n(this);function s(g,w){if(w)t:{var S=i;g=g.split(".");for(var N=0;N<g.length-1;N++){var J=g[N];if(!(J in S))break t;S=S[J]}g=g[g.length-1],N=S[g],w=w(N),w!=N&&w!=null&&t(S,g,{configurable:!0,writable:!0,value:w})}}function a(g,w){g instanceof String&&(g+="");var S=0,N=!1,J={next:function(){if(!N&&S<g.length){var ut=S++;return{value:w(ut,g[ut]),done:!1}}return N=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}s("Array.prototype.values",function(g){return g||function(){return a(this,function(w,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(g){var w=typeof g;return w=w!="object"?w:g?Array.isArray(g)?"array":w:"null",w=="array"||w=="object"&&typeof g.length=="number"}function f(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}function p(g,w,S){return g.call.apply(g.bind,arguments)}function y(g,w,S){if(!g)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,N),g.apply(w,J)}}return function(){return g.apply(w,arguments)}}function _(g,w,S){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,_.apply(null,arguments)}function x(g,w){var S=Array.prototype.slice.call(arguments,1);return function(){var N=S.slice();return N.push.apply(N,arguments),g.apply(this,N)}}function E(g,w){function S(){}S.prototype=w.prototype,g.aa=w.prototype,g.prototype=new S,g.prototype.constructor=g,g.Qb=function(N,J,ut){for(var xt=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)xt[ae-2]=arguments[ae];return w.prototype[J].apply(N,xt)}}function A(g){const w=g.length;if(0<w){const S=Array(w);for(let N=0;N<w;N++)S[N]=g[N];return S}return[]}function T(g,w){for(let S=1;S<arguments.length;S++){const N=arguments[S];if(h(N)){const J=g.length||0,ut=N.length||0;g.length=J+ut;for(let xt=0;xt<ut;xt++)g[J+xt]=N[xt]}else g.push(N)}}class D{constructor(w,S){this.i=w,this.j=S,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function O(g){return/^[\s\xa0]*$/.test(g)}function L(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function B(g){return B[" "](g),g}B[" "]=function(){};var M=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function Y(g,w,S){for(const N in g)w.call(S,g[N],N,g)}function C(g,w){for(const S in g)w.call(void 0,g[S],S,g)}function k(g){const w={};for(const S in g)w[S]=g[S];return w}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(g,w){let S,N;for(let J=1;J<arguments.length;J++){N=arguments[J];for(S in N)g[S]=N[S];for(let ut=0;ut<P.length;ut++)S=P[ut],Object.prototype.hasOwnProperty.call(N,S)&&(g[S]=N[S])}}function U(g){var w=1;g=g.split(":");const S=[];for(;0<w&&g.length;)S.push(g.shift()),w--;return g.length&&S.push(g.join(":")),S}function $(g){c.setTimeout(()=>{throw g},0)}function F(){var g=st;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}class Pt{constructor(){this.h=this.g=null}add(w,S){const N=X.get();N.set(w,S),this.h?this.h.next=N:this.g=N,this.h=N}}var X=new D(()=>new V,g=>g.reset());class V{constructor(){this.next=this.g=this.h=null}set(w,S){this.h=w,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,ct=!1,st=new Pt,q=()=>{const g=c.Promise.resolve(void 0);Z=()=>{g.then(lt)}};var lt=()=>{for(var g;g=F();){try{g.h.call(g.g)}catch(S){$(S)}var w=X;w.j(g),100>w.h&&(w.h++,g.next=w.g,w.g=g)}ct=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var at=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const S=()=>{};c.addEventListener("test",S,w),c.removeEventListener("test",S,w)}catch{}return g}();function yt(g,w){if(K.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var S=this.type=g.type,N=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget){if(M){t:{try{B(w.nodeName);var J=!0;break t}catch{}J=!1}J||(w=null)}}else S=="mouseover"?w=g.fromElement:S=="mouseout"&&(w=g.toElement);this.relatedTarget=w,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:nt[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&yt.aa.h.call(this)}}E(yt,K);var nt={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var pt="closure_listenable_"+(1e6*Math.random()|0),_t=0;function vt(g,w,S,N,J){this.listener=g,this.proxy=null,this.src=w,this.type=S,this.capture=!!N,this.ha=J,this.key=++_t,this.da=this.fa=!1}function At(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function $t(g){this.src=g,this.g={},this.h=0}$t.prototype.add=function(g,w,S,N,J){var ut=g.toString();g=this.g[ut],g||(g=this.g[ut]=[],this.h++);var xt=An(g,w,N,J);return-1<xt?(w=g[xt],S||(w.fa=!1)):(w=new vt(w,this.src,ut,!!N,J),w.fa=S,g.push(w)),w};function ue(g,w){var S=w.type;if(S in g.g){var N=g.g[S],J=Array.prototype.indexOf.call(N,w,void 0),ut;(ut=0<=J)&&Array.prototype.splice.call(N,J,1),ut&&(At(w),g.g[S].length==0&&(delete g.g[S],g.h--))}}function An(g,w,S,N){for(var J=0;J<g.length;++J){var ut=g[J];if(!ut.da&&ut.listener==w&&ut.capture==!!S&&ut.ha==N)return J}return-1}var ei="closure_lm_"+(1e6*Math.random()|0),ni={};function cs(g,w,S,N,J){if(Array.isArray(w)){for(var ut=0;ut<w.length;ut++)cs(g,w[ut],S,N,J);return null}return S=qi(S),g&&g[pt]?g.K(w,S,f(N)?!!N.capture:!1,J):Rn(g,w,S,!1,N,J)}function Rn(g,w,S,N,J,ut){if(!w)throw Error("Invalid event type");var xt=f(J)?!!J.capture:!!J,ae=Fn(g);if(ae||(g[ei]=ae=new $t(g)),S=ae.add(w,S,N,xt,ut),S.proxy)return S;if(N=bt(),S.proxy=N,N.src=g,N.listener=S,g.addEventListener)at||(J=xt),J===void 0&&(J=!1),g.addEventListener(w.toString(),N,J);else if(g.attachEvent)g.attachEvent(St(w.toString()),N);else if(g.addListener&&g.removeListener)g.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return S}function bt(){function g(S){return w.call(g.src,g.listener,S)}const w=re;return g}function It(g,w,S,N,J){if(Array.isArray(w))for(var ut=0;ut<w.length;ut++)It(g,w[ut],S,N,J);else N=f(N)?!!N.capture:!!N,S=qi(S),g&&g[pt]?(g=g.i,w=String(w).toString(),w in g.g&&(ut=g.g[w],S=An(ut,S,N,J),-1<S&&(At(ut[S]),Array.prototype.splice.call(ut,S,1),ut.length==0&&(delete g.g[w],g.h--)))):g&&(g=Fn(g))&&(w=g.g[w.toString()],g=-1,w&&(g=An(w,S,N,J)),(S=-1<g?w[g]:null)&&Rt(S))}function Rt(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[pt])ue(w.i,g);else{var S=g.type,N=g.proxy;w.removeEventListener?w.removeEventListener(S,N,g.capture):w.detachEvent?w.detachEvent(St(S),N):w.addListener&&w.removeListener&&w.removeListener(N),(S=Fn(w))?(ue(S,g),S.h==0&&(S.src=null,w[ei]=null)):At(g)}}}function St(g){return g in ni?ni[g]:ni[g]="on"+g}function re(g,w){if(g.da)g=!0;else{w=new yt(w,this);var S=g.listener,N=g.ha||g.src;g.fa&&Rt(g),g=S.call(N,w)}return g}function Fn(g){return g=g[ei],g instanceof $t?g:null}var qn="__closure_events_fn_"+(1e9*Math.random()>>>0);function qi(g){return typeof g=="function"?g:(g[qn]||(g[qn]=function(w){return g.handleEvent(w)}),g[qn])}function Ue(){ot.call(this),this.i=new $t(this),this.M=this,this.F=null}E(Ue,ot),Ue.prototype[pt]=!0,Ue.prototype.removeEventListener=function(g,w,S,N){It(this,g,w,S,N)};function pe(g,w){var S,N=g.F;if(N)for(S=[];N;N=N.F)S.push(N);if(g=g.M,N=w.type||w,typeof w=="string")w=new K(w,g);else if(w instanceof K)w.target=w.target||g;else{var J=w;w=new K(N,g),z(w,J)}if(J=!0,S)for(var ut=S.length-1;0<=ut;ut--){var xt=w.g=S[ut];J=di(xt,N,!0,w)&&J}if(xt=w.g=g,J=di(xt,N,!0,w)&&J,J=di(xt,N,!1,w)&&J,S)for(ut=0;ut<S.length;ut++)xt=w.g=S[ut],J=di(xt,N,!1,w)&&J}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var g=this.i,w;for(w in g.g){for(var S=g.g[w],N=0;N<S.length;N++)At(S[N]);delete g.g[w],g.h--}}this.F=null},Ue.prototype.K=function(g,w,S,N){return this.i.add(String(g),w,!1,S,N)},Ue.prototype.L=function(g,w,S,N){return this.i.add(String(g),w,!0,S,N)};function di(g,w,S,N){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();for(var J=!0,ut=0;ut<w.length;++ut){var xt=w[ut];if(xt&&!xt.da&&xt.capture==S){var ae=xt.listener,vn=xt.ha||xt.src;xt.fa&&ue(g.i,xt),J=ae.call(vn,N)!==!1&&J}}return J&&!N.defaultPrevented}function kn(g,w,S){if(typeof g=="function")S&&(g=_(g,S));else if(g&&typeof g.handleEvent=="function")g=_(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(g,w||0)}function Ml(g){g.g=kn(()=>{g.g=null,g.i&&(g.i=!1,Ml(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}class pu extends ot{constructor(w,S){super(),this.m=w,this.l=S,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Ml(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(g){ot.call(this),this.h=g,this.g={}}E(ur,ot);var hr=[];function fr(g){Y(g.g,function(w,S){this.g.hasOwnProperty(S)&&Rt(w)},g),g.g={}}ur.prototype.N=function(){ur.aa.N.call(this),fr(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ki=c.JSON.stringify,dr=c.JSON.parse,pr=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function la(){}la.prototype.h=null;function Ht(g){return g.h||(g.h=g.i())}function me(){}var Vt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function he(){K.call(this,"d")}E(he,K);function Cn(){K.call(this,"c")}E(Cn,K);var Wt={},vo=null;function Rs(){return vo=vo||new Ue}Wt.La="serverreachability";function ca(g){K.call(this,Wt.La,g)}E(ca,K);function $i(g){const w=Rs();pe(w,new ca(w))}Wt.STAT_EVENT="statevent";function ua(g,w){K.call(this,Wt.STAT_EVENT,g),this.stat=w}E(ua,K);function ze(g){const w=Rs();pe(w,new ua(w,g))}Wt.Ma="timingevent";function bn(g,w){K.call(this,Wt.Ma,g),this.size=w}E(bn,K);function an(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},w)}function Hi(){this.g=!0}Hi.prototype.xa=function(){this.g=!1};function gu(g,w,S,N,J,ut){g.info(function(){if(g.g)if(ut)for(var xt="",ae=ut.split("&"),vn=0;vn<ae.length;vn++){var oe=ae[vn].split("=");if(1<oe.length){var Mn=oe[0];oe=oe[1];var xn=Mn.split("_");xt=2<=xn.length&&xn[1]=="type"?xt+(Mn+"="+oe+"&"):xt+(Mn+"=redacted&")}}else xt=null;else xt=ut;return"XMLHTTP REQ ("+N+") [attempt "+J+"]: "+w+`
`+S+`
`+xt})}function Qm(g,w,S,N,J,ut,xt){g.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+J+"]: "+w+`
`+S+`
`+ut+" "+xt})}function ha(g,w,S,N){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+xo(g,S)+(N?" "+N:"")})}function nd(g,w){g.info(function(){return"TIMEOUT: "+w})}Hi.prototype.info=function(){};function xo(g,w){if(!g.g)return w;if(!w)return null;try{var S=JSON.parse(w);if(S){for(g=0;g<S.length;g++)if(Array.isArray(S[g])){var N=S[g];if(!(2>N.length)){var J=N[1];if(Array.isArray(J)&&!(1>J.length)){var ut=J[0];if(ut!="noop"&&ut!="stop"&&ut!="close")for(var xt=1;xt<J.length;xt++)J[xt]=""}}}}return ki(S)}catch{return w}}var fa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ks;function Cs(){}E(Cs,la),Cs.prototype.g=function(){return new XMLHttpRequest},Cs.prototype.i=function(){return{}},ks=new Cs;function pi(g,w,S,N){this.j=g,this.i=w,this.l=S,this.R=N||1,this.U=new ur(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Je}function Je(){this.i=null,this.g="",this.h=!1}var mu={},Il={};function us(g,w,S){g.L=1,g.v=Ao(Ci(w)),g.m=S,g.P=!0,mr(g,null)}function mr(g,w){g.F=Date.now(),wo(g),g.A=Ci(g.v);var S=g.A,N=g.R;Array.isArray(N)||(N=[String(N)]),wu(S.i,"t",N),g.C=0,S=g.j.J,g.h=new Je,g.g=_d(g.j,S?w:null,!g.m),0<g.O&&(g.M=new pu(_(g.Y,g,g.g),g.O)),w=g.U,S=g.g,N=g.ca;var J="readystatechange";Array.isArray(J)||(J&&(hr[0]=J.toString()),J=hr);for(var ut=0;ut<J.length;ut++){var xt=cs(S,J[ut],N||w.handleEvent,!1,w.h||w);if(!xt)break;w.g[xt.key]=xt}w=g.H?k(g.H):{},g.m?(g.u||(g.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,w)):(g.u="GET",g.g.ea(g.A,g.u,null,w)),$i(),gu(g.i,g.u,g.A,g.l,g.R,g.m)}pi.prototype.ca=function(g){g=g.target;const w=this.M;w&&Ki(g)==3?w.j():this.Y(g)},pi.prototype.Y=function(g){try{if(g==this.g)t:{const xn=Ki(this.g);var w=this.g.Ba();const Sr=this.g.Z();if(!(3>xn)&&(xn!=3||this.g&&(this.h.h||this.g.oa()||ud(this.g)))){this.J||xn!=4||w==7||(w==8||0>=Sr?$i(3):$i(2)),da(this);var S=this.g.Z();this.X=S;e:if(id(this)){var N=ud(this.g);g="";var J=N.length,ut=Ki(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$n(this),Ds(this);var xt="";break e}this.h.i=new c.TextDecoder}for(w=0;w<J;w++)this.h.h=!0,g+=this.h.i.decode(N[w],{stream:!(ut&&w==J-1)});N.length=0,this.h.g+=g,this.C=0,xt=this.h.g}else xt=this.g.oa();if(this.o=S==200,Qm(this.i,this.u,this.A,this.l,this.R,xn,S),this.o){if(this.T&&!this.K){e:{if(this.g){var ae,vn=this.g;if((ae=vn.g?vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(ae)){var oe=ae;break e}}oe=null}if(S=oe)ha(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Eo(this,S);else{this.o=!1,this.s=3,ze(12),$n(this),Ds(this);break t}}if(this.P){S=!0;let Hn;for(;!this.J&&this.C<xt.length;)if(Hn=sd(this,xt),Hn==Il){xn==4&&(this.s=4,ze(14),S=!1),ha(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==mu){this.s=4,ze(15),ha(this.i,this.l,xt,"[Invalid Chunk]"),S=!1;break}else ha(this.i,this.l,Hn,null),Eo(this,Hn);if(id(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xn!=4||xt.length!=0||this.h.h||(this.s=1,ze(16),S=!1),this.o=this.o&&S,!S)ha(this.i,this.l,xt,"[Invalid Chunked Response]"),$n(this),Ds(this);else if(0<xt.length&&!this.W){this.W=!0;var Mn=this.j;Mn.g==this&&Mn.ba&&!Mn.M&&(Mn.j.info("Great, no buffering proxy detected. Bytes received: "+xt.length),Po(Mn),Mn.M=!0,ze(11))}}else ha(this.i,this.l,xt,null),Eo(this,xt);xn==4&&$n(this),this.o&&!this.J&&(xn==4?gd(this.j,this):(this.o=!1,wo(this)))}else ny(this.g),S==400&&0<xt.indexOf("Unknown SID")?(this.s=3,ze(12)):(this.s=0,ze(13)),$n(this),Ds(this)}}}catch{}finally{}};function id(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function sd(g,w){var S=g.C,N=w.indexOf(`
`,S);return N==-1?Il:(S=Number(w.substring(S,N)),isNaN(S)?mu:(N+=1,N+S>w.length?Il:(w=w.slice(N,N+S),g.C=N+S,w)))}pi.prototype.cancel=function(){this.J=!0,$n(this)};function wo(g){g.S=Date.now()+g.I,rd(g,g.I)}function rd(g,w){if(g.B!=null)throw Error("WatchDog timer not null");g.B=an(_(g.ba,g),w)}function da(g){g.B&&(c.clearTimeout(g.B),g.B=null)}pi.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(nd(this.i,this.A),this.L!=2&&($i(),ze(17)),$n(this),this.s=2,Ds(this)):rd(this,this.S-g)};function Ds(g){g.j.G==0||g.J||gd(g.j,g)}function $n(g){da(g);var w=g.M;w&&typeof w.ma=="function"&&w.ma(),g.M=null,fr(g.U),g.g&&(w=g.g,g.g=null,w.abort(),w.ma())}function Eo(g,w){try{var S=g.j;if(S.G!=0&&(S.g==g||yu(S.h,g))){if(!g.K&&yu(S.h,g)&&S.G==3){try{var N=S.Da.g.parse(w)}catch{N=null}if(Array.isArray(N)&&N.length==3){var J=N;if(J[0]==0){t:if(!S.u){if(S.g)if(S.g.F+3e3<g.F)$l(S),Fl(S);else break t;Ru(S),ze(18)}}else S.za=J[1],0<S.za-S.T&&37500>J[2]&&S.F&&S.v==0&&!S.C&&(S.C=an(_(S.Za,S),6e3));if(1>=Pl(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Er(S,11)}else if((g.K||S.g==g)&&$l(S),!O(w))for(J=S.Da.g.parse(w),w=0;w<J.length;w++){let oe=J[w];if(S.T=oe[0],oe=oe[1],S.G==2)if(oe[0]=="c"){S.K=oe[1],S.ia=oe[2];const Mn=oe[3];Mn!=null&&(S.la=Mn,S.j.info("VER="+S.la));const xn=oe[4];xn!=null&&(S.Aa=xn,S.j.info("SVER="+S.Aa));const Sr=oe[5];Sr!=null&&typeof Sr=="number"&&0<Sr&&(N=1.5*Sr,S.L=N,S.j.info("backChannelRequestTimeoutMs_="+N)),N=S;const Hn=g.g;if(Hn){const Vs=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var ut=N.h;ut.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(ut.j=ut.l,ut.g=new Set,ut.h&&(Nl(ut,ut.h),ut.h=null))}if(N.D){const Cu=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Cu&&(N.ya=Cu,Se(N.I,N.D,Cu))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-g.F,S.j.info("Handshake RTT: "+S.R+"ms")),N=S;var xt=g;if(N.qa=yd(N,N.J?N.ia:null,N.W),xt.K){gi(N.h,xt);var ae=xt,vn=N.L;vn&&(ae.I=vn),ae.B&&(da(ae),wo(ae)),N.g=xt}else dd(N);0<S.i.length&&ql(S)}else oe[0]!="stop"&&oe[0]!="close"||Er(S,7);else S.G==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?Er(S,7):Tu(S):oe[0]!="noop"&&S.l&&S.l.ta(oe),S.v=0)}}$i(4)}catch{}}var ad=class{constructor(g,w){this.g=g,this.map=w}};function yr(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ol(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Pl(g){return g.h?1:g.g?g.g.size:0}function yu(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}function Nl(g,w){g.g?g.g.add(w):g.h=w}function gi(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}yr.prototype.cancel=function(){if(this.i=_u(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function _u(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const S of g.g.values())w=w.concat(S.D);return w}return A(g.i)}function Zm(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var w=[],S=g.length,N=0;N<S;N++)w.push(g[N]);return w}w=[],S=0;for(N in g)w[S++]=g[N];return w}function Ll(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var w=[];g=g.length;for(var S=0;S<g;S++)w.push(S);return w}w=[],S=0;for(const N in g)w[S++]=N;return w}}}function bu(g,w){if(g.forEach&&typeof g.forEach=="function")g.forEach(w,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,w,void 0);else for(var S=Ll(g),N=Zm(g),J=N.length,ut=0;ut<J;ut++)w.call(void 0,N[ut],S&&S[ut],g)}var So=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jm(g,w){if(g){g=g.split("&");for(var S=0;S<g.length;S++){var N=g[S].indexOf("="),J=null;if(0<=N){var ut=g[S].substring(0,N);J=g[S].substring(N+1)}else ut=g[S];w(ut,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function on(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof on){this.h=g.h,To(this,g.j),this.o=g.o,this.g=g.g,pa(this,g.s),this.l=g.l;var w=g.i,S=new br;S.i=w.i,w.g&&(S.g=new Map(w.g),S.h=w.h),_r(this,S),this.m=g.m}else g&&(w=String(g).match(So))?(this.h=!1,To(this,w[1]||"",!0),this.o=Wi(w[2]||""),this.g=Wi(w[3]||"",!0),pa(this,w[4]),this.l=Wi(w[5]||"",!0),_r(this,w[6]||"",!0),this.m=Wi(w[7]||"")):(this.h=!1,this.i=new br(null,this.h))}on.prototype.toString=function(){var g=[],w=this.j;w&&g.push(Ro(w,vu,!0),":");var S=this.g;return(S||w=="file")&&(g.push("//"),(w=this.o)&&g.push(Ro(w,vu,!0),"@"),g.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&g.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&g.push("/"),g.push(Ro(S,S.charAt(0)=="/"?ty:xu,!0))),(S=this.i.toString())&&g.push("?",S),(S=this.m)&&g.push("#",Ro(S,Vl)),g.join("")};function Ci(g){return new on(g)}function To(g,w,S){g.j=S?Wi(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}function pa(g,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);g.s=w}else g.s=null}function _r(g,w,S){w instanceof br?(g.i=w,ld(g.i,g.h)):(S||(w=Ro(w,ey)),g.i=new br(w,g.h))}function Se(g,w,S){g.i.set(w,S)}function Ao(g){return Se(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Wi(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Ro(g,w,S){return typeof g=="string"?(g=encodeURI(g).replace(w,od),S&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function od(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var vu=/[#\/\?@]/g,xu=/[#\?:]/g,ty=/[#\?]/g,ey=/[#\?@]/g,Vl=/#/g;function br(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}function Yi(g){g.g||(g.g=new Map,g.h=0,g.i&&Jm(g.i,function(w,S){g.add(decodeURIComponent(w.replace(/\+/g," ")),S)}))}e=br.prototype,e.add=function(g,w){Yi(this),this.i=null,g=Ms(this,g);var S=this.g.get(g);return S||this.g.set(g,S=[]),S.push(w),this.h+=1,this};function vr(g,w){Yi(g),w=Ms(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}function xr(g,w){return Yi(g),w=Ms(g,w),g.g.has(w)}e.forEach=function(g,w){Yi(this),this.g.forEach(function(S,N){S.forEach(function(J){g.call(w,J,N,this)},this)},this)},e.na=function(){Yi(this);const g=Array.from(this.g.values()),w=Array.from(this.g.keys()),S=[];for(let N=0;N<w.length;N++){const J=g[N];for(let ut=0;ut<J.length;ut++)S.push(w[N])}return S},e.V=function(g){Yi(this);let w=[];if(typeof g=="string")xr(this,g)&&(w=w.concat(this.g.get(Ms(this,g))));else{g=Array.from(this.g.values());for(let S=0;S<g.length;S++)w=w.concat(g[S])}return w},e.set=function(g,w){return Yi(this),this.i=null,g=Ms(this,g),xr(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},e.get=function(g,w){return g?(g=this.V(g),0<g.length?String(g[0]):w):w};function wu(g,w,S){vr(g,w),0<S.length&&(g.i=null,g.g.set(Ms(g,w),A(S)),g.h+=S.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(var S=0;S<w.length;S++){var N=w[S];const ut=encodeURIComponent(String(N)),xt=this.V(N);for(N=0;N<xt.length;N++){var J=ut;xt[N]!==""&&(J+="="+encodeURIComponent(String(xt[N]))),g.push(J)}}return this.i=g.join("&")};function Ms(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}function ld(g,w){w&&!g.j&&(Yi(g),g.i=null,g.g.forEach(function(S,N){var J=N.toLowerCase();N!=J&&(vr(this,N),wu(this,J,S))},g)),g.j=w}function ko(g,w){const S=new Hi;if(c.Image){const N=new Image;N.onload=x(Gi,S,"TestLoadImage: loaded",!0,w,N),N.onerror=x(Gi,S,"TestLoadImage: error",!1,w,N),N.onabort=x(Gi,S,"TestLoadImage: abort",!1,w,N),N.ontimeout=x(Gi,S,"TestLoadImage: timeout",!1,w,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=g}else w(!1)}function hs(g,w){const S=new Hi,N=new AbortController,J=setTimeout(()=>{N.abort(),Gi(S,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:N.signal}).then(ut=>{clearTimeout(J),ut.ok?Gi(S,"TestPingServer: ok",!0,w):Gi(S,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(J),Gi(S,"TestPingServer: error",!1,w)})}function Gi(g,w,S,N,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),N(S)}catch{}}function Co(){this.g=new pr}function Is(g,w,S){const N=S||"";try{bu(g,function(J,ut){let xt=J;f(J)&&(xt=ki(J)),w.push(N+ut+"="+encodeURIComponent(xt))})}catch(J){throw w.push(N+"type="+encodeURIComponent("_badmap")),J}}function ga(g){this.l=g.Ub||null,this.j=g.eb||!1}E(ga,la),ga.prototype.g=function(){return new wr(this.l,this.j)},ga.prototype.i=function(g){return function(){return g}}({});function wr(g,w){Ue.call(this),this.D=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(wr,Ue),e=wr.prototype,e.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=w,this.readyState=1,Ps(this)},e.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(w.body=g),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},e.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ps(this)),this.g&&(this.readyState=3,Ps(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eu(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eu(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}e.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?Os(this):Ps(this),this.readyState==3&&Eu(this)}},e.Ra=function(g){this.g&&(this.response=this.responseText=g,Os(this))},e.Qa=function(g){this.g&&(this.response=g,Os(this))},e.ga=function(){this.g&&Os(this)};function Os(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Ps(g)}e.setRequestHeader=function(g,w){this.u.append(g,w)},e.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var S=w.next();!S.done;)S=S.value,g.push(S[0]+": "+S[1]),S=w.next();return g.join(`\r
`)};function Ps(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Su(g){let w="";return Y(g,function(S,N){w+=N,w+=":",w+=S,w+=`\r
`}),w}function Dn(g,w,S){t:{for(N in S){var N=!1;break t}N=!0}N||(S=Su(S),typeof g=="string"?S!=null&&encodeURIComponent(String(S)):Se(g,w,S))}function ye(g){Ue.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(ye,Ue);var jl=/^https?$/i,Do=["POST","PUT"];e=ye.prototype,e.Ha=function(g){this.J=g},e.ea=function(g,w,S,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ks.g(),this.v=this.o?Ht(this.o):Ht(ks),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(ut){cd(this,ut);return}if(g=S||"",S=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var J in N)S.set(J,N[J]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ut of N.keys())S.set(ut,N.get(ut));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(S.keys()).find(ut=>ut.toLowerCase()=="content-type"),J=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Do,w,void 0))||N||J||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ut,xt]of S)this.g.setRequestHeader(ut,xt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mo(this),this.u=!0,this.g.send(g),this.u=!1}catch(ut){cd(this,ut)}};function cd(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.m=5,Ul(g),Ns(g)}function Ul(g){g.A||(g.A=!0,pe(g,"complete"),pe(g,"error"))}e.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,pe(this,"complete"),pe(this,"abort"),Ns(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ns(this,!0)),ye.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zl(this):this.bb())},e.bb=function(){zl(this)};function zl(g){if(g.h&&typeof l<"u"&&(!g.v[1]||Ki(g)!=4||g.Z()!=2)){if(g.u&&Ki(g)==4)kn(g.Ea,0,g);else if(pe(g,"readystatechange"),Ki(g)==4){g.h=!1;try{const xt=g.Z();t:switch(xt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var S;if(!(S=w)){var N;if(N=xt===0){var J=String(g.D).match(So)[1]||null;!J&&c.self&&c.self.location&&(J=c.self.location.protocol.slice(0,-1)),N=!jl.test(J?J.toLowerCase():"")}S=N}if(S)pe(g,"complete"),pe(g,"success");else{g.m=6;try{var ut=2<Ki(g)?g.g.statusText:""}catch{ut=""}g.l=ut+" ["+g.Z()+"]",Ul(g)}}finally{Ns(g)}}}}function Ns(g,w){if(g.g){Mo(g);const S=g.g,N=g.v[0]?()=>{}:null;g.g=null,g.v=null,w||pe(g,"ready");try{S.onreadystatechange=N}catch{}}}function Mo(g){g.I&&(c.clearTimeout(g.I),g.I=null)}e.isActive=function(){return!!this.g};function Ki(g){return g.g?g.g.readyState:0}e.Z=function(){try{return 2<Ki(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),dr(w)}};function ud(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ny(g){const w={};g=(g.g&&2<=Ki(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<g.length;N++){if(O(g[N]))continue;var S=U(g[N]);const J=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ut=w[J]||[];w[J]=ut,ut.push(S)}C(w,function(N){return N.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Io(g,w,S){return S&&S.internalChannelParams&&S.internalChannelParams[g]||w}function Bl(g){this.Aa=0,this.i=[],this.j=new Hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Io("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Io("baseRetryDelayMs",5e3,g),this.cb=Io("retryDelaySeedMs",1e4,g),this.Wa=Io("forwardChannelMaxRetries",2,g),this.wa=Io("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new yr(g&&g.concurrentRequestLimit),this.Da=new Co,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Bl.prototype,e.la=8,e.G=1,e.connect=function(g,w,S,N){ze(0),this.W=g,this.H=w||{},S&&N!==void 0&&(this.H.OSID=S,this.H.OAID=N),this.F=this.X,this.I=yd(this,null,this.W),ql(this)};function Tu(g){if(hd(g),g.G==3){var w=g.U++,S=Ci(g.I);if(Se(S,"SID",g.K),Se(S,"RID",w),Se(S,"TYPE","terminate"),Oo(g,S),w=new pi(g,g.j,w),w.L=2,w.v=Ao(Ci(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!S&&c.Image&&(new Image().src=w.v,S=!0),S||(w.g=_d(w.j,null),w.g.ea(w.v)),w.F=Date.now(),wo(w)}md(g)}function Fl(g){g.g&&(Po(g),g.g.cancel(),g.g=null)}function hd(g){Fl(g),g.u&&(c.clearTimeout(g.u),g.u=null),$l(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function ql(g){if(!Ol(g.h)&&!g.s){g.s=!0;var w=g.Ga;Z||q(),ct||(Z(),ct=!0),st.add(w,g),g.B=0}}function iy(g,w){return Pl(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=w.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=an(_(g.Ga,g,w),ku(g,g.B)),g.B++,!0)}e.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const J=new pi(this,this.j,g);let ut=this.o;if(this.S&&(ut?(ut=k(ut),z(ut,this.S)):ut=this.S),this.m!==null||this.O||(J.H=ut,ut=null),this.P)t:{for(var w=0,S=0;S<this.i.length;S++){e:{var N=this.i[S];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break e}N=void 0}if(N===void 0)break;if(w+=N,4096<w){w=S;break t}if(w===4096||S===this.i.length-1){w=S+1;break t}}w=1e3}else w=1e3;w=fd(this,J,w),S=Ci(this.I),Se(S,"RID",g),Se(S,"CVER",22),this.D&&Se(S,"X-HTTP-Session-Id",this.D),Oo(this,S),ut&&(this.O?w="headers="+encodeURIComponent(String(Su(ut)))+"&"+w:this.m&&Dn(S,this.m,ut)),Nl(this.h,J),this.Ua&&Se(S,"TYPE","init"),this.P?(Se(S,"$req",w),Se(S,"SID","null"),J.T=!0,us(J,S,null)):us(J,S,w),this.G=2}}else this.G==3&&(g?Au(this,g):this.i.length==0||Ol(this.h)||Au(this))};function Au(g,w){var S;w?S=w.l:S=g.U++;const N=Ci(g.I);Se(N,"SID",g.K),Se(N,"RID",S),Se(N,"AID",g.T),Oo(g,N),g.m&&g.o&&Dn(N,g.m,g.o),S=new pi(g,g.j,S,g.B+1),g.m===null&&(S.H=g.o),w&&(g.i=w.D.concat(g.i)),w=fd(g,S,1e3),S.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Nl(g.h,S),us(S,N,w)}function Oo(g,w){g.H&&Y(g.H,function(S,N){Se(w,N,S)}),g.l&&bu({},function(S,N){Se(w,N,S)})}function fd(g,w,S){S=Math.min(g.i.length,S);var N=g.l?_(g.l.Na,g.l,g):null;t:{var J=g.i;let ut=-1;for(;;){const xt=["count="+S];ut==-1?0<S?(ut=J[0].g,xt.push("ofs="+ut)):ut=0:xt.push("ofs="+ut);let ae=!0;for(let vn=0;vn<S;vn++){let oe=J[vn].g;const Mn=J[vn].map;if(oe-=ut,0>oe)ut=Math.max(0,J[vn].g-100),ae=!1;else try{Is(Mn,xt,"req"+oe+"_")}catch{N&&N(Mn)}}if(ae){N=xt.join("&");break t}}}return g=g.i.splice(0,S),w.D=g,N}function dd(g){if(!g.g&&!g.u){g.Y=1;var w=g.Fa;Z||q(),ct||(Z(),ct=!0),st.add(w,g),g.v=0}}function Ru(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=an(_(g.Fa,g),ku(g,g.v)),g.v++,!0)}e.Fa=function(){if(this.u=null,pd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=an(_(this.ab,this),g)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ze(10),Fl(this),pd(this))};function Po(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function pd(g){g.g=new pi(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var w=Ci(g.qa);Se(w,"RID","rpc"),Se(w,"SID",g.K),Se(w,"AID",g.T),Se(w,"CI",g.F?"0":"1"),!g.F&&g.ja&&Se(w,"TO",g.ja),Se(w,"TYPE","xmlhttp"),Oo(g,w),g.m&&g.o&&Dn(w,g.m,g.o),g.L&&(g.g.I=g.L);var S=g.g;g=g.ia,S.L=1,S.v=Ao(Ci(w)),S.m=null,S.P=!0,mr(S,g)}e.Za=function(){this.C!=null&&(this.C=null,Fl(this),Ru(this),ze(19))};function $l(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function gd(g,w){var S=null;if(g.g==w){$l(g),Po(g),g.g=null;var N=2}else if(yu(g.h,w))S=w.D,gi(g.h,w),N=1;else return;if(g.G!=0){if(w.o)if(N==1){S=w.m?w.m.length:0,w=Date.now()-w.F;var J=g.B;N=Rs(),pe(N,new bn(N,S)),ql(g)}else dd(g);else if(J=w.s,J==3||J==0&&0<w.X||!(N==1&&iy(g,w)||N==2&&Ru(g)))switch(S&&0<S.length&&(w=g.h,w.i=w.i.concat(S)),J){case 1:Er(g,5);break;case 4:Er(g,10);break;case 3:Er(g,6);break;default:Er(g,2)}}}function ku(g,w){let S=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(S*=2),S*w}function Er(g,w){if(g.j.info("Error code "+w),w==2){var S=_(g.fb,g),N=g.Xa;const J=!N;N=new on(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||To(N,"https"),Ao(N),J?ko(N.toString(),S):hs(N.toString(),S)}else ze(2);g.G=0,g.l&&g.l.sa(w),md(g),hd(g)}e.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ze(2)):(this.j.info("Failed to ping google.com"),ze(1))};function md(g){if(g.G=0,g.ka=[],g.l){const w=_u(g.h);(w.length!=0||g.i.length!=0)&&(T(g.ka,w),T(g.ka,g.i),g.h.i.length=0,A(g.i),g.i.length=0),g.l.ra()}}function yd(g,w,S){var N=S instanceof on?Ci(S):new on(S);if(N.g!="")w&&(N.g=w+"."+N.g),pa(N,N.s);else{var J=c.location;N=J.protocol,w=w?w+"."+J.hostname:J.hostname,J=+J.port;var ut=new on(null);N&&To(ut,N),w&&(ut.g=w),J&&pa(ut,J),S&&(ut.l=S),N=ut}return S=g.D,w=g.ya,S&&w&&Se(N,S,w),Se(N,"VER",g.la),Oo(g,N),N}function _d(g,w,S){if(w&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Ca&&!g.pa?new ye(new ga({eb:S})):new ye(g.pa),w.Ha(g.J),w}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function bd(){}e=bd.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Hl(){}Hl.prototype.g=function(g,w){return new mi(g,w)};function mi(g,w){Ue.call(this),this.g=new Bl(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(g?g["X-WebChannel-Client-Profile"]=w.va:g={"X-WebChannel-Client-Profile":w.va}),this.g.S=g,(g=w&&w.Sb)&&!O(g)&&(this.g.m=g),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!O(w)&&(this.g.D=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new Ls(this)}E(mi,Ue),mi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mi.prototype.close=function(){Tu(this.g)},mi.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var S={};S.__data__=g,g=S}else this.u&&(S={},S.__data__=ki(g),g=S);w.i.push(new ad(w.Ya++,g)),w.G==3&&ql(w)},mi.prototype.N=function(){this.g.l=null,delete this.j,Tu(this.g),delete this.g,mi.aa.N.call(this)};function vd(g){he.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){t:{for(const S in w){g=S;break t}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}E(vd,he);function xd(){Cn.call(this),this.status=1}E(xd,Cn);function Ls(g){this.g=g}E(Ls,bd),Ls.prototype.ua=function(){pe(this.g,"a")},Ls.prototype.ta=function(g){pe(this.g,new vd(g))},Ls.prototype.sa=function(g){pe(this.g,new xd)},Ls.prototype.ra=function(){pe(this.g,"b")},Hl.prototype.createWebChannel=Hl.prototype.g,mi.prototype.send=mi.prototype.o,mi.prototype.open=mi.prototype.m,mi.prototype.close=mi.prototype.close,pC=function(){return new Hl},dC=function(){return Rs()},fC=Wt,f0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,pg=fa,gr.COMPLETE="complete",hC=gr,me.EventType=Vt,Vt.OPEN="a",Vt.CLOSE="b",Vt.ERROR="c",Vt.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,Lh=me,ye.prototype.listenOnce=ye.prototype.L,ye.prototype.getLastError=ye.prototype.Ka,ye.prototype.getLastErrorCode=ye.prototype.Ba,ye.prototype.getStatus=ye.prototype.Z,ye.prototype.getResponseJson=ye.prototype.Oa,ye.prototype.getResponseText=ye.prototype.oa,ye.prototype.send=ye.prototype.ea,ye.prototype.setWithCredentials=ye.prototype.Ha,uC=ye}).apply(typeof Tp<"u"?Tp:typeof self<"u"?self:typeof window<"u"?window:{});const CS="@firebase/firestore",DS="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}li.UNAUTHENTICATED=new li(null),li.GOOGLE_CREDENTIALS=new li("google-credentials-uid"),li.FIRST_PARTY=new li("first-party-uid"),li.MOCK_USER=new li("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new dv("@firebase/firestore");function Tc(){return _l.logLevel}function kt(e,...t){if(_l.logLevel<=ne.DEBUG){const n=t.map(yv);_l.debug(`Firestore (${ou}): ${e}`,...n)}}function na(e,...t){if(_l.logLevel<=ne.ERROR){const n=t.map(yv);_l.error(`Firestore (${ou}): ${e}`,...n)}}function $c(e,...t){if(_l.logLevel<=ne.WARN){const n=t.map(yv);_l.warn(`Firestore (${ou}): ${e}`,...n)}}function yv(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,gC(e,i,n)}function gC(e,t,n){let i=`FIRESTORE (${ou}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw na(i),new Error(i)}function ve(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||gC(t,s,i)}function qt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tt extends ra{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class oV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(li.UNAUTHENTICATED))}shutdown(){}}class lV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cV{constructor(t){this.t=t,this.currentUser=li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ve(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let a=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Zr,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{kt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(kt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Zr)}},0),l()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(kt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ve(typeof i.accessToken=="string",31837,{l:i}),new mC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ve(t===null||typeof t=="string",2055,{h:t}),new li(t)}}class uV{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=li.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hV{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new uV(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(li.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fV{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rs(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ve(this.o===void 0,3512);const i=a=>{a.error!=null&&kt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,kt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const s=a=>{kt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):kt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new MS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new MS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=dV(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<n&&(i+=t.charAt(s[a]%62))}return i}}function ie(e,t){return e<t?-1:e>t?1:0}function d0(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.charAt(i),a=t.charAt(i);if(s!==a)return fb(s)===fb(a)?ie(s,a):fb(s)?1:-1}return ie(e.length,t.length)}const pV=55296,gV=57343;function fb(e){const t=e.charCodeAt(0);return t>=pV&&t<=gV}function Hc(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="__name__";class Ys{constructor(t,n,i){n===void 0?n=0:n>t.length&&Ut(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Ut(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Ys.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ys?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const a=Ys.compareSegments(t.get(s),n.get(s));if(a!==0)return a}return ie(t.length,n.length)}static compareSegments(t,n){const i=Ys.isNumericId(t),s=Ys.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Ys.extractNumericId(t).compare(Ys.extractNumericId(n)):d0(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return eo.fromString(t.substring(4,t.length-2))}}class Oe extends Ys{construct(t,n,i){return new Oe(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Tt(dt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const mV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends Ys{construct(t,n,i){return new Qn(t,n,i)}static isValidIdentifier(t){return mV.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IS}static keyField(){return new Qn([IS])}static fromServerFormat(t){const n=[];let i="",s=0;const a=()=>{if(i.length===0)throw new Tt(dt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new Tt(dt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Tt(dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new Tt(dt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qn(n)}static emptyPath(){return new Qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.path=t}static fromPath(t){return new Ot(Oe.fromString(t))}static fromName(t){return new Ot(Oe.fromString(t).popFirst(5))}static empty(){return new Ot(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Oe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ot(new Oe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(e,t,n){if(!n)throw new Tt(dt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function yV(e,t,n,i){if(t===!0&&i===!0)throw new Tt(dt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function OS(e){if(!Ot.isDocumentKey(e))throw new Tt(dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function PS(e){if(Ot.isDocumentKey(e))throw new Tt(dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function _C(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function bm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ut(12329,{type:typeof e})}function Bi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Tt(dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bm(e);throw new Tt(dt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(e,t){const n={typeString:e};return t&&(n.value=t),n}function zf(e,t){if(!_C(e))throw new Tt(dt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,a="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const l=e[i];if(s&&typeof l!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${i}' field to equal '${a.value}'`;break}}if(n)throw new Tt(dt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=-62135596800,LS=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(t){return Me.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*LS);return new Me(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Tt(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Tt(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<NS)throw new Tt(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Tt(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LS}_compareTo(t){return this.seconds===t.seconds?ie(this.nanoseconds,t.nanoseconds):ie(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(zf(t,Me._jsonSchema))return new Me(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-NS;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Me._jsonSchemaVersion="firestore/timestamp/1.0",Me._jsonSchema={type:yn("string",Me._jsonSchemaVersion),seconds:yn("number"),nanoseconds:yn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{static fromTimestamp(t){return new Bt(t)}static min(){return new Bt(new Me(0,0))}static max(){return new Bt(new Me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=-1;function _V(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=Bt.fromTimestamp(i===1e9?new Me(n+1,0):new Me(n,i));return new ro(s,Ot.empty(),t)}function bV(e){return new ro(e.readTime,e.key,gf)}class ro{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new ro(Bt.min(),Ot.empty(),gf)}static max(){return new ro(Bt.max(),Ot.empty(),gf)}}function vV(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Ot.comparator(e.documentKey,t.documentKey),n!==0?n:ie(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(e){if(e.code!==dt.FAILED_PRECONDITION||e.message!==xV)throw e;kt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new mt((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof mt?n:mt.resolve(n)}catch(n){return mt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):mt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):mt.reject(n)}static resolve(t){return new mt((n,i)=>{n(t)})}static reject(t){return new mt((n,i)=>{i(t)})}static waitFor(t){return new mt((n,i)=>{let s=0,a=0,l=!1;t.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&n()},h=>i(h))}),l=!0,a===s&&n()})}static or(t){let n=mt.resolve(!1);for(const i of t)n=n.next(s=>s?mt.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,a)=>{i.push(n.call(this,s,a))}),this.waitFor(i)}static mapArray(t,n){return new mt((i,s)=>{const a=t.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const f=h;n(t[f]).next(p=>{l[f]=p,++c,c===a&&i(l)},p=>s(p))}})}static doWhile(t,n){return new mt((i,s)=>{const a=()=>{t()===!0?n().next(()=>{a()},s):i()};a()})}}function EV(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}vm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=-1;function xm(e){return e==null}function Vg(e){return e===0&&1/e==-1/0}function SV(e){return typeof e=="number"&&Number.isInteger(e)&&!Vg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="";function TV(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=VS(t)),t=AV(e.get(n),t);return VS(t)}function AV(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const a=e.charAt(s);switch(a){case"\0":n+="";break;case bC:n+="";break;default:n+=a}}return n}function VS(e){return e+bC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function go(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function vC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,n){this.comparator=t,this.root=n||Xn.EMPTY}insert(t,n){return new We(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xn.BLACK,null,null))}remove(t){return new We(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ap(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ap(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ap(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ap(this.root,t,this.comparator,!0)}}class Ap{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=n?i(t.key,n):1,n&&s&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xn{constructor(t,n,i,s,a){this.key=t,this.value=n,this.color=i??Xn.RED,this.left=s??Xn.EMPTY,this.right=a??Xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,a){return new Xn(t??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const a=i(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,n,i),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Xn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Xn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ut(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ut(27949);return t+(this.isRed()?0:1)}}Xn.EMPTY=null,Xn.RED=!0,Xn.BLACK=!1;Xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut(57766)}get value(){throw Ut(16141)}get color(){throw Ut(16727)}get left(){throw Ut(29726)}get right(){throw Ut(36894)}copy(t,n,i,s,a){return this}insert(t,n,i){return new Xn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.comparator=t,this.data=new We(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new US(this.data.getIterator())}getIteratorFrom(t){return new US(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Sn)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Sn(this.comparator);return n.data=t,n}}class US{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t){this.fields=t,t.sort(Qn.comparator)}static empty(){return new zi([])}unionWith(t){let n=new Sn(Qn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new zi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Hc(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new xC("Invalid base64 string: "+a):a}}(t);return new Jn(n)}static fromUint8Array(t){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(t);return new Jn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ie(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Jn.EMPTY_BYTE_STRING=new Jn("");const RV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ao(e){if(ve(!!e,39018),typeof e=="string"){let t=0;const n=RV.exec(e);if(ve(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:nn(e.seconds),nanos:nn(e.nanos)}}function nn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function oo(e){return typeof e=="string"?Jn.fromBase64String(e):Jn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="server_timestamp",EC="__type__",SC="__previous_value__",TC="__local_write_time__";function vv(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[EC])==null?void 0:i.stringValue)===wC}function wm(e){const t=e.mapValue.fields[SC];return vv(t)?wm(t):t}function mf(e){const t=ao(e.mapValue.fields[TC].timestampValue);return new Me(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(t,n,i,s,a,l,c,h,f,p){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=p}}const jg="(default)";class yf{constructor(t,n){this.projectId=t,this.database=n||jg}static empty(){return new yf("","")}get isDefaultDatabase(){return this.database===jg}isEqual(t){return t instanceof yf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="__type__",CV="__max__",Rp={mapValue:{}},RC="__vector__",Ug="value";function lo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vv(e)?4:MV(e)?9007199254740991:DV(e)?10:11:Ut(28295,{value:e})}function sr(e,t){if(e===t)return!0;const n=lo(e);if(n!==lo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mf(e).isEqual(mf(t));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=ao(s.timestampValue),c=ao(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,a){return oo(s.bytesValue).isEqual(oo(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,a){return nn(s.geoPointValue.latitude)===nn(a.geoPointValue.latitude)&&nn(s.geoPointValue.longitude)===nn(a.geoPointValue.longitude)}(e,t);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return nn(s.integerValue)===nn(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=nn(s.doubleValue),c=nn(a.doubleValue);return l===c?Vg(l)===Vg(c):isNaN(l)&&isNaN(c)}return!1}(e,t);case 9:return Hc(e.arrayValue.values||[],t.arrayValue.values||[],sr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(jS(l)!==jS(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!sr(l[h],c[h])))return!1;return!0}(e,t);default:return Ut(52216,{left:e})}}function _f(e,t){return(e.values||[]).find(n=>sr(n,t))!==void 0}function Wc(e,t){if(e===t)return 0;const n=lo(e),i=lo(t);if(n!==i)return ie(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(e.booleanValue,t.booleanValue);case 2:return function(a,l){const c=nn(a.integerValue||a.doubleValue),h=nn(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(e,t);case 3:return zS(e.timestampValue,t.timestampValue);case 4:return zS(mf(e),mf(t));case 5:return d0(e.stringValue,t.stringValue);case 6:return function(a,l){const c=oo(a),h=oo(l);return c.compareTo(h)}(e.bytesValue,t.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const p=ie(c[f],h[f]);if(p!==0)return p}return ie(c.length,h.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,l){const c=ie(nn(a.latitude),nn(l.latitude));return c!==0?c:ie(nn(a.longitude),nn(l.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return BS(e.arrayValue,t.arrayValue);case 10:return function(a,l){var _,x,E,A;const c=a.fields||{},h=l.fields||{},f=(_=c[Ug])==null?void 0:_.arrayValue,p=(x=h[Ug])==null?void 0:x.arrayValue,y=ie(((E=f==null?void 0:f.values)==null?void 0:E.length)||0,((A=p==null?void 0:p.values)==null?void 0:A.length)||0);return y!==0?y:BS(f,p)}(e.mapValue,t.mapValue);case 11:return function(a,l){if(a===Rp.mapValue&&l===Rp.mapValue)return 0;if(a===Rp.mapValue)return 1;if(l===Rp.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let y=0;y<h.length&&y<p.length;++y){const _=d0(h[y],p[y]);if(_!==0)return _;const x=Wc(c[h[y]],f[p[y]]);if(x!==0)return x}return ie(h.length,p.length)}(e.mapValue,t.mapValue);default:throw Ut(23264,{he:n})}}function zS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ie(e,t);const n=ao(e),i=ao(t),s=ie(n.seconds,i.seconds);return s!==0?s:ie(n.nanos,i.nanos)}function BS(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const a=Wc(n[s],i[s]);if(a)return a}return ie(n.length,i.length)}function Yc(e){return p0(e)}function p0(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=ao(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return oo(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Ot.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const a of n.values||[])s?s=!1:i+=",",i+=p0(a);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of i)a?a=!1:s+=",",s+=`${l}:${p0(n.fields[l])}`;return s+"}"}(e.mapValue):Ut(61005,{value:e})}function gg(e){switch(lo(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=wm(e);return t?16+gg(t):16;case 5:return 2*e.stringValue.length;case 6:return oo(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,a)=>s+gg(a),0)}(e.arrayValue);case 10:case 11:return function(i){let s=0;return go(i.fields,(a,l)=>{s+=a.length+gg(l)}),s}(e.mapValue);default:throw Ut(13486,{value:e})}}function FS(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function g0(e){return!!e&&"integerValue"in e}function xv(e){return!!e&&"arrayValue"in e}function qS(e){return!!e&&"nullValue"in e}function $S(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function mg(e){return!!e&&"mapValue"in e}function DV(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[AC])==null?void 0:i.stringValue)===RC}function Gh(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return go(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Gh(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Gh(e.arrayValue.values[n]);return t}return{...e}}function MV(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===CV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t){this.value=t}static empty(){return new Ai({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!mg(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Gh(n)}setAll(t){let n=Qn.emptyPath(),i={},s=[];t.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=c.popLast()}l?i[c.lastSegment()]=Gh(l):s.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,s)}delete(t){const n=this.field(t.popLast());mg(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return sr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];mg(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){go(n,(s,a)=>t[s]=a);for(const s of i)delete t[s]}clone(){return new Ai(Gh(this.value))}}function kC(e){const t=[];return go(e.fields,(n,i)=>{const s=new Qn([n]);if(mg(i)){const a=kC(i.mapValue).fields;if(a.length===0)t.push(s);else for(const l of a)t.push(s.child(l))}else t.push(s)}),new zi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t,n,i,s,a,l,c){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(t){return new ui(t,0,Bt.min(),Bt.min(),Bt.min(),Ai.empty(),0)}static newFoundDocument(t,n,i,s){return new ui(t,1,n,Bt.min(),i,s,0)}static newNoDocument(t,n){return new ui(t,2,n,Bt.min(),Bt.min(),Ai.empty(),0)}static newUnknownDocument(t,n){return new ui(t,3,n,Bt.min(),Bt.min(),Ai.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ai.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ui&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ui(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(t,n){this.position=t,this.inclusive=n}}function HS(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const a=t[s],l=e.position[s];if(a.field.isKeyField()?i=Ot.comparator(Ot.fromName(l.referenceValue),n.key):i=Wc(l,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function WS(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!sr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(t,n="asc"){this.field=t,this.dir=n}}function IV(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{}class mn extends CC{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new PV(t,n,i):n==="array-contains"?new VV(t,i):n==="in"?new jV(t,i):n==="not-in"?new UV(t,i):n==="array-contains-any"?new zV(t,i):new mn(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new NV(t,i):new LV(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wc(n,this.value)):n!==null&&lo(this.value)===lo(n)&&this.matchesComparison(Wc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Es extends CC{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Es(t,n)}matches(t){return DC(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DC(e){return e.op==="and"}function MC(e){return OV(e)&&DC(e)}function OV(e){for(const t of e.filters)if(t instanceof Es)return!1;return!0}function m0(e){if(e instanceof mn)return e.field.canonicalString()+e.op.toString()+Yc(e.value);if(MC(e))return e.filters.map(t=>m0(t)).join(",");{const t=e.filters.map(n=>m0(n)).join(",");return`${e.op}(${t})`}}function IC(e,t){return e instanceof mn?function(i,s){return s instanceof mn&&i.op===s.op&&i.field.isEqual(s.field)&&sr(i.value,s.value)}(e,t):e instanceof Es?function(i,s){return s instanceof Es&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,l,c)=>a&&IC(l,s.filters[c]),!0):!1}(e,t):void Ut(19439)}function OC(e){return e instanceof mn?function(n){return`${n.field.canonicalString()} ${n.op} ${Yc(n.value)}`}(e):e instanceof Es?function(n){return n.op.toString()+" {"+n.getFilters().map(OC).join(" ,")+"}"}(e):"Filter"}class PV extends mn{constructor(t,n,i){super(t,n,i),this.key=Ot.fromName(i.referenceValue)}matches(t){const n=Ot.comparator(t.key,this.key);return this.matchesComparison(n)}}class NV extends mn{constructor(t,n){super(t,"in",n),this.keys=PC("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class LV extends mn{constructor(t,n){super(t,"not-in",n),this.keys=PC("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function PC(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(i=>Ot.fromName(i.referenceValue))}class VV extends mn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return xv(n)&&_f(n.arrayValue,this.value)}}class jV extends mn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&_f(this.value.arrayValue,n)}}class UV extends mn{constructor(t,n){super(t,"not-in",n)}matches(t){if(_f(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_f(this.value.arrayValue,n)}}class zV extends mn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!xv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>_f(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(t,n=null,i=[],s=[],a=null,l=null,c=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function YS(e,t=null,n=[],i=[],s=null,a=null,l=null){return new BV(e,t,n,i,s,a,l)}function wv(e){const t=qt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>m0(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),xm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Yc(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Yc(i)).join(",")),t.Te=n}return t.Te}function Ev(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!IV(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!IC(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!WS(e.startAt,t.startAt)&&WS(e.endAt,t.endAt)}function y0(e){return Ot.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(t,n=null,i=[],s=[],a=null,l="F",c=null,h=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FV(e,t,n,i,s,a,l,c){return new uu(e,t,n,i,s,a,l,c)}function Em(e){return new uu(e)}function GS(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function NC(e){return e.collectionGroup!==null}function Kh(e){const t=qt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),n.add(a.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Sn(Qn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(t).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new bf(a,i))}),n.has(Qn.keyField().canonicalString())||t.Ie.push(new bf(Qn.keyField(),i))}return t.Ie}function Qs(e){const t=qt(e);return t.Ee||(t.Ee=qV(t,Kh(e))),t.Ee}function qV(e,t){if(e.limitType==="F")return YS(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new bf(s.field,a)});const n=e.endAt?new zg(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new zg(e.startAt.position,e.startAt.inclusive):null;return YS(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function _0(e,t){const n=e.filters.concat([t]);return new uu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function b0(e,t,n){return new uu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Sm(e,t){return Ev(Qs(e),Qs(t))&&e.limitType===t.limitType}function LC(e){return`${wv(Qs(e))}|lt:${e.limitType}`}function Ac(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>OC(s)).join(", ")}]`),xm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Yc(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Yc(s)).join(",")),`Target(${i})`}(Qs(e))}; limitType=${e.limitType})`}function Tm(e,t){return t.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ot.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(e,t)&&function(i,s){for(const a of Kh(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(l,c,h){const f=HS(l,c,h);return l.inclusive?f<=0:f<0}(i.startAt,Kh(i),s)||i.endAt&&!function(l,c,h){const f=HS(l,c,h);return l.inclusive?f>=0:f>0}(i.endAt,Kh(i),s))}(e,t)}function $V(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function VC(e){return(t,n)=>{let i=!1;for(const s of Kh(e)){const a=HV(s,t,n);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function HV(e,t,n){const i=e.field.isKeyField()?Ot.comparator(t.key,n.key):function(a,l,c){const h=l.data.field(a),f=c.data.field(a);return h!==null&&f!==null?Wc(h,f):Ut(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Ut(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,t))return a}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return void(s[a]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){go(this.inner,(n,i)=>{for(const[s,a]of i)t(s,a)})}isEmpty(){return vC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=new We(Ot.comparator);function ia(){return WV}const jC=new We(Ot.comparator);function Vh(...e){let t=jC;for(const n of e)t=t.insert(n.key,n);return t}function UC(e){let t=jC;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function al(){return Xh()}function zC(){return Xh()}function Xh(){return new Al(e=>e.toString(),(e,t)=>e.isEqual(t))}const YV=new We(Ot.comparator),GV=new Sn(Ot.comparator);function se(...e){let t=GV;for(const n of e)t=t.add(n);return t}const KV=new Sn(ie);function XV(){return KV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vg(t)?"-0":t}}function BC(e){return{integerValue:""+e}}function QV(e,t){return SV(t)?BC(t):Sv(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this._=void 0}}function ZV(e,t,n){return e instanceof vf?function(s,a){const l={fields:{[EC]:{stringValue:wC},[TC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&vv(a)&&(a=wm(a)),a&&(l.fields[SC]=a),{mapValue:l}}(n,t):e instanceof xf?qC(e,t):e instanceof wf?$C(e,t):function(s,a){const l=FC(s,a),c=KS(l)+KS(s.Ae);return g0(l)&&g0(s.Ae)?BC(c):Sv(s.serializer,c)}(e,t)}function JV(e,t,n){return e instanceof xf?qC(e,t):e instanceof wf?$C(e,t):n}function FC(e,t){return e instanceof Bg?function(i){return g0(i)||function(a){return!!a&&"doubleValue"in a}(i)}(t)?t:{integerValue:0}:null}class vf extends Am{}class xf extends Am{constructor(t){super(),this.elements=t}}function qC(e,t){const n=HC(t);for(const i of e.elements)n.some(s=>sr(s,i))||n.push(i);return{arrayValue:{values:n}}}class wf extends Am{constructor(t){super(),this.elements=t}}function $C(e,t){let n=HC(t);for(const i of e.elements)n=n.filter(s=>!sr(s,i));return{arrayValue:{values:n}}}class Bg extends Am{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function KS(e){return nn(e.integerValue||e.doubleValue)}function HC(e){return xv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(t,n){this.field=t,this.transform=n}}function ej(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof xf&&s instanceof xf||i instanceof wf&&s instanceof wf?Hc(i.elements,s.elements,sr):i instanceof Bg&&s instanceof Bg?sr(i.Ae,s.Ae):i instanceof vf&&s instanceof vf}(e.transform,t.transform)}class nj{constructor(t,n){this.version=t,this.transformResults=n}}class xs{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new xs}static exists(t){return new xs(void 0,t)}static updateTime(t){return new xs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yg(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Rm{}function WC(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new GC(e.key,xs.none()):new Bf(e.key,e.data,xs.none());{const n=e.data,i=Ai.empty();let s=new Sn(Qn.comparator);for(let a of t.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?i.delete(a):i.set(a,l),s=s.add(a)}return new mo(e.key,i,new zi(s.toArray()),xs.none())}}function ij(e,t,n){e instanceof Bf?function(s,a,l){const c=s.value.clone(),h=QS(s.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(e,t,n):e instanceof mo?function(s,a,l){if(!yg(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=QS(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(YC(s)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(e,t,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,n)}function Qh(e,t,n,i){return e instanceof Bf?function(a,l,c,h){if(!yg(a.precondition,l))return c;const f=a.value.clone(),p=ZS(a.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(e,t,n,i):e instanceof mo?function(a,l,c,h){if(!yg(a.precondition,l))return c;const f=ZS(a.fieldTransforms,h,l),p=l.data;return p.setAll(YC(a)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(e,t,n,i):function(a,l,c){return yg(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(e,t,n)}function sj(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),a=FC(i.transform,s||null);a!=null&&(n===null&&(n=Ai.empty()),n.set(i.field,a))}return n||null}function XS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Hc(i,s,(a,l)=>ej(a,l))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Bf extends Rm{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class mo extends Rm{constructor(t,n,i,s,a=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function YC(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function QS(e,t,n){const i=new Map;ve(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const a=e[s],l=a.transform,c=t.data.field(a.field);i.set(a.field,JV(l,c,n[s]))}return i}function ZS(e,t,n){const i=new Map;for(const s of e){const a=s.transform,l=n.data.field(s.field);i.set(s.field,ZV(a,l,t))}return i}class GC extends Rm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rj extends Rm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(t.key)&&ij(a,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Qh(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Qh(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=zC();return this.mutations.forEach(s=>{const a=t.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(s.key)?null:c;const h=WC(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Bt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),se())}isEqual(t){return this.batchId===t.batchId&&Hc(this.mutations,t.mutations,(n,i)=>XS(n,i))&&Hc(this.baseMutations,t.baseMutations,(n,i)=>XS(n,i))}}class Tv{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){ve(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let s=function(){return YV}();const a=t.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,i[l].version);return new Tv(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,ce;function cj(e){switch(e){case dt.OK:return Ut(64938);case dt.CANCELLED:case dt.UNKNOWN:case dt.DEADLINE_EXCEEDED:case dt.RESOURCE_EXHAUSTED:case dt.INTERNAL:case dt.UNAVAILABLE:case dt.UNAUTHENTICATED:return!1;case dt.INVALID_ARGUMENT:case dt.NOT_FOUND:case dt.ALREADY_EXISTS:case dt.PERMISSION_DENIED:case dt.FAILED_PRECONDITION:case dt.ABORTED:case dt.OUT_OF_RANGE:case dt.UNIMPLEMENTED:case dt.DATA_LOSS:return!0;default:return Ut(15467,{code:e})}}function KC(e){if(e===void 0)return na("GRPC error has no .code"),dt.UNKNOWN;switch(e){case dn.OK:return dt.OK;case dn.CANCELLED:return dt.CANCELLED;case dn.UNKNOWN:return dt.UNKNOWN;case dn.DEADLINE_EXCEEDED:return dt.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return dt.RESOURCE_EXHAUSTED;case dn.INTERNAL:return dt.INTERNAL;case dn.UNAVAILABLE:return dt.UNAVAILABLE;case dn.UNAUTHENTICATED:return dt.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return dt.INVALID_ARGUMENT;case dn.NOT_FOUND:return dt.NOT_FOUND;case dn.ALREADY_EXISTS:return dt.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return dt.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return dt.FAILED_PRECONDITION;case dn.ABORTED:return dt.ABORTED;case dn.OUT_OF_RANGE:return dt.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return dt.UNIMPLEMENTED;case dn.DATA_LOSS:return dt.DATA_LOSS;default:return Ut(39323,{code:e})}}(ce=dn||(dn={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=new eo([4294967295,4294967295],0);function JS(e){const t=uj().encode(e),n=new cC;return n.update(t),new Uint8Array(n.digest())}function tT(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new eo([n,i],0),new eo([s,a],0)]}class Av{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new jh(`Invalid padding: ${n}`);if(i<0)throw new jh(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new jh(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new jh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=eo.fromNumber(this.ge)}ye(t,n,i){let s=t.add(n.multiply(eo.fromNumber(i)));return s.compare(hj)===1&&(s=new eo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=JS(t),[i,s]=tT(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,s,a);if(!this.we(l))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new Av(a,s,n);return i.forEach(c=>l.insert(c)),l}insert(t){if(this.ge===0)return;const n=JS(t),[i,s]=tT(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,s,a);this.Se(l)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class jh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,n,i,s,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,Ff.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new km(Bt.min(),s,new We(ie),ia(),se())}}class Ff{constructor(t,n,i,s,a){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Ff(i,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(t,n,i,s){this.be=t,this.removedTargetIds=n,this.key=i,this.De=s}}class XC{constructor(t,n){this.targetId=t,this.Ce=n}}class QC{constructor(t,n,i=Jn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class eT{constructor(){this.ve=0,this.Fe=nT(),this.Me=Jn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=se(),n=se(),i=se();return this.Fe.forEach((s,a)=>{switch(a){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Ut(38017,{changeType:a})}}),new Ff(this.Me,this.xe,t,n,i)}qe(){this.Oe=!1,this.Fe=nT()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fj{constructor(t){this.Ge=t,this.ze=new Map,this.je=ia(),this.Je=kp(),this.He=kp(),this.Ye=new We(ie)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:Ut(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,s)=>{this.rt(s)&&n(s)})}st(t){const n=t.targetId,i=t.Ce.count,s=this.ot(n);if(s){const a=s.target;if(y0(a))if(i===0){const l=new Ot(a.path);this.et(n,l,ui.newNoDocument(l,Bt.min()))}else ve(i===1,20013,{expectedCount:i});else{const l=this._t(n);if(l!==i){const c=this.ut(t),h=c?this.ct(c,t,l):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let l,c;try{l=oo(i).toUint8Array()}catch(h){if(h instanceof xC)return $c("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Av(l,s,a)}catch(h){return $c(h instanceof jh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach(a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.mightContain(c)||(this.et(n,a,null),s++)}),s}Tt(t){const n=new Map;this.ze.forEach((a,l)=>{const c=this.ot(l);if(c){if(a.current&&y0(c.target)){const h=new Ot(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,ui.newNoDocument(h,t))}a.Be&&(n.set(l,a.ke()),a.qe())}});let i=se();this.He.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(a))}),this.je.forEach((a,l)=>l.setReadTime(t));const s=new km(t,n,this.Ye,this.je,i);return this.je=ia(),this.Je=kp(),this.He=kp(),this.Ye=new We(ie),s}Xe(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new eT,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Sn(ie),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Sn(ie),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||kt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new eT),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function kp(){return new We(Ot.comparator)}function nT(){return new We(Ot.comparator)}const dj={asc:"ASCENDING",desc:"DESCENDING"},pj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gj={and:"AND",or:"OR"};class mj{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function v0(e,t){return e.useProto3Json||xm(t)?t:{value:t}}function Fg(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ZC(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function yj(e,t){return Fg(e,t.toTimestamp())}function Zs(e){return ve(!!e,49232),Bt.fromTimestamp(function(n){const i=ao(n);return new Me(i.seconds,i.nanos)}(e))}function Rv(e,t){return x0(e,t).canonicalString()}function x0(e,t){const n=function(s){return new Oe(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function JC(e){const t=Oe.fromString(e);return ve(sD(t),10190,{key:t.toString()}),t}function w0(e,t){return Rv(e.databaseId,t.path)}function db(e,t){const n=JC(t);if(n.get(1)!==e.databaseId.projectId)throw new Tt(dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Tt(dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ot(eD(n))}function tD(e,t){return Rv(e.databaseId,t)}function _j(e){const t=JC(e);return t.length===4?Oe.emptyPath():eD(t)}function E0(e){return new Oe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function eD(e){return ve(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function iT(e,t,n){return{name:w0(e,t),fields:n.value.mapValue.fields}}function bj(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ut(39313,{state:f})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],a=function(f,p){return f.useProto3Json?(ve(p===void 0||typeof p=="string",58123),Jn.fromBase64String(p||"")):(ve(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Jn.fromUint8Array(p||new Uint8Array))}(e,t.targetChange.resumeToken),l=t.targetChange.cause,c=l&&function(f){const p=f.code===void 0?dt.UNKNOWN:KC(f.code);return new Tt(p,f.message||"")}(l);n=new QC(i,s,a,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=db(e,i.document.name),a=Zs(i.document.updateTime),l=i.document.createTime?Zs(i.document.createTime):Bt.min(),c=new Ai({mapValue:{fields:i.document.fields}}),h=ui.newFoundDocument(s,a,l,c),f=i.targetIds||[],p=i.removedTargetIds||[];n=new _g(f,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=db(e,i.document),a=i.readTime?Zs(i.readTime):Bt.min(),l=ui.newNoDocument(s,a),c=i.removedTargetIds||[];n=new _g([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=db(e,i.document),a=i.removedTargetIds||[];n=new _g([],a,s,null)}else{if(!("filter"in t))return Ut(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,l=new lj(s,a),c=i.targetId;n=new XC(c,l)}}return n}function vj(e,t){let n;if(t instanceof Bf)n={update:iT(e,t.key,t.value)};else if(t instanceof GC)n={delete:w0(e,t.key)};else if(t instanceof mo)n={update:iT(e,t.key,t.data),updateMask:Cj(t.fieldMask)};else{if(!(t instanceof rj))return Ut(16599,{Vt:t.type});n={verify:w0(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(a,l){const c=l.transform;if(c instanceof vf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof xf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof wf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Bg)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Ut(20930,{transform:l.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:yj(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ut(27497)}(e,t.precondition)),n}function xj(e,t){return e&&e.length>0?(ve(t!==void 0,14353),e.map(n=>function(s,a){let l=s.updateTime?Zs(s.updateTime):Zs(a);return l.isEqual(Bt.min())&&(l=Zs(a)),new nj(l,s.transformResults||[])}(n,t))):[]}function wj(e,t){return{documents:[tD(e,t.path)]}}function Ej(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=tD(e,s);const a=function(f){if(f.length!==0)return iD(Es.create(f,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(p=>function(_){return{field:Rc(_.field),direction:Aj(_.dir)}}(p))}(t.orderBy);l&&(n.structuredQuery.orderBy=l);const c=v0(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{ft:n,parent:s}}function Sj(e){let t=_j(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){ve(i===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:t=t.child(p.collectionId)}let a=[];n.where&&(a=function(y){const _=nD(y);return _ instanceof Es&&MC(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(_=>function(E){return new bf(kc(E.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(y){let _;return _=typeof y=="object"?y.value:y,xm(_)?null:_}(n.limit));let h=null;n.startAt&&(h=function(y){const _=!!y.before,x=y.values||[];return new zg(x,_)}(n.startAt));let f=null;return n.endAt&&(f=function(y){const _=!y.before,x=y.values||[];return new zg(x,_)}(n.endAt)),FV(t,s,l,a,c,"F",h,f)}function Tj(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut(28987,{purpose:s})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function nD(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=kc(n.unaryFilter.field);return mn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=kc(n.unaryFilter.field);return mn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=kc(n.unaryFilter.field);return mn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=kc(n.unaryFilter.field);return mn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ut(61313);default:return Ut(60726)}}(e):e.fieldFilter!==void 0?function(n){return mn.create(kc(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ut(58110);default:return Ut(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Es.create(n.compositeFilter.filters.map(i=>nD(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ut(1026)}}(n.compositeFilter.op))}(e):Ut(30097,{filter:e})}function Aj(e){return dj[e]}function Rj(e){return pj[e]}function kj(e){return gj[e]}function Rc(e){return{fieldPath:e.canonicalString()}}function kc(e){return Qn.fromServerFormat(e.fieldPath)}function iD(e){return e instanceof mn?function(n){if(n.op==="=="){if($S(n.value))return{unaryFilter:{field:Rc(n.field),op:"IS_NAN"}};if(qS(n.value))return{unaryFilter:{field:Rc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($S(n.value))return{unaryFilter:{field:Rc(n.field),op:"IS_NOT_NAN"}};if(qS(n.value))return{unaryFilter:{field:Rc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rc(n.field),op:Rj(n.op),value:n.value}}}(e):e instanceof Es?function(n){const i=n.getFilters().map(s=>iD(s));return i.length===1?i[0]:{compositeFilter:{op:kj(n.op),filters:i}}}(e):Ut(54877,{filter:e})}function Cj(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function sD(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t,n,i,s,a=Bt.min(),l=Bt.min(),c=Jn.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(t){return new Wa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(t){this.yt=t}}function Mj(e){const t=Sj({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?b0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(){this.Cn=new Oj}addToCollectionParentIndex(t,n){return this.Cn.add(n),mt.resolve()}getCollectionParents(t,n){return mt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return mt.resolve()}deleteFieldIndex(t,n){return mt.resolve()}deleteAllFieldIndexes(t){return mt.resolve()}createTargetIndexes(t,n){return mt.resolve()}getDocumentsMatchingTarget(t,n){return mt.resolve(null)}getIndexType(t,n){return mt.resolve(0)}getFieldIndexes(t,n){return mt.resolve([])}getNextCollectionGroupToUpdate(t){return mt.resolve(null)}getMinOffset(t,n){return mt.resolve(ro.min())}getMinOffsetFromCollectionGroup(t,n){return mt.resolve(ro.min())}updateCollectionGroup(t,n,i){return mt.resolve()}updateIndexEntries(t,n){return mt.resolve()}}class Oj{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new Sn(Oe.comparator),a=!s.has(i);return this.index[n]=s.add(i),a}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Sn(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rD=41943040;class Ti{static withCacheSize(t){return new Ti(t,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti.DEFAULT_COLLECTION_PERCENTILE=10,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ti.DEFAULT=new Ti(rD,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ti.DISABLED=new Ti(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Gc(0)}static cr(){return new Gc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="LruGarbageCollector",Pj=1048576;function aT([e,t],[n,i]){const s=ie(e,n);return s===0?ie(t,i):s}class Nj{constructor(t){this.Ir=t,this.buffer=new Sn(aT),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();aT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Lj{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){kt(rT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cu(n)?kt(rT,"Ignoring IndexedDB error during garbage collection: ",n):await lu(n)}await this.Vr(3e5)})}}class Vj{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return mt.resolve(vm.ce);const i=new Nj(n);return this.mr.forEachTarget(t,s=>i.Ar(s.sequenceNumber)).next(()=>this.mr.pr(t,s=>i.Ar(s))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.mr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(kt("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(sT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(kt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sT):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let i,s,a,l,c,h,f;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(kt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(t,s))).next(y=>(i=y,c=Date.now(),this.removeTargets(t,i,n))).next(y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(y=>(f=Date.now(),Tc()<=ne.DEBUG&&kt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y})))}}function jj(e,t){return new Vj(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(){this.changes=new Al(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ui.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?mt.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&Qh(i.mutation,s,zi.empty(),Me.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,se()).next(()=>i))}getLocalViewOfDocuments(t,n,i=se()){const s=al();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(a=>{let l=Vh();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,n){const i=al();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,se()))}populateOverlays(t,n,i){const s=[];return i.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(t,s).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(t,n,i,s){let a=ia();const l=Xh(),c=function(){return Xh()}();return n.forEach((h,f)=>{const p=i.get(f.key);s.has(f.key)&&(p===void 0||p.mutation instanceof mo)?a=a.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Qh(p.mutation,f,p.mutation.getFieldMask(),Me.now())):l.set(f.key,zi.empty())}),this.recalculateAndSaveOverlays(t,a).next(h=>(h.forEach((f,p)=>l.set(f,p)),n.forEach((f,p)=>c.set(f,new zj(p,l.get(f)??null))),c))}recalculateAndSaveOverlays(t,n){const i=Xh();let s=new We((l,c)=>l-c),a=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let p=i.get(h)||zi.empty();p=c.applyToLocalView(f,p),i.set(h,p);const y=(s.get(c.batchId)||se()).add(h);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,p=h.value,y=zC();p.forEach(_=>{if(!a.has(_)){const x=WC(n.get(_),i.get(_));x!==null&&y.set(_,x),a=a.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(t,f,y))}return mt.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return function(l){return Ot.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):NC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-a.size):mt.resolve(al());let c=gf,h=a;return l.next(f=>mt.forEach(f,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(p)?mt.resolve():this.remoteDocumentCache.getEntry(t,p).next(_=>{h=h.insert(p,_)}))).next(()=>this.populateOverlays(t,f,a)).next(()=>this.computeViews(t,h,f,se())).next(p=>({batchId:c,changes:UC(p)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Ot(n)).next(i=>{let s=Vh();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const a=n.collectionGroup;let l=Vh();return this.indexManager.getCollectionParents(t,a).next(c=>mt.forEach(c,h=>{const f=function(y,_){return new uu(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(t,f,i,s).next(p=>{p.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,n,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,a,s))).next(l=>{a.forEach((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,ui.newInvalidDocument(p)))});let c=Vh();return l.forEach((h,f)=>{const p=a.get(h);p!==void 0&&Qh(p.mutation,f,zi.empty(),Me.now()),Tm(n,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return mt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Zs(s.createTime)}}(n)),mt.resolve()}getNamedQuery(t,n){return mt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(s){return{name:s.name,query:Mj(s.bundledQuery),readTime:Zs(s.readTime)}}(n)),mt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(){this.overlays=new We(Ot.comparator),this.qr=new Map}getOverlay(t,n){return mt.resolve(this.overlays.get(n))}getOverlays(t,n){const i=al();return mt.forEach(n,s=>this.getOverlay(t,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,a)=>{this.St(t,n,a)}),mt.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(i)),mt.resolve()}getOverlaysForCollection(t,n,i){const s=al(),a=n.length+1,l=new Ot(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>i&&s.set(h.getKey(),h)}return mt.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let a=new We((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let p=a.get(f.largestBatchId);p===null&&(p=al(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=al(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=s)););return mt.resolve(c)}St(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new oj(n,i));let a=this.qr.get(n);a===void 0&&(a=se(),this.qr.set(n,a)),this.qr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(){this.sessionToken=Jn.EMPTY_BYTE_STRING}getSessionToken(t){return mt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,mt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this.Qr=new Sn(Vn.$r),this.Ur=new Sn(Vn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const i=new Vn(t,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Gr(new Vn(t,n))}zr(t,n){t.forEach(i=>this.removeReference(i,n))}jr(t){const n=new Ot(new Oe([])),i=new Vn(n,t),s=new Vn(n,t+1),a=[];return this.Ur.forEachInRange([i,s],l=>{this.Gr(l),a.push(l.key)}),a}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Ot(new Oe([])),i=new Vn(n,t),s=new Vn(n,t+1);let a=se();return this.Ur.forEachInRange([i,s],l=>{a=a.add(l.key)}),a}containsKey(t){const n=new Vn(t,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Vn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Ot.comparator(t.key,n.key)||ie(t.Yr,n.Yr)}static Kr(t,n){return ie(t.Yr,n.Yr)||Ot.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Sn(Vn.$r)}checkEmpty(t){return mt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new aj(a,n,i,s);this.mutationQueue.push(l);for(const c of s)this.Zr=this.Zr.add(new Vn(c.key,a)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return mt.resolve(l)}lookupMutationBatch(t,n){return mt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.ei(i),a=s<0?0:s;return mt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(this.mutationQueue.length===0?bv:this.tr-1)}getAllMutationBatches(t){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Vn(n,0),s=new Vn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,s],l=>{const c=this.Xr(l.Yr);a.push(c)}),mt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Sn(ie);return n.forEach(s=>{const a=new Vn(s,0),l=new Vn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],c=>{i=i.add(c.Yr)})}),mt.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let a=i;Ot.isDocumentKey(a)||(a=a.child(""));const l=new Vn(new Ot(a),0);let c=new Sn(ie);return this.Zr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(c=c.add(h.Yr)),!0)},l),mt.resolve(this.ti(c))}ti(t){const n=[];return t.forEach(i=>{const s=this.Xr(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){ve(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return mt.forEach(n.mutations,s=>{const a=new Vn(s.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,n){const i=new Vn(n,0),s=this.Zr.firstAfterOrEqual(i);return mt.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,mt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(t){this.ri=t,this.docs=function(){return new We(Ot.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return mt.resolve(i?i.document.mutableCopy():ui.newInvalidDocument(n))}getEntries(t,n){let i=ia();return n.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():ui.newInvalidDocument(s))}),mt.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let a=ia();const l=n.path,c=new Ot(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||vV(bV(p),i)<=0||(s.has(p.key)||Tm(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return mt.resolve(a)}getAllFromCollectionGroup(t,n,i,s){Ut(9500)}ii(t,n){return mt.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new Yj(this)}getSize(t){return mt.resolve(this.size)}}class Yj extends Uj{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(i)}),mt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(t){this.persistence=t,this.si=new Al(n=>wv(n),Ev),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.oi=0,this._i=new kv,this.targetCount=0,this.ai=Gc.ur()}forEachTarget(t,n){return this.si.forEach((i,s)=>n(s)),mt.resolve()}getLastRemoteSnapshotVersion(t){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return mt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),mt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Gc(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,mt.resolve()}updateTargetData(t,n){return this.Pr(n),mt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,mt.resolve()}removeTargets(t,n,i){let s=0;const a=[];return this.si.forEach((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),mt.waitFor(a).next(()=>s)}getTargetCount(t){return mt.resolve(this.targetCount)}getTargetData(t,n){const i=this.si.get(n)||null;return mt.resolve(i)}addMatchingKeys(t,n,i){return this._i.Wr(n,i),mt.resolve()}removeMatchingKeys(t,n,i){this._i.zr(n,i);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(t,l))}),mt.waitFor(a)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),mt.resolve()}getMatchingKeysForTargetId(t,n){const i=this._i.Hr(n);return mt.resolve(i)}containsKey(t,n){return mt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t,n){this.ui={},this.overlays={},this.ci=new vm(0),this.li=!1,this.li=!0,this.hi=new $j,this.referenceDelegate=t(this),this.Pi=new Gj(this),this.indexManager=new Ij,this.remoteDocumentCache=function(s){return new Wj(s)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new Dj(n),this.Ii=new Fj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new qj,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ui[t.toKey()];return i||(i=new Hj(n,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,i){kt("MemoryPersistence","Starting transaction:",t);const s=new Kj(this.ci.next());return this.referenceDelegate.Ei(),i(s).next(a=>this.referenceDelegate.di(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ai(t,n){return mt.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,n)))}}class Kj extends wV{constructor(t){super(),this.currentSequenceNumber=t}}class Cv{constructor(t){this.persistence=t,this.Ri=new kv,this.Vi=null}static mi(t){return new Cv(t)}get fi(){if(this.Vi)return this.Vi;throw Ut(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),mt.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),mt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),mt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(a=>this.fi.add(a.toString()))}).next(()=>i.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.fi,i=>{const s=Ot.fromPath(i);return this.gi(t,s).next(a=>{a||n.removeEntry(s,Bt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return mt.or([()=>mt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class qg{constructor(t,n){this.persistence=t,this.pi=new Al(i=>TV(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=jj(this,n)}static mi(t,n){return new qg(t,n)}Ei(){}di(t){return mt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(s=>i+s))}wr(t){let n=0;return this.pr(t,i=>{n++}).next(()=>n)}pr(t,n){return mt.forEach(this.pi,(i,s)=>this.br(t,i,s).next(a=>a?mt.resolve():n(s)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(t,l=>this.br(t,l,n).next(c=>{c||(i++,a.removeEntry(l,Bt.min()))})).next(()=>a.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),mt.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),mt.resolve()}removeReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),mt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),mt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=gg(t.data.value)),n}br(t,n,i){return mt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.pi.get(n);return mt.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Es=i,this.ds=s}static As(t,n){let i=se(),s=se();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Dv(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return zL()?8:EV(fi())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,s){const a={result:null};return this.ys(t,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ws(t,n,s,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new Xj;return this.Ss(t,n,l).next(c=>{if(a.result=c,this.Vs)return this.bs(t,n,l,c.size)})}).next(()=>a.result)}bs(t,n,i,s){return i.documentReadCount<this.fs?(Tc()<=ne.DEBUG&&kt("QueryEngine","SDK will not create cache indexes for query:",Ac(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),mt.resolve()):(Tc()<=ne.DEBUG&&kt("QueryEngine","Query:",Ac(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Tc()<=ne.DEBUG&&kt("QueryEngine","The SDK decides to create cache indexes for query:",Ac(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Qs(n))):mt.resolve())}ys(t,n){if(GS(n))return mt.resolve(null);let i=Qs(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=b0(n,null,"F"),i=Qs(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const l=se(...a);return this.ps.getDocuments(t,l).next(c=>this.indexManager.getMinOffset(t,i).next(h=>{const f=this.Ds(n,c);return this.Cs(n,f,l,h.readTime)?this.ys(t,b0(n,null,"F")):this.vs(t,f,n,h)}))})))}ws(t,n,i,s){return GS(n)||s.isEqual(Bt.min())?mt.resolve(null):this.ps.getDocuments(t,i).next(a=>{const l=this.Ds(n,a);return this.Cs(n,l,i,s)?mt.resolve(null):(Tc()<=ne.DEBUG&&kt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ac(n)),this.vs(t,l,n,_V(s,gf)).next(c=>c))})}Ds(t,n){let i=new Sn(VC(t));return n.forEach((s,a)=>{Tm(t,a)&&(i=i.add(a))}),i}Cs(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const a=t.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(t,n,i){return Tc()<=ne.DEBUG&&kt("QueryEngine","Using full collection scan to execute query:",Ac(n)),this.ps.getDocumentsMatchingQuery(t,n,ro.min(),i)}vs(t,n,i,s){return this.ps.getDocumentsMatchingQuery(t,i,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="LocalStore",Zj=3e8;class Jj{constructor(t,n,i,s){this.persistence=t,this.Fs=n,this.serializer=s,this.Ms=new We(ie),this.xs=new Al(a=>wv(a),Ev),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Bj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function t6(e,t,n,i){return new Jj(e,t,n,i)}async function oD(e,t){const n=qt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,n.Bs(t),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],c=[];let h=se();for(const f of s){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of a){c.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(i,h).next(f=>({Ls:f,removedBatchIds:l,addedBatchIds:c}))})})}function e6(e,t){const n=qt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(c,h,f,p){const y=f.batch,_=y.keys();let x=mt.resolve();return _.forEach(E=>{x=x.next(()=>p.getEntry(h,E)).next(A=>{const T=f.docVersions.get(E);ve(T!==null,48541),A.version.compareTo(T)<0&&(y.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),p.addEntry(A)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(n,i,t,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=se();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function lD(e){const t=qt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function n6(e,t){const n=qt(e),i=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];t.targetChanges.forEach((p,y)=>{const _=s.get(y);if(!_)return;c.push(n.Pi.removeMatchingKeys(a,p.removedDocuments,y).next(()=>n.Pi.addMatchingKeys(a,p.addedDocuments,y)));let x=_.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(y)!==null?x=x.withResumeToken(Jn.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,i)),s=s.insert(y,x),function(A,T,D){return A.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=Zj?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(_,x,p)&&c.push(n.Pi.updateTargetData(a,x))});let h=ia(),f=se();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))}),c.push(i6(a,l,t.documentUpdates).next(p=>{h=p.ks,f=p.qs})),!i.isEqual(Bt.min())){const p=n.Pi.getLastRemoteSnapshotVersion(a).next(y=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i));c.push(p)}return mt.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,f)).next(()=>h)}).then(a=>(n.Ms=s,a))}function i6(e,t,n){let i=se(),s=se();return n.forEach(a=>i=i.add(a)),t.getEntries(e,i).next(a=>{let l=ia();return n.forEach((c,h)=>{const f=a.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Bt.min())?(t.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(h),l=l.insert(c,h)):kt(Mv,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),{ks:l,qs:s}})}function s6(e,t){const n=qt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=bv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function r6(e,t){const n=qt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Pi.getTargetData(i,t).next(a=>a?(s=a,mt.resolve(s)):n.Pi.allocateTargetId(i).next(l=>(s=new Wa(t,l,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(t,i.targetId)),i})}async function S0(e,t,n){const i=qt(e),s=i.Ms.get(t),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!cu(l))throw l;kt(Mv,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ms=i.Ms.remove(t),i.xs.delete(s.target)}function oT(e,t,n){const i=qt(e);let s=Bt.min(),a=se();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,p){const y=qt(h),_=y.xs.get(p);return _!==void 0?mt.resolve(y.Ms.get(_)):y.Pi.getTargetData(f,p)}(i,l,Qs(t)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>i.Fs.getDocumentsMatchingQuery(l,t,n?s:Bt.min(),n?a:se())).next(c=>(a6(i,$V(t),c),{documents:c,Qs:a})))}function a6(e,t,n){let i=e.Os.get(t)||Bt.min();n.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),e.Os.set(t,i)}class lT{constructor(){this.activeTargetIds=XV()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class o6{constructor(){this.Mo=new lT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,i){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new lT,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="ConnectivityMonitor";class uT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){kt(cT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){kt(cT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cp=null;function T0(){return Cp===null?Cp=function(){return 268435456+Math.round(2147483648*Math.random())}():Cp++,"0x"+Cp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="RestConnection",c6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class u6{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===jg?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(t,n,i,s,a){const l=T0(),c=this.zo(t,n.toUriEncodedString());kt(pb,`Sending RPC '${t}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,a);const{host:f}=new URL(c),p=ru(f);return this.Jo(t,c,h,i,p).then(y=>(kt(pb,`Received RPC '${t}' ${l}: `,y),y),y=>{throw $c(pb,`RPC '${t}' ${l} failed with error: `,y,"url: ",c,"request:",i),y})}Ho(t,n,i,s,a,l){return this.Go(t,n,i,s,a)}jo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ou}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>t[a]=s),i&&i.headers.forEach((s,a)=>t[a]=s)}zo(t,n){const i=c6[t];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri="WebChannelConnection";class f6 extends u6{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,s,a){const l=T0();return new Promise((c,h)=>{const f=new uC;f.setWithCredentials(!0),f.listenOnce(hC.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case pg.NO_ERROR:const y=f.getResponseJson();kt(ri,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),c(y);break;case pg.TIMEOUT:kt(ri,`RPC '${t}' ${l} timed out`),h(new Tt(dt.DEADLINE_EXCEEDED,"Request time out"));break;case pg.HTTP_ERROR:const _=f.getStatus();if(kt(ri,`RPC '${t}' ${l} failed with status:`,_,"response text:",f.getResponseText()),_>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const E=x==null?void 0:x.error;if(E&&E.status&&E.message){const A=function(D){const O=D.toLowerCase().replace(/_/g,"-");return Object.values(dt).indexOf(O)>=0?O:dt.UNKNOWN}(E.status);h(new Tt(A,E.message))}else h(new Tt(dt.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Tt(dt.UNAVAILABLE,"Connection failed."));break;default:Ut(9055,{l_:t,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{kt(ri,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(s);kt(ri,`RPC '${t}' ${l} sending request:`,s),f.send(n,"POST",p,i,15)})}T_(t,n,i){const s=T0(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=pC(),c=dC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=a.join("");kt(ri,`Creating RPC '${t}' stream ${s}: ${p}`,h);const y=l.createWebChannel(p,h);this.I_(y);let _=!1,x=!1;const E=new h6({Yo:T=>{x?kt(ri,`Not sending because RPC '${t}' stream ${s} is closed:`,T):(_||(kt(ri,`Opening RPC '${t}' stream ${s} transport.`),y.open(),_=!0),kt(ri,`RPC '${t}' stream ${s} sending:`,T),y.send(T))},Zo:()=>y.close()}),A=(T,D,O)=>{T.listen(D,L=>{try{O(L)}catch(B){setTimeout(()=>{throw B},0)}})};return A(y,Lh.EventType.OPEN,()=>{x||(kt(ri,`RPC '${t}' stream ${s} transport opened.`),E.o_())}),A(y,Lh.EventType.CLOSE,()=>{x||(x=!0,kt(ri,`RPC '${t}' stream ${s} transport closed`),E.a_(),this.E_(y))}),A(y,Lh.EventType.ERROR,T=>{x||(x=!0,$c(ri,`RPC '${t}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),E.a_(new Tt(dt.UNAVAILABLE,"The operation could not be completed")))}),A(y,Lh.EventType.MESSAGE,T=>{var D;if(!x){const O=T.data[0];ve(!!O,16349);const L=O,B=(L==null?void 0:L.error)||((D=L[0])==null?void 0:D.error);if(B){kt(ri,`RPC '${t}' stream ${s} received error:`,B);const M=B.status;let Y=function(P){const z=dn[P];if(z!==void 0)return KC(z)}(M),C=B.message;Y===void 0&&(Y=dt.INTERNAL,C="Unknown error status: "+M+" with message "+B.message),x=!0,E.a_(new Tt(Y,C)),y.close()}else kt(ri,`RPC '${t}' stream ${s} received:`,O),E.u_(O)}}),A(c,fC.STAT_EVENT,T=>{T.stat===f0.PROXY?kt(ri,`RPC '${t}' stream ${s} detected buffering proxy`):T.stat===f0.NOPROXY&&kt(ri,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function gb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(e){return new mj(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(t,n,i=1e3,s=1.5,a=6e4){this.Mi=t,this.timerId=n,this.d_=i,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&kt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="PersistentStream";class uD{constructor(t,n,i,s,a,l,c,h){this.Mi=t,this.S_=i,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cD(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===dt.RESOURCE_EXHAUSTED?(na(n.toString()),na("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===dt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===n&&this.G_(i,s)},i=>{t(()=>{const s=new Tt(dt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(t,n){const i=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return kt(hT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(kt(hT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d6 extends uD{constructor(t,n,i,s,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=a}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=bj(this.serializer,t),i=function(a){if(!("targetChange"in a))return Bt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Bt.min():l.readTime?Zs(l.readTime):Bt.min()}(t);return this.listener.H_(n,i)}Y_(t){const n={};n.database=E0(this.serializer),n.addTarget=function(a,l){let c;const h=l.target;if(c=y0(h)?{documents:wj(a,h)}:{query:Ej(a,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=ZC(a,l.resumeToken);const f=v0(a,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Bt.min())>0){c.readTime=Fg(a,l.snapshotVersion.toTimestamp());const f=v0(a,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,t);const i=Tj(this.serializer,t);i&&(n.labels=i),this.q_(n)}Z_(t){const n={};n.database=E0(this.serializer),n.removeTarget=t,this.q_(n)}}class p6 extends uD{constructor(t,n,i,s,a,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return ve(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ve(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ve(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=xj(t.writeResults,t.commitTime),i=Zs(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=E0(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>vj(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{}class m6 extends g6{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Tt(dt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Go(t,x0(n,i),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Tt(dt.UNKNOWN,a.toString())})}Ho(t,n,i,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Ho(t,x0(n,i),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Tt(dt.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class y6{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(na(n),this.aa=!1):kt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="RemoteStore";class _6{constructor(t,n,i,s,a){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(l=>{i.enqueueAndForget(async()=>{Rl(this)&&(kt(bl,"Restarting streams for network reachability change."),await async function(h){const f=qt(h);f.Ea.add(4),await qf(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Dm(f)}(this))})}),this.Ra=new y6(i,s)}}async function Dm(e){if(Rl(e))for(const t of e.da)await t(!0)}async function qf(e){for(const t of e.da)await t(!1)}function hD(e,t){const n=qt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Nv(n)?Pv(n):hu(n).O_()&&Ov(n,t))}function Iv(e,t){const n=qt(e),i=hu(n);n.Ia.delete(t),i.O_()&&fD(n,t),n.Ia.size===0&&(i.O_()?i.L_():Rl(n)&&n.Ra.set("Unknown"))}function Ov(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Bt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}hu(e).Y_(t)}function fD(e,t){e.Va.Ue(t),hu(e).Z_(t)}function Pv(e){e.Va=new fj({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),hu(e).start(),e.Ra.ua()}function Nv(e){return Rl(e)&&!hu(e).x_()&&e.Ia.size>0}function Rl(e){return qt(e).Ea.size===0}function dD(e){e.Va=void 0}async function b6(e){e.Ra.set("Online")}async function v6(e){e.Ia.forEach((t,n)=>{Ov(e,t)})}async function x6(e,t){dD(e),Nv(e)?(e.Ra.ha(t),Pv(e)):e.Ra.set("Unknown")}async function w6(e,t,n){if(e.Ra.set("Online"),t instanceof QC&&t.state===2&&t.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.Va.removeTarget(c))}(e,t)}catch(i){kt(bl,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await $g(e,i)}else if(t instanceof _g?e.Va.Ze(t):t instanceof XC?e.Va.st(t):e.Va.tt(t),!n.isEqual(Bt.min()))try{const i=await lD(e.localStore);n.compareTo(i)>=0&&await function(a,l){const c=a.Va.Tt(l);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=a.Ia.get(f);p&&a.Ia.set(f,p.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,f)=>{const p=a.Ia.get(h);if(!p)return;a.Ia.set(h,p.withResumeToken(Jn.EMPTY_BYTE_STRING,p.snapshotVersion)),fD(a,h);const y=new Wa(p.target,h,f,p.sequenceNumber);Ov(a,y)}),a.remoteSyncer.applyRemoteEvent(c)}(e,n)}catch(i){kt(bl,"Failed to raise snapshot:",i),await $g(e,i)}}async function $g(e,t,n){if(!cu(t))throw t;e.Ea.add(1),await qf(e),e.Ra.set("Offline"),n||(n=()=>lD(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{kt(bl,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Dm(e)})}function pD(e,t){return t().catch(n=>$g(e,n,t))}async function Mm(e){const t=qt(e),n=co(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:bv;for(;E6(t);)try{const s=await s6(t.localStore,i);if(s===null){t.Ta.length===0&&n.L_();break}i=s.batchId,S6(t,s)}catch(s){await $g(t,s)}gD(t)&&mD(t)}function E6(e){return Rl(e)&&e.Ta.length<10}function S6(e,t){e.Ta.push(t);const n=co(e);n.O_()&&n.X_&&n.ea(t.mutations)}function gD(e){return Rl(e)&&!co(e).x_()&&e.Ta.length>0}function mD(e){co(e).start()}async function T6(e){co(e).ra()}async function A6(e){const t=co(e);for(const n of e.Ta)t.ea(n.mutations)}async function R6(e,t,n){const i=e.Ta.shift(),s=Tv.from(i,t,n);await pD(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Mm(e)}async function k6(e,t){t&&co(e).X_&&await async function(i,s){if(function(l){return cj(l)&&l!==dt.ABORTED}(s.code)){const a=i.Ta.shift();co(i).B_(),await pD(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Mm(i)}}(e,t),gD(e)&&mD(e)}async function fT(e,t){const n=qt(e);n.asyncQueue.verifyOperationInProgress(),kt(bl,"RemoteStore received new credentials");const i=Rl(n);n.Ea.add(3),await qf(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Dm(n)}async function C6(e,t){const n=qt(e);t?(n.Ea.delete(2),await Dm(n)):t||(n.Ea.add(2),await qf(n),n.Ra.set("Unknown"))}function hu(e){return e.ma||(e.ma=function(n,i,s){const a=qt(n);return a.sa(),new d6(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(e.datastore,e.asyncQueue,{Xo:b6.bind(null,e),t_:v6.bind(null,e),r_:x6.bind(null,e),H_:w6.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Nv(e)?Pv(e):e.Ra.set("Unknown")):(await e.ma.stop(),dD(e))})),e.ma}function co(e){return e.fa||(e.fa=function(n,i,s){const a=qt(n);return a.sa(),new p6(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:T6.bind(null,e),r_:k6.bind(null,e),ta:A6.bind(null,e),na:R6.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Mm(e)):(await e.fa.stop(),e.Ta.length>0&&(kt(bl,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(t,n,i,s,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,a){const l=Date.now()+i,c=new Lv(t,n,l,s,a);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Tt(dt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vv(e,t){if(na("AsyncQueue",`${t}: ${e}`),cu(e))return new Tt(dt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{static emptySet(t){return new Ic(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Ot.comparator(n.key,i.key):(n,i)=>Ot.comparator(n.key,i.key),this.keyedMap=Vh(),this.sortedSet=new We(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ic)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Ic;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.ga=new We(Ot.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Ut(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class Kc{constructor(t,n,i,s,a,l,c,h,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(t,n,i,s,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Kc(t,n,Ic.emptySet(n),l,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class M6{constructor(){this.queries=pT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=qt(n),a=s.queries;s.queries=pT(),a.forEach((l,c)=>{for(const h of c.Sa)h.onError(i)})})(this,new Tt(dt.ABORTED,"Firestore shutting down"))}}function pT(){return new Al(e=>LC(e),Sm)}async function jv(e,t){const n=qt(e);let i=3;const s=t.query;let a=n.queries.get(s);a?!a.ba()&&t.Da()&&(i=2):(a=new D6,i=t.Da()?0:1);try{switch(i){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=Vv(l,`Initialization of query '${Ac(t.query)}' failed`);return void t.onError(c)}n.queries.set(s,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&zv(n)}async function Uv(e,t){const n=qt(e),i=t.query;let s=3;const a=n.queries.get(i);if(a){const l=a.Sa.indexOf(t);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=t.Da()?0:1:!a.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function I6(e,t){const n=qt(e);let i=!1;for(const s of t){const a=s.query,l=n.queries.get(a);if(l){for(const c of l.Sa)c.Fa(s)&&(i=!0);l.wa=s}}i&&zv(n)}function O6(e,t,n){const i=qt(e),s=i.queries.get(t);if(s)for(const a of s.Sa)a.onError(n);i.queries.delete(t)}function zv(e){e.Ca.forEach(t=>{t.next()})}var A0,gT;(gT=A0||(A0={})).Ma="default",gT.Cache="cache";class Bv{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Kc(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Kc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==A0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t){this.key=t}}class _D{constructor(t){this.key=t}}class P6{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=se(),this.mutatedKeys=se(),this.eu=VC(t),this.tu=new Ic(this.eu)}get nu(){return this.Ya}ru(t,n){const i=n?n.iu:new dT,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((p,y)=>{const _=s.get(p),x=Tm(this.query,y)?y:null,E=!!_&&this.mutatedKeys.has(_.key),A=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let T=!1;_&&x?_.data.isEqual(x.data)?E!==A&&(i.track({type:3,doc:x}),T=!0):this.su(_,x)||(i.track({type:2,doc:x}),T=!0,(h&&this.eu(x,h)>0||f&&this.eu(x,f)<0)&&(c=!0)):!_&&x?(i.track({type:0,doc:x}),T=!0):_&&!x&&(i.track({type:1,doc:_}),T=!0,(h||f)&&(c=!0)),T&&(x?(l=l.add(x),a=A?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{tu:l,iu:i,Cs:c,mutatedKeys:a}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort((p,y)=>function(x,E){const A=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut(20277,{Rt:T})}};return A(x)-A(E)}(p.type,y.type)||this.eu(p.doc,y.doc)),this.ou(i),s=s??!1;const c=n&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new Kc(this.query,t.tu,a,l,t.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=se(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return t.forEach(i=>{this.Xa.has(i)||n.push(new _D(i))}),this.Xa.forEach(i=>{t.has(i)||n.push(new yD(i))}),n}cu(t){this.Ya=t.Qs,this.Xa=se();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Kc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fv="SyncEngine";class N6{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class L6{constructor(t){this.key=t,this.hu=!1}}class V6{constructor(t,n,i,s,a,l){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Al(c=>LC(c),Sm),this.Iu=new Map,this.Eu=new Set,this.du=new We(Ot.comparator),this.Au=new Map,this.Ru=new kv,this.Vu={},this.mu=new Map,this.fu=Gc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function j6(e,t,n=!0){const i=SD(e);let s;const a=i.Tu.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await bD(i,t,n,!0),s}async function U6(e,t){const n=SD(e);await bD(n,t,!0,!1)}async function bD(e,t,n,i){const s=await r6(e.localStore,Qs(t)),a=s.targetId,l=e.sharedClientState.addLocalQueryTarget(a,n);let c;return i&&(c=await z6(e,t,a,l==="current",s.resumeToken)),e.isPrimaryClient&&n&&hD(e.remoteStore,s),c}async function z6(e,t,n,i,s){e.pu=(y,_,x)=>async function(A,T,D,O){let L=T.view.ru(D);L.Cs&&(L=await oT(A.localStore,T.query,!1).then(({documents:C})=>T.view.ru(C,L)));const B=O&&O.targetChanges.get(T.targetId),M=O&&O.targetMismatches.get(T.targetId)!=null,Y=T.view.applyChanges(L,A.isPrimaryClient,B,M);return yT(A,T.targetId,Y.au),Y.snapshot}(e,y,_,x);const a=await oT(e.localStore,t,!0),l=new P6(t,a.Qs),c=l.ru(a.documents),h=Ff.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),f=l.applyChanges(c,e.isPrimaryClient,h);yT(e,n,f.au);const p=new N6(t,n,l);return e.Tu.set(t,p),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),f.snapshot}async function B6(e,t,n){const i=qt(e),s=i.Tu.get(t),a=i.Iu.get(s.targetId);if(a.length>1)return i.Iu.set(s.targetId,a.filter(l=>!Sm(l,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await S0(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Iv(i.remoteStore,s.targetId),R0(i,s.targetId)}).catch(lu)):(R0(i,s.targetId),await S0(i.localStore,s.targetId,!0))}async function F6(e,t){const n=qt(e),i=n.Tu.get(t),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Iv(n.remoteStore,i.targetId))}async function q6(e,t,n){const i=X6(e);try{const s=await function(l,c){const h=qt(l),f=Me.now(),p=c.reduce((x,E)=>x.add(E.key),se());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",x=>{let E=ia(),A=se();return h.Ns.getEntries(x,p).next(T=>{E=T,E.forEach((D,O)=>{O.isValidDocument()||(A=A.add(D))})}).next(()=>h.localDocuments.getOverlayedDocuments(x,E)).next(T=>{y=T;const D=[];for(const O of c){const L=sj(O,y.get(O.key).overlayedDocument);L!=null&&D.push(new mo(O.key,L,kC(L.value.mapValue),xs.exists(!0)))}return h.mutationQueue.addMutationBatch(x,f,D,c)}).next(T=>{_=T;const D=T.applyToLocalDocumentSet(y,A);return h.documentOverlayCache.saveOverlays(x,T.batchId,D)})}).then(()=>({batchId:_.batchId,changes:UC(y)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new We(ie)),f=f.insert(c,h),l.Vu[l.currentUser.toKey()]=f}(i,s.batchId,n),await $f(i,s.changes),await Mm(i.remoteStore)}catch(s){const a=Vv(s,"Failed to persist write");n.reject(a)}}async function vD(e,t){const n=qt(e);try{const i=await n6(n.localStore,t);t.targetChanges.forEach((s,a)=>{const l=n.Au.get(a);l&&(ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?ve(l.hu,14607):s.removedDocuments.size>0&&(ve(l.hu,42227),l.hu=!1))}),await $f(n,i,t)}catch(i){await lu(i)}}function mT(e,t,n){const i=qt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach((a,l)=>{const c=l.view.va(t);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=qt(l);h.onlineState=c;let f=!1;h.queries.forEach((p,y)=>{for(const _ of y.Sa)_.va(c)&&(f=!0)}),f&&zv(h)}(i.eventManager,t),s.length&&i.Pu.H_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function $6(e,t,n){const i=qt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Au.get(t),a=s&&s.key;if(a){let l=new We(Ot.comparator);l=l.insert(a,ui.newNoDocument(a,Bt.min()));const c=se().add(a),h=new km(Bt.min(),new Map,new We(ie),l,c);await vD(i,h),i.du=i.du.remove(a),i.Au.delete(t),qv(i)}else await S0(i.localStore,t,!1).then(()=>R0(i,t,n)).catch(lu)}async function H6(e,t){const n=qt(e),i=t.batch.batchId;try{const s=await e6(n.localStore,t);wD(n,i,null),xD(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await $f(n,s)}catch(s){await lu(s)}}async function W6(e,t,n){const i=qt(e);try{const s=await function(l,c){const h=qt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,c).next(y=>(ve(y!==null,37113),p=y.keys(),h.mutationQueue.removeMutationBatch(f,y))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(i.localStore,t);wD(i,t,n),xD(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await $f(i,s)}catch(s){await lu(s)}}function xD(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function wD(e,t,n){const i=qt(e);let s=i.Vu[i.currentUser.toKey()];if(s){const a=s.get(t);a&&(n?a.reject(n):a.resolve(),s=s.remove(t)),i.Vu[i.currentUser.toKey()]=s}}function R0(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(i=>{e.Ru.containsKey(i)||ED(e,i)})}function ED(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Iv(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),qv(e))}function yT(e,t,n){for(const i of n)i instanceof yD?(e.Ru.addReference(i.key,t),Y6(e,i)):i instanceof _D?(kt(Fv,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||ED(e,i.key)):Ut(19791,{wu:i})}function Y6(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(kt(Fv,"New document in limbo: "+n),e.Eu.add(i),qv(e))}function qv(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Ot(Oe.fromString(t)),i=e.fu.next();e.Au.set(i,new L6(n)),e.du=e.du.insert(n,i),hD(e.remoteStore,new Wa(Qs(Em(n.path)),i,"TargetPurposeLimboResolution",vm.ce))}}async function $f(e,t,n){const i=qt(e),s=[],a=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach((c,h)=>{l.push(i.pu(h,t,n).then(f=>{var p;if((f||n)&&i.isPrimaryClient){const y=f?!f.fromCache:(p=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:p.current;i.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(f){s.push(f);const y=Dv.As(h.targetId,f);a.push(y)}}))}),await Promise.all(l),i.Pu.H_(s),await async function(h,f){const p=qt(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>mt.forEach(f,_=>mt.forEach(_.Es,x=>p.persistence.referenceDelegate.addReference(y,_.targetId,x)).next(()=>mt.forEach(_.ds,x=>p.persistence.referenceDelegate.removeReference(y,_.targetId,x)))))}catch(y){if(!cu(y))throw y;kt(Mv,"Failed to update sequence numbers: "+y)}for(const y of f){const _=y.targetId;if(!y.fromCache){const x=p.Ms.get(_),E=x.snapshotVersion,A=x.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(_,A)}}}(i.localStore,a))}async function G6(e,t){const n=qt(e);if(!n.currentUser.isEqual(t)){kt(Fv,"User change. New user:",t.toKey());const i=await oD(n.localStore,t);n.currentUser=t,function(a,l){a.mu.forEach(c=>{c.forEach(h=>{h.reject(new Tt(dt.CANCELLED,l))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await $f(n,i.Ls)}}function K6(e,t){const n=qt(e),i=n.Au.get(t);if(i&&i.hu)return se().add(i.key);{let s=se();const a=n.Iu.get(t);if(!a)return s;for(const l of a){const c=n.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}function SD(e){const t=qt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vD.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=K6.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$6.bind(null,t),t.Pu.H_=I6.bind(null,t.eventManager),t.Pu.yu=O6.bind(null,t.eventManager),t}function X6(e){const t=qt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=H6.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=W6.bind(null,t),t}class Hg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Cm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return t6(this.persistence,new Qj,t.initialUser,this.serializer)}Cu(t){return new aD(Cv.mi,this.serializer)}Du(t){return new o6}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hg.provider={build:()=>new Hg};class Q6 extends Hg{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ve(this.persistence.referenceDelegate instanceof qg,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Lj(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ti.withCacheSize(this.cacheSizeBytes):Ti.DEFAULT;return new aD(i=>qg.mi(i,n),this.serializer)}}class k0{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>mT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=G6.bind(null,this.syncEngine),await C6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new M6}()}createDatastore(t){const n=Cm(t.databaseInfo.databaseId),i=function(a){return new f6(a)}(t.databaseInfo);return function(a,l,c,h){return new m6(a,l,c,h)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,a,l,c){return new _6(i,s,a,l,c)}(this.localStore,this.datastore,t.asyncQueue,n=>mT(this.syncEngine,n,0),function(){return uT.v()?new uT:new l6}())}createSyncEngine(t,n){return function(s,a,l,c,h,f,p){const y=new V6(s,a,l,c,h,f);return p&&(y.gu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const a=qt(s);kt(bl,"RemoteStore shutting down."),a.Ea.add(5),await qf(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}k0.provider={build:()=>new k0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):na("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="FirestoreClient";class Z6{constructor(t,n,i,s,a){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=li.UNAUTHENTICATED,this.clientId=_v.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{kt(uo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(kt(uo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Vv(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function mb(e,t){e.asyncQueue.verifyOperationInProgress(),kt(uo,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await oD(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function _T(e,t){e.asyncQueue.verifyOperationInProgress();const n=await J6(e);kt(uo,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>fT(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>fT(t.remoteStore,s)),e._onlineComponents=t}async function J6(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){kt(uo,"Using user provided OfflineComponentProvider");try{await mb(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===dt.FAILED_PRECONDITION||s.code===dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;$c("Error using user provided cache. Falling back to memory cache: "+n),await mb(e,new Hg)}}else kt(uo,"Using default OfflineComponentProvider"),await mb(e,new Q6(void 0));return e._offlineComponents}async function TD(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(kt(uo,"Using user provided OnlineComponentProvider"),await _T(e,e._uninitializedComponentsProvider._online)):(kt(uo,"Using default OnlineComponentProvider"),await _T(e,new k0))),e._onlineComponents}function t5(e){return TD(e).then(t=>t.syncEngine)}async function Wg(e){const t=await TD(e),n=t.eventManager;return n.onListen=j6.bind(null,t.syncEngine),n.onUnlisten=B6.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=U6.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=F6.bind(null,t.syncEngine),n}function e5(e,t,n={}){const i=new Zr;return e.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,f){const p=new $v({next:_=>{p.Nu(),l.enqueueAndForget(()=>Uv(a,y));const x=_.docs.has(c);!x&&_.fromCache?f.reject(new Tt(dt.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&_.fromCache&&h&&h.source==="server"?f.reject(new Tt(dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new Bv(Em(c.path),p,{includeMetadataChanges:!0,qa:!0});return jv(a,y)}(await Wg(e),e.asyncQueue,t,n,i)),i.promise}function n5(e,t,n={}){const i=new Zr;return e.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,f){const p=new $v({next:_=>{p.Nu(),l.enqueueAndForget(()=>Uv(a,y)),_.fromCache&&h.source==="server"?f.reject(new Tt(dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new Bv(c,p,{includeMetadataChanges:!0,qa:!0});return jv(a,y)}(await Wg(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="firestore.googleapis.com",vT=!0;class xT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Tt(dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RD,this.ssl=vT}else this.host=t.host,this.ssl=t.ssl??vT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=rD;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Pj)throw new Tt(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}yV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AD(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Tt(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Tt(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Tt(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Im{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Tt(dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Tt(dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new oV;switch(i.type){case"firstParty":return new hV(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Tt(dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=bT.get(n);i&&(kt("ComponentProvider","Removing Datastore"),bT.delete(n),i.terminate())}(this),Promise.resolve()}}function i5(e,t,n,i={}){var f;e=Bi(e,Im);const s=ru(t),a=e._getSettings(),l={...a,emulatorOptions:e._getEmulatorOptions()},c=`${t}:${n}`;s&&(nC(`https://${c}`),iC("Firestore",!0)),a.host!==RD&&a.host!==c&&$c("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:c,ssl:s,emulatorOptions:i};if(!ml(h,l)&&(e._setSettings(h),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=li.MOCK_USER;else{p=ML(i.mockUserToken,(f=e._app)==null?void 0:f.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Tt(dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new li(_)}e._authCredentials=new lV(new mC(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new yo(this.firestore,t,this._query)}}class Xe{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new no(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Xe(this.firestore,t,this._key)}toJSON(){return{type:Xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(zf(n,Xe._jsonSchema))return new Xe(t,i||null,new Ot(Oe.fromString(n.referencePath)))}}Xe._jsonSchemaVersion="firestore/documentReference/1.0",Xe._jsonSchema={type:yn("string",Xe._jsonSchemaVersion),referencePath:yn("string")};class no extends yo{constructor(t,n,i){super(t,n,Em(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Xe(this.firestore,null,new Ot(t))}withConverter(t){return new no(this.firestore,t,this._path)}}function Qe(e,t,...n){if(e=rn(e),yC("collection","path",t),e instanceof Im){const i=Oe.fromString(t,...n);return PS(i),new no(e,null,i)}{if(!(e instanceof Xe||e instanceof no))throw new Tt(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Oe.fromString(t,...n));return PS(i),new no(e.firestore,null,i)}}function Zn(e,t,...n){if(e=rn(e),arguments.length===1&&(t=_v.newId()),yC("doc","path",t),e instanceof Im){const i=Oe.fromString(t,...n);return OS(i),new Xe(e,null,new Ot(i))}{if(!(e instanceof Xe||e instanceof no))throw new Tt(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Oe.fromString(t,...n));return OS(i),new Xe(e.firestore,e instanceof no?e.converter:null,new Ot(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="AsyncQueue";class ET{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cD(this,"async_queue_retry"),this._c=()=>{const i=gb();i&&kt(wT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=gb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=gb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Zr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!cu(t))throw t;kt(wT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,na("INTERNAL UNHANDLED ERROR: ",ST(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=Lv.createAndSchedule(this,t,n,i,a=>this.hc(a));return this.tc.push(s),s}uc(){this.nc&&Ut(47125,{Pc:ST(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function ST(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of i)if(a in s&&typeof s[a]=="function")return!0;return!1}(e,["next","error","complete"])}class ho extends Im{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new ET,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ET(t),this._firestoreClient=void 0,await t}}}function s5(e,t){const n=typeof e=="object"?e:mv(),i=typeof e=="string"?e:jg,s=gv(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=CL("firestore");a&&i5(s,...a)}return s}function Om(e){if(e._terminated)throw new Tt(dt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||r5(e),e._firestoreClient}function r5(e){var i,s,a;const t=e._freezeSettings(),n=function(c,h,f,p){return new kV(c,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,AD(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(e._databaseId,((i=e._app)==null?void 0:i.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(s=t.localCache)!=null&&s._offlineComponentProvider&&((a=t.localCache)!=null&&a._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new Z6(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t){this._byteString=t}static fromBase64String(t){try{return new as(Jn.fromBase64String(t))}catch(n){throw new Tt(dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new as(Jn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:as._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(zf(t,as._jsonSchema))return as.fromBase64String(t.bytes)}}as._jsonSchemaVersion="firestore/bytes/1.0",as._jsonSchema={type:yn("string",as._jsonSchemaVersion),bytes:yn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Tt(dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Tt(dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Tt(dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ie(this._lat,t._lat)||ie(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Js._jsonSchemaVersion}}static fromJSON(t){if(zf(t,Js._jsonSchema))return new Js(t.latitude,t.longitude)}}Js._jsonSchemaVersion="firestore/geoPoint/1.0",Js._jsonSchema={type:yn("string",Js._jsonSchemaVersion),latitude:yn("number"),longitude:yn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(zf(t,tr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new tr(t.vectorValues);throw new Tt(dt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}tr._jsonSchemaVersion="firestore/vectorValue/1.0",tr._jsonSchema={type:yn("string",tr._jsonSchemaVersion),vectorValues:yn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=/^__.*__$/;class o5{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new mo(t,this.data,this.fieldMask,n,this.fieldTransforms):new Bf(t,this.data,n,this.fieldTransforms)}}class kD{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new mo(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function CD(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut(40011,{Ac:e})}}class Hv{constructor(t,n,i,s,a,l){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Hv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var s;const n=(s=this.path)==null?void 0:s.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){var s;const n=(s=this.path)==null?void 0:s.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Yg(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(CD(this.Ac)&&a5.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class l5{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Cm(t)}Cc(t,n,i,s=!1){return new Hv({Ac:t,methodName:n,Dc:i,path:Qn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lm(e){const t=e._freezeSettings(),n=Cm(e._databaseId);return new l5(e._databaseId,!!t.ignoreUndefinedProperties,n)}function DD(e,t,n,i,s,a={}){const l=e.Cc(a.merge||a.mergeFields?2:0,t,n,s);Yv("Data must be an object, but it was:",l,i);const c=MD(i,l);let h,f;if(a.merge)h=new zi(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const y of a.mergeFields){const _=C0(t,y,n);if(!l.contains(_))throw new Tt(dt.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);OD(p,_)||p.push(_)}h=new zi(p),f=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,f=l.fieldTransforms;return new o5(new Ai(c),h,f)}class Vm extends Nm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Vm}}class Wv extends Nm{_toFieldTransform(t){return new tj(t.path,new vf)}isEqual(t){return t instanceof Wv}}function c5(e,t,n,i){const s=e.Cc(1,t,n);Yv("Data must be an object, but it was:",s,i);const a=[],l=Ai.empty();go(i,(h,f)=>{const p=Gv(t,h,n);f=rn(f);const y=s.yc(p);if(f instanceof Vm)a.push(p);else{const _=Hf(f,y);_!=null&&(a.push(p),l.set(p,_))}});const c=new zi(a);return new kD(l,c,s.fieldTransforms)}function u5(e,t,n,i,s,a){const l=e.Cc(1,t,n),c=[C0(t,i,n)],h=[s];if(a.length%2!=0)throw new Tt(dt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)c.push(C0(t,a[_])),h.push(a[_+1]);const f=[],p=Ai.empty();for(let _=c.length-1;_>=0;--_)if(!OD(f,c[_])){const x=c[_];let E=h[_];E=rn(E);const A=l.yc(x);if(E instanceof Vm)f.push(x);else{const T=Hf(E,A);T!=null&&(f.push(x),p.set(x,T))}}const y=new zi(f);return new kD(p,y,l.fieldTransforms)}function h5(e,t,n,i=!1){return Hf(n,e.Cc(i?4:3,t))}function Hf(e,t){if(ID(e=rn(e)))return Yv("Unsupported field value:",t,e),MD(e,t);if(e instanceof Nm)return function(i,s){if(!CD(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,s){const a=[];let l=0;for(const c of i){let h=Hf(c,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(e,t)}return function(i,s){if((i=rn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return QV(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Me.fromDate(i);return{timestampValue:Fg(s.serializer,a)}}if(i instanceof Me){const a=new Me(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Fg(s.serializer,a)}}if(i instanceof Js)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof as)return{bytesValue:ZC(s.serializer,i._byteString)};if(i instanceof Xe){const a=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Rv(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof tr)return function(l,c){return{mapValue:{fields:{[AC]:{stringValue:RC},[Ug]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return Sv(c.serializer,f)})}}}}}}(i,s);throw s.Sc(`Unsupported field value: ${bm(i)}`)}(e,t)}function MD(e,t){const n={};return vC(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):go(e,(i,s)=>{const a=Hf(s,t.mc(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function ID(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Me||e instanceof Js||e instanceof as||e instanceof Xe||e instanceof Nm||e instanceof tr)}function Yv(e,t,n){if(!ID(n)||!_C(n)){const i=bm(n);throw i==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function C0(e,t,n){if((t=rn(t))instanceof Pm)return t._internalPath;if(typeof t=="string")return Gv(e,t);throw Yg("Field path arguments must be of type string or ",e,!1,void 0,n)}const f5=new RegExp("[~\\*/\\[\\]]");function Gv(e,t,n){if(t.search(f5)>=0)throw Yg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Pm(...t.split("."))._internalPath}catch{throw Yg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Yg(e,t,n,i,s){const a=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${t}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new Tt(dt.INVALID_ARGUMENT,c+e+h)}function OD(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(t,n,i,s,a){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new d5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(jm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class d5 extends PD{data(){return super.data()}}function jm(e,t){return typeof t=="string"?Gv(e,t):t instanceof Pm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Tt(dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kv{}class LD extends Kv{}function Bn(e,t,...n){let i=[];t instanceof Kv&&i.push(t),i=i.concat(n),function(a){const l=a.filter(h=>h instanceof Xv).length,c=a.filter(h=>h instanceof Um).length;if(l>1||l>0&&c>0)throw new Tt(dt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)e=s._apply(e);return e}class Um extends LD{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Um(t,n,i)}_apply(t){const n=this._parse(t);return VD(t._query,n),new yo(t.firestore,t.converter,_0(t._query,n))}_parse(t){const n=Lm(t.firestore);return function(a,l,c,h,f,p,y){let _;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Tt(dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){RT(y,p);const E=[];for(const A of y)E.push(AT(h,a,A));_={arrayValue:{values:E}}}else _=AT(h,a,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||RT(y,p),_=h5(c,l,y,p==="in"||p==="not-in");return mn.create(f,p,_)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function gn(e,t,n){const i=t,s=jm("where",e);return Um._create(s,i,n)}class Xv extends Kv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Xv(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Es.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,a){let l=s;const c=a.getFlattenedFilters();for(const h of c)VD(l,h),l=_0(l,h)}(t._query,n),new yo(t.firestore,t.converter,_0(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qv extends LD{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Qv(t,n)}_apply(t){const n=function(s,a,l){if(s.startAt!==null)throw new Tt(dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Tt(dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bf(a,l)}(t._query,this._field,this._direction);return new yo(t.firestore,t.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new uu(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,n))}}function Ef(e,t="asc"){const n=t,i=jm("orderBy",e);return Qv._create(i,n)}function AT(e,t,n){if(typeof(n=rn(n))=="string"){if(n==="")throw new Tt(dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NC(t)&&n.indexOf("/")!==-1)throw new Tt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Oe.fromString(n));if(!Ot.isDocumentKey(i))throw new Tt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return FS(e,new Ot(i))}if(n instanceof Xe)return FS(e,n._key);throw new Tt(dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bm(n)}.`)}function RT(e,t){if(!Array.isArray(e)||e.length===0)throw new Tt(dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function VD(e,t){const n=function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Tt(dt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Tt(dt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class p5{convertValue(t,n="none"){switch(lo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return nn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(oo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ut(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return go(t,(s,a)=>{i[s]=this.convertValue(a,n)}),i}convertVectorValue(t){var i,s,a;const n=(a=(s=(i=t.fields)==null?void 0:i[Ug].arrayValue)==null?void 0:s.values)==null?void 0:a.map(l=>nn(l.doubleValue));return new tr(n)}convertGeoPoint(t){return new Js(nn(t.latitude),nn(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=wm(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(mf(t));default:return null}}convertTimestamp(t){const n=ao(t);return new Me(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Oe.fromString(t);ve(sD(i),9688,{name:t});const s=new yf(i.get(1),i.get(3)),a=new Ot(i.popFirst(5));return s.isEqual(n)||na(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class Uh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ul extends PD{constructor(t,n,i,s,a,l){super(t,n,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new bg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(jm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Tt(dt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ul._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ul._jsonSchemaVersion="firestore/documentSnapshot/1.0",ul._jsonSchema={type:yn("string",ul._jsonSchemaVersion),bundleSource:yn("string","DocumentSnapshot"),bundleName:yn("string"),bundle:yn("string")};class bg extends ul{data(t={}){return super.data(t)}}class hl{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Uh(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new bg(this._firestore,this._userDataWriter,i.key,i,new Uh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Tt(dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new bg(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Uh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new bg(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Uh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:g5(c.type),doc:h,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Tt(dt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=hl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=_v.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function g5(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(e){e=Bi(e,Xe);const t=Bi(e.firestore,ho);return e5(Om(t),e._key).then(n=>UD(t,e,n))}hl._jsonSchemaVersion="firestore/querySnapshot/1.0",hl._jsonSchema={type:yn("string",hl._jsonSchemaVersion),bundleSource:yn("string","QuerySnapshot"),bundleName:yn("string"),bundle:yn("string")};class Zv extends p5{constructor(t){super(),this.firestore=t}convertBytes(t){return new as(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Xe(this.firestore,null,n)}}function io(e){e=Bi(e,yo);const t=Bi(e.firestore,ho),n=Om(t),i=new Zv(t);return ND(e._query),n5(n,e._query).then(s=>new hl(t,i,e,s))}function m5(e,t,n){e=Bi(e,Xe);const i=Bi(e.firestore,ho),s=jD(e.converter,t);return Jv(i,[DD(Lm(i),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,xs.none())])}function Ks(e,t,n,...i){e=Bi(e,Xe);const s=Bi(e.firestore,ho),a=Lm(s);let l;return l=typeof(t=rn(t))=="string"||t instanceof Pm?u5(a,"updateDoc",e._key,t,n,i):c5(a,"updateDoc",e._key,t),Jv(s,[l.toMutation(e._key,xs.exists(!0))])}function y5(e,t){const n=Bi(e.firestore,ho),i=Zn(e),s=jD(e.converter,t);return Jv(n,[DD(Lm(e.firestore),"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,xs.exists(!1))]).then(()=>i)}function rr(e,...t){var h,f,p;e=rn(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||TT(t[i])||(n=t[i++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(TT(t[i])){const y=t[i];t[i]=(h=y.next)==null?void 0:h.bind(y),t[i+1]=(f=y.error)==null?void 0:f.bind(y),t[i+2]=(p=y.complete)==null?void 0:p.bind(y)}let a,l,c;if(e instanceof Xe)l=Bi(e.firestore,ho),c=Em(e._key.path),a={next:y=>{t[i]&&t[i](UD(l,e,y))},error:t[i+1],complete:t[i+2]};else{const y=Bi(e,yo);l=Bi(y.firestore,ho),c=y._query;const _=new Zv(l);a={next:x=>{t[i]&&t[i](new hl(l,_,y,x))},error:t[i+1],complete:t[i+2]},ND(e._query)}return function(_,x,E,A){const T=new $v(A),D=new Bv(x,T,E);return _.asyncQueue.enqueueAndForget(async()=>jv(await Wg(_),D)),()=>{T.Nu(),_.asyncQueue.enqueueAndForget(async()=>Uv(await Wg(_),D))}}(Om(l),c,s,a)}function Jv(e,t){return function(i,s){const a=new Zr;return i.asyncQueue.enqueueAndForget(async()=>q6(await t5(i),s,a)),a.promise}(Om(e),t)}function UD(e,t,n){const i=n.docs.get(t._key),s=new Zv(e);return new ul(e,s,t._key,i,new Uh(n.hasPendingWrites,n.fromCache),t.converter)}function D0(){return new Wv("serverTimestamp")}(function(t,n=!0){(function(s){ou=s})(au),qc(new yl("firestore",(i,{instanceIdentifier:s,options:a})=>{const l=i.getProvider("app").getImmediate(),c=new ho(new cV(i.getProvider("auth-internal")),new fV(l,i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Tt(dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yf(f.options.projectId,p)}(l,s),l);return a={useFetchStreams:n,...a},c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),to(CS,DS,t),to(CS,DS,"esm2020")})();function zD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _5=zD,BD=new jf("auth","Firebase",zD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg=new dv("@firebase/auth");function b5(e,...t){Gg.logLevel<=ne.WARN&&Gg.warn(`Auth (${au}): ${e}`,...t)}function vg(e,...t){Gg.logLevel<=ne.ERROR&&Gg.error(`Auth (${au}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(e,...t){throw tx(e,...t)}function er(e,...t){return tx(e,...t)}function FD(e,t,n){const i={..._5(),[t]:n};return new jf("auth","Firebase",i).create(t,{appName:e.name})}function Jr(e){return FD(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tx(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return BD.create(e,...t)}function jt(e,t,...n){if(!e)throw tx(t,...n)}function qr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw vg(t),new Error(t)}function sa(e,t){e||qr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function v5(){return kT()==="http:"||kT()==="https:"}function kT(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v5()||VL()||"connection"in navigator)?navigator.onLine:!0}function w5(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t,n){this.shortDelay=t,this.longDelay=n,sa(n>t,"Short delay should be less than long delay!"),this.isMobile=PL()||jL()}get(){return x5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(e,t){sa(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],T5=new Wf(3e4,6e4);function _o(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function aa(e,t,n,i,s={}){return $D(e,s,async()=>{let a={},l={};i&&(t==="GET"?l=i:a={body:JSON.stringify(i)});const c=Uf({key:e.config.apiKey,...l}).slice(1),h=await e._getAdditionalHeaders();h["Content-Type"]="application/json",e.languageCode&&(h["X-Firebase-Locale"]=e.languageCode);const f={method:t,headers:h,...a};return LL()||(f.referrerPolicy="no-referrer"),e.emulatorConfig&&ru(e.emulatorConfig.host)&&(f.credentials="include"),qD.fetch()(await HD(e,e.config.apiHost,n,c),f)})}async function $D(e,t,n){e._canInitEmulator=!1;const i={...E5,...t};try{const s=new R5(e),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Dp(e,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dp(e,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Dp(e,"email-already-in-use",l);if(h==="USER_DISABLED")throw Dp(e,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw FD(e,p,f);Ss(e,p)}}catch(s){if(s instanceof ra)throw s;Ss(e,"network-request-failed",{message:String(s)})}}async function Yf(e,t,n,i,s={}){const a=await aa(e,t,n,i,s);return"mfaPendingCredential"in a&&Ss(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function HD(e,t,n,i){const s=`${t}${n}?${i}`,a=e,l=a.config.emulator?ex(e.config,s):`${e.config.apiScheme}://${s}`;return S5.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function A5(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class R5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(er(this.auth,"network-request-failed")),T5.get())})}}function Dp(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=er(e,t,i);return s.customData._tokenResponse=n,s}function CT(e){return e!==void 0&&e.enterprise!==void 0}class k5{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return A5(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function C5(e,t){return aa(e,"GET","/v2/recaptchaConfig",_o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D5(e,t){return aa(e,"POST","/v1/accounts:delete",t)}async function Kg(e,t){return aa(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function M5(e,t=!1){const n=rn(e),i=await n.getIdToken(t),s=nx(i);jt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:Zh(yb(s.auth_time)),issuedAtTime:Zh(yb(s.iat)),expirationTime:Zh(yb(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function yb(e){return Number(e)*1e3}function nx(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return vg("JWT malformed, contained fewer than 3 sections"),null;try{const s=Zk(n);return s?JSON.parse(s):(vg("Failed to decode base64 JWT payload"),null)}catch(s){return vg("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function DT(e){const t=nx(e);return jt(t,"internal-error"),jt(typeof t.exp<"u","internal-error"),jt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof ra&&I5(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function I5({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zh(this.lastLoginAt),this.creationTime=Zh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xg(e){var y;const t=e.auth,n=await e.getIdToken(),i=await Qc(e,Kg(t,{idToken:n}));jt(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(y=s.providerUserInfo)!=null&&y.length?WD(s.providerUserInfo):[],l=N5(e.providerData,a),c=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),f=c?h:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new I0(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(e,p)}async function P5(e){const t=rn(e);await Xg(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function N5(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function WD(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L5(e,t){const n=await $D(e,{},async()=>{const i=Uf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:a}=e.config,l=await HD(e,s,"/v1/token",`key=${a}`),c=await e._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:i};return e.emulatorConfig&&ru(e.emulatorConfig.host)&&(h.credentials="include"),qD.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function V5(e,t){return aa(e,"POST","/v2/accounts:revokeToken",_o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){jt(t.idToken,"internal-error"),jt(typeof t.idToken<"u","internal-error"),jt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):DT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){jt(t.length!==0,"internal-error");const n=DT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(jt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await L5(t,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,l=new Oc;return i&&(jt(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),s&&(jt(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),a&&(jt(typeof a=="number","internal-error",{appName:t}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Oc,this.toJSON())}_performRefresh(){return qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(e,t){jt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ys{constructor({uid:t,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new O5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new I0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Qc(this,this.stsTokenManager.getToken(this.auth,t));return jt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return M5(this,t)}reload(){return P5(this)}_assign(t){this!==t&&(jt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ys({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Xg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rs(this.auth.app))return Promise.reject(Jr(this.auth));const t=await this.getIdToken();return await Qc(this,D5(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:x,providerData:E,stsTokenManager:A}=n;jt(y&&A,t,"internal-error");const T=Oc.fromJSON(this.name,A);jt(typeof y=="string",t,"internal-error"),Va(i,t.name),Va(s,t.name),jt(typeof _=="boolean",t,"internal-error"),jt(typeof x=="boolean",t,"internal-error"),Va(a,t.name),Va(l,t.name),Va(c,t.name),Va(h,t.name),Va(f,t.name),Va(p,t.name);const D=new ys({uid:y,auth:t,email:s,emailVerified:_,displayName:i,isAnonymous:x,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:T,createdAt:f,lastLoginAt:p});return E&&Array.isArray(E)&&(D.providerData=E.map(O=>({...O}))),h&&(D._redirectEventId=h),D}static async _fromIdTokenResponse(t,n,i=!1){const s=new Oc;s.updateFromServerResponse(n);const a=new ys({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Xg(a),a}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];jt(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?WD(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new Oc;c.updateFromIdToken(i);const h=new ys({uid:s.localId,auth:t,stsTokenManager:c,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new I0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=new Map;function $r(e){sa(e instanceof Function,"Expected a class definition");let t=MT.get(e);return t?(sa(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,MT.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}YD.type="NONE";const O0=YD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(e,t,n){return`firebase:${e}:${t}:${n}`}class Pc{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=xg(this.userKey,s.apiKey,a),this.fullPersistenceKey=xg("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Kg(this.auth,{idToken:t}).catch(()=>{});return n?ys._fromGetAccountInfoResponse(this.auth,n,t):null}return ys._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Pc($r(O0),t,i);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=s[0]||$r(O0);const l=xg(i,t.config.apiKey,t.name);let c=null;for(const f of n)try{const p=await f._get(l);if(p){let y;if(typeof p=="string"){const _=await Kg(t,{idToken:p}).catch(()=>{});if(!_)break;y=await ys._fromGetAccountInfoResponse(t,_,p)}else y=ys._fromJSON(t,p);f!==a&&(c=y),a=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Pc(a,t,i):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new Pc(a,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(QD(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(GD(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(JD(t))return"Blackberry";if(tM(t))return"Webos";if(KD(t))return"Safari";if((t.includes("chrome/")||XD(t))&&!t.includes("edge/"))return"Chrome";if(ZD(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function GD(e=fi()){return/firefox\//i.test(e)}function KD(e=fi()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function XD(e=fi()){return/crios\//i.test(e)}function QD(e=fi()){return/iemobile/i.test(e)}function ZD(e=fi()){return/android/i.test(e)}function JD(e=fi()){return/blackberry/i.test(e)}function tM(e=fi()){return/webos/i.test(e)}function ix(e=fi()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function j5(e=fi()){var t;return ix(e)&&!!((t=window.navigator)!=null&&t.standalone)}function U5(){return UL()&&document.documentMode===10}function eM(e=fi()){return ix(e)||ZD(e)||tM(e)||JD(e)||/windows phone/i.test(e)||QD(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(e,t=[]){let n;switch(e){case"Browser":n=IT(fi());break;case"Worker":n=`${IT(fi())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${au}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=a=>new Promise((l,c)=>{try{const h=t(a);l(h)}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B5(e,t={}){return aa(e,"GET","/v2/passwordPolicy",_o(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=6;class q5{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??F5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OT(this),this.idTokenSubscription=new OT(this),this.beforeStateQueue=new z5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=$r(n)),this._initializationPromise=this.queue(async()=>{var i,s,a;if(!this._deleted&&(this.persistenceManager=await Pc.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Kg(this,{idToken:t}),i=await ys._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var a;if(rs(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(a=this.redirectUser)==null?void 0:a._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Xg(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=w5()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(rs(this.app))return Promise.reject(Jr(this));const n=t?rn(t):null;return n&&jt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&jt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return rs(this.app)?Promise.reject(Jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return rs(this.app)?Promise.reject(Jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await B5(this),n=new q5(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jf("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await V5(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&$r(t)||this._popupRedirectResolver;jt(n,this,"argument-error"),this.redirectPersistenceManager=await Pc.create(this,[$r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(jt(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=t.addObserver(n,i,s);return()=>{l=!0,h()}}else{const h=t.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=nM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&b5(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function kl(e){return rn(e)}class OT{constructor(t){this.auth=t,this.observer=null,this.addObserver=YL(n=>this.observer=n)}get next(){return jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H5(e){zm=e}function iM(e){return zm.loadJS(e)}function W5(){return zm.recaptchaEnterpriseScript}function Y5(){return zm.gapiScript}function G5(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class K5{constructor(){this.enterprise=new X5}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class X5{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const Q5="recaptcha-enterprise",sM="NO_RECAPTCHA";class Z5{constructor(t){this.type=Q5,this.auth=kl(t)}async verify(t="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{C5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new k5(h);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function s(a,l,c){const h=window.grecaptcha;CT(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:t}).then(f=>{l(f)}).catch(()=>{l(sM)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new K5().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{i(this.auth).then(c=>{if(!n&&CT(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=W5();h.length!==0&&(h+=c),iM(h).then(()=>{s(c,a,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function PT(e,t,n,i=!1,s=!1){const a=new Z5(e);let l;if(s)l=sM;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function P0(e,t,n,i,s){var a;if((a=e._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await PT(e,t,n,n==="getOobCode");return i(e,l)}else return i(e,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await PT(e,t,n,n==="getOobCode");return i(e,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(e,t){const n=gv(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(ml(a,t??{}))return s;Ss(s,"already-initialized")}return n.initialize({options:t})}function t3(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map($r);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function e3(e,t,n){const i=kl(e);jt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,a=rM(t),{host:l,port:c}=n3(t),h=c===null?"":`:${c}`,f={url:`${a}//${l}${h}/`},p=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){jt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),jt(ml(f,i.config.emulator)&&ml(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,ru(l)?(nC(`${a}//${l}${h}`),iC("Auth",!0)):i3()}function rM(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function n3(e){const t=rM(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:NT(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:NT(l)}}}function NT(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function i3(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return qr("not implemented")}_getIdTokenResponse(t){return qr("not implemented")}_linkToIdToken(t,n){return qr("not implemented")}_getReauthenticationResolver(t){return qr("not implemented")}}async function s3(e,t){return aa(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3(e,t){return Yf(e,"POST","/v1/accounts:signInWithPassword",_o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(e,t){return Yf(e,"POST","/v1/accounts:signInWithEmailLink",_o(e,t))}async function o3(e,t){return Yf(e,"POST","/v1/accounts:signInWithEmailLink",_o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends sx{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new Sf(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Sf(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return P0(t,n,"signInWithPassword",r3);case"emailLink":return a3(t,{email:this._email,oobCode:this._password});default:Ss(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return P0(t,i,"signUpPassword",s3);case"emailLink":return o3(t,{idToken:n,email:this._email,oobCode:this._password});default:Ss(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(e,t){return Yf(e,"POST","/v1/accounts:signInWithIdp",_o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="http://localhost";class vl extends sx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new vl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ss("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...a}=n;if(!i||!s)return null;const l=new vl(i,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(t){const n=this.buildRequest();return Nc(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Nc(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Nc(t,n)}buildRequest(){const t={requestUri:l3,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Uf(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u3(e){const t=Ph(Nh(e)).link,n=t?Ph(Nh(t)).deep_link_id:null,i=Ph(Nh(e)).deep_link_id;return(i?Ph(Nh(i)).link:null)||i||n||t||e}class rx{constructor(t){const n=Ph(Nh(t)),i=n.apiKey??null,s=n.oobCode??null,a=c3(n.mode??null);jt(i&&s&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=u3(t);try{return new rx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(){this.providerId=fu.PROVIDER_ID}static credential(t,n){return Sf._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=rx.parseLink(n);return jt(i,"argument-error"),Sf._fromEmailAndCode(t,i.code,i.tenantId)}}fu.PROVIDER_ID="password";fu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends aM{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends Gf{constructor(){super("facebook.com")}static credential(t){return vl._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fa.credentialFromTaggedObject(t)}static credentialFromError(t){return Fa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fa.credential(t.oauthAccessToken)}catch{return null}}}Fa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends Gf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return vl._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return qa.credentialFromTaggedObject(t)}static credentialFromError(t){return qa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return qa.credential(n,i)}catch{return null}}}qa.GOOGLE_SIGN_IN_METHOD="google.com";qa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends Gf{constructor(){super("github.com")}static credential(t){return vl._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $a.credentialFromTaggedObject(t)}static credentialFromError(t){return $a.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $a.credential(t.oauthAccessToken)}catch{return null}}}$a.GITHUB_SIGN_IN_METHOD="github.com";$a.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends Gf{constructor(){super("twitter.com")}static credential(t,n){return vl._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ha.credentialFromTaggedObject(t)}static credentialFromError(t){return Ha.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Ha.credential(n,i)}catch{return null}}}Ha.TWITTER_SIGN_IN_METHOD="twitter.com";Ha.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h3(e,t){return Yf(e,"POST","/v1/accounts:signUp",_o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const a=await ys._fromIdTokenResponse(t,i,s),l=LT(i);return new xl({user:a,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=LT(i);return new xl({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function LT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg extends ra{constructor(t,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Qg.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new Qg(t,n,i,s)}}function oM(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Qg._fromErrorAndOperation(e,a,t,i):a})}async function f3(e,t,n=!1){const i=await Qc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return xl._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(e,t,n=!1){const{auth:i}=e;if(rs(i.app))return Promise.reject(Jr(i));const s="reauthenticate";try{const a=await Qc(e,oM(i,s,t,e),n);jt(a.idToken,i,"internal-error");const l=nx(a.idToken);jt(l,i,"internal-error");const{sub:c}=l;return jt(e.uid===c,i,"user-mismatch"),xl._forOperation(e,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ss(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lM(e,t,n=!1){if(rs(e.app))return Promise.reject(Jr(e));const i="signIn",s=await oM(e,i,t),a=await xl._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(a.user),a}async function p3(e,t){return lM(kl(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(e){const t=kl(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function g3(e,t,n){if(rs(e.app))return Promise.reject(Jr(e));const i=kl(e),l=await P0(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",h3).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&cM(e),h}),c=await xl._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function uM(e,t,n){return rs(e.app)?Promise.reject(Jr(e)):p3(rn(e),fu.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&cM(e),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(e,t){return aa(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const i=rn(e),a={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},l=await Qc(i,m3(i.auth,a));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const c=i.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(e,t){return rn(e).setPersistence(t)}function b3(e,t,n,i){return rn(e).onIdTokenChanged(t,n,i)}function v3(e,t,n){return rn(e).beforeAuthStateChanged(t,n)}function Cl(e,t,n,i){return rn(e).onAuthStateChanged(t,n,i)}function x3(e){return rn(e).signOut()}const Zg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zg,"1"),this.storage.removeItem(Zg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=1e3,E3=10;class fM extends hM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);U5()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,E3):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},w3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}fM.type="LOCAL";const S3=fM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM extends hM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}dM.type="SESSION";const pM=dM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new Bm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async f=>f(n.origin,a)),h=await T3(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const f=ax("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(y){const _=y;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(_.data.response);break;default:clearTimeout(p),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return window}function R3(e){nr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}async function k3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function C3(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function D3(){return gM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM="firebaseLocalStorageDb",M3=1,Jg="firebaseLocalStorage",yM="fbase_key";class Kf{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fm(e,t){return e.transaction([Jg],t?"readwrite":"readonly").objectStore(Jg)}function I3(){const e=indexedDB.deleteDatabase(mM);return new Kf(e).toPromise()}function N0(){const e=indexedDB.open(mM,M3);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Jg,{keyPath:yM})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Jg)?t(i):(i.close(),await I3(),t(await N0()))})})}async function VT(e,t,n){const i=Fm(e,!0).put({[yM]:t,value:n});return new Kf(i).toPromise()}async function O3(e,t){const n=Fm(e,!1).get(t),i=await new Kf(n).toPromise();return i===void 0?null:i.value}function jT(e,t){const n=Fm(e,!0).delete(t);return new Kf(n).toPromise()}const P3=800,N3=3;class _M{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await N0(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>N3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bm._getInstance(D3()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await k3(),!this.activeServiceWorker)return;this.sender=new A3(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||C3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await N0();return await VT(t,Zg,"1"),await jT(t,Zg),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>VT(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>O3(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>jT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const a=Fm(s,!1).getAll();return new Kf(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:a}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_M.type="LOCAL";const L3=_M;new Wf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(e,t){return t?$r(t):(jt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox extends sx{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Nc(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Nc(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Nc(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function j3(e){return lM(e.auth,new ox(e),e.bypassAuthState)}function U3(e){const{auth:t,user:n}=e;return jt(n,t,"internal-error"),d3(n,new ox(e),e.bypassAuthState)}async function z3(e){const{auth:t,user:n}=e;return jt(n,t,"internal-error"),f3(n,new ox(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(t,n,i,s,a=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:l,type:c}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return j3;case"linkViaPopup":case"linkViaRedirect":return z3;case"reauthViaPopup":case"reauthViaRedirect":return U3;default:Ss(this.auth,"internal-error")}}resolve(t){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=new Wf(2e3,1e4);class Dc extends bM{constructor(t,n,i,s,a){super(t,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,Dc.currentPopupAction&&Dc.currentPopupAction.cancel(),Dc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return jt(t,this.auth,"internal-error"),t}async onExecution(){sa(this.filter.length===1,"Popup operations only handle one event");const t=ax();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dc.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,B3.get())};t()}}Dc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3="pendingRedirect",wg=new Map;class q3 extends bM{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=wg.get(this.auth._key());if(!t){try{const i=await $3(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}wg.set(this.auth._key(),t)}return this.bypassAuthState||wg.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $3(e,t){const n=Y3(t),i=W3(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function H3(e,t){wg.set(e._key(),t)}function W3(e){return $r(e._redirectPersistence)}function Y3(e){return xg(F3,e.config.apiKey,e.name)}async function G3(e,t,n=!1){if(rs(e.app))return Promise.reject(Jr(e));const i=kl(e),s=V3(i,t),l=await new q3(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=600*1e3;class X3{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Q3(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!vM(t)){const s=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(er(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=K3&&this.cachedEventUids.clear(),this.cachedEventUids.has(UT(t))}saveEventToCache(t){this.cachedEventUids.add(UT(t)),this.lastProcessedEventTime=Date.now()}}function UT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function vM({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Q3(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vM(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z3(e,t={}){return aa(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tU=/^https?/;async function eU(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Z3(e);for(const n of t)try{if(nU(n))return}catch{}Ss(e,"unauthorized-domain")}function nU(e){const t=M0(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const l=new URL(e);return l.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!tU.test(n))return!1;if(J3.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=new Wf(3e4,6e4);function zT(){const e=nr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function sU(e){return new Promise((t,n)=>{var s,a,l;function i(){zT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zT(),n(er(e,"network-request-failed"))},timeout:iU.get()})}if((a=(s=nr().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)t(gapi.iframes.getContext());else if((l=nr().gapi)!=null&&l.load)i();else{const c=G5("iframefcb");return nr()[c]=()=>{gapi.load?i():n(er(e,"network-request-failed"))},iM(`${Y5()}?onload=${c}`).catch(h=>n(h))}}).catch(t=>{throw Eg=null,t})}let Eg=null;function rU(e){return Eg=Eg||sU(e),Eg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=new Wf(5e3,15e3),oU="__/auth/iframe",lU="emulator/auth/iframe",cU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hU(e){const t=e.config;jt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ex(t,lU):`https://${e.config.authDomain}/${oU}`,i={apiKey:t.apiKey,appName:e.name,v:au},s=uU.get(e.config.apiHost);s&&(i.eid=s);const a=e._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${Uf(i).slice(1)}`}async function fU(e){const t=await rU(e),n=nr().gapi;return jt(n,e,"internal-error"),t.open({where:document.body,url:hU(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cU,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const l=er(e,"network-request-failed"),c=nr().setTimeout(()=>{a(l)},aU.get());function h(){nr().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pU=500,gU=600,mU="_blank",yU="http://localhost";class BT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _U(e,t,n,i=pU,s=gU){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h={...dU,width:i.toString(),height:s.toString(),top:a,left:l},f=fi().toLowerCase();n&&(c=XD(f)?mU:n),GD(f)&&(t=t||yU,h.scrollbars="yes");const p=Object.entries(h).reduce((_,[x,E])=>`${_}${x}=${E},`,"");if(j5(f)&&c!=="_self")return bU(t||"",c),new BT(null);const y=window.open(t||"",c,p);jt(y,e,"popup-blocked");try{y.focus()}catch{}return new BT(y)}function bU(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU="__/auth/handler",xU="emulator/auth/handler",wU=encodeURIComponent("fac");async function FT(e,t,n,i,s,a){jt(e.config.authDomain,e,"auth-domain-config-required"),jt(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:au,eventId:s};if(t instanceof aM){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",WL(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(t instanceof Gf){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await e._getAppCheckToken(),f=h?`#${wU}=${encodeURIComponent(h)}`:"";return`${EU(e)}?${Uf(c).slice(1)}${f}`}function EU({config:e}){return e.emulator?ex(e,xU):`https://${e.authDomain}/${vU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="webStorageSupport";class SU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pM,this._completeRedirectFn=G3,this._overrideRedirectResult=H3}async _openPopup(t,n,i,s){var l;sa((l=this.eventManagers[t._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const a=await FT(t,n,i,M0(),s);return _U(t,a,ax())}async _openRedirect(t,n,i,s){await this._originValidation(t);const a=await FT(t,n,i,M0(),s);return R3(a),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(sa(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await fU(t),i=new X3(t);return n.register("authEvent",s=>(jt(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(_b,{type:_b},s=>{var l;const a=(l=s==null?void 0:s[0])==null?void 0:l[_b];a!==void 0&&n(!!a),Ss(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eU(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return eM()||KD()||ix()}}const TU=SU;var qT="@firebase/auth",$T="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kU(e){qc(new yl("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;jt(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nM(e)},f=new $5(i,s,a,h);return t3(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),qc(new yl("auth-internal",t=>{const n=kl(t.getProvider("auth").getImmediate());return(i=>new AU(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),to(qT,$T,RU(e)),to(qT,$T,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU=300,DU=eC("authIdTokenMaxAge")||CU;let HT=null;const MU=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>DU)return;const s=n==null?void 0:n.token;HT!==s&&(HT=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function IU(e=mv()){const t=gv(e,"auth");if(t.isInitialized())return t.getImmediate();const n=J5(e,{popupRedirectResolver:TU,persistence:[L3,S3,pM]}),i=eC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=MU(a.toString());v3(n,l,()=>l(n.currentUser)),b3(n,c=>l(c))}}const s=Jk("auth");return s&&e3(n,`http://${s}`),n}function OU(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}H5({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const a=er("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",OU().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kU("Browser");function PU(e){const t=atob(e.replace(/\s+/g,""));return JSON.parse(t)}const NU=PU("eyJhcGlLZXkiOiJBSXphU3lEUHBuY3hzdzYtTTZDdndmcXZERkNPWGduVXVIWG80NG8iLCJhdXRoRG9tYWluIjoicGRtcy1lZGEzNy5maXJlYmFzZWFwcC5jb20iLCJwcm9qZWN0SWQiOiJwZG1zLWVkYTM3Iiwic3RvcmFnZUJ1Y2tldCI6InBkbXMtZWRhMzcuZmlyZWJhc2VzdG9yYWdlLmFwcCIsIm1lc3NhZ2luZ1NlbmRlcklkIjoiNjI3MTE1MTkyNzYiLCJhcHBJZCI6IjE6NjI3MTE1MTkyNzY6d2ViOjFkNjZhMjYyMjhjMTg0ZDEzNWQ5ODkifQ=="),xM=G4().length?mv():aC(NU),Zt=s5(xM),os=IU(xM),LU=e=>btoa(String.fromCharCode(...new Uint8Array(e))),VU=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n.buffer},Lc=e=>{const t=new Uint8Array(e.byteLength);return t.set(e),t.buffer};function jU(e,t,n=7,i="/"){const s=new Date(Date.now()+n*864e5).toUTCString();document.cookie=`${encodeURIComponent(e)}=${encodeURIComponent(t)}; Expires=${s}; Path=${i}; SameSite=Lax`}function UU(e){const t=`${encodeURIComponent(e)}=`,n=document.cookie.split("; ");for(const i of n)if(i.startsWith(t))return decodeURIComponent(i.slice(t.length));return null}function lx(e,t="/"){document.cookie=`${encodeURIComponent(e)}=; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Path=${t}; SameSite=Lax`}async function wM(e,t){const n=new TextEncoder,i=await crypto.subtle.importKey("raw",n.encode(e),"PBKDF2",!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:1e5,hash:"SHA-256"},i,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}const EM=1;async function zU(e,t){const n=new TextEncoder,i=crypto.getRandomValues(new Uint8Array(12)),s=crypto.getRandomValues(new Uint8Array(16)),a=Lc(i),l=Lc(s),c=Lc(n.encode(JSON.stringify(e))),h=await wM(t,l),f=await crypto.subtle.encrypt({name:"AES-GCM",iv:a},h,c),p=new Uint8Array(1+i.length+s.length);p[0]=EM,p.set(i,1),p.set(s,1+i.length);const y=new Uint8Array(p.length+new Uint8Array(f).length);return y.set(p,0),y.set(new Uint8Array(f),p.length),LU(y.buffer)}async function BU(e,t){const n=new Uint8Array(VU(e));if(n[0]!==EM)throw new Error("Unsupported version");const i=n.slice(1,13),s=n.slice(13,29),a=n.slice(29),l=Lc(i),c=Lc(s),h=Lc(a),f=await wM(t,c),p=await crypto.subtle.decrypt({name:"AES-GCM",iv:l},f,h);return JSON.parse(new TextDecoder().decode(p))}async function FU(e){await _3(e,O0)}const Tf="pcz_auth_shadow",SM="dev-only-fallback-change-this";async function qU(e,t,n,i,s=7){const a=await uM(e,t,n);if(i){const l={email:t,password:n,t:Date.now()},c=await zU(l,SM);jU(Tf,c,s)}else lx(Tf);return a}async function $U(e){const t=UU(Tf);if(!t)return!1;try{const{email:n,password:i}=await BU(t,SM);return await uM(e,n,i),!0}catch{return lx(Tf),!1}}async function HU(e){lx(Tf),await x3(e)}function WU({onLoginSuccess:e}){const[t,n]=j.useState(""),[i,s]=j.useState(""),[a,l]=j.useState(!0),c=Tl(),h=()=>{c("/signup")},f=async()=>{try{await qU(os,t,i,a),e(),c("/main")}catch(p){alert("로그인 실패: "+p.message)}};return v.jsxs(YU,{children:[v.jsxs(GU,{children:[v.jsxs(KU,{children:[v.jsx(XU,{children:"PDMS"}),v.jsx(QU,{children:"Pushcomz Design Management System"})]}),v.jsxs(ZU,{children:[v.jsx(JU,{type:"text",value:t,onChange:p=>n(p.target.value),placeholder:"이메일을 입력해주세요."}),v.jsx(tz,{type:"password",value:i,onChange:p=>s(p.target.value),placeholder:"비밀번호를 입력해주세요."}),v.jsx(ez,{children:v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",checked:a,onChange:p=>l(p.target.checked)}),v.jsx("span",{children:" 이 기기에서 로그인 유지"})]})})]}),v.jsx(nz,{onClick:f,children:"로그인"}),v.jsxs(sz,{children:[v.jsx(rz,{children:"계정이 없습니까?"}),v.jsx(az,{onClick:h,children:"등록하기"})]})]}),v.jsx(iz,{children:"© Pushcomz Corp."})]})}const YU=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:e})=>e.colors.gray01};
`,GU=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:e})=>e.colors.white01};
`,KU=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,XU=H.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.navy};
`,QU=H.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,ZU=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
`,JU=H.input`
  width: 460px;
  margin-bottom: 10px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,tz=H.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,ez=H.div`
  width: 460px;
  margin-top: 10px;
  color: #555;
  font-size: 13px;
`,nz=H.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:e})=>e.colors.white01};
`,iz=H.p`
  margin-top: 20px;
  font-size: 12px;
  font-weight: 300;
  line-height: 18px;
  text-align: center;
`,sz=H.div`
  
`,rz=H.span`
  margin-right: 10px;
  font-size: 13px;
`,az=H.button`
  font-size: 13px;
  color: ${({theme:e})=>e.colors.navy};
`,oz="/pdms-test/assets/homeplus-logo-BtZJKVuP.svg",lz="/pdms-test/assets/nsmall-logo-B-mz9SOB.svg";function cz({userRole:e}){const[t,n]=hm(),i=t.get("view")||"dashboard",s=l=>{n(c=>{const h=new URLSearchParams(c);return h.set("view",l),h})},a=e===3;return v.jsx(uz,{children:v.jsxs(hz,{children:[!a&&v.jsx(Mp,{children:v.jsx(Ip,{type:"button",onClick:()=>s("allrequestlist"),$active:i==="allrequestlist",children:"전체 요청 리스트"})}),v.jsx(Mp,{children:v.jsx(Ip,{type:"button",onClick:()=>s("myrequestlist"),$active:i==="myrequestlist",children:"나의 요청 리스트"})}),v.jsx(Mp,{children:v.jsx(Ip,{type:"button",onClick:()=>s("dashboard"),$active:i==="dashboard",children:"전체 현황"})}),a&&v.jsx(Mp,{children:v.jsx(Ip,{type:"button",onClick:()=>s("inworkhour"),$active:i==="inworkhour",children:"내부 공수"})})]})})}const uz=H.nav`
`,hz=H.ul`
  ${({theme:e})=>e.mixin.flex("center","flex-start")};
  gap: 0 20px;
`,Mp=H.li`
  
`,Ip=H.button`
  color: ${({theme:e,$active:t})=>t?e.colors.white01:e.colors.gray02};
  font-family: 'Pretendard';
  font-size: 15px;
  font-weight: 500;
  
  &:hover {
    color: ${({theme:e})=>e.colors.white01};
  }
`,WT={HOMEPLUS:"homeplus",NSMALL:"nsmall"};function fz(){const[e,t]=j.useState(""),[n,i]=j.useState(""),[s,a]=j.useState(null),l=Tl();j.useEffect(()=>{const _=Cl(os,async x=>{if(x){x.displayName&&t(x.displayName);const E=await Xc(Zn(Zt,"users",x.uid));if(E.exists()){const A=E.data();a(A.role??null),i(A.company??"")}else a(null),i("")}else t(""),a(null),i("")});return()=>_()},[]);const c=async()=>{try{await HU(os),l("/")}catch(_){alert("로그아웃 중 오류가 발생했습니다: "+_.message)}},h=_=>{switch(_){case 1:return"요청자";case 2:return"디자이너";case 3:return"담당자";default:return"역할 없음"}},f=j.useMemo(()=>{const _=String(n??"").trim().replace(/\s+/g,"").toLowerCase();return _==="homeplus"?WT.HOMEPLUS:_==="nsmall"||_==="n-small"?WT.NSMALL:null},[n]),p=f==="homeplus"?oz:f==="nsmall"?lz:null,y=!!p;return v.jsxs(dz,{children:[v.jsxs(pz,{$hasLogo:y,children:[y&&v.jsx(gz,{children:v.jsx(mz,{src:p,alt:"company logo"})}),v.jsx(cz,{userRole:s})]}),v.jsxs(yz,{children:[v.jsxs(_z,{children:[v.jsx(bz,{children:e}),"님(",h(s),") ",n,"환영합니다."]}),v.jsx(vz,{onClick:c,children:"로그아웃"}),v.jsx(xz,{})]})]})}const dz=H.header`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  height: 64px;
  padding: 0 48px;
  font-family: 'Pretendard';
  background-color: ${({theme:e})=>e.colors.black};
`,pz=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  gap: ${({$hasLogo:e})=>e?"0 10px":"0"};
`,gz=H.div`
  width: 120px;
`,mz=H.img`
  width: 100%;
  vertical-align: sub;
`,yz=H.div``,_z=H.span`
  margin-right: 24px;
  color: ${({theme:e})=>e.colors.white01};
  font-size: 16px;
`,bz=H.span`
  font-weight: 700;
`,vz=H.button`
  padding: 5px 10px;
  border: 1px solid ${({theme:e})=>e.colors.white01};
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  font-size: 16px;
`,xz=H.span`
  color: ${({theme:e})=>e.colors.white01};
  font-size: 16px;
`,cx="/pdms-test/assets/url-icon-DJKri2bW.svg";function wz({item:e,index:t,disableActions:n,onReviewComplete:i,onCancel:s,onEditClick:a,onDetailClick:l}){const c=f=>{if(!f)return"-";if(f.toDate){const p=f.toDate();return`${p.getMonth()+1}/${p.getDate()}`}return f},h=f=>{f.stopPropagation(),l(e)};return v.jsxs(Ez,{isCanceled:e.status==="취소",children:[v.jsx(is,{children:t}),v.jsx(is,{children:v.jsx(Cz,{onClick:h,$hasUpdate:!!e.updated_date,children:e.design_request_id})}),v.jsx(is,{children:c(e.request_date)}),v.jsx(Sz,{children:c(e.completion_date)}),v.jsx(Tz,{children:c(e.open_date)}),v.jsx(is,{children:e.merchandiser}),v.jsx(is,{children:e.task_form}),v.jsx(Az,{children:v.jsxs(Dz,{children:[v.jsx(Mz,{children:e.task_type}),v.jsx(Iz,{children:e.task_type_detail})]})}),v.jsx(Rz,{children:v.jsxs(Oz,{children:[e.emergency?v.jsx(TM,{children:"긴급"}):"",v.jsx(Pz,{onClick:h,children:e.requirement})]})}),v.jsx(is,{children:v.jsx(YT,{href:e.url,target:"_blank"})}),v.jsx(kz,{children:v.jsx(Nz,{onClick:h,children:e.note||""})}),v.jsx(is,{children:v.jsx(Lz,{status:e.status,children:e.status==="검수요청"?"진행중":e.status||"대기"})}),v.jsx(is,{children:e.assigned_designer||"미배정"}),v.jsx(is,{children:e.manager_review_status==="검수완료"&&e.result_url?v.jsx(YT,{href:e.result_url,target:"_blank"}):""}),v.jsx(is,{children:e.manager_review_status==="검수완료"?e.status!=="완료"?v.jsx(AM,{onClick:()=>i(e.id),disabled:n,children:"검수완료"}):v.jsx(Vz,{children:"검수완료"}):""}),v.jsx(is,{children:v.jsx(RM,{onClick:()=>a(e.id),disabled:n||e.status==="취소"||e.status==="완료",children:"수정"})}),v.jsx(is,{children:v.jsx(kM,{onClick:()=>s(e.id),disabled:n||e.status==="취소"||e.status==="완료",children:"취소"})})]})}const Ez=H.tr`
  ${({isCanceled:e})=>e&&`
      td {
        color: #888;
        background-color: #f4f4f4;
      }
    `}
    
  ${({isCanceled:e,theme:t})=>e&&`
      ${TM} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
      }
      ${AM}, ${RM}, ${kM} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
        border-color: ${t.colors.gray06};
        cursor: default;
        pointer-events: none;
      }
    `}
  &:hover {
    td {
      background-color: ${({theme:e})=>e.colors.gray04}
    }
  }

  & td {
    font-family: 'Pretendard';
    font-size: 14px;
    font-weight: 500;
  }
`,is=H.td`
  padding: 15px 0;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(12) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }
`,Sz=H.td`
  color: ${({theme:e})=>e.colors.red};
`,Tz=H.td`
  color: ${({theme:e})=>e.colors.blue02};
`,Az=H.td`
  padding: 15px 12px;
  line-height: 15px;
`,Rz=H.td`
  line-height: 15px;
  text-align: left;
`,kz=H.td`
  line-height: 15px;
  padding: 0 12px;
  text-align: left;
  background-color: #fffff1;
`,Cz=H.span`
  position: relative;

  &::after {
    content: '';
    position: absolute;
    top: -5px;
    right: -2px;
    display: ${({$hasUpdate:e})=>e?"block":"none"};
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background-color: ${({theme:e})=>e.colors.red};
  }

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,Dz=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`,Mz=H.span`
  
`,Iz=H.span`
  
`,Oz=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  padding: 0 12px;
`,Pz=H.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,TM=H.span`
  margin-right: 8px;
  padding: 3px 5px;
  border-radius: 2px;
  font-size: 10px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.red};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,YT=H.a`
  display: inline-block;
  vertical-align: middle;
  width: 24px;
  height: 24px;
  background: url(${cx}) no-repeat center / contain;
`,Nz=H.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  overflow-wrap: anywhere;
  word-break: break-word;
  text-overflow: ellipsis;
  white-space: normal;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,Lz=H.span`
  border-radius: 14px;
  padding: 5.5px 12px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 400;
  color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.orange;case"진행중":return t.colors.blue02;case"검수요청":return t.colors.blue02;case"검수중":return t.colors.red;case"완료":return t.colors.gray06;default:return t.colors.gray06}}};
  background-color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.beige02;case"진행중":return t.colors.lightpupple;case"검수요청":return t.colors.lightpupple;case"검수중":return t.colors.pink03;case"완료":return t.colors.white02;default:return t.colors.gray07}}};;
`,AM=H.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  background-color: green;
  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`,Vz=H.span`
  color: green;
  font-weight: bold;
`,RM=H.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  background-color: ${({theme:e})=>e.colors.black};

  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`,kM=H.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  background-color: ${({theme:e})=>e.colors.black};

  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`;function GT({data:e,disableActions:t=!1,lockOthers:n=!1,currentUserName:i="",onReviewComplete:s,onCancel:a,onEditClick:l,onDetailClick:c}){return v.jsx(jz,{children:v.jsxs(Uz,{children:[v.jsx(zz,{children:"요청 리스트"}),v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"90px"}}),v.jsx("col",{style:{width:"180px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"90px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}})]}),v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx(Kn,{children:"번호"}),v.jsx(Kn,{children:"문서번호"}),v.jsx(Kn,{children:"요청일"}),v.jsxs(Kn,{children:["완료",v.jsx("br",{}),"요청일"]}),v.jsx(Kn,{children:"오픈일"}),v.jsx(Kn,{children:"담당MD"}),v.jsx(Kn,{children:"업무부서"}),v.jsx(Kn,{children:"업무유형"}),v.jsx(Kn,{children:"작업항목"}),v.jsx(Kn,{children:"요청서 URL"}),v.jsx(Kn,{children:"메모"}),v.jsx(Kn,{children:"진행상태"}),v.jsx(Kn,{children:"디자이너"}),v.jsx(Kn,{children:"산출물 URL"}),v.jsx(Kn,{children:"검수"}),v.jsx(Kn,{children:"수정"}),v.jsx(Kn,{children:"취소"})]})}),v.jsx("tbody",{children:e.length>0?e.map((h,f)=>{const p=h.requester===i,y=t||n&&!p;return v.jsx(wz,{index:f+1,item:h,disableActions:y,onReviewComplete:s,onCancel:a,onEditClick:l,onDetailClick:c},h.id)}):v.jsx("tr",{children:v.jsx("td",{colSpan:17,style:{textAlign:"center",padding:20},children:"등록된 요청이 없습니다."})})})]})})}const jz=H.div`
  position: relative;
  max-height: 535px;
  border-top: 2px solid ${({theme:e})=>e.colors.black};
  overflow-y: auto;
  scrollbar-width: thin;
`,Uz=H.table`
  table-layout: fixed;
  width: 100%;
  text-align: center;
`,zz=H.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,Kn=H.th`
  position: sticky;
  top: -2px;
  line-height: 16px;
  padding: 13px 0;
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.gray08};
  z-index: 10;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(12) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }

  &:nth-of-type(13), &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16) {
    border-right: 1px solid ${({theme:e})=>e.colors.pink02}
  }

  &:nth-of-type(13), &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`,Bz={dashboard:"전체 현황",myrequestlist:"나의 요청 리스트",allrequestlist:"전체 요청 리스트",inworkhour:"내부 공수"};function ux(){const[e]=hm(),t=e.get("view")||"dashboard",n=new Date,i=n.getFullYear(),s=n.getMonth()+1;return v.jsx(Fz,{children:v.jsxs(qz,{children:[i,"년 ",s,"월 디자인 ",Bz[t]]})})}const Fz=H.div`
  padding: 29px 48px;
  background-color: ${({theme:e})=>e.colors.gray08};
`,qz=H.h2`
  font-family: 'Pretendard';
  font-size: 36px;
  font-weight: 700;
`,hx="/pdms-test/assets/selectbox-arrow-BwC8UGU0.svg";function $z(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const bb={},zh={};function ol(e,t){try{const i=(bb[e]||(bb[e]=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format))(t).split("GMT")[1];return i in zh?zh[i]:KT(i,i.split(":"))}catch{if(e in zh)return zh[e];const n=e==null?void 0:e.match(Hz);return n?KT(e,n.slice(1)):NaN}}const Hz=/([+-]\d\d):?(\d\d)?/;function KT(e,t){const n=+(t[0]||0),i=+(t[1]||0),s=+(t[2]||0)/60;return zh[e]=n*60+i>0?n*60+i+s:n*60-i-s}class Xs extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(ol(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),CM(this),L0(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new Xs(...n,t):new Xs(Date.now(),t)}withTimeZone(t){return new Xs(+this,t)}getTimezoneOffset(){const t=-ol(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),L0(this),+this}[Symbol.for("constructDateFrom")](t){return new Xs(+new Date(t),this.timeZone)}}const XT=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!XT.test(e))return;const t=e.replace(XT,"$1UTC");Xs.prototype[t]&&(e.startsWith("get")?Xs.prototype[e]=function(){return this.internal[t]()}:(Xs.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),Wz(this),+this},Xs.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),L0(this),+this}))});function L0(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-ol(e.timeZone,e)*60))}function Wz(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),CM(e)}function CM(e){const t=ol(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),i=new Date(+e);i.setUTCHours(i.getUTCHours()-1);const s=-new Date(+e).getTimezoneOffset(),a=-new Date(+i).getTimezoneOffset(),l=s-a,c=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();l&&c&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+l);const h=s-n;h&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+h);const f=new Date(+e);f.setUTCSeconds(0);const p=s>0?f.getSeconds():(f.getSeconds()-60)%60,y=Math.round(-(ol(e.timeZone,e)*60))%60;(y||p)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+y),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+y+p));const _=ol(e.timeZone,e),x=_>0?Math.floor(_):Math.ceil(_),A=-new Date(+e).getTimezoneOffset()-x,T=x!==n,D=A-h;if(T&&D){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+D);const O=ol(e.timeZone,e),L=O>0?Math.floor(O):Math.ceil(O),B=x-L;B&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+B),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+B))}}class oi extends Xs{static tz(t,...n){return n.length?new oi(...n,t):new oi(Date.now(),t)}toISOString(){const[t,n,i]=this.tzComponents(),s=`${t}${n}:${i}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,i,s]=this.internal.toUTCString().split(" ");return`${t==null?void 0:t.slice(0,-1)} ${i} ${n} ${s}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,i,s]=this.tzComponents();return`${t} GMT${n}${i}${s} (${$z(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",i=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),s=String(Math.abs(t)%60).padStart(2,"0");return[n,i,s]}withTimeZone(t){return new oi(+this,t)}[Symbol.for("constructDateFrom")](t){return new oi(+new Date(t),this.timeZone)}}const DM=6048e5,Yz=864e5,QT=Symbol.for("constructDateFrom");function Tn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&QT in e?e[QT](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ce(e,t){return Tn(t||e,e)}function MM(e,t,n){const i=Ce(e,n==null?void 0:n.in);return isNaN(t)?Tn(e,NaN):(t&&i.setDate(i.getDate()+t),i)}function IM(e,t,n){const i=Ce(e,n==null?void 0:n.in);if(isNaN(t))return Tn(e,NaN);if(!t)return i;const s=i.getDate(),a=Tn(e,i.getTime());a.setMonth(i.getMonth()+t+1,0);const l=a.getDate();return s>=l?a:(i.setFullYear(a.getFullYear(),a.getMonth(),s),i)}let Gz={};function Xf(){return Gz}function Zc(e,t){var c,h,f,p;const n=Xf(),i=(t==null?void 0:t.weekStartsOn)??((h=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,s=Ce(e,t==null?void 0:t.in),a=s.getDay(),l=(a<i?7:0)+a-i;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function Af(e,t){return Zc(e,{...t,weekStartsOn:1})}function OM(e,t){const n=Ce(e,t==null?void 0:t.in),i=n.getFullYear(),s=Tn(n,0);s.setFullYear(i+1,0,4),s.setHours(0,0,0,0);const a=Af(s),l=Tn(n,0);l.setFullYear(i,0,4),l.setHours(0,0,0,0);const c=Af(l);return n.getTime()>=a.getTime()?i+1:n.getTime()>=c.getTime()?i:i-1}function ZT(e){const t=Ce(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function du(e,...t){const n=Tn.bind(null,t.find(i=>typeof i=="object"));return t.map(n)}function Rf(e,t){const n=Ce(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function PM(e,t,n){const[i,s]=du(n==null?void 0:n.in,e,t),a=Rf(i),l=Rf(s),c=+a-ZT(a),h=+l-ZT(l);return Math.round((c-h)/Yz)}function Kz(e,t){const n=OM(e,t),i=Tn(e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),Af(i)}function Xz(e,t,n){return MM(e,t*7,n)}function Qz(e,t,n){return IM(e,t*12,n)}function Zz(e,t){let n,i=t==null?void 0:t.in;return e.forEach(s=>{!i&&typeof s=="object"&&(i=Tn.bind(null,s));const a=Ce(s,i);(!n||n<a||isNaN(+a))&&(n=a)}),Tn(i,n||NaN)}function Jz(e,t){let n,i=t==null?void 0:t.in;return e.forEach(s=>{!i&&typeof s=="object"&&(i=Tn.bind(null,s));const a=Ce(s,i);(!n||n>a||isNaN(+a))&&(n=a)}),Tn(i,n||NaN)}function t9(e,t,n){const[i,s]=du(n==null?void 0:n.in,e,t);return+Rf(i)==+Rf(s)}function NM(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function e9(e){return!(!NM(e)&&typeof e!="number"||isNaN(+Ce(e)))}function n9(e,t,n){const[i,s]=du(n==null?void 0:n.in,e,t),a=i.getFullYear()-s.getFullYear(),l=i.getMonth()-s.getMonth();return a*12+l}function i9(e,t){const n=Ce(e,t==null?void 0:t.in),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function s9(e,t){const[n,i]=du(e,t.start,t.end);return{start:n,end:i}}function r9(e,t){const{start:n,end:i}=s9(t==null?void 0:t.in,e);let s=+n>+i;const a=s?+n:+i,l=s?i:n;l.setHours(0,0,0,0),l.setDate(1);let c=1;const h=[];for(;+l<=a;)h.push(Tn(n,l)),l.setMonth(l.getMonth()+c);return s?h.reverse():h}function a9(e,t){const n=Ce(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function o9(e,t){const n=Ce(e,t==null?void 0:t.in),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n}function LM(e,t){const n=Ce(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function VM(e,t){var c,h,f,p;const n=Xf(),i=(t==null?void 0:t.weekStartsOn)??((h=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,s=Ce(e,t==null?void 0:t.in),a=s.getDay(),l=(a<i?-7:0)+6-(a-i);return s.setDate(s.getDate()+l),s.setHours(23,59,59,999),s}function l9(e,t){return VM(e,{...t,weekStartsOn:1})}const c9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},u9=(e,t,n)=>{let i;const s=c9[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function vb(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const h9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},f9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},d9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},p9={date:vb({formats:h9,defaultWidth:"full"}),time:vb({formats:f9,defaultWidth:"full"}),dateTime:vb({formats:d9,defaultWidth:"full"})},g9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},m9=(e,t,n,i)=>g9[e];function _h(e){return(t,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let s;if(i==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):l;s=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const y9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},b9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},v9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},x9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},w9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},E9=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},S9={ordinalNumber:E9,era:_h({values:y9,defaultWidth:"wide"}),quarter:_h({values:_9,defaultWidth:"wide",argumentCallback:e=>e-1}),month:_h({values:b9,defaultWidth:"wide"}),day:_h({values:v9,defaultWidth:"wide"}),dayPeriod:_h({values:x9,defaultWidth:"wide",formattingValues:w9,defaultFormattingWidth:"wide"})};function bh(e){return(t,n={})=>{const i=n.width,s=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const l=a[0],c=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(c)?A9(c,y=>y.test(l)):T9(c,y=>y.test(l));let f;f=e.valueCallback?e.valueCallback(h):h,f=n.valueCallback?n.valueCallback(f):f;const p=t.slice(l.length);return{value:f,rest:p}}}function T9(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function A9(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function R9(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const s=i[0],a=t.match(e.parsePattern);if(!a)return null;let l=e.valueCallback?e.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;const c=t.slice(s.length);return{value:l,rest:c}}}const k9=/^(\d+)(th|st|nd|rd)?/i,C9=/\d+/i,D9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},M9={any:[/^b/i,/^(a|c)/i]},I9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},O9={any:[/1/i,/2/i,/3/i,/4/i]},P9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},N9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},L9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},V9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},j9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},U9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},z9={ordinalNumber:R9({matchPattern:k9,parsePattern:C9,valueCallback:e=>parseInt(e,10)}),era:bh({matchPatterns:D9,defaultMatchWidth:"wide",parsePatterns:M9,defaultParseWidth:"any"}),quarter:bh({matchPatterns:I9,defaultMatchWidth:"wide",parsePatterns:O9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:bh({matchPatterns:P9,defaultMatchWidth:"wide",parsePatterns:N9,defaultParseWidth:"any"}),day:bh({matchPatterns:L9,defaultMatchWidth:"wide",parsePatterns:V9,defaultParseWidth:"any"}),dayPeriod:bh({matchPatterns:j9,defaultMatchWidth:"any",parsePatterns:U9,defaultParseWidth:"any"})},fx={code:"en-US",formatDistance:u9,formatLong:p9,formatRelative:m9,localize:S9,match:z9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function B9(e,t){const n=Ce(e,t==null?void 0:t.in);return PM(n,LM(n))+1}function jM(e,t){const n=Ce(e,t==null?void 0:t.in),i=+Af(n)-+Kz(n);return Math.round(i/DM)+1}function UM(e,t){var p,y,_,x;const n=Ce(e,t==null?void 0:t.in),i=n.getFullYear(),s=Xf(),a=(t==null?void 0:t.firstWeekContainsDate)??((y=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(_=s.locale)==null?void 0:_.options)==null?void 0:x.firstWeekContainsDate)??1,l=Tn((t==null?void 0:t.in)||e,0);l.setFullYear(i+1,0,a),l.setHours(0,0,0,0);const c=Zc(l,t),h=Tn((t==null?void 0:t.in)||e,0);h.setFullYear(i,0,a),h.setHours(0,0,0,0);const f=Zc(h,t);return+n>=+c?i+1:+n>=+f?i:i-1}function F9(e,t){var c,h,f,p;const n=Xf(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,s=UM(e,t),a=Tn((t==null?void 0:t.in)||e,0);return a.setFullYear(s,0,i),a.setHours(0,0,0,0),Zc(a,t)}function zM(e,t){const n=Ce(e,t==null?void 0:t.in),i=+Zc(n,t)-+F9(n,t);return Math.round(i/DM)+1}function Ee(e,t){const n=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return n+i}const ja={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return Ee(t==="yy"?i%100:i,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ee(n+1,2)},d(e,t){return Ee(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ee(e.getHours()%12||12,t.length)},H(e,t){return Ee(e.getHours(),t.length)},m(e,t){return Ee(e.getMinutes(),t.length)},s(e,t){return Ee(e.getSeconds(),t.length)},S(e,t){const n=t.length,i=e.getMilliseconds(),s=Math.trunc(i*Math.pow(10,n-3));return Ee(s,t.length)}},xc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},JT={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const i=e.getFullYear(),s=i>0?i:1-i;return n.ordinalNumber(s,{unit:"year"})}return ja.y(e,t)},Y:function(e,t,n,i){const s=UM(e,i),a=s>0?s:1-s;if(t==="YY"){const l=a%100;return Ee(l,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Ee(a,t.length)},R:function(e,t){const n=OM(e);return Ee(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ee(n,t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Ee(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Ee(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return ja.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return Ee(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const s=zM(e,i);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Ee(s,t.length)},I:function(e,t,n){const i=jM(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):Ee(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ja.d(e,t)},D:function(e,t,n){const i=B9(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Ee(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const s=e.getDay(),a=(s-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ee(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const s=e.getDay(),a=(s-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ee(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),s=i===0?7:i;switch(t){case"i":return String(s);case"ii":return Ee(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let s;switch(i===12?s=xc.noon:i===0?s=xc.midnight:s=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let s;switch(i>=17?s=xc.evening:i>=12?s=xc.afternoon:i>=4?s=xc.morning:s=xc.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return ja.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ja.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Ee(i,t.length)},k:function(e,t,n){let i=e.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):Ee(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ja.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ja.s(e,t)},S:function(e,t){return ja.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return eA(i);case"XXXX":case"XX":return nl(i);case"XXXXX":case"XXX":default:return nl(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return eA(i);case"xxxx":case"xx":return nl(i);case"xxxxx":case"xxx":default:return nl(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+tA(i,":");case"OOOO":default:return"GMT"+nl(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+tA(i,":");case"zzzz":default:return"GMT"+nl(i,":")}},t:function(e,t,n){const i=Math.trunc(+e/1e3);return Ee(i,t.length)},T:function(e,t,n){return Ee(+e,t.length)}};function tA(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=Math.trunc(i/60),a=i%60;return a===0?n+String(s):n+String(s)+t+Ee(a,2)}function eA(e,t){return e%60===0?(e>0?"-":"+")+Ee(Math.abs(e)/60,2):nl(e,t)}function nl(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=Ee(Math.trunc(i/60),2),a=Ee(i%60,2);return n+s+t+a}const nA=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},BM=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},q9=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return nA(e,t);let a;switch(i){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",nA(i,t)).replace("{{time}}",BM(s,t))},$9={p:BM,P:q9},H9=/^D+$/,W9=/^Y+$/,Y9=["D","DD","YY","YYYY"];function G9(e){return H9.test(e)}function K9(e){return W9.test(e)}function X9(e,t,n){const i=Q9(e,t,n);if(console.warn(i),Y9.includes(e))throw new RangeError(i)}function Q9(e,t,n){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Z9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,J9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tB=/^'([^]*?)'?$/,eB=/''/g,nB=/[a-zA-Z]/;function iB(e,t,n){var p,y,_,x,E,A,T,D;const i=Xf(),s=(n==null?void 0:n.locale)??i.locale??fx,a=(n==null?void 0:n.firstWeekContainsDate)??((y=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((x=(_=i.locale)==null?void 0:_.options)==null?void 0:x.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((A=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:A.weekStartsOn)??i.weekStartsOn??((D=(T=i.locale)==null?void 0:T.options)==null?void 0:D.weekStartsOn)??0,c=Ce(e,n==null?void 0:n.in);if(!e9(c))throw new RangeError("Invalid time value");let h=t.match(J9).map(O=>{const L=O[0];if(L==="p"||L==="P"){const B=$9[L];return B(O,s.formatLong)}return O}).join("").match(Z9).map(O=>{if(O==="''")return{isToken:!1,value:"'"};const L=O[0];if(L==="'")return{isToken:!1,value:sB(O)};if(JT[L])return{isToken:!0,value:O};if(L.match(nB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return{isToken:!1,value:O}});s.localize.preprocessor&&(h=s.localize.preprocessor(c,h));const f={firstWeekContainsDate:a,weekStartsOn:l,locale:s};return h.map(O=>{if(!O.isToken)return O.value;const L=O.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&K9(L)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&G9(L))&&X9(L,t,String(e));const B=JT[L[0]];return B(c,L,s.localize,f)}).join("")}function sB(e){const t=e.match(tB);return t?t[1].replace(eB,"'"):e}function rB(e,t){const n=Ce(e,t==null?void 0:t.in),i=n.getFullYear(),s=n.getMonth(),a=Tn(n,0);return a.setFullYear(i,s+1,0),a.setHours(0,0,0,0),a.getDate()}function aB(e,t){return Ce(e,t==null?void 0:t.in).getMonth()}function oB(e,t){return Ce(e,t==null?void 0:t.in).getFullYear()}function lB(e,t){return+Ce(e)>+Ce(t)}function cB(e,t){return+Ce(e)<+Ce(t)}function uB(e,t,n){const[i,s]=du(n==null?void 0:n.in,e,t);return i.getFullYear()===s.getFullYear()&&i.getMonth()===s.getMonth()}function hB(e,t,n){const[i,s]=du(n==null?void 0:n.in,e,t);return i.getFullYear()===s.getFullYear()}function fB(e,t,n){const i=Ce(e,n==null?void 0:n.in),s=i.getFullYear(),a=i.getDate(),l=Tn(e,0);l.setFullYear(s,t,15),l.setHours(0,0,0,0);const c=rB(l);return i.setMonth(t,Math.min(a,c)),i}function dB(e,t,n){const i=Ce(e,n==null?void 0:n.in);return isNaN(+i)?Tn(e,NaN):(i.setFullYear(t),i)}const iA=5,pB=4;function gB(e,t){const n=t.startOfMonth(e),i=n.getDay()>0?n.getDay():7,s=t.addDays(e,-i+1),a=t.addDays(s,iA*7-1);return t.getMonth(e)===t.getMonth(a)?iA:pB}function FM(e,t){const n=t.startOfMonth(e),i=n.getDay();return i===1?n:i===0?t.addDays(n,-6):t.addDays(n,-1*(i-1))}function mB(e,t){const n=FM(e,t),i=gB(e,t);return t.addDays(n,i*7-1)}class oa{constructor(t,n){this.Date=Date,this.today=()=>{var i;return(i=this.overrides)!=null&&i.today?this.overrides.today():this.options.timeZone?oi.tz(this.options.timeZone):new this.Date},this.newDate=(i,s,a)=>{var l;return(l=this.overrides)!=null&&l.newDate?this.overrides.newDate(i,s,a):this.options.timeZone?new oi(i,s,a,this.options.timeZone):new Date(i,s,a)},this.addDays=(i,s)=>{var a;return(a=this.overrides)!=null&&a.addDays?this.overrides.addDays(i,s):MM(i,s)},this.addMonths=(i,s)=>{var a;return(a=this.overrides)!=null&&a.addMonths?this.overrides.addMonths(i,s):IM(i,s)},this.addWeeks=(i,s)=>{var a;return(a=this.overrides)!=null&&a.addWeeks?this.overrides.addWeeks(i,s):Xz(i,s)},this.addYears=(i,s)=>{var a;return(a=this.overrides)!=null&&a.addYears?this.overrides.addYears(i,s):Qz(i,s)},this.differenceInCalendarDays=(i,s)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarDays?this.overrides.differenceInCalendarDays(i,s):PM(i,s)},this.differenceInCalendarMonths=(i,s)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(i,s):n9(i,s)},this.eachMonthOfInterval=i=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(i):r9(i)},this.endOfBroadcastWeek=i=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(i):mB(i,this)},this.endOfISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(i):l9(i)},this.endOfMonth=i=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(i):i9(i)},this.endOfWeek=(i,s)=>{var a;return(a=this.overrides)!=null&&a.endOfWeek?this.overrides.endOfWeek(i,s):VM(i,this.options)},this.endOfYear=i=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(i):o9(i)},this.format=(i,s,a)=>{var c;const l=(c=this.overrides)!=null&&c.format?this.overrides.format(i,s,this.options):iB(i,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(l):l},this.getISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(i):jM(i)},this.getMonth=(i,s)=>{var a;return(a=this.overrides)!=null&&a.getMonth?this.overrides.getMonth(i,this.options):aB(i,this.options)},this.getYear=(i,s)=>{var a;return(a=this.overrides)!=null&&a.getYear?this.overrides.getYear(i,this.options):oB(i,this.options)},this.getWeek=(i,s)=>{var a;return(a=this.overrides)!=null&&a.getWeek?this.overrides.getWeek(i,this.options):zM(i,this.options)},this.isAfter=(i,s)=>{var a;return(a=this.overrides)!=null&&a.isAfter?this.overrides.isAfter(i,s):lB(i,s)},this.isBefore=(i,s)=>{var a;return(a=this.overrides)!=null&&a.isBefore?this.overrides.isBefore(i,s):cB(i,s)},this.isDate=i=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(i):NM(i)},this.isSameDay=(i,s)=>{var a;return(a=this.overrides)!=null&&a.isSameDay?this.overrides.isSameDay(i,s):t9(i,s)},this.isSameMonth=(i,s)=>{var a;return(a=this.overrides)!=null&&a.isSameMonth?this.overrides.isSameMonth(i,s):uB(i,s)},this.isSameYear=(i,s)=>{var a;return(a=this.overrides)!=null&&a.isSameYear?this.overrides.isSameYear(i,s):hB(i,s)},this.max=i=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(i):Zz(i)},this.min=i=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(i):Jz(i)},this.setMonth=(i,s)=>{var a;return(a=this.overrides)!=null&&a.setMonth?this.overrides.setMonth(i,s):fB(i,s)},this.setYear=(i,s)=>{var a;return(a=this.overrides)!=null&&a.setYear?this.overrides.setYear(i,s):dB(i,s)},this.startOfBroadcastWeek=(i,s)=>{var a;return(a=this.overrides)!=null&&a.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(i,this):FM(i,this)},this.startOfDay=i=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(i):Rf(i)},this.startOfISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(i):Af(i)},this.startOfMonth=i=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(i):a9(i)},this.startOfWeek=(i,s)=>{var a;return(a=this.overrides)!=null&&a.startOfWeek?this.overrides.startOfWeek(i,this.options):Zc(i,this.options)},this.startOfYear=i=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(i):LM(i)},this.options={locale:fx,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),i={};for(let s=0;s<10;s++)i[s.toString()]=n.format(s);return i}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,i=>n[i]||i)}formatNumber(t){return this.replaceDigits(t.toString())}}const cr=new oa;class qM{constructor(t,n,i=cr){this.date=t,this.displayMonth=n,this.outside=!!(n&&!i.isSameMonth(t,n)),this.dateLib=i}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class yB{constructor(t,n){this.date=t,this.weeks=n}}class _B{constructor(t,n){this.days=n,this.weekNumber=t}}function bB(e){return Et.createElement("button",{...e})}function vB(e){return Et.createElement("span",{...e})}function xB(e){const{size:t=24,orientation:n="left",className:i}=e;return Et.createElement("svg",{className:i,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&Et.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&Et.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&Et.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&Et.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function wB(e){const{day:t,modifiers:n,...i}=e;return Et.createElement("td",{...i})}function EB(e){const{day:t,modifiers:n,...i}=e,s=Et.useRef(null);return Et.useEffect(()=>{var a;n.focused&&((a=s.current)==null||a.focus())},[n.focused]),Et.createElement("button",{ref:s,...i})}var Mt;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(Mt||(Mt={}));var He;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(He||(He={}));var _s;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(_s||(_s={}));var Ui;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(Ui||(Ui={}));function SB(e){const{options:t,className:n,components:i,classNames:s,...a}=e,l=[s[Mt.Dropdown],n].join(" "),c=t==null?void 0:t.find(({value:h})=>h===a.value);return Et.createElement("span",{"data-disabled":a.disabled,className:s[Mt.DropdownRoot]},Et.createElement(i.Select,{className:l,...a},t==null?void 0:t.map(({value:h,label:f,disabled:p})=>Et.createElement(i.Option,{key:h,value:h,disabled:p},f))),Et.createElement("span",{className:s[Mt.CaptionLabel],"aria-hidden":!0},c==null?void 0:c.label,Et.createElement(i.Chevron,{orientation:"down",size:18,className:s[Mt.Chevron]})))}function TB(e){return Et.createElement("div",{...e})}function AB(e){return Et.createElement("div",{...e})}function RB(e){const{calendarMonth:t,displayIndex:n,...i}=e;return Et.createElement("div",{...i},e.children)}function kB(e){const{calendarMonth:t,displayIndex:n,...i}=e;return Et.createElement("div",{...i})}function CB(e){return Et.createElement("table",{...e})}function DB(e){return Et.createElement("div",{...e})}const $M=j.createContext(void 0);function Qf(){const e=j.useContext($M);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function MB(e){const{components:t}=Qf();return Et.createElement(t.Dropdown,{...e})}function IB(e){const{onPreviousClick:t,onNextClick:n,previousMonth:i,nextMonth:s,...a}=e,{components:l,classNames:c,labels:{labelPrevious:h,labelNext:f}}=Qf(),p=j.useCallback(_=>{s&&(n==null||n(_))},[s,n]),y=j.useCallback(_=>{i&&(t==null||t(_))},[i,t]);return Et.createElement("nav",{...a},Et.createElement(l.PreviousMonthButton,{type:"button",className:c[Mt.PreviousMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":h(i),onClick:y},Et.createElement(l.Chevron,{disabled:i?void 0:!0,className:c[Mt.Chevron],orientation:"left"})),Et.createElement(l.NextMonthButton,{type:"button",className:c[Mt.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":f(s),onClick:p},Et.createElement(l.Chevron,{disabled:s?void 0:!0,orientation:"right",className:c[Mt.Chevron]})))}function OB(e){const{components:t}=Qf();return Et.createElement(t.Button,{...e})}function PB(e){return Et.createElement("option",{...e})}function NB(e){const{components:t}=Qf();return Et.createElement(t.Button,{...e})}function LB(e){const{rootRef:t,...n}=e;return Et.createElement("div",{...n,ref:t})}function VB(e){return Et.createElement("select",{...e})}function jB(e){const{week:t,...n}=e;return Et.createElement("tr",{...n})}function UB(e){return Et.createElement("th",{...e})}function zB(e){return Et.createElement("thead",{"aria-hidden":!0},Et.createElement("tr",{...e}))}function BB(e){const{week:t,...n}=e;return Et.createElement("th",{...n})}function FB(e){return Et.createElement("th",{...e})}function qB(e){return Et.createElement("tbody",{...e})}function $B(e){const{components:t}=Qf();return Et.createElement(t.Dropdown,{...e})}const HB=Object.freeze(Object.defineProperty({__proto__:null,Button:bB,CaptionLabel:vB,Chevron:xB,Day:wB,DayButton:EB,Dropdown:SB,DropdownNav:TB,Footer:AB,Month:RB,MonthCaption:kB,MonthGrid:CB,Months:DB,MonthsDropdown:MB,Nav:IB,NextMonthButton:OB,Option:PB,PreviousMonthButton:NB,Root:LB,Select:VB,Week:jB,WeekNumber:BB,WeekNumberHeader:FB,Weekday:UB,Weekdays:zB,Weeks:qB,YearsDropdown:$B},Symbol.toStringTag,{value:"Module"}));function Hr(e,t,n=!1,i=cr){let{from:s,to:a}=e;const{differenceInCalendarDays:l,isSameDay:c}=i;return s&&a?(l(a,s)<0&&([s,a]=[a,s]),l(t,s)>=(n?1:0)&&l(a,t)>=(n?1:0)):!n&&a?c(a,t):!n&&s?c(s,t):!1}function HM(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function dx(e){return!!(e&&typeof e=="object"&&"from"in e)}function WM(e){return!!(e&&typeof e=="object"&&"after"in e)}function YM(e){return!!(e&&typeof e=="object"&&"before"in e)}function GM(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function KM(e,t){return Array.isArray(e)&&e.every(t.isDate)}function Wr(e,t,n=cr){const i=Array.isArray(t)?t:[t],{isSameDay:s,differenceInCalendarDays:a,isAfter:l}=n;return i.some(c=>{if(typeof c=="boolean")return c;if(n.isDate(c))return s(e,c);if(KM(c,n))return c.includes(e);if(dx(c))return Hr(c,e,!1,n);if(GM(c))return Array.isArray(c.dayOfWeek)?c.dayOfWeek.includes(e.getDay()):c.dayOfWeek===e.getDay();if(HM(c)){const h=a(c.before,e),f=a(c.after,e),p=h>0,y=f<0;return l(c.before,c.after)?y&&p:p||y}return WM(c)?a(e,c.after)>0:YM(c)?a(c.before,e)>0:typeof c=="function"?c(e):!1})}function WB(e,t,n,i,s){const{disabled:a,hidden:l,modifiers:c,showOutsideDays:h,broadcastCalendar:f,today:p}=t,{isSameDay:y,isSameMonth:_,startOfMonth:x,isBefore:E,endOfMonth:A,isAfter:T}=s,D=n&&x(n),O=i&&A(i),L={[He.focused]:[],[He.outside]:[],[He.disabled]:[],[He.hidden]:[],[He.today]:[]},B={};for(const M of e){const{date:Y,displayMonth:C}=M,k=!!(C&&!_(Y,C)),P=!!(D&&E(Y,D)),z=!!(O&&T(Y,O)),U=!!(a&&Wr(Y,a,s)),$=!!(l&&Wr(Y,l,s))||P||z||!f&&!h&&k||f&&h===!1&&k,F=y(Y,p??s.today());k&&L.outside.push(M),U&&L.disabled.push(M),$&&L.hidden.push(M),F&&L.today.push(M),c&&Object.keys(c).forEach(Pt=>{const X=c==null?void 0:c[Pt];X&&Wr(Y,X,s)&&(B[Pt]?B[Pt].push(M):B[Pt]=[M])})}return M=>{const Y={[He.focused]:!1,[He.disabled]:!1,[He.hidden]:!1,[He.outside]:!1,[He.today]:!1},C={};for(const k in L){const P=L[k];Y[k]=P.some(z=>z===M)}for(const k in B)C[k]=B[k].some(P=>P===M);return{...Y,...C}}}function YB(e,t,n={}){return Object.entries(e).filter(([,s])=>s===!0).reduce((s,[a])=>(n[a]?s.push(n[a]):t[He[a]]?s.push(t[He[a]]):t[_s[a]]&&s.push(t[_s[a]]),s),[t[Mt.Day]])}function GB(e){return{...HB,...e}}function KB(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,i])=>{n.startsWith("data-")&&(t[n]=i)}),t}function XB(){const e={};for(const t in Mt)e[Mt[t]]=`rdp-${Mt[t]}`;for(const t in He)e[He[t]]=`rdp-${He[t]}`;for(const t in _s)e[_s[t]]=`rdp-${_s[t]}`;for(const t in Ui)e[Ui[t]]=`rdp-${Ui[t]}`;return e}function XM(e,t,n){return(n??new oa(t)).format(e,"LLLL y")}const QB=XM;function ZB(e,t,n){return(n??new oa(t)).format(e,"d")}function JB(e,t=cr){return t.format(e,"LLLL")}function tF(e,t,n){return(n??new oa(t)).format(e,"cccccc")}function eF(e,t=cr){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function nF(){return""}function QM(e,t=cr){return t.format(e,"yyyy")}const iF=QM,sF=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:XM,formatDay:ZB,formatMonthCaption:QB,formatMonthDropdown:JB,formatWeekNumber:eF,formatWeekNumberHeader:nF,formatWeekdayName:tF,formatYearCaption:iF,formatYearDropdown:QM},Symbol.toStringTag,{value:"Module"}));function rF(e){return e!=null&&e.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e!=null&&e.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...sF,...e}}function aF(e,t,n,i,s){const{startOfMonth:a,startOfYear:l,endOfYear:c,eachMonthOfInterval:h,getMonth:f}=s;return h({start:l(e),end:c(e)}).map(_=>{const x=i.formatMonthDropdown(_,s),E=f(_),A=t&&_<a(t)||n&&_>a(n)||!1;return{value:E,label:x,disabled:A}})}function oF(e,t={},n={}){let i={...t==null?void 0:t[Mt.Day]};return Object.entries(e).filter(([,s])=>s===!0).forEach(([s])=>{i={...i,...n==null?void 0:n[s]}}),i}function lF(e,t,n){const i=e.today(),s=t?e.startOfISOWeek(i):e.startOfWeek(i),a=[];for(let l=0;l<7;l++){const c=e.addDays(s,l);a.push(c)}return a}function cF(e,t,n,i,s=!1){if(!e||!t)return;const{startOfYear:a,endOfYear:l,addYears:c,getYear:h,isBefore:f,isSameYear:p}=i,y=a(e),_=l(t),x=[];let E=y;for(;f(E,_)||p(E,_);)x.push(E),E=c(E,1);return s&&x.reverse(),x.map(A=>{const T=n.formatYearDropdown(A,i);return{value:h(A),label:T,disabled:!1}})}function ZM(e,t,n,i){let s=(i??new oa(n)).format(e,"PPPP");return t.today&&(s=`Today, ${s}`),t.selected&&(s=`${s}, selected`),s}const uF=ZM;function JM(e,t,n){return(n??new oa(t)).format(e,"LLLL y")}const hF=JM;function fF(e,t,n,i){let s=(i??new oa(n)).format(e,"PPPP");return t!=null&&t.today&&(s=`Today, ${s}`),s}function dF(e){return"Choose the Month"}function pF(){return""}function gF(e){return"Go to the Next Month"}function mF(e){return"Go to the Previous Month"}function yF(e,t,n){return(n??new oa(t)).format(e,"cccc")}function _F(e,t){return`Week ${e}`}function bF(e){return"Week Number"}function vF(e){return"Choose the Year"}const xF=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:hF,labelDay:uF,labelDayButton:ZM,labelGrid:JM,labelGridcell:fF,labelMonthDropdown:dF,labelNav:pF,labelNext:gF,labelPrevious:mF,labelWeekNumber:_F,labelWeekNumberHeader:bF,labelWeekday:yF,labelYearDropdown:vF},Symbol.toStringTag,{value:"Module"})),Zf=e=>e instanceof HTMLElement?e:null,xb=e=>[...e.querySelectorAll("[data-animated-month]")??[]],wF=e=>Zf(e.querySelector("[data-animated-month]")),wb=e=>Zf(e.querySelector("[data-animated-caption]")),Eb=e=>Zf(e.querySelector("[data-animated-weeks]")),EF=e=>Zf(e.querySelector("[data-animated-nav]")),SF=e=>Zf(e.querySelector("[data-animated-weekdays]"));function TF(e,t,{classNames:n,months:i,focused:s,dateLib:a}){const l=j.useRef(null),c=j.useRef(i),h=j.useRef(!1);j.useLayoutEffect(()=>{const f=c.current;if(c.current=i,!t||!e.current||!(e.current instanceof HTMLElement)||i.length===0||f.length===0||i.length!==f.length)return;const p=a.isSameMonth(i[0].date,f[0].date),y=a.isAfter(i[0].date,f[0].date),_=y?n[Ui.caption_after_enter]:n[Ui.caption_before_enter],x=y?n[Ui.weeks_after_enter]:n[Ui.weeks_before_enter],E=l.current,A=e.current.cloneNode(!0);if(A instanceof HTMLElement?(xb(A).forEach(L=>{if(!(L instanceof HTMLElement))return;const B=wF(L);B&&L.contains(B)&&L.removeChild(B);const M=wb(L);M&&M.classList.remove(_);const Y=Eb(L);Y&&Y.classList.remove(x)}),l.current=A):l.current=null,h.current||p||s)return;const T=E instanceof HTMLElement?xb(E):[],D=xb(e.current);if(D!=null&&D.every(O=>O instanceof HTMLElement)&&T&&T.every(O=>O instanceof HTMLElement)){h.current=!0,e.current.style.isolation="isolate";const O=EF(e.current);O&&(O.style.zIndex="1"),D.forEach((L,B)=>{const M=T[B];if(!M)return;L.style.position="relative",L.style.overflow="hidden";const Y=wb(L);Y&&Y.classList.add(_);const C=Eb(L);C&&C.classList.add(x);const k=()=>{h.current=!1,e.current&&(e.current.style.isolation=""),O&&(O.style.zIndex=""),Y&&Y.classList.remove(_),C&&C.classList.remove(x),L.style.position="",L.style.overflow="",L.contains(M)&&L.removeChild(M)};M.style.pointerEvents="none",M.style.position="absolute",M.style.overflow="hidden",M.setAttribute("aria-hidden","true");const P=SF(M);P&&(P.style.opacity="0");const z=wb(M);z&&(z.classList.add(y?n[Ui.caption_before_exit]:n[Ui.caption_after_exit]),z.addEventListener("animationend",k));const U=Eb(M);U&&U.classList.add(y?n[Ui.weeks_before_exit]:n[Ui.weeks_after_exit]),L.insertBefore(M,L.firstChild)})}})}function AF(e,t,n,i){const s=e[0],a=e[e.length-1],{ISOWeek:l,fixedWeeks:c,broadcastCalendar:h}=n??{},{addDays:f,differenceInCalendarDays:p,differenceInCalendarMonths:y,endOfBroadcastWeek:_,endOfISOWeek:x,endOfMonth:E,endOfWeek:A,isAfter:T,startOfBroadcastWeek:D,startOfISOWeek:O,startOfWeek:L}=i,B=h?D(s,i):l?O(s):L(s),M=h?_(a):l?x(E(a)):A(E(a)),Y=p(M,B),C=y(a,s)+1,k=[];for(let U=0;U<=Y;U++){const $=f(B,U);if(t&&T($,t))break;k.push($)}const z=(h?35:42)*C;if(c&&k.length<z){const U=z-k.length;for(let $=0;$<U;$++){const F=f(k[k.length-1],1);k.push(F)}}return k}function RF(e){const t=[];return e.reduce((n,i)=>{const s=i.weeks.reduce((a,l)=>a.concat(l.days.slice()),t.slice());return n.concat(s.slice())},t.slice())}function kF(e,t,n,i){const{numberOfMonths:s=1}=n,a=[];for(let l=0;l<s;l++){const c=i.addMonths(e,l);if(t&&c>t)break;a.push(c)}return a}function sA(e,t,n,i){const{month:s,defaultMonth:a,today:l=i.today(),numberOfMonths:c=1}=e;let h=s||a||l;const{differenceInCalendarMonths:f,addMonths:p,startOfMonth:y}=i;if(n&&f(n,h)<c-1){const _=-1*(c-1);h=p(n,_)}return t&&f(h,t)<0&&(h=t),y(h)}function CF(e,t,n,i){const{addDays:s,endOfBroadcastWeek:a,endOfISOWeek:l,endOfMonth:c,endOfWeek:h,getISOWeek:f,getWeek:p,startOfBroadcastWeek:y,startOfISOWeek:_,startOfWeek:x}=i,E=e.reduce((A,T)=>{const D=n.broadcastCalendar?y(T,i):n.ISOWeek?_(T):x(T),O=n.broadcastCalendar?a(T):n.ISOWeek?l(c(T)):h(c(T)),L=t.filter(C=>C>=D&&C<=O),B=n.broadcastCalendar?35:42;if(n.fixedWeeks&&L.length<B){const C=t.filter(k=>{const P=B-L.length;return k>O&&k<=s(O,P)});L.push(...C)}const M=L.reduce((C,k)=>{const P=n.ISOWeek?f(k):p(k),z=C.find($=>$.weekNumber===P),U=new qM(k,T,i);return z?z.days.push(U):C.push(new _B(P,[U])),C},[]),Y=new yB(T,M);return A.push(Y),A},[]);return n.reverseMonths?E.reverse():E}function DF(e,t){let{startMonth:n,endMonth:i}=e;const{startOfYear:s,startOfDay:a,startOfMonth:l,endOfMonth:c,addYears:h,endOfYear:f,newDate:p,today:y}=t,{fromYear:_,toYear:x,fromMonth:E,toMonth:A}=e;!n&&E&&(n=E),!n&&_&&(n=t.newDate(_,0,1)),!i&&A&&(i=A),!i&&x&&(i=p(x,11,31));const T=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=l(n):_?n=p(_,0,1):!n&&T&&(n=s(h(e.today??y(),-100))),i?i=c(i):x?i=p(x,11,31):!i&&T&&(i=f(e.today??y())),[n&&a(n),i&&a(i)]}function MF(e,t,n,i){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:a=1}=n,{startOfMonth:l,addMonths:c,differenceInCalendarMonths:h}=i,f=s?a:1,p=l(e);if(!t)return c(p,f);if(!(h(t,e)<a))return c(p,f)}function IF(e,t,n,i){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:a}=n,{startOfMonth:l,addMonths:c,differenceInCalendarMonths:h}=i,f=s?a??1:1,p=l(e);if(!t)return c(p,-f);if(!(h(p,t)<=0))return c(p,-f)}function OF(e){const t=[];return e.reduce((n,i)=>n.concat(i.weeks.slice()),t.slice())}function qm(e,t){const[n,i]=j.useState(e);return[t===void 0?n:t,i]}function PF(e,t){const[n,i]=DF(e,t),{startOfMonth:s,endOfMonth:a}=t,l=sA(e,n,i,t),[c,h]=qm(l,e.month?l:void 0);j.useEffect(()=>{const Y=sA(e,n,i,t);h(Y)},[e.timeZone]);const f=kF(c,i,e,t),p=AF(f,e.endMonth?a(e.endMonth):void 0,e,t),y=CF(f,p,e,t),_=OF(y),x=RF(y),E=IF(c,n,e,t),A=MF(c,i,e,t),{disableNavigation:T,onMonthChange:D}=e,O=Y=>_.some(C=>C.days.some(k=>k.isEqualTo(Y))),L=Y=>{if(T)return;let C=s(Y);n&&C<s(n)&&(C=s(n)),i&&C>s(i)&&(C=s(i)),h(C),D==null||D(C)};return{months:y,weeks:_,days:x,navStart:n,navEnd:i,previousMonth:E,nextMonth:A,goToMonth:L,goToDay:Y=>{O(Y)||L(Y.date)}}}var Hs;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(Hs||(Hs={}));function rA(e){return!e[He.disabled]&&!e[He.hidden]&&!e[He.outside]}function NF(e,t,n,i){let s,a=-1;for(const l of e){const c=t(l);rA(c)&&(c[He.focused]&&a<Hs.FocusedModifier?(s=l,a=Hs.FocusedModifier):i!=null&&i.isEqualTo(l)&&a<Hs.LastFocused?(s=l,a=Hs.LastFocused):n(l.date)&&a<Hs.Selected?(s=l,a=Hs.Selected):c[He.today]&&a<Hs.Today&&(s=l,a=Hs.Today))}return s||(s=e.find(l=>rA(t(l)))),s}function LF(e,t,n,i,s,a,l){const{ISOWeek:c,broadcastCalendar:h}=a,{addDays:f,addMonths:p,addWeeks:y,addYears:_,endOfBroadcastWeek:x,endOfISOWeek:E,endOfWeek:A,max:T,min:D,startOfBroadcastWeek:O,startOfISOWeek:L,startOfWeek:B}=l;let Y={day:f,week:y,month:p,year:_,startOfWeek:C=>h?O(C,l):c?L(C):B(C),endOfWeek:C=>h?x(C):c?E(C):A(C)}[e](n,t==="after"?1:-1);return t==="before"&&i?Y=T([i,Y]):t==="after"&&s&&(Y=D([s,Y])),Y}function tI(e,t,n,i,s,a,l,c=0){if(c>365)return;const h=LF(e,t,n.date,i,s,a,l),f=!!(a.disabled&&Wr(h,a.disabled,l)),p=!!(a.hidden&&Wr(h,a.hidden,l)),y=h,_=new qM(h,y,l);return!f&&!p?_:tI(e,t,_,i,s,a,l,c+1)}function VF(e,t,n,i,s){const{autoFocus:a}=e,[l,c]=j.useState(),h=NF(t.days,n,i||(()=>!1),l),[f,p]=j.useState(a?h:void 0);return{isFocusTarget:A=>!!(h!=null&&h.isEqualTo(A)),setFocused:p,focused:f,blur:()=>{c(f),p(void 0)},moveFocus:(A,T)=>{if(!f)return;const D=tI(A,T,f,t.navStart,t.navEnd,e,s);D&&(t.goToDay(D),p(D))}}}function jF(e,t){const{selected:n,required:i,onSelect:s}=e,[a,l]=qm(n,s?n:void 0),c=s?n:a,{isSameDay:h}=t,f=x=>(c==null?void 0:c.some(E=>h(E,x)))??!1,{min:p,max:y}=e;return{selected:c,select:(x,E,A)=>{let T=[...c??[]];if(f(x)){if((c==null?void 0:c.length)===p||i&&(c==null?void 0:c.length)===1)return;T=c==null?void 0:c.filter(D=>!h(D,x))}else(c==null?void 0:c.length)===y?T=[x]:T=[...T,x];return s||l(T),s==null||s(T,x,E,A),T},isSelected:f}}function UF(e,t,n=0,i=0,s=!1,a=cr){const{from:l,to:c}=t||{},{isSameDay:h,isAfter:f,isBefore:p}=a;let y;if(!l&&!c)y={from:e,to:n>0?void 0:e};else if(l&&!c)h(l,e)?n===0?y={from:l,to:e}:s?y={from:l,to:void 0}:y=void 0:p(e,l)?y={from:e,to:l}:y={from:l,to:e};else if(l&&c)if(h(l,e)&&h(c,e))s?y={from:l,to:c}:y=void 0;else if(h(l,e))y={from:l,to:n>0?void 0:e};else if(h(c,e))y={from:e,to:n>0?void 0:e};else if(p(e,l))y={from:e,to:c};else if(f(e,l))y={from:l,to:e};else if(f(e,c))y={from:l,to:e};else throw new Error("Invalid range");if(y!=null&&y.from&&(y!=null&&y.to)){const _=a.differenceInCalendarDays(y.to,y.from);i>0&&_>i?y={from:e,to:void 0}:n>1&&_<n&&(y={from:e,to:void 0})}return y}function zF(e,t,n=cr){const i=Array.isArray(t)?t:[t];let s=e.from;const a=n.differenceInCalendarDays(e.to,e.from),l=Math.min(a,6);for(let c=0;c<=l;c++){if(i.includes(s.getDay()))return!0;s=n.addDays(s,1)}return!1}function aA(e,t,n=cr){return Hr(e,t.from,!1,n)||Hr(e,t.to,!1,n)||Hr(t,e.from,!1,n)||Hr(t,e.to,!1,n)}function BF(e,t,n=cr){const i=Array.isArray(t)?t:[t];if(i.filter(c=>typeof c!="function").some(c=>typeof c=="boolean"?c:n.isDate(c)?Hr(e,c,!1,n):KM(c,n)?c.some(h=>Hr(e,h,!1,n)):dx(c)?c.from&&c.to?aA(e,{from:c.from,to:c.to},n):!1:GM(c)?zF(e,c.dayOfWeek,n):HM(c)?n.isAfter(c.before,c.after)?aA(e,{from:n.addDays(c.after,1),to:n.addDays(c.before,-1)},n):Wr(e.from,c,n)||Wr(e.to,c,n):WM(c)||YM(c)?Wr(e.from,c,n)||Wr(e.to,c,n):!1))return!0;const l=i.filter(c=>typeof c=="function");if(l.length){let c=e.from;const h=n.differenceInCalendarDays(e.to,e.from);for(let f=0;f<=h;f++){if(l.some(p=>p(c)))return!0;c=n.addDays(c,1)}}return!1}function FF(e,t){const{disabled:n,excludeDisabled:i,selected:s,required:a,onSelect:l}=e,[c,h]=qm(s,l?s:void 0),f=l?s:c;return{selected:f,select:(_,x,E)=>{const{min:A,max:T}=e,D=_?UF(_,f,A,T,a,t):void 0;return i&&n&&(D!=null&&D.from)&&D.to&&BF({from:D.from,to:D.to},n,t)&&(D.from=_,D.to=void 0),l||h(D),l==null||l(D,_,x,E),D},isSelected:_=>f&&Hr(f,_,!1,t)}}function qF(e,t){const{selected:n,required:i,onSelect:s}=e,[a,l]=qm(n,s?n:void 0),c=s?n:a,{isSameDay:h}=t;return{selected:c,select:(y,_,x)=>{let E=y;return!i&&c&&c&&h(y,c)&&(E=void 0),s||l(E),s==null||s(E,y,_,x),E},isSelected:y=>c?h(c,y):!1}}function $F(e,t){const n=qF(e,t),i=jF(e,t),s=FF(e,t);switch(e.mode){case"single":return n;case"multiple":return i;case"range":return s;default:return}}function HF(e){var la;let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new oi(t.today,t.timeZone)),t.month&&(t.month=new oi(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new oi(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new oi(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new oi(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new oi(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=(la=t.selected)==null?void 0:la.map(Ht=>new oi(Ht,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new oi(t.selected.from,t.timeZone):void 0,to:t.selected.to?new oi(t.selected.to,t.timeZone):void 0}));const{components:n,formatters:i,labels:s,dateLib:a,locale:l,classNames:c}=j.useMemo(()=>{const Ht={...fx,...t.locale};return{dateLib:new oa({locale:Ht,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:GB(t.components),formatters:rF(t.formatters),labels:{...xF,...t.labels},locale:Ht,classNames:{...XB(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:h,mode:f,navLayout:p,numberOfMonths:y=1,onDayBlur:_,onDayClick:x,onDayFocus:E,onDayKeyDown:A,onDayMouseEnter:T,onDayMouseLeave:D,onNextClick:O,onPrevClick:L,showWeekNumber:B,styles:M}=t,{formatCaption:Y,formatDay:C,formatMonthDropdown:k,formatWeekNumber:P,formatWeekNumberHeader:z,formatWeekdayName:U,formatYearDropdown:$}=i,F=PF(t,a),{days:Pt,months:X,navStart:V,navEnd:Z,previousMonth:ct,nextMonth:st,goToMonth:q}=F,lt=WB(Pt,t,V,Z,a),{isSelected:ot,select:K,selected:at}=$F(t,a)??{},{blur:yt,focused:nt,isFocusTarget:pt,moveFocus:_t,setFocused:vt}=VF(t,F,lt,ot??(()=>!1),a),{labelDayButton:At,labelGridcell:$t,labelGrid:ue,labelMonthDropdown:An,labelNav:ei,labelPrevious:ni,labelNext:cs,labelWeekday:Rn,labelWeekNumber:bt,labelWeekNumberHeader:It,labelYearDropdown:Rt}=s,St=j.useMemo(()=>lF(a,t.ISOWeek),[a,t.ISOWeek]),re=f!==void 0||x!==void 0,Fn=j.useCallback(()=>{ct&&(q(ct),L==null||L(ct))},[ct,q,L]),qn=j.useCallback(()=>{st&&(q(st),O==null||O(st))},[q,st,O]),qi=j.useCallback((Ht,me)=>Vt=>{Vt.preventDefault(),Vt.stopPropagation(),vt(Ht),K==null||K(Ht.date,me,Vt),x==null||x(Ht.date,me,Vt)},[K,x,vt]),Ue=j.useCallback((Ht,me)=>Vt=>{vt(Ht),E==null||E(Ht.date,me,Vt)},[E,vt]),pe=j.useCallback((Ht,me)=>Vt=>{yt(),_==null||_(Ht.date,me,Vt)},[yt,_]),di=j.useCallback((Ht,me)=>Vt=>{const he={ArrowLeft:[Vt.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[Vt.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[Vt.shiftKey?"year":"week","after"],ArrowUp:[Vt.shiftKey?"year":"week","before"],PageUp:[Vt.shiftKey?"year":"month","before"],PageDown:[Vt.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(he[Vt.key]){Vt.preventDefault(),Vt.stopPropagation();const[Cn,Wt]=he[Vt.key];_t(Cn,Wt)}A==null||A(Ht.date,me,Vt)},[_t,A,t.dir]),kn=j.useCallback((Ht,me)=>Vt=>{T==null||T(Ht.date,me,Vt)},[T]),Ml=j.useCallback((Ht,me)=>Vt=>{D==null||D(Ht.date,me,Vt)},[D]),pu=j.useCallback(Ht=>me=>{const Vt=Number(me.target.value),he=a.setMonth(a.startOfMonth(Ht),Vt);q(he)},[a,q]),ur=j.useCallback(Ht=>me=>{const Vt=Number(me.target.value),he=a.setYear(a.startOfMonth(Ht),Vt);q(he)},[a,q]),{className:hr,style:fr}=j.useMemo(()=>({className:[c[Mt.Root],t.className].filter(Boolean).join(" "),style:{...M==null?void 0:M[Mt.Root],...t.style}}),[c,t.className,t.style,M]),ki=KB(t),dr=j.useRef(null);TF(dr,!!t.animate,{classNames:c,months:X,focused:nt,dateLib:a});const pr={dayPickerProps:t,selected:at,select:K,isSelected:ot,months:X,nextMonth:st,previousMonth:ct,goToMonth:q,getModifiers:lt,components:n,classNames:c,styles:M,labels:s,formatters:i};return Et.createElement($M.Provider,{value:pr},Et.createElement(n.Root,{rootRef:t.animate?dr:void 0,className:hr,style:fr,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...ki},Et.createElement(n.Months,{className:c[Mt.Months],style:M==null?void 0:M[Mt.Months]},!t.hideNavigation&&!p&&Et.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[Mt.Nav],style:M==null?void 0:M[Mt.Nav],"aria-label":ei(),onPreviousClick:Fn,onNextClick:qn,previousMonth:ct,nextMonth:st}),X.map((Ht,me)=>Et.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:c[Mt.Month],style:M==null?void 0:M[Mt.Month],key:me,displayIndex:me,calendarMonth:Ht},p==="around"&&!t.hideNavigation&&me===0&&Et.createElement(n.PreviousMonthButton,{type:"button",className:c[Mt.PreviousMonthButton],tabIndex:ct?void 0:-1,"aria-disabled":ct?void 0:!0,"aria-label":ni(ct),onClick:Fn,"data-animated-button":t.animate?"true":void 0},Et.createElement(n.Chevron,{disabled:ct?void 0:!0,className:c[Mt.Chevron],orientation:t.dir==="rtl"?"right":"left"})),Et.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:c[Mt.MonthCaption],style:M==null?void 0:M[Mt.MonthCaption],calendarMonth:Ht,displayIndex:me},h!=null&&h.startsWith("dropdown")?Et.createElement(n.DropdownNav,{className:c[Mt.Dropdowns],style:M==null?void 0:M[Mt.Dropdowns]},h==="dropdown"||h==="dropdown-months"?Et.createElement(n.MonthsDropdown,{className:c[Mt.MonthsDropdown],"aria-label":An(),classNames:c,components:n,disabled:!!t.disableNavigation,onChange:pu(Ht.date),options:aF(Ht.date,V,Z,i,a),style:M==null?void 0:M[Mt.Dropdown],value:a.getMonth(Ht.date)}):Et.createElement("span",null,k(Ht.date,a)),h==="dropdown"||h==="dropdown-years"?Et.createElement(n.YearsDropdown,{className:c[Mt.YearsDropdown],"aria-label":Rt(a.options),classNames:c,components:n,disabled:!!t.disableNavigation,onChange:ur(Ht.date),options:cF(V,Z,i,a,!!t.reverseYears),style:M==null?void 0:M[Mt.Dropdown],value:a.getYear(Ht.date)}):Et.createElement("span",null,$(Ht.date,a)),Et.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},Y(Ht.date,a.options,a))):Et.createElement(n.CaptionLabel,{className:c[Mt.CaptionLabel],role:"status","aria-live":"polite"},Y(Ht.date,a.options,a))),p==="around"&&!t.hideNavigation&&me===y-1&&Et.createElement(n.NextMonthButton,{type:"button",className:c[Mt.NextMonthButton],tabIndex:st?void 0:-1,"aria-disabled":st?void 0:!0,"aria-label":cs(st),onClick:qn,"data-animated-button":t.animate?"true":void 0},Et.createElement(n.Chevron,{disabled:st?void 0:!0,className:c[Mt.Chevron],orientation:t.dir==="rtl"?"left":"right"})),me===y-1&&p==="after"&&!t.hideNavigation&&Et.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[Mt.Nav],style:M==null?void 0:M[Mt.Nav],"aria-label":ei(),onPreviousClick:Fn,onNextClick:qn,previousMonth:ct,nextMonth:st}),Et.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":f==="multiple"||f==="range","aria-label":ue(Ht.date,a.options,a)||void 0,className:c[Mt.MonthGrid],style:M==null?void 0:M[Mt.MonthGrid]},!t.hideWeekdays&&Et.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:c[Mt.Weekdays],style:M==null?void 0:M[Mt.Weekdays]},B&&Et.createElement(n.WeekNumberHeader,{"aria-label":It(a.options),className:c[Mt.WeekNumberHeader],style:M==null?void 0:M[Mt.WeekNumberHeader],scope:"col"},z()),St.map(Vt=>Et.createElement(n.Weekday,{"aria-label":Rn(Vt,a.options,a),className:c[Mt.Weekday],key:String(Vt),style:M==null?void 0:M[Mt.Weekday],scope:"col"},U(Vt,a.options,a)))),Et.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:c[Mt.Weeks],style:M==null?void 0:M[Mt.Weeks]},Ht.weeks.map(Vt=>Et.createElement(n.Week,{className:c[Mt.Week],key:Vt.weekNumber,style:M==null?void 0:M[Mt.Week],week:Vt},B&&Et.createElement(n.WeekNumber,{week:Vt,style:M==null?void 0:M[Mt.WeekNumber],"aria-label":bt(Vt.weekNumber,{locale:l}),className:c[Mt.WeekNumber],scope:"row",role:"rowheader"},P(Vt.weekNumber,a)),Vt.days.map(he=>{const{date:Cn}=he,Wt=lt(he);if(Wt[He.focused]=!Wt.hidden&&!!(nt!=null&&nt.isEqualTo(he)),Wt[_s.selected]=(ot==null?void 0:ot(Cn))||Wt.selected,dx(at)){const{from:$i,to:ua}=at;Wt[_s.range_start]=!!($i&&ua&&a.isSameDay(Cn,$i)),Wt[_s.range_end]=!!($i&&ua&&a.isSameDay(Cn,ua)),Wt[_s.range_middle]=Hr(at,Cn,!0,a)}const vo=oF(Wt,M,t.modifiersStyles),Rs=YB(Wt,c,t.modifiersClassNames),ca=!re&&!Wt.hidden?$t(Cn,Wt,a.options,a):void 0;return Et.createElement(n.Day,{key:`${a.format(Cn,"yyyy-MM-dd")}_${a.format(he.displayMonth,"yyyy-MM")}`,day:he,modifiers:Wt,className:Rs.join(" "),style:vo,role:"gridcell","aria-selected":Wt.selected||void 0,"aria-label":ca,"data-day":a.format(Cn,"yyyy-MM-dd"),"data-month":he.outside?a.format(Cn,"yyyy-MM"):void 0,"data-selected":Wt.selected||void 0,"data-disabled":Wt.disabled||void 0,"data-hidden":Wt.hidden||void 0,"data-outside":he.outside||void 0,"data-focused":Wt.focused||void 0,"data-today":Wt.today||void 0},!Wt.hidden&&re?Et.createElement(n.DayButton,{className:c[Mt.DayButton],style:M==null?void 0:M[Mt.DayButton],type:"button",day:he,modifiers:Wt,disabled:Wt.disabled||void 0,tabIndex:pt(he)?0:-1,"aria-label":At(Cn,Wt,a.options,a),onClick:qi(he,Wt),onBlur:pe(he,Wt),onFocus:Ue(he,Wt),onKeyDown:di(he,Wt),onMouseEnter:kn(he,Wt),onMouseLeave:Ml(he,Wt)},C(Cn,a.options,a)):!Wt.hidden&&C(he.date,a.options,a))})))))))),t.footer&&Et.createElement(n.Footer,{className:c[Mt.Footer],style:M==null?void 0:M[Mt.Footer],role:"status","aria-live":"polite"},t.footer)))}const WF="/pdms-test/assets/calendar-arrow-BfXL-r2k.png";function YF({value:e,onApply:t,placeholder:n="요청 기간 선택",autoCloseOnComplete:i=!0}){var A;const[s,a]=j.useState({start:(e==null?void 0:e.start)??null,end:(e==null?void 0:e.end)??null}),[l,c]=j.useState(((A=e==null?void 0:e.start)==null?void 0:A.getFullYear())??new Date().getFullYear()),[h,f]=j.useState(!1),p=j.useMemo(()=>{const T=D=>`${D.getFullYear()}.${String(D.getMonth()+1).padStart(2,"0")}.${String(D.getDate()).padStart(2,"0")}`;return s.start&&s.end?`${T(s.start)} ~ ${T(s.end)}`:s.start?`${T(s.start)} ~`:""},[s]),y=new Date().getMonth(),_=j.useRef(null);j.useEffect(()=>{if(h&&_.current){const T=_.current.querySelectorAll(".month-box")[y];T&&T.scrollIntoView({block:"start"})}},[h]);const x=j.useRef(null);j.useEffect(()=>{const T=D=>{x.current&&!x.current.contains(D.target)&&f(!1)};return h&&document.addEventListener("click",T),()=>{document.removeEventListener("click",T)}},[h]),j.useEffect(()=>{const T=L=>L instanceof Date?new Date(L.getFullYear(),L.getMonth(),L.getDate()).getTime():null,D=(e==null?void 0:e.start)??null,O=(e==null?void 0:e.end)??null;(T(s.start)!==T(D)||T(s.end)!==T(O))&&(a({start:D,end:O}),c((D==null?void 0:D.getFullYear())??new Date().getFullYear()))},[e==null?void 0:e.start,e==null?void 0:e.end]);const E=T=>{if(!s.start||s.start&&s.end){a({start:T,end:null});return}if(s.start&&!s.end)if(T<s.start)a({start:T,end:null});else{const D={start:s.start,end:T};a(D),t==null||t(D),i&&f(!1)}};return v.jsxs(GF,{ref:x,children:[v.jsx(rq,{}),v.jsx(KF,{value:p,placeholder:n,readOnly:!0,onClick:()=>f(T=>!T)}),h&&v.jsxs(QF,{children:[v.jsxs(ZF,{children:[v.jsx(JF,{dir:"prev",onClick:()=>c(T=>T-1)}),v.jsx("span",{children:l}),v.jsx(tq,{dir:"next",onClick:()=>c(T=>T+1)})]}),v.jsx(eq,{children:["일","월","화","수","목","금","토"].map(T=>v.jsx("span",{children:T},T))}),v.jsx(XF,{children:v.jsx(nq,{ref:_,children:Array.from({length:12}).map((T,D)=>{const O=new Date(l,D,1),L=M=>new Date(M.getFullYear(),M.getMonth(),M.getDate()).getTime(),B=M=>M.getFullYear()===O.getFullYear()&&M.getMonth()===O.getMonth();return v.jsxs(iq,{className:"month-box",children:[v.jsx(sq,{children:String(D+1).padStart(2,"0")}),v.jsx(HF,{mode:"single",month:O,selected:void 0,onDayClick:E,showOutsideDays:!1,modifiers:{start:M=>!!s.start&&B(M)&&L(M)===L(s.start),end:M=>!!s.end&&B(M)&&L(M)===L(s.end),middle:M=>{if(!s.start||!s.end||!B(M))return!1;const Y=L(M),C=L(s.start),k=L(s.end);return Y>C&&Y<k},todayInMonth:M=>{const Y=new Date;return B(M)&&M.getFullYear()===Y.getFullYear()&&M.getMonth()===Y.getMonth()&&M.getDate()===Y.getDate()}},modifiersClassNames:{start:"sel-start",end:"sel-end",middle:"sel-mid",todayInMonth:"sel-today"}})]},D)})})})]})]})}const GF=H.div`
  position: relative;
  width: 215px;
  margin-right: 8px;
  font-family: 'Pretendard';
`,KF=H.input`
  width: 100%;
  padding: 11.5px 12px;
  border: 1px solid ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.gray02)||"#d0d5dd"}};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  cursor: pointer;

  &::placeholder {
    color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.black}};
  }
  
  &:focus {
    outline: none;
    border-color: ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.black)||"#111"}};
  }
`,XF=H.div`
  overflow-y: auto;
  max-height: 385px;

  /* ===== Firefox ===== */
  scrollbar-width: thin;
  scrollbar-color: ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.gray03)||"#c9ced6"}}
                    transparent;

  &::-webkit-scrollbar {
    width: 10px !important;
  }

  /* ===== WebKit (Chrome/Edge/Safari) ===== */
  &::-webkit-scrollbar-button {
    display: none !important;
    width: 0 !important;
    height: 0 !important;
    background: transparent !important;
    border: none !important;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.gray04)||"#aeb4be"}};
  }
`,QF=H.div`
  position: absolute;
  top: 60px;
  left: 0;
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 10px;
  z-index: 100;
  width: 380px;
  max-height: 480px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
`,ZF=H.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  height: 46px;
  font-weight: 700;
  font-size: 15px;
  background-color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.gray02}};
`,eI=H.button`
  width: 48px;
  height: 100%;
  background-image: url(${WF});
  background-repeat: no-repeat;
`,JF=H(eI)``,tq=H(eI)`
  background-position: -50px 0;  /* 오른쪽 프레임만 노출 */
`,eq=H.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  height: 46px;
  font-size: 12px;
  padding: 0 11px;
  border-bottom: 1px solid ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.gray03}};

  span {
    flex: 1;
    font-size: 15px;
    font-weight: 700;
    text-align: center;
    color: #757575;
  }
`,nq=H.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding-left: 12px;
`,iq=H.div`
  .rdp-months {
    width: 100%;

    table {
      width: 100%;
    }
  }

  .rdp-tbody {
    display: contents !important; /* table body 제거 */
  }

  .rdp-row {
    display: contents !important; /* tr 제거 */
  }

  .rdp-cell {
    display: flex !important;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
  }

  .rdp-day {
    font-size: 13px;
    line-height: 31px;
    border: none;
    text-align: center;
    cursor: pointer;

    & button {
      width: 100%;
      padding: 8px 0;
      font-family: 'Pretendard';
    }
  }

  /* ✅ 오늘 날짜 강조 */
  .sel-today {
    background-color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.black}};
    font-weight: 700;

    button {
      color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.white01}};
    }
  }

  /* ❶ 라이브러리 기본 range 클래스 전부 무력화 (혹시 붙어도 표시 안 되게) */
  .rdp-range_start,
  .rdp-range_middle,
  .rdp-range_end {
    background: none !important;
    color: inherit !important;
  }

  /* ❷ 우리가 지정한 커스텀 클래스만 색칠 */
  .sel-start,
  .sel-end,
  .sel-mid {
    background-color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.red}} !important;

    & button {
      color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.white01}};
    }
  }
`,sq=H.div`
  font-size: 16px;
  font-weight: 700;
  margin-top: 20px;
  padding-left: 15px;
  color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.black}};
`,rq=Kk`
  .rdp-month_caption, .rdp-weekday, .rdp-nav {
    display: none !important;
  }
`,Vc="진행 상태 선택",vh="요청자 선택",xh="디자이너 선택",wh="회사 선택",aq=new Set(["PushComz"].map(e=>e.toLowerCase())),Sb={start:null,end:null},oq=e=>e===3?"manager":e===2?"designer":"requester",lq={requester:[Vc,"대기","진행중","검수중","완료","취소"],manager:[Vc,"대기","진행중","검수중","검수요청","완료","취소"],designer:[Vc,"대기","진행중","검수요청","완료","취소"]},cq=(e,t)=>{if(e==="manager"){if(t==="검수중")return"검수요청";if(t==="검수요청")return"검수중"}return t};function uq({onApplyStatus:e,onApplyRange:t,isManager:n=!1,requesterOptions:i=[],onApplyRequester:s,designerOptions:a=[],companyOptions:l=[],onApplyCompany:c,onApplyDesigner:h,roleNumber:f}){const[p,y]=j.useState(Sb),[_,x]=j.useState(Vc),[E,A]=j.useState(vh),[T,D]=j.useState(xh),[O,L]=j.useState(wh),B=()=>{x(Vc),y(Sb),A(vh),D(xh),L(wh),e(Vc),t(Sb),s==null||s(vh),h==null||h(xh),c==null||c(wh)},M=oq(f),Y=lq[M];return v.jsxs(hq,{children:[v.jsx(YF,{value:p,onApply:C=>{y(C),t(C)}}),M!=="requester"&&v.jsxs(Op,{"aria-label":"회사 선택",value:O,onChange:C=>{const k=C.target.value;L(k),c==null||c(k)},children:[v.jsx("option",{value:wh,children:wh}),(l||[]).filter(C=>!!C&&!aq.has(String(C).toLowerCase())).map(C=>v.jsx("option",{value:C,children:C},C))]}),n&&v.jsxs(v.Fragment,{children:[v.jsxs(Op,{"aria-label":"요청자 선택",value:E,onChange:C=>{A(C.target.value),s==null||s(C.target.value)},children:[v.jsx("option",{value:vh,children:vh}),i.map(C=>v.jsx("option",{value:C,children:C},C))]}),v.jsxs(Op,{"aria-label":"디자이너 선택",value:T,onChange:C=>{const k=C.target.value;D(k),h==null||h(k)},children:[v.jsx("option",{value:xh,children:xh}),a.map(C=>v.jsx("option",{value:C,children:C},C))]})]}),v.jsx(Op,{value:_,onChange:C=>{const k=C.target.value,P=cq(M,k);x(k),e(P)},children:Y.map(C=>v.jsx("option",{value:C,children:C},C))}),v.jsx(fq,{type:"button",onClick:B,children:"필터 초기화"})]})}const hq=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
`,Op=H.select`
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;

  width: 150px;
  height: 48px;
  margin-right: 8px;
  padding: 0 12px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 400;
  color: ${({theme:e})=>e.colors.black};
  background-color: ${({theme:e})=>e.colors.white01};
  background-image: url(${hx});
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 16px 16px;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.black};
  }
`,fq=H.button`
  padding: 11.5px 10px;
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 400;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,dq="/pdms-test/assets/search-icon-g0O6fOpZ.svg";function pq({keyword:e,onKeywordChange:t,onSearch:n}){const i=s=>{t(s),n(s.trim())};return v.jsx(gq,{children:v.jsx(mq,{placeholder:"문서번호와 작업항목을 검색해 주세요.",value:e,onChange:s=>i(s.target.value),onKeyDown:s=>{s.key==="Escape"&&i("")}})})}const gq=H.div`
  position: relative;
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  padding: 11.5px 14.5px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;

  /* 🔍 아이콘: 버튼 제거하고 래퍼에 ::after로 표시 */
  &::after {
    content: "";
    position: absolute;
    right: 12px;
    top: 50%;
    display: block;
    width: 24px;
    height: 24px;
    background: url(${dq}) no-repeat center / contain;
    transform: translateY(-50%);
  }
`,mq=H.input`
  width: 458px;
  margin-right: 12px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;
`;function kf({onApplyStatus:e,onApplyRange:t,onSearch:n,keyword:i,onKeywordChange:s,isManager:a=!1,requesterOptions:l=[],onApplyRequester:c,designerOptions:h=[],companyOptions:f=[],onApplyCompany:p,onApplyDesigner:y,roleNumber:_}){return v.jsxs(yq,{children:[v.jsx(uq,{onApplyStatus:e,onApplyRange:t,isManager:a,requesterOptions:l,onApplyRequester:c,designerOptions:h,companyOptions:f,onApplyCompany:p,onApplyDesigner:y,roleNumber:_}),v.jsx(pq,{keyword:i,onKeywordChange:s,onSearch:n})]})}const yq=H.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  padding: 24px 0 30px;
`;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Jf(e){return e+.5|0}const Ya=(e,t,n)=>Math.max(Math.min(e,n),t);function Bh(e){return Ya(Jf(e*2.55),0,255)}function so(e){return Ya(Jf(e*255),0,255)}function Fr(e){return Ya(Jf(e/2.55)/100,0,1)}function oA(e){return Ya(Jf(e*100),0,100)}const ss={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},V0=[..."0123456789ABCDEF"],_q=e=>V0[e&15],bq=e=>V0[(e&240)>>4]+V0[e&15],Pp=e=>(e&240)>>4===(e&15),vq=e=>Pp(e.r)&&Pp(e.g)&&Pp(e.b)&&Pp(e.a);function xq(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&ss[e[1]]*17,g:255&ss[e[2]]*17,b:255&ss[e[3]]*17,a:t===5?ss[e[4]]*17:255}:(t===7||t===9)&&(n={r:ss[e[1]]<<4|ss[e[2]],g:ss[e[3]]<<4|ss[e[4]],b:ss[e[5]]<<4|ss[e[6]],a:t===9?ss[e[7]]<<4|ss[e[8]]:255})),n}const wq=(e,t)=>e<255?t(e):"";function Eq(e){var t=vq(e)?_q:bq;return e?"#"+t(e.r)+t(e.g)+t(e.b)+wq(e.a,t):void 0}const Sq=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function nI(e,t,n){const i=t*Math.min(n,1-n),s=(a,l=(a+e/30)%12)=>n-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function Tq(e,t,n){const i=(s,a=(s+e/60)%6)=>n-n*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function Aq(e,t,n){const i=nI(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function Rq(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function px(e){const n=e.r/255,i=e.g/255,s=e.b/255,a=Math.max(n,i,s),l=Math.min(n,i,s),c=(a+l)/2;let h,f,p;return a!==l&&(p=a-l,f=c>.5?p/(2-a-l):p/(a+l),h=Rq(n,i,s,p,a),h=h*60+.5),[h|0,f||0,c]}function gx(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(so)}function mx(e,t,n){return gx(nI,e,t,n)}function kq(e,t,n){return gx(Aq,e,t,n)}function Cq(e,t,n){return gx(Tq,e,t,n)}function iI(e){return(e%360+360)%360}function Dq(e){const t=Sq.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Bh(+t[5]):so(+t[5]));const s=iI(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=kq(s,a,l):t[1]==="hsv"?i=Cq(s,a,l):i=mx(s,a,l),{r:i[0],g:i[1],b:i[2],a:n}}function Mq(e,t){var n=px(e);n[0]=iI(n[0]+t),n=mx(n),e.r=n[0],e.g=n[1],e.b=n[2]}function Iq(e){if(!e)return;const t=px(e),n=t[0],i=oA(t[1]),s=oA(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${Fr(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const lA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},cA={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Oq(){const e={},t=Object.keys(cA),n=Object.keys(lA);let i,s,a,l,c;for(i=0;i<t.length;i++){for(l=c=t[i],s=0;s<n.length;s++)a=n[s],c=c.replace(a,lA[a]);a=parseInt(cA[l],16),e[c]=[a>>16&255,a>>8&255,a&255]}return e}let Np;function Pq(e){Np||(Np=Oq(),Np.transparent=[0,0,0,0]);const t=Np[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Nq=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Lq(e){const t=Nq.exec(e);let n=255,i,s,a;if(t){if(t[7]!==i){const l=+t[7];n=t[8]?Bh(l):Ya(l*255,0,255)}return i=+t[1],s=+t[3],a=+t[5],i=255&(t[2]?Bh(i):Ya(i,0,255)),s=255&(t[4]?Bh(s):Ya(s,0,255)),a=255&(t[6]?Bh(a):Ya(a,0,255)),{r:i,g:s,b:a,a:n}}}function Vq(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Fr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Tb=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,wc=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function jq(e,t,n){const i=wc(Fr(e.r)),s=wc(Fr(e.g)),a=wc(Fr(e.b));return{r:so(Tb(i+n*(wc(Fr(t.r))-i))),g:so(Tb(s+n*(wc(Fr(t.g))-s))),b:so(Tb(a+n*(wc(Fr(t.b))-a))),a:e.a+n*(t.a-e.a)}}function Lp(e,t,n){if(e){let i=px(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=mx(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function sI(e,t){return e&&Object.assign(t||{},e)}function uA(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=so(e[3]))):(t=sI(e,{r:0,g:0,b:0,a:1}),t.a=so(t.a)),t}function Uq(e){return e.charAt(0)==="r"?Lq(e):Dq(e)}class Cf{constructor(t){if(t instanceof Cf)return t;const n=typeof t;let i;n==="object"?i=uA(t):n==="string"&&(i=xq(t)||Pq(t)||Uq(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=sI(this._rgb);return t&&(t.a=Fr(t.a)),t}set rgb(t){this._rgb=uA(t)}rgbString(){return this._valid?Vq(this._rgb):void 0}hexString(){return this._valid?Eq(this._rgb):void 0}hslString(){return this._valid?Iq(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let a;const l=n===a?.5:n,c=2*l-1,h=i.a-s.a,f=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;a=1-f,i.r=255&f*i.r+a*s.r+.5,i.g=255&f*i.g+a*s.g+.5,i.b=255&f*i.b+a*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=jq(this._rgb,t._rgb,n)),this}clone(){return new Cf(this.rgb)}alpha(t){return this._rgb.a=so(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Jf(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Lp(this._rgb,2,t),this}darken(t){return Lp(this._rgb,2,-t),this}saturate(t){return Lp(this._rgb,1,t),this}desaturate(t){return Lp(this._rgb,1,-t),this}rotate(t){return Mq(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function jr(){}const zq=(()=>{let e=0;return()=>e++})();function Yt(e){return e==null}function Le(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ee(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Ze(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ji(e,t){return Ze(e)?e:t}function Ft(e,t){return typeof e>"u"?t:e}const Bq=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,rI=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function ke(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function be(e,t,n,i){let s,a,l;if(Le(e))for(a=e.length,s=0;s<a;s++)t.call(n,e[s],s);else if(ee(e))for(l=Object.keys(e),a=l.length,s=0;s<a;s++)t.call(n,e[l[s]],l[s])}function tm(e,t){let n,i,s,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],a=t[n],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function em(e){if(Le(e))return e.map(em);if(ee(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=em(e[n[s]]);return t}return e}function aI(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Fq(e,t,n,i){if(!aI(e))return;const s=t[e],a=n[e];ee(s)&&ee(a)?ar(s,a,i):t[e]=em(a)}function ar(e,t,n){const i=Le(t)?t:[t],s=i.length;if(!ee(e))return e;n=n||{};const a=n.merger||Fq;let l;for(let c=0;c<s;++c){if(l=i[c],!ee(l))continue;const h=Object.keys(l);for(let f=0,p=h.length;f<p;++f)a(h[f],e,l,n)}return e}function Jh(e,t){return ar(e,t,{merger:qq})}function qq(e,t,n){if(!aI(e))return;const i=t[e],s=n[e];ee(i)&&ee(s)?Jh(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=em(s))}const hA={"":e=>e,x:e=>e.x,y:e=>e.y};function $q(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function Hq(e){const t=$q(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function fo(e,t){return(hA[t]||(hA[t]=Hq(t)))(e)}function yx(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Df=e=>typeof e<"u",po=e=>typeof e=="function",fA=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function Wq(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const de=Math.PI,Ve=2*de,Yq=Ve+de,nm=Number.POSITIVE_INFINITY,Gq=de/180,sn=de/2,Xo=de/4,dA=de*2/3,Ga=Math.log10,ir=Math.sign;function tf(e,t,n){return Math.abs(e-t)<n}function pA(e){const t=Math.round(e);e=tf(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Ga(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Kq(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,a)=>s-a).pop(),t}function Xq(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Jc(e){return!Xq(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Qq(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function oI(e,t,n){let i,s,a;for(i=0,s=e.length;i<s;i++)a=e[i][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function bs(e){return e*(de/180)}function _x(e){return e*(180/de)}function gA(e){if(!Ze(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function lI(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*de&&(a+=Ve),{angle:a,distance:s}}function j0(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Zq(e,t){return(e-t+Yq)%Ve-de}function ci(e){return(e%Ve+Ve)%Ve}function Mf(e,t,n,i){const s=ci(e),a=ci(t),l=ci(n),c=ci(a-s),h=ci(l-s),f=ci(s-a),p=ci(s-l);return s===a||s===l||i&&a===l||c>h&&f<p}function zn(e,t,n){return Math.max(t,Math.min(n,e))}function Jq(e){return zn(e,-32768,32767)}function Yr(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function bx(e,t,n){n=n||(l=>e[l]<t);let i=e.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,n(a)?s=a:i=a;return{lo:s,hi:i}}const Gr=(e,t,n,i)=>bx(e,n,i?s=>{const a=e[s][t];return a<n||a===n&&e[s+1][t]===n}:s=>e[s][t]<n),t8=(e,t,n)=>bx(e,n,i=>e[i][t]>=n);function e8(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const cI=["push","pop","shift","splice","unshift"];function n8(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),cI.forEach(n=>{const i="_onData"+yx(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return e._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...a)}),l}})})}function mA(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(cI.forEach(a=>{delete e[a]}),delete e._chartjs)}function uI(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const hI=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function fI(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,hI.call(window,()=>{i=!1,e.apply(t,n)}))}}function i8(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const vx=e=>e==="start"?"left":e==="end"?"right":"center",ai=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,s8=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function dI(e,t,n){const i=t.length;let s=0,a=i;if(e._sorted){const{iScale:l,vScale:c,_parsed:h}=e,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,p=l.axis,{min:y,max:_,minDefined:x,maxDefined:E}=l.getUserBounds();if(x){if(s=Math.min(Gr(h,p,y).lo,n?i:Gr(t,p,l.getPixelForValue(y)).lo),f){const A=h.slice(0,s+1).reverse().findIndex(T=>!Yt(T[c.axis]));s-=Math.max(0,A)}s=zn(s,0,i-1)}if(E){let A=Math.max(Gr(h,l.axis,_,!0).hi+1,n?0:Gr(t,p,l.getPixelForValue(_),!0).hi+1);if(f){const T=h.slice(A-1).findIndex(D=>!Yt(D[c.axis]));A+=Math.max(0,T)}a=zn(A,s,i)-s}else a=i-s}return{start:s,count:a}}function pI(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),a}const Vp=e=>e===0||e===1,yA=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ve/n)),_A=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ve/n)+1,ef={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*sn)+1,easeOutSine:e=>Math.sin(e*sn),easeInOutSine:e=>-.5*(Math.cos(de*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Vp(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Vp(e)?e:yA(e,.075,.3),easeOutElastic:e=>Vp(e)?e:_A(e,.075,.3),easeInOutElastic(e){return Vp(e)?e:e<.5?.5*yA(e*2,.1125,.45):.5+.5*_A(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-ef.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?ef.easeInBounce(e*2)*.5:ef.easeOutBounce(e*2-1)*.5+.5};function xx(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function bA(e){return xx(e)?e:new Cf(e)}function Ab(e){return xx(e)?e:new Cf(e).saturate(.5).darken(.1).hexString()}const r8=["x","y","borderWidth","radius","tension"],a8=["color","borderColor","backgroundColor"];function o8(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:a8},numbers:{type:"number",properties:r8}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function l8(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const vA=new Map;function c8(e,t){t=t||{};const n=e+JSON.stringify(t);let i=vA.get(n);return i||(i=new Intl.NumberFormat(e,t),vA.set(n,i)),i}function td(e,t,n){return c8(t,n).format(e)}const gI={values(e){return Le(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,a=e;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),a=u8(e,n)}const l=Ga(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),td(e,i,h)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(Ga(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?gI.numeric.call(this,e,t,n):""}};function u8(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var $m={formatters:gI};function h8(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$m.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const wl=Object.create(null),U0=Object.create(null);function nf(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const a=n[i];e=e[a]||(e[a]=Object.create(null))}return e}function Rb(e,t,n){return typeof t=="string"?ar(nf(e,t),n):ar(nf(e,""),t)}class f8{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Ab(s.backgroundColor),this.hoverBorderColor=(i,s)=>Ab(s.borderColor),this.hoverColor=(i,s)=>Ab(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Rb(this,t,n)}get(t){return nf(this,t)}describe(t,n){return Rb(U0,t,n)}override(t,n){return Rb(wl,t,n)}route(t,n,i,s){const a=nf(this,t),l=nf(this,i),c="_"+n;Object.defineProperties(a,{[c]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[c],f=l[s];return ee(h)?Object.assign({},f,h):Ft(h,f)},set(h){this[c]=h}}})}apply(t){t.forEach(n=>n(this))}}var je=new f8({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[o8,l8,h8]);function d8(e){return!e||Yt(e.size)||Yt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function im(e,t,n,i,s){let a=t[s];return a||(a=t[s]=e.measureText(s).width,n.push(s)),a>i&&(i=a),i}function p8(e,t,n,i){i=i||{};let s=i.data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},a=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let l=0;const c=n.length;let h,f,p,y,_;for(h=0;h<c;h++)if(y=n[h],y!=null&&!Le(y))l=im(e,s,a,l,y);else if(Le(y))for(f=0,p=y.length;f<p;f++)_=y[f],_!=null&&!Le(_)&&(l=im(e,s,a,l,_));e.restore();const x=a.length/2;if(x>n.length){for(h=0;h<x;h++)delete s[a[h]];a.splice(0,x)}return l}function Qo(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function xA(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function z0(e,t,n,i){mI(e,t,n,i,null)}function mI(e,t,n,i,s){let a,l,c,h,f,p,y,_;const x=t.pointStyle,E=t.rotation,A=t.radius;let T=(E||0)*Gq;if(x&&typeof x=="object"&&(a=x.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(T),e.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),e.restore();return}if(!(isNaN(A)||A<=0)){switch(e.beginPath(),x){default:s?e.ellipse(n,i,s/2,A,0,0,Ve):e.arc(n,i,A,0,Ve),e.closePath();break;case"triangle":p=s?s/2:A,e.moveTo(n+Math.sin(T)*p,i-Math.cos(T)*A),T+=dA,e.lineTo(n+Math.sin(T)*p,i-Math.cos(T)*A),T+=dA,e.lineTo(n+Math.sin(T)*p,i-Math.cos(T)*A),e.closePath();break;case"rectRounded":f=A*.516,h=A-f,l=Math.cos(T+Xo)*h,y=Math.cos(T+Xo)*(s?s/2-f:h),c=Math.sin(T+Xo)*h,_=Math.sin(T+Xo)*(s?s/2-f:h),e.arc(n-y,i-c,f,T-de,T-sn),e.arc(n+_,i-l,f,T-sn,T),e.arc(n+y,i+c,f,T,T+sn),e.arc(n-_,i+l,f,T+sn,T+de),e.closePath();break;case"rect":if(!E){h=Math.SQRT1_2*A,p=s?s/2:h,e.rect(n-p,i-h,2*p,2*h);break}T+=Xo;case"rectRot":y=Math.cos(T)*(s?s/2:A),l=Math.cos(T)*A,c=Math.sin(T)*A,_=Math.sin(T)*(s?s/2:A),e.moveTo(n-y,i-c),e.lineTo(n+_,i-l),e.lineTo(n+y,i+c),e.lineTo(n-_,i+l),e.closePath();break;case"crossRot":T+=Xo;case"cross":y=Math.cos(T)*(s?s/2:A),l=Math.cos(T)*A,c=Math.sin(T)*A,_=Math.sin(T)*(s?s/2:A),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"star":y=Math.cos(T)*(s?s/2:A),l=Math.cos(T)*A,c=Math.sin(T)*A,_=Math.sin(T)*(s?s/2:A),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l),T+=Xo,y=Math.cos(T)*(s?s/2:A),l=Math.cos(T)*A,c=Math.sin(T)*A,_=Math.sin(T)*(s?s/2:A),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"line":l=s?s/2:Math.cos(T)*A,c=Math.sin(T)*A,e.moveTo(n-l,i-c),e.lineTo(n+l,i+c);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(T)*(s?s/2:A),i+Math.sin(T)*A);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Kr(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Hm(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Wm(e){e.restore()}function g8(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const a=(t.x+n.x)/2;e.lineTo(a,t.y),e.lineTo(a,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function m8(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function y8(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Yt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function _8(e,t,n,i,s){if(s.strikethrough||s.underline){const a=e.measureText(i),l=t-a.actualBoundingBoxLeft,c=t+a.actualBoundingBoxRight,h=n-a.actualBoundingBoxAscent,f=n+a.actualBoundingBoxDescent,p=s.strikethrough?(h+f)/2:f;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(l,p),e.lineTo(c,p),e.stroke()}}function b8(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function El(e,t,n,i,s,a={}){const l=Le(t)?t:[t],c=a.strokeWidth>0&&a.strokeColor!=="";let h,f;for(e.save(),e.font=s.string,y8(e,a),h=0;h<l.length;++h)f=l[h],a.backdrop&&b8(e,a.backdrop),c&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),Yt(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(f,n,i,a.maxWidth)),e.fillText(f,n,i,a.maxWidth),_8(e,n,i,f,a),i+=Number(s.lineHeight);e.restore()}function If(e,t){const{x:n,y:i,w:s,h:a,radius:l}=t;e.arc(n+l.topLeft,i+l.topLeft,l.topLeft,1.5*de,de,!0),e.lineTo(n,i+a-l.bottomLeft),e.arc(n+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,de,sn,!0),e.lineTo(n+s-l.bottomRight,i+a),e.arc(n+s-l.bottomRight,i+a-l.bottomRight,l.bottomRight,sn,0,!0),e.lineTo(n+s,i+l.topRight),e.arc(n+s-l.topRight,i+l.topRight,l.topRight,0,-sn,!0),e.lineTo(n+l.topLeft,i)}const v8=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,x8=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function w8(e,t){const n=(""+e).match(v8);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const E8=e=>+e||0;function wx(e,t){const n={},i=ee(t),s=i?Object.keys(t):t,a=ee(e)?i?l=>Ft(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of s)n[l]=E8(a(l));return n}function yI(e){return wx(e,{top:"y",right:"x",bottom:"y",left:"x"})}function fl(e){return wx(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ti(e){const t=yI(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function _n(e,t){e=e||{},t=t||je.font;let n=Ft(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=Ft(e.style,t.style);i&&!(""+i).match(x8)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Ft(e.family,t.family),lineHeight:w8(Ft(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:Ft(e.weight,t.weight),string:""};return s.string=d8(s),s}function Ne(e,t,n,i){let s,a,l;for(s=0,a=e.length;s<a;++s)if(l=e[s],l!==void 0&&(t!==void 0&&typeof l=="function"&&(l=l(t)),n!==void 0&&Le(l)&&(l=l[n%l.length]),l!==void 0))return l}function S8(e,t,n){const{min:i,max:s}=e,a=rI(t,(s-i)/2),l=(c,h)=>n&&c===0?0:c+h;return{min:l(i,-Math.abs(a)),max:l(s,a)}}function bo(e,t){return Object.assign(Object.create(e),t)}function Ex(e,t=[""],n,i,s=()=>e[0]){const a=n||e;typeof i>"u"&&(i=xI("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:i,_getTarget:s,override:c=>Ex([c,...e],t,a,i)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete e[0][h],!0},get(c,h){return bI(c,h,()=>I8(h,t,e,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(c,h){return EA(c).includes(h)},ownKeys(c){return EA(c)},set(c,h,f){const p=c._storage||(c._storage=s());return c[h]=p[h]=f,delete c._keys,!0}})}function tu(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:_I(e,i),setContext:a=>tu(e,a,n,i),override:a=>tu(e.override(a),t,n,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete e[l],!0},get(a,l,c){return bI(a,l,()=>A8(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(a,l,c){return e[l]=c,delete a[l],!0}})}function _I(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:po(n)?n:()=>n,isIndexable:po(i)?i:()=>i}}const T8=(e,t)=>e?e+yx(t):t,Sx=(e,t)=>ee(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function bI(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function A8(e,t,n){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=e;let c=i[t];return po(c)&&l.isScriptable(t)&&(c=R8(t,c,e,n)),Le(c)&&c.length&&(c=k8(t,c,e,l.isIndexable)),Sx(t,c)&&(c=tu(c,s,a&&a[t],l)),c}function R8(e,t,n,i){const{_proxy:s,_context:a,_subProxy:l,_stack:c}=n;if(c.has(e))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+e);c.add(e);let h=t(a,l||i);return c.delete(e),Sx(e,h)&&(h=Tx(s._scopes,s,e,h)),h}function k8(e,t,n,i){const{_proxy:s,_context:a,_subProxy:l,_descriptors:c}=n;if(typeof a.index<"u"&&i(e))return t[a.index%t.length];if(ee(t[0])){const h=t,f=s._scopes.filter(p=>p!==h);t=[];for(const p of h){const y=Tx(f,s,e,p);t.push(tu(y,a,l&&l[e],c))}}return t}function vI(e,t,n){return po(e)?e(t,n):e}const C8=(e,t)=>e===!0?t:typeof e=="string"?fo(t,e):void 0;function D8(e,t,n,i,s){for(const a of t){const l=C8(n,a);if(l){e.add(l);const c=vI(l._fallback,n,s);if(typeof c<"u"&&c!==n&&c!==i)return c}else if(l===!1&&typeof i<"u"&&n!==i)return null}return!1}function Tx(e,t,n,i){const s=t._rootScopes,a=vI(t._fallback,n,i),l=[...e,...s],c=new Set;c.add(i);let h=wA(c,l,n,a||n,i);return h===null||typeof a<"u"&&a!==n&&(h=wA(c,l,a,h,i),h===null)?!1:Ex(Array.from(c),[""],s,a,()=>M8(t,n,i))}function wA(e,t,n,i,s){for(;n;)n=D8(e,t,n,i,s);return n}function M8(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return Le(s)&&ee(n)?n:s||{}}function I8(e,t,n,i){let s;for(const a of t)if(s=xI(T8(a,e),n),typeof s<"u")return Sx(e,s)?Tx(n,i,e,s):s}function xI(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function EA(e){let t=e._keys;return t||(t=e._keys=O8(e._scopes)),t}function O8(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function wI(e,t,n,i){const{iScale:s}=e,{key:a="r"}=this._parsing,l=new Array(i);let c,h,f,p;for(c=0,h=i;c<h;++c)f=c+n,p=t[f],l[c]={r:s.parse(fo(p,a),f)};return l}const P8=Number.EPSILON||1e-14,eu=(e,t)=>t<e.length&&!e[t].skip&&e[t],EI=e=>e==="x"?"y":"x";function N8(e,t,n,i){const s=e.skip?t:e,a=t,l=n.skip?t:n,c=j0(a,s),h=j0(l,a);let f=c/(c+h),p=h/(c+h);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const y=i*f,_=i*p;return{previous:{x:a.x-y*(l.x-s.x),y:a.y-y*(l.y-s.y)},next:{x:a.x+_*(l.x-s.x),y:a.y+_*(l.y-s.y)}}}function L8(e,t,n){const i=e.length;let s,a,l,c,h,f=eu(e,0);for(let p=0;p<i-1;++p)if(h=f,f=eu(e,p+1),!(!h||!f)){if(tf(t[p],0,P8)){n[p]=n[p+1]=0;continue}s=n[p]/t[p],a=n[p+1]/t[p],c=Math.pow(s,2)+Math.pow(a,2),!(c<=9)&&(l=3/Math.sqrt(c),n[p]=s*l*t[p],n[p+1]=a*l*t[p])}}function V8(e,t,n="x"){const i=EI(n),s=e.length;let a,l,c,h=eu(e,0);for(let f=0;f<s;++f){if(l=c,c=h,h=eu(e,f+1),!c)continue;const p=c[n],y=c[i];l&&(a=(p-l[n])/3,c[`cp1${n}`]=p-a,c[`cp1${i}`]=y-a*t[f]),h&&(a=(h[n]-p)/3,c[`cp2${n}`]=p+a,c[`cp2${i}`]=y+a*t[f])}}function j8(e,t="x"){const n=EI(t),i=e.length,s=Array(i).fill(0),a=Array(i);let l,c,h,f=eu(e,0);for(l=0;l<i;++l)if(c=h,h=f,f=eu(e,l+1),!!h){if(f){const p=f[t]-h[t];s[l]=p!==0?(f[n]-h[n])/p:0}a[l]=c?f?ir(s[l-1])!==ir(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}L8(e,s,a),V8(e,a,t)}function jp(e,t,n){return Math.max(Math.min(e,n),t)}function U8(e,t){let n,i,s,a,l,c=Kr(e[0],t);for(n=0,i=e.length;n<i;++n)l=a,a=c,c=n<i-1&&Kr(e[n+1],t),a&&(s=e[n],l&&(s.cp1x=jp(s.cp1x,t.left,t.right),s.cp1y=jp(s.cp1y,t.top,t.bottom)),c&&(s.cp2x=jp(s.cp2x,t.left,t.right),s.cp2y=jp(s.cp2y,t.top,t.bottom)))}function z8(e,t,n,i,s){let a,l,c,h;if(t.spanGaps&&(e=e.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")j8(e,s);else{let f=i?e[e.length-1]:e[0];for(a=0,l=e.length;a<l;++a)c=e[a],h=N8(f,c,e[Math.min(a+1,l-(i?0:1))%l],t.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,f=c}t.capBezierPoints&&U8(e,n)}function Ax(){return typeof window<"u"&&typeof document<"u"}function Rx(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function sm(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const Ym=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function B8(e,t){return Ym(e).getPropertyValue(t)}const F8=["top","right","bottom","left"];function dl(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const a=F8[s];i[a]=parseFloat(e[t+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const q8=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function $8(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:a}=i;let l=!1,c,h;if(q8(s,a,e.target))c=s,h=a;else{const f=t.getBoundingClientRect();c=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:c,y:h,box:l}}function il(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=Ym(n),a=s.boxSizing==="border-box",l=dl(s,"padding"),c=dl(s,"border","width"),{x:h,y:f,box:p}=$8(e,n),y=l.left+(p&&c.left),_=l.top+(p&&c.top);let{width:x,height:E}=t;return a&&(x-=l.width+c.width,E-=l.height+c.height),{x:Math.round((h-y)/x*n.width/i),y:Math.round((f-_)/E*n.height/i)}}function H8(e,t,n){let i,s;if(t===void 0||n===void 0){const a=e&&Rx(e);if(!a)t=e.clientWidth,n=e.clientHeight;else{const l=a.getBoundingClientRect(),c=Ym(a),h=dl(c,"border","width"),f=dl(c,"padding");t=l.width-f.width-h.width,n=l.height-f.height-h.height,i=sm(c.maxWidth,a,"clientWidth"),s=sm(c.maxHeight,a,"clientHeight")}}return{width:t,height:n,maxWidth:i||nm,maxHeight:s||nm}}const Up=e=>Math.round(e*10)/10;function W8(e,t,n,i){const s=Ym(e),a=dl(s,"margin"),l=sm(s.maxWidth,e,"clientWidth")||nm,c=sm(s.maxHeight,e,"clientHeight")||nm,h=H8(e,t,n);let{width:f,height:p}=h;if(s.boxSizing==="content-box"){const _=dl(s,"border","width"),x=dl(s,"padding");f-=x.width+_.width,p-=x.height+_.height}return f=Math.max(0,f-a.width),p=Math.max(0,i?f/i:p-a.height),f=Up(Math.min(f,l,h.maxWidth)),p=Up(Math.min(p,c,h.maxHeight)),f&&!p&&(p=Up(f/2)),(t!==void 0||n!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,f=Up(Math.floor(p*i))),{width:f,height:p}}function SA(e,t,n){const i=t||1,s=Math.floor(e.height*i),a=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||l.height!==s||l.width!==a?(e.currentDevicePixelRatio=i,l.height=s,l.width=a,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Y8=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Ax()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function TA(e,t){const n=B8(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function sl(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function G8(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function K8(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},l=sl(e,s,n),c=sl(s,a,n),h=sl(a,t,n),f=sl(l,c,n),p=sl(c,h,n);return sl(f,p,n)}const X8=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},Q8=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function jc(e,t,n){return e?X8(t,n):Q8()}function SI(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function TI(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function AI(e){return e==="angle"?{between:Mf,compare:Zq,normalize:ci}:{between:Yr,compare:(t,n)=>t-n,normalize:t=>t}}function AA({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function Z8(e,t,n){const{property:i,start:s,end:a}=n,{between:l,normalize:c}=AI(i),h=t.length;let{start:f,end:p,loop:y}=e,_,x;if(y){for(f+=h,p+=h,_=0,x=h;_<x&&l(c(t[f%h][i]),s,a);++_)f--,p--;f%=h,p%=h}return p<f&&(p+=h),{start:f,end:p,loop:y,style:e.style}}function RI(e,t,n){if(!n)return[e];const{property:i,start:s,end:a}=n,l=t.length,{compare:c,between:h,normalize:f}=AI(i),{start:p,end:y,loop:_,style:x}=Z8(e,t,n),E=[];let A=!1,T=null,D,O,L;const B=()=>h(s,L,D)&&c(s,L)!==0,M=()=>c(a,D)===0||h(a,L,D),Y=()=>A||B(),C=()=>!A||M();for(let k=p,P=p;k<=y;++k)O=t[k%l],!O.skip&&(D=f(O[i]),D!==L&&(A=h(D,s,a),T===null&&Y()&&(T=c(D,s)===0?k:P),T!==null&&C()&&(E.push(AA({start:T,end:k,loop:_,count:l,style:x})),T=null),P=k,L=D));return T!==null&&E.push(AA({start:T,end:y,loop:_,count:l,style:x})),E}function kI(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const a=RI(i[s],e.points,t);a.length&&n.push(...a)}return n}function J8(e,t,n,i){let s=0,a=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(a+=s);a>s&&e[a%t].skip;)a--;return a%=t,{start:s,end:a}}function t$(e,t,n,i){const s=e.length,a=[];let l=t,c=e[t],h;for(h=t+1;h<=n;++h){const f=e[h%s];f.skip||f.stop?c.skip||(i=!1,a.push({start:t%s,end:(h-1)%s,loop:i}),t=l=f.stop?h:null):(l=h,c.skip&&(t=h)),c=f}return l!==null&&a.push({start:t%s,end:l%s,loop:i}),a}function e$(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const a=!!e._loop,{start:l,end:c}=J8(n,s,a,i);if(i===!0)return RA(e,[{start:l,end:c,loop:a}],n,t);const h=c<l?c+s:c,f=!!e._fullLoop&&l===0&&c===s-1;return RA(e,t$(n,l,h,f),n,t)}function RA(e,t,n,i){return!i||!i.setContext||!n?t:n$(e,t,n,i)}function n$(e,t,n,i){const s=e._chart.getContext(),a=kA(e.options),{_datasetIndex:l,options:{spanGaps:c}}=e,h=n.length,f=[];let p=a,y=t[0].start,_=y;function x(E,A,T,D){const O=c?-1:1;if(E!==A){for(E+=h;n[E%h].skip;)E-=O;for(;n[A%h].skip;)A+=O;E%h!==A%h&&(f.push({start:E%h,end:A%h,loop:T,style:D}),p=D,y=A%h)}}for(const E of t){y=c?y:E.start;let A=n[y%h],T;for(_=y+1;_<=E.end;_++){const D=n[_%h];T=kA(i.setContext(bo(s,{type:"segment",p0:A,p1:D,p0DataIndex:(_-1)%h,p1DataIndex:_%h,datasetIndex:l}))),i$(T,p)&&x(y,_-1,E.loop,p),A=D,p=T}y<_-1&&x(y,_-1,E.loop,p)}return f}function kA(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function i$(e,t){if(!t)return!1;const n=[],i=function(s,a){return xx(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(e,i)!==JSON.stringify(t,i)}function zp(e,t,n){return e.options.clip?e[n]:t[n]}function s$(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:zp(n,t,"left"),right:zp(n,t,"right"),top:zp(i,t,"top"),bottom:zp(i,t,"bottom")}:t}function CI(e,t){const n=t._clip;if(n.disabled)return!1;const i=s$(t,e.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class r${constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const a=n.listeners[s],l=n.duration;a.forEach(c=>c({chart:t,initial:n.initial,numSteps:l,currentStep:Math.min(i-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=hI.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,c=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),c=!0):(a[l]=a[a.length-1],a.pop());c&&(s.draw(),this._notify(s,i,t,"progress")),a.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=a.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ur=new r$;const CA="transparent",a$={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=bA(e||CA),s=i.valid&&bA(t||CA);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class o${constructor(t,n,i,s){const a=n[i];s=Ne([t.to,s,a,t.from]);const l=Ne([t.from,a,s]);this._active=!0,this._fn=t.fn||a$[t.type||typeof l],this._easing=ef[t.easing]||ef.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=Ne([t.to,n,s,t.from]),this._from=Ne([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,a=this._from,l=this._loop,c=this._to;let h;if(this._active=a!==c&&(l||n<i),!this._active){this._target[s]=c,this._notify(!0);return}if(n<0){this._target[s]=a;return}h=n/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(a,c,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class DI{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ee(t))return;const n=Object.keys(je.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const a=t[s];if(!ee(a))return;const l={};for(const c of n)l[c]=a[c];(Le(a.properties)&&a.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,l)})})}_animateOptions(t,n){const i=n.options,s=c$(t,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&l$(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,n){const i=this._properties,s=[],a=t.$animations||(t.$animations={}),l=Object.keys(n),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(t,n));continue}const p=n[f];let y=a[f];const _=i.get(f);if(y)if(_&&y.active()){y.update(_,p,c);continue}else y.cancel();if(!_||!_.duration){t[f]=p;continue}a[f]=y=new o$(_,t,f,p),s.push(y)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Ur.add(this._chart,i),!0}}function l$(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const a=e[i[s]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function c$(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function DA(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,a=n.max===void 0?t:0;return{start:i?a:s,end:i?s:a}}function u$(e,t,n){if(n===!1)return!1;const i=DA(e,n),s=DA(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function h$(e){let t,n,i,s;return ee(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function MI(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,a;for(s=0,a=i.length;s<a;++s)n.push(i[s].index);return n}function MA(e,t,n,i={}){const s=e.keys,a=i.mode==="single";let l,c,h,f;if(t===null)return;let p=!1;for(l=0,c=s.length;l<c;++l){if(h=+s[l],h===n){if(p=!0,i.all)continue;break}f=e.values[h],Ze(f)&&(a||t===0||ir(t)===ir(f))&&(t+=f)}return!p&&!i.all?0:t}function f$(e,t){const{iScale:n,vScale:i}=t,s=n.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(e),c=new Array(l.length);let h,f,p;for(h=0,f=l.length;h<f;++h)p=l[h],c[h]={[s]:p,[a]:e[p]};return c}function kb(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function d$(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function p$(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function g$(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function IA(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const a=e[s.index];if(n&&a>0||!n&&a<0)return s.index}return null}function OA(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:a,vScale:l,index:c}=i,h=a.axis,f=l.axis,p=d$(a,l,i),y=t.length;let _;for(let x=0;x<y;++x){const E=t[x],{[h]:A,[f]:T}=E,D=E._stacks||(E._stacks={});_=D[f]=g$(s,p,A),_[c]=T,_._top=IA(_,l,!0,i.type),_._bottom=IA(_,l,!1,i.type);const O=_._visualValues||(_._visualValues={});O[c]=T}}function Cb(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function m$(e,t){return bo(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function y$(e,t,n){return bo(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Eh(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const a=s._stacks;if(!a||a[i]===void 0||a[i][n]===void 0)return;delete a[i][n],a[i]._visualValues!==void 0&&a[i]._visualValues[n]!==void 0&&delete a[i]._visualValues[n]}}}const Db=e=>e==="reset"||e==="none",PA=(e,t)=>t?e:Object.assign({},e),_$=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:MI(n,!0),values:null};class ws{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=kb(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Eh(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(y,_,x,E)=>y==="x"?_:y==="r"?E:x,a=n.xAxisID=Ft(i.xAxisID,Cb(t,"x")),l=n.yAxisID=Ft(i.yAxisID,Cb(t,"y")),c=n.rAxisID=Ft(i.rAxisID,Cb(t,"r")),h=n.indexAxis,f=n.iAxisID=s(h,a,l,c),p=n.vAxisID=s(h,l,a,c);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&mA(this._data,this),t._stacked&&Eh(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(ee(n)){const s=this._cachedMeta;this._data=f$(n,s)}else if(i!==n){if(i){mA(i,this);const s=this._cachedMeta;Eh(s),s._parsed=[]}n&&Object.isExtensible(n)&&n8(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=n._stacked;n._stacked=kb(n.vScale,n),n.stack!==i.stack&&(s=!0,Eh(n),n.stack=i.stack),this._resyncElements(t),(s||a!==n._stacked)&&(OA(this,n._parsed),n._stacked=kb(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:l}=i,c=a.axis;let h=t===0&&n===s.length?!0:i._sorted,f=t>0&&i._parsed[t-1],p,y,_;if(this._parsing===!1)i._parsed=s,i._sorted=!0,_=s;else{Le(s[t])?_=this.parseArrayData(i,s,t,n):ee(s[t])?_=this.parseObjectData(i,s,t,n):_=this.parsePrimitiveData(i,s,t,n);const x=()=>y[c]===null||f&&y[c]<f[c];for(p=0;p<n;++p)i._parsed[p+t]=y=_[p],h&&(x()&&(h=!1),f=y);i._sorted=h}l&&OA(this,_)}parsePrimitiveData(t,n,i,s){const{iScale:a,vScale:l}=t,c=a.axis,h=l.axis,f=a.getLabels(),p=a===l,y=new Array(s);let _,x,E;for(_=0,x=s;_<x;++_)E=_+i,y[_]={[c]:p||a.parse(f[E],E),[h]:l.parse(n[E],E)};return y}parseArrayData(t,n,i,s){const{xScale:a,yScale:l}=t,c=new Array(s);let h,f,p,y;for(h=0,f=s;h<f;++h)p=h+i,y=n[p],c[h]={x:a.parse(y[0],p),y:l.parse(y[1],p)};return c}parseObjectData(t,n,i,s){const{xScale:a,yScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=new Array(s);let p,y,_,x;for(p=0,y=s;p<y;++p)_=p+i,x=n[_],f[p]={x:a.parse(fo(x,c),_),y:l.parse(fo(x,h),_)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,a=this._cachedMeta,l=n[t.axis],c={keys:MI(s,!0),values:n._stacks[t.axis]._visualValues};return MA(c,l,a.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const a=i[n.axis];let l=a===null?NaN:a;const c=s&&i._stacks[n.axis];s&&c&&(s.values=c,l=MA(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&t===i.iScale,l=s.length,c=this._getOtherScale(t),h=_$(n,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=p$(c);let _,x;function E(){x=s[_];const A=x[c.axis];return!Ze(x[t.axis])||p>A||y<A}for(_=0;_<l&&!(!E()&&(this.updateRangeFromParsed(f,t,x,h),a));++_);if(a){for(_=l-1;_>=0;--_)if(!E()){this.updateRangeFromParsed(f,t,x,h);break}}return f}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,a,l;for(s=0,a=n.length;s<a;++s)l=n[s][t.axis],Ze(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=h$(Ft(this.options.clip,u$(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],a=n.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||s.length-c,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,a,c,h),p=c;p<c+h;++p){const y=s[p];y.hidden||(y.active&&f?l.push(y):y.draw(t,a))}for(p=0;p<l.length;++p)l[p].draw(t,a)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=y$(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=m$(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",a=this._cachedDataOpts,l=t+"-"+n,c=a[l],h=this.enableOptionSharing&&Df(i);if(c)return PA(c,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),y=s?[`${t}Hover`,"hover",t,""]:[t,""],_=f.getOptionScopes(this.getDataset(),p),x=Object.keys(je.elements[t]),E=()=>this.getContext(i,s,n),A=f.resolveNamedOptions(_,x,E,y);return A.$shared&&(A.$shared=h,a[l]=Object.freeze(PA(A,h))),A}_resolveAnimations(t,n,i){const s=this.chart,a=this._cachedDataOpts,l=`animation-${n}`,c=a[l];if(c)return c;let h;if(s.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,n),_=p.getOptionScopes(this.getDataset(),y);h=p.createResolver(_,this.getContext(t,i,n))}const f=new DI(s,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Db(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(n,a)||a!==s;return this.updateSharedOptions(a,n,i),{sharedOptions:a,includeOptions:l}}updateElement(t,n,i,s){Db(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!Db(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const a=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[c,h,f]of this._syncList)this[c](h,f);this._syncList=[];const s=i.length,a=n.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,n,i=!0){const s=this._cachedMeta,a=s.data,l=t+n;let c;const h=f=>{for(f.length+=n,c=f.length-1;c>=l;c--)f[c]=f[c-n]};for(h(a),c=t;c<l;++c)a[c]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(t,n),i&&this.updateElements(a,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&Eh(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}wt(ws,"defaults",{}),wt(ws,"datasetElementType",null),wt(ws,"dataElementType",null);function b$(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,a=n.length;s<a;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=uI(i.sort((s,a)=>s-a))}return e._cache.$bar}function v$(e){const t=e.iScale,n=b$(t,e.type);let i=t._length,s,a,l,c;const h=()=>{l===32767||l===-32768||(Df(c)&&(i=Math.min(i,Math.abs(l-c)||i)),c=l)};for(s=0,a=n.length;s<a;++s)l=t.getPixelForValue(n[s]),h();for(c=void 0,s=0,a=t.ticks.length;s<a;++s)l=t.getPixelForTick(s),h();return i}function x$(e,t,n,i){const s=n.barThickness;let a,l;return Yt(s)?(a=t.min*n.categoryPercentage,l=n.barPercentage):(a=s*i,l=1),{chunk:a/i,ratio:l,start:t.pixels[e]-a/2}}function w$(e,t,n,i){const s=t.pixels,a=s[e];let l=e>0?s[e-1]:null,c=e<s.length-1?s[e+1]:null;const h=n.categoryPercentage;l===null&&(l=a-(c===null?t.end-t.start:c-a)),c===null&&(c=a+a-l);const f=a-(a-Math.min(l,c))/2*h;return{chunk:Math.abs(c-l)/2*h/i,ratio:n.barPercentage,start:f}}function E$(e,t,n,i){const s=n.parse(e[0],i),a=n.parse(e[1],i),l=Math.min(s,a),c=Math.max(s,a);let h=l,f=c;Math.abs(l)>Math.abs(c)&&(h=c,f=l),t[n.axis]=f,t._custom={barStart:h,barEnd:f,start:s,end:a,min:l,max:c}}function II(e,t,n,i){return Le(e)?E$(e,t,n,i):t[n.axis]=n.parse(e,i),t}function NA(e,t,n,i){const s=e.iScale,a=e.vScale,l=s.getLabels(),c=s===a,h=[];let f,p,y,_;for(f=n,p=n+i;f<p;++f)_=t[f],y={},y[s.axis]=c||s.parse(l[f],f),h.push(II(_,y,a,f));return h}function Mb(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function S$(e,t,n){return e!==0?ir(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function T$(e){let t,n,i,s,a;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",a="start"):(s="start",a="end"),{start:n,end:i,reverse:t,top:s,bottom:a}}function A$(e,t,n,i){let s=t.borderSkipped;const a={};if(!s){e.borderSkipped=a;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:h,top:f,bottom:p}=T$(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=f:(n._bottom||0)===i?s=p:(a[LA(p,l,c,h)]=!0,s=f)),a[LA(s,l,c,h)]=!0,e.borderSkipped=a}function LA(e,t,n,i){return i?(e=R$(e,t,n),e=VA(e,n,t)):e=VA(e,t,n),e}function R$(e,t,n){return e===t?n:e===n?t:e}function VA(e,t,n){return e==="start"?t:e==="end"?n:e}function k$(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Sg extends ws{parsePrimitiveData(t,n,i,s){return NA(t,n,i,s)}parseArrayData(t,n,i,s){return NA(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:a,vScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=a.axis==="x"?c:h,p=l.axis==="x"?c:h,y=[];let _,x,E,A;for(_=i,x=i+s;_<x;++_)A=n[_],E={},E[a.axis]=a.parse(fo(A,f),_),y.push(II(fo(A,p),E,l,_));return y}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const a=i._custom;a&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,a=this.getParsed(t),l=a._custom,c=Mb(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const a=s==="reset",{index:l,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),f=c.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:_}=this._getSharedOptions(n,s);for(let x=n;x<n+i;x++){const E=this.getParsed(x),A=a||Yt(E[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(x),T=this._calculateBarIndexPixels(x,p),D=(E._stacks||{})[c.axis],O={horizontal:f,base:A.base,enableBorderRadius:!D||Mb(E._custom)||l===D._top||l===D._bottom,x:f?A.head:T.center,y:f?T.center:A.head,height:f?T.size:Math.abs(A.size),width:f?Math.abs(A.size):T.size};_&&(O.options=y||this.resolveDataElementOptions(x,t[x].active?"active":s));const L=O.options||t[x].options;A$(O,L,D,l),k$(O,L,p.ratio),this.updateElement(t[x],x,O,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),a=i.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(n),h=c&&c[i.axis],f=p=>{const y=p._parsed.find(x=>x[i.axis]===h),_=y&&y[p.vScale.axis];if(Yt(_)||isNaN(_))return!0};for(const p of s)if(!(n!==void 0&&f(p))&&((a===!1||l.indexOf(p.stack)===-1||a===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Ft(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,i){const s=this._getStacks(t,i),a=n!==void 0?s.indexOf(n):-1;return a===-1?s.length-1:a}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let a,l;for(a=0,l=n.data.length;a<l;++a)s.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const c=t.barThickness;return{min:c||v$(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:a,minBarLength:l}}=this,c=a||0,h=this.getParsed(t),f=h._custom,p=Mb(f);let y=h[n.axis],_=0,x=i?this.applyStack(n,h,i):y,E,A;x!==y&&(_=x-y,x=y),p&&(y=f.barStart,x=f.barEnd-f.barStart,y!==0&&ir(y)!==ir(f.barEnd)&&(_=0),_+=y);const T=!Yt(a)&&!p?a:_;let D=n.getPixelForValue(T);if(this.chart.getDataVisibility(t)?E=n.getPixelForValue(_+x):E=D,A=E-D,Math.abs(A)<l){A=S$(A,n,c)*l,y===c&&(D-=A/2);const O=n.getPixelForDecimal(0),L=n.getPixelForDecimal(1),B=Math.min(O,L),M=Math.max(O,L);D=Math.max(Math.min(D,M),B),E=D+A,i&&!p&&(h._stacks[n.axis]._visualValues[s]=n.getValueForPixel(E)-n.getValueForPixel(D))}if(D===n.getPixelForValue(c)){const O=ir(A)*n.getLineWidthForValue(c)/2;D+=O,A-=O}return{size:A,base:D,head:E,center:E+A/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,a=s.skipNull,l=Ft(s.maxBarThickness,1/0);let c,h;const f=this._getAxisCount();if(n.grouped){const p=a?this._getStackCount(t):n.stackCount,y=s.barThickness==="flex"?w$(t,n,s,p*f):x$(t,n,s,p*f),_=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(Ft(_,this.getFirstScaleIdForIndexAxis())),E=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+x;c=y.start+y.chunk*E+y.chunk/2,h=Math.min(l,y.chunk*y.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(l,n.min*n.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let a=0;for(;a<s;++a)this.getParsed(a)[n.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}wt(Sg,"id","bar"),wt(Sg,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),wt(Sg,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Tg extends ws{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,s){const a=super.parsePrimitiveData(t,n,i,s);for(let l=0;l<a.length;l++)a[l]._custom=this.resolveDataElementOptions(l+i).radius;return a}parseArrayData(t,n,i,s){const a=super.parseArrayData(t,n,i,s);for(let l=0;l<a.length;l++){const c=n[i+l];a[l]._custom=Ft(c[2],this.resolveDataElementOptions(l+i).radius)}return a}parseObjectData(t,n,i,s){const a=super.parseObjectData(t,n,i,s);for(let l=0;l<a.length;l++){const c=n[i+l];a[l]._custom=Ft(c&&c.r&&+c.r,this.resolveDataElementOptions(l+i).radius)}return a}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:a}=n,l=this.getParsed(t),c=s.getLabelForValue(l.x),h=a.getLabelForValue(l.y),f=l._custom;return{label:i[t]||"",value:"("+c+", "+h+(f?", "+f:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,s){const a=s==="reset",{iScale:l,vScale:c}=this._cachedMeta,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,s),p=l.axis,y=c.axis;for(let _=n;_<n+i;_++){const x=t[_],E=!a&&this.getParsed(_),A={},T=A[p]=a?l.getPixelForDecimal(.5):l.getPixelForValue(E[p]),D=A[y]=a?c.getBasePixel():c.getPixelForValue(E[y]);A.skip=isNaN(T)||isNaN(D),f&&(A.options=h||this.resolveDataElementOptions(_,x.active?"active":s),a&&(A.options.radius=0)),this.updateElement(x,_,A,s)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const a=s.radius;return n!=="active"&&(s.radius=0),s.radius+=Ft(i&&i._custom,a),s}}wt(Tg,"id","bubble"),wt(Tg,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),wt(Tg,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function C$(e,t,n){let i=1,s=1,a=0,l=0;if(t<Ve){const c=e,h=c+t,f=Math.cos(c),p=Math.sin(c),y=Math.cos(h),_=Math.sin(h),x=(L,B,M)=>Mf(L,c,h,!0)?1:Math.max(B,B*n,M,M*n),E=(L,B,M)=>Mf(L,c,h,!0)?-1:Math.min(B,B*n,M,M*n),A=x(0,f,y),T=x(sn,p,_),D=E(de,f,y),O=E(de+sn,p,_);i=(A-D)/2,s=(T-O)/2,a=-(A+D)/2,l=-(T+O)/2}return{ratioX:i,ratioY:s,offsetX:a,offsetY:l}}class ll extends ws{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let a=h=>+i[h];if(ee(i[t])){const{key:h="value"}=this._parsing;a=f=>+fo(i[f],h)}let l,c;for(l=t,c=t+n;l<c;++l)s._parsed[l]=a(l)}}_getRotation(){return bs(this.options.rotation-90)}_getCircumference(){return bs(this.options.circumference)}_getRotationExtents(){let t=Ve,n=-Ve;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,a=s._getRotation(),l=s._getCircumference();t=Math.min(t,a),n=Math.max(n,a+l)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,a=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(Bq(this.options.cutout,c),1),f=this._getRingWeight(this.index),{circumference:p,rotation:y}=this._getRotationExtents(),{ratioX:_,ratioY:x,offsetX:E,offsetY:A}=C$(y,p,h),T=(i.width-l)/_,D=(i.height-l)/x,O=Math.max(Math.min(T,D)/2,0),L=rI(this.options.radius,O),B=Math.max(L*h,0),M=(L-B)/this._getVisibleDatasetWeightTotal();this.offsetX=E*L,this.offsetY=A*L,s.total=this.calculateTotal(),this.outerRadius=L-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*f,0),this.updateElements(a,0,a.length,t)}_circumference(t,n){const i=this.options,s=this._cachedMeta,a=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*a/Ve)}updateElements(t,n,i,s){const a=s==="reset",l=this.chart,c=l.chartArea,f=l.options.animation,p=(c.left+c.right)/2,y=(c.top+c.bottom)/2,_=a&&f.animateScale,x=_?0:this.innerRadius,E=_?0:this.outerRadius,{sharedOptions:A,includeOptions:T}=this._getSharedOptions(n,s);let D=this._getRotation(),O;for(O=0;O<n;++O)D+=this._circumference(O,a);for(O=n;O<n+i;++O){const L=this._circumference(O,a),B=t[O],M={x:p+this.offsetX,y:y+this.offsetY,startAngle:D,endAngle:D+L,circumference:L,outerRadius:E,innerRadius:x};T&&(M.options=A||this.resolveDataElementOptions(O,B.active?"active":s)),D+=L,this.updateElement(B,O,M,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,s;for(s=0;s<n.length;s++){const a=t._parsed[s];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Ve*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],a=td(n._parsed[t],i.options.locale);return{label:s[t]||"",value:a}}getMaxBorderWidth(t){let n=0;const i=this.chart;let s,a,l,c,h;if(!t){for(s=0,a=i.data.datasets.length;s<a;++s)if(i.isDatasetVisible(s)){l=i.getDatasetMeta(s),t=l.data,c=l.controller;break}}if(!t)return 0;for(s=0,a=t.length;s<a;++s)h=c.resolveDataElementOptions(s),h.borderAlign!=="inner"&&(n=Math.max(n,h.borderWidth||0,h.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,s=t.length;i<s;++i){const a=this.resolveDataElementOptions(i);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(Ft(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}wt(ll,"id","doughnut"),wt(ll,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),wt(ll,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),wt(ll,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((a,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Ag extends ws{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:a}=n,l=this.chart._animationsDisabled;let{start:c,count:h}=dI(n,s,l);this._drawStart=c,this._drawCount=h,pI(n)&&(c=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=s;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},t),this.updateElements(s,c,h,t)}updateElements(t,n,i,s){const a=s==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(n,s),_=l.axis,x=c.axis,{spanGaps:E,segment:A}=this.options,T=Jc(E)?E:Number.POSITIVE_INFINITY,D=this.chart._animationsDisabled||a||s==="none",O=n+i,L=t.length;let B=n>0&&this.getParsed(n-1);for(let M=0;M<L;++M){const Y=t[M],C=D?Y:{};if(M<n||M>=O){C.skip=!0;continue}const k=this.getParsed(M),P=Yt(k[x]),z=C[_]=l.getPixelForValue(k[_],M),U=C[x]=a||P?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,k,h):k[x],M);C.skip=isNaN(z)||isNaN(U)||P,C.stop=M>0&&Math.abs(k[_]-B[_])>T,A&&(C.parsed=k,C.raw=f.data[M]),y&&(C.options=p||this.resolveDataElementOptions(M,Y.active?"active":s)),D||this.updateElement(Y,M,C,s),B=k}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}wt(Ag,"id","line"),wt(Ag,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),wt(Ag,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class sf extends ws{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],a=td(n._parsed[t].r,i.options.locale);return{label:s[t]||"",value:a}}parseObjectData(t,n,i,s){return wI.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const a=this.getParsed(s).r;!isNaN(a)&&this.chart.getDataVisibility(s)&&(a<n.min&&(n.min=a),a>n.max&&(n.max=a))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),a=Math.max(s/2,0),l=Math.max(i.cutoutPercentage?a/100*i.cutoutPercentage:1,0),c=(a-l)/t.getVisibleDatasetCount();this.outerRadius=a-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,n,i,s){const a=s==="reset",l=this.chart,h=l.options.animation,f=this._cachedMeta.rScale,p=f.xCenter,y=f.yCenter,_=f.getIndexAngle(0)-.5*de;let x=_,E;const A=360/this.countVisibleElements();for(E=0;E<n;++E)x+=this._computeAngle(E,s,A);for(E=n;E<n+i;E++){const T=t[E];let D=x,O=x+this._computeAngle(E,s,A),L=l.getDataVisibility(E)?f.getDistanceFromCenterForValue(this.getParsed(E).r):0;x=O,a&&(h.animateScale&&(L=0),h.animateRotate&&(D=O=_));const B={x:p,y,innerRadius:0,outerRadius:L,startAngle:D,endAngle:O,options:this.resolveDataElementOptions(E,T.active?"active":s)};this.updateElement(T,E,B,s)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?bs(this.resolveDataElementOptions(t,n).angle||i):0}}wt(sf,"id","polarArea"),wt(sf,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),wt(sf,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((a,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class B0 extends ll{}wt(B0,"id","pie"),wt(B0,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Rg extends ws{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,s){return wI.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta,i=n.dataset,s=n.data||[],a=n.iScale.getLabels();if(i.points=s,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const c={_loop:!0,_fullLoop:a.length===s.length,options:l};this.updateElement(i,void 0,c,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,i,s){const a=this._cachedMeta.rScale,l=s==="reset";for(let c=n;c<n+i;c++){const h=t[c],f=this.resolveDataElementOptions(c,h.active?"active":s),p=a.getPointPositionForValue(c,this.getParsed(c).r),y=l?a.xCenter:p.x,_=l?a.yCenter:p.y,x={x:y,y:_,angle:p.angle,skip:isNaN(y)||isNaN(_),options:f};this.updateElement(h,c,x,s)}}}wt(Rg,"id","radar"),wt(Rg,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),wt(Rg,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class kg extends ws{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:a}=n,l=this.getParsed(t),c=s.getLabelForValue(l.x),h=a.getLabelForValue(l.y);return{label:i[t]||"",value:"("+c+", "+h+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:a,count:l}=dI(n,i,s);if(this._drawStart=a,this._drawCount=l,pI(n)&&(a=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:h}=n;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!h._decimated,c.points=i;const f=this.resolveDatasetElementOptions(t);f.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:f},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,a,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,s){const a=s==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:f}=this._cachedMeta,p=this.resolveDataElementOptions(n,s),y=this.getSharedOptions(p),_=this.includeOptions(s,y),x=l.axis,E=c.axis,{spanGaps:A,segment:T}=this.options,D=Jc(A)?A:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||a||s==="none";let L=n>0&&this.getParsed(n-1);for(let B=n;B<n+i;++B){const M=t[B],Y=this.getParsed(B),C=O?M:{},k=Yt(Y[E]),P=C[x]=l.getPixelForValue(Y[x],B),z=C[E]=a||k?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,Y,h):Y[E],B);C.skip=isNaN(P)||isNaN(z)||k,C.stop=B>0&&Math.abs(Y[x]-L[x])>D,T&&(C.parsed=Y,C.raw=f.data[B]),_&&(C.options=y||this.resolveDataElementOptions(B,M.active?"active":s)),O||this.updateElement(M,B,C,s),L=Y}this.updateSharedOptions(y,s,p)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let c=0;for(let h=n.length-1;h>=0;--h)c=Math.max(c,n[h].size(this.resolveDataElementOptions(h))/2);return c>0&&c}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const a=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,a,l)/2}}wt(kg,"id","scatter"),wt(kg,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),wt(kg,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var D$=Object.freeze({__proto__:null,BarController:Sg,BubbleController:Tg,DoughnutController:ll,LineController:Ag,PieController:B0,PolarAreaController:sf,RadarController:Rg,ScatterController:kg});function Zo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class kx{constructor(t){wt(this,"options");this.options=t||{}}static override(t){Object.assign(kx.prototype,t)}init(){}formats(){return Zo()}parse(){return Zo()}format(){return Zo()}add(){return Zo()}diff(){return Zo()}startOf(){return Zo()}endOf(){return Zo()}}var M$={_date:kx};function I$(e,t,n,i){const{controller:s,data:a,_sorted:l}=e,c=s._cachedMeta.iScale,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&l&&a.length){const f=c._reversePixels?t8:Gr;if(i){if(s._sharedOptions){const p=a[0],y=typeof p.getRange=="function"&&p.getRange(t);if(y){const _=f(a,t,n-y),x=f(a,t,n+y);return{lo:_.lo,hi:x.hi}}}}else{const p=f(a,t,n);if(h){const{vScale:y}=s._cachedMeta,{_parsed:_}=e,x=_.slice(0,p.lo+1).reverse().findIndex(A=>!Yt(A[y.axis]));p.lo-=Math.max(0,x);const E=_.slice(p.hi).findIndex(A=>!Yt(A[y.axis]));p.hi+=Math.max(0,E)}return p}}return{lo:0,hi:a.length-1}}function Gm(e,t,n,i,s){const a=e.getSortedVisibleDatasetMetas(),l=n[t];for(let c=0,h=a.length;c<h;++c){const{index:f,data:p}=a[c],{lo:y,hi:_}=I$(a[c],t,l,s);for(let x=y;x<=_;++x){const E=p[x];E.skip||i(E,f,x)}}}function O$(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const a=t?Math.abs(i.x-s.x):0,l=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Ib(e,t,n,i,s){const a=[];return!s&&!e.isPointInArea(t)||Gm(e,n,t,function(c,h,f){!s&&!Kr(c,e.chartArea,0)||c.inRange(t.x,t.y,i)&&a.push({element:c,datasetIndex:h,index:f})},!0),a}function P$(e,t,n,i){let s=[];function a(l,c,h){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:y}=lI(l,{x:t.x,y:t.y});Mf(y,f,p)&&s.push({element:l,datasetIndex:c,index:h})}return Gm(e,n,t,a),s}function N$(e,t,n,i,s,a){let l=[];const c=O$(n);let h=Number.POSITIVE_INFINITY;function f(p,y,_){const x=p.inRange(t.x,t.y,s);if(i&&!x)return;const E=p.getCenterPoint(s);if(!(!!a||e.isPointInArea(E))&&!x)return;const T=c(t,E);T<h?(l=[{element:p,datasetIndex:y,index:_}],h=T):T===h&&l.push({element:p,datasetIndex:y,index:_})}return Gm(e,n,t,f),l}function Ob(e,t,n,i,s,a){return!a&&!e.isPointInArea(t)?[]:n==="r"&&!i?P$(e,t,n,s):N$(e,t,n,i,s,a)}function jA(e,t,n,i,s){const a=[],l=n==="x"?"inXRange":"inYRange";let c=!1;return Gm(e,n,t,(h,f,p)=>{h[l]&&h[l](t[n],s)&&(a.push({element:h,datasetIndex:f,index:p}),c=c||h.inRange(t.x,t.y,s))}),i&&!c?[]:a}var L$={modes:{index(e,t,n,i){const s=il(t,e),a=n.axis||"x",l=n.includeInvisible||!1,c=n.intersect?Ib(e,s,a,i,l):Ob(e,s,a,!1,i,l),h=[];return c.length?(e.getSortedVisibleDatasetMetas().forEach(f=>{const p=c[0].index,y=f.data[p];y&&!y.skip&&h.push({element:y,datasetIndex:f.index,index:p})}),h):[]},dataset(e,t,n,i){const s=il(t,e),a=n.axis||"xy",l=n.includeInvisible||!1;let c=n.intersect?Ib(e,s,a,i,l):Ob(e,s,a,!1,i,l);if(c.length>0){const h=c[0].datasetIndex,f=e.getDatasetMeta(h).data;c=[];for(let p=0;p<f.length;++p)c.push({element:f[p],datasetIndex:h,index:p})}return c},point(e,t,n,i){const s=il(t,e),a=n.axis||"xy",l=n.includeInvisible||!1;return Ib(e,s,a,i,l)},nearest(e,t,n,i){const s=il(t,e),a=n.axis||"xy",l=n.includeInvisible||!1;return Ob(e,s,a,n.intersect,i,l)},x(e,t,n,i){const s=il(t,e);return jA(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=il(t,e);return jA(e,s,"y",n.intersect,i)}}};const OI=["left","top","right","bottom"];function Sh(e,t){return e.filter(n=>n.pos===t)}function UA(e,t){return e.filter(n=>OI.indexOf(n.pos)===-1&&n.box.axis===t)}function Th(e,t){return e.sort((n,i)=>{const s=t?i:n,a=t?n:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function V$(e){const t=[];let n,i,s,a,l,c;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:a,options:{stack:l,stackWeight:c=1}}=s,t.push({index:n,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:c});return t}function j$(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:a}=n;if(!i||!OI.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function U$(e,t){const n=j$(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let a,l,c;for(a=0,l=e.length;a<l;++a){c=e[a];const{fullSize:h}=c.box,f=n[c.stack],p=f&&c.stackWeight/f.weight;c.horizontal?(c.width=p?p*i:h&&t.availableWidth,c.height=s):(c.width=i,c.height=p?p*s:h&&t.availableHeight)}return n}function z$(e){const t=V$(e),n=Th(t.filter(f=>f.box.fullSize),!0),i=Th(Sh(t,"left"),!0),s=Th(Sh(t,"right")),a=Th(Sh(t,"top"),!0),l=Th(Sh(t,"bottom")),c=UA(t,"x"),h=UA(t,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:s.concat(h).concat(l).concat(c),chartArea:Sh(t,"chartArea"),vertical:i.concat(s).concat(h),horizontal:a.concat(l).concat(c)}}function zA(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function PI(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function B$(e,t,n,i){const{pos:s,box:a}=n,l=e.maxPadding;if(!ee(s)){n.size&&(e[s]-=n.size);const y=i[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?a.height:a.width),n.size=y.size/y.count,e[s]+=n.size}a.getPadding&&PI(l,a.getPadding());const c=Math.max(0,t.outerWidth-zA(l,e,"left","right")),h=Math.max(0,t.outerHeight-zA(l,e,"top","bottom")),f=c!==e.w,p=h!==e.h;return e.w=c,e.h=h,n.horizontal?{same:f,other:p}:{same:p,other:f}}function F$(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function q$(e,t){const n=t.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(t[l],n[l])}),a}return i(e?["left","right"]:["top","bottom"])}function Fh(e,t,n,i){const s=[];let a,l,c,h,f,p;for(a=0,l=e.length,f=0;a<l;++a){c=e[a],h=c.box,h.update(c.width||t.w,c.height||t.h,q$(c.horizontal,t));const{same:y,other:_}=B$(t,n,c,i);f|=y&&s.length,p=p||_,h.fullSize||s.push(c)}return f&&Fh(s,t,n,i)||p}function Bp(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function BA(e,t,n,i){const s=n.padding;let{x:a,y:l}=t;for(const c of e){const h=c.box,f=i[c.stack]||{placed:0,weight:1},p=c.stackWeight/f.weight||1;if(c.horizontal){const y=t.w*p,_=f.size||h.height;Df(f.start)&&(l=f.start),h.fullSize?Bp(h,s.left,l,n.outerWidth-s.right-s.left,_):Bp(h,t.left+f.placed,l,y,_),f.start=l,f.placed+=y,l=h.bottom}else{const y=t.h*p,_=f.size||h.width;Df(f.start)&&(a=f.start),h.fullSize?Bp(h,a,s.top,_,n.outerHeight-s.bottom-s.top):Bp(h,a,t.top+f.placed,_,y),f.start=a,f.placed+=y,a=h.right}}t.x=a,t.y=l}var hi={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=ti(e.options.layout.padding),a=Math.max(t-s.width,0),l=Math.max(n-s.height,0),c=z$(e.boxes),h=c.vertical,f=c.horizontal;be(e.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const p=h.reduce((A,T)=>T.box.options&&T.box.options.display===!1?A:A+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),_=Object.assign({},s);PI(_,ti(i));const x=Object.assign({maxPadding:_,w:a,h:l,x:s.left,y:s.top},s),E=U$(h.concat(f),y);Fh(c.fullSize,x,y,E),Fh(h,x,y,E),Fh(f,x,y,E)&&Fh(h,x,y,E),F$(x),BA(c.leftAndTop,x,y,E),x.x+=x.w,x.y+=x.h,BA(c.rightAndBottom,x,y,E),e.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},be(c.chartArea,A=>{const T=A.box;Object.assign(T,e.chartArea),T.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class NI{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class $$ extends NI{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Cg="$chartjs",H$={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},FA=e=>e===null||e==="";function W$(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[Cg]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",FA(s)){const a=TA(e,"width");a!==void 0&&(e.width=a)}if(FA(i))if(e.style.height==="")e.height=e.width/(t||2);else{const a=TA(e,"height");a!==void 0&&(e.height=a)}return e}const LI=Y8?{passive:!0}:!1;function Y$(e,t,n){e&&e.addEventListener(t,n,LI)}function G$(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,LI)}function K$(e,t){const n=H$[e.type]||e.type,{x:i,y:s}=il(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function rm(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function X$(e,t,n){const i=e.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||rm(c.addedNodes,i),l=l&&!rm(c.removedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function Q$(e,t,n){const i=e.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||rm(c.removedNodes,i),l=l&&!rm(c.addedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Of=new Map;let qA=0;function VI(){const e=window.devicePixelRatio;e!==qA&&(qA=e,Of.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function Z$(e,t){Of.size||window.addEventListener("resize",VI),Of.set(e,t)}function J$(e){Of.delete(e),Of.size||window.removeEventListener("resize",VI)}function tH(e,t,n){const i=e.canvas,s=i&&Rx(i);if(!s)return;const a=fI((c,h)=>{const f=s.clientWidth;n(c,h),f<s.clientWidth&&n()},window),l=new ResizeObserver(c=>{const h=c[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||a(f,p)});return l.observe(s),Z$(e,a),l}function Pb(e,t,n){n&&n.disconnect(),t==="resize"&&J$(e)}function eH(e,t,n){const i=e.canvas,s=fI(a=>{e.ctx!==null&&n(K$(a,e))},e);return Y$(i,t,s),s}class nH extends NI{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(W$(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Cg])return!1;const i=n[Cg].initial;["height","width"].forEach(a=>{const l=i[a];Yt(l)?n.removeAttribute(a):n.setAttribute(a,l)});const s=i.style||{};return Object.keys(s).forEach(a=>{n.style[a]=s[a]}),n.width=n.width,delete n[Cg],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),l={attach:X$,detach:Q$,resize:tH}[n]||eH;s[n]=l(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:Pb,detach:Pb,resize:Pb}[n]||G$)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return W8(t,n,i,s)}isAttached(t){const n=t&&Rx(t);return!!(n&&n.isConnected)}}function iH(e){return!Ax()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?$$:nH}class Ts{constructor(){wt(this,"x");wt(this,"y");wt(this,"active",!1);wt(this,"options");wt(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return Jc(this.x)&&Jc(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}}wt(Ts,"defaults",{}),wt(Ts,"defaultRoutes");function sH(e,t){const n=e.options.ticks,i=rH(e),s=Math.min(n.maxTicksLimit||i,i),a=n.major.enabled?oH(t):[],l=a.length,c=a[0],h=a[l-1],f=[];if(l>s)return lH(t,f,a,l/s),f;const p=aH(a,t,s);if(l>0){let y,_;const x=l>1?Math.round((h-c)/(l-1)):null;for(Fp(t,f,p,Yt(x)?0:c-x,c),y=0,_=l-1;y<_;y++)Fp(t,f,p,a[y],a[y+1]);return Fp(t,f,p,h,Yt(x)?t.length:h+x),f}return Fp(t,f,p),f}function rH(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function aH(e,t,n){const i=cH(e),s=t.length/n;if(!i)return Math.max(s,1);const a=Kq(i);for(let l=0,c=a.length-1;l<c;l++){const h=a[l];if(h>s)return h}return Math.max(s,1)}function oH(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function lH(e,t,n,i){let s=0,a=n[0],l;for(i=Math.ceil(i),l=0;l<e.length;l++)l===a&&(t.push(e[l]),s++,a=n[s*i])}function Fp(e,t,n,i,s){const a=Ft(i,0),l=Math.min(Ft(s,e.length),e.length);let c=0,h,f,p;for(n=Math.ceil(n),s&&(h=s-i,n=h/Math.floor(h/n)),p=a;p<0;)c++,p=Math.round(a+c*n);for(f=Math.max(a,0);f<l;f++)f===p&&(t.push(e[f]),c++,p=Math.round(a+c*n))}function cH(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const uH=e=>e==="left"?"right":e==="right"?"left":e,$A=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,HA=(e,t)=>Math.min(t||e,e);function WA(e,t){const n=[],i=e.length/t,s=e.length;let a=0;for(;a<s;a+=i)n.push(e[Math.floor(a)]);return n}function hH(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),a=e._startPixel,l=e._endPixel,c=1e-6;let h=e.getPixelForTick(s),f;if(!(n&&(i===1?f=Math.max(h-a,l-h):t===0?f=(e.getPixelForTick(1)-h)/2:f=(h-e.getPixelForTick(s-1))/2,h+=s<t?f:-f,h<a-c||h>l+c)))return h}function fH(e,t){be(e,n=>{const i=n.gc,s=i.length/2;let a;if(s>t){for(a=0;a<s;++a)delete n.data[i[a]];i.splice(0,s)}})}function Ah(e){return e.drawTicks?e.tickLength:0}function YA(e,t){if(!e.display)return 0;const n=_n(e.font,t),i=ti(e.padding);return(Le(e.text)?e.text.length:1)*n.lineHeight+i.height}function dH(e,t){return bo(e,{scale:t,type:"scale"})}function pH(e,t,n){return bo(e,{tick:n,index:t,type:"tick"})}function gH(e,t,n){let i=vx(e);return(n&&t!=="right"||!n&&t==="right")&&(i=uH(i)),i}function mH(e,t,n,i){const{top:s,left:a,bottom:l,right:c,chart:h}=e,{chartArea:f,scales:p}=h;let y=0,_,x,E;const A=l-s,T=c-a;if(e.isHorizontal()){if(x=ai(i,a,c),ee(n)){const D=Object.keys(n)[0],O=n[D];E=p[D].getPixelForValue(O)+A-t}else n==="center"?E=(f.bottom+f.top)/2+A-t:E=$A(e,n,t);_=c-a}else{if(ee(n)){const D=Object.keys(n)[0],O=n[D];x=p[D].getPixelForValue(O)-T+t}else n==="center"?x=(f.left+f.right)/2-T+t:x=$A(e,n,t);E=ai(i,l,s),y=n==="left"?-sn:sn}return{titleX:x,titleY:E,maxWidth:_,rotation:y}}class Dl extends Ts{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=ji(t,Number.POSITIVE_INFINITY),n=ji(n,Number.NEGATIVE_INFINITY),i=ji(i,Number.POSITIVE_INFINITY),s=ji(s,Number.NEGATIVE_INFINITY),{min:ji(t,i),max:ji(n,s),minDefined:Ze(t),maxDefined:Ze(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:n,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,f=c.length;h<f;++h)l=c[h].controller.getMinMax(this,t),s||(n=Math.min(n,l.min)),a||(i=Math.max(i,l.max));return n=a&&n>i?i:n,i=s&&n>i?n:i,{min:ji(n,ji(i,n)),max:ji(i,ji(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ke(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=S8(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?WA(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=sH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ke(this.options.afterUpdate,[this])}beforeSetDimensions(){ke(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ke(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ke(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ke(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,a;for(i=0,s=t.length;i<s;i++)a=t[i],a.label=ke(n.callback,[a.value,i,t],this)}afterTickToLabelConversion(){ke(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ke(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=HA(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,a=n.maxRotation;let l=s,c,h,f;if(!this._isVisible()||!n.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),y=p.widest.width,_=p.highest.height,x=zn(this.chart.width-y,0,this.maxWidth);c=t.offset?this.maxWidth/i:x/(i-1),y+6>c&&(c=x/(i-(t.offset?.5:1)),h=this.maxHeight-Ah(t.grid)-n.padding-YA(t.title,this.chart.options.font),f=Math.sqrt(y*y+_*_),l=_x(Math.min(Math.asin(zn((p.highest.height+6)/c,-1,1)),Math.asin(zn(h/f,-1,1))-Math.asin(zn(_/f,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){ke(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ke(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=YA(s,n.options.font);if(c?(t.width=this.maxWidth,t.height=Ah(a)+h):(t.height=this.maxHeight,t.width=Ah(a)+h),i.display&&this.ticks.length){const{first:f,last:p,widest:y,highest:_}=this._getLabelSizes(),x=i.padding*2,E=bs(this.labelRotation),A=Math.cos(E),T=Math.sin(E);if(c){const D=i.mirror?0:T*y.width+A*_.height;t.height=Math.min(this.maxHeight,t.height+D+x)}else{const D=i.mirror?0:A*y.width+T*_.height;t.width=Math.min(this.maxWidth,t.width+D+x)}this._calculatePadding(f,p,T,A)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:a,padding:l},position:c}=this.options,h=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,x=0;h?f?(_=s*t.width,x=i*n.height):(_=i*t.height,x=s*n.width):a==="start"?x=n.width:a==="end"?_=t.width:a!=="inner"&&(_=t.width/2,x=n.width/2),this.paddingLeft=Math.max((_-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((x-y+l)*this.width/(this.width-y),0)}else{let p=n.height/2,y=t.height/2;a==="start"?(p=0,y=t.height):a==="end"&&(p=n.height,y=0),this.paddingTop=p+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ke(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)Yt(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=WA(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:a}=this,l=[],c=[],h=Math.floor(n/HA(n,i));let f=0,p=0,y,_,x,E,A,T,D,O,L,B,M;for(y=0;y<n;y+=h){if(E=t[y].label,A=this._resolveTickFontOptions(y),s.font=T=A.string,D=a[T]=a[T]||{data:{},gc:[]},O=A.lineHeight,L=B=0,!Yt(E)&&!Le(E))L=im(s,D.data,D.gc,L,E),B=O;else if(Le(E))for(_=0,x=E.length;_<x;++_)M=E[_],!Yt(M)&&!Le(M)&&(L=im(s,D.data,D.gc,L,M),B+=O);l.push(L),c.push(B),f=Math.max(L,f),p=Math.max(B,p)}fH(a,n);const Y=l.indexOf(f),C=c.indexOf(p),k=P=>({width:l[P]||0,height:c[P]||0});return{first:k(0),last:k(n-1),widest:k(Y),highest:k(C),widths:l,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return Jq(this._alignToPixels?Qo(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=pH(this.getContext(),t,i))}return this.$context||(this.$context=dH(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=bs(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,c=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>c*s?c/i:h/s:h*s<c*i?h/i:c/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:a,position:l,border:c}=s,h=a.offset,f=this.isHorizontal(),y=this.ticks.length+(h?1:0),_=Ah(a),x=[],E=c.setContext(this.getContext()),A=E.display?E.width:0,T=A/2,D=function(V){return Qo(i,V,A)};let O,L,B,M,Y,C,k,P,z,U,$,F;if(l==="top")O=D(this.bottom),C=this.bottom-_,P=O-T,U=D(t.top)+T,F=t.bottom;else if(l==="bottom")O=D(this.top),U=t.top,F=D(t.bottom)-T,C=O+T,P=this.top+_;else if(l==="left")O=D(this.right),Y=this.right-_,k=O-T,z=D(t.left)+T,$=t.right;else if(l==="right")O=D(this.left),z=t.left,$=D(t.right)-T,Y=O+T,k=this.left+_;else if(n==="x"){if(l==="center")O=D((t.top+t.bottom)/2+.5);else if(ee(l)){const V=Object.keys(l)[0],Z=l[V];O=D(this.chart.scales[V].getPixelForValue(Z))}U=t.top,F=t.bottom,C=O+T,P=C+_}else if(n==="y"){if(l==="center")O=D((t.left+t.right)/2);else if(ee(l)){const V=Object.keys(l)[0],Z=l[V];O=D(this.chart.scales[V].getPixelForValue(Z))}Y=O-T,k=Y-_,z=t.left,$=t.right}const Pt=Ft(s.ticks.maxTicksLimit,y),X=Math.max(1,Math.ceil(y/Pt));for(L=0;L<y;L+=X){const V=this.getContext(L),Z=a.setContext(V),ct=c.setContext(V),st=Z.lineWidth,q=Z.color,lt=ct.dash||[],ot=ct.dashOffset,K=Z.tickWidth,at=Z.tickColor,yt=Z.tickBorderDash||[],nt=Z.tickBorderDashOffset;B=hH(this,L,h),B!==void 0&&(M=Qo(i,B,st),f?Y=k=z=$=M:C=P=U=F=M,x.push({tx1:Y,ty1:C,tx2:k,ty2:P,x1:z,y1:U,x2:$,y2:F,width:st,color:q,borderDash:lt,borderDashOffset:ot,tickWidth:K,tickColor:at,tickBorderDash:yt,tickBorderDashOffset:nt}))}return this._ticksLength=y,this._borderValue=O,x}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:a}=i,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:f,padding:p,mirror:y}=a,_=Ah(i.grid),x=_+p,E=y?-p:x,A=-bs(this.labelRotation),T=[];let D,O,L,B,M,Y,C,k,P,z,U,$,F="middle";if(s==="top")Y=this.bottom-E,C=this._getXAxisLabelAlignment();else if(s==="bottom")Y=this.top+E,C=this._getXAxisLabelAlignment();else if(s==="left"){const X=this._getYAxisLabelAlignment(_);C=X.textAlign,M=X.x}else if(s==="right"){const X=this._getYAxisLabelAlignment(_);C=X.textAlign,M=X.x}else if(n==="x"){if(s==="center")Y=(t.top+t.bottom)/2+x;else if(ee(s)){const X=Object.keys(s)[0],V=s[X];Y=this.chart.scales[X].getPixelForValue(V)+x}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")M=(t.left+t.right)/2-x;else if(ee(s)){const X=Object.keys(s)[0],V=s[X];M=this.chart.scales[X].getPixelForValue(V)}C=this._getYAxisLabelAlignment(_).textAlign}n==="y"&&(h==="start"?F="top":h==="end"&&(F="bottom"));const Pt=this._getLabelSizes();for(D=0,O=c.length;D<O;++D){L=c[D],B=L.label;const X=a.setContext(this.getContext(D));k=this.getPixelForTick(D)+a.labelOffset,P=this._resolveTickFontOptions(D),z=P.lineHeight,U=Le(B)?B.length:1;const V=U/2,Z=X.color,ct=X.textStrokeColor,st=X.textStrokeWidth;let q=C;l?(M=k,C==="inner"&&(D===O-1?q=this.options.reverse?"left":"right":D===0?q=this.options.reverse?"right":"left":q="center"),s==="top"?f==="near"||A!==0?$=-U*z+z/2:f==="center"?$=-Pt.highest.height/2-V*z+z:$=-Pt.highest.height+z/2:f==="near"||A!==0?$=z/2:f==="center"?$=Pt.highest.height/2-V*z:$=Pt.highest.height-U*z,y&&($*=-1),A!==0&&!X.showLabelBackdrop&&(M+=z/2*Math.sin(A))):(Y=k,$=(1-U)*z/2);let lt;if(X.showLabelBackdrop){const ot=ti(X.backdropPadding),K=Pt.heights[D],at=Pt.widths[D];let yt=$-ot.top,nt=0-ot.left;switch(F){case"middle":yt-=K/2;break;case"bottom":yt-=K;break}switch(C){case"center":nt-=at/2;break;case"right":nt-=at;break;case"inner":D===O-1?nt-=at:D>0&&(nt-=at/2);break}lt={left:nt,top:yt,width:at+ot.width,height:K+ot.height,color:X.backdropColor}}T.push({label:B,font:P,textOffset:$,options:{rotation:A,color:Z,strokeColor:ct,strokeWidth:st,textAlign:q,textBaseline:F,translation:[M,Y],backdrop:lt}})}return T}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-bs(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),c=t+a,h=l.widest.width;let f,p;return n==="left"?s?(p=this.right+a,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-c,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p=this.left)):n==="right"?s?(p=this.left+a,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+c,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:a,height:l}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,a,l),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(a=>a.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const c=(h,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(n.display)for(a=0,l=s.length;a<l;++a){const h=s[a];n.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,y,_;this.isHorizontal()?(f=Qo(t,this.left,l)-l/2,p=Qo(t,this.right,c)+c/2,y=_=h):(y=Qo(t,this.top,l)-l/2,_=Qo(t,this.bottom,c)+c/2,f=p=h),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(f,y),n.lineTo(p,_),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Hm(i,s);const a=this.getLabelItems(t);for(const l of a){const c=l.options,h=l.font,f=l.label,p=l.textOffset;El(i,f,0,p,h,c)}s&&Wm(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const a=_n(i.font),l=ti(i.padding),c=i.align;let h=a.lineHeight/2;n==="bottom"||n==="center"||ee(n)?(h+=l.bottom,Le(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:p,maxWidth:y,rotation:_}=mH(this,h,n,c);El(t,i.text,0,0,a,{color:i.color,maxWidth:y,rotation:_,textAlign:gH(c,n,s),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=Ft(t.grid&&t.grid.z,-1),s=Ft(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Dl.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,l;for(a=0,l=n.length;a<l;++a){const c=n[a];c[i]===this.id&&(!t||c.type===t)&&s.push(c)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return _n(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class qp{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;bH(n)&&(i=this.register(n));const s=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in s||(s[a]=t,yH(t,l,i),this.override&&je.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in je[s]&&(delete je[s][i],this.override&&delete wl[i])}}function yH(e,t,n){const i=ar(Object.create(null),[n?je.get(n):{},je.get(t),e.defaults]);je.set(t,i),e.defaultRoutes&&_H(t,e.defaultRoutes),e.descriptors&&je.describe(t,e.descriptors)}function _H(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),a=[e].concat(i).join("."),l=t[n].split("."),c=l.pop(),h=l.join(".");je.route(a,s,h,c)})}function bH(e){return"id"in e&&"defaults"in e}class vH{constructor(){this.controllers=new qp(ws,"datasets",!0),this.elements=new qp(Ts,"elements"),this.plugins=new qp(Object,"plugins"),this.scales=new qp(Dl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(t,a,s):be(s,l=>{const c=i||this._getRegistryForType(l);this._exec(t,c,l)})})}_exec(t,n,i){const s=yx(t);ke(i["before"+s],[],i),n[t](i),ke(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Ws=new vH;class xH{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(a,t,n,i);return n==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,n,i,s){s=s||{};for(const a of t){const l=a.plugin,c=l[i],h=[n,s,a.options];if(ke(c,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Yt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=Ft(i.options&&i.options.plugins,{}),a=wH(i);return s===!1&&!n?[]:SH(t,a,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(a,l)=>a.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function wH(e){const t={},n=[],i=Object.keys(Ws.plugins.items);for(let a=0;a<i.length;a++)n.push(Ws.getPlugin(i[a]));const s=e.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];n.indexOf(l)===-1&&(n.push(l),t[l.id]=!0)}return{plugins:n,localIds:t}}function EH(e,t){return!t&&e===!1?null:e===!0?{}:e}function SH(e,{plugins:t,localIds:n},i,s){const a=[],l=e.getContext();for(const c of t){const h=c.id,f=EH(i[h],s);f!==null&&a.push({plugin:c,options:TH(e.config,{plugin:c,local:n[h]},f,l)})}return a}function TH(e,{plugin:t,local:n},i,s){const a=e.pluginScopeKeys(t),l=e.getOptionScopes(i,a);return n&&t.defaults&&l.push(t.defaults),e.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function F0(e,t){const n=je.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function AH(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function RH(e,t){return e===t?"_index_":"_value_"}function GA(e){if(e==="x"||e==="y"||e==="r")return e}function kH(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function q0(e,...t){if(GA(e))return e;for(const n of t){const i=n.axis||kH(n.position)||e.length>1&&GA(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function KA(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function CH(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return KA(e,"x",n[0])||KA(e,"y",n[0])}return{}}function DH(e,t){const n=wl[e.type]||{scales:{}},i=t.scales||{},s=F0(e.type,t),a=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!ee(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=q0(l,c,CH(l,e),je.scales[c.type]),f=RH(h,s),p=n.scales||{};a[l]=Jh(Object.create(null),[{axis:h},c,p[h],p[f]])}),e.data.datasets.forEach(l=>{const c=l.type||e.type,h=l.indexAxis||F0(c,t),p=(wl[c]||{}).scales||{};Object.keys(p).forEach(y=>{const _=AH(y,h),x=l[_+"AxisID"]||_;a[x]=a[x]||Object.create(null),Jh(a[x],[{axis:_},i[x],p[y]])})}),Object.keys(a).forEach(l=>{const c=a[l];Jh(c,[je.scales[c.type],je.scale])}),a}function jI(e){const t=e.options||(e.options={});t.plugins=Ft(t.plugins,{}),t.scales=DH(e,t)}function UI(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function MH(e){return e=e||{},e.data=UI(e.data),jI(e),e}const XA=new Map,zI=new Set;function $p(e,t){let n=XA.get(e);return n||(n=t(),XA.set(e,n),zI.add(n)),n}const Rh=(e,t,n)=>{const i=fo(t,n);i!==void 0&&e.add(i)};class IH{constructor(t){this._config=MH(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=UI(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),jI(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return $p(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return $p(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return $p(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return $p(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:a}=this,l=this._cachedScopes(t,i),c=l.get(n);if(c)return c;const h=new Set;n.forEach(p=>{t&&(h.add(t),p.forEach(y=>Rh(h,t,y))),p.forEach(y=>Rh(h,s,y)),p.forEach(y=>Rh(h,wl[a]||{},y)),p.forEach(y=>Rh(h,je,y)),p.forEach(y=>Rh(h,U0,y))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),zI.has(n)&&l.set(n,f),f}chartOptionScopes(){const{options:t,type:n}=this;return[t,wl[n]||{},je.datasets[n]||{},{type:n},je,U0]}resolveNamedOptions(t,n,i,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=QA(this._resolverCache,t,s);let h=l;if(PH(l,n)){a.$shared=!1,i=po(i)?i():i;const f=this.createResolver(t,i,c);h=tu(l,i,f)}for(const f of n)a[f]=h[f];return a}createResolver(t,n,i=[""],s){const{resolver:a}=QA(this._resolverCache,t,i);return ee(n)?tu(a,n,void 0,s):a}}function QA(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let a=i.get(s);return a||(a={resolver:Ex(t,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,a)),a}const OH=e=>ee(e)&&Object.getOwnPropertyNames(e).some(t=>po(e[t]));function PH(e,t){const{isScriptable:n,isIndexable:i}=_I(e);for(const s of t){const a=n(s),l=i(s),c=(l||a)&&e[s];if(a&&(po(c)||OH(c))||l&&Le(c))return!0}return!1}var NH="4.5.0";const LH=["top","bottom","left","right","chartArea"];function ZA(e,t){return e==="top"||e==="bottom"||LH.indexOf(e)===-1&&t==="x"}function JA(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function tR(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),ke(n&&n.onComplete,[e],t)}function VH(e){const t=e.chart,n=t.options.animation;ke(n&&n.onProgress,[e],t)}function BI(e){return Ax()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Dg={},eR=e=>{const t=BI(e);return Object.values(Dg).filter(n=>n.canvas===t).pop()};function jH(e,t,n){const i=Object.keys(e);for(const s of i){const a=+s;if(a>=t){const l=e[s];delete e[s],(n>0||a>t)&&(e[a+n]=l)}}}function UH(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}class bi{static register(...t){Ws.add(...t),nR()}static unregister(...t){Ws.remove(...t),nR()}constructor(t,n){const i=this.config=new IH(n),s=BI(t),a=eR(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||iH(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,l.aspectRatio),h=c&&c.canvas,f=h&&h.height,p=h&&h.width;if(this.id=zq(),this.ctx=c,this.canvas=h,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new xH,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=i8(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],Dg[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Ur.listen(this,"complete",tR),Ur.listen(this,"progress",VH),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:a}=this;return Yt(t)?n&&a?a:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ws}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():SA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return xA(this.canvas,this.ctx),this}stop(){return Ur.stop(this),this}resize(t,n){Ur.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,n,a),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,SA(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),ke(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};be(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let a=[];n&&(a=a.concat(Object.keys(n).map(l=>{const c=n[l],h=q0(l,c),f=h==="r",p=h==="x";return{options:c,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),be(a,l=>{const c=l.options,h=c.id,f=q0(h,c),p=Ft(c.type,l.dtype);(c.position===void 0||ZA(c.position,f)!==ZA(l.dposition))&&(c.position=l.dposition),s[h]=!0;let y=null;if(h in i&&i[h].type===p)y=i[h];else{const _=Ws.getScale(p);y=new _({id:h,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(c,t)}),be(s,(l,c)=>{l||delete i[c]}),be(i,l=>{hi.configure(this,l,l.options),hi.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,a)=>s.index-a.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(JA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const a=n[i];let l=this.getDatasetMeta(i);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=a.indexAxis||F0(c,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=Ws.getController(c),{datasetElementType:f,dataElementType:p}=je.datasets[c];Object.assign(h,{dataElementType:Ws.getElement(p),datasetElementType:f&&Ws.getElement(f)}),l.controller=new h(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){be(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:y}=this.getDatasetMeta(f),_=!s&&a.indexOf(y)===-1;y.buildOrUpdateElements(_),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||be(a,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(JA("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){be(this.scales,t=>{hi.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!fA(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of n){const l=i==="_removeElements"?-a:a;jH(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=a=>new Set(t.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),s=i(0);for(let a=1;a<n;a++)if(!fA(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;hi.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],be(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,po(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ur.has(this)?this.attached&&!Ur.running(this)&&Ur.start(this):(this.draw(),tR({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,a;for(s=0,a=n.length;s<a;++s){const l=n[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=CI(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Hm(n,s),t.controller.draw(),s&&Wm(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Kr(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const a=L$.modes[n];return typeof a=="function"?a(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(a=>a&&a._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=bo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,s);Df(n)?(a.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(a,{visible:i}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ur.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),xA(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Dg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(a,l)=>{n.addEventListener(this,a,l),t[a]=l},s=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};be(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(h,f)=>{n.addEventListener(this,h,f),t[h]=f},s=(h,f)=>{t[h]&&(n.removeEventListener(this,h,f),delete t[h])},a=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",c)},n.isAttached(this.canvas)?c():l()}unbindEvents(){be(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},be(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let a,l,c,h;for(n==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),c=0,h=t.length;c<h;++c){l=t[c];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!tm(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,a=(h,f)=>h.filter(p=>!f.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),l=a(n,t),c=i?t:a(t,n);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:a}=this,l=n,c=this._getActiveElements(t,s,i,l),h=Wq(t),f=UH(t,this._lastEvent,i,h);i&&(this._lastEvent=null,ke(a.onHover,[t,c,this],this),h&&ke(a.onClick,[t,c,this],this));const p=!tm(c,s);return(p||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=f,p}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,s)}}wt(bi,"defaults",je),wt(bi,"instances",Dg),wt(bi,"overrides",wl),wt(bi,"registry",Ws),wt(bi,"version",NH),wt(bi,"getChart",eR);function nR(){return be(bi.instances,e=>e._plugins.invalidate())}function zH(e,t,n){const{startAngle:i,x:s,y:a,outerRadius:l,innerRadius:c,options:h}=t,{borderWidth:f,borderJoinStyle:p}=h,y=Math.min(f/l,ci(i-n));if(e.beginPath(),e.arc(s,a,l-f/2,i+y/2,n-y/2),c>0){const _=Math.min(f/c,ci(i-n));e.arc(s,a,c+f/2,n-_/2,i+_/2,!0)}else{const _=Math.min(f/2,l*ci(i-n));if(p==="round")e.arc(s,a,_,n-de/2,i+de/2,!0);else if(p==="bevel"){const x=2*_*_,E=-x*Math.cos(n+de/2)+s,A=-x*Math.sin(n+de/2)+a,T=x*Math.cos(i+de/2)+s,D=x*Math.sin(i+de/2)+a;e.lineTo(E,A),e.lineTo(T,D)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function BH(e,t,n){const{startAngle:i,pixelMargin:s,x:a,y:l,outerRadius:c,innerRadius:h}=t;let f=s/c;e.beginPath(),e.arc(a,l,c,i-f,n+f),h>s?(f=s/h,e.arc(a,l,h,n+f,i-f,!0)):e.arc(a,l,s,n+sn,i-sn),e.closePath(),e.clip()}function FH(e){return wx(e,["outerStart","outerEnd","innerStart","innerEnd"])}function qH(e,t,n,i){const s=FH(e.options.borderRadius),a=(n-t)/2,l=Math.min(a,i*t/2),c=h=>{const f=(n-Math.min(a,h))*i/2;return zn(h,0,Math.min(a,f))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:zn(s.innerStart,0,l),innerEnd:zn(s.innerEnd,0,l)}}function Ec(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function am(e,t,n,i,s,a){const{x:l,y:c,startAngle:h,pixelMargin:f,innerRadius:p}=t,y=Math.max(t.outerRadius+i+n-f,0),_=p>0?p+i+n+f:0;let x=0;const E=s-h;if(i){const X=p>0?p-i:0,V=y>0?y-i:0,Z=(X+V)/2,ct=Z!==0?E*Z/(Z+i):E;x=(E-ct)/2}const A=Math.max(.001,E*y-n/de)/y,T=(E-A)/2,D=h+T+x,O=s-T-x,{outerStart:L,outerEnd:B,innerStart:M,innerEnd:Y}=qH(t,_,y,O-D),C=y-L,k=y-B,P=D+L/C,z=O-B/k,U=_+M,$=_+Y,F=D+M/U,Pt=O-Y/$;if(e.beginPath(),a){const X=(P+z)/2;if(e.arc(l,c,y,P,X),e.arc(l,c,y,X,z),B>0){const st=Ec(k,z,l,c);e.arc(st.x,st.y,B,z,O+sn)}const V=Ec($,O,l,c);if(e.lineTo(V.x,V.y),Y>0){const st=Ec($,Pt,l,c);e.arc(st.x,st.y,Y,O+sn,Pt+Math.PI)}const Z=(O-Y/_+(D+M/_))/2;if(e.arc(l,c,_,O-Y/_,Z,!0),e.arc(l,c,_,Z,D+M/_,!0),M>0){const st=Ec(U,F,l,c);e.arc(st.x,st.y,M,F+Math.PI,D-sn)}const ct=Ec(C,D,l,c);if(e.lineTo(ct.x,ct.y),L>0){const st=Ec(C,P,l,c);e.arc(st.x,st.y,L,D-sn,P)}}else{e.moveTo(l,c);const X=Math.cos(P)*y+l,V=Math.sin(P)*y+c;e.lineTo(X,V);const Z=Math.cos(z)*y+l,ct=Math.sin(z)*y+c;e.lineTo(Z,ct)}e.closePath()}function $H(e,t,n,i,s){const{fullCircles:a,startAngle:l,circumference:c}=t;let h=t.endAngle;if(a){am(e,t,n,i,h,s);for(let f=0;f<a;++f)e.fill();isNaN(c)||(h=l+(c%Ve||Ve))}return am(e,t,n,i,h,s),e.fill(),h}function HH(e,t,n,i,s){const{fullCircles:a,startAngle:l,circumference:c,options:h}=t,{borderWidth:f,borderJoinStyle:p,borderDash:y,borderDashOffset:_,borderRadius:x}=h,E=h.borderAlign==="inner";if(!f)return;e.setLineDash(y||[]),e.lineDashOffset=_,E?(e.lineWidth=f*2,e.lineJoin=p||"round"):(e.lineWidth=f,e.lineJoin=p||"bevel");let A=t.endAngle;if(a){am(e,t,n,i,A,s);for(let T=0;T<a;++T)e.stroke();isNaN(c)||(A=l+(c%Ve||Ve))}E&&BH(e,t,A),h.selfJoin&&A-l>=de&&x===0&&p!=="miter"&&zH(e,t,A),a||(am(e,t,n,i,A,s),e.stroke())}class Mc extends Ts{constructor(n){super();wt(this,"circumference");wt(this,"endAngle");wt(this,"fullCircles");wt(this,"innerRadius");wt(this,"outerRadius");wt(this,"pixelMargin");wt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const a=this.getProps(["x","y"],s),{angle:l,distance:c}=lI(a,{x:n,y:i}),{startAngle:h,endAngle:f,innerRadius:p,outerRadius:y,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),x=(this.options.spacing+this.options.borderWidth)/2,E=Ft(_,f-h),A=Mf(l,h,f)&&h!==f,T=E>=Ve||A,D=Yr(c,p+x,y+x);return T&&D}getCenterPoint(n){const{x:i,y:s,startAngle:a,endAngle:l,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:f,spacing:p}=this.options,y=(a+l)/2,_=(c+h+p+f)/2;return{x:i+Math.cos(y)*_,y:s+Math.sin(y)*_}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,a=(i.offset||0)/4,l=(i.spacing||0)/2,c=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Ve?Math.floor(s/Ve):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const h=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(h)*a,Math.sin(h)*a);const f=1-Math.sin(Math.min(de,s||0)),p=a*f;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,$H(n,this,p,l,c),HH(n,this,p,l,c),n.restore()}}wt(Mc,"id","arc"),wt(Mc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),wt(Mc,"defaultRoutes",{backgroundColor:"backgroundColor"}),wt(Mc,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function FI(e,t,n=t){e.lineCap=Ft(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Ft(n.borderDash,t.borderDash)),e.lineDashOffset=Ft(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Ft(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Ft(n.borderWidth,t.borderWidth),e.strokeStyle=Ft(n.borderColor,t.borderColor)}function WH(e,t,n){e.lineTo(n.x,n.y)}function YH(e){return e.stepped?g8:e.tension||e.cubicInterpolationMode==="monotone"?m8:WH}function qI(e,t,n={}){const i=e.length,{start:s=0,end:a=i-1}=n,{start:l,end:c}=t,h=Math.max(s,l),f=Math.min(a,c),p=s<l&&a<l||s>c&&a>c;return{count:i,start:h,loop:t.loop,ilen:f<h&&!p?i+f-h:f-h}}function GH(e,t,n,i){const{points:s,options:a}=t,{count:l,start:c,loop:h,ilen:f}=qI(s,n,i),p=YH(a);let{move:y=!0,reverse:_}=i||{},x,E,A;for(x=0;x<=f;++x)E=s[(c+(_?f-x:x))%l],!E.skip&&(y?(e.moveTo(E.x,E.y),y=!1):p(e,A,E,_,a.stepped),A=E);return h&&(E=s[(c+(_?f:0))%l],p(e,A,E,_,a.stepped)),!!h}function KH(e,t,n,i){const s=t.points,{count:a,start:l,ilen:c}=qI(s,n,i),{move:h=!0,reverse:f}=i||{};let p=0,y=0,_,x,E,A,T,D;const O=B=>(l+(f?c-B:B))%a,L=()=>{A!==T&&(e.lineTo(p,T),e.lineTo(p,A),e.lineTo(p,D))};for(h&&(x=s[O(0)],e.moveTo(x.x,x.y)),_=0;_<=c;++_){if(x=s[O(_)],x.skip)continue;const B=x.x,M=x.y,Y=B|0;Y===E?(M<A?A=M:M>T&&(T=M),p=(y*p+B)/++y):(L(),e.lineTo(B,M),E=Y,y=0,A=T=M),D=M}L()}function $0(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?KH:GH}function XH(e){return e.stepped?G8:e.tension||e.cubicInterpolationMode==="monotone"?K8:sl}function QH(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),FI(e,t.options),e.stroke(s)}function ZH(e,t,n,i){const{segments:s,options:a}=t,l=$0(t);for(const c of s)FI(e,a,c.style),e.beginPath(),l(e,t,c,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const JH=typeof Path2D=="function";function t7(e,t,n,i){JH&&!t.options.segment?QH(e,t,n,i):ZH(e,t,n,i)}class Ka extends Ts{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;z8(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=e$(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],a=this.points,l=kI(this,{property:n,start:s,end:s});if(!l.length)return;const c=[],h=XH(i);let f,p;for(f=0,p=l.length;f<p;++f){const{start:y,end:_}=l[f],x=a[y],E=a[_];if(x===E){c.push(x);continue}const A=Math.abs((s-x[n])/(E[n]-x[n])),T=h(x,E,A,i.stepped);T[n]=t[n],c.push(T)}return c.length===1?c[0]:c}pathSegment(t,n,i){return $0(this)(t,this,n,i)}path(t,n,i){const s=this.segments,a=$0(this);let l=this._loop;n=n||0,i=i||this.points.length-n;for(const c of s)l&=a(t,this,c,{start:n,end:n+i-1});return!!l}draw(t,n,i,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),t7(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}wt(Ka,"id","line"),wt(Ka,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),wt(Ka,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),wt(Ka,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function iR(e,t,n,i){const s=e.options,{[n]:a}=e.getProps([n],i);return Math.abs(t-a)<s.radius+s.hitRadius}class rf extends Ts{constructor(n){super();wt(this,"parsed");wt(this,"skip");wt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const a=this.options,{x:l,y:c}=this.getProps(["x","y"],s);return Math.pow(n-l,2)+Math.pow(i-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(n,i){return iR(this,n,"x",i)}inYRange(n,i){return iR(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!Kr(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,z0(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}wt(rf,"id","point"),wt(rf,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),wt(rf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function $I(e,t){const{x:n,y:i,base:s,width:a,height:l}=e.getProps(["x","y","base","width","height"],t);let c,h,f,p,y;return e.horizontal?(y=l/2,c=Math.min(n,s),h=Math.max(n,s),f=i-y,p=i+y):(y=a/2,c=n-y,h=n+y,f=Math.min(i,s),p=Math.max(i,s)),{left:c,top:f,right:h,bottom:p}}function Xa(e,t,n,i){return e?0:zn(t,n,i)}function e7(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,a=yI(i);return{t:Xa(s.top,a.top,0,n),r:Xa(s.right,a.right,0,t),b:Xa(s.bottom,a.bottom,0,n),l:Xa(s.left,a.left,0,t)}}function n7(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,a=fl(s),l=Math.min(t,n),c=e.borderSkipped,h=i||ee(s);return{topLeft:Xa(!h||c.top||c.left,a.topLeft,0,l),topRight:Xa(!h||c.top||c.right,a.topRight,0,l),bottomLeft:Xa(!h||c.bottom||c.left,a.bottomLeft,0,l),bottomRight:Xa(!h||c.bottom||c.right,a.bottomRight,0,l)}}function i7(e){const t=$I(e),n=t.right-t.left,i=t.bottom-t.top,s=e7(e,n/2,i/2),a=n7(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:a},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function Nb(e,t,n,i){const s=t===null,a=n===null,c=e&&!(s&&a)&&$I(e,i);return c&&(s||Yr(t,c.left,c.right))&&(a||Yr(n,c.top,c.bottom))}function s7(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function r7(e,t){e.rect(t.x,t.y,t.w,t.h)}function Lb(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-i,l=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+a,h:e.h+l,radius:e.radius}}class af extends Ts{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:a,outer:l}=i7(this),c=s7(l.radius)?If:r7;t.save(),(l.w!==a.w||l.h!==a.h)&&(t.beginPath(),c(t,Lb(l,n,a)),t.clip(),c(t,Lb(a,-n,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,Lb(a,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return Nb(this,t,n,i)}inXRange(t,n){return Nb(this,t,null,n)}inYRange(t,n){return Nb(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(n+s)/2:n,y:a?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}wt(af,"id","bar"),wt(af,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),wt(af,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var a7=Object.freeze({__proto__:null,ArcElement:Mc,BarElement:af,LineElement:Ka,PointElement:rf});const H0=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],sR=H0.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function HI(e){return H0[e%H0.length]}function WI(e){return sR[e%sR.length]}function o7(e,t){return e.borderColor=HI(t),e.backgroundColor=WI(t),++t}function l7(e,t){return e.backgroundColor=e.data.map(()=>HI(t++)),t}function c7(e,t){return e.backgroundColor=e.data.map(()=>WI(t++)),t}function u7(e){let t=0;return(n,i)=>{const s=e.getDatasetMeta(i).controller;s instanceof ll?t=l7(n,t):s instanceof sf?t=c7(n,t):s&&(t=o7(n,t))}}function rR(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function h7(e){return e&&(e.borderColor||e.backgroundColor)}function f7(){return je.borderColor!=="rgba(0,0,0,0.1)"||je.backgroundColor!=="rgba(0,0,0,0.1)"}var d7={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=e.config,{elements:a}=s,l=rR(i)||h7(s)||a&&rR(a)||f7();if(!n.forceOverride&&l)return;const c=u7(e);i.forEach(c)}};function p7(e,t,n,i,s){const a=s.samples||i;if(a>=n)return e.slice(t,t+n);const l=[],c=(n-2)/(a-2);let h=0;const f=t+n-1;let p=t,y,_,x,E,A;for(l[h++]=e[p],y=0;y<a-2;y++){let T=0,D=0,O;const L=Math.floor((y+1)*c)+1+t,B=Math.min(Math.floor((y+2)*c)+1,n)+t,M=B-L;for(O=L;O<B;O++)T+=e[O].x,D+=e[O].y;T/=M,D/=M;const Y=Math.floor(y*c)+1+t,C=Math.min(Math.floor((y+1)*c)+1,n)+t,{x:k,y:P}=e[p];for(x=E=-1,O=Y;O<C;O++)E=.5*Math.abs((k-T)*(e[O].y-P)-(k-e[O].x)*(D-P)),E>x&&(x=E,_=e[O],A=O);l[h++]=_,p=A}return l[h++]=e[f],l}function g7(e,t,n,i){let s=0,a=0,l,c,h,f,p,y,_,x,E,A;const T=[],D=t+n-1,O=e[t].x,B=e[D].x-O;for(l=t;l<t+n;++l){c=e[l],h=(c.x-O)/B*i,f=c.y;const M=h|0;if(M===p)f<E?(E=f,y=l):f>A&&(A=f,_=l),s=(a*s+c.x)/++a;else{const Y=l-1;if(!Yt(y)&&!Yt(_)){const C=Math.min(y,_),k=Math.max(y,_);C!==x&&C!==Y&&T.push({...e[C],x:s}),k!==x&&k!==Y&&T.push({...e[k],x:s})}l>0&&Y!==x&&T.push(e[Y]),T.push(c),p=M,a=0,E=A=f,y=_=x=l}}return T}function YI(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function aR(e){e.data.datasets.forEach(t=>{YI(t)})}function m7(e,t){const n=t.length;let i=0,s;const{iScale:a}=e,{min:l,max:c,minDefined:h,maxDefined:f}=a.getUserBounds();return h&&(i=zn(Gr(t,a.axis,l).lo,0,n-1)),f?s=zn(Gr(t,a.axis,c).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var y7={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){aR(e);return}const i=e.width;e.data.datasets.forEach((s,a)=>{const{_data:l,indexAxis:c}=s,h=e.getDatasetMeta(a),f=l||s.data;if(Ne([c,e.options.indexAxis])==="y"||!h.controller.supportsDecimation)return;const p=e.scales[h.xAxisID];if(p.type!=="linear"&&p.type!=="time"||e.options.parsing)return;let{start:y,count:_}=m7(h,f);const x=n.threshold||4*i;if(_<=x){YI(s);return}Yt(l)&&(s._data=f,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(A){this._data=A}}));let E;switch(n.algorithm){case"lttb":E=p7(f,y,_,i,n);break;case"min-max":E=g7(f,y,_,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=E})},destroy(e){aR(e)}};function _7(e,t,n){const i=e.segments,s=e.points,a=t.points,l=[];for(const c of i){let{start:h,end:f}=c;f=Km(h,f,s);const p=W0(n,s[h],s[f],c.loop);if(!t.segments){l.push({source:c,target:p,start:s[h],end:s[f]});continue}const y=kI(t,p);for(const _ of y){const x=W0(n,a[_.start],a[_.end],_.loop),E=RI(c,s,x);for(const A of E)l.push({source:A,target:_,start:{[n]:oR(p,x,"start",Math.max)},end:{[n]:oR(p,x,"end",Math.min)}})}}return l}function W0(e,t,n,i){if(i)return;let s=t[e],a=n[e];return e==="angle"&&(s=ci(s),a=ci(a)),{property:e,start:s,end:a}}function b7(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,a=[];return t.segments.forEach(({start:l,end:c})=>{c=Km(l,c,s);const h=s[l],f=s[c];i!==null?(a.push({x:h.x,y:i}),a.push({x:f.x,y:i})):n!==null&&(a.push({x:n,y:h.y}),a.push({x:n,y:f.y}))}),a}function Km(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function oR(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function GI(e,t){let n=[],i=!1;return Le(e)?(i=!0,n=e):n=b7(e,t),n.length?new Ka({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function lR(e){return e&&e.fill!==!1}function v7(e,t,n){let s=e[t].fill;const a=[t];let l;if(!n)return s;for(;s!==!1&&a.indexOf(s)===-1;){if(!Ze(s))return s;if(l=e[s],!l)return!1;if(l.visible)return s;a.push(s),s=l.fill}return!1}function x7(e,t,n){const i=T7(e);if(ee(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Ze(s)&&Math.floor(s)===s?w7(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function w7(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function E7(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:ee(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function S7(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:ee(e)?i=e.value:i=t.getBaseValue(),i}function T7(e){const t=e.options,n=t.fill;let i=Ft(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function A7(e){const{scale:t,index:n,line:i}=e,s=[],a=i.segments,l=i.points,c=R7(t,n);c.push(GI({x:null,y:t.bottom},i));for(let h=0;h<a.length;h++){const f=a[h];for(let p=f.start;p<=f.end;p++)k7(s,l[p],c)}return new Ka({points:s,options:{}})}function R7(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const a=i[s];if(a.index===t)break;a.hidden||n.unshift(a.dataset)}return n}function k7(e,t,n){const i=[];for(let s=0;s<n.length;s++){const a=n[s],{first:l,last:c,point:h}=C7(a,t,"x");if(!(!h||l&&c)){if(l)i.unshift(h);else if(e.push(h),!c)break}}e.push(...i)}function C7(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],a=e.segments,l=e.points;let c=!1,h=!1;for(let f=0;f<a.length;f++){const p=a[f],y=l[p.start][n],_=l[p.end][n];if(Yr(s,y,_)){c=s===y,h=s===_;break}}return{first:c,last:h,point:i}}class KI{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:a,radius:l}=this;return n=n||{start:0,end:Ve},t.arc(s,a,l,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,a=t.angle;return{x:n+Math.cos(a)*s,y:i+Math.sin(a)*s,angle:a}}}function D7(e){const{chart:t,fill:n,line:i}=e;if(Ze(n))return M7(t,n);if(n==="stack")return A7(e);if(n==="shape")return!0;const s=I7(e);return s instanceof KI?s:GI(s,i)}function M7(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function I7(e){return(e.scale||{}).getPointPositionForValue?P7(e):O7(e)}function O7(e){const{scale:t={},fill:n}=e,i=E7(n,t);if(Ze(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function P7(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,a=i.reverse?t.max:t.min,l=S7(n,t,a),c=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,a);return new KI({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(l)})}for(let h=0;h<s;++h)c.push(t.getPointPositionForValue(h,l));return c}function Vb(e,t,n){const i=D7(t),{chart:s,index:a,line:l,scale:c,axis:h}=t,f=l.options,p=f.fill,y=f.backgroundColor,{above:_=y,below:x=y}=p||{},E=s.getDatasetMeta(a),A=CI(s,E);i&&l.points.length&&(Hm(e,n),N7(e,{line:l,target:i,above:_,below:x,area:n,scale:c,axis:h,clip:A}),Wm(e))}function N7(e,t){const{line:n,target:i,above:s,below:a,area:l,scale:c,clip:h}=t,f=n._loop?"angle":t.axis;e.save();let p=a;a!==s&&(f==="x"?(cR(e,i,l.top),jb(e,{line:n,target:i,color:s,scale:c,property:f,clip:h}),e.restore(),e.save(),cR(e,i,l.bottom)):f==="y"&&(uR(e,i,l.left),jb(e,{line:n,target:i,color:a,scale:c,property:f,clip:h}),e.restore(),e.save(),uR(e,i,l.right),p=s)),jb(e,{line:n,target:i,color:p,scale:c,property:f,clip:h}),e.restore()}function cR(e,t,n){const{segments:i,points:s}=t;let a=!0,l=!1;e.beginPath();for(const c of i){const{start:h,end:f}=c,p=s[h],y=s[Km(h,f,s)];a?(e.moveTo(p.x,p.y),a=!1):(e.lineTo(p.x,n),e.lineTo(p.x,p.y)),l=!!t.pathSegment(e,c,{move:l}),l?e.closePath():e.lineTo(y.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function uR(e,t,n){const{segments:i,points:s}=t;let a=!0,l=!1;e.beginPath();for(const c of i){const{start:h,end:f}=c,p=s[h],y=s[Km(h,f,s)];a?(e.moveTo(p.x,p.y),a=!1):(e.lineTo(n,p.y),e.lineTo(p.x,p.y)),l=!!t.pathSegment(e,c,{move:l}),l?e.closePath():e.lineTo(n,y.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function jb(e,t){const{line:n,target:i,property:s,color:a,scale:l,clip:c}=t,h=_7(n,i,s);for(const{source:f,target:p,start:y,end:_}of h){const{style:{backgroundColor:x=a}={}}=f,E=i!==!0;e.save(),e.fillStyle=x,L7(e,l,c,E&&W0(s,y,_)),e.beginPath();const A=!!n.pathSegment(e,f);let T;if(E){A?e.closePath():hR(e,i,_,s);const D=!!i.pathSegment(e,p,{move:A,reverse:!0});T=A&&D,T||hR(e,i,y,s)}e.closePath(),e.fill(T?"evenodd":"nonzero"),e.restore()}}function L7(e,t,n,i){const s=t.chart.chartArea,{property:a,start:l,end:c}=i||{};if(a==="x"||a==="y"){let h,f,p,y;a==="x"?(h=l,f=s.top,p=c,y=s.bottom):(h=s.left,f=l,p=s.right,y=c),e.beginPath(),n&&(h=Math.max(h,n.left),p=Math.min(p,n.right),f=Math.max(f,n.top),y=Math.min(y,n.bottom)),e.rect(h,f,p-h,y-f),e.clip()}}function hR(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var V7={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let a,l,c,h;for(l=0;l<i;++l)a=e.getDatasetMeta(l),c=a.dataset,h=null,c&&c.options&&c instanceof Ka&&(h={visible:e.isDatasetVisible(l),index:l,fill:x7(c,l,i),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:c}),a.$filler=h,s.push(h);for(l=0;l<i;++l)h=s[l],!(!h||h.fill===!1)&&(h.fill=v7(s,l,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let l=s.length-1;l>=0;--l){const c=s[l].$filler;c&&(c.line.updateControlPoints(a,c.axis),i&&c.fill&&Vb(e.ctx,c,a))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const a=i[s].$filler;lR(a)&&Vb(e.ctx,a,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!lR(i)||n.drawTime!=="beforeDatasetDraw"||Vb(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const fR=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},j7=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class dR extends Ts{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=ke(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=_n(i.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=fR(i,a);let f,p;n.font=s.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,a,c,h)+10):(p=this.maxHeight,f=this._fitCols(l,s,c,h)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=s+c;let y=t;a.textAlign="left",a.textBaseline="middle";let _=-1,x=-p;return this.legendItems.forEach((E,A)=>{const T=i+n/2+a.measureText(E.text).width;(A===0||f[f.length-1]+T+2*c>l)&&(y+=p,f[f.length-(A>0?0:1)]=0,x+=p,_++),h[A]={left:0,top:x,row:_,width:T,height:s},f[f.length-1]+=T+c}),y}_fitCols(t,n,i,s){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-t;let y=c,_=0,x=0,E=0,A=0;return this.legendItems.forEach((T,D)=>{const{itemWidth:O,itemHeight:L}=U7(i,n,a,T,s);D>0&&x+L+2*c>p&&(y+=_+c,f.push({width:_,height:x}),E+=_+c,A++,_=x=0),h[D]={left:E,top:x,col:A,width:O,height:L},_=Math.max(_,O),x+=L+c}),y+=_,f.push({width:_,height:x}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:a}}=this,l=jc(a,this.left,this.width);if(this.isHorizontal()){let c=0,h=ai(i,this.left+s,this.right-this.lineWidths[c]);for(const f of n)c!==f.row&&(c=f.row,h=ai(i,this.left+s,this.right-this.lineWidths[c])),f.top+=this.top+t+s,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+s}else{let c=0,h=ai(i,this.top+t+s,this.bottom-this.columnSizes[c].height);for(const f of n)f.col!==c&&(c=f.col,h=ai(i,this.top+t+s,this.bottom-this.columnSizes[c].height)),f.top=h,f.left+=this.left+s,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Hm(t,this),this._draw(),Wm(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:a,labels:l}=t,c=je.color,h=jc(t.rtl,this.left,this.width),f=_n(l.font),{padding:p}=l,y=f.size,_=y/2;let x;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=f.string;const{boxWidth:E,boxHeight:A,itemHeight:T}=fR(l,y),D=function(Y,C,k){if(isNaN(E)||E<=0||isNaN(A)||A<0)return;s.save();const P=Ft(k.lineWidth,1);if(s.fillStyle=Ft(k.fillStyle,c),s.lineCap=Ft(k.lineCap,"butt"),s.lineDashOffset=Ft(k.lineDashOffset,0),s.lineJoin=Ft(k.lineJoin,"miter"),s.lineWidth=P,s.strokeStyle=Ft(k.strokeStyle,c),s.setLineDash(Ft(k.lineDash,[])),l.usePointStyle){const z={radius:A*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:P},U=h.xPlus(Y,E/2),$=C+_;mI(s,z,U,$,l.pointStyleWidth&&E)}else{const z=C+Math.max((y-A)/2,0),U=h.leftForLtr(Y,E),$=fl(k.borderRadius);s.beginPath(),Object.values($).some(F=>F!==0)?If(s,{x:U,y:z,w:E,h:A,radius:$}):s.rect(U,z,E,A),s.fill(),P!==0&&s.stroke()}s.restore()},O=function(Y,C,k){El(s,k.text,Y,C+T/2,f,{strikethrough:k.hidden,textAlign:h.textAlign(k.textAlign)})},L=this.isHorizontal(),B=this._computeTitleHeight();L?x={x:ai(a,this.left+p,this.right-i[0]),y:this.top+p+B,line:0}:x={x:this.left+p,y:ai(a,this.top+B+p,this.bottom-n[0].height),line:0},SI(this.ctx,t.textDirection);const M=T+p;this.legendItems.forEach((Y,C)=>{s.strokeStyle=Y.fontColor,s.fillStyle=Y.fontColor;const k=s.measureText(Y.text).width,P=h.textAlign(Y.textAlign||(Y.textAlign=l.textAlign)),z=E+_+k;let U=x.x,$=x.y;h.setWidth(this.width),L?C>0&&U+z+p>this.right&&($=x.y+=M,x.line++,U=x.x=ai(a,this.left+p,this.right-i[x.line])):C>0&&$+M>this.bottom&&(U=x.x=U+n[x.line].width+p,x.line++,$=x.y=ai(a,this.top+B+p,this.bottom-n[x.line].height));const F=h.x(U);if(D(F,$,Y),U=s8(P,U+E+_,L?U+z:this.right,t.rtl),O(h.x(U),$,Y),L)x.x+=z+p;else if(typeof Y.text!="string"){const Pt=f.lineHeight;x.y+=XI(Y,Pt)+p}else x.y+=M}),TI(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=_n(n.font),s=ti(n.padding);if(!n.display)return;const a=jc(t.rtl,this.left,this.width),l=this.ctx,c=n.position,h=i.size/2,f=s.top+h;let p,y=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+f,y=ai(t.align,y,this.right-_);else{const E=this.columnSizes.reduce((A,T)=>Math.max(A,T.height),0);p=f+ai(t.align,this.top,this.bottom-E-t.labels.padding-this._computeTitleHeight())}const x=ai(c,y,y+_);l.textAlign=a.textAlign(vx(c)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=i.string,El(l,n.text,x,p,i)}_computeTitleHeight(){const t=this.options.title,n=_n(t.font),i=ti(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,a;if(Yr(t,this.left,this.right)&&Yr(n,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],Yr(t,s.left,s.left+s.width)&&Yr(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!F7(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,a=j7(s,i);s&&!a&&ke(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!a&&ke(n.onHover,[t,i,this],this)}else i&&ke(n.onClick,[t,i,this],this)}}function U7(e,t,n,i,s){const a=z7(i,e,t,n),l=B7(s,i,t.lineHeight);return{itemWidth:a,itemHeight:l}}function z7(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),t+n.size/2+i.measureText(s).width}function B7(e,t,n){let i=e;return typeof t.text!="string"&&(i=XI(t,n)),i}function XI(e,t){const n=e.text?e.text.length:0;return t*n}function F7(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var q7={id:"legend",_element:dR,start(e,t,n){const i=e.legend=new dR({ctx:e.ctx,options:n,chart:e});hi.configure(e,i,n),hi.addBox(e,i)},stop(e){hi.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;hi.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:a,useBorderRadius:l,borderRadius:c}}=e.legend.options;return e._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(n?0:void 0),p=ti(f.borderWidth);return{text:t[h.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:s||f.textAlign,borderRadius:l&&(c||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Cx extends Ts{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=Le(i.text)?i.text.length:1;this._padding=ti(i.padding);const a=s*_n(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:a,options:l}=this,c=l.align;let h=0,f,p,y;return this.isHorizontal()?(p=ai(c,i,a),y=n+t,f=a-i):(l.position==="left"?(p=i+t,y=ai(c,s,n),h=de*-.5):(p=a-t,y=ai(c,n,s),h=de*.5),f=s-n),{titleX:p,titleY:y,maxWidth:f,rotation:h}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=_n(n.font),a=i.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:h,rotation:f}=this._drawArgs(a);El(t,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:f,textAlign:vx(n.align),textBaseline:"middle",translation:[l,c]})}}function $7(e,t){const n=new Cx({ctx:e.ctx,options:t,chart:e});hi.configure(e,n,t),hi.addBox(e,n),e.titleBlock=n}var H7={id:"title",_element:Cx,start(e,t,n){$7(e,n)},stop(e){const t=e.titleBlock;hi.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;hi.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Hp=new WeakMap;var W7={id:"subtitle",start(e,t,n){const i=new Cx({ctx:e.ctx,options:n,chart:e});hi.configure(e,i,n),hi.addBox(e,i),Hp.set(e,i)},stop(e){hi.removeBox(e,Hp.get(e)),Hp.delete(e)},beforeUpdate(e,t,n){const i=Hp.get(e);hi.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qh={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,a=0;for(t=0,n=e.length;t<n;++t){const c=e[t].element;if(c&&c.hasValue()){const h=c.tooltipPosition();i.add(h.x),s+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((c,h)=>c+h)/i.size,y:s/a}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=e.length;a<l;++a){const h=e[a].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=j0(t,f);p<s&&(s=p,c=h)}}if(c){const h=c.tooltipPosition();n=h.x,i=h.y}return{x:n,y:i}}};function $s(e,t){return t&&(Le(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function zr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Y7(e,t){const{element:n,datasetIndex:i,index:s}=t,a=e.getDatasetMeta(i).controller,{label:l,value:c}=a.getLabelAndValue(s);return{chart:e,label:l,parsed:a.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:c,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function pR(e,t){const n=e.chart.ctx,{body:i,footer:s,title:a}=e,{boxWidth:l,boxHeight:c}=t,h=_n(t.bodyFont),f=_n(t.titleFont),p=_n(t.footerFont),y=a.length,_=s.length,x=i.length,E=ti(t.padding);let A=E.height,T=0,D=i.reduce((B,M)=>B+M.before.length+M.lines.length+M.after.length,0);if(D+=e.beforeBody.length+e.afterBody.length,y&&(A+=y*f.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),D){const B=t.displayColors?Math.max(c,h.lineHeight):h.lineHeight;A+=x*B+(D-x)*h.lineHeight+(D-1)*t.bodySpacing}_&&(A+=t.footerMarginTop+_*p.lineHeight+(_-1)*t.footerSpacing);let O=0;const L=function(B){T=Math.max(T,n.measureText(B).width+O)};return n.save(),n.font=f.string,be(e.title,L),n.font=h.string,be(e.beforeBody.concat(e.afterBody),L),O=t.displayColors?l+2+t.boxPadding:0,be(i,B=>{be(B.before,L),be(B.lines,L),be(B.after,L)}),O=0,n.font=p.string,be(e.footer,L),n.restore(),T+=E.width,{width:T,height:A}}function G7(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function K7(e,t,n,i){const{x:s,width:a}=i,l=n.caretSize+n.caretPadding;if(e==="left"&&s+a+l>t.width||e==="right"&&s-a-l<0)return!0}function X7(e,t,n,i){const{x:s,width:a}=n,{width:l,chartArea:{left:c,right:h}}=e;let f="center";return i==="center"?f=s<=(c+h)/2?"left":"right":s<=a/2?f="left":s>=l-a/2&&(f="right"),K7(f,e,t,n)&&(f="center"),f}function gR(e,t,n){const i=n.yAlign||t.yAlign||G7(e,n);return{xAlign:n.xAlign||t.xAlign||X7(e,t,n,i),yAlign:i}}function Q7(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function Z7(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function mR(e,t,n,i){const{caretSize:s,caretPadding:a,cornerRadius:l}=e,{xAlign:c,yAlign:h}=n,f=s+a,{topLeft:p,topRight:y,bottomLeft:_,bottomRight:x}=fl(l);let E=Q7(t,c);const A=Z7(t,h,f);return h==="center"?c==="left"?E+=f:c==="right"&&(E-=f):c==="left"?E-=Math.max(p,_)+s:c==="right"&&(E+=Math.max(y,x)+s),{x:zn(E,0,i.width-t.width),y:zn(A,0,i.height-t.height)}}function Wp(e,t,n){const i=ti(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function yR(e){return $s([],zr(e))}function J7(e,t,n){return bo(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function _R(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const QI={beforeTitle:jr,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:jr,beforeBody:jr,beforeLabel:jr,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Yt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:jr,afterBody:jr,beforeFooter:jr,footer:jr,afterFooter:jr};function Ei(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?QI[t].call(n,i):s}class Y0 extends Ts{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,a=new DI(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=J7(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=Ei(i,"beforeTitle",this,t),a=Ei(i,"title",this,t),l=Ei(i,"afterTitle",this,t);let c=[];return c=$s(c,zr(s)),c=$s(c,zr(a)),c=$s(c,zr(l)),c}getBeforeBody(t,n){return yR(Ei(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return be(t,a=>{const l={before:[],lines:[],after:[]},c=_R(i,a);$s(l.before,zr(Ei(c,"beforeLabel",this,a))),$s(l.lines,Ei(c,"label",this,a)),$s(l.after,zr(Ei(c,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(t,n){return yR(Ei(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=Ei(i,"beforeFooter",this,t),a=Ei(i,"footer",this,t),l=Ei(i,"afterFooter",this,t);let c=[];return c=$s(c,zr(s)),c=$s(c,zr(a)),c=$s(c,zr(l)),c}_createItems(t){const n=this._active,i=this.chart.data,s=[],a=[],l=[];let c=[],h,f;for(h=0,f=n.length;h<f;++h)c.push(Y7(this.chart,n[h]));return t.filter&&(c=c.filter((p,y,_)=>t.filter(p,y,_,i))),t.itemSort&&(c=c.sort((p,y)=>t.itemSort(p,y,i))),be(c,p=>{const y=_R(t.callbacks,p);s.push(Ei(y,"labelColor",this,p)),a.push(Ei(y,"labelPointStyle",this,p)),l.push(Ei(y,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const c=qh[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=pR(this,i),f=Object.assign({},c,h),p=gR(this.chart,i,f),y=mR(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const a=this.getCaretPosition(t,i,s);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:y}=fl(c),{x:_,y:x}=t,{width:E,height:A}=n;let T,D,O,L,B,M;return a==="center"?(B=x+A/2,s==="left"?(T=_,D=T-l,L=B+l,M=B-l):(T=_+E,D=T+l,L=B-l,M=B+l),O=T):(s==="left"?D=_+Math.max(h,p)+l:s==="right"?D=_+E-Math.max(f,y)-l:D=this.caretX,a==="top"?(L=x,B=L-l,T=D-l,O=D+l):(L=x+A,B=L+l,T=D+l,O=D-l),M=L),{x1:T,x2:D,x3:O,y1:L,y2:B,y3:M}}drawTitle(t,n,i){const s=this.title,a=s.length;let l,c,h;if(a){const f=jc(i.rtl,this.x,this.width);for(t.x=Wp(this,i.titleAlign,i),n.textAlign=f.textAlign(i.titleAlign),n.textBaseline="middle",l=_n(i.titleFont),c=i.titleSpacing,n.fillStyle=i.titleColor,n.font=l.string,h=0;h<a;++h)n.fillText(s[h],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,h+1===a&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,n,i,s,a){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=a,p=_n(a.bodyFont),y=Wp(this,"left",a),_=s.x(y),x=h<p.lineHeight?(p.lineHeight-h)/2:0,E=n.y+x;if(a.usePointStyle){const A={radius:Math.min(f,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},T=s.leftForLtr(_,f)+f/2,D=E+h/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,z0(t,A,T,D),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,z0(t,A,T,D)}else{t.lineWidth=ee(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const A=s.leftForLtr(_,f),T=s.leftForLtr(s.xPlus(_,1),f-2),D=fl(l.borderRadius);Object.values(D).some(O=>O!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,If(t,{x:A,y:E,w:f,h,radius:D}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),If(t,{x:T,y:E+1,w:f-2,h:h-2,radius:D}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(A,E,f,h),t.strokeRect(A,E,f,h),t.fillStyle=l.backgroundColor,t.fillRect(T,E+1,f-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:f,boxPadding:p}=i,y=_n(i.bodyFont);let _=y.lineHeight,x=0;const E=jc(i.rtl,this.x,this.width),A=function(k){n.fillText(k,E.x(t.x+x),t.y+_/2),t.y+=_+a},T=E.textAlign(l);let D,O,L,B,M,Y,C;for(n.textAlign=l,n.textBaseline="middle",n.font=y.string,t.x=Wp(this,T,i),n.fillStyle=i.bodyColor,be(this.beforeBody,A),x=c&&T!=="right"?l==="center"?f/2+p:f+2+p:0,B=0,Y=s.length;B<Y;++B){for(D=s[B],O=this.labelTextColors[B],n.fillStyle=O,be(D.before,A),L=D.lines,c&&L.length&&(this._drawColorBox(n,t,B,E,i),_=Math.max(y.lineHeight,h)),M=0,C=L.length;M<C;++M)A(L[M]),_=y.lineHeight;be(D.after,A)}x=0,_=y.lineHeight,be(this.afterBody,A),t.y-=a}drawFooter(t,n,i){const s=this.footer,a=s.length;let l,c;if(a){const h=jc(i.rtl,this.x,this.width);for(t.x=Wp(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=h.textAlign(i.footerAlign),n.textBaseline="middle",l=_n(i.footerFont),n.fillStyle=i.footerColor,n.font=l.string,c=0;c<a;++c)n.fillText(s[c],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:a,yAlign:l}=this,{x:c,y:h}=t,{width:f,height:p}=i,{topLeft:y,topRight:_,bottomLeft:x,bottomRight:E}=fl(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+y,h),l==="top"&&this.drawCaret(t,n,i,s),n.lineTo(c+f-_,h),n.quadraticCurveTo(c+f,h,c+f,h+_),l==="center"&&a==="right"&&this.drawCaret(t,n,i,s),n.lineTo(c+f,h+p-E),n.quadraticCurveTo(c+f,h+p,c+f-E,h+p),l==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(c+x,h+p),n.quadraticCurveTo(c,h+p,c,h+p-x),l==="center"&&a==="left"&&this.drawCaret(t,n,i,s),n.lineTo(c,h+y),n.quadraticCurveTo(c,h,c+y,h),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const l=qh[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=pR(this,t),h=Object.assign({},l,this._size),f=gR(n,t,h),p=mR(t,h,f,n);(s._to!==p.x||a._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=ti(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,s,n),SI(t,n.textDirection),a.y+=l.top,this.drawTitle(a,t,n),this.drawBody(a,t,n),this.drawFooter(a,t,n),TI(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:c,index:h})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[h],index:h}}),a=!tm(i,s),l=this._positionChanged(s,n);(a||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(t,a,n,i),c=this._positionChanged(l,t),h=n||!tm(l,a)||c;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),h}_getActiveElements(t,n,i,s){const a=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:i,caretY:s,options:a}=this,l=qh[a.position].call(this,t,n);return l!==!1&&(i!==l.x||s!==l.y)}}wt(Y0,"positioners",qh);var tW={id:"tooltip",_element:Y0,positioners:qh,afterInit(e,t,n){n&&(e.tooltip=new Y0({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:QI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},eW=Object.freeze({__proto__:null,Colors:d7,Decimation:y7,Filler:V7,Legend:q7,SubTitle:W7,Title:H7,Tooltip:tW});const nW=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function iW(e,t,n,i){const s=e.indexOf(t);if(s===-1)return nW(e,t,n,i);const a=e.lastIndexOf(t);return s!==a?n:s}const sW=(e,t)=>e===null?null:zn(Math.round(e),0,t);function bR(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class G0 extends Dl{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:a}of n)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Yt(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:iW(i,t,Ft(n,t),this._addedLabels),sW(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=t===0&&n===a.length-1?a:a.slice(t,n+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=n;l++)s.push({value:l});return s}getLabelForValue(t){return bR.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}wt(G0,"id","category"),wt(G0,"defaults",{ticks:{callback:bR}});function rW(e,t){const n=[],{bounds:s,step:a,min:l,max:c,precision:h,count:f,maxTicks:p,maxDigits:y,includeBounds:_}=e,x=a||1,E=p-1,{min:A,max:T}=t,D=!Yt(l),O=!Yt(c),L=!Yt(f),B=(T-A)/(y+1);let M=pA((T-A)/E/x)*x,Y,C,k,P;if(M<1e-14&&!D&&!O)return[{value:A},{value:T}];P=Math.ceil(T/M)-Math.floor(A/M),P>E&&(M=pA(P*M/E/x)*x),Yt(h)||(Y=Math.pow(10,h),M=Math.ceil(M*Y)/Y),s==="ticks"?(C=Math.floor(A/M)*M,k=Math.ceil(T/M)*M):(C=A,k=T),D&&O&&a&&Qq((c-l)/a,M/1e3)?(P=Math.round(Math.min((c-l)/M,p)),M=(c-l)/P,C=l,k=c):L?(C=D?l:C,k=O?c:k,P=f-1,M=(k-C)/P):(P=(k-C)/M,tf(P,Math.round(P),M/1e3)?P=Math.round(P):P=Math.ceil(P));const z=Math.max(gA(M),gA(C));Y=Math.pow(10,Yt(h)?z:h),C=Math.round(C*Y)/Y,k=Math.round(k*Y)/Y;let U=0;for(D&&(_&&C!==l?(n.push({value:l}),C<l&&U++,tf(Math.round((C+U*M)*Y)/Y,l,vR(l,B,e))&&U++):C<l&&U++);U<P;++U){const $=Math.round((C+U*M)*Y)/Y;if(O&&$>c)break;n.push({value:$})}return O&&_&&k!==c?n.length&&tf(n[n.length-1].value,c,vR(c,B,e))?n[n.length-1].value=c:n.push({value:c}):(!O||k===c)&&n.push({value:k}),n}function vR(e,t,{horizontal:n,minRotation:i}){const s=bs(i),a=(n?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+e).length;return Math.min(t/a,l)}class om extends Dl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Yt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const l=h=>s=n?s:h,c=h=>a=i?a:h;if(t){const h=ir(s),f=ir(a);h<0&&f<0?c(0):h>0&&f>0&&l(0)}if(s===a){let h=a===0?1:Math.abs(a*.05);c(a+h),t||l(s-h)}this.min=s,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,l=rW(s,a);return t.bounds==="ticks"&&oI(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return td(t,this.chart.options.locale,this.options.ticks.format)}}class K0 extends om{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Ze(t)?t:0,this.max=Ze(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=bs(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}wt(K0,"id","linear"),wt(K0,"defaults",{ticks:{callback:$m.formatters.numeric}});const Pf=e=>Math.floor(Ga(e)),Jo=(e,t)=>Math.pow(10,Pf(e)+t);function xR(e){return e/Math.pow(10,Pf(e))===1}function wR(e,t,n){const i=Math.pow(10,n),s=Math.floor(e/i);return Math.ceil(t/i)-s}function aW(e,t){const n=t-e;let i=Pf(n);for(;wR(e,t,i)>10;)i++;for(;wR(e,t,i)<10;)i--;return Math.min(i,Pf(e))}function oW(e,{min:t,max:n}){t=ji(e.min,t);const i=[],s=Pf(t);let a=aW(t,n),l=a<0?Math.pow(10,Math.abs(a)):1;const c=Math.pow(10,a),h=s>a?Math.pow(10,s):0,f=Math.round((t-h)*l)/l,p=Math.floor((t-h)/c/10)*c*10;let y=Math.floor((f-p)/Math.pow(10,a)),_=ji(e.min,Math.round((h+p+y*Math.pow(10,a))*l)/l);for(;_<n;)i.push({value:_,major:xR(_),significand:y}),y>=10?y=y<15?15:20:y++,y>=20&&(a++,y=2,l=a>=0?1:l),_=Math.round((h+p+y*Math.pow(10,a))*l)/l;const x=ji(e.max,_);return i.push({value:x,major:xR(x),significand:y}),i}class X0 extends Dl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=om.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return Ze(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Ze(t)?Math.max(0,t):null,this.max=Ze(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ze(this._userMin)&&(this.min=t===Jo(this.min,0)?Jo(this.min,-1):Jo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const a=c=>i=t?i:c,l=c=>s=n?s:c;i===s&&(i<=0?(a(1),l(10)):(a(Jo(i,-1)),l(Jo(s,1)))),i<=0&&a(Jo(s,-1)),s<=0&&l(Jo(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=oW(n,this);return t.bounds==="ticks"&&oI(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":td(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Ga(t),this._valueRange=Ga(this.max)-Ga(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ga(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}wt(X0,"id","logarithmic"),wt(X0,"defaults",{ticks:{callback:$m.formatters.logarithmic,major:{enabled:!0}}});function Q0(e){const t=e.ticks;if(t.display&&e.display){const n=ti(t.backdropPadding);return Ft(t.font&&t.font.size,je.font.size)+n.height}return 0}function lW(e,t,n){return n=Le(n)?n:[n],{w:p8(e,t.string,n),h:n.length*t.lineHeight}}function ER(e,t,n,i,s){return e===i||e===s?{start:t-n/2,end:t+n/2}:e<i||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function cW(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],s=[],a=e._pointLabels.length,l=e.options.pointLabels,c=l.centerPointLabels?de/a:0;for(let h=0;h<a;h++){const f=l.setContext(e.getPointLabelContext(h));s[h]=f.padding;const p=e.getPointPosition(h,e.drawingArea+s[h],c),y=_n(f.font),_=lW(e.ctx,y,e._pointLabels[h]);i[h]=_;const x=ci(e.getIndexAngle(h)+c),E=Math.round(_x(x)),A=ER(E,p.x,_.w,0,180),T=ER(E,p.y,_.h,90,270);uW(n,t,x,A,T)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=dW(e,i,s)}function uW(e,t,n,i,s){const a=Math.abs(Math.sin(n)),l=Math.abs(Math.cos(n));let c=0,h=0;i.start<t.l?(c=(t.l-i.start)/a,e.l=Math.min(e.l,t.l-c)):i.end>t.r&&(c=(i.end-t.r)/a,e.r=Math.max(e.r,t.r+c)),s.start<t.t?(h=(t.t-s.start)/l,e.t=Math.min(e.t,t.t-h)):s.end>t.b&&(h=(s.end-t.b)/l,e.b=Math.max(e.b,t.b+h))}function hW(e,t,n){const i=e.drawingArea,{extra:s,additionalAngle:a,padding:l,size:c}=n,h=e.getPointPosition(t,i+s+l,a),f=Math.round(_x(ci(h.angle+sn))),p=mW(h.y,c.h,f),y=pW(f),_=gW(h.x,c.w,y);return{visible:!0,x:h.x,y:p,textAlign:y,left:_,top:p,right:_+c.w,bottom:p+c.h}}function fW(e,t){if(!t)return!0;const{left:n,top:i,right:s,bottom:a}=e;return!(Kr({x:n,y:i},t)||Kr({x:n,y:a},t)||Kr({x:s,y:i},t)||Kr({x:s,y:a},t))}function dW(e,t,n){const i=[],s=e._pointLabels.length,a=e.options,{centerPointLabels:l,display:c}=a.pointLabels,h={extra:Q0(a)/2,additionalAngle:l?de/s:0};let f;for(let p=0;p<s;p++){h.padding=n[p],h.size=t[p];const y=hW(e,p,h);i.push(y),c==="auto"&&(y.visible=fW(y,f),y.visible&&(f=y))}return i}function pW(e){return e===0||e===180?"center":e<180?"left":"right"}function gW(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function mW(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function yW(e,t,n){const{left:i,top:s,right:a,bottom:l}=n,{backdropColor:c}=t;if(!Yt(c)){const h=fl(t.borderRadius),f=ti(t.backdropPadding);e.fillStyle=c;const p=i-f.left,y=s-f.top,_=a-i+f.width,x=l-s+f.height;Object.values(h).some(E=>E!==0)?(e.beginPath(),If(e,{x:p,y,w:_,h:x,radius:h}),e.fill()):e.fillRect(p,y,_,x)}}function _W(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){const a=e._pointLabelItems[s];if(!a.visible)continue;const l=i.setContext(e.getPointLabelContext(s));yW(n,l,a);const c=_n(l.font),{x:h,y:f,textAlign:p}=a;El(n,e._pointLabels[s],h,f+c.lineHeight/2,c,{color:l.color,textAlign:p,textBaseline:"middle"})}}function ZI(e,t,n,i){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,Ve);else{let a=e.getPointPosition(0,t);s.moveTo(a.x,a.y);for(let l=1;l<i;l++)a=e.getPointPosition(l,t),s.lineTo(a.x,a.y)}}function bW(e,t,n,i,s){const a=e.ctx,l=t.circular,{color:c,lineWidth:h}=t;!l&&!i||!c||!h||n<0||(a.save(),a.strokeStyle=c,a.lineWidth=h,a.setLineDash(s.dash||[]),a.lineDashOffset=s.dashOffset,a.beginPath(),ZI(e,n,l,i),a.closePath(),a.stroke(),a.restore())}function vW(e,t,n){return bo(e,{label:n,index:t,type:"pointLabel"})}class $h extends om{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ti(Q0(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Ze(t)&&!isNaN(t)?t:0,this.max=Ze(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Q0(this.options))}generateTickLabels(t){om.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const s=ke(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?cW(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,s){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,s))}getIndexAngle(t){const n=Ve/(this._pointLabels.length||1),i=this.options.startAngle||0;return ci(t*n+bs(i))}getDistanceFromCenterForValue(t){if(Yt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Yt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return vW(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const s=this.getIndexAngle(t)-sn+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:s,bottom:a}=this._pointLabelItems[t];return{left:n,top:i,right:s,bottom:a}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),ZI(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:s,border:a}=n,l=this._pointLabels.length;let c,h,f;if(n.pointLabels.display&&_W(this,l),s.display&&this.ticks.forEach((p,y)=>{if(y!==0||y===0&&this.min<0){h=this.getDistanceFromCenterForValue(p.value);const _=this.getContext(y),x=s.setContext(_),E=a.setContext(_);bW(this,x,h,l,E)}}),i.display){for(t.save(),c=l-1;c>=0;c--){const p=i.setContext(this.getPointLabelContext(c)),{color:y,lineWidth:_}=p;!_||!y||(t.lineWidth=_,t.strokeStyle=y,t.setLineDash(p.borderDash),t.lineDashOffset=p.borderDashOffset,h=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),f=this.getPointPosition(c,h),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(f.x,f.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let a,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,h)=>{if(h===0&&this.min>=0&&!n.reverse)return;const f=i.setContext(this.getContext(h)),p=_n(f.font);if(a=this.getDistanceFromCenterForValue(this.ticks[h].value),f.showLabelBackdrop){t.font=p.string,l=t.measureText(c.label).width,t.fillStyle=f.backdropColor;const y=ti(f.backdropPadding);t.fillRect(-l/2-y.left,-a-p.size/2-y.top,l+y.width,p.size+y.height)}El(t,c.label,0,-a,p,{color:f.color,strokeColor:f.textStrokeColor,strokeWidth:f.textStrokeWidth})}),t.restore()}drawTitle(){}}wt($h,"id","radialLinear"),wt($h,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:$m.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),wt($h,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),wt($h,"descriptors",{angleLines:{_fallback:"grid"}});const Xm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ri=Object.keys(Xm);function SR(e,t){return e-t}function TR(e,t){if(Yt(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:a}=e._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),Ze(l)||(l=typeof i=="string"?n.parse(l,i):n.parse(l)),l===null?null:(s&&(l=s==="week"&&(Jc(a)||a===!0)?n.startOf(l,"isoWeek",a):n.startOf(l,s)),+l)}function AR(e,t,n,i){const s=Ri.length;for(let a=Ri.indexOf(e);a<s-1;++a){const l=Xm[Ri[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-t)/(c*l.size))<=i)return Ri[a]}return Ri[s-1]}function xW(e,t,n,i,s){for(let a=Ri.length-1;a>=Ri.indexOf(n);a--){const l=Ri[a];if(Xm[l].common&&e._adapter.diff(s,i,l)>=t-1)return l}return Ri[n?Ri.indexOf(n):0]}function wW(e){for(let t=Ri.indexOf(e)+1,n=Ri.length;t<n;++t)if(Xm[Ri[t]].common)return Ri[t]}function RR(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=bx(n,t),a=n[i]>=t?n[i]:n[s];e[a]=!0}}function EW(e,t,n,i){const s=e._adapter,a=+s.startOf(t[0].value,i),l=t[t.length-1].value;let c,h;for(c=a;c<=l;c=+s.add(c,1,i))h=n[c],h>=0&&(t[h].major=!0);return t}function kR(e,t,n){const i=[],s={},a=t.length;let l,c;for(l=0;l<a;++l)c=t[l],s[c]=l,i.push({value:c,major:!1});return a===0||!n?i:EW(e,i,s,n)}class Nf extends Dl{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new M$._date(t.adapters.date);s.init(n),Jh(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:TR(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!c&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!c)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=Ze(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),a=Ze(a)&&!isNaN(a)?a:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,c=e8(s,a,l);return this._unit=n.unit||(i.autoSkip?AR(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):xW(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:wW(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),kR(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,a;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=zn(n,0,l),i=zn(i,0,l),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,a=s.time,l=a.unit||AR(a.minUnit,n,i,this._getLabelCapacity(n)),c=Ft(s.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,f=Jc(h)||h===!0,p={};let y=n,_,x;if(f&&(y=+t.startOf(y,"isoWeek",h)),y=+t.startOf(y,f?"day":l),t.diff(i,n,l)>1e5*c)throw new Error(n+" and "+i+" are too far apart with stepSize of "+c+" "+l);const E=s.ticks.source==="data"&&this.getDataTimestamps();for(_=y,x=0;_<i;_=+t.add(_,c,l),x++)RR(p,_,E);return(_===i||s.bounds==="ticks"||x===1)&&RR(p,_,E),Object.keys(p).sort(SR).map(A=>+A)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,a=this._unit,l=n||s[a];return this._adapter.format(t,l)}_tickFormatFunction(t,n,i,s){const a=this.options,l=a.ticks.callback;if(l)return ke(l,[t,n,i],this);const c=a.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&c[h],y=f&&c[f],_=i[n],x=f&&y&&_&&_.major;return this._adapter.format(t,s||(x?y:p))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=bs(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*a+c*l,h:i*l+c*a}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,a=this._tickFormatFunction(t,0,kR(this,[t],this._majorUnit),s),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(TR(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return uI(t.sort(SR))}}wt(Nf,"id","time"),wt(Nf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Yp(e,t,n){let i=0,s=e.length-1,a,l,c,h;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=Gr(e,"pos",t)),{pos:a,time:c}=e[i],{pos:l,time:h}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=Gr(e,"time",t)),{time:a,pos:c}=e[i],{time:l,pos:h}=e[s]);const f=l-a;return f?c+(h-c)*(t-a)/f:c}class Z0 extends Nf{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Yp(n,this.min),this._tableRange=Yp(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],a=[];let l,c,h,f,p;for(l=0,c=t.length;l<c;++l)f=t[l],f>=n&&f<=i&&s.push(f);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(l=0,c=s.length;l<c;++l)p=s[l+1],h=s[l-1],f=s[l],Math.round((p+h)/2)!==f&&a.push({time:f,pos:l/(c-1)});return a}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Yp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Yp(this._table,i*this._tableRange+this._minPos,!0)}}wt(Z0,"id","timeseries"),wt(Z0,"defaults",Nf.defaults);var SW=Object.freeze({__proto__:null,CategoryScale:G0,LinearScale:K0,LogarithmicScale:X0,RadialLinearScale:$h,TimeScale:Nf,TimeSeriesScale:Z0});const TW=[D$,a7,eW,SW];/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var CR=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),of={toTextLines:function(e){var t=[],n;for(e=[].concat(e);e.length;)n=e.pop(),typeof n=="string"?t.unshift.apply(t,n.split(`
`)):Array.isArray(n)?e.push.apply(e,n):Yt(e)||t.unshift(""+n);return t},textSize:function(e,t,n){var i=[].concat(t),s=i.length,a=e.font,l=0,c;for(e.font=n.string,c=0;c<s;++c)l=Math.max(e.measureText(i[c]).width,l);return e.font=a,{height:s*n.lineHeight,width:l}},bound:function(e,t,n){return Math.max(e,Math.min(t,n))},arrayDiff:function(e,t){var n=e.slice(),i=[],s,a,l,c;for(s=0,l=t.length;s<l;++s)c=t[s],a=n.indexOf(c),a===-1?i.push([c,1]):n.splice(a,1);for(s=0,l=n.length;s<l;++s)i.push([n[s],-1]);return i},rasterize:function(e){return Math.round(e*CR)/CR}};function Ub(e,t){var n=t.x,i=t.y;if(n===null)return{x:0,y:-1};if(i===null)return{x:1,y:0};var s=e.x-n,a=e.y-i,l=Math.sqrt(s*s+a*a);return{x:l?s/l:0,y:l?a/l:-1}}function AW(e,t,n,i,s){switch(s){case"center":n=i=0;break;case"bottom":n=0,i=1;break;case"right":n=1,i=0;break;case"left":n=-1,i=0;break;case"top":n=0,i=-1;break;case"start":n=-n,i=-i;break;case"end":break;default:s*=Math.PI/180,n=Math.cos(s),i=Math.sin(s);break}return{x:e,y:t,vx:n,vy:i}}var RW=0,JI=1,tO=2,eO=4,nO=8;function Gp(e,t,n){var i=RW;return e<n.left?i|=JI:e>n.right&&(i|=tO),t<n.top?i|=nO:t>n.bottom&&(i|=eO),i}function kW(e,t){for(var n=e.x0,i=e.y0,s=e.x1,a=e.y1,l=Gp(n,i,t),c=Gp(s,a,t),h,f,p;!(!(l|c)||l&c);)h=l||c,h&nO?(f=n+(s-n)*(t.top-i)/(a-i),p=t.top):h&eO?(f=n+(s-n)*(t.bottom-i)/(a-i),p=t.bottom):h&tO?(p=i+(a-i)*(t.right-n)/(s-n),f=t.right):h&JI&&(p=i+(a-i)*(t.left-n)/(s-n),f=t.left),h===l?(n=f,i=p,l=Gp(n,i,t)):(s=f,a=p,c=Gp(s,a,t));return{x0:n,x1:s,y0:i,y1:a}}function Kp(e,t){var n=t.anchor,i=e,s,a;return t.clamp&&(i=kW(i,t.area)),n==="start"?(s=i.x0,a=i.y0):n==="end"?(s=i.x1,a=i.y1):(s=(i.x0+i.x1)/2,a=(i.y0+i.y1)/2),AW(s,a,e.vx,e.vy,t.align)}var Xp={arc:function(e,t){var n=(e.startAngle+e.endAngle)/2,i=Math.cos(n),s=Math.sin(n),a=e.innerRadius,l=e.outerRadius;return Kp({x0:e.x+i*a,y0:e.y+s*a,x1:e.x+i*l,y1:e.y+s*l,vx:i,vy:s},t)},point:function(e,t){var n=Ub(e,t.origin),i=n.x*e.options.radius,s=n.y*e.options.radius;return Kp({x0:e.x-i,y0:e.y-s,x1:e.x+i,y1:e.y+s,vx:n.x,vy:n.y},t)},bar:function(e,t){var n=Ub(e,t.origin),i=e.x,s=e.y,a=0,l=0;return e.horizontal?(i=Math.min(e.x,e.base),a=Math.abs(e.base-e.x)):(s=Math.min(e.y,e.base),l=Math.abs(e.base-e.y)),Kp({x0:i,y0:s+l,x1:i+a,y1:s,vx:n.x,vy:n.y},t)},fallback:function(e,t){var n=Ub(e,t.origin);return Kp({x0:e.x,y0:e.y,x1:e.x+(e.width||0),y1:e.y+(e.height||0),vx:n.x,vy:n.y},t)}},Xr=of.rasterize;function CW(e){var t=e.borderWidth||0,n=e.padding,i=e.size.height,s=e.size.width,a=-s/2,l=-i/2;return{frame:{x:a-n.left-t,y:l-n.top-t,w:s+n.width+t*2,h:i+n.height+t*2},text:{x:a,y:l,w:s,h:i}}}function DW(e,t){var n=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var i=n.getBasePixel();return e.horizontal?{x:i,y:null}:{x:null,y:i}}function MW(e){return e instanceof Mc?Xp.arc:e instanceof rf?Xp.point:e instanceof af?Xp.bar:Xp.fallback}function IW(e,t,n,i,s,a){var l=Math.PI/2;if(a){var c=Math.min(a,s/2,i/2),h=t+c,f=n+c,p=t+i-c,y=n+s-c;e.moveTo(t,f),h<p&&f<y?(e.arc(h,f,c,-Math.PI,-l),e.arc(p,f,c,-l,0),e.arc(p,y,c,0,l),e.arc(h,y,c,l,Math.PI)):h<p?(e.moveTo(h,n),e.arc(p,f,c,-l,l),e.arc(h,f,c,l,Math.PI+l)):f<y?(e.arc(h,f,c,-Math.PI,0),e.arc(h,y,c,0,Math.PI)):e.arc(h,f,c,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,i,s)}function OW(e,t,n){var i=n.backgroundColor,s=n.borderColor,a=n.borderWidth;!i&&(!s||!a)||(e.beginPath(),IW(e,Xr(t.x)+a/2,Xr(t.y)+a/2,Xr(t.w)-a,Xr(t.h)-a,n.borderRadius),e.closePath(),i&&(e.fillStyle=i,e.fill()),s&&a&&(e.strokeStyle=s,e.lineWidth=a,e.lineJoin="miter",e.stroke()))}function PW(e,t,n){var i=n.lineHeight,s=e.w,a=e.x,l=e.y+i/2;return t==="center"?a+=s/2:(t==="end"||t==="right")&&(a+=s),{h:i,w:s,x:a,y:l}}function NW(e,t,n){var i=e.shadowBlur,s=n.stroked,a=Xr(n.x),l=Xr(n.y),c=Xr(n.w);s&&e.strokeText(t,a,l,c),n.filled&&(i&&s&&(e.shadowBlur=0),e.fillText(t,a,l,c),i&&s&&(e.shadowBlur=i))}function LW(e,t,n,i){var s=i.textAlign,a=i.color,l=!!a,c=i.font,h=t.length,f=i.textStrokeColor,p=i.textStrokeWidth,y=f&&p,_;if(!(!h||!l&&!y))for(n=PW(n,s,c),e.font=c.string,e.textAlign=s,e.textBaseline="middle",e.shadowBlur=i.textShadowBlur,e.shadowColor=i.textShadowColor,l&&(e.fillStyle=a),y&&(e.lineJoin="round",e.lineWidth=p,e.strokeStyle=f),_=0,h=t.length;_<h;++_)NW(e,t[_],{stroked:y,filled:l,w:n.w,x:n.x,y:n.y+n.h*_})}var iO=function(e,t,n,i){var s=this;s._config=e,s._index=i,s._model=null,s._rects=null,s._ctx=t,s._el=n};ar(iO.prototype,{_modelize:function(e,t,n,i){var s=this,a=s._index,l=_n(Ne([n.font,{}],i,a)),c=Ne([n.color,je.color],i,a);return{align:Ne([n.align,"center"],i,a),anchor:Ne([n.anchor,"center"],i,a),area:i.chart.chartArea,backgroundColor:Ne([n.backgroundColor,null],i,a),borderColor:Ne([n.borderColor,null],i,a),borderRadius:Ne([n.borderRadius,0],i,a),borderWidth:Ne([n.borderWidth,0],i,a),clamp:Ne([n.clamp,!1],i,a),clip:Ne([n.clip,!1],i,a),color:c,display:e,font:l,lines:t,offset:Ne([n.offset,4],i,a),opacity:Ne([n.opacity,1],i,a),origin:DW(s._el,i),padding:ti(Ne([n.padding,4],i,a)),positioner:MW(s._el),rotation:Ne([n.rotation,0],i,a)*(Math.PI/180),size:of.textSize(s._ctx,t,l),textAlign:Ne([n.textAlign,"start"],i,a),textShadowBlur:Ne([n.textShadowBlur,0],i,a),textShadowColor:Ne([n.textShadowColor,c],i,a),textStrokeColor:Ne([n.textStrokeColor,c],i,a),textStrokeWidth:Ne([n.textStrokeWidth,0],i,a)}},update:function(e){var t=this,n=null,i=null,s=t._index,a=t._config,l,c,h,f=Ne([a.display,!0],e,s);f&&(l=e.dataset.data[s],c=Ft(ke(a.formatter,[l,e]),l),h=Yt(c)?[]:of.toTextLines(c),h.length&&(n=t._modelize(f,h,a,e),i=CW(n))),t._model=n,t._rects=i},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var n=this,i=e.ctx,s=n._model,a=n._rects,l;this.visible()&&(i.save(),s.clip&&(l=s.area,i.beginPath(),i.rect(l.left,l.top,l.right-l.left,l.bottom-l.top),i.clip()),i.globalAlpha=of.bound(0,s.opacity,1),i.translate(Xr(t.x),Xr(t.y)),i.rotate(s.rotation),OW(i,a.frame,s),LW(i,s.lines,a.text,s),i.restore())}});var VW=Number.MIN_SAFE_INTEGER||-9007199254740991,jW=Number.MAX_SAFE_INTEGER||9007199254740991;function kh(e,t,n){var i=Math.cos(n),s=Math.sin(n),a=t.x,l=t.y;return{x:a+i*(e.x-a)-s*(e.y-l),y:l+s*(e.x-a)+i*(e.y-l)}}function DR(e,t){var n=jW,i=VW,s=t.origin,a,l,c,h,f;for(a=0;a<e.length;++a)l=e[a],c=l.x-s.x,h=l.y-s.y,f=t.vx*c+t.vy*h,n=Math.min(n,f),i=Math.max(i,f);return{min:n,max:i}}function Qp(e,t){var n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);return{vx:(t.x-e.x)/s,vy:(t.y-e.y)/s,origin:e,ln:s}}var sO=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};ar(sO.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,n){this._rotation=n,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,n=1,i=t._rect;return e=kh(e,t.center(),-t._rotation),!(e.x<i.x-n||e.y<i.y-n||e.x>i.x+i.w+n*2||e.y>i.y+i.h+n*2)},intersects:function(e){var t=this._points(),n=e._points(),i=[Qp(t[0],t[1]),Qp(t[0],t[3])],s,a,l;for(this._rotation!==e._rotation&&i.push(Qp(n[0],n[1]),Qp(n[0],n[3])),s=0;s<i.length;++s)if(a=DR(t,i[s]),l=DR(n,i[s]),a.max<l.min||l.max<a.min)return!1;return!0},_points:function(){var e=this,t=e._rect,n=e._rotation,i=e.center();return[kh({x:t.x,y:t.y},i,n),kh({x:t.x+t.w,y:t.y},i,n),kh({x:t.x+t.w,y:t.y+t.h},i,n),kh({x:t.x,y:t.y+t.h},i,n)]}});function rO(e,t,n){var i=t.positioner(e,t),s=i.vx,a=i.vy;if(!s&&!a)return{x:i.x,y:i.y};var l=n.w,c=n.h,h=t.rotation,f=Math.abs(l/2*Math.cos(h))+Math.abs(c/2*Math.sin(h)),p=Math.abs(l/2*Math.sin(h))+Math.abs(c/2*Math.cos(h)),y=1/Math.max(Math.abs(s),Math.abs(a));return f*=s*y,p*=a*y,f+=t.offset*s,p+=t.offset*a,{x:i.x+f,y:i.y+p}}function UW(e,t){var n,i,s,a;for(n=e.length-1;n>=0;--n)for(s=e[n].$layout,i=n-1;i>=0&&s._visible;--i)a=e[i].$layout,a._visible&&s._box.intersects(a._box)&&t(s,a);return e}function zW(e){var t,n,i,s,a,l,c;for(t=0,n=e.length;t<n;++t)i=e[t],s=i.$layout,s._visible&&(c=new Proxy(i._el,{get:(h,f)=>h.getProps([f],!0)[f]}),a=i.geometry(),l=rO(c,i.model(),a),s._box.update(l,a,i.rotation()));return UW(e,function(h,f){var p=h._hidable,y=f._hidable;p&&y||y?f._visible=!1:p&&(h._visible=!1)})}var lf={prepare:function(e){var t=[],n,i,s,a,l;for(n=0,s=e.length;n<s;++n)for(i=0,a=e[n].length;i<a;++i)l=e[n][i],t.push(l),l.$layout={_box:new sO,_hidable:!1,_visible:!0,_set:n,_idx:l._index};return t.sort(function(c,h){var f=c.$layout,p=h.$layout;return f._idx===p._idx?p._set-f._set:p._idx-f._idx}),this.update(t),t},update:function(e){var t=!1,n,i,s,a,l;for(n=0,i=e.length;n<i;++n)s=e[n],a=s.model(),l=s.$layout,l._hidable=a&&a.display==="auto",l._visible=s.visible(),t|=l._hidable;t&&zW(e)},lookup:function(e,t){var n,i;for(n=e.length-1;n>=0;--n)if(i=e[n].$layout,i&&i._visible&&i._box.contains(t))return e[n];return null},draw:function(e,t){var n,i,s,a,l,c;for(n=0,i=t.length;n<i;++n)s=t[n],a=s.$layout,a._visible&&(l=s.geometry(),c=rO(s._el,s.model(),l),a._box.update(c,l,s.rotation()),s.draw(e,c))}},BW=function(e){if(Yt(e))return null;var t=e,n,i,s;if(ee(e))if(!Yt(e.label))t=e.label;else if(!Yt(e.r))t=e.r;else for(t="",n=Object.keys(e),s=0,i=n.length;s<i;++s)t+=(s!==0?", ":"")+n[s]+": "+e[n[s]];return""+t},FW={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:BW,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},Si="$datalabels",aO="$default";function qW(e,t){var n=e.datalabels,i={},s=[],a,l;return n===!1?null:(n===!0&&(n={}),t=ar({},[t,n]),a=t.labels||{},l=Object.keys(a),delete t.labels,l.length?l.forEach(function(c){a[c]&&s.push(ar({},[t,a[c],{_key:c}]))}):s.push(t),i=s.reduce(function(c,h){return be(h.listeners||{},function(f,p){c[p]=c[p]||{},c[p][h._key||aO]=f}),delete h.listeners,c},{}),{labels:s,listeners:i})}function J0(e,t,n,i){if(t){var s=n.$context,a=n.$groups,l;t[a._set]&&(l=t[a._set][a._key],l&&ke(l,[s,i])===!0&&(e[Si]._dirty=!0,n.update(s)))}}function $W(e,t,n,i,s){var a,l;!n&&!i||(n?i?n!==i&&(l=a=!0):l=!0:a=!0,l&&J0(e,t.leave,n,s),a&&J0(e,t.enter,i,s))}function HW(e,t){var n=e[Si],i=n._listeners,s,a;if(!(!i.enter&&!i.leave)){if(t.type==="mousemove")a=lf.lookup(n._labels,t);else if(t.type!=="mouseout")return;s=n._hovered,n._hovered=a,$W(e,i,s,a,t)}}function WW(e,t){var n=e[Si],i=n._listeners.click,s=i&&lf.lookup(n._labels,t);s&&J0(e,i,s,t)}var YW={id:"datalabels",defaults:FW,beforeInit:function(e){e[Si]={_actives:[]}},beforeUpdate:function(e){var t=e[Si];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,n){var i=t.index,s=e[Si],a=s._datasets[i]=[],l=e.isDatasetVisible(i),c=e.data.datasets[i],h=qW(c,n),f=t.meta.data||[],p=e.ctx,y,_,x,E,A,T,D,O;for(p.save(),y=0,x=f.length;y<x;++y)if(D=f[y],D[Si]=[],l&&D&&e.getDataVisibility(y)&&!D.skip)for(_=0,E=h.labels.length;_<E;++_)A=h.labels[_],T=A._key,O=new iO(A,p,D,y),O.$groups={_set:i,_key:T||aO},O.$context={active:!1,chart:e,dataIndex:y,dataset:c,datasetIndex:i},O.update(O.$context),D[Si].push(O),a.push(O);p.restore(),ar(s._listeners,h.listeners,{merger:function(L,B,M){B[L]=B[L]||{},B[L][t.index]=M[L],s._listened=!0}})},afterUpdate:function(e){e[Si]._labels=lf.prepare(e[Si]._datasets)},afterDatasetsDraw:function(e){lf.draw(e,e[Si]._labels)},beforeEvent:function(e,t){if(e[Si]._listened){var n=t.event;switch(n.type){case"mousemove":case"mouseout":HW(e,n);break;case"click":WW(e,n);break}}},afterEvent:function(e){var t=e[Si],n=t._actives,i=t._actives=e.getActiveElements(),s=of.arrayDiff(n,i),a,l,c,h,f,p,y;for(a=0,l=s.length;a<l;++a)if(f=s[a],f[1])for(y=f[0].element[Si]||[],c=0,h=y.length;c<h;++c)p=y[c],p.$context.active=f[1]===1,p.update(p.$context);(t._dirty||s.length)&&(lf.update(t._labels),e.render()),delete t._dirty}};bi.register(...TW,YW);const Zp=["#4e79a7","#ff9da7","#59a14f","#9c755f","#edc949","#e15759","#76b7b2","#f28e2b","#af7aa1","#bab0ab"],MR={homeplus:704,nsmall:812},lm=e=>String(e??"").replace(/\s+/g,"").toLowerCase(),zb=e=>lm(e.company)==="homeplus",Bb=e=>["nsmall","n-small"].includes(lm(e.company));function Jp(e){const t=[e.request_date,e.open_date,e.created_date,e.designer_start_date,e.designer_end_date];for(const n of t){if(!n)continue;if(typeof(n==null?void 0:n.toDate)=="function")return n.toDate().getTime();if(n instanceof Date)return n.getTime();const i=new Date(n).getTime();if(!Number.isNaN(i))return i}return null}const IR=e=>e.reduce((t,n)=>t+(+n||0),0);function tg(e){const t=new Map;for(const n of e){const i=n&&String(n).trim()||"기타";t.set(i,(t.get(i)||0)+1)}return Array.from(t,([n,i])=>({name:n,value:i}))}function eg(e){if(!e)return"대기";const t=e.replace(/\s/g,"");return/(진행)/.test(t)?"진행중":/(검수중)/.test(t)?"검수중":/(검수요청)/.test(t)?"검수요청":/(완료)/.test(t)?"완료":/(취소|cancel)/i.test(t)?"취소":/(대기)/.test(t)?"대기":e}const ng=e=>{const t=new Date(e).getDay();return t===0||t===6},Fb=e=>{const t=new Date(e);return`${t.getFullYear()}.${String(t.getMonth()+1).padStart(2,"0")}.${String(t.getDate()).padStart(2,"0")}`};function GW(e){const t=new Date(e),n=t.getDay(),i=n===0?-6:1-n,s=new Date(t);s.setDate(t.getDate()+i);const a=new Date(s);a.setDate(s.getDate()+4);const l=new Date(s.getFullYear(),s.getMonth(),s.getDate()).getTime(),c=new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59,999).getTime();return{start:l,end:c}}function KW(e){const t=new Date(e.getFullYear(),e.getMonth(),1),n=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:t.getTime(),end:n.getTime()}}function OR(e,t){let n=0,i=new Date(e);for(;i.getTime()<=t;){const s=i.getDay();s>=1&&s<=5&&n++,i.setDate(i.getDate()+1)}return n}function Dx({capacityHoursPerMonth:e}){var yt;const t=new Date,[n,i]=j.useState({y:t.getFullYear(),m:t.getMonth()+1}),s=`${n.y}.${String(n.m).padStart(2,"0")}`,[a]=j.useState(new Date),[l,c]=j.useState("day"),[h,f]=j.useState(null),[p,y]=j.useState(""),[_,x]=j.useState(!1),[E,A]=j.useState("homeplus");j.useEffect(()=>{const nt=Cl(os,async pt=>{if(!pt){f(null),y(""),x(!0);return}const _t=await Xc(Zn(Zt,"users",pt.uid));if(_t.exists()){const vt=_t.data();f(Number((vt==null?void 0:vt.role)??0)),y(String((vt==null?void 0:vt.company)??""));const At=lm(vt==null?void 0:vt.company);Number(vt==null?void 0:vt.role)===1&&(At==="homeplus"||At==="nsmall"||At==="n-small")&&A(At.startsWith("n")?"nsmall":"homeplus")}x(!0)});return()=>nt()},[]);const[T,D]=j.useState([]);j.useEffect(()=>{const nt=rr(Bn(Qe(Zt,"design_request")),pt=>{const _t=[];pt.forEach(vt=>_t.push({id:vt.id,...vt.data()})),D(_t)});return()=>nt()},[]);const[O,L]=j.useState([]);j.useEffect(()=>{const nt=rr(Bn(Qe(Zt,"users"),gn("role","==",2)),pt=>{const _t=[];pt.forEach(vt=>{const At=vt.data();_t.push({name:String((At==null?void 0:At.name)??""),company:String((At==null?void 0:At.company)??"")})}),L(_t)});return()=>nt()},[]);const B=j.useMemo(()=>{const nt=new Date(n.y,n.m-1,1).getTime(),pt=new Date(n.y,n.m,0,23,59,59,999).getTime();return{start:nt,end:pt}},[n]),M=j.useMemo(()=>h===1?lm(p).startsWith("n")?"nsmall":"homeplus":E,[h,p,E]),Y=j.useMemo(()=>M==="all"?[]:T.filter(nt=>{const pt=Jp(nt),_t=pt!==null&&pt>=B.start&&pt<=B.end;let vt=!0;return M==="homeplus"?vt=zb(nt):M==="nsmall"&&(vt=Bb(nt)),_t&&vt}),[T,B,M]),C=j.useMemo(()=>{if(M==="all")return null;const nt=Y.length,pt=Y.filter($t=>eg($t.status)==="완료").length,_t=IR(Y.map($t=>Number($t.out_work_hour)||0)),vt=M==="homeplus"?e??MR.homeplus:MR.nsmall,At=vt?Math.round(_t/vt*100):0;return{totalRequests:nt,producedCount:pt,usedHoursDisplay:_t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),availHours:vt,usedRatio:At}},[Y,M,e]),k=j.useMemo(()=>{if(M==="all")return[];const nt=tg(Y.map(pt=>pt.task_type||pt.task_type_detail)).sort((pt,_t)=>_t.value-pt.value);return nt.length>8?[...nt.slice(0,8),{name:"기타",value:nt.slice(8).reduce((pt,_t)=>pt+_t.value,0)}]:nt},[Y,M]),P=j.useMemo(()=>{if(M==="all")return[];const nt=["대기중","진행중","검수중","검수요청중","완료","취소"],pt=tg(Y.map(vt=>eg(vt.status))),_t=new Map(pt.map(vt=>[vt.name,vt.value]));return nt.map(vt=>({name:vt,value:_t.get(vt)||0}))},[Y,M]),z=j.useMemo(()=>M==="all"?[]:tg(Y.map(nt=>nt.task_form)).sort((nt,pt)=>pt.value-nt.value),[Y,M]),U=j.useMemo(()=>{if(M!=="all")return null;if(l==="day"){const At=new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime(),$t=new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59,999).getTime(),ue=ng(At)?0:1;return{start:At,end:$t,workingDays:ue,label:`${Fb(At)} (평일만)`}}if(l==="week"){const{start:At,end:$t}=GW(a),ue=OR(At,$t);return{start:At,end:$t,workingDays:ue,label:`${Fb(At)} ~ ${Fb($t)} (주중)`}}const{start:nt,end:pt}=KW(a),_t=OR(nt,pt),vt=`${a.getFullYear()}.${String(a.getMonth()+1).padStart(2,"0")}`;return{start:nt,end:pt,workingDays:_t,label:`${vt} (평일만)`}},[M,l,a]),$=j.useMemo(()=>M!=="all"||!U?[]:T.filter(nt=>{const pt=Jp(nt);return pt!==null&&pt>=U.start&&pt<=U.end&&!ng(pt)}),[T,U,M]),F=j.useMemo(()=>{if(M!=="all"||!U)return null;const nt=$.length,pt=$.filter(ue=>eg(ue.status)==="완료").length,_t=IR($.map(ue=>Number(ue.in_work_hour)||0)),At=O.length*U.workingDays*8,$t=At?Math.round(_t/At*100):0;return{totalRequests:nt,producedCount:pt,usedHoursDisplay:_t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),availHours:At,usedRatio:$t}},[$,O,U,M]),Pt=j.useMemo(()=>{if(M!=="all"||!U)return{labels:[],data:[]};const nt=T.filter(vt=>{const At=Jp(vt);return At!==null&&At>=U.start&&At<=U.end&&!ng(At)}),pt=nt.filter(zb).length,_t=nt.filter(Bb).length;return{labels:["Homeplus","NSmall"],data:[pt,_t]}},[T,U,M]),X=j.useMemo(()=>{if(M!=="all"||!U)return{labels:[],hpData:[],nsData:[]};const nt=new Map;for(const _t of T){const vt=Jp(_t);if(vt===null||vt<U.start||vt>U.end||ng(vt))continue;const At=_t.assigned_designer&&String(_t.assigned_designer).trim()||"미지정",$t=nt.get(At)||{hp:0,ns:0,total:0};zb(_t)?$t.hp+=1:Bb(_t)&&($t.ns+=1),$t.total=$t.hp+$t.ns,nt.set(At,$t)}const pt=Array.from(nt,([_t,vt])=>({name:_t,...vt})).sort((_t,vt)=>vt.total-_t.total).slice(0,20);return{labels:pt.map(_t=>_t.name),hpData:pt.map(_t=>_t.hp),nsData:pt.map(_t=>_t.ns)}},[T,U,M]),V=j.useRef(null),Z=j.useRef(null),ct=j.useRef(null),st=j.useRef(null),q=j.useRef(null),lt=j.useRef(null),ot=j.useMemo(()=>{if(M==="all"){const nt=["대기","진행중","검수중","검수요청","완료","취소"],pt=tg($.map(vt=>eg(vt.status))),_t=new Map(pt.map(vt=>[vt.name,vt.value]));return{labels:nt,data:nt.map(vt=>_t.get(vt)||0)}}else{const nt=["대기중","진행중","검수중","검수요청중","완료","취소"];return{labels:P.map(pt=>pt.name),data:P.map(pt=>pt.value),orderFallback:nt}}},[M,$,P]);j.useEffect(()=>{var pt,_t,vt;const nt=M==="all";if(V.current){(pt=bi.getChart(V.current))==null||pt.destroy();const At=nt?Pt.labels:k.map(An=>An.name),$t=nt?Pt.data:k.map(An=>An.value),ue=nt?[Zp[0],Zp[1]]:k.map((An,ei)=>Zp[ei%Zp.length]);st.current=new bi(V.current,{type:"doughnut",data:{labels:At,datasets:[{data:$t,backgroundColor:ue}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"60%",plugins:{legend:{position:"right"},datalabels:{formatter:(An,ei)=>{const ni=ei.dataset.data.reduce((Rn,bt)=>Rn+bt,0),cs=ni?An/ni*100:0;return cs>=5?`${cs.toFixed(1)}%`:""},color:"#fff",font:{weight:"bold"}}}}})}return Z.current&&((_t=bi.getChart(Z.current))==null||_t.destroy(),q.current=new bi(Z.current,{type:"bar",data:{labels:ot.labels,datasets:[{label:"건수",data:ot.data}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:4}},scales:{y:{beginAtZero:!0,ticks:{precision:0,font:{size:14}},grace:"15%"}},plugins:{legend:{display:!1},datalabels:{anchor:"end",align:"end",offset:4,clip:!1,font:{size:14},formatter:At=>At>0?At:""}}}})),ct.current&&((vt=bi.getChart(ct.current))==null||vt.destroy(),nt?lt.current=new bi(ct.current,{type:"bar",data:{labels:X.labels,datasets:[{label:"Homeplus",data:X.hpData,backgroundColor:"rgba(78, 121, 167,.7)",stack:"company"},{label:"NSmall",data:X.nsData,backgroundColor:"rgba(255,157,167,.6)",stack:"company"}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:4}},scales:{x:{stacked:!0,ticks:{autoSkip:!1,maxRotation:40,minRotation:0}},y:{stacked:!0,beginAtZero:!0,ticks:{precision:0,font:{size:14}},grace:"15%"}},plugins:{legend:{position:"top"},datalabels:{anchor:"end",align:"end",offset:2,clip:!1,font:{size:12},formatter:At=>At>0?At:""}}}}):lt.current=new bi(ct.current,{type:"bar",data:{labels:z.map(At=>At.name),datasets:[{label:"건수",data:z.map(At=>At.value),backgroundColor:"rgba(255,157,167,.6)"}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:4}},scales:{y:{beginAtZero:!0,ticks:{precision:0,font:{size:14}},grace:"15%"}},plugins:{legend:{display:!1},datalabels:{anchor:"end",align:"end",offset:4,clip:!1,font:{size:14},formatter:At=>At>0?At:""}}}})),()=>{var At,$t,ue;(At=st.current)==null||At.destroy(),($t=q.current)==null||$t.destroy(),(ue=lt.current)==null||ue.destroy()}},[M,k,Pt,ot,z,X]);const K=h===1,at=M==="all"?F:C;return v.jsxs(XW,{children:[v.jsxs(QW,{children:[_&&!K&&v.jsxs(ZW,{children:[v.jsx(qb,{$active:M==="homeplus",onClick:()=>A("homeplus"),children:"Homeplus"}),v.jsx(qb,{$active:M==="nsmall",onClick:()=>A("nsmall"),children:"NSmall"}),v.jsx(qb,{$active:M==="all",onClick:()=>A("all"),children:"전체"})]}),M!=="all"?v.jsxs(JW,{children:[v.jsx(PR,{value:n.y,onChange:nt=>i(pt=>({...pt,y:Number(nt.target.value)})),children:Array.from({length:5}).map((nt,pt)=>{const _t=t.getFullYear()-2+pt;return v.jsxs("option",{value:_t,children:[_t,"년"]},_t)})}),v.jsx(PR,{value:n.m,onChange:nt=>i(pt=>({...pt,m:Number(nt.target.value)})),children:Array.from({length:12}).map((nt,pt)=>v.jsxs("option",{value:pt+1,children:[pt+1,"월"]},pt+1))}),v.jsxs("span",{className:"range",children:[s," 범위"]})]}):v.jsxs(tY,{children:[v.jsx($b,{$active:l==="day",onClick:()=>c("day"),children:"일"}),v.jsx($b,{$active:l==="week",onClick:()=>c("week"),children:"주"}),v.jsx($b,{$active:l==="month",onClick:()=>c("month"),children:"월"}),v.jsx("span",{className:"range",children:U==null?void 0:U.label})]})]}),v.jsxs(eY,{children:[v.jsxs(Ch,{children:[v.jsx(Dh,{children:"총 요청건수(건)"}),v.jsx(Mh,{children:(at==null?void 0:at.totalRequests)??0})]}),v.jsxs(Ch,{children:[v.jsx(Dh,{children:"실 제작건수(건)"}),v.jsx(Mh,{children:(at==null?void 0:at.producedCount)??0})]}),v.jsxs(Ch,{children:[v.jsx(Dh,{children:"사용공수"}),v.jsx(Mh,{children:(at==null?void 0:at.usedHoursDisplay)??"0.00"})]}),v.jsxs(Ch,{children:[v.jsx(Dh,{children:"가용공수"}),v.jsx(Mh,{children:((yt=at==null?void 0:at.availHours)==null?void 0:yt.toLocaleString())??"0"})]}),v.jsxs(Ch,{children:[v.jsx(Dh,{children:"사용공수비율"}),v.jsx(Mh,{children:at!=null&&at.usedRatio?`${at.usedRatio}%`:"0%"})]})]}),v.jsxs(nY,{children:[v.jsx(iY,{$compact:M==="all",children:v.jsxs(rY,{children:[v.jsx(Hb,{children:M==="all"?"회사별 분포 (일/주/월 기준, 평일)":"업무유형별 분포현황"}),v.jsx(Wb,{$h:400,children:v.jsx("canvas",{ref:V})})]})}),v.jsxs(sY,{$compact:M==="all",children:[v.jsxs(NR,{children:[v.jsx(Hb,{children:M==="all"?"디자이너별 배정 건수 (회사 스택)":"업무형태현황 (task_form)"}),v.jsx(Wb,{$h:180,children:v.jsx("canvas",{ref:ct})})]}),v.jsxs(NR,{children:[v.jsx(Hb,{children:"진행현황 (status)"}),v.jsx(Wb,{$h:180,children:v.jsx("canvas",{ref:Z})})]})]})]})]})}const XW=H.div`font-family: 'Pretendard';`,QW=H.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  padding: 24px 0 30px;
`,ZW=H.div`display:flex; gap:8px;`,qb=H.button`
  padding: 11.5px 10px; border-radius: 4px; font-family: 'Pretendard';
  font-size: 16px; font-weight: 400;
  background-color: ${({theme:e,$active:t})=>t?e.colors.black:e.colors.white01};
  color: ${({theme:e,$active:t})=>t?e.colors.white01:e.colors.black};
  border: 1px solid ${({theme:e})=>e.colors.black};
`,JW=H.div`
  display:flex; align-items:center; gap:8px; margin-left:auto;
`,PR=H.select`
  appearance:none; width:150px; height: 48px; margin-right:8px; padding:0 12px;
  border:1px solid ${({theme:e})=>e.colors.gray02}; border-radius:4px;
  font-family:'Pretendard'; font-size:16px; font-weight:400; color:${({theme:e})=>e.colors.black};
  background:${({theme:e})=>e.colors.white01} url(${hx}) no-repeat right 12px center / 16px 16px;
  &:focus { outline:none; border-color:${({theme:e})=>e.colors.black}; }
`,tY=H.div`
  display:flex; align-items:center; gap:8px; margin-left:auto;
  .range { margin-left:12px; color:#667085; font-size:14px; }
`,$b=H.button`
  padding:10px 14px; border-radius:8px; font-family:'Pretendard'; font-size:15px;
  background:${({$active:e})=>e?"#111":"#fff"};
  color:${({$active:e})=>e?"#fff":"#111"};
  border:1px solid #111; transition:all .15s ease;
`,eY=H.ul`display:flex; gap:14px; margin-bottom:16px;`,Ch=H.li`flex:1; padding:14px; border:1px solid #e8ecf3; border-radius:14px; background:#f7f9fc;`,Dh=H.h3`color:#9aa4b2; font-size:12px; margin-bottom:8px;`,Mh=H.strong`font-size:32px; font-weight:800;`,nY=H.div`display:flex; gap:16px;`,iY=H.div`
  flex: 0 0 ${({$compact:e})=>e?"38%":"50%"};
`,sY=H.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
  flex: 1 1 ${({$compact:e})=>e?"62%":"50%"};
`,oO=H.div`background:#fff; border:1px solid #e8ecf3; border-radius:16px; padding:16px; height:100%;`,rY=H(oO)``,NR=H(oO)``,Hb=H.h3`margin:0 0 10px; font-size:15px; color:#666;`,Wb=H.div`position:relative; width:100%; height:${({$h:e})=>`${e}px`};`,aY=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],oY=e=>[...e||""].map(t=>{const n=t.charCodeAt(0);if(n>=44032&&n<=55203){const i=Math.floor((n-44032)/28/21);return aY[i]}return t}).join("");function Mx(e){const t=a=>a==null?"":String(a).toLowerCase(),n={id:t(e.design_request_id),requirement:t(e.requirement)},i=Object.values(n).join(" "),s=oY(n.requirement);return{...e,_index:{plain:i,chosung:s}}}function Ix(e,t){if(!t)return!0;const n=t.toLowerCase();return e._index.plain.includes(n)||e._index.chosung.includes(n)}const lY="진행 상태 선택",cY=e=>{const t=(e??"").trim();if(!t)return[];const n=t.toLowerCase(),i=t.toUpperCase(),s=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase();return Array.from(new Set([t,n,i,s]))};function uY({view:e,setIsDrawerOpen:t,setEditData:n,setDetailData:i}){const[s,a]=j.useState(""),[l,c]=j.useState(""),[h,f]=j.useState([]),[p,y]=j.useState("진행 상태 선택"),[_,x]=j.useState({start:null,end:null}),[E,A]=j.useState(""),[T,D]=j.useState(""),O=e==="allrequestlist";j.useEffect(()=>{const V=Cl(os,async Z=>{if(!Z)return;Z.displayName&&a(Z.displayName);const ct=Zn(Zt,"users",Z.uid),st=await Xc(ct);if(st.exists()){const q=st.data();c(((q==null?void 0:q.company)??"").trim())}else c("")});return()=>V()},[]),j.useEffect(()=>{if(f([]),!(e==="dashboard"||e==="inworkhour")){if(e==="myrequestlist"){if(!s)return;const V=Bn(Qe(Zt,"design_request"),gn("requester","==",s),Ef("design_request_id","desc")),Z=rr(V,ct=>{const st=ct.docs.map(q=>({id:q.id,...q.data()}));f(st)});return()=>Z()}if(e==="allrequestlist"){if(!l)return;const V=cY(l),Z=Qe(Zt,"design_request"),ct=new Map,st=[],q=()=>{const lt=Array.from(ct.values()).sort((ot,K)=>{const at=String(ot.design_request_id??"");return String(K.design_request_id??"").localeCompare(at,"en",{numeric:!0})});f(lt)};return V.forEach(lt=>{const ot=Bn(Z,gn("company","==",lt),Ef("design_request_id","desc")),K=rr(ot,at=>{at.docs.forEach(yt=>{ct.set(yt.id,{id:yt.id,...yt.data()})}),q()});st.push(K)}),()=>st.forEach(lt=>lt())}}},[e,l,s]);const L=V=>x(V),B=V=>y(V),M=V=>D(V),Y=V=>V==="검수요청"?"진행중":V,C=V=>new Date(V.getFullYear(),V.getMonth(),V.getDate()),k=V=>{if(!V)return null;if(typeof V=="object"&&typeof V.toDate=="function")return C(V.toDate());if(V instanceof Date)return C(V);if(typeof V=="number")return C(new Date(V));if(typeof V=="string"){const ct=V.replace(/\./g,"-").replace(/\//g,"-").split("-");if(ct.length===3){const[q,lt,ot]=ct.map(Number),K=q>31?q:new Date().getFullYear();return new Date(K,lt-1,ot)}if(ct.length===2){const[q,lt]=ct.map(Number),ot=new Date().getFullYear();return new Date(ot,q-1,lt)}const st=new Date(V);return isNaN(+st)?null:C(st)}return null},P=j.useMemo(()=>h.map(V=>{const Z=Y(V.status);return Mx({...V,displayStatus:Z})}),[h]),z=j.useMemo(()=>{const V=_.start?C(_.start):null,Z=_.end?C(_.end):null,ct=T.trim();return P.filter(st=>{if(p!==lY&&st.displayStatus!==p)return!1;if(V&&Z){const q=k(st.request_date)||k(st.requested_at)||k(st.requestDate);if(!q||q<V||q>Z)return!1}return!!Ix(st,ct)})},[P,p,_,T]),U=V=>{const Z=h.find(ct=>ct.id===V);return!(!Z||Z.status==="완료"||Z.status==="취소"||e==="allrequestlist"&&Z.requester!==s)},$=async V=>{U(V)&&(await Ks(Zn(Zt,"design_request",V),{status:"완료",requester_review_status:"검수완료"}),f(Z=>Z.map(ct=>ct.id===V?{...ct,status:"완료",requester_review_status:"검수완료"}:ct)),alert("완료 처리되었습니다."))},F=async V=>{if(!U(V))return;const Z=Zn(Zt,"design_request",V);await Ks(Z,{requester_edit_state:!0});const ct=await Xc(Z);if(ct.exists()){const st={id:ct.id,...ct.data()};n(st),t(!0)}},Pt=V=>{i(V),t(!0)},X=async V=>{if(!U(V))return;const Z=h.find(st=>st.id===V);if(window.confirm(`문서번호 ${(Z==null?void 0:Z.design_request_id)??""} 요청을 취소하시겠습니까?`))try{await Ks(Zn(Zt,"design_request",V),{status:"취소"}),f(st=>st.map(q=>q.id===V?{...q,status:"취소"}:q))}catch(st){console.error(st),alert("취소 처리 중 오류가 발생했습니다. 다시 시도해 주세요.")}};return v.jsxs(v.Fragment,{children:[v.jsx(ux,{}),e==="dashboard"&&v.jsx(hY,{children:v.jsx(Dx,{capacityHoursPerMonth:704})}),e==="allrequestlist"&&v.jsxs(LR,{children:[v.jsx(kf,{roleNumber:1,onApplyStatus:B,onApplyRange:L,onSearch:M,keyword:E,onKeywordChange:A}),v.jsx(GT,{data:z,disableActions:!1,lockOthers:O,currentUserName:s,onReviewComplete:$,onCancel:X,onEditClick:F,onDetailClick:Pt})]}),e==="myrequestlist"&&v.jsxs(LR,{children:[v.jsx(kf,{roleNumber:1,onApplyStatus:B,onApplyRange:L,onSearch:M,keyword:E,onKeywordChange:A}),v.jsx(GT,{data:z,disableActions:!1,onReviewComplete:$,onCancel:X,onEditClick:F,onDetailClick:Pt})]})]})}const LR=H.div`
  padding: 0 48px;
`,hY=H.div`
  max-height: 766px;
  padding: 0 48px;
  overflow: auto;
`;function fY({index:e,item:t,row:n,onChange:i,onSave:s,onDetailClick:a,disableActions:l}){const c=_=>{if(!_)return"-";if(_.toDate){const x=_.toDate();return`${x.getMonth()+1}/${x.getDate()}`}return _},h=_=>_==="검수중"?"검수요청":_??"대기",f=_=>_,p=h(n.status),y=_=>{_.stopPropagation(),a(t)};return v.jsxs(dY,{isCanceled:t.status==="취소",children:[v.jsx(gs,{children:e}),v.jsx(gs,{children:v.jsx(bY,{onClick:y,$hasUpdate:!!t.updated_date,children:t.design_request_id})}),v.jsx(gs,{children:t.company}),v.jsx(gs,{children:c(t.request_date)}),v.jsx(pY,{children:c(t.completion_date)}),v.jsx(gY,{children:c(t.open_date)}),v.jsx(gs,{children:t.merchandiser}),v.jsx(gs,{children:t.requester}),v.jsx(gs,{children:t.task_form}),v.jsx(mY,{children:v.jsxs(vY,{children:[v.jsx(xY,{children:t.task_type}),v.jsx(wY,{children:t.task_type_detail})]})}),v.jsx(yY,{children:v.jsxs(EY,{children:[t.emergency?v.jsx(lO,{children:"긴급"}):"",v.jsx(SY,{onClick:y,children:t.requirement})]})}),v.jsx(gs,{children:v.jsx(TY,{href:t.url,target:"_blank"})}),v.jsx(_Y,{children:v.jsx(AY,{onClick:y,children:t.note||""})}),v.jsx(VR,{children:v.jsx(jR,{type:"date",value:n.start_dt??"",onChange:_=>i(t.id,"start_dt",_.target.value),disabled:l||t.status==="취소"||t.status==="완료"})}),v.jsx(VR,{children:v.jsx(jR,{type:"date",value:n.end_dt??"",onChange:_=>i(t.id,"end_dt",_.target.value),disabled:l||t.status==="취소"||t.status==="완료"})}),v.jsx(gs,{children:v.jsx(RY,{type:"text",value:n.result_url??"",placeholder:"산출물 URL을 입력해주세요.",onChange:_=>i(t.id,"result_url",_.target.value),disabled:l||t.status==="취소"||t.status==="완료"})}),v.jsx(gs,{children:v.jsxs("select",{value:p,onChange:_=>i(t.id,"status",f(_.target.value)),disabled:l||t.status==="취소"||t.status==="완료",children:[v.jsx("option",{value:"대기",children:"대기"}),v.jsx("option",{value:"진행중",children:"진행중"}),v.jsx("option",{value:"검수요청",children:"검수요청"}),v.jsx("option",{value:"완료",children:"완료"}),v.jsx("option",{value:"취소",children:"취소"})]})}),v.jsx(gs,{children:v.jsx(cO,{onClick:()=>s(t.id),disabled:l||t.status==="취소"||t.status==="완료",children:"저장"})})]})}const dY=H.tr`
  ${({isCanceled:e})=>e&&`
      td {
        color: #888;
        background-color: #f4f4f4;
      }
    `}
  
  ${({isCanceled:e,theme:t})=>e&&`
      ${lO} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
      }
      ${cO} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
        border-color: ${t.colors.gray06};
        cursor: default;
        pointer-events: none;
      }
    `}
  & td {
    font-family: 'Pretendard';
    font-size: 14px;
    font-weight: 500;
  }

  &:hover {
    td, input, select {
      background-color: ${({theme:e})=>e.colors.gray04}
    }
  }
`,gs=H.td`
  padding: 11px 0;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }
`,pY=H.td`
  color: ${({theme:e})=>e.colors.red};
`,gY=H.td`
  color: ${({theme:e})=>e.colors.blue02};
`,mY=H.td`
  padding: 15px 12px;
  line-height: 15px;
`,yY=H.td`
  line-height: 15px;
  text-align: left;
`,_Y=H.td`
  line-height: 15px;
  padding: 0 12px;
  border-right: 1px solid ${({theme:e})=>e.colors.black};
  text-align: left;
  background-color: #fffff1;

`,VR=H.td`
  padding: 0 6px;
`,bY=H.span`
  position: relative;

  &::after {
    content: '';
    position: absolute;
    top: -5px;
    right: -2px;
    display: ${({$hasUpdate:e})=>e?"block":"none"};
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background-color: ${({theme:e})=>e.colors.red};
  }

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,vY=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`,xY=H.span`
  white-space: nowrap;
`,wY=H.span`
  
`,EY=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  padding: 0 12px;
`,lO=H.span`
  margin-right: 5px;
  padding: 3px 5px;
  border-radius: 2px;
  font-size: 10px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.red};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,SY=H.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,TY=H.a`
  display: inline-block;
  vertical-align: middle;
  width: 24px;
  height: 24px;
  background: url(${cx}) no-repeat center / contain;
`,AY=H.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,jR=H.input.attrs({type:"date"})`
  width: 100%;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 500;
`,RY=H.input`
  width: 100%;
  padding: 0 12px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 500;
`,cO=H.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`;function UR({requests:e,onChange:t,formData:n,onSave:i,onDetailClick:s,disableActions:a,lockOthers:l=!1,currentDesignerName:c=""}){return v.jsx(kY,{children:v.jsxs(CY,{children:[v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"40px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"140px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"80px"}})]}),v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx(Nn,{children:"번호"}),v.jsx(Nn,{children:"문서번호"}),v.jsx(Nn,{children:"회사"}),v.jsx(Nn,{children:"요청일"}),v.jsxs(Nn,{children:["완료",v.jsx("br",{}),"요청일"]}),v.jsx(Nn,{children:"오픈일"}),v.jsx(Nn,{children:"담당 MD"}),v.jsx(Nn,{children:"요청자"}),v.jsx(Nn,{children:"업무부서"}),v.jsx(Nn,{children:"업무유형"}),v.jsx(Nn,{children:"작업항목"}),v.jsxs(Nn,{children:["요청서",v.jsx("br",{}),"URL"]}),v.jsx(Nn,{children:"메모"}),v.jsx(Nn,{children:"디자인 시작일"}),v.jsx(Nn,{children:"디자인 종료일"}),v.jsx(Nn,{children:"산출물 링크"}),v.jsx(Nn,{children:"진행상태"}),v.jsx(Nn,{children:"저장"})]})}),v.jsx("tbody",{children:e.length>0?e.map((h,f)=>{const p=h.assigned_designer===c,y=a||l&&!p;return v.jsx(fY,{index:f+1,item:h,row:n[h.id]??{},onChange:t,onSave:i,onDetailClick:s,disableActions:y},h.id)}):v.jsx("tr",{children:v.jsx("td",{colSpan:16,style:{textAlign:"center"},children:"배정된 요청이 없습니다."})})})]})})}const kY=H.div`
  position: relative;
  max-height: 535px;
  border-top: 2px solid ${({theme:e})=>e.colors.black};
  overflow-y: auto;
  scrollbar-width: thin;
`,CY=H.table`
  table-layout: fixed;
  width: 100%;
  text-align: center;
`,Nn=H.th`
  position: sticky;
  top: -2px;
  line-height: 16px;
  padding: 13px 0;
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.gray08};
  z-index: 10;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(13) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }

  &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17) {
    border-right: 1px solid ${({theme:e})=>e.colors.pink02}
  }

  &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17), &:nth-of-type(18) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`,DY="진행 상태 선택",zR="회사 선택";function MY({view:e,setIsDrawerOpen:t,setDetailData:n}){const[i,s]=j.useState([]),[a,l]=j.useState(""),[c,h]=j.useState({}),[f,p]=j.useState("진행 상태 선택"),[y,_]=j.useState({start:null,end:null}),[x,E]=j.useState([]),[A,T]=j.useState(zR),[D,O]=j.useState(""),[L,B]=j.useState(""),M=e==="allrequestlist";j.useEffect(()=>{const K=Cl(os,at=>{at!=null&&at.displayName&&l(at.displayName)});return()=>K()},[]),j.useEffect(()=>{if(!a)return;if(e==="dashboard"||e==="inworkhour"){s([]);return}const K=e==="allrequestlist"?Bn(Qe(Zt,"design_request"),Ef("design_request_id","desc")):Bn(Qe(Zt,"design_request"),gn("assigned_designer","==",a),Ef("design_request_id","desc")),at=rr(K,yt=>{const nt=yt.docs.map(pt=>({id:pt.id,...pt.data()}));s(nt)});return()=>at()},[a,e]),j.useEffect(()=>{const K=rr(Qe(Zt,"users"),at=>{const yt=new Set;at.forEach(nt=>{const pt=String(nt.data().company??"").trim();pt&&yt.add(pt)}),E(Array.from(yt).sort())});return()=>K()},[]);const Y=K=>_(K),C=K=>p(K),k=K=>T(K),P=K=>new Date(K.getFullYear(),K.getMonth(),K.getDate()),z=K=>{if(!K)return null;if(typeof K=="object"&&typeof K.toDate=="function")return P(K.toDate());if(K instanceof Date)return P(K);if(typeof K=="number")return P(new Date(K));if(typeof K=="string"){const yt=K.replace(/\./g,"-").replace(/\//g,"-").split("-");if(yt.length===3){const[pt,_t,vt]=yt.map(Number),At=pt>31?pt:new Date().getFullYear();return new Date(At,_t-1,vt)}if(yt.length===2){const[pt,_t]=yt.map(Number),vt=new Date().getFullYear();return new Date(vt,pt-1,_t)}const nt=new Date(K);return isNaN(+nt)?null:P(nt)}return null},U=K=>{const at=K.getFullYear(),yt=String(K.getMonth()+1).padStart(2,"0"),nt=String(K.getDate()).padStart(2,"0");return`${at}-${yt}-${nt}`},$=K=>{if(!K)return"";if(typeof K=="object"&&typeof K.toDate=="function")return U(K.toDate());if(K instanceof Date)return U(K);const at=new Date(K);return isNaN(+at)?"":U(at)},F=j.useMemo(()=>i.map(K=>({...K,designer_start_date:$(K.designer_start_date),designer_end_date:$(K.designer_end_date),result_url:K.result_url??"",status:K.status??"대기"})),[i]),Pt=K=>K==="검수중"?"검수요청":K??"대기",X=j.useMemo(()=>F.map(K=>{const at=Pt(K.status);return Mx({...K,displayStatus:at})}),[F]),V=j.useMemo(()=>{const K=y.start?P(y.start):null,at=y.end?P(y.end):null;return X.filter(yt=>{let nt=!0;if(nt&&f&&f!==DY&&Pt(yt.status)!==f&&(nt=!1),nt&&A!==zR&&String(yt.company)!==A&&(nt=!1),nt&&K&&at){const pt=z(yt.request_date)||z(yt.requested_at)||z(yt.requestDate);(!pt||pt<K||pt>at)&&(nt=!1)}return nt&&L&&!Ix(yt,L)&&(nt=!1),nt})},[X,f,A,y,L]),Z=K=>B(K);j.useEffect(()=>{i.length&&h(K=>{const at={...K};return i.forEach(yt=>{at[yt.id]===void 0&&(at[yt.id]={start_dt:$(yt.designer_start_date),end_dt:$(yt.designer_end_date),result_url:yt.result_url||"",status:yt.status||"대기"})}),at})},[i]);const ct=(K,at,yt)=>{h(nt=>({...nt,[K]:{...nt[K],[at]:yt}}))},st=K=>{if(!K)return null;const at=new Date(K);return isNaN(+at)?null:Me.fromDate(at)},q=K=>{const at=i.find(yt=>yt.id===K);return!(!at||at.status==="완료"||at.status==="취소"||e==="allrequestlist"&&at.assigned_designer!==a)},lt=async K=>{if(!q(K))return;const at=c[K];if(!at){alert("변경된 내용이 없습니다.");return}await Ks(Zn(Zt,"design_request",K),{designer_start_date:st(at.start_dt),designer_end_date:st(at.end_dt),result_url:at.result_url??"",status:at.status??"대기"}),alert("저장되었습니다.")},ot=K=>{n(K),t(!0)};return v.jsxs(IY,{children:[v.jsx(ux,{}),e==="allrequestlist"&&v.jsxs(BR,{children:[v.jsx(kf,{roleNumber:2,onApplyStatus:C,onApplyRange:Y,onSearch:Z,keyword:D,onKeywordChange:O,companyOptions:x,onApplyCompany:k}),v.jsx(UR,{requests:V,formData:c,onChange:ct,onSave:lt,onDetailClick:ot,disableActions:!1,lockOthers:M,currentDesignerName:a})]}),e==="myrequestlist"&&v.jsxs(BR,{children:[v.jsx(PY,{children:"디자이너 화면"}),v.jsx(kf,{roleNumber:2,onApplyStatus:C,onApplyRange:Y,onSearch:Z,keyword:D,onKeywordChange:O,companyOptions:x,onApplyCompany:k}),v.jsx(UR,{requests:V,formData:c,onChange:ct,onSave:lt,onDetailClick:ot,disableActions:!1})]}),e==="dashboard"&&v.jsx(OY,{children:v.jsx(Dx,{capacityHoursPerMonth:704})})]})}const IY=H.div``,BR=H.div`
  padding: 0 48px;
`,OY=H.div`
  max-height: 766px;
  padding: 0 48px;
  overflow: auto;
`,PY=H.h2`
  margin-top: 20px;
`;function NY({index:e,item:t,designerList:n,selectedDesigner:i,onDesignerSelect:s,onAssignDesigner:a,onSendToRequester:l,onDetailClick:c,workHourValue:h,onChangeWorkHour:f,onSaveWorkHour:p,onStartEditWorkHour:y,onCancelEditWorkHour:_}){const E=(B=>B==="검수요청"?"검수중":B==="검수중"?"검수요청":B)(t.status),A=B=>{if(!B)return"-";if(B.toDate){const M=B.toDate();return`${M.getMonth()+1}/${M.getDate()}`}return B},T=B=>{B.stopPropagation(),c(t)},D=!!t.work_hour_edit_state,O=t.status==="취소"||t.status==="완료",L=j.useCallback(B=>{const M=B.relatedTarget;(!M||!B.currentTarget.contains(M))&&_()},[_]);return v.jsxs(LY,{isCanceled:t.status==="취소",children:[v.jsx(_i,{children:e}),v.jsx(_i,{children:v.jsx(FY,{onClick:T,$hasUpdate:!!t.updated_date,children:t.design_request_id})}),v.jsx(_i,{children:t.company}),v.jsx(_i,{children:A(t.request_date)}),v.jsx(VY,{children:A(t.completion_date)}),v.jsx(jY,{children:A(t.open_date)}),v.jsx(_i,{children:t.merchandiser}),v.jsx(_i,{children:t.requester}),v.jsx(_i,{children:t.task_form}),v.jsx(UY,{children:v.jsxs(qY,{children:[v.jsx($Y,{children:t.task_type}),v.jsx(HY,{children:t.task_type_detail})]})}),v.jsx(zY,{children:v.jsxs(WY,{children:[t.emergency?v.jsx(uO,{children:"긴급"}):"",v.jsx(YY,{onClick:T,children:t.requirement})]})}),v.jsx(_i,{children:v.jsx(FR,{href:t.url,target:"_blank"})}),v.jsx(BY,{children:v.jsx(GY,{onClick:T,children:t.note||""})}),v.jsx(_i,{children:v.jsx(KY,{status:E,children:E})}),v.jsx(_i,{children:t.result_url?v.jsx(FR,{href:t.result_url,target:"_blank"}):""}),v.jsx(_i,{children:A(t.designer_start_date)}),v.jsx(_i,{children:A(t.designer_end_date)}),v.jsxs(_i,{children:[v.jsxs(XY,{value:i,onChange:B=>s(B.target.value),disabled:t.status==="취소"||t.status==="완료",children:[v.jsx("option",{value:"",children:"선택"}),n.map(B=>v.jsx("option",{value:B.name,children:B.name},B.id))]}),v.jsx(hO,{onClick:a,disabled:t.status==="취소"||t.status==="완료",children:"배정"})]}),v.jsx(_i,{children:t.status==="검수요청"&&t.manager_review_status!=="검수완료"?v.jsx(fO,{onClick:l,children:"검수완료"}):t.manager_review_status==="검수완료"?v.jsx(QY,{children:"검수완료"}):""}),v.jsx(_i,{children:D?v.jsxs(eG,{tabIndex:-1,onBlur:L,children:[v.jsx(ZY,{type:"text",placeholder:"공수 입력",value:h,onChange:B=>f(B.target.value),onClick:B=>B.stopPropagation(),disabled:O,autoFocus:!0}),v.jsx(JY,{type:"button",onClick:B=>{B.stopPropagation(),!O&&p()},disabled:O,children:"수정"})]}):t.out_work_hour!=null?v.jsx(tG,{tabIndex:0,onClick:B=>{B.stopPropagation(),!O&&y()},onKeyDown:B=>{O||(B.key==="Enter"||B.key===" ")&&(B.preventDefault(),y())},children:t.out_work_hour}):null})]})}const LY=H.tr`
  ${({isCanceled:e})=>e&&`
      td {
        color: #888;
        background-color: #f4f4f4;
      }
    `}
  
  ${({isCanceled:e,theme:t})=>e&&`
      ${uO} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
      }
      ${fO}, ${hO} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
        border-color: ${t.colors.gray06};
        cursor: default;
        pointer-events: none;
      }
    `}
  & td {
    font-family: 'Pretendard';
    font-size: 14px;
    font-weight: 500;
  }

  &:hover {
    td {
      background-color: ${({theme:e})=>e.colors.gray04}
    }
  }
`,_i=H.td`
  padding: 11px 0;
 
  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(14) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }
`,VY=H.td`
  color: ${({theme:e})=>e.colors.red};
`,jY=H.td`
  color: ${({theme:e})=>e.colors.blue02};
`,UY=H.td`
  padding: 15px 12px;
  line-height: 15px;
`,zY=H.td`
  line-height: 15px;
  text-align: left;
`,BY=H.td`
  line-height: 15px;
  padding: 0 12px;
  text-align: left;
  background-color: #fffff1;
`,FY=H.span`
  position: relative;

  &::after {
    content: '';
    position: absolute;
    top: -5px;
    right: -2px;
    display: ${({$hasUpdate:e})=>e?"block":"none"};
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background-color: ${({theme:e})=>e.colors.red};
  }

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,qY=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`,$Y=H.span`
  white-space: nowrap;
`,HY=H.span``,WY=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  padding: 0 12px;
`,uO=H.span`
  margin-right: 5px;
  padding: 3px 5px;
  border-radius: 2px;
  font-size: 10px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.red};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,YY=H.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,FR=H.a`
  display: inline-block;
  vertical-align: middle;
  width: 24px;
  height: 24px;
  background: url(${cx}) no-repeat center / contain;
`,GY=H.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,KY=H.span`
  border-radius: 14px;
  padding: 5.5px 12px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 400;
  color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.orange;case"진행중":return t.colors.blue02;case"검수요청":return t.colors.red;case"검수중":return t.colors.red;case"완료":return t.colors.gray06;default:return t.colors.gray06}}};
  background-color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.beige02;case"진행중":return t.colors.lightpupple;case"검수요청":return t.colors.pink03;case"검수중":return t.colors.pink03;case"완료":return t.colors.white02;default:return t.colors.gray07}}};;
`,hO=H.button`
  margin-left:10px;
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};

  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`,XY=H.select`
  width: 90px;
  padding: 6px;
  border: 1px solid #ccc;
  border-radius: 4px;
`,fO=H.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
`,QY=H.span`
  color: green;
  font-size: 13px;
  font-weight: bold;
`,ZY=H.input`
  width: 40px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;

  &::placeholder {
    font-size: 11px;
  }
`,JY=H.button`
  margin: 6px 0 0 10px;
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
`,tG=H.span`
  display: inline-block;
  min-width: 24px;
  padding: 2px 6px;
  border-radius: 4px;
  cursor: pointer;
  user-select: none;
  &:hover {
    text-decoration: underline;
    font-weight: 600;
  }
`,eG=H.div`
  display: inline-flex;
  align-items: center;
  gap: 8px;
`;function nG({data:e,designerList:t,selectedDesigners:n,designerSelect:i,assignDesigner:s,sendToRequester:a,onDetailClick:l,workHours:c,onChangeWorkHour:h,onSaveWorkHour:f,onStartEditWorkHour:p,onCancelEditWorkHour:y}){return v.jsx(iG,{children:v.jsxs(sG,{children:[v.jsx(rG,{children:"매니저 요청 리스트"}),v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"40px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"140px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"160px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"110px"}})]}),v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx(un,{children:"번호"}),v.jsx(un,{children:"문서번호"}),v.jsx(un,{children:"회사"}),v.jsx(un,{children:"요청일"}),v.jsxs(un,{children:["완료",v.jsx("br",{}),"요청일"]}),v.jsx(un,{children:"오픈일"}),v.jsx(un,{children:"담당 MD"}),v.jsx(un,{children:"요청자"}),v.jsx(un,{children:"업무부서"}),v.jsx(un,{children:"업무형태"}),v.jsx(un,{children:"작업항목"}),v.jsxs(un,{children:["요청서",v.jsx("br",{}),"URL"]}),v.jsx(un,{children:"메모"}),v.jsx(un,{children:"진행상태"}),v.jsxs(un,{children:["산출물",v.jsx("br",{}),"URL"]}),v.jsxs(un,{children:["디자인",v.jsx("br",{}),"시작일"]}),v.jsxs(un,{children:["디자인",v.jsx("br",{}),"종료일"]}),v.jsx(un,{children:"디자이너 배정"}),v.jsx(un,{children:"검수"}),v.jsx(un,{children:"공수"})]})}),v.jsx("tbody",{children:e.length>0?e.map((_,x)=>v.jsx(NY,{index:x+1,item:_,designerList:t,selectedDesigner:n[_.id]||"",onDesignerSelect:E=>i(_.id,E),onAssignDesigner:()=>s(_.id),onSendToRequester:()=>a(_.id),onDetailClick:l,workHourValue:c[_.id]??"",onChangeWorkHour:E=>h(_.id,E),onSaveWorkHour:()=>f(_.id),onStartEditWorkHour:()=>p(_.id),onCancelEditWorkHour:()=>y(_.id)},_.id)):v.jsx("tr",{children:v.jsx("td",{colSpan:20,style:{textAlign:"center",padding:"20px"},children:"등록된 요청이 없습니다."})})})]})})}const iG=H.div`
  position: relative;
  max-height: 535px;
  border-top: 2px solid ${({theme:e})=>e.colors.black};
  overflow-y: auto;
  scrollbar-width: thin;
`,sG=H.table`
  table-layout: fixed;
  width: 100%;
  text-align: center;
`,rG=H.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,un=H.th`
  position: sticky;
  top: -2px;
  line-height: 16px;
  padding: 13px 0;
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.gray08};
  z-index: 10;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(14) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }

  &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17), &:nth-of-type(18), &:nth-of-type(19) {
    border-right: 1px solid ${({theme:e})=>e.colors.pink02}
  }

  &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17), &:nth-of-type(18), &:nth-of-type(19), &:nth-of-type(20) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`,aG=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],Hh=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()),oG=(e,t)=>!!e&&!!t&&e.getTime()===t.getTime(),Yb=e=>{if(!e)return null;if(typeof e=="object"&&typeof e.toDate=="function")return Hh(e.toDate());if(e instanceof Date)return Hh(e);if(typeof e=="number")return Hh(new Date(e));if(typeof e=="string"){const n=e.replace(/\./g,"-").replace(/\//g,"-").split("-");if(n.length===3){const[s,a,l]=n.map(Number),c=s>31?s:new Date().getFullYear();return new Date(c,(a||1)-1,l||1)}const i=new Date(e);return isNaN(+i)?null:Hh(i)}return null},Gb=e=>Yb(e.request_date)??Yb(e.open_date)??Yb(e.created_date),lG=e=>e==="대기"||e==="대기중",cG=e=>e==="완료",uG=e=>e==="진행중"||e==="검수중"||e==="검수요청",hG=160,fG=(e,t=2)=>{const n=Math.pow(10,t);return Math.sign(e)*Math.floor(Math.abs(e)*n+1e-9)/n},dG=e=>e.toFixed(2).replace(/\.?0+$/,"");function pG({dailyHours:e=8,targetDate:t}){const[n,i]=j.useState([]),s=Hh(t??new Date),a=s.getFullYear();j.useEffect(()=>{const h=Bn(Qe(Zt,"design_request")),f=rr(h,p=>{const y=p.docs.map(_=>({id:_.id,..._.data()}));i(y)});return()=>f()},[]);const l=j.useMemo(()=>Array.from(new Set(n.map(f=>(f.assigned_designer||"").trim()).filter(f=>f.length>0&&f!=="미배정"))).sort((f,p)=>f.localeCompare(p,"ko")).map(f=>{const p=n.filter(O=>O.assigned_designer===f),y=p.filter(O=>oG(Gb(O),s)),_=y.filter(O=>lG(O.status)).length,x=y.filter(O=>uG(O.status)).length,E=y.filter(O=>cG(O.status)).length,A=y.reduce((O,L)=>O+(Number(L.in_work_hour)||0),0),T=fG(A,2),D=Array.from({length:12},(O,L)=>{const B=p.filter(C=>{const k=Gb(C);return k&&k.getFullYear()===a&&k.getMonth()===L}).reduce((C,k)=>C+(Number(k.in_work_hour)||0),0),M=Math.round(B/hG*100),Y=p.filter(C=>{const k=Gb(C);return k&&k.getFullYear()===a&&k.getMonth()===L}).length;return{rate:M,count:Y}});return{name:f,wait:_,progress:x,done:E,usedHours:T,monthly:D}}),[n,s,a]),c=j.useMemo(()=>l.map((h,f)=>{const p=h.monthly.filter(x=>x.count>0),y=p.length?p.reduce((x,E)=>x+E.rate,0)/p.length:0,_=h.monthly.reduce((x,E)=>x+E.count,0);return{index:f+1,avgRate:y,totalCount:_}}),[l]);return l.length===0?v.jsx(mG,{children:"표시할 데이터가 없습니다."}):v.jsx(gG,{children:v.jsxs(yG,{children:[v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"140px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"110px"}})]}),v.jsxs("thead",{children:[v.jsxs("tr",{children:[v.jsx(qs,{rowSpan:2,children:"번호"}),v.jsx(qs,{rowSpan:2,children:"디자이너명"}),v.jsxs(qs,{colSpan:4,children:["현재현황(일공수 : ",e,"h)"]}),v.jsx(qs,{colSpan:12,children:"월별 진행현황(공수달성율 / 제작건수)"}),v.jsx(qs,{rowSpan:2,children:"연평균"})]}),v.jsxs("tr",{children:[v.jsx(qs,{children:"대기"}),v.jsx(qs,{children:"진행중"}),v.jsx(qs,{children:"완료"}),v.jsx(qs,{children:"사용공수(h)"}),aG.map(h=>v.jsx(qs,{children:h},h))]})]}),v.jsx("tbody",{children:l.map((h,f)=>{const{index:p,avgRate:y,totalCount:_}=c[f];return v.jsxs("tr",{children:[v.jsx(Ua,{children:p}),v.jsx(Ua,{children:h.name}),v.jsx(Ua,{children:h.wait}),v.jsx(Ua,{children:h.progress}),v.jsx(Ua,{children:h.done}),v.jsx(Ua,{children:dG(h.usedHours)}),h.monthly.map((x,E)=>v.jsxs(Ua,{children:[v.jsxs("div",{children:[x.rate,"%"]}),v.jsx("div",{children:x.count})]},E)),v.jsxs(Ua,{children:[v.jsxs("div",{children:[y.toFixed(0),"%"]}),v.jsx("div",{children:_})]})]},h.name+f)})})]})})}const gG=H.div`
  padding: 0 48px;
  margin-top: 20px;
`,mG=H.div`
  padding: 24px;
  text-align: center;
  color: #666;
  border: 1px solid #e5e5e5;
  border-radius: 8px;
  background: #fafafa;
`,yG=H.table`
  width: 100%;
  table-layout: fixed;
  font-family: 'Pretendard';
  border-top: 2px solid ${({theme:e})=>e.colors.black};

  thead {
    tr {
      &:first-of-type {
        th:nth-of-type(3) {
          border-right: 1px solid ${({theme:e})=>e.colors.black};
        }
        th:nth-of-type(4) {
          background-color: ${({theme:e})=>e.colors.pink01};
        }
      }
      &:last-of-type {
        th:nth-of-type(4) {
          border-right: 1px solid ${({theme:e})=>e.colors.black};
        }
      }
    }
  }


  th, td {
    padding: 8px 10px;
    font-size: 14px;
  }
`,qs=H.th`
  background-color: ${({theme:e})=>e.colors.gray08};
  font-weight: 700;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right:none;
  }

  &:nth-of-type(n + 5):nth-of-type(-n + 16) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`,Ua=H.td`
  text-align: center;
  font-weight: 500;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(6) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }
`;function _G({onClick:e,loading:t,label:n="Export CSV"}){return v.jsx(bG,{type:"button",onClick:e,disabled:!!t,children:t?"추출 중…":n})}const bG=H.button`
  margin-bottom: 10px;
  padding: 8px 12px;
  border-radius: 4px;
  border: 1px solid ${({theme:e})=>e.colors.black};
  background: ${({theme:e})=>e.colors.white01};
  font-size: 14px;
  &:disabled { opacity: 0.5; pointer-events: none; }
`,qR=e=>{if(e==null)return"";const t=String(e).replace(/"/g,'""');return/[",\n]/.test(t)?`"${t}"`:t},vG=(e,t)=>t.split(".").reduce((n,i)=>n?n[i]:void 0,e),ig=e=>e<10?`0${e}`:`${e}`,xG=e=>{if(e==null)return"";if(typeof e=="object"&&typeof e.toDate=="function"){const t=e.toDate();return`${t.getFullYear()}-${ig(t.getMonth()+1)}-${ig(t.getDate())}`}return e instanceof Date?`${e.getFullYear()}-${ig(e.getMonth()+1)}-${ig(e.getDate())}`:String(e)};function wG(e){const{rows:t,fields:n,filename:i="export.csv",headers:s,serialize:a=xG}=e,l=n.map(y=>qR((s==null?void 0:s[y])??y)).join(","),c=t.map(y=>{const _={id:y.id,...y};return n.map(E=>qR(a(vG(_,E)))).join(",")}),h="\uFEFF"+[l,...c].join(`\r
`),f=new Blob([h],{type:"text/csv;charset=utf-8"}),p=document.createElement("a");p.href=URL.createObjectURL(f),p.download=i,p.click(),URL.revokeObjectURL(p.href)}const $R="진행 상태 선택",HR="요청자 선택",WR="디자이너 선택",YR="회사 선택",tl=e=>String(e??"").trim();async function EG(e){const t=tl(e.company).toLowerCase();if(t==="nsmall"){const i=Bn(Qe(Zt,"nsmall_task_work_hour"),gn("nsmall_task_type","==",tl(e.task_type)),gn("nsmall_task_type_detail","==",tl(e.task_type_detail))),s=await io(i);if(!s.empty){const a=s.docs[0].data(),l=Number(a.nsmall_task_work_times);return Number.isFinite(l)?l:1}return 1}if(t==="homeplus"){const i=Bn(Qe(Zt,"homeplus_task_work_hour"),gn("homeplus_task_form","==",tl(e.task_form)),gn("homeplus_task_type","==",tl(e.task_type))),s=await io(i);if(!s.empty){const a=s.docs[0].data(),l=Number(a.homeplus_task_work_times);return Number.isFinite(l)?l:1}return 1}const n=await io(Bn(Qe(Zt,"task_work_hour"),gn("task_form","==",tl(e.task_form)),gn("task_type","==",tl(e.task_type))));if(!n.empty){const i=Number(n.docs[0].data().task_work_times);return Number.isFinite(i)?i:1}return 1}function SG({view:e,setIsDrawerOpen:t,setDetailData:n}){const[i,s]=j.useState([]),[a,l]=j.useState([]),[c,h]=j.useState({}),[f,p]=j.useState({}),[y,_]=j.useState($R),[x,E]=j.useState({start:null,end:null}),[A,T]=j.useState(""),[D,O]=j.useState(""),[L,B]=j.useState([]),[M,Y]=j.useState(HR),[C,k]=j.useState([]),[P,z]=j.useState(WR),[U,$]=j.useState([]),[F,Pt]=j.useState(YR),[X,V]=j.useState(!1);j.useEffect(()=>{if(e==="dashboard"||e==="inworkhour"){s([]);return}const bt=Bn(Qe(Zt,"design_request"),Ef("design_request_id","desc")),It=rr(bt,Rt=>{const St=Rt.docs.map(re=>({id:re.id,...re.data()}));s(St)});return()=>It()},[e]),j.useEffect(()=>{i.length&&h(bt=>{const It={...bt};return i.forEach(Rt=>{It[Rt.id]===void 0&&(It[Rt.id]=Rt.assigned_designer??"")}),It})},[i]),j.useEffect(()=>{i.length&&p(bt=>{const It={...bt};return i.forEach(Rt=>{It[Rt.id]===void 0&&(It[Rt.id]=Rt.out_work_hour!=null?String(Rt.out_work_hour):"")}),It})},[i]),j.useEffect(()=>{(async()=>{const It=Bn(Qe(Zt,"users"),gn("role","==",2)),St=(await io(It)).docs.map(re=>({id:re.id,...re.data()}));l(St),k(St.map(re=>re.name).filter(Boolean))})()},[]),j.useEffect(()=>{const bt=rr(Qe(Zt,"users"),It=>{const Rt=new Set;It.forEach(St=>{const re=String(St.data().company??"").trim();re&&Rt.add(re)}),$(Array.from(Rt).sort())});return()=>bt()},[]);const Z=(bt,It)=>{h(Rt=>({...Rt,[bt]:It}))},ct=async bt=>{const It=c[bt];if(!It){alert("디자이너를 선택하세요.");return}const Rt=Zn(Zt,"design_request",bt);await Ks(Rt,{assigned_designer:It}),alert("디자이너가 배정되었습니다!"),s(St=>St.map(re=>re.id===bt?{...re,assigned_designer:It}:re))},st=async bt=>{await Ks(Zn(Zt,"design_request",bt),{manager_review_status:"검수완료",status:"검수중"}),s(It=>It.map(Rt=>Rt.id===bt?{...Rt,manager_review_status:"검수완료",status:"검수중"}:Rt)),alert("요청자에게 전달되었습니다.")};j.useEffect(()=>{(async()=>{const bt=Bn(Qe(Zt,"users"),gn("role","==",1)),Rt=(await io(bt)).docs.map(St=>St.data().name).filter(Boolean);B(Rt)})()},[]);const q=bt=>{n(bt),t(!0)},lt=bt=>E(bt),ot=bt=>_(bt),K=bt=>O(bt.trim()),at=bt=>Y(bt),yt=bt=>z(bt),nt=bt=>Pt(bt),pt=bt=>new Date(bt.getFullYear(),bt.getMonth(),bt.getDate()),_t=bt=>{if(!bt)return null;if(typeof bt=="object"&&typeof bt.toDate=="function")return pt(bt.toDate());if(bt instanceof Date)return pt(bt);if(typeof bt=="number")return pt(new Date(bt));if(typeof bt=="string"){const Rt=bt.replace(/\./g,"-").replace(/\//g,"-").split("-");if(Rt.length===3){const[re,Fn,qn]=Rt.map(Number),qi=re>31?re:new Date().getFullYear();return new Date(qi,Fn-1,qn)}if(Rt.length===2){const[re,Fn]=Rt.map(Number),qn=new Date().getFullYear();return new Date(qn,re-1,Fn)}const St=new Date(bt);return isNaN(+St)?null:pt(St)}return null},vt=bt=>bt==="검수요청"?"검수중":bt==="검수중"?"검수요청":bt??"대기",At=j.useMemo(()=>i.map(bt=>{const It=vt(bt.status);return Mx({...bt,displayStatus:It})}),[i]),$t=j.useMemo(()=>{const bt=x.start?pt(x.start):null,It=x.end?pt(x.end):null;return At.filter(Rt=>{let St=!0;if(y!==$R&&Rt.status!==y&&(St=!1),St&&M!==HR&&Rt.requester!==M&&(St=!1),St&&P!==WR&&Rt.assigned_designer!==P&&(St=!1),St&&F!==YR&&String(Rt.company)!==F&&(St=!1),St&&bt&&It){const re=_t(Rt.request_date)||_t(Rt.requested_at)||_t(Rt.requestDate);(!re||re<bt||re>It)&&(St=!1)}return St&&D&&!Ix(Rt,D)&&(St=!1),St})},[At,y,M,P,F,x,D]),ue=(bt,It)=>{const Rt=It.replace(/[^0-9.]/g,"");p(St=>({...St,[bt]:Rt}))},An=async bt=>{const It=i.find(Rt=>Rt.id===bt);await Ks(Zn(Zt,"design_request",bt),{work_hour_edit_state:!0}),s(Rt=>Rt.map(St=>St.id===bt?{...St,work_hour_edit_state:!0}:St)),p(Rt=>({...Rt,[bt]:Rt[bt]!==void 0&&Rt[bt]!==""?Rt[bt]:(It==null?void 0:It.out_work_hour)!=null?String(It.out_work_hour):""}))},ei=async bt=>{const It=i.find(qn=>qn.id===bt);if(!It)return;const Rt=(f[bt]??"").trim(),St=Number(Rt.replace(",","."));if(!Number.isFinite(St)||St<0){alert("유효한 공수를 입력하세요.");return}const re=await EG(It),Fn=Math.round(St*re*1e3)/1e3;await Ks(Zn(Zt,"design_request",bt),{out_work_hour:St,in_work_hour:Fn,work_hour_edit_state:!1}),s(qn=>qn.map(qi=>qi.id===bt?{...qi,out_work_hour:St,in_work_hour:Fn,work_hour_edit_state:!1}:qi)),alert("공수 수정 완료")},ni=bt=>{if(!bt)return"";typeof bt=="object"&&typeof bt.toDate=="function"&&(bt=bt.toDate());const It=bt instanceof Date?bt:new Date(bt);if(isNaN(+It))return"";const Rt=It.getFullYear(),St=String(It.getMonth()+1).padStart(2,"0"),re=String(It.getDate()).padStart(2,"0");return`${Rt}-${St}-${re}`},cs=async()=>{V(!0);try{const bt=["design_request_id","request_date","completion_date","open_date","merchandiser","requester","task_form","task_type","task_type_detail","requirement","url","note","status","result_url","designer_start_date","designer_end_date","assigned_designer","work_hour"],It={design_request_id:"문서번호",request_date:"요청일",completion_date:"완료요청일",open_date:"오픈일",merchandiser:"담당MD",requester:"요청자",task_form:"업무부서",task_type:"업무형태",task_type_detail:"업무형태상세",requirement:"작업항목",url:"요청서URL",note:"메모",status:"진행상태",result_url:"산출물URL",designer_start_date:"디자인 시작일",designer_end_date:"디자인 종료일",assigned_designer:"디자이너",work_hour:"공수"},Rt=$t.map(St=>({design_request_id:St.design_request_id??"",request_date:ni(St.request_date??St.requested_at??St.requestDate),completion_date:ni(St.completion_date),open_date:ni(St.open_date),merchandiser:St.merchandiser??St.md??"",requester:St.requester??"",task_form:St.task_form??"",task_type:St.task_type??"",task_type_detail:St.task_type_detail??"",requirement:St.requirement??"",url:St.url??"",note:St.note??"",status:St.status??"",result_url:St.result_url??"",designer_start_date:ni(St.designer_start_date),designer_end_date:ni(St.designer_end_date),assigned_designer:St.assigned_designer??"",work_hour:(St.in_work_hour??St.out_work_hour??"")+""}));wG({rows:Rt,fields:bt,headers:It,filename:"design_request_current_view.csv"})}finally{V(!1)}},Rn=async bt=>{await Ks(Zn(Zt,"design_request",bt),{work_hour_edit_state:!1}),s(It=>It.map(Rt=>Rt.id===bt?{...Rt,work_hour_edit_state:!1}:Rt))};return v.jsxs(TG,{children:[v.jsx(ux,{}),e==="myrequestlist"&&v.jsxs(AG,{children:[v.jsx(kG,{children:"매니저 요청리스트"}),v.jsx(kf,{roleNumber:3,onApplyStatus:ot,onApplyRange:lt,onSearch:K,keyword:A,onKeywordChange:T,isManager:!0,requesterOptions:L,onApplyRequester:at,designerOptions:C,onApplyDesigner:yt,companyOptions:U,onApplyCompany:nt}),v.jsx(_G,{onClick:cs,loading:X}),v.jsx(nG,{data:$t,designerList:a,selectedDesigners:c,designerSelect:Z,assignDesigner:ct,sendToRequester:st,onDetailClick:q,workHours:f,onChangeWorkHour:ue,onSaveWorkHour:ei,onStartEditWorkHour:An,onCancelEditWorkHour:Rn})]}),e==="dashboard"&&v.jsx(RG,{children:v.jsx(Dx,{capacityHoursPerMonth:704})}),e==="inworkhour"&&v.jsx(pG,{})]})}const TG=H.div``,AG=H.div`
  padding: 0 48px;
`,RG=H.div`
  max-height: 766px;
  padding: 0 48px;
  overflow: auto;
`,kG=H.h2`
  margin-top: 20px;
`;function CG({userRole:e,setIsDrawerOpen:t,setEditData:n,setDetailData:i}){const[s,a]=hm(),l=s.get("view")||"dashboard";j.useEffect(()=>{s.get("view")||a(h=>{const f=new URLSearchParams(h);return f.set("view","dashboard"),f},{replace:!0})},[]);const c=()=>{if(e===1)return v.jsx(uY,{view:l,setIsDrawerOpen:t,setEditData:n,setDetailData:i});if(e===2)return v.jsx(MY,{view:l,setIsDrawerOpen:t,setDetailData:i});if(e===3)return v.jsx(SG,{view:l,setIsDrawerOpen:t,setDetailData:i})};return v.jsx(DG,{children:c()})}const DG=H.main`
  height: calc(100% - 64px);
`,MG="/pdms-test/assets/aside-logo-DHSQzRu2.svg",IG="/pdms-test/assets/myrequest-icon-DhmqrZY6.svg";function OG({item:e}){return v.jsxs(LG,{status:e.status,children:[v.jsx(VG,{children:e.status}),v.jsx(jG,{status:e.status,children:e.count})]})}const PG=(e,t)=>{switch(e){case"대기":return t.colors.beige01;case"진행중":return t.colors.lightpupple;case"검수요청":case"검수중":return t.colors.pink03;case"완료":return t.colors.gray04;case"취소":return t.colors.gray07;default:return"#f9f9f9"}},NG=(e,t)=>{switch(e){case"대기":return t.colors.orange;case"진행중":return t.colors.blue01;case"검수요청":case"검수중":return t.colors.red;case"완료":return t.colors.gray02;case"취소":return t.colors.gray03;default:return t.colors.gray03}},LG=H.li`
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  padding: 20.5px 44px 20.5px 28px;
  margin-bottom: 8px;
  border-radius: 4px;
  font-family: 'Pretendard';
  color: ${({theme:e})=>e.colors.black};
  background-color: ${({status:e,theme:t})=>PG(e,t)};
`,VG=H.span`
  font-size: 16px;
  font-weight: 500;
`,jG=H.span`
  position: relative;
  width: 10px;
  font-size: 14px;
  font-weight: 700;

  &::before {
    content: "";
    position: absolute;
    top: 50%;
    left: -40px;
    display: block;
    width: 1px;
    height: 18px;
    transform: translateY(-50%);
    background-color: ${({status:e,theme:t})=>NG(e,t)};
  }
`,UG="/pdms-test/assets/icon_slack-BGCbyQrc.svg",zG="/pdms-test/assets/icon_google_drive-DDhA1xcb.svg";function BG(){return v.jsxs(FG,{children:[v.jsxs(qG,{children:[v.jsx($G,{children:"PDMS"}),v.jsx(HG,{children:"© Pushcomz Corp."})]}),v.jsxs(WG,{children:[v.jsx(GR,{children:v.jsx(KR,{target:"_blank",$icon:UG})}),v.jsx(GR,{children:v.jsx(KR,{target:"_blank",$icon:zG,href:"https://drive.google.com/drive/folders/1-hQiEmPEomtaDFgnRqt0bAaxIFEWEvYn"})})]})]})}const FG=H.footer`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  font-family: 'Pretendard';
  padding: 5px 10px;
`,qG=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  gap: 0 5px;
`,$G=H.strong`
  font-size: 18px;
  font-weight: 700;
  line-height: 30px;
  color: ${({theme:e})=>e.colors.gray05};
`,HG=H.span`
  font-size: 12px;
  font-weight: 300;
  line-height: 20px;
  color: ${({theme:e})=>e.colors.gray05};
  text-align: center;
  white-space: nowrap;
`,WG=H.ul`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  margin-right: 5px;
`,GR=H.li`
`,KR=H.a`
  display: block;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  background-color: ${({theme:e})=>e.colors.gray06};
  background: ${({$icon:e})=>`url(${e}) no-repeat center / 25px 25px`};
  cursor: pointer;
`,Fe={WAIT:"대기",PROG:"진행중",REQ:"검수요청",REV:"검수중",DONE:"완료",CAN:"취소"},YG=(e,t)=>{const n=i=>t.reduce((s,a)=>a.status&&i.includes(a.status)?s+1:s,0);switch(e){case 1:return[{status:"대기",count:n([Fe.WAIT])},{status:"진행중",count:n([Fe.PROG,Fe.REQ])},{status:"검수중",count:n([Fe.REV])},{status:"완료",count:n([Fe.DONE])},{status:"취소",count:n([Fe.CAN])}];case 2:return[{status:"대기",count:n([Fe.WAIT])},{status:"진행중",count:n([Fe.PROG])},{status:"검수요청",count:n([Fe.REQ,Fe.REV])},{status:"완료",count:n([Fe.DONE])},{status:"취소",count:n([Fe.CAN])}];case 3:return[{status:"대기",count:n([Fe.WAIT])},{status:"진행중",count:n([Fe.PROG])},{status:"검수중",count:n([Fe.REQ])},{status:"검수요청",count:n([Fe.REV])},{status:"완료",count:n([Fe.DONE])},{status:"취소",count:n([Fe.CAN])}];default:return[{status:"대기",count:n([Fe.WAIT])},{status:"진행중",count:n([Fe.PROG])},{status:"검수요청",count:n([Fe.REQ])},{status:"검수중",count:n([Fe.REV])},{status:"완료",count:n([Fe.DONE])},{status:"취소",count:n([Fe.CAN])}]}},GG=(e,t)=>{switch(e){case 1:return`${t}님의 요청`;case 2:return`${t}님의 작업 현황`;case 3:return"전체 요청 현황";default:return"요청 현황"}};function KG({requests:e,role:t,userName:n,onRequestButtonClick:i}){const s=YG(t,e);return v.jsxs(XG,{children:[v.jsxs(QG,{children:[v.jsxs(ZG,{children:[v.jsx(JG,{src:MG}),v.jsx(tK,{children:"업무 관리시스템"})]}),t===1&&v.jsx(eK,{children:v.jsx(nK,{onClick:i,children:"디자인 요청 등록"})}),v.jsxs(iK,{children:[v.jsxs(sK,{children:[v.jsx(rK,{src:IG}),v.jsx(aK,{children:GG(t,n)})]}),v.jsx(oK,{children:s.map(a=>v.jsx(OG,{item:a},a.status))})]})]}),v.jsx(BG,{})]})}const XG=H.aside`
  ${({theme:e})=>e.mixin.flex("","space-between")};
  flex-direction: column;
  width: 240px;
  height: 100%;
  border-right: 1px solid ${({theme:e})=>e.colors.black};
`,QG=H.div`
  
`,ZG=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  padding: 18.5px 0;
  border-bottom: 1px solid ${({theme:e})=>e.colors.gray02};
`,JG=H.img`
  margin-right: 8px;
`,tK=H.span`
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
  white-space: nowrap;
`,eK=H.div`
  text-align: center;
  padding: 32px 0;
  border-bottom: 1px solid ${({theme:e})=>e.colors.gray02};
`,nK=H.button`
  padding: 12px 44px;
  border-radius: 8px;
  font-family: 'Pretendard';
  font-size: 16px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,iK=H.div`
  padding: 0 24px;
`,sK=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  gap: 12px;
  padding: 30px 0;
`,rK=H.img``,aK=H.h4`
  font-family: 'Pretendard';
  font-size: 17px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
`,oK=H.ul`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`;function lK({isOpen:e,onClose:t,children:n}){return v.jsxs(v.Fragment,{children:[v.jsx(cK,{isVisible:e,onClick:t}),v.jsx(uK,{isVisible:e,onClick:i=>i.stopPropagation(),children:n})]})}const cK=H.div`
  position: fixed;
  top: 0; right: 0; bottom: 0; left: 0;
  background: rgba(0, 0, 0, 0.3);
  z-index: 1000;
  opacity: ${({isVisible:e})=>e?1:0};
  pointer-events: ${({isVisible:e})=>e?"auto":"none"};
  transition: opacity 0.3s ease;
`,uK=H.div`
  position: fixed;
  top: 64px;
  right: 0;
  width: 680px;
  height: 100%;
  background-color: white;
  box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
  z-index: 1001;
  overflow-y: hidden;
  padding: 24px;
  transform: ${({isVisible:e})=>e?"translateX(0)":"translateX(100%)"};
  transition: transform 0.3s ease;
`,dO="/pdms-test/assets/requestformexit-button-BcAG546a.svg",hK="/pdms-test/assets/checkbox-checked-eOVFoR8b.svg",sg={completion_date:"",open_date:"",merchandiser:"",task_form:"",task_type:"",task_type_detail:"",requirement:"",url:"",note:"",emergency:!1},XR=["GHS","MHC","MHC/GHS"],QR=["프론트테마","별도기획전","일자별배너","핫새배너","큐레이션배너","GNB-기획전(전문관)","GNB-주류이지픽업","GNB-택배배송관","페이/카드프로모션","이벤트배너","상품상세","제휴","클럽","팝업","푸시","홈테마","즉시배송","트레이딩","이벤트","기타"],ZR=["M영업기획팀","디지털마케팅팀","M상품1팀","M상품2팀","M상품3팀","TV영업기획팀","TC영업기획팀","미디어컨텐츠팀","전략기획팀","MC서비스기획팀"],fK=["프로모션","배너(프로모션,연관)","배너(마케팅)","배너(상품)","배너(etv/etcom)","배너(엔라방)","썸네일(그룹)"],dK={프로모션:["마케팅","마케팅-FULL","마케팅-템플릿","마케팅-모션적용","상품(식품/공산품)","상품(식품/공산품)-브랜드템플릿","etv/etcom","프로모션 수정"],"배너(프로모션,연관)":["템플릿","템플릿-모션","템플릿-썸네일형","공통","기타"],"배너(마케팅)":["템플릿","템플릿-썸네일형","공통","광고성","홈전단지컨셉"],"배너(상품)":["템플릿","공통"],"배너(etv/etcom)":["템플릿","공통"],"배너(엔라방)":["템플릿","공통"],"썸네일(그룹)":["마케팅","그룹코드_프로모션","1팀","2팀","3팀","etv/etcom","엔라방"]},pK=e=>(e??"").trim().toLowerCase(),Ke=e=>pK(e)==="nsmall",gK=e=>Ke(e)?{forms:[...ZR],types:[...fK],formDefault:ZR[0],typeDefault:""}:{forms:[...XR],types:[...QR],formDefault:XR[0],typeDefault:QR[0]};function JR({userName:e,editData:t,isDrawerOpen:n,onClose:i}){const s=(t==null?void 0:t.requester_edit_state)===!0,[a,l]=j.useState(sg),[c,h]=j.useState([]),[f,p]=j.useState(""),y=j.useMemo(()=>gK(f),[f]),_=Tl(),x=lr(),E=()=>{const X=new URLSearchParams(x.search);X.set("view","myrequestlist"),_({pathname:"/main",search:X.toString()},{replace:!0})},A=X=>{const V=(X??"").trim();return dK[V]??[]},T=j.useMemo(()=>Ke(f)?A(a.task_type):[],[f,a.task_type]),D=j.useMemo(()=>{const X=[...y.forms];return s&&a.task_form&&!X.includes(a.task_form)&&X.unshift(a.task_form),X},[y.forms,s,a.task_form]),O=j.useMemo(()=>{const X=[...y.types];return s&&a.task_type&&!X.includes(a.task_type)&&X.unshift(a.task_type),X},[y.types,s,a.task_type]),L=(X,V)=>{if(X==="task_type"&&Ke(f)){l(Z=>({...Z,task_type:V,task_type_detail:""}));return}l(Z=>({...Z,[X]:V}))},B=X=>typeof X!="string"||X.trim()==="",M=(X,V)=>B(X.completion_date)?"완료 요청일을 선택하세요.":B(X.open_date)?"오픈일을 선택하세요.":B(X.task_form)?"업무 부서를 선택하세요.":B(X.task_type)?"업무 유형을 선택하세요.":V&&B(X.task_type_detail)?"업무 유형 상세를 선택하세요.":B(X.requirement)?"작업 항목을 입력하세요.":null,Y=()=>h(X=>[...X,{...sg,task_form:y.formDefault,task_type:y.typeDefault,task_type_detail:""}]),C=X=>h(V=>V.filter((Z,ct)=>ct!==X)),k=(X,V,Z)=>h(ct=>{const st=[...ct];return V==="task_type"&&Ke(f)?st[X]={...st[X],task_type:Z,task_type_detail:""}:st[X]={...st[X],[V]:Z},st}),P=X=>X?Me.fromDate(new Date(X)):null,z=async()=>{const X=new Date,V=X.getFullYear().toString().slice(2),Z=(X.getMonth()+1).toString().padStart(2,"0"),ct=Bn(Qe(Zt,"design_request"),gn("design_request_id",">=",`H${V}${Z}0000`),gn("design_request_id","<",`H${V}${Z}9999`)),st=await io(ct);return{year:V,month:Z,base:st.size}},U=(X,V,Z)=>`H${X}${V}${Z.toString().padStart(4,"0")}`,$=async(X,V)=>{const Z=Bn(Qe(Zt,"homeplus_task_work_hour"),gn("homeplus_task_form","==",X),gn("homeplus_task_type","==",V));return await io(Z)},F=async(X,V,Z)=>{if(Ke(f)){if(!V||!Z)return{base:null,times:null};const ot=Bn(Qe(Zt,"nsmall_task_work_hour"),gn("nsmall_task_type","==",V),gn("nsmall_task_type_detail","==",Z)),K=await io(ot);if(K.empty)return{base:null,times:null};const at=K.docs[0].data(),yt=typeof at.nsmall_task_work_hour=="number"?at.nsmall_task_work_hour:null,nt=typeof at.nsmall_task_work_times=="number"?at.nsmall_task_work_times:null;return console.log("[NSMALL preset]",{task_type:V,task_type_detail:Z,base:yt,times:nt,docId:K.docs[0].id}),{base:yt,times:nt}}if(!X||!V)return{base:null,times:null};let ct=await $(X,V);if(ct.empty&&X!=="MHC/GHS"&&(ct=await $("MHC/GHS",V)),ct.empty&&(X==="GHS"||X==="MHC")&&(ct=await $(X==="GHS"?"MHC":"GHS",V)),ct.empty)return{base:null,times:null};const st=ct.docs[0].data(),q=typeof st.homeplus_task_work_hour=="number"?st.homeplus_task_work_hour:null,lt=typeof st.homeplus_task_work_times=="number"?st.homeplus_task_work_times:null;return console.log("[HOMEPLUS preset]",{task_form:X,task_type:V,base:q,times:lt,docId:ct.docs[0].id}),{base:q,times:lt}},Pt=async X=>{if(X.preventDefault(),s){const ot=M(a,Ke(f));if(ot){alert(ot);return}}if(s&&(t!=null&&t.id)){const ot=(a.task_form||"")!==(t.task_form||""),K=(a.task_type||"")!==(t.task_type||""),at=Ke(f)&&(a.task_type_detail||"")!==(t.task_type_detail||""),yt={completion_date:P(a.completion_date),open_date:P(a.open_date),merchandiser:a.merchandiser??"",task_form:a.task_form||y.formDefault,task_type:Ke(f)?a.task_type??"":a.task_type||y.typeDefault,task_type_detail:a.task_type_detail??"",requirement:a.requirement,url:a.url,note:a.note,emergency:a.emergency,requester_edit_state:!1,updated_date:D0()};if(ot||K||at){const{base:nt,times:pt}=await F(yt.task_form,yt.task_type,yt.task_type_detail);yt.out_work_hour=nt,yt.in_work_hour=nt!=null&&pt!=null?Number((nt*pt).toFixed(2)):null,yt.work_hour_edit_state=!1}await Ks(Zn(Zt,"design_request",t.id),yt),alert("요청이 수정되었습니다!"),i();return}const V=[a,...c];for(let ot=0;ot<V.length;ot++){const K=V[ot],at=M(K,Ke(f));if(at){alert(`${ot===0?"메인 폼":`추가 요청 ${ot}`} ${at}`);return}}const{year:Z,month:ct,base:st}=await z();let q=st;const lt=new Date;for(const ot of V){q+=1;const K=U(Z,ct,q),at=ot.task_form||y.formDefault,yt=Ke(f)?ot.task_type||"":ot.task_type||y.typeDefault,{base:nt,times:pt}=await F(ot.task_form,ot.task_type,ot.task_type_detail),_t=nt!=null&&pt!=null?Number((nt*pt).toFixed(2)):null;await y5(Qe(Zt,"design_request"),{design_request_id:K,request_date:P(lt.toISOString()),merchandiser:ot.merchandiser??"",requester:e,company:f,completion_date:P(ot.completion_date),open_date:P(ot.open_date),task_form:at,task_type:yt,task_type_detail:ot.task_type_detail??"",requirement:ot.requirement,url:ot.url,note:ot.note,status:"대기",assigned_designer:"미배정",requester_review_status:"검수대기",manager_review_status:"",result_url:"",designer_start_date:null,designer_end_date:null,emergency:ot.emergency,requester_edit_state:!1,designer_edit_state:!1,in_work_hour:_t,out_work_hour:nt,work_hour_edit_state:!1,created_date:D0(),updated_date:null,delete_date:null})}alert(`${V.length}건이 등록되었습니다!`),h([]),l(sg),E(),i()};return j.useEffect(()=>{s&&t&&l({completion_date:t.completion_date?t.completion_date.toDate().toISOString().slice(0,10):"",open_date:t.open_date?t.open_date.toDate().toISOString().slice(0,10):"",merchandiser:t.merchandiser??"",task_form:t.task_form??"",task_type:t.task_type??"",task_type_detail:t.task_type_detail??"",requirement:t.requirement??"",url:t.url??"",note:t.note??"",emergency:t.emergency??!1})},[s,t]),j.useEffect(()=>{!n||s||(l({...sg,task_form:y.formDefault,task_type:y.typeDefault,task_type_detail:""}),h([]))},[n,s,y.formDefault,y.typeDefault]),j.useEffect(()=>{const X=Cl(os,async V=>{var ct;if(!V){p("");return}const Z=await Xc(Zn(Zt,"users",V.uid));p(((ct=Z.data())==null?void 0:ct.company)??"")});return()=>X()},[]),j.useEffect(()=>{s||l(X=>{const V={...X};return y.forms.includes(V.task_form||"")||(V.task_form=y.formDefault),y.types.includes(V.task_type||"")||(V.task_type=y.typeDefault,V.task_type_detail=""),V})},[y.forms,y.types,y.formDefault,y.typeDefault,s]),v.jsxs(v.Fragment,{children:[v.jsxs(yK,{children:[v.jsx(_K,{children:s?"디자인 요청 수정":"디자인 요청 등록"}),v.jsx(bK,{type:"button",onClick:i})]}),v.jsxs(mK,{onSubmit:Pt,children:[v.jsxs(vK,{children:[!s&&c.map((X,V)=>{const Z=Ke(f)?A(X.task_type):[],ct=Ke(f)&&!!X.task_type;return v.jsxs("div",{style:{marginBottom:24},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"8px 0 4px"},children:[v.jsxs("strong",{children:["추가 요청 ",V+1]}),v.jsx("button",{type:"button",onClick:()=>C(V),children:"삭제"})]}),v.jsxs(tk,{children:[v.jsx(ek,{children:"디자인 요청 추가 등록"}),v.jsx("colgroup",{children:v.jsx("col",{style:{width:"120px"}})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx(hn,{children:"문서번호"}),v.jsx(fn,{})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:`merchandiser_ex_${V}`,children:"담당 MD"})}),v.jsx(fn,{children:v.jsx(ag,{id:`merchandiser_ex_${V}`,type:"text",value:X.merchandiser||"",onChange:st=>k(V,"merchandiser",st.target.value),placeholder:"담당 MD 이름 또는 ID를 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:`completion_date_ex_${V}`,children:"완료 요청일"})}),v.jsx(fn,{children:v.jsx(rg,{id:`completion_date_ex_${V}`,type:"date",value:X.completion_date||"",onChange:st=>k(V,"completion_date",st.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:`open_date_ex_${V}`,children:"오픈일"})}),v.jsx(fn,{children:v.jsx(rg,{id:`open_date_ex_${V}`,type:"date",value:X.open_date||"",onChange:st=>k(V,"open_date",st.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:`task_form_ex_${V}`,children:"업무 부서"})}),v.jsx(fn,{children:v.jsx(Sc,{id:`task_form_ex_${V}`,$wide:Ke(f),value:X.task_form||y.formDefault,onChange:st=>k(V,"task_form",st.target.value),children:y.forms.map(st=>v.jsx("option",{value:st,children:st},st))})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:`task_type_ex_${V}`,children:"업무 유형"})}),v.jsxs(fn,{children:[v.jsxs(Sc,{id:`task_type_ex_${V}`,$wide:Ke(f),value:Ke(f)?X.task_type||"":X.task_type||y.typeDefault,onChange:st=>k(V,"task_type",st.target.value),children:[Ke(f)&&v.jsx("option",{value:"",children:"업무 유형을 선택해주세요"})," ",y.types.map(st=>v.jsx("option",{value:st,children:st},st))]}),ct&&v.jsxs(Sc,{id:`task_type_detail_ex_${V}`,$wide:Ke(f),value:X.task_type_detail||"",onChange:st=>k(V,"task_type_detail",st.target.value),children:[v.jsx("option",{value:"",children:"상세 유형을 선택해주세요"}),Z.map(st=>v.jsx("option",{value:st,children:st},st))]})]})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:`requirement_ex_${V}`,children:"작업 항목"})}),v.jsx(fn,{children:v.jsx(ag,{id:`requirement_ex_${V}`,type:"text",value:X.requirement||"",onChange:st=>k(V,"requirement",st.target.value),placeholder:"작업 항목을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:`emergency_ex_${V}`,children:"긴급 일정"})}),v.jsx(fn,{children:v.jsx(sk,{children:v.jsxs(rk,{htmlFor:`emergency_ex_${V}`,children:[v.jsx(ak,{id:`emergency_ex_${V}`,type:"checkbox",checked:!!X.emergency,onChange:st=>k(V,"emergency",st.target.checked)}),v.jsx(ok,{}),v.jsx("span",{children:"긴급 일정으로 설정"})]})})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:`url_ex_${V}`,children:"요청서 URL"})}),v.jsx(fn,{children:v.jsx(nk,{id:`url_ex_${V}`,value:X.url||"",onChange:st=>k(V,"url",st.target.value),placeholder:"요청 기획안 URL을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:`note_ex_${V}`,children:"메모"})}),v.jsx(fn,{children:v.jsx(ik,{id:`note_ex_${V}`,rows:4,value:X.note||"",onChange:st=>k(V,"note",st.target.value),placeholder:"메모를 입력하세요."})})]})]})]})]},V)}),v.jsxs(tk,{children:[v.jsx(ek,{children:"디자인 요청 등록"}),v.jsx("colgroup",{children:v.jsx("col",{style:{width:"120px"}})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx(hn,{children:"문서번호"}),v.jsx(fn,{children:s?t==null?void 0:t.design_request_id:""})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:"completion_date",children:"완료 요청일"})}),v.jsx(fn,{children:v.jsx(rg,{type:"date",id:"completion_date",value:a.completion_date,onChange:X=>L("completion_date",X.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:"open_date",children:"오픈일"})}),v.jsx(fn,{children:v.jsx(rg,{type:"date",id:"open_date",value:a.open_date,onChange:X=>L("open_date",X.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:"merchandiser",children:"담당 MD"})}),v.jsx(fn,{children:v.jsx(ag,{type:"text",id:"merchandiser",value:a.merchandiser||"",onChange:X=>L("merchandiser",X.target.value),placeholder:"담당 MD 이름을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:"task_form",children:"업무 부서"})}),v.jsx(fn,{children:v.jsx(Sc,{id:"task_form",$wide:Ke(f),value:a.task_form||y.formDefault,onChange:X=>L("task_form",X.target.value),children:D.map(X=>v.jsx("option",{value:X,children:X},X))})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:"task_type",children:"업무 유형"})}),v.jsxs(fn,{children:[v.jsxs(Sc,{id:"task_type",$wide:Ke(f),value:Ke(f)?s?a.task_type||O[0]||"":a.task_type??"":a.task_type||y.typeDefault,onChange:X=>L("task_type",X.target.value),children:[Ke(f)&&!s&&v.jsx("option",{value:"",children:"업무 유형을 선택해주세요"}),O.map(X=>v.jsx("option",{value:X,children:X},X))]}),Ke(f)&&!!a.task_type&&v.jsxs(Sc,{id:"task_type_detail",$wide:!0,value:a.task_type_detail||"",onChange:X=>L("task_type_detail",X.target.value),children:[v.jsx("option",{value:"",children:"상세 유형을 선택해주세요"}),T.map(X=>v.jsx("option",{value:X,children:X},X))]})]})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:"requirement",children:"작업 항목"})}),v.jsx(fn,{children:v.jsx(ag,{type:"text",id:"requirement",value:a.requirement,onChange:X=>L("requirement",X.target.value),placeholder:"작업 항목을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:"emergency",children:"긴급 일정"})}),v.jsx(fn,{children:v.jsx(sk,{children:v.jsxs(rk,{htmlFor:"emergency",children:[v.jsx(ak,{type:"checkbox",id:"emergency",checked:a.emergency,onChange:X=>L("emergency",X.target.checked)}),v.jsx(ok,{}),v.jsx("span",{children:"긴급 일정으로 설정"})]})})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:"url",children:"요청서 URL"})}),v.jsx(fn,{children:v.jsx(nk,{id:"url",value:a.url,onChange:X=>L("url",X.target.value),placeholder:"요청 기획안 URL을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:"note",children:"메모"})}),v.jsx(fn,{children:v.jsx(ik,{id:"note",rows:2,value:a.note,onChange:X=>L("note",X.target.value),placeholder:"메모를 입력하세요."})})]})]})]})]}),v.jsxs(xK,{children:[v.jsx(wK,{type:"submit",children:s?"수정 완료":"등록하기"}),!s&&v.jsx(EK,{type:"button",onClick:Y,children:"추가 등록하기"})]})]})]})}const mK=H.form`
  font-family: 'Pretendard';
`,yK=H.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  margin-bottom: 24px;
`,_K=H.h3`
  font-family: 'Pretendard';
  font-size: 24px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
  letter-spacing: -0.48px;
`,bK=H.button`
  width: 24px;
  height: 24px;
  background: url(${dO}) no-repeat center;
  background-size: contain;
`,tk=H.table`
  width: 100%;
  color: ${({theme:e})=>e.colors.black};
  border-top: 1px solid ${({theme:e})=>e.colors.black};
`,vK=H.div`
  max-height: 690px;
  overflow: auto;
`,ek=H.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,hn=H.th`
  padding: 16px;
  font-size: 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-left: none;
  background-color: ${({theme:e})=>e.colors.gray04};
`,fn=H.td`
  padding: 10px 24px;
  border-right: none;
`,Ln=H.label`
  width: 100%;
  text-align: center;
  font-weight: 700;
`,rg=H.input`
  width: 168px;
  padding: 6px 12px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
`,ag=H.input`
  width: 100%;
  padding: 8.5px 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
`,nk=H.textarea`
  width: 100%;
  padding: 10px 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
`,ik=H.textarea`
  width: 100%;
  padding: 10px 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  background-color: #fffff1;
`,sk=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  gap: 5px;
`,rk=H.label`
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
`,ak=H.input`
  display: none;

  &:checked + span {
    background-color: ${({theme:e})=>e.colors.red};
    background-image: url(${hK});
    background-repeat: no-repeat;
    background-position: center;
    background-size: 12px 12px;
  }
`,ok=H.span`
  width: 18px;
  height: 18px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 2px;
`,Sc=H.select`
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;

  width: ${({$wide:e})=>e?"215px":"168px"};
  height: 36px;
  padding: 0 32px 0 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  background-color: ${({theme:e})=>e.colors.white01};
  background-image: url(${hx});
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 16px 16px;
  vertical-align: top;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.black};
  }

  &:first-of-type {
    margin-right: 10px;
  }
`,xK=H.div`
  margin-top: 24px;
  text-align: center;
`,wK=H.button`
  margin-right: 12px;
  padding: 12.5px 32px;
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
`,EK=H.button`
  padding: 10.5px 31.5px;
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 700;
  border: 1px solid ${({theme:e})=>e.colors.black};
  background-color: ${({theme:e})=>e.colors.white01};
  color: ${({theme:e})=>e.colors.black};

  &:hover {
    border: 1px solid ${({theme:e})=>e.colors.black};
  }
`;function SK({data:e,onClose:t}){const n=i=>{if(!i)return"-";if(i.toDate){const s=i.toDate();return`${s.getMonth()+1}/${s.getDate()}`}return i};return v.jsxs(v.Fragment,{children:[v.jsxs(TK,{children:[v.jsx(AK,{children:"디자인 요청 상세"}),v.jsx(RK,{type:"button",onClick:t})]}),v.jsxs(kK,{children:[v.jsx(CK,{children:"디자인 요청 상세"}),v.jsx("colgroup",{children:v.jsx("col",{style:{width:"120px"}})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx(ms,{children:"문서번호"}),v.jsx(za,{children:e==null?void 0:e.design_request_id})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"요청일"}),v.jsx(za,{children:n(e==null?void 0:e.request_date)})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"완료 요청일"}),v.jsx(DK,{children:n(e==null?void 0:e.completion_date)})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"오픈일"}),v.jsx(MK,{children:n(e==null?void 0:e.open_date)})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"담당 MD"}),v.jsx(za,{children:(e==null?void 0:e.merchandiser)||""})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"업무 부서"}),v.jsx(za,{children:e==null?void 0:e.task_form})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"업무 유형"}),v.jsxs(za,{children:[v.jsx(OK,{children:e==null?void 0:e.task_type}),(e==null?void 0:e.task_type_detail)&&v.jsxs(v.Fragment,{children:[v.jsx(PK,{children:"＞"}),v.jsx(NK,{children:e==null?void 0:e.task_type_detail})]})]})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"작업 항목"}),v.jsx(za,{children:e==null?void 0:e.requirement})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"긴급 일정"}),v.jsx(za,{children:e!=null&&e.emergency?"긴급 일정으로 설정":"긴급 일정으로 설정 안함"})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"요청서 URL"}),v.jsx(za,{children:e!=null&&e.url?v.jsx(LK,{href:e==null?void 0:e.url,target:"_blank",rel:"noreferrer",children:e==null?void 0:e.url}):"-"})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"메모"}),v.jsx(IK,{children:v.jsx(VK,{children:e.note})})]})]})]})]})}const TK=H.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  margin-bottom: 24px;
`,AK=H.h3`
  font-family: "Pretendard";
  font-size: 24px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
  letter-spacing: -0.48px;
`,RK=H.button`
  width: 24px;
  height: 24px;
  background: url(${dO}) no-repeat center;
  background-size: contain;
`,kK=H.table`
  width: 100%;
  border-top: 1px solid ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.black};
  font-family: 'Pretendard';
`,CK=H.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,ms=H.th`
  padding: 16px;
  font-size: 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-left: none;
  background-color: ${({theme:e})=>e.colors.gray04};
`,za=H.td`
  padding: 12px 24px;
  border-right: none;
`,DK=H.td`
  padding: 12px 24px;
  border-right: none;
  color: ${({theme:e})=>e.colors.red};
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;
`,MK=H.td`
  padding: 12px 24px;
  border-right: none;
  color: ${({theme:e})=>e.colors.blue02};
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;
`,IK=H.td`
  padding: 12px 24px;
  border-right: none;
  background-color: #fffff1;
`,OK=H.span`
`,PK=H.span`
  margin: 0 5px;
`,NK=H.span`
  
`,LK=H.a`
  display: -webkit-box;
  min-height: 70px;
  max-height: 70px;
  overflow-y: auto;
  -webkit-box-orient: vertical;
  word-break: break-word;
`,VK=H.p`
  min-height: 100px;
  max-height: 100px;
  overflow-y: auto;
  word-break: break-word;
`;function jK(){const[e,t]=j.useState(0),[n,i]=j.useState([]),[s,a]=j.useState(""),[l,c]=j.useState(!1),[h,f]=j.useState(void 0),[p,y]=j.useState(null);j.useEffect(()=>{const E=Cl(os,async A=>{if(A){a(A.displayName||"");const T=await Xc(Zn(Zt,"users",A.uid));if(T.exists()){const O=T.data().role,L=A.displayName;t(O);let B;O===1?B=Bn(Qe(Zt,"design_request"),gn("requester","==",L)):O===2?B=Bn(Qe(Zt,"design_request"),gn("assigned_designer","==",L)):B=Qe(Zt,"design_request"),rr(B,M=>{const Y=M.docs.map(C=>{const k=C.data();return{id:C.id,status:k.status??"대기중"}});i(Y)})}}else t(0),a(""),i([])});return()=>E()},[]);const _=()=>{f(void 0),y("create"),c(!0)},x=()=>{c(!1),f(void 0)};return v.jsxs(UK,{children:[v.jsx(KG,{requests:n,userName:s,role:e,onRequestButtonClick:_}),v.jsxs(zK,{children:[v.jsx(fz,{}),v.jsx(CG,{userRole:e,setIsDrawerOpen:c,setEditData:E=>{f(E),y("edit")},setDetailData:E=>{f(E),y("detail")}})]}),v.jsxs(lK,{isOpen:l,onClose:x,children:[p==="create"&&v.jsx(JR,{userName:s,isDrawerOpen:l,onClose:x}),p==="edit"&&h&&v.jsx(JR,{userName:s,isDrawerOpen:l,editData:h,onClose:x}),p==="detail"&&h&&v.jsx(SK,{data:h,onClose:x})]})]})}const UK=H.div`
  ${({theme:e})=>e.mixin.flex()};
  width: 100%;
  height: 100%;
`,zK=H.div`
  flex: 1;
`,BK={homeplus:"HomePlus",nsmall:"NSmall"};function FK(){const[e,t]=j.useState(""),[n,i]=j.useState(""),[s,a]=j.useState(""),[l,c]=j.useState(""),[h,f]=j.useState(""),p=Tl(),[y]=hm();j.useEffect(()=>{const x=(y.get("company")||"").toLowerCase(),E=BK[x];i(E??"")},[y]);const _=async()=>{const x=e.trim(),E=n.trim(),A=s.trim();if(!x){alert("이름을 입력해주세요.");return}if(!E){alert("회사명을 입력해주세요.");return}if(!A){alert("이메일을 입력해주세요.");return}if(l!==h){alert("비밀번호가 일치하지 않습니다.");return}g3(os,s,l).then(async T=>{const D=T.user;await y3(D,{displayName:e}),await m5(Zn(Zt,"users",D.uid),{name:x,company:E,role:1,createdAt:D0()})}).then(()=>{alert("회원가입이 완료되었습니다!"),p("/")}).catch(T=>{alert("회원가입 중 오류 발생: "+T.message)})};return v.jsx(qK,{children:v.jsxs($K,{children:[v.jsxs(HK,{children:[v.jsx(WK,{children:"PDMS"}),v.jsx(YK,{children:"Pushcomz Design Management System"})]}),v.jsxs(GK,{children:[v.jsx(KK,{type:"text",value:e,onChange:x=>t(x.target.value),placeholder:"이름을 입력해주세요."}),v.jsx(JK,{type:"text",value:n,readOnly:!0,"aria-readonly":"true",placeholder:"회사명이 자동으로 설정됩니다.",title:"이 필드는 캠페인 링크로 자동 설정됩니다."}),v.jsx(XK,{type:"text",value:s,onChange:x=>a(x.target.value),placeholder:"이메일을 입력해주세요."}),v.jsx(QK,{type:"password",value:l,onChange:x=>c(x.target.value),placeholder:"비밀번호를 입력해주세요."}),v.jsx(ZK,{type:"password",value:h,onChange:x=>f(x.target.value),placeholder:"비밀번호 확인을 입력해주세요."})]}),v.jsx(tX,{onClick:_,children:"등록하기"})]})})}const qK=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:e})=>e.colors.gray01};
`,$K=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:e})=>e.colors.white01};
`,HK=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,WK=H.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.navy};
`,YK=H.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,GK=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  gap: 10px;
`,ed=H.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
  &:focus { outline: none; border-color: #c7d2fe; box-shadow: 0 0 0 3px rgba(59,130,246,0.15); }
`,KK=H(ed)``,XK=H(ed)``,QK=H(ed)``,ZK=H(ed)``,JK=H(ed)`
  background-color: #f5f6f7;      /* 잠금 느낌 */
  color: #555;
  cursor: not-allowed;            /* 포인터로도 수정 불가 느낌 */
`,tX=H.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:e})=>e.colors.white01};
`;function eX(){const[e,t]=j.useState(!1),[n,i]=j.useState(!1);return j.useEffect(()=>{let s=()=>{};return(async()=>(await FU(os),await $U(os),s=Cl(os,a=>{t(!!a),i(!0)})))(),()=>s()},[]),n?v.jsx(uN,{children:v.jsxs(zP,{children:[v.jsx(Ih,{path:"/",element:e?v.jsx(eb,{to:"/main",replace:!0}):v.jsx(WU,{onLoginSuccess:()=>t(!0)})}),v.jsx(Ih,{path:"/main",element:e?v.jsx(jK,{}):v.jsx(eb,{to:"/",replace:!0})}),v.jsx(Ih,{path:"/signup",element:v.jsx(FK,{})}),v.jsx(Ih,{path:"*",element:v.jsx(eb,{to:e?"/main":"/",replace:!0})})]})}):null}const nX=Kk`
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    height: 100vh;
    overflow: hidden;
  }

  li {
    list-style: none;
  }

  button {
    background-color: transparent;
    border: none;
    cursor: pointer;
    &:focus {
      outline: none;
    }
  }

  input {
    border: none;

    &:focus {
      outline: none;
    }
  }

  table {
    border-collapse: collapse;

    th, td {
      border: 1px solid #ccc;
    }
  }

  textarea {
    resize: none;
  }

`,iX={white01:"#fff",white02:"#f4f4f4",white03:"#f4f6fc",red:"#eb193a",navy:"#073863",beige01:"#fff4ea",beige02:"#FFEEDE",orange:"#f88017",lightpupple:"#eaedfa",blue01:"#4f76ff",blue02:"#0B1ABF",gray01:"#ECEDF0",gray02:"#ccc",gray03:"#bdbdbd",gray04:"#f4f4f4",gray05:"#888",gray06:"#666",gray07:"#e5e2e2",gray08:"#F0F3F9",black:"#212121",pink01:"#FFDDDD",pink02:"#F48193",pink03:"#FFEBEB"},sX={flex:(e="flex-start",t="flex-start")=>`
    display: flex;
    align-items: ${e};
    justify-content: ${t}
  `},rX={colors:iX,mixin:sX};X2.createRoot(document.getElementById("root")).render(v.jsx(j.StrictMode,{children:v.jsxs(_L,{theme:rX,children:[v.jsx(eX,{}),v.jsx(nX,{})]})}));
