var aP=Object.defineProperty;var oP=(e,t,n)=>t in e?aP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var wt=(e,t,n)=>oP(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function lP(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Q_={exports:{}},vh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS;function cP(){if(tS)return vh;tS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,r){var l=null;if(r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),"key"in s){r={};for(var c in s)c!=="key"&&(r[c]=s[c])}else r=s;return s=r.ref,{$$typeof:e,type:i,key:l,ref:s!==void 0?s:null,props:r}}return vh.Fragment=t,vh.jsx=n,vh.jsxs=n,vh}var eS;function uP(){return eS||(eS=1,Q_.exports=cP()),Q_.exports}var v=uP(),Z_={exports:{}},Yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS;function hP(){if(nS)return Yt;nS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function _(q){return q===null||typeof q!="object"?null:(q=y&&q[y]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function T(q,X,nt){this.props=q,this.context=X,this.refs=S,this.updater=nt||x}T.prototype.isReactComponent={},T.prototype.setState=function(q,X){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,X,"setState")},T.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function D(){}D.prototype=T.prototype;function M(q,X,nt){this.props=q,this.context=X,this.refs=S,this.updater=nt||x}var P=M.prototype=new D;P.constructor=M,E(P,T.prototype),P.isPureReactComponent=!0;var $=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function C(q,X,nt,K,Q,at){return nt=at.ref,{$$typeof:e,type:q,key:X,ref:nt!==void 0?nt:null,props:at}}function k(q,X){return C(q.type,X,void 0,void 0,void 0,q.props)}function O(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function V(q){var X={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(nt){return X[nt]})}var F=/\/+/g;function H(q,X){return typeof q=="object"&&q!==null&&q.key!=null?V(""+q.key):X.toString(36)}function U(){}function kt(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(U,U):(q.status="pending",q.then(function(X){q.status==="pending"&&(q.status="fulfilled",q.value=X)},function(X){q.status==="pending"&&(q.status="rejected",q.reason=X)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function tt(q,X,nt,K,Q){var at=typeof q;(at==="undefined"||at==="boolean")&&(q=null);var Y=!1;if(q===null)Y=!0;else switch(at){case"bigint":case"string":case"number":Y=!0;break;case"object":switch(q.$$typeof){case e:case t:Y=!0;break;case p:return Y=q._init,tt(Y(q._payload),X,nt,K,Q)}}if(Y)return Q=Q(q),Y=K===""?"."+H(q,0):K,$(Q)?(nt="",Y!=null&&(nt=Y.replace(F,"$&/")+"/"),tt(Q,X,nt,"",function(xt){return xt})):Q!=null&&(O(Q)&&(Q=k(Q,nt+(Q.key==null||q&&q.key===Q.key?"":(""+Q.key).replace(F,"$&/")+"/")+Y)),X.push(Q)),1;Y=0;var ut=K===""?".":K+":";if($(q))for(var bt=0;bt<q.length;bt++)K=q[bt],at=ut+H(K,bt),Y+=tt(K,X,nt,at,Q);else if(bt=_(q),typeof bt=="function")for(q=bt.call(q),bt=0;!(K=q.next()).done;)K=K.value,at=ut+H(K,bt++),Y+=tt(K,X,nt,at,Q);else if(at==="object"){if(typeof q.then=="function")return tt(kt(q),X,nt,K,Q);throw X=String(q),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Y}function B(q,X,nt){if(q==null)return q;var K=[],Q=0;return tt(q,K,"","",function(at){return X.call(nt,at,Q++)}),K}function J(q){if(q._status===-1){var X=q._result;X=X(),X.then(function(nt){(q._status===0||q._status===-1)&&(q._status=1,q._result=nt)},function(nt){(q._status===0||q._status===-1)&&(q._status=2,q._result=nt)}),q._status===-1&&(q._status=0,q._result=X)}if(q._status===1)return q._result.default;throw q._result}var pt=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function yt(){}return Yt.Children={map:B,forEach:function(q,X,nt){B(q,function(){X.apply(this,arguments)},nt)},count:function(q){var X=0;return B(q,function(){X++}),X},toArray:function(q){return B(q,function(X){return X})||[]},only:function(q){if(!O(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Yt.Component=T,Yt.Fragment=n,Yt.Profiler=s,Yt.PureComponent=M,Yt.StrictMode=i,Yt.Suspense=h,Yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Yt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return N.H.useMemoCache(q)}},Yt.cache=function(q){return function(){return q.apply(null,arguments)}},Yt.cloneElement=function(q,X,nt){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var K=E({},q.props),Q=q.key,at=void 0;if(X!=null)for(Y in X.ref!==void 0&&(at=void 0),X.key!==void 0&&(Q=""+X.key),X)!G.call(X,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&X.ref===void 0||(K[Y]=X[Y]);var Y=arguments.length-2;if(Y===1)K.children=nt;else if(1<Y){for(var ut=Array(Y),bt=0;bt<Y;bt++)ut[bt]=arguments[bt+2];K.children=ut}return C(q.type,Q,void 0,void 0,at,K)},Yt.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:r,_context:q},q},Yt.createElement=function(q,X,nt){var K,Q={},at=null;if(X!=null)for(K in X.key!==void 0&&(at=""+X.key),X)G.call(X,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(Q[K]=X[K]);var Y=arguments.length-2;if(Y===1)Q.children=nt;else if(1<Y){for(var ut=Array(Y),bt=0;bt<Y;bt++)ut[bt]=arguments[bt+2];Q.children=ut}if(q&&q.defaultProps)for(K in Y=q.defaultProps,Y)Q[K]===void 0&&(Q[K]=Y[K]);return C(q,at,void 0,void 0,null,Q)},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(q){return{$$typeof:c,render:q}},Yt.isValidElement=O,Yt.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:J}},Yt.memo=function(q,X){return{$$typeof:d,type:q,compare:X===void 0?null:X}},Yt.startTransition=function(q){var X=N.T,nt={};N.T=nt;try{var K=q(),Q=N.S;Q!==null&&Q(nt,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(yt,pt)}catch(at){pt(at)}finally{N.T=X}},Yt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Yt.use=function(q){return N.H.use(q)},Yt.useActionState=function(q,X,nt){return N.H.useActionState(q,X,nt)},Yt.useCallback=function(q,X){return N.H.useCallback(q,X)},Yt.useContext=function(q){return N.H.useContext(q)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(q,X){return N.H.useDeferredValue(q,X)},Yt.useEffect=function(q,X,nt){var K=N.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(q,X)},Yt.useId=function(){return N.H.useId()},Yt.useImperativeHandle=function(q,X,nt){return N.H.useImperativeHandle(q,X,nt)},Yt.useInsertionEffect=function(q,X){return N.H.useInsertionEffect(q,X)},Yt.useLayoutEffect=function(q,X){return N.H.useLayoutEffect(q,X)},Yt.useMemo=function(q,X){return N.H.useMemo(q,X)},Yt.useOptimistic=function(q,X){return N.H.useOptimistic(q,X)},Yt.useReducer=function(q,X,nt){return N.H.useReducer(q,X,nt)},Yt.useRef=function(q){return N.H.useRef(q)},Yt.useState=function(q){return N.H.useState(q)},Yt.useSyncExternalStore=function(q,X,nt){return N.H.useSyncExternalStore(q,X,nt)},Yt.useTransition=function(){return N.H.useTransition()},Yt.version="19.1.0",Yt}var iS;function sv(){return iS||(iS=1,Z_.exports=hP()),Z_.exports}var j=sv();const Et=lP(j);var J_={exports:{}},xh={},tb={exports:{}},eb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sS;function dP(){return sS||(sS=1,function(e){function t(B,J){var pt=B.length;B.push(J);t:for(;0<pt;){var yt=pt-1>>>1,q=B[yt];if(0<s(q,J))B[yt]=J,B[pt]=q,pt=yt;else break t}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var J=B[0],pt=B.pop();if(pt!==J){B[0]=pt;t:for(var yt=0,q=B.length,X=q>>>1;yt<X;){var nt=2*(yt+1)-1,K=B[nt],Q=nt+1,at=B[Q];if(0>s(K,pt))Q<q&&0>s(at,K)?(B[yt]=at,B[Q]=pt,yt=Q):(B[yt]=K,B[nt]=pt,yt=nt);else if(Q<q&&0>s(at,pt))B[yt]=at,B[Q]=pt,yt=Q;else break t}}return J}function s(B,J){var pt=B.sortIndex-J.sortIndex;return pt!==0?pt:B.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var h=[],d=[],p=1,y=null,_=3,x=!1,E=!1,S=!1,T=!1,D=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function $(B){for(var J=n(d);J!==null;){if(J.callback===null)i(d);else if(J.startTime<=B)i(d),J.sortIndex=J.expirationTime,t(h,J);else break;J=n(d)}}function N(B){if(S=!1,$(B),!E)if(n(h)!==null)E=!0,G||(G=!0,H());else{var J=n(d);J!==null&&tt(N,J.startTime-B)}}var G=!1,C=-1,k=5,O=-1;function V(){return T?!0:!(e.unstable_now()-O<k)}function F(){if(T=!1,G){var B=e.unstable_now();O=B;var J=!0;try{t:{E=!1,S&&(S=!1,M(C),C=-1),x=!0;var pt=_;try{e:{for($(B),y=n(h);y!==null&&!(y.expirationTime>B&&V());){var yt=y.callback;if(typeof yt=="function"){y.callback=null,_=y.priorityLevel;var q=yt(y.expirationTime<=B);if(B=e.unstable_now(),typeof q=="function"){y.callback=q,$(B),J=!0;break e}y===n(h)&&i(h),$(B)}else i(h);y=n(h)}if(y!==null)J=!0;else{var X=n(d);X!==null&&tt(N,X.startTime-B),J=!1}}break t}finally{y=null,_=pt,x=!1}J=void 0}}finally{J?H():G=!1}}}var H;if(typeof P=="function")H=function(){P(F)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,kt=U.port2;U.port1.onmessage=F,H=function(){kt.postMessage(null)}}else H=function(){D(F,0)};function tt(B,J){C=D(function(){B(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(B){switch(_){case 1:case 2:case 3:var J=3;break;default:J=_}var pt=_;_=J;try{return B()}finally{_=pt}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var pt=_;_=B;try{return J()}finally{_=pt}},e.unstable_scheduleCallback=function(B,J,pt){var yt=e.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?yt+pt:yt):pt=yt,B){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=pt+q,B={id:p++,callback:J,priorityLevel:B,startTime:pt,expirationTime:q,sortIndex:-1},pt>yt?(B.sortIndex=pt,t(d,B),n(h)===null&&B===n(d)&&(S?(M(C),C=-1):S=!0,tt(N,pt-yt))):(B.sortIndex=q,t(h,B),E||x||(E=!0,G||(G=!0,H()))),B},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(B){var J=_;return function(){var pt=_;_=J;try{return B.apply(this,arguments)}finally{_=pt}}}}(eb)),eb}var rS;function fP(){return rS||(rS=1,tb.exports=dP()),tb.exports}var nb={exports:{}},Jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aS;function pP(){if(aS)return Jn;aS=1;var e=sv();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(h,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:d,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Jn.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return r(h,d,null,p)},Jn.flushSync=function(h){var d=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=d,i.p=p,i.d.f()}},Jn.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},Jn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Jn.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:x}):p==="script"&&i.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Jn.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},Jn.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin);i.d.L(h,p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Jn.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=c(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},Jn.requestFormReset=function(h){i.d.r(h)},Jn.unstable_batchedUpdates=function(h,d){return h(d)},Jn.useFormState=function(h,d,p){return l.H.useFormState(h,d,p)},Jn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Jn.version="19.1.0",Jn}var oS;function SR(){if(oS)return nb.exports;oS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),nb.exports=pP(),nb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lS;function gP(){if(lS)return xh;lS=1;var e=fP(),t=sv(),n=SR();function i(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function r(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(r(a)!==a)throw Error(i(188))}function h(a){var o=a.alternate;if(!o){if(o=r(a),o===null)throw Error(i(188));return o!==a?null:a}for(var u=a,f=o;;){var m=u.return;if(m===null)break;var b=m.alternate;if(b===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===u)return c(m),a;if(b===f)return c(m),o;b=b.sibling}throw Error(i(188))}if(u.return!==f.return)u=m,f=b;else{for(var R=!1,I=m.child;I;){if(I===u){R=!0,u=m,f=b;break}if(I===f){R=!0,f=m,u=b;break}I=I.sibling}if(!R){for(I=b.child;I;){if(I===u){R=!0,u=b,f=m;break}if(I===f){R=!0,f=b,u=m;break}I=I.sibling}if(!R)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?a:o}function d(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=d(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),P=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function H(a){return a===null||typeof a!="object"?null:(a=F&&a[F]||a["@@iterator"],typeof a=="function"?a:null)}var U=Symbol.for("react.client.reference");function kt(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===U?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case G:return"SuspenseList";case O:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case x:return"Portal";case P:return(a.displayName||"Context")+".Provider";case M:return(a._context.displayName||"Context")+".Consumer";case $:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case C:return o=a.displayName||null,o!==null?o:kt(a.type)||"Memo";case k:o=a._payload,a=a._init;try{return kt(a(o))}catch{}}return null}var tt=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},yt=[],q=-1;function X(a){return{current:a}}function nt(a){0>q||(a.current=yt[q],yt[q]=null,q--)}function K(a,o){q++,yt[q]=a.current,a.current=o}var Q=X(null),at=X(null),Y=X(null),ut=X(null);function bt(a,o){switch(K(Y,o),K(at,a),K(Q,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?RE(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=RE(o),a=CE(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}nt(Q),K(Q,a)}function xt(){nt(Q),nt(at),nt(Y)}function Nt(a){a.memoizedState!==null&&K(ut,a);var o=Q.current,u=CE(o,a.type);o!==u&&(K(at,a),K(Q,u))}function ue(a){at.current===a&&(nt(Q),nt(at)),ut.current===a&&(nt(ut),gh._currentValue=pt)}var Se=Object.prototype.hasOwnProperty,Fn=e.unstable_scheduleCallback,_i=e.unstable_cancelCallback,ls=e.unstable_shouldYield,ca=e.unstable_requestPaint,an=e.unstable_now,Eo=e.unstable_getCurrentPriorityLevel,ur=e.unstable_ImmediatePriority,_t=e.unstable_UserBlockingPriority,Dt=e.unstable_NormalPriority,Tt=e.unstable_LowPriority,St=e.unstable_IdlePriority,Zt=e.log,ui=e.unstable_setDisableYieldValue,de=null,Jt=null;function hi(a){if(typeof Zt=="function"&&ui(a),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(de,a)}catch{}}var Rn=Math.clz32?Math.clz32:hr,Pl=Math.log,bu=Math.LN2;function hr(a){return a>>>=0,a===0?32:31-(Pl(a)/bu|0)|0}var dr=256,fr=4194304;function ki(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function pr(a,o,u){var f=a.pendingLanes;if(f===0)return 0;var m=0,b=a.suspendedLanes,R=a.pingedLanes;a=a.warmLanes;var I=f&134217727;return I!==0?(f=I&~b,f!==0?m=ki(f):(R&=I,R!==0?m=ki(R):u||(u=I&~a,u!==0&&(m=ki(u))))):(I=f&~b,I!==0?m=ki(I):R!==0?m=ki(R):u||(u=f&~a,u!==0&&(m=ki(u)))),m===0?0:o!==0&&o!==m&&(o&b)===0&&(b=m&-m,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:m}function gr(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function ua(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $t(){var a=dr;return dr<<=1,(dr&4194048)===0&&(dr=256),a}function me(){var a=fr;return fr<<=1,(fr&62914560)===0&&(fr=4194304),a}function Vt(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function he(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Cn(a,o,u,f,m,b){var R=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var I=a.entanglements,W=a.expirationTimes,rt=a.hiddenUpdates;for(u=R&~u;0<u;){var ht=31-Rn(u),gt=1<<ht;I[ht]=0,W[ht]=-1;var ot=rt[ht];if(ot!==null)for(rt[ht]=null,ht=0;ht<ot.length;ht++){var lt=ot[ht];lt!==null&&(lt.lane&=-536870913)}u&=~gt}f!==0&&Ht(a,f,0),b!==0&&m===0&&a.tag!==0&&(a.suspendedLanes|=b&~(R&~o))}function Ht(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var f=31-Rn(o);a.entangledLanes|=o,a.entanglements[f]=a.entanglements[f]|1073741824|u&4194090}function So(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var f=31-Rn(u),m=1<<f;m&o|a[f]&o&&(a[f]|=o),u&=~m}}function Rs(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ha(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Bi(){var a=J.p;return a!==0?a:(a=window.event,a===void 0?32:GE(a.type))}function da(a,o){var u=J.p;try{return J.p=a,o()}finally{J.p=u}}var ze=Math.random().toString(36).slice(2),bn="__reactFiber$"+ze,on="__reactProps$"+ze,qi="__reactContainer$"+ze,vu="__reactEvents$"+ze,ty="__reactListeners$"+ze,fa="__reactHandles$"+ze,nf="__reactResources$"+ze,To="__reactMarker$"+ze;function pa(a){delete a[bn],delete a[on],delete a[vu],delete a[ty],delete a[fa]}function mr(a){var o=a[bn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[qi]||u[bn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=OE(a);a!==null;){if(u=a[bn])return u;a=OE(a)}return o}a=u,u=a.parentNode}return null}function Cs(a){if(a=a[bn]||a[qi]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function Ds(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(i(33))}function di(a){var o=a[nf];return o||(o=a[nf]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Je(a){a[To]=!0}var xu=new Set,Nl={};function cs(a,o){yr(a,o),yr(a+"Capture",o)}function yr(a,o){for(Nl[a]=o,a=0;a<o.length;a++)xu.add(o[a])}var sf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rf={},Ao={};function af(a){return Se.call(Ao,a)?!0:Se.call(rf,a)?!1:sf.test(a)?Ao[a]=!0:(rf[a]=!0,!1)}function ga(a,o,u){if(af(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function Ms(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function Bn(a,o,u,f){if(f===null)a.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+f)}}var ko,of;function _r(a){if(ko===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ko=o&&o[1]||"",of=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ko+a+of}var Ll=!1;function jl(a,o){if(!a||Ll)return"";Ll=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var gt=function(){throw Error()};if(Object.defineProperty(gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gt,[])}catch(lt){var ot=lt}Reflect.construct(a,[],gt)}else{try{gt.call()}catch(lt){ot=lt}a.call(gt.prototype)}}else{try{throw Error()}catch(lt){ot=lt}(gt=a())&&typeof gt.catch=="function"&&gt.catch(function(){})}}catch(lt){if(lt&&ot&&typeof lt.stack=="string")return[lt.stack,ot.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),R=b[0],I=b[1];if(R&&I){var W=R.split(`
`),rt=I.split(`
`);for(m=f=0;f<W.length&&!W[f].includes("DetermineComponentFrameRoot");)f++;for(;m<rt.length&&!rt[m].includes("DetermineComponentFrameRoot");)m++;if(f===W.length||m===rt.length)for(f=W.length-1,m=rt.length-1;1<=f&&0<=m&&W[f]!==rt[m];)m--;for(;1<=f&&0<=m;f--,m--)if(W[f]!==rt[m]){if(f!==1||m!==1)do if(f--,m--,0>m||W[f]!==rt[m]){var ht=`
`+W[f].replace(" at new "," at ");return a.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",a.displayName)),ht}while(1<=f&&0<=m);break}}}finally{Ll=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?_r(u):""}function wu(a){switch(a.tag){case 26:case 27:case 5:return _r(a.type);case 16:return _r("Lazy");case 13:return _r("Suspense");case 19:return _r("SuspenseList");case 0:case 15:return jl(a.type,!1);case 11:return jl(a.type.render,!1);case 1:return jl(a.type,!0);case 31:return _r("Activity");default:return""}}function Vl(a){try{var o="";do o+=wu(a),a=a.return;while(a);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function fi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Eu(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ey(a){var o=Eu(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),f=""+a[o];if(!a.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,b=u.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return m.call(this)},set:function(R){f=""+R,b.call(this,R)}}),Object.defineProperty(a,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Ul(a){a._valueTracker||(a._valueTracker=ey(a))}function Su(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return a&&(f=Eu(a)?a.checked?"true":"false":a.value),a=f,a!==u?(o.setValue(a),!0):!1}function Ro(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var ny=/[\n"\\]/g;function ln(a){return a.replace(ny,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ri(a,o,u,f,m,b,R,I){a.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?a.type=R:a.removeAttribute("type"),o!=null?R==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+fi(o)):a.value!==""+fi(o)&&(a.value=""+fi(o)):R!=="submit"&&R!=="reset"||a.removeAttribute("value"),o!=null?ma(a,R,fi(o)):u!=null?ma(a,R,fi(u)):f!=null&&a.removeAttribute("value"),m==null&&b!=null&&(a.defaultChecked=!!b),m!=null&&(a.checked=m&&typeof m!="function"&&typeof m!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.name=""+fi(I):a.removeAttribute("name")}function Co(a,o,u,f,m,b,R,I){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;u=u!=null?""+fi(u):"",o=o!=null?""+fi(o):u,I||o===a.value||(a.value=o),a.defaultValue=o}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=I?a.checked:!!f,a.defaultChecked=!!f,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(a.name=R)}function ma(a,o,u){o==="number"&&Ro(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function br(a,o,u,f){if(a=a.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<a.length;u++)m=o.hasOwnProperty("$"+a[u].value),a[u].selected!==m&&(a[u].selected=m),m&&f&&(a[u].defaultSelected=!0)}else{for(u=""+fi(u),o=null,m=0;m<a.length;m++){if(a[m].value===u){a[m].selected=!0,f&&(a[m].defaultSelected=!0);return}o!==null||a[m].disabled||(o=a[m])}o!==null&&(o.selected=!0)}}function Te(a,o,u){if(o!=null&&(o=""+fi(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+fi(u):""}function Do(a,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(i(92));if(tt(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=fi(o),a.defaultValue=u,f=a.textContent,f===u&&f!==""&&f!==null&&(a.value=f)}function $i(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var Mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lf(a,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":f?a.setProperty(o,u):typeof u!="number"||u===0||Mo.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function Tu(a,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(a=a.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var m in o)f=o[m],o.hasOwnProperty(m)&&u[m]!==f&&lf(a,m,f)}else for(var b in o)o.hasOwnProperty(b)&&lf(a,b,o[b])}function Au(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zl(a){return sy.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var vr=null;function Hi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var xr=null,wr=null;function ku(a){var o=Cs(a);if(o&&(a=o.stateNode)){var u=a[on]||null;t:switch(a=o.stateNode,o.type){case"input":if(Ri(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ln(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==a&&f.form===a.form){var m=f[on]||null;if(!m)throw Error(i(90));Ri(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===a.form&&Su(f)}break t;case"textarea":Te(a,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&br(a,!!u.multiple,o,!1)}}}var Is=!1;function cf(a,o,u){if(Is)return a(o,u);Is=!0;try{var f=a(o);return f}finally{if(Is=!1,(xr!==null||wr!==null)&&(np(),xr&&(o=xr,a=wr,wr=xr=null,ku(o),a)))for(o=0;o<a.length;o++)ku(a[o])}}function Io(a,o){var u=a.stateNode;if(u===null)return null;var f=u[on]||null;if(f===null)return null;u=f[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break t;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wi=!1;if(us)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){Wi=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{Wi=!1}var Os=null,ya=null,Er=null;function Ru(){if(Er)return Er;var a,o=ya,u=o.length,f,m="value"in Os?Os.value:Os.textContent,b=m.length;for(a=0;a<u&&o[a]===m[a];a++);var R=u-a;for(f=1;f<=R&&o[u-f]===m[b-f];f++);return Er=m.slice(a,1<f?1-f:void 0)}function Ps(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Ns(){return!0}function Cu(){return!1}function Dn(a){function o(u,f,m,b,R){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=b,this.target=R,this.currentTarget=null;for(var I in a)a.hasOwnProperty(I)&&(u=a[I],this[I]=u?u(b):b[I]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ns:Cu,this.isPropagationStopped=Cu,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),o}var ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fl=Dn(ye),Po=p({},ye,{view:0,detail:0}),uf=Dn(Po),Bl,ql,Ls,No=p({},Po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ls&&(Ls&&a.type==="mousemove"?(Bl=a.screenX-Ls.screenX,ql=a.screenY-Ls.screenY):ql=Bl=0,Ls=a),Bl)},movementY:function(a){return"movementY"in a?a.movementY:ql}}),Yi=Dn(No),hf=p({},No,{dataTransfer:0}),ry=Dn(hf),Lo=p({},Po,{relatedTarget:0}),$l=Dn(Lo),Du=p({},ye,{animationName:0,elapsedTime:0,pseudoElement:0}),Hl=Dn(Du),df=p({},ye,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Wl=Dn(df),ay=p({},ye,{data:0}),Mu=Dn(ay),jo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ff={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=pf[a])?!!o[a]:!1}function Vo(){return Iu}var gf=p({},Po,{key:function(a){if(a.key){var o=jo[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Ps(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?ff[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vo,charCode:function(a){return a.type==="keypress"?Ps(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ps(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Yl=Dn(gf),mf=p({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ou=Dn(mf),Sr=p({},Po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vo}),yf=Dn(Sr),_f=p({},ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),bf=Dn(_f),vf=p({},No,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Gl=Dn(vf),pi=p({},ye,{newState:0,oldState:0}),xf=Dn(pi),wf=[9,13,27,32],js=us&&"CompositionEvent"in window,g=null;us&&"documentMode"in document&&(g=document.documentMode);var w=us&&"TextEvent"in window&&!g,A=us&&(!js||g&&8<g&&11>=g),L=" ",it=!1;function ct(a,o){switch(a){case"keyup":return wf.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vt(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ae=!1;function vn(a,o){switch(a){case"compositionend":return vt(o);case"keypress":return o.which!==32?null:(it=!0,L);case"textInput":return a=o.data,a===L&&it?null:a;default:return null}}function oe(a,o){if(ae)return a==="compositionend"||!js&&ct(a,o)?(a=Ru(),Er=ya=Os=null,ae=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return A&&o.locale!=="ko"?null:o.data;default:return null}}var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xn(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Mn[a.type]:o==="textarea"}function Tr(a,o,u,f){xr?wr?wr.push(f):wr=[f]:xr=f,o=lp(o,"onChange"),0<o.length&&(u=new Fl("onChange","change",null,u,f),a.push({event:u,listeners:o}))}var qn=null,Vs=null;function Pu(a){EE(a,0)}function Ef(a){var o=Ds(a);if(Su(o))return a}function $x(a,o){if(a==="change")return o}var Hx=!1;if(us){var oy;if(us){var ly="oninput"in document;if(!ly){var Wx=document.createElement("div");Wx.setAttribute("oninput","return;"),ly=typeof Wx.oninput=="function"}oy=ly}else oy=!1;Hx=oy&&(!document.documentMode||9<document.documentMode)}function Yx(){qn&&(qn.detachEvent("onpropertychange",Gx),Vs=qn=null)}function Gx(a){if(a.propertyName==="value"&&Ef(Vs)){var o=[];Tr(o,Vs,a,Hi(a)),cf(Pu,o)}}function LO(a,o,u){a==="focusin"?(Yx(),qn=o,Vs=u,qn.attachEvent("onpropertychange",Gx)):a==="focusout"&&Yx()}function jO(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ef(Vs)}function VO(a,o){if(a==="click")return Ef(o)}function UO(a,o){if(a==="input"||a==="change")return Ef(o)}function zO(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Ci=typeof Object.is=="function"?Object.is:zO;function Nu(a,o){if(Ci(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!Se.call(o,m)||!Ci(a[m],o[m]))return!1}return!0}function Kx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Xx(a,o){var u=Kx(a);a=0;for(var f;u;){if(u.nodeType===3){if(f=a+u.textContent.length,a<=o&&f>=o)return{node:u,offset:o-a};a=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=Kx(u)}}function Qx(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Qx(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Zx(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Ro(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Ro(a.document)}return o}function cy(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var FO=us&&"documentMode"in document&&11>=document.documentMode,Kl=null,uy=null,Lu=null,hy=!1;function Jx(a,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;hy||Kl==null||Kl!==Ro(f)||(f=Kl,"selectionStart"in f&&cy(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Lu&&Nu(Lu,f)||(Lu=f,f=lp(uy,"onSelect"),0<f.length&&(o=new Fl("onSelect","select",null,o,u),a.push({event:o,listeners:f}),o.target=Kl)))}function Uo(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var Xl={animationend:Uo("Animation","AnimationEnd"),animationiteration:Uo("Animation","AnimationIteration"),animationstart:Uo("Animation","AnimationStart"),transitionrun:Uo("Transition","TransitionRun"),transitionstart:Uo("Transition","TransitionStart"),transitioncancel:Uo("Transition","TransitionCancel"),transitionend:Uo("Transition","TransitionEnd")},dy={},tw={};us&&(tw=document.createElement("div").style,"AnimationEvent"in window||(delete Xl.animationend.animation,delete Xl.animationiteration.animation,delete Xl.animationstart.animation),"TransitionEvent"in window||delete Xl.transitionend.transition);function zo(a){if(dy[a])return dy[a];if(!Xl[a])return a;var o=Xl[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in tw)return dy[a]=o[u];return a}var ew=zo("animationend"),nw=zo("animationiteration"),iw=zo("animationstart"),BO=zo("transitionrun"),qO=zo("transitionstart"),$O=zo("transitioncancel"),sw=zo("transitionend"),rw=new Map,fy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fy.push("scrollEnd");function hs(a,o){rw.set(a,o),cs(o,[a])}var aw=new WeakMap;function Gi(a,o){if(typeof a=="object"&&a!==null){var u=aw.get(a);return u!==void 0?u:(o={value:a,source:o,stack:Vl(o)},aw.set(a,o),o)}return{value:a,source:o,stack:Vl(o)}}var Ki=[],Ql=0,py=0;function Sf(){for(var a=Ql,o=py=Ql=0;o<a;){var u=Ki[o];Ki[o++]=null;var f=Ki[o];Ki[o++]=null;var m=Ki[o];Ki[o++]=null;var b=Ki[o];if(Ki[o++]=null,f!==null&&m!==null){var R=f.pending;R===null?m.next=m:(m.next=R.next,R.next=m),f.pending=m}b!==0&&ow(u,m,b)}}function Tf(a,o,u,f){Ki[Ql++]=a,Ki[Ql++]=o,Ki[Ql++]=u,Ki[Ql++]=f,py|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function gy(a,o,u,f){return Tf(a,o,u,f),Af(a)}function Zl(a,o){return Tf(a,null,null,o),Af(a)}function ow(a,o,u){a.lanes|=u;var f=a.alternate;f!==null&&(f.lanes|=u);for(var m=!1,b=a.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(m=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,m&&o!==null&&(m=31-Rn(u),a=b.hiddenUpdates,f=a[m],f===null?a[m]=[o]:f.push(o),o.lane=u|536870912),b):null}function Af(a){if(50<oh)throw oh=0,x_=null,Error(i(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Jl={};function HO(a,o,u,f){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(a,o,u,f){return new HO(a,o,u,f)}function my(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ar(a,o){var u=a.alternate;return u===null?(u=Di(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function lw(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function kf(a,o,u,f,m,b){var R=0;if(f=a,typeof a=="function")my(a)&&(R=1);else if(typeof a=="string")R=Y2(a,u,Q.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case O:return a=Di(31,u,o,m),a.elementType=O,a.lanes=b,a;case E:return Fo(u.children,m,b,o);case S:R=8,m|=24;break;case T:return a=Di(12,u,o,m|2),a.elementType=T,a.lanes=b,a;case N:return a=Di(13,u,o,m),a.elementType=N,a.lanes=b,a;case G:return a=Di(19,u,o,m),a.elementType=G,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:case P:R=10;break t;case M:R=9;break t;case $:R=11;break t;case C:R=14;break t;case k:R=16,f=null;break t}R=29,u=Error(i(130,a===null?"null":typeof a,"")),f=null}return o=Di(R,u,o,m),o.elementType=a,o.type=f,o.lanes=b,o}function Fo(a,o,u,f){return a=Di(7,a,f,o),a.lanes=u,a}function yy(a,o,u){return a=Di(6,a,null,o),a.lanes=u,a}function _y(a,o,u){return o=Di(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var tc=[],ec=0,Rf=null,Cf=0,Xi=[],Qi=0,Bo=null,kr=1,Rr="";function qo(a,o){tc[ec++]=Cf,tc[ec++]=Rf,Rf=a,Cf=o}function cw(a,o,u){Xi[Qi++]=kr,Xi[Qi++]=Rr,Xi[Qi++]=Bo,Bo=a;var f=kr;a=Rr;var m=32-Rn(f)-1;f&=~(1<<m),u+=1;var b=32-Rn(o)+m;if(30<b){var R=m-m%5;b=(f&(1<<R)-1).toString(32),f>>=R,m-=R,kr=1<<32-Rn(o)+m|u<<m|f,Rr=b+a}else kr=1<<b|u<<m|f,Rr=a}function by(a){a.return!==null&&(qo(a,1),cw(a,1,0))}function vy(a){for(;a===Rf;)Rf=tc[--ec],tc[ec]=null,Cf=tc[--ec],tc[ec]=null;for(;a===Bo;)Bo=Xi[--Qi],Xi[Qi]=null,Rr=Xi[--Qi],Xi[Qi]=null,kr=Xi[--Qi],Xi[Qi]=null}var gi=null,Ke=null,ge=!1,$o=null,Us=!1,xy=Error(i(519));function Ho(a){var o=Error(i(418,""));throw Uu(Gi(o,a)),xy}function uw(a){var o=a.stateNode,u=a.type,f=a.memoizedProps;switch(o[bn]=a,o[on]=f,u){case"dialog":ee("cancel",o),ee("close",o);break;case"iframe":case"object":case"embed":ee("load",o);break;case"video":case"audio":for(u=0;u<ch.length;u++)ee(ch[u],o);break;case"source":ee("error",o);break;case"img":case"image":case"link":ee("error",o),ee("load",o);break;case"details":ee("toggle",o);break;case"input":ee("invalid",o),Co(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Ul(o);break;case"select":ee("invalid",o);break;case"textarea":ee("invalid",o),Do(o,f.value,f.defaultValue,f.children),Ul(o)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||kE(o.textContent,u)?(f.popover!=null&&(ee("beforetoggle",o),ee("toggle",o)),f.onScroll!=null&&ee("scroll",o),f.onScrollEnd!=null&&ee("scrollend",o),f.onClick!=null&&(o.onclick=cp),o=!0):o=!1,o||Ho(a)}function hw(a){for(gi=a.return;gi;)switch(gi.tag){case 5:case 13:Us=!1;return;case 27:case 3:Us=!0;return;default:gi=gi.return}}function ju(a){if(a!==gi)return!1;if(!ge)return hw(a),ge=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||j_(a.type,a.memoizedProps)),u=!u),u&&Ke&&Ho(a),hw(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));t:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(o===0){Ke=fs(a.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;a=a.nextSibling}Ke=null}}else o===27?(o=Ke,Oa(a.type)?(a=F_,F_=null,Ke=a):Ke=o):Ke=gi?fs(a.stateNode.nextSibling):null;return!0}function Vu(){Ke=gi=null,ge=!1}function dw(){var a=$o;return a!==null&&(xi===null?xi=a:xi.push.apply(xi,a),$o=null),a}function Uu(a){$o===null?$o=[a]:$o.push(a)}var wy=X(null),Wo=null,Cr=null;function _a(a,o,u){K(wy,o._currentValue),o._currentValue=u}function Dr(a){a._currentValue=wy.current,nt(wy)}function Ey(a,o,u){for(;a!==null;){var f=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),a===u)break;a=a.return}}function Sy(a,o,u,f){var m=a.child;for(m!==null&&(m.return=a);m!==null;){var b=m.dependencies;if(b!==null){var R=m.child;b=b.firstContext;t:for(;b!==null;){var I=b;b=m;for(var W=0;W<o.length;W++)if(I.context===o[W]){b.lanes|=u,I=b.alternate,I!==null&&(I.lanes|=u),Ey(b.return,u,a),f||(R=null);break t}b=I.next}}else if(m.tag===18){if(R=m.return,R===null)throw Error(i(341));R.lanes|=u,b=R.alternate,b!==null&&(b.lanes|=u),Ey(R,u,a),R=null}else R=m.child;if(R!==null)R.return=m;else for(R=m;R!==null;){if(R===a){R=null;break}if(m=R.sibling,m!==null){m.return=R.return,R=m;break}R=R.return}m=R}}function zu(a,o,u,f){a=null;for(var m=o,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var R=m.alternate;if(R===null)throw Error(i(387));if(R=R.memoizedProps,R!==null){var I=m.type;Ci(m.pendingProps.value,R.value)||(a!==null?a.push(I):a=[I])}}else if(m===ut.current){if(R=m.alternate,R===null)throw Error(i(387));R.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(a!==null?a.push(gh):a=[gh])}m=m.return}a!==null&&Sy(o,a,u,f),o.flags|=262144}function Df(a){for(a=a.firstContext;a!==null;){if(!Ci(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Yo(a){Wo=a,Cr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Zn(a){return fw(Wo,a)}function Mf(a,o){return Wo===null&&Yo(a),fw(a,o)}function fw(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Cr===null){if(a===null)throw Error(i(308));Cr=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Cr=Cr.next=o;return u}var WO=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,f){a.push(f)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},YO=e.unstable_scheduleCallback,GO=e.unstable_NormalPriority,wn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ty(){return{controller:new WO,data:new Map,refCount:0}}function Fu(a){a.refCount--,a.refCount===0&&YO(GO,function(){a.controller.abort()})}var Bu=null,Ay=0,nc=0,ic=null;function KO(a,o){if(Bu===null){var u=Bu=[];Ay=0,nc=R_(),ic={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Ay++,o.then(pw,pw),o}function pw(){if(--Ay===0&&Bu!==null){ic!==null&&(ic.status="fulfilled");var a=Bu;Bu=null,nc=0,ic=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function XO(a,o){var u=[],f={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return a.then(function(){f.status="fulfilled",f.value=o;for(var m=0;m<u.length;m++)(0,u[m])(o)},function(m){for(f.status="rejected",f.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),f}var gw=B.S;B.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&KO(a,o),gw!==null&&gw(a,o)};var Go=X(null);function ky(){var a=Go.current;return a!==null?a:Oe.pooledCache}function If(a,o){o===null?K(Go,Go.current):K(Go,o.pool)}function mw(){var a=ky();return a===null?null:{parent:wn._currentValue,pool:a}}var qu=Error(i(460)),yw=Error(i(474)),Of=Error(i(542)),Ry={then:function(){}};function _w(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Pf(){}function bw(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Pf,Pf),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,xw(a),a;default:if(typeof o.status=="string")o.then(Pf,Pf);else{if(a=Oe,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=o,a.status="pending",a.then(function(f){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=f}},function(f){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,xw(a),a}throw $u=o,qu}}var $u=null;function vw(){if($u===null)throw Error(i(459));var a=$u;return $u=null,a}function xw(a){if(a===qu||a===Of)throw Error(i(483))}var ba=!1;function Cy(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dy(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function va(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function xa(a,o,u){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(xe&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,o=Af(a),ow(a,null,u),o}return Tf(a,f,o,u),Af(a)}function Hu(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var f=o.lanes;f&=a.pendingLanes,u|=f,o.lanes=u,So(a,u)}}function My(a,o){var u=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var R={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?m=b=R:b=b.next=R,u=u.next}while(u!==null);b===null?m=b=o:b=b.next=o}else m=b=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var Iy=!1;function Wu(){if(Iy){var a=ic;if(a!==null)throw a}}function Yu(a,o,u,f){Iy=!1;var m=a.updateQueue;ba=!1;var b=m.firstBaseUpdate,R=m.lastBaseUpdate,I=m.shared.pending;if(I!==null){m.shared.pending=null;var W=I,rt=W.next;W.next=null,R===null?b=rt:R.next=rt,R=W;var ht=a.alternate;ht!==null&&(ht=ht.updateQueue,I=ht.lastBaseUpdate,I!==R&&(I===null?ht.firstBaseUpdate=rt:I.next=rt,ht.lastBaseUpdate=W))}if(b!==null){var gt=m.baseState;R=0,ht=rt=W=null,I=b;do{var ot=I.lane&-536870913,lt=ot!==I.lane;if(lt?(le&ot)===ot:(f&ot)===ot){ot!==0&&ot===nc&&(Iy=!0),ht!==null&&(ht=ht.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});t:{var zt=a,Lt=I;ot=o;var Re=u;switch(Lt.tag){case 1:if(zt=Lt.payload,typeof zt=="function"){gt=zt.call(Re,gt,ot);break t}gt=zt;break t;case 3:zt.flags=zt.flags&-65537|128;case 0:if(zt=Lt.payload,ot=typeof zt=="function"?zt.call(Re,gt,ot):zt,ot==null)break t;gt=p({},gt,ot);break t;case 2:ba=!0}}ot=I.callback,ot!==null&&(a.flags|=64,lt&&(a.flags|=8192),lt=m.callbacks,lt===null?m.callbacks=[ot]:lt.push(ot))}else lt={lane:ot,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ht===null?(rt=ht=lt,W=gt):ht=ht.next=lt,R|=ot;if(I=I.next,I===null){if(I=m.shared.pending,I===null)break;lt=I,I=lt.next,lt.next=null,m.lastBaseUpdate=lt,m.shared.pending=null}}while(!0);ht===null&&(W=gt),m.baseState=W,m.firstBaseUpdate=rt,m.lastBaseUpdate=ht,b===null&&(m.shared.lanes=0),Ca|=R,a.lanes=R,a.memoizedState=gt}}function ww(a,o){if(typeof a!="function")throw Error(i(191,a));a.call(o)}function Ew(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)ww(u[a],o)}var sc=X(null),Nf=X(0);function Sw(a,o){a=jr,K(Nf,a),K(sc,o),jr=a|o.baseLanes}function Oy(){K(Nf,jr),K(sc,sc.current)}function Py(){jr=Nf.current,nt(sc),nt(Nf)}var wa=0,Xt=null,Ae=null,cn=null,Lf=!1,rc=!1,Ko=!1,jf=0,Gu=0,ac=null,QO=0;function tn(){throw Error(i(321))}function Ny(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Ci(a[u],o[u]))return!1;return!0}function Ly(a,o,u,f,m,b){return wa=b,Xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,B.H=a===null||a.memoizedState===null?o1:l1,Ko=!1,b=u(f,m),Ko=!1,rc&&(b=Aw(o,u,f,m)),Tw(a),b}function Tw(a){B.H=qf;var o=Ae!==null&&Ae.next!==null;if(wa=0,cn=Ae=Xt=null,Lf=!1,Gu=0,ac=null,o)throw Error(i(300));a===null||In||(a=a.dependencies,a!==null&&Df(a)&&(In=!0))}function Aw(a,o,u,f){Xt=a;var m=0;do{if(rc&&(ac=null),Gu=0,rc=!1,25<=m)throw Error(i(301));if(m+=1,cn=Ae=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}B.H=s2,b=o(u,f)}while(rc);return b}function ZO(){var a=B.H,o=a.useState()[0];return o=typeof o.then=="function"?Ku(o):o,a=a.useState()[0],(Ae!==null?Ae.memoizedState:null)!==a&&(Xt.flags|=1024),o}function jy(){var a=jf!==0;return jf=0,a}function Vy(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function Uy(a){if(Lf){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Lf=!1}wa=0,cn=Ae=Xt=null,rc=!1,Gu=jf=0,ac=null}function bi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?Xt.memoizedState=cn=a:cn=cn.next=a,cn}function un(){if(Ae===null){var a=Xt.alternate;a=a!==null?a.memoizedState:null}else a=Ae.next;var o=cn===null?Xt.memoizedState:cn.next;if(o!==null)cn=o,Ae=a;else{if(a===null)throw Xt.alternate===null?Error(i(467)):Error(i(310));Ae=a,a={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},cn===null?Xt.memoizedState=cn=a:cn=cn.next=a}return cn}function zy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ku(a){var o=Gu;return Gu+=1,ac===null&&(ac=[]),a=bw(ac,a,o),o=Xt,(cn===null?o.memoizedState:cn.next)===null&&(o=o.alternate,B.H=o===null||o.memoizedState===null?o1:l1),a}function Vf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ku(a);if(a.$$typeof===P)return Zn(a)}throw Error(i(438,String(a)))}function Fy(a){var o=null,u=Xt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=Xt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=zy(),Xt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),f=0;f<a;f++)u[f]=V;return o.index++,u}function Mr(a,o){return typeof o=="function"?o(a):o}function Uf(a){var o=un();return By(o,Ae,a)}function By(a,o,u){var f=a.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var m=a.baseQueue,b=f.pending;if(b!==null){if(m!==null){var R=m.next;m.next=b.next,b.next=R}o.baseQueue=m=b,f.pending=null}if(b=a.baseState,m===null)a.memoizedState=b;else{o=m.next;var I=R=null,W=null,rt=o,ht=!1;do{var gt=rt.lane&-536870913;if(gt!==rt.lane?(le&gt)===gt:(wa&gt)===gt){var ot=rt.revertLane;if(ot===0)W!==null&&(W=W.next={lane:0,revertLane:0,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null}),gt===nc&&(ht=!0);else if((wa&ot)===ot){rt=rt.next,ot===nc&&(ht=!0);continue}else gt={lane:0,revertLane:rt.revertLane,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},W===null?(I=W=gt,R=b):W=W.next=gt,Xt.lanes|=ot,Ca|=ot;gt=rt.action,Ko&&u(b,gt),b=rt.hasEagerState?rt.eagerState:u(b,gt)}else ot={lane:gt,revertLane:rt.revertLane,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},W===null?(I=W=ot,R=b):W=W.next=ot,Xt.lanes|=gt,Ca|=gt;rt=rt.next}while(rt!==null&&rt!==o);if(W===null?R=b:W.next=I,!Ci(b,a.memoizedState)&&(In=!0,ht&&(u=ic,u!==null)))throw u;a.memoizedState=b,a.baseState=R,a.baseQueue=W,f.lastRenderedState=b}return m===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function qy(a){var o=un(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var f=u.dispatch,m=u.pending,b=o.memoizedState;if(m!==null){u.pending=null;var R=m=m.next;do b=a(b,R.action),R=R.next;while(R!==m);Ci(b,o.memoizedState)||(In=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,f]}function kw(a,o,u){var f=Xt,m=un(),b=ge;if(b){if(u===void 0)throw Error(i(407));u=u()}else u=o();var R=!Ci((Ae||m).memoizedState,u);R&&(m.memoizedState=u,In=!0),m=m.queue;var I=Dw.bind(null,f,m,a);if(Xu(2048,8,I,[a]),m.getSnapshot!==o||R||cn!==null&&cn.memoizedState.tag&1){if(f.flags|=2048,oc(9,zf(),Cw.bind(null,f,m,u,o),null),Oe===null)throw Error(i(349));b||(wa&124)!==0||Rw(f,o,u)}return u}function Rw(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=Xt.updateQueue,o===null?(o=zy(),Xt.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function Cw(a,o,u,f){o.value=u,o.getSnapshot=f,Mw(o)&&Iw(a)}function Dw(a,o,u){return u(function(){Mw(o)&&Iw(a)})}function Mw(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Ci(a,u)}catch{return!0}}function Iw(a){var o=Zl(a,2);o!==null&&Ni(o,a,2)}function $y(a){var o=bi();if(typeof a=="function"){var u=a;if(a=u(),Ko){hi(!0);try{u()}finally{hi(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:a},o}function Ow(a,o,u,f){return a.baseState=u,By(a,Ae,typeof f=="function"?f:Mr)}function JO(a,o,u,f,m){if(Bf(a))throw Error(i(485));if(a=o.action,a!==null){var b={payload:m,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){b.listeners.push(R)}};B.T!==null?u(!0):b.isTransition=!1,f(b),u=o.pending,u===null?(b.next=o.pending=b,Pw(o,b)):(b.next=u.next,o.pending=u.next=b)}}function Pw(a,o){var u=o.action,f=o.payload,m=a.state;if(o.isTransition){var b=B.T,R={};B.T=R;try{var I=u(m,f),W=B.S;W!==null&&W(R,I),Nw(a,o,I)}catch(rt){Hy(a,o,rt)}finally{B.T=b}}else try{b=u(m,f),Nw(a,o,b)}catch(rt){Hy(a,o,rt)}}function Nw(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Lw(a,o,f)},function(f){return Hy(a,o,f)}):Lw(a,o,u)}function Lw(a,o,u){o.status="fulfilled",o.value=u,jw(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,Pw(a,u)))}function Hy(a,o,u){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,jw(o),o=o.next;while(o!==f)}a.action=null}function jw(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Vw(a,o){return o}function Uw(a,o){if(ge){var u=Oe.formState;if(u!==null){t:{var f=Xt;if(ge){if(Ke){e:{for(var m=Ke,b=Us;m.nodeType!==8;){if(!b){m=null;break e}if(m=fs(m.nextSibling),m===null){m=null;break e}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){Ke=fs(m.nextSibling),f=m.data==="F!";break t}}Ho(f)}f=!1}f&&(o=u[0])}}return u=bi(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vw,lastRenderedState:o},u.queue=f,u=s1.bind(null,Xt,f),f.dispatch=u,f=$y(!1),b=Xy.bind(null,Xt,!1,f.queue),f=bi(),m={state:o,dispatch:null,action:a,pending:null},f.queue=m,u=JO.bind(null,Xt,m,b,u),m.dispatch=u,f.memoizedState=a,[o,u,!1]}function zw(a){var o=un();return Fw(o,Ae,a)}function Fw(a,o,u){if(o=By(a,o,Vw)[0],a=Uf(Mr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Ku(o)}catch(R){throw R===qu?Of:R}else f=o;o=un();var m=o.queue,b=m.dispatch;return u!==o.memoizedState&&(Xt.flags|=2048,oc(9,zf(),t2.bind(null,m,u),null)),[f,b,a]}function t2(a,o){a.action=o}function Bw(a){var o=un(),u=Ae;if(u!==null)return Fw(o,u,a);un(),o=o.memoizedState,u=un();var f=u.queue.dispatch;return u.memoizedState=a,[o,f,!1]}function oc(a,o,u,f){return a={tag:a,create:u,deps:f,inst:o,next:null},o=Xt.updateQueue,o===null&&(o=zy(),Xt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(f=u.next,u.next=a,a.next=f,o.lastEffect=a),a}function zf(){return{destroy:void 0,resource:void 0}}function qw(){return un().memoizedState}function Ff(a,o,u,f){var m=bi();f=f===void 0?null:f,Xt.flags|=a,m.memoizedState=oc(1|o,zf(),u,f)}function Xu(a,o,u,f){var m=un();f=f===void 0?null:f;var b=m.memoizedState.inst;Ae!==null&&f!==null&&Ny(f,Ae.memoizedState.deps)?m.memoizedState=oc(o,b,u,f):(Xt.flags|=a,m.memoizedState=oc(1|o,b,u,f))}function $w(a,o){Ff(8390656,8,a,o)}function Hw(a,o){Xu(2048,8,a,o)}function Ww(a,o){return Xu(4,2,a,o)}function Yw(a,o){return Xu(4,4,a,o)}function Gw(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function Kw(a,o,u){u=u!=null?u.concat([a]):null,Xu(4,4,Gw.bind(null,o,a),u)}function Wy(){}function Xw(a,o){var u=un();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&Ny(o,f[1])?f[0]:(u.memoizedState=[a,o],a)}function Qw(a,o){var u=un();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&Ny(o,f[1]))return f[0];if(f=a(),Ko){hi(!0);try{a()}finally{hi(!1)}}return u.memoizedState=[f,o],f}function Yy(a,o,u){return u===void 0||(wa&1073741824)!==0?a.memoizedState=o:(a.memoizedState=u,a=tE(),Xt.lanes|=a,Ca|=a,u)}function Zw(a,o,u,f){return Ci(u,o)?u:sc.current!==null?(a=Yy(a,u,f),Ci(a,o)||(In=!0),a):(wa&42)===0?(In=!0,a.memoizedState=u):(a=tE(),Xt.lanes|=a,Ca|=a,o)}function Jw(a,o,u,f,m){var b=J.p;J.p=b!==0&&8>b?b:8;var R=B.T,I={};B.T=I,Xy(a,!1,o,u);try{var W=m(),rt=B.S;if(rt!==null&&rt(I,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var ht=XO(W,f);Qu(a,o,ht,Pi(a))}else Qu(a,o,f,Pi(a))}catch(gt){Qu(a,o,{then:function(){},status:"rejected",reason:gt},Pi())}finally{J.p=b,B.T=R}}function e2(){}function Gy(a,o,u,f){if(a.tag!==5)throw Error(i(476));var m=t1(a).queue;Jw(a,m,o,pt,u===null?e2:function(){return e1(a),u(f)})}function t1(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:pt},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function e1(a){var o=t1(a).next.queue;Qu(a,o,{},Pi())}function Ky(){return Zn(gh)}function n1(){return un().memoizedState}function i1(){return un().memoizedState}function n2(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=Pi();a=va(u);var f=xa(o,a,u);f!==null&&(Ni(f,o,u),Hu(f,o,u)),o={cache:Ty()},a.payload=o;return}o=o.return}}function i2(a,o,u){var f=Pi();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Bf(a)?r1(o,u):(u=gy(a,o,u,f),u!==null&&(Ni(u,a,f),a1(u,o,f)))}function s1(a,o,u){var f=Pi();Qu(a,o,u,f)}function Qu(a,o,u,f){var m={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Bf(a))r1(o,m);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var R=o.lastRenderedState,I=b(R,u);if(m.hasEagerState=!0,m.eagerState=I,Ci(I,R))return Tf(a,o,m,0),Oe===null&&Sf(),!1}catch{}finally{}if(u=gy(a,o,m,f),u!==null)return Ni(u,a,f),a1(u,o,f),!0}return!1}function Xy(a,o,u,f){if(f={lane:2,revertLane:R_(),action:f,hasEagerState:!1,eagerState:null,next:null},Bf(a)){if(o)throw Error(i(479))}else o=gy(a,u,f,2),o!==null&&Ni(o,a,2)}function Bf(a){var o=a.alternate;return a===Xt||o!==null&&o===Xt}function r1(a,o){rc=Lf=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function a1(a,o,u){if((u&4194048)!==0){var f=o.lanes;f&=a.pendingLanes,u|=f,o.lanes=u,So(a,u)}}var qf={readContext:Zn,use:Vf,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn},o1={readContext:Zn,use:Vf,useCallback:function(a,o){return bi().memoizedState=[a,o===void 0?null:o],a},useContext:Zn,useEffect:$w,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Ff(4194308,4,Gw.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Ff(4194308,4,a,o)},useInsertionEffect:function(a,o){Ff(4,2,a,o)},useMemo:function(a,o){var u=bi();o=o===void 0?null:o;var f=a();if(Ko){hi(!0);try{a()}finally{hi(!1)}}return u.memoizedState=[f,o],f},useReducer:function(a,o,u){var f=bi();if(u!==void 0){var m=u(o);if(Ko){hi(!0);try{u(o)}finally{hi(!1)}}}else m=o;return f.memoizedState=f.baseState=m,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:m},f.queue=a,a=a.dispatch=i2.bind(null,Xt,a),[f.memoizedState,a]},useRef:function(a){var o=bi();return a={current:a},o.memoizedState=a},useState:function(a){a=$y(a);var o=a.queue,u=s1.bind(null,Xt,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Wy,useDeferredValue:function(a,o){var u=bi();return Yy(u,a,o)},useTransition:function(){var a=$y(!1);return a=Jw.bind(null,Xt,a.queue,!0,!1),bi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var f=Xt,m=bi();if(ge){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),Oe===null)throw Error(i(349));(le&124)!==0||Rw(f,o,u)}m.memoizedState=u;var b={value:u,getSnapshot:o};return m.queue=b,$w(Dw.bind(null,f,b,a),[a]),f.flags|=2048,oc(9,zf(),Cw.bind(null,f,b,u,o),null),u},useId:function(){var a=bi(),o=Oe.identifierPrefix;if(ge){var u=Rr,f=kr;u=(f&~(1<<32-Rn(f)-1)).toString(32)+u,o="«"+o+"R"+u,u=jf++,0<u&&(o+="H"+u.toString(32)),o+="»"}else u=QO++,o="«"+o+"r"+u.toString(32)+"»";return a.memoizedState=o},useHostTransitionStatus:Ky,useFormState:Uw,useActionState:Uw,useOptimistic:function(a){var o=bi();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Xy.bind(null,Xt,!0,u),u.dispatch=o,[a,o]},useMemoCache:Fy,useCacheRefresh:function(){return bi().memoizedState=n2.bind(null,Xt)}},l1={readContext:Zn,use:Vf,useCallback:Xw,useContext:Zn,useEffect:Hw,useImperativeHandle:Kw,useInsertionEffect:Ww,useLayoutEffect:Yw,useMemo:Qw,useReducer:Uf,useRef:qw,useState:function(){return Uf(Mr)},useDebugValue:Wy,useDeferredValue:function(a,o){var u=un();return Zw(u,Ae.memoizedState,a,o)},useTransition:function(){var a=Uf(Mr)[0],o=un().memoizedState;return[typeof a=="boolean"?a:Ku(a),o]},useSyncExternalStore:kw,useId:n1,useHostTransitionStatus:Ky,useFormState:zw,useActionState:zw,useOptimistic:function(a,o){var u=un();return Ow(u,Ae,a,o)},useMemoCache:Fy,useCacheRefresh:i1},s2={readContext:Zn,use:Vf,useCallback:Xw,useContext:Zn,useEffect:Hw,useImperativeHandle:Kw,useInsertionEffect:Ww,useLayoutEffect:Yw,useMemo:Qw,useReducer:qy,useRef:qw,useState:function(){return qy(Mr)},useDebugValue:Wy,useDeferredValue:function(a,o){var u=un();return Ae===null?Yy(u,a,o):Zw(u,Ae.memoizedState,a,o)},useTransition:function(){var a=qy(Mr)[0],o=un().memoizedState;return[typeof a=="boolean"?a:Ku(a),o]},useSyncExternalStore:kw,useId:n1,useHostTransitionStatus:Ky,useFormState:Bw,useActionState:Bw,useOptimistic:function(a,o){var u=un();return Ae!==null?Ow(u,Ae,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Fy,useCacheRefresh:i1},lc=null,Zu=0;function $f(a){var o=Zu;return Zu+=1,lc===null&&(lc=[]),bw(lc,a,o)}function Ju(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Hf(a,o){throw o.$$typeof===y?Error(i(525)):(a=Object.prototype.toString.call(o),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function c1(a){var o=a._init;return o(a._payload)}function u1(a){function o(et,Z){if(a){var st=et.deletions;st===null?(et.deletions=[Z],et.flags|=16):st.push(Z)}}function u(et,Z){if(!a)return null;for(;Z!==null;)o(et,Z),Z=Z.sibling;return null}function f(et){for(var Z=new Map;et!==null;)et.key!==null?Z.set(et.key,et):Z.set(et.index,et),et=et.sibling;return Z}function m(et,Z){return et=Ar(et,Z),et.index=0,et.sibling=null,et}function b(et,Z,st){return et.index=st,a?(st=et.alternate,st!==null?(st=st.index,st<Z?(et.flags|=67108866,Z):st):(et.flags|=67108866,Z)):(et.flags|=1048576,Z)}function R(et){return a&&et.alternate===null&&(et.flags|=67108866),et}function I(et,Z,st,dt){return Z===null||Z.tag!==6?(Z=yy(st,et.mode,dt),Z.return=et,Z):(Z=m(Z,st),Z.return=et,Z)}function W(et,Z,st,dt){var Ct=st.type;return Ct===E?ht(et,Z,st.props.children,dt,st.key):Z!==null&&(Z.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===k&&c1(Ct)===Z.type)?(Z=m(Z,st.props),Ju(Z,st),Z.return=et,Z):(Z=kf(st.type,st.key,st.props,null,et.mode,dt),Ju(Z,st),Z.return=et,Z)}function rt(et,Z,st,dt){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==st.containerInfo||Z.stateNode.implementation!==st.implementation?(Z=_y(st,et.mode,dt),Z.return=et,Z):(Z=m(Z,st.children||[]),Z.return=et,Z)}function ht(et,Z,st,dt,Ct){return Z===null||Z.tag!==7?(Z=Fo(st,et.mode,dt,Ct),Z.return=et,Z):(Z=m(Z,st),Z.return=et,Z)}function gt(et,Z,st){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=yy(""+Z,et.mode,st),Z.return=et,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case _:return st=kf(Z.type,Z.key,Z.props,null,et.mode,st),Ju(st,Z),st.return=et,st;case x:return Z=_y(Z,et.mode,st),Z.return=et,Z;case k:var dt=Z._init;return Z=dt(Z._payload),gt(et,Z,st)}if(tt(Z)||H(Z))return Z=Fo(Z,et.mode,st,null),Z.return=et,Z;if(typeof Z.then=="function")return gt(et,$f(Z),st);if(Z.$$typeof===P)return gt(et,Mf(et,Z),st);Hf(et,Z)}return null}function ot(et,Z,st,dt){var Ct=Z!==null?Z.key:null;if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return Ct!==null?null:I(et,Z,""+st,dt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case _:return st.key===Ct?W(et,Z,st,dt):null;case x:return st.key===Ct?rt(et,Z,st,dt):null;case k:return Ct=st._init,st=Ct(st._payload),ot(et,Z,st,dt)}if(tt(st)||H(st))return Ct!==null?null:ht(et,Z,st,dt,null);if(typeof st.then=="function")return ot(et,Z,$f(st),dt);if(st.$$typeof===P)return ot(et,Z,Mf(et,st),dt);Hf(et,st)}return null}function lt(et,Z,st,dt,Ct){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return et=et.get(st)||null,I(Z,et,""+dt,Ct);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case _:return et=et.get(dt.key===null?st:dt.key)||null,W(Z,et,dt,Ct);case x:return et=et.get(dt.key===null?st:dt.key)||null,rt(Z,et,dt,Ct);case k:var Qt=dt._init;return dt=Qt(dt._payload),lt(et,Z,st,dt,Ct)}if(tt(dt)||H(dt))return et=et.get(st)||null,ht(Z,et,dt,Ct,null);if(typeof dt.then=="function")return lt(et,Z,st,$f(dt),Ct);if(dt.$$typeof===P)return lt(et,Z,st,Mf(Z,dt),Ct);Hf(Z,dt)}return null}function zt(et,Z,st,dt){for(var Ct=null,Qt=null,It=Z,jt=Z=0,Pn=null;It!==null&&jt<st.length;jt++){It.index>jt?(Pn=It,It=null):Pn=It.sibling;var fe=ot(et,It,st[jt],dt);if(fe===null){It===null&&(It=Pn);break}a&&It&&fe.alternate===null&&o(et,It),Z=b(fe,Z,jt),Qt===null?Ct=fe:Qt.sibling=fe,Qt=fe,It=Pn}if(jt===st.length)return u(et,It),ge&&qo(et,jt),Ct;if(It===null){for(;jt<st.length;jt++)It=gt(et,st[jt],dt),It!==null&&(Z=b(It,Z,jt),Qt===null?Ct=It:Qt.sibling=It,Qt=It);return ge&&qo(et,jt),Ct}for(It=f(It);jt<st.length;jt++)Pn=lt(It,et,jt,st[jt],dt),Pn!==null&&(a&&Pn.alternate!==null&&It.delete(Pn.key===null?jt:Pn.key),Z=b(Pn,Z,jt),Qt===null?Ct=Pn:Qt.sibling=Pn,Qt=Pn);return a&&It.forEach(function(Va){return o(et,Va)}),ge&&qo(et,jt),Ct}function Lt(et,Z,st,dt){if(st==null)throw Error(i(151));for(var Ct=null,Qt=null,It=Z,jt=Z=0,Pn=null,fe=st.next();It!==null&&!fe.done;jt++,fe=st.next()){It.index>jt?(Pn=It,It=null):Pn=It.sibling;var Va=ot(et,It,fe.value,dt);if(Va===null){It===null&&(It=Pn);break}a&&It&&Va.alternate===null&&o(et,It),Z=b(Va,Z,jt),Qt===null?Ct=Va:Qt.sibling=Va,Qt=Va,It=Pn}if(fe.done)return u(et,It),ge&&qo(et,jt),Ct;if(It===null){for(;!fe.done;jt++,fe=st.next())fe=gt(et,fe.value,dt),fe!==null&&(Z=b(fe,Z,jt),Qt===null?Ct=fe:Qt.sibling=fe,Qt=fe);return ge&&qo(et,jt),Ct}for(It=f(It);!fe.done;jt++,fe=st.next())fe=lt(It,et,jt,fe.value,dt),fe!==null&&(a&&fe.alternate!==null&&It.delete(fe.key===null?jt:fe.key),Z=b(fe,Z,jt),Qt===null?Ct=fe:Qt.sibling=fe,Qt=fe);return a&&It.forEach(function(rP){return o(et,rP)}),ge&&qo(et,jt),Ct}function Re(et,Z,st,dt){if(typeof st=="object"&&st!==null&&st.type===E&&st.key===null&&(st=st.props.children),typeof st=="object"&&st!==null){switch(st.$$typeof){case _:t:{for(var Ct=st.key;Z!==null;){if(Z.key===Ct){if(Ct=st.type,Ct===E){if(Z.tag===7){u(et,Z.sibling),dt=m(Z,st.props.children),dt.return=et,et=dt;break t}}else if(Z.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===k&&c1(Ct)===Z.type){u(et,Z.sibling),dt=m(Z,st.props),Ju(dt,st),dt.return=et,et=dt;break t}u(et,Z);break}else o(et,Z);Z=Z.sibling}st.type===E?(dt=Fo(st.props.children,et.mode,dt,st.key),dt.return=et,et=dt):(dt=kf(st.type,st.key,st.props,null,et.mode,dt),Ju(dt,st),dt.return=et,et=dt)}return R(et);case x:t:{for(Ct=st.key;Z!==null;){if(Z.key===Ct)if(Z.tag===4&&Z.stateNode.containerInfo===st.containerInfo&&Z.stateNode.implementation===st.implementation){u(et,Z.sibling),dt=m(Z,st.children||[]),dt.return=et,et=dt;break t}else{u(et,Z);break}else o(et,Z);Z=Z.sibling}dt=_y(st,et.mode,dt),dt.return=et,et=dt}return R(et);case k:return Ct=st._init,st=Ct(st._payload),Re(et,Z,st,dt)}if(tt(st))return zt(et,Z,st,dt);if(H(st)){if(Ct=H(st),typeof Ct!="function")throw Error(i(150));return st=Ct.call(st),Lt(et,Z,st,dt)}if(typeof st.then=="function")return Re(et,Z,$f(st),dt);if(st.$$typeof===P)return Re(et,Z,Mf(et,st),dt);Hf(et,st)}return typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint"?(st=""+st,Z!==null&&Z.tag===6?(u(et,Z.sibling),dt=m(Z,st),dt.return=et,et=dt):(u(et,Z),dt=yy(st,et.mode,dt),dt.return=et,et=dt),R(et)):u(et,Z)}return function(et,Z,st,dt){try{Zu=0;var Ct=Re(et,Z,st,dt);return lc=null,Ct}catch(It){if(It===qu||It===Of)throw It;var Qt=Di(29,It,null,et.mode);return Qt.lanes=dt,Qt.return=et,Qt}finally{}}}var cc=u1(!0),h1=u1(!1),Zi=X(null),zs=null;function Ea(a){var o=a.alternate;K(En,En.current&1),K(Zi,a),zs===null&&(o===null||sc.current!==null||o.memoizedState!==null)&&(zs=a)}function d1(a){if(a.tag===22){if(K(En,En.current),K(Zi,a),zs===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(zs=a)}}else Sa()}function Sa(){K(En,En.current),K(Zi,Zi.current)}function Ir(a){nt(Zi),zs===a&&(zs=null),nt(En)}var En=X(0);function Wf(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||z_(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Qy(a,o,u,f){o=a.memoizedState,u=u(f,o),u=u==null?o:p({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Zy={enqueueSetState:function(a,o,u){a=a._reactInternals;var f=Pi(),m=va(f);m.payload=o,u!=null&&(m.callback=u),o=xa(a,m,f),o!==null&&(Ni(o,a,f),Hu(o,a,f))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var f=Pi(),m=va(f);m.tag=1,m.payload=o,u!=null&&(m.callback=u),o=xa(a,m,f),o!==null&&(Ni(o,a,f),Hu(o,a,f))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=Pi(),f=va(u);f.tag=2,o!=null&&(f.callback=o),o=xa(a,f,u),o!==null&&(Ni(o,a,u),Hu(o,a,u))}};function f1(a,o,u,f,m,b,R){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,b,R):o.prototype&&o.prototype.isPureReactComponent?!Nu(u,f)||!Nu(m,b):!0}function p1(a,o,u,f){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==a&&Zy.enqueueReplaceState(o,o.state,null)}function Xo(a,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(a=a.defaultProps){u===o&&(u=p({},u));for(var m in a)u[m]===void 0&&(u[m]=a[m])}return u}var Yf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function g1(a){Yf(a)}function m1(a){console.error(a)}function y1(a){Yf(a)}function Gf(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function _1(a,o,u){try{var f=a.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Jy(a,o,u){return u=va(u),u.tag=3,u.payload={element:null},u.callback=function(){Gf(a,o)},u}function b1(a){return a=va(a),a.tag=3,a}function v1(a,o,u,f){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var b=f.value;a.payload=function(){return m(b)},a.callback=function(){_1(o,u,f)}}var R=u.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(a.callback=function(){_1(o,u,f),typeof m!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var I=f.stack;this.componentDidCatch(f.value,{componentStack:I!==null?I:""})})}function r2(a,o,u,f,m){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&zu(o,u,m,!0),u=Zi.current,u!==null){switch(u.tag){case 13:return zs===null?E_():u.alternate===null&&Xe===0&&(Xe=3),u.flags&=-257,u.flags|=65536,u.lanes=m,f===Ry?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),T_(a,f,m)),!1;case 22:return u.flags|=65536,f===Ry?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),T_(a,f,m)),!1}throw Error(i(435,u.tag))}return T_(a,f,m),E_(),!1}if(ge)return o=Zi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,f!==xy&&(a=Error(i(422),{cause:f}),Uu(Gi(a,u)))):(f!==xy&&(o=Error(i(423),{cause:f}),Uu(Gi(o,u))),a=a.current.alternate,a.flags|=65536,m&=-m,a.lanes|=m,f=Gi(f,u),m=Jy(a.stateNode,f,m),My(a,m),Xe!==4&&(Xe=2)),!1;var b=Error(i(520),{cause:f});if(b=Gi(b,u),ah===null?ah=[b]:ah.push(b),Xe!==4&&(Xe=2),o===null)return!0;f=Gi(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=m&-m,u.lanes|=a,a=Jy(u.stateNode,f,a),My(u,a),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Da===null||!Da.has(b))))return u.flags|=65536,m&=-m,u.lanes|=m,m=b1(m),v1(m,a,u,f),My(u,m),!1}u=u.return}while(u!==null);return!1}var x1=Error(i(461)),In=!1;function $n(a,o,u,f){o.child=a===null?h1(o,null,u,f):cc(o,a.child,u,f)}function w1(a,o,u,f,m){u=u.render;var b=o.ref;if("ref"in f){var R={};for(var I in f)I!=="ref"&&(R[I]=f[I])}else R=f;return Yo(o),f=Ly(a,o,u,R,b,m),I=jy(),a!==null&&!In?(Vy(a,o,m),Or(a,o,m)):(ge&&I&&by(o),o.flags|=1,$n(a,o,f,m),o.child)}function E1(a,o,u,f,m){if(a===null){var b=u.type;return typeof b=="function"&&!my(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,S1(a,o,b,f,m)):(a=kf(u.type,null,f,o,o.mode,m),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!o_(a,m)){var R=b.memoizedProps;if(u=u.compare,u=u!==null?u:Nu,u(R,f)&&a.ref===o.ref)return Or(a,o,m)}return o.flags|=1,a=Ar(b,f),a.ref=o.ref,a.return=o,o.child=a}function S1(a,o,u,f,m){if(a!==null){var b=a.memoizedProps;if(Nu(b,f)&&a.ref===o.ref)if(In=!1,o.pendingProps=f=b,o_(a,m))(a.flags&131072)!==0&&(In=!0);else return o.lanes=a.lanes,Or(a,o,m)}return t_(a,o,u,f,m)}function T1(a,o,u){var f=o.pendingProps,m=f.children,b=a!==null?a.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=b!==null?b.baseLanes|u:u,a!==null){for(m=o.child=a.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;o.childLanes=b&~f}else o.childLanes=0,o.child=null;return A1(a,o,f,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&If(o,b!==null?b.cachePool:null),b!==null?Sw(o,b):Oy(),d1(o);else return o.lanes=o.childLanes=536870912,A1(a,o,b!==null?b.baseLanes|u:u,u)}else b!==null?(If(o,b.cachePool),Sw(o,b),Sa(),o.memoizedState=null):(a!==null&&If(o,null),Oy(),Sa());return $n(a,o,m,u),o.child}function A1(a,o,u,f){var m=ky();return m=m===null?null:{parent:wn._currentValue,pool:m},o.memoizedState={baseLanes:u,cachePool:m},a!==null&&If(o,null),Oy(),d1(o),a!==null&&zu(a,o,f,!0),null}function Kf(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function t_(a,o,u,f,m){return Yo(o),u=Ly(a,o,u,f,void 0,m),f=jy(),a!==null&&!In?(Vy(a,o,m),Or(a,o,m)):(ge&&f&&by(o),o.flags|=1,$n(a,o,u,m),o.child)}function k1(a,o,u,f,m,b){return Yo(o),o.updateQueue=null,u=Aw(o,f,u,m),Tw(a),f=jy(),a!==null&&!In?(Vy(a,o,b),Or(a,o,b)):(ge&&f&&by(o),o.flags|=1,$n(a,o,u,b),o.child)}function R1(a,o,u,f,m){if(Yo(o),o.stateNode===null){var b=Jl,R=u.contextType;typeof R=="object"&&R!==null&&(b=Zn(R)),b=new u(f,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Zy,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=f,b.state=o.memoizedState,b.refs={},Cy(o),R=u.contextType,b.context=typeof R=="object"&&R!==null?Zn(R):Jl,b.state=o.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(Qy(o,u,R,f),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(R=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),R!==b.state&&Zy.enqueueReplaceState(b,b.state,null),Yu(o,f,b,m),Wu(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(a===null){b=o.stateNode;var I=o.memoizedProps,W=Xo(u,I);b.props=W;var rt=b.context,ht=u.contextType;R=Jl,typeof ht=="object"&&ht!==null&&(R=Zn(ht));var gt=u.getDerivedStateFromProps;ht=typeof gt=="function"||typeof b.getSnapshotBeforeUpdate=="function",I=o.pendingProps!==I,ht||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(I||rt!==R)&&p1(o,b,f,R),ba=!1;var ot=o.memoizedState;b.state=ot,Yu(o,f,b,m),Wu(),rt=o.memoizedState,I||ot!==rt||ba?(typeof gt=="function"&&(Qy(o,u,gt,f),rt=o.memoizedState),(W=ba||f1(o,u,W,f,ot,rt,R))?(ht||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=rt),b.props=f,b.state=rt,b.context=R,f=W):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{b=o.stateNode,Dy(a,o),R=o.memoizedProps,ht=Xo(u,R),b.props=ht,gt=o.pendingProps,ot=b.context,rt=u.contextType,W=Jl,typeof rt=="object"&&rt!==null&&(W=Zn(rt)),I=u.getDerivedStateFromProps,(rt=typeof I=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==gt||ot!==W)&&p1(o,b,f,W),ba=!1,ot=o.memoizedState,b.state=ot,Yu(o,f,b,m),Wu();var lt=o.memoizedState;R!==gt||ot!==lt||ba||a!==null&&a.dependencies!==null&&Df(a.dependencies)?(typeof I=="function"&&(Qy(o,u,I,f),lt=o.memoizedState),(ht=ba||f1(o,u,ht,f,ot,lt,W)||a!==null&&a.dependencies!==null&&Df(a.dependencies))?(rt||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,lt,W),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,lt,W)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||R===a.memoizedProps&&ot===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&ot===a.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=lt),b.props=f,b.state=lt,b.context=W,f=ht):(typeof b.componentDidUpdate!="function"||R===a.memoizedProps&&ot===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&ot===a.memoizedState||(o.flags|=1024),f=!1)}return b=f,Kf(a,o),f=(o.flags&128)!==0,b||f?(b=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&f?(o.child=cc(o,a.child,null,m),o.child=cc(o,null,u,m)):$n(a,o,u,m),o.memoizedState=b.state,a=o.child):a=Or(a,o,m),a}function C1(a,o,u,f){return Vu(),o.flags|=256,$n(a,o,u,f),o.child}var e_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function n_(a){return{baseLanes:a,cachePool:mw()}}function i_(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=Ji),a}function D1(a,o,u){var f=o.pendingProps,m=!1,b=(o.flags&128)!==0,R;if((R=b)||(R=a!==null&&a.memoizedState===null?!1:(En.current&2)!==0),R&&(m=!0,o.flags&=-129),R=(o.flags&32)!==0,o.flags&=-33,a===null){if(ge){if(m?Ea(o):Sa(),ge){var I=Ke,W;if(W=I){t:{for(W=I,I=Us;W.nodeType!==8;){if(!I){I=null;break t}if(W=fs(W.nextSibling),W===null){I=null;break t}}I=W}I!==null?(o.memoizedState={dehydrated:I,treeContext:Bo!==null?{id:kr,overflow:Rr}:null,retryLane:536870912,hydrationErrors:null},W=Di(18,null,null,0),W.stateNode=I,W.return=o,o.child=W,gi=o,Ke=null,W=!0):W=!1}W||Ho(o)}if(I=o.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return z_(I)?o.lanes=32:o.lanes=536870912,null;Ir(o)}return I=f.children,f=f.fallback,m?(Sa(),m=o.mode,I=Xf({mode:"hidden",children:I},m),f=Fo(f,m,u,null),I.return=o,f.return=o,I.sibling=f,o.child=I,m=o.child,m.memoizedState=n_(u),m.childLanes=i_(a,R,u),o.memoizedState=e_,f):(Ea(o),s_(o,I))}if(W=a.memoizedState,W!==null&&(I=W.dehydrated,I!==null)){if(b)o.flags&256?(Ea(o),o.flags&=-257,o=r_(a,o,u)):o.memoizedState!==null?(Sa(),o.child=a.child,o.flags|=128,o=null):(Sa(),m=f.fallback,I=o.mode,f=Xf({mode:"visible",children:f.children},I),m=Fo(m,I,u,null),m.flags|=2,f.return=o,m.return=o,f.sibling=m,o.child=f,cc(o,a.child,null,u),f=o.child,f.memoizedState=n_(u),f.childLanes=i_(a,R,u),o.memoizedState=e_,o=m);else if(Ea(o),z_(I)){if(R=I.nextSibling&&I.nextSibling.dataset,R)var rt=R.dgst;R=rt,f=Error(i(419)),f.stack="",f.digest=R,Uu({value:f,source:null,stack:null}),o=r_(a,o,u)}else if(In||zu(a,o,u,!1),R=(u&a.childLanes)!==0,In||R){if(R=Oe,R!==null&&(f=u&-u,f=(f&42)!==0?1:Rs(f),f=(f&(R.suspendedLanes|u))!==0?0:f,f!==0&&f!==W.retryLane))throw W.retryLane=f,Zl(a,f),Ni(R,a,f),x1;I.data==="$?"||E_(),o=r_(a,o,u)}else I.data==="$?"?(o.flags|=192,o.child=a.child,o=null):(a=W.treeContext,Ke=fs(I.nextSibling),gi=o,ge=!0,$o=null,Us=!1,a!==null&&(Xi[Qi++]=kr,Xi[Qi++]=Rr,Xi[Qi++]=Bo,kr=a.id,Rr=a.overflow,Bo=o),o=s_(o,f.children),o.flags|=4096);return o}return m?(Sa(),m=f.fallback,I=o.mode,W=a.child,rt=W.sibling,f=Ar(W,{mode:"hidden",children:f.children}),f.subtreeFlags=W.subtreeFlags&65011712,rt!==null?m=Ar(rt,m):(m=Fo(m,I,u,null),m.flags|=2),m.return=o,f.return=o,f.sibling=m,o.child=f,f=m,m=o.child,I=a.child.memoizedState,I===null?I=n_(u):(W=I.cachePool,W!==null?(rt=wn._currentValue,W=W.parent!==rt?{parent:rt,pool:rt}:W):W=mw(),I={baseLanes:I.baseLanes|u,cachePool:W}),m.memoizedState=I,m.childLanes=i_(a,R,u),o.memoizedState=e_,f):(Ea(o),u=a.child,a=u.sibling,u=Ar(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,a!==null&&(R=o.deletions,R===null?(o.deletions=[a],o.flags|=16):R.push(a)),o.child=u,o.memoizedState=null,u)}function s_(a,o){return o=Xf({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Xf(a,o){return a=Di(22,a,null,o),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function r_(a,o,u){return cc(o,a.child,null,u),a=s_(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function M1(a,o,u){a.lanes|=o;var f=a.alternate;f!==null&&(f.lanes|=o),Ey(a.return,o,u)}function a_(a,o,u,f,m){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=u,b.tailMode=m)}function I1(a,o,u){var f=o.pendingProps,m=f.revealOrder,b=f.tail;if($n(a,o,f.children,u),f=En.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)t:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&M1(a,u,o);else if(a.tag===19)M1(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break t;for(;a.sibling===null;){if(a.return===null||a.return===o)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}f&=1}switch(K(En,f),m){case"forwards":for(u=o.child,m=null;u!==null;)a=u.alternate,a!==null&&Wf(a)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),a_(o,!1,m,u,b);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(a=m.alternate,a!==null&&Wf(a)===null){o.child=m;break}a=m.sibling,m.sibling=u,u=m,m=a}a_(o,!0,u,null,b);break;case"together":a_(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Or(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Ca|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(zu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(i(153));if(o.child!==null){for(a=o.child,u=Ar(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=Ar(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function o_(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Df(a)))}function a2(a,o,u){switch(o.tag){case 3:bt(o,o.stateNode.containerInfo),_a(o,wn,a.memoizedState.cache),Vu();break;case 27:case 5:Nt(o);break;case 4:bt(o,o.stateNode.containerInfo);break;case 10:_a(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Ea(o),o.flags|=128,null):(u&o.child.childLanes)!==0?D1(a,o,u):(Ea(o),a=Or(a,o,u),a!==null?a.sibling:null);Ea(o);break;case 19:var m=(a.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(zu(a,o,u,!1),f=(u&o.childLanes)!==0),m){if(f)return I1(a,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),K(En,En.current),f)break;return null;case 22:case 23:return o.lanes=0,T1(a,o,u);case 24:_a(o,wn,a.memoizedState.cache)}return Or(a,o,u)}function O1(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)In=!0;else{if(!o_(a,u)&&(o.flags&128)===0)return In=!1,a2(a,o,u);In=(a.flags&131072)!==0}else In=!1,ge&&(o.flags&1048576)!==0&&cw(o,Cf,o.index);switch(o.lanes=0,o.tag){case 16:t:{a=o.pendingProps;var f=o.elementType,m=f._init;if(f=m(f._payload),o.type=f,typeof f=="function")my(f)?(a=Xo(f,a),o.tag=1,o=R1(null,o,f,a,u)):(o.tag=0,o=t_(null,o,f,a,u));else{if(f!=null){if(m=f.$$typeof,m===$){o.tag=11,o=w1(null,o,f,a,u);break t}else if(m===C){o.tag=14,o=E1(null,o,f,a,u);break t}}throw o=kt(f)||f,Error(i(306,o,""))}}return o;case 0:return t_(a,o,o.type,o.pendingProps,u);case 1:return f=o.type,m=Xo(f,o.pendingProps),R1(a,o,f,m,u);case 3:t:{if(bt(o,o.stateNode.containerInfo),a===null)throw Error(i(387));f=o.pendingProps;var b=o.memoizedState;m=b.element,Dy(a,o),Yu(o,f,null,u);var R=o.memoizedState;if(f=R.cache,_a(o,wn,f),f!==b.cache&&Sy(o,[wn],u,!0),Wu(),f=R.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:R.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=C1(a,o,f,u);break t}else if(f!==m){m=Gi(Error(i(424)),o),Uu(m),o=C1(a,o,f,u);break t}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ke=fs(a.firstChild),gi=o,ge=!0,$o=null,Us=!0,u=h1(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Vu(),f===m){o=Or(a,o,u);break t}$n(a,o,f,u)}o=o.child}return o;case 26:return Kf(a,o),a===null?(u=jE(o.type,null,o.pendingProps,null))?o.memoizedState=u:ge||(u=o.type,a=o.pendingProps,f=up(Y.current).createElement(u),f[bn]=o,f[on]=a,Wn(f,u,a),Je(f),o.stateNode=f):o.memoizedState=jE(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Nt(o),a===null&&ge&&(f=o.stateNode=PE(o.type,o.pendingProps,Y.current),gi=o,Us=!0,m=Ke,Oa(o.type)?(F_=m,Ke=fs(f.firstChild)):Ke=m),$n(a,o,o.pendingProps.children,u),Kf(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&ge&&((m=f=Ke)&&(f=P2(f,o.type,o.pendingProps,Us),f!==null?(o.stateNode=f,gi=o,Ke=fs(f.firstChild),Us=!1,m=!0):m=!1),m||Ho(o)),Nt(o),m=o.type,b=o.pendingProps,R=a!==null?a.memoizedProps:null,f=b.children,j_(m,b)?f=null:R!==null&&j_(m,R)&&(o.flags|=32),o.memoizedState!==null&&(m=Ly(a,o,ZO,null,null,u),gh._currentValue=m),Kf(a,o),$n(a,o,f,u),o.child;case 6:return a===null&&ge&&((a=u=Ke)&&(u=N2(u,o.pendingProps,Us),u!==null?(o.stateNode=u,gi=o,Ke=null,a=!0):a=!1),a||Ho(o)),null;case 13:return D1(a,o,u);case 4:return bt(o,o.stateNode.containerInfo),f=o.pendingProps,a===null?o.child=cc(o,null,f,u):$n(a,o,f,u),o.child;case 11:return w1(a,o,o.type,o.pendingProps,u);case 7:return $n(a,o,o.pendingProps,u),o.child;case 8:return $n(a,o,o.pendingProps.children,u),o.child;case 12:return $n(a,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,_a(o,o.type,f.value),$n(a,o,f.children,u),o.child;case 9:return m=o.type._context,f=o.pendingProps.children,Yo(o),m=Zn(m),f=f(m),o.flags|=1,$n(a,o,f,u),o.child;case 14:return E1(a,o,o.type,o.pendingProps,u);case 15:return S1(a,o,o.type,o.pendingProps,u);case 19:return I1(a,o,u);case 31:return f=o.pendingProps,u=o.mode,f={mode:f.mode,children:f.children},a===null?(u=Xf(f,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=Ar(a.child,f),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return T1(a,o,u);case 24:return Yo(o),f=Zn(wn),a===null?(m=ky(),m===null&&(m=Oe,b=Ty(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=u),m=b),o.memoizedState={parent:f,cache:m},Cy(o),_a(o,wn,m)):((a.lanes&u)!==0&&(Dy(a,o),Yu(o,null,null,u),Wu()),m=a.memoizedState,b=o.memoizedState,m.parent!==f?(m={parent:f,cache:f},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),_a(o,wn,f)):(f=b.cache,_a(o,wn,f),f!==m.cache&&Sy(o,[wn],u,!0))),$n(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Pr(a){a.flags|=4}function P1(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!BE(o)){if(o=Zi.current,o!==null&&((le&4194048)===le?zs!==null:(le&62914560)!==le&&(le&536870912)===0||o!==zs))throw $u=Ry,yw;a.flags|=8192}}function Qf(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?me():536870912,a.lanes|=o,fc|=o)}function th(a,o){if(!ge)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function He(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,f=0;if(o)for(var m=a.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=a,m=m.sibling;else for(m=a.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=a,m=m.sibling;return a.subtreeFlags|=f,a.childLanes=u,o}function o2(a,o,u){var f=o.pendingProps;switch(vy(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(o),null;case 1:return He(o),null;case 3:return u=o.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Dr(wn),xt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(ju(o)?Pr(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,dw())),He(o),null;case 26:return u=o.memoizedState,a===null?(Pr(o),u!==null?(He(o),P1(o,u)):(He(o),o.flags&=-16777217)):u?u!==a.memoizedState?(Pr(o),He(o),P1(o,u)):(He(o),o.flags&=-16777217):(a.memoizedProps!==f&&Pr(o),He(o),o.flags&=-16777217),null;case 27:ue(o),u=Y.current;var m=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==f&&Pr(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return He(o),null}a=Q.current,ju(o)?uw(o):(a=PE(m,f,u),o.stateNode=a,Pr(o))}return He(o),null;case 5:if(ue(o),u=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==f&&Pr(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return He(o),null}if(a=Q.current,ju(o))uw(o);else{switch(m=up(Y.current),a){case 1:a=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=m.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof f.is=="string"?m.createElement("select",{is:f.is}):m.createElement("select"),f.multiple?a.multiple=!0:f.size&&(a.size=f.size);break;default:a=typeof f.is=="string"?m.createElement(u,{is:f.is}):m.createElement(u)}}a[bn]=o,a[on]=f;t:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)a.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break t;for(;m.sibling===null;){if(m.return===null||m.return===o)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=a;t:switch(Wn(a,u,f),u){case"button":case"input":case"select":case"textarea":a=!!f.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Pr(o)}}return He(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==f&&Pr(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(i(166));if(a=Y.current,ju(o)){if(a=o.stateNode,u=o.memoizedProps,f=null,m=gi,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}a[bn]=o,a=!!(a.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||kE(a.nodeValue,u)),a||Ho(o)}else a=up(a).createTextNode(f),a[bn]=o,o.stateNode=a}return He(o),null;case 13:if(f=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(m=ju(o),f!==null&&f.dehydrated!==null){if(a===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[bn]=o}else Vu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;He(o),m=!1}else m=dw(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(Ir(o),o):(Ir(o),null)}if(Ir(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=f!==null,a=a!==null&&a.memoizedState!==null,u){f=o.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==m&&(f.flags|=2048)}return u!==a&&u&&(o.child.flags|=8192),Qf(o,o.updateQueue),He(o),null;case 4:return xt(),a===null&&I_(o.stateNode.containerInfo),He(o),null;case 10:return Dr(o.type),He(o),null;case 19:if(nt(En),m=o.memoizedState,m===null)return He(o),null;if(f=(o.flags&128)!==0,b=m.rendering,b===null)if(f)th(m,!1);else{if(Xe!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=Wf(a),b!==null){for(o.flags|=128,th(m,!1),a=b.updateQueue,o.updateQueue=a,Qf(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)lw(u,a),u=u.sibling;return K(En,En.current&1|2),o.child}a=a.sibling}m.tail!==null&&an()>tp&&(o.flags|=128,f=!0,th(m,!1),o.lanes=4194304)}else{if(!f)if(a=Wf(b),a!==null){if(o.flags|=128,f=!0,a=a.updateQueue,o.updateQueue=a,Qf(o,a),th(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!ge)return He(o),null}else 2*an()-m.renderingStartTime>tp&&u!==536870912&&(o.flags|=128,f=!0,th(m,!1),o.lanes=4194304);m.isBackwards?(b.sibling=o.child,o.child=b):(a=m.last,a!==null?a.sibling=b:o.child=b,m.last=b)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=an(),o.sibling=null,a=En.current,K(En,f?a&1|2:a&1),o):(He(o),null);case 22:case 23:return Ir(o),Py(),f=o.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(u&536870912)!==0&&(o.flags&128)===0&&(He(o),o.subtreeFlags&6&&(o.flags|=8192)):He(o),u=o.updateQueue,u!==null&&Qf(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),a!==null&&nt(Go),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Dr(wn),He(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function l2(a,o){switch(vy(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Dr(wn),xt(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return ue(o),null;case 13:if(Ir(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Vu()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return nt(En),null;case 4:return xt(),null;case 10:return Dr(o.type),null;case 22:case 23:return Ir(o),Py(),a!==null&&nt(Go),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Dr(wn),null;case 25:return null;default:return null}}function N1(a,o){switch(vy(o),o.tag){case 3:Dr(wn),xt();break;case 26:case 27:case 5:ue(o);break;case 4:xt();break;case 13:Ir(o);break;case 19:nt(En);break;case 10:Dr(o.type);break;case 22:case 23:Ir(o),Py(),a!==null&&nt(Go);break;case 24:Dr(wn)}}function eh(a,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&a)===a){f=void 0;var b=u.create,R=u.inst;f=b(),R.destroy=f}u=u.next}while(u!==m)}}catch(I){Me(o,o.return,I)}}function Ta(a,o,u){try{var f=o.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var b=m.next;f=b;do{if((f.tag&a)===a){var R=f.inst,I=R.destroy;if(I!==void 0){R.destroy=void 0,m=o;var W=u,rt=I;try{rt()}catch(ht){Me(m,W,ht)}}}f=f.next}while(f!==b)}}catch(ht){Me(o,o.return,ht)}}function L1(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{Ew(o,u)}catch(f){Me(a,a.return,f)}}}function j1(a,o,u){u.props=Xo(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(f){Me(a,o,f)}}function nh(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof u=="function"?a.refCleanup=u(f):u.current=f}}catch(m){Me(a,o,m)}}function Fs(a,o){var u=a.ref,f=a.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(m){Me(a,o,m)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){Me(a,o,m)}else u.current=null}function V1(a){var o=a.type,u=a.memoizedProps,f=a.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break t;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(m){Me(a,a.return,m)}}function l_(a,o,u){try{var f=a.stateNode;C2(f,a.type,u,o),f[on]=o}catch(m){Me(a,a.return,m)}}function U1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Oa(a.type)||a.tag===4}function c_(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||U1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Oa(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function u_(a,o,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=cp));else if(f!==4&&(f===27&&Oa(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(u_(a,o,u),a=a.sibling;a!==null;)u_(a,o,u),a=a.sibling}function Zf(a,o,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(f!==4&&(f===27&&Oa(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Zf(a,o,u),a=a.sibling;a!==null;)Zf(a,o,u),a=a.sibling}function z1(a){var o=a.stateNode,u=a.memoizedProps;try{for(var f=a.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);Wn(o,f,u),o[bn]=a,o[on]=u}catch(b){Me(a,a.return,b)}}var Nr=!1,en=!1,h_=!1,F1=typeof WeakSet=="function"?WeakSet:Set,On=null;function c2(a,o){if(a=a.containerInfo,N_=mp,a=Zx(a),cy(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else t:{u=(u=a.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break t}var R=0,I=-1,W=-1,rt=0,ht=0,gt=a,ot=null;e:for(;;){for(var lt;gt!==u||m!==0&&gt.nodeType!==3||(I=R+m),gt!==b||f!==0&&gt.nodeType!==3||(W=R+f),gt.nodeType===3&&(R+=gt.nodeValue.length),(lt=gt.firstChild)!==null;)ot=gt,gt=lt;for(;;){if(gt===a)break e;if(ot===u&&++rt===m&&(I=R),ot===b&&++ht===f&&(W=R),(lt=gt.nextSibling)!==null)break;gt=ot,ot=gt.parentNode}gt=lt}u=I===-1||W===-1?null:{start:I,end:W}}else u=null}u=u||{start:0,end:0}}else u=null;for(L_={focusedElem:a,selectionRange:u},mp=!1,On=o;On!==null;)if(o=On,a=o.child,(o.subtreeFlags&1024)!==0&&a!==null)a.return=o,On=a;else for(;On!==null;){switch(o=On,b=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,u=o,m=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var zt=Xo(u.type,m,u.elementType===u.type);a=f.getSnapshotBeforeUpdate(zt,b),f.__reactInternalSnapshotBeforeUpdate=a}catch(Lt){Me(u,u.return,Lt)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)U_(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":U_(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=o.sibling,a!==null){a.return=o.return,On=a;break}On=o.return}}function B1(a,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Aa(a,u),f&4&&eh(5,u);break;case 1:if(Aa(a,u),f&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(R){Me(u,u.return,R)}else{var m=Xo(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(m,o,a.__reactInternalSnapshotBeforeUpdate)}catch(R){Me(u,u.return,R)}}f&64&&L1(u),f&512&&nh(u,u.return);break;case 3:if(Aa(a,u),f&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Ew(a,o)}catch(R){Me(u,u.return,R)}}break;case 27:o===null&&f&4&&z1(u);case 26:case 5:Aa(a,u),o===null&&f&4&&V1(u),f&512&&nh(u,u.return);break;case 12:Aa(a,u);break;case 13:Aa(a,u),f&4&&H1(a,u),f&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=_2.bind(null,u),L2(a,u))));break;case 22:if(f=u.memoizedState!==null||Nr,!f){o=o!==null&&o.memoizedState!==null||en,m=Nr;var b=en;Nr=f,(en=o)&&!b?ka(a,u,(u.subtreeFlags&8772)!==0):Aa(a,u),Nr=m,en=b}break;case 30:break;default:Aa(a,u)}}function q1(a){var o=a.alternate;o!==null&&(a.alternate=null,q1(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&pa(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Fe=null,vi=!1;function Lr(a,o,u){for(u=u.child;u!==null;)$1(a,o,u),u=u.sibling}function $1(a,o,u){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(de,u)}catch{}switch(u.tag){case 26:en||Fs(u,o),Lr(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:en||Fs(u,o);var f=Fe,m=vi;Oa(u.type)&&(Fe=u.stateNode,vi=!1),Lr(a,o,u),hh(u.stateNode),Fe=f,vi=m;break;case 5:en||Fs(u,o);case 6:if(f=Fe,m=vi,Fe=null,Lr(a,o,u),Fe=f,vi=m,Fe!==null)if(vi)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(u.stateNode)}catch(b){Me(u,o,b)}else try{Fe.removeChild(u.stateNode)}catch(b){Me(u,o,b)}break;case 18:Fe!==null&&(vi?(a=Fe,IE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),bh(a)):IE(Fe,u.stateNode));break;case 4:f=Fe,m=vi,Fe=u.stateNode.containerInfo,vi=!0,Lr(a,o,u),Fe=f,vi=m;break;case 0:case 11:case 14:case 15:en||Ta(2,u,o),en||Ta(4,u,o),Lr(a,o,u);break;case 1:en||(Fs(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&j1(u,o,f)),Lr(a,o,u);break;case 21:Lr(a,o,u);break;case 22:en=(f=en)||u.memoizedState!==null,Lr(a,o,u),en=f;break;default:Lr(a,o,u)}}function H1(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{bh(a)}catch(u){Me(o,o.return,u)}}function u2(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new F1),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new F1),o;default:throw Error(i(435,a.tag))}}function d_(a,o){var u=u2(a);o.forEach(function(f){var m=b2.bind(null,a,f);u.has(f)||(u.add(f),f.then(m,m))})}function Mi(a,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f],b=a,R=o,I=R;t:for(;I!==null;){switch(I.tag){case 27:if(Oa(I.type)){Fe=I.stateNode,vi=!1;break t}break;case 5:Fe=I.stateNode,vi=!1;break t;case 3:case 4:Fe=I.stateNode.containerInfo,vi=!0;break t}I=I.return}if(Fe===null)throw Error(i(160));$1(b,R,m),Fe=null,vi=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)W1(o,a),o=o.sibling}var ds=null;function W1(a,o){var u=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Mi(o,a),Ii(a),f&4&&(Ta(3,a,a.return),eh(3,a),Ta(5,a,a.return));break;case 1:Mi(o,a),Ii(a),f&512&&(en||u===null||Fs(u,u.return)),f&64&&Nr&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var m=ds;if(Mi(o,a),Ii(a),f&512&&(en||u===null||Fs(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=a.memoizedState,u===null)if(f===null)if(a.stateNode===null){t:{f=a.type,u=a.memoizedProps,m=m.ownerDocument||m;e:switch(f){case"title":b=m.getElementsByTagName("title")[0],(!b||b[To]||b[bn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(f),m.head.insertBefore(b,m.querySelector("head > title"))),Wn(b,f,u),b[bn]=a,Je(b),f=b;break t;case"link":var R=zE("link","href",m).get(f+(u.href||""));if(R){for(var I=0;I<R.length;I++)if(b=R[I],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){R.splice(I,1);break e}}b=m.createElement(f),Wn(b,f,u),m.head.appendChild(b);break;case"meta":if(R=zE("meta","content",m).get(f+(u.content||""))){for(I=0;I<R.length;I++)if(b=R[I],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){R.splice(I,1);break e}}b=m.createElement(f),Wn(b,f,u),m.head.appendChild(b);break;default:throw Error(i(468,f))}b[bn]=a,Je(b),f=b}a.stateNode=f}else FE(m,a.type,a.stateNode);else a.stateNode=UE(m,f,a.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?FE(m,a.type,a.stateNode):UE(m,f,a.memoizedProps)):f===null&&a.stateNode!==null&&l_(a,a.memoizedProps,u.memoizedProps)}break;case 27:Mi(o,a),Ii(a),f&512&&(en||u===null||Fs(u,u.return)),u!==null&&f&4&&l_(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Mi(o,a),Ii(a),f&512&&(en||u===null||Fs(u,u.return)),a.flags&32){m=a.stateNode;try{$i(m,"")}catch(lt){Me(a,a.return,lt)}}f&4&&a.stateNode!=null&&(m=a.memoizedProps,l_(a,m,u!==null?u.memoizedProps:m)),f&1024&&(h_=!0);break;case 6:if(Mi(o,a),Ii(a),f&4){if(a.stateNode===null)throw Error(i(162));f=a.memoizedProps,u=a.stateNode;try{u.nodeValue=f}catch(lt){Me(a,a.return,lt)}}break;case 3:if(fp=null,m=ds,ds=hp(o.containerInfo),Mi(o,a),ds=m,Ii(a),f&4&&u!==null&&u.memoizedState.isDehydrated)try{bh(o.containerInfo)}catch(lt){Me(a,a.return,lt)}h_&&(h_=!1,Y1(a));break;case 4:f=ds,ds=hp(a.stateNode.containerInfo),Mi(o,a),Ii(a),ds=f;break;case 12:Mi(o,a),Ii(a);break;case 13:Mi(o,a),Ii(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(__=an()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,d_(a,f)));break;case 22:m=a.memoizedState!==null;var W=u!==null&&u.memoizedState!==null,rt=Nr,ht=en;if(Nr=rt||m,en=ht||W,Mi(o,a),en=ht,Nr=rt,Ii(a),f&8192)t:for(o=a.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(u===null||W||Nr||en||Qo(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){W=u=o;try{if(b=W.stateNode,m)R=b.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{I=W.stateNode;var gt=W.memoizedProps.style,ot=gt!=null&&gt.hasOwnProperty("display")?gt.display:null;I.style.display=ot==null||typeof ot=="boolean"?"":(""+ot).trim()}}catch(lt){Me(W,W.return,lt)}}}else if(o.tag===6){if(u===null){W=o;try{W.stateNode.nodeValue=m?"":W.memoizedProps}catch(lt){Me(W,W.return,lt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break t;for(;o.sibling===null;){if(o.return===null||o.return===a)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=a.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,d_(a,u))));break;case 19:Mi(o,a),Ii(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,d_(a,f)));break;case 30:break;case 21:break;default:Mi(o,a),Ii(a)}}function Ii(a){var o=a.flags;if(o&2){try{for(var u,f=a.return;f!==null;){if(U1(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var m=u.stateNode,b=c_(a);Zf(a,b,m);break;case 5:var R=u.stateNode;u.flags&32&&($i(R,""),u.flags&=-33);var I=c_(a);Zf(a,I,R);break;case 3:case 4:var W=u.stateNode.containerInfo,rt=c_(a);u_(a,rt,W);break;default:throw Error(i(161))}}catch(ht){Me(a,a.return,ht)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function Y1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;Y1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Aa(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)B1(a,o.alternate,o),o=o.sibling}function Qo(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Ta(4,o,o.return),Qo(o);break;case 1:Fs(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&j1(o,o.return,u),Qo(o);break;case 27:hh(o.stateNode);case 26:case 5:Fs(o,o.return),Qo(o);break;case 22:o.memoizedState===null&&Qo(o);break;case 30:Qo(o);break;default:Qo(o)}a=a.sibling}}function ka(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,m=a,b=o,R=b.flags;switch(b.tag){case 0:case 11:case 15:ka(m,b,u),eh(4,b);break;case 1:if(ka(m,b,u),f=b,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(rt){Me(f,f.return,rt)}if(f=b,m=f.updateQueue,m!==null){var I=f.stateNode;try{var W=m.shared.hiddenCallbacks;if(W!==null)for(m.shared.hiddenCallbacks=null,m=0;m<W.length;m++)ww(W[m],I)}catch(rt){Me(f,f.return,rt)}}u&&R&64&&L1(b),nh(b,b.return);break;case 27:z1(b);case 26:case 5:ka(m,b,u),u&&f===null&&R&4&&V1(b),nh(b,b.return);break;case 12:ka(m,b,u);break;case 13:ka(m,b,u),u&&R&4&&H1(m,b);break;case 22:b.memoizedState===null&&ka(m,b,u),nh(b,b.return);break;case 30:break;default:ka(m,b,u)}o=o.sibling}}function f_(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Fu(u))}function p_(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Fu(a))}function Bs(a,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)G1(a,o,u,f),o=o.sibling}function G1(a,o,u,f){var m=o.flags;switch(o.tag){case 0:case 11:case 15:Bs(a,o,u,f),m&2048&&eh(9,o);break;case 1:Bs(a,o,u,f);break;case 3:Bs(a,o,u,f),m&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Fu(a)));break;case 12:if(m&2048){Bs(a,o,u,f),a=o.stateNode;try{var b=o.memoizedProps,R=b.id,I=b.onPostCommit;typeof I=="function"&&I(R,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(W){Me(o,o.return,W)}}else Bs(a,o,u,f);break;case 13:Bs(a,o,u,f);break;case 23:break;case 22:b=o.stateNode,R=o.alternate,o.memoizedState!==null?b._visibility&2?Bs(a,o,u,f):ih(a,o):b._visibility&2?Bs(a,o,u,f):(b._visibility|=2,uc(a,o,u,f,(o.subtreeFlags&10256)!==0)),m&2048&&f_(R,o);break;case 24:Bs(a,o,u,f),m&2048&&p_(o.alternate,o);break;default:Bs(a,o,u,f)}}function uc(a,o,u,f,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=a,R=o,I=u,W=f,rt=R.flags;switch(R.tag){case 0:case 11:case 15:uc(b,R,I,W,m),eh(8,R);break;case 23:break;case 22:var ht=R.stateNode;R.memoizedState!==null?ht._visibility&2?uc(b,R,I,W,m):ih(b,R):(ht._visibility|=2,uc(b,R,I,W,m)),m&&rt&2048&&f_(R.alternate,R);break;case 24:uc(b,R,I,W,m),m&&rt&2048&&p_(R.alternate,R);break;default:uc(b,R,I,W,m)}o=o.sibling}}function ih(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,f=o,m=f.flags;switch(f.tag){case 22:ih(u,f),m&2048&&f_(f.alternate,f);break;case 24:ih(u,f),m&2048&&p_(f.alternate,f);break;default:ih(u,f)}o=o.sibling}}var sh=8192;function hc(a){if(a.subtreeFlags&sh)for(a=a.child;a!==null;)K1(a),a=a.sibling}function K1(a){switch(a.tag){case 26:hc(a),a.flags&sh&&a.memoizedState!==null&&K2(ds,a.memoizedState,a.memoizedProps);break;case 5:hc(a);break;case 3:case 4:var o=ds;ds=hp(a.stateNode.containerInfo),hc(a),ds=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=sh,sh=16777216,hc(a),sh=o):hc(a));break;default:hc(a)}}function X1(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function rh(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];On=f,Z1(f,a)}X1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Q1(a),a=a.sibling}function Q1(a){switch(a.tag){case 0:case 11:case 15:rh(a),a.flags&2048&&Ta(9,a,a.return);break;case 3:rh(a);break;case 12:rh(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Jf(a)):rh(a);break;default:rh(a)}}function Jf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];On=f,Z1(f,a)}X1(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Ta(8,o,o.return),Jf(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Jf(o));break;default:Jf(o)}a=a.sibling}}function Z1(a,o){for(;On!==null;){var u=On;switch(u.tag){case 0:case 11:case 15:Ta(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Fu(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,On=f;else t:for(u=a;On!==null;){f=On;var m=f.sibling,b=f.return;if(q1(f),f===u){On=null;break t}if(m!==null){m.return=b,On=m;break t}On=b}}}var h2={getCacheForType:function(a){var o=Zn(wn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u}},d2=typeof WeakMap=="function"?WeakMap:Map,xe=0,Oe=null,te=null,le=0,we=0,Oi=null,Ra=!1,dc=!1,g_=!1,jr=0,Xe=0,Ca=0,Zo=0,m_=0,Ji=0,fc=0,ah=null,xi=null,y_=!1,__=0,tp=1/0,ep=null,Da=null,Hn=0,Ma=null,pc=null,gc=0,b_=0,v_=null,J1=null,oh=0,x_=null;function Pi(){if((xe&2)!==0&&le!==0)return le&-le;if(B.T!==null){var a=nc;return a!==0?a:R_()}return Bi()}function tE(){Ji===0&&(Ji=(le&536870912)===0||ge?$t():536870912);var a=Zi.current;return a!==null&&(a.flags|=32),Ji}function Ni(a,o,u){(a===Oe&&(we===2||we===9)||a.cancelPendingCommit!==null)&&(mc(a,0),Ia(a,le,Ji,!1)),he(a,u),((xe&2)===0||a!==Oe)&&(a===Oe&&((xe&2)===0&&(Zo|=u),Xe===4&&Ia(a,le,Ji,!1)),qs(a))}function eE(a,o,u){if((xe&6)!==0)throw Error(i(327));var f=!u&&(o&124)===0&&(o&a.expiredLanes)===0||gr(a,o),m=f?g2(a,o):S_(a,o,!0),b=f;do{if(m===0){dc&&!f&&Ia(a,o,0,!1);break}else{if(u=a.current.alternate,b&&!f2(u)){m=S_(a,o,!1),b=!1;continue}if(m===2){if(b=o,a.errorRecoveryDisabledLanes&b)var R=0;else R=a.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){o=R;t:{var I=a;m=ah;var W=I.current.memoizedState.isDehydrated;if(W&&(mc(I,R).flags|=256),R=S_(I,R,!1),R!==2){if(g_&&!W){I.errorRecoveryDisabledLanes|=b,Zo|=b,m=4;break t}b=xi,xi=m,b!==null&&(xi===null?xi=b:xi.push.apply(xi,b))}m=R}if(b=!1,m!==2)continue}}if(m===1){mc(a,0),Ia(a,o,0,!0);break}t:{switch(f=a,b=m,b){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Ia(f,o,Ji,!Ra);break t;case 2:xi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(m=__+300-an(),10<m)){if(Ia(f,o,Ji,!Ra),pr(f,0,!0)!==0)break t;f.timeoutHandle=DE(nE.bind(null,f,u,xi,ep,y_,o,Ji,Zo,fc,Ra,b,2,-0,0),m);break t}nE(f,u,xi,ep,y_,o,Ji,Zo,fc,Ra,b,0,-0,0)}}break}while(!0);qs(a)}function nE(a,o,u,f,m,b,R,I,W,rt,ht,gt,ot,lt){if(a.timeoutHandle=-1,gt=o.subtreeFlags,(gt&8192||(gt&16785408)===16785408)&&(ph={stylesheets:null,count:0,unsuspend:G2},K1(o),gt=X2(),gt!==null)){a.cancelPendingCommit=gt(cE.bind(null,a,o,b,u,f,m,R,I,W,ht,1,ot,lt)),Ia(a,b,R,!rt);return}cE(a,o,b,u,f,m,R,I,W)}function f2(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var m=u[f],b=m.getSnapshot;m=m.value;try{if(!Ci(b(),m))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ia(a,o,u,f){o&=~m_,o&=~Zo,a.suspendedLanes|=o,a.pingedLanes&=~o,f&&(a.warmLanes|=o),f=a.expirationTimes;for(var m=o;0<m;){var b=31-Rn(m),R=1<<b;f[b]=-1,m&=~R}u!==0&&Ht(a,u,o)}function np(){return(xe&6)===0?(lh(0),!1):!0}function w_(){if(te!==null){if(we===0)var a=te.return;else a=te,Cr=Wo=null,Uy(a),lc=null,Zu=0,a=te;for(;a!==null;)N1(a.alternate,a),a=a.return;te=null}}function mc(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,M2(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),w_(),Oe=a,te=u=Ar(a.current,null),le=o,we=0,Oi=null,Ra=!1,dc=gr(a,o),g_=!1,fc=Ji=m_=Zo=Ca=Xe=0,xi=ah=null,y_=!1,(o&8)!==0&&(o|=o&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=o;0<f;){var m=31-Rn(f),b=1<<m;o|=a[m],f&=~b}return jr=o,Sf(),u}function iE(a,o){Xt=null,B.H=qf,o===qu||o===Of?(o=vw(),we=3):o===yw?(o=vw(),we=4):we=o===x1?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Oi=o,te===null&&(Xe=1,Gf(a,Gi(o,a.current)))}function sE(){var a=B.H;return B.H=qf,a===null?qf:a}function rE(){var a=B.A;return B.A=h2,a}function E_(){Xe=4,Ra||(le&4194048)!==le&&Zi.current!==null||(dc=!0),(Ca&134217727)===0&&(Zo&134217727)===0||Oe===null||Ia(Oe,le,Ji,!1)}function S_(a,o,u){var f=xe;xe|=2;var m=sE(),b=rE();(Oe!==a||le!==o)&&(ep=null,mc(a,o)),o=!1;var R=Xe;t:do try{if(we!==0&&te!==null){var I=te,W=Oi;switch(we){case 8:w_(),R=6;break t;case 3:case 2:case 9:case 6:Zi.current===null&&(o=!0);var rt=we;if(we=0,Oi=null,yc(a,I,W,rt),u&&dc){R=0;break t}break;default:rt=we,we=0,Oi=null,yc(a,I,W,rt)}}p2(),R=Xe;break}catch(ht){iE(a,ht)}while(!0);return o&&a.shellSuspendCounter++,Cr=Wo=null,xe=f,B.H=m,B.A=b,te===null&&(Oe=null,le=0,Sf()),R}function p2(){for(;te!==null;)aE(te)}function g2(a,o){var u=xe;xe|=2;var f=sE(),m=rE();Oe!==a||le!==o?(ep=null,tp=an()+500,mc(a,o)):dc=gr(a,o);t:do try{if(we!==0&&te!==null){o=te;var b=Oi;e:switch(we){case 1:we=0,Oi=null,yc(a,o,b,1);break;case 2:case 9:if(_w(b)){we=0,Oi=null,oE(o);break}o=function(){we!==2&&we!==9||Oe!==a||(we=7),qs(a)},b.then(o,o);break t;case 3:we=7;break t;case 4:we=5;break t;case 7:_w(b)?(we=0,Oi=null,oE(o)):(we=0,Oi=null,yc(a,o,b,7));break;case 5:var R=null;switch(te.tag){case 26:R=te.memoizedState;case 5:case 27:var I=te;if(!R||BE(R)){we=0,Oi=null;var W=I.sibling;if(W!==null)te=W;else{var rt=I.return;rt!==null?(te=rt,ip(rt)):te=null}break e}}we=0,Oi=null,yc(a,o,b,5);break;case 6:we=0,Oi=null,yc(a,o,b,6);break;case 8:w_(),Xe=6;break t;default:throw Error(i(462))}}m2();break}catch(ht){iE(a,ht)}while(!0);return Cr=Wo=null,B.H=f,B.A=m,xe=u,te!==null?0:(Oe=null,le=0,Sf(),Xe)}function m2(){for(;te!==null&&!ls();)aE(te)}function aE(a){var o=O1(a.alternate,a,jr);a.memoizedProps=a.pendingProps,o===null?ip(a):te=o}function oE(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=k1(u,o,o.pendingProps,o.type,void 0,le);break;case 11:o=k1(u,o,o.pendingProps,o.type.render,o.ref,le);break;case 5:Uy(o);default:N1(u,o),o=te=lw(o,jr),o=O1(u,o,jr)}a.memoizedProps=a.pendingProps,o===null?ip(a):te=o}function yc(a,o,u,f){Cr=Wo=null,Uy(o),lc=null,Zu=0;var m=o.return;try{if(r2(a,m,o,u,le)){Xe=1,Gf(a,Gi(u,a.current)),te=null;return}}catch(b){if(m!==null)throw te=m,b;Xe=1,Gf(a,Gi(u,a.current)),te=null;return}o.flags&32768?(ge||f===1?a=!0:dc||(le&536870912)!==0?a=!1:(Ra=a=!0,(f===2||f===9||f===3||f===6)&&(f=Zi.current,f!==null&&f.tag===13&&(f.flags|=16384))),lE(o,a)):ip(o)}function ip(a){var o=a;do{if((o.flags&32768)!==0){lE(o,Ra);return}a=o.return;var u=o2(o.alternate,o,jr);if(u!==null){te=u;return}if(o=o.sibling,o!==null){te=o;return}te=o=a}while(o!==null);Xe===0&&(Xe=5)}function lE(a,o){do{var u=l2(a.alternate,a);if(u!==null){u.flags&=32767,te=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){te=a;return}te=a=u}while(a!==null);Xe=6,te=null}function cE(a,o,u,f,m,b,R,I,W){a.cancelPendingCommit=null;do sp();while(Hn!==0);if((xe&6)!==0)throw Error(i(327));if(o!==null){if(o===a.current)throw Error(i(177));if(b=o.lanes|o.childLanes,b|=py,Cn(a,u,b,R,I,W),a===Oe&&(te=Oe=null,le=0),pc=o,Ma=a,gc=u,b_=b,v_=m,J1=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,v2(Dt,function(){return pE(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=B.T,B.T=null,m=J.p,J.p=2,R=xe,xe|=4;try{c2(a,o,u)}finally{xe=R,J.p=m,B.T=f}}Hn=1,uE(),hE(),dE()}}function uE(){if(Hn===1){Hn=0;var a=Ma,o=pc,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=B.T,B.T=null;var f=J.p;J.p=2;var m=xe;xe|=4;try{W1(o,a);var b=L_,R=Zx(a.containerInfo),I=b.focusedElem,W=b.selectionRange;if(R!==I&&I&&I.ownerDocument&&Qx(I.ownerDocument.documentElement,I)){if(W!==null&&cy(I)){var rt=W.start,ht=W.end;if(ht===void 0&&(ht=rt),"selectionStart"in I)I.selectionStart=rt,I.selectionEnd=Math.min(ht,I.value.length);else{var gt=I.ownerDocument||document,ot=gt&&gt.defaultView||window;if(ot.getSelection){var lt=ot.getSelection(),zt=I.textContent.length,Lt=Math.min(W.start,zt),Re=W.end===void 0?Lt:Math.min(W.end,zt);!lt.extend&&Lt>Re&&(R=Re,Re=Lt,Lt=R);var et=Xx(I,Lt),Z=Xx(I,Re);if(et&&Z&&(lt.rangeCount!==1||lt.anchorNode!==et.node||lt.anchorOffset!==et.offset||lt.focusNode!==Z.node||lt.focusOffset!==Z.offset)){var st=gt.createRange();st.setStart(et.node,et.offset),lt.removeAllRanges(),Lt>Re?(lt.addRange(st),lt.extend(Z.node,Z.offset)):(st.setEnd(Z.node,Z.offset),lt.addRange(st))}}}}for(gt=[],lt=I;lt=lt.parentNode;)lt.nodeType===1&&gt.push({element:lt,left:lt.scrollLeft,top:lt.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<gt.length;I++){var dt=gt[I];dt.element.scrollLeft=dt.left,dt.element.scrollTop=dt.top}}mp=!!N_,L_=N_=null}finally{xe=m,J.p=f,B.T=u}}a.current=o,Hn=2}}function hE(){if(Hn===2){Hn=0;var a=Ma,o=pc,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=B.T,B.T=null;var f=J.p;J.p=2;var m=xe;xe|=4;try{B1(a,o.alternate,o)}finally{xe=m,J.p=f,B.T=u}}Hn=3}}function dE(){if(Hn===4||Hn===3){Hn=0,ca();var a=Ma,o=pc,u=gc,f=J1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Hn=5:(Hn=0,pc=Ma=null,fE(a,a.pendingLanes));var m=a.pendingLanes;if(m===0&&(Da=null),ha(u),o=o.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(de,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=B.T,m=J.p,J.p=2,B.T=null;try{for(var b=a.onRecoverableError,R=0;R<f.length;R++){var I=f[R];b(I.value,{componentStack:I.stack})}}finally{B.T=o,J.p=m}}(gc&3)!==0&&sp(),qs(a),m=a.pendingLanes,(u&4194090)!==0&&(m&42)!==0?a===x_?oh++:(oh=0,x_=a):oh=0,lh(0)}}function fE(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Fu(o)))}function sp(a){return uE(),hE(),dE(),pE()}function pE(){if(Hn!==5)return!1;var a=Ma,o=b_;b_=0;var u=ha(gc),f=B.T,m=J.p;try{J.p=32>u?32:u,B.T=null,u=v_,v_=null;var b=Ma,R=gc;if(Hn=0,pc=Ma=null,gc=0,(xe&6)!==0)throw Error(i(331));var I=xe;if(xe|=4,Q1(b.current),G1(b,b.current,R,u),xe=I,lh(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(de,b)}catch{}return!0}finally{J.p=m,B.T=f,fE(a,o)}}function gE(a,o,u){o=Gi(u,o),o=Jy(a.stateNode,o,2),a=xa(a,o,2),a!==null&&(he(a,2),qs(a))}function Me(a,o,u){if(a.tag===3)gE(a,a,u);else for(;o!==null;){if(o.tag===3){gE(o,a,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Da===null||!Da.has(f))){a=Gi(u,a),u=b1(2),f=xa(o,u,2),f!==null&&(v1(u,f,o,a),he(f,2),qs(f));break}}o=o.return}}function T_(a,o,u){var f=a.pingCache;if(f===null){f=a.pingCache=new d2;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(g_=!0,m.add(u),a=y2.bind(null,a,o,u),o.then(a,a))}function y2(a,o,u){var f=a.pingCache;f!==null&&f.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Oe===a&&(le&u)===u&&(Xe===4||Xe===3&&(le&62914560)===le&&300>an()-__?(xe&2)===0&&mc(a,0):m_|=u,fc===le&&(fc=0)),qs(a)}function mE(a,o){o===0&&(o=me()),a=Zl(a,o),a!==null&&(he(a,o),qs(a))}function _2(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),mE(a,u)}function b2(a,o){var u=0;switch(a.tag){case 13:var f=a.stateNode,m=a.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(o),mE(a,u)}function v2(a,o){return Fn(a,o)}var rp=null,_c=null,A_=!1,ap=!1,k_=!1,Jo=0;function qs(a){a!==_c&&a.next===null&&(_c===null?rp=_c=a:_c=_c.next=a),ap=!0,A_||(A_=!0,w2())}function lh(a,o){if(!k_&&ap){k_=!0;do for(var u=!1,f=rp;f!==null;){if(a!==0){var m=f.pendingLanes;if(m===0)var b=0;else{var R=f.suspendedLanes,I=f.pingedLanes;b=(1<<31-Rn(42|a)+1)-1,b&=m&~(R&~I),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,vE(f,b))}else b=le,b=pr(f,f===Oe?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||gr(f,b)||(u=!0,vE(f,b));f=f.next}while(u);k_=!1}}function x2(){yE()}function yE(){ap=A_=!1;var a=0;Jo!==0&&(D2()&&(a=Jo),Jo=0);for(var o=an(),u=null,f=rp;f!==null;){var m=f.next,b=_E(f,o);b===0?(f.next=null,u===null?rp=m:u.next=m,m===null&&(_c=u)):(u=f,(a!==0||(b&3)!==0)&&(ap=!0)),f=m}lh(a)}function _E(a,o){for(var u=a.suspendedLanes,f=a.pingedLanes,m=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var R=31-Rn(b),I=1<<R,W=m[R];W===-1?((I&u)===0||(I&f)!==0)&&(m[R]=ua(I,o)):W<=o&&(a.expiredLanes|=I),b&=~I}if(o=Oe,u=le,u=pr(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,u===0||a===o&&(we===2||we===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&_i(f),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||gr(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(f!==null&&_i(f),ha(u)){case 2:case 8:u=_t;break;case 32:u=Dt;break;case 268435456:u=St;break;default:u=Dt}return f=bE.bind(null,a),u=Fn(u,f),a.callbackPriority=o,a.callbackNode=u,o}return f!==null&&f!==null&&_i(f),a.callbackPriority=2,a.callbackNode=null,2}function bE(a,o){if(Hn!==0&&Hn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(sp()&&a.callbackNode!==u)return null;var f=le;return f=pr(a,a===Oe?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(eE(a,f,o),_E(a,an()),a.callbackNode!=null&&a.callbackNode===u?bE.bind(null,a):null)}function vE(a,o){if(sp())return null;eE(a,o,!0)}function w2(){I2(function(){(xe&6)!==0?Fn(ur,x2):yE()})}function R_(){return Jo===0&&(Jo=$t()),Jo}function xE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:zl(""+a)}function wE(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function E2(a,o,u,f,m){if(o==="submit"&&u&&u.stateNode===m){var b=xE((m[on]||null).action),R=f.submitter;R&&(o=(o=R[on]||null)?xE(o.formAction):R.getAttribute("formAction"),o!==null&&(b=o,R=null));var I=new Fl("action","action",null,f,m);a.push({event:I,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Jo!==0){var W=R?wE(m,R):new FormData(m);Gy(u,{pending:!0,data:W,method:m.method,action:b},null,W)}}else typeof b=="function"&&(I.preventDefault(),W=R?wE(m,R):new FormData(m),Gy(u,{pending:!0,data:W,method:m.method,action:b},b,W))},currentTarget:m}]})}}for(var C_=0;C_<fy.length;C_++){var D_=fy[C_],S2=D_.toLowerCase(),T2=D_[0].toUpperCase()+D_.slice(1);hs(S2,"on"+T2)}hs(ew,"onAnimationEnd"),hs(nw,"onAnimationIteration"),hs(iw,"onAnimationStart"),hs("dblclick","onDoubleClick"),hs("focusin","onFocus"),hs("focusout","onBlur"),hs(BO,"onTransitionRun"),hs(qO,"onTransitionStart"),hs($O,"onTransitionCancel"),hs(sw,"onTransitionEnd"),yr("onMouseEnter",["mouseout","mouseover"]),yr("onMouseLeave",["mouseout","mouseover"]),yr("onPointerEnter",["pointerout","pointerover"]),yr("onPointerLeave",["pointerout","pointerover"]),cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ch="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ch));function EE(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var f=a[u],m=f.event;f=f.listeners;t:{var b=void 0;if(o)for(var R=f.length-1;0<=R;R--){var I=f[R],W=I.instance,rt=I.currentTarget;if(I=I.listener,W!==b&&m.isPropagationStopped())break t;b=I,m.currentTarget=rt;try{b(m)}catch(ht){Yf(ht)}m.currentTarget=null,b=W}else for(R=0;R<f.length;R++){if(I=f[R],W=I.instance,rt=I.currentTarget,I=I.listener,W!==b&&m.isPropagationStopped())break t;b=I,m.currentTarget=rt;try{b(m)}catch(ht){Yf(ht)}m.currentTarget=null,b=W}}}}function ee(a,o){var u=o[vu];u===void 0&&(u=o[vu]=new Set);var f=a+"__bubble";u.has(f)||(SE(o,a,2,!1),u.add(f))}function M_(a,o,u){var f=0;o&&(f|=4),SE(u,a,f,o)}var op="_reactListening"+Math.random().toString(36).slice(2);function I_(a){if(!a[op]){a[op]=!0,xu.forEach(function(u){u!=="selectionchange"&&(A2.has(u)||M_(u,!1,a),M_(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[op]||(o[op]=!0,M_("selectionchange",!1,o))}}function SE(a,o,u,f){switch(GE(o)){case 2:var m=J2;break;case 8:m=tP;break;default:m=W_}u=m.bind(null,o,u,a),m=void 0,!Wi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?a.addEventListener(o,u,{capture:!0,passive:m}):a.addEventListener(o,u,!0):m!==void 0?a.addEventListener(o,u,{passive:m}):a.addEventListener(o,u,!1)}function O_(a,o,u,f,m){var b=f;if((o&1)===0&&(o&2)===0&&f!==null)t:for(;;){if(f===null)return;var R=f.tag;if(R===3||R===4){var I=f.stateNode.containerInfo;if(I===m)break;if(R===4)for(R=f.return;R!==null;){var W=R.tag;if((W===3||W===4)&&R.stateNode.containerInfo===m)return;R=R.return}for(;I!==null;){if(R=mr(I),R===null)return;if(W=R.tag,W===5||W===6||W===26||W===27){f=b=R;continue t}I=I.parentNode}}f=f.return}cf(function(){var rt=b,ht=Hi(u),gt=[];t:{var ot=rw.get(a);if(ot!==void 0){var lt=Fl,zt=a;switch(a){case"keypress":if(Ps(u)===0)break t;case"keydown":case"keyup":lt=Yl;break;case"focusin":zt="focus",lt=$l;break;case"focusout":zt="blur",lt=$l;break;case"beforeblur":case"afterblur":lt=$l;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=Yi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=ry;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=yf;break;case ew:case nw:case iw:lt=Hl;break;case sw:lt=bf;break;case"scroll":case"scrollend":lt=uf;break;case"wheel":lt=Gl;break;case"copy":case"cut":case"paste":lt=Wl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=Ou;break;case"toggle":case"beforetoggle":lt=xf}var Lt=(o&4)!==0,Re=!Lt&&(a==="scroll"||a==="scrollend"),et=Lt?ot!==null?ot+"Capture":null:ot;Lt=[];for(var Z=rt,st;Z!==null;){var dt=Z;if(st=dt.stateNode,dt=dt.tag,dt!==5&&dt!==26&&dt!==27||st===null||et===null||(dt=Io(Z,et),dt!=null&&Lt.push(uh(Z,dt,st))),Re)break;Z=Z.return}0<Lt.length&&(ot=new lt(ot,zt,null,u,ht),gt.push({event:ot,listeners:Lt}))}}if((o&7)===0){t:{if(ot=a==="mouseover"||a==="pointerover",lt=a==="mouseout"||a==="pointerout",ot&&u!==vr&&(zt=u.relatedTarget||u.fromElement)&&(mr(zt)||zt[qi]))break t;if((lt||ot)&&(ot=ht.window===ht?ht:(ot=ht.ownerDocument)?ot.defaultView||ot.parentWindow:window,lt?(zt=u.relatedTarget||u.toElement,lt=rt,zt=zt?mr(zt):null,zt!==null&&(Re=r(zt),Lt=zt.tag,zt!==Re||Lt!==5&&Lt!==27&&Lt!==6)&&(zt=null)):(lt=null,zt=rt),lt!==zt)){if(Lt=Yi,dt="onMouseLeave",et="onMouseEnter",Z="mouse",(a==="pointerout"||a==="pointerover")&&(Lt=Ou,dt="onPointerLeave",et="onPointerEnter",Z="pointer"),Re=lt==null?ot:Ds(lt),st=zt==null?ot:Ds(zt),ot=new Lt(dt,Z+"leave",lt,u,ht),ot.target=Re,ot.relatedTarget=st,dt=null,mr(ht)===rt&&(Lt=new Lt(et,Z+"enter",zt,u,ht),Lt.target=st,Lt.relatedTarget=Re,dt=Lt),Re=dt,lt&&zt)e:{for(Lt=lt,et=zt,Z=0,st=Lt;st;st=bc(st))Z++;for(st=0,dt=et;dt;dt=bc(dt))st++;for(;0<Z-st;)Lt=bc(Lt),Z--;for(;0<st-Z;)et=bc(et),st--;for(;Z--;){if(Lt===et||et!==null&&Lt===et.alternate)break e;Lt=bc(Lt),et=bc(et)}Lt=null}else Lt=null;lt!==null&&TE(gt,ot,lt,Lt,!1),zt!==null&&Re!==null&&TE(gt,Re,zt,Lt,!0)}}t:{if(ot=rt?Ds(rt):window,lt=ot.nodeName&&ot.nodeName.toLowerCase(),lt==="select"||lt==="input"&&ot.type==="file")var Ct=$x;else if(xn(ot))if(Hx)Ct=UO;else{Ct=jO;var Qt=LO}else lt=ot.nodeName,!lt||lt.toLowerCase()!=="input"||ot.type!=="checkbox"&&ot.type!=="radio"?rt&&Au(rt.elementType)&&(Ct=$x):Ct=VO;if(Ct&&(Ct=Ct(a,rt))){Tr(gt,Ct,u,ht);break t}Qt&&Qt(a,ot,rt),a==="focusout"&&rt&&ot.type==="number"&&rt.memoizedProps.value!=null&&ma(ot,"number",ot.value)}switch(Qt=rt?Ds(rt):window,a){case"focusin":(xn(Qt)||Qt.contentEditable==="true")&&(Kl=Qt,uy=rt,Lu=null);break;case"focusout":Lu=uy=Kl=null;break;case"mousedown":hy=!0;break;case"contextmenu":case"mouseup":case"dragend":hy=!1,Jx(gt,u,ht);break;case"selectionchange":if(FO)break;case"keydown":case"keyup":Jx(gt,u,ht)}var It;if(js)t:{switch(a){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else ae?ct(a,u)&&(jt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(jt="onCompositionStart");jt&&(A&&u.locale!=="ko"&&(ae||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&ae&&(It=Ru()):(Os=ht,ya="value"in Os?Os.value:Os.textContent,ae=!0)),Qt=lp(rt,jt),0<Qt.length&&(jt=new Mu(jt,a,null,u,ht),gt.push({event:jt,listeners:Qt}),It?jt.data=It:(It=vt(u),It!==null&&(jt.data=It)))),(It=w?vn(a,u):oe(a,u))&&(jt=lp(rt,"onBeforeInput"),0<jt.length&&(Qt=new Mu("onBeforeInput","beforeinput",null,u,ht),gt.push({event:Qt,listeners:jt}),Qt.data=It)),E2(gt,a,rt,u,ht)}EE(gt,o)})}function uh(a,o,u){return{instance:a,listener:o,currentTarget:u}}function lp(a,o){for(var u=o+"Capture",f=[];a!==null;){var m=a,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=Io(a,u),m!=null&&f.unshift(uh(a,m,b)),m=Io(a,o),m!=null&&f.push(uh(a,m,b))),a.tag===3)return f;a=a.return}return[]}function bc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function TE(a,o,u,f,m){for(var b=o._reactName,R=[];u!==null&&u!==f;){var I=u,W=I.alternate,rt=I.stateNode;if(I=I.tag,W!==null&&W===f)break;I!==5&&I!==26&&I!==27||rt===null||(W=rt,m?(rt=Io(u,b),rt!=null&&R.unshift(uh(u,rt,W))):m||(rt=Io(u,b),rt!=null&&R.push(uh(u,rt,W)))),u=u.return}R.length!==0&&a.push({event:o,listeners:R})}var k2=/\r\n?/g,R2=/\u0000|\uFFFD/g;function AE(a){return(typeof a=="string"?a:""+a).replace(k2,`
`).replace(R2,"")}function kE(a,o){return o=AE(o),AE(a)===o}function cp(){}function ke(a,o,u,f,m,b){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||$i(a,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&$i(a,""+f);break;case"className":Ms(a,"class",f);break;case"tabIndex":Ms(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ms(a,u,f);break;case"style":Tu(a,f,b);break;case"data":if(o!=="object"){Ms(a,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=zl(""+f),a.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&ke(a,o,"name",m.name,m,null),ke(a,o,"formEncType",m.formEncType,m,null),ke(a,o,"formMethod",m.formMethod,m,null),ke(a,o,"formTarget",m.formTarget,m,null)):(ke(a,o,"encType",m.encType,m,null),ke(a,o,"method",m.method,m,null),ke(a,o,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=zl(""+f),a.setAttribute(u,f);break;case"onClick":f!=null&&(a.onclick=cp);break;case"onScroll":f!=null&&ee("scroll",a);break;case"onScrollEnd":f!=null&&ee("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(m.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}u=zl(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""+f):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":f===!0?a.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,f):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(u,f):a.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(u):a.setAttribute(u,f);break;case"popover":ee("beforetoggle",a),ee("toggle",a),ga(a,"popover",f);break;case"xlinkActuate":Bn(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Bn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Bn(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Bn(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Bn(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Bn(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Bn(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Bn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Bn(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ga(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=iy.get(u)||u,ga(a,u,f))}}function P_(a,o,u,f,m,b){switch(u){case"style":Tu(a,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(m.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"children":typeof f=="string"?$i(a,f):(typeof f=="number"||typeof f=="bigint")&&$i(a,""+f);break;case"onScroll":f!=null&&ee("scroll",a);break;case"onScrollEnd":f!=null&&ee("scrollend",a);break;case"onClick":f!=null&&(a.onclick=cp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),o=u.slice(2,m?u.length-7:void 0),b=a[on]||null,b=b!=null?b[u]:null,typeof b=="function"&&a.removeEventListener(o,b,m),typeof f=="function")){typeof b!="function"&&b!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,f,m);break t}u in a?a[u]=f:f===!0?a.setAttribute(u,""):ga(a,u,f)}}}function Wn(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ee("error",a),ee("load",a);var f=!1,m=!1,b;for(b in u)if(u.hasOwnProperty(b)){var R=u[b];if(R!=null)switch(b){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ke(a,o,b,R,u,null)}}m&&ke(a,o,"srcSet",u.srcSet,u,null),f&&ke(a,o,"src",u.src,u,null);return;case"input":ee("invalid",a);var I=b=R=m=null,W=null,rt=null;for(f in u)if(u.hasOwnProperty(f)){var ht=u[f];if(ht!=null)switch(f){case"name":m=ht;break;case"type":R=ht;break;case"checked":W=ht;break;case"defaultChecked":rt=ht;break;case"value":b=ht;break;case"defaultValue":I=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(i(137,o));break;default:ke(a,o,f,ht,u,null)}}Co(a,b,I,W,rt,R,m,!1),Ul(a);return;case"select":ee("invalid",a),f=R=b=null;for(m in u)if(u.hasOwnProperty(m)&&(I=u[m],I!=null))switch(m){case"value":b=I;break;case"defaultValue":R=I;break;case"multiple":f=I;default:ke(a,o,m,I,u,null)}o=b,u=R,a.multiple=!!f,o!=null?br(a,!!f,o,!1):u!=null&&br(a,!!f,u,!0);return;case"textarea":ee("invalid",a),b=m=f=null;for(R in u)if(u.hasOwnProperty(R)&&(I=u[R],I!=null))switch(R){case"value":f=I;break;case"defaultValue":m=I;break;case"children":b=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:ke(a,o,R,I,u,null)}Do(a,f,m,b),Ul(a);return;case"option":for(W in u)if(u.hasOwnProperty(W)&&(f=u[W],f!=null))switch(W){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ke(a,o,W,f,u,null)}return;case"dialog":ee("beforetoggle",a),ee("toggle",a),ee("cancel",a),ee("close",a);break;case"iframe":case"object":ee("load",a);break;case"video":case"audio":for(f=0;f<ch.length;f++)ee(ch[f],a);break;case"image":ee("error",a),ee("load",a);break;case"details":ee("toggle",a);break;case"embed":case"source":case"link":ee("error",a),ee("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(rt in u)if(u.hasOwnProperty(rt)&&(f=u[rt],f!=null))switch(rt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ke(a,o,rt,f,u,null)}return;default:if(Au(o)){for(ht in u)u.hasOwnProperty(ht)&&(f=u[ht],f!==void 0&&P_(a,o,ht,f,u,void 0));return}}for(I in u)u.hasOwnProperty(I)&&(f=u[I],f!=null&&ke(a,o,I,f,u,null))}function C2(a,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,R=null,I=null,W=null,rt=null,ht=null;for(lt in u){var gt=u[lt];if(u.hasOwnProperty(lt)&&gt!=null)switch(lt){case"checked":break;case"value":break;case"defaultValue":W=gt;default:f.hasOwnProperty(lt)||ke(a,o,lt,null,f,gt)}}for(var ot in f){var lt=f[ot];if(gt=u[ot],f.hasOwnProperty(ot)&&(lt!=null||gt!=null))switch(ot){case"type":b=lt;break;case"name":m=lt;break;case"checked":rt=lt;break;case"defaultChecked":ht=lt;break;case"value":R=lt;break;case"defaultValue":I=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(i(137,o));break;default:lt!==gt&&ke(a,o,ot,lt,f,gt)}}Ri(a,R,I,W,rt,ht,b,m);return;case"select":lt=R=I=ot=null;for(b in u)if(W=u[b],u.hasOwnProperty(b)&&W!=null)switch(b){case"value":break;case"multiple":lt=W;default:f.hasOwnProperty(b)||ke(a,o,b,null,f,W)}for(m in f)if(b=f[m],W=u[m],f.hasOwnProperty(m)&&(b!=null||W!=null))switch(m){case"value":ot=b;break;case"defaultValue":I=b;break;case"multiple":R=b;default:b!==W&&ke(a,o,m,b,f,W)}o=I,u=R,f=lt,ot!=null?br(a,!!u,ot,!1):!!f!=!!u&&(o!=null?br(a,!!u,o,!0):br(a,!!u,u?[]:"",!1));return;case"textarea":lt=ot=null;for(I in u)if(m=u[I],u.hasOwnProperty(I)&&m!=null&&!f.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:ke(a,o,I,null,f,m)}for(R in f)if(m=f[R],b=u[R],f.hasOwnProperty(R)&&(m!=null||b!=null))switch(R){case"value":ot=m;break;case"defaultValue":lt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==b&&ke(a,o,R,m,f,b)}Te(a,ot,lt);return;case"option":for(var zt in u)if(ot=u[zt],u.hasOwnProperty(zt)&&ot!=null&&!f.hasOwnProperty(zt))switch(zt){case"selected":a.selected=!1;break;default:ke(a,o,zt,null,f,ot)}for(W in f)if(ot=f[W],lt=u[W],f.hasOwnProperty(W)&&ot!==lt&&(ot!=null||lt!=null))switch(W){case"selected":a.selected=ot&&typeof ot!="function"&&typeof ot!="symbol";break;default:ke(a,o,W,ot,f,lt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Lt in u)ot=u[Lt],u.hasOwnProperty(Lt)&&ot!=null&&!f.hasOwnProperty(Lt)&&ke(a,o,Lt,null,f,ot);for(rt in f)if(ot=f[rt],lt=u[rt],f.hasOwnProperty(rt)&&ot!==lt&&(ot!=null||lt!=null))switch(rt){case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(i(137,o));break;default:ke(a,o,rt,ot,f,lt)}return;default:if(Au(o)){for(var Re in u)ot=u[Re],u.hasOwnProperty(Re)&&ot!==void 0&&!f.hasOwnProperty(Re)&&P_(a,o,Re,void 0,f,ot);for(ht in f)ot=f[ht],lt=u[ht],!f.hasOwnProperty(ht)||ot===lt||ot===void 0&&lt===void 0||P_(a,o,ht,ot,f,lt);return}}for(var et in u)ot=u[et],u.hasOwnProperty(et)&&ot!=null&&!f.hasOwnProperty(et)&&ke(a,o,et,null,f,ot);for(gt in f)ot=f[gt],lt=u[gt],!f.hasOwnProperty(gt)||ot===lt||ot==null&&lt==null||ke(a,o,gt,ot,f,lt)}var N_=null,L_=null;function up(a){return a.nodeType===9?a:a.ownerDocument}function RE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function CE(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function j_(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var V_=null;function D2(){var a=window.event;return a&&a.type==="popstate"?a===V_?!1:(V_=a,!0):(V_=null,!1)}var DE=typeof setTimeout=="function"?setTimeout:void 0,M2=typeof clearTimeout=="function"?clearTimeout:void 0,ME=typeof Promise=="function"?Promise:void 0,I2=typeof queueMicrotask=="function"?queueMicrotask:typeof ME<"u"?function(a){return ME.resolve(null).then(a).catch(O2)}:DE;function O2(a){setTimeout(function(){throw a})}function Oa(a){return a==="head"}function IE(a,o){var u=o,f=0,m=0;do{var b=u.nextSibling;if(a.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<f&&8>f){u=f;var R=a.ownerDocument;if(u&1&&hh(R.documentElement),u&2&&hh(R.body),u&4)for(u=R.head,hh(u),R=u.firstChild;R;){var I=R.nextSibling,W=R.nodeName;R[To]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&R.rel.toLowerCase()==="stylesheet"||u.removeChild(R),R=I}}if(m===0){a.removeChild(b),bh(o);return}m--}else u==="$"||u==="$?"||u==="$!"?m++:f=u.charCodeAt(0)-48;else f=0;u=b}while(u);bh(o)}function U_(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":U_(u),pa(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function P2(a,o,u,f){for(;a.nodeType===1;){var m=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[To])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==m.rel||a.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||a.getAttribute("title")!==(m.title==null?null:m.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(m.src==null?null:m.src)||a.getAttribute("type")!==(m.type==null?null:m.type)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=fs(a.nextSibling),a===null)break}return null}function N2(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=fs(a.nextSibling),a===null))return null;return a}function z_(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function L2(a,o){var u=a.ownerDocument;if(a.data!=="$?"||u.readyState==="complete")o();else{var f=function(){o(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function fs(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}var F_=null;function OE(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return a;o--}else u==="/$"&&o++}a=a.previousSibling}return null}function PE(a,o,u){switch(o=up(u),a){case"html":if(a=o.documentElement,!a)throw Error(i(452));return a;case"head":if(a=o.head,!a)throw Error(i(453));return a;case"body":if(a=o.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function hh(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);pa(a)}var ts=new Map,NE=new Set;function hp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Vr=J.d;J.d={f:j2,r:V2,D:U2,C:z2,L:F2,m:B2,X:$2,S:q2,M:H2};function j2(){var a=Vr.f(),o=np();return a||o}function V2(a){var o=Cs(a);o!==null&&o.tag===5&&o.type==="form"?e1(o):Vr.r(a)}var vc=typeof document>"u"?null:document;function LE(a,o,u){var f=vc;if(f&&typeof o=="string"&&o){var m=ln(o);m='link[rel="'+a+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),NE.has(m)||(NE.add(m),a={rel:a,crossOrigin:u,href:o},f.querySelector(m)===null&&(o=f.createElement("link"),Wn(o,"link",a),Je(o),f.head.appendChild(o)))}}function U2(a){Vr.D(a),LE("dns-prefetch",a,null)}function z2(a,o){Vr.C(a,o),LE("preconnect",a,o)}function F2(a,o,u){Vr.L(a,o,u);var f=vc;if(f&&a&&o){var m='link[rel="preload"][as="'+ln(o)+'"]';o==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+ln(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+ln(u.imageSizes)+'"]')):m+='[href="'+ln(a)+'"]';var b=m;switch(o){case"style":b=xc(a);break;case"script":b=wc(a)}ts.has(b)||(a=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),ts.set(b,a),f.querySelector(m)!==null||o==="style"&&f.querySelector(dh(b))||o==="script"&&f.querySelector(fh(b))||(o=f.createElement("link"),Wn(o,"link",a),Je(o),f.head.appendChild(o)))}}function B2(a,o){Vr.m(a,o);var u=vc;if(u&&a){var f=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+ln(f)+'"][href="'+ln(a)+'"]',b=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=wc(a)}if(!ts.has(b)&&(a=p({rel:"modulepreload",href:a},o),ts.set(b,a),u.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(fh(b)))return}f=u.createElement("link"),Wn(f,"link",a),Je(f),u.head.appendChild(f)}}}function q2(a,o,u){Vr.S(a,o,u);var f=vc;if(f&&a){var m=di(f).hoistableStyles,b=xc(a);o=o||"default";var R=m.get(b);if(!R){var I={loading:0,preload:null};if(R=f.querySelector(dh(b)))I.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},u),(u=ts.get(b))&&B_(a,u);var W=R=f.createElement("link");Je(W),Wn(W,"link",a),W._p=new Promise(function(rt,ht){W.onload=rt,W.onerror=ht}),W.addEventListener("load",function(){I.loading|=1}),W.addEventListener("error",function(){I.loading|=2}),I.loading|=4,dp(R,o,f)}R={type:"stylesheet",instance:R,count:1,state:I},m.set(b,R)}}}function $2(a,o){Vr.X(a,o);var u=vc;if(u&&a){var f=di(u).hoistableScripts,m=wc(a),b=f.get(m);b||(b=u.querySelector(fh(m)),b||(a=p({src:a,async:!0},o),(o=ts.get(m))&&q_(a,o),b=u.createElement("script"),Je(b),Wn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(m,b))}}function H2(a,o){Vr.M(a,o);var u=vc;if(u&&a){var f=di(u).hoistableScripts,m=wc(a),b=f.get(m);b||(b=u.querySelector(fh(m)),b||(a=p({src:a,async:!0,type:"module"},o),(o=ts.get(m))&&q_(a,o),b=u.createElement("script"),Je(b),Wn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(m,b))}}function jE(a,o,u,f){var m=(m=Y.current)?hp(m):null;if(!m)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=xc(u.href),u=di(m).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=xc(u.href);var b=di(m).hoistableStyles,R=b.get(a);if(R||(m=m.ownerDocument||m,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,R),(b=m.querySelector(dh(a)))&&!b._p&&(R.instance=b,R.state.loading=5),ts.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ts.set(a,u),b||W2(m,a,u,R.state))),o&&f===null)throw Error(i(528,""));return R}if(o&&f!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=wc(u),u=di(m).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function xc(a){return'href="'+ln(a)+'"'}function dh(a){return'link[rel="stylesheet"]['+a+"]"}function VE(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function W2(a,o,u,f){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=a.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Wn(o,"link",u),Je(o),a.head.appendChild(o))}function wc(a){return'[src="'+ln(a)+'"]'}function fh(a){return"script[async]"+a}function UE(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=a.querySelector('style[data-href~="'+ln(u.href)+'"]');if(f)return o.instance=f,Je(f),f;var m=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),Je(f),Wn(f,"style",m),dp(f,u.precedence,a),o.instance=f;case"stylesheet":m=xc(u.href);var b=a.querySelector(dh(m));if(b)return o.state.loading|=4,o.instance=b,Je(b),b;f=VE(u),(m=ts.get(m))&&B_(f,m),b=(a.ownerDocument||a).createElement("link"),Je(b);var R=b;return R._p=new Promise(function(I,W){R.onload=I,R.onerror=W}),Wn(b,"link",f),o.state.loading|=4,dp(b,u.precedence,a),o.instance=b;case"script":return b=wc(u.src),(m=a.querySelector(fh(b)))?(o.instance=m,Je(m),m):(f=u,(m=ts.get(b))&&(f=p({},u),q_(f,m)),a=a.ownerDocument||a,m=a.createElement("script"),Je(m),Wn(m,"link",f),a.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,dp(f,u.precedence,a));return o.instance}function dp(a,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,b=m,R=0;R<f.length;R++){var I=f[R];if(I.dataset.precedence===o)b=I;else if(b!==m)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function B_(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function q_(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var fp=null;function zE(a,o,u){if(fp===null){var f=new Map,m=fp=new Map;m.set(u,f)}else m=fp,f=m.get(u),f||(f=new Map,m.set(u,f));if(f.has(a))return f;for(f.set(a,null),u=u.getElementsByTagName(a),m=0;m<u.length;m++){var b=u[m];if(!(b[To]||b[bn]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var R=b.getAttribute(o)||"";R=a+R;var I=f.get(R);I?I.push(b):f.set(R,[b])}}return f}function FE(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function Y2(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function BE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var ph=null;function G2(){}function K2(a,o,u){if(ph===null)throw Error(i(475));var f=ph;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=xc(u.href),b=a.querySelector(dh(m));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(f.count++,f=pp.bind(f),a.then(f,f)),o.state.loading|=4,o.instance=b,Je(b);return}b=a.ownerDocument||a,u=VE(u),(m=ts.get(m))&&B_(u,m),b=b.createElement("link"),Je(b);var R=b;R._p=new Promise(function(I,W){R.onload=I,R.onerror=W}),Wn(b,"link",u),o.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=pp.bind(f),a.addEventListener("load",o),a.addEventListener("error",o))}}function X2(){if(ph===null)throw Error(i(475));var a=ph;return a.stylesheets&&a.count===0&&$_(a,a.stylesheets),0<a.count?function(o){var u=setTimeout(function(){if(a.stylesheets&&$_(a,a.stylesheets),a.unsuspend){var f=a.unsuspend;a.unsuspend=null,f()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(u)}}:null}function pp(){if(this.count--,this.count===0){if(this.stylesheets)$_(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var gp=null;function $_(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,gp=new Map,o.forEach(Q2,a),gp=null,pp.call(a))}function Q2(a,o){if(!(o.state.loading&4)){var u=gp.get(a);if(u)var f=u.get(null);else{u=new Map,gp.set(a,u);for(var m=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var R=m[b];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(u.set(R.dataset.precedence,R),f=R)}f&&u.set(null,f)}m=o.instance,R=m.getAttribute("data-precedence"),b=u.get(R)||f,b===f&&u.set(null,m),u.set(R,m),this.count++,f=pp.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),b?b.parentNode.insertBefore(m,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(m,a.firstChild)),o.state.loading|=4}}var gh={$$typeof:P,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function Z2(a,o,u,f,m,b,R,I){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.hiddenUpdates=Vt(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function qE(a,o,u,f,m,b,R,I,W,rt,ht,gt){return a=new Z2(a,o,u,R,I,W,rt,gt),o=1,b===!0&&(o|=24),b=Di(3,null,null,o),a.current=b,b.stateNode=a,o=Ty(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:o},Cy(b),a}function $E(a){return a?(a=Jl,a):Jl}function HE(a,o,u,f,m,b){m=$E(m),f.context===null?f.context=m:f.pendingContext=m,f=va(o),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=xa(a,f,o),u!==null&&(Ni(u,a,o),Hu(u,a,o))}function WE(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function H_(a,o){WE(a,o),(a=a.alternate)&&WE(a,o)}function YE(a){if(a.tag===13){var o=Zl(a,67108864);o!==null&&Ni(o,a,67108864),H_(a,67108864)}}var mp=!0;function J2(a,o,u,f){var m=B.T;B.T=null;var b=J.p;try{J.p=2,W_(a,o,u,f)}finally{J.p=b,B.T=m}}function tP(a,o,u,f){var m=B.T;B.T=null;var b=J.p;try{J.p=8,W_(a,o,u,f)}finally{J.p=b,B.T=m}}function W_(a,o,u,f){if(mp){var m=Y_(f);if(m===null)O_(a,o,f,yp,u),KE(a,f);else if(nP(m,a,o,u,f))f.stopPropagation();else if(KE(a,f),o&4&&-1<eP.indexOf(a)){for(;m!==null;){var b=Cs(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var R=ki(b.pendingLanes);if(R!==0){var I=b;for(I.pendingLanes|=2,I.entangledLanes|=2;R;){var W=1<<31-Rn(R);I.entanglements[1]|=W,R&=~W}qs(b),(xe&6)===0&&(tp=an()+500,lh(0))}}break;case 13:I=Zl(b,2),I!==null&&Ni(I,b,2),np(),H_(b,2)}if(b=Y_(f),b===null&&O_(a,o,f,yp,u),b===m)break;m=b}m!==null&&f.stopPropagation()}else O_(a,o,f,null,u)}}function Y_(a){return a=Hi(a),G_(a)}var yp=null;function G_(a){if(yp=null,a=mr(a),a!==null){var o=r(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return yp=a,null}function GE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Eo()){case ur:return 2;case _t:return 8;case Dt:case Tt:return 32;case St:return 268435456;default:return 32}default:return 32}}var K_=!1,Pa=null,Na=null,La=null,mh=new Map,yh=new Map,ja=[],eP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KE(a,o){switch(a){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":La=null;break;case"pointerover":case"pointerout":mh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":yh.delete(o.pointerId)}}function _h(a,o,u,f,m,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[m]},o!==null&&(o=Cs(o),o!==null&&YE(o)),a):(a.eventSystemFlags|=f,o=a.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),a)}function nP(a,o,u,f,m){switch(o){case"focusin":return Pa=_h(Pa,a,o,u,f,m),!0;case"dragenter":return Na=_h(Na,a,o,u,f,m),!0;case"mouseover":return La=_h(La,a,o,u,f,m),!0;case"pointerover":var b=m.pointerId;return mh.set(b,_h(mh.get(b)||null,a,o,u,f,m)),!0;case"gotpointercapture":return b=m.pointerId,yh.set(b,_h(yh.get(b)||null,a,o,u,f,m)),!0}return!1}function XE(a){var o=mr(a.target);if(o!==null){var u=r(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,da(a.priority,function(){if(u.tag===13){var f=Pi();f=Rs(f);var m=Zl(u,f);m!==null&&Ni(m,u,f),H_(u,f)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function _p(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=Y_(a.nativeEvent);if(u===null){u=a.nativeEvent;var f=new u.constructor(u.type,u);vr=f,u.target.dispatchEvent(f),vr=null}else return o=Cs(u),o!==null&&YE(o),a.blockedOn=u,!1;o.shift()}return!0}function QE(a,o,u){_p(a)&&u.delete(o)}function iP(){K_=!1,Pa!==null&&_p(Pa)&&(Pa=null),Na!==null&&_p(Na)&&(Na=null),La!==null&&_p(La)&&(La=null),mh.forEach(QE),yh.forEach(QE)}function bp(a,o){a.blockedOn===o&&(a.blockedOn=null,K_||(K_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,iP)))}var vp=null;function ZE(a){vp!==a&&(vp=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){vp===a&&(vp=null);for(var o=0;o<a.length;o+=3){var u=a[o],f=a[o+1],m=a[o+2];if(typeof f!="function"){if(G_(f||u)===null)continue;break}var b=Cs(u);b!==null&&(a.splice(o,3),o-=3,Gy(b,{pending:!0,data:m,method:u.method,action:f},f,m))}}))}function bh(a){function o(W){return bp(W,a)}Pa!==null&&bp(Pa,a),Na!==null&&bp(Na,a),La!==null&&bp(La,a),mh.forEach(o),yh.forEach(o);for(var u=0;u<ja.length;u++){var f=ja[u];f.blockedOn===a&&(f.blockedOn=null)}for(;0<ja.length&&(u=ja[0],u.blockedOn===null);)XE(u),u.blockedOn===null&&ja.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var m=u[f],b=u[f+1],R=m[on]||null;if(typeof b=="function")R||ZE(u);else if(R){var I=null;if(b&&b.hasAttribute("formAction")){if(m=b,R=b[on]||null)I=R.formAction;else if(G_(m)!==null)continue}else I=R.action;typeof I=="function"?u[f+1]=I:(u.splice(f,3),f-=3),ZE(u)}}}function X_(a){this._internalRoot=a}xp.prototype.render=X_.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,f=Pi();HE(u,f,a,o,null,null)},xp.prototype.unmount=X_.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;HE(a.current,2,null,a,null,null),np(),o[qi]=null}};function xp(a){this._internalRoot=a}xp.prototype.unstable_scheduleHydration=function(a){if(a){var o=Bi();a={blockedOn:null,target:a,priority:o};for(var u=0;u<ja.length&&o!==0&&o<ja[u].priority;u++);ja.splice(u,0,a),u===0&&XE(a)}};var JE=t.version;if(JE!=="19.1.0")throw Error(i(527,JE,"19.1.0"));J.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=h(o),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var sP={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wp.isDisabled&&wp.supportsFiber)try{de=wp.inject(sP),Jt=wp}catch{}}return xh.createRoot=function(a,o){if(!s(a))throw Error(i(299));var u=!1,f="",m=g1,b=m1,R=y1,I=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks)),o=qE(a,1,!1,null,null,u,f,m,b,R,I,null),a[qi]=o.current,I_(a),new X_(o)},xh.hydrateRoot=function(a,o,u){if(!s(a))throw Error(i(299));var f=!1,m="",b=g1,R=m1,I=y1,W=null,rt=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&(I=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(W=u.unstable_transitionCallbacks),u.formState!==void 0&&(rt=u.formState)),o=qE(a,1,!0,o,u??null,f,m,b,R,I,W,rt),o.context=$E(null),u=o.current,f=Pi(),f=Rs(f),m=va(f),m.callback=null,xa(u,m,f),u=f,o.current.lanes=u,he(o,u),qs(o),a[qi]=o.current,I_(a),new xp(o)},xh.version="19.1.0",xh}var cS;function mP(){if(cS)return J_.exports;cS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),J_.exports=gP(),J_.exports}var yP=mP();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uS="popstate";function _P(e={}){function t(s,r){let{pathname:l="/",search:c="",hash:h=""}=Cl(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),t0("",{pathname:l,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){let l=s.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let h=s.location.href,d=h.indexOf("#");c=d===-1?h:h.slice(0,d)}return c+"#"+(typeof r=="string"?r:dd(r))}function i(s,r){Fi(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(r)})`)}return vP(t,n,i,e)}function qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bP(){return Math.random().toString(36).substring(2,10)}function hS(e,t){return{usr:e.state,key:e.key,idx:t}}function t0(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Cl(t):t,state:n,key:t&&t.key||i||bP()}}function dd({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Cl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function vP(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,l=s.history,c="POP",h=null,d=p();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function p(){return(l.state||{idx:null}).idx}function y(){c="POP";let T=p(),D=T==null?null:T-d;d=T,h&&h({action:c,location:S.location,delta:D})}function _(T,D){c="PUSH";let M=t0(S.location,T,D);n&&n(M,T),d=p()+1;let P=hS(M,d),$=S.createHref(M);try{l.pushState(P,"",$)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign($)}r&&h&&h({action:c,location:S.location,delta:1})}function x(T,D){c="REPLACE";let M=t0(S.location,T,D);n&&n(M,T),d=p();let P=hS(M,d),$=S.createHref(M);l.replaceState(P,"",$),r&&h&&h({action:c,location:S.location,delta:0})}function E(T){return xP(T)}let S={get action(){return c},get location(){return e(s,l)},listen(T){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(uS,y),h=T,()=>{s.removeEventListener(uS,y),h=null}},createHref(T){return t(s,T)},createURL:E,encodeLocation(T){let D=E(T);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:_,replace:x,go(T){return l.go(T)}};return S}function xP(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qe(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:dd(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function TR(e,t,n="/"){return wP(e,t,n,!1)}function wP(e,t,n,i){let s=typeof t=="string"?Cl(t):t,r=ea(s.pathname||"/",n);if(r==null)return null;let l=AR(e);EP(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let d=PP(r);c=IP(l[h],d,i)}return c}function AR(e,t=[],n=[],i=""){let s=(r,l,c)=>{let h={relativePath:c===void 0?r.path||"":c,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};h.relativePath.startsWith("/")&&(qe(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let d=Zr([i,h.relativePath]),p=n.concat(h);r.children&&r.children.length>0&&(qe(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),AR(r.children,t,p,d)),!(r.path==null&&!r.index)&&t.push({path:d,score:DP(d,r.index),routesMeta:p})};return e.forEach((r,l)=>{var c;if(r.path===""||!((c=r.path)!=null&&c.includes("?")))s(r,l);else for(let h of kR(r.path))s(r,l,h)}),t}function kR(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let l=kR(i.join("/")),c=[];return c.push(...l.map(h=>h===""?r:[r,h].join("/"))),s&&c.push(...l),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function EP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:MP(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var SP=/^:[\w-]+$/,TP=3,AP=2,kP=1,RP=10,CP=-2,dS=e=>e==="*";function DP(e,t){let n=e.split("/"),i=n.length;return n.some(dS)&&(i+=CP),t&&(i+=AP),n.filter(s=>!dS(s)).reduce((s,r)=>s+(SP.test(r)?TP:r===""?kP:RP),i)}function MP(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function IP(e,t,n=!1){let{routesMeta:i}=e,s={},r="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],d=c===i.length-1,p=r==="/"?t:t.slice(r.length)||"/",y=Ig({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},p),_=h.route;if(!y&&d&&n&&!i[i.length-1].route.index&&(y=Ig({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:Zr([r,y.pathname]),pathnameBase:VP(Zr([r,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(r=Zr([r,y.pathnameBase]))}return l}function Ig(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=OP(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let r=s[0],l=r.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((d,{paramName:p,isOptional:y},_)=>{if(p==="*"){let E=c[_]||"";l=r.slice(0,r.length-E.length).replace(/(.)\/+$/,"$1")}const x=c[_];return y&&!x?d[p]=void 0:d[p]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:l,pattern:e}}function OP(e,t=!1,n=!0){Fi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function PP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ea(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function NP(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?Cl(e):e;return{pathname:n?n.startsWith("/")?n:LP(n,t):t,search:UP(i),hash:zP(s)}}function LP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ib(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function rv(e){let t=jP(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function av(e,t,n,i=!1){let s;typeof e=="string"?s=Cl(e):(s={...e},qe(!s.pathname||!s.pathname.includes("?"),ib("?","pathname","search",s)),qe(!s.pathname||!s.pathname.includes("#"),ib("#","pathname","hash",s)),qe(!s.search||!s.search.includes("#"),ib("#","search","hash",s)));let r=e===""||s.pathname==="",l=r?"/":s.pathname,c;if(l==null)c=n;else{let y=t.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;s.pathname=_.join("/")}c=y>=0?t[y]:"/"}let h=NP(s,c),d=l&&l!=="/"&&l.endsWith("/"),p=(r||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(d||p)&&(h.pathname+="/"),h}var Zr=e=>e.join("/").replace(/\/\/+/g,"/"),VP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),UP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function FP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var RR=["POST","PUT","PATCH","DELETE"];new Set(RR);var BP=["GET",...RR];new Set(BP);var au=j.createContext(null);au.displayName="DataRouter";var hm=j.createContext(null);hm.displayName="DataRouterState";j.createContext(!1);var CR=j.createContext({isTransitioning:!1});CR.displayName="ViewTransition";var qP=j.createContext(new Map);qP.displayName="Fetchers";var $P=j.createContext(null);$P.displayName="Await";var Ts=j.createContext(null);Ts.displayName="Navigation";var jd=j.createContext(null);jd.displayName="Location";var ar=j.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var ov=j.createContext(null);ov.displayName="RouteError";function HP(e,{relative:t}={}){qe(ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=j.useContext(Ts),{hash:s,pathname:r,search:l}=Vd(e,{relative:t}),c=r;return n!=="/"&&(c=r==="/"?n:Zr([n,r])),i.createHref({pathname:c,search:l,hash:s})}function ou(){return j.useContext(jd)!=null}function As(){return qe(ou(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(jd).location}var DR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function MR(e){j.useContext(Ts).static||j.useLayoutEffect(e)}function yo(){let{isDataRoute:e}=j.useContext(ar);return e?sN():WP()}function WP(){qe(ou(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(au),{basename:t,navigator:n}=j.useContext(Ts),{matches:i}=j.useContext(ar),{pathname:s}=As(),r=JSON.stringify(rv(i)),l=j.useRef(!1);return MR(()=>{l.current=!0}),j.useCallback((h,d={})=>{if(Fi(l.current,DR),!l.current)return;if(typeof h=="number"){n.go(h);return}let p=av(h,JSON.parse(r),s,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Zr([t,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[t,n,r,s,e])}j.createContext(null);function Vd(e,{relative:t}={}){let{matches:n}=j.useContext(ar),{pathname:i}=As(),s=JSON.stringify(rv(n));return j.useMemo(()=>av(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function YP(e,t){return IR(e,t)}function IR(e,t,n,i){var D;qe(ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(Ts),{matches:r}=j.useContext(ar),l=r[r.length-1],c=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",p=l&&l.route;{let M=p&&p.path||"";OR(h,!p||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let y=As(),_;if(t){let M=typeof t=="string"?Cl(t):t;qe(d==="/"||((D=M.pathname)==null?void 0:D.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${M.pathname}" was given in the \`location\` prop.`),_=M}else _=y;let x=_.pathname||"/",E=x;if(d!=="/"){let M=d.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(M.length).join("/")}let S=TR(e,{pathname:E});Fi(p||S!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Fi(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=ZP(S&&S.map(M=>Object.assign({},M,{params:Object.assign({},c,M.params),pathname:Zr([d,s.encodeLocation?s.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?d:Zr([d,s.encodeLocation?s.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),r,n,i);return t&&T?j.createElement(jd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},T):T}function GP(){let e=iN(),t=FP(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:r},"ErrorBoundary")," or"," ",j.createElement("code",{style:r},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:s},n):null,l)}var KP=j.createElement(GP,null),XP=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?j.createElement(ar.Provider,{value:this.props.routeContext},j.createElement(ov.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function QP({routeContext:e,match:t,children:n}){let i=j.useContext(au);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(ar.Provider,{value:e},n)}function ZP(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,r=n==null?void 0:n.errors;if(r!=null){let h=s.findIndex(d=>d.route.id&&(r==null?void 0:r[d.route.id])!==void 0);qe(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(n)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:p,errors:y}=n,_=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||_){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,d,p)=>{let y,_=!1,x=null,E=null;n&&(y=r&&d.route.id?r[d.route.id]:void 0,x=d.route.errorElement||KP,l&&(c<0&&p===0?(OR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):c===p&&(_=!0,E=d.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,p+1)),T=()=>{let D;return y?D=x:_?D=E:d.route.Component?D=j.createElement(d.route.Component,null):d.route.element?D=d.route.element:D=h,j.createElement(QP,{match:d,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:D})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?j.createElement(XP,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}function lv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JP(e){let t=j.useContext(au);return qe(t,lv(e)),t}function tN(e){let t=j.useContext(hm);return qe(t,lv(e)),t}function eN(e){let t=j.useContext(ar);return qe(t,lv(e)),t}function cv(e){let t=eN(e),n=t.matches[t.matches.length-1];return qe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function nN(){return cv("useRouteId")}function iN(){var i;let e=j.useContext(ov),t=tN("useRouteError"),n=cv("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function sN(){let{router:e}=JP("useNavigate"),t=cv("useNavigate"),n=j.useRef(!1);return MR(()=>{n.current=!0}),j.useCallback(async(s,r={})=>{Fi(n.current,DR),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...r}))},[e,t])}var fS={};function OR(e,t,n){!t&&!fS[e]&&(fS[e]=!0,Fi(!1,n))}j.memo(rN);function rN({routes:e,future:t,state:n}){return IR(e,void 0,n,t)}function sb({to:e,replace:t,state:n,relative:i}){qe(ou(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=j.useContext(Ts);Fi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=j.useContext(ar),{pathname:l}=As(),c=yo(),h=av(e,rv(r),l,i==="path"),d=JSON.stringify(h);return j.useEffect(()=>{c(JSON.parse(d),{replace:t,state:n,relative:i})},[c,d,i,t,n]),null}function rl(e){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aN({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:r=!1}){qe(!ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:l,navigator:s,static:r,future:{}}),[l,s,r]);typeof n=="string"&&(n=Cl(n));let{pathname:h="/",search:d="",hash:p="",state:y=null,key:_="default"}=n,x=j.useMemo(()=>{let E=ea(h,l);return E==null?null:{location:{pathname:E,search:d,hash:p,state:y,key:_},navigationType:i}},[l,h,d,p,y,_,i]);return Fi(x!=null,`<Router basename="${l}"> is not able to match the URL "${h}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:j.createElement(Ts.Provider,{value:c},j.createElement(jd.Provider,{children:t,value:x}))}function oN({children:e,location:t}){return YP(e0(e),t)}function e0(e,t=[]){let n=[];return j.Children.forEach(e,(i,s)=>{if(!j.isValidElement(i))return;let r=[...t,s];if(i.type===j.Fragment){n.push.apply(n,e0(i.props.children,r));return}qe(i.type===rl,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=e0(i.props.children,r)),n.push(l)}),n}var ag="get",og="application/x-www-form-urlencoded";function dm(e){return e!=null&&typeof e.tagName=="string"}function lN(e){return dm(e)&&e.tagName.toLowerCase()==="button"}function cN(e){return dm(e)&&e.tagName.toLowerCase()==="form"}function uN(e){return dm(e)&&e.tagName.toLowerCase()==="input"}function hN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function dN(e,t){return e.button===0&&(!t||t==="_self")&&!hN(e)}function n0(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(s=>[n,s]):[[n,i]])},[]))}function fN(e,t){let n=n0(e);return t&&t.forEach((i,s)=>{n.has(s)||t.getAll(s).forEach(r=>{n.append(s,r)})}),n}var Ep=null;function pN(){if(Ep===null)try{new FormData(document.createElement("form"),0),Ep=!1}catch{Ep=!0}return Ep}var gN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rb(e){return e!=null&&!gN.has(e)?(Fi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${og}"`),null):e}function mN(e,t){let n,i,s,r,l;if(cN(e)){let c=e.getAttribute("action");i=c?ea(c,t):null,n=e.getAttribute("method")||ag,s=rb(e.getAttribute("enctype"))||og,r=new FormData(e)}else if(lN(e)||uN(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||c.getAttribute("action");if(i=h?ea(h,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||ag,s=rb(e.getAttribute("formenctype"))||rb(c.getAttribute("enctype"))||og,r=new FormData(c,e),!pN()){let{name:d,type:p,value:y}=e;if(p==="image"){let _=d?`${d}.`:"";r.append(`${_}x`,"0"),r.append(`${_}y`,"0")}else d&&r.append(d,y)}}else{if(dm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ag,i=null,s=og,l=e}return r&&s==="text/plain"&&(l=r,r=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:r,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yN(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&ea(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function _N(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function vN(e,t,n){let i=await Promise.all(e.map(async s=>{let r=t.routes[s.route.id];if(r){let l=await _N(r,n);return l.links?l.links():[]}return[]}));return SN(i.flat(1).filter(bN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function pS(e,t,n,i,s,r){let l=(h,d)=>n[d]?h.route.id!==n[d].route.id:!0,c=(h,d)=>{var p;return n[d].pathname!==h.pathname||((p=n[d].route.path)==null?void 0:p.endsWith("*"))&&n[d].params["*"]!==h.params["*"]};return r==="assets"?t.filter((h,d)=>l(h,d)||c(h,d)):r==="data"?t.filter((h,d)=>{var y;let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function xN(e,t,{includeHydrateFallback:n}={}){return wN(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function wN(e){return[...new Set(e)]}function EN(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function SN(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let r=JSON.stringify(EN(s));return n.has(r)||(n.add(r),i.push({key:r,link:s})),i},[])}function PR(){let e=j.useContext(au);return uv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function TN(){let e=j.useContext(hm);return uv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var hv=j.createContext(void 0);hv.displayName="FrameworkContext";function NR(){let e=j.useContext(hv);return uv(e,"You must render this element inside a <HydratedRouter> element"),e}function AN(e,t){let n=j.useContext(hv),[i,s]=j.useState(!1),[r,l]=j.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:p,onTouchStart:y}=t,_=j.useRef(null);j.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let S=D=>{D.forEach(M=>{l(M.isIntersecting)})},T=new IntersectionObserver(S,{threshold:.5});return _.current&&T.observe(_.current),()=>{T.disconnect()}}},[e]),j.useEffect(()=>{if(i){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[i]);let x=()=>{s(!0)},E=()=>{s(!1),l(!1)};return n?e!=="intent"?[r,_,{}]:[r,_,{onFocus:wh(c,x),onBlur:wh(h,E),onMouseEnter:wh(d,x),onMouseLeave:wh(p,E),onTouchStart:wh(y,x)}]:[!1,_,{}]}function wh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function kN({page:e,...t}){let{router:n}=PR(),i=j.useMemo(()=>TR(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?j.createElement(CN,{page:e,matches:i,...t}):null}function RN(e){let{manifest:t,routeModules:n}=NR(),[i,s]=j.useState([]);return j.useEffect(()=>{let r=!1;return vN(e,t,n).then(l=>{r||s(l)}),()=>{r=!0}},[e,t,n]),i}function CN({page:e,matches:t,...n}){let i=As(),{manifest:s,routeModules:r}=NR(),{basename:l}=PR(),{loaderData:c,matches:h}=TN(),d=j.useMemo(()=>pS(e,t,h,s,i,"data"),[e,t,h,s,i]),p=j.useMemo(()=>pS(e,t,h,s,i,"assets"),[e,t,h,s,i]),y=j.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let E=new Set,S=!1;if(t.forEach(D=>{var P;let M=s.routes[D.route.id];!M||!M.hasLoader||(!d.some($=>$.route.id===D.route.id)&&D.route.id in c&&((P=r[D.route.id])!=null&&P.shouldRevalidate)||M.hasClientLoader?S=!0:E.add(D.route.id))}),E.size===0)return[];let T=yN(e,l,"data");return S&&E.size>0&&T.searchParams.set("_routes",t.filter(D=>E.has(D.route.id)).map(D=>D.route.id).join(",")),[T.pathname+T.search]},[l,c,i,s,d,t,e,r]),_=j.useMemo(()=>xN(p,s),[p,s]),x=RN(p);return j.createElement(j.Fragment,null,y.map(E=>j.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),_.map(E=>j.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),x.map(({key:E,link:S})=>j.createElement("link",{key:E,...S})))}function DN(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var LR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LR&&(window.__reactRouterVersion="7.7.0")}catch{}function MN({basename:e,children:t,window:n}){let i=j.useRef();i.current==null&&(i.current=_P({window:n,v5Compat:!0}));let s=i.current,[r,l]=j.useState({action:s.action,location:s.location}),c=j.useCallback(h=>{j.startTransition(()=>l(h))},[l]);return j.useLayoutEffect(()=>s.listen(c),[s,c]),j.createElement(aN,{basename:e,children:t,location:r.location,navigationType:r.action,navigator:s})}var jR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VR=j.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:r,replace:l,state:c,target:h,to:d,preventScrollReset:p,viewTransition:y,..._},x){let{basename:E}=j.useContext(Ts),S=typeof d=="string"&&jR.test(d),T,D=!1;if(typeof d=="string"&&S&&(T=d,LR))try{let O=new URL(window.location.href),V=d.startsWith("//")?new URL(O.protocol+d):new URL(d),F=ea(V.pathname,E);V.origin===O.origin&&F!=null?d=F+V.search+V.hash:D=!0}catch{Fi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=HP(d,{relative:s}),[P,$,N]=AN(i,_),G=NN(d,{replace:l,state:c,target:h,preventScrollReset:p,relative:s,viewTransition:y});function C(O){t&&t(O),O.defaultPrevented||G(O)}let k=j.createElement("a",{..._,...N,href:T||M,onClick:D||r?t:C,ref:DN(x,$),target:h,"data-discover":!S&&n==="render"?"true":void 0});return P&&!S?j.createElement(j.Fragment,null,k,j.createElement(kN,{page:M})):k});VR.displayName="Link";var IN=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:r,to:l,viewTransition:c,children:h,...d},p){let y=Vd(l,{relative:d.relative}),_=As(),x=j.useContext(hm),{navigator:E,basename:S}=j.useContext(Ts),T=x!=null&&zN(y)&&c===!0,D=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,M=_.pathname,P=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(M=M.toLowerCase(),P=P?P.toLowerCase():null,D=D.toLowerCase()),P&&S&&(P=ea(P,S)||P);const $=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let N=M===D||!s&&M.startsWith(D)&&M.charAt($)==="/",G=P!=null&&(P===D||!s&&P.startsWith(D)&&P.charAt(D.length)==="/"),C={isActive:N,isPending:G,isTransitioning:T},k=N?t:void 0,O;typeof i=="function"?O=i(C):O=[i,N?"active":null,G?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let V=typeof r=="function"?r(C):r;return j.createElement(VR,{...d,"aria-current":k,className:O,ref:p,style:V,to:l,viewTransition:c},typeof h=="function"?h(C):h)});IN.displayName="NavLink";var ON=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:r,method:l=ag,action:c,onSubmit:h,relative:d,preventScrollReset:p,viewTransition:y,..._},x)=>{let E=VN(),S=UN(c,{relative:d}),T=l.toLowerCase()==="get"?"get":"post",D=typeof c=="string"&&jR.test(c),M=P=>{if(h&&h(P),P.defaultPrevented)return;P.preventDefault();let $=P.nativeEvent.submitter,N=($==null?void 0:$.getAttribute("formmethod"))||l;E($||P.currentTarget,{fetcherKey:t,method:N,navigate:n,replace:s,state:r,relative:d,preventScrollReset:p,viewTransition:y})};return j.createElement("form",{ref:x,method:T,action:S,onSubmit:i?h:M,..._,"data-discover":!D&&e==="render"?"true":void 0})});ON.displayName="Form";function PN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UR(e){let t=j.useContext(au);return qe(t,PN(e)),t}function NN(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:r,viewTransition:l}={}){let c=yo(),h=As(),d=Vd(e,{relative:r});return j.useCallback(p=>{if(dN(p,t)){p.preventDefault();let y=n!==void 0?n:dd(h)===dd(d);c(e,{replace:y,state:i,preventScrollReset:s,relative:r,viewTransition:l})}},[h,c,d,n,i,t,e,s,r,l])}function fm(e){Fi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=j.useRef(n0(e)),n=j.useRef(!1),i=As(),s=j.useMemo(()=>fN(i.search,n.current?null:t.current),[i.search]),r=yo(),l=j.useCallback((c,h)=>{const d=n0(typeof c=="function"?c(new URLSearchParams(s)):c);n.current=!0,r("?"+d,h)},[r,s]);return[s,l]}var LN=0,jN=()=>`__${String(++LN)}__`;function VN(){let{router:e}=UR("useSubmit"),{basename:t}=j.useContext(Ts),n=nN();return j.useCallback(async(i,s={})=>{let{action:r,method:l,encType:c,formData:h,body:d}=mN(i,t);if(s.navigate===!1){let p=s.fetcherKey||jN();await e.fetch(p,n,s.action||r,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await e.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function UN(e,{relative:t}={}){let{basename:n}=j.useContext(Ts),i=j.useContext(ar);qe(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...Vd(e||".",{relative:t})},l=As();if(e==null){r.search=l.search;let c=new URLSearchParams(r.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();r.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:Zr([n,r.pathname])),dd(r)}function zN(e,t={}){let n=j.useContext(CR);qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=UR("useViewTransitionState"),s=Vd(e,{relative:t.relative});if(!n.isTransitioning)return!1;let r=ea(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=ea(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Ig(s.pathname,l)!=null||Ig(s.pathname,r)!=null}var FN=SR(),Un=function(){return Un=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Un.apply(this,arguments)};function fd(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,r;i<s;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var Ne="-ms-",Xh="-moz-",_e="-webkit-",zR="comm",pm="rule",dv="decl",BN="@import",FR="@keyframes",qN="@layer",BR=Math.abs,fv=String.fromCharCode,i0=Object.assign;function $N(e,t){return Vn(e,0)^45?(((t<<2^Vn(e,0))<<2^Vn(e,1))<<2^Vn(e,2))<<2^Vn(e,3):0}function qR(e){return e.trim()}function Br(e,t){return(e=t.exec(e))?e[0]:e}function Kt(e,t,n){return e.replace(t,n)}function lg(e,t,n){return e.indexOf(t,n)}function Vn(e,t){return e.charCodeAt(t)|0}function Bc(e,t,n){return e.slice(t,n)}function Ks(e){return e.length}function $R(e){return e.length}function jh(e,t){return t.push(e),e}function HN(e,t){return e.map(t).join("")}function gS(e,t){return e.filter(function(n){return!Br(n,t)})}var gm=1,qc=1,HR=0,as=0,gn=0,lu="";function mm(e,t,n,i,s,r,l,c){return{value:e,root:t,parent:n,type:i,props:s,children:r,line:gm,column:qc,length:l,return:"",siblings:c}}function qa(e,t){return i0(mm("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Ec(e){for(;e.root;)e=qa(e.root,{children:[e]});jh(e,e.siblings)}function WN(){return gn}function YN(){return gn=as>0?Vn(lu,--as):0,qc--,gn===10&&(qc=1,gm--),gn}function vs(){return gn=as<HR?Vn(lu,as++):0,qc++,gn===10&&(qc=1,gm++),gn}function pl(){return Vn(lu,as)}function cg(){return as}function ym(e,t){return Bc(lu,e,t)}function s0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function GN(e){return gm=qc=1,HR=Ks(lu=e),as=0,[]}function KN(e){return lu="",e}function ab(e){return qR(ym(as-1,r0(e===91?e+2:e===40?e+1:e)))}function XN(e){for(;(gn=pl())&&gn<33;)vs();return s0(e)>2||s0(gn)>3?"":" "}function QN(e,t){for(;--t&&vs()&&!(gn<48||gn>102||gn>57&&gn<65||gn>70&&gn<97););return ym(e,cg()+(t<6&&pl()==32&&vs()==32))}function r0(e){for(;vs();)switch(gn){case e:return as;case 34:case 39:e!==34&&e!==39&&r0(gn);break;case 40:e===41&&r0(e);break;case 92:vs();break}return as}function ZN(e,t){for(;vs()&&e+gn!==57;)if(e+gn===84&&pl()===47)break;return"/*"+ym(t,as-1)+"*"+fv(e===47?e:vs())}function JN(e){for(;!s0(pl());)vs();return ym(e,as)}function tL(e){return KN(ug("",null,null,null,[""],e=GN(e),0,[0],e))}function ug(e,t,n,i,s,r,l,c,h){for(var d=0,p=0,y=l,_=0,x=0,E=0,S=1,T=1,D=1,M=0,P="",$=s,N=r,G=i,C=P;T;)switch(E=M,M=vs()){case 40:if(E!=108&&Vn(C,y-1)==58){lg(C+=Kt(ab(M),"&","&\f"),"&\f",BR(d?c[d-1]:0))!=-1&&(D=-1);break}case 34:case 39:case 91:C+=ab(M);break;case 9:case 10:case 13:case 32:C+=XN(E);break;case 92:C+=QN(cg()-1,7);continue;case 47:switch(pl()){case 42:case 47:jh(eL(ZN(vs(),cg()),t,n,h),h);break;default:C+="/"}break;case 123*S:c[d++]=Ks(C)*D;case 125*S:case 59:case 0:switch(M){case 0:case 125:T=0;case 59+p:D==-1&&(C=Kt(C,/\f/g,"")),x>0&&Ks(C)-y&&jh(x>32?yS(C+";",i,n,y-1,h):yS(Kt(C," ","")+";",i,n,y-2,h),h);break;case 59:C+=";";default:if(jh(G=mS(C,t,n,d,p,s,c,P,$=[],N=[],y,r),r),M===123)if(p===0)ug(C,t,G,G,$,r,y,c,N);else switch(_===99&&Vn(C,3)===110?100:_){case 100:case 108:case 109:case 115:ug(e,G,G,i&&jh(mS(e,G,G,0,0,s,c,P,s,$=[],y,N),N),s,N,y,c,i?$:N);break;default:ug(C,G,G,G,[""],N,0,c,N)}}d=p=x=0,S=D=1,P=C="",y=l;break;case 58:y=1+Ks(C),x=E;default:if(S<1){if(M==123)--S;else if(M==125&&S++==0&&YN()==125)continue}switch(C+=fv(M),M*S){case 38:D=p>0?1:(C+="\f",-1);break;case 44:c[d++]=(Ks(C)-1)*D,D=1;break;case 64:pl()===45&&(C+=ab(vs())),_=pl(),p=y=Ks(P=C+=JN(cg())),M++;break;case 45:E===45&&Ks(C)==2&&(S=0)}}return r}function mS(e,t,n,i,s,r,l,c,h,d,p,y){for(var _=s-1,x=s===0?r:[""],E=$R(x),S=0,T=0,D=0;S<i;++S)for(var M=0,P=Bc(e,_+1,_=BR(T=l[S])),$=e;M<E;++M)($=qR(T>0?x[M]+" "+P:Kt(P,/&\f/g,x[M])))&&(h[D++]=$);return mm(e,t,n,s===0?pm:c,h,d,p,y)}function eL(e,t,n,i){return mm(e,t,n,zR,fv(WN()),Bc(e,2,-2),0,i)}function yS(e,t,n,i,s){return mm(e,t,n,dv,Bc(e,0,i),Bc(e,i+1,-1),i,s)}function WR(e,t,n){switch($N(e,t)){case 5103:return _e+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _e+e+e;case 4789:return Xh+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return _e+e+Xh+e+Ne+e+e;case 5936:switch(Vn(e,t+11)){case 114:return _e+e+Ne+Kt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return _e+e+Ne+Kt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return _e+e+Ne+Kt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return _e+e+Ne+e+e;case 6165:return _e+e+Ne+"flex-"+e+e;case 5187:return _e+e+Kt(e,/(\w+).+(:[^]+)/,_e+"box-$1$2"+Ne+"flex-$1$2")+e;case 5443:return _e+e+Ne+"flex-item-"+Kt(e,/flex-|-self/g,"")+(Br(e,/flex-|baseline/)?"":Ne+"grid-row-"+Kt(e,/flex-|-self/g,""))+e;case 4675:return _e+e+Ne+"flex-line-pack"+Kt(e,/align-content|flex-|-self/g,"")+e;case 5548:return _e+e+Ne+Kt(e,"shrink","negative")+e;case 5292:return _e+e+Ne+Kt(e,"basis","preferred-size")+e;case 6060:return _e+"box-"+Kt(e,"-grow","")+_e+e+Ne+Kt(e,"grow","positive")+e;case 4554:return _e+Kt(e,/([^-])(transform)/g,"$1"+_e+"$2")+e;case 6187:return Kt(Kt(Kt(e,/(zoom-|grab)/,_e+"$1"),/(image-set)/,_e+"$1"),e,"")+e;case 5495:case 3959:return Kt(e,/(image-set\([^]*)/,_e+"$1$`$1");case 4968:return Kt(Kt(e,/(.+:)(flex-)?(.*)/,_e+"box-pack:$3"+Ne+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_e+e+e;case 4200:if(!Br(e,/flex-|baseline/))return Ne+"grid-column-align"+Bc(e,t)+e;break;case 2592:case 3360:return Ne+Kt(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(i,s){return t=s,Br(i.props,/grid-\w+-end/)})?~lg(e+(n=n[t].value),"span",0)?e:Ne+Kt(e,"-start","")+e+Ne+"grid-row-span:"+(~lg(n,"span",0)?Br(n,/\d+/):+Br(n,/\d+/)-+Br(e,/\d+/))+";":Ne+Kt(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(i){return Br(i.props,/grid-\w+-start/)})?e:Ne+Kt(Kt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Kt(e,/(.+)-inline(.+)/,_e+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ks(e)-1-t>6)switch(Vn(e,t+1)){case 109:if(Vn(e,t+4)!==45)break;case 102:return Kt(e,/(.+:)(.+)-([^]+)/,"$1"+_e+"$2-$3$1"+Xh+(Vn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~lg(e,"stretch",0)?WR(Kt(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Kt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,s,r,l,c,h,d){return Ne+s+":"+r+d+(l?Ne+s+"-span:"+(c?h:+h-+r)+d:"")+e});case 4949:if(Vn(e,t+6)===121)return Kt(e,":",":"+_e)+e;break;case 6444:switch(Vn(e,Vn(e,14)===45?18:11)){case 120:return Kt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+_e+(Vn(e,14)===45?"inline-":"")+"box$3$1"+_e+"$2$3$1"+Ne+"$2box$3")+e;case 100:return Kt(e,":",":"+Ne)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Kt(e,"scroll-","scroll-snap-")+e}return e}function Og(e,t){for(var n="",i=0;i<e.length;i++)n+=t(e[i],i,e,t)||"";return n}function nL(e,t,n,i){switch(e.type){case qN:if(e.children.length)break;case BN:case dv:return e.return=e.return||e.value;case zR:return"";case FR:return e.return=e.value+"{"+Og(e.children,i)+"}";case pm:if(!Ks(e.value=e.props.join(",")))return""}return Ks(n=Og(e.children,i))?e.return=e.value+"{"+n+"}":""}function iL(e){var t=$R(e);return function(n,i,s,r){for(var l="",c=0;c<t;c++)l+=e[c](n,i,s,r)||"";return l}}function sL(e){return function(t){t.root||(t=t.return)&&e(t)}}function rL(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case dv:e.return=WR(e.value,e.length,n);return;case FR:return Og([qa(e,{value:Kt(e.value,"@","@"+_e)})],i);case pm:if(e.length)return HN(n=e.props,function(s){switch(Br(s,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ec(qa(e,{props:[Kt(s,/:(read-\w+)/,":"+Xh+"$1")]})),Ec(qa(e,{props:[s]})),i0(e,{props:gS(n,i)});break;case"::placeholder":Ec(qa(e,{props:[Kt(s,/:(plac\w+)/,":"+_e+"input-$1")]})),Ec(qa(e,{props:[Kt(s,/:(plac\w+)/,":"+Xh+"$1")]})),Ec(qa(e,{props:[Kt(s,/:(plac\w+)/,Ne+"input-$1")]})),Ec(qa(e,{props:[s]})),i0(e,{props:gS(n,i)});break}return""})}}var aL={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Li={},$c=typeof process<"u"&&Li!==void 0&&(Li.REACT_APP_SC_ATTR||Li.SC_ATTR)||"data-styled",YR="active",GR="data-styled-version",_m="6.1.19",pv=`/*!sc*/
`,Pg=typeof window<"u"&&typeof document<"u",oL=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Li!==void 0&&Li.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Li.REACT_APP_SC_DISABLE_SPEEDY!==""?Li.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Li.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Li!==void 0&&Li.SC_DISABLE_SPEEDY!==void 0&&Li.SC_DISABLE_SPEEDY!==""&&Li.SC_DISABLE_SPEEDY!=="false"&&Li.SC_DISABLE_SPEEDY),lL={},bm=Object.freeze([]),Hc=Object.freeze({});function KR(e,t,n){return n===void 0&&(n=Hc),e.theme!==n.theme&&e.theme||t||n.theme}var XR=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),cL=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,uL=/(^-|-$)/g;function _S(e){return e.replace(cL,"-").replace(uL,"")}var hL=/(a)(d)/gi,Sp=52,bS=function(e){return String.fromCharCode(e+(e>25?39:97))};function a0(e){var t,n="";for(t=Math.abs(e);t>Sp;t=t/Sp|0)n=bS(t%Sp)+n;return(bS(t%Sp)+n).replace(hL,"$1-$2")}var ob,QR=5381,Ic=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},ZR=function(e){return Ic(QR,e)};function JR(e){return a0(ZR(e)>>>0)}function dL(e){return e.displayName||e.name||"Component"}function lb(e){return typeof e=="string"&&!0}var tC=typeof Symbol=="function"&&Symbol.for,eC=tC?Symbol.for("react.memo"):60115,fL=tC?Symbol.for("react.forward_ref"):60112,pL={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},gL={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},nC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mL=((ob={})[fL]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ob[eC]=nC,ob);function vS(e){return("type"in(t=e)&&t.type.$$typeof)===eC?nC:"$$typeof"in e?mL[e.$$typeof]:pL;var t}var yL=Object.defineProperty,_L=Object.getOwnPropertyNames,xS=Object.getOwnPropertySymbols,bL=Object.getOwnPropertyDescriptor,vL=Object.getPrototypeOf,wS=Object.prototype;function iC(e,t,n){if(typeof t!="string"){if(wS){var i=vL(t);i&&i!==wS&&iC(e,i,n)}var s=_L(t);xS&&(s=s.concat(xS(t)));for(var r=vS(e),l=vS(t),c=0;c<s.length;++c){var h=s[c];if(!(h in gL||n&&n[h]||l&&h in l||r&&h in r)){var d=bL(t,h);try{yL(e,h,d)}catch{}}}}return e}function bl(e){return typeof e=="function"}function gv(e){return typeof e=="object"&&"styledComponentId"in e}function ul(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function o0(e,t){if(e.length===0)return"";for(var n=e[0],i=1;i<e.length;i++)n+=e[i];return n}function pd(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function l0(e,t,n){if(n===void 0&&(n=!1),!n&&!pd(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var i=0;i<t.length;i++)e[i]=l0(e[i],t[i]);else if(pd(t))for(var i in t)e[i]=l0(e[i],t[i]);return e}function mv(e,t){Object.defineProperty(e,"toString",{value:t})}function vl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var xL=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,i=0;i<t;i++)n+=this.groupSizes[i];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,r=s;t>=r;)if((r<<=1)<0)throw vl(16,"".concat(t));this.groupSizes=new Uint32Array(r),this.groupSizes.set(i),this.length=r;for(var l=s;l<r;l++)this.groupSizes[l]=0}for(var c=this.indexOfGroup(t+1),h=(l=0,n.length);l<h;l++)this.tag.insertRule(c,n[l])&&(this.groupSizes[t]++,c++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],i=this.indexOfGroup(t),s=i+n;this.groupSizes[t]=0;for(var r=i;r<s;r++)this.tag.deleteRule(i)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var i=this.groupSizes[t],s=this.indexOfGroup(t),r=s+i,l=s;l<r;l++)n+="".concat(this.tag.getRule(l)).concat(pv);return n},e}(),hg=new Map,Ng=new Map,dg=1,Tp=function(e){if(hg.has(e))return hg.get(e);for(;Ng.has(dg);)dg++;var t=dg++;return hg.set(e,t),Ng.set(t,e),t},wL=function(e,t){dg=t+1,hg.set(e,t),Ng.set(t,e)},EL="style[".concat($c,"][").concat(GR,'="').concat(_m,'"]'),SL=new RegExp("^".concat($c,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),TL=function(e,t,n){for(var i,s=n.split(","),r=0,l=s.length;r<l;r++)(i=s[r])&&e.registerName(t,i)},AL=function(e,t){for(var n,i=((n=t.textContent)!==null&&n!==void 0?n:"").split(pv),s=[],r=0,l=i.length;r<l;r++){var c=i[r].trim();if(c){var h=c.match(SL);if(h){var d=0|parseInt(h[1],10),p=h[2];d!==0&&(wL(p,d),TL(e,p,h[3]),e.getTag().insertRules(d,s)),s.length=0}else s.push(c)}}},ES=function(e){for(var t=document.querySelectorAll(EL),n=0,i=t.length;n<i;n++){var s=t[n];s&&s.getAttribute($c)!==YR&&(AL(e,s),s.parentNode&&s.parentNode.removeChild(s))}};function kL(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var sC=function(e){var t=document.head,n=e||t,i=document.createElement("style"),s=function(c){var h=Array.from(c.querySelectorAll("style[".concat($c,"]")));return h[h.length-1]}(n),r=s!==void 0?s.nextSibling:null;i.setAttribute($c,YR),i.setAttribute(GR,_m);var l=kL();return l&&i.setAttribute("nonce",l),n.insertBefore(i,r),i},RL=function(){function e(t){this.element=sC(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var i=document.styleSheets,s=0,r=i.length;s<r;s++){var l=i[s];if(l.ownerNode===n)return l}throw vl(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),CL=function(){function e(t){this.element=sC(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var i=document.createTextNode(n);return this.element.insertBefore(i,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),DL=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),SS=Pg,ML={isServer:!Pg,useCSSOMInjection:!oL},Lg=function(){function e(t,n,i){t===void 0&&(t=Hc),n===void 0&&(n={});var s=this;this.options=Un(Un({},ML),t),this.gs=n,this.names=new Map(i),this.server=!!t.isServer,!this.server&&Pg&&SS&&(SS=!1,ES(this)),mv(this,function(){return function(r){for(var l=r.getTag(),c=l.length,h="",d=function(y){var _=function(D){return Ng.get(D)}(y);if(_===void 0)return"continue";var x=r.names.get(_),E=l.getGroup(y);if(x===void 0||!x.size||E.length===0)return"continue";var S="".concat($c,".g").concat(y,'[id="').concat(_,'"]'),T="";x!==void 0&&x.forEach(function(D){D.length>0&&(T+="".concat(D,","))}),h+="".concat(E).concat(S,'{content:"').concat(T,'"}').concat(pv)},p=0;p<c;p++)d(p);return h}(s)})}return e.registerId=function(t){return Tp(t)},e.prototype.rehydrate=function(){!this.server&&Pg&&ES(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Un(Un({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var i=n.useCSSOMInjection,s=n.target;return n.isServer?new DL(s):i?new RL(s):new CL(s)}(this.options),new xL(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(Tp(t),this.names.has(t))this.names.get(t).add(n);else{var i=new Set;i.add(n),this.names.set(t,i)}},e.prototype.insertRules=function(t,n,i){this.registerName(t,n),this.getTag().insertRules(Tp(t),i)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Tp(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),IL=/&/g,OL=/^\s*\/\/.*$/gm;function rC(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(i){return"".concat(t," ").concat(i)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=rC(n.children,t)),n})}function PL(e){var t,n,i,s=Hc,r=s.options,l=r===void 0?Hc:r,c=s.plugins,h=c===void 0?bm:c,d=function(_,x,E){return E.startsWith(n)&&E.endsWith(n)&&E.replaceAll(n,"").length>0?".".concat(t):_},p=h.slice();p.push(function(_){_.type===pm&&_.value.includes("&")&&(_.props[0]=_.props[0].replace(IL,n).replace(i,d))}),l.prefix&&p.push(rL),p.push(nL);var y=function(_,x,E,S){x===void 0&&(x=""),E===void 0&&(E=""),S===void 0&&(S="&"),t=S,n=x,i=new RegExp("\\".concat(n,"\\b"),"g");var T=_.replace(OL,""),D=tL(E||x?"".concat(E," ").concat(x," { ").concat(T," }"):T);l.namespace&&(D=rC(D,l.namespace));var M=[];return Og(D,iL(p.concat(sL(function(P){return M.push(P)})))),M};return y.hash=h.length?h.reduce(function(_,x){return x.name||vl(15),Ic(_,x.name)},QR).toString():"",y}var NL=new Lg,c0=PL(),aC=Et.createContext({shouldForwardProp:void 0,styleSheet:NL,stylis:c0});aC.Consumer;Et.createContext(void 0);function u0(){return j.useContext(aC)}var LL=function(){function e(t,n){var i=this;this.inject=function(s,r){r===void 0&&(r=c0);var l=i.name+r.hash;s.hasNameForId(i.id,l)||s.insertRules(i.id,l,r(i.rules,l,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,mv(this,function(){throw vl(12,String(i.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=c0),this.name+t.hash},e}(),jL=function(e){return e>="A"&&e<="Z"};function TS(e){for(var t="",n=0;n<e.length;n++){var i=e[n];if(n===1&&i==="-"&&e[0]==="-")return e;jL(i)?t+="-"+i.toLowerCase():t+=i}return t.startsWith("ms-")?"-"+t:t}var oC=function(e){return e==null||e===!1||e===""},lC=function(e){var t,n,i=[];for(var s in e){var r=e[s];e.hasOwnProperty(s)&&!oC(r)&&(Array.isArray(r)&&r.isCss||bl(r)?i.push("".concat(TS(s),":"),r,";"):pd(r)?i.push.apply(i,fd(fd(["".concat(s," {")],lC(r),!1),["}"],!1)):i.push("".concat(TS(s),": ").concat((t=s,(n=r)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in aL||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return i};function Ja(e,t,n,i){if(oC(e))return[];if(gv(e))return[".".concat(e.styledComponentId)];if(bl(e)){if(!bl(r=e)||r.prototype&&r.prototype.isReactComponent||!t)return[e];var s=e(t);return Ja(s,t,n,i)}var r;return e instanceof LL?n?(e.inject(n,i),[e.getName(i)]):[e]:pd(e)?lC(e):Array.isArray(e)?Array.prototype.concat.apply(bm,e.map(function(l){return Ja(l,t,n,i)})):[e.toString()]}function cC(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(bl(n)&&!gv(n))return!1}return!0}var VL=ZR(_m),UL=function(){function e(t,n,i){this.rules=t,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&cC(t),this.componentId=n,this.baseHash=Ic(VL,n),this.baseStyle=i,Lg.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,i){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))s=ul(s,this.staticRulesId);else{var r=o0(Ja(this.rules,t,n,i)),l=a0(Ic(this.baseHash,r)>>>0);if(!n.hasNameForId(this.componentId,l)){var c=i(r,".".concat(l),void 0,this.componentId);n.insertRules(this.componentId,l,c)}s=ul(s,l),this.staticRulesId=l}else{for(var h=Ic(this.baseHash,i.hash),d="",p=0;p<this.rules.length;p++){var y=this.rules[p];if(typeof y=="string")d+=y;else if(y){var _=o0(Ja(y,t,n,i));h=Ic(h,_+p),d+=_}}if(d){var x=a0(h>>>0);n.hasNameForId(this.componentId,x)||n.insertRules(this.componentId,x,i(d,".".concat(x),void 0,this.componentId)),s=ul(s,x)}}return s},e}(),gd=Et.createContext(void 0);gd.Consumer;function zL(e){var t=Et.useContext(gd),n=j.useMemo(function(){return function(i,s){if(!i)throw vl(14);if(bl(i)){var r=i(s);return r}if(Array.isArray(i)||typeof i!="object")throw vl(8);return s?Un(Un({},s),i):i}(e.theme,t)},[e.theme,t]);return e.children?Et.createElement(gd.Provider,{value:n},e.children):null}var cb={};function FL(e,t,n){var i=gv(e),s=e,r=!lb(e),l=t.attrs,c=l===void 0?bm:l,h=t.componentId,d=h===void 0?function($,N){var G=typeof $!="string"?"sc":_S($);cb[G]=(cb[G]||0)+1;var C="".concat(G,"-").concat(JR(_m+G+cb[G]));return N?"".concat(N,"-").concat(C):C}(t.displayName,t.parentComponentId):h,p=t.displayName,y=p===void 0?function($){return lb($)?"styled.".concat($):"Styled(".concat(dL($),")")}(e):p,_=t.displayName&&t.componentId?"".concat(_S(t.displayName),"-").concat(t.componentId):t.componentId||d,x=i&&s.attrs?s.attrs.concat(c).filter(Boolean):c,E=t.shouldForwardProp;if(i&&s.shouldForwardProp){var S=s.shouldForwardProp;if(t.shouldForwardProp){var T=t.shouldForwardProp;E=function($,N){return S($,N)&&T($,N)}}else E=S}var D=new UL(n,_,i?s.componentStyle:void 0);function M($,N){return function(G,C,k){var O=G.attrs,V=G.componentStyle,F=G.defaultProps,H=G.foldedComponentIds,U=G.styledComponentId,kt=G.target,tt=Et.useContext(gd),B=u0(),J=G.shouldForwardProp||B.shouldForwardProp,pt=KR(C,tt,F)||Hc,yt=function(at,Y,ut){for(var bt,xt=Un(Un({},Y),{className:void 0,theme:ut}),Nt=0;Nt<at.length;Nt+=1){var ue=bl(bt=at[Nt])?bt(xt):bt;for(var Se in ue)xt[Se]=Se==="className"?ul(xt[Se],ue[Se]):Se==="style"?Un(Un({},xt[Se]),ue[Se]):ue[Se]}return Y.className&&(xt.className=ul(xt.className,Y.className)),xt}(O,C,pt),q=yt.as||kt,X={};for(var nt in yt)yt[nt]===void 0||nt[0]==="$"||nt==="as"||nt==="theme"&&yt.theme===pt||(nt==="forwardedAs"?X.as=yt.forwardedAs:J&&!J(nt,q)||(X[nt]=yt[nt]));var K=function(at,Y){var ut=u0(),bt=at.generateAndInjectStyles(Y,ut.styleSheet,ut.stylis);return bt}(V,yt),Q=ul(H,U);return K&&(Q+=" "+K),yt.className&&(Q+=" "+yt.className),X[lb(q)&&!XR.has(q)?"class":"className"]=Q,k&&(X.ref=k),j.createElement(q,X)}(P,$,N)}M.displayName=y;var P=Et.forwardRef(M);return P.attrs=x,P.componentStyle=D,P.displayName=y,P.shouldForwardProp=E,P.foldedComponentIds=i?ul(s.foldedComponentIds,s.styledComponentId):"",P.styledComponentId=_,P.target=i?s.target:e,Object.defineProperty(P,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function($){this._foldedDefaultProps=i?function(N){for(var G=[],C=1;C<arguments.length;C++)G[C-1]=arguments[C];for(var k=0,O=G;k<O.length;k++)l0(N,O[k],!0);return N}({},s.defaultProps,$):$}}),mv(P,function(){return".".concat(P.styledComponentId)}),r&&iC(P,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),P}function AS(e,t){for(var n=[e[0]],i=0,s=t.length;i<s;i+=1)n.push(t[i],e[i+1]);return n}var kS=function(e){return Object.assign(e,{isCss:!0})};function uC(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(bl(e)||pd(e))return kS(Ja(AS(bm,fd([e],t,!0))));var i=e;return t.length===0&&i.length===1&&typeof i[0]=="string"?Ja(i):kS(Ja(AS(i,t)))}function h0(e,t,n){if(n===void 0&&(n=Hc),!t)throw vl(1,t);var i=function(s){for(var r=[],l=1;l<arguments.length;l++)r[l-1]=arguments[l];return e(t,n,uC.apply(void 0,fd([s],r,!1)))};return i.attrs=function(s){return h0(e,t,Un(Un({},n),{attrs:Array.prototype.concat(n.attrs,s).filter(Boolean)}))},i.withConfig=function(s){return h0(e,t,Un(Un({},n),s))},i}var hC=function(e){return h0(FL,e)},z=hC;XR.forEach(function(e){z[e]=hC(e)});var BL=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=cC(t),Lg.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,i,s){var r=s(o0(Ja(this.rules,n,i,s)),""),l=this.componentId+t;i.insertRules(l,l,r)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,i,s){t>2&&Lg.registerId(this.componentId+t),this.removeStyles(t,i),this.createStyles(t,n,i,s)},e}();function dC(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=uC.apply(void 0,fd([e],t,!1)),s="sc-global-".concat(JR(JSON.stringify(i))),r=new BL(i,s),l=function(h){var d=u0(),p=Et.useContext(gd),y=Et.useRef(d.styleSheet.allocateGSInstance(s)).current;return d.styleSheet.server&&c(y,h,d.styleSheet,p,d.stylis),Et.useLayoutEffect(function(){if(!d.styleSheet.server)return c(y,h,d.styleSheet,p,d.stylis),function(){return r.removeStyles(y,d.styleSheet)}},[y,h,d.styleSheet,p,d.stylis]),null};function c(h,d,p,y,_){if(r.isStatic)r.renderStyles(h,lL,p,_);else{var x=Un(Un({},d),{theme:KR(d,y,l.defaultProps)});r.renderStyles(h,x,p,_)}}return Et.memo(l)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=()=>{};var RS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},$L=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],l=e[n++],c=e[n++],h=((s&7)<<18|(r&63)<<12|(l&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const r=e[n++],l=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|l&63)}}return t.join("")},pC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],l=s+1<e.length,c=l?e[s+1]:0,h=s+2<e.length,d=h?e[s+2]:0,p=r>>2,y=(r&3)<<4|c>>4;let _=(c&15)<<2|d>>6,x=d&63;h||(x=64,l||(_=64)),i.push(n[p],n[y],n[_],n[x])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fC(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):$L(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],c=s<e.length?n[e.charAt(s)]:0;++s;const d=s<e.length?n[e.charAt(s)]:64;++s;const y=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||c==null||d==null||y==null)throw new HL;const _=r<<2|c>>4;if(i.push(_),d!==64){const x=c<<4&240|d>>2;if(i.push(x),y!==64){const E=d<<6&192|y;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class HL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WL=function(e){const t=fC(e);return pC.encodeByteArray(t,!0)},jg=function(e){return WL(e).replace(/\./g,"")},gC=function(e){try{return pC.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=()=>YL().__FIREBASE_DEFAULTS__,KL=()=>{if(typeof process>"u"||typeof RS>"u")return;const e=RS.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},XL=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&gC(e[1]);return t&&JSON.parse(t)},vm=()=>{try{return qL()||GL()||KL()||XL()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},mC=e=>{var t,n;return(n=(t=vm())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},QL=e=>{const t=mC(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},yC=()=>{var e;return(e=vm())==null?void 0:e.config},_C=e=>{var t;return(t=vm())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bC(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...e};return[jg(JSON.stringify(n)),jg(JSON.stringify(l)),""].join(".")}const Qh={};function tj(){const e={prod:[],emulator:[]};for(const t of Object.keys(Qh))Qh[t]?e.emulator.push(t):e.prod.push(t);return e}function ej(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let CS=!1;function vC(e,t){if(typeof window>"u"||typeof document>"u"||!cu(window.location.host)||Qh[e]===t||Qh[e]||CS)return;Qh[e]=t;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",r=tj().prod.length>0;function l(){const _=document.getElementById(i);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,x){_.setAttribute("width","24"),_.setAttribute("id",x),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{CS=!0,l()},_}function p(_,x){_.setAttribute("id",x),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=ej(i),x=n("text"),E=document.getElementById(x)||document.createElement("span"),S=n("learnmore"),T=document.getElementById(S)||document.createElement("a"),D=n("preprendIcon"),M=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const P=_.element;c(P),p(T,S);const $=d();h(M,D),P.append(M,E,T,$),document.body.appendChild(P)}r?(E.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ci())}function ij(){var t;const e=(t=vm())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rj(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function aj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oj(){const e=ci();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function lj(){return!ij()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cj(){try{return typeof indexedDB=="object"}catch{return!1}}function uj(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)==null?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj="FirebaseError";class or extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=hj,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ud.prototype.create)}}class Ud{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],l=r?dj(r,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new or(s,c,i)}}function dj(e,t){return e.replace(fj,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const fj=/\{\$([^}]+)}/g;function pj(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function na(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],l=t[s];if(DS(r)&&DS(l)){if(!na(r,l))return!1}else if(r!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function DS(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Vh(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(r)}}),t}function Uh(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function gj(e,t){const n=new mj(e,t);return n.subscribe.bind(n)}class mj{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");yj(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=ub),s.error===void 0&&(s.error=ub),s.complete===void 0&&(s.complete=ub);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yj(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function ub(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(e){return e&&e._delegate?e._delegate:e}class xl{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new ZL;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(vj(t))try{this.getOrInitializeService({instanceIdentifier:al})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=al){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=al){return this.instances.has(t)}getOptions(t=al){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(r);i===c&&l.resolve(s)}return s}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&t(r,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:bj(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=al){return this.component?this.component.multipleInstances?t:al:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bj(e){return e===al?void 0:e}function vj(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new _j(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ie||(ie={}));const wj={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},Ej=ie.INFO,Sj={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},Tj=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=Sj[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class yv{constructor(t){this.name=t,this._logLevel=Ej,this._logHandler=Tj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ie))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?wj[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...t),this._logHandler(this,ie.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...t),this._logHandler(this,ie.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...t),this._logHandler(this,ie.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...t),this._logHandler(this,ie.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...t),this._logHandler(this,ie.ERROR,...t)}}const Aj=(e,t)=>t.some(n=>e instanceof n);let MS,IS;function kj(){return MS||(MS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rj(){return IS||(IS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xC=new WeakMap,d0=new WeakMap,wC=new WeakMap,hb=new WeakMap,_v=new WeakMap;function Cj(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",l)},r=()=>{n(to(e.result)),s()},l=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&xC.set(n,e)}).catch(()=>{}),_v.set(t,e),t}function Dj(e){if(d0.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",l),e.removeEventListener("abort",l)},r=()=>{n(),s()},l=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",l),e.addEventListener("abort",l)});d0.set(e,t)}let f0={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return d0.get(e);if(t==="objectStoreNames")return e.objectStoreNames||wC.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return to(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Mj(e){f0=e(f0)}function Ij(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(db(this),t,...n);return wC.set(i,t.sort?t.sort():[t]),to(i)}:Rj().includes(e)?function(...t){return e.apply(db(this),t),to(xC.get(this))}:function(...t){return to(e.apply(db(this),t))}}function Oj(e){return typeof e=="function"?Ij(e):(e instanceof IDBTransaction&&Dj(e),Aj(e,kj())?new Proxy(e,f0):e)}function to(e){if(e instanceof IDBRequest)return Cj(e);if(hb.has(e))return hb.get(e);const t=Oj(e);return t!==e&&(hb.set(e,t),_v.set(t,e)),t}const db=e=>_v.get(e);function Pj(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const l=indexedDB.open(e,t),c=to(l);return i&&l.addEventListener("upgradeneeded",h=>{i(to(l.result),h.oldVersion,h.newVersion,to(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{r&&h.addEventListener("close",()=>r()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const Nj=["get","getKey","getAll","getAllKeys","count"],Lj=["put","add","delete","clear"],fb=new Map;function OS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(fb.get(t))return fb.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=Lj.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Nj.includes(n)))return;const r=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),s&&h.done]))[0]};return fb.set(t,r),r}Mj(e=>({...e,get:(t,n,i)=>OS(t,n)||e.get(t,n,i),has:(t,n)=>!!OS(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Vj(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Vj(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const p0="@firebase/app",PS="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new yv("@firebase/app"),Uj="@firebase/app-compat",zj="@firebase/analytics-compat",Fj="@firebase/analytics",Bj="@firebase/app-check-compat",qj="@firebase/app-check",$j="@firebase/auth",Hj="@firebase/auth-compat",Wj="@firebase/database",Yj="@firebase/data-connect",Gj="@firebase/database-compat",Kj="@firebase/functions",Xj="@firebase/functions-compat",Qj="@firebase/installations",Zj="@firebase/installations-compat",Jj="@firebase/messaging",t4="@firebase/messaging-compat",e4="@firebase/performance",n4="@firebase/performance-compat",i4="@firebase/remote-config",s4="@firebase/remote-config-compat",r4="@firebase/storage",a4="@firebase/storage-compat",o4="@firebase/firestore",l4="@firebase/ai",c4="@firebase/firestore-compat",u4="firebase",h4="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="[DEFAULT]",d4={[p0]:"fire-core",[Uj]:"fire-core-compat",[Fj]:"fire-analytics",[zj]:"fire-analytics-compat",[qj]:"fire-app-check",[Bj]:"fire-app-check-compat",[$j]:"fire-auth",[Hj]:"fire-auth-compat",[Wj]:"fire-rtdb",[Yj]:"fire-data-connect",[Gj]:"fire-rtdb-compat",[Kj]:"fire-fn",[Xj]:"fire-fn-compat",[Qj]:"fire-iid",[Zj]:"fire-iid-compat",[Jj]:"fire-fcm",[t4]:"fire-fcm-compat",[e4]:"fire-perf",[n4]:"fire-perf-compat",[i4]:"fire-rc",[s4]:"fire-rc-compat",[r4]:"fire-gcs",[a4]:"fire-gcs-compat",[o4]:"fire-fst",[c4]:"fire-fst-compat",[l4]:"fire-vertex","fire-js":"fire-js",[u4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=new Map,f4=new Map,m0=new Map;function NS(e,t){try{e.container.addComponent(t)}catch(n){ia.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Wc(e){const t=e.name;if(m0.has(t))return ia.debug(`There were multiple attempts to register component ${t}.`),!1;m0.set(t,e);for(const n of md.values())NS(n,e);for(const n of f4.values())NS(n,e);return!0}function bv(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function is(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},eo=new Ud("app","Firebase",p4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=h4;function EC(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:g0,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw eo.create("bad-app-name",{appName:String(s)});if(n||(n=yC()),!n)throw eo.create("no-options");const r=md.get(s);if(r){if(na(n,r.options)&&na(i,r.config))return r;throw eo.create("duplicate-app",{appName:s})}const l=new xj(s);for(const h of m0.values())l.addComponent(h);const c=new g4(n,i,l);return md.set(s,c),c}function vv(e=g0){const t=md.get(e);if(!t&&e===g0&&yC())return EC();if(!t)throw eo.create("no-app",{appName:e});return t}function m4(){return Array.from(md.values())}function no(e,t,n){let i=d4[e]??e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),r=t.match(/\s|\//);if(s||r){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&r&&l.push("and"),r&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ia.warn(l.join(" "));return}Wc(new xl(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="firebase-heartbeat-database",_4=1,yd="firebase-heartbeat-store";let pb=null;function SC(){return pb||(pb=Pj(y4,_4,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(yd)}catch(n){console.warn(n)}}}}).catch(e=>{throw eo.create("idb-open",{originalErrorMessage:e.message})})),pb}async function b4(e){try{const n=(await SC()).transaction(yd),i=await n.objectStore(yd).get(TC(e));return await n.done,i}catch(t){if(t instanceof or)ia.warn(t.message);else{const n=eo.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ia.warn(n.message)}}}async function LS(e,t){try{const i=(await SC()).transaction(yd,"readwrite");await i.objectStore(yd).put(t,TC(e)),await i.done}catch(n){if(n instanceof or)ia.warn(n.message);else{const i=eo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ia.warn(i.message)}}}function TC(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=1024,x4=30;class w4{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new S4(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=jS();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>x4){const l=T4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ia.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jS(),{heartbeatsToSend:i,unsentEntries:s}=E4(this._heartbeatsCache.heartbeats),r=jg(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return ia.warn(n),""}}}function jS(){return new Date().toISOString().substring(0,10)}function E4(e,t=v4){const n=[];let i=e.slice();for(const s of e){const r=n.find(l=>l.agent===s.agent);if(r){if(r.dates.push(s.date),VS(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),VS(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class S4{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cj()?uj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return LS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return LS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function VS(e){return jg(JSON.stringify({version:2,heartbeats:e})).length}function T4(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(e){Wc(new xl("platform-logger",t=>new jj(t),"PRIVATE")),Wc(new xl("heartbeat",t=>new w4(t),"PRIVATE")),no(p0,PS,e),no(p0,PS,"esm2020"),no("fire-js","")}A4("");var k4="firebase",R4="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */no(k4,R4,"app");var US=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var io,AC;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,k){function O(){}O.prototype=k.prototype,C.D=k.prototype,C.prototype=new O,C.prototype.constructor=C,C.C=function(V,F,H){for(var U=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)U[kt-2]=arguments[kt];return k.prototype[F].apply(V,U)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,k,O){O||(O=0);var V=Array(16);if(typeof k=="string")for(var F=0;16>F;++F)V[F]=k.charCodeAt(O++)|k.charCodeAt(O++)<<8|k.charCodeAt(O++)<<16|k.charCodeAt(O++)<<24;else for(F=0;16>F;++F)V[F]=k[O++]|k[O++]<<8|k[O++]<<16|k[O++]<<24;k=C.g[0],O=C.g[1],F=C.g[2];var H=C.g[3],U=k+(H^O&(F^H))+V[0]+3614090360&4294967295;k=O+(U<<7&4294967295|U>>>25),U=H+(F^k&(O^F))+V[1]+3905402710&4294967295,H=k+(U<<12&4294967295|U>>>20),U=F+(O^H&(k^O))+V[2]+606105819&4294967295,F=H+(U<<17&4294967295|U>>>15),U=O+(k^F&(H^k))+V[3]+3250441966&4294967295,O=F+(U<<22&4294967295|U>>>10),U=k+(H^O&(F^H))+V[4]+4118548399&4294967295,k=O+(U<<7&4294967295|U>>>25),U=H+(F^k&(O^F))+V[5]+1200080426&4294967295,H=k+(U<<12&4294967295|U>>>20),U=F+(O^H&(k^O))+V[6]+2821735955&4294967295,F=H+(U<<17&4294967295|U>>>15),U=O+(k^F&(H^k))+V[7]+4249261313&4294967295,O=F+(U<<22&4294967295|U>>>10),U=k+(H^O&(F^H))+V[8]+1770035416&4294967295,k=O+(U<<7&4294967295|U>>>25),U=H+(F^k&(O^F))+V[9]+2336552879&4294967295,H=k+(U<<12&4294967295|U>>>20),U=F+(O^H&(k^O))+V[10]+4294925233&4294967295,F=H+(U<<17&4294967295|U>>>15),U=O+(k^F&(H^k))+V[11]+2304563134&4294967295,O=F+(U<<22&4294967295|U>>>10),U=k+(H^O&(F^H))+V[12]+1804603682&4294967295,k=O+(U<<7&4294967295|U>>>25),U=H+(F^k&(O^F))+V[13]+4254626195&4294967295,H=k+(U<<12&4294967295|U>>>20),U=F+(O^H&(k^O))+V[14]+2792965006&4294967295,F=H+(U<<17&4294967295|U>>>15),U=O+(k^F&(H^k))+V[15]+1236535329&4294967295,O=F+(U<<22&4294967295|U>>>10),U=k+(F^H&(O^F))+V[1]+4129170786&4294967295,k=O+(U<<5&4294967295|U>>>27),U=H+(O^F&(k^O))+V[6]+3225465664&4294967295,H=k+(U<<9&4294967295|U>>>23),U=F+(k^O&(H^k))+V[11]+643717713&4294967295,F=H+(U<<14&4294967295|U>>>18),U=O+(H^k&(F^H))+V[0]+3921069994&4294967295,O=F+(U<<20&4294967295|U>>>12),U=k+(F^H&(O^F))+V[5]+3593408605&4294967295,k=O+(U<<5&4294967295|U>>>27),U=H+(O^F&(k^O))+V[10]+38016083&4294967295,H=k+(U<<9&4294967295|U>>>23),U=F+(k^O&(H^k))+V[15]+3634488961&4294967295,F=H+(U<<14&4294967295|U>>>18),U=O+(H^k&(F^H))+V[4]+3889429448&4294967295,O=F+(U<<20&4294967295|U>>>12),U=k+(F^H&(O^F))+V[9]+568446438&4294967295,k=O+(U<<5&4294967295|U>>>27),U=H+(O^F&(k^O))+V[14]+3275163606&4294967295,H=k+(U<<9&4294967295|U>>>23),U=F+(k^O&(H^k))+V[3]+4107603335&4294967295,F=H+(U<<14&4294967295|U>>>18),U=O+(H^k&(F^H))+V[8]+1163531501&4294967295,O=F+(U<<20&4294967295|U>>>12),U=k+(F^H&(O^F))+V[13]+2850285829&4294967295,k=O+(U<<5&4294967295|U>>>27),U=H+(O^F&(k^O))+V[2]+4243563512&4294967295,H=k+(U<<9&4294967295|U>>>23),U=F+(k^O&(H^k))+V[7]+1735328473&4294967295,F=H+(U<<14&4294967295|U>>>18),U=O+(H^k&(F^H))+V[12]+2368359562&4294967295,O=F+(U<<20&4294967295|U>>>12),U=k+(O^F^H)+V[5]+4294588738&4294967295,k=O+(U<<4&4294967295|U>>>28),U=H+(k^O^F)+V[8]+2272392833&4294967295,H=k+(U<<11&4294967295|U>>>21),U=F+(H^k^O)+V[11]+1839030562&4294967295,F=H+(U<<16&4294967295|U>>>16),U=O+(F^H^k)+V[14]+4259657740&4294967295,O=F+(U<<23&4294967295|U>>>9),U=k+(O^F^H)+V[1]+2763975236&4294967295,k=O+(U<<4&4294967295|U>>>28),U=H+(k^O^F)+V[4]+1272893353&4294967295,H=k+(U<<11&4294967295|U>>>21),U=F+(H^k^O)+V[7]+4139469664&4294967295,F=H+(U<<16&4294967295|U>>>16),U=O+(F^H^k)+V[10]+3200236656&4294967295,O=F+(U<<23&4294967295|U>>>9),U=k+(O^F^H)+V[13]+681279174&4294967295,k=O+(U<<4&4294967295|U>>>28),U=H+(k^O^F)+V[0]+3936430074&4294967295,H=k+(U<<11&4294967295|U>>>21),U=F+(H^k^O)+V[3]+3572445317&4294967295,F=H+(U<<16&4294967295|U>>>16),U=O+(F^H^k)+V[6]+76029189&4294967295,O=F+(U<<23&4294967295|U>>>9),U=k+(O^F^H)+V[9]+3654602809&4294967295,k=O+(U<<4&4294967295|U>>>28),U=H+(k^O^F)+V[12]+3873151461&4294967295,H=k+(U<<11&4294967295|U>>>21),U=F+(H^k^O)+V[15]+530742520&4294967295,F=H+(U<<16&4294967295|U>>>16),U=O+(F^H^k)+V[2]+3299628645&4294967295,O=F+(U<<23&4294967295|U>>>9),U=k+(F^(O|~H))+V[0]+4096336452&4294967295,k=O+(U<<6&4294967295|U>>>26),U=H+(O^(k|~F))+V[7]+1126891415&4294967295,H=k+(U<<10&4294967295|U>>>22),U=F+(k^(H|~O))+V[14]+2878612391&4294967295,F=H+(U<<15&4294967295|U>>>17),U=O+(H^(F|~k))+V[5]+4237533241&4294967295,O=F+(U<<21&4294967295|U>>>11),U=k+(F^(O|~H))+V[12]+1700485571&4294967295,k=O+(U<<6&4294967295|U>>>26),U=H+(O^(k|~F))+V[3]+2399980690&4294967295,H=k+(U<<10&4294967295|U>>>22),U=F+(k^(H|~O))+V[10]+4293915773&4294967295,F=H+(U<<15&4294967295|U>>>17),U=O+(H^(F|~k))+V[1]+2240044497&4294967295,O=F+(U<<21&4294967295|U>>>11),U=k+(F^(O|~H))+V[8]+1873313359&4294967295,k=O+(U<<6&4294967295|U>>>26),U=H+(O^(k|~F))+V[15]+4264355552&4294967295,H=k+(U<<10&4294967295|U>>>22),U=F+(k^(H|~O))+V[6]+2734768916&4294967295,F=H+(U<<15&4294967295|U>>>17),U=O+(H^(F|~k))+V[13]+1309151649&4294967295,O=F+(U<<21&4294967295|U>>>11),U=k+(F^(O|~H))+V[4]+4149444226&4294967295,k=O+(U<<6&4294967295|U>>>26),U=H+(O^(k|~F))+V[11]+3174756917&4294967295,H=k+(U<<10&4294967295|U>>>22),U=F+(k^(H|~O))+V[2]+718787259&4294967295,F=H+(U<<15&4294967295|U>>>17),U=O+(H^(F|~k))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+k&4294967295,C.g[1]=C.g[1]+(F+(U<<21&4294967295|U>>>11))&4294967295,C.g[2]=C.g[2]+F&4294967295,C.g[3]=C.g[3]+H&4294967295}i.prototype.u=function(C,k){k===void 0&&(k=C.length);for(var O=k-this.blockSize,V=this.B,F=this.h,H=0;H<k;){if(F==0)for(;H<=O;)s(this,C,H),H+=this.blockSize;if(typeof C=="string"){for(;H<k;)if(V[F++]=C.charCodeAt(H++),F==this.blockSize){s(this,V),F=0;break}}else for(;H<k;)if(V[F++]=C[H++],F==this.blockSize){s(this,V),F=0;break}}this.h=F,this.o+=k},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var k=1;k<C.length-8;++k)C[k]=0;var O=8*this.o;for(k=C.length-8;k<C.length;++k)C[k]=O&255,O/=256;for(this.u(C),C=Array(16),k=O=0;4>k;++k)for(var V=0;32>V;V+=8)C[O++]=this.g[k]>>>V&255;return C};function r(C,k){var O=c;return Object.prototype.hasOwnProperty.call(O,C)?O[C]:O[C]=k(C)}function l(C,k){this.h=k;for(var O=[],V=!0,F=C.length-1;0<=F;F--){var H=C[F]|0;V&&H==k||(O[F]=H,V=!1)}this.g=O}var c={};function h(C){return-128<=C&&128>C?r(C,function(k){return new l([k|0],0>k?-1:0)}):new l([C|0],0>C?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return y;if(0>C)return T(d(-C));for(var k=[],O=1,V=0;C>=O;V++)k[V]=C/O|0,O*=4294967296;return new l(k,0)}function p(C,k){if(C.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(C.charAt(0)=="-")return T(p(C.substring(1),k));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=d(Math.pow(k,8)),V=y,F=0;F<C.length;F+=8){var H=Math.min(8,C.length-F),U=parseInt(C.substring(F,F+H),k);8>H?(H=d(Math.pow(k,H)),V=V.j(H).add(d(U))):(V=V.j(O),V=V.add(d(U)))}return V}var y=h(0),_=h(1),x=h(16777216);e=l.prototype,e.m=function(){if(S(this))return-T(this).m();for(var C=0,k=1,O=0;O<this.g.length;O++){var V=this.i(O);C+=(0<=V?V:4294967296+V)*k,k*=4294967296}return C},e.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(E(this))return"0";if(S(this))return"-"+T(this).toString(C);for(var k=d(Math.pow(C,6)),O=this,V="";;){var F=$(O,k).g;O=D(O,F.j(k));var H=((0<O.g.length?O.g[0]:O.h)>>>0).toString(C);if(O=F,E(O))return H+V;for(;6>H.length;)H="0"+H;V=H+V}},e.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function E(C){if(C.h!=0)return!1;for(var k=0;k<C.g.length;k++)if(C.g[k]!=0)return!1;return!0}function S(C){return C.h==-1}e.l=function(C){return C=D(this,C),S(C)?-1:E(C)?0:1};function T(C){for(var k=C.g.length,O=[],V=0;V<k;V++)O[V]=~C.g[V];return new l(O,~C.h).add(_)}e.abs=function(){return S(this)?T(this):this},e.add=function(C){for(var k=Math.max(this.g.length,C.g.length),O=[],V=0,F=0;F<=k;F++){var H=V+(this.i(F)&65535)+(C.i(F)&65535),U=(H>>>16)+(this.i(F)>>>16)+(C.i(F)>>>16);V=U>>>16,H&=65535,U&=65535,O[F]=U<<16|H}return new l(O,O[O.length-1]&-2147483648?-1:0)};function D(C,k){return C.add(T(k))}e.j=function(C){if(E(this)||E(C))return y;if(S(this))return S(C)?T(this).j(T(C)):T(T(this).j(C));if(S(C))return T(this.j(T(C)));if(0>this.l(x)&&0>C.l(x))return d(this.m()*C.m());for(var k=this.g.length+C.g.length,O=[],V=0;V<2*k;V++)O[V]=0;for(V=0;V<this.g.length;V++)for(var F=0;F<C.g.length;F++){var H=this.i(V)>>>16,U=this.i(V)&65535,kt=C.i(F)>>>16,tt=C.i(F)&65535;O[2*V+2*F]+=U*tt,M(O,2*V+2*F),O[2*V+2*F+1]+=H*tt,M(O,2*V+2*F+1),O[2*V+2*F+1]+=U*kt,M(O,2*V+2*F+1),O[2*V+2*F+2]+=H*kt,M(O,2*V+2*F+2)}for(V=0;V<k;V++)O[V]=O[2*V+1]<<16|O[2*V];for(V=k;V<2*k;V++)O[V]=0;return new l(O,0)};function M(C,k){for(;(C[k]&65535)!=C[k];)C[k+1]+=C[k]>>>16,C[k]&=65535,k++}function P(C,k){this.g=C,this.h=k}function $(C,k){if(E(k))throw Error("division by zero");if(E(C))return new P(y,y);if(S(C))return k=$(T(C),k),new P(T(k.g),T(k.h));if(S(k))return k=$(C,T(k)),new P(T(k.g),k.h);if(30<C.g.length){if(S(C)||S(k))throw Error("slowDivide_ only works with positive integers.");for(var O=_,V=k;0>=V.l(C);)O=N(O),V=N(V);var F=G(O,1),H=G(V,1);for(V=G(V,2),O=G(O,2);!E(V);){var U=H.add(V);0>=U.l(C)&&(F=F.add(O),H=U),V=G(V,1),O=G(O,1)}return k=D(C,F.j(k)),new P(F,k)}for(F=y;0<=C.l(k);){for(O=Math.max(1,Math.floor(C.m()/k.m())),V=Math.ceil(Math.log(O)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),H=d(O),U=H.j(k);S(U)||0<U.l(C);)O-=V,H=d(O),U=H.j(k);E(H)&&(H=_),F=F.add(H),C=D(C,U)}return new P(F,C)}e.A=function(C){return $(this,C).h},e.and=function(C){for(var k=Math.max(this.g.length,C.g.length),O=[],V=0;V<k;V++)O[V]=this.i(V)&C.i(V);return new l(O,this.h&C.h)},e.or=function(C){for(var k=Math.max(this.g.length,C.g.length),O=[],V=0;V<k;V++)O[V]=this.i(V)|C.i(V);return new l(O,this.h|C.h)},e.xor=function(C){for(var k=Math.max(this.g.length,C.g.length),O=[],V=0;V<k;V++)O[V]=this.i(V)^C.i(V);return new l(O,this.h^C.h)};function N(C){for(var k=C.g.length+1,O=[],V=0;V<k;V++)O[V]=C.i(V)<<1|C.i(V-1)>>>31;return new l(O,C.h)}function G(C,k){var O=k>>5;k%=32;for(var V=C.g.length-O,F=[],H=0;H<V;H++)F[H]=0<k?C.i(H+O)>>>k|C.i(H+O+1)<<32-k:C.i(H+O);return new l(F,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,AC=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=p,io=l}).apply(typeof US<"u"?US:typeof self<"u"?self:typeof window<"u"?window:{});var Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kC,zh,RC,fg,y0,CC,DC,MC;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,w,A){return g==Array.prototype||g==Object.prototype||(g[w]=A.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ap=="object"&&Ap];for(var w=0;w<g.length;++w){var A=g[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var i=n(this);function s(g,w){if(w)t:{var A=i;g=g.split(".");for(var L=0;L<g.length-1;L++){var it=g[L];if(!(it in A))break t;A=A[it]}g=g[g.length-1],L=A[g],w=w(L),w!=L&&w!=null&&t(A,g,{configurable:!0,writable:!0,value:w})}}function r(g,w){g instanceof String&&(g+="");var A=0,L=!1,it={next:function(){if(!L&&A<g.length){var ct=A++;return{value:w(ct,g[ct]),done:!1}}return L=!0,{done:!0,value:void 0}}};return it[Symbol.iterator]=function(){return it},it}s("Array.prototype.values",function(g){return g||function(){return r(this,function(w,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(g){var w=typeof g;return w=w!="object"?w:g?Array.isArray(g)?"array":w:"null",w=="array"||w=="object"&&typeof g.length=="number"}function d(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}function p(g,w,A){return g.call.apply(g.bind,arguments)}function y(g,w,A){if(!g)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var it=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(it,L),g.apply(w,it)}}return function(){return g.apply(w,arguments)}}function _(g,w,A){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,_.apply(null,arguments)}function x(g,w){var A=Array.prototype.slice.call(arguments,1);return function(){var L=A.slice();return L.push.apply(L,arguments),g.apply(this,L)}}function E(g,w){function A(){}A.prototype=w.prototype,g.aa=w.prototype,g.prototype=new A,g.prototype.constructor=g,g.Qb=function(L,it,ct){for(var vt=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)vt[ae-2]=arguments[ae];return w.prototype[it].apply(L,vt)}}function S(g){const w=g.length;if(0<w){const A=Array(w);for(let L=0;L<w;L++)A[L]=g[L];return A}return[]}function T(g,w){for(let A=1;A<arguments.length;A++){const L=arguments[A];if(h(L)){const it=g.length||0,ct=L.length||0;g.length=it+ct;for(let vt=0;vt<ct;vt++)g[it+vt]=L[vt]}else g.push(L)}}class D{constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function M(g){return/^[\s\xa0]*$/.test(g)}function P(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function $(g){return $[" "](g),g}$[" "]=function(){};var N=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function G(g,w,A){for(const L in g)w.call(A,g[L],L,g)}function C(g,w){for(const A in g)w.call(void 0,g[A],A,g)}function k(g){const w={};for(const A in g)w[A]=g[A];return w}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(g,w){let A,L;for(let it=1;it<arguments.length;it++){L=arguments[it];for(A in L)g[A]=L[A];for(let ct=0;ct<O.length;ct++)A=O[ct],Object.prototype.hasOwnProperty.call(L,A)&&(g[A]=L[A])}}function F(g){var w=1;g=g.split(":");const A=[];for(;0<w&&g.length;)A.push(g.shift()),w--;return g.length&&A.push(g.join(":")),A}function H(g){c.setTimeout(()=>{throw g},0)}function U(){var g=yt;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}class kt{constructor(){this.h=this.g=null}add(w,A){const L=tt.get();L.set(w,A),this.h?this.h.next=L:this.g=L,this.h=L}}var tt=new D(()=>new B,g=>g.reset());class B{constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let J,pt=!1,yt=new kt,q=()=>{const g=c.Promise.resolve(void 0);J=()=>{g.then(X)}};var X=()=>{for(var g;g=U();){try{g.h.call(g.g)}catch(A){H(A)}var w=tt;w.j(g),100>w.h&&(w.h++,g.next=w.g,w.g=g)}pt=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var Q=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const A=()=>{};c.addEventListener("test",A,w),c.removeEventListener("test",A,w)}catch{}return g}();function at(g,w){if(K.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var A=this.type=g.type,L=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget){if(N){t:{try{$(w.nodeName);var it=!0;break t}catch{}it=!1}it||(w=null)}}else A=="mouseover"?w=g.fromElement:A=="mouseout"&&(w=g.toElement);this.relatedTarget=w,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Y[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&at.aa.h.call(this)}}E(at,K);var Y={2:"touch",3:"pen",4:"mouse"};at.prototype.h=function(){at.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),bt=0;function xt(g,w,A,L,it){this.listener=g,this.proxy=null,this.src=w,this.type=A,this.capture=!!L,this.ha=it,this.key=++bt,this.da=this.fa=!1}function Nt(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ue(g){this.src=g,this.g={},this.h=0}ue.prototype.add=function(g,w,A,L,it){var ct=g.toString();g=this.g[ct],g||(g=this.g[ct]=[],this.h++);var vt=Fn(g,w,L,it);return-1<vt?(w=g[vt],A||(w.fa=!1)):(w=new xt(w,this.src,ct,!!L,it),w.fa=A,g.push(w)),w};function Se(g,w){var A=w.type;if(A in g.g){var L=g.g[A],it=Array.prototype.indexOf.call(L,w,void 0),ct;(ct=0<=it)&&Array.prototype.splice.call(L,it,1),ct&&(Nt(w),g.g[A].length==0&&(delete g.g[A],g.h--))}}function Fn(g,w,A,L){for(var it=0;it<g.length;++it){var ct=g[it];if(!ct.da&&ct.listener==w&&ct.capture==!!A&&ct.ha==L)return it}return-1}var _i="closure_lm_"+(1e6*Math.random()|0),ls={};function ca(g,w,A,L,it){if(Array.isArray(w)){for(var ct=0;ct<w.length;ct++)ca(g,w[ct],A,L,it);return null}return A=ui(A),g&&g[ut]?g.K(w,A,d(L)?!!L.capture:!1,it):an(g,w,A,!1,L,it)}function an(g,w,A,L,it,ct){if(!w)throw Error("Invalid event type");var vt=d(it)?!!it.capture:!!it,ae=St(g);if(ae||(g[_i]=ae=new ue(g)),A=ae.add(w,A,L,vt,ct),A.proxy)return A;if(L=Eo(),A.proxy=L,L.src=g,L.listener=A,g.addEventListener)Q||(it=vt),it===void 0&&(it=!1),g.addEventListener(w.toString(),L,it);else if(g.attachEvent)g.attachEvent(Dt(w.toString()),L);else if(g.addListener&&g.removeListener)g.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Eo(){function g(A){return w.call(g.src,g.listener,A)}const w=Tt;return g}function ur(g,w,A,L,it){if(Array.isArray(w))for(var ct=0;ct<w.length;ct++)ur(g,w[ct],A,L,it);else L=d(L)?!!L.capture:!!L,A=ui(A),g&&g[ut]?(g=g.i,w=String(w).toString(),w in g.g&&(ct=g.g[w],A=Fn(ct,A,L,it),-1<A&&(Nt(ct[A]),Array.prototype.splice.call(ct,A,1),ct.length==0&&(delete g.g[w],g.h--)))):g&&(g=St(g))&&(w=g.g[w.toString()],g=-1,w&&(g=Fn(w,A,L,it)),(A=-1<g?w[g]:null)&&_t(A))}function _t(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[ut])Se(w.i,g);else{var A=g.type,L=g.proxy;w.removeEventListener?w.removeEventListener(A,L,g.capture):w.detachEvent?w.detachEvent(Dt(A),L):w.addListener&&w.removeListener&&w.removeListener(L),(A=St(w))?(Se(A,g),A.h==0&&(A.src=null,w[_i]=null)):Nt(g)}}}function Dt(g){return g in ls?ls[g]:ls[g]="on"+g}function Tt(g,w){if(g.da)g=!0;else{w=new at(w,this);var A=g.listener,L=g.ha||g.src;g.fa&&_t(g),g=A.call(L,w)}return g}function St(g){return g=g[_i],g instanceof ue?g:null}var Zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ui(g){return typeof g=="function"?g:(g[Zt]||(g[Zt]=function(w){return g.handleEvent(w)}),g[Zt])}function de(){nt.call(this),this.i=new ue(this),this.M=this,this.F=null}E(de,nt),de.prototype[ut]=!0,de.prototype.removeEventListener=function(g,w,A,L){ur(this,g,w,A,L)};function Jt(g,w){var A,L=g.F;if(L)for(A=[];L;L=L.F)A.push(L);if(g=g.M,L=w.type||w,typeof w=="string")w=new K(w,g);else if(w instanceof K)w.target=w.target||g;else{var it=w;w=new K(L,g),V(w,it)}if(it=!0,A)for(var ct=A.length-1;0<=ct;ct--){var vt=w.g=A[ct];it=hi(vt,L,!0,w)&&it}if(vt=w.g=g,it=hi(vt,L,!0,w)&&it,it=hi(vt,L,!1,w)&&it,A)for(ct=0;ct<A.length;ct++)vt=w.g=A[ct],it=hi(vt,L,!1,w)&&it}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var g=this.i,w;for(w in g.g){for(var A=g.g[w],L=0;L<A.length;L++)Nt(A[L]);delete g.g[w],g.h--}}this.F=null},de.prototype.K=function(g,w,A,L){return this.i.add(String(g),w,!1,A,L)},de.prototype.L=function(g,w,A,L){return this.i.add(String(g),w,!0,A,L)};function hi(g,w,A,L){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();for(var it=!0,ct=0;ct<w.length;++ct){var vt=w[ct];if(vt&&!vt.da&&vt.capture==A){var ae=vt.listener,vn=vt.ha||vt.src;vt.fa&&Se(g.i,vt),it=ae.call(vn,L)!==!1&&it}}return it&&!L.defaultPrevented}function Rn(g,w,A){if(typeof g=="function")A&&(g=_(g,A));else if(g&&typeof g.handleEvent=="function")g=_(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(g,w||0)}function Pl(g){g.g=Rn(()=>{g.g=null,g.i&&(g.i=!1,Pl(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}class bu extends nt{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Pl(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(g){nt.call(this),this.h=g,this.g={}}E(hr,nt);var dr=[];function fr(g){G(g.g,function(w,A){this.g.hasOwnProperty(A)&&_t(w)},g),g.g={}}hr.prototype.N=function(){hr.aa.N.call(this),fr(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ki=c.JSON.stringify,pr=c.JSON.parse,gr=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function ua(){}ua.prototype.h=null;function $t(g){return g.h||(g.h=g.i())}function me(){}var Vt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function he(){K.call(this,"d")}E(he,K);function Cn(){K.call(this,"c")}E(Cn,K);var Ht={},So=null;function Rs(){return So=So||new de}Ht.La="serverreachability";function ha(g){K.call(this,Ht.La,g)}E(ha,K);function Bi(g){const w=Rs();Jt(w,new ha(w))}Ht.STAT_EVENT="statevent";function da(g,w){K.call(this,Ht.STAT_EVENT,g),this.stat=w}E(da,K);function ze(g){const w=Rs();Jt(w,new da(w,g))}Ht.Ma="timingevent";function bn(g,w){K.call(this,Ht.Ma,g),this.size=w}E(bn,K);function on(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},w)}function qi(){this.g=!0}qi.prototype.xa=function(){this.g=!1};function vu(g,w,A,L,it,ct){g.info(function(){if(g.g)if(ct)for(var vt="",ae=ct.split("&"),vn=0;vn<ae.length;vn++){var oe=ae[vn].split("=");if(1<oe.length){var Mn=oe[0];oe=oe[1];var xn=Mn.split("_");vt=2<=xn.length&&xn[1]=="type"?vt+(Mn+"="+oe+"&"):vt+(Mn+"=redacted&")}}else vt=null;else vt=ct;return"XMLHTTP REQ ("+L+") [attempt "+it+"]: "+w+`
`+A+`
`+vt})}function ty(g,w,A,L,it,ct,vt){g.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+it+"]: "+w+`
`+A+`
`+ct+" "+vt})}function fa(g,w,A,L){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+To(g,A)+(L?" "+L:"")})}function nf(g,w){g.info(function(){return"TIMEOUT: "+w})}qi.prototype.info=function(){};function To(g,w){if(!g.g)return w;if(!w)return null;try{var A=JSON.parse(w);if(A){for(g=0;g<A.length;g++)if(Array.isArray(A[g])){var L=A[g];if(!(2>L.length)){var it=L[1];if(Array.isArray(it)&&!(1>it.length)){var ct=it[0];if(ct!="noop"&&ct!="stop"&&ct!="close")for(var vt=1;vt<it.length;vt++)it[vt]=""}}}}return ki(A)}catch{return w}}var pa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cs;function Ds(){}E(Ds,ua),Ds.prototype.g=function(){return new XMLHttpRequest},Ds.prototype.i=function(){return{}},Cs=new Ds;function di(g,w,A,L){this.j=g,this.i=w,this.l=A,this.R=L||1,this.U=new hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Je}function Je(){this.i=null,this.g="",this.h=!1}var xu={},Nl={};function cs(g,w,A){g.L=1,g.v=Do(Ri(w)),g.m=A,g.P=!0,yr(g,null)}function yr(g,w){g.F=Date.now(),Ao(g),g.A=Ri(g.v);var A=g.A,L=g.R;Array.isArray(L)||(L=[String(L)]),ku(A.i,"t",L),g.C=0,A=g.j.J,g.h=new Je,g.g=bf(g.j,A?w:null,!g.m),0<g.O&&(g.M=new bu(_(g.Y,g,g.g),g.O)),w=g.U,A=g.g,L=g.ca;var it="readystatechange";Array.isArray(it)||(it&&(dr[0]=it.toString()),it=dr);for(var ct=0;ct<it.length;ct++){var vt=ca(A,it[ct],L||w.handleEvent,!1,w.h||w);if(!vt)break;w.g[vt.key]=vt}w=g.H?k(g.H):{},g.m?(g.u||(g.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,w)):(g.u="GET",g.g.ea(g.A,g.u,null,w)),Bi(),vu(g.i,g.u,g.A,g.l,g.R,g.m)}di.prototype.ca=function(g){g=g.target;const w=this.M;w&&Yi(g)==3?w.j():this.Y(g)},di.prototype.Y=function(g){try{if(g==this.g)t:{const xn=Yi(this.g);var w=this.g.Ba();const Tr=this.g.Z();if(!(3>xn)&&(xn!=3||this.g&&(this.h.h||this.g.oa()||hf(this.g)))){this.J||xn!=4||w==7||(w==8||0>=Tr?Bi(3):Bi(2)),ga(this);var A=this.g.Z();this.X=A;e:if(sf(this)){var L=hf(this.g);g="";var it=L.length,ct=Yi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bn(this),Ms(this);var vt="";break e}this.h.i=new c.TextDecoder}for(w=0;w<it;w++)this.h.h=!0,g+=this.h.i.decode(L[w],{stream:!(ct&&w==it-1)});L.length=0,this.h.g+=g,this.C=0,vt=this.h.g}else vt=this.g.oa();if(this.o=A==200,ty(this.i,this.u,this.A,this.l,this.R,xn,A),this.o){if(this.T&&!this.K){e:{if(this.g){var ae,vn=this.g;if((ae=vn.g?vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(ae)){var oe=ae;break e}}oe=null}if(A=oe)fa(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ko(this,A);else{this.o=!1,this.s=3,ze(12),Bn(this),Ms(this);break t}}if(this.P){A=!0;let qn;for(;!this.J&&this.C<vt.length;)if(qn=rf(this,vt),qn==Nl){xn==4&&(this.s=4,ze(14),A=!1),fa(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==xu){this.s=4,ze(15),fa(this.i,this.l,vt,"[Invalid Chunk]"),A=!1;break}else fa(this.i,this.l,qn,null),ko(this,qn);if(sf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xn!=4||vt.length!=0||this.h.h||(this.s=1,ze(16),A=!1),this.o=this.o&&A,!A)fa(this.i,this.l,vt,"[Invalid Chunked Response]"),Bn(this),Ms(this);else if(0<vt.length&&!this.W){this.W=!0;var Mn=this.j;Mn.g==this&&Mn.ba&&!Mn.M&&(Mn.j.info("Great, no buffering proxy detected. Bytes received: "+vt.length),Vo(Mn),Mn.M=!0,ze(11))}}else fa(this.i,this.l,vt,null),ko(this,vt);xn==4&&Bn(this),this.o&&!this.J&&(xn==4?mf(this.j,this):(this.o=!1,Ao(this)))}else ry(this.g),A==400&&0<vt.indexOf("Unknown SID")?(this.s=3,ze(12)):(this.s=0,ze(13)),Bn(this),Ms(this)}}}catch{}finally{}};function sf(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function rf(g,w){var A=g.C,L=w.indexOf(`
`,A);return L==-1?Nl:(A=Number(w.substring(A,L)),isNaN(A)?xu:(L+=1,L+A>w.length?Nl:(w=w.slice(L,L+A),g.C=L+A,w)))}di.prototype.cancel=function(){this.J=!0,Bn(this)};function Ao(g){g.S=Date.now()+g.I,af(g,g.I)}function af(g,w){if(g.B!=null)throw Error("WatchDog timer not null");g.B=on(_(g.ba,g),w)}function ga(g){g.B&&(c.clearTimeout(g.B),g.B=null)}di.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(nf(this.i,this.A),this.L!=2&&(Bi(),ze(17)),Bn(this),this.s=2,Ms(this)):af(this,this.S-g)};function Ms(g){g.j.G==0||g.J||mf(g.j,g)}function Bn(g){ga(g);var w=g.M;w&&typeof w.ma=="function"&&w.ma(),g.M=null,fr(g.U),g.g&&(w=g.g,g.g=null,w.abort(),w.ma())}function ko(g,w){try{var A=g.j;if(A.G!=0&&(A.g==g||wu(A.h,g))){if(!g.K&&wu(A.h,g)&&A.G==3){try{var L=A.Da.g.parse(w)}catch{L=null}if(Array.isArray(L)&&L.length==3){var it=L;if(it[0]==0){t:if(!A.u){if(A.g)if(A.g.F+3e3<g.F)Yl(A),Hl(A);else break t;Iu(A),ze(18)}}else A.za=it[1],0<A.za-A.T&&37500>it[2]&&A.F&&A.v==0&&!A.C&&(A.C=on(_(A.Za,A),6e3));if(1>=jl(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Sr(A,11)}else if((g.K||A.g==g)&&Yl(A),!M(w))for(it=A.Da.g.parse(w),w=0;w<it.length;w++){let oe=it[w];if(A.T=oe[0],oe=oe[1],A.G==2)if(oe[0]=="c"){A.K=oe[1],A.ia=oe[2];const Mn=oe[3];Mn!=null&&(A.la=Mn,A.j.info("VER="+A.la));const xn=oe[4];xn!=null&&(A.Aa=xn,A.j.info("SVER="+A.Aa));const Tr=oe[5];Tr!=null&&typeof Tr=="number"&&0<Tr&&(L=1.5*Tr,A.L=L,A.j.info("backChannelRequestTimeoutMs_="+L)),L=A;const qn=g.g;if(qn){const Vs=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var ct=L.h;ct.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(ct.j=ct.l,ct.g=new Set,ct.h&&(Vl(ct,ct.h),ct.h=null))}if(L.D){const Pu=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Pu&&(L.ya=Pu,Te(L.I,L.D,Pu))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-g.F,A.j.info("Handshake RTT: "+A.R+"ms")),L=A;var vt=g;if(L.qa=_f(L,L.J?L.ia:null,L.W),vt.K){fi(L.h,vt);var ae=vt,vn=L.L;vn&&(ae.I=vn),ae.B&&(ga(ae),Ao(ae)),L.g=vt}else pf(L);0<A.i.length&&Wl(A)}else oe[0]!="stop"&&oe[0]!="close"||Sr(A,7);else A.G==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?Sr(A,7):Du(A):oe[0]!="noop"&&A.l&&A.l.ta(oe),A.v=0)}}Bi(4)}catch{}}var of=class{constructor(g,w){this.g=g,this.map=w}};function _r(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ll(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function jl(g){return g.h?1:g.g?g.g.size:0}function wu(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}function Vl(g,w){g.g?g.g.add(w):g.h=w}function fi(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}_r.prototype.cancel=function(){if(this.i=Eu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Eu(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const A of g.g.values())w=w.concat(A.D);return w}return S(g.i)}function ey(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var w=[],A=g.length,L=0;L<A;L++)w.push(g[L]);return w}w=[],A=0;for(L in g)w[A++]=g[L];return w}function Ul(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var w=[];g=g.length;for(var A=0;A<g;A++)w.push(A);return w}w=[],A=0;for(const L in g)w[A++]=L;return w}}}function Su(g,w){if(g.forEach&&typeof g.forEach=="function")g.forEach(w,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,w,void 0);else for(var A=Ul(g),L=ey(g),it=L.length,ct=0;ct<it;ct++)w.call(void 0,L[ct],A&&A[ct],g)}var Ro=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ny(g,w){if(g){g=g.split("&");for(var A=0;A<g.length;A++){var L=g[A].indexOf("="),it=null;if(0<=L){var ct=g[A].substring(0,L);it=g[A].substring(L+1)}else ct=g[A];w(ct,it?decodeURIComponent(it.replace(/\+/g," ")):"")}}}function ln(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof ln){this.h=g.h,Co(this,g.j),this.o=g.o,this.g=g.g,ma(this,g.s),this.l=g.l;var w=g.i,A=new vr;A.i=w.i,w.g&&(A.g=new Map(w.g),A.h=w.h),br(this,A),this.m=g.m}else g&&(w=String(g).match(Ro))?(this.h=!1,Co(this,w[1]||"",!0),this.o=$i(w[2]||""),this.g=$i(w[3]||"",!0),ma(this,w[4]),this.l=$i(w[5]||"",!0),br(this,w[6]||"",!0),this.m=$i(w[7]||"")):(this.h=!1,this.i=new vr(null,this.h))}ln.prototype.toString=function(){var g=[],w=this.j;w&&g.push(Mo(w,Tu,!0),":");var A=this.g;return(A||w=="file")&&(g.push("//"),(w=this.o)&&g.push(Mo(w,Tu,!0),"@"),g.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&g.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&g.push("/"),g.push(Mo(A,A.charAt(0)=="/"?iy:Au,!0))),(A=this.i.toString())&&g.push("?",A),(A=this.m)&&g.push("#",Mo(A,zl)),g.join("")};function Ri(g){return new ln(g)}function Co(g,w,A){g.j=A?$i(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}function ma(g,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);g.s=w}else g.s=null}function br(g,w,A){w instanceof vr?(g.i=w,cf(g.i,g.h)):(A||(w=Mo(w,sy)),g.i=new vr(w,g.h))}function Te(g,w,A){g.i.set(w,A)}function Do(g){return Te(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function $i(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Mo(g,w,A){return typeof g=="string"?(g=encodeURI(g).replace(w,lf),A&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function lf(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Tu=/[#\/\?@]/g,Au=/[#\?:]/g,iy=/[#\?]/g,sy=/[#\?@]/g,zl=/#/g;function vr(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}function Hi(g){g.g||(g.g=new Map,g.h=0,g.i&&ny(g.i,function(w,A){g.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}e=vr.prototype,e.add=function(g,w){Hi(this),this.i=null,g=Is(this,g);var A=this.g.get(g);return A||this.g.set(g,A=[]),A.push(w),this.h+=1,this};function xr(g,w){Hi(g),w=Is(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}function wr(g,w){return Hi(g),w=Is(g,w),g.g.has(w)}e.forEach=function(g,w){Hi(this),this.g.forEach(function(A,L){A.forEach(function(it){g.call(w,it,L,this)},this)},this)},e.na=function(){Hi(this);const g=Array.from(this.g.values()),w=Array.from(this.g.keys()),A=[];for(let L=0;L<w.length;L++){const it=g[L];for(let ct=0;ct<it.length;ct++)A.push(w[L])}return A},e.V=function(g){Hi(this);let w=[];if(typeof g=="string")wr(this,g)&&(w=w.concat(this.g.get(Is(this,g))));else{g=Array.from(this.g.values());for(let A=0;A<g.length;A++)w=w.concat(g[A])}return w},e.set=function(g,w){return Hi(this),this.i=null,g=Is(this,g),wr(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},e.get=function(g,w){return g?(g=this.V(g),0<g.length?String(g[0]):w):w};function ku(g,w,A){xr(g,w),0<A.length&&(g.i=null,g.g.set(Is(g,w),S(A)),g.h+=A.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(var A=0;A<w.length;A++){var L=w[A];const ct=encodeURIComponent(String(L)),vt=this.V(L);for(L=0;L<vt.length;L++){var it=ct;vt[L]!==""&&(it+="="+encodeURIComponent(String(vt[L]))),g.push(it)}}return this.i=g.join("&")};function Is(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}function cf(g,w){w&&!g.j&&(Hi(g),g.i=null,g.g.forEach(function(A,L){var it=L.toLowerCase();L!=it&&(xr(this,L),ku(this,it,A))},g)),g.j=w}function Io(g,w){const A=new qi;if(c.Image){const L=new Image;L.onload=x(Wi,A,"TestLoadImage: loaded",!0,w,L),L.onerror=x(Wi,A,"TestLoadImage: error",!1,w,L),L.onabort=x(Wi,A,"TestLoadImage: abort",!1,w,L),L.ontimeout=x(Wi,A,"TestLoadImage: timeout",!1,w,L),c.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=g}else w(!1)}function us(g,w){const A=new qi,L=new AbortController,it=setTimeout(()=>{L.abort(),Wi(A,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:L.signal}).then(ct=>{clearTimeout(it),ct.ok?Wi(A,"TestPingServer: ok",!0,w):Wi(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(it),Wi(A,"TestPingServer: error",!1,w)})}function Wi(g,w,A,L,it){try{it&&(it.onload=null,it.onerror=null,it.onabort=null,it.ontimeout=null),L(A)}catch{}}function Oo(){this.g=new gr}function Os(g,w,A){const L=A||"";try{Su(g,function(it,ct){let vt=it;d(it)&&(vt=ki(it)),w.push(L+ct+"="+encodeURIComponent(vt))})}catch(it){throw w.push(L+"type="+encodeURIComponent("_badmap")),it}}function ya(g){this.l=g.Ub||null,this.j=g.eb||!1}E(ya,ua),ya.prototype.g=function(){return new Er(this.l,this.j)},ya.prototype.i=function(g){return function(){return g}}({});function Er(g,w){de.call(this),this.D=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Er,de),e=Er.prototype,e.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=w,this.readyState=1,Ns(this)},e.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(w.body=g),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ps(this)),this.readyState=0},e.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ns(this)),this.g&&(this.readyState=3,Ns(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ru(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ru(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}e.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?Ps(this):Ns(this),this.readyState==3&&Ru(this)}},e.Ra=function(g){this.g&&(this.response=this.responseText=g,Ps(this))},e.Qa=function(g){this.g&&(this.response=g,Ps(this))},e.ga=function(){this.g&&Ps(this)};function Ps(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Ns(g)}e.setRequestHeader=function(g,w){this.u.append(g,w)},e.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,g.push(A[0]+": "+A[1]),A=w.next();return g.join(`\r
`)};function Ns(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Cu(g){let w="";return G(g,function(A,L){w+=L,w+=":",w+=A,w+=`\r
`}),w}function Dn(g,w,A){t:{for(L in A){var L=!1;break t}L=!0}L||(A=Cu(A),typeof g=="string"?A!=null&&encodeURIComponent(String(A)):Te(g,w,A))}function ye(g){de.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(ye,de);var Fl=/^https?$/i,Po=["POST","PUT"];e=ye.prototype,e.Ha=function(g){this.J=g},e.ea=function(g,w,A,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cs.g(),this.v=this.o?$t(this.o):$t(Cs),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(ct){uf(this,ct);return}if(g=A||"",A=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var it in L)A.set(it,L[it]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const ct of L.keys())A.set(ct,L.get(ct));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(A.keys()).find(ct=>ct.toLowerCase()=="content-type"),it=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Po,w,void 0))||L||it||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ct,vt]of A)this.g.setRequestHeader(ct,vt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{No(this),this.u=!0,this.g.send(g),this.u=!1}catch(ct){uf(this,ct)}};function uf(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.m=5,Bl(g),Ls(g)}function Bl(g){g.A||(g.A=!0,Jt(g,"complete"),Jt(g,"error"))}e.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Jt(this,"complete"),Jt(this,"abort"),Ls(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ls(this,!0)),ye.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?ql(this):this.bb())},e.bb=function(){ql(this)};function ql(g){if(g.h&&typeof l<"u"&&(!g.v[1]||Yi(g)!=4||g.Z()!=2)){if(g.u&&Yi(g)==4)Rn(g.Ea,0,g);else if(Jt(g,"readystatechange"),Yi(g)==4){g.h=!1;try{const vt=g.Z();t:switch(vt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var A;if(!(A=w)){var L;if(L=vt===0){var it=String(g.D).match(Ro)[1]||null;!it&&c.self&&c.self.location&&(it=c.self.location.protocol.slice(0,-1)),L=!Fl.test(it?it.toLowerCase():"")}A=L}if(A)Jt(g,"complete"),Jt(g,"success");else{g.m=6;try{var ct=2<Yi(g)?g.g.statusText:""}catch{ct=""}g.l=ct+" ["+g.Z()+"]",Bl(g)}}finally{Ls(g)}}}}function Ls(g,w){if(g.g){No(g);const A=g.g,L=g.v[0]?()=>{}:null;g.g=null,g.v=null,w||Jt(g,"ready");try{A.onreadystatechange=L}catch{}}}function No(g){g.I&&(c.clearTimeout(g.I),g.I=null)}e.isActive=function(){return!!this.g};function Yi(g){return g.g?g.g.readyState:0}e.Z=function(){try{return 2<Yi(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),pr(w)}};function hf(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ry(g){const w={};g=(g.g&&2<=Yi(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<g.length;L++){if(M(g[L]))continue;var A=F(g[L]);const it=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ct=w[it]||[];w[it]=ct,ct.push(A)}C(w,function(L){return L.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lo(g,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[g]||w}function $l(g){this.Aa=0,this.i=[],this.j=new qi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lo("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lo("baseRetryDelayMs",5e3,g),this.cb=Lo("retryDelaySeedMs",1e4,g),this.Wa=Lo("forwardChannelMaxRetries",2,g),this.wa=Lo("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new _r(g&&g.concurrentRequestLimit),this.Da=new Oo,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=$l.prototype,e.la=8,e.G=1,e.connect=function(g,w,A,L){ze(0),this.W=g,this.H=w||{},A&&L!==void 0&&(this.H.OSID=A,this.H.OAID=L),this.F=this.X,this.I=_f(this,null,this.W),Wl(this)};function Du(g){if(df(g),g.G==3){var w=g.U++,A=Ri(g.I);if(Te(A,"SID",g.K),Te(A,"RID",w),Te(A,"TYPE","terminate"),jo(g,A),w=new di(g,g.j,w),w.L=2,w.v=Do(Ri(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!A&&c.Image&&(new Image().src=w.v,A=!0),A||(w.g=bf(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Ao(w)}yf(g)}function Hl(g){g.g&&(Vo(g),g.g.cancel(),g.g=null)}function df(g){Hl(g),g.u&&(c.clearTimeout(g.u),g.u=null),Yl(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function Wl(g){if(!Ll(g.h)&&!g.s){g.s=!0;var w=g.Ga;J||q(),pt||(J(),pt=!0),yt.add(w,g),g.B=0}}function ay(g,w){return jl(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=w.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=on(_(g.Ga,g,w),Ou(g,g.B)),g.B++,!0)}e.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const it=new di(this,this.j,g);let ct=this.o;if(this.S&&(ct?(ct=k(ct),V(ct,this.S)):ct=this.S),this.m!==null||this.O||(it.H=ct,ct=null),this.P)t:{for(var w=0,A=0;A<this.i.length;A++){e:{var L=this.i[A];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break e}L=void 0}if(L===void 0)break;if(w+=L,4096<w){w=A;break t}if(w===4096||A===this.i.length-1){w=A+1;break t}}w=1e3}else w=1e3;w=ff(this,it,w),A=Ri(this.I),Te(A,"RID",g),Te(A,"CVER",22),this.D&&Te(A,"X-HTTP-Session-Id",this.D),jo(this,A),ct&&(this.O?w="headers="+encodeURIComponent(String(Cu(ct)))+"&"+w:this.m&&Dn(A,this.m,ct)),Vl(this.h,it),this.Ua&&Te(A,"TYPE","init"),this.P?(Te(A,"$req",w),Te(A,"SID","null"),it.T=!0,cs(it,A,null)):cs(it,A,w),this.G=2}}else this.G==3&&(g?Mu(this,g):this.i.length==0||Ll(this.h)||Mu(this))};function Mu(g,w){var A;w?A=w.l:A=g.U++;const L=Ri(g.I);Te(L,"SID",g.K),Te(L,"RID",A),Te(L,"AID",g.T),jo(g,L),g.m&&g.o&&Dn(L,g.m,g.o),A=new di(g,g.j,A,g.B+1),g.m===null&&(A.H=g.o),w&&(g.i=w.D.concat(g.i)),w=ff(g,A,1e3),A.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Vl(g.h,A),cs(A,L,w)}function jo(g,w){g.H&&G(g.H,function(A,L){Te(w,L,A)}),g.l&&Su({},function(A,L){Te(w,L,A)})}function ff(g,w,A){A=Math.min(g.i.length,A);var L=g.l?_(g.l.Na,g.l,g):null;t:{var it=g.i;let ct=-1;for(;;){const vt=["count="+A];ct==-1?0<A?(ct=it[0].g,vt.push("ofs="+ct)):ct=0:vt.push("ofs="+ct);let ae=!0;for(let vn=0;vn<A;vn++){let oe=it[vn].g;const Mn=it[vn].map;if(oe-=ct,0>oe)ct=Math.max(0,it[vn].g-100),ae=!1;else try{Os(Mn,vt,"req"+oe+"_")}catch{L&&L(Mn)}}if(ae){L=vt.join("&");break t}}}return g=g.i.splice(0,A),w.D=g,L}function pf(g){if(!g.g&&!g.u){g.Y=1;var w=g.Fa;J||q(),pt||(J(),pt=!0),yt.add(w,g),g.v=0}}function Iu(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=on(_(g.Fa,g),Ou(g,g.v)),g.v++,!0)}e.Fa=function(){if(this.u=null,gf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=on(_(this.ab,this),g)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ze(10),Hl(this),gf(this))};function Vo(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function gf(g){g.g=new di(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var w=Ri(g.qa);Te(w,"RID","rpc"),Te(w,"SID",g.K),Te(w,"AID",g.T),Te(w,"CI",g.F?"0":"1"),!g.F&&g.ja&&Te(w,"TO",g.ja),Te(w,"TYPE","xmlhttp"),jo(g,w),g.m&&g.o&&Dn(w,g.m,g.o),g.L&&(g.g.I=g.L);var A=g.g;g=g.ia,A.L=1,A.v=Do(Ri(w)),A.m=null,A.P=!0,yr(A,g)}e.Za=function(){this.C!=null&&(this.C=null,Hl(this),Iu(this),ze(19))};function Yl(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function mf(g,w){var A=null;if(g.g==w){Yl(g),Vo(g),g.g=null;var L=2}else if(wu(g.h,w))A=w.D,fi(g.h,w),L=1;else return;if(g.G!=0){if(w.o)if(L==1){A=w.m?w.m.length:0,w=Date.now()-w.F;var it=g.B;L=Rs(),Jt(L,new bn(L,A)),Wl(g)}else pf(g);else if(it=w.s,it==3||it==0&&0<w.X||!(L==1&&ay(g,w)||L==2&&Iu(g)))switch(A&&0<A.length&&(w=g.h,w.i=w.i.concat(A)),it){case 1:Sr(g,5);break;case 4:Sr(g,10);break;case 3:Sr(g,6);break;default:Sr(g,2)}}}function Ou(g,w){let A=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(A*=2),A*w}function Sr(g,w){if(g.j.info("Error code "+w),w==2){var A=_(g.fb,g),L=g.Xa;const it=!L;L=new ln(L||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Co(L,"https"),Do(L),it?Io(L.toString(),A):us(L.toString(),A)}else ze(2);g.G=0,g.l&&g.l.sa(w),yf(g),df(g)}e.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ze(2)):(this.j.info("Failed to ping google.com"),ze(1))};function yf(g){if(g.G=0,g.ka=[],g.l){const w=Eu(g.h);(w.length!=0||g.i.length!=0)&&(T(g.ka,w),T(g.ka,g.i),g.h.i.length=0,S(g.i),g.i.length=0),g.l.ra()}}function _f(g,w,A){var L=A instanceof ln?Ri(A):new ln(A);if(L.g!="")w&&(L.g=w+"."+L.g),ma(L,L.s);else{var it=c.location;L=it.protocol,w=w?w+"."+it.hostname:it.hostname,it=+it.port;var ct=new ln(null);L&&Co(ct,L),w&&(ct.g=w),it&&ma(ct,it),A&&(ct.l=A),L=ct}return A=g.D,w=g.ya,A&&w&&Te(L,A,w),Te(L,"VER",g.la),jo(g,L),L}function bf(g,w,A){if(w&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Ca&&!g.pa?new ye(new ya({eb:A})):new ye(g.pa),w.Ha(g.J),w}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function vf(){}e=vf.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Gl(){}Gl.prototype.g=function(g,w){return new pi(g,w)};function pi(g,w){de.call(this),this.g=new $l(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(g?g["X-WebChannel-Client-Profile"]=w.va:g={"X-WebChannel-Client-Profile":w.va}),this.g.S=g,(g=w&&w.Sb)&&!M(g)&&(this.g.m=g),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!M(w)&&(this.g.D=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new js(this)}E(pi,de),pi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pi.prototype.close=function(){Du(this.g)},pi.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var A={};A.__data__=g,g=A}else this.u&&(A={},A.__data__=ki(g),g=A);w.i.push(new of(w.Ya++,g)),w.G==3&&Wl(w)},pi.prototype.N=function(){this.g.l=null,delete this.j,Du(this.g),delete this.g,pi.aa.N.call(this)};function xf(g){he.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){t:{for(const A in w){g=A;break t}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}E(xf,he);function wf(){Cn.call(this),this.status=1}E(wf,Cn);function js(g){this.g=g}E(js,vf),js.prototype.ua=function(){Jt(this.g,"a")},js.prototype.ta=function(g){Jt(this.g,new xf(g))},js.prototype.sa=function(g){Jt(this.g,new wf)},js.prototype.ra=function(){Jt(this.g,"b")},Gl.prototype.createWebChannel=Gl.prototype.g,pi.prototype.send=pi.prototype.o,pi.prototype.open=pi.prototype.m,pi.prototype.close=pi.prototype.close,MC=function(){return new Gl},DC=function(){return Rs()},CC=Ht,y0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pa.NO_ERROR=0,pa.TIMEOUT=8,pa.HTTP_ERROR=6,fg=pa,mr.COMPLETE="complete",RC=mr,me.EventType=Vt,Vt.OPEN="a",Vt.CLOSE="b",Vt.ERROR="c",Vt.MESSAGE="d",de.prototype.listen=de.prototype.K,zh=me,ye.prototype.listenOnce=ye.prototype.L,ye.prototype.getLastError=ye.prototype.Ka,ye.prototype.getLastErrorCode=ye.prototype.Ba,ye.prototype.getStatus=ye.prototype.Z,ye.prototype.getResponseJson=ye.prototype.Oa,ye.prototype.getResponseText=ye.prototype.oa,ye.prototype.send=ye.prototype.ea,ye.prototype.setWithCredentials=ye.prototype.Ha,kC=ye}).apply(typeof Ap<"u"?Ap:typeof self<"u"?self:typeof window<"u"?window:{});const zS="@firebase/firestore",FS="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}si.UNAUTHENTICATED=new si(null),si.GOOGLE_CREDENTIALS=new si("google-credentials-uid"),si.FIRST_PARTY=new si("first-party-uid"),si.MOCK_USER=new si("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=new yv("@firebase/firestore");function Rc(){return wl.logLevel}function Rt(e,...t){if(wl.logLevel<=ie.DEBUG){const n=t.map(xv);wl.debug(`Firestore (${hu}): ${e}`,...n)}}function sa(e,...t){if(wl.logLevel<=ie.ERROR){const n=t.map(xv);wl.error(`Firestore (${hu}): ${e}`,...n)}}function Yc(e,...t){if(wl.logLevel<=ie.WARN){const n=t.map(xv);wl.warn(`Firestore (${hu}): ${e}`,...n)}}function xv(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,IC(e,i,n)}function IC(e,t,n){let i=`FIRESTORE (${hu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw sa(i),new Error(i)}function ve(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||IC(t,s,i)}function qt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends or{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class C4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(si.UNAUTHENTICATED))}shutdown(){}}class D4{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class M4{constructor(t){this.t=t,this.currentUser=si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ve(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let r=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Jr,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=r;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Jr)}},0),l()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ve(typeof i.accessToken=="string",31837,{l:i}),new OC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ve(t===null||typeof t=="string",2055,{h:t}),new si(t)}}class I4{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=si.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class O4{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new I4(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(si.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P4{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,is(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ve(this.o===void 0,3512);const i=r=>{r.error!=null&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const l=r.token!==this.m;return this.m=r.token,Rt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new BS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new BS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=N4(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%62))}return i}}function se(e,t){return e<t?-1:e>t?1:0}function _0(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.charAt(i),r=t.charAt(i);if(s!==r)return gb(s)===gb(r)?se(s,r):gb(s)?1:-1}return se(e.length,t.length)}const L4=55296,j4=57343;function gb(e){const t=e.charCodeAt(0);return t>=L4&&t<=j4}function Gc(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="__name__";class Gs{constructor(t,n,i){n===void 0?n=0:n>t.length&&Ut(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Ut(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Gs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Gs?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=Gs.compareSegments(t.get(s),n.get(s));if(r!==0)return r}return se(t.length,n.length)}static compareSegments(t,n){const i=Gs.isNumericId(t),s=Gs.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Gs.extractNumericId(t).compare(Gs.extractNumericId(n)):_0(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return io.fromString(t.substring(4,t.length-2))}}class Pe extends Gs{construct(t,n,i){return new Pe(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new At(ft.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const V4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends Gs{construct(t,n,i){return new Kn(t,n,i)}static isValidIdentifier(t){return V4.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qS}static keyField(){return new Kn([qS])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new At(ft.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new At(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new At(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(r(),s++)}if(r(),l)throw new At(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Kn(n)}static emptyPath(){return new Kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(t){this.path=t}static fromPath(t){return new Pt(Pe.fromString(t))}static fromName(t){return new Pt(Pe.fromString(t).popFirst(5))}static empty(){return new Pt(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Pe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Pe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Pt(new Pe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(e,t,n){if(!n)throw new At(ft.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function U4(e,t,n,i){if(t===!0&&i===!0)throw new At(ft.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function $S(e){if(!Pt.isDocumentKey(e))throw new At(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function HS(e){if(Pt.isDocumentKey(e))throw new At(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function NC(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function xm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ut(12329,{type:typeof e})}function zi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new At(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xm(e);throw new At(ft.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(e,t){const n={typeString:e};return t&&(n.value=t),n}function Fd(e,t){if(!NC(e))throw new At(ft.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,r="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const l=e[i];if(s&&typeof l!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(r!==void 0&&l!==r.value){n=`Expected '${i}' field to equal '${r.value}'`;break}}if(n)throw new At(ft.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=-62135596800,YS=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(t){return Ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*YS);return new Ie(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new At(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new At(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<WS)throw new At(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new At(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/YS}_compareTo(t){return this.seconds===t.seconds?se(this.nanoseconds,t.nanoseconds):se(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fd(t,Ie._jsonSchema))return new Ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-WS;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ie._jsonSchemaVersion="firestore/timestamp/1.0",Ie._jsonSchema={type:yn("string",Ie._jsonSchemaVersion),seconds:yn("number"),nanoseconds:yn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{static fromTimestamp(t){return new Ft(t)}static min(){return new Ft(new Ie(0,0))}static max(){return new Ft(new Ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=-1;function z4(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=Ft.fromTimestamp(i===1e9?new Ie(n+1,0):new Ie(n,i));return new oo(s,Pt.empty(),t)}function F4(e){return new oo(e.readTime,e.key,_d)}class oo{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new oo(Ft.min(),Pt.empty(),_d)}static max(){return new oo(Ft.max(),Pt.empty(),_d)}}function B4(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Pt.comparator(e.documentKey,t.documentKey),n!==0?n:se(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(e){if(e.code!==ft.FAILED_PRECONDITION||e.message!==q4)throw e;Rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new mt((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof mt?n:mt.resolve(n)}catch(n){return mt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):mt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):mt.reject(n)}static resolve(t){return new mt((n,i)=>{n(t)})}static reject(t){return new mt((n,i)=>{i(t)})}static waitFor(t){return new mt((n,i)=>{let s=0,r=0,l=!1;t.forEach(c=>{++s,c.next(()=>{++r,l&&r===s&&n()},h=>i(h))}),l=!0,r===s&&n()})}static or(t){let n=mt.resolve(!1);for(const i of t)n=n.next(s=>s?mt.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(t,n){return new mt((i,s)=>{const r=t.length,l=new Array(r);let c=0;for(let h=0;h<r;h++){const d=h;n(t[d]).next(p=>{l[d]=p,++c,c===r&&i(l)},p=>s(p))}})}static doWhile(t,n){return new mt((i,s)=>{const r=()=>{t()===!0?n().next(()=>{r()},s):i()};r()})}}function H4(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}wm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=-1;function Em(e){return e==null}function Vg(e){return e===0&&1/e==-1/0}function W4(e){return typeof e=="number"&&Number.isInteger(e)&&!Vg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="";function Y4(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=GS(t)),t=G4(e.get(n),t);return GS(t)}function G4(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const r=e.charAt(s);switch(r){case"\0":n+="";break;case LC:n+="";break;default:n+=r}}return n}function GS(e){return e+LC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _o(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function jC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t,n){this.comparator=t,this.root=n||Gn.EMPTY}insert(t,n){return new Ge(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Gn.BLACK,null,null))}remove(t){return new Ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Gn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kp(this.root,t,this.comparator,!1)}getReverseIterator(){return new kp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kp(this.root,t,this.comparator,!0)}}class kp{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&s&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Gn{constructor(t,n,i,s,r){this.key=t,this.value=n,this.color=i??Gn.RED,this.left=s??Gn.EMPTY,this.right=r??Gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,r){return new Gn(t??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const r=i(t,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(t,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Gn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Gn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ut(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ut(27949);return t+(this.isRed()?0:1)}}Gn.EMPTY=null,Gn.RED=!0,Gn.BLACK=!1;Gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut(57766)}get value(){throw Ut(16141)}get color(){throw Ut(16727)}get left(){throw Ut(29726)}get right(){throw Ut(36894)}copy(t,n,i,s,r){return this}insert(t,n,i){return new Gn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.comparator=t,this.data=new Ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new XS(this.data.getIterator())}getIteratorFrom(t){return new XS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Tn)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Tn(this.comparator);return n.data=t,n}}class XS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(t){this.fields=t,t.sort(Kn.comparator)}static empty(){return new Ui([])}unionWith(t){let n=new Tn(Kn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Ui(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Gc(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new VC("Invalid base64 string: "+r):r}}(t);return new Xn(n)}static fromUint8Array(t){const n=function(s){let r="";for(let l=0;l<s.length;++l)r+=String.fromCharCode(s[l]);return r}(t);return new Xn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return se(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xn.EMPTY_BYTE_STRING=new Xn("");const K4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lo(e){if(ve(!!e,39018),typeof e=="string"){let t=0;const n=K4.exec(e);if(ve(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:nn(e.seconds),nanos:nn(e.nanos)}}function nn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function co(e){return typeof e=="string"?Xn.fromBase64String(e):Xn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="server_timestamp",zC="__type__",FC="__previous_value__",BC="__local_write_time__";function Sv(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[zC])==null?void 0:i.stringValue)===UC}function Sm(e){const t=e.mapValue.fields[FC];return Sv(t)?Sm(t):t}function bd(e){const t=lo(e.mapValue.fields[BC].timestampValue);return new Ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(t,n,i,s,r,l,c,h,d,p){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=p}}const Ug="(default)";class vd{constructor(t,n){this.projectId=t,this.database=n||Ug}static empty(){return new vd("","")}get isDefaultDatabase(){return this.database===Ug}isEqual(t){return t instanceof vd&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="__type__",Q4="__max__",Rp={mapValue:{}},$C="__vector__",zg="value";function uo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Sv(e)?4:J4(e)?9007199254740991:Z4(e)?10:11:Ut(28295,{value:e})}function sr(e,t){if(e===t)return!0;const n=uo(e);if(n!==uo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bd(e).isEqual(bd(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const l=lo(s.timestampValue),c=lo(r.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,r){return co(s.bytesValue).isEqual(co(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,r){return nn(s.geoPointValue.latitude)===nn(r.geoPointValue.latitude)&&nn(s.geoPointValue.longitude)===nn(r.geoPointValue.longitude)}(e,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return nn(s.integerValue)===nn(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const l=nn(s.doubleValue),c=nn(r.doubleValue);return l===c?Vg(l)===Vg(c):isNaN(l)&&isNaN(c)}return!1}(e,t);case 9:return Gc(e.arrayValue.values||[],t.arrayValue.values||[],sr);case 10:case 11:return function(s,r){const l=s.mapValue.fields||{},c=r.mapValue.fields||{};if(KS(l)!==KS(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!sr(l[h],c[h])))return!1;return!0}(e,t);default:return Ut(52216,{left:e})}}function xd(e,t){return(e.values||[]).find(n=>sr(n,t))!==void 0}function Kc(e,t){if(e===t)return 0;const n=uo(e),i=uo(t);if(n!==i)return se(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(e.booleanValue,t.booleanValue);case 2:return function(r,l){const c=nn(r.integerValue||r.doubleValue),h=nn(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(e,t);case 3:return QS(e.timestampValue,t.timestampValue);case 4:return QS(bd(e),bd(t));case 5:return _0(e.stringValue,t.stringValue);case 6:return function(r,l){const c=co(r),h=co(l);return c.compareTo(h)}(e.bytesValue,t.bytesValue);case 7:return function(r,l){const c=r.split("/"),h=l.split("/");for(let d=0;d<c.length&&d<h.length;d++){const p=se(c[d],h[d]);if(p!==0)return p}return se(c.length,h.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,l){const c=se(nn(r.latitude),nn(l.latitude));return c!==0?c:se(nn(r.longitude),nn(l.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ZS(e.arrayValue,t.arrayValue);case 10:return function(r,l){var _,x,E,S;const c=r.fields||{},h=l.fields||{},d=(_=c[zg])==null?void 0:_.arrayValue,p=(x=h[zg])==null?void 0:x.arrayValue,y=se(((E=d==null?void 0:d.values)==null?void 0:E.length)||0,((S=p==null?void 0:p.values)==null?void 0:S.length)||0);return y!==0?y:ZS(d,p)}(e.mapValue,t.mapValue);case 11:return function(r,l){if(r===Rp.mapValue&&l===Rp.mapValue)return 0;if(r===Rp.mapValue)return 1;if(l===Rp.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),d=l.fields||{},p=Object.keys(d);h.sort(),p.sort();for(let y=0;y<h.length&&y<p.length;++y){const _=_0(h[y],p[y]);if(_!==0)return _;const x=Kc(c[h[y]],d[p[y]]);if(x!==0)return x}return se(h.length,p.length)}(e.mapValue,t.mapValue);default:throw Ut(23264,{he:n})}}function QS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return se(e,t);const n=lo(e),i=lo(t),s=se(n.seconds,i.seconds);return s!==0?s:se(n.nanos,i.nanos)}function ZS(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=Kc(n[s],i[s]);if(r)return r}return se(n.length,i.length)}function Xc(e){return b0(e)}function b0(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=lo(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return co(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Pt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=b0(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const l of i)r?r=!1:s+=",",s+=`${l}:${b0(n.fields[l])}`;return s+"}"}(e.mapValue):Ut(61005,{value:e})}function pg(e){switch(uo(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Sm(e);return t?16+pg(t):16;case 5:return 2*e.stringValue.length;case 6:return co(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+pg(r),0)}(e.arrayValue);case 10:case 11:return function(i){let s=0;return _o(i.fields,(r,l)=>{s+=r.length+pg(l)}),s}(e.mapValue);default:throw Ut(13486,{value:e})}}function JS(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function v0(e){return!!e&&"integerValue"in e}function Tv(e){return!!e&&"arrayValue"in e}function tT(e){return!!e&&"nullValue"in e}function eT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gg(e){return!!e&&"mapValue"in e}function Z4(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[qC])==null?void 0:i.stringValue)===$C}function Zh(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return _o(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Zh(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Zh(e.arrayValue.values[n]);return t}return{...e}}function J4(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Q4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(t){this.value=t}static empty(){return new Ti({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!gg(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zh(n)}setAll(t){let n=Kn.emptyPath(),i={},s=[];t.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=c.popLast()}l?i[c.lastSegment()]=Zh(l):s.push(c.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(t){const n=this.field(t.popLast());gg(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return sr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];gg(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){_o(n,(s,r)=>t[s]=r);for(const s of i)delete t[s]}clone(){return new Ti(Zh(this.value))}}function HC(e){const t=[];return _o(e.fields,(n,i)=>{const s=new Kn([n]);if(gg(i)){const r=HC(i.mapValue).fields;if(r.length===0)t.push(s);else for(const l of r)t.push(s.child(l))}else t.push(s)}),new Ui(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t,n,i,s,r,l,c){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=l,this.documentState=c}static newInvalidDocument(t){return new ai(t,0,Ft.min(),Ft.min(),Ft.min(),Ti.empty(),0)}static newFoundDocument(t,n,i,s){return new ai(t,1,n,Ft.min(),i,s,0)}static newNoDocument(t,n){return new ai(t,2,n,Ft.min(),Ft.min(),Ti.empty(),0)}static newUnknownDocument(t,n){return new ai(t,3,n,Ft.min(),Ft.min(),Ti.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ai&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ai(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(t,n){this.position=t,this.inclusive=n}}function nT(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const r=t[s],l=e.position[s];if(r.field.isKeyField()?i=Pt.comparator(Pt.fromName(l.referenceValue),n.key):i=Kc(l,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function iT(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!sr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(t,n="asc"){this.field=t,this.dir=n}}function tV(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{}class mn extends WC{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new nV(t,n,i):n==="array-contains"?new rV(t,i):n==="in"?new aV(t,i):n==="not-in"?new oV(t,i):n==="array-contains-any"?new lV(t,i):new mn(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new iV(t,i):new sV(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Kc(n,this.value)):n!==null&&uo(this.value)===uo(n)&&this.matchesComparison(Kc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Es extends WC{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Es(t,n)}matches(t){return YC(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YC(e){return e.op==="and"}function GC(e){return eV(e)&&YC(e)}function eV(e){for(const t of e.filters)if(t instanceof Es)return!1;return!0}function x0(e){if(e instanceof mn)return e.field.canonicalString()+e.op.toString()+Xc(e.value);if(GC(e))return e.filters.map(t=>x0(t)).join(",");{const t=e.filters.map(n=>x0(n)).join(",");return`${e.op}(${t})`}}function KC(e,t){return e instanceof mn?function(i,s){return s instanceof mn&&i.op===s.op&&i.field.isEqual(s.field)&&sr(i.value,s.value)}(e,t):e instanceof Es?function(i,s){return s instanceof Es&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,l,c)=>r&&KC(l,s.filters[c]),!0):!1}(e,t):void Ut(19439)}function XC(e){return e instanceof mn?function(n){return`${n.field.canonicalString()} ${n.op} ${Xc(n.value)}`}(e):e instanceof Es?function(n){return n.op.toString()+" {"+n.getFilters().map(XC).join(" ,")+"}"}(e):"Filter"}class nV extends mn{constructor(t,n,i){super(t,n,i),this.key=Pt.fromName(i.referenceValue)}matches(t){const n=Pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class iV extends mn{constructor(t,n){super(t,"in",n),this.keys=QC("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class sV extends mn{constructor(t,n){super(t,"not-in",n),this.keys=QC("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function QC(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(i=>Pt.fromName(i.referenceValue))}class rV extends mn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Tv(n)&&xd(n.arrayValue,this.value)}}class aV extends mn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&xd(this.value.arrayValue,n)}}class oV extends mn{constructor(t,n){super(t,"not-in",n)}matches(t){if(xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xd(this.value.arrayValue,n)}}class lV extends mn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Tv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>xd(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(t,n=null,i=[],s=[],r=null,l=null,c=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=l,this.endAt=c,this.Te=null}}function sT(e,t=null,n=[],i=[],s=null,r=null,l=null){return new cV(e,t,n,i,s,r,l)}function Av(e){const t=qt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>x0(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Em(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Xc(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Xc(i)).join(",")),t.Te=n}return t.Te}function kv(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!tV(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!KC(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!iT(e.startAt,t.startAt)&&iT(e.endAt,t.endAt)}function w0(e){return Pt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(t,n=null,i=[],s=[],r=null,l="F",c=null,h=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function uV(e,t,n,i,s,r,l,c){return new pu(e,t,n,i,s,r,l,c)}function Tm(e){return new pu(e)}function rT(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function ZC(e){return e.collectionGroup!==null}function Jh(e){const t=qt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const r of t.explicitOrderBy)t.Ie.push(r),n.add(r.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Tn(Kn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(t).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new wd(r,i))}),n.has(Kn.keyField().canonicalString())||t.Ie.push(new wd(Kn.keyField(),i))}return t.Ie}function Qs(e){const t=qt(e);return t.Ee||(t.Ee=hV(t,Jh(e))),t.Ee}function hV(e,t){if(e.limitType==="F")return sT(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new wd(s.field,r)});const n=e.endAt?new Fg(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Fg(e.startAt.position,e.startAt.inclusive):null;return sT(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function E0(e,t){const n=e.filters.concat([t]);return new pu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function S0(e,t,n){return new pu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Am(e,t){return kv(Qs(e),Qs(t))&&e.limitType===t.limitType}function JC(e){return`${Av(Qs(e))}|lt:${e.limitType}`}function Cc(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>XC(s)).join(", ")}]`),Em(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Xc(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Xc(s)).join(",")),`Target(${i})`}(Qs(e))}; limitType=${e.limitType})`}function km(e,t){return t.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):Pt.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,s){for(const r of Jh(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(l,c,h){const d=nT(l,c,h);return l.inclusive?d<=0:d<0}(i.startAt,Jh(i),s)||i.endAt&&!function(l,c,h){const d=nT(l,c,h);return l.inclusive?d>=0:d>0}(i.endAt,Jh(i),s))}(e,t)}function dV(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function tD(e){return(t,n)=>{let i=!1;for(const s of Jh(e)){const r=fV(s,t,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function fV(e,t,n){const i=e.field.isKeyField()?Pt.comparator(t.key,n.key):function(r,l,c){const h=l.data.field(r),d=c.data.field(r);return h!==null&&d!==null?Kc(h,d):Ut(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Ut(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return void(s[r]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){_o(this.inner,(n,i)=>{for(const[s,r]of i)t(s,r)})}isEmpty(){return jC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=new Ge(Pt.comparator);function ra(){return pV}const eD=new Ge(Pt.comparator);function Fh(...e){let t=eD;for(const n of e)t=t.insert(n.key,n);return t}function nD(e){let t=eD;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function hl(){return td()}function iD(){return td()}function td(){return new Dl(e=>e.toString(),(e,t)=>e.isEqual(t))}const gV=new Ge(Pt.comparator),mV=new Tn(Pt.comparator);function re(...e){let t=mV;for(const n of e)t=t.add(n);return t}const yV=new Tn(se);function _V(){return yV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vg(t)?"-0":t}}function sD(e){return{integerValue:""+e}}function bV(e,t){return W4(t)?sD(t):Rv(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(){this._=void 0}}function vV(e,t,n){return e instanceof Ed?function(s,r){const l={fields:{[zC]:{stringValue:UC},[BC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Sv(r)&&(r=Sm(r)),r&&(l.fields[FC]=r),{mapValue:l}}(n,t):e instanceof Qc?aD(e,t):e instanceof Zc?oD(e,t):function(s,r){const l=rD(s,r),c=aT(l)+aT(s.Ae);return v0(l)&&v0(s.Ae)?sD(c):Rv(s.serializer,c)}(e,t)}function xV(e,t,n){return e instanceof Qc?aD(e,t):e instanceof Zc?oD(e,t):n}function rD(e,t){return e instanceof Bg?function(i){return v0(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class Ed extends Rm{}class Qc extends Rm{constructor(t){super(),this.elements=t}}function aD(e,t){const n=lD(t);for(const i of e.elements)n.some(s=>sr(s,i))||n.push(i);return{arrayValue:{values:n}}}class Zc extends Rm{constructor(t){super(),this.elements=t}}function oD(e,t){let n=lD(t);for(const i of e.elements)n=n.filter(s=>!sr(s,i));return{arrayValue:{values:n}}}class Bg extends Rm{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function aT(e){return nn(e.integerValue||e.doubleValue)}function lD(e){return Tv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(t,n){this.field=t,this.transform=n}}function wV(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof Qc&&s instanceof Qc||i instanceof Zc&&s instanceof Zc?Gc(i.elements,s.elements,sr):i instanceof Bg&&s instanceof Bg?sr(i.Ae,s.Ae):i instanceof Ed&&s instanceof Ed}(e.transform,t.transform)}class EV{constructor(t,n){this.version=t,this.transformResults=n}}class xs{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new xs}static exists(t){return new xs(void 0,t)}static updateTime(t){return new xs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function mg(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Cm{}function cD(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new hD(e.key,xs.none()):new Bd(e.key,e.data,xs.none());{const n=e.data,i=Ti.empty();let s=new Tn(Kn.comparator);for(let r of t.fields)if(!s.has(r)){let l=n.field(r);l===null&&r.length>1&&(r=r.popLast(),l=n.field(r)),l===null?i.delete(r):i.set(r,l),s=s.add(r)}return new bo(e.key,i,new Ui(s.toArray()),xs.none())}}function SV(e,t,n){e instanceof Bd?function(s,r,l){const c=s.value.clone(),h=lT(s.fieldTransforms,r,l.transformResults);c.setAll(h),r.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(e,t,n):e instanceof bo?function(s,r,l){if(!mg(s.precondition,r))return void r.convertToUnknownDocument(l.version);const c=lT(s.fieldTransforms,r,l.transformResults),h=r.data;h.setAll(uD(s)),h.setAll(c),r.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(e,t,n):function(s,r,l){r.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,n)}function ed(e,t,n,i){return e instanceof Bd?function(r,l,c,h){if(!mg(r.precondition,l))return c;const d=r.value.clone(),p=cT(r.fieldTransforms,h,l);return d.setAll(p),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(e,t,n,i):e instanceof bo?function(r,l,c,h){if(!mg(r.precondition,l))return c;const d=cT(r.fieldTransforms,h,l),p=l.data;return p.setAll(uD(r)),p.setAll(d),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(y=>y.field))}(e,t,n,i):function(r,l,c){return mg(r.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(e,t,n)}function TV(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),r=rD(i.transform,s||null);r!=null&&(n===null&&(n=Ti.empty()),n.set(i.field,r))}return n||null}function oT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Gc(i,s,(r,l)=>wV(r,l))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Bd extends Cm{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class bo extends Cm{constructor(t,n,i,s,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function uD(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function lT(e,t,n){const i=new Map;ve(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const r=e[s],l=r.transform,c=t.data.field(r.field);i.set(r.field,xV(l,c,n[s]))}return i}function cT(e,t,n){const i=new Map;for(const s of e){const r=s.transform,l=n.data.field(s.field);i.set(s.field,vV(r,l,t))}return i}class hD extends Cm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AV extends Cm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(t.key)&&SV(r,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=ed(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=ed(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=iD();return this.mutations.forEach(s=>{const r=t.get(s.key),l=r.overlayedDocument;let c=this.applyToLocalView(l,r.mutatedFields);c=n.has(s.key)?null:c;const h=cD(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Ft.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),re())}isEqual(t){return this.batchId===t.batchId&&Gc(this.mutations,t.mutations,(n,i)=>oT(n,i))&&Gc(this.baseMutations,t.baseMutations,(n,i)=>oT(n,i))}}class Dv{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){ve(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let s=function(){return gV}();const r=t.mutations;for(let l=0;l<r.length;l++)s=s.insert(r[l].key,i[l].version);return new Dv(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pn,ce;function DV(e){switch(e){case ft.OK:return Ut(64938);case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0;default:return Ut(15467,{code:e})}}function dD(e){if(e===void 0)return sa("GRPC error has no .code"),ft.UNKNOWN;switch(e){case pn.OK:return ft.OK;case pn.CANCELLED:return ft.CANCELLED;case pn.UNKNOWN:return ft.UNKNOWN;case pn.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case pn.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case pn.INTERNAL:return ft.INTERNAL;case pn.UNAVAILABLE:return ft.UNAVAILABLE;case pn.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case pn.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case pn.NOT_FOUND:return ft.NOT_FOUND;case pn.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case pn.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case pn.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case pn.ABORTED:return ft.ABORTED;case pn.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case pn.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case pn.DATA_LOSS:return ft.DATA_LOSS;default:return Ut(39323,{code:e})}}(ce=pn||(pn={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=new io([4294967295,4294967295],0);function uT(e){const t=MV().encode(e),n=new AC;return n.update(t),new Uint8Array(n.digest())}function hT(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new io([n,i],0),new io([s,r],0)]}class Mv{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Bh(`Invalid padding: ${n}`);if(i<0)throw new Bh(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Bh(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Bh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=io.fromNumber(this.ge)}ye(t,n,i){let s=t.add(n.multiply(io.fromNumber(i)));return s.compare(IV)===1&&(s=new io([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=uT(t),[i,s]=hT(n);for(let r=0;r<this.hashCount;r++){const l=this.ye(i,s,r);if(!this.we(l))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),l=new Mv(r,s,n);return i.forEach(c=>l.insert(c)),l}insert(t){if(this.ge===0)return;const n=uT(t),[i,s]=hT(n);for(let r=0;r<this.hashCount;r++){const l=this.ye(i,s,r);this.Se(l)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Bh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(t,n,i,s,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,qd.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Dm(Ft.min(),s,new Ge(se),ra(),re())}}class qd{constructor(t,n,i,s,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new qd(i,n,re(),re(),re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t,n,i,s){this.be=t,this.removedTargetIds=n,this.key=i,this.De=s}}class fD{constructor(t,n){this.targetId=t,this.Ce=n}}class pD{constructor(t,n,i=Xn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class dT{constructor(){this.ve=0,this.Fe=fT(),this.Me=Xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=re(),n=re(),i=re();return this.Fe.forEach((s,r)=>{switch(r){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Ut(38017,{changeType:r})}}),new qd(this.Me,this.xe,t,n,i)}qe(){this.Oe=!1,this.Fe=fT()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class OV{constructor(t){this.Ge=t,this.ze=new Map,this.je=ra(),this.Je=Cp(),this.He=Cp(),this.Ye=new Ge(se)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:Ut(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,s)=>{this.rt(s)&&n(s)})}st(t){const n=t.targetId,i=t.Ce.count,s=this.ot(n);if(s){const r=s.target;if(w0(r))if(i===0){const l=new Pt(r.path);this.et(n,l,ai.newNoDocument(l,Ft.min()))}else ve(i===1,20013,{expectedCount:i});else{const l=this._t(n);if(l!==i){const c=this.ut(t),h=c?this.ct(c,t,l):1;if(h!==0){this.it(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let l,c;try{l=co(i).toUint8Array()}catch(h){if(h instanceof VC)return Yc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Mv(l,s,r)}catch(h){return Yc(h instanceof Bh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${r.path.canonicalString()}`;t.mightContain(c)||(this.et(n,r,null),s++)}),s}Tt(t){const n=new Map;this.ze.forEach((r,l)=>{const c=this.ot(l);if(c){if(r.current&&w0(c.target)){const h=new Pt(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,ai.newNoDocument(h,t))}r.Be&&(n.set(l,r.ke()),r.qe())}});let i=re();this.He.forEach((r,l)=>{let c=!0;l.forEachWhile(h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(r))}),this.je.forEach((r,l)=>l.setReadTime(t));const s=new Dm(t,n,this.Ye,this.je,i);return this.je=ra(),this.Je=Cp(),this.He=Cp(),this.Ye=new Ge(se),s}Xe(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new dT,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Tn(se),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Tn(se),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Rt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new dT),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Cp(){return new Ge(Pt.comparator)}function fT(){return new Ge(Pt.comparator)}const PV={asc:"ASCENDING",desc:"DESCENDING"},NV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LV={and:"AND",or:"OR"};class jV{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function T0(e,t){return e.useProto3Json||Em(t)?t:{value:t}}function qg(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gD(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function VV(e,t){return qg(e,t.toTimestamp())}function Zs(e){return ve(!!e,49232),Ft.fromTimestamp(function(n){const i=lo(n);return new Ie(i.seconds,i.nanos)}(e))}function Iv(e,t){return A0(e,t).canonicalString()}function A0(e,t){const n=function(s){return new Pe(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function mD(e){const t=Pe.fromString(e);return ve(xD(t),10190,{key:t.toString()}),t}function k0(e,t){return Iv(e.databaseId,t.path)}function mb(e,t){const n=mD(t);if(n.get(1)!==e.databaseId.projectId)throw new At(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new At(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Pt(_D(n))}function yD(e,t){return Iv(e.databaseId,t)}function UV(e){const t=mD(e);return t.length===4?Pe.emptyPath():_D(t)}function R0(e){return new Pe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _D(e){return ve(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function pT(e,t,n){return{name:k0(e,t),fields:n.value.mapValue.fields}}function zV(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ut(39313,{state:d})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],r=function(d,p){return d.useProto3Json?(ve(p===void 0||typeof p=="string",58123),Xn.fromBase64String(p||"")):(ve(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Xn.fromUint8Array(p||new Uint8Array))}(e,t.targetChange.resumeToken),l=t.targetChange.cause,c=l&&function(d){const p=d.code===void 0?ft.UNKNOWN:dD(d.code);return new At(p,d.message||"")}(l);n=new pD(i,s,r,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=mb(e,i.document.name),r=Zs(i.document.updateTime),l=i.document.createTime?Zs(i.document.createTime):Ft.min(),c=new Ti({mapValue:{fields:i.document.fields}}),h=ai.newFoundDocument(s,r,l,c),d=i.targetIds||[],p=i.removedTargetIds||[];n=new yg(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=mb(e,i.document),r=i.readTime?Zs(i.readTime):Ft.min(),l=ai.newNoDocument(s,r),c=i.removedTargetIds||[];n=new yg([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=mb(e,i.document),r=i.removedTargetIds||[];n=new yg([],r,s,null)}else{if(!("filter"in t))return Ut(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,l=new CV(s,r),c=i.targetId;n=new fD(c,l)}}return n}function FV(e,t){let n;if(t instanceof Bd)n={update:pT(e,t.key,t.value)};else if(t instanceof hD)n={delete:k0(e,t.key)};else if(t instanceof bo)n={update:pT(e,t.key,t.data),updateMask:XV(t.fieldMask)};else{if(!(t instanceof AV))return Ut(16599,{Vt:t.type});n={verify:k0(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,l){const c=l.transform;if(c instanceof Ed)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Qc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Zc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Bg)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Ut(20930,{transform:l.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:VV(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Ut(27497)}(e,t.precondition)),n}function BV(e,t){return e&&e.length>0?(ve(t!==void 0,14353),e.map(n=>function(s,r){let l=s.updateTime?Zs(s.updateTime):Zs(r);return l.isEqual(Ft.min())&&(l=Zs(r)),new EV(l,s.transformResults||[])}(n,t))):[]}function qV(e,t){return{documents:[yD(e,t.path)]}}function $V(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=yD(e,s);const r=function(d){if(d.length!==0)return vD(Es.create(d,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const l=function(d){if(d.length!==0)return d.map(p=>function(_){return{field:Dc(_.field),direction:YV(_.dir)}}(p))}(t.orderBy);l&&(n.structuredQuery.orderBy=l);const c=T0(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{ft:n,parent:s}}function HV(e){let t=UV(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){ve(i===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:t=t.child(p.collectionId)}let r=[];n.where&&(r=function(y){const _=bD(y);return _ instanceof Es&&GC(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(_=>function(E){return new wd(Mc(E.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(y){let _;return _=typeof y=="object"?y.value:y,Em(_)?null:_}(n.limit));let h=null;n.startAt&&(h=function(y){const _=!!y.before,x=y.values||[];return new Fg(x,_)}(n.startAt));let d=null;return n.endAt&&(d=function(y){const _=!y.before,x=y.values||[];return new Fg(x,_)}(n.endAt)),uV(t,s,l,r,c,"F",h,d)}function WV(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut(28987,{purpose:s})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function bD(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Mc(n.unaryFilter.field);return mn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Mc(n.unaryFilter.field);return mn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Mc(n.unaryFilter.field);return mn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Mc(n.unaryFilter.field);return mn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ut(61313);default:return Ut(60726)}}(e):e.fieldFilter!==void 0?function(n){return mn.create(Mc(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ut(58110);default:return Ut(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Es.create(n.compositeFilter.filters.map(i=>bD(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ut(1026)}}(n.compositeFilter.op))}(e):Ut(30097,{filter:e})}function YV(e){return PV[e]}function GV(e){return NV[e]}function KV(e){return LV[e]}function Dc(e){return{fieldPath:e.canonicalString()}}function Mc(e){return Kn.fromServerFormat(e.fieldPath)}function vD(e){return e instanceof mn?function(n){if(n.op==="=="){if(eT(n.value))return{unaryFilter:{field:Dc(n.field),op:"IS_NAN"}};if(tT(n.value))return{unaryFilter:{field:Dc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eT(n.value))return{unaryFilter:{field:Dc(n.field),op:"IS_NOT_NAN"}};if(tT(n.value))return{unaryFilter:{field:Dc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dc(n.field),op:GV(n.op),value:n.value}}}(e):e instanceof Es?function(n){const i=n.getFilters().map(s=>vD(s));return i.length===1?i[0]:{compositeFilter:{op:KV(n.op),filters:i}}}(e):Ut(54877,{filter:e})}function XV(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function xD(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t,n,i,s,r=Ft.min(),l=Ft.min(),c=Xn.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(t){return new Ga(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(t){this.yt=t}}function ZV(e){const t=HV({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?S0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this.Cn=new t6}addToCollectionParentIndex(t,n){return this.Cn.add(n),mt.resolve()}getCollectionParents(t,n){return mt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return mt.resolve()}deleteFieldIndex(t,n){return mt.resolve()}deleteAllFieldIndexes(t){return mt.resolve()}createTargetIndexes(t,n){return mt.resolve()}getDocumentsMatchingTarget(t,n){return mt.resolve(null)}getIndexType(t,n){return mt.resolve(0)}getFieldIndexes(t,n){return mt.resolve([])}getNextCollectionGroupToUpdate(t){return mt.resolve(null)}getMinOffset(t,n){return mt.resolve(oo.min())}getMinOffsetFromCollectionGroup(t,n){return mt.resolve(oo.min())}updateCollectionGroup(t,n,i){return mt.resolve()}updateIndexEntries(t,n){return mt.resolve()}}class t6{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new Tn(Pe.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Tn(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wD=41943040;class Si{static withCacheSize(t){return new Si(t,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si.DEFAULT_COLLECTION_PERCENTILE=10,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Si.DEFAULT=new Si(wD,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Si.DISABLED=new Si(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Jc(0)}static cr(){return new Jc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="LruGarbageCollector",e6=1048576;function yT([e,t],[n,i]){const s=se(e,n);return s===0?se(t,i):s}class n6{constructor(t){this.Ir=t,this.buffer=new Tn(yT),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();yT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class i6{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Rt(mT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fu(n)?Rt(mT,"Ignoring IndexedDB error during garbage collection: ",n):await du(n)}await this.Vr(3e5)})}}class s6{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return mt.resolve(wm.ce);const i=new n6(n);return this.mr.forEachTarget(t,s=>i.Ar(s.sequenceNumber)).next(()=>this.mr.pr(t,s=>i.Ar(s))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.mr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Rt("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(gT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gT):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let i,s,r,l,c,h,d;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(Rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(t,s))).next(y=>(i=y,c=Date.now(),this.removeTargets(t,i,n))).next(y=>(r=y,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(y=>(d=Date.now(),Rc()<=ie.DEBUG&&Rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${r} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-p}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:y})))}}function r6(e,t){return new s6(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(){this.changes=new Dl(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ai.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?mt.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&ed(i.mutation,s,Ui.empty(),Ie.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,re()).next(()=>i))}getLocalViewOfDocuments(t,n,i=re()){const s=hl();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(r=>{let l=Fh();return r.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,n){const i=hl();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,re()))}populateOverlays(t,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(t,s).next(r=>{r.forEach((l,c)=>{n.set(l,c)})})}computeViews(t,n,i,s){let r=ra();const l=td(),c=function(){return td()}();return n.forEach((h,d)=>{const p=i.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof bo)?r=r.insert(d.key,d):p!==void 0?(l.set(d.key,p.mutation.getFieldMask()),ed(p.mutation,d,p.mutation.getFieldMask(),Ie.now())):l.set(d.key,Ui.empty())}),this.recalculateAndSaveOverlays(t,r).next(h=>(h.forEach((d,p)=>l.set(d,p)),n.forEach((d,p)=>c.set(d,new o6(p,l.get(d)??null))),c))}recalculateAndSaveOverlays(t,n){const i=td();let s=new Ge((l,c)=>l-c),r=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const d=n.get(h);if(d===null)return;let p=i.get(h)||Ui.empty();p=c.applyToLocalView(d,p),i.set(h,p);const y=(s.get(c.batchId)||re()).add(h);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,p=h.value,y=iD();p.forEach(_=>{if(!r.has(_)){const x=cD(n.get(_),i.get(_));x!==null&&y.set(_,x),r=r.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(t,d,y))}return mt.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return function(l){return Pt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):ZC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(r=>{const l=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-r.size):mt.resolve(hl());let c=_d,h=r;return l.next(d=>mt.forEach(d,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),r.get(p)?mt.resolve():this.remoteDocumentCache.getEntry(t,p).next(_=>{h=h.insert(p,_)}))).next(()=>this.populateOverlays(t,d,r)).next(()=>this.computeViews(t,h,d,re())).next(p=>({batchId:c,changes:nD(p)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Pt(n)).next(i=>{let s=Fh();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const r=n.collectionGroup;let l=Fh();return this.indexManager.getCollectionParents(t,r).next(c=>mt.forEach(c,h=>{const d=function(y,_){return new pu(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(r));return this.getDocumentsMatchingCollectionQuery(t,d,i,s).next(p=>{p.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(l=>(r=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,r,s))).next(l=>{r.forEach((h,d)=>{const p=d.getKey();l.get(p)===null&&(l=l.insert(p,ai.newInvalidDocument(p)))});let c=Fh();return l.forEach((h,d)=>{const p=r.get(h);p!==void 0&&ed(p.mutation,d,Ui.empty(),Ie.now()),km(n,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return mt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Zs(s.createTime)}}(n)),mt.resolve()}getNamedQuery(t,n){return mt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(s){return{name:s.name,query:ZV(s.bundledQuery),readTime:Zs(s.readTime)}}(n)),mt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(){this.overlays=new Ge(Pt.comparator),this.qr=new Map}getOverlay(t,n){return mt.resolve(this.overlays.get(n))}getOverlays(t,n){const i=hl();return mt.forEach(n,s=>this.getOverlay(t,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,r)=>{this.St(t,n,r)}),mt.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.qr.delete(i)),mt.resolve()}getOverlaysForCollection(t,n,i){const s=hl(),r=n.length+1,l=new Pt(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===r&&h.largestBatchId>i&&s.set(h.getKey(),h)}return mt.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let r=new Ge((d,p)=>d-p);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let p=r.get(d.largestBatchId);p===null&&(p=hl(),r=r.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=hl(),h=r.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,p)=>c.set(d,p)),!(c.size()>=s)););return mt.resolve(c)}St(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new RV(n,i));let r=this.qr.get(n);r===void 0&&(r=re(),this.qr.set(n,r)),this.qr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.sessionToken=Xn.EMPTY_BYTE_STRING}getSessionToken(t){return mt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,mt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.Qr=new Tn(jn.$r),this.Ur=new Tn(jn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const i=new jn(t,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Gr(new jn(t,n))}zr(t,n){t.forEach(i=>this.removeReference(i,n))}jr(t){const n=new Pt(new Pe([])),i=new jn(n,t),s=new jn(n,t+1),r=[];return this.Ur.forEachInRange([i,s],l=>{this.Gr(l),r.push(l.key)}),r}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Pt(new Pe([])),i=new jn(n,t),s=new jn(n,t+1);let r=re();return this.Ur.forEachInRange([i,s],l=>{r=r.add(l.key)}),r}containsKey(t){const n=new jn(t,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class jn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Pt.comparator(t.key,n.key)||se(t.Yr,n.Yr)}static Kr(t,n){return se(t.Yr,n.Yr)||Pt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Tn(jn.$r)}checkEmpty(t){return mt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const r=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new kV(r,n,i,s);this.mutationQueue.push(l);for(const c of s)this.Zr=this.Zr.add(new jn(c.key,r)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return mt.resolve(l)}lookupMutationBatch(t,n){return mt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.ei(i),r=s<0?0:s;return mt.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(this.mutationQueue.length===0?Ev:this.tr-1)}getAllMutationBatches(t){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new jn(n,0),s=new jn(n,Number.POSITIVE_INFINITY),r=[];return this.Zr.forEachInRange([i,s],l=>{const c=this.Xr(l.Yr);r.push(c)}),mt.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Tn(se);return n.forEach(s=>{const r=new jn(s,0),l=new jn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([r,l],c=>{i=i.add(c.Yr)})}),mt.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let r=i;Pt.isDocumentKey(r)||(r=r.child(""));const l=new jn(new Pt(r),0);let c=new Tn(se);return this.Zr.forEachWhile(h=>{const d=h.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(c=c.add(h.Yr)),!0)},l),mt.resolve(this.ti(c))}ti(t){const n=[];return t.forEach(i=>{const s=this.Xr(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){ve(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return mt.forEach(n.mutations,s=>{const r=new jn(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,n){const i=new jn(n,0),s=this.Zr.firstAfterOrEqual(i);return mt.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,mt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(t){this.ri=t,this.docs=function(){return new Ge(Pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return mt.resolve(i?i.document.mutableCopy():ai.newInvalidDocument(n))}getEntries(t,n){let i=ra();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():ai.newInvalidDocument(s))}),mt.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let r=ra();const l=n.path,c=new Pt(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:p}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||B4(F4(p),i)<=0||(s.has(p.key)||km(n,p))&&(r=r.insert(p.key,p.mutableCopy()))}return mt.resolve(r)}getAllFromCollectionGroup(t,n,i,s){Ut(9500)}ii(t,n){return mt.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new p6(this)}getSize(t){return mt.resolve(this.size)}}class p6 extends a6{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(i)}),mt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(t){this.persistence=t,this.si=new Dl(n=>Av(n),kv),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.oi=0,this._i=new Ov,this.targetCount=0,this.ai=Jc.ur()}forEachTarget(t,n){return this.si.forEach((i,s)=>n(s)),mt.resolve()}getLastRemoteSnapshotVersion(t){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return mt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),mt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Jc(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,mt.resolve()}updateTargetData(t,n){return this.Pr(n),mt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,mt.resolve()}removeTargets(t,n,i){let s=0;const r=[];return this.si.forEach((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.si.delete(l),r.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),mt.waitFor(r).next(()=>s)}getTargetCount(t){return mt.resolve(this.targetCount)}getTargetData(t,n){const i=this.si.get(n)||null;return mt.resolve(i)}addMatchingKeys(t,n,i){return this._i.Wr(n,i),mt.resolve()}removeMatchingKeys(t,n,i){this._i.zr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(l=>{r.push(s.markPotentiallyOrphaned(t,l))}),mt.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),mt.resolve()}getMatchingKeysForTargetId(t,n){const i=this._i.Hr(n);return mt.resolve(i)}containsKey(t,n){return mt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(t,n){this.ui={},this.overlays={},this.ci=new wm(0),this.li=!1,this.li=!0,this.hi=new h6,this.referenceDelegate=t(this),this.Pi=new g6(this),this.indexManager=new JV,this.remoteDocumentCache=function(s){return new f6(s)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new QV(n),this.Ii=new c6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new u6,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ui[t.toKey()];return i||(i=new d6(n,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,i){Rt("MemoryPersistence","Starting transaction:",t);const s=new m6(this.ci.next());return this.referenceDelegate.Ei(),i(s).next(r=>this.referenceDelegate.di(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ai(t,n){return mt.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,n)))}}class m6 extends $4{constructor(t){super(),this.currentSequenceNumber=t}}class Pv{constructor(t){this.persistence=t,this.Ri=new Ov,this.Vi=null}static mi(t){return new Pv(t)}get fi(){if(this.Vi)return this.Vi;throw Ut(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),mt.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),mt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),mt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(r=>this.fi.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.fi,i=>{const s=Pt.fromPath(i);return this.gi(t,s).next(r=>{r||n.removeEntry(s,Ft.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return mt.or([()=>mt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class $g{constructor(t,n){this.persistence=t,this.pi=new Dl(i=>Y4(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=r6(this,n)}static mi(t,n){return new $g(t,n)}Ei(){}di(t){return mt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(s=>i+s))}wr(t){let n=0;return this.pr(t,i=>{n++}).next(()=>n)}pr(t,n){return mt.forEach(this.pi,(i,s)=>this.br(t,i,s).next(r=>r?mt.resolve():n(s)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.ii(t,l=>this.br(t,l,n).next(c=>{c||(i++,r.removeEntry(l,Ft.min()))})).next(()=>r.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),mt.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),mt.resolve()}removeReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),mt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),mt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=pg(t.data.value)),n}br(t,n,i){return mt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.pi.get(n);return mt.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Es=i,this.ds=s}static As(t,n){let i=re(),s=re();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Nv(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return lj()?8:H4(ci())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,s){const r={result:null};return this.ys(t,n).next(l=>{r.result=l}).next(()=>{if(!r.result)return this.ws(t,n,s,i).next(l=>{r.result=l})}).next(()=>{if(r.result)return;const l=new y6;return this.Ss(t,n,l).next(c=>{if(r.result=c,this.Vs)return this.bs(t,n,l,c.size)})}).next(()=>r.result)}bs(t,n,i,s){return i.documentReadCount<this.fs?(Rc()<=ie.DEBUG&&Rt("QueryEngine","SDK will not create cache indexes for query:",Cc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),mt.resolve()):(Rc()<=ie.DEBUG&&Rt("QueryEngine","Query:",Cc(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Rc()<=ie.DEBUG&&Rt("QueryEngine","The SDK decides to create cache indexes for query:",Cc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Qs(n))):mt.resolve())}ys(t,n){if(rT(n))return mt.resolve(null);let i=Qs(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=S0(n,null,"F"),i=Qs(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const l=re(...r);return this.ps.getDocuments(t,l).next(c=>this.indexManager.getMinOffset(t,i).next(h=>{const d=this.Ds(n,c);return this.Cs(n,d,l,h.readTime)?this.ys(t,S0(n,null,"F")):this.vs(t,d,n,h)}))})))}ws(t,n,i,s){return rT(n)||s.isEqual(Ft.min())?mt.resolve(null):this.ps.getDocuments(t,i).next(r=>{const l=this.Ds(n,r);return this.Cs(n,l,i,s)?mt.resolve(null):(Rc()<=ie.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Cc(n)),this.vs(t,l,n,z4(s,_d)).next(c=>c))})}Ds(t,n){let i=new Tn(tD(t));return n.forEach((s,r)=>{km(t,r)&&(i=i.add(r))}),i}Cs(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Ss(t,n,i){return Rc()<=ie.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",Cc(n)),this.ps.getDocumentsMatchingQuery(t,n,oo.min(),i)}vs(t,n,i,s){return this.ps.getDocumentsMatchingQuery(t,i,s).next(r=>(n.forEach(l=>{r=r.insert(l.key,l)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="LocalStore",b6=3e8;class v6{constructor(t,n,i,s){this.persistence=t,this.Fs=n,this.serializer=s,this.Ms=new Ge(se),this.xs=new Dl(r=>Av(r),kv),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new l6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function x6(e,t,n,i){return new v6(e,t,n,i)}async function SD(e,t){const n=qt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Bs(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const l=[],c=[];let h=re();for(const d of s){l.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}for(const d of r){c.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(i,h).next(d=>({Ls:d,removedBatchIds:l,addedBatchIds:c}))})})}function w6(e,t){const n=qt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),r=n.Ns.newChangeBuffer({trackRemovals:!0});return function(c,h,d,p){const y=d.batch,_=y.keys();let x=mt.resolve();return _.forEach(E=>{x=x.next(()=>p.getEntry(h,E)).next(S=>{const T=d.docVersions.get(E);ve(T!==null,48541),S.version.compareTo(T)<0&&(y.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),p.addEntry(S)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=re();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function TD(e){const t=qt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function E6(e,t){const n=qt(e),i=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];t.targetChanges.forEach((p,y)=>{const _=s.get(y);if(!_)return;c.push(n.Pi.removeMatchingKeys(r,p.removedDocuments,y).next(()=>n.Pi.addMatchingKeys(r,p.addedDocuments,y)));let x=_.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(y)!==null?x=x.withResumeToken(Xn.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,i)),s=s.insert(y,x),function(S,T,D){return S.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=b6?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(_,x,p)&&c.push(n.Pi.updateTargetData(r,x))});let h=ra(),d=re();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(r,p))}),c.push(S6(r,l,t.documentUpdates).next(p=>{h=p.ks,d=p.qs})),!i.isEqual(Ft.min())){const p=n.Pi.getLastRemoteSnapshotVersion(r).next(y=>n.Pi.setTargetsMetadata(r,r.currentSequenceNumber,i));c.push(p)}return mt.waitFor(c).next(()=>l.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,h,d)).next(()=>h)}).then(r=>(n.Ms=s,r))}function S6(e,t,n){let i=re(),s=re();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let l=ra();return n.forEach((c,h)=>{const d=r.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Ft.min())?(t.removeEntry(c,h.readTime),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(h),l=l.insert(c,h)):Rt(Lv,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{ks:l,qs:s}})}function T6(e,t){const n=qt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Ev),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function A6(e,t){const n=qt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Pi.getTargetData(i,t).next(r=>r?(s=r,mt.resolve(s)):n.Pi.allocateTargetId(i).next(l=>(s=new Ga(t,l,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(t,i.targetId)),i})}async function C0(e,t,n){const i=qt(e),s=i.Ms.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!fu(l))throw l;Rt(Lv,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ms=i.Ms.remove(t),i.xs.delete(s.target)}function _T(e,t,n){const i=qt(e);let s=Ft.min(),r=re();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,d,p){const y=qt(h),_=y.xs.get(p);return _!==void 0?mt.resolve(y.Ms.get(_)):y.Pi.getTargetData(d,p)}(i,l,Qs(t)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,c.targetId).next(h=>{r=h})}).next(()=>i.Fs.getDocumentsMatchingQuery(l,t,n?s:Ft.min(),n?r:re())).next(c=>(k6(i,dV(t),c),{documents:c,Qs:r})))}function k6(e,t,n){let i=e.Os.get(t)||Ft.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.Os.set(t,i)}class bT{constructor(){this.activeTargetIds=_V()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class R6{constructor(){this.Mo=new bT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,i){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new bT,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="ConnectivityMonitor";class xT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Rt(vT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Rt(vT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dp=null;function D0(){return Dp===null?Dp=function(){return 268435456+Math.round(2147483648*Math.random())}():Dp++,"0x"+Dp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="RestConnection",D6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class M6{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===Ug?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(t,n,i,s,r){const l=D0(),c=this.zo(t,n.toUriEncodedString());Rt(yb,`Sending RPC '${t}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,r);const{host:d}=new URL(c),p=cu(d);return this.Jo(t,c,h,i,p).then(y=>(Rt(yb,`Received RPC '${t}' ${l}: `,y),y),y=>{throw Yc(yb,`RPC '${t}' ${l} failed with error: `,y,"url: ",c,"request:",i),y})}Ho(t,n,i,s,r,l){return this.Go(t,n,i,s,r)}jo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>t[r]=s),i&&i.headers.forEach((s,r)=>t[r]=s)}zo(t,n){const i=D6[t];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="WebChannelConnection";class O6 extends M6{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,s,r){const l=D0();return new Promise((c,h)=>{const d=new kC;d.setWithCredentials(!0),d.listenOnce(RC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case fg.NO_ERROR:const y=d.getResponseJson();Rt(ti,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),c(y);break;case fg.TIMEOUT:Rt(ti,`RPC '${t}' ${l} timed out`),h(new At(ft.DEADLINE_EXCEEDED,"Request time out"));break;case fg.HTTP_ERROR:const _=d.getStatus();if(Rt(ti,`RPC '${t}' ${l} failed with status:`,_,"response text:",d.getResponseText()),_>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const E=x==null?void 0:x.error;if(E&&E.status&&E.message){const S=function(D){const M=D.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(M)>=0?M:ft.UNKNOWN}(E.status);h(new At(S,E.message))}else h(new At(ft.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new At(ft.UNAVAILABLE,"Connection failed."));break;default:Ut(9055,{l_:t,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Rt(ti,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(s);Rt(ti,`RPC '${t}' ${l} sending request:`,s),d.send(n,"POST",p,i,15)})}T_(t,n,i){const s=D0(),r=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=MC(),c=DC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=r.join("");Rt(ti,`Creating RPC '${t}' stream ${s}: ${p}`,h);const y=l.createWebChannel(p,h);this.I_(y);let _=!1,x=!1;const E=new I6({Yo:T=>{x?Rt(ti,`Not sending because RPC '${t}' stream ${s} is closed:`,T):(_||(Rt(ti,`Opening RPC '${t}' stream ${s} transport.`),y.open(),_=!0),Rt(ti,`RPC '${t}' stream ${s} sending:`,T),y.send(T))},Zo:()=>y.close()}),S=(T,D,M)=>{T.listen(D,P=>{try{M(P)}catch($){setTimeout(()=>{throw $},0)}})};return S(y,zh.EventType.OPEN,()=>{x||(Rt(ti,`RPC '${t}' stream ${s} transport opened.`),E.o_())}),S(y,zh.EventType.CLOSE,()=>{x||(x=!0,Rt(ti,`RPC '${t}' stream ${s} transport closed`),E.a_(),this.E_(y))}),S(y,zh.EventType.ERROR,T=>{x||(x=!0,Yc(ti,`RPC '${t}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),E.a_(new At(ft.UNAVAILABLE,"The operation could not be completed")))}),S(y,zh.EventType.MESSAGE,T=>{var D;if(!x){const M=T.data[0];ve(!!M,16349);const P=M,$=(P==null?void 0:P.error)||((D=P[0])==null?void 0:D.error);if($){Rt(ti,`RPC '${t}' stream ${s} received error:`,$);const N=$.status;let G=function(O){const V=pn[O];if(V!==void 0)return dD(V)}(N),C=$.message;G===void 0&&(G=ft.INTERNAL,C="Unknown error status: "+N+" with message "+$.message),x=!0,E.a_(new At(G,C)),y.close()}else Rt(ti,`RPC '${t}' stream ${s} received:`,M),E.u_(M)}}),S(c,CC.STAT_EVENT,T=>{T.stat===y0.PROXY?Rt(ti,`RPC '${t}' stream ${s} detected buffering proxy`):T.stat===y0.NOPROXY&&Rt(ti,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function _b(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(e){return new jV(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(t,n,i=1e3,s=1.5,r=6e4){this.Mi=t,this.timerId=n,this.d_=i,this.A_=s,this.R_=r,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&Rt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="PersistentStream";class kD{constructor(t,n,i,s,r,l,c,h){this.Mi=t,this.S_=i,this.b_=s,this.connection=r,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AD(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ft.RESOURCE_EXHAUSTED?(sa(n.toString()),sa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===n&&this.G_(i,s)},i=>{t(()=>{const s=new At(ft.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(t,n){const i=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Rt(wT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(Rt(wT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P6 extends kD{constructor(t,n,i,s,r,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=r}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=zV(this.serializer,t),i=function(r){if(!("targetChange"in r))return Ft.min();const l=r.targetChange;return l.targetIds&&l.targetIds.length?Ft.min():l.readTime?Zs(l.readTime):Ft.min()}(t);return this.listener.H_(n,i)}Y_(t){const n={};n.database=R0(this.serializer),n.addTarget=function(r,l){let c;const h=l.target;if(c=w0(h)?{documents:qV(r,h)}:{query:$V(r,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=gD(r,l.resumeToken);const d=T0(r,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(Ft.min())>0){c.readTime=qg(r,l.snapshotVersion.toTimestamp());const d=T0(r,l.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,t);const i=WV(this.serializer,t);i&&(n.labels=i),this.q_(n)}Z_(t){const n={};n.database=R0(this.serializer),n.removeTarget=t,this.q_(n)}}class N6 extends kD{constructor(t,n,i,s,r,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=r}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return ve(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ve(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ve(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=BV(t.writeResults,t.commitTime),i=Zs(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=R0(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>FV(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{}class j6 extends L6{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new At(ft.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,l])=>this.connection.Go(t,A0(n,i),s,r,l)).catch(r=>{throw r.name==="FirebaseError"?(r.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new At(ft.UNKNOWN,r.toString())})}Ho(t,n,i,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Ho(t,A0(n,i),s,l,c,r)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new At(ft.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class V6{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sa(n),this.aa=!1):Rt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="RemoteStore";class U6{constructor(t,n,i,s,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=r,this.Aa.Oo(l=>{i.enqueueAndForget(async()=>{Ml(this)&&(Rt(El,"Restarting streams for network reachability change."),await async function(h){const d=qt(h);d.Ea.add(4),await $d(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Im(d)}(this))})}),this.Ra=new V6(i,s)}}async function Im(e){if(Ml(e))for(const t of e.da)await t(!0)}async function $d(e){for(const t of e.da)await t(!1)}function RD(e,t){const n=qt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),zv(n)?Uv(n):gu(n).O_()&&Vv(n,t))}function jv(e,t){const n=qt(e),i=gu(n);n.Ia.delete(t),i.O_()&&CD(n,t),n.Ia.size===0&&(i.O_()?i.L_():Ml(n)&&n.Ra.set("Unknown"))}function Vv(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ft.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gu(e).Y_(t)}function CD(e,t){e.Va.Ue(t),gu(e).Z_(t)}function Uv(e){e.Va=new OV({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),gu(e).start(),e.Ra.ua()}function zv(e){return Ml(e)&&!gu(e).x_()&&e.Ia.size>0}function Ml(e){return qt(e).Ea.size===0}function DD(e){e.Va=void 0}async function z6(e){e.Ra.set("Online")}async function F6(e){e.Ia.forEach((t,n)=>{Vv(e,t)})}async function B6(e,t){DD(e),zv(e)?(e.Ra.ha(t),Uv(e)):e.Ra.set("Unknown")}async function q6(e,t,n){if(e.Ra.set("Online"),t instanceof pD&&t.state===2&&t.cause)try{await async function(s,r){const l=r.cause;for(const c of r.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.Va.removeTarget(c))}(e,t)}catch(i){Rt(El,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Hg(e,i)}else if(t instanceof yg?e.Va.Ze(t):t instanceof fD?e.Va.st(t):e.Va.tt(t),!n.isEqual(Ft.min()))try{const i=await TD(e.localStore);n.compareTo(i)>=0&&await function(r,l){const c=r.Va.Tt(l);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const p=r.Ia.get(d);p&&r.Ia.set(d,p.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,d)=>{const p=r.Ia.get(h);if(!p)return;r.Ia.set(h,p.withResumeToken(Xn.EMPTY_BYTE_STRING,p.snapshotVersion)),CD(r,h);const y=new Ga(p.target,h,d,p.sequenceNumber);Vv(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(e,n)}catch(i){Rt(El,"Failed to raise snapshot:",i),await Hg(e,i)}}async function Hg(e,t,n){if(!fu(t))throw t;e.Ea.add(1),await $d(e),e.Ra.set("Offline"),n||(n=()=>TD(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Rt(El,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Im(e)})}function MD(e,t){return t().catch(n=>Hg(e,n,t))}async function Om(e){const t=qt(e),n=ho(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ev;for(;$6(t);)try{const s=await T6(t.localStore,i);if(s===null){t.Ta.length===0&&n.L_();break}i=s.batchId,H6(t,s)}catch(s){await Hg(t,s)}ID(t)&&OD(t)}function $6(e){return Ml(e)&&e.Ta.length<10}function H6(e,t){e.Ta.push(t);const n=ho(e);n.O_()&&n.X_&&n.ea(t.mutations)}function ID(e){return Ml(e)&&!ho(e).x_()&&e.Ta.length>0}function OD(e){ho(e).start()}async function W6(e){ho(e).ra()}async function Y6(e){const t=ho(e);for(const n of e.Ta)t.ea(n.mutations)}async function G6(e,t,n){const i=e.Ta.shift(),s=Dv.from(i,t,n);await MD(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Om(e)}async function K6(e,t){t&&ho(e).X_&&await async function(i,s){if(function(l){return DV(l)&&l!==ft.ABORTED}(s.code)){const r=i.Ta.shift();ho(i).B_(),await MD(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Om(i)}}(e,t),ID(e)&&OD(e)}async function ET(e,t){const n=qt(e);n.asyncQueue.verifyOperationInProgress(),Rt(El,"RemoteStore received new credentials");const i=Ml(n);n.Ea.add(3),await $d(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Im(n)}async function X6(e,t){const n=qt(e);t?(n.Ea.delete(2),await Im(n)):t||(n.Ea.add(2),await $d(n),n.Ra.set("Unknown"))}function gu(e){return e.ma||(e.ma=function(n,i,s){const r=qt(n);return r.sa(),new P6(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{Xo:z6.bind(null,e),t_:F6.bind(null,e),r_:B6.bind(null,e),H_:q6.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),zv(e)?Uv(e):e.Ra.set("Unknown")):(await e.ma.stop(),DD(e))})),e.ma}function ho(e){return e.fa||(e.fa=function(n,i,s){const r=qt(n);return r.sa(),new N6(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:W6.bind(null,e),r_:K6.bind(null,e),ta:Y6.bind(null,e),na:G6.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Om(e)):(await e.fa.stop(),e.Ta.length>0&&(Rt(El,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,r){const l=Date.now()+i,c=new Fv(t,n,l,s,r);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(ft.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bv(e,t){if(sa("AsyncQueue",`${t}: ${e}`),fu(e))return new At(ft.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{static emptySet(t){return new Nc(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Pt.comparator(n.key,i.key):(n,i)=>Pt.comparator(n.key,i.key),this.keyedMap=Fh(),this.sortedSet=new Ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Nc)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Nc;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.ga=new Ge(Pt.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Ut(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class tu{constructor(t,n,i,s,r,l,c,h,d){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(t,n,i,s,r){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new tu(t,n,Nc.emptySet(n),l,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Am(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class Z6{constructor(){this.queries=TT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=qt(n),r=s.queries;s.queries=TT(),r.forEach((l,c)=>{for(const h of c.Sa)h.onError(i)})})(this,new At(ft.ABORTED,"Firestore shutting down"))}}function TT(){return new Dl(e=>JC(e),Am)}async function qv(e,t){const n=qt(e);let i=3;const s=t.query;let r=n.queries.get(s);r?!r.ba()&&t.Da()&&(i=2):(r=new Q6,i=t.Da()?0:1);try{switch(i){case 0:r.wa=await n.onListen(s,!0);break;case 1:r.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=Bv(l,`Initialization of query '${Cc(t.query)}' failed`);return void t.onError(c)}n.queries.set(s,r),r.Sa.push(t),t.va(n.onlineState),r.wa&&t.Fa(r.wa)&&Hv(n)}async function $v(e,t){const n=qt(e),i=t.query;let s=3;const r=n.queries.get(i);if(r){const l=r.Sa.indexOf(t);l>=0&&(r.Sa.splice(l,1),r.Sa.length===0?s=t.Da()?0:1:!r.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function J6(e,t){const n=qt(e);let i=!1;for(const s of t){const r=s.query,l=n.queries.get(r);if(l){for(const c of l.Sa)c.Fa(s)&&(i=!0);l.wa=s}}i&&Hv(n)}function t5(e,t,n){const i=qt(e),s=i.queries.get(t);if(s)for(const r of s.Sa)r.onError(n);i.queries.delete(t)}function Hv(e){e.Ca.forEach(t=>{t.next()})}var M0,AT;(AT=M0||(M0={})).Ma="default",AT.Cache="cache";class Wv{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new tu(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=tu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==M0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(t){this.key=t}}class ND{constructor(t){this.key=t}}class e5{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=re(),this.mutatedKeys=re(),this.eu=tD(t),this.tu=new Nc(this.eu)}get nu(){return this.Ya}ru(t,n){const i=n?n.iu:new ST,s=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((p,y)=>{const _=s.get(p),x=km(this.query,y)?y:null,E=!!_&&this.mutatedKeys.has(_.key),S=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let T=!1;_&&x?_.data.isEqual(x.data)?E!==S&&(i.track({type:3,doc:x}),T=!0):this.su(_,x)||(i.track({type:2,doc:x}),T=!0,(h&&this.eu(x,h)>0||d&&this.eu(x,d)<0)&&(c=!0)):!_&&x?(i.track({type:0,doc:x}),T=!0):_&&!x&&(i.track({type:1,doc:_}),T=!0,(h||d)&&(c=!0)),T&&(x?(l=l.add(x),r=S?r.add(p):r.delete(p)):(l=l.delete(p),r=r.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),r=r.delete(p.key),i.track({type:1,doc:p})}return{tu:l,iu:i,Cs:c,mutatedKeys:r}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const r=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort((p,y)=>function(x,E){const S=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut(20277,{Rt:T})}};return S(x)-S(E)}(p.type,y.type)||this.eu(p.doc,y.doc)),this.ou(i),s=s??!1;const c=n&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,d=h!==this.Za;return this.Za=h,l.length!==0||d?{snapshot:new tu(this.query,t.tu,r,l,t.mutatedKeys,h===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ST,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=re(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return t.forEach(i=>{this.Xa.has(i)||n.push(new ND(i))}),this.Xa.forEach(i=>{t.has(i)||n.push(new PD(i))}),n}cu(t){this.Ya=t.Qs,this.Xa=re();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return tu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yv="SyncEngine";class n5{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class i5{constructor(t){this.key=t,this.hu=!1}}class s5{constructor(t,n,i,s,r,l){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Dl(c=>JC(c),Am),this.Iu=new Map,this.Eu=new Set,this.du=new Ge(Pt.comparator),this.Au=new Map,this.Ru=new Ov,this.Vu={},this.mu=new Map,this.fu=Jc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function r5(e,t,n=!0){const i=FD(e);let s;const r=i.Tu.get(t);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.lu()):s=await LD(i,t,n,!0),s}async function a5(e,t){const n=FD(e);await LD(n,t,!0,!1)}async function LD(e,t,n,i){const s=await A6(e.localStore,Qs(t)),r=s.targetId,l=e.sharedClientState.addLocalQueryTarget(r,n);let c;return i&&(c=await o5(e,t,r,l==="current",s.resumeToken)),e.isPrimaryClient&&n&&RD(e.remoteStore,s),c}async function o5(e,t,n,i,s){e.pu=(y,_,x)=>async function(S,T,D,M){let P=T.view.ru(D);P.Cs&&(P=await _T(S.localStore,T.query,!1).then(({documents:C})=>T.view.ru(C,P)));const $=M&&M.targetChanges.get(T.targetId),N=M&&M.targetMismatches.get(T.targetId)!=null,G=T.view.applyChanges(P,S.isPrimaryClient,$,N);return RT(S,T.targetId,G.au),G.snapshot}(e,y,_,x);const r=await _T(e.localStore,t,!0),l=new e5(t,r.Qs),c=l.ru(r.documents),h=qd.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),d=l.applyChanges(c,e.isPrimaryClient,h);RT(e,n,d.au);const p=new n5(t,n,l);return e.Tu.set(t,p),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),d.snapshot}async function l5(e,t,n){const i=qt(e),s=i.Tu.get(t),r=i.Iu.get(s.targetId);if(r.length>1)return i.Iu.set(s.targetId,r.filter(l=>!Am(l,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await C0(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&jv(i.remoteStore,s.targetId),I0(i,s.targetId)}).catch(du)):(I0(i,s.targetId),await C0(i.localStore,s.targetId,!0))}async function c5(e,t){const n=qt(e),i=n.Tu.get(t),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),jv(n.remoteStore,i.targetId))}async function u5(e,t,n){const i=y5(e);try{const s=await function(l,c){const h=qt(l),d=Ie.now(),p=c.reduce((x,E)=>x.add(E.key),re());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",x=>{let E=ra(),S=re();return h.Ns.getEntries(x,p).next(T=>{E=T,E.forEach((D,M)=>{M.isValidDocument()||(S=S.add(D))})}).next(()=>h.localDocuments.getOverlayedDocuments(x,E)).next(T=>{y=T;const D=[];for(const M of c){const P=TV(M,y.get(M.key).overlayedDocument);P!=null&&D.push(new bo(M.key,P,HC(P.value.mapValue),xs.exists(!0)))}return h.mutationQueue.addMutationBatch(x,d,D,c)}).next(T=>{_=T;const D=T.applyToLocalDocumentSet(y,S);return h.documentOverlayCache.saveOverlays(x,T.batchId,D)})}).then(()=>({batchId:_.batchId,changes:nD(y)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let d=l.Vu[l.currentUser.toKey()];d||(d=new Ge(se)),d=d.insert(c,h),l.Vu[l.currentUser.toKey()]=d}(i,s.batchId,n),await Hd(i,s.changes),await Om(i.remoteStore)}catch(s){const r=Bv(s,"Failed to persist write");n.reject(r)}}async function jD(e,t){const n=qt(e);try{const i=await E6(n.localStore,t);t.targetChanges.forEach((s,r)=>{const l=n.Au.get(r);l&&(ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?ve(l.hu,14607):s.removedDocuments.size>0&&(ve(l.hu,42227),l.hu=!1))}),await Hd(n,i,t)}catch(i){await du(i)}}function kT(e,t,n){const i=qt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach((r,l)=>{const c=l.view.va(t);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=qt(l);h.onlineState=c;let d=!1;h.queries.forEach((p,y)=>{for(const _ of y.Sa)_.va(c)&&(d=!0)}),d&&Hv(h)}(i.eventManager,t),s.length&&i.Pu.H_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function h5(e,t,n){const i=qt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Au.get(t),r=s&&s.key;if(r){let l=new Ge(Pt.comparator);l=l.insert(r,ai.newNoDocument(r,Ft.min()));const c=re().add(r),h=new Dm(Ft.min(),new Map,new Ge(se),l,c);await jD(i,h),i.du=i.du.remove(r),i.Au.delete(t),Gv(i)}else await C0(i.localStore,t,!1).then(()=>I0(i,t,n)).catch(du)}async function d5(e,t){const n=qt(e),i=t.batch.batchId;try{const s=await w6(n.localStore,t);UD(n,i,null),VD(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Hd(n,s)}catch(s){await du(s)}}async function f5(e,t,n){const i=qt(e);try{const s=await function(l,c){const h=qt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return h.mutationQueue.lookupMutationBatch(d,c).next(y=>(ve(y!==null,37113),p=y.keys(),h.mutationQueue.removeMutationBatch(d,y))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>h.localDocuments.getDocuments(d,p))})}(i.localStore,t);UD(i,t,n),VD(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Hd(i,s)}catch(s){await du(s)}}function VD(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function UD(e,t,n){const i=qt(e);let s=i.Vu[i.currentUser.toKey()];if(s){const r=s.get(t);r&&(n?r.reject(n):r.resolve(),s=s.remove(t)),i.Vu[i.currentUser.toKey()]=s}}function I0(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(i=>{e.Ru.containsKey(i)||zD(e,i)})}function zD(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(jv(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Gv(e))}function RT(e,t,n){for(const i of n)i instanceof PD?(e.Ru.addReference(i.key,t),p5(e,i)):i instanceof ND?(Rt(Yv,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||zD(e,i.key)):Ut(19791,{wu:i})}function p5(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(Rt(Yv,"New document in limbo: "+n),e.Eu.add(i),Gv(e))}function Gv(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Pt(Pe.fromString(t)),i=e.fu.next();e.Au.set(i,new i5(n)),e.du=e.du.insert(n,i),RD(e.remoteStore,new Ga(Qs(Tm(n.path)),i,"TargetPurposeLimboResolution",wm.ce))}}async function Hd(e,t,n){const i=qt(e),s=[],r=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach((c,h)=>{l.push(i.pu(h,t,n).then(d=>{var p;if((d||n)&&i.isPrimaryClient){const y=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:p.current;i.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(d){s.push(d);const y=Nv.As(h.targetId,d);r.push(y)}}))}),await Promise.all(l),i.Pu.H_(s),await async function(h,d){const p=qt(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>mt.forEach(d,_=>mt.forEach(_.Es,x=>p.persistence.referenceDelegate.addReference(y,_.targetId,x)).next(()=>mt.forEach(_.ds,x=>p.persistence.referenceDelegate.removeReference(y,_.targetId,x)))))}catch(y){if(!fu(y))throw y;Rt(Lv,"Failed to update sequence numbers: "+y)}for(const y of d){const _=y.targetId;if(!y.fromCache){const x=p.Ms.get(_),E=x.snapshotVersion,S=x.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(_,S)}}}(i.localStore,r))}async function g5(e,t){const n=qt(e);if(!n.currentUser.isEqual(t)){Rt(Yv,"User change. New user:",t.toKey());const i=await SD(n.localStore,t);n.currentUser=t,function(r,l){r.mu.forEach(c=>{c.forEach(h=>{h.reject(new At(ft.CANCELLED,l))})}),r.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Hd(n,i.Ls)}}function m5(e,t){const n=qt(e),i=n.Au.get(t);if(i&&i.hu)return re().add(i.key);{let s=re();const r=n.Iu.get(t);if(!r)return s;for(const l of r){const c=n.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}function FD(e){const t=qt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=jD.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=m5.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=h5.bind(null,t),t.Pu.H_=J6.bind(null,t.eventManager),t.Pu.yu=t5.bind(null,t.eventManager),t}function y5(e){const t=qt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=d5.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=f5.bind(null,t),t}class Wg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Mm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return x6(this.persistence,new _6,t.initialUser,this.serializer)}Cu(t){return new ED(Pv.mi,this.serializer)}Du(t){return new R6}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wg.provider={build:()=>new Wg};class _5 extends Wg{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ve(this.persistence.referenceDelegate instanceof $g,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new i6(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Si.withCacheSize(this.cacheSizeBytes):Si.DEFAULT;return new ED(i=>$g.mi(i,n),this.serializer)}}class O0{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>kT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=g5.bind(null,this.syncEngine),await X6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Z6}()}createDatastore(t){const n=Mm(t.databaseInfo.databaseId),i=function(r){return new O6(r)}(t.databaseInfo);return function(r,l,c,h){return new j6(r,l,c,h)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,r,l,c){return new U6(i,s,r,l,c)}(this.localStore,this.datastore,t.asyncQueue,n=>kT(this.syncEngine,n,0),function(){return xT.v()?new xT:new C6}())}createSyncEngine(t,n){return function(s,r,l,c,h,d,p){const y=new s5(s,r,l,c,h,d);return p&&(y.gu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const r=qt(s);Rt(El,"RemoteStore shutting down."),r.Ea.add(5),await $d(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}O0.provider={build:()=>new O0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):sa("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="FirestoreClient";class b5{constructor(t,n,i,s,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=si.UNAUTHENTICATED,this.clientId=wv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async l=>{Rt(fo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(Rt(fo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Bv(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function bb(e,t){e.asyncQueue.verifyOperationInProgress(),Rt(fo,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await SD(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function CT(e,t){e.asyncQueue.verifyOperationInProgress();const n=await v5(e);Rt(fo,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>ET(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>ET(t.remoteStore,s)),e._onlineComponents=t}async function v5(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Rt(fo,"Using user provided OfflineComponentProvider");try{await bb(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===ft.FAILED_PRECONDITION||s.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Yc("Error using user provided cache. Falling back to memory cache: "+n),await bb(e,new Wg)}}else Rt(fo,"Using default OfflineComponentProvider"),await bb(e,new _5(void 0));return e._offlineComponents}async function BD(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Rt(fo,"Using user provided OnlineComponentProvider"),await CT(e,e._uninitializedComponentsProvider._online)):(Rt(fo,"Using default OnlineComponentProvider"),await CT(e,new O0))),e._onlineComponents}function x5(e){return BD(e).then(t=>t.syncEngine)}async function Yg(e){const t=await BD(e),n=t.eventManager;return n.onListen=r5.bind(null,t.syncEngine),n.onUnlisten=l5.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=a5.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=c5.bind(null,t.syncEngine),n}function w5(e,t,n={}){const i=new Jr;return e.asyncQueue.enqueueAndForget(async()=>function(r,l,c,h,d){const p=new Kv({next:_=>{p.Nu(),l.enqueueAndForget(()=>$v(r,y));const x=_.docs.has(c);!x&&_.fromCache?d.reject(new At(ft.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&_.fromCache&&h&&h.source==="server"?d.reject(new At(ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),y=new Wv(Tm(c.path),p,{includeMetadataChanges:!0,qa:!0});return qv(r,y)}(await Yg(e),e.asyncQueue,t,n,i)),i.promise}function E5(e,t,n={}){const i=new Jr;return e.asyncQueue.enqueueAndForget(async()=>function(r,l,c,h,d){const p=new Kv({next:_=>{p.Nu(),l.enqueueAndForget(()=>$v(r,y)),_.fromCache&&h.source==="server"?d.reject(new At(ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),y=new Wv(c,p,{includeMetadataChanges:!0,qa:!0});return qv(r,y)}(await Yg(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="firestore.googleapis.com",MT=!0;class IT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new At(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$D,this.ssl=MT}else this.host=t.host,this.ssl=t.ssl??MT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=wD;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<e6)throw new At(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}U4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qD(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new At(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new At(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new At(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Pm{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new At(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new C4;switch(i.type){case"firstParty":return new O4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new At(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=DT.get(n);i&&(Rt("ComponentProvider","Removing Datastore"),DT.delete(n),i.terminate())}(this),Promise.resolve()}}function S5(e,t,n,i={}){var d;e=zi(e,Pm);const s=cu(t),r=e._getSettings(),l={...r,emulatorOptions:e._getEmulatorOptions()},c=`${t}:${n}`;s&&(bC(`https://${c}`),vC("Firestore",!0)),r.host!==$D&&r.host!==c&&Yc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...r,host:c,ssl:s,emulatorOptions:i};if(!na(h,l)&&(e._setSettings(h),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=si.MOCK_USER;else{p=JL(i.mockUserToken,(d=e._app)==null?void 0:d.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new At(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new si(_)}e._authCredentials=new D4(new OC(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new vo(this.firestore,t,this._query)}}class Qe{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qe(this.firestore,t,this._key)}toJSON(){return{type:Qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(Fd(n,Qe._jsonSchema))return new Qe(t,i||null,new Pt(Pe.fromString(n.referencePath)))}}Qe._jsonSchemaVersion="firestore/documentReference/1.0",Qe._jsonSchema={type:yn("string",Qe._jsonSchemaVersion),referencePath:yn("string")};class so extends vo{constructor(t,n,i){super(t,n,Tm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qe(this.firestore,null,new Pt(t))}withConverter(t){return new so(this.firestore,t,this._path)}}function Ye(e,t,...n){if(e=$e(e),PC("collection","path",t),e instanceof Pm){const i=Pe.fromString(t,...n);return HS(i),new so(e,null,i)}{if(!(e instanceof Qe||e instanceof so))throw new At(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Pe.fromString(t,...n));return HS(i),new so(e.firestore,null,i)}}function Sn(e,t,...n){if(e=$e(e),arguments.length===1&&(t=wv.newId()),PC("doc","path",t),e instanceof Pm){const i=Pe.fromString(t,...n);return $S(i),new Qe(e,null,new Pt(i))}{if(!(e instanceof Qe||e instanceof so))throw new At(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Pe.fromString(t,...n));return $S(i),new Qe(e.firestore,e instanceof so?e.converter:null,new Pt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="AsyncQueue";class PT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AD(this,"async_queue_retry"),this._c=()=>{const i=_b();i&&Rt(OT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=_b();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=_b();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Jr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!fu(t))throw t;Rt(OT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,sa("INTERNAL UNHANDLED ERROR: ",NT(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=Fv.createAndSchedule(this,t,n,i,r=>this.hc(r));return this.tc.push(s),s}uc(){this.nc&&Ut(47125,{Pc:NT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function NT(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(e,["next","error","complete"])}class po extends Pm{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new PT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new PT(t),this._firestoreClient=void 0,await t}}}function T5(e,t){const n=typeof e=="object"?e:vv(),i=typeof e=="string"?e:Ug,s=bv(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=QL("firestore");r&&S5(s,...r)}return s}function Nm(e){if(e._terminated)throw new At(ft.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||A5(e),e._firestoreClient}function A5(e){var i,s,r;const t=e._freezeSettings(),n=function(c,h,d,p){return new X4(c,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,qD(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(e._databaseId,((i=e._app)==null?void 0:i.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(s=t.localCache)!=null&&s._offlineComponentProvider&&((r=t.localCache)!=null&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new b5(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ss(Xn.fromBase64String(t))}catch(n){throw new At(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ss(Xn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ss._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fd(t,ss._jsonSchema))return ss.fromBase64String(t.bytes)}}ss._jsonSchemaVersion="firestore/bytes/1.0",ss._jsonSchema={type:yn("string",ss._jsonSchemaVersion),bytes:yn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new At(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new At(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new At(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return se(this._lat,t._lat)||se(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Js._jsonSchemaVersion}}static fromJSON(t){if(Fd(t,Js._jsonSchema))return new Js(t.latitude,t.longitude)}}Js._jsonSchemaVersion="firestore/geoPoint/1.0",Js._jsonSchema={type:yn("string",Js._jsonSchemaVersion),latitude:yn("number"),longitude:yn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,t._values)}toJSON(){return{type:tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fd(t,tr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new tr(t.vectorValues);throw new At(ft.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}tr._jsonSchemaVersion="firestore/vectorValue/1.0",tr._jsonSchema={type:yn("string",tr._jsonSchemaVersion),vectorValues:yn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5=/^__.*__$/;class R5{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new bo(t,this.data,this.fieldMask,n,this.fieldTransforms):new Bd(t,this.data,n,this.fieldTransforms)}}class HD{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new bo(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function WD(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut(40011,{Ac:e})}}class jm{constructor(t,n,i,s,r,l){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Rc(),this.fieldTransforms=r||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new jm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var s;const n=(s=this.path)==null?void 0:s.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){var s;const n=(s=this.path)==null?void 0:s.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Gg(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(WD(this.Ac)&&k5.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class C5{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Mm(t)}Cc(t,n,i,s=!1){return new jm({Ac:t,methodName:n,Dc:i,path:Kn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vm(e){const t=e._freezeSettings(),n=Mm(e._databaseId);return new C5(e._databaseId,!!t.ignoreUndefinedProperties,n)}function YD(e,t,n,i,s,r={}){const l=e.Cc(r.merge||r.mergeFields?2:0,t,n,s);Jv("Data must be an object, but it was:",l,i);const c=KD(i,l);let h,d;if(r.merge)h=new Ui(l.fieldMask),d=l.fieldTransforms;else if(r.mergeFields){const p=[];for(const y of r.mergeFields){const _=P0(t,y,n);if(!l.contains(_))throw new At(ft.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);QD(p,_)||p.push(_)}h=new Ui(p),d=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,d=l.fieldTransforms;return new R5(new Ti(c),h,d)}class Um extends mu{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Um}}function GD(e,t,n){return new jm({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Xv extends mu{_toFieldTransform(t){return new Cv(t.path,new Ed)}isEqual(t){return t instanceof Xv}}class Qv extends mu{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=GD(this,t,!0),i=this.vc.map(r=>Il(r,n)),s=new Qc(i);return new Cv(t.path,s)}isEqual(t){return t instanceof Qv&&na(this.vc,t.vc)}}class Zv extends mu{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=GD(this,t,!0),i=this.vc.map(r=>Il(r,n)),s=new Zc(i);return new Cv(t.path,s)}isEqual(t){return t instanceof Zv&&na(this.vc,t.vc)}}function D5(e,t,n,i){const s=e.Cc(1,t,n);Jv("Data must be an object, but it was:",s,i);const r=[],l=Ti.empty();_o(i,(h,d)=>{const p=tx(t,h,n);d=$e(d);const y=s.yc(p);if(d instanceof Um)r.push(p);else{const _=Il(d,y);_!=null&&(r.push(p),l.set(p,_))}});const c=new Ui(r);return new HD(l,c,s.fieldTransforms)}function M5(e,t,n,i,s,r){const l=e.Cc(1,t,n),c=[P0(t,i,n)],h=[s];if(r.length%2!=0)throw new At(ft.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<r.length;_+=2)c.push(P0(t,r[_])),h.push(r[_+1]);const d=[],p=Ti.empty();for(let _=c.length-1;_>=0;--_)if(!QD(d,c[_])){const x=c[_];let E=h[_];E=$e(E);const S=l.yc(x);if(E instanceof Um)d.push(x);else{const T=Il(E,S);T!=null&&(d.push(x),p.set(x,T))}}const y=new Ui(d);return new HD(p,y,l.fieldTransforms)}function I5(e,t,n,i=!1){return Il(n,e.Cc(i?4:3,t))}function Il(e,t){if(XD(e=$e(e)))return Jv("Unsupported field value:",t,e),KD(e,t);if(e instanceof mu)return function(i,s){if(!WD(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,s){const r=[];let l=0;for(const c of i){let h=Il(c,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),r.push(h),l++}return{arrayValue:{values:r}}}(e,t)}return function(i,s){if((i=$e(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return bV(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Ie.fromDate(i);return{timestampValue:qg(s.serializer,r)}}if(i instanceof Ie){const r=new Ie(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:qg(s.serializer,r)}}if(i instanceof Js)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ss)return{bytesValue:gD(s.serializer,i._byteString)};if(i instanceof Qe){const r=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(r))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Iv(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof tr)return function(l,c){return{mapValue:{fields:{[qC]:{stringValue:$C},[zg]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return Rv(c.serializer,d)})}}}}}}(i,s);throw s.Sc(`Unsupported field value: ${xm(i)}`)}(e,t)}function KD(e,t){const n={};return jC(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_o(e,(i,s)=>{const r=Il(s,t.mc(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function XD(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ie||e instanceof Js||e instanceof ss||e instanceof Qe||e instanceof mu||e instanceof tr)}function Jv(e,t,n){if(!XD(n)||!NC(n)){const i=xm(n);throw i==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function P0(e,t,n){if((t=$e(t))instanceof Lm)return t._internalPath;if(typeof t=="string")return tx(e,t);throw Gg("Field path arguments must be of type string or ",e,!1,void 0,n)}const O5=new RegExp("[~\\*/\\[\\]]");function tx(e,t,n){if(t.search(O5)>=0)throw Gg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Lm(...t.split("."))._internalPath}catch{throw Gg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Gg(e,t,n,i,s){const r=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${t}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(r||l)&&(h+=" (found",r&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new At(ft.INVALID_ARGUMENT,c+e+h)}function QD(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new P5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(zm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class P5 extends ZD{data(){return super.data()}}function zm(e,t){return typeof t=="string"?tx(e,t):t instanceof Lm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new At(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ex{}class tM extends ex{}function An(e,t,...n){let i=[];t instanceof ex&&i.push(t),i=i.concat(n),function(r){const l=r.filter(h=>h instanceof nx).length,c=r.filter(h=>h instanceof Fm).length;if(l>1||l>0&&c>0)throw new At(ft.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)e=s._apply(e);return e}class Fm extends tM{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Fm(t,n,i)}_apply(t){const n=this._parse(t);return eM(t._query,n),new vo(t.firestore,t.converter,E0(t._query,n))}_parse(t){const n=Vm(t.firestore);return function(r,l,c,h,d,p,y){let _;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new At(ft.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){VT(y,p);const E=[];for(const S of y)E.push(jT(h,r,S));_={arrayValue:{values:E}}}else _=jT(h,r,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||VT(y,p),_=I5(c,l,y,p==="in"||p==="not-in");return mn.create(d,p,_)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function sn(e,t,n){const i=t,s=zm("where",e);return Fm._create(s,i,n)}class nx extends ex{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new nx(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Es.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,r){let l=s;const c=r.getFlattenedFilters();for(const h of c)eM(l,h),l=E0(l,h)}(t._query,n),new vo(t.firestore,t.converter,E0(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ix extends tM{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new ix(t,n)}_apply(t){const n=function(s,r,l){if(s.startAt!==null)throw new At(ft.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new At(ft.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wd(r,l)}(t._query,this._field,this._direction);return new vo(t.firestore,t.converter,function(s,r){const l=s.explicitOrderBy.concat([r]);return new pu(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,n))}}function Sd(e,t="asc"){const n=t,i=zm("orderBy",e);return ix._create(i,n)}function jT(e,t,n){if(typeof(n=$e(n))=="string"){if(n==="")throw new At(ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZC(t)&&n.indexOf("/")!==-1)throw new At(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Pe.fromString(n));if(!Pt.isDocumentKey(i))throw new At(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return JS(e,new Pt(i))}if(n instanceof Qe)return JS(e,n._key);throw new At(ft.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xm(n)}.`)}function VT(e,t){if(!Array.isArray(e)||e.length===0)throw new At(ft.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function eM(e,t){const n=function(s,r){for(const l of s)for(const c of l.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new At(ft.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new At(ft.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class N5{convertValue(t,n="none"){switch(uo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return nn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(co(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ut(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return _o(t,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(t){var i,s,r;const n=(r=(s=(i=t.fields)==null?void 0:i[zg].arrayValue)==null?void 0:s.values)==null?void 0:r.map(l=>nn(l.doubleValue));return new tr(n)}convertGeoPoint(t){return new Js(nn(t.latitude),nn(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Sm(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(bd(t));default:return null}}convertTimestamp(t){const n=lo(t);return new Ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Pe.fromString(t);ve(xD(i),9688,{name:t});const s=new vd(i.get(1),i.get(3)),r=new Pt(i.popFirst(5));return s.isEqual(n)||sa(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class qh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class gl extends ZD{constructor(t,n,i,s,r,l){super(t,n,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new _g(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(zm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new At(ft.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=gl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}gl._jsonSchemaVersion="firestore/documentSnapshot/1.0",gl._jsonSchema={type:yn("string",gl._jsonSchemaVersion),bundleSource:yn("string","DocumentSnapshot"),bundleName:yn("string"),bundle:yn("string")};class _g extends gl{data(t={}){return super.data(t)}}class ml{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new qh(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new _g(this._firestore,this._userDataWriter,i.key,i,new qh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new At(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new _g(s._firestore,s._userDataWriter,c.doc.key,c.doc,new qh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>r||c.type!==3).map(c=>{const h=new _g(s._firestore,s._userDataWriter,c.doc.key,c.doc,new qh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,p=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:L5(c.type),doc:h,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new At(ft.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ml._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=wv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),s.push(r.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function L5(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(e){e=zi(e,Qe);const t=zi(e.firestore,po);return w5(Nm(t),e._key).then(n=>iM(t,e,n))}ml._jsonSchemaVersion="firestore/querySnapshot/1.0",ml._jsonSchema={type:yn("string",ml._jsonSchemaVersion),bundleSource:yn("string","QuerySnapshot"),bundleName:yn("string"),bundle:yn("string")};class sx extends N5{constructor(t){super(),this.firestore=t}convertBytes(t){return new ss(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Qe(this.firestore,null,n)}}function ro(e){e=zi(e,vo);const t=zi(e.firestore,po),n=Nm(t),i=new sx(t);return JD(e._query),E5(n,e._query).then(s=>new ml(t,i,e,s))}function j5(e,t,n){e=zi(e,Qe);const i=zi(e.firestore,po),s=nM(e.converter,t);return rx(i,[YD(Vm(i),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,xs.none())])}function ms(e,t,n,...i){e=zi(e,Qe);const s=zi(e.firestore,po),r=Vm(s);let l;return l=typeof(t=$e(t))=="string"||t instanceof Lm?M5(r,"updateDoc",e._key,t,n,i):D5(r,"updateDoc",e._key,t),rx(s,[l.toMutation(e._key,xs.exists(!0))])}function V5(e,t){const n=zi(e.firestore,po),i=Sn(e),s=nM(e.converter,t);return rx(n,[YD(Vm(e.firestore),"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,xs.exists(!1))]).then(()=>i)}function rs(e,...t){var h,d,p;e=$e(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||LT(t[i])||(n=t[i++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(LT(t[i])){const y=t[i];t[i]=(h=y.next)==null?void 0:h.bind(y),t[i+1]=(d=y.error)==null?void 0:d.bind(y),t[i+2]=(p=y.complete)==null?void 0:p.bind(y)}let r,l,c;if(e instanceof Qe)l=zi(e.firestore,po),c=Tm(e._key.path),r={next:y=>{t[i]&&t[i](iM(l,e,y))},error:t[i+1],complete:t[i+2]};else{const y=zi(e,vo);l=zi(y.firestore,po),c=y._query;const _=new sx(l);r={next:x=>{t[i]&&t[i](new ml(l,_,y,x))},error:t[i+1],complete:t[i+2]},JD(e._query)}return function(_,x,E,S){const T=new Kv(S),D=new Wv(x,T,E);return _.asyncQueue.enqueueAndForget(async()=>qv(await Yg(_),D)),()=>{T.Nu(),_.asyncQueue.enqueueAndForget(async()=>$v(await Yg(_),D))}}(Nm(l),c,s,r)}function rx(e,t){return function(i,s){const r=new Jr;return i.asyncQueue.enqueueAndForget(async()=>u5(await x5(i),s,r)),r.promise}(Nm(e),t)}function iM(e,t,n){const i=n.docs.get(t._key),s=new sx(e);return new gl(e,s,t._key,i,new qh(n.hasPendingWrites,n.fromCache),t.converter)}function N0(){return new Xv("serverTimestamp")}function U5(...e){return new Qv("arrayUnion",e)}function z5(...e){return new Zv("arrayRemove",e)}(function(t,n=!0){(function(s){hu=s})(uu),Wc(new xl("firestore",(i,{instanceIdentifier:s,options:r})=>{const l=i.getProvider("app").getImmediate(),c=new po(new M4(i.getProvider("auth-internal")),new P4(l,i.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new At(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vd(d.options.projectId,p)}(l,s),l);return r={useFetchStreams:n,...r},c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),no(zS,FS,t),no(zS,FS,"esm2020")})();function sM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F5=sM,rM=new Ud("auth","Firebase",sM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=new yv("@firebase/auth");function B5(e,...t){Kg.logLevel<=ie.WARN&&Kg.warn(`Auth (${uu}): ${e}`,...t)}function bg(e,...t){Kg.logLevel<=ie.ERROR&&Kg.error(`Auth (${uu}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(e,...t){throw ax(e,...t)}function er(e,...t){return ax(e,...t)}function aM(e,t,n){const i={...F5(),[t]:n};return new Ud("auth","Firebase",i).create(t,{appName:e.name})}function ta(e){return aM(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ax(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return rM.create(e,...t)}function Mt(e,t,...n){if(!e)throw ax(t,...n)}function $r(e){const t="INTERNAL ASSERTION FAILED: "+e;throw bg(t),new Error(t)}function aa(e,t){e||$r(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function q5(){return UT()==="http:"||UT()==="https:"}function UT(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q5()||rj()||"connection"in navigator)?navigator.onLine:!0}function H5(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(t,n){this.shortDelay=t,this.longDelay=n,aa(n>t,"Short delay should be less than long delay!"),this.isMobile=nj()||aj()}get(){return $5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(e,t){aa(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G5=new Wd(3e4,6e4);function lr(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function ks(e,t,n,i,s={}){return lM(e,s,async()=>{let r={},l={};i&&(t==="GET"?l=i:r={body:JSON.stringify(i)});const c=zd({key:e.config.apiKey,...l}).slice(1),h=await e._getAdditionalHeaders();h["Content-Type"]="application/json",e.languageCode&&(h["X-Firebase-Locale"]=e.languageCode);const d={method:t,headers:h,...r};return sj()||(d.referrerPolicy="no-referrer"),e.emulatorConfig&&cu(e.emulatorConfig.host)&&(d.credentials="include"),oM.fetch()(await cM(e,e.config.apiHost,n,c),d)})}async function lM(e,t,n){e._canInitEmulator=!1;const i={...W5,...t};try{const s=new X5(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await r.json();if("needConfirmation"in l)throw Mp(e,"account-exists-with-different-credential",l);if(r.ok&&!("errorMessage"in l))return l;{const c=r.ok?l.errorMessage:l.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mp(e,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Mp(e,"email-already-in-use",l);if(h==="USER_DISABLED")throw Mp(e,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw aM(e,p,d);os(e,p)}}catch(s){if(s instanceof or)throw s;os(e,"network-request-failed",{message:String(s)})}}async function Yd(e,t,n,i,s={}){const r=await ks(e,t,n,i,s);return"mfaPendingCredential"in r&&os(e,"multi-factor-auth-required",{_serverResponse:r}),r}async function cM(e,t,n,i){const s=`${t}${n}?${i}`,r=e,l=r.config.emulator?ox(e.config,s):`${e.config.apiScheme}://${s}`;return Y5.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(l).toString():l}function K5(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class X5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(er(this.auth,"network-request-failed")),G5.get())})}}function Mp(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=er(e,t,i);return s.customData._tokenResponse=n,s}function zT(e){return e!==void 0&&e.enterprise!==void 0}class Q5{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return K5(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Z5(e,t){return ks(e,"GET","/v2/recaptchaConfig",lr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J5(e,t){return ks(e,"POST","/v1/accounts:delete",t)}async function Xg(e,t){return ks(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function t3(e,t=!1){const n=$e(e),i=await n.getIdToken(t),s=lx(i);Mt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,l=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:nd(vb(s.auth_time)),issuedAtTime:nd(vb(s.iat)),expirationTime:nd(vb(s.exp)),signInProvider:l||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function vb(e){return Number(e)*1e3}function lx(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return bg("JWT malformed, contained fewer than 3 sections"),null;try{const s=gC(n);return s?JSON.parse(s):(bg("Failed to decode base64 JWT payload"),null)}catch(s){return bg("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function FT(e){const t=lx(e);return Mt(t,"internal-error"),Mt(typeof t.exp<"u","internal-error"),Mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof or&&e3(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function e3({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nd(this.lastLoginAt),this.creationTime=nd(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qg(e){var y;const t=e.auth,n=await e.getIdToken(),i=await eu(e,Xg(t,{idToken:n}));Mt(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const r=(y=s.providerUserInfo)!=null&&y.length?uM(s.providerUserInfo):[],l=s3(e.providerData,r),c=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),d=c?h:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new j0(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,p)}async function i3(e){const t=$e(e);await Qg(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function s3(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function uM(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3(e,t){const n=await lM(e,{},async()=>{const i=zd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,l=await cM(e,s,"/v1/token",`key=${r}`),c=await e._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:i};return e.emulatorConfig&&cu(e.emulatorConfig.host)&&(h.credentials="include"),oM.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function a3(e,t){return ks(e,"POST","/v2/accounts:revokeToken",lr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Mt(t.idToken,"internal-error"),Mt(typeof t.idToken<"u","internal-error"),Mt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):FT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Mt(t.length!==0,"internal-error");const n=FT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await r3(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,l=new Lc;return i&&(Mt(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),s&&(Mt(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),r&&(Mt(typeof r=="number","internal-error",{appName:t}),l.expirationTime=r),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Lc,this.toJSON())}_performRefresh(){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(e,t){Mt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ys{constructor({uid:t,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new n3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new j0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await eu(this,this.stsTokenManager.getToken(this.auth,t));return Mt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return t3(this,t)}reload(){return i3(this)}_assign(t){this!==t&&(Mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ys({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Qg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(is(this.auth.app))return Promise.reject(ta(this.auth));const t=await this.getIdToken();return await eu(this,J5(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,s=n.email??void 0,r=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,h=n._redirectEventId??void 0,d=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:x,providerData:E,stsTokenManager:S}=n;Mt(y&&S,t,"internal-error");const T=Lc.fromJSON(this.name,S);Mt(typeof y=="string",t,"internal-error"),Ua(i,t.name),Ua(s,t.name),Mt(typeof _=="boolean",t,"internal-error"),Mt(typeof x=="boolean",t,"internal-error"),Ua(r,t.name),Ua(l,t.name),Ua(c,t.name),Ua(h,t.name),Ua(d,t.name),Ua(p,t.name);const D=new ys({uid:y,auth:t,email:s,emailVerified:_,displayName:i,isAnonymous:x,photoURL:l,phoneNumber:r,tenantId:c,stsTokenManager:T,createdAt:d,lastLoginAt:p});return E&&Array.isArray(E)&&(D.providerData=E.map(M=>({...M}))),h&&(D._redirectEventId=h),D}static async _fromIdTokenResponse(t,n,i=!1){const s=new Lc;s.updateFromServerResponse(n);const r=new ys({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Qg(r),r}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];Mt(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?uM(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),c=new Lc;c.updateFromIdToken(i);const h=new ys({uid:s.localId,auth:t,stsTokenManager:c,isAnonymous:l}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new j0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=new Map;function Hr(e){aa(e instanceof Function,"Expected a class definition");let t=BT.get(e);return t?(aa(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,BT.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}hM.type="NONE";const V0=hM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(e,t,n){return`firebase:${e}:${t}:${n}`}class jc{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=vg(this.userKey,s.apiKey,r),this.fullPersistenceKey=vg("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Xg(this.auth,{idToken:t}).catch(()=>{});return n?ys._fromGetAccountInfoResponse(this.auth,n,t):null}return ys._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new jc(Hr(V0),t,i);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let r=s[0]||Hr(V0);const l=vg(i,t.config.apiKey,t.name);let c=null;for(const d of n)try{const p=await d._get(l);if(p){let y;if(typeof p=="string"){const _=await Xg(t,{idToken:p}).catch(()=>{});if(!_)break;y=await ys._fromGetAccountInfoResponse(t,_,p)}else y=ys._fromJSON(t,p);d!==r&&(c=y),r=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!r._shouldAllowMigration||!h.length?new jc(r,t,i):(r=h[0],c&&await r._set(l,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==r)try{await d._remove(l)}catch{}})),new jc(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gM(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dM(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yM(t))return"Blackberry";if(_M(t))return"Webos";if(fM(t))return"Safari";if((t.includes("chrome/")||pM(t))&&!t.includes("edge/"))return"Chrome";if(mM(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function dM(e=ci()){return/firefox\//i.test(e)}function fM(e=ci()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function pM(e=ci()){return/crios\//i.test(e)}function gM(e=ci()){return/iemobile/i.test(e)}function mM(e=ci()){return/android/i.test(e)}function yM(e=ci()){return/blackberry/i.test(e)}function _M(e=ci()){return/webos/i.test(e)}function cx(e=ci()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function o3(e=ci()){var t;return cx(e)&&!!((t=window.navigator)!=null&&t.standalone)}function l3(){return oj()&&document.documentMode===10}function bM(e=ci()){return cx(e)||mM(e)||_M(e)||yM(e)||/windows phone/i.test(e)||gM(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(e,t=[]){let n;switch(e){case"Browser":n=qT(ci());break;case"Worker":n=`${qT(ci())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${uu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((l,c)=>{try{const h=t(r);l(h)}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3(e,t={}){return ks(e,"GET","/v2/passwordPolicy",lr(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=6;class d3{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??h3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $T(this),this.idTokenSubscription=new $T(this),this.beforeStateQueue=new c3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await jc.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Xg(this,{idToken:t}),i=await ys._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(is(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(r=this.redirectUser)==null?void 0:r._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Qg(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=H5()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(is(this.app))return Promise.reject(ta(this));const n=t?$e(t):null;return n&&Mt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return is(this.app)?Promise.reject(ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return is(this.app)?Promise.reject(ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await u3(this),n=new d3(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ud("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await a3(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Hr(t)||this._popupRedirectResolver;Mt(n,this,"argument-error"),this.redirectPersistenceManager=await jc.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Mt(c,this,"internal-error"),c.then(()=>{l||r(this.currentUser)}),typeof n=="function"){const h=t.addObserver(n,i,s);return()=>{l=!0,h()}}else{const h=t.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=vM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(is(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&B5(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function oa(e){return $e(e)}class $T{constructor(t){this.auth=t,this.observer=null,this.addObserver=gj(n=>this.observer=n)}get next(){return Mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p3(e){Bm=e}function xM(e){return Bm.loadJS(e)}function g3(){return Bm.recaptchaEnterpriseScript}function m3(){return Bm.gapiScript}function y3(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class _3{constructor(){this.enterprise=new b3}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class b3{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const v3="recaptcha-enterprise",wM="NO_RECAPTCHA";class x3{constructor(t){this.type=v3,this.auth=oa(t)}async verify(t="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(l,c)=>{Z5(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new Q5(h);return r.tenantId==null?r._agentRecaptchaConfig=d:r._tenantRecaptchaConfigs[r.tenantId]=d,l(d.siteKey)}}).catch(h=>{c(h)})})}function s(r,l,c){const h=window.grecaptcha;zT(h)?h.enterprise.ready(()=>{h.enterprise.execute(r,{action:t}).then(d=>{l(d)}).catch(()=>{l(wM)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _3().execute("siteKey",{action:"verify"}):new Promise((r,l)=>{i(this.auth).then(c=>{if(!n&&zT(window.grecaptcha))s(c,r,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=g3();h.length!==0&&(h+=c),xM(h).then(()=>{s(c,r,l)}).catch(d=>{l(d)})}}).catch(c=>{l(c)})})}}async function HT(e,t,n,i=!1,s=!1){const r=new x3(e);let l;if(s)l=wM;else try{l=await r.verify(n)}catch{l=await r.verify(n,!0)}const c={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Zg(e,t,n,i,s){var r;if((r=e._getRecaptchaConfig())!=null&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await HT(e,t,n,n==="getOobCode");return i(e,l)}else return i(e,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await HT(e,t,n,n==="getOobCode");return i(e,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(e,t){const n=bv(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(na(r,t??{}))return s;os(s,"already-initialized")}return n.initialize({options:t})}function E3(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Hr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function S3(e,t,n){const i=oa(e);Mt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,r=EM(t),{host:l,port:c}=T3(t),h=c===null?"":`:${c}`,d={url:`${r}//${l}${h}/`},p=Object.freeze({host:l,port:c,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Mt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Mt(na(d,i.config.emulator)&&na(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,cu(l)?(bC(`${r}//${l}${h}`),vC("Auth",!0)):A3()}function EM(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function T3(e){const t=EM(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:WT(i.substr(r.length+1))}}else{const[r,l]=i.split(":");return{host:r,port:WT(l)}}}function WT(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function A3(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(t){return $r("not implemented")}_linkToIdToken(t,n){return $r("not implemented")}_getReauthenticationResolver(t){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(e,t){return ks(e,"POST","/v1/accounts:resetPassword",lr(e,t))}async function k3(e,t){return ks(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R3(e,t){return Yd(e,"POST","/v1/accounts:signInWithPassword",lr(e,t))}async function C3(e,t){return ks(e,"POST","/v1/accounts:sendOobCode",lr(e,t))}async function D3(e,t){return C3(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M3(e,t){return Yd(e,"POST","/v1/accounts:signInWithEmailLink",lr(e,t))}async function I3(e,t){return Yd(e,"POST","/v1/accounts:signInWithEmailLink",lr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends ux{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new Td(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Td(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zg(t,n,"signInWithPassword",R3);case"emailLink":return M3(t,{email:this._email,oobCode:this._password});default:os(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zg(t,i,"signUpPassword",k3);case"emailLink":return I3(t,{idToken:n,email:this._email,oobCode:this._password});default:os(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(e,t){return Yd(e,"POST","/v1/accounts:signInWithIdp",lr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="http://localhost";class Tl extends ux{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Tl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):os("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...r}=n;if(!i||!s)return null;const l=new Tl(i,s);return l.idToken=r.idToken||void 0,l.accessToken=r.accessToken||void 0,l.secret=r.secret,l.nonce=r.nonce,l.pendingToken=r.pendingToken||null,l}_getIdTokenResponse(t){const n=this.buildRequest();return Vc(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Vc(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Vc(t,n)}buildRequest(){const t={requestUri:O3,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=zd(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function N3(e){const t=Vh(Uh(e)).link,n=t?Vh(Uh(t)).deep_link_id:null,i=Vh(Uh(e)).deep_link_id;return(i?Vh(Uh(i)).link:null)||i||n||t||e}class hx{constructor(t){const n=Vh(Uh(t)),i=n.apiKey??null,s=n.oobCode??null,r=P3(n.mode??null);Mt(i&&s&&r,"argument-error"),this.apiKey=i,this.operation=r,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=N3(t);try{return new hx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(){this.providerId=yu.PROVIDER_ID}static credential(t,n){return Td._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=hx.parseLink(n);return Mt(i,"argument-error"),Td._fromEmailAndCode(t,i.code,i.tenantId)}}yu.PROVIDER_ID="password";yu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends TM{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends Gd{constructor(){super("facebook.com")}static credential(t){return Tl._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $a.credentialFromTaggedObject(t)}static credentialFromError(t){return $a.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $a.credential(t.oauthAccessToken)}catch{return null}}}$a.FACEBOOK_SIGN_IN_METHOD="facebook.com";$a.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends Gd{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Tl._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ha.credentialFromTaggedObject(t)}static credentialFromError(t){return Ha.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Ha.credential(n,i)}catch{return null}}}Ha.GOOGLE_SIGN_IN_METHOD="google.com";Ha.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends Gd{constructor(){super("github.com")}static credential(t){return Tl._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wa.credentialFromTaggedObject(t)}static credentialFromError(t){return Wa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wa.credential(t.oauthAccessToken)}catch{return null}}}Wa.GITHUB_SIGN_IN_METHOD="github.com";Wa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Gd{constructor(){super("twitter.com")}static credential(t,n){return Tl._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ya.credentialFromTaggedObject(t)}static credentialFromError(t){return Ya.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Ya.credential(n,i)}catch{return null}}}Ya.TWITTER_SIGN_IN_METHOD="twitter.com";Ya.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3(e,t){return Yd(e,"POST","/v1/accounts:signUp",lr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await ys._fromIdTokenResponse(t,i,s),l=YT(i);return new Al({user:r,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=YT(i);return new Al({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function YT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg extends or{constructor(t,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Jg.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new Jg(t,n,i,s)}}function AM(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Jg._fromErrorAndOperation(e,r,t,i):r})}async function j3(e,t,n=!1){const i=await eu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Al._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V3(e,t,n=!1){const{auth:i}=e;if(is(i.app))return Promise.reject(ta(i));const s="reauthenticate";try{const r=await eu(e,AM(i,s,t,e),n);Mt(r.idToken,i,"internal-error");const l=lx(r.idToken);Mt(l,i,"internal-error");const{sub:c}=l;return Mt(e.uid===c,i,"user-mismatch"),Al._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&os(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kM(e,t,n=!1){if(is(e.app))return Promise.reject(ta(e));const i="signIn",s=await AM(e,i,t),r=await Al._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}async function U3(e,t){return kM(oa(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(t,n){this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(t,n){return"phoneInfo"in n?fx._fromServerResponse(t,n):"totpInfo"in n?px._fromServerResponse(t,n):os(t,"internal-error")}}class fx extends dx{constructor(t){super("phone",t),this.phoneNumber=t.phoneInfo}static _fromServerResponse(t,n){return new fx(n)}}class px extends dx{constructor(t){super("totp",t)}static _fromServerResponse(t,n){return new px(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(e,t,n){var i;Mt(((i=n.url)==null?void 0:i.length)>0,e,"invalid-continue-uri"),Mt(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Mt(typeof n.linkDomain>"u"||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Mt(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Mt(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(e){const t=oa(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function F3(e,t,n){const i=oa(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&z3(i,s,n),await Zg(i,s,"getOobCode",D3)}async function B3(e,t,n){await SM($e(e),{oobCode:t,newPassword:n}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&gx(e),i})}async function q3(e,t){const n=$e(e),i=await SM(n,{oobCode:t}),s=i.requestType;switch(Mt(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Mt(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Mt(i.mfaInfo,n,"internal-error");default:Mt(i.email,n,"internal-error")}let r=null;return i.mfaInfo&&(r=dx._fromServerResponse(oa(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:r},operation:s}}async function $3(e,t){const{data:n}=await q3($e(e),t);return n.email}async function H3(e,t,n){if(is(e.app))return Promise.reject(ta(e));const i=oa(e),l=await Zg(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",L3).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&gx(e),h}),c=await Al._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function RM(e,t,n){return is(e.app)?Promise.reject(ta(e)):U3($e(e),yu.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&gx(e),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W3(e,t){return ks(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const i=$e(e),r={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},l=await eu(i,W3(i.auth,r));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const c=i.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(e,t){return $e(e).setPersistence(t)}function K3(e,t,n,i){return $e(e).onIdTokenChanged(t,n,i)}function X3(e,t,n){return $e(e).beforeAuthStateChanged(t,n)}function xo(e,t,n,i){return $e(e).onAuthStateChanged(t,n,i)}function Q3(e){return $e(e).signOut()}const tm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tm,"1"),this.storage.removeItem(tm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=1e3,J3=10;class DM extends CM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},r=this.storage.getItem(i);l3()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,J3):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},Z3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}DM.type="LOCAL";const tU=DM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM extends CM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}MM.type="SESSION";const IM=MM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new qm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async d=>d(n.origin,r)),h=await eU(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,l;return new Promise((c,h)=>{const d=mx("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(y){const _=y;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),r=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),c(_.data.response);break;default:clearTimeout(p),clearTimeout(r),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:d,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return window}function iU(e){nr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}async function sU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rU(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function aU(){return OM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="firebaseLocalStorageDb",oU=1,em="firebaseLocalStorage",NM="fbase_key";class Kd{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $m(e,t){return e.transaction([em],t?"readwrite":"readonly").objectStore(em)}function lU(){const e=indexedDB.deleteDatabase(PM);return new Kd(e).toPromise()}function U0(){const e=indexedDB.open(PM,oU);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(em,{keyPath:NM})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(em)?t(i):(i.close(),await lU(),t(await U0()))})})}async function GT(e,t,n){const i=$m(e,!0).put({[NM]:t,value:n});return new Kd(i).toPromise()}async function cU(e,t){const n=$m(e,!1).get(t),i=await new Kd(n).toPromise();return i===void 0?null:i.value}function KT(e,t){const n=$m(e,!0).delete(t);return new Kd(n).toPromise()}const uU=800,hU=3;class LM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await U0(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>hU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qm._getInstance(aU()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await sU(),!this.activeServiceWorker)return;this.sender=new nU(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||rU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await U0();return await GT(t,tm,"1"),await KT(t,tm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>GT(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>cU(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>KT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=$m(s,!1).getAll();return new Kd(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LM.type="LOCAL";const dU=LM;new Wd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(e,t){return t?Hr(t):(Mt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx extends ux{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Vc(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Vc(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Vc(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function pU(e){return kM(e.auth,new yx(e),e.bypassAuthState)}function gU(e){const{auth:t,user:n}=e;return Mt(n,t,"internal-error"),V3(n,new yx(e),e.bypassAuthState)}async function mU(e){const{auth:t,user:n}=e;return Mt(n,t,"internal-error"),j3(n,new yx(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:l,type:c}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return pU;case"linkViaPopup":case"linkViaRedirect":return mU;case"reauthViaPopup":case"reauthViaRedirect":return gU;default:os(this.auth,"internal-error")}}resolve(t){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=new Wd(2e3,1e4);class Oc extends jM{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Oc.currentPopupAction&&Oc.currentPopupAction.cancel(),Oc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Mt(t,this.auth,"internal-error"),t}async onExecution(){aa(this.filter.length===1,"Popup operations only handle one event");const t=mx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oc.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,yU.get())};t()}}Oc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U="pendingRedirect",xg=new Map;class bU extends jM{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=xg.get(this.auth._key());if(!t){try{const i=await vU(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}xg.set(this.auth._key(),t)}return this.bypassAuthState||xg.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vU(e,t){const n=EU(t),i=wU(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function xU(e,t){xg.set(e._key(),t)}function wU(e){return Hr(e._redirectPersistence)}function EU(e){return vg(_U,e.config.apiKey,e.name)}async function SU(e,t,n=!1){if(is(e.app))return Promise.reject(ta(e));const i=oa(e),s=fU(i,t),l=await new bU(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=600*1e3;class AU{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!kU(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!VM(t)){const s=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(er(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=TU&&this.cachedEventUids.clear(),this.cachedEventUids.has(XT(t))}saveEventToCache(t){this.cachedEventUids.add(XT(t)),this.lastProcessedEventTime=Date.now()}}function XT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function VM({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function kU(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VM(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RU(e,t={}){return ks(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DU=/^https?/;async function MU(e){if(e.config.emulator)return;const{authorizedDomains:t}=await RU(e);for(const n of t)try{if(IU(n))return}catch{}os(e,"unauthorized-domain")}function IU(e){const t=L0(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const l=new URL(e);return l.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!DU.test(n))return!1;if(CU.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=new Wd(3e4,6e4);function QT(){const e=nr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function PU(e){return new Promise((t,n)=>{var s,r,l;function i(){QT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{QT(),n(er(e,"network-request-failed"))},timeout:OU.get()})}if((r=(s=nr().gapi)==null?void 0:s.iframes)!=null&&r.Iframe)t(gapi.iframes.getContext());else if((l=nr().gapi)!=null&&l.load)i();else{const c=y3("iframefcb");return nr()[c]=()=>{gapi.load?i():n(er(e,"network-request-failed"))},xM(`${m3()}?onload=${c}`).catch(h=>n(h))}}).catch(t=>{throw wg=null,t})}let wg=null;function NU(e){return wg=wg||PU(e),wg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=new Wd(5e3,15e3),jU="__/auth/iframe",VU="emulator/auth/iframe",UU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FU(e){const t=e.config;Mt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ox(t,VU):`https://${e.config.authDomain}/${jU}`,i={apiKey:t.apiKey,appName:e.name,v:uu},s=zU.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${zd(i).slice(1)}`}async function BU(e){const t=await NU(e),n=nr().gapi;return Mt(n,e,"internal-error"),t.open({where:document.body,url:FU(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UU,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const l=er(e,"network-request-failed"),c=nr().setTimeout(()=>{r(l)},LU.get());function h(){nr().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{r(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$U=500,HU=600,WU="_blank",YU="http://localhost";class ZT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GU(e,t,n,i=$U,s=HU){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h={...qU,width:i.toString(),height:s.toString(),top:r,left:l},d=ci().toLowerCase();n&&(c=pM(d)?WU:n),dM(d)&&(t=t||YU,h.scrollbars="yes");const p=Object.entries(h).reduce((_,[x,E])=>`${_}${x}=${E},`,"");if(o3(d)&&c!=="_self")return KU(t||"",c),new ZT(null);const y=window.open(t||"",c,p);Mt(y,e,"popup-blocked");try{y.focus()}catch{}return new ZT(y)}function KU(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU="__/auth/handler",QU="emulator/auth/handler",ZU=encodeURIComponent("fac");async function JT(e,t,n,i,s,r){Mt(e.config.authDomain,e,"auth-domain-config-required"),Mt(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:uu,eventId:s};if(t instanceof TM){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",pj(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(t instanceof Gd){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await e._getAppCheckToken(),d=h?`#${ZU}=${encodeURIComponent(h)}`:"";return`${JU(e)}?${zd(c).slice(1)}${d}`}function JU({config:e}){return e.emulator?ox(e,QU):`https://${e.authDomain}/${XU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="webStorageSupport";class tz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IM,this._completeRedirectFn=SU,this._overrideRedirectResult=xU}async _openPopup(t,n,i,s){var l;aa((l=this.eventManagers[t._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const r=await JT(t,n,i,L0(),s);return GU(t,r,mx())}async _openRedirect(t,n,i,s){await this._originValidation(t);const r=await JT(t,n,i,L0(),s);return iU(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(aa(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await BU(t),i=new AU(t);return n.register("authEvent",s=>(Mt(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(xb,{type:xb},s=>{var l;const r=(l=s==null?void 0:s[0])==null?void 0:l[xb];r!==void 0&&n(!!r),os(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MU(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return bM()||fM()||cx()}}const ez=tz;var tA="@firebase/auth",eA="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sz(e){Wc(new xl("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;Mt(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vM(e)},d=new f3(i,s,r,h);return E3(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Wc(new xl("auth-internal",t=>{const n=oa(t.getProvider("auth").getImmediate());return(i=>new nz(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),no(tA,eA,iz(e)),no(tA,eA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz=300,az=_C("authIdTokenMaxAge")||rz;let nA=null;const oz=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>az)return;const s=n==null?void 0:n.token;nA!==s&&(nA=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function lz(e=vv()){const t=bv(e,"auth");if(t.isInitialized())return t.getImmediate();const n=w3(e,{popupRedirectResolver:ez,persistence:[dU,tU,IM]}),i=_C("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const l=oz(r.toString());X3(n,l,()=>l(n.currentUser)),K3(n,c=>l(c))}}const s=mC("auth");return s&&S3(n,`http://${s}`),n}function cz(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}p3({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=er("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",cz().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sz("Browser");function uz(e){const t=atob(e.replace(/\s+/g,""));return JSON.parse(t)}const hz=uz("eyJhcGlLZXkiOiJBSXphU3lEUHBuY3hzdzYtTTZDdndmcXZERkNPWGduVXVIWG80NG8iLCJhdXRoRG9tYWluIjoicGRtcy1lZGEzNy5maXJlYmFzZWFwcC5jb20iLCJwcm9qZWN0SWQiOiJwZG1zLWVkYTM3Iiwic3RvcmFnZUJ1Y2tldCI6InBkbXMtZWRhMzcuZmlyZWJhc2VzdG9yYWdlLmFwcCIsIm1lc3NhZ2luZ1NlbmRlcklkIjoiNjI3MTE1MTkyNzYiLCJhcHBJZCI6IjE6NjI3MTE1MTkyNzY6d2ViOjFkNjZhMjYyMjhjMTg0ZDEzNWQ5ODkifQ=="),UM=m4().length?vv():EC(hz),Gt=T5(UM),li=lz(UM),dz=e=>btoa(String.fromCharCode(...new Uint8Array(e))),fz=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n.buffer},Uc=e=>{const t=new Uint8Array(e.byteLength);return t.set(e),t.buffer};function pz(e,t,n=7,i="/"){const s=new Date(Date.now()+n*864e5).toUTCString();document.cookie=`${encodeURIComponent(e)}=${encodeURIComponent(t)}; Expires=${s}; Path=${i}; SameSite=Lax`}function gz(e){const t=`${encodeURIComponent(e)}=`,n=document.cookie.split("; ");for(const i of n)if(i.startsWith(t))return decodeURIComponent(i.slice(t.length));return null}function _x(e,t="/"){document.cookie=`${encodeURIComponent(e)}=; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Path=${t}; SameSite=Lax`}async function zM(e,t){const n=new TextEncoder,i=await crypto.subtle.importKey("raw",n.encode(e),"PBKDF2",!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:1e5,hash:"SHA-256"},i,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}const FM=1;async function mz(e,t){const n=new TextEncoder,i=crypto.getRandomValues(new Uint8Array(12)),s=crypto.getRandomValues(new Uint8Array(16)),r=await zM(t,Uc(s)),l=await crypto.subtle.encrypt({name:"AES-GCM",iv:Uc(i)},r,Uc(n.encode(JSON.stringify(e)))),c=new Uint8Array(1+i.length+s.length);c[0]=FM,c.set(i,1),c.set(s,1+i.length);const h=new Uint8Array(c.length+new Uint8Array(l).length);return h.set(c,0),h.set(new Uint8Array(l),c.length),dz(h.buffer)}async function yz(e,t){const n=new Uint8Array(fz(e));if(n[0]!==FM)throw new Error("Unsupported version");const i=n.slice(1,13),s=n.slice(13,29),r=n.slice(29),l=await zM(t,Uc(s)),c=await crypto.subtle.decrypt({name:"AES-GCM",iv:Uc(i)},l,Uc(r));return JSON.parse(new TextDecoder().decode(c))}async function _z(e){await G3(e,V0)}const Ad="pcz_auth_shadow",BM="dev-only-fallback-change-this";async function qM(e,t,n=7){const i={email:e,password:t,t:Date.now()},s=await mz(i,BM);pz(Ad,s,n)}async function bz(e,t,n,i,s=7){const r=await RM(e,t,n);return i?await qM(t,n,s):_x(Ad),r}async function vz(e){const t=gz(Ad);if(!t)return!1;try{const{email:n,password:i}=await yz(t,BM);return await RM(e,n,i),!0}catch{return _x(Ad),!1}}async function xz(e){_x(Ad),await Q3(e)}const wz=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function Ez(e){const t="이메일 또는 비밀번호가 올바르지 않습니다.";return e instanceof or&&e.code==="auth/invalid-email"?"이메일 형식이 올바르지 않습니다.":t}function Sz({onLoginSuccess:e}){const[t,n]=j.useState(""),[i,s]=j.useState(""),[r,l]=j.useState(!0),c=yo(),h=()=>c("/find-password"),d=async()=>{const p=t;if(!p){alert("이메일을 입력해주세요.");return}if(!wz.test(p)){alert("이메일 형식이 올바르지 않습니다. 예) name@example.com");return}if(!i){alert("비밀번호를 입력해주세요.");return}try{await bz(li,p,i,r),e(),c("/main")}catch(y){alert(Ez(y))}};return v.jsxs(Tz,{children:[v.jsxs(Az,{children:[v.jsxs(kz,{children:[v.jsx(Rz,{children:"PDMS"}),v.jsx(Cz,{children:"Pushcomz Design Management System"})]}),v.jsxs(Dz,{children:[v.jsx(Mz,{type:"text",value:t,onChange:p=>n(p.target.value),placeholder:"이메일을 입력해주세요."}),v.jsx(Iz,{type:"password",value:i,onChange:p=>s(p.target.value),placeholder:"비밀번호를 입력해주세요."}),v.jsxs(Oz,{children:[v.jsxs(Pz,{children:[v.jsx("input",{type:"checkbox",checked:r,onChange:p=>l(p.target.checked)}),v.jsx("span",{children:"새로고침시 로그인 유지"})]}),v.jsx(Nz,{type:"button",onClick:h,children:"비밀번호 찾기"})]})]}),v.jsx(Lz,{onClick:d,children:"로그인"})]}),v.jsx(jz,{children:"© Pushcomz Corp."})]})}const Tz=z.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:e})=>e.colors.gray01};
`,Az=z.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:e})=>e.colors.white01};
`,kz=z.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,Rz=z.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.navy};
`,Cz=z.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,Dz=z.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
`,Mz=z.input`
  width: 460px;
  margin-bottom: 10px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,Iz=z.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,Oz=z.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  width: 100%;
  margin-top: 15px;
  color: #555;
  font-size: 13px;
`,Pz=z.label`
   ${({theme:e})=>e.mixin.flex("center")};

   input {
    margin-right: 5px;
   }

   span {
    color: ${({theme:e})=>e.colors.navy};
   }
`,Nz=z.button`
  color: ${({theme:e})=>e.colors.navy};
`,Lz=z.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:e})=>e.colors.white01};
`,jz=z.p`
  margin-top: 20px;
  font-size: 12px;
  font-weight: 300;
  line-height: 18px;
  text-align: center;
`,Vz="/pdms-test/assets/homeplus-logo-BtZJKVuP.svg",Uz="/pdms-test/assets/nsmall-logo-B-mz9SOB.svg";function zz({userRole:e}){const[t,n]=fm(),i=t.get("view")||"dashboard",s=p=>{n(y=>{const _=new URLSearchParams(y);return _.set("view",p),_})},r=e??1,l=r===3,c=j.useMemo(()=>{switch(r){case 1:return{my:"요청 리스트",all:"전체 요청 리스트"};case 2:return{my:"작업 리스트",all:"전체 작업 리스트"};case 3:return{my:"요청 리스트",all:""};default:return{my:"요청 리스트",all:"전체 요청 리스트"}}},[r]),h="myrequestlist",d=!l;return v.jsx(Fz,{children:v.jsxs(Bz,{children:[v.jsx(wb,{children:v.jsx(Eb,{type:"button",onClick:()=>s(h),$active:i===h,children:c.my})}),d&&v.jsx(wb,{children:v.jsx(Eb,{type:"button",onClick:()=>s("allrequestlist"),$active:i==="allrequestlist",children:c.all})}),v.jsx(wb,{children:v.jsx(Eb,{type:"button",onClick:()=>s("dashboard"),$active:i==="dashboard",children:"전체 현황"})})]})})}const Fz=z.nav``,Bz=z.ul`
  ${({theme:e})=>e.mixin.flex("center","flex-start")};
  gap: 0 20px;
`,wb=z.li``,Eb=z.button`
  color: ${({theme:e,$active:t})=>t?e.colors.white01:e.colors.gray02};
  font-family: 'Pretendard';
  font-size: 15px;
  font-weight: 500;

  &:hover {
    color: ${({theme:e})=>e.colors.white01};
  }
`,iA={HOMEPLUS:"homeplus",NSMALL:"nsmall"};function qz(){const[e,t]=j.useState(""),[n,i]=j.useState(""),[s,r]=j.useState(null),l=yo();j.useEffect(()=>{const _=xo(li,async x=>{if(x){x.displayName&&t(x.displayName);const E=await Sl(Sn(Gt,"users",x.uid));if(E.exists()){const S=E.data();r(S.role??null),i(S.company??"")}else r(null),i("")}else t(""),r(null),i("")});return()=>_()},[]);const c=async()=>{try{await xz(li),l("/")}catch(_){alert("로그아웃 중 오류가 발생했습니다: "+_.message)}},h=_=>{switch(_){case 1:return"요청자";case 2:return"디자이너";case 3:return"담당자";default:return"역할 없음"}},d=j.useMemo(()=>{const _=String(n??"").trim().replace(/\s+/g,"").toLowerCase();return _==="homeplus"?iA.HOMEPLUS:_==="nsmall"||_==="n-small"?iA.NSMALL:null},[n]),p=d==="homeplus"?Vz:d==="nsmall"?Uz:null,y=!!p;return v.jsxs($z,{children:[v.jsxs(Hz,{$hasLogo:y,children:[y&&v.jsx(Wz,{children:v.jsx(Yz,{src:p,alt:"company logo"})}),v.jsx(zz,{userRole:s})]}),v.jsxs(Gz,{children:[v.jsxs(Kz,{children:[v.jsx(Xz,{children:e}),"님(",h(s),") ",n,"환영합니다."]}),v.jsx(Qz,{onClick:c,children:"로그아웃"}),v.jsx(Zz,{})]})]})}const $z=z.header`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  height: 64px;
  padding: 0 48px;
  font-family: 'Pretendard';
  background-color: ${({theme:e})=>e.colors.black};
`,Hz=z.div`
  ${({theme:e})=>e.mixin.flex("center")};
  gap: ${({$hasLogo:e})=>e?"0 10px":"0"};
`,Wz=z.div`
  width: 120px;
`,Yz=z.img`
  width: 100%;
  vertical-align: sub;
`,Gz=z.div``,Kz=z.span`
  margin-right: 24px;
  color: ${({theme:e})=>e.colors.white01};
  font-size: 16px;
`,Xz=z.span`
  font-weight: 700;
`,Qz=z.button`
  padding: 5px 10px;
  border: 1px solid ${({theme:e})=>e.colors.white01};
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  font-size: 16px;
`,Zz=z.span`
  color: ${({theme:e})=>e.colors.white01};
  font-size: 16px;
`,bx="/pdms-test/assets/url-icon-DJKri2bW.svg";function Jz({item:e,index:t,disableActions:n,onReviewComplete:i,onCancel:s,onEditClick:r,onDetailClick:l}){const c=e.manager_review_status==="검수완료",h=x=>{if(!x)return"-";if(x.toDate){const E=x.toDate();return`${E.getMonth()+1}/${E.getDate()}`}return x},d=x=>{x.stopPropagation(),l(e)},p=e.requester_review_status==="검수완료",y=Array.isArray(e.assigned_designers)?e.assigned_designers:null,_=!!e.url&&e.url.trim().length>0;return v.jsxs(t9,{isCanceled:e.status==="취소",children:[v.jsx(es,{children:t}),v.jsx(es,{children:v.jsx(a9,{onClick:d,$hasUpdate:!!e.updated_date,children:e.design_request_id})}),v.jsx(es,{children:h(e.request_date)}),v.jsx(e9,{children:h(e.completion_date)}),v.jsx(n9,{children:h(e.open_date)}),v.jsx(es,{children:e.merchandiser}),v.jsx(es,{children:e.task_form}),v.jsx(i9,{children:v.jsxs(o9,{children:[v.jsx(l9,{children:e.task_type}),v.jsx(c9,{children:e.task_type_detail})]})}),v.jsx(s9,{children:v.jsxs(u9,{children:[e.emergency?v.jsx($M,{children:"긴급"}):"",v.jsx(h9,{onClick:d,children:e.requirement})]})}),v.jsx(es,{children:_?v.jsx(sA,{href:e.url,target:"_blank"}):null}),v.jsx(r9,{children:v.jsx(d9,{onClick:d,children:e.note||""})}),v.jsx(es,{children:v.jsx(f9,{status:e.status,children:e.status==="검수요청"?"진행중":e.status||"대기"})}),v.jsx(es,{children:y&&y.length>0?v.jsx(p9,{children:y.map((x,E)=>v.jsx(g9,{children:x},`${x}-${E}`))}):e.assigned_designers||"미배정"}),v.jsx(es,{children:e.manager_review_status==="검수완료"&&e.result_url?v.jsx(sA,{href:e.result_url,target:"_blank"}):""}),v.jsx(es,{children:p?v.jsx(rA,{children:"검수완료"}):e.manager_review_status==="검수완료"?e.status!=="완료"?v.jsx(HM,{onClick:()=>i(e.id),disabled:n,children:"검수완료"}):v.jsx(rA,{children:"검수완료"}):""}),v.jsx(es,{children:v.jsx(WM,{onClick:()=>r(e.id),disabled:n||c||e.status==="취소"||e.status==="완료",children:"수정"})}),v.jsx(es,{children:v.jsx(YM,{onClick:()=>s(e.id),disabled:n||c||e.status==="취소"||e.status==="완료",children:"취소"})})]})}const t9=z.tr`
  ${({isCanceled:e})=>e&&`
      td {
        color: #888;
        background-color: #f4f4f4;
      }
    `}
    
  ${({isCanceled:e,theme:t})=>e&&`
      ${$M} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
      }
      ${HM}, ${WM}, ${YM} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
        border-color: ${t.colors.gray06};
        cursor: default;
        pointer-events: none;
      }
    `}
  &:hover {
    td {
      background-color: ${({theme:e})=>e.colors.gray04}
    }
  }

  & td {
    font-family: 'Pretendard';
    font-size: 13px;
    font-weight: 500;
  }
`,es=z.td`
  padding: 15px 0;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(12) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }
`,e9=z.td`
  color: ${({theme:e})=>e.colors.red};
`,n9=z.td`
  color: ${({theme:e})=>e.colors.blue02};
`,i9=z.td`
  padding: 15px 12px;
  line-height: 15px;
`,s9=z.td`
  line-height: 15px;
  text-align: left;
`,r9=z.td`
  line-height: 15px;
  padding: 0 12px;
  text-align: left;
  background-color: #fffff1;
`,a9=z.span`
  position: relative;

  &::after {
    content: '';
    position: absolute;
    top: -5px;
    right: -2px;
    display: ${({$hasUpdate:e})=>e?"block":"none"};
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background-color: ${({theme:e})=>e.colors.red};
  }

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,o9=z.div`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`,l9=z.span`
  white-space: nowrap;
`,c9=z.span`
  
`,u9=z.div`
  ${({theme:e})=>e.mixin.flex("center")};
  padding: 0 12px;
`,h9=z.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,$M=z.span`
  margin-right: 8px;
  padding: 3px 5px;
  border-radius: 2px;
  font-size: 10px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.red};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,sA=z.a`
  display: inline-block;
  vertical-align: middle;
  width: 24px;
  height: 24px;
  background: url(${bx}) no-repeat center / contain;
`,d9=z.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  overflow-wrap: anywhere;
  word-break: break-word;
  text-overflow: ellipsis;
  white-space: normal;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,f9=z.span`
  border-radius: 14px;
  padding: 5.5px 12px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 400;
  color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.orange;case"진행중":return t.colors.blue02;case"검수요청":return t.colors.blue02;case"검수중":return t.colors.red;case"완료":return t.colors.gray06;default:return t.colors.gray06}}};
  background-color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.beige02;case"진행중":return t.colors.lightpupple;case"검수요청":return t.colors.lightpupple;case"검수중":return t.colors.pink03;case"완료":return t.colors.white02;default:return t.colors.gray07}}};;
`,HM=z.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  background-color: green;
  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`,rA=z.span`
  color: green;
  font-weight: bold;
`,WM=z.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  background-color: ${({theme:e})=>e.colors.black};

  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`,YM=z.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  background-color: ${({theme:e})=>e.colors.black};

  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`,p9=z.div`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`,g9=z.span`
  line-height: 1.2;
`;function aA({data:e,disableActions:t=!1,lockOthers:n=!1,currentUserName:i="",onReviewComplete:s,onCancel:r,onEditClick:l,onDetailClick:c}){return v.jsx(m9,{children:v.jsxs(y9,{children:[v.jsx(_9,{children:"요청 리스트"}),v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"90px"}}),v.jsx("col",{style:{width:"180px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"90px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}})]}),v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx(Yn,{children:"번호"}),v.jsx(Yn,{children:"문서번호"}),v.jsx(Yn,{children:"요청일"}),v.jsxs(Yn,{children:["완료",v.jsx("br",{}),"요청일"]}),v.jsx(Yn,{children:"오픈일"}),v.jsx(Yn,{children:"담당MD"}),v.jsx(Yn,{children:"업무부서"}),v.jsx(Yn,{children:"업무유형"}),v.jsx(Yn,{children:"작업항목"}),v.jsx(Yn,{children:"요청서 URL"}),v.jsx(Yn,{children:"메모"}),v.jsx(Yn,{children:"진행상태"}),v.jsx(Yn,{children:"디자이너"}),v.jsx(Yn,{children:"산출물 URL"}),v.jsx(Yn,{children:"검수"}),v.jsx(Yn,{children:"수정"}),v.jsx(Yn,{children:"취소"})]})}),v.jsx("tbody",{children:e.length>0?e.map((h,d)=>{const p=h.requester===i,y=t||n&&!p;return v.jsx(Jz,{index:d+1,item:h,disableActions:y,onReviewComplete:s,onCancel:r,onEditClick:l,onDetailClick:c},h.id)}):v.jsx("tr",{children:v.jsx("td",{colSpan:17,style:{textAlign:"center",padding:20},children:"등록된 요청이 없습니다."})})})]})})}const m9=z.div`
  position: relative;
  height: calc(100vh - 302px);
  border-top: 2px solid ${({theme:e})=>e.colors.black};
  overflow-y: auto;
  scrollbar-width: thin;
`,y9=z.table`
  table-layout: fixed;
  width: 100%;
  text-align: center;
`,_9=z.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,Yn=z.th`
  position: sticky;
  top: -2px;
  line-height: 16px;
  padding: 13px 0;
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.gray08};
  z-index: 10;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(12) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }

  &:nth-of-type(13), &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16) {
    border-right: 1px solid ${({theme:e})=>e.colors.pink02}
  }

  &:nth-of-type(13), &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`;function vx({userRole:e}){const[t]=fm(),n=t.get("view")||"dashboard",i=e??1,s=j.useMemo(()=>{const d={dashboard:"전체 현황",inworkhour:"내부 공수"};return i===2?{...d,myrequestlist:"작업 리스트",allrequestlist:"전체 작업 리스트"}:i===3?{...d,myrequestlist:"요청 리스트",allrequestlist:"요청 리스트"}:{...d,myrequestlist:"요청 리스트",allrequestlist:"전체 요청 리스트"}},[i]),r=j.useMemo(()=>n!=="myrequestlist"?"":i===2?" (디자이너)":i===3?" (매니저)":"",[n,i]),l=new Date,c=l.getFullYear(),h=l.getMonth()+1;return v.jsx(b9,{children:v.jsxs(v9,{children:[c,"년 ",h,"월 디자인 ",s[n],r]})})}const b9=z.div`
  padding: 29px 48px;
  background-color: ${({theme:e})=>e.colors.gray08};
`,v9=z.h2`
  font-family: 'Pretendard';
  font-size: 36px;
  font-weight: 700;
`,Hm="/pdms-test/assets/selectbox-arrow-BwC8UGU0.svg";function x9(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const Sb={},$h={};function dl(e,t){try{const i=(Sb[e]||(Sb[e]=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format))(t).split("GMT")[1];return i in $h?$h[i]:oA(i,i.split(":"))}catch{if(e in $h)return $h[e];const n=e==null?void 0:e.match(w9);return n?oA(e,n.slice(1)):NaN}}const w9=/([+-]\d\d):?(\d\d)?/;function oA(e,t){const n=+(t[0]||0),i=+(t[1]||0),s=+(t[2]||0)/60;return $h[e]=n*60+i>0?n*60+i+s:n*60-i-s}class Xs extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(dl(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),GM(this),z0(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new Xs(...n,t):new Xs(Date.now(),t)}withTimeZone(t){return new Xs(+this,t)}getTimezoneOffset(){const t=-dl(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),z0(this),+this}[Symbol.for("constructDateFrom")](t){return new Xs(+new Date(t),this.timeZone)}}const lA=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!lA.test(e))return;const t=e.replace(lA,"$1UTC");Xs.prototype[t]&&(e.startsWith("get")?Xs.prototype[e]=function(){return this.internal[t]()}:(Xs.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),E9(this),+this},Xs.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),z0(this),+this}))});function z0(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-dl(e.timeZone,e)*60))}function E9(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),GM(e)}function GM(e){const t=dl(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),i=new Date(+e);i.setUTCHours(i.getUTCHours()-1);const s=-new Date(+e).getTimezoneOffset(),r=-new Date(+i).getTimezoneOffset(),l=s-r,c=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();l&&c&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+l);const h=s-n;h&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+h);const d=new Date(+e);d.setUTCSeconds(0);const p=s>0?d.getSeconds():(d.getSeconds()-60)%60,y=Math.round(-(dl(e.timeZone,e)*60))%60;(y||p)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+y),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+y+p));const _=dl(e.timeZone,e),x=_>0?Math.floor(_):Math.ceil(_),S=-new Date(+e).getTimezoneOffset()-x,T=x!==n,D=S-h;if(T&&D){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+D);const M=dl(e.timeZone,e),P=M>0?Math.floor(M):Math.ceil(M),$=x-P;$&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+$),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+$))}}class ii extends Xs{static tz(t,...n){return n.length?new ii(...n,t):new ii(Date.now(),t)}toISOString(){const[t,n,i]=this.tzComponents(),s=`${t}${n}:${i}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,i,s]=this.internal.toUTCString().split(" ");return`${t==null?void 0:t.slice(0,-1)} ${i} ${n} ${s}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,i,s]=this.tzComponents();return`${t} GMT${n}${i}${s} (${x9(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",i=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),s=String(Math.abs(t)%60).padStart(2,"0");return[n,i,s]}withTimeZone(t){return new ii(+this,t)}[Symbol.for("constructDateFrom")](t){return new ii(+new Date(t),this.timeZone)}}const KM=6048e5,S9=864e5,cA=Symbol.for("constructDateFrom");function kn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&cA in e?e[cA](t):e instanceof Date?new e.constructor(t):new Date(t)}function De(e,t){return kn(t||e,e)}function XM(e,t,n){const i=De(e,n==null?void 0:n.in);return isNaN(t)?kn(e,NaN):(t&&i.setDate(i.getDate()+t),i)}function QM(e,t,n){const i=De(e,n==null?void 0:n.in);if(isNaN(t))return kn(e,NaN);if(!t)return i;const s=i.getDate(),r=kn(e,i.getTime());r.setMonth(i.getMonth()+t+1,0);const l=r.getDate();return s>=l?r:(i.setFullYear(r.getFullYear(),r.getMonth(),s),i)}let T9={};function Xd(){return T9}function nu(e,t){var c,h,d,p;const n=Xd(),i=(t==null?void 0:t.weekStartsOn)??((h=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((p=(d=n.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,s=De(e,t==null?void 0:t.in),r=s.getDay(),l=(r<i?7:0)+r-i;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function kd(e,t){return nu(e,{...t,weekStartsOn:1})}function ZM(e,t){const n=De(e,t==null?void 0:t.in),i=n.getFullYear(),s=kn(n,0);s.setFullYear(i+1,0,4),s.setHours(0,0,0,0);const r=kd(s),l=kn(n,0);l.setFullYear(i,0,4),l.setHours(0,0,0,0);const c=kd(l);return n.getTime()>=r.getTime()?i+1:n.getTime()>=c.getTime()?i:i-1}function uA(e){const t=De(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function _u(e,...t){const n=kn.bind(null,t.find(i=>typeof i=="object"));return t.map(n)}function Rd(e,t){const n=De(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function JM(e,t,n){const[i,s]=_u(n==null?void 0:n.in,e,t),r=Rd(i),l=Rd(s),c=+r-uA(r),h=+l-uA(l);return Math.round((c-h)/S9)}function A9(e,t){const n=ZM(e,t),i=kn(e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),kd(i)}function k9(e,t,n){return XM(e,t*7,n)}function R9(e,t,n){return QM(e,t*12,n)}function C9(e,t){let n,i=t==null?void 0:t.in;return e.forEach(s=>{!i&&typeof s=="object"&&(i=kn.bind(null,s));const r=De(s,i);(!n||n<r||isNaN(+r))&&(n=r)}),kn(i,n||NaN)}function D9(e,t){let n,i=t==null?void 0:t.in;return e.forEach(s=>{!i&&typeof s=="object"&&(i=kn.bind(null,s));const r=De(s,i);(!n||n>r||isNaN(+r))&&(n=r)}),kn(i,n||NaN)}function M9(e,t,n){const[i,s]=_u(n==null?void 0:n.in,e,t);return+Rd(i)==+Rd(s)}function tI(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function I9(e){return!(!tI(e)&&typeof e!="number"||isNaN(+De(e)))}function O9(e,t,n){const[i,s]=_u(n==null?void 0:n.in,e,t),r=i.getFullYear()-s.getFullYear(),l=i.getMonth()-s.getMonth();return r*12+l}function P9(e,t){const n=De(e,t==null?void 0:t.in),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function N9(e,t){const[n,i]=_u(e,t.start,t.end);return{start:n,end:i}}function L9(e,t){const{start:n,end:i}=N9(t==null?void 0:t.in,e);let s=+n>+i;const r=s?+n:+i,l=s?i:n;l.setHours(0,0,0,0),l.setDate(1);let c=1;const h=[];for(;+l<=r;)h.push(kn(n,l)),l.setMonth(l.getMonth()+c);return s?h.reverse():h}function j9(e,t){const n=De(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function V9(e,t){const n=De(e,t==null?void 0:t.in),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n}function eI(e,t){const n=De(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function nI(e,t){var c,h,d,p;const n=Xd(),i=(t==null?void 0:t.weekStartsOn)??((h=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((p=(d=n.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,s=De(e,t==null?void 0:t.in),r=s.getDay(),l=(r<i?-7:0)+6-(r-i);return s.setDate(s.getDate()+l),s.setHours(23,59,59,999),s}function U9(e,t){return nI(e,{...t,weekStartsOn:1})}const z9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},F9=(e,t,n)=>{let i;const s=z9[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Tb(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const B9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},q9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},H9={date:Tb({formats:B9,defaultWidth:"full"}),time:Tb({formats:q9,defaultWidth:"full"}),dateTime:Tb({formats:$9,defaultWidth:"full"})},W9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Y9=(e,t,n,i)=>W9[e];function Eh(e){return(t,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let s;if(i==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):l;s=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}const r=e.argumentCallback?e.argumentCallback(t):t;return s[r]}}const G9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},K9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},X9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Q9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Z9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},J9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tF=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},eF={ordinalNumber:tF,era:Eh({values:G9,defaultWidth:"wide"}),quarter:Eh({values:K9,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Eh({values:X9,defaultWidth:"wide"}),day:Eh({values:Q9,defaultWidth:"wide"}),dayPeriod:Eh({values:Z9,defaultWidth:"wide",formattingValues:J9,defaultFormattingWidth:"wide"})};function Sh(e){return(t,n={})=>{const i=n.width,s=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],r=t.match(s);if(!r)return null;const l=r[0],c=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(c)?iF(c,y=>y.test(l)):nF(c,y=>y.test(l));let d;d=e.valueCallback?e.valueCallback(h):h,d=n.valueCallback?n.valueCallback(d):d;const p=t.slice(l.length);return{value:d,rest:p}}}function nF(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function iF(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function sF(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const s=i[0],r=t.match(e.parsePattern);if(!r)return null;let l=e.valueCallback?e.valueCallback(r[0]):r[0];l=n.valueCallback?n.valueCallback(l):l;const c=t.slice(s.length);return{value:l,rest:c}}}const rF=/^(\d+)(th|st|nd|rd)?/i,aF=/\d+/i,oF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lF={any:[/^b/i,/^(a|c)/i]},cF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uF={any:[/1/i,/2/i,/3/i,/4/i]},hF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yF={ordinalNumber:sF({matchPattern:rF,parsePattern:aF,valueCallback:e=>parseInt(e,10)}),era:Sh({matchPatterns:oF,defaultMatchWidth:"wide",parsePatterns:lF,defaultParseWidth:"any"}),quarter:Sh({matchPatterns:cF,defaultMatchWidth:"wide",parsePatterns:uF,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Sh({matchPatterns:hF,defaultMatchWidth:"wide",parsePatterns:dF,defaultParseWidth:"any"}),day:Sh({matchPatterns:fF,defaultMatchWidth:"wide",parsePatterns:pF,defaultParseWidth:"any"}),dayPeriod:Sh({matchPatterns:gF,defaultMatchWidth:"any",parsePatterns:mF,defaultParseWidth:"any"})},xx={code:"en-US",formatDistance:F9,formatLong:H9,formatRelative:Y9,localize:eF,match:yF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _F(e,t){const n=De(e,t==null?void 0:t.in);return JM(n,eI(n))+1}function iI(e,t){const n=De(e,t==null?void 0:t.in),i=+kd(n)-+A9(n);return Math.round(i/KM)+1}function sI(e,t){var p,y,_,x;const n=De(e,t==null?void 0:t.in),i=n.getFullYear(),s=Xd(),r=(t==null?void 0:t.firstWeekContainsDate)??((y=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(_=s.locale)==null?void 0:_.options)==null?void 0:x.firstWeekContainsDate)??1,l=kn((t==null?void 0:t.in)||e,0);l.setFullYear(i+1,0,r),l.setHours(0,0,0,0);const c=nu(l,t),h=kn((t==null?void 0:t.in)||e,0);h.setFullYear(i,0,r),h.setHours(0,0,0,0);const d=nu(h,t);return+n>=+c?i+1:+n>=+d?i:i-1}function bF(e,t){var c,h,d,p;const n=Xd(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(d=n.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,s=sI(e,t),r=kn((t==null?void 0:t.in)||e,0);return r.setFullYear(s,0,i),r.setHours(0,0,0,0),nu(r,t)}function rI(e,t){const n=De(e,t==null?void 0:t.in),i=+nu(n,t)-+bF(n,t);return Math.round(i/KM)+1}function Ee(e,t){const n=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return n+i}const za={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return Ee(t==="yy"?i%100:i,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ee(n+1,2)},d(e,t){return Ee(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ee(e.getHours()%12||12,t.length)},H(e,t){return Ee(e.getHours(),t.length)},m(e,t){return Ee(e.getMinutes(),t.length)},s(e,t){return Ee(e.getSeconds(),t.length)},S(e,t){const n=t.length,i=e.getMilliseconds(),s=Math.trunc(i*Math.pow(10,n-3));return Ee(s,t.length)}},Sc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hA={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const i=e.getFullYear(),s=i>0?i:1-i;return n.ordinalNumber(s,{unit:"year"})}return za.y(e,t)},Y:function(e,t,n,i){const s=sI(e,i),r=s>0?s:1-s;if(t==="YY"){const l=r%100;return Ee(l,2)}return t==="Yo"?n.ordinalNumber(r,{unit:"year"}):Ee(r,t.length)},R:function(e,t){const n=ZM(e);return Ee(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ee(n,t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Ee(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Ee(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return za.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return Ee(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const s=rI(e,i);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Ee(s,t.length)},I:function(e,t,n){const i=iI(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):Ee(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):za.d(e,t)},D:function(e,t,n){const i=_F(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Ee(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const s=e.getDay(),r=(s-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(r);case"ee":return Ee(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const s=e.getDay(),r=(s-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(r);case"cc":return Ee(r,t.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),s=i===0?7:i;switch(t){case"i":return String(s);case"ii":return Ee(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let s;switch(i===12?s=Sc.noon:i===0?s=Sc.midnight:s=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let s;switch(i>=17?s=Sc.evening:i>=12?s=Sc.afternoon:i>=4?s=Sc.morning:s=Sc.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return za.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):za.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Ee(i,t.length)},k:function(e,t,n){let i=e.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):Ee(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):za.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):za.s(e,t)},S:function(e,t){return za.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return fA(i);case"XXXX":case"XX":return ol(i);case"XXXXX":case"XXX":default:return ol(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return fA(i);case"xxxx":case"xx":return ol(i);case"xxxxx":case"xxx":default:return ol(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+dA(i,":");case"OOOO":default:return"GMT"+ol(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+dA(i,":");case"zzzz":default:return"GMT"+ol(i,":")}},t:function(e,t,n){const i=Math.trunc(+e/1e3);return Ee(i,t.length)},T:function(e,t,n){return Ee(+e,t.length)}};function dA(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=Math.trunc(i/60),r=i%60;return r===0?n+String(s):n+String(s)+t+Ee(r,2)}function fA(e,t){return e%60===0?(e>0?"-":"+")+Ee(Math.abs(e)/60,2):ol(e,t)}function ol(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=Ee(Math.trunc(i/60),2),r=Ee(i%60,2);return n+s+t+r}const pA=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},aI=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},vF=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return pA(e,t);let r;switch(i){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;case"PPPP":default:r=t.dateTime({width:"full"});break}return r.replace("{{date}}",pA(i,t)).replace("{{time}}",aI(s,t))},xF={p:aI,P:vF},wF=/^D+$/,EF=/^Y+$/,SF=["D","DD","YY","YYYY"];function TF(e){return wF.test(e)}function AF(e){return EF.test(e)}function kF(e,t,n){const i=RF(e,t,n);if(console.warn(i),SF.includes(e))throw new RangeError(i)}function RF(e,t,n){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const CF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,DF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,MF=/^'([^]*?)'?$/,IF=/''/g,OF=/[a-zA-Z]/;function PF(e,t,n){var p,y,_,x,E,S,T,D;const i=Xd(),s=(n==null?void 0:n.locale)??i.locale??xx,r=(n==null?void 0:n.firstWeekContainsDate)??((y=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((x=(_=i.locale)==null?void 0:_.options)==null?void 0:x.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((S=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:S.weekStartsOn)??i.weekStartsOn??((D=(T=i.locale)==null?void 0:T.options)==null?void 0:D.weekStartsOn)??0,c=De(e,n==null?void 0:n.in);if(!I9(c))throw new RangeError("Invalid time value");let h=t.match(DF).map(M=>{const P=M[0];if(P==="p"||P==="P"){const $=xF[P];return $(M,s.formatLong)}return M}).join("").match(CF).map(M=>{if(M==="''")return{isToken:!1,value:"'"};const P=M[0];if(P==="'")return{isToken:!1,value:NF(M)};if(hA[P])return{isToken:!0,value:M};if(P.match(OF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return{isToken:!1,value:M}});s.localize.preprocessor&&(h=s.localize.preprocessor(c,h));const d={firstWeekContainsDate:r,weekStartsOn:l,locale:s};return h.map(M=>{if(!M.isToken)return M.value;const P=M.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&AF(P)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&TF(P))&&kF(P,t,String(e));const $=hA[P[0]];return $(c,P,s.localize,d)}).join("")}function NF(e){const t=e.match(MF);return t?t[1].replace(IF,"'"):e}function LF(e,t){const n=De(e,t==null?void 0:t.in),i=n.getFullYear(),s=n.getMonth(),r=kn(n,0);return r.setFullYear(i,s+1,0),r.setHours(0,0,0,0),r.getDate()}function jF(e,t){return De(e,t==null?void 0:t.in).getMonth()}function VF(e,t){return De(e,t==null?void 0:t.in).getFullYear()}function UF(e,t){return+De(e)>+De(t)}function zF(e,t){return+De(e)<+De(t)}function FF(e,t,n){const[i,s]=_u(n==null?void 0:n.in,e,t);return i.getFullYear()===s.getFullYear()&&i.getMonth()===s.getMonth()}function BF(e,t,n){const[i,s]=_u(n==null?void 0:n.in,e,t);return i.getFullYear()===s.getFullYear()}function qF(e,t,n){const i=De(e,n==null?void 0:n.in),s=i.getFullYear(),r=i.getDate(),l=kn(e,0);l.setFullYear(s,t,15),l.setHours(0,0,0,0);const c=LF(l);return i.setMonth(t,Math.min(r,c)),i}function $F(e,t,n){const i=De(e,n==null?void 0:n.in);return isNaN(+i)?kn(e,NaN):(i.setFullYear(t),i)}const gA=5,HF=4;function WF(e,t){const n=t.startOfMonth(e),i=n.getDay()>0?n.getDay():7,s=t.addDays(e,-i+1),r=t.addDays(s,gA*7-1);return t.getMonth(e)===t.getMonth(r)?gA:HF}function oI(e,t){const n=t.startOfMonth(e),i=n.getDay();return i===1?n:i===0?t.addDays(n,-6):t.addDays(n,-1*(i-1))}function YF(e,t){const n=oI(e,t),i=WF(e,t);return t.addDays(n,i*7-1)}class la{constructor(t,n){this.Date=Date,this.today=()=>{var i;return(i=this.overrides)!=null&&i.today?this.overrides.today():this.options.timeZone?ii.tz(this.options.timeZone):new this.Date},this.newDate=(i,s,r)=>{var l;return(l=this.overrides)!=null&&l.newDate?this.overrides.newDate(i,s,r):this.options.timeZone?new ii(i,s,r,this.options.timeZone):new Date(i,s,r)},this.addDays=(i,s)=>{var r;return(r=this.overrides)!=null&&r.addDays?this.overrides.addDays(i,s):XM(i,s)},this.addMonths=(i,s)=>{var r;return(r=this.overrides)!=null&&r.addMonths?this.overrides.addMonths(i,s):QM(i,s)},this.addWeeks=(i,s)=>{var r;return(r=this.overrides)!=null&&r.addWeeks?this.overrides.addWeeks(i,s):k9(i,s)},this.addYears=(i,s)=>{var r;return(r=this.overrides)!=null&&r.addYears?this.overrides.addYears(i,s):R9(i,s)},this.differenceInCalendarDays=(i,s)=>{var r;return(r=this.overrides)!=null&&r.differenceInCalendarDays?this.overrides.differenceInCalendarDays(i,s):JM(i,s)},this.differenceInCalendarMonths=(i,s)=>{var r;return(r=this.overrides)!=null&&r.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(i,s):O9(i,s)},this.eachMonthOfInterval=i=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(i):L9(i)},this.endOfBroadcastWeek=i=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(i):YF(i,this)},this.endOfISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(i):U9(i)},this.endOfMonth=i=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(i):P9(i)},this.endOfWeek=(i,s)=>{var r;return(r=this.overrides)!=null&&r.endOfWeek?this.overrides.endOfWeek(i,s):nI(i,this.options)},this.endOfYear=i=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(i):V9(i)},this.format=(i,s,r)=>{var c;const l=(c=this.overrides)!=null&&c.format?this.overrides.format(i,s,this.options):PF(i,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(l):l},this.getISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(i):iI(i)},this.getMonth=(i,s)=>{var r;return(r=this.overrides)!=null&&r.getMonth?this.overrides.getMonth(i,this.options):jF(i,this.options)},this.getYear=(i,s)=>{var r;return(r=this.overrides)!=null&&r.getYear?this.overrides.getYear(i,this.options):VF(i,this.options)},this.getWeek=(i,s)=>{var r;return(r=this.overrides)!=null&&r.getWeek?this.overrides.getWeek(i,this.options):rI(i,this.options)},this.isAfter=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isAfter?this.overrides.isAfter(i,s):UF(i,s)},this.isBefore=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isBefore?this.overrides.isBefore(i,s):zF(i,s)},this.isDate=i=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(i):tI(i)},this.isSameDay=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isSameDay?this.overrides.isSameDay(i,s):M9(i,s)},this.isSameMonth=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isSameMonth?this.overrides.isSameMonth(i,s):FF(i,s)},this.isSameYear=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isSameYear?this.overrides.isSameYear(i,s):BF(i,s)},this.max=i=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(i):C9(i)},this.min=i=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(i):D9(i)},this.setMonth=(i,s)=>{var r;return(r=this.overrides)!=null&&r.setMonth?this.overrides.setMonth(i,s):qF(i,s)},this.setYear=(i,s)=>{var r;return(r=this.overrides)!=null&&r.setYear?this.overrides.setYear(i,s):$F(i,s)},this.startOfBroadcastWeek=(i,s)=>{var r;return(r=this.overrides)!=null&&r.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(i,this):oI(i,this)},this.startOfDay=i=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(i):Rd(i)},this.startOfISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(i):kd(i)},this.startOfMonth=i=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(i):j9(i)},this.startOfWeek=(i,s)=>{var r;return(r=this.overrides)!=null&&r.startOfWeek?this.overrides.startOfWeek(i,this.options):nu(i,this.options)},this.startOfYear=i=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(i):eI(i)},this.options={locale:xx,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),i={};for(let s=0;s<10;s++)i[s.toString()]=n.format(s);return i}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,i=>n[i]||i)}formatNumber(t){return this.replaceDigits(t.toString())}}const cr=new la;class lI{constructor(t,n,i=cr){this.date=t,this.displayMonth=n,this.outside=!!(n&&!i.isSameMonth(t,n)),this.dateLib=i}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class GF{constructor(t,n){this.date=t,this.weeks=n}}class KF{constructor(t,n){this.days=n,this.weekNumber=t}}function XF(e){return Et.createElement("button",{...e})}function QF(e){return Et.createElement("span",{...e})}function ZF(e){const{size:t=24,orientation:n="left",className:i}=e;return Et.createElement("svg",{className:i,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&Et.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&Et.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&Et.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&Et.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function JF(e){const{day:t,modifiers:n,...i}=e;return Et.createElement("td",{...i})}function tB(e){const{day:t,modifiers:n,...i}=e,s=Et.useRef(null);return Et.useEffect(()=>{var r;n.focused&&((r=s.current)==null||r.focus())},[n.focused]),Et.createElement("button",{ref:s,...i})}var Ot;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(Ot||(Ot={}));var We;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(We||(We={}));var _s;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(_s||(_s={}));var Vi;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(Vi||(Vi={}));function eB(e){const{options:t,className:n,components:i,classNames:s,...r}=e,l=[s[Ot.Dropdown],n].join(" "),c=t==null?void 0:t.find(({value:h})=>h===r.value);return Et.createElement("span",{"data-disabled":r.disabled,className:s[Ot.DropdownRoot]},Et.createElement(i.Select,{className:l,...r},t==null?void 0:t.map(({value:h,label:d,disabled:p})=>Et.createElement(i.Option,{key:h,value:h,disabled:p},d))),Et.createElement("span",{className:s[Ot.CaptionLabel],"aria-hidden":!0},c==null?void 0:c.label,Et.createElement(i.Chevron,{orientation:"down",size:18,className:s[Ot.Chevron]})))}function nB(e){return Et.createElement("div",{...e})}function iB(e){return Et.createElement("div",{...e})}function sB(e){const{calendarMonth:t,displayIndex:n,...i}=e;return Et.createElement("div",{...i},e.children)}function rB(e){const{calendarMonth:t,displayIndex:n,...i}=e;return Et.createElement("div",{...i})}function aB(e){return Et.createElement("table",{...e})}function oB(e){return Et.createElement("div",{...e})}const cI=j.createContext(void 0);function Qd(){const e=j.useContext(cI);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function lB(e){const{components:t}=Qd();return Et.createElement(t.Dropdown,{...e})}function cB(e){const{onPreviousClick:t,onNextClick:n,previousMonth:i,nextMonth:s,...r}=e,{components:l,classNames:c,labels:{labelPrevious:h,labelNext:d}}=Qd(),p=j.useCallback(_=>{s&&(n==null||n(_))},[s,n]),y=j.useCallback(_=>{i&&(t==null||t(_))},[i,t]);return Et.createElement("nav",{...r},Et.createElement(l.PreviousMonthButton,{type:"button",className:c[Ot.PreviousMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":h(i),onClick:y},Et.createElement(l.Chevron,{disabled:i?void 0:!0,className:c[Ot.Chevron],orientation:"left"})),Et.createElement(l.NextMonthButton,{type:"button",className:c[Ot.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":d(s),onClick:p},Et.createElement(l.Chevron,{disabled:s?void 0:!0,orientation:"right",className:c[Ot.Chevron]})))}function uB(e){const{components:t}=Qd();return Et.createElement(t.Button,{...e})}function hB(e){return Et.createElement("option",{...e})}function dB(e){const{components:t}=Qd();return Et.createElement(t.Button,{...e})}function fB(e){const{rootRef:t,...n}=e;return Et.createElement("div",{...n,ref:t})}function pB(e){return Et.createElement("select",{...e})}function gB(e){const{week:t,...n}=e;return Et.createElement("tr",{...n})}function mB(e){return Et.createElement("th",{...e})}function yB(e){return Et.createElement("thead",{"aria-hidden":!0},Et.createElement("tr",{...e}))}function _B(e){const{week:t,...n}=e;return Et.createElement("th",{...n})}function bB(e){return Et.createElement("th",{...e})}function vB(e){return Et.createElement("tbody",{...e})}function xB(e){const{components:t}=Qd();return Et.createElement(t.Dropdown,{...e})}const wB=Object.freeze(Object.defineProperty({__proto__:null,Button:XF,CaptionLabel:QF,Chevron:ZF,Day:JF,DayButton:tB,Dropdown:eB,DropdownNav:nB,Footer:iB,Month:sB,MonthCaption:rB,MonthGrid:aB,Months:oB,MonthsDropdown:lB,Nav:cB,NextMonthButton:uB,Option:hB,PreviousMonthButton:dB,Root:fB,Select:pB,Week:gB,WeekNumber:_B,WeekNumberHeader:bB,Weekday:mB,Weekdays:yB,Weeks:vB,YearsDropdown:xB},Symbol.toStringTag,{value:"Module"}));function Wr(e,t,n=!1,i=cr){let{from:s,to:r}=e;const{differenceInCalendarDays:l,isSameDay:c}=i;return s&&r?(l(r,s)<0&&([s,r]=[r,s]),l(t,s)>=(n?1:0)&&l(r,t)>=(n?1:0)):!n&&r?c(r,t):!n&&s?c(s,t):!1}function uI(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function wx(e){return!!(e&&typeof e=="object"&&"from"in e)}function hI(e){return!!(e&&typeof e=="object"&&"after"in e)}function dI(e){return!!(e&&typeof e=="object"&&"before"in e)}function fI(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function pI(e,t){return Array.isArray(e)&&e.every(t.isDate)}function Yr(e,t,n=cr){const i=Array.isArray(t)?t:[t],{isSameDay:s,differenceInCalendarDays:r,isAfter:l}=n;return i.some(c=>{if(typeof c=="boolean")return c;if(n.isDate(c))return s(e,c);if(pI(c,n))return c.includes(e);if(wx(c))return Wr(c,e,!1,n);if(fI(c))return Array.isArray(c.dayOfWeek)?c.dayOfWeek.includes(e.getDay()):c.dayOfWeek===e.getDay();if(uI(c)){const h=r(c.before,e),d=r(c.after,e),p=h>0,y=d<0;return l(c.before,c.after)?y&&p:p||y}return hI(c)?r(e,c.after)>0:dI(c)?r(c.before,e)>0:typeof c=="function"?c(e):!1})}function EB(e,t,n,i,s){const{disabled:r,hidden:l,modifiers:c,showOutsideDays:h,broadcastCalendar:d,today:p}=t,{isSameDay:y,isSameMonth:_,startOfMonth:x,isBefore:E,endOfMonth:S,isAfter:T}=s,D=n&&x(n),M=i&&S(i),P={[We.focused]:[],[We.outside]:[],[We.disabled]:[],[We.hidden]:[],[We.today]:[]},$={};for(const N of e){const{date:G,displayMonth:C}=N,k=!!(C&&!_(G,C)),O=!!(D&&E(G,D)),V=!!(M&&T(G,M)),F=!!(r&&Yr(G,r,s)),H=!!(l&&Yr(G,l,s))||O||V||!d&&!h&&k||d&&h===!1&&k,U=y(G,p??s.today());k&&P.outside.push(N),F&&P.disabled.push(N),H&&P.hidden.push(N),U&&P.today.push(N),c&&Object.keys(c).forEach(kt=>{const tt=c==null?void 0:c[kt];tt&&Yr(G,tt,s)&&($[kt]?$[kt].push(N):$[kt]=[N])})}return N=>{const G={[We.focused]:!1,[We.disabled]:!1,[We.hidden]:!1,[We.outside]:!1,[We.today]:!1},C={};for(const k in P){const O=P[k];G[k]=O.some(V=>V===N)}for(const k in $)C[k]=$[k].some(O=>O===N);return{...G,...C}}}function SB(e,t,n={}){return Object.entries(e).filter(([,s])=>s===!0).reduce((s,[r])=>(n[r]?s.push(n[r]):t[We[r]]?s.push(t[We[r]]):t[_s[r]]&&s.push(t[_s[r]]),s),[t[Ot.Day]])}function TB(e){return{...wB,...e}}function AB(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,i])=>{n.startsWith("data-")&&(t[n]=i)}),t}function kB(){const e={};for(const t in Ot)e[Ot[t]]=`rdp-${Ot[t]}`;for(const t in We)e[We[t]]=`rdp-${We[t]}`;for(const t in _s)e[_s[t]]=`rdp-${_s[t]}`;for(const t in Vi)e[Vi[t]]=`rdp-${Vi[t]}`;return e}function gI(e,t,n){return(n??new la(t)).format(e,"LLLL y")}const RB=gI;function CB(e,t,n){return(n??new la(t)).format(e,"d")}function DB(e,t=cr){return t.format(e,"LLLL")}function MB(e,t,n){return(n??new la(t)).format(e,"cccccc")}function IB(e,t=cr){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function OB(){return""}function mI(e,t=cr){return t.format(e,"yyyy")}const PB=mI,NB=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:gI,formatDay:CB,formatMonthCaption:RB,formatMonthDropdown:DB,formatWeekNumber:IB,formatWeekNumberHeader:OB,formatWeekdayName:MB,formatYearCaption:PB,formatYearDropdown:mI},Symbol.toStringTag,{value:"Module"}));function LB(e){return e!=null&&e.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e!=null&&e.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...NB,...e}}function jB(e,t,n,i,s){const{startOfMonth:r,startOfYear:l,endOfYear:c,eachMonthOfInterval:h,getMonth:d}=s;return h({start:l(e),end:c(e)}).map(_=>{const x=i.formatMonthDropdown(_,s),E=d(_),S=t&&_<r(t)||n&&_>r(n)||!1;return{value:E,label:x,disabled:S}})}function VB(e,t={},n={}){let i={...t==null?void 0:t[Ot.Day]};return Object.entries(e).filter(([,s])=>s===!0).forEach(([s])=>{i={...i,...n==null?void 0:n[s]}}),i}function UB(e,t,n){const i=e.today(),s=t?e.startOfISOWeek(i):e.startOfWeek(i),r=[];for(let l=0;l<7;l++){const c=e.addDays(s,l);r.push(c)}return r}function zB(e,t,n,i,s=!1){if(!e||!t)return;const{startOfYear:r,endOfYear:l,addYears:c,getYear:h,isBefore:d,isSameYear:p}=i,y=r(e),_=l(t),x=[];let E=y;for(;d(E,_)||p(E,_);)x.push(E),E=c(E,1);return s&&x.reverse(),x.map(S=>{const T=n.formatYearDropdown(S,i);return{value:h(S),label:T,disabled:!1}})}function yI(e,t,n,i){let s=(i??new la(n)).format(e,"PPPP");return t.today&&(s=`Today, ${s}`),t.selected&&(s=`${s}, selected`),s}const FB=yI;function _I(e,t,n){return(n??new la(t)).format(e,"LLLL y")}const BB=_I;function qB(e,t,n,i){let s=(i??new la(n)).format(e,"PPPP");return t!=null&&t.today&&(s=`Today, ${s}`),s}function $B(e){return"Choose the Month"}function HB(){return""}function WB(e){return"Go to the Next Month"}function YB(e){return"Go to the Previous Month"}function GB(e,t,n){return(n??new la(t)).format(e,"cccc")}function KB(e,t){return`Week ${e}`}function XB(e){return"Week Number"}function QB(e){return"Choose the Year"}const ZB=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:BB,labelDay:FB,labelDayButton:yI,labelGrid:_I,labelGridcell:qB,labelMonthDropdown:$B,labelNav:HB,labelNext:WB,labelPrevious:YB,labelWeekNumber:KB,labelWeekNumberHeader:XB,labelWeekday:GB,labelYearDropdown:QB},Symbol.toStringTag,{value:"Module"})),Zd=e=>e instanceof HTMLElement?e:null,Ab=e=>[...e.querySelectorAll("[data-animated-month]")??[]],JB=e=>Zd(e.querySelector("[data-animated-month]")),kb=e=>Zd(e.querySelector("[data-animated-caption]")),Rb=e=>Zd(e.querySelector("[data-animated-weeks]")),tq=e=>Zd(e.querySelector("[data-animated-nav]")),eq=e=>Zd(e.querySelector("[data-animated-weekdays]"));function nq(e,t,{classNames:n,months:i,focused:s,dateLib:r}){const l=j.useRef(null),c=j.useRef(i),h=j.useRef(!1);j.useLayoutEffect(()=>{const d=c.current;if(c.current=i,!t||!e.current||!(e.current instanceof HTMLElement)||i.length===0||d.length===0||i.length!==d.length)return;const p=r.isSameMonth(i[0].date,d[0].date),y=r.isAfter(i[0].date,d[0].date),_=y?n[Vi.caption_after_enter]:n[Vi.caption_before_enter],x=y?n[Vi.weeks_after_enter]:n[Vi.weeks_before_enter],E=l.current,S=e.current.cloneNode(!0);if(S instanceof HTMLElement?(Ab(S).forEach(P=>{if(!(P instanceof HTMLElement))return;const $=JB(P);$&&P.contains($)&&P.removeChild($);const N=kb(P);N&&N.classList.remove(_);const G=Rb(P);G&&G.classList.remove(x)}),l.current=S):l.current=null,h.current||p||s)return;const T=E instanceof HTMLElement?Ab(E):[],D=Ab(e.current);if(D!=null&&D.every(M=>M instanceof HTMLElement)&&T&&T.every(M=>M instanceof HTMLElement)){h.current=!0,e.current.style.isolation="isolate";const M=tq(e.current);M&&(M.style.zIndex="1"),D.forEach((P,$)=>{const N=T[$];if(!N)return;P.style.position="relative",P.style.overflow="hidden";const G=kb(P);G&&G.classList.add(_);const C=Rb(P);C&&C.classList.add(x);const k=()=>{h.current=!1,e.current&&(e.current.style.isolation=""),M&&(M.style.zIndex=""),G&&G.classList.remove(_),C&&C.classList.remove(x),P.style.position="",P.style.overflow="",P.contains(N)&&P.removeChild(N)};N.style.pointerEvents="none",N.style.position="absolute",N.style.overflow="hidden",N.setAttribute("aria-hidden","true");const O=eq(N);O&&(O.style.opacity="0");const V=kb(N);V&&(V.classList.add(y?n[Vi.caption_before_exit]:n[Vi.caption_after_exit]),V.addEventListener("animationend",k));const F=Rb(N);F&&F.classList.add(y?n[Vi.weeks_before_exit]:n[Vi.weeks_after_exit]),P.insertBefore(N,P.firstChild)})}})}function iq(e,t,n,i){const s=e[0],r=e[e.length-1],{ISOWeek:l,fixedWeeks:c,broadcastCalendar:h}=n??{},{addDays:d,differenceInCalendarDays:p,differenceInCalendarMonths:y,endOfBroadcastWeek:_,endOfISOWeek:x,endOfMonth:E,endOfWeek:S,isAfter:T,startOfBroadcastWeek:D,startOfISOWeek:M,startOfWeek:P}=i,$=h?D(s,i):l?M(s):P(s),N=h?_(r):l?x(E(r)):S(E(r)),G=p(N,$),C=y(r,s)+1,k=[];for(let F=0;F<=G;F++){const H=d($,F);if(t&&T(H,t))break;k.push(H)}const V=(h?35:42)*C;if(c&&k.length<V){const F=V-k.length;for(let H=0;H<F;H++){const U=d(k[k.length-1],1);k.push(U)}}return k}function sq(e){const t=[];return e.reduce((n,i)=>{const s=i.weeks.reduce((r,l)=>r.concat(l.days.slice()),t.slice());return n.concat(s.slice())},t.slice())}function rq(e,t,n,i){const{numberOfMonths:s=1}=n,r=[];for(let l=0;l<s;l++){const c=i.addMonths(e,l);if(t&&c>t)break;r.push(c)}return r}function mA(e,t,n,i){const{month:s,defaultMonth:r,today:l=i.today(),numberOfMonths:c=1}=e;let h=s||r||l;const{differenceInCalendarMonths:d,addMonths:p,startOfMonth:y}=i;if(n&&d(n,h)<c-1){const _=-1*(c-1);h=p(n,_)}return t&&d(h,t)<0&&(h=t),y(h)}function aq(e,t,n,i){const{addDays:s,endOfBroadcastWeek:r,endOfISOWeek:l,endOfMonth:c,endOfWeek:h,getISOWeek:d,getWeek:p,startOfBroadcastWeek:y,startOfISOWeek:_,startOfWeek:x}=i,E=e.reduce((S,T)=>{const D=n.broadcastCalendar?y(T,i):n.ISOWeek?_(T):x(T),M=n.broadcastCalendar?r(T):n.ISOWeek?l(c(T)):h(c(T)),P=t.filter(C=>C>=D&&C<=M),$=n.broadcastCalendar?35:42;if(n.fixedWeeks&&P.length<$){const C=t.filter(k=>{const O=$-P.length;return k>M&&k<=s(M,O)});P.push(...C)}const N=P.reduce((C,k)=>{const O=n.ISOWeek?d(k):p(k),V=C.find(H=>H.weekNumber===O),F=new lI(k,T,i);return V?V.days.push(F):C.push(new KF(O,[F])),C},[]),G=new GF(T,N);return S.push(G),S},[]);return n.reverseMonths?E.reverse():E}function oq(e,t){let{startMonth:n,endMonth:i}=e;const{startOfYear:s,startOfDay:r,startOfMonth:l,endOfMonth:c,addYears:h,endOfYear:d,newDate:p,today:y}=t,{fromYear:_,toYear:x,fromMonth:E,toMonth:S}=e;!n&&E&&(n=E),!n&&_&&(n=t.newDate(_,0,1)),!i&&S&&(i=S),!i&&x&&(i=p(x,11,31));const T=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=l(n):_?n=p(_,0,1):!n&&T&&(n=s(h(e.today??y(),-100))),i?i=c(i):x?i=p(x,11,31):!i&&T&&(i=d(e.today??y())),[n&&r(n),i&&r(i)]}function lq(e,t,n,i){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:r=1}=n,{startOfMonth:l,addMonths:c,differenceInCalendarMonths:h}=i,d=s?r:1,p=l(e);if(!t)return c(p,d);if(!(h(t,e)<r))return c(p,d)}function cq(e,t,n,i){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:r}=n,{startOfMonth:l,addMonths:c,differenceInCalendarMonths:h}=i,d=s?r??1:1,p=l(e);if(!t)return c(p,-d);if(!(h(p,t)<=0))return c(p,-d)}function uq(e){const t=[];return e.reduce((n,i)=>n.concat(i.weeks.slice()),t.slice())}function Wm(e,t){const[n,i]=j.useState(e);return[t===void 0?n:t,i]}function hq(e,t){const[n,i]=oq(e,t),{startOfMonth:s,endOfMonth:r}=t,l=mA(e,n,i,t),[c,h]=Wm(l,e.month?l:void 0);j.useEffect(()=>{const G=mA(e,n,i,t);h(G)},[e.timeZone]);const d=rq(c,i,e,t),p=iq(d,e.endMonth?r(e.endMonth):void 0,e,t),y=aq(d,p,e,t),_=uq(y),x=sq(y),E=cq(c,n,e,t),S=lq(c,i,e,t),{disableNavigation:T,onMonthChange:D}=e,M=G=>_.some(C=>C.days.some(k=>k.isEqualTo(G))),P=G=>{if(T)return;let C=s(G);n&&C<s(n)&&(C=s(n)),i&&C>s(i)&&(C=s(i)),h(C),D==null||D(C)};return{months:y,weeks:_,days:x,navStart:n,navEnd:i,previousMonth:E,nextMonth:S,goToMonth:P,goToDay:G=>{M(G)||P(G.date)}}}var Ws;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(Ws||(Ws={}));function yA(e){return!e[We.disabled]&&!e[We.hidden]&&!e[We.outside]}function dq(e,t,n,i){let s,r=-1;for(const l of e){const c=t(l);yA(c)&&(c[We.focused]&&r<Ws.FocusedModifier?(s=l,r=Ws.FocusedModifier):i!=null&&i.isEqualTo(l)&&r<Ws.LastFocused?(s=l,r=Ws.LastFocused):n(l.date)&&r<Ws.Selected?(s=l,r=Ws.Selected):c[We.today]&&r<Ws.Today&&(s=l,r=Ws.Today))}return s||(s=e.find(l=>yA(t(l)))),s}function fq(e,t,n,i,s,r,l){const{ISOWeek:c,broadcastCalendar:h}=r,{addDays:d,addMonths:p,addWeeks:y,addYears:_,endOfBroadcastWeek:x,endOfISOWeek:E,endOfWeek:S,max:T,min:D,startOfBroadcastWeek:M,startOfISOWeek:P,startOfWeek:$}=l;let G={day:d,week:y,month:p,year:_,startOfWeek:C=>h?M(C,l):c?P(C):$(C),endOfWeek:C=>h?x(C):c?E(C):S(C)}[e](n,t==="after"?1:-1);return t==="before"&&i?G=T([i,G]):t==="after"&&s&&(G=D([s,G])),G}function bI(e,t,n,i,s,r,l,c=0){if(c>365)return;const h=fq(e,t,n.date,i,s,r,l),d=!!(r.disabled&&Yr(h,r.disabled,l)),p=!!(r.hidden&&Yr(h,r.hidden,l)),y=h,_=new lI(h,y,l);return!d&&!p?_:bI(e,t,_,i,s,r,l,c+1)}function pq(e,t,n,i,s){const{autoFocus:r}=e,[l,c]=j.useState(),h=dq(t.days,n,i||(()=>!1),l),[d,p]=j.useState(r?h:void 0);return{isFocusTarget:S=>!!(h!=null&&h.isEqualTo(S)),setFocused:p,focused:d,blur:()=>{c(d),p(void 0)},moveFocus:(S,T)=>{if(!d)return;const D=bI(S,T,d,t.navStart,t.navEnd,e,s);D&&(t.goToDay(D),p(D))}}}function gq(e,t){const{selected:n,required:i,onSelect:s}=e,[r,l]=Wm(n,s?n:void 0),c=s?n:r,{isSameDay:h}=t,d=x=>(c==null?void 0:c.some(E=>h(E,x)))??!1,{min:p,max:y}=e;return{selected:c,select:(x,E,S)=>{let T=[...c??[]];if(d(x)){if((c==null?void 0:c.length)===p||i&&(c==null?void 0:c.length)===1)return;T=c==null?void 0:c.filter(D=>!h(D,x))}else(c==null?void 0:c.length)===y?T=[x]:T=[...T,x];return s||l(T),s==null||s(T,x,E,S),T},isSelected:d}}function mq(e,t,n=0,i=0,s=!1,r=cr){const{from:l,to:c}=t||{},{isSameDay:h,isAfter:d,isBefore:p}=r;let y;if(!l&&!c)y={from:e,to:n>0?void 0:e};else if(l&&!c)h(l,e)?n===0?y={from:l,to:e}:s?y={from:l,to:void 0}:y=void 0:p(e,l)?y={from:e,to:l}:y={from:l,to:e};else if(l&&c)if(h(l,e)&&h(c,e))s?y={from:l,to:c}:y=void 0;else if(h(l,e))y={from:l,to:n>0?void 0:e};else if(h(c,e))y={from:e,to:n>0?void 0:e};else if(p(e,l))y={from:e,to:c};else if(d(e,l))y={from:l,to:e};else if(d(e,c))y={from:l,to:e};else throw new Error("Invalid range");if(y!=null&&y.from&&(y!=null&&y.to)){const _=r.differenceInCalendarDays(y.to,y.from);i>0&&_>i?y={from:e,to:void 0}:n>1&&_<n&&(y={from:e,to:void 0})}return y}function yq(e,t,n=cr){const i=Array.isArray(t)?t:[t];let s=e.from;const r=n.differenceInCalendarDays(e.to,e.from),l=Math.min(r,6);for(let c=0;c<=l;c++){if(i.includes(s.getDay()))return!0;s=n.addDays(s,1)}return!1}function _A(e,t,n=cr){return Wr(e,t.from,!1,n)||Wr(e,t.to,!1,n)||Wr(t,e.from,!1,n)||Wr(t,e.to,!1,n)}function _q(e,t,n=cr){const i=Array.isArray(t)?t:[t];if(i.filter(c=>typeof c!="function").some(c=>typeof c=="boolean"?c:n.isDate(c)?Wr(e,c,!1,n):pI(c,n)?c.some(h=>Wr(e,h,!1,n)):wx(c)?c.from&&c.to?_A(e,{from:c.from,to:c.to},n):!1:fI(c)?yq(e,c.dayOfWeek,n):uI(c)?n.isAfter(c.before,c.after)?_A(e,{from:n.addDays(c.after,1),to:n.addDays(c.before,-1)},n):Yr(e.from,c,n)||Yr(e.to,c,n):hI(c)||dI(c)?Yr(e.from,c,n)||Yr(e.to,c,n):!1))return!0;const l=i.filter(c=>typeof c=="function");if(l.length){let c=e.from;const h=n.differenceInCalendarDays(e.to,e.from);for(let d=0;d<=h;d++){if(l.some(p=>p(c)))return!0;c=n.addDays(c,1)}}return!1}function bq(e,t){const{disabled:n,excludeDisabled:i,selected:s,required:r,onSelect:l}=e,[c,h]=Wm(s,l?s:void 0),d=l?s:c;return{selected:d,select:(_,x,E)=>{const{min:S,max:T}=e,D=_?mq(_,d,S,T,r,t):void 0;return i&&n&&(D!=null&&D.from)&&D.to&&_q({from:D.from,to:D.to},n,t)&&(D.from=_,D.to=void 0),l||h(D),l==null||l(D,_,x,E),D},isSelected:_=>d&&Wr(d,_,!1,t)}}function vq(e,t){const{selected:n,required:i,onSelect:s}=e,[r,l]=Wm(n,s?n:void 0),c=s?n:r,{isSameDay:h}=t;return{selected:c,select:(y,_,x)=>{let E=y;return!i&&c&&c&&h(y,c)&&(E=void 0),s||l(E),s==null||s(E,y,_,x),E},isSelected:y=>c?h(c,y):!1}}function xq(e,t){const n=vq(e,t),i=gq(e,t),s=bq(e,t);switch(e.mode){case"single":return n;case"multiple":return i;case"range":return s;default:return}}function wq(e){var ua;let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new ii(t.today,t.timeZone)),t.month&&(t.month=new ii(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new ii(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new ii(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new ii(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new ii(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=(ua=t.selected)==null?void 0:ua.map($t=>new ii($t,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new ii(t.selected.from,t.timeZone):void 0,to:t.selected.to?new ii(t.selected.to,t.timeZone):void 0}));const{components:n,formatters:i,labels:s,dateLib:r,locale:l,classNames:c}=j.useMemo(()=>{const $t={...xx,...t.locale};return{dateLib:new la({locale:$t,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:TB(t.components),formatters:LB(t.formatters),labels:{...ZB,...t.labels},locale:$t,classNames:{...kB(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:h,mode:d,navLayout:p,numberOfMonths:y=1,onDayBlur:_,onDayClick:x,onDayFocus:E,onDayKeyDown:S,onDayMouseEnter:T,onDayMouseLeave:D,onNextClick:M,onPrevClick:P,showWeekNumber:$,styles:N}=t,{formatCaption:G,formatDay:C,formatMonthDropdown:k,formatWeekNumber:O,formatWeekNumberHeader:V,formatWeekdayName:F,formatYearDropdown:H}=i,U=hq(t,r),{days:kt,months:tt,navStart:B,navEnd:J,previousMonth:pt,nextMonth:yt,goToMonth:q}=U,X=EB(kt,t,B,J,r),{isSelected:nt,select:K,selected:Q}=xq(t,r)??{},{blur:at,focused:Y,isFocusTarget:ut,moveFocus:bt,setFocused:xt}=pq(t,U,X,nt??(()=>!1),r),{labelDayButton:Nt,labelGridcell:ue,labelGrid:Se,labelMonthDropdown:Fn,labelNav:_i,labelPrevious:ls,labelNext:ca,labelWeekday:an,labelWeekNumber:Eo,labelWeekNumberHeader:ur,labelYearDropdown:_t}=s,Dt=j.useMemo(()=>UB(r,t.ISOWeek),[r,t.ISOWeek]),Tt=d!==void 0||x!==void 0,St=j.useCallback(()=>{pt&&(q(pt),P==null||P(pt))},[pt,q,P]),Zt=j.useCallback(()=>{yt&&(q(yt),M==null||M(yt))},[q,yt,M]),ui=j.useCallback(($t,me)=>Vt=>{Vt.preventDefault(),Vt.stopPropagation(),xt($t),K==null||K($t.date,me,Vt),x==null||x($t.date,me,Vt)},[K,x,xt]),de=j.useCallback(($t,me)=>Vt=>{xt($t),E==null||E($t.date,me,Vt)},[E,xt]),Jt=j.useCallback(($t,me)=>Vt=>{at(),_==null||_($t.date,me,Vt)},[at,_]),hi=j.useCallback(($t,me)=>Vt=>{const he={ArrowLeft:[Vt.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[Vt.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[Vt.shiftKey?"year":"week","after"],ArrowUp:[Vt.shiftKey?"year":"week","before"],PageUp:[Vt.shiftKey?"year":"month","before"],PageDown:[Vt.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(he[Vt.key]){Vt.preventDefault(),Vt.stopPropagation();const[Cn,Ht]=he[Vt.key];bt(Cn,Ht)}S==null||S($t.date,me,Vt)},[bt,S,t.dir]),Rn=j.useCallback(($t,me)=>Vt=>{T==null||T($t.date,me,Vt)},[T]),Pl=j.useCallback(($t,me)=>Vt=>{D==null||D($t.date,me,Vt)},[D]),bu=j.useCallback($t=>me=>{const Vt=Number(me.target.value),he=r.setMonth(r.startOfMonth($t),Vt);q(he)},[r,q]),hr=j.useCallback($t=>me=>{const Vt=Number(me.target.value),he=r.setYear(r.startOfMonth($t),Vt);q(he)},[r,q]),{className:dr,style:fr}=j.useMemo(()=>({className:[c[Ot.Root],t.className].filter(Boolean).join(" "),style:{...N==null?void 0:N[Ot.Root],...t.style}}),[c,t.className,t.style,N]),ki=AB(t),pr=j.useRef(null);nq(pr,!!t.animate,{classNames:c,months:tt,focused:Y,dateLib:r});const gr={dayPickerProps:t,selected:Q,select:K,isSelected:nt,months:tt,nextMonth:yt,previousMonth:pt,goToMonth:q,getModifiers:X,components:n,classNames:c,styles:N,labels:s,formatters:i};return Et.createElement(cI.Provider,{value:gr},Et.createElement(n.Root,{rootRef:t.animate?pr:void 0,className:dr,style:fr,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...ki},Et.createElement(n.Months,{className:c[Ot.Months],style:N==null?void 0:N[Ot.Months]},!t.hideNavigation&&!p&&Et.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[Ot.Nav],style:N==null?void 0:N[Ot.Nav],"aria-label":_i(),onPreviousClick:St,onNextClick:Zt,previousMonth:pt,nextMonth:yt}),tt.map(($t,me)=>Et.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:c[Ot.Month],style:N==null?void 0:N[Ot.Month],key:me,displayIndex:me,calendarMonth:$t},p==="around"&&!t.hideNavigation&&me===0&&Et.createElement(n.PreviousMonthButton,{type:"button",className:c[Ot.PreviousMonthButton],tabIndex:pt?void 0:-1,"aria-disabled":pt?void 0:!0,"aria-label":ls(pt),onClick:St,"data-animated-button":t.animate?"true":void 0},Et.createElement(n.Chevron,{disabled:pt?void 0:!0,className:c[Ot.Chevron],orientation:t.dir==="rtl"?"right":"left"})),Et.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:c[Ot.MonthCaption],style:N==null?void 0:N[Ot.MonthCaption],calendarMonth:$t,displayIndex:me},h!=null&&h.startsWith("dropdown")?Et.createElement(n.DropdownNav,{className:c[Ot.Dropdowns],style:N==null?void 0:N[Ot.Dropdowns]},h==="dropdown"||h==="dropdown-months"?Et.createElement(n.MonthsDropdown,{className:c[Ot.MonthsDropdown],"aria-label":Fn(),classNames:c,components:n,disabled:!!t.disableNavigation,onChange:bu($t.date),options:jB($t.date,B,J,i,r),style:N==null?void 0:N[Ot.Dropdown],value:r.getMonth($t.date)}):Et.createElement("span",null,k($t.date,r)),h==="dropdown"||h==="dropdown-years"?Et.createElement(n.YearsDropdown,{className:c[Ot.YearsDropdown],"aria-label":_t(r.options),classNames:c,components:n,disabled:!!t.disableNavigation,onChange:hr($t.date),options:zB(B,J,i,r,!!t.reverseYears),style:N==null?void 0:N[Ot.Dropdown],value:r.getYear($t.date)}):Et.createElement("span",null,H($t.date,r)),Et.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},G($t.date,r.options,r))):Et.createElement(n.CaptionLabel,{className:c[Ot.CaptionLabel],role:"status","aria-live":"polite"},G($t.date,r.options,r))),p==="around"&&!t.hideNavigation&&me===y-1&&Et.createElement(n.NextMonthButton,{type:"button",className:c[Ot.NextMonthButton],tabIndex:yt?void 0:-1,"aria-disabled":yt?void 0:!0,"aria-label":ca(yt),onClick:Zt,"data-animated-button":t.animate?"true":void 0},Et.createElement(n.Chevron,{disabled:yt?void 0:!0,className:c[Ot.Chevron],orientation:t.dir==="rtl"?"left":"right"})),me===y-1&&p==="after"&&!t.hideNavigation&&Et.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[Ot.Nav],style:N==null?void 0:N[Ot.Nav],"aria-label":_i(),onPreviousClick:St,onNextClick:Zt,previousMonth:pt,nextMonth:yt}),Et.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":Se($t.date,r.options,r)||void 0,className:c[Ot.MonthGrid],style:N==null?void 0:N[Ot.MonthGrid]},!t.hideWeekdays&&Et.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:c[Ot.Weekdays],style:N==null?void 0:N[Ot.Weekdays]},$&&Et.createElement(n.WeekNumberHeader,{"aria-label":ur(r.options),className:c[Ot.WeekNumberHeader],style:N==null?void 0:N[Ot.WeekNumberHeader],scope:"col"},V()),Dt.map(Vt=>Et.createElement(n.Weekday,{"aria-label":an(Vt,r.options,r),className:c[Ot.Weekday],key:String(Vt),style:N==null?void 0:N[Ot.Weekday],scope:"col"},F(Vt,r.options,r)))),Et.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:c[Ot.Weeks],style:N==null?void 0:N[Ot.Weeks]},$t.weeks.map(Vt=>Et.createElement(n.Week,{className:c[Ot.Week],key:Vt.weekNumber,style:N==null?void 0:N[Ot.Week],week:Vt},$&&Et.createElement(n.WeekNumber,{week:Vt,style:N==null?void 0:N[Ot.WeekNumber],"aria-label":Eo(Vt.weekNumber,{locale:l}),className:c[Ot.WeekNumber],scope:"row",role:"rowheader"},O(Vt.weekNumber,r)),Vt.days.map(he=>{const{date:Cn}=he,Ht=X(he);if(Ht[We.focused]=!Ht.hidden&&!!(Y!=null&&Y.isEqualTo(he)),Ht[_s.selected]=(nt==null?void 0:nt(Cn))||Ht.selected,wx(Q)){const{from:Bi,to:da}=Q;Ht[_s.range_start]=!!(Bi&&da&&r.isSameDay(Cn,Bi)),Ht[_s.range_end]=!!(Bi&&da&&r.isSameDay(Cn,da)),Ht[_s.range_middle]=Wr(Q,Cn,!0,r)}const So=VB(Ht,N,t.modifiersStyles),Rs=SB(Ht,c,t.modifiersClassNames),ha=!Tt&&!Ht.hidden?ue(Cn,Ht,r.options,r):void 0;return Et.createElement(n.Day,{key:`${r.format(Cn,"yyyy-MM-dd")}_${r.format(he.displayMonth,"yyyy-MM")}`,day:he,modifiers:Ht,className:Rs.join(" "),style:So,role:"gridcell","aria-selected":Ht.selected||void 0,"aria-label":ha,"data-day":r.format(Cn,"yyyy-MM-dd"),"data-month":he.outside?r.format(Cn,"yyyy-MM"):void 0,"data-selected":Ht.selected||void 0,"data-disabled":Ht.disabled||void 0,"data-hidden":Ht.hidden||void 0,"data-outside":he.outside||void 0,"data-focused":Ht.focused||void 0,"data-today":Ht.today||void 0},!Ht.hidden&&Tt?Et.createElement(n.DayButton,{className:c[Ot.DayButton],style:N==null?void 0:N[Ot.DayButton],type:"button",day:he,modifiers:Ht,disabled:Ht.disabled||void 0,tabIndex:ut(he)?0:-1,"aria-label":Nt(Cn,Ht,r.options,r),onClick:ui(he,Ht),onBlur:Jt(he,Ht),onFocus:de(he,Ht),onKeyDown:hi(he,Ht),onMouseEnter:Rn(he,Ht),onMouseLeave:Pl(he,Ht)},C(Cn,r.options,r)):!Ht.hidden&&C(he.date,r.options,r))})))))))),t.footer&&Et.createElement(n.Footer,{className:c[Ot.Footer],style:N==null?void 0:N[Ot.Footer],role:"status","aria-live":"polite"},t.footer)))}const Eq="/pdms-test/assets/calendar-arrow-BfXL-r2k.png";function Sq({value:e,onApply:t,placeholder:n="요청 기간 선택",autoCloseOnComplete:i=!0}){var S;const[s,r]=j.useState({start:(e==null?void 0:e.start)??null,end:(e==null?void 0:e.end)??null}),[l,c]=j.useState(((S=e==null?void 0:e.start)==null?void 0:S.getFullYear())??new Date().getFullYear()),[h,d]=j.useState(!1),p=j.useMemo(()=>{const T=D=>`${D.getFullYear()}.${String(D.getMonth()+1).padStart(2,"0")}.${String(D.getDate()).padStart(2,"0")}`;return s.start&&s.end?`${T(s.start)} ~ ${T(s.end)}`:s.start?`${T(s.start)} ~`:""},[s]),y=new Date().getMonth(),_=j.useRef(null);j.useEffect(()=>{if(h&&_.current){const T=_.current.querySelectorAll(".month-box")[y];T&&T.scrollIntoView({block:"start"})}},[h]);const x=j.useRef(null);j.useEffect(()=>{const T=D=>{x.current&&!x.current.contains(D.target)&&d(!1)};return h&&document.addEventListener("click",T),()=>{document.removeEventListener("click",T)}},[h]),j.useEffect(()=>{const T=P=>P instanceof Date?new Date(P.getFullYear(),P.getMonth(),P.getDate()).getTime():null,D=(e==null?void 0:e.start)??null,M=(e==null?void 0:e.end)??null;(T(s.start)!==T(D)||T(s.end)!==T(M))&&(r({start:D,end:M}),c((D==null?void 0:D.getFullYear())??new Date().getFullYear()))},[e==null?void 0:e.start,e==null?void 0:e.end]);const E=T=>{if(!s.start||s.start&&s.end){r({start:T,end:null});return}if(s.start&&!s.end)if(T<s.start)r({start:T,end:null});else{const D={start:s.start,end:T};r(D),t==null||t(D),i&&d(!1)}};return v.jsxs(Tq,{ref:x,children:[v.jsx(Lq,{}),v.jsx(Aq,{value:p,placeholder:n,readOnly:!0,onClick:()=>d(T=>!T)}),h&&v.jsxs(Rq,{children:[v.jsxs(Cq,{children:[v.jsx(Dq,{dir:"prev",onClick:()=>c(T=>T-1)}),v.jsx("span",{children:l}),v.jsx(Mq,{dir:"next",onClick:()=>c(T=>T+1)})]}),v.jsx(Iq,{children:["일","월","화","수","목","금","토"].map(T=>v.jsx("span",{children:T},T))}),v.jsx(kq,{children:v.jsx(Oq,{ref:_,children:Array.from({length:12}).map((T,D)=>{const M=new Date(l,D,1),P=N=>new Date(N.getFullYear(),N.getMonth(),N.getDate()).getTime(),$=N=>N.getFullYear()===M.getFullYear()&&N.getMonth()===M.getMonth();return v.jsxs(Pq,{className:"month-box",children:[v.jsx(Nq,{children:String(D+1).padStart(2,"0")}),v.jsx(wq,{mode:"single",month:M,selected:void 0,onDayClick:E,showOutsideDays:!1,modifiers:{start:N=>!!s.start&&$(N)&&P(N)===P(s.start),end:N=>!!s.end&&$(N)&&P(N)===P(s.end),middle:N=>{if(!s.start||!s.end||!$(N))return!1;const G=P(N),C=P(s.start),k=P(s.end);return G>C&&G<k},todayInMonth:N=>{const G=new Date;return $(N)&&N.getFullYear()===G.getFullYear()&&N.getMonth()===G.getMonth()&&N.getDate()===G.getDate()}},modifiersClassNames:{start:"sel-start",end:"sel-end",middle:"sel-mid",todayInMonth:"sel-today"}})]},D)})})})]})]})}const Tq=z.div`
  position: relative;
  width: 215px;
  margin-right: 8px;
  font-family: 'Pretendard';
`,Aq=z.input`
  width: 100%;
  padding: 11.5px 12px;
  border: 1px solid ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.gray02)||"#d0d5dd"}};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  cursor: pointer;

  &::placeholder {
    color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.black}};
  }
  
  &:focus {
    outline: none;
    border-color: ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.black)||"#111"}};
  }
`,kq=z.div`
  overflow-y: auto;
  max-height: 385px;

  /* ===== Firefox ===== */
  scrollbar-width: thin;
  scrollbar-color: ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.gray03)||"#c9ced6"}}
                    transparent;

  &::-webkit-scrollbar {
    width: 10px !important;
  }

  /* ===== WebKit (Chrome/Edge/Safari) ===== */
  &::-webkit-scrollbar-button {
    display: none !important;
    width: 0 !important;
    height: 0 !important;
    background: transparent !important;
    border: none !important;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.gray04)||"#aeb4be"}};
  }
`,Rq=z.div`
  position: absolute;
  top: 60px;
  left: 0;
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 10px;
  z-index: 100;
  width: 380px;
  max-height: 480px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
`,Cq=z.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  height: 46px;
  font-weight: 700;
  font-size: 15px;
  background-color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.gray02}};
`,vI=z.button`
  width: 48px;
  height: 100%;
  background-image: url(${Eq});
  background-repeat: no-repeat;
`,Dq=z(vI)``,Mq=z(vI)`
  background-position: -50px 0;  /* 오른쪽 프레임만 노출 */
`,Iq=z.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  height: 46px;
  font-size: 12px;
  padding: 0 11px;
  border-bottom: 1px solid ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.gray03}};

  span {
    flex: 1;
    font-size: 15px;
    font-weight: 700;
    text-align: center;
    color: #757575;
  }
`,Oq=z.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding-left: 12px;
`,Pq=z.div`
  .rdp-months {
    width: 100%;

    table {
      width: 100%;
    }
  }

  .rdp-tbody {
    display: contents !important; /* table body 제거 */
  }

  .rdp-row {
    display: contents !important; /* tr 제거 */
  }

  .rdp-cell {
    display: flex !important;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
  }

  .rdp-day {
    font-size: 13px;
    line-height: 31px;
    border: none;
    text-align: center;
    cursor: pointer;

    & button {
      width: 100%;
      padding: 8px 0;
      font-family: 'Pretendard';
    }
  }

  /* ✅ 오늘 날짜 강조 */
  .sel-today {
    background-color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.black}};
    font-weight: 700;

    button {
      color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.white01}};
    }
  }

  /* ❶ 라이브러리 기본 range 클래스 전부 무력화 (혹시 붙어도 표시 안 되게) */
  .rdp-range_start,
  .rdp-range_middle,
  .rdp-range_end {
    background: none !important;
    color: inherit !important;
  }

  /* ❷ 우리가 지정한 커스텀 클래스만 색칠 */
  .sel-start,
  .sel-end,
  .sel-mid {
    background-color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.red}} !important;

    & button {
      color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.white01}};
    }
  }
`,Nq=z.div`
  font-size: 16px;
  font-weight: 700;
  margin-top: 20px;
  padding-left: 15px;
  color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.black}};
`,Lq=dC`
  .rdp-month_caption, .rdp-weekday, .rdp-nav {
    display: none !important;
  }
`,zc="진행 상태 선택",Th="요청자 선택",Ah="디자이너 선택",kh="회사 선택",jq=new Set(["PushComz"].map(e=>e.toLowerCase())),Cb={start:null,end:null},Vq=e=>e===3?"manager":e===2?"designer":"requester",Uq={requester:[zc,"대기","진행중","검수중","완료","취소"],manager:[zc,"대기","진행중","검수중","검수요청","완료","취소"],designer:[zc,"대기","진행중","검수요청","완료","취소"]},zq=(e,t)=>{if(e==="manager"){if(t==="검수중")return"검수요청";if(t==="검수요청")return"검수중"}return t};function Fq({onApplyStatus:e,onApplyRange:t,isManager:n=!1,requesterOptions:i=[],onApplyRequester:s,designerOptions:r=[],companyOptions:l=[],onApplyCompany:c,onApplyDesigner:h,roleNumber:d}){const[p,y]=j.useState(Cb),[_,x]=j.useState(zc),[E,S]=j.useState(Th),[T,D]=j.useState(Ah),[M,P]=j.useState(kh),$=()=>{x(zc),y(Cb),S(Th),D(Ah),P(kh),e(zc),t(Cb),s==null||s(Th),h==null||h(Ah),c==null||c(kh)},N=Vq(d),G=Uq[N];return v.jsxs(Bq,{children:[v.jsx(Sq,{value:p,onApply:C=>{y(C),t(C)}}),N!=="requester"&&v.jsxs(Ip,{"aria-label":"회사 선택",value:M,onChange:C=>{const k=C.target.value;P(k),c==null||c(k)},children:[v.jsx("option",{value:kh,children:kh}),(l||[]).filter(C=>!!C&&!jq.has(String(C).toLowerCase())).map(C=>v.jsx("option",{value:C,children:C},C))]}),n&&v.jsxs(v.Fragment,{children:[v.jsxs(Ip,{"aria-label":"요청자 선택",value:E,onChange:C=>{S(C.target.value),s==null||s(C.target.value)},children:[v.jsx("option",{value:Th,children:Th}),i.map(C=>v.jsx("option",{value:C,children:C},C))]}),v.jsxs(Ip,{"aria-label":"디자이너 선택",value:T,onChange:C=>{const k=C.target.value;D(k),h==null||h(k)},children:[v.jsx("option",{value:Ah,children:Ah}),r.map(C=>v.jsx("option",{value:C,children:C},C))]})]}),v.jsx(Ip,{value:_,onChange:C=>{const k=C.target.value,O=zq(N,k);x(k),e(O)},children:G.map(C=>v.jsx("option",{value:C,children:C},C))}),v.jsx(qq,{type:"button",onClick:$,children:"필터 초기화"})]})}const Bq=z.div`
  ${({theme:e})=>e.mixin.flex("center")};
`,Ip=z.select`
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;

  width: 150px;
  height: 48px;
  margin-right: 8px;
  padding: 0 12px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 400;
  color: ${({theme:e})=>e.colors.black};
  background-color: ${({theme:e})=>e.colors.white01};
  background-image: url(${Hm});
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 16px 16px;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.black};
  }
`,qq=z.button`
  padding: 11.5px 10px;
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 400;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,$q="/pdms-test/assets/search-icon-g0O6fOpZ.svg";function Hq({keyword:e,onKeywordChange:t,onSearch:n}){const i=s=>{t(s),n(s.trim())};return v.jsx(Wq,{children:v.jsx(Yq,{placeholder:"문서번호와 작업항목을 검색해 주세요.",value:e,onChange:s=>i(s.target.value),onKeyDown:s=>{s.key==="Escape"&&i("")}})})}const Wq=z.div`
  position: relative;
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  padding: 11.5px 14.5px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;

  /* 🔍 아이콘: 버튼 제거하고 래퍼에 ::after로 표시 */
  &::after {
    content: "";
    position: absolute;
    right: 12px;
    top: 50%;
    display: block;
    width: 24px;
    height: 24px;
    background: url(${$q}) no-repeat center / contain;
    transform: translateY(-50%);
  }
`,Yq=z.input`
  width: 458px;
  margin-right: 12px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;
`;function Cd({onApplyStatus:e,onApplyRange:t,onSearch:n,keyword:i,onKeywordChange:s,isManager:r=!1,requesterOptions:l=[],onApplyRequester:c,designerOptions:h=[],companyOptions:d=[],onApplyCompany:p,onApplyDesigner:y,roleNumber:_}){return v.jsxs(Gq,{children:[v.jsx(Fq,{onApplyStatus:e,onApplyRange:t,isManager:r,requesterOptions:l,onApplyRequester:c,designerOptions:h,companyOptions:d,onApplyCompany:p,onApplyDesigner:y,roleNumber:_}),v.jsx(Hq,{keyword:i,onKeywordChange:s,onSearch:n})]})}const Gq=z.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  padding: 24px 0 30px;
`;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Jd(e){return e+.5|0}const Ka=(e,t,n)=>Math.max(Math.min(e,n),t);function Hh(e){return Ka(Jd(e*2.55),0,255)}function ao(e){return Ka(Jd(e*255),0,255)}function qr(e){return Ka(Jd(e/2.55)/100,0,1)}function bA(e){return Ka(Jd(e*100),0,100)}const ns={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},F0=[..."0123456789ABCDEF"],Kq=e=>F0[e&15],Xq=e=>F0[(e&240)>>4]+F0[e&15],Op=e=>(e&240)>>4===(e&15),Qq=e=>Op(e.r)&&Op(e.g)&&Op(e.b)&&Op(e.a);function Zq(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&ns[e[1]]*17,g:255&ns[e[2]]*17,b:255&ns[e[3]]*17,a:t===5?ns[e[4]]*17:255}:(t===7||t===9)&&(n={r:ns[e[1]]<<4|ns[e[2]],g:ns[e[3]]<<4|ns[e[4]],b:ns[e[5]]<<4|ns[e[6]],a:t===9?ns[e[7]]<<4|ns[e[8]]:255})),n}const Jq=(e,t)=>e<255?t(e):"";function t$(e){var t=Qq(e)?Kq:Xq;return e?"#"+t(e.r)+t(e.g)+t(e.b)+Jq(e.a,t):void 0}const e$=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function xI(e,t,n){const i=t*Math.min(n,1-n),s=(r,l=(r+e/30)%12)=>n-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function n$(e,t,n){const i=(s,r=(s+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function i$(e,t,n){const i=xI(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function s$(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function Ex(e){const n=e.r/255,i=e.g/255,s=e.b/255,r=Math.max(n,i,s),l=Math.min(n,i,s),c=(r+l)/2;let h,d,p;return r!==l&&(p=r-l,d=c>.5?p/(2-r-l):p/(r+l),h=s$(n,i,s,p,r),h=h*60+.5),[h|0,d||0,c]}function Sx(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(ao)}function Tx(e,t,n){return Sx(xI,e,t,n)}function r$(e,t,n){return Sx(i$,e,t,n)}function a$(e,t,n){return Sx(n$,e,t,n)}function wI(e){return(e%360+360)%360}function o$(e){const t=e$.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Hh(+t[5]):ao(+t[5]));const s=wI(+t[2]),r=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=r$(s,r,l):t[1]==="hsv"?i=a$(s,r,l):i=Tx(s,r,l),{r:i[0],g:i[1],b:i[2],a:n}}function l$(e,t){var n=Ex(e);n[0]=wI(n[0]+t),n=Tx(n),e.r=n[0],e.g=n[1],e.b=n[2]}function c$(e){if(!e)return;const t=Ex(e),n=t[0],i=bA(t[1]),s=bA(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${qr(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const vA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},xA={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function u$(){const e={},t=Object.keys(xA),n=Object.keys(vA);let i,s,r,l,c;for(i=0;i<t.length;i++){for(l=c=t[i],s=0;s<n.length;s++)r=n[s],c=c.replace(r,vA[r]);r=parseInt(xA[l],16),e[c]=[r>>16&255,r>>8&255,r&255]}return e}let Pp;function h$(e){Pp||(Pp=u$(),Pp.transparent=[0,0,0,0]);const t=Pp[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const d$=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function f$(e){const t=d$.exec(e);let n=255,i,s,r;if(t){if(t[7]!==i){const l=+t[7];n=t[8]?Hh(l):Ka(l*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?Hh(i):Ka(i,0,255)),s=255&(t[4]?Hh(s):Ka(s,0,255)),r=255&(t[6]?Hh(r):Ka(r,0,255)),{r:i,g:s,b:r,a:n}}}function p$(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${qr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Db=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Tc=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function g$(e,t,n){const i=Tc(qr(e.r)),s=Tc(qr(e.g)),r=Tc(qr(e.b));return{r:ao(Db(i+n*(Tc(qr(t.r))-i))),g:ao(Db(s+n*(Tc(qr(t.g))-s))),b:ao(Db(r+n*(Tc(qr(t.b))-r))),a:e.a+n*(t.a-e.a)}}function Np(e,t,n){if(e){let i=Ex(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=Tx(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function EI(e,t){return e&&Object.assign(t||{},e)}function wA(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ao(e[3]))):(t=EI(e,{r:0,g:0,b:0,a:1}),t.a=ao(t.a)),t}function m$(e){return e.charAt(0)==="r"?f$(e):o$(e)}class Dd{constructor(t){if(t instanceof Dd)return t;const n=typeof t;let i;n==="object"?i=wA(t):n==="string"&&(i=Zq(t)||h$(t)||m$(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=EI(this._rgb);return t&&(t.a=qr(t.a)),t}set rgb(t){this._rgb=wA(t)}rgbString(){return this._valid?p$(this._rgb):void 0}hexString(){return this._valid?t$(this._rgb):void 0}hslString(){return this._valid?c$(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let r;const l=n===r?.5:n,c=2*l-1,h=i.a-s.a,d=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;r=1-d,i.r=255&d*i.r+r*s.r+.5,i.g=255&d*i.g+r*s.g+.5,i.b=255&d*i.b+r*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=g$(this._rgb,t._rgb,n)),this}clone(){return new Dd(this.rgb)}alpha(t){return this._rgb.a=ao(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Jd(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Np(this._rgb,2,t),this}darken(t){return Np(this._rgb,2,-t),this}saturate(t){return Np(this._rgb,1,t),this}desaturate(t){return Np(this._rgb,1,-t),this}rotate(t){return l$(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ur(){}const y$=(()=>{let e=0;return()=>e++})();function Wt(e){return e==null}function je(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ne(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Ze(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ji(e,t){return Ze(e)?e:t}function Bt(e,t){return typeof e>"u"?t:e}const _$=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,SI=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ce(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function be(e,t,n,i){let s,r,l;if(je(e))for(r=e.length,s=0;s<r;s++)t.call(n,e[s],s);else if(ne(e))for(l=Object.keys(e),r=l.length,s=0;s<r;s++)t.call(n,e[l[s]],l[s])}function nm(e,t){let n,i,s,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],r=t[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function im(e){if(je(e))return e.map(im);if(ne(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=im(e[n[s]]);return t}return e}function TI(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function b$(e,t,n,i){if(!TI(e))return;const s=t[e],r=n[e];ne(s)&&ne(r)?rr(s,r,i):t[e]=im(r)}function rr(e,t,n){const i=je(t)?t:[t],s=i.length;if(!ne(e))return e;n=n||{};const r=n.merger||b$;let l;for(let c=0;c<s;++c){if(l=i[c],!ne(l))continue;const h=Object.keys(l);for(let d=0,p=h.length;d<p;++d)r(h[d],e,l,n)}return e}function id(e,t){return rr(e,t,{merger:v$})}function v$(e,t,n){if(!TI(e))return;const i=t[e],s=n[e];ne(i)&&ne(s)?id(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=im(s))}const EA={"":e=>e,x:e=>e.x,y:e=>e.y};function x$(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function w$(e){const t=x$(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function go(e,t){return(EA[t]||(EA[t]=w$(t)))(e)}function Ax(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Md=e=>typeof e<"u",mo=e=>typeof e=="function",SA=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function E$(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const pe=Math.PI,Ve=2*pe,S$=Ve+pe,sm=Number.POSITIVE_INFINITY,T$=pe/180,rn=pe/2,tl=pe/4,TA=pe*2/3,Xa=Math.log10,ir=Math.sign;function sd(e,t,n){return Math.abs(e-t)<n}function AA(e){const t=Math.round(e);e=sd(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Xa(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function A$(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,r)=>s-r).pop(),t}function k$(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function iu(e){return!k$(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function R$(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function AI(e,t,n){let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function bs(e){return e*(pe/180)}function kx(e){return e*(180/pe)}function kA(e){if(!Ze(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function kI(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*pe&&(r+=Ve),{angle:r,distance:s}}function B0(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function C$(e,t){return(e-t+S$)%Ve-pe}function ri(e){return(e%Ve+Ve)%Ve}function Id(e,t,n,i){const s=ri(e),r=ri(t),l=ri(n),c=ri(r-s),h=ri(l-s),d=ri(s-r),p=ri(s-l);return s===r||s===l||i&&r===l||c>h&&d<p}function zn(e,t,n){return Math.max(t,Math.min(n,e))}function D$(e){return zn(e,-32768,32767)}function Gr(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function Rx(e,t,n){n=n||(l=>e[l]<t);let i=e.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Kr=(e,t,n,i)=>Rx(e,n,i?s=>{const r=e[s][t];return r<n||r===n&&e[s+1][t]===n}:s=>e[s][t]<n),M$=(e,t,n)=>Rx(e,n,i=>e[i][t]>=n);function I$(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const RI=["push","pop","shift","splice","unshift"];function O$(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),RI.forEach(n=>{const i="_onData"+Ax(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const l=s.apply(this,r);return e._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...r)}),l}})})}function RA(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(RI.forEach(r=>{delete e[r]}),delete e._chartjs)}function CI(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const DI=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function MI(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,DI.call(window,()=>{i=!1,e.apply(t,n)}))}}function P$(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const Cx=e=>e==="start"?"left":e==="end"?"right":"center",ni=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,N$=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function II(e,t,n){const i=t.length;let s=0,r=i;if(e._sorted){const{iScale:l,vScale:c,_parsed:h}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,p=l.axis,{min:y,max:_,minDefined:x,maxDefined:E}=l.getUserBounds();if(x){if(s=Math.min(Kr(h,p,y).lo,n?i:Kr(t,p,l.getPixelForValue(y)).lo),d){const S=h.slice(0,s+1).reverse().findIndex(T=>!Wt(T[c.axis]));s-=Math.max(0,S)}s=zn(s,0,i-1)}if(E){let S=Math.max(Kr(h,l.axis,_,!0).hi+1,n?0:Kr(t,p,l.getPixelForValue(_),!0).hi+1);if(d){const T=h.slice(S-1).findIndex(D=>!Wt(D[c.axis]));S+=Math.max(0,T)}r=zn(S,s,i)-s}else r=i-s}return{start:s,count:r}}function OI(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const Lp=e=>e===0||e===1,CA=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ve/n)),DA=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ve/n)+1,rd={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*rn)+1,easeOutSine:e=>Math.sin(e*rn),easeInOutSine:e=>-.5*(Math.cos(pe*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Lp(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Lp(e)?e:CA(e,.075,.3),easeOutElastic:e=>Lp(e)?e:DA(e,.075,.3),easeInOutElastic(e){return Lp(e)?e:e<.5?.5*CA(e*2,.1125,.45):.5+.5*DA(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-rd.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?rd.easeInBounce(e*2)*.5:rd.easeOutBounce(e*2-1)*.5+.5};function Dx(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function MA(e){return Dx(e)?e:new Dd(e)}function Mb(e){return Dx(e)?e:new Dd(e).saturate(.5).darken(.1).hexString()}const L$=["x","y","borderWidth","radius","tension"],j$=["color","borderColor","backgroundColor"];function V$(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:j$},numbers:{type:"number",properties:L$}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function U$(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const IA=new Map;function z$(e,t){t=t||{};const n=e+JSON.stringify(t);let i=IA.get(n);return i||(i=new Intl.NumberFormat(e,t),IA.set(n,i)),i}function tf(e,t,n){return z$(t,n).format(e)}const PI={values(e){return je(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,r=e;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),r=F$(e,n)}const l=Xa(Math.abs(r)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),tf(e,i,h)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(Xa(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?PI.numeric.call(this,e,t,n):""}};function F$(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Ym={formatters:PI};function B$(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ym.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const kl=Object.create(null),q0=Object.create(null);function ad(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];e=e[r]||(e[r]=Object.create(null))}return e}function Ib(e,t,n){return typeof t=="string"?rr(ad(e,t),n):rr(ad(e,""),t)}class q${constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Mb(s.backgroundColor),this.hoverBorderColor=(i,s)=>Mb(s.borderColor),this.hoverColor=(i,s)=>Mb(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Ib(this,t,n)}get(t){return ad(this,t)}describe(t,n){return Ib(q0,t,n)}override(t,n){return Ib(kl,t,n)}route(t,n,i,s){const r=ad(this,t),l=ad(this,i),c="_"+n;Object.defineProperties(r,{[c]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[c],d=l[s];return ne(h)?Object.assign({},d,h):Bt(h,d)},set(h){this[c]=h}}})}apply(t){t.forEach(n=>n(this))}}var Ue=new q$({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[V$,U$,B$]);function $$(e){return!e||Wt(e.size)||Wt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function rm(e,t,n,i,s){let r=t[s];return r||(r=t[s]=e.measureText(s).width,n.push(s)),r>i&&(i=r),i}function H$(e,t,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let l=0;const c=n.length;let h,d,p,y,_;for(h=0;h<c;h++)if(y=n[h],y!=null&&!je(y))l=rm(e,s,r,l,y);else if(je(y))for(d=0,p=y.length;d<p;d++)_=y[d],_!=null&&!je(_)&&(l=rm(e,s,r,l,_));e.restore();const x=r.length/2;if(x>n.length){for(h=0;h<x;h++)delete s[r[h]];r.splice(0,x)}return l}function el(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function OA(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function $0(e,t,n,i){NI(e,t,n,i,null)}function NI(e,t,n,i,s){let r,l,c,h,d,p,y,_;const x=t.pointStyle,E=t.rotation,S=t.radius;let T=(E||0)*T$;if(x&&typeof x=="object"&&(r=x.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(T),e.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),e.restore();return}if(!(isNaN(S)||S<=0)){switch(e.beginPath(),x){default:s?e.ellipse(n,i,s/2,S,0,0,Ve):e.arc(n,i,S,0,Ve),e.closePath();break;case"triangle":p=s?s/2:S,e.moveTo(n+Math.sin(T)*p,i-Math.cos(T)*S),T+=TA,e.lineTo(n+Math.sin(T)*p,i-Math.cos(T)*S),T+=TA,e.lineTo(n+Math.sin(T)*p,i-Math.cos(T)*S),e.closePath();break;case"rectRounded":d=S*.516,h=S-d,l=Math.cos(T+tl)*h,y=Math.cos(T+tl)*(s?s/2-d:h),c=Math.sin(T+tl)*h,_=Math.sin(T+tl)*(s?s/2-d:h),e.arc(n-y,i-c,d,T-pe,T-rn),e.arc(n+_,i-l,d,T-rn,T),e.arc(n+y,i+c,d,T,T+rn),e.arc(n-_,i+l,d,T+rn,T+pe),e.closePath();break;case"rect":if(!E){h=Math.SQRT1_2*S,p=s?s/2:h,e.rect(n-p,i-h,2*p,2*h);break}T+=tl;case"rectRot":y=Math.cos(T)*(s?s/2:S),l=Math.cos(T)*S,c=Math.sin(T)*S,_=Math.sin(T)*(s?s/2:S),e.moveTo(n-y,i-c),e.lineTo(n+_,i-l),e.lineTo(n+y,i+c),e.lineTo(n-_,i+l),e.closePath();break;case"crossRot":T+=tl;case"cross":y=Math.cos(T)*(s?s/2:S),l=Math.cos(T)*S,c=Math.sin(T)*S,_=Math.sin(T)*(s?s/2:S),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"star":y=Math.cos(T)*(s?s/2:S),l=Math.cos(T)*S,c=Math.sin(T)*S,_=Math.sin(T)*(s?s/2:S),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l),T+=tl,y=Math.cos(T)*(s?s/2:S),l=Math.cos(T)*S,c=Math.sin(T)*S,_=Math.sin(T)*(s?s/2:S),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"line":l=s?s/2:Math.cos(T)*S,c=Math.sin(T)*S,e.moveTo(n-l,i-c),e.lineTo(n+l,i+c);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(T)*(s?s/2:S),i+Math.sin(T)*S);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Xr(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Gm(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Km(e){e.restore()}function W$(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Y$(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function G$(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Wt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function K$(e,t,n,i,s){if(s.strikethrough||s.underline){const r=e.measureText(i),l=t-r.actualBoundingBoxLeft,c=t+r.actualBoundingBoxRight,h=n-r.actualBoundingBoxAscent,d=n+r.actualBoundingBoxDescent,p=s.strikethrough?(h+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(l,p),e.lineTo(c,p),e.stroke()}}function X$(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Rl(e,t,n,i,s,r={}){const l=je(t)?t:[t],c=r.strokeWidth>0&&r.strokeColor!=="";let h,d;for(e.save(),e.font=s.string,G$(e,r),h=0;h<l.length;++h)d=l[h],r.backdrop&&X$(e,r.backdrop),c&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),Wt(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(d,n,i,r.maxWidth)),e.fillText(d,n,i,r.maxWidth),K$(e,n,i,d,r),i+=Number(s.lineHeight);e.restore()}function Od(e,t){const{x:n,y:i,w:s,h:r,radius:l}=t;e.arc(n+l.topLeft,i+l.topLeft,l.topLeft,1.5*pe,pe,!0),e.lineTo(n,i+r-l.bottomLeft),e.arc(n+l.bottomLeft,i+r-l.bottomLeft,l.bottomLeft,pe,rn,!0),e.lineTo(n+s-l.bottomRight,i+r),e.arc(n+s-l.bottomRight,i+r-l.bottomRight,l.bottomRight,rn,0,!0),e.lineTo(n+s,i+l.topRight),e.arc(n+s-l.topRight,i+l.topRight,l.topRight,0,-rn,!0),e.lineTo(n+l.topLeft,i)}const Q$=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Z$=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function J$(e,t){const n=(""+e).match(Q$);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const t8=e=>+e||0;function Mx(e,t){const n={},i=ne(t),s=i?Object.keys(t):t,r=ne(e)?i?l=>Bt(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of s)n[l]=t8(r(l));return n}function LI(e){return Mx(e,{top:"y",right:"x",bottom:"y",left:"x"})}function yl(e){return Mx(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Qn(e){const t=LI(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function _n(e,t){e=e||{},t=t||Ue.font;let n=Bt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=Bt(e.style,t.style);i&&!(""+i).match(Z$)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Bt(e.family,t.family),lineHeight:J$(Bt(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:Bt(e.weight,t.weight),string:""};return s.string=$$(s),s}function Le(e,t,n,i){let s,r,l;for(s=0,r=e.length;s<r;++s)if(l=e[s],l!==void 0&&(t!==void 0&&typeof l=="function"&&(l=l(t)),n!==void 0&&je(l)&&(l=l[n%l.length]),l!==void 0))return l}function e8(e,t,n){const{min:i,max:s}=e,r=SI(t,(s-i)/2),l=(c,h)=>n&&c===0?0:c+h;return{min:l(i,-Math.abs(r)),max:l(s,r)}}function wo(e,t){return Object.assign(Object.create(e),t)}function Ix(e,t=[""],n,i,s=()=>e[0]){const r=n||e;typeof i>"u"&&(i=zI("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:i,_getTarget:s,override:c=>Ix([c,...e],t,r,i)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete e[0][h],!0},get(c,h){return VI(c,h,()=>c8(h,t,e,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(c,h){return NA(c).includes(h)},ownKeys(c){return NA(c)},set(c,h,d){const p=c._storage||(c._storage=s());return c[h]=p[h]=d,delete c._keys,!0}})}function su(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:jI(e,i),setContext:r=>su(e,r,n,i),override:r=>su(e.override(r),t,n,i)};return new Proxy(s,{deleteProperty(r,l){return delete r[l],delete e[l],!0},get(r,l,c){return VI(r,l,()=>i8(r,l,c))},getOwnPropertyDescriptor(r,l){return r._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(r,l,c){return e[l]=c,delete r[l],!0}})}function jI(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:mo(n)?n:()=>n,isIndexable:mo(i)?i:()=>i}}const n8=(e,t)=>e?e+Ax(t):t,Ox=(e,t)=>ne(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function VI(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function i8(e,t,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:l}=e;let c=i[t];return mo(c)&&l.isScriptable(t)&&(c=s8(t,c,e,n)),je(c)&&c.length&&(c=r8(t,c,e,l.isIndexable)),Ox(t,c)&&(c=su(c,s,r&&r[t],l)),c}function s8(e,t,n,i){const{_proxy:s,_context:r,_subProxy:l,_stack:c}=n;if(c.has(e))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+e);c.add(e);let h=t(r,l||i);return c.delete(e),Ox(e,h)&&(h=Px(s._scopes,s,e,h)),h}function r8(e,t,n,i){const{_proxy:s,_context:r,_subProxy:l,_descriptors:c}=n;if(typeof r.index<"u"&&i(e))return t[r.index%t.length];if(ne(t[0])){const h=t,d=s._scopes.filter(p=>p!==h);t=[];for(const p of h){const y=Px(d,s,e,p);t.push(su(y,r,l&&l[e],c))}}return t}function UI(e,t,n){return mo(e)?e(t,n):e}const a8=(e,t)=>e===!0?t:typeof e=="string"?go(t,e):void 0;function o8(e,t,n,i,s){for(const r of t){const l=a8(n,r);if(l){e.add(l);const c=UI(l._fallback,n,s);if(typeof c<"u"&&c!==n&&c!==i)return c}else if(l===!1&&typeof i<"u"&&n!==i)return null}return!1}function Px(e,t,n,i){const s=t._rootScopes,r=UI(t._fallback,n,i),l=[...e,...s],c=new Set;c.add(i);let h=PA(c,l,n,r||n,i);return h===null||typeof r<"u"&&r!==n&&(h=PA(c,l,r,h,i),h===null)?!1:Ix(Array.from(c),[""],s,r,()=>l8(t,n,i))}function PA(e,t,n,i,s){for(;n;)n=o8(e,t,n,i,s);return n}function l8(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return je(s)&&ne(n)?n:s||{}}function c8(e,t,n,i){let s;for(const r of t)if(s=zI(n8(r,e),n),typeof s<"u")return Ox(e,s)?Px(n,i,e,s):s}function zI(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function NA(e){let t=e._keys;return t||(t=e._keys=u8(e._scopes)),t}function u8(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function FI(e,t,n,i){const{iScale:s}=e,{key:r="r"}=this._parsing,l=new Array(i);let c,h,d,p;for(c=0,h=i;c<h;++c)d=c+n,p=t[d],l[c]={r:s.parse(go(p,r),d)};return l}const h8=Number.EPSILON||1e-14,ru=(e,t)=>t<e.length&&!e[t].skip&&e[t],BI=e=>e==="x"?"y":"x";function d8(e,t,n,i){const s=e.skip?t:e,r=t,l=n.skip?t:n,c=B0(r,s),h=B0(l,r);let d=c/(c+h),p=h/(c+h);d=isNaN(d)?0:d,p=isNaN(p)?0:p;const y=i*d,_=i*p;return{previous:{x:r.x-y*(l.x-s.x),y:r.y-y*(l.y-s.y)},next:{x:r.x+_*(l.x-s.x),y:r.y+_*(l.y-s.y)}}}function f8(e,t,n){const i=e.length;let s,r,l,c,h,d=ru(e,0);for(let p=0;p<i-1;++p)if(h=d,d=ru(e,p+1),!(!h||!d)){if(sd(t[p],0,h8)){n[p]=n[p+1]=0;continue}s=n[p]/t[p],r=n[p+1]/t[p],c=Math.pow(s,2)+Math.pow(r,2),!(c<=9)&&(l=3/Math.sqrt(c),n[p]=s*l*t[p],n[p+1]=r*l*t[p])}}function p8(e,t,n="x"){const i=BI(n),s=e.length;let r,l,c,h=ru(e,0);for(let d=0;d<s;++d){if(l=c,c=h,h=ru(e,d+1),!c)continue;const p=c[n],y=c[i];l&&(r=(p-l[n])/3,c[`cp1${n}`]=p-r,c[`cp1${i}`]=y-r*t[d]),h&&(r=(h[n]-p)/3,c[`cp2${n}`]=p+r,c[`cp2${i}`]=y+r*t[d])}}function g8(e,t="x"){const n=BI(t),i=e.length,s=Array(i).fill(0),r=Array(i);let l,c,h,d=ru(e,0);for(l=0;l<i;++l)if(c=h,h=d,d=ru(e,l+1),!!h){if(d){const p=d[t]-h[t];s[l]=p!==0?(d[n]-h[n])/p:0}r[l]=c?d?ir(s[l-1])!==ir(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}f8(e,s,r),p8(e,r,t)}function jp(e,t,n){return Math.max(Math.min(e,n),t)}function m8(e,t){let n,i,s,r,l,c=Xr(e[0],t);for(n=0,i=e.length;n<i;++n)l=r,r=c,c=n<i-1&&Xr(e[n+1],t),r&&(s=e[n],l&&(s.cp1x=jp(s.cp1x,t.left,t.right),s.cp1y=jp(s.cp1y,t.top,t.bottom)),c&&(s.cp2x=jp(s.cp2x,t.left,t.right),s.cp2y=jp(s.cp2y,t.top,t.bottom)))}function y8(e,t,n,i,s){let r,l,c,h;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")g8(e,s);else{let d=i?e[e.length-1]:e[0];for(r=0,l=e.length;r<l;++r)c=e[r],h=d8(d,c,e[Math.min(r+1,l-(i?0:1))%l],t.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,d=c}t.capBezierPoints&&m8(e,n)}function Nx(){return typeof window<"u"&&typeof document<"u"}function Lx(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function am(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const Xm=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function _8(e,t){return Xm(e).getPropertyValue(t)}const b8=["top","right","bottom","left"];function _l(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=b8[s];i[r]=parseFloat(e[t+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const v8=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function x8(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:r}=i;let l=!1,c,h;if(v8(s,r,e.target))c=s,h=r;else{const d=t.getBoundingClientRect();c=i.clientX-d.left,h=i.clientY-d.top,l=!0}return{x:c,y:h,box:l}}function ll(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=Xm(n),r=s.boxSizing==="border-box",l=_l(s,"padding"),c=_l(s,"border","width"),{x:h,y:d,box:p}=x8(e,n),y=l.left+(p&&c.left),_=l.top+(p&&c.top);let{width:x,height:E}=t;return r&&(x-=l.width+c.width,E-=l.height+c.height),{x:Math.round((h-y)/x*n.width/i),y:Math.round((d-_)/E*n.height/i)}}function w8(e,t,n){let i,s;if(t===void 0||n===void 0){const r=e&&Lx(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const l=r.getBoundingClientRect(),c=Xm(r),h=_l(c,"border","width"),d=_l(c,"padding");t=l.width-d.width-h.width,n=l.height-d.height-h.height,i=am(c.maxWidth,r,"clientWidth"),s=am(c.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:i||sm,maxHeight:s||sm}}const Vp=e=>Math.round(e*10)/10;function E8(e,t,n,i){const s=Xm(e),r=_l(s,"margin"),l=am(s.maxWidth,e,"clientWidth")||sm,c=am(s.maxHeight,e,"clientHeight")||sm,h=w8(e,t,n);let{width:d,height:p}=h;if(s.boxSizing==="content-box"){const _=_l(s,"border","width"),x=_l(s,"padding");d-=x.width+_.width,p-=x.height+_.height}return d=Math.max(0,d-r.width),p=Math.max(0,i?d/i:p-r.height),d=Vp(Math.min(d,l,h.maxWidth)),p=Vp(Math.min(p,c,h.maxHeight)),d&&!p&&(p=Vp(d/2)),(t!==void 0||n!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,d=Vp(Math.floor(p*i))),{width:d,height:p}}function LA(e,t,n){const i=t||1,s=Math.floor(e.height*i),r=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||l.height!==s||l.width!==r?(e.currentDevicePixelRatio=i,l.height=s,l.width=r,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const S8=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Nx()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function jA(e,t){const n=_8(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function cl(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function T8(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function A8(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},l=cl(e,s,n),c=cl(s,r,n),h=cl(r,t,n),d=cl(l,c,n),p=cl(c,h,n);return cl(d,p,n)}const k8=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},R8=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Fc(e,t,n){return e?k8(t,n):R8()}function qI(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function $I(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function HI(e){return e==="angle"?{between:Id,compare:C$,normalize:ri}:{between:Gr,compare:(t,n)=>t-n,normalize:t=>t}}function VA({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function C8(e,t,n){const{property:i,start:s,end:r}=n,{between:l,normalize:c}=HI(i),h=t.length;let{start:d,end:p,loop:y}=e,_,x;if(y){for(d+=h,p+=h,_=0,x=h;_<x&&l(c(t[d%h][i]),s,r);++_)d--,p--;d%=h,p%=h}return p<d&&(p+=h),{start:d,end:p,loop:y,style:e.style}}function WI(e,t,n){if(!n)return[e];const{property:i,start:s,end:r}=n,l=t.length,{compare:c,between:h,normalize:d}=HI(i),{start:p,end:y,loop:_,style:x}=C8(e,t,n),E=[];let S=!1,T=null,D,M,P;const $=()=>h(s,P,D)&&c(s,P)!==0,N=()=>c(r,D)===0||h(r,P,D),G=()=>S||$(),C=()=>!S||N();for(let k=p,O=p;k<=y;++k)M=t[k%l],!M.skip&&(D=d(M[i]),D!==P&&(S=h(D,s,r),T===null&&G()&&(T=c(D,s)===0?k:O),T!==null&&C()&&(E.push(VA({start:T,end:k,loop:_,count:l,style:x})),T=null),O=k,P=D));return T!==null&&E.push(VA({start:T,end:y,loop:_,count:l,style:x})),E}function YI(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const r=WI(i[s],e.points,t);r.length&&n.push(...r)}return n}function D8(e,t,n,i){let s=0,r=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(r+=s);r>s&&e[r%t].skip;)r--;return r%=t,{start:s,end:r}}function M8(e,t,n,i){const s=e.length,r=[];let l=t,c=e[t],h;for(h=t+1;h<=n;++h){const d=e[h%s];d.skip||d.stop?c.skip||(i=!1,r.push({start:t%s,end:(h-1)%s,loop:i}),t=l=d.stop?h:null):(l=h,c.skip&&(t=h)),c=d}return l!==null&&r.push({start:t%s,end:l%s,loop:i}),r}function I8(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const r=!!e._loop,{start:l,end:c}=D8(n,s,r,i);if(i===!0)return UA(e,[{start:l,end:c,loop:r}],n,t);const h=c<l?c+s:c,d=!!e._fullLoop&&l===0&&c===s-1;return UA(e,M8(n,l,h,d),n,t)}function UA(e,t,n,i){return!i||!i.setContext||!n?t:O8(e,t,n,i)}function O8(e,t,n,i){const s=e._chart.getContext(),r=zA(e.options),{_datasetIndex:l,options:{spanGaps:c}}=e,h=n.length,d=[];let p=r,y=t[0].start,_=y;function x(E,S,T,D){const M=c?-1:1;if(E!==S){for(E+=h;n[E%h].skip;)E-=M;for(;n[S%h].skip;)S+=M;E%h!==S%h&&(d.push({start:E%h,end:S%h,loop:T,style:D}),p=D,y=S%h)}}for(const E of t){y=c?y:E.start;let S=n[y%h],T;for(_=y+1;_<=E.end;_++){const D=n[_%h];T=zA(i.setContext(wo(s,{type:"segment",p0:S,p1:D,p0DataIndex:(_-1)%h,p1DataIndex:_%h,datasetIndex:l}))),P8(T,p)&&x(y,_-1,E.loop,p),S=D,p=T}y<_-1&&x(y,_-1,E.loop,p)}return d}function zA(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function P8(e,t){if(!t)return!1;const n=[],i=function(s,r){return Dx(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(e,i)!==JSON.stringify(t,i)}function Up(e,t,n){return e.options.clip?e[n]:t[n]}function N8(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:Up(n,t,"left"),right:Up(n,t,"right"),top:Up(i,t,"top"),bottom:Up(i,t,"bottom")}:t}function GI(e,t){const n=t._clip;if(n.disabled)return!1;const i=N8(t,e.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class L8{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const r=n.listeners[s],l=n.duration;r.forEach(c=>c({chart:t,initial:n.initial,numSteps:l,currentStep:Math.min(i-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=DI.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let l=r.length-1,c=!1,h;for(;l>=0;--l)h=r[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),c=!0):(r[l]=r[r.length-1],r.pop());c&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var zr=new L8;const FA="transparent",j8={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=MA(e||FA),s=i.valid&&MA(t||FA);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class V8{constructor(t,n,i,s){const r=n[i];s=Le([t.to,s,r,t.from]);const l=Le([t.from,r,s]);this._active=!0,this._fn=t.fn||j8[t.type||typeof l],this._easing=rd[t.easing]||rd.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,l=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Le([t.to,n,s,t.from]),this._from=Le([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,r=this._from,l=this._loop,c=this._to;let h;if(this._active=r!==c&&(l||n<i),!this._active){this._target[s]=c,this._notify(!0);return}if(n<0){this._target[s]=r;return}h=n/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(r,c,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class KI{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ne(t))return;const n=Object.keys(Ue.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!ne(r))return;const l={};for(const c of n)l[c]=r[c];(je(r.properties)&&r.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,l)})})}_animateOptions(t,n){const i=n.options,s=z8(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&U8(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,n){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),l=Object.keys(n),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const d=l[h];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(t,n));continue}const p=n[d];let y=r[d];const _=i.get(d);if(y)if(_&&y.active()){y.update(_,p,c);continue}else y.cancel();if(!_||!_.duration){t[d]=p;continue}r[d]=y=new V8(_,t,d,p),s.push(y)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return zr.add(this._chart,i),!0}}function U8(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=e[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function z8(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function BA(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function F8(e,t,n){if(n===!1)return!1;const i=BA(e,n),s=BA(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function B8(e){let t,n,i,s;return ne(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function XI(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function qA(e,t,n,i={}){const s=e.keys,r=i.mode==="single";let l,c,h,d;if(t===null)return;let p=!1;for(l=0,c=s.length;l<c;++l){if(h=+s[l],h===n){if(p=!0,i.all)continue;break}d=e.values[h],Ze(d)&&(r||t===0||ir(t)===ir(d))&&(t+=d)}return!p&&!i.all?0:t}function q8(e,t){const{iScale:n,vScale:i}=t,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",l=Object.keys(e),c=new Array(l.length);let h,d,p;for(h=0,d=l.length;h<d;++h)p=l[h],c[h]={[s]:p,[r]:e[p]};return c}function Ob(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function $8(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function H8(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function W8(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function $A(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=e[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function HA(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:r,vScale:l,index:c}=i,h=r.axis,d=l.axis,p=$8(r,l,i),y=t.length;let _;for(let x=0;x<y;++x){const E=t[x],{[h]:S,[d]:T}=E,D=E._stacks||(E._stacks={});_=D[d]=W8(s,p,S),_[c]=T,_._top=$A(_,l,!0,i.type),_._bottom=$A(_,l,!1,i.type);const M=_._visualValues||(_._visualValues={});M[c]=T}}function Pb(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function Y8(e,t){return wo(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function G8(e,t,n){return wo(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Rh(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Nb=e=>e==="reset"||e==="none",WA=(e,t)=>t?e:Object.assign({},e),K8=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:XI(n,!0),values:null};class ws{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Ob(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Rh(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(y,_,x,E)=>y==="x"?_:y==="r"?E:x,r=n.xAxisID=Bt(i.xAxisID,Pb(t,"x")),l=n.yAxisID=Bt(i.yAxisID,Pb(t,"y")),c=n.rAxisID=Bt(i.rAxisID,Pb(t,"r")),h=n.indexAxis,d=n.iAxisID=s(h,r,l,c),p=n.vAxisID=s(h,l,r,c);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&RA(this._data,this),t._stacked&&Rh(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(ne(n)){const s=this._cachedMeta;this._data=q8(n,s)}else if(i!==n){if(i){RA(i,this);const s=this._cachedMeta;Rh(s),s._parsed=[]}n&&Object.isExtensible(n)&&O$(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=Ob(n.vScale,n),n.stack!==i.stack&&(s=!0,Rh(n),n.stack=i.stack),this._resyncElements(t),(s||r!==n._stacked)&&(HA(this,n._parsed),n._stacked=Ob(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:l}=i,c=r.axis;let h=t===0&&n===s.length?!0:i._sorted,d=t>0&&i._parsed[t-1],p,y,_;if(this._parsing===!1)i._parsed=s,i._sorted=!0,_=s;else{je(s[t])?_=this.parseArrayData(i,s,t,n):ne(s[t])?_=this.parseObjectData(i,s,t,n):_=this.parsePrimitiveData(i,s,t,n);const x=()=>y[c]===null||d&&y[c]<d[c];for(p=0;p<n;++p)i._parsed[p+t]=y=_[p],h&&(x()&&(h=!1),d=y);i._sorted=h}l&&HA(this,_)}parsePrimitiveData(t,n,i,s){const{iScale:r,vScale:l}=t,c=r.axis,h=l.axis,d=r.getLabels(),p=r===l,y=new Array(s);let _,x,E;for(_=0,x=s;_<x;++_)E=_+i,y[_]={[c]:p||r.parse(d[E],E),[h]:l.parse(n[E],E)};return y}parseArrayData(t,n,i,s){const{xScale:r,yScale:l}=t,c=new Array(s);let h,d,p,y;for(h=0,d=s;h<d;++h)p=h+i,y=n[p],c[h]={x:r.parse(y[0],p),y:l.parse(y[1],p)};return c}parseObjectData(t,n,i,s){const{xScale:r,yScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,d=new Array(s);let p,y,_,x;for(p=0,y=s;p<y;++p)_=p+i,x=n[_],d[p]={x:r.parse(go(x,c),_),y:l.parse(go(x,h),_)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,r=this._cachedMeta,l=n[t.axis],c={keys:XI(s,!0),values:n._stacks[t.axis]._visualValues};return qA(c,l,r.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const r=i[n.axis];let l=r===null?NaN:r;const c=s&&i._stacks[n.axis];s&&c&&(s.values=c,l=qA(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,l=s.length,c=this._getOtherScale(t),h=K8(n,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=H8(c);let _,x;function E(){x=s[_];const S=x[c.axis];return!Ze(x[t.axis])||p>S||y<S}for(_=0;_<l&&!(!E()&&(this.updateRangeFromParsed(d,t,x,h),r));++_);if(r){for(_=l-1;_>=0;--_)if(!E()){this.updateRangeFromParsed(d,t,x,h);break}}return d}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,r,l;for(s=0,r=n.length;s<r;++s)l=n[s][t.axis],Ze(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=B8(Bt(this.options.clip,F8(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,r,c,h),p=c;p<c+h;++p){const y=s[p];y.hidden||(y.active&&d?l.push(y):y.draw(t,r))}for(p=0;p<l.length;++p)l[p].draw(t,r)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];r=l.$context||(l.$context=G8(this.getContext(),t,l)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=Y8(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",r=this._cachedDataOpts,l=t+"-"+n,c=r[l],h=this.enableOptionSharing&&Md(i);if(c)return WA(c,h);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,t),y=s?[`${t}Hover`,"hover",t,""]:[t,""],_=d.getOptionScopes(this.getDataset(),p),x=Object.keys(Ue.elements[t]),E=()=>this.getContext(i,s,n),S=d.resolveNamedOptions(_,x,E,y);return S.$shared&&(S.$shared=h,r[l]=Object.freeze(WA(S,h))),S}_resolveAnimations(t,n,i){const s=this.chart,r=this._cachedDataOpts,l=`animation-${n}`,c=r[l];if(c)return c;let h;if(s.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,n),_=p.getOptionScopes(this.getDataset(),y);h=p.createResolver(_,this.getContext(t,i,n))}const d=new KI(s,h&&h.animations);return h&&h._cacheable&&(r[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Nb(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,r=this.getSharedOptions(i),l=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:l}}updateElement(t,n,i,s){Nb(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!Nb(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[c,h,d]of this._syncList)this[c](h,d);this._syncList=[];const s=i.length,r=n.length,l=Math.min(r,s);l&&this.parse(0,l),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,n,i=!0){const s=this._cachedMeta,r=s.data,l=t+n;let c;const h=d=>{for(d.length+=n,c=d.length-1;c>=l;c--)d[c]=d[c-n]};for(h(r),c=t;c<l;++c)r[c]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(t,n),i&&this.updateElements(r,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&Rh(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}wt(ws,"defaults",{}),wt(ws,"datasetElementType",null),wt(ws,"dataElementType",null);function X8(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=CI(i.sort((s,r)=>s-r))}return e._cache.$bar}function Q8(e){const t=e.iScale,n=X8(t,e.type);let i=t._length,s,r,l,c;const h=()=>{l===32767||l===-32768||(Md(c)&&(i=Math.min(i,Math.abs(l-c)||i)),c=l)};for(s=0,r=n.length;s<r;++s)l=t.getPixelForValue(n[s]),h();for(c=void 0,s=0,r=t.ticks.length;s<r;++s)l=t.getPixelForTick(s),h();return i}function Z8(e,t,n,i){const s=n.barThickness;let r,l;return Wt(s)?(r=t.min*n.categoryPercentage,l=n.barPercentage):(r=s*i,l=1),{chunk:r/i,ratio:l,start:t.pixels[e]-r/2}}function J8(e,t,n,i){const s=t.pixels,r=s[e];let l=e>0?s[e-1]:null,c=e<s.length-1?s[e+1]:null;const h=n.categoryPercentage;l===null&&(l=r-(c===null?t.end-t.start:c-r)),c===null&&(c=r+r-l);const d=r-(r-Math.min(l,c))/2*h;return{chunk:Math.abs(c-l)/2*h/i,ratio:n.barPercentage,start:d}}function tH(e,t,n,i){const s=n.parse(e[0],i),r=n.parse(e[1],i),l=Math.min(s,r),c=Math.max(s,r);let h=l,d=c;Math.abs(l)>Math.abs(c)&&(h=c,d=l),t[n.axis]=d,t._custom={barStart:h,barEnd:d,start:s,end:r,min:l,max:c}}function QI(e,t,n,i){return je(e)?tH(e,t,n,i):t[n.axis]=n.parse(e,i),t}function YA(e,t,n,i){const s=e.iScale,r=e.vScale,l=s.getLabels(),c=s===r,h=[];let d,p,y,_;for(d=n,p=n+i;d<p;++d)_=t[d],y={},y[s.axis]=c||s.parse(l[d],d),h.push(QI(_,y,r,d));return h}function Lb(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function eH(e,t,n){return e!==0?ir(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function nH(e){let t,n,i,s,r;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:t,top:s,bottom:r}}function iH(e,t,n,i){let s=t.borderSkipped;const r={};if(!s){e.borderSkipped=r;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:h,top:d,bottom:p}=nH(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=d:(n._bottom||0)===i?s=p:(r[GA(p,l,c,h)]=!0,s=d)),r[GA(s,l,c,h)]=!0,e.borderSkipped=r}function GA(e,t,n,i){return i?(e=sH(e,t,n),e=KA(e,n,t)):e=KA(e,t,n),e}function sH(e,t,n){return e===t?n:e===n?t:e}function KA(e,t,n){return e==="start"?t:e==="end"?n:e}function rH(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Eg extends ws{parsePrimitiveData(t,n,i,s){return YA(t,n,i,s)}parseArrayData(t,n,i,s){return YA(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:r,vScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,d=r.axis==="x"?c:h,p=l.axis==="x"?c:h,y=[];let _,x,E,S;for(_=i,x=i+s;_<x;++_)S=n[_],E={},E[r.axis]=r.parse(go(S,d),_),y.push(QI(go(S,p),E,l,_));return y}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(t),l=r._custom,c=Lb(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const r=s==="reset",{index:l,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),d=c.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:_}=this._getSharedOptions(n,s);for(let x=n;x<n+i;x++){const E=this.getParsed(x),S=r||Wt(E[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(x),T=this._calculateBarIndexPixels(x,p),D=(E._stacks||{})[c.axis],M={horizontal:d,base:S.base,enableBorderRadius:!D||Lb(E._custom)||l===D._top||l===D._bottom,x:d?S.head:T.center,y:d?T.center:S.head,height:d?T.size:Math.abs(S.size),width:d?Math.abs(S.size):T.size};_&&(M.options=y||this.resolveDataElementOptions(x,t[x].active?"active":s));const P=M.options||t[x].options;iH(M,P,D,l),rH(M,P,p.ratio),this.updateElement(t[x],x,M,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),r=i.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(n),h=c&&c[i.axis],d=p=>{const y=p._parsed.find(x=>x[i.axis]===h),_=y&&y[p.vScale.axis];if(Wt(_)||isNaN(_))return!0};for(const p of s)if(!(n!==void 0&&d(p))&&((r===!1||l.indexOf(p.stack)===-1||r===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Bt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,i){const s=this._getStacks(t,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,l;for(r=0,l=n.data.length;r<l;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const c=t.barThickness;return{min:c||Q8(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:l}}=this,c=r||0,h=this.getParsed(t),d=h._custom,p=Lb(d);let y=h[n.axis],_=0,x=i?this.applyStack(n,h,i):y,E,S;x!==y&&(_=x-y,x=y),p&&(y=d.barStart,x=d.barEnd-d.barStart,y!==0&&ir(y)!==ir(d.barEnd)&&(_=0),_+=y);const T=!Wt(r)&&!p?r:_;let D=n.getPixelForValue(T);if(this.chart.getDataVisibility(t)?E=n.getPixelForValue(_+x):E=D,S=E-D,Math.abs(S)<l){S=eH(S,n,c)*l,y===c&&(D-=S/2);const M=n.getPixelForDecimal(0),P=n.getPixelForDecimal(1),$=Math.min(M,P),N=Math.max(M,P);D=Math.max(Math.min(D,N),$),E=D+S,i&&!p&&(h._stacks[n.axis]._visualValues[s]=n.getValueForPixel(E)-n.getValueForPixel(D))}if(D===n.getPixelForValue(c)){const M=ir(S)*n.getLineWidthForValue(c)/2;D+=M,S-=M}return{size:S,base:D,head:E,center:E+S/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,r=s.skipNull,l=Bt(s.maxBarThickness,1/0);let c,h;const d=this._getAxisCount();if(n.grouped){const p=r?this._getStackCount(t):n.stackCount,y=s.barThickness==="flex"?J8(t,n,s,p*d):Z8(t,n,s,p*d),_=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(Bt(_,this.getFirstScaleIdForIndexAxis())),E=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0)+x;c=y.start+y.chunk*E+y.chunk/2,h=Math.min(l,y.chunk*y.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(l,n.min*n.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}wt(Eg,"id","bar"),wt(Eg,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),wt(Eg,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Sg extends ws{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,s){const r=super.parsePrimitiveData(t,n,i,s);for(let l=0;l<r.length;l++)r[l]._custom=this.resolveDataElementOptions(l+i).radius;return r}parseArrayData(t,n,i,s){const r=super.parseArrayData(t,n,i,s);for(let l=0;l<r.length;l++){const c=n[i+l];r[l]._custom=Bt(c[2],this.resolveDataElementOptions(l+i).radius)}return r}parseObjectData(t,n,i,s){const r=super.parseObjectData(t,n,i,s);for(let l=0;l<r.length;l++){const c=n[i+l];r[l]._custom=Bt(c&&c.r&&+c.r,this.resolveDataElementOptions(l+i).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,l=this.getParsed(t),c=s.getLabelForValue(l.x),h=r.getLabelForValue(l.y),d=l._custom;return{label:i[t]||"",value:"("+c+", "+h+(d?", "+d:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:l,vScale:c}=this._cachedMeta,{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,s),p=l.axis,y=c.axis;for(let _=n;_<n+i;_++){const x=t[_],E=!r&&this.getParsed(_),S={},T=S[p]=r?l.getPixelForDecimal(.5):l.getPixelForValue(E[p]),D=S[y]=r?c.getBasePixel():c.getPixelForValue(E[y]);S.skip=isNaN(T)||isNaN(D),d&&(S.options=h||this.resolveDataElementOptions(_,x.active?"active":s),r&&(S.options.radius=0)),this.updateElement(x,_,S,s)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=Bt(i&&i._custom,r),s}}wt(Sg,"id","bubble"),wt(Sg,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),wt(Sg,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function aH(e,t,n){let i=1,s=1,r=0,l=0;if(t<Ve){const c=e,h=c+t,d=Math.cos(c),p=Math.sin(c),y=Math.cos(h),_=Math.sin(h),x=(P,$,N)=>Id(P,c,h,!0)?1:Math.max($,$*n,N,N*n),E=(P,$,N)=>Id(P,c,h,!0)?-1:Math.min($,$*n,N,N*n),S=x(0,d,y),T=x(rn,p,_),D=E(pe,d,y),M=E(pe+rn,p,_);i=(S-D)/2,s=(T-M)/2,r=-(S+D)/2,l=-(T+M)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:l}}class fl extends ws{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=h=>+i[h];if(ne(i[t])){const{key:h="value"}=this._parsing;r=d=>+go(i[d],h)}let l,c;for(l=t,c=t+n;l<c;++l)s._parsed[l]=r(l)}}_getRotation(){return bs(this.options.rotation-90)}_getCircumference(){return bs(this.options.circumference)}_getRotationExtents(){let t=Ve,n=-Ve;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),l=s._getCircumference();t=Math.min(t,r),n=Math.max(n,r+l)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(_$(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:p,rotation:y}=this._getRotationExtents(),{ratioX:_,ratioY:x,offsetX:E,offsetY:S}=aH(y,p,h),T=(i.width-l)/_,D=(i.height-l)/x,M=Math.max(Math.min(T,D)/2,0),P=SI(this.options.radius,M),$=Math.max(P*h,0),N=(P-$)/this._getVisibleDatasetWeightTotal();this.offsetX=E*P,this.offsetY=S*P,s.total=this.calculateTotal(),this.outerRadius=P-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*d,0),this.updateElements(r,0,r.length,t)}_circumference(t,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*r/Ve)}updateElements(t,n,i,s){const r=s==="reset",l=this.chart,c=l.chartArea,d=l.options.animation,p=(c.left+c.right)/2,y=(c.top+c.bottom)/2,_=r&&d.animateScale,x=_?0:this.innerRadius,E=_?0:this.outerRadius,{sharedOptions:S,includeOptions:T}=this._getSharedOptions(n,s);let D=this._getRotation(),M;for(M=0;M<n;++M)D+=this._circumference(M,r);for(M=n;M<n+i;++M){const P=this._circumference(M,r),$=t[M],N={x:p+this.offsetX,y:y+this.offsetY,startAngle:D,endAngle:D+P,circumference:P,outerRadius:E,innerRadius:x};T&&(N.options=S||this.resolveDataElementOptions(M,$.active?"active":s)),D+=P,this.updateElement($,M,N,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,s;for(s=0;s<n.length;s++){const r=t._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Ve*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=tf(n._parsed[t],i.options.locale);return{label:s[t]||"",value:r}}getMaxBorderWidth(t){let n=0;const i=this.chart;let s,r,l,c,h;if(!t){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){l=i.getDatasetMeta(s),t=l.data,c=l.controller;break}}if(!t)return 0;for(s=0,r=t.length;s<r;++s)h=c.resolveDataElementOptions(s),h.borderAlign!=="inner"&&(n=Math.max(n,h.borderWidth||0,h.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,s=t.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(Bt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}wt(fl,"id","doughnut"),wt(fl,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),wt(fl,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),wt(fl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:r,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Tg extends ws{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,l=this.chart._animationsDisabled;let{start:c,count:h}=II(n,s,l);this._drawStart=c,this._drawCount=h,OI(n)&&(c=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:d},t),this.updateElements(s,c,h,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:d}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(n,s),_=l.axis,x=c.axis,{spanGaps:E,segment:S}=this.options,T=iu(E)?E:Number.POSITIVE_INFINITY,D=this.chart._animationsDisabled||r||s==="none",M=n+i,P=t.length;let $=n>0&&this.getParsed(n-1);for(let N=0;N<P;++N){const G=t[N],C=D?G:{};if(N<n||N>=M){C.skip=!0;continue}const k=this.getParsed(N),O=Wt(k[x]),V=C[_]=l.getPixelForValue(k[_],N),F=C[x]=r||O?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,k,h):k[x],N);C.skip=isNaN(V)||isNaN(F)||O,C.stop=N>0&&Math.abs(k[_]-$[_])>T,S&&(C.parsed=k,C.raw=d.data[N]),y&&(C.options=p||this.resolveDataElementOptions(N,G.active?"active":s)),D||this.updateElement(G,N,C,s),$=k}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}wt(Tg,"id","line"),wt(Tg,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),wt(Tg,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class od extends ws{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=tf(n._parsed[t].r,i.options.locale);return{label:s[t]||"",value:r}}parseObjectData(t,n,i,s){return FI.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),l=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),c=(r-l)/t.getVisibleDatasetCount();this.outerRadius=r-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,n,i,s){const r=s==="reset",l=this.chart,h=l.options.animation,d=this._cachedMeta.rScale,p=d.xCenter,y=d.yCenter,_=d.getIndexAngle(0)-.5*pe;let x=_,E;const S=360/this.countVisibleElements();for(E=0;E<n;++E)x+=this._computeAngle(E,s,S);for(E=n;E<n+i;E++){const T=t[E];let D=x,M=x+this._computeAngle(E,s,S),P=l.getDataVisibility(E)?d.getDistanceFromCenterForValue(this.getParsed(E).r):0;x=M,r&&(h.animateScale&&(P=0),h.animateRotate&&(D=M=_));const $={x:p,y,innerRadius:0,outerRadius:P,startAngle:D,endAngle:M,options:this.resolveDataElementOptions(E,T.active?"active":s)};this.updateElement(T,E,$,s)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?bs(this.resolveDataElementOptions(t,n).angle||i):0}}wt(od,"id","polarArea"),wt(od,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),wt(od,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:r,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class H0 extends fl{}wt(H0,"id","pie"),wt(H0,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ag extends ws{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,s){return FI.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const c={_loop:!0,_fullLoop:r.length===s.length,options:l};this.updateElement(i,void 0,c,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,i,s){const r=this._cachedMeta.rScale,l=s==="reset";for(let c=n;c<n+i;c++){const h=t[c],d=this.resolveDataElementOptions(c,h.active?"active":s),p=r.getPointPositionForValue(c,this.getParsed(c).r),y=l?r.xCenter:p.x,_=l?r.yCenter:p.y,x={x:y,y:_,angle:p.angle,skip:isNaN(y)||isNaN(_),options:d};this.updateElement(h,c,x,s)}}}wt(Ag,"id","radar"),wt(Ag,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),wt(Ag,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class kg extends ws{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,l=this.getParsed(t),c=s.getLabelForValue(l.x),h=r.getLabelForValue(l.y);return{label:i[t]||"",value:"("+c+", "+h+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:l}=II(n,i,s);if(this._drawStart=r,this._drawCount=l,OI(n)&&(r=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:h}=n;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!h._decimated,c.points=i;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:d},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,r,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,s){const r=s==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:d}=this._cachedMeta,p=this.resolveDataElementOptions(n,s),y=this.getSharedOptions(p),_=this.includeOptions(s,y),x=l.axis,E=c.axis,{spanGaps:S,segment:T}=this.options,D=iu(S)?S:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||r||s==="none";let P=n>0&&this.getParsed(n-1);for(let $=n;$<n+i;++$){const N=t[$],G=this.getParsed($),C=M?N:{},k=Wt(G[E]),O=C[x]=l.getPixelForValue(G[x],$),V=C[E]=r||k?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,G,h):G[E],$);C.skip=isNaN(O)||isNaN(V)||k,C.stop=$>0&&Math.abs(G[x]-P[x])>D,T&&(C.parsed=G,C.raw=d.data[$]),_&&(C.options=y||this.resolveDataElementOptions($,N.active?"active":s)),M||this.updateElement(N,$,C,s),P=G}this.updateSharedOptions(y,s,p)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let c=0;for(let h=n.length-1;h>=0;--h)c=Math.max(c,n[h].size(this.resolveDataElementOptions(h))/2);return c>0&&c}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,l)/2}}wt(kg,"id","scatter"),wt(kg,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),wt(kg,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var oH=Object.freeze({__proto__:null,BarController:Eg,BubbleController:Sg,DoughnutController:fl,LineController:Tg,PieController:H0,PolarAreaController:od,RadarController:Ag,ScatterController:kg});function nl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class jx{constructor(t){wt(this,"options");this.options=t||{}}static override(t){Object.assign(jx.prototype,t)}init(){}formats(){return nl()}parse(){return nl()}format(){return nl()}add(){return nl()}diff(){return nl()}startOf(){return nl()}endOf(){return nl()}}var lH={_date:jx};function cH(e,t,n,i){const{controller:s,data:r,_sorted:l}=e,c=s._cachedMeta.iScale,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&l&&r.length){const d=c._reversePixels?M$:Kr;if(i){if(s._sharedOptions){const p=r[0],y=typeof p.getRange=="function"&&p.getRange(t);if(y){const _=d(r,t,n-y),x=d(r,t,n+y);return{lo:_.lo,hi:x.hi}}}}else{const p=d(r,t,n);if(h){const{vScale:y}=s._cachedMeta,{_parsed:_}=e,x=_.slice(0,p.lo+1).reverse().findIndex(S=>!Wt(S[y.axis]));p.lo-=Math.max(0,x);const E=_.slice(p.hi).findIndex(S=>!Wt(S[y.axis]));p.hi+=Math.max(0,E)}return p}}return{lo:0,hi:r.length-1}}function Qm(e,t,n,i,s){const r=e.getSortedVisibleDatasetMetas(),l=n[t];for(let c=0,h=r.length;c<h;++c){const{index:d,data:p}=r[c],{lo:y,hi:_}=cH(r[c],t,l,s);for(let x=y;x<=_;++x){const E=p[x];E.skip||i(E,d,x)}}}function uH(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const r=t?Math.abs(i.x-s.x):0,l=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(l,2))}}function jb(e,t,n,i,s){const r=[];return!s&&!e.isPointInArea(t)||Qm(e,n,t,function(c,h,d){!s&&!Xr(c,e.chartArea,0)||c.inRange(t.x,t.y,i)&&r.push({element:c,datasetIndex:h,index:d})},!0),r}function hH(e,t,n,i){let s=[];function r(l,c,h){const{startAngle:d,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:y}=kI(l,{x:t.x,y:t.y});Id(y,d,p)&&s.push({element:l,datasetIndex:c,index:h})}return Qm(e,n,t,r),s}function dH(e,t,n,i,s,r){let l=[];const c=uH(n);let h=Number.POSITIVE_INFINITY;function d(p,y,_){const x=p.inRange(t.x,t.y,s);if(i&&!x)return;const E=p.getCenterPoint(s);if(!(!!r||e.isPointInArea(E))&&!x)return;const T=c(t,E);T<h?(l=[{element:p,datasetIndex:y,index:_}],h=T):T===h&&l.push({element:p,datasetIndex:y,index:_})}return Qm(e,n,t,d),l}function Vb(e,t,n,i,s,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!i?hH(e,t,n,s):dH(e,t,n,i,s,r)}function XA(e,t,n,i,s){const r=[],l=n==="x"?"inXRange":"inYRange";let c=!1;return Qm(e,n,t,(h,d,p)=>{h[l]&&h[l](t[n],s)&&(r.push({element:h,datasetIndex:d,index:p}),c=c||h.inRange(t.x,t.y,s))}),i&&!c?[]:r}var fH={modes:{index(e,t,n,i){const s=ll(t,e),r=n.axis||"x",l=n.includeInvisible||!1,c=n.intersect?jb(e,s,r,i,l):Vb(e,s,r,!1,i,l),h=[];return c.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const p=c[0].index,y=d.data[p];y&&!y.skip&&h.push({element:y,datasetIndex:d.index,index:p})}),h):[]},dataset(e,t,n,i){const s=ll(t,e),r=n.axis||"xy",l=n.includeInvisible||!1;let c=n.intersect?jb(e,s,r,i,l):Vb(e,s,r,!1,i,l);if(c.length>0){const h=c[0].datasetIndex,d=e.getDatasetMeta(h).data;c=[];for(let p=0;p<d.length;++p)c.push({element:d[p],datasetIndex:h,index:p})}return c},point(e,t,n,i){const s=ll(t,e),r=n.axis||"xy",l=n.includeInvisible||!1;return jb(e,s,r,i,l)},nearest(e,t,n,i){const s=ll(t,e),r=n.axis||"xy",l=n.includeInvisible||!1;return Vb(e,s,r,n.intersect,i,l)},x(e,t,n,i){const s=ll(t,e);return XA(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=ll(t,e);return XA(e,s,"y",n.intersect,i)}}};const ZI=["left","top","right","bottom"];function Ch(e,t){return e.filter(n=>n.pos===t)}function QA(e,t){return e.filter(n=>ZI.indexOf(n.pos)===-1&&n.box.axis===t)}function Dh(e,t){return e.sort((n,i)=>{const s=t?i:n,r=t?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function pH(e){const t=[];let n,i,s,r,l,c;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:r,options:{stack:l,stackWeight:c=1}}=s,t.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&r+l,stackWeight:c});return t}function gH(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!ZI.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=r}return t}function mH(e,t){const n=gH(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,l,c;for(r=0,l=e.length;r<l;++r){c=e[r];const{fullSize:h}=c.box,d=n[c.stack],p=d&&c.stackWeight/d.weight;c.horizontal?(c.width=p?p*i:h&&t.availableWidth,c.height=s):(c.width=i,c.height=p?p*s:h&&t.availableHeight)}return n}function yH(e){const t=pH(e),n=Dh(t.filter(d=>d.box.fullSize),!0),i=Dh(Ch(t,"left"),!0),s=Dh(Ch(t,"right")),r=Dh(Ch(t,"top"),!0),l=Dh(Ch(t,"bottom")),c=QA(t,"x"),h=QA(t,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(h).concat(l).concat(c),chartArea:Ch(t,"chartArea"),vertical:i.concat(s).concat(h),horizontal:r.concat(l).concat(c)}}function ZA(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function JI(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function _H(e,t,n,i){const{pos:s,box:r}=n,l=e.maxPadding;if(!ne(s)){n.size&&(e[s]-=n.size);const y=i[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?r.height:r.width),n.size=y.size/y.count,e[s]+=n.size}r.getPadding&&JI(l,r.getPadding());const c=Math.max(0,t.outerWidth-ZA(l,e,"left","right")),h=Math.max(0,t.outerHeight-ZA(l,e,"top","bottom")),d=c!==e.w,p=h!==e.h;return e.w=c,e.h=h,n.horizontal?{same:d,other:p}:{same:p,other:d}}function bH(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function vH(e,t){const n=t.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{r[l]=Math.max(t[l],n[l])}),r}return i(e?["left","right"]:["top","bottom"])}function Wh(e,t,n,i){const s=[];let r,l,c,h,d,p;for(r=0,l=e.length,d=0;r<l;++r){c=e[r],h=c.box,h.update(c.width||t.w,c.height||t.h,vH(c.horizontal,t));const{same:y,other:_}=_H(t,n,c,i);d|=y&&s.length,p=p||_,h.fullSize||s.push(c)}return d&&Wh(s,t,n,i)||p}function zp(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function JA(e,t,n,i){const s=n.padding;let{x:r,y:l}=t;for(const c of e){const h=c.box,d=i[c.stack]||{placed:0,weight:1},p=c.stackWeight/d.weight||1;if(c.horizontal){const y=t.w*p,_=d.size||h.height;Md(d.start)&&(l=d.start),h.fullSize?zp(h,s.left,l,n.outerWidth-s.right-s.left,_):zp(h,t.left+d.placed,l,y,_),d.start=l,d.placed+=y,l=h.bottom}else{const y=t.h*p,_=d.size||h.width;Md(d.start)&&(r=d.start),h.fullSize?zp(h,r,s.top,_,n.outerHeight-s.bottom-s.top):zp(h,r,t.top+d.placed,_,y),d.start=r,d.placed+=y,r=h.right}}t.x=r,t.y=l}var oi={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=Qn(e.options.layout.padding),r=Math.max(t-s.width,0),l=Math.max(n-s.height,0),c=yH(e.boxes),h=c.vertical,d=c.horizontal;be(e.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const p=h.reduce((S,T)=>T.box.options&&T.box.options.display===!1?S:S+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:r,availableHeight:l,vBoxMaxWidth:r/2/p,hBoxMaxHeight:l/2}),_=Object.assign({},s);JI(_,Qn(i));const x=Object.assign({maxPadding:_,w:r,h:l,x:s.left,y:s.top},s),E=mH(h.concat(d),y);Wh(c.fullSize,x,y,E),Wh(h,x,y,E),Wh(d,x,y,E)&&Wh(h,x,y,E),bH(x),JA(c.leftAndTop,x,y,E),x.x+=x.w,x.y+=x.h,JA(c.rightAndBottom,x,y,E),e.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},be(c.chartArea,S=>{const T=S.box;Object.assign(T,e.chartArea),T.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class tO{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class xH extends tO{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Rg="$chartjs",wH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},tk=e=>e===null||e==="";function EH(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[Rg]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",tk(s)){const r=jA(e,"width");r!==void 0&&(e.width=r)}if(tk(i))if(e.style.height==="")e.height=e.width/(t||2);else{const r=jA(e,"height");r!==void 0&&(e.height=r)}return e}const eO=S8?{passive:!0}:!1;function SH(e,t,n){e&&e.addEventListener(t,n,eO)}function TH(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,eO)}function AH(e,t){const n=wH[e.type]||e.type,{x:i,y:s}=ll(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function om(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function kH(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let l=!1;for(const c of r)l=l||om(c.addedNodes,i),l=l&&!om(c.removedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function RH(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let l=!1;for(const c of r)l=l||om(c.removedNodes,i),l=l&&!om(c.addedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Pd=new Map;let ek=0;function nO(){const e=window.devicePixelRatio;e!==ek&&(ek=e,Pd.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function CH(e,t){Pd.size||window.addEventListener("resize",nO),Pd.set(e,t)}function DH(e){Pd.delete(e),Pd.size||window.removeEventListener("resize",nO)}function MH(e,t,n){const i=e.canvas,s=i&&Lx(i);if(!s)return;const r=MI((c,h)=>{const d=s.clientWidth;n(c,h),d<s.clientWidth&&n()},window),l=new ResizeObserver(c=>{const h=c[0],d=h.contentRect.width,p=h.contentRect.height;d===0&&p===0||r(d,p)});return l.observe(s),CH(e,r),l}function Ub(e,t,n){n&&n.disconnect(),t==="resize"&&DH(e)}function IH(e,t,n){const i=e.canvas,s=MI(r=>{e.ctx!==null&&n(AH(r,e))},e);return SH(i,t,s),s}class OH extends tO{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(EH(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Rg])return!1;const i=n[Rg].initial;["height","width"].forEach(r=>{const l=i[r];Wt(l)?n.removeAttribute(r):n.setAttribute(r,l)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[Rg],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),l={attach:kH,detach:RH,resize:MH}[n]||IH;s[n]=l(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:Ub,detach:Ub,resize:Ub}[n]||TH)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return E8(t,n,i,s)}isAttached(t){const n=t&&Lx(t);return!!(n&&n.isConnected)}}function PH(e){return!Nx()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?xH:OH}class Ss{constructor(){wt(this,"x");wt(this,"y");wt(this,"active",!1);wt(this,"options");wt(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return iu(this.x)&&iu(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}wt(Ss,"defaults",{}),wt(Ss,"defaultRoutes");function NH(e,t){const n=e.options.ticks,i=LH(e),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?VH(t):[],l=r.length,c=r[0],h=r[l-1],d=[];if(l>s)return UH(t,d,r,l/s),d;const p=jH(r,t,s);if(l>0){let y,_;const x=l>1?Math.round((h-c)/(l-1)):null;for(Fp(t,d,p,Wt(x)?0:c-x,c),y=0,_=l-1;y<_;y++)Fp(t,d,p,r[y],r[y+1]);return Fp(t,d,p,h,Wt(x)?t.length:h+x),d}return Fp(t,d,p),d}function LH(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function jH(e,t,n){const i=zH(e),s=t.length/n;if(!i)return Math.max(s,1);const r=A$(i);for(let l=0,c=r.length-1;l<c;l++){const h=r[l];if(h>s)return h}return Math.max(s,1)}function VH(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function UH(e,t,n,i){let s=0,r=n[0],l;for(i=Math.ceil(i),l=0;l<e.length;l++)l===r&&(t.push(e[l]),s++,r=n[s*i])}function Fp(e,t,n,i,s){const r=Bt(i,0),l=Math.min(Bt(s,e.length),e.length);let c=0,h,d,p;for(n=Math.ceil(n),s&&(h=s-i,n=h/Math.floor(h/n)),p=r;p<0;)c++,p=Math.round(r+c*n);for(d=Math.max(r,0);d<l;d++)d===p&&(t.push(e[d]),c++,p=Math.round(r+c*n))}function zH(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const FH=e=>e==="left"?"right":e==="right"?"left":e,nk=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,ik=(e,t)=>Math.min(t||e,e);function sk(e,t){const n=[],i=e.length/t,s=e.length;let r=0;for(;r<s;r+=i)n.push(e[Math.floor(r)]);return n}function BH(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),r=e._startPixel,l=e._endPixel,c=1e-6;let h=e.getPixelForTick(s),d;if(!(n&&(i===1?d=Math.max(h-r,l-h):t===0?d=(e.getPixelForTick(1)-h)/2:d=(h-e.getPixelForTick(s-1))/2,h+=s<t?d:-d,h<r-c||h>l+c)))return h}function qH(e,t){be(e,n=>{const i=n.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function Mh(e){return e.drawTicks?e.tickLength:0}function rk(e,t){if(!e.display)return 0;const n=_n(e.font,t),i=Qn(e.padding);return(je(e.text)?e.text.length:1)*n.lineHeight+i.height}function $H(e,t){return wo(e,{scale:t,type:"scale"})}function HH(e,t,n){return wo(e,{tick:n,index:t,type:"tick"})}function WH(e,t,n){let i=Cx(e);return(n&&t!=="right"||!n&&t==="right")&&(i=FH(i)),i}function YH(e,t,n,i){const{top:s,left:r,bottom:l,right:c,chart:h}=e,{chartArea:d,scales:p}=h;let y=0,_,x,E;const S=l-s,T=c-r;if(e.isHorizontal()){if(x=ni(i,r,c),ne(n)){const D=Object.keys(n)[0],M=n[D];E=p[D].getPixelForValue(M)+S-t}else n==="center"?E=(d.bottom+d.top)/2+S-t:E=nk(e,n,t);_=c-r}else{if(ne(n)){const D=Object.keys(n)[0],M=n[D];x=p[D].getPixelForValue(M)-T+t}else n==="center"?x=(d.left+d.right)/2-T+t:x=nk(e,n,t);E=ni(i,l,s),y=n==="left"?-rn:rn}return{titleX:x,titleY:E,maxWidth:_,rotation:y}}class Ol extends Ss{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=ji(t,Number.POSITIVE_INFINITY),n=ji(n,Number.NEGATIVE_INFINITY),i=ji(i,Number.POSITIVE_INFINITY),s=ji(s,Number.NEGATIVE_INFINITY),{min:ji(t,i),max:ji(n,s),minDefined:Ze(t),maxDefined:Ze(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),l;if(s&&r)return{min:n,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,d=c.length;h<d;++h)l=c[h].controller.getMinMax(this,t),s||(n=Math.min(n,l.min)),r||(i=Math.max(i,l.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:ji(n,ji(i,n)),max:ji(i,ji(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ce(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:r,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=e8(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?sk(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=NH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ce(this.options.afterUpdate,[this])}beforeSetDimensions(){Ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ce(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ce(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=Ce(n.callback,[r.value,i,t],this)}afterTickToLabelConversion(){Ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=ik(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let l=s,c,h,d;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),y=p.widest.width,_=p.highest.height,x=zn(this.chart.width-y,0,this.maxWidth);c=t.offset?this.maxWidth/i:x/(i-1),y+6>c&&(c=x/(i-(t.offset?.5:1)),h=this.maxHeight-Mh(t.grid)-n.padding-rk(t.title,this.chart.options.font),d=Math.sqrt(y*y+_*_),l=kx(Math.min(Math.asin(zn((p.highest.height+6)/c,-1,1)),Math.asin(zn(h/d,-1,1))-Math.asin(zn(_/d,-1,1)))),l=Math.max(s,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ce(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=rk(s,n.options.font);if(c?(t.width=this.maxWidth,t.height=Mh(r)+h):(t.height=this.maxHeight,t.width=Mh(r)+h),i.display&&this.ticks.length){const{first:d,last:p,widest:y,highest:_}=this._getLabelSizes(),x=i.padding*2,E=bs(this.labelRotation),S=Math.cos(E),T=Math.sin(E);if(c){const D=i.mirror?0:T*y.width+S*_.height;t.height=Math.min(this.maxHeight,t.height+D+x)}else{const D=i.mirror?0:S*y.width+T*_.height;t.width=Math.min(this.maxWidth,t.width+D+x)}this._calculatePadding(d,p,T,S)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:r,padding:l},position:c}=this.options,h=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,x=0;h?d?(_=s*t.width,x=i*n.height):(_=i*t.height,x=s*n.width):r==="start"?x=n.width:r==="end"?_=t.width:r!=="inner"&&(_=t.width/2,x=n.width/2),this.paddingLeft=Math.max((_-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((x-y+l)*this.width/(this.width-y),0)}else{let p=n.height/2,y=t.height/2;r==="start"?(p=0,y=t.height):r==="end"&&(p=n.height,y=0),this.paddingTop=p+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ce(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)Wt(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=sk(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:r}=this,l=[],c=[],h=Math.floor(n/ik(n,i));let d=0,p=0,y,_,x,E,S,T,D,M,P,$,N;for(y=0;y<n;y+=h){if(E=t[y].label,S=this._resolveTickFontOptions(y),s.font=T=S.string,D=r[T]=r[T]||{data:{},gc:[]},M=S.lineHeight,P=$=0,!Wt(E)&&!je(E))P=rm(s,D.data,D.gc,P,E),$=M;else if(je(E))for(_=0,x=E.length;_<x;++_)N=E[_],!Wt(N)&&!je(N)&&(P=rm(s,D.data,D.gc,P,N),$+=M);l.push(P),c.push($),d=Math.max(P,d),p=Math.max($,p)}qH(r,n);const G=l.indexOf(d),C=c.indexOf(p),k=O=>({width:l[O]||0,height:c[O]||0});return{first:k(0),last:k(n-1),widest:k(G),highest:k(C),widths:l,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return D$(this._alignToPixels?el(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=HH(this.getContext(),t,i))}return this.$context||(this.$context=$H(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=bs(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),l=t.autoSkipPadding||0,c=r?r.widest.width+l:0,h=r?r.highest.height+l:0;return this.isHorizontal()?h*i>c*s?c/i:h/s:h*s<c*i?h/i:c/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:l,border:c}=s,h=r.offset,d=this.isHorizontal(),y=this.ticks.length+(h?1:0),_=Mh(r),x=[],E=c.setContext(this.getContext()),S=E.display?E.width:0,T=S/2,D=function(B){return el(i,B,S)};let M,P,$,N,G,C,k,O,V,F,H,U;if(l==="top")M=D(this.bottom),C=this.bottom-_,O=M-T,F=D(t.top)+T,U=t.bottom;else if(l==="bottom")M=D(this.top),F=t.top,U=D(t.bottom)-T,C=M+T,O=this.top+_;else if(l==="left")M=D(this.right),G=this.right-_,k=M-T,V=D(t.left)+T,H=t.right;else if(l==="right")M=D(this.left),V=t.left,H=D(t.right)-T,G=M+T,k=this.left+_;else if(n==="x"){if(l==="center")M=D((t.top+t.bottom)/2+.5);else if(ne(l)){const B=Object.keys(l)[0],J=l[B];M=D(this.chart.scales[B].getPixelForValue(J))}F=t.top,U=t.bottom,C=M+T,O=C+_}else if(n==="y"){if(l==="center")M=D((t.left+t.right)/2);else if(ne(l)){const B=Object.keys(l)[0],J=l[B];M=D(this.chart.scales[B].getPixelForValue(J))}G=M-T,k=G-_,V=t.left,H=t.right}const kt=Bt(s.ticks.maxTicksLimit,y),tt=Math.max(1,Math.ceil(y/kt));for(P=0;P<y;P+=tt){const B=this.getContext(P),J=r.setContext(B),pt=c.setContext(B),yt=J.lineWidth,q=J.color,X=pt.dash||[],nt=pt.dashOffset,K=J.tickWidth,Q=J.tickColor,at=J.tickBorderDash||[],Y=J.tickBorderDashOffset;$=BH(this,P,h),$!==void 0&&(N=el(i,$,yt),d?G=k=V=H=N:C=O=F=U=N,x.push({tx1:G,ty1:C,tx2:k,ty2:O,x1:V,y1:F,x2:H,y2:U,width:yt,color:q,borderDash:X,borderDashOffset:nt,tickWidth:K,tickColor:Q,tickBorderDash:at,tickBorderDashOffset:Y}))}return this._ticksLength=y,this._borderValue=M,x}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:r}=i,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:d,padding:p,mirror:y}=r,_=Mh(i.grid),x=_+p,E=y?-p:x,S=-bs(this.labelRotation),T=[];let D,M,P,$,N,G,C,k,O,V,F,H,U="middle";if(s==="top")G=this.bottom-E,C=this._getXAxisLabelAlignment();else if(s==="bottom")G=this.top+E,C=this._getXAxisLabelAlignment();else if(s==="left"){const tt=this._getYAxisLabelAlignment(_);C=tt.textAlign,N=tt.x}else if(s==="right"){const tt=this._getYAxisLabelAlignment(_);C=tt.textAlign,N=tt.x}else if(n==="x"){if(s==="center")G=(t.top+t.bottom)/2+x;else if(ne(s)){const tt=Object.keys(s)[0],B=s[tt];G=this.chart.scales[tt].getPixelForValue(B)+x}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")N=(t.left+t.right)/2-x;else if(ne(s)){const tt=Object.keys(s)[0],B=s[tt];N=this.chart.scales[tt].getPixelForValue(B)}C=this._getYAxisLabelAlignment(_).textAlign}n==="y"&&(h==="start"?U="top":h==="end"&&(U="bottom"));const kt=this._getLabelSizes();for(D=0,M=c.length;D<M;++D){P=c[D],$=P.label;const tt=r.setContext(this.getContext(D));k=this.getPixelForTick(D)+r.labelOffset,O=this._resolveTickFontOptions(D),V=O.lineHeight,F=je($)?$.length:1;const B=F/2,J=tt.color,pt=tt.textStrokeColor,yt=tt.textStrokeWidth;let q=C;l?(N=k,C==="inner"&&(D===M-1?q=this.options.reverse?"left":"right":D===0?q=this.options.reverse?"right":"left":q="center"),s==="top"?d==="near"||S!==0?H=-F*V+V/2:d==="center"?H=-kt.highest.height/2-B*V+V:H=-kt.highest.height+V/2:d==="near"||S!==0?H=V/2:d==="center"?H=kt.highest.height/2-B*V:H=kt.highest.height-F*V,y&&(H*=-1),S!==0&&!tt.showLabelBackdrop&&(N+=V/2*Math.sin(S))):(G=k,H=(1-F)*V/2);let X;if(tt.showLabelBackdrop){const nt=Qn(tt.backdropPadding),K=kt.heights[D],Q=kt.widths[D];let at=H-nt.top,Y=0-nt.left;switch(U){case"middle":at-=K/2;break;case"bottom":at-=K;break}switch(C){case"center":Y-=Q/2;break;case"right":Y-=Q;break;case"inner":D===M-1?Y-=Q:D>0&&(Y-=Q/2);break}X={left:Y,top:at,width:Q+nt.width,height:K+nt.height,color:tt.backdropColor}}T.push({label:$,font:O,textOffset:H,options:{rotation:S,color:J,strokeColor:pt,strokeWidth:yt,textAlign:q,textBaseline:U,translation:[N,G],backdrop:X}})}return T}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-bs(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,l=this._getLabelSizes(),c=t+r,h=l.widest.width;let d,p;return n==="left"?s?(p=this.right+r,i==="near"?d="left":i==="center"?(d="center",p+=h/2):(d="right",p+=h)):(p=this.right-c,i==="near"?d="right":i==="center"?(d="center",p-=h/2):(d="left",p=this.left)):n==="right"?s?(p=this.left+r,i==="near"?d="right":i==="center"?(d="center",p-=h/2):(d="left",p-=h)):(p=this.left+c,i==="near"?d="left":i==="center"?(d="center",p+=h/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:r,height:l}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,r,l),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,l;const c=(h,d,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(n.display)for(r=0,l=s.length;r<l;++r){const h=s[r];n.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),l=i.display?r.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let d,p,y,_;this.isHorizontal()?(d=el(t,this.left,l)-l/2,p=el(t,this.right,c)+c/2,y=_=h):(y=el(t,this.top,l)-l/2,_=el(t,this.bottom,c)+c/2,d=p=h),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(d,y),n.lineTo(p,_),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Gm(i,s);const r=this.getLabelItems(t);for(const l of r){const c=l.options,h=l.font,d=l.label,p=l.textOffset;Rl(i,d,0,p,h,c)}s&&Km(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=_n(i.font),l=Qn(i.padding),c=i.align;let h=r.lineHeight/2;n==="bottom"||n==="center"||ne(n)?(h+=l.bottom,je(i.text)&&(h+=r.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:d,titleY:p,maxWidth:y,rotation:_}=YH(this,h,n,c);Rl(t,i.text,0,0,r,{color:i.color,maxWidth:y,rotation:_,textAlign:WH(c,n,s),textBaseline:"middle",translation:[d,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=Bt(t.grid&&t.grid.z,-1),s=Bt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ol.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,l;for(r=0,l=n.length;r<l;++r){const c=n[r];c[i]===this.id&&(!t||c.type===t)&&s.push(c)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return _n(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Bp{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;XH(n)&&(i=this.register(n));const s=this.items,r=t.id,l=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,GH(t,l,i),this.override&&Ue.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in Ue[s]&&(delete Ue[s][i],this.override&&delete kl[i])}}function GH(e,t,n){const i=rr(Object.create(null),[n?Ue.get(n):{},Ue.get(t),e.defaults]);Ue.set(t,i),e.defaultRoutes&&KH(t,e.defaultRoutes),e.descriptors&&Ue.describe(t,e.descriptors)}function KH(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),r=[e].concat(i).join("."),l=t[n].split("."),c=l.pop(),h=l.join(".");Ue.route(r,s,h,c)})}function XH(e){return"id"in e&&"defaults"in e}class QH{constructor(){this.controllers=new Bp(ws,"datasets",!0),this.elements=new Bp(Ss,"elements"),this.plugins=new Bp(Object,"plugins"),this.scales=new Bp(Ol,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):be(s,l=>{const c=i||this._getRegistryForType(l);this._exec(t,c,l)})})}_exec(t,n,i){const s=Ax(t);Ce(i["before"+s],[],i),n[t](i),Ce(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Ys=new QH;class ZH{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(r,t,n,i);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,n,i,s){s=s||{};for(const r of t){const l=r.plugin,c=l[i],h=[n,s,r.options];if(Ce(c,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Wt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=Bt(i.options&&i.options.plugins,{}),r=JH(i);return s===!1&&!n?[]:e7(t,r,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(r,l)=>r.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function JH(e){const t={},n=[],i=Object.keys(Ys.plugins.items);for(let r=0;r<i.length;r++)n.push(Ys.getPlugin(i[r]));const s=e.plugins||[];for(let r=0;r<s.length;r++){const l=s[r];n.indexOf(l)===-1&&(n.push(l),t[l.id]=!0)}return{plugins:n,localIds:t}}function t7(e,t){return!t&&e===!1?null:e===!0?{}:e}function e7(e,{plugins:t,localIds:n},i,s){const r=[],l=e.getContext();for(const c of t){const h=c.id,d=t7(i[h],s);d!==null&&r.push({plugin:c,options:n7(e.config,{plugin:c,local:n[h]},d,l)})}return r}function n7(e,{plugin:t,local:n},i,s){const r=e.pluginScopeKeys(t),l=e.getOptionScopes(i,r);return n&&t.defaults&&l.push(t.defaults),e.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function W0(e,t){const n=Ue.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function i7(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function s7(e,t){return e===t?"_index_":"_value_"}function ak(e){if(e==="x"||e==="y"||e==="r")return e}function r7(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Y0(e,...t){if(ak(e))return e;for(const n of t){const i=n.axis||r7(n.position)||e.length>1&&ak(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function ok(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function a7(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return ok(e,"x",n[0])||ok(e,"y",n[0])}return{}}function o7(e,t){const n=kl[e.type]||{scales:{}},i=t.scales||{},s=W0(e.type,t),r=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!ne(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=Y0(l,c,a7(l,e),Ue.scales[c.type]),d=s7(h,s),p=n.scales||{};r[l]=id(Object.create(null),[{axis:h},c,p[h],p[d]])}),e.data.datasets.forEach(l=>{const c=l.type||e.type,h=l.indexAxis||W0(c,t),p=(kl[c]||{}).scales||{};Object.keys(p).forEach(y=>{const _=i7(y,h),x=l[_+"AxisID"]||_;r[x]=r[x]||Object.create(null),id(r[x],[{axis:_},i[x],p[y]])})}),Object.keys(r).forEach(l=>{const c=r[l];id(c,[Ue.scales[c.type],Ue.scale])}),r}function iO(e){const t=e.options||(e.options={});t.plugins=Bt(t.plugins,{}),t.scales=o7(e,t)}function sO(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function l7(e){return e=e||{},e.data=sO(e.data),iO(e),e}const lk=new Map,rO=new Set;function qp(e,t){let n=lk.get(e);return n||(n=t(),lk.set(e,n),rO.add(n)),n}const Ih=(e,t,n)=>{const i=go(t,n);i!==void 0&&e.add(i)};class c7{constructor(t){this._config=l7(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=sO(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),iO(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return qp(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return qp(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return qp(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return qp(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:r}=this,l=this._cachedScopes(t,i),c=l.get(n);if(c)return c;const h=new Set;n.forEach(p=>{t&&(h.add(t),p.forEach(y=>Ih(h,t,y))),p.forEach(y=>Ih(h,s,y)),p.forEach(y=>Ih(h,kl[r]||{},y)),p.forEach(y=>Ih(h,Ue,y)),p.forEach(y=>Ih(h,q0,y))});const d=Array.from(h);return d.length===0&&d.push(Object.create(null)),rO.has(n)&&l.set(n,d),d}chartOptionScopes(){const{options:t,type:n}=this;return[t,kl[n]||{},Ue.datasets[n]||{},{type:n},Ue,q0]}resolveNamedOptions(t,n,i,s=[""]){const r={$shared:!0},{resolver:l,subPrefixes:c}=ck(this._resolverCache,t,s);let h=l;if(h7(l,n)){r.$shared=!1,i=mo(i)?i():i;const d=this.createResolver(t,i,c);h=su(l,i,d)}for(const d of n)r[d]=h[d];return r}createResolver(t,n,i=[""],s){const{resolver:r}=ck(this._resolverCache,t,i);return ne(n)?su(r,n,void 0,s):r}}function ck(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let r=i.get(s);return r||(r={resolver:Ix(t,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,r)),r}const u7=e=>ne(e)&&Object.getOwnPropertyNames(e).some(t=>mo(e[t]));function h7(e,t){const{isScriptable:n,isIndexable:i}=jI(e);for(const s of t){const r=n(s),l=i(s),c=(l||r)&&e[s];if(r&&(mo(c)||u7(c))||l&&je(c))return!0}return!1}var d7="4.5.0";const f7=["top","bottom","left","right","chartArea"];function uk(e,t){return e==="top"||e==="bottom"||f7.indexOf(e)===-1&&t==="x"}function hk(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function dk(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Ce(n&&n.onComplete,[e],t)}function p7(e){const t=e.chart,n=t.options.animation;Ce(n&&n.onProgress,[e],t)}function aO(e){return Nx()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Cg={},fk=e=>{const t=aO(e);return Object.values(Cg).filter(n=>n.canvas===t).pop()};function g7(e,t,n){const i=Object.keys(e);for(const s of i){const r=+s;if(r>=t){const l=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=l)}}}function m7(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}class yi{static register(...t){Ys.add(...t),pk()}static unregister(...t){Ys.remove(...t),pk()}constructor(t,n){const i=this.config=new c7(n),s=aO(t),r=fk(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||PH(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,l.aspectRatio),h=c&&c.canvas,d=h&&h.height,p=h&&h.width;if(this.id=y$(),this.ctx=c,this.canvas=h,this.width=p,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ZH,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=P$(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],Cg[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}zr.listen(this,"complete",dk),zr.listen(this,"progress",p7),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return Wt(t)?n&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ys}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():LA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return OA(this.canvas,this.ctx),this}stop(){return zr.stop(this),this}resize(t,n){zr.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,n,r),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,LA(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),Ce(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};be(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let r=[];n&&(r=r.concat(Object.keys(n).map(l=>{const c=n[l],h=Y0(l,c),d=h==="r",p=h==="x";return{options:c,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),be(r,l=>{const c=l.options,h=c.id,d=Y0(h,c),p=Bt(c.type,l.dtype);(c.position===void 0||uk(c.position,d)!==uk(l.dposition))&&(c.position=l.dposition),s[h]=!0;let y=null;if(h in i&&i[h].type===p)y=i[h];else{const _=Ys.getScale(p);y=new _({id:h,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(c,t)}),be(s,(l,c)=>{l||delete i[c]}),be(i,l=>{oi.configure(this,l,l.options),oi.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(hk("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let l=this.getDatasetMeta(i);const c=r.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=r.indexAxis||W0(c,this.options),l.order=r.order||0,l.index=i,l.label=""+r.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=Ys.getController(c),{datasetElementType:d,dataElementType:p}=Ue.datasets[c];Object.assign(h,{dataElementType:Ys.getElement(p),datasetElementType:d&&Ys.getElement(d)}),l.controller=new h(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){be(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:y}=this.getDatasetMeta(d),_=!s&&r.indexOf(y)===-1;y.buildOrUpdateElements(_),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||be(r,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(hk("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){be(this.scales,t=>{oi.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!SA(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const l=i==="_removeElements"?-r:r;g7(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(t.filter(l=>l[0]===r).map((l,c)=>c+","+l.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!SA(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;oi.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],be(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,mo(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(zr.has(this)?this.attached&&!zr.running(this)&&zr.start(this):(this.draw(),dk({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const l=n[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=GI(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Gm(n,s),t.controller.draw(),s&&Km(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Xr(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const r=fH.modes[n];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=wo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),l=r.controller._resolveAnimations(void 0,s);Md(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(r,{visible:i}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),zr.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),OA(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Cg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(r,l)=>{n.addEventListener(this,r,l),t[r]=l},s=(r,l,c)=>{r.offsetX=l,r.offsetY=c,this._eventHandler(r)};be(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(h,d)=>{n.addEventListener(this,h,d),t[h]=d},s=(h,d)=>{t[h]&&(n.removeEventListener(this,h,d),delete t[h])},r=(h,d)=>{this.canvas&&this.resize(h,d)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",r),i("detach",l)};l=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",c)},n.isAttached(this.canvas)?c():l()}unbindEvents(){be(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},be(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let r,l,c,h;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),c=0,h=t.length;c<h;++c){l=t[c];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:r,index:l})=>{const c=this.getDatasetMeta(r);if(!c)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:c.data[l],index:l}});!nm(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,r=(h,d)=>h.filter(p=>!d.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),l=r(n,t),c=i?t:r(t,n);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:r}=this,l=n,c=this._getActiveElements(t,s,i,l),h=E$(t),d=m7(t,this._lastEvent,i,h);i&&(this._lastEvent=null,Ce(r.onHover,[t,c,this],this),h&&Ce(r.onClick,[t,c,this],this));const p=!nm(c,s);return(p||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=d,p}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}}wt(yi,"defaults",Ue),wt(yi,"instances",Cg),wt(yi,"overrides",kl),wt(yi,"registry",Ys),wt(yi,"version",d7),wt(yi,"getChart",fk);function pk(){return be(yi.instances,e=>e._plugins.invalidate())}function y7(e,t,n){const{startAngle:i,x:s,y:r,outerRadius:l,innerRadius:c,options:h}=t,{borderWidth:d,borderJoinStyle:p}=h,y=Math.min(d/l,ri(i-n));if(e.beginPath(),e.arc(s,r,l-d/2,i+y/2,n-y/2),c>0){const _=Math.min(d/c,ri(i-n));e.arc(s,r,c+d/2,n-_/2,i+_/2,!0)}else{const _=Math.min(d/2,l*ri(i-n));if(p==="round")e.arc(s,r,_,n-pe/2,i+pe/2,!0);else if(p==="bevel"){const x=2*_*_,E=-x*Math.cos(n+pe/2)+s,S=-x*Math.sin(n+pe/2)+r,T=x*Math.cos(i+pe/2)+s,D=x*Math.sin(i+pe/2)+r;e.lineTo(E,S),e.lineTo(T,D)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function _7(e,t,n){const{startAngle:i,pixelMargin:s,x:r,y:l,outerRadius:c,innerRadius:h}=t;let d=s/c;e.beginPath(),e.arc(r,l,c,i-d,n+d),h>s?(d=s/h,e.arc(r,l,h,n+d,i-d,!0)):e.arc(r,l,s,n+rn,i-rn),e.closePath(),e.clip()}function b7(e){return Mx(e,["outerStart","outerEnd","innerStart","innerEnd"])}function v7(e,t,n,i){const s=b7(e.options.borderRadius),r=(n-t)/2,l=Math.min(r,i*t/2),c=h=>{const d=(n-Math.min(r,h))*i/2;return zn(h,0,Math.min(r,d))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:zn(s.innerStart,0,l),innerEnd:zn(s.innerEnd,0,l)}}function Ac(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function lm(e,t,n,i,s,r){const{x:l,y:c,startAngle:h,pixelMargin:d,innerRadius:p}=t,y=Math.max(t.outerRadius+i+n-d,0),_=p>0?p+i+n+d:0;let x=0;const E=s-h;if(i){const tt=p>0?p-i:0,B=y>0?y-i:0,J=(tt+B)/2,pt=J!==0?E*J/(J+i):E;x=(E-pt)/2}const S=Math.max(.001,E*y-n/pe)/y,T=(E-S)/2,D=h+T+x,M=s-T-x,{outerStart:P,outerEnd:$,innerStart:N,innerEnd:G}=v7(t,_,y,M-D),C=y-P,k=y-$,O=D+P/C,V=M-$/k,F=_+N,H=_+G,U=D+N/F,kt=M-G/H;if(e.beginPath(),r){const tt=(O+V)/2;if(e.arc(l,c,y,O,tt),e.arc(l,c,y,tt,V),$>0){const yt=Ac(k,V,l,c);e.arc(yt.x,yt.y,$,V,M+rn)}const B=Ac(H,M,l,c);if(e.lineTo(B.x,B.y),G>0){const yt=Ac(H,kt,l,c);e.arc(yt.x,yt.y,G,M+rn,kt+Math.PI)}const J=(M-G/_+(D+N/_))/2;if(e.arc(l,c,_,M-G/_,J,!0),e.arc(l,c,_,J,D+N/_,!0),N>0){const yt=Ac(F,U,l,c);e.arc(yt.x,yt.y,N,U+Math.PI,D-rn)}const pt=Ac(C,D,l,c);if(e.lineTo(pt.x,pt.y),P>0){const yt=Ac(C,O,l,c);e.arc(yt.x,yt.y,P,D-rn,O)}}else{e.moveTo(l,c);const tt=Math.cos(O)*y+l,B=Math.sin(O)*y+c;e.lineTo(tt,B);const J=Math.cos(V)*y+l,pt=Math.sin(V)*y+c;e.lineTo(J,pt)}e.closePath()}function x7(e,t,n,i,s){const{fullCircles:r,startAngle:l,circumference:c}=t;let h=t.endAngle;if(r){lm(e,t,n,i,h,s);for(let d=0;d<r;++d)e.fill();isNaN(c)||(h=l+(c%Ve||Ve))}return lm(e,t,n,i,h,s),e.fill(),h}function w7(e,t,n,i,s){const{fullCircles:r,startAngle:l,circumference:c,options:h}=t,{borderWidth:d,borderJoinStyle:p,borderDash:y,borderDashOffset:_,borderRadius:x}=h,E=h.borderAlign==="inner";if(!d)return;e.setLineDash(y||[]),e.lineDashOffset=_,E?(e.lineWidth=d*2,e.lineJoin=p||"round"):(e.lineWidth=d,e.lineJoin=p||"bevel");let S=t.endAngle;if(r){lm(e,t,n,i,S,s);for(let T=0;T<r;++T)e.stroke();isNaN(c)||(S=l+(c%Ve||Ve))}E&&_7(e,t,S),h.selfJoin&&S-l>=pe&&x===0&&p!=="miter"&&y7(e,t,S),r||(lm(e,t,n,i,S,s),e.stroke())}class Pc extends Ss{constructor(n){super();wt(this,"circumference");wt(this,"endAngle");wt(this,"fullCircles");wt(this,"innerRadius");wt(this,"outerRadius");wt(this,"pixelMargin");wt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.getProps(["x","y"],s),{angle:l,distance:c}=kI(r,{x:n,y:i}),{startAngle:h,endAngle:d,innerRadius:p,outerRadius:y,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),x=(this.options.spacing+this.options.borderWidth)/2,E=Bt(_,d-h),S=Id(l,h,d)&&h!==d,T=E>=Ve||S,D=Gr(c,p+x,y+x);return T&&D}getCenterPoint(n){const{x:i,y:s,startAngle:r,endAngle:l,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:d,spacing:p}=this.options,y=(r+l)/2,_=(c+h+p+d)/2;return{x:i+Math.cos(y)*_,y:s+Math.sin(y)*_}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,r=(i.offset||0)/4,l=(i.spacing||0)/2,c=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Ve?Math.floor(s/Ve):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const h=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(h)*r,Math.sin(h)*r);const d=1-Math.sin(Math.min(pe,s||0)),p=r*d;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,x7(n,this,p,l,c),w7(n,this,p,l,c),n.restore()}}wt(Pc,"id","arc"),wt(Pc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),wt(Pc,"defaultRoutes",{backgroundColor:"backgroundColor"}),wt(Pc,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function oO(e,t,n=t){e.lineCap=Bt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Bt(n.borderDash,t.borderDash)),e.lineDashOffset=Bt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Bt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Bt(n.borderWidth,t.borderWidth),e.strokeStyle=Bt(n.borderColor,t.borderColor)}function E7(e,t,n){e.lineTo(n.x,n.y)}function S7(e){return e.stepped?W$:e.tension||e.cubicInterpolationMode==="monotone"?Y$:E7}function lO(e,t,n={}){const i=e.length,{start:s=0,end:r=i-1}=n,{start:l,end:c}=t,h=Math.max(s,l),d=Math.min(r,c),p=s<l&&r<l||s>c&&r>c;return{count:i,start:h,loop:t.loop,ilen:d<h&&!p?i+d-h:d-h}}function T7(e,t,n,i){const{points:s,options:r}=t,{count:l,start:c,loop:h,ilen:d}=lO(s,n,i),p=S7(r);let{move:y=!0,reverse:_}=i||{},x,E,S;for(x=0;x<=d;++x)E=s[(c+(_?d-x:x))%l],!E.skip&&(y?(e.moveTo(E.x,E.y),y=!1):p(e,S,E,_,r.stepped),S=E);return h&&(E=s[(c+(_?d:0))%l],p(e,S,E,_,r.stepped)),!!h}function A7(e,t,n,i){const s=t.points,{count:r,start:l,ilen:c}=lO(s,n,i),{move:h=!0,reverse:d}=i||{};let p=0,y=0,_,x,E,S,T,D;const M=$=>(l+(d?c-$:$))%r,P=()=>{S!==T&&(e.lineTo(p,T),e.lineTo(p,S),e.lineTo(p,D))};for(h&&(x=s[M(0)],e.moveTo(x.x,x.y)),_=0;_<=c;++_){if(x=s[M(_)],x.skip)continue;const $=x.x,N=x.y,G=$|0;G===E?(N<S?S=N:N>T&&(T=N),p=(y*p+$)/++y):(P(),e.lineTo($,N),E=G,y=0,S=T=N),D=N}P()}function G0(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?A7:T7}function k7(e){return e.stepped?T8:e.tension||e.cubicInterpolationMode==="monotone"?A8:cl}function R7(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),oO(e,t.options),e.stroke(s)}function C7(e,t,n,i){const{segments:s,options:r}=t,l=G0(t);for(const c of s)oO(e,r,c.style),e.beginPath(),l(e,t,c,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const D7=typeof Path2D=="function";function M7(e,t,n,i){D7&&!t.options.segment?R7(e,t,n,i):C7(e,t,n,i)}class Qa extends Ss{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;y8(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=I8(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],r=this.points,l=YI(this,{property:n,start:s,end:s});if(!l.length)return;const c=[],h=k7(i);let d,p;for(d=0,p=l.length;d<p;++d){const{start:y,end:_}=l[d],x=r[y],E=r[_];if(x===E){c.push(x);continue}const S=Math.abs((s-x[n])/(E[n]-x[n])),T=h(x,E,S,i.stepped);T[n]=t[n],c.push(T)}return c.length===1?c[0]:c}pathSegment(t,n,i){return G0(this)(t,this,n,i)}path(t,n,i){const s=this.segments,r=G0(this);let l=this._loop;n=n||0,i=i||this.points.length-n;for(const c of s)l&=r(t,this,c,{start:n,end:n+i-1});return!!l}draw(t,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),M7(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}wt(Qa,"id","line"),wt(Qa,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),wt(Qa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),wt(Qa,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function gk(e,t,n,i){const s=e.options,{[n]:r}=e.getProps([n],i);return Math.abs(t-r)<s.radius+s.hitRadius}class ld extends Ss{constructor(n){super();wt(this,"parsed");wt(this,"skip");wt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:l,y:c}=this.getProps(["x","y"],s);return Math.pow(n-l,2)+Math.pow(i-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return gk(this,n,"x",i)}inYRange(n,i){return gk(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!Xr(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,$0(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}wt(ld,"id","point"),wt(ld,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),wt(ld,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function cO(e,t){const{x:n,y:i,base:s,width:r,height:l}=e.getProps(["x","y","base","width","height"],t);let c,h,d,p,y;return e.horizontal?(y=l/2,c=Math.min(n,s),h=Math.max(n,s),d=i-y,p=i+y):(y=r/2,c=n-y,h=n+y,d=Math.min(i,s),p=Math.max(i,s)),{left:c,top:d,right:h,bottom:p}}function Za(e,t,n,i){return e?0:zn(t,n,i)}function I7(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,r=LI(i);return{t:Za(s.top,r.top,0,n),r:Za(s.right,r.right,0,t),b:Za(s.bottom,r.bottom,0,n),l:Za(s.left,r.left,0,t)}}function O7(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=yl(s),l=Math.min(t,n),c=e.borderSkipped,h=i||ne(s);return{topLeft:Za(!h||c.top||c.left,r.topLeft,0,l),topRight:Za(!h||c.top||c.right,r.topRight,0,l),bottomLeft:Za(!h||c.bottom||c.left,r.bottomLeft,0,l),bottomRight:Za(!h||c.bottom||c.right,r.bottomRight,0,l)}}function P7(e){const t=cO(e),n=t.right-t.left,i=t.bottom-t.top,s=I7(e,n/2,i/2),r=O7(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function zb(e,t,n,i){const s=t===null,r=n===null,c=e&&!(s&&r)&&cO(e,i);return c&&(s||Gr(t,c.left,c.right))&&(r||Gr(n,c.top,c.bottom))}function N7(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function L7(e,t){e.rect(t.x,t.y,t.w,t.h)}function Fb(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-i,l=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+r,h:e.h+l,radius:e.radius}}class cd extends Ss{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:l}=P7(this),c=N7(l.radius)?Od:L7;t.save(),(l.w!==r.w||l.h!==r.h)&&(t.beginPath(),c(t,Fb(l,n,r)),t.clip(),c(t,Fb(r,-n,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,Fb(r,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return zb(this,t,n,i)}inXRange(t,n){return zb(this,t,null,n)}inYRange(t,n){return zb(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}wt(cd,"id","bar"),wt(cd,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),wt(cd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var j7=Object.freeze({__proto__:null,ArcElement:Pc,BarElement:cd,LineElement:Qa,PointElement:ld});const K0=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],mk=K0.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function uO(e){return K0[e%K0.length]}function hO(e){return mk[e%mk.length]}function V7(e,t){return e.borderColor=uO(t),e.backgroundColor=hO(t),++t}function U7(e,t){return e.backgroundColor=e.data.map(()=>uO(t++)),t}function z7(e,t){return e.backgroundColor=e.data.map(()=>hO(t++)),t}function F7(e){let t=0;return(n,i)=>{const s=e.getDatasetMeta(i).controller;s instanceof fl?t=U7(n,t):s instanceof od?t=z7(n,t):s&&(t=V7(n,t))}}function yk(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function B7(e){return e&&(e.borderColor||e.backgroundColor)}function q7(){return Ue.borderColor!=="rgba(0,0,0,0.1)"||Ue.backgroundColor!=="rgba(0,0,0,0.1)"}var $7={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=e.config,{elements:r}=s,l=yk(i)||B7(s)||r&&yk(r)||q7();if(!n.forceOverride&&l)return;const c=F7(e);i.forEach(c)}};function H7(e,t,n,i,s){const r=s.samples||i;if(r>=n)return e.slice(t,t+n);const l=[],c=(n-2)/(r-2);let h=0;const d=t+n-1;let p=t,y,_,x,E,S;for(l[h++]=e[p],y=0;y<r-2;y++){let T=0,D=0,M;const P=Math.floor((y+1)*c)+1+t,$=Math.min(Math.floor((y+2)*c)+1,n)+t,N=$-P;for(M=P;M<$;M++)T+=e[M].x,D+=e[M].y;T/=N,D/=N;const G=Math.floor(y*c)+1+t,C=Math.min(Math.floor((y+1)*c)+1,n)+t,{x:k,y:O}=e[p];for(x=E=-1,M=G;M<C;M++)E=.5*Math.abs((k-T)*(e[M].y-O)-(k-e[M].x)*(D-O)),E>x&&(x=E,_=e[M],S=M);l[h++]=_,p=S}return l[h++]=e[d],l}function W7(e,t,n,i){let s=0,r=0,l,c,h,d,p,y,_,x,E,S;const T=[],D=t+n-1,M=e[t].x,$=e[D].x-M;for(l=t;l<t+n;++l){c=e[l],h=(c.x-M)/$*i,d=c.y;const N=h|0;if(N===p)d<E?(E=d,y=l):d>S&&(S=d,_=l),s=(r*s+c.x)/++r;else{const G=l-1;if(!Wt(y)&&!Wt(_)){const C=Math.min(y,_),k=Math.max(y,_);C!==x&&C!==G&&T.push({...e[C],x:s}),k!==x&&k!==G&&T.push({...e[k],x:s})}l>0&&G!==x&&T.push(e[G]),T.push(c),p=N,r=0,E=S=d,y=_=x=l}}return T}function dO(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function _k(e){e.data.datasets.forEach(t=>{dO(t)})}function Y7(e,t){const n=t.length;let i=0,s;const{iScale:r}=e,{min:l,max:c,minDefined:h,maxDefined:d}=r.getUserBounds();return h&&(i=zn(Kr(t,r.axis,l).lo,0,n-1)),d?s=zn(Kr(t,r.axis,c).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var G7={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){_k(e);return}const i=e.width;e.data.datasets.forEach((s,r)=>{const{_data:l,indexAxis:c}=s,h=e.getDatasetMeta(r),d=l||s.data;if(Le([c,e.options.indexAxis])==="y"||!h.controller.supportsDecimation)return;const p=e.scales[h.xAxisID];if(p.type!=="linear"&&p.type!=="time"||e.options.parsing)return;let{start:y,count:_}=Y7(h,d);const x=n.threshold||4*i;if(_<=x){dO(s);return}Wt(l)&&(s._data=d,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(S){this._data=S}}));let E;switch(n.algorithm){case"lttb":E=H7(d,y,_,i,n);break;case"min-max":E=W7(d,y,_,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=E})},destroy(e){_k(e)}};function K7(e,t,n){const i=e.segments,s=e.points,r=t.points,l=[];for(const c of i){let{start:h,end:d}=c;d=Zm(h,d,s);const p=X0(n,s[h],s[d],c.loop);if(!t.segments){l.push({source:c,target:p,start:s[h],end:s[d]});continue}const y=YI(t,p);for(const _ of y){const x=X0(n,r[_.start],r[_.end],_.loop),E=WI(c,s,x);for(const S of E)l.push({source:S,target:_,start:{[n]:bk(p,x,"start",Math.max)},end:{[n]:bk(p,x,"end",Math.min)}})}}return l}function X0(e,t,n,i){if(i)return;let s=t[e],r=n[e];return e==="angle"&&(s=ri(s),r=ri(r)),{property:e,start:s,end:r}}function X7(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,r=[];return t.segments.forEach(({start:l,end:c})=>{c=Zm(l,c,s);const h=s[l],d=s[c];i!==null?(r.push({x:h.x,y:i}),r.push({x:d.x,y:i})):n!==null&&(r.push({x:n,y:h.y}),r.push({x:n,y:d.y}))}),r}function Zm(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function bk(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function fO(e,t){let n=[],i=!1;return je(e)?(i=!0,n=e):n=X7(e,t),n.length?new Qa({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function vk(e){return e&&e.fill!==!1}function Q7(e,t,n){let s=e[t].fill;const r=[t];let l;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Ze(s))return s;if(l=e[s],!l)return!1;if(l.visible)return s;r.push(s),s=l.fill}return!1}function Z7(e,t,n){const i=nW(e);if(ne(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Ze(s)&&Math.floor(s)===s?J7(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function J7(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function tW(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:ne(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function eW(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:ne(e)?i=e.value:i=t.getBaseValue(),i}function nW(e){const t=e.options,n=t.fill;let i=Bt(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function iW(e){const{scale:t,index:n,line:i}=e,s=[],r=i.segments,l=i.points,c=sW(t,n);c.push(fO({x:null,y:t.bottom},i));for(let h=0;h<r.length;h++){const d=r[h];for(let p=d.start;p<=d.end;p++)rW(s,l[p],c)}return new Qa({points:s,options:{}})}function sW(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===t)break;r.hidden||n.unshift(r.dataset)}return n}function rW(e,t,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:l,last:c,point:h}=aW(r,t,"x");if(!(!h||l&&c)){if(l)i.unshift(h);else if(e.push(h),!c)break}}e.push(...i)}function aW(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],r=e.segments,l=e.points;let c=!1,h=!1;for(let d=0;d<r.length;d++){const p=r[d],y=l[p.start][n],_=l[p.end][n];if(Gr(s,y,_)){c=s===y,h=s===_;break}}return{first:c,last:h,point:i}}class pO{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:r,radius:l}=this;return n=n||{start:0,end:Ve},t.arc(s,r,l,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,r=t.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function oW(e){const{chart:t,fill:n,line:i}=e;if(Ze(n))return lW(t,n);if(n==="stack")return iW(e);if(n==="shape")return!0;const s=cW(e);return s instanceof pO?s:fO(s,i)}function lW(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function cW(e){return(e.scale||{}).getPointPositionForValue?hW(e):uW(e)}function uW(e){const{scale:t={},fill:n}=e,i=tW(n,t);if(Ze(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function hW(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,r=i.reverse?t.max:t.min,l=eW(n,t,r),c=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,r);return new pO({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(l)})}for(let h=0;h<s;++h)c.push(t.getPointPositionForValue(h,l));return c}function Bb(e,t,n){const i=oW(t),{chart:s,index:r,line:l,scale:c,axis:h}=t,d=l.options,p=d.fill,y=d.backgroundColor,{above:_=y,below:x=y}=p||{},E=s.getDatasetMeta(r),S=GI(s,E);i&&l.points.length&&(Gm(e,n),dW(e,{line:l,target:i,above:_,below:x,area:n,scale:c,axis:h,clip:S}),Km(e))}function dW(e,t){const{line:n,target:i,above:s,below:r,area:l,scale:c,clip:h}=t,d=n._loop?"angle":t.axis;e.save();let p=r;r!==s&&(d==="x"?(xk(e,i,l.top),qb(e,{line:n,target:i,color:s,scale:c,property:d,clip:h}),e.restore(),e.save(),xk(e,i,l.bottom)):d==="y"&&(wk(e,i,l.left),qb(e,{line:n,target:i,color:r,scale:c,property:d,clip:h}),e.restore(),e.save(),wk(e,i,l.right),p=s)),qb(e,{line:n,target:i,color:p,scale:c,property:d,clip:h}),e.restore()}function xk(e,t,n){const{segments:i,points:s}=t;let r=!0,l=!1;e.beginPath();for(const c of i){const{start:h,end:d}=c,p=s[h],y=s[Zm(h,d,s)];r?(e.moveTo(p.x,p.y),r=!1):(e.lineTo(p.x,n),e.lineTo(p.x,p.y)),l=!!t.pathSegment(e,c,{move:l}),l?e.closePath():e.lineTo(y.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function wk(e,t,n){const{segments:i,points:s}=t;let r=!0,l=!1;e.beginPath();for(const c of i){const{start:h,end:d}=c,p=s[h],y=s[Zm(h,d,s)];r?(e.moveTo(p.x,p.y),r=!1):(e.lineTo(n,p.y),e.lineTo(p.x,p.y)),l=!!t.pathSegment(e,c,{move:l}),l?e.closePath():e.lineTo(n,y.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function qb(e,t){const{line:n,target:i,property:s,color:r,scale:l,clip:c}=t,h=K7(n,i,s);for(const{source:d,target:p,start:y,end:_}of h){const{style:{backgroundColor:x=r}={}}=d,E=i!==!0;e.save(),e.fillStyle=x,fW(e,l,c,E&&X0(s,y,_)),e.beginPath();const S=!!n.pathSegment(e,d);let T;if(E){S?e.closePath():Ek(e,i,_,s);const D=!!i.pathSegment(e,p,{move:S,reverse:!0});T=S&&D,T||Ek(e,i,y,s)}e.closePath(),e.fill(T?"evenodd":"nonzero"),e.restore()}}function fW(e,t,n,i){const s=t.chart.chartArea,{property:r,start:l,end:c}=i||{};if(r==="x"||r==="y"){let h,d,p,y;r==="x"?(h=l,d=s.top,p=c,y=s.bottom):(h=s.left,d=l,p=s.right,y=c),e.beginPath(),n&&(h=Math.max(h,n.left),p=Math.min(p,n.right),d=Math.max(d,n.top),y=Math.min(y,n.bottom)),e.rect(h,d,p-h,y-d),e.clip()}}function Ek(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var pW={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let r,l,c,h;for(l=0;l<i;++l)r=e.getDatasetMeta(l),c=r.dataset,h=null,c&&c.options&&c instanceof Qa&&(h={visible:e.isDatasetVisible(l),index:l,fill:Z7(c,l,i),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:c}),r.$filler=h,s.push(h);for(l=0;l<i;++l)h=s[l],!(!h||h.fill===!1)&&(h.fill=Q7(s,l,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let l=s.length-1;l>=0;--l){const c=s[l].$filler;c&&(c.line.updateControlPoints(r,c.axis),i&&c.fill&&Bb(e.ctx,c,r))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;vk(r)&&Bb(e.ctx,r,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!vk(i)||n.drawTime!=="beforeDatasetDraw"||Bb(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Sk=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},gW=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Tk extends Ss{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Ce(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=_n(i.font),r=s.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=Sk(i,r);let d,p;n.font=s.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(l,r,c,h)+10):(p=this.maxHeight,d=this._fitCols(l,s,c,h)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:r,maxWidth:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.lineWidths=[0],p=s+c;let y=t;r.textAlign="left",r.textBaseline="middle";let _=-1,x=-p;return this.legendItems.forEach((E,S)=>{const T=i+n/2+r.measureText(E.text).width;(S===0||d[d.length-1]+T+2*c>l)&&(y+=p,d[d.length-(S>0?0:1)]=0,x+=p,_++),h[S]={left:0,top:x,row:_,width:T,height:s},d[d.length-1]+=T+c}),y}_fitCols(t,n,i,s){const{ctx:r,maxHeight:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.columnSizes=[],p=l-t;let y=c,_=0,x=0,E=0,S=0;return this.legendItems.forEach((T,D)=>{const{itemWidth:M,itemHeight:P}=mW(i,n,r,T,s);D>0&&x+P+2*c>p&&(y+=_+c,d.push({width:_,height:x}),E+=_+c,S++,_=x=0),h[D]={left:E,top:x,col:S,width:M,height:P},_=Math.max(_,M),x+=P+c}),y+=_,d.push({width:_,height:x}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,l=Fc(r,this.left,this.width);if(this.isHorizontal()){let c=0,h=ni(i,this.left+s,this.right-this.lineWidths[c]);for(const d of n)c!==d.row&&(c=d.row,h=ni(i,this.left+s,this.right-this.lineWidths[c])),d.top+=this.top+t+s,d.left=l.leftForLtr(l.x(h),d.width),h+=d.width+s}else{let c=0,h=ni(i,this.top+t+s,this.bottom-this.columnSizes[c].height);for(const d of n)d.col!==c&&(c=d.col,h=ni(i,this.top+t+s,this.bottom-this.columnSizes[c].height)),d.top=h,d.left+=this.left+s,d.left=l.leftForLtr(l.x(d.left),d.width),h+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Gm(t,this),this._draw(),Km(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:l}=t,c=Ue.color,h=Fc(t.rtl,this.left,this.width),d=_n(l.font),{padding:p}=l,y=d.size,_=y/2;let x;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:E,boxHeight:S,itemHeight:T}=Sk(l,y),D=function(G,C,k){if(isNaN(E)||E<=0||isNaN(S)||S<0)return;s.save();const O=Bt(k.lineWidth,1);if(s.fillStyle=Bt(k.fillStyle,c),s.lineCap=Bt(k.lineCap,"butt"),s.lineDashOffset=Bt(k.lineDashOffset,0),s.lineJoin=Bt(k.lineJoin,"miter"),s.lineWidth=O,s.strokeStyle=Bt(k.strokeStyle,c),s.setLineDash(Bt(k.lineDash,[])),l.usePointStyle){const V={radius:S*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:O},F=h.xPlus(G,E/2),H=C+_;NI(s,V,F,H,l.pointStyleWidth&&E)}else{const V=C+Math.max((y-S)/2,0),F=h.leftForLtr(G,E),H=yl(k.borderRadius);s.beginPath(),Object.values(H).some(U=>U!==0)?Od(s,{x:F,y:V,w:E,h:S,radius:H}):s.rect(F,V,E,S),s.fill(),O!==0&&s.stroke()}s.restore()},M=function(G,C,k){Rl(s,k.text,G,C+T/2,d,{strikethrough:k.hidden,textAlign:h.textAlign(k.textAlign)})},P=this.isHorizontal(),$=this._computeTitleHeight();P?x={x:ni(r,this.left+p,this.right-i[0]),y:this.top+p+$,line:0}:x={x:this.left+p,y:ni(r,this.top+$+p,this.bottom-n[0].height),line:0},qI(this.ctx,t.textDirection);const N=T+p;this.legendItems.forEach((G,C)=>{s.strokeStyle=G.fontColor,s.fillStyle=G.fontColor;const k=s.measureText(G.text).width,O=h.textAlign(G.textAlign||(G.textAlign=l.textAlign)),V=E+_+k;let F=x.x,H=x.y;h.setWidth(this.width),P?C>0&&F+V+p>this.right&&(H=x.y+=N,x.line++,F=x.x=ni(r,this.left+p,this.right-i[x.line])):C>0&&H+N>this.bottom&&(F=x.x=F+n[x.line].width+p,x.line++,H=x.y=ni(r,this.top+$+p,this.bottom-n[x.line].height));const U=h.x(F);if(D(U,H,G),F=N$(O,F+E+_,P?F+V:this.right,t.rtl),M(h.x(F),H,G),P)x.x+=V+p;else if(typeof G.text!="string"){const kt=d.lineHeight;x.y+=gO(G,kt)+p}else x.y+=N}),$I(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=_n(n.font),s=Qn(n.padding);if(!n.display)return;const r=Fc(t.rtl,this.left,this.width),l=this.ctx,c=n.position,h=i.size/2,d=s.top+h;let p,y=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+d,y=ni(t.align,y,this.right-_);else{const E=this.columnSizes.reduce((S,T)=>Math.max(S,T.height),0);p=d+ni(t.align,this.top,this.bottom-E-t.labels.padding-this._computeTitleHeight())}const x=ni(c,y,y+_);l.textAlign=r.textAlign(Cx(c)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=i.string,Rl(l,n.text,x,p,i)}_computeTitleHeight(){const t=this.options.title,n=_n(t.font),i=Qn(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,r;if(Gr(t,this.left,this.right)&&Gr(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],Gr(t,s.left,s.left+s.width)&&Gr(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!bW(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=gW(s,i);s&&!r&&Ce(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&Ce(n.onHover,[t,i,this],this)}else i&&Ce(n.onClick,[t,i,this],this)}}function mW(e,t,n,i,s){const r=yW(i,e,t,n),l=_W(s,i,t.lineHeight);return{itemWidth:r,itemHeight:l}}function yW(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((r,l)=>r.length>l.length?r:l)),t+n.size/2+i.measureText(s).width}function _W(e,t,n){let i=e;return typeof t.text!="string"&&(i=gO(t,n)),i}function gO(e,t){const n=e.text?e.text.length:0;return t*n}function bW(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var vW={id:"legend",_element:Tk,start(e,t,n){const i=e.legend=new Tk({ctx:e.ctx,options:n,chart:e});oi.configure(e,i,n),oi.addBox(e,i)},stop(e){oi.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;oi.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:l,borderRadius:c}}=e.legend.options;return e._getSortedDatasetMetas().map(h=>{const d=h.controller.getStyle(n?0:void 0),p=Qn(d.borderWidth);return{text:t[h.index].label,fillStyle:d.backgroundColor,fontColor:r,hidden:!h.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:l&&(c||d.borderRadius),datasetIndex:h.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Vx extends Ss{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=je(i.text)?i.text.length:1;this._padding=Qn(i.padding);const r=s*_n(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:r,options:l}=this,c=l.align;let h=0,d,p,y;return this.isHorizontal()?(p=ni(c,i,r),y=n+t,d=r-i):(l.position==="left"?(p=i+t,y=ni(c,s,n),h=pe*-.5):(p=r-t,y=ni(c,n,s),h=pe*.5),d=s-n),{titleX:p,titleY:y,maxWidth:d,rotation:h}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=_n(n.font),r=i.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:h,rotation:d}=this._drawArgs(r);Rl(t,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:d,textAlign:Cx(n.align),textBaseline:"middle",translation:[l,c]})}}function xW(e,t){const n=new Vx({ctx:e.ctx,options:t,chart:e});oi.configure(e,n,t),oi.addBox(e,n),e.titleBlock=n}var wW={id:"title",_element:Vx,start(e,t,n){xW(e,n)},stop(e){const t=e.titleBlock;oi.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;oi.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const $p=new WeakMap;var EW={id:"subtitle",start(e,t,n){const i=new Vx({ctx:e.ctx,options:n,chart:e});oi.configure(e,i,n),oi.addBox(e,i),$p.set(e,i)},stop(e){oi.removeBox(e,$p.get(e)),$p.delete(e)},beforeUpdate(e,t,n){const i=$p.get(e);oi.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yh={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,r=0;for(t=0,n=e.length;t<n;++t){const c=e[t].element;if(c&&c.hasValue()){const h=c.tooltipPosition();i.add(h.x),s+=h.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((c,h)=>c+h)/i.size,y:s/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,l,c;for(r=0,l=e.length;r<l;++r){const h=e[r].element;if(h&&h.hasValue()){const d=h.getCenterPoint(),p=B0(t,d);p<s&&(s=p,c=h)}}if(c){const h=c.tooltipPosition();n=h.x,i=h.y}return{x:n,y:i}}};function Hs(e,t){return t&&(je(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Fr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function SW(e,t){const{element:n,datasetIndex:i,index:s}=t,r=e.getDatasetMeta(i).controller,{label:l,value:c}=r.getLabelAndValue(s);return{chart:e,label:l,parsed:r.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:c,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function Ak(e,t){const n=e.chart.ctx,{body:i,footer:s,title:r}=e,{boxWidth:l,boxHeight:c}=t,h=_n(t.bodyFont),d=_n(t.titleFont),p=_n(t.footerFont),y=r.length,_=s.length,x=i.length,E=Qn(t.padding);let S=E.height,T=0,D=i.reduce(($,N)=>$+N.before.length+N.lines.length+N.after.length,0);if(D+=e.beforeBody.length+e.afterBody.length,y&&(S+=y*d.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),D){const $=t.displayColors?Math.max(c,h.lineHeight):h.lineHeight;S+=x*$+(D-x)*h.lineHeight+(D-1)*t.bodySpacing}_&&(S+=t.footerMarginTop+_*p.lineHeight+(_-1)*t.footerSpacing);let M=0;const P=function($){T=Math.max(T,n.measureText($).width+M)};return n.save(),n.font=d.string,be(e.title,P),n.font=h.string,be(e.beforeBody.concat(e.afterBody),P),M=t.displayColors?l+2+t.boxPadding:0,be(i,$=>{be($.before,P),be($.lines,P),be($.after,P)}),M=0,n.font=p.string,be(e.footer,P),n.restore(),T+=E.width,{width:T,height:S}}function TW(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function AW(e,t,n,i){const{x:s,width:r}=i,l=n.caretSize+n.caretPadding;if(e==="left"&&s+r+l>t.width||e==="right"&&s-r-l<0)return!0}function kW(e,t,n,i){const{x:s,width:r}=n,{width:l,chartArea:{left:c,right:h}}=e;let d="center";return i==="center"?d=s<=(c+h)/2?"left":"right":s<=r/2?d="left":s>=l-r/2&&(d="right"),AW(d,e,t,n)&&(d="center"),d}function kk(e,t,n){const i=n.yAlign||t.yAlign||TW(e,n);return{xAlign:n.xAlign||t.xAlign||kW(e,t,n,i),yAlign:i}}function RW(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function CW(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function Rk(e,t,n,i){const{caretSize:s,caretPadding:r,cornerRadius:l}=e,{xAlign:c,yAlign:h}=n,d=s+r,{topLeft:p,topRight:y,bottomLeft:_,bottomRight:x}=yl(l);let E=RW(t,c);const S=CW(t,h,d);return h==="center"?c==="left"?E+=d:c==="right"&&(E-=d):c==="left"?E-=Math.max(p,_)+s:c==="right"&&(E+=Math.max(y,x)+s),{x:zn(E,0,i.width-t.width),y:zn(S,0,i.height-t.height)}}function Hp(e,t,n){const i=Qn(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function Ck(e){return Hs([],Fr(e))}function DW(e,t,n){return wo(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Dk(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const mO={beforeTitle:Ur,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Ur,beforeBody:Ur,beforeLabel:Ur,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Wt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ur,afterBody:Ur,beforeFooter:Ur,footer:Ur,afterFooter:Ur};function wi(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?mO[t].call(n,i):s}class Q0 extends Ss{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new KI(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=DW(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=wi(i,"beforeTitle",this,t),r=wi(i,"title",this,t),l=wi(i,"afterTitle",this,t);let c=[];return c=Hs(c,Fr(s)),c=Hs(c,Fr(r)),c=Hs(c,Fr(l)),c}getBeforeBody(t,n){return Ck(wi(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return be(t,r=>{const l={before:[],lines:[],after:[]},c=Dk(i,r);Hs(l.before,Fr(wi(c,"beforeLabel",this,r))),Hs(l.lines,wi(c,"label",this,r)),Hs(l.after,Fr(wi(c,"afterLabel",this,r))),s.push(l)}),s}getAfterBody(t,n){return Ck(wi(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=wi(i,"beforeFooter",this,t),r=wi(i,"footer",this,t),l=wi(i,"afterFooter",this,t);let c=[];return c=Hs(c,Fr(s)),c=Hs(c,Fr(r)),c=Hs(c,Fr(l)),c}_createItems(t){const n=this._active,i=this.chart.data,s=[],r=[],l=[];let c=[],h,d;for(h=0,d=n.length;h<d;++h)c.push(SW(this.chart,n[h]));return t.filter&&(c=c.filter((p,y,_)=>t.filter(p,y,_,i))),t.itemSort&&(c=c.sort((p,y)=>t.itemSort(p,y,i))),be(c,p=>{const y=Dk(t.callbacks,p);s.push(wi(y,"labelColor",this,p)),r.push(wi(y,"labelPointStyle",this,p)),l.push(wi(y,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=l,this.dataPoints=c,c}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,l=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const c=Yh[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=Ak(this,i),d=Object.assign({},c,h),p=kk(this.chart,i,d),y=Rk(i,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,r={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const r=this.getCaretPosition(t,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:h,topRight:d,bottomLeft:p,bottomRight:y}=yl(c),{x:_,y:x}=t,{width:E,height:S}=n;let T,D,M,P,$,N;return r==="center"?($=x+S/2,s==="left"?(T=_,D=T-l,P=$+l,N=$-l):(T=_+E,D=T+l,P=$-l,N=$+l),M=T):(s==="left"?D=_+Math.max(h,p)+l:s==="right"?D=_+E-Math.max(d,y)-l:D=this.caretX,r==="top"?(P=x,$=P-l,T=D-l,M=D+l):(P=x+S,$=P+l,T=D+l,M=D-l),N=P),{x1:T,x2:D,x3:M,y1:P,y2:$,y3:N}}drawTitle(t,n,i){const s=this.title,r=s.length;let l,c,h;if(r){const d=Fc(i.rtl,this.x,this.width);for(t.x=Hp(this,i.titleAlign,i),n.textAlign=d.textAlign(i.titleAlign),n.textBaseline="middle",l=_n(i.titleFont),c=i.titleSpacing,n.fillStyle=i.titleColor,n.font=l.string,h=0;h<r;++h)n.fillText(s[h],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,h+1===r&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,n,i,s,r){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:h,boxWidth:d}=r,p=_n(r.bodyFont),y=Hp(this,"left",r),_=s.x(y),x=h<p.lineHeight?(p.lineHeight-h)/2:0,E=n.y+x;if(r.usePointStyle){const S={radius:Math.min(d,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},T=s.leftForLtr(_,d)+d/2,D=E+h/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,$0(t,S,T,D),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,$0(t,S,T,D)}else{t.lineWidth=ne(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const S=s.leftForLtr(_,d),T=s.leftForLtr(s.xPlus(_,1),d-2),D=yl(l.borderRadius);Object.values(D).some(M=>M!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Od(t,{x:S,y:E,w:d,h,radius:D}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Od(t,{x:T,y:E+1,w:d-2,h:h-2,radius:D}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(S,E,d,h),t.strokeRect(S,E,d,h),t.fillStyle=l.backgroundColor,t.fillRect(T,E+1,d-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:d,boxPadding:p}=i,y=_n(i.bodyFont);let _=y.lineHeight,x=0;const E=Fc(i.rtl,this.x,this.width),S=function(k){n.fillText(k,E.x(t.x+x),t.y+_/2),t.y+=_+r},T=E.textAlign(l);let D,M,P,$,N,G,C;for(n.textAlign=l,n.textBaseline="middle",n.font=y.string,t.x=Hp(this,T,i),n.fillStyle=i.bodyColor,be(this.beforeBody,S),x=c&&T!=="right"?l==="center"?d/2+p:d+2+p:0,$=0,G=s.length;$<G;++$){for(D=s[$],M=this.labelTextColors[$],n.fillStyle=M,be(D.before,S),P=D.lines,c&&P.length&&(this._drawColorBox(n,t,$,E,i),_=Math.max(y.lineHeight,h)),N=0,C=P.length;N<C;++N)S(P[N]),_=y.lineHeight;be(D.after,S)}x=0,_=y.lineHeight,be(this.afterBody,S),t.y-=r}drawFooter(t,n,i){const s=this.footer,r=s.length;let l,c;if(r){const h=Fc(i.rtl,this.x,this.width);for(t.x=Hp(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=h.textAlign(i.footerAlign),n.textBaseline="middle",l=_n(i.footerFont),n.fillStyle=i.footerColor,n.font=l.string,c=0;c<r;++c)n.fillText(s[c],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:r,yAlign:l}=this,{x:c,y:h}=t,{width:d,height:p}=i,{topLeft:y,topRight:_,bottomLeft:x,bottomRight:E}=yl(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+y,h),l==="top"&&this.drawCaret(t,n,i,s),n.lineTo(c+d-_,h),n.quadraticCurveTo(c+d,h,c+d,h+_),l==="center"&&r==="right"&&this.drawCaret(t,n,i,s),n.lineTo(c+d,h+p-E),n.quadraticCurveTo(c+d,h+p,c+d-E,h+p),l==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(c+x,h+p),n.quadraticCurveTo(c,h+p,c,h+p-x),l==="center"&&r==="left"&&this.drawCaret(t,n,i,s),n.lineTo(c,h+y),n.quadraticCurveTo(c,h,c+y,h),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const l=Yh[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=Ak(this,t),h=Object.assign({},l,this._size),d=kk(n,t,h),p=Rk(t,h,d,n);(s._to!==p.x||r._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Qn(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,n),qI(t,n.textDirection),r.y+=l.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),$I(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:c,index:h})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[h],index:h}}),r=!nm(i,s),l=this._positionChanged(s,n);(r||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],l=this._getActiveElements(t,r,n,i),c=this._positionChanged(l,t),h=n||!nm(l,r)||c;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),h}_getActiveElements(t,n,i,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:i,caretY:s,options:r}=this,l=Yh[r.position].call(this,t,n);return l!==!1&&(i!==l.x||s!==l.y)}}wt(Q0,"positioners",Yh);var MW={id:"tooltip",_element:Q0,positioners:Yh,afterInit(e,t,n){n&&(e.tooltip=new Q0({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:mO},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},IW=Object.freeze({__proto__:null,Colors:$7,Decimation:G7,Filler:pW,Legend:vW,SubTitle:EW,Title:wW,Tooltip:MW});const OW=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function PW(e,t,n,i){const s=e.indexOf(t);if(s===-1)return OW(e,t,n,i);const r=e.lastIndexOf(t);return s!==r?n:s}const NW=(e,t)=>e===null?null:zn(Math.round(e),0,t);function Mk(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Z0 extends Ol{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Wt(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:PW(i,t,Bt(n,t),this._addedLabels),NW(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=n;l++)s.push({value:l});return s}getLabelForValue(t){return Mk.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}wt(Z0,"id","category"),wt(Z0,"defaults",{ticks:{callback:Mk}});function LW(e,t){const n=[],{bounds:s,step:r,min:l,max:c,precision:h,count:d,maxTicks:p,maxDigits:y,includeBounds:_}=e,x=r||1,E=p-1,{min:S,max:T}=t,D=!Wt(l),M=!Wt(c),P=!Wt(d),$=(T-S)/(y+1);let N=AA((T-S)/E/x)*x,G,C,k,O;if(N<1e-14&&!D&&!M)return[{value:S},{value:T}];O=Math.ceil(T/N)-Math.floor(S/N),O>E&&(N=AA(O*N/E/x)*x),Wt(h)||(G=Math.pow(10,h),N=Math.ceil(N*G)/G),s==="ticks"?(C=Math.floor(S/N)*N,k=Math.ceil(T/N)*N):(C=S,k=T),D&&M&&r&&R$((c-l)/r,N/1e3)?(O=Math.round(Math.min((c-l)/N,p)),N=(c-l)/O,C=l,k=c):P?(C=D?l:C,k=M?c:k,O=d-1,N=(k-C)/O):(O=(k-C)/N,sd(O,Math.round(O),N/1e3)?O=Math.round(O):O=Math.ceil(O));const V=Math.max(kA(N),kA(C));G=Math.pow(10,Wt(h)?V:h),C=Math.round(C*G)/G,k=Math.round(k*G)/G;let F=0;for(D&&(_&&C!==l?(n.push({value:l}),C<l&&F++,sd(Math.round((C+F*N)*G)/G,l,Ik(l,$,e))&&F++):C<l&&F++);F<O;++F){const H=Math.round((C+F*N)*G)/G;if(M&&H>c)break;n.push({value:H})}return M&&_&&k!==c?n.length&&sd(n[n.length-1].value,c,Ik(c,$,e))?n[n.length-1].value=c:n.push({value:c}):(!M||k===c)&&n.push({value:k}),n}function Ik(e,t,{horizontal:n,minRotation:i}){const s=bs(i),r=(n?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+e).length;return Math.min(t/r,l)}class cm extends Ol{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Wt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const l=h=>s=n?s:h,c=h=>r=i?r:h;if(t){const h=ir(s),d=ir(r);h<0&&d<0?c(0):h>0&&d>0&&l(0)}if(s===r){let h=r===0?1:Math.abs(r*.05);c(r+h),t||l(s-h)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,l=LW(s,r);return t.bounds==="ticks"&&AI(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return tf(t,this.chart.options.locale,this.options.ticks.format)}}class J0 extends cm{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Ze(t)?t:0,this.max=Ze(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=bs(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}wt(J0,"id","linear"),wt(J0,"defaults",{ticks:{callback:Ym.formatters.numeric}});const Nd=e=>Math.floor(Xa(e)),il=(e,t)=>Math.pow(10,Nd(e)+t);function Ok(e){return e/Math.pow(10,Nd(e))===1}function Pk(e,t,n){const i=Math.pow(10,n),s=Math.floor(e/i);return Math.ceil(t/i)-s}function jW(e,t){const n=t-e;let i=Nd(n);for(;Pk(e,t,i)>10;)i++;for(;Pk(e,t,i)<10;)i--;return Math.min(i,Nd(e))}function VW(e,{min:t,max:n}){t=ji(e.min,t);const i=[],s=Nd(t);let r=jW(t,n),l=r<0?Math.pow(10,Math.abs(r)):1;const c=Math.pow(10,r),h=s>r?Math.pow(10,s):0,d=Math.round((t-h)*l)/l,p=Math.floor((t-h)/c/10)*c*10;let y=Math.floor((d-p)/Math.pow(10,r)),_=ji(e.min,Math.round((h+p+y*Math.pow(10,r))*l)/l);for(;_<n;)i.push({value:_,major:Ok(_),significand:y}),y>=10?y=y<15?15:20:y++,y>=20&&(r++,y=2,l=r>=0?1:l),_=Math.round((h+p+y*Math.pow(10,r))*l)/l;const x=ji(e.max,_);return i.push({value:x,major:Ok(x),significand:y}),i}class tv extends Ol{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=cm.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return Ze(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Ze(t)?Math.max(0,t):null,this.max=Ze(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ze(this._userMin)&&(this.min=t===il(this.min,0)?il(this.min,-1):il(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=c=>i=t?i:c,l=c=>s=n?s:c;i===s&&(i<=0?(r(1),l(10)):(r(il(i,-1)),l(il(s,1)))),i<=0&&r(il(s,-1)),s<=0&&l(il(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=VW(n,this);return t.bounds==="ticks"&&AI(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":tf(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Xa(t),this._valueRange=Xa(this.max)-Xa(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Xa(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}wt(tv,"id","logarithmic"),wt(tv,"defaults",{ticks:{callback:Ym.formatters.logarithmic,major:{enabled:!0}}});function ev(e){const t=e.ticks;if(t.display&&e.display){const n=Qn(t.backdropPadding);return Bt(t.font&&t.font.size,Ue.font.size)+n.height}return 0}function UW(e,t,n){return n=je(n)?n:[n],{w:H$(e,t.string,n),h:n.length*t.lineHeight}}function Nk(e,t,n,i,s){return e===i||e===s?{start:t-n/2,end:t+n/2}:e<i||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function zW(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],s=[],r=e._pointLabels.length,l=e.options.pointLabels,c=l.centerPointLabels?pe/r:0;for(let h=0;h<r;h++){const d=l.setContext(e.getPointLabelContext(h));s[h]=d.padding;const p=e.getPointPosition(h,e.drawingArea+s[h],c),y=_n(d.font),_=UW(e.ctx,y,e._pointLabels[h]);i[h]=_;const x=ri(e.getIndexAngle(h)+c),E=Math.round(kx(x)),S=Nk(E,p.x,_.w,0,180),T=Nk(E,p.y,_.h,90,270);FW(n,t,x,S,T)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=$W(e,i,s)}function FW(e,t,n,i,s){const r=Math.abs(Math.sin(n)),l=Math.abs(Math.cos(n));let c=0,h=0;i.start<t.l?(c=(t.l-i.start)/r,e.l=Math.min(e.l,t.l-c)):i.end>t.r&&(c=(i.end-t.r)/r,e.r=Math.max(e.r,t.r+c)),s.start<t.t?(h=(t.t-s.start)/l,e.t=Math.min(e.t,t.t-h)):s.end>t.b&&(h=(s.end-t.b)/l,e.b=Math.max(e.b,t.b+h))}function BW(e,t,n){const i=e.drawingArea,{extra:s,additionalAngle:r,padding:l,size:c}=n,h=e.getPointPosition(t,i+s+l,r),d=Math.round(kx(ri(h.angle+rn))),p=YW(h.y,c.h,d),y=HW(d),_=WW(h.x,c.w,y);return{visible:!0,x:h.x,y:p,textAlign:y,left:_,top:p,right:_+c.w,bottom:p+c.h}}function qW(e,t){if(!t)return!0;const{left:n,top:i,right:s,bottom:r}=e;return!(Xr({x:n,y:i},t)||Xr({x:n,y:r},t)||Xr({x:s,y:i},t)||Xr({x:s,y:r},t))}function $W(e,t,n){const i=[],s=e._pointLabels.length,r=e.options,{centerPointLabels:l,display:c}=r.pointLabels,h={extra:ev(r)/2,additionalAngle:l?pe/s:0};let d;for(let p=0;p<s;p++){h.padding=n[p],h.size=t[p];const y=BW(e,p,h);i.push(y),c==="auto"&&(y.visible=qW(y,d),y.visible&&(d=y))}return i}function HW(e){return e===0||e===180?"center":e<180?"left":"right"}function WW(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function YW(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function GW(e,t,n){const{left:i,top:s,right:r,bottom:l}=n,{backdropColor:c}=t;if(!Wt(c)){const h=yl(t.borderRadius),d=Qn(t.backdropPadding);e.fillStyle=c;const p=i-d.left,y=s-d.top,_=r-i+d.width,x=l-s+d.height;Object.values(h).some(E=>E!==0)?(e.beginPath(),Od(e,{x:p,y,w:_,h:x,radius:h}),e.fill()):e.fillRect(p,y,_,x)}}function KW(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){const r=e._pointLabelItems[s];if(!r.visible)continue;const l=i.setContext(e.getPointLabelContext(s));GW(n,l,r);const c=_n(l.font),{x:h,y:d,textAlign:p}=r;Rl(n,e._pointLabels[s],h,d+c.lineHeight/2,c,{color:l.color,textAlign:p,textBaseline:"middle"})}}function yO(e,t,n,i){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,Ve);else{let r=e.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let l=1;l<i;l++)r=e.getPointPosition(l,t),s.lineTo(r.x,r.y)}}function XW(e,t,n,i,s){const r=e.ctx,l=t.circular,{color:c,lineWidth:h}=t;!l&&!i||!c||!h||n<0||(r.save(),r.strokeStyle=c,r.lineWidth=h,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),yO(e,n,l,i),r.closePath(),r.stroke(),r.restore())}function QW(e,t,n){return wo(e,{label:n,index:t,type:"pointLabel"})}class Gh extends cm{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Qn(ev(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Ze(t)&&!isNaN(t)?t:0,this.max=Ze(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ev(this.options))}generateTickLabels(t){cm.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const s=Ce(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?zW(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,s){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,s))}getIndexAngle(t){const n=Ve/(this._pointLabels.length||1),i=this.options.startAngle||0;return ri(t*n+bs(i))}getDistanceFromCenterForValue(t){if(Wt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Wt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return QW(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const s=this.getIndexAngle(t)-rn+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),yO(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,l=this._pointLabels.length;let c,h,d;if(n.pointLabels.display&&KW(this,l),s.display&&this.ticks.forEach((p,y)=>{if(y!==0||y===0&&this.min<0){h=this.getDistanceFromCenterForValue(p.value);const _=this.getContext(y),x=s.setContext(_),E=r.setContext(_);XW(this,x,h,l,E)}}),i.display){for(t.save(),c=l-1;c>=0;c--){const p=i.setContext(this.getPointLabelContext(c)),{color:y,lineWidth:_}=p;!_||!y||(t.lineWidth=_,t.strokeStyle=y,t.setLineDash(p.borderDash),t.lineDashOffset=p.borderDashOffset,h=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),d=this.getPointPosition(c,h),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,h)=>{if(h===0&&this.min>=0&&!n.reverse)return;const d=i.setContext(this.getContext(h)),p=_n(d.font);if(r=this.getDistanceFromCenterForValue(this.ticks[h].value),d.showLabelBackdrop){t.font=p.string,l=t.measureText(c.label).width,t.fillStyle=d.backdropColor;const y=Qn(d.backdropPadding);t.fillRect(-l/2-y.left,-r-p.size/2-y.top,l+y.width,p.size+y.height)}Rl(t,c.label,0,-r,p,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}wt(Gh,"id","radialLinear"),wt(Gh,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ym.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),wt(Gh,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),wt(Gh,"descriptors",{angleLines:{_fallback:"grid"}});const Jm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ai=Object.keys(Jm);function Lk(e,t){return e-t}function jk(e,t){if(Wt(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:r}=e._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),Ze(l)||(l=typeof i=="string"?n.parse(l,i):n.parse(l)),l===null?null:(s&&(l=s==="week"&&(iu(r)||r===!0)?n.startOf(l,"isoWeek",r):n.startOf(l,s)),+l)}function Vk(e,t,n,i){const s=Ai.length;for(let r=Ai.indexOf(e);r<s-1;++r){const l=Jm[Ai[r]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-t)/(c*l.size))<=i)return Ai[r]}return Ai[s-1]}function ZW(e,t,n,i,s){for(let r=Ai.length-1;r>=Ai.indexOf(n);r--){const l=Ai[r];if(Jm[l].common&&e._adapter.diff(s,i,l)>=t-1)return l}return Ai[n?Ai.indexOf(n):0]}function JW(e){for(let t=Ai.indexOf(e)+1,n=Ai.length;t<n;++t)if(Jm[Ai[t]].common)return Ai[t]}function Uk(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=Rx(n,t),r=n[i]>=t?n[i]:n[s];e[r]=!0}}function tY(e,t,n,i){const s=e._adapter,r=+s.startOf(t[0].value,i),l=t[t.length-1].value;let c,h;for(c=r;c<=l;c=+s.add(c,1,i))h=n[c],h>=0&&(t[h].major=!0);return t}function zk(e,t,n){const i=[],s={},r=t.length;let l,c;for(l=0;l<r;++l)c=t[l],s[c]=l,i.push({value:c,major:!1});return r===0||!n?i:tY(e,i,s,n)}class Ld extends Ol{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new lH._date(t.adapters.date);s.init(n),id(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:jk(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:r,minDefined:l,maxDefined:c}=this.getUserBounds();function h(d){!l&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(r=Math.max(r,d.max))}(!l||!c)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=Ze(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=Ze(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,l=this.max,c=I$(s,r,l);return this._unit=n.unit||(i.autoSkip?Vk(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):ZW(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:JW(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),zk(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=zn(n,0,l),i=zn(i,0,l),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,l=r.unit||Vk(r.minUnit,n,i,this._getLabelCapacity(n)),c=Bt(s.ticks.stepSize,1),h=l==="week"?r.isoWeekday:!1,d=iu(h)||h===!0,p={};let y=n,_,x;if(d&&(y=+t.startOf(y,"isoWeek",h)),y=+t.startOf(y,d?"day":l),t.diff(i,n,l)>1e5*c)throw new Error(n+" and "+i+" are too far apart with stepSize of "+c+" "+l);const E=s.ticks.source==="data"&&this.getDataTimestamps();for(_=y,x=0;_<i;_=+t.add(_,c,l),x++)Uk(p,_,E);return(_===i||s.bounds==="ticks"||x===1)&&Uk(p,_,E),Object.keys(p).sort(Lk).map(S=>+S)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,r=this._unit,l=n||s[r];return this._adapter.format(t,l)}_tickFormatFunction(t,n,i,s){const r=this.options,l=r.ticks.callback;if(l)return Ce(l,[t,n,i],this);const c=r.time.displayFormats,h=this._unit,d=this._majorUnit,p=h&&c[h],y=d&&c[d],_=i[n],x=d&&y&&_&&_.major;return this._adapter.format(t,s||(x?y:p))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=bs(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*r+c*l,h:i*l+c*r}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(t,0,zk(this,[t],this._majorUnit),s),l=this._getLabelSize(r),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(jk(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return CI(t.sort(Lk))}}wt(Ld,"id","time"),wt(Ld,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Wp(e,t,n){let i=0,s=e.length-1,r,l,c,h;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=Kr(e,"pos",t)),{pos:r,time:c}=e[i],{pos:l,time:h}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=Kr(e,"time",t)),{time:r,pos:c}=e[i],{time:l,pos:h}=e[s]);const d=l-r;return d?c+(h-c)*(t-r)/d:c}class nv extends Ld{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Wp(n,this.min),this._tableRange=Wp(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],r=[];let l,c,h,d,p;for(l=0,c=t.length;l<c;++l)d=t[l],d>=n&&d<=i&&s.push(d);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(l=0,c=s.length;l<c;++l)p=s[l+1],h=s[l-1],d=s[l],Math.round((p+h)/2)!==d&&r.push({time:d,pos:l/(c-1)});return r}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Wp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Wp(this._table,i*this._tableRange+this._minPos,!0)}}wt(nv,"id","timeseries"),wt(nv,"defaults",Ld.defaults);var eY=Object.freeze({__proto__:null,CategoryScale:Z0,LinearScale:J0,LogarithmicScale:tv,RadialLinearScale:Gh,TimeScale:Ld,TimeSeriesScale:nv});const nY=[oH,j7,IW,eY];/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var Fk=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),ud={toTextLines:function(e){var t=[],n;for(e=[].concat(e);e.length;)n=e.pop(),typeof n=="string"?t.unshift.apply(t,n.split(`
`)):Array.isArray(n)?e.push.apply(e,n):Wt(e)||t.unshift(""+n);return t},textSize:function(e,t,n){var i=[].concat(t),s=i.length,r=e.font,l=0,c;for(e.font=n.string,c=0;c<s;++c)l=Math.max(e.measureText(i[c]).width,l);return e.font=r,{height:s*n.lineHeight,width:l}},bound:function(e,t,n){return Math.max(e,Math.min(t,n))},arrayDiff:function(e,t){var n=e.slice(),i=[],s,r,l,c;for(s=0,l=t.length;s<l;++s)c=t[s],r=n.indexOf(c),r===-1?i.push([c,1]):n.splice(r,1);for(s=0,l=n.length;s<l;++s)i.push([n[s],-1]);return i},rasterize:function(e){return Math.round(e*Fk)/Fk}};function $b(e,t){var n=t.x,i=t.y;if(n===null)return{x:0,y:-1};if(i===null)return{x:1,y:0};var s=e.x-n,r=e.y-i,l=Math.sqrt(s*s+r*r);return{x:l?s/l:0,y:l?r/l:-1}}function iY(e,t,n,i,s){switch(s){case"center":n=i=0;break;case"bottom":n=0,i=1;break;case"right":n=1,i=0;break;case"left":n=-1,i=0;break;case"top":n=0,i=-1;break;case"start":n=-n,i=-i;break;case"end":break;default:s*=Math.PI/180,n=Math.cos(s),i=Math.sin(s);break}return{x:e,y:t,vx:n,vy:i}}var sY=0,_O=1,bO=2,vO=4,xO=8;function Yp(e,t,n){var i=sY;return e<n.left?i|=_O:e>n.right&&(i|=bO),t<n.top?i|=xO:t>n.bottom&&(i|=vO),i}function rY(e,t){for(var n=e.x0,i=e.y0,s=e.x1,r=e.y1,l=Yp(n,i,t),c=Yp(s,r,t),h,d,p;!(!(l|c)||l&c);)h=l||c,h&xO?(d=n+(s-n)*(t.top-i)/(r-i),p=t.top):h&vO?(d=n+(s-n)*(t.bottom-i)/(r-i),p=t.bottom):h&bO?(p=i+(r-i)*(t.right-n)/(s-n),d=t.right):h&_O&&(p=i+(r-i)*(t.left-n)/(s-n),d=t.left),h===l?(n=d,i=p,l=Yp(n,i,t)):(s=d,r=p,c=Yp(s,r,t));return{x0:n,x1:s,y0:i,y1:r}}function Gp(e,t){var n=t.anchor,i=e,s,r;return t.clamp&&(i=rY(i,t.area)),n==="start"?(s=i.x0,r=i.y0):n==="end"?(s=i.x1,r=i.y1):(s=(i.x0+i.x1)/2,r=(i.y0+i.y1)/2),iY(s,r,e.vx,e.vy,t.align)}var Kp={arc:function(e,t){var n=(e.startAngle+e.endAngle)/2,i=Math.cos(n),s=Math.sin(n),r=e.innerRadius,l=e.outerRadius;return Gp({x0:e.x+i*r,y0:e.y+s*r,x1:e.x+i*l,y1:e.y+s*l,vx:i,vy:s},t)},point:function(e,t){var n=$b(e,t.origin),i=n.x*e.options.radius,s=n.y*e.options.radius;return Gp({x0:e.x-i,y0:e.y-s,x1:e.x+i,y1:e.y+s,vx:n.x,vy:n.y},t)},bar:function(e,t){var n=$b(e,t.origin),i=e.x,s=e.y,r=0,l=0;return e.horizontal?(i=Math.min(e.x,e.base),r=Math.abs(e.base-e.x)):(s=Math.min(e.y,e.base),l=Math.abs(e.base-e.y)),Gp({x0:i,y0:s+l,x1:i+r,y1:s,vx:n.x,vy:n.y},t)},fallback:function(e,t){var n=$b(e,t.origin);return Gp({x0:e.x,y0:e.y,x1:e.x+(e.width||0),y1:e.y+(e.height||0),vx:n.x,vy:n.y},t)}},Qr=ud.rasterize;function aY(e){var t=e.borderWidth||0,n=e.padding,i=e.size.height,s=e.size.width,r=-s/2,l=-i/2;return{frame:{x:r-n.left-t,y:l-n.top-t,w:s+n.width+t*2,h:i+n.height+t*2},text:{x:r,y:l,w:s,h:i}}}function oY(e,t){var n=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var i=n.getBasePixel();return e.horizontal?{x:i,y:null}:{x:null,y:i}}function lY(e){return e instanceof Pc?Kp.arc:e instanceof ld?Kp.point:e instanceof cd?Kp.bar:Kp.fallback}function cY(e,t,n,i,s,r){var l=Math.PI/2;if(r){var c=Math.min(r,s/2,i/2),h=t+c,d=n+c,p=t+i-c,y=n+s-c;e.moveTo(t,d),h<p&&d<y?(e.arc(h,d,c,-Math.PI,-l),e.arc(p,d,c,-l,0),e.arc(p,y,c,0,l),e.arc(h,y,c,l,Math.PI)):h<p?(e.moveTo(h,n),e.arc(p,d,c,-l,l),e.arc(h,d,c,l,Math.PI+l)):d<y?(e.arc(h,d,c,-Math.PI,0),e.arc(h,y,c,0,Math.PI)):e.arc(h,d,c,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,i,s)}function uY(e,t,n){var i=n.backgroundColor,s=n.borderColor,r=n.borderWidth;!i&&(!s||!r)||(e.beginPath(),cY(e,Qr(t.x)+r/2,Qr(t.y)+r/2,Qr(t.w)-r,Qr(t.h)-r,n.borderRadius),e.closePath(),i&&(e.fillStyle=i,e.fill()),s&&r&&(e.strokeStyle=s,e.lineWidth=r,e.lineJoin="miter",e.stroke()))}function hY(e,t,n){var i=n.lineHeight,s=e.w,r=e.x,l=e.y+i/2;return t==="center"?r+=s/2:(t==="end"||t==="right")&&(r+=s),{h:i,w:s,x:r,y:l}}function dY(e,t,n){var i=e.shadowBlur,s=n.stroked,r=Qr(n.x),l=Qr(n.y),c=Qr(n.w);s&&e.strokeText(t,r,l,c),n.filled&&(i&&s&&(e.shadowBlur=0),e.fillText(t,r,l,c),i&&s&&(e.shadowBlur=i))}function fY(e,t,n,i){var s=i.textAlign,r=i.color,l=!!r,c=i.font,h=t.length,d=i.textStrokeColor,p=i.textStrokeWidth,y=d&&p,_;if(!(!h||!l&&!y))for(n=hY(n,s,c),e.font=c.string,e.textAlign=s,e.textBaseline="middle",e.shadowBlur=i.textShadowBlur,e.shadowColor=i.textShadowColor,l&&(e.fillStyle=r),y&&(e.lineJoin="round",e.lineWidth=p,e.strokeStyle=d),_=0,h=t.length;_<h;++_)dY(e,t[_],{stroked:y,filled:l,w:n.w,x:n.x,y:n.y+n.h*_})}var wO=function(e,t,n,i){var s=this;s._config=e,s._index=i,s._model=null,s._rects=null,s._ctx=t,s._el=n};rr(wO.prototype,{_modelize:function(e,t,n,i){var s=this,r=s._index,l=_n(Le([n.font,{}],i,r)),c=Le([n.color,Ue.color],i,r);return{align:Le([n.align,"center"],i,r),anchor:Le([n.anchor,"center"],i,r),area:i.chart.chartArea,backgroundColor:Le([n.backgroundColor,null],i,r),borderColor:Le([n.borderColor,null],i,r),borderRadius:Le([n.borderRadius,0],i,r),borderWidth:Le([n.borderWidth,0],i,r),clamp:Le([n.clamp,!1],i,r),clip:Le([n.clip,!1],i,r),color:c,display:e,font:l,lines:t,offset:Le([n.offset,4],i,r),opacity:Le([n.opacity,1],i,r),origin:oY(s._el,i),padding:Qn(Le([n.padding,4],i,r)),positioner:lY(s._el),rotation:Le([n.rotation,0],i,r)*(Math.PI/180),size:ud.textSize(s._ctx,t,l),textAlign:Le([n.textAlign,"start"],i,r),textShadowBlur:Le([n.textShadowBlur,0],i,r),textShadowColor:Le([n.textShadowColor,c],i,r),textStrokeColor:Le([n.textStrokeColor,c],i,r),textStrokeWidth:Le([n.textStrokeWidth,0],i,r)}},update:function(e){var t=this,n=null,i=null,s=t._index,r=t._config,l,c,h,d=Le([r.display,!0],e,s);d&&(l=e.dataset.data[s],c=Bt(Ce(r.formatter,[l,e]),l),h=Wt(c)?[]:ud.toTextLines(c),h.length&&(n=t._modelize(d,h,r,e),i=aY(n))),t._model=n,t._rects=i},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var n=this,i=e.ctx,s=n._model,r=n._rects,l;this.visible()&&(i.save(),s.clip&&(l=s.area,i.beginPath(),i.rect(l.left,l.top,l.right-l.left,l.bottom-l.top),i.clip()),i.globalAlpha=ud.bound(0,s.opacity,1),i.translate(Qr(t.x),Qr(t.y)),i.rotate(s.rotation),uY(i,r.frame,s),fY(i,s.lines,r.text,s),i.restore())}});var pY=Number.MIN_SAFE_INTEGER||-9007199254740991,gY=Number.MAX_SAFE_INTEGER||9007199254740991;function Oh(e,t,n){var i=Math.cos(n),s=Math.sin(n),r=t.x,l=t.y;return{x:r+i*(e.x-r)-s*(e.y-l),y:l+s*(e.x-r)+i*(e.y-l)}}function Bk(e,t){var n=gY,i=pY,s=t.origin,r,l,c,h,d;for(r=0;r<e.length;++r)l=e[r],c=l.x-s.x,h=l.y-s.y,d=t.vx*c+t.vy*h,n=Math.min(n,d),i=Math.max(i,d);return{min:n,max:i}}function Xp(e,t){var n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);return{vx:(t.x-e.x)/s,vy:(t.y-e.y)/s,origin:e,ln:s}}var EO=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};rr(EO.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,n){this._rotation=n,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,n=1,i=t._rect;return e=Oh(e,t.center(),-t._rotation),!(e.x<i.x-n||e.y<i.y-n||e.x>i.x+i.w+n*2||e.y>i.y+i.h+n*2)},intersects:function(e){var t=this._points(),n=e._points(),i=[Xp(t[0],t[1]),Xp(t[0],t[3])],s,r,l;for(this._rotation!==e._rotation&&i.push(Xp(n[0],n[1]),Xp(n[0],n[3])),s=0;s<i.length;++s)if(r=Bk(t,i[s]),l=Bk(n,i[s]),r.max<l.min||l.max<r.min)return!1;return!0},_points:function(){var e=this,t=e._rect,n=e._rotation,i=e.center();return[Oh({x:t.x,y:t.y},i,n),Oh({x:t.x+t.w,y:t.y},i,n),Oh({x:t.x+t.w,y:t.y+t.h},i,n),Oh({x:t.x,y:t.y+t.h},i,n)]}});function SO(e,t,n){var i=t.positioner(e,t),s=i.vx,r=i.vy;if(!s&&!r)return{x:i.x,y:i.y};var l=n.w,c=n.h,h=t.rotation,d=Math.abs(l/2*Math.cos(h))+Math.abs(c/2*Math.sin(h)),p=Math.abs(l/2*Math.sin(h))+Math.abs(c/2*Math.cos(h)),y=1/Math.max(Math.abs(s),Math.abs(r));return d*=s*y,p*=r*y,d+=t.offset*s,p+=t.offset*r,{x:i.x+d,y:i.y+p}}function mY(e,t){var n,i,s,r;for(n=e.length-1;n>=0;--n)for(s=e[n].$layout,i=n-1;i>=0&&s._visible;--i)r=e[i].$layout,r._visible&&s._box.intersects(r._box)&&t(s,r);return e}function yY(e){var t,n,i,s,r,l,c;for(t=0,n=e.length;t<n;++t)i=e[t],s=i.$layout,s._visible&&(c=new Proxy(i._el,{get:(h,d)=>h.getProps([d],!0)[d]}),r=i.geometry(),l=SO(c,i.model(),r),s._box.update(l,r,i.rotation()));return mY(e,function(h,d){var p=h._hidable,y=d._hidable;p&&y||y?d._visible=!1:p&&(h._visible=!1)})}var hd={prepare:function(e){var t=[],n,i,s,r,l;for(n=0,s=e.length;n<s;++n)for(i=0,r=e[n].length;i<r;++i)l=e[n][i],t.push(l),l.$layout={_box:new EO,_hidable:!1,_visible:!0,_set:n,_idx:l._index};return t.sort(function(c,h){var d=c.$layout,p=h.$layout;return d._idx===p._idx?p._set-d._set:p._idx-d._idx}),this.update(t),t},update:function(e){var t=!1,n,i,s,r,l;for(n=0,i=e.length;n<i;++n)s=e[n],r=s.model(),l=s.$layout,l._hidable=r&&r.display==="auto",l._visible=s.visible(),t|=l._hidable;t&&yY(e)},lookup:function(e,t){var n,i;for(n=e.length-1;n>=0;--n)if(i=e[n].$layout,i&&i._visible&&i._box.contains(t))return e[n];return null},draw:function(e,t){var n,i,s,r,l,c;for(n=0,i=t.length;n<i;++n)s=t[n],r=s.$layout,r._visible&&(l=s.geometry(),c=SO(s._el,s.model(),l),r._box.update(c,l,s.rotation()),s.draw(e,c))}},_Y=function(e){if(Wt(e))return null;var t=e,n,i,s;if(ne(e))if(!Wt(e.label))t=e.label;else if(!Wt(e.r))t=e.r;else for(t="",n=Object.keys(e),s=0,i=n.length;s<i;++s)t+=(s!==0?", ":"")+n[s]+": "+e[n[s]];return""+t},bY={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:_Y,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},Ei="$datalabels",TO="$default";function vY(e,t){var n=e.datalabels,i={},s=[],r,l;return n===!1?null:(n===!0&&(n={}),t=rr({},[t,n]),r=t.labels||{},l=Object.keys(r),delete t.labels,l.length?l.forEach(function(c){r[c]&&s.push(rr({},[t,r[c],{_key:c}]))}):s.push(t),i=s.reduce(function(c,h){return be(h.listeners||{},function(d,p){c[p]=c[p]||{},c[p][h._key||TO]=d}),delete h.listeners,c},{}),{labels:s,listeners:i})}function iv(e,t,n,i){if(t){var s=n.$context,r=n.$groups,l;t[r._set]&&(l=t[r._set][r._key],l&&Ce(l,[s,i])===!0&&(e[Ei]._dirty=!0,n.update(s)))}}function xY(e,t,n,i,s){var r,l;!n&&!i||(n?i?n!==i&&(l=r=!0):l=!0:r=!0,l&&iv(e,t.leave,n,s),r&&iv(e,t.enter,i,s))}function wY(e,t){var n=e[Ei],i=n._listeners,s,r;if(!(!i.enter&&!i.leave)){if(t.type==="mousemove")r=hd.lookup(n._labels,t);else if(t.type!=="mouseout")return;s=n._hovered,n._hovered=r,xY(e,i,s,r,t)}}function EY(e,t){var n=e[Ei],i=n._listeners.click,s=i&&hd.lookup(n._labels,t);s&&iv(e,i,s,t)}var SY={id:"datalabels",defaults:bY,beforeInit:function(e){e[Ei]={_actives:[]}},beforeUpdate:function(e){var t=e[Ei];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,n){var i=t.index,s=e[Ei],r=s._datasets[i]=[],l=e.isDatasetVisible(i),c=e.data.datasets[i],h=vY(c,n),d=t.meta.data||[],p=e.ctx,y,_,x,E,S,T,D,M;for(p.save(),y=0,x=d.length;y<x;++y)if(D=d[y],D[Ei]=[],l&&D&&e.getDataVisibility(y)&&!D.skip)for(_=0,E=h.labels.length;_<E;++_)S=h.labels[_],T=S._key,M=new wO(S,p,D,y),M.$groups={_set:i,_key:T||TO},M.$context={active:!1,chart:e,dataIndex:y,dataset:c,datasetIndex:i},M.update(M.$context),D[Ei].push(M),r.push(M);p.restore(),rr(s._listeners,h.listeners,{merger:function(P,$,N){$[P]=$[P]||{},$[P][t.index]=N[P],s._listened=!0}})},afterUpdate:function(e){e[Ei]._labels=hd.prepare(e[Ei]._datasets)},afterDatasetsDraw:function(e){hd.draw(e,e[Ei]._labels)},beforeEvent:function(e,t){if(e[Ei]._listened){var n=t.event;switch(n.type){case"mousemove":case"mouseout":wY(e,n);break;case"click":EY(e,n);break}}},afterEvent:function(e){var t=e[Ei],n=t._actives,i=t._actives=e.getActiveElements(),s=ud.arrayDiff(n,i),r,l,c,h,d,p,y;for(r=0,l=s.length;r<l;++r)if(d=s[r],d[1])for(y=d[0].element[Ei]||[],c=0,h=y.length;c<h;++c)p=y[c],p.$context.active=d[1]===1,p.update(p.$context);(t._dirty||s.length)&&(hd.update(t._labels),e.render()),delete t._dirty}};yi.register(...nY,SY);const Qp=["#4e79a7","#ff9da7","#59a14f","#9c755f","#edc949","#e15759","#76b7b2","#f28e2b","#af7aa1","#bab0ab"],qk={homeplus:704,nsmall:812},um=e=>String(e??"").replace(/\s+/g,"").toLowerCase(),Hb=e=>um(e.company)==="homeplus",Wb=e=>["nsmall","n-small"].includes(um(e.company));function Zp(e){const t=[e.request_date,e.open_date,e.created_date,e.designer_start_date,e.designer_end_date];for(const n of t){if(!n)continue;if(typeof(n==null?void 0:n.toDate)=="function")return n.toDate().getTime();if(n instanceof Date)return n.getTime();const i=new Date(n).getTime();if(!Number.isNaN(i))return i}return null}const $k=e=>e.reduce((t,n)=>t+(+n||0),0);function Jp(e){const t=new Map;for(const n of e){const i=n&&String(n).trim()||"기타";t.set(i,(t.get(i)||0)+1)}return Array.from(t,([n,i])=>({name:n,value:i}))}function tg(e){if(!e)return"대기";const t=e.replace(/\s/g,"");return/(진행)/.test(t)?"진행중":/(검수중)/.test(t)?"검수중":/(검수요청)/.test(t)?"검수요청":/(완료)/.test(t)?"완료":/(취소|cancel)/i.test(t)?"취소":/(대기)/.test(t)?"대기":e}const eg=e=>{const t=new Date(e).getDay();return t===0||t===6},Yb=e=>{const t=new Date(e);return`${t.getFullYear()}.${String(t.getMonth()+1).padStart(2,"0")}.${String(t.getDate()).padStart(2,"0")}`};function TY(e){const t=new Date(e),n=t.getDay(),i=n===0?-6:1-n,s=new Date(t);s.setDate(t.getDate()+i);const r=new Date(s);r.setDate(s.getDate()+4);const l=new Date(s.getFullYear(),s.getMonth(),s.getDate()).getTime(),c=new Date(r.getFullYear(),r.getMonth(),r.getDate(),23,59,59,999).getTime();return{start:l,end:c}}function AY(e){const t=new Date(e.getFullYear(),e.getMonth(),1),n=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:t.getTime(),end:n.getTime()}}function Hk(e,t){let n=0,i=new Date(e);for(;i.getTime()<=t;){const s=i.getDay();s>=1&&s<=5&&n++,i.setDate(i.getDate()+1)}return n}function Ux({capacityHoursPerMonth:e}){var nt;const t=new Date,[n,i]=j.useState({y:t.getFullYear(),m:t.getMonth()+1}),[s]=j.useState(new Date),[r,l]=j.useState("day"),[c,h]=j.useState(null),[d,p]=j.useState(""),[y,_]=j.useState("homeplus");j.useEffect(()=>{const K=xo(li,async Q=>{if(!Q){h(null),p("");return}const at=await Sl(Sn(Gt,"users",Q.uid));if(at.exists()){const Y=at.data();h(Number((Y==null?void 0:Y.role)??0)),p(String((Y==null?void 0:Y.company)??""));const ut=um(Y==null?void 0:Y.company);Number(Y==null?void 0:Y.role)===1&&(ut==="homeplus"||ut==="nsmall"||ut==="n-small")&&_(ut.startsWith("n")?"nsmall":"homeplus")}});return()=>K()},[]);const[x,E]=j.useState([]);j.useEffect(()=>{const K=rs(An(Ye(Gt,"design_request")),Q=>{const at=[];Q.forEach(Y=>at.push({id:Y.id,...Y.data()})),E(at)});return()=>K()},[]);const[S,T]=j.useState([]);j.useEffect(()=>{const K=rs(An(Ye(Gt,"users"),sn("role","==",2)),Q=>{const at=[];Q.forEach(Y=>{const ut=Y.data();at.push({name:String((ut==null?void 0:ut.name)??""),company:String((ut==null?void 0:ut.company)??"")})}),T(at)});return()=>K()},[]);const D=j.useMemo(()=>{const K=new Date(n.y,n.m-1,1).getTime(),Q=new Date(n.y,n.m,0,23,59,59,999).getTime();return{start:K,end:Q}},[n]),M=j.useMemo(()=>c===1?um(d).startsWith("n")?"nsmall":"homeplus":y,[c,d,y]),P=j.useMemo(()=>M==="all"?[]:x.filter(K=>{const Q=Zp(K),at=Q!==null&&Q>=D.start&&Q<=D.end;let Y=!0;return M==="homeplus"?Y=Hb(K):M==="nsmall"&&(Y=Wb(K)),at&&Y}),[x,D,M]),$=j.useMemo(()=>{if(M==="all")return null;const K=P.length,Q=P.filter(bt=>tg(bt.status)==="완료").length,at=$k(P.map(bt=>Number(bt.out_work_hour)||0)),Y=M==="homeplus"?e??qk.homeplus:qk.nsmall,ut=Y?Math.round(at/Y*100):0;return{totalRequests:K,producedCount:Q,usedHoursDisplay:at.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),availHours:Y,usedRatio:ut}},[P,M,e]),N=j.useMemo(()=>{if(M==="all")return[];const K=Jp(P.map(Q=>Q.task_type||Q.task_type_detail)).sort((Q,at)=>at.value-Q.value);return K.length>8?[...K.slice(0,8),{name:"기타",value:K.slice(8).reduce((Q,at)=>Q+at.value,0)}]:K},[P,M]),G=j.useMemo(()=>{if(M==="all")return[];const K=["대기중","진행중","검수중","검수요청중","완료","취소"],Q=Jp(P.map(Y=>tg(Y.status))),at=new Map(Q.map(Y=>[Y.name,Y.value]));return K.map(Y=>({name:Y,value:at.get(Y)||0}))},[P,M]),C=j.useMemo(()=>M==="all"?[]:Jp(P.map(K=>K.task_form)).sort((K,Q)=>Q.value-K.value),[P,M]),k=j.useMemo(()=>{if(M!=="all")return null;if(r==="day"){const ut=new Date(s.getFullYear(),s.getMonth(),s.getDate()).getTime(),bt=new Date(s.getFullYear(),s.getMonth(),s.getDate(),23,59,59,999).getTime(),xt=eg(ut)?0:1;return{start:ut,end:bt,workingDays:xt,label:`${Yb(ut)} (평일만)`}}if(r==="week"){const{start:ut,end:bt}=TY(s),xt=Hk(ut,bt);return{start:ut,end:bt,workingDays:xt,label:`${Yb(ut)} ~ ${Yb(bt)} (주중)`}}const{start:K,end:Q}=AY(s),at=Hk(K,Q),Y=`${s.getFullYear()}.${String(s.getMonth()+1).padStart(2,"0")}`;return{start:K,end:Q,workingDays:at,label:`${Y} (평일만)`}},[M,r,s]),O=j.useMemo(()=>M!=="all"||!k?[]:x.filter(K=>{const Q=Zp(K);return Q!==null&&Q>=k.start&&Q<=k.end&&!eg(Q)}),[x,k,M]),V=j.useMemo(()=>{if(M!=="all"||!k)return null;const K=O.length,Q=O.filter(ue=>tg(ue.status)==="완료").length,at=$k(O.map(ue=>Number(ue.in_work_hour)||0)),Y=S.length,ut=r==="month"?20.3:k.workingDays,bt=Y*ut*8,xt=Math.round(bt),Nt=xt?Math.round(at/xt*100):0;return{totalRequests:K,producedCount:Q,usedHoursDisplay:at.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),availHours:xt,usedRatio:Nt}},[O,S,k,M,r]),F=j.useMemo(()=>{if(M!=="all"||!k)return{labels:[],data:[]};const K=x.filter(Y=>{const ut=Zp(Y);return ut!==null&&ut>=k.start&&ut<=k.end&&!eg(ut)}),Q=K.filter(Hb).length,at=K.filter(Wb).length;return{labels:["Homeplus","NSmall"],data:[Q,at]}},[x,k,M]);function H(K){return(Array.isArray(K.assigned_designers)?K.assigned_designers:K.assigned_designer?[K.assigned_designer]:[]).map(at=>String(at||"").trim()).filter(at=>at&&at!=="미지정"&&at!=="미배정")}const U=j.useMemo(()=>{if(M!=="all"||!k)return{labels:[],hpData:[],nsData:[]};const K=new Map;for(const at of x){const Y=Zp(at);if(Y===null||Y<k.start||Y>k.end||eg(Y))continue;const ut=H(at);if(ut.length===0)continue;const bt=Hb(at)?"hp":Wb(at)?"ns":null;if(bt)for(const xt of ut){const Nt=K.get(xt)||{hp:0,ns:0,total:0};bt==="hp"?Nt.hp+=1:Nt.ns+=1,Nt.total=Nt.hp+Nt.ns,K.set(xt,Nt)}}const Q=Array.from(K,([at,Y])=>({name:at,...Y})).sort((at,Y)=>Y.total-at.total).slice(0,20);return{labels:Q.map(at=>at.name),hpData:Q.map(at=>at.hp),nsData:Q.map(at=>at.ns)}},[x,k,M]),kt=j.useRef(null),tt=j.useRef(null),B=j.useRef(null),J=j.useRef(null),pt=j.useRef(null),yt=j.useRef(null),q=j.useMemo(()=>{if(M==="all"){const K=["대기","진행중","검수중","검수요청","완료","취소"],Q=Jp(O.map(Y=>tg(Y.status))),at=new Map(Q.map(Y=>[Y.name,Y.value]));return{labels:K,data:K.map(Y=>at.get(Y)||0)}}else{const K=["대기중","진행중","검수중","검수요청중","완료","취소"];return{labels:G.map(Q=>Q.name),data:G.map(Q=>Q.value),orderFallback:K}}},[M,O,G]);j.useEffect(()=>{var Q,at,Y;const K=M==="all";if(kt.current){(Q=yi.getChart(kt.current))==null||Q.destroy();const ut=K?F.labels:N.map(Nt=>Nt.name),bt=K?F.data:N.map(Nt=>Nt.value),xt=K?[Qp[0],Qp[1]]:N.map((Nt,ue)=>Qp[ue%Qp.length]);J.current=new yi(kt.current,{type:"doughnut",data:{labels:ut,datasets:[{data:bt,backgroundColor:xt}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"60%",plugins:{legend:{position:"right"},datalabels:{formatter:(Nt,ue)=>{const Se=ue.dataset.data.reduce((_i,ls)=>_i+ls,0),Fn=Se?Nt/Se*100:0;return Fn>=5?`${Fn.toFixed(1)}%`:""},color:"#fff",font:{weight:"bold"}}}}})}return tt.current&&((at=yi.getChart(tt.current))==null||at.destroy(),pt.current=new yi(tt.current,{type:"bar",data:{labels:q.labels,datasets:[{label:"건수",data:q.data}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:4}},scales:{y:{beginAtZero:!0,ticks:{precision:0,font:{size:14}},grace:"15%"}},plugins:{legend:{display:!1},datalabels:{anchor:"end",align:"end",offset:4,clip:!1,font:{size:14},formatter:ut=>ut>0?ut:""}}}})),B.current&&((Y=yi.getChart(B.current))==null||Y.destroy(),K?yt.current=new yi(B.current,{type:"bar",data:{labels:U.labels,datasets:[{label:"Homeplus",data:U.hpData,backgroundColor:"rgba(78, 121, 167,.7)",stack:"company"},{label:"NSmall",data:U.nsData,backgroundColor:"rgba(255,157,167,.6)",stack:"company"}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:4}},scales:{x:{stacked:!0,ticks:{autoSkip:!1,maxRotation:40,minRotation:0}},y:{stacked:!0,beginAtZero:!0,ticks:{precision:0,font:{size:14}},grace:"15%"}},plugins:{legend:{position:"top"},datalabels:{anchor:"end",align:"end",offset:2,clip:!1,font:{size:12},formatter:ut=>ut>0?ut:""}}}}):yt.current=new yi(B.current,{type:"bar",data:{labels:C.map(ut=>ut.name),datasets:[{label:"건수",data:C.map(ut=>ut.value),backgroundColor:"rgba(255,157,167,.6)"}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:4}},scales:{y:{beginAtZero:!0,ticks:{precision:0,font:{size:14}},grace:"15%"}},plugins:{legend:{display:!1},datalabels:{anchor:"end",align:"end",offset:4,clip:!1,font:{size:14},formatter:ut=>ut>0?ut:""}}}})),()=>{var ut,bt,xt;(ut=J.current)==null||ut.destroy(),(bt=pt.current)==null||bt.destroy(),(xt=yt.current)==null||xt.destroy()}},[M,N,F,q,C,U]);const X=M==="all"?V:$;return v.jsxs(kY,{children:[v.jsx(RY,{children:M!=="all"?v.jsxs(CY,{children:[v.jsx(Wk,{value:n.y,onChange:K=>i(Q=>({...Q,y:Number(K.target.value)})),children:Array.from({length:5}).map((K,Q)=>{const at=t.getFullYear()-2+Q;return v.jsxs("option",{value:at,children:[at,"년"]},at)})}),v.jsx(Wk,{value:n.m,onChange:K=>i(Q=>({...Q,m:Number(K.target.value)})),children:Array.from({length:12}).map((K,Q)=>v.jsxs("option",{value:Q+1,children:[Q+1,"월"]},Q+1))})]}):v.jsxs(DY,{children:[v.jsx(Gb,{$active:r==="day",onClick:()=>l("day"),children:"일"}),v.jsx(Gb,{$active:r==="week",onClick:()=>l("week"),children:"주"}),v.jsx(Gb,{$active:r==="month",onClick:()=>l("month"),children:"월"}),v.jsx("span",{className:"range",children:k==null?void 0:k.label})]})}),v.jsxs(MY,{children:[v.jsxs(Ph,{children:[v.jsx(Nh,{children:"총 요청건수(건)"}),v.jsx(Lh,{children:(X==null?void 0:X.totalRequests)??0})]}),v.jsxs(Ph,{children:[v.jsx(Nh,{children:"실 제작건수(건)"}),v.jsx(Lh,{children:(X==null?void 0:X.producedCount)??0})]}),v.jsxs(Ph,{children:[v.jsx(Nh,{children:"사용공수"}),v.jsx(Lh,{children:(X==null?void 0:X.usedHoursDisplay)??"0.00"})]}),v.jsxs(Ph,{children:[v.jsx(Nh,{children:"가용공수"}),v.jsx(Lh,{children:((nt=X==null?void 0:X.availHours)==null?void 0:nt.toLocaleString())??"0"})]}),v.jsxs(Ph,{children:[v.jsx(Nh,{children:"사용공수비율"}),v.jsx(Lh,{children:X!=null&&X.usedRatio?`${X.usedRatio}%`:"0%"})]})]}),v.jsxs(IY,{children:[v.jsx(OY,{$compact:M==="all",children:v.jsxs(NY,{children:[v.jsx(Kb,{children:M==="all"?"회사별 분포 (일/주/월 기준, 평일)":"업무유형별 분포현황"}),v.jsx(Xb,{$h:400,children:v.jsx("canvas",{ref:kt})})]})}),v.jsxs(PY,{$compact:M==="all",children:[v.jsxs(Yk,{children:[v.jsx(Kb,{children:M==="all"?"디자이너별 배정 건수 (회사 스택)":"업무형태현황 (task_form)"}),v.jsx(Xb,{$h:180,children:v.jsx("canvas",{ref:B})})]}),v.jsxs(Yk,{children:[v.jsx(Kb,{children:"진행현황 (status)"}),v.jsx(Xb,{$h:180,children:v.jsx("canvas",{ref:tt})})]})]})]})]})}const kY=z.div`font-family: 'Pretendard';`,RY=z.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  padding: 24px 0 30px;
`,CY=z.div`
  display:flex; align-items:center; gap:8px; margin-left:auto;
`,Wk=z.select`
  appearance:none; width:150px; height: 48px; margin-right:8px; padding:0 12px;
  border:1px solid ${({theme:e})=>e.colors.gray02}; border-radius:4px;
  font-family:'Pretendard'; font-size:16px; font-weight:400; color:${({theme:e})=>e.colors.black};
  background:${({theme:e})=>e.colors.white01} url(${Hm}) no-repeat right 12px center / 16px 16px;
  &:focus { outline:none; border-color:${({theme:e})=>e.colors.black}; }
`,DY=z.div`
  display:flex; align-items:center; gap:8px; margin-left:auto;
  .range { margin-left:12px; color:#667085; font-size:14px; }
`,Gb=z.button`
  padding:10px 14px; border-radius:8px; font-family:'Pretendard'; font-size:15px;
  background:${({$active:e})=>e?"#111":"#fff"};
  color:${({$active:e})=>e?"#fff":"#111"};
  border:1px solid #111; transition:all .15s ease;
`,MY=z.ul`display:flex; gap:14px; margin-bottom:16px;`,Ph=z.li`flex:1; padding:14px; border:1px solid #e8ecf3; border-radius:14px; background:#f7f9fc;`,Nh=z.h3`color:#9aa4b2; font-size:12px; margin-bottom:8px;`,Lh=z.strong`font-size:32px; font-weight:800;`,IY=z.div`display:flex; gap:16px;`,OY=z.div`
  flex: 0 0 ${({$compact:e})=>e?"38%":"50%"};
`,PY=z.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
  flex: 1 1 ${({$compact:e})=>e?"62%":"50%"};
`,AO=z.div`background:#fff; border:1px solid #e8ecf3; border-radius:16px; padding:16px; height:100%;`,NY=z(AO)``,Yk=z(AO)``,Kb=z.h3`margin:0 0 10px; font-size:15px; color:#666;`,Xb=z.div`position:relative; width:100%; height:${({$h:e})=>`${e}px`};`,LY=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],jY=e=>[...e||""].map(t=>{const n=t.charCodeAt(0);if(n>=44032&&n<=55203){const i=Math.floor((n-44032)/28/21);return LY[i]}return t}).join("");function zx(e){const t=r=>r==null?"":String(r).toLowerCase(),n={id:t(e.design_request_id),requirement:t(e.requirement)},i=Object.values(n).join(" "),s=jY(n.requirement);return{...e,_index:{plain:i,chosung:s}}}function Fx(e,t){if(!t)return!0;const n=t.toLowerCase();return e._index.plain.includes(n)||e._index.chosung.includes(n)}function kO({onClick:e,loading:t,label:n="Export CSV"}){return v.jsx(VY,{type:"button",onClick:e,disabled:!!t,children:t?"추출 중…":n})}const VY=z.button`
  margin-bottom: 10px;
  padding: 8px 12px;
  border-radius: 4px;
  border: 1px solid ${({theme:e})=>e.colors.black};
  background: ${({theme:e})=>e.colors.white01};
  font-size: 14px;
  &:disabled { opacity: 0.5; pointer-events: none; }
`,Gk=e=>{if(e==null)return"";const t=String(e).replace(/"/g,'""');return/[",\n]/.test(t)?`"${t}"`:t},UY=(e,t)=>t.split(".").reduce((n,i)=>n?n[i]:void 0,e),ng=e=>e<10?`0${e}`:`${e}`,zY=e=>{if(e==null)return"";if(typeof e=="object"&&typeof e.toDate=="function"){const t=e.toDate();return`${t.getFullYear()}-${ng(t.getMonth()+1)}-${ng(t.getDate())}`}return e instanceof Date?`${e.getFullYear()}-${ng(e.getMonth()+1)}-${ng(e.getDate())}`:String(e)};function RO(e){const{rows:t,fields:n,filename:i="export.csv",headers:s,serialize:r=zY}=e,l=n.map(y=>Gk((s==null?void 0:s[y])??y)).join(","),c=t.map(y=>{const _={id:y.id,...y};return n.map(E=>Gk(r(UY(_,E)))).join(",")}),h="\uFEFF"+[l,...c].join(`\r
`),d=new Blob([h],{type:"text/csv;charset=utf-8"}),p=document.createElement("a");p.href=URL.createObjectURL(d),p.download=i,p.click(),URL.revokeObjectURL(p.href)}const FY="진행 상태 선택",BY=e=>{const t=(e??"").trim();if(!t)return[];const n=t.toLowerCase(),i=t.toUpperCase(),s=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase();return Array.from(new Set([t,n,i,s]))};function qY({view:e,userRole:t,setIsDrawerOpen:n,setEditData:i,setDetailData:s}){const[r,l]=j.useState(""),[c,h]=j.useState(""),[d,p]=j.useState([]),[y,_]=j.useState("진행 상태 선택"),[x,E]=j.useState({start:null,end:null}),[S,T]=j.useState(""),[D,M]=j.useState(""),P=e==="allrequestlist",[$,N]=j.useState(!1);j.useEffect(()=>{const X=xo(li,async nt=>{if(!nt)return;nt.displayName&&l(nt.displayName);const K=Sn(Gt,"users",nt.uid),Q=await Sl(K);if(Q.exists()){const at=Q.data();h(((at==null?void 0:at.company)??"").trim())}else h("")});return()=>X()},[]),j.useEffect(()=>{if(p([]),!(e==="dashboard"||e==="inworkhour")){if(e==="myrequestlist"){if(!r)return;const X=An(Ye(Gt,"design_request"),sn("requester","==",r),Sd("design_request_id","desc")),nt=rs(X,K=>{const Q=K.docs.map(at=>({id:at.id,...at.data()}));p(Q)});return()=>nt()}if(e==="allrequestlist"){if(!c)return;const X=BY(c),nt=Ye(Gt,"design_request"),K=new Map,Q=[],at=()=>{const Y=Array.from(K.values()).sort((ut,bt)=>{const xt=String(ut.design_request_id??"");return String(bt.design_request_id??"").localeCompare(xt,"en",{numeric:!0})});p(Y)};return X.forEach(Y=>{const ut=An(nt,sn("company","==",Y),Sd("design_request_id","desc")),bt=rs(ut,xt=>{xt.docs.forEach(Nt=>{K.set(Nt.id,{id:Nt.id,...Nt.data()})}),at()});Q.push(bt)}),()=>Q.forEach(Y=>Y())}}},[e,c,r]);const G=X=>E(X),C=X=>_(X),k=X=>M(X),O=X=>X==="검수요청"?"진행중":X,V=X=>new Date(X.getFullYear(),X.getMonth(),X.getDate()),F=X=>{if(!X)return null;if(typeof X=="object"&&typeof X.toDate=="function")return V(X.toDate());if(X instanceof Date)return V(X);if(typeof X=="number")return V(new Date(X));if(typeof X=="string"){const K=X.replace(/\./g,"-").replace(/\//g,"-").split("-");if(K.length===3){const[at,Y,ut]=K.map(Number),bt=at>31?at:new Date().getFullYear();return new Date(bt,Y-1,ut)}if(K.length===2){const[at,Y]=K.map(Number),ut=new Date().getFullYear();return new Date(ut,at-1,Y)}const Q=new Date(X);return isNaN(+Q)?null:V(Q)}return null},H=j.useMemo(()=>d.map(X=>{const nt=O(X.status);return zx({...X,displayStatus:nt})}),[d]),U=j.useMemo(()=>{const X=x.start?V(x.start):null,nt=x.end?V(x.end):null,K=D.trim();return H.filter(Q=>{if(y!==FY&&Q.displayStatus!==y)return!1;if(X&&nt){const at=F(Q.request_date)||F(Q.requested_at)||F(Q.requestDate);if(!at||at<X||at>nt)return!1}return!!Fx(Q,K)})},[H,y,x,D]),kt=(X,nt)=>{const K=d.find(Q=>Q.id===X);return!(!K||e==="allrequestlist"&&K.requester!==r||K.status==="완료"||K.status==="취소"||K.manager_review_status==="검수완료"&&nt!=="review")},tt=async X=>{kt(X,"review")&&(await ms(Sn(Gt,"design_request",X),{status:"완료",requester_review_status:"검수완료"}),p(nt=>nt.map(K=>K.id===X?{...K,status:"완료",requester_review_status:"검수완료"}:K)),alert("완료 처리되었습니다."))},B=async X=>{if(!kt(X,"edit"))return;const nt=Sn(Gt,"design_request",X);await ms(nt,{requester_edit_state:!0});const K=await Sl(nt);if(K.exists()){const Q={id:K.id,...K.data()};i(Q),n(!0)}},J=X=>{s(X),n(!0)},pt=async X=>{if(!kt(X,"cancel"))return;const nt=d.find(Q=>Q.id===X);if(window.confirm(`문서번호 ${(nt==null?void 0:nt.design_request_id)??""} 요청을 취소하시겠습니까?`))try{await ms(Sn(Gt,"design_request",X),{status:"취소"}),p(Q=>Q.map(at=>at.id===X?{...at,status:"취소"}:at))}catch(Q){console.error(Q),alert("취소 처리 중 오류가 발생했습니다. 다시 시도해 주세요.")}},yt=X=>{if(!X)return"";typeof X=="object"&&typeof X.toDate=="function"&&(X=X.toDate());const nt=X instanceof Date?X:new Date(X);if(isNaN(+nt))return"";const K=nt.getFullYear(),Q=String(nt.getMonth()+1).padStart(2,"0"),at=String(nt.getDate()).padStart(2,"0");return`${K}-${Q}-${at}`},q=async()=>{N(!0);try{const X=["design_request_id","request_date","completion_date","open_date","merchandiser","requester","task_form","task_type","task_type_detail","requirement","url","note","status","result_url","designer_start_date","designer_end_date","assigned_designers"],nt={design_request_id:"문서번호",request_date:"요청일",completion_date:"완료요청일",open_date:"오픈일",merchandiser:"담당MD",requester:"요청자",task_form:"업무부서",task_type:"업무형태",task_type_detail:"업무형태상세",requirement:"작업항목",url:"요청서URL",note:"메모",status:"진행상태",result_url:"산출물URL",designer_start_date:"디자인 시작일",designer_end_date:"디자인 종료일",assigned_designers:"디자이너"},K=U.map(Q=>{const at=Array.isArray(Q.assigned_designers)?Q.assigned_designers.join(", "):"";return{design_request_id:Q.design_request_id??"",request_date:yt(Q.request_date??Q.requested_at??Q.requestDate),completion_date:yt(Q.completion_date),open_date:yt(Q.open_date),merchandiser:Q.merchandiser??Q.md??"",requester:Q.requester??"",task_form:Q.task_form??"",task_type:Q.task_type??"",task_type_detail:Q.task_type_detail??"",requirement:Q.requirement??"",url:Q.url??"",note:Q.note??"",status:Q.status??"",result_url:Q.result_url??"",designer_start_date:yt(Q.designer_start_date),designer_end_date:yt(Q.designer_end_date),assigned_designers:at,work_hour:(Q.in_work_hour??Q.out_work_hour??"")+""}});RO({rows:K,fields:X,headers:nt,filename:"design_request_current_view.csv"})}finally{N(!1)}};return v.jsxs(v.Fragment,{children:[v.jsx(vx,{userRole:t}),e==="dashboard"&&v.jsx($Y,{children:v.jsx(Ux,{capacityHoursPerMonth:704})}),e==="allrequestlist"&&v.jsxs(Kk,{children:[v.jsx(Cd,{roleNumber:1,onApplyStatus:C,onApplyRange:G,onSearch:k,keyword:S,onKeywordChange:T}),v.jsx(aA,{data:U,disableActions:!1,lockOthers:P,currentUserName:r,onReviewComplete:tt,onCancel:pt,onEditClick:B,onDetailClick:J})]}),e==="myrequestlist"&&v.jsxs(Kk,{children:[v.jsx(Cd,{roleNumber:1,onApplyStatus:C,onApplyRange:G,onSearch:k,keyword:S,onKeywordChange:T}),v.jsx(kO,{onClick:q,loading:$}),v.jsx(aA,{data:U,disableActions:!1,onReviewComplete:tt,onCancel:pt,onEditClick:B,onDetailClick:J})]})]})}const Kk=z.div`
  padding: 0 48px;
`,$Y=z.div`
  max-height: 766px;
  padding: 0 48px;
  overflow: auto;
`;function HY({index:e,item:t,row:n,onChange:i,onSave:s,onDetailClick:r,disableActions:l}){const c=x=>{if(!x)return"-";if(x.toDate){const E=x.toDate();return`${E.getMonth()+1}/${E.getDate()}`}return x},h=x=>x==="검수중"?"검수요청":x??"대기",d=x=>x,p=h(n.status),y=x=>{x.stopPropagation(),r(t)},_=!!t.url&&t.url.trim().length>0;return v.jsxs(WY,{isCanceled:t.status==="취소",children:[v.jsx(ps,{children:e}),v.jsx(ps,{children:v.jsx(ZY,{onClick:y,$hasUpdate:!!t.updated_date,children:t.design_request_id})}),v.jsx(ps,{children:t.company}),v.jsx(ps,{children:c(t.request_date)}),v.jsx(YY,{children:c(t.completion_date)}),v.jsx(GY,{children:c(t.open_date)}),v.jsx(ps,{children:t.merchandiser}),v.jsx(ps,{children:t.requester}),v.jsx(ps,{children:t.task_form}),v.jsx(KY,{children:v.jsxs(JY,{children:[v.jsx(tG,{children:t.task_type}),v.jsx(eG,{children:t.task_type_detail})]})}),v.jsx(XY,{children:v.jsxs(nG,{children:[t.emergency?v.jsx(CO,{children:"긴급"}):"",v.jsx(iG,{onClick:y,children:t.requirement})]})}),v.jsx(ps,{children:_?v.jsx(sG,{href:t.url,target:"_blank"}):null}),v.jsx(QY,{children:v.jsx(rG,{onClick:y,children:t.note||""})}),v.jsx(Xk,{children:v.jsx(Qk,{type:"date",value:n.start_dt??"",onChange:x=>i(t.id,"start_dt",x.target.value),disabled:l||t.status==="취소"||t.status==="완료"})}),v.jsx(Xk,{children:v.jsx(Qk,{type:"date",value:n.end_dt??"",onChange:x=>i(t.id,"end_dt",x.target.value),disabled:l||t.status==="취소"||t.status==="완료"})}),v.jsx(ps,{children:v.jsx(aG,{type:"text",value:n.result_url??"",placeholder:"산출물 URL을 입력해주세요.",onChange:x=>i(t.id,"result_url",x.target.value),disabled:l||t.status==="취소"||t.status==="완료"})}),v.jsx(ps,{children:v.jsxs("select",{value:p,onChange:x=>i(t.id,"status",d(x.target.value)),disabled:l||t.status==="취소"||t.status==="완료",children:[v.jsx("option",{value:"대기",children:"대기"}),v.jsx("option",{value:"진행중",children:"진행중"}),v.jsx("option",{value:"검수요청",children:"검수요청"}),v.jsx("option",{value:"완료",disabled:!0,children:"완료"}),v.jsx("option",{value:"취소",disabled:!0,children:"취소"})]})}),v.jsx(ps,{children:v.jsx(DO,{onClick:()=>s(t.id),disabled:l||t.status==="취소"||t.status==="완료",children:"저장"})})]})}const WY=z.tr`
  ${({isCanceled:e})=>e&&`
      td {
        color: #888;
        background-color: #f4f4f4;
      }
    `}
  
  ${({isCanceled:e,theme:t})=>e&&`
      ${CO} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
      }
      ${DO} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
        border-color: ${t.colors.gray06};
        cursor: default;
        pointer-events: none;
      }
    `}
  & td {
    font-family: 'Pretendard';
    font-size: 13px;
    font-weight: 500;
  }

  &:hover {
    td, input, select {
      background-color: ${({theme:e})=>e.colors.gray04}
    }
  }
`,ps=z.td`
  padding: 11px 0;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }
`,YY=z.td`
  color: ${({theme:e})=>e.colors.red};
`,GY=z.td`
  color: ${({theme:e})=>e.colors.blue02};
`,KY=z.td`
  padding: 15px 12px;
  line-height: 15px;
`,XY=z.td`
  line-height: 15px;
  text-align: left;
`,QY=z.td`
  line-height: 15px;
  padding: 0 12px;
  border-right: 1px solid ${({theme:e})=>e.colors.black};
  text-align: left;
  background-color: #fffff1;

`,Xk=z.td`
  padding: 0 6px;
`,ZY=z.span`
  position: relative;

  &::after {
    content: '';
    position: absolute;
    top: -5px;
    right: -2px;
    display: ${({$hasUpdate:e})=>e?"block":"none"};
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background-color: ${({theme:e})=>e.colors.red};
  }

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,JY=z.div`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`,tG=z.span`
  white-space: nowrap;
`,eG=z.span`
  
`,nG=z.div`
  ${({theme:e})=>e.mixin.flex("center")};
  padding: 0 12px;
`,CO=z.span`
  margin-right: 5px;
  padding: 3px 5px;
  border-radius: 2px;
  font-size: 10px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.red};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,iG=z.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,sG=z.a`
  display: inline-block;
  vertical-align: middle;
  width: 24px;
  height: 24px;
  background: url(${bx}) no-repeat center / contain;
`,rG=z.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,Qk=z.input.attrs({type:"date"})`
  width: 100%;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 500;
`,aG=z.input`
  width: 100%;
  padding: 0 12px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 500;
`,DO=z.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`;function Zk({requests:e,onChange:t,formData:n,onSave:i,onDetailClick:s,disableActions:r,lockOthers:l=!1,currentDesignerName:c=""}){return v.jsx(oG,{children:v.jsxs(lG,{children:[v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"40px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"140px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"80px"}})]}),v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx(Nn,{children:"번호"}),v.jsx(Nn,{children:"문서번호"}),v.jsx(Nn,{children:"회사"}),v.jsx(Nn,{children:"요청일"}),v.jsxs(Nn,{children:["완료",v.jsx("br",{}),"요청일"]}),v.jsx(Nn,{children:"오픈일"}),v.jsx(Nn,{children:"담당 MD"}),v.jsx(Nn,{children:"요청자"}),v.jsx(Nn,{children:"업무부서"}),v.jsx(Nn,{children:"업무유형"}),v.jsx(Nn,{children:"작업항목"}),v.jsxs(Nn,{children:["요청서",v.jsx("br",{}),"URL"]}),v.jsx(Nn,{children:"메모"}),v.jsx(Nn,{children:"디자인 시작일"}),v.jsx(Nn,{children:"디자인 종료일"}),v.jsx(Nn,{children:"산출물 링크"}),v.jsx(Nn,{children:"진행상태"}),v.jsx(Nn,{children:"저장"})]})}),v.jsx("tbody",{children:e.length>0?e.map((h,d)=>{const p=Array.isArray(h.assigned_designers)?h.assigned_designers.includes(c):h.assigned_designer===c,y=r||l&&!p;return v.jsx(HY,{index:d+1,item:h,row:n[h.id]??{},onChange:t,onSave:i,onDetailClick:s,disableActions:y},h.id)}):v.jsx("tr",{children:v.jsx("td",{colSpan:18,style:{textAlign:"center"},children:"배정된 요청이 없습니다."})})})]})})}const oG=z.div`
  position: relative;
  height: calc(100vh - 302px);
  border-top: 2px solid ${({theme:e})=>e.colors.black};
  overflow-y: auto;
  scrollbar-width: thin;
`,lG=z.table`
  table-layout: fixed;
  width: 100%;
  text-align: center;
`,Nn=z.th`
  position: sticky;
  top: -2px;
  line-height: 16px;
  padding: 13px 0;
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.gray08};
  z-index: 10;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(13) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }

  &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17) {
    border-right: 1px solid ${({theme:e})=>e.colors.pink02}
  }

  &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17), &:nth-of-type(18) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`,cG="진행 상태 선택",Jk="회사 선택",tR="홈돌이";function uG({view:e,userRole:t,setIsDrawerOpen:n,setDetailData:i}){const[s,r]=j.useState([]),[l,c]=j.useState(""),[h,d]=j.useState({}),[p,y]=j.useState("진행 상태 선택"),[_,x]=j.useState({start:null,end:null}),[E,S]=j.useState([]),[T,D]=j.useState(Jk),[M,P]=j.useState(""),[$,N]=j.useState(""),G=e==="allrequestlist";j.useEffect(()=>{const Y=xo(li,ut=>{ut!=null&&ut.displayName&&c(ut.displayName)});return()=>Y()},[]),j.useEffect(()=>{if(!l)return;if(e==="dashboard"||e==="inworkhour"){r([]);return}if(e==="allrequestlist"){const bt=An(Ye(Gt,"design_request"),Sd("design_request_id","desc")),xt=rs(bt,Nt=>{r(Nt.docs.map(ue=>({id:ue.id,...ue.data()})))});return()=>xt()}const Y=An(Ye(Gt,"design_request"),sn("assigned_designers","array-contains",l),Sd("design_request_id","desc")),ut=rs(Y,bt=>{r(bt.docs.map(xt=>({id:xt.id,...xt.data()})))});return()=>ut()},[l,e]),j.useEffect(()=>{const Y=rs(Ye(Gt,"users"),ut=>{const bt=new Set;ut.forEach(xt=>{const Nt=String(xt.data().company??"").trim();Nt&&bt.add(Nt)}),S(Array.from(bt).sort())});return()=>Y()},[]);const C=Y=>x(Y),k=Y=>y(Y),O=Y=>D(Y),V=Y=>new Date(Y.getFullYear(),Y.getMonth(),Y.getDate()),F=Y=>{if(!Y)return null;if(typeof Y=="object"&&typeof Y.toDate=="function")return V(Y.toDate());if(Y instanceof Date)return V(Y);if(typeof Y=="number")return V(new Date(Y));if(typeof Y=="string"){const bt=Y.replace(/\./g,"-").replace(/\//g,"-").split("-");if(bt.length===3){const[Nt,ue,Se]=bt.map(Number),Fn=Nt>31?Nt:new Date().getFullYear();return new Date(Fn,ue-1,Se)}if(bt.length===2){const[Nt,ue]=bt.map(Number),Se=new Date().getFullYear();return new Date(Se,Nt-1,ue)}const xt=new Date(Y);return isNaN(+xt)?null:V(xt)}return null},H=Y=>{const ut=Y.getFullYear(),bt=String(Y.getMonth()+1).padStart(2,"0"),xt=String(Y.getDate()).padStart(2,"0");return`${ut}-${bt}-${xt}`},U=Y=>{if(!Y)return"";if(typeof Y=="object"&&typeof Y.toDate=="function")return H(Y.toDate());if(Y instanceof Date)return H(Y);const ut=new Date(Y);return isNaN(+ut)?"":H(ut)},kt=j.useMemo(()=>s.map(Y=>({...Y,designer_start_date:U(Y.designer_start_date),designer_end_date:U(Y.designer_end_date),result_url:Y.result_url??"",status:Y.status??"대기"})),[s]),tt=Y=>Y==="검수중"?"검수요청":Y??"대기",B=j.useMemo(()=>kt.map(Y=>{const ut=tt(Y.status);return zx({...Y,displayStatus:ut})}),[kt]),J=Y=>Array.isArray(Y.assigned_designers)?Y.assigned_designers.filter(Boolean).map(ut=>ut.trim()):Y.assigned_designer?[String(Y.assigned_designer).trim()]:[],pt=(Y,ut,bt)=>{if(bt==="allrequestlist"||ut!==tR)return!0;const xt=J(Y);return xt.includes(tR)&&xt.length===1},yt=j.useMemo(()=>{const Y=_.start?V(_.start):null,ut=_.end?V(_.end):null;return B.filter(bt=>{let xt=!0;if(xt&&!pt(bt,l,e)&&(xt=!1),xt&&p&&p!==cG&&tt(bt.status)!==p&&(xt=!1),xt&&T!==Jk&&String(bt.company)!==T&&(xt=!1),xt&&Y&&ut){const Nt=F(bt.request_date)||F(bt.requested_at)||F(bt.requestDate);(!Nt||Nt<Y||Nt>ut)&&(xt=!1)}return xt&&$&&!Fx(bt,$)&&(xt=!1),xt})},[B,p,T,_,$,e,l]),q=Y=>N(Y);j.useEffect(()=>{s.length&&d(Y=>{const ut={...Y};return s.forEach(bt=>{ut[bt.id]===void 0&&(ut[bt.id]={start_dt:U(bt.designer_start_date),end_dt:U(bt.designer_end_date),result_url:bt.result_url||"",status:bt.status||"대기"})}),ut})},[s]);const X=(Y,ut,bt)=>{d(xt=>({...xt,[Y]:{...xt[Y],[ut]:bt}}))},nt=Y=>{if(!Y)return null;const ut=new Date(Y);return isNaN(+ut)?null:Ie.fromDate(ut)},K=Y=>{const ut=s.find(xt=>xt.id===Y);if(!ut||ut.status==="완료"||ut.status==="취소")return!1;const bt=Array.isArray(ut.assigned_designers)?ut.assigned_designers.includes(l):ut.assigned_designer===l;return!(e==="allrequestlist"&&!bt)},Q=async Y=>{if(!K(Y))return;const ut=h[Y];if(!ut){alert("변경된 내용이 없습니다.");return}await ms(Sn(Gt,"design_request",Y),{designer_start_date:nt(ut.start_dt),designer_end_date:nt(ut.end_dt),result_url:ut.result_url??"",status:ut.status??"대기"}),alert("저장되었습니다.")},at=Y=>{i(Y),n(!0)};return v.jsxs(hG,{children:[v.jsx(vx,{userRole:t}),e==="allrequestlist"&&v.jsxs(eR,{children:[v.jsx(Cd,{roleNumber:2,onApplyStatus:k,onApplyRange:C,onSearch:q,keyword:M,onKeywordChange:P,companyOptions:E,onApplyCompany:O}),v.jsx(Zk,{requests:yt,formData:h,onChange:X,onSave:Q,onDetailClick:at,disableActions:!1,lockOthers:G,currentDesignerName:l})]}),e==="myrequestlist"&&v.jsxs(eR,{children:[v.jsx(Cd,{roleNumber:2,onApplyStatus:k,onApplyRange:C,onSearch:q,keyword:M,onKeywordChange:P,companyOptions:E,onApplyCompany:O}),v.jsx(Zk,{requests:yt,formData:h,onChange:X,onSave:Q,onDetailClick:at,disableActions:!1})]}),e==="dashboard"&&v.jsx(dG,{children:v.jsx(Ux,{capacityHoursPerMonth:704})})]})}const hG=z.div``,eR=z.div`
  padding: 0 48px;
`,dG=z.div`
  max-height: 766px;
  padding: 0 48px;
  overflow: auto;
`;function fG({index:e,item:t,designerList:n,selectedDesigners:i,onDesignerSelect:s,onAssignDesigner:r,onUnassignDesigner:l,onSendToRequester:c,onDetailClick:h,workHourValue:d,onChangeWorkHour:p,onSaveWorkHour:y,onStartEditWorkHour:_,onCancelEditWorkHour:x}){const S=(k=>k==="검수요청"?"검수중":k==="검수중"?"검수요청":k)(t.status),T=k=>{if(!k)return"-";if(k.toDate){const O=k.toDate();return`${O.getMonth()+1}/${O.getDate()}`}return k},D=k=>{k.stopPropagation(),h(t)},M=!!t.work_hour_edit_state,P=t.status==="취소"||t.status==="완료",$=j.useCallback(k=>{const O=k.relatedTarget;(!O||!k.currentTarget.contains(O))&&x()},[x]),N=Array.isArray(t.assigned_designers)?t.assigned_designers:t.assigned_designer?[t.assigned_designer]:[],G=k=>{const O=k.target.value;s(O?[O]:[])},C=!!t.url&&t.url.trim().length>0;return v.jsxs(pG,{isCanceled:t.status==="취소",children:[v.jsx(mi,{children:e}),v.jsx(mi,{children:v.jsx(vG,{onClick:D,$hasUpdate:!!t.updated_date,children:t.design_request_id})}),v.jsx(mi,{children:t.company}),v.jsx(mi,{children:T(t.request_date)}),v.jsx(gG,{children:T(t.completion_date)}),v.jsx(mG,{children:T(t.open_date)}),v.jsx(mi,{children:t.merchandiser}),v.jsx(mi,{children:t.requester}),v.jsx(mi,{children:t.task_form}),v.jsx(yG,{children:v.jsxs(xG,{children:[v.jsx(wG,{children:t.task_type}),v.jsx(EG,{children:t.task_type_detail})]})}),v.jsx(_G,{children:v.jsxs(SG,{children:[t.emergency?v.jsx(MO,{children:"긴급"}):"",v.jsx(TG,{onClick:D,children:t.requirement})]})}),v.jsx(mi,{children:C?v.jsx(nR,{href:t.url,target:"_blank"}):null}),v.jsx(bG,{children:v.jsx(AG,{onClick:D,children:t.note||""})}),v.jsx(mi,{children:v.jsx(kG,{status:S,children:S})}),v.jsx(mi,{children:t.result_url?v.jsx(nR,{href:t.result_url,target:"_blank"}):""}),v.jsx(mi,{children:T(t.designer_start_date)}),v.jsx(mi,{children:T(t.designer_end_date)}),v.jsxs(mi,{children:[N.length>0&&v.jsx(PG,{children:N.map(k=>v.jsxs(NG,{children:[k,v.jsx(LG,{type:"button",onClick:()=>{P||l(k)},disabled:P,"aria-label":`${k} 배정 해제`,children:"×"})]},k))}),v.jsxs(jG,{children:[v.jsxs(RG,{value:i[0]??"",onChange:G,disabled:P,children:[v.jsx("option",{value:"",children:"선택"}),"      ",n.map(k=>{const O=k.name,V=N.includes(O);return v.jsxs("option",{value:O,disabled:V,children:[O,V?" (배정됨)":""]},k.id)})]}),v.jsx(IO,{onClick:r,disabled:P||i.length===0,children:"배정"})]})]}),v.jsx(mi,{children:t.status==="검수요청"&&t.manager_review_status!=="검수완료"?v.jsx(OO,{onClick:c,children:"검수완료"}):t.manager_review_status==="검수완료"?v.jsx(CG,{children:"검수완료"}):""}),v.jsx(mi,{children:M?v.jsxs(OG,{tabIndex:-1,onBlur:$,children:[v.jsx(DG,{type:"text",placeholder:"공수 입력",value:d,onChange:k=>p(k.target.value),onClick:k=>k.stopPropagation(),disabled:P,autoFocus:!0}),v.jsx(MG,{type:"button",onClick:k=>{k.stopPropagation(),!P&&y()},disabled:P,children:"수정"})]}):t.out_work_hour!=null?v.jsx(IG,{tabIndex:0,onClick:k=>{k.stopPropagation(),!P&&_()},onKeyDown:k=>{P||(k.key==="Enter"||k.key===" ")&&(k.preventDefault(),_())},children:t.out_work_hour}):null})]})}const pG=z.tr`
  ${({isCanceled:e})=>e&&`
      td {
        color: #888;
        background-color: #f4f4f4;
      }
    `}
  
  ${({isCanceled:e,theme:t})=>e&&`
      ${MO} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
      }
      ${OO}, ${IO} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
        border-color: ${t.colors.gray06};
        cursor: default;
        pointer-events: none;
      }
    `}
  & td {
    font-family: 'Pretendard';
    font-size: 13px;
    font-weight: 500;
  }

  &:hover {
    td {
      background-color: ${({theme:e})=>e.colors.gray04}
    }
  }
`,mi=z.td`
  padding: 11px 0;
 
  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(14) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }
`,gG=z.td`
  color: ${({theme:e})=>e.colors.red};
`,mG=z.td`
  color: ${({theme:e})=>e.colors.blue02};
`,yG=z.td`
  padding: 15px 12px;
  line-height: 15px;
`,_G=z.td`
  line-height: 15px;
  text-align: left;
`,bG=z.td`
  line-height: 15px;
  padding: 0 12px;
  text-align: left;
  background-color: #fffff1;
`,vG=z.span`
  position: relative;

  &::after {
    content: '';
    position: absolute;
    top: -5px;
    right: -2px;
    display: ${({$hasUpdate:e})=>e?"block":"none"};
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background-color: ${({theme:e})=>e.colors.red};
  }

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,xG=z.div`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`,wG=z.span`
  white-space: nowrap;
`,EG=z.span``,SG=z.div`
  ${({theme:e})=>e.mixin.flex("center")};
  padding: 0 12px;
`,MO=z.span`
  margin-right: 5px;
  padding: 3px 5px;
  border-radius: 2px;
  font-size: 10px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.red};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,TG=z.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,nR=z.a`
  display: inline-block;
  vertical-align: middle;
  width: 24px;
  height: 24px;
  background: url(${bx}) no-repeat center / contain;
`,AG=z.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,kG=z.span`
  border-radius: 14px;
  padding: 5.5px 12px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 400;
  color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.orange;case"진행중":return t.colors.blue02;case"검수요청":return t.colors.red;case"검수중":return t.colors.red;case"완료":return t.colors.gray06;default:return t.colors.gray06}}};
  background-color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.beige02;case"진행중":return t.colors.lightpupple;case"검수요청":return t.colors.pink03;case"검수중":return t.colors.pink03;case"완료":return t.colors.white02;default:return t.colors.gray07}}};;
`,IO=z.button`
  margin-left:10px;
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};

  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`,RG=z.select`
  width: 90px;
  padding: 6px;
  border: 1px solid #ccc;
  border-radius: 4px;
`,OO=z.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
`,CG=z.span`
  color: green;
  font-size: 13px;
  font-weight: bold;
`,DG=z.input`
  width: 40px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;

  &::placeholder {
    font-size: 11px;
  }
`,MG=z.button`
  margin: 6px 0 0 10px;
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
`,IG=z.span`
  display: inline-block;
  min-width: 24px;
  padding: 2px 6px;
  border-radius: 4px;
  cursor: pointer;
  user-select: none;
  &:hover {
    text-decoration: underline;
    font-weight: 600;
  }
`,OG=z.div`
  display: inline-flex;
  align-items: center;
  gap: 8px;
`,PG=z.div`
  display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 6px; justify-content: center;
`,NG=z.span`
  display: inline-flex; align-items: center; gap: 6px;
  background: #f2f4f7; border: 1px solid #d0d5dd; border-radius: 12px; padding: 2px 8px; font-size: 12px;
`,LG=z.button`
  border: none; background: transparent; font-size: 14px; line-height: 1; cursor: pointer; color: #666;
  &:disabled { color: #bbb; cursor: default; }
`,jG=z.div` display: flex; align-items: center; justify-content: center; `;function VG({data:e,designerList:t,selectedDesigners:n,designerSelect:i,assignDesigner:s,unassignDesigner:r,sendToRequester:l,onDetailClick:c,workHours:h,onChangeWorkHour:d,onSaveWorkHour:p,onStartEditWorkHour:y,onCancelEditWorkHour:_}){return v.jsx(UG,{children:v.jsxs(zG,{children:[v.jsx(FG,{children:"매니저 요청 리스트"}),v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"40px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"140px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"160px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"110px"}})]}),v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx(hn,{children:"번호"}),v.jsx(hn,{children:"문서번호"}),v.jsx(hn,{children:"회사"}),v.jsx(hn,{children:"요청일"}),v.jsxs(hn,{children:["완료",v.jsx("br",{}),"요청일"]}),v.jsx(hn,{children:"오픈일"}),v.jsx(hn,{children:"담당 MD"}),v.jsx(hn,{children:"요청자"}),v.jsx(hn,{children:"업무부서"}),v.jsx(hn,{children:"업무형태"}),v.jsx(hn,{children:"작업항목"}),v.jsxs(hn,{children:["요청서",v.jsx("br",{}),"URL"]}),v.jsx(hn,{children:"메모"}),v.jsx(hn,{children:"진행상태"}),v.jsxs(hn,{children:["산출물",v.jsx("br",{}),"URL"]}),v.jsxs(hn,{children:["디자인",v.jsx("br",{}),"시작일"]}),v.jsxs(hn,{children:["디자인",v.jsx("br",{}),"종료일"]}),v.jsx(hn,{children:"디자이너 배정"}),v.jsx(hn,{children:"검수"}),v.jsx(hn,{children:"공수"})]})}),v.jsx("tbody",{children:e.length>0?e.map((x,E)=>v.jsx(fG,{index:E+1,item:x,designerList:t,selectedDesigners:n[x.id]||[],onDesignerSelect:S=>i(x.id,S),onAssignDesigner:()=>s(x.id),onUnassignDesigner:S=>r(x.id,S),onSendToRequester:()=>l(x.id),onDetailClick:c,workHourValue:h[x.id]??"",onChangeWorkHour:S=>d(x.id,S),onSaveWorkHour:()=>p(x.id),onStartEditWorkHour:()=>y(x.id),onCancelEditWorkHour:()=>_(x.id)},x.id)):v.jsx("tr",{children:v.jsx("td",{colSpan:20,style:{textAlign:"center",padding:"20px"},children:"등록된 요청이 없습니다."})})})]})})}const UG=z.div`
  position: relative;
  height: calc(100vh - 336px);
  border-top: 2px solid ${({theme:e})=>e.colors.black};
  overflow-y: auto;
  scrollbar-width: thin;
`,zG=z.table`
  table-layout: fixed;
  width: 100%;
  text-align: center;
`,FG=z.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,hn=z.th`
  position: sticky;
  top: -2px;
  line-height: 16px;
  padding: 13px 0;
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.gray08};
  z-index: 10;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(14) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }

  &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17), &:nth-of-type(18), &:nth-of-type(19) {
    border-right: 1px solid ${({theme:e})=>e.colors.pink02}
  }

  &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17), &:nth-of-type(18), &:nth-of-type(19), &:nth-of-type(20) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`,iR="손미나",BG=new Set(["미배정"]),qG=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],Kh=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()),$G=(e,t)=>!!e&&!!t&&e.getTime()===t.getTime(),Qb=e=>{if(!e)return null;if(typeof e=="object"&&typeof e.toDate=="function")return Kh(e.toDate());if(e instanceof Date)return Kh(e);if(typeof e=="number")return Kh(new Date(e));if(typeof e=="string"){const n=e.replace(/\./g,"-").replace(/\//g,"-").split("-");if(n.length===3){const[s,r,l]=n.map(Number),c=s>31?s:new Date().getFullYear();return new Date(c,(r||1)-1,l||1)}const i=new Date(e);return isNaN(+i)?null:Kh(i)}return null},Zb=e=>Qb(e.request_date)??Qb(e.open_date)??Qb(e.created_date),HG=e=>e==="대기"||e==="대기중",WG=e=>e==="완료",YG=e=>e==="진행중"||e==="검수중"||e==="검수요청",GG=162.3,KG=(e,t=2)=>{const n=Math.pow(10,t);return Math.sign(e)*Math.floor(Math.abs(e)*n+1e-9)/n},XG=e=>e.toFixed(2).replace(/\.?0+$/,""),QG=e=>{const t=String(e??"").trim().replace(/\s+/g,"").toLowerCase();return t==="nsmall"||t==="n-small"?"nsmall":t==="homeplus"?"homeplus":"other"};function ZG({dailyHours:e=8,targetDate:t}){const[n,i]=j.useState([]),[s,r]=j.useState([]),l=Kh(t??new Date),c=l.getFullYear();j.useEffect(()=>{const x=An(Ye(Gt,"users"),sn("role","==",2)),E=rs(x,S=>{const T=S.docs.map(D=>String(D.data().name||"").trim()).filter(Boolean);r(T)});return()=>E()},[]),j.useEffect(()=>{const x=An(Ye(Gt,"design_request")),E=rs(x,S=>{const T=S.docs.map(D=>({id:D.id,...D.data()}));i(T)});return()=>E()},[]);const h=x=>Array.isArray(x.assigned_designers)&&x.assigned_designers.length?x.assigned_designers.filter(Boolean).map(E=>E.trim()):x.assigned_designer?[String(x.assigned_designer).trim()]:[],d=x=>{const S=h(x).map(D=>D.trim()).filter(Boolean).filter(D=>D!=="미배정"),T=QG(x.company);return S.length<=1||T==="homeplus"?S:S.includes(iR)?S.filter(D=>D!==iR):S},p=(x,E)=>{const S=d(x);if(!S.includes(E))return 0;const T=Number(x.in_work_hour)||0,D=S.length||1;return T/D},y=j.useMemo(()=>{const x=Array.from(new Set(n.flatMap(S=>h(S))));return Array.from(new Set([...s,...x])).filter(S=>S&&!BG.has(S)).sort((S,T)=>S.localeCompare(T,"ko")).map(S=>{const T=n.filter(k=>d(k).includes(S)),D=T.filter(k=>$G(Zb(k),l)),M=D.filter(k=>HG(k.status)).length,P=D.filter(k=>YG(k.status)).length,$=D.filter(k=>WG(k.status)).length,N=D.reduce((k,O)=>k+p(O,S),0),G=KG(N,2),C=Array.from({length:12},(k,O)=>{const V=T.filter(U=>{const kt=Zb(U);return kt&&kt.getFullYear()===c&&kt.getMonth()===O}).reduce((U,kt)=>U+p(kt,S),0),F=Math.round(V/GG*100),H=T.filter(U=>{const kt=Zb(U);return kt&&kt.getFullYear()===c&&kt.getMonth()===O}).length;return{rate:F,count:H}});return{name:S,wait:M,progress:P,done:$,usedHours:G,monthly:C}})},[n,l,c,s]),_=j.useMemo(()=>y.map((x,E)=>{const S=x.monthly.filter(M=>M.count>0),T=S.length?S.reduce((M,P)=>M+P.rate,0)/S.length:0,D=x.monthly.reduce((M,P)=>M+P.count,0);return{index:E+1,avgRate:T,totalCount:D}}),[y]);return y.length===0?v.jsx(eK,{children:"표시할 데이터가 없습니다."}):v.jsx(JG,{children:v.jsx(tK,{children:v.jsxs(nK,{children:[v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"140px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"110px"}})]}),v.jsxs("thead",{children:[v.jsxs("tr",{children:[v.jsx($s,{rowSpan:2,children:"번호"}),v.jsx($s,{rowSpan:2,children:"디자이너명"}),v.jsxs($s,{colSpan:4,children:["현재현황(일공수 : ",e,"h)"]}),v.jsx($s,{colSpan:12,children:"월별 진행현황(공수달성율 / 제작건수)"}),v.jsx($s,{rowSpan:2,children:"연평균"})]}),v.jsxs("tr",{children:[v.jsx($s,{children:"대기"}),v.jsx($s,{children:"진행중"}),v.jsx($s,{children:"완료"}),v.jsx($s,{children:"사용공수(h)"}),qG.map(x=>v.jsx($s,{children:x},x))]})]}),v.jsx("tbody",{children:y.map((x,E)=>{const{index:S,avgRate:T,totalCount:D}=_[E];return v.jsxs("tr",{children:[v.jsx(Fa,{children:S}),v.jsx(Fa,{children:x.name}),v.jsx(Fa,{children:x.wait}),v.jsx(Fa,{children:x.progress}),v.jsx(Fa,{children:x.done}),v.jsx(Fa,{children:XG(x.usedHours)}),x.monthly.map((M,P)=>v.jsxs(Fa,{children:[v.jsxs("div",{children:[M.rate,"%"]}),v.jsx("div",{children:M.count})]},P)),v.jsxs(Fa,{children:[v.jsxs("div",{children:[T.toFixed(0),"%"]}),v.jsx("div",{children:D})]})]},x.name+E)})})]})})})}const JG=z.div`
  padding: 22px 48px;
  height: calc(100vh - 178px);
  overflow: hidden;
`,tK=z.div`
  height: 100%;
  overflow-y: auto;
  scrollbar-width: thin;
`,eK=z.div`
  padding: 24px;
  text-align: center;
  color: #666;
  border: 1px solid #e5e5e5;
  border-radius: 8px;
  background: #fafafa;
`,nK=z.table`
  width: 100%;
  table-layout: fixed;
  font-family: 'Pretendard';
  border-top: 2px solid ${({theme:e})=>e.colors.black};

  thead {
    tr {
      &:first-of-type {
        th:nth-of-type(3) {
          border-right: 1px solid ${({theme:e})=>e.colors.black};
        }
        th:nth-of-type(4) {
          background-color: ${({theme:e})=>e.colors.pink01};
        }
      }
      &:last-of-type {
        th:nth-of-type(4) {
          border-right: 1px solid ${({theme:e})=>e.colors.black};
        }
      }
    }
  }


  th, td {
    padding: 8px 10px;
    font-size: 14px;
  }
`,$s=z.th`
  background-color: ${({theme:e})=>e.colors.gray08};
  font-weight: 700;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right:none;
  }

  &:nth-of-type(n + 5):nth-of-type(-n + 16) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`,Fa=z.td`
  text-align: center;
  font-weight: 500;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(6) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }
`,sR="진행 상태 선택",rR="요청자 선택",aR="디자이너 선택",oR="회사 선택",sl=e=>String(e??"").trim();async function iK(e){const t=sl(e.company).toLowerCase();if(t==="nsmall"){const i=An(Ye(Gt,"nsmall_task_work_hour"),sn("nsmall_task_type","==",sl(e.task_type)),sn("nsmall_task_type_detail","==",sl(e.task_type_detail))),s=await ro(i);if(!s.empty){const r=s.docs[0].data(),l=Number(r.nsmall_task_work_times);return Number.isFinite(l)?l:1}return 1}if(t==="homeplus"){const i=An(Ye(Gt,"homeplus_task_work_hour"),sn("homeplus_task_form","==",sl(e.task_form)),sn("homeplus_task_type","==",sl(e.task_type))),s=await ro(i);if(!s.empty){const r=s.docs[0].data(),l=Number(r.homeplus_task_work_times);return Number.isFinite(l)?l:1}return 1}const n=await ro(An(Ye(Gt,"task_work_hour"),sn("task_form","==",sl(e.task_form)),sn("task_type","==",sl(e.task_type))));if(!n.empty){const i=Number(n.docs[0].data().task_work_times);return Number.isFinite(i)?i:1}return 1}function sK({view:e,setIsDrawerOpen:t,setDetailData:n,userRole:i}){const[s,r]=j.useState([]),[l,c]=j.useState([]),[h,d]=j.useState({}),[p,y]=j.useState({}),[_,x]=j.useState(sR),[E,S]=j.useState({start:null,end:null}),[T,D]=j.useState(""),[M,P]=j.useState(""),[$,N]=j.useState([]),[G,C]=j.useState(rR),[k,O]=j.useState([]),[V,F]=j.useState(aR),[H,U]=j.useState([]),[kt,tt]=j.useState(oR),[B,J]=j.useState(!1);j.useEffect(()=>{if(e==="dashboard"||e==="inworkhour"){r([]);return}const _t=An(Ye(Gt,"design_request"),Sd("design_request_id","desc")),Dt=rs(_t,Tt=>{const St=Tt.docs.map(Zt=>({id:Zt.id,...Zt.data()}));r(St)});return()=>Dt()},[e]),j.useEffect(()=>{s.length&&d(_t=>{const Dt={..._t};return s.forEach(Tt=>{Dt[Tt.id]===void 0&&(Dt[Tt.id]=Array.isArray(Tt.assigned_designers)?Tt.assigned_designers:[])}),Dt})},[s]),j.useEffect(()=>{s.length&&y(_t=>{const Dt={..._t};return s.forEach(Tt=>{Dt[Tt.id]===void 0&&(Dt[Tt.id]=Tt.out_work_hour!=null?String(Tt.out_work_hour):"")}),Dt})},[s]),j.useEffect(()=>{(async()=>{const Dt=An(Ye(Gt,"users"),sn("role","==",2)),St=(await ro(Dt)).docs.map(Zt=>({id:Zt.id,...Zt.data()}));c(St),O(St.map(Zt=>Zt.name).filter(Boolean))})()},[]),j.useEffect(()=>{const _t=rs(Ye(Gt,"users"),Dt=>{const Tt=new Set;Dt.forEach(St=>{const Zt=String(St.data().company??"").trim();Zt&&Tt.add(Zt)}),U(Array.from(Tt).sort())});return()=>_t()},[]);const pt=(_t,Dt)=>{d(Tt=>({...Tt,[_t]:Dt}))},yt=async _t=>{const Dt=(h[_t]||[]).filter(Boolean);if(!Dt.length){alert("디자이너를 선택하세요.");return}const Tt=Sn(Gt,"design_request",_t);await ms(Tt,{assigned_designers:U5(...Dt)}),d(St=>({...St,[_t]:[]})),alert("디자이너가 배정되었습니다!")},q=async(_t,Dt)=>{const Tt=Sn(Gt,"design_request",_t);await ms(Tt,{assigned_designers:z5(Dt)})},X=async _t=>{await ms(Sn(Gt,"design_request",_t),{manager_review_status:"검수완료",status:"검수중"}),r(Dt=>Dt.map(Tt=>Tt.id===_t?{...Tt,manager_review_status:"검수완료",status:"검수중"}:Tt)),alert("요청자에게 전달되었습니다.")};j.useEffect(()=>{(async()=>{const _t=An(Ye(Gt,"users"),sn("role","==",1)),Tt=(await ro(_t)).docs.map(St=>St.data().name).filter(Boolean);N(Tt)})()},[]);const nt=_t=>{n(_t),t(!0)},K=_t=>S(_t),Q=_t=>x(_t),at=_t=>P(_t.trim()),Y=_t=>C(_t),ut=_t=>F(_t),bt=_t=>tt(_t),xt=_t=>new Date(_t.getFullYear(),_t.getMonth(),_t.getDate()),Nt=_t=>{if(!_t)return null;if(typeof _t=="object"&&typeof _t.toDate=="function")return xt(_t.toDate());if(_t instanceof Date)return xt(_t);if(typeof _t=="number")return xt(new Date(_t));if(typeof _t=="string"){const Tt=_t.replace(/\./g,"-").replace(/\//g,"-").split("-");if(Tt.length===3){const[Zt,ui,de]=Tt.map(Number),Jt=Zt>31?Zt:new Date().getFullYear();return new Date(Jt,ui-1,de)}if(Tt.length===2){const[Zt,ui]=Tt.map(Number),de=new Date().getFullYear();return new Date(de,Zt-1,ui)}const St=new Date(_t);return isNaN(+St)?null:xt(St)}return null},ue=_t=>_t==="검수요청"?"검수중":_t==="검수중"?"검수요청":_t??"대기",Se=j.useMemo(()=>s.map(_t=>{const Dt=ue(_t.status),Tt=Array.isArray(_t.assigned_designers)?_t.assigned_designers.join(", "):"";return zx({..._t,displayStatus:Dt,assigned_display:Tt})}),[s]),Fn=j.useMemo(()=>{const _t=E.start?xt(E.start):null,Dt=E.end?xt(E.end):null;return Se.filter(Tt=>{let St=!0;if(_!==sR&&Tt.status!==_&&(St=!1),St&&G!==rR&&Tt.requester!==G&&(St=!1),St&&V!==aR){const Zt=Array.isArray(Tt.assigned_designers)?Tt.assigned_designers:[],ui=Tt.assigned_designer??"";Zt.includes(V)||ui===V||(St=!1)}if(St&&kt!==oR&&String(Tt.company)!==kt&&(St=!1),St&&_t&&Dt){const Zt=Nt(Tt.request_date)||Nt(Tt.requested_at)||Nt(Tt.requestDate);(!Zt||Zt<_t||Zt>Dt)&&(St=!1)}return St&&M&&!Fx(Tt,M)&&(St=!1),St})},[Se,_,G,V,kt,E,M]),_i=(_t,Dt)=>{const Tt=Dt.replace(/[^0-9.]/g,"");y(St=>({...St,[_t]:Tt}))},ls=async _t=>{const Dt=s.find(Tt=>Tt.id===_t);await ms(Sn(Gt,"design_request",_t),{work_hour_edit_state:!0}),r(Tt=>Tt.map(St=>St.id===_t?{...St,work_hour_edit_state:!0}:St)),y(Tt=>({...Tt,[_t]:Tt[_t]!==void 0&&Tt[_t]!==""?Tt[_t]:(Dt==null?void 0:Dt.out_work_hour)!=null?String(Dt.out_work_hour):""}))},ca=async _t=>{const Dt=s.find(de=>de.id===_t);if(!Dt)return;const Tt=(p[_t]??"").trim(),St=Number(Tt.replace(",","."));if(!Number.isFinite(St)||St<0){alert("유효한 공수를 입력하세요.");return}const Zt=await iK(Dt),ui=Math.round(St*Zt*1e3)/1e3;await ms(Sn(Gt,"design_request",_t),{out_work_hour:St,in_work_hour:ui,work_hour_edit_state:!1}),r(de=>de.map(Jt=>Jt.id===_t?{...Jt,out_work_hour:St,in_work_hour:ui,work_hour_edit_state:!1}:Jt)),alert("공수 수정 완료")},an=_t=>{if(!_t)return"";typeof _t=="object"&&typeof _t.toDate=="function"&&(_t=_t.toDate());const Dt=_t instanceof Date?_t:new Date(_t);if(isNaN(+Dt))return"";const Tt=Dt.getFullYear(),St=String(Dt.getMonth()+1).padStart(2,"0"),Zt=String(Dt.getDate()).padStart(2,"0");return`${Tt}-${St}-${Zt}`},Eo=async()=>{J(!0);try{const _t=["design_request_id","request_date","completion_date","open_date","merchandiser","requester","task_form","task_type","task_type_detail","requirement","url","note","status","result_url","designer_start_date","designer_end_date","assigned_designers","work_hour"],Dt={design_request_id:"문서번호",request_date:"요청일",completion_date:"완료요청일",open_date:"오픈일",merchandiser:"담당MD",requester:"요청자",task_form:"업무부서",task_type:"업무형태",task_type_detail:"업무형태상세",requirement:"작업항목",url:"요청서URL",note:"메모",status:"진행상태",result_url:"산출물URL",designer_start_date:"디자인 시작일",designer_end_date:"디자인 종료일",assigned_designers:"디자이너",work_hour:"공수"},Tt=Fn.map(St=>{const Zt=Array.isArray(St.assigned_designers)?St.assigned_designers.join(", "):"";return{design_request_id:St.design_request_id??"",request_date:an(St.request_date??St.requested_at??St.requestDate),completion_date:an(St.completion_date),open_date:an(St.open_date),merchandiser:St.merchandiser??St.md??"",requester:St.requester??"",task_form:St.task_form??"",task_type:St.task_type??"",task_type_detail:St.task_type_detail??"",requirement:St.requirement??"",url:St.url??"",note:St.note??"",status:St.status??"",result_url:St.result_url??"",designer_start_date:an(St.designer_start_date),designer_end_date:an(St.designer_end_date),assigned_designers:Zt,work_hour:(St.in_work_hour??St.out_work_hour??"")+""}});RO({rows:Tt,fields:_t,headers:Dt,filename:"design_request_current_view.csv"})}finally{J(!1)}},ur=async _t=>{await ms(Sn(Gt,"design_request",_t),{work_hour_edit_state:!1}),r(Dt=>Dt.map(Tt=>Tt.id===_t?{...Tt,work_hour_edit_state:!1}:Tt))};return v.jsxs(rK,{children:[v.jsx(vx,{userRole:i}),e==="myrequestlist"&&v.jsxs(aK,{children:[v.jsx(Cd,{roleNumber:3,onApplyStatus:Q,onApplyRange:K,onSearch:at,keyword:T,onKeywordChange:D,isManager:!0,requesterOptions:$,onApplyRequester:Y,designerOptions:k,onApplyDesigner:ut,companyOptions:H,onApplyCompany:bt}),v.jsx(kO,{onClick:Eo,loading:B}),v.jsx(VG,{data:Fn,designerList:l,selectedDesigners:h,designerSelect:pt,assignDesigner:yt,unassignDesigner:q,sendToRequester:X,onDetailClick:nt,workHours:p,onChangeWorkHour:_i,onSaveWorkHour:ca,onStartEditWorkHour:ls,onCancelEditWorkHour:ur})]}),e==="dashboard"&&v.jsx(oK,{children:v.jsx(Ux,{capacityHoursPerMonth:704})}),e==="inworkhour"&&v.jsx(ZG,{})]})}const rK=z.div``,aK=z.div`
  padding: 0 48px 22px;
`,oK=z.div`
  max-height: 766px;
  padding: 0 48px;
  overflow: auto;
`;function lK({userRole:e,setIsDrawerOpen:t,setEditData:n,setDetailData:i}){const[s,r]=fm(),l=s.get("view")||"dashboard";j.useEffect(()=>{s.get("view")||r(h=>{const d=new URLSearchParams(h);return d.set("view","dashboard"),d},{replace:!0})},[]);const c=()=>{if(e===1)return v.jsx(qY,{view:l,userRole:e,setIsDrawerOpen:t,setEditData:n,setDetailData:i});if(e===2)return v.jsx(uG,{view:l,userRole:e,setIsDrawerOpen:t,setDetailData:i});if(e===3)return v.jsx(sK,{view:l,userRole:e,setIsDrawerOpen:t,setDetailData:i})};return v.jsx(cK,{children:c()})}const cK=z.main`
  height: calc(100% - 64px);
`,uK="/pdms-test/assets/aside-logo-DHSQzRu2.svg",hK="/pdms-test/assets/myrequest-icon-DhmqrZY6.svg";function dK({item:e}){return v.jsxs(gK,{status:e.status,children:[v.jsx(mK,{children:e.status}),v.jsx(yK,{status:e.status,children:e.count})]})}const fK=(e,t)=>{switch(e){case"대기":return t.colors.beige01;case"진행중":return t.colors.lightpupple;case"검수요청":case"검수중":return t.colors.pink03;case"완료":return t.colors.gray04;case"취소":return t.colors.gray07;default:return"#f9f9f9"}},pK=(e,t)=>{switch(e){case"대기":return t.colors.orange;case"진행중":return t.colors.blue01;case"검수요청":case"검수중":return t.colors.red;case"완료":return t.colors.gray02;case"취소":return t.colors.gray03;default:return t.colors.gray03}},gK=z.li`
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  padding: 20.5px 44px 20.5px 28px;
  margin-bottom: 8px;
  border-radius: 4px;
  font-family: 'Pretendard';
  color: ${({theme:e})=>e.colors.black};
  background-color: ${({status:e,theme:t})=>fK(e,t)};
`,mK=z.span`
  font-size: 16px;
  font-weight: 500;
`,yK=z.span`
  position: relative;
  width: 10px;
  font-size: 14px;
  font-weight: 700;

  &::before {
    content: "";
    position: absolute;
    top: 50%;
    left: -40px;
    display: block;
    width: 1px;
    height: 18px;
    transform: translateY(-50%);
    background-color: ${({status:e,theme:t})=>pK(e,t)};
  }
`,_K="/pdms-test/assets/icon_slack_gray-BGCbyQrc.svg",bK="/pdms-test/assets/icon_slack_white-COpHHs97.svg",lR="/pdms-test/assets/icon_google_drive_gray-DDhA1xcb.svg",cR="/pdms-test/assets/icon_google_drive_white-DHwRCpfO.svg",vK="/pdms-test/assets/icon_google_chat_gray-FeA3IgVc.svg",xK="/pdms-test/assets/icon_google_chat_white-DLxDEfnc.svg",uR={HOMEPLUS:"homeplus",NSMALL:"nsmall"},wK={homeplus:{slack:{href:"https://hmp-m-design.slack.com/?redir=%2Farchives%2FC06TTC8518T%3Fname%3DC06TTC8518T",icon:_K,hover:bK},drive:{href:"https://drive.google.com/drive/folders/1-hQiEmPEomtaDFgnRqt0bAaxIFEWEvYn",icon:lR,hover:cR}},nsmall:{chat:{href:"https://mail.google.com/chat/u/0/#chat/home",icon:vK,hover:xK},drive:{href:"https://drive.google.com/drive/",icon:lR,hover:cR}}};function EK(){const[e,t]=j.useState("");j.useEffect(()=>{const s=xo(li,async r=>{if(!r){t("");return}const l=await Sl(Sn(Gt,"users",r.uid));if(l.exists()){const c=l.data();t(c.company??"")}else t("")});return()=>s()},[]);const n=j.useMemo(()=>{const s=String(e??"").trim().replace(/\s+/g,"").toLowerCase();return s==="homeplus"?uR.HOMEPLUS:s==="nsmall"||s==="n-small"?uR.NSMALL:null},[e]),i=j.useMemo(()=>{if(!n)return[];const s=wK[n],r=[];return s.slack&&r.push({href:s.slack.href,icon:s.slack.icon,hover:s.slack.hover,key:"slack"}),s.chat&&r.push({href:s.chat.href,icon:s.chat.icon,hover:s.chat.hover,key:"chat"}),s.drive&&r.push({href:s.drive.href,icon:s.drive.icon,hover:s.drive.hover,key:"drive"}),r},[n]);return v.jsxs(SK,{children:[v.jsxs(TK,{children:[v.jsx(AK,{children:"PDMS"}),v.jsx(kK,{children:"© Pushcomz Corp."})]}),i.length>0&&v.jsx(RK,{children:i.map(s=>v.jsx(PO,{children:v.jsx(CK,{target:"_blank",rel:"noreferrer",$icon:s.icon,$iconHover:s.hover,href:s.href})},s.key))})]})}const SK=z.footer`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  font-family: 'Pretendard';
  padding: 24px;
  padding-top: 0px;
  gap: 0 13px;
`,TK=z.div`
  ${({theme:e})=>e.mixin.flex("flex-start")};
  flex-direction: column;
`,AK=z.strong`
  font-size: 20px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.gray05};
`,kK=z.span`
  font-size: 12px;
  font-weight: 300;
  line-height: 20px;
  color: ${({theme:e})=>e.colors.gray05};
  text-align: center;
  white-space: nowrap;
`,RK=z.ul`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  gap: 0 8px;
`,PO=z.li`
  ${({theme:e})=>e.mixin.flex("center","center")};
  width: 36px;
  height: 36px;
  background-color: ${({theme:e})=>e.colors.gray01};
  border-radius: 50%;
  &:hover {
    background-color: ${({theme:e})=>e.colors.black};
  }
`,CK=z.a`
  display: block;
  width: 20px;
  height: 20px;
  background: ${({$icon:e})=>`url(${e}) no-repeat center / 20px 20px`};
  cursor: pointer;

  &:hover {
    background-image: ${({$iconHover:e})=>`url(${e})`};
  }
  
  ${PO}:hover & {
    background-image: ${({$iconHover:e})=>`url(${e})`};
  }
`,Be={WAIT:"대기",PROG:"진행중",REQ:"검수요청",REV:"검수중",DONE:"완료",CAN:"취소"},DK=(e,t)=>{const n=i=>t.reduce((s,r)=>r.status&&i.includes(r.status)?s+1:s,0);switch(e){case 1:return[{status:"대기",count:n([Be.WAIT])},{status:"진행중",count:n([Be.PROG,Be.REQ])},{status:"검수중",count:n([Be.REV])},{status:"완료",count:n([Be.DONE])},{status:"취소",count:n([Be.CAN])}];case 2:return[{status:"대기",count:n([Be.WAIT])},{status:"진행중",count:n([Be.PROG])},{status:"검수요청",count:n([Be.REQ,Be.REV])},{status:"완료",count:n([Be.DONE])},{status:"취소",count:n([Be.CAN])}];case 3:return[{status:"대기",count:n([Be.WAIT])},{status:"진행중",count:n([Be.PROG])},{status:"검수중",count:n([Be.REQ])},{status:"검수요청",count:n([Be.REV])},{status:"완료",count:n([Be.DONE])},{status:"취소",count:n([Be.CAN])}];default:return[{status:"대기",count:n([Be.WAIT])},{status:"진행중",count:n([Be.PROG])},{status:"검수요청",count:n([Be.REQ])},{status:"검수중",count:n([Be.REV])},{status:"완료",count:n([Be.DONE])},{status:"취소",count:n([Be.CAN])}]}},MK=(e,t)=>{switch(e){case 1:return`${t}님의 요청`;case 2:return`${t}님의 작업 현황`;case 3:return"전체 요청 현황";default:return"요청 현황"}};function IK({requests:e,role:t,userName:n,onRequestButtonClick:i}){const s=DK(t,e);return v.jsxs(OK,{children:[v.jsxs(PK,{children:[v.jsxs(NK,{children:[v.jsx(LK,{src:uK}),v.jsx(jK,{children:"업무 관리시스템"})]}),t===1&&v.jsx(VK,{children:v.jsx(UK,{onClick:i,children:"디자인 요청 등록"})}),v.jsxs(zK,{children:[v.jsxs(FK,{children:[v.jsx(BK,{src:hK}),v.jsx(qK,{children:MK(t,n)})]}),v.jsx($K,{children:s.map(r=>v.jsx(dK,{item:r},r.status))})]})]}),v.jsx(EK,{})]})}const OK=z.aside`
  ${({theme:e})=>e.mixin.flex("","space-between")};
  flex-direction: column;
  width: 240px;
  height: 100%;
  border-right: 1px solid ${({theme:e})=>e.colors.black};
`,PK=z.div`
  
`,NK=z.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  padding: 18.5px 0;
  border-bottom: 1px solid ${({theme:e})=>e.colors.gray02};
`,LK=z.img`
  margin-right: 8px;
`,jK=z.span`
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
  white-space: nowrap;
`,VK=z.div`
  text-align: center;
  padding: 32px 0;
  border-bottom: 1px solid ${({theme:e})=>e.colors.gray02};
`,UK=z.button`
  padding: 12px 44px;
  border-radius: 8px;
  font-family: 'Pretendard';
  font-size: 16px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,zK=z.div`
  padding: 0 24px;
`,FK=z.div`
  ${({theme:e})=>e.mixin.flex("center")};
  gap: 12px;
  padding: 30px 0;
`,BK=z.img``,qK=z.h4`
  font-family: 'Pretendard';
  font-size: 17px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
`,$K=z.ul`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`;function HK({isOpen:e,onClose:t,children:n}){return v.jsxs(v.Fragment,{children:[v.jsx(WK,{isVisible:e,onClick:t}),v.jsx(YK,{isVisible:e,onClick:i=>i.stopPropagation(),children:n})]})}const WK=z.div`
  position: fixed;
  top: 0; right: 0; bottom: 0; left: 0;
  background: rgba(0, 0, 0, 0.3);
  z-index: 1000;
  opacity: ${({isVisible:e})=>e?1:0};
  pointer-events: ${({isVisible:e})=>e?"auto":"none"};
  transition: opacity 0.3s ease;
`,YK=z.div`
  position: fixed;
  top: 64px;
  right: 0;
  width: 680px;
  height: 100%;
  background-color: white;
  box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
  z-index: 1001;
  overflow-y: hidden;
  padding: 24px;
  transform: ${({isVisible:e})=>e?"translateX(0)":"translateX(100%)"};
  transition: transform 0.3s ease;
`,NO="/pdms-test/assets/requestformexit-button-BcAG546a.svg",GK="/pdms-test/assets/checkbox-checked-eOVFoR8b.svg";function hR({value:e,options:t,placeholder:n,onChange:i,wide:s,disabled:r}){const[l,c]=j.useState(!1),[h,d]=j.useState(null),p=j.useRef(null),y=e||n||(t[0]??""),_=()=>c(!1),x=()=>{if(r)return;const S=p.current;S&&(d(S.getBoundingClientRect()),c(T=>!T))};j.useEffect(()=>{if(!l)return;const S=D=>{const M=D.target;p.current&&M&&p.current.contains(M)||M&&M.closest('[data-selectdown-menu="1"]')||_()},T=()=>{const D=p.current;if(!D){_();return}d(D.getBoundingClientRect())};return document.addEventListener("click",S,!0),window.addEventListener("scroll",T,!0),window.addEventListener("resize",T),()=>{document.removeEventListener("click",S,!0),window.removeEventListener("scroll",T,!0),window.removeEventListener("resize",T)}},[l]);const E=S=>{i(S),_()};return v.jsxs(v.Fragment,{children:[v.jsxs(KK,{ref:p,type:"button",onClick:x,disabled:r,$wide:s,"aria-haspopup":"listbox","aria-expanded":l,children:[v.jsx("span",{className:"label",children:y||"선택"}),v.jsx("span",{className:"arrow"})]}),l&&h&&FN.createPortal(v.jsx(XK,{"data-selectdown-menu":"1",style:{top:h.bottom,left:h.left,width:h.width},role:"listbox",onMouseDown:S=>S.stopPropagation(),children:t.map(S=>v.jsx(QK,{role:"option","aria-selected":S===e,$active:S===e,onClick:()=>E(S),title:S,children:S},S))}),document.body)]})}const KK=z.button`
  width: ${({$wide:e})=>e?"215px":"168px"};
  height: 36px;
  padding: 0 11px 0 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  background: ${({theme:e})=>e.colors.white01};
  display: inline-flex;
  align-items: center;
  justify-content: space-between;
  position: relative;

  .label {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
  .arrow {
    pointer-events: none;
    width: 16px; height: 16px;
    background: url(${Hm}) no-repeat center / contain;
  }

  &:focus { outline: none; border-color: ${({theme:e})=>e.colors.black}; }
  &:disabled { opacity: .6; cursor: default; }
`,XK=z.ul`
  position: fixed;   /* 포털 기준: 뷰포트 좌표 */
  z-index: 9999;
  max-height: 280px;
  overflow: auto;
  margin: 0;
  list-style: none;
  border: 1px solid ${({theme:e})=>e.colors.black};
  /* border-radius: 6px; */
  background: ${({theme:e})=>e.colors.white01};
  box-shadow: 0 6px 18px rgba(0,0,0,.12);
`,QK=z.li`
  padding: 9px 16px;
  font-size: 15px;
  cursor: pointer;
  background: ${({$active:e,theme:t})=>e?t.colors.gray04:"transparent"};

  &:hover { 
    background: #377dff; 
    color: ${({theme:e})=>e.colors.white01}
  };
`,ig={completion_date:"",open_date:"",merchandiser:"",task_form:"",task_type:"",task_type_detail:"",requirement:"",url:"",note:"",emergency:!1},dR=["GHS","MHC"],Bx=["핫새배너","홈테마","프론트테마","페이/카드프로모션","팝업","트레이딩","즉시배송","제휴","일자별배너","이벤트배너","별도기획전","GNB-택배배송관","GNB-주류이지픽업","GNB-기획전","이벤트","기타"],qx=["프론트테마","푸시","트레이딩","클럽","이벤트배너","이벤트","기타"],ZK={GHS:Bx,MHC:qx},fR=["M영업기획팀","디지털마케팅팀","M상품1팀","M상품2팀","M상품3팀","TV영업기획팀","TC영업기획팀","미디어컨텐츠팀","전략기획팀","MC서비스기획팀"],JK=["프로모션","배너(프로모션,연관)","배너(마케팅)","배너(상품)","배너(etv/etcom)","배너(엔라방)","썸네일(그룹)"],tX={프로모션:["마케팅","마케팅-FULL","마케팅-템플릿","마케팅-모션적용","상품(식품/공산품)","상품(식품/공산품)-브랜드템플릿","etv/etcom","프로모션 수정"],"배너(프로모션,연관)":["템플릿","템플릿-모션","템플릿-썸네일형","공통","기타"],"배너(마케팅)":["템플릿","템플릿-썸네일형","공통","광고성","홈전단지컨셉"],"배너(상품)":["템플릿","공통"],"배너(etv/etcom)":["템플릿","공통"],"배너(엔라방)":["템플릿","공통"],"썸네일(그룹)":["마케팅","그룹코드_프로모션","1팀","2팀","3팀","etv/etcom","엔라방"]},eX=e=>(e??"").trim().toLowerCase(),ei=e=>eX(e)==="nsmall",Dg=e=>{const t=(e??"").trim(),n=ZK[t];return n&&n.length?[...n]:Array.from(new Set([...Bx,...qx]))},Mg=e=>Dg(e)[0]??"",nX=e=>{if(ei(e))return{forms:[...fR],types:[...JK],formDefault:fR[0],typeDefault:""};const t=dR[0];return{forms:[...dR],types:Array.from(new Set([...Bx,...qx])),formDefault:t,typeDefault:Mg(t)}};function pR({userName:e,editData:t,isDrawerOpen:n,onClose:i}){const s=(t==null?void 0:t.requester_edit_state)===!0,[r,l]=j.useState(ig),[c,h]=j.useState([]),[d,p]=j.useState(""),y=j.useMemo(()=>nX(d),[d]),_=yo(),x=As(),E=()=>{const tt=new URLSearchParams(x.search);tt.set("view","myrequestlist"),_({pathname:"/main",search:tt.toString()},{replace:!0})},S=tt=>{const B=(tt??"").trim();return tX[B]??[]},T=j.useMemo(()=>ei(d)?S(r.task_type):[],[d,r.task_type]),D=j.useMemo(()=>{const tt=[...y.forms];return s&&r.task_form&&!tt.includes(r.task_form)&&tt.unshift(r.task_form),tt},[y.forms,s,r.task_form]),M=j.useMemo(()=>{if(ei(d)){const J=[...y.types];return s&&r.task_type&&!J.includes(r.task_type)&&J.unshift(r.task_type),J}const tt=r.task_form||y.formDefault,B=Dg(tt);return s&&r.task_type&&!B.includes(r.task_type)&&B.unshift(r.task_type),B},[d,y.types,y.formDefault,s,r.task_form,r.task_type]),P=(tt,B)=>{if(tt==="task_type"&&ei(d)){l(J=>({...J,task_type:B,task_type_detail:""}));return}if(tt==="task_form"&&!ei(d)){const J=B,pt=Dg(J);l(yt=>({...yt,task_form:J,task_type:pt.includes(yt.task_type||"")?yt.task_type:pt[0]}));return}l(J=>({...J,[tt]:B}))},$=tt=>typeof tt!="string"||tt.trim()==="",N=(tt,B)=>$(tt.completion_date)?"완료 요청일을 선택하세요.":$(tt.open_date)?"오픈일을 선택하세요.":$(tt.task_form)?"업무 부서를 선택하세요.":$(tt.task_type)?"업무 유형을 선택하세요.":B&&$(tt.task_type_detail)?"업무 유형 상세를 선택하세요.":$(tt.requirement)?"작업 항목을 입력하세요.":null,G=()=>h(tt=>[...tt,{...ig,task_form:y.formDefault,task_type:y.typeDefault,task_type_detail:""}]),C=tt=>h(B=>B.filter((J,pt)=>pt!==tt)),k=(tt,B,J)=>h(pt=>{const yt=[...pt];return B==="task_type"&&ei(d)?yt[tt]={...yt[tt],task_type:J,task_type_detail:""}:yt[tt]={...yt[tt],[B]:J},yt}),O=tt=>tt?Ie.fromDate(new Date(tt)):null,V=async()=>{const tt=new Date,B=tt.getFullYear().toString().slice(2),J=(tt.getMonth()+1).toString().padStart(2,"0"),pt=An(Ye(Gt,"design_request"),sn("design_request_id",">=",`H${B}${J}0000`),sn("design_request_id","<",`H${B}${J}9999`)),yt=await ro(pt);return{year:B,month:J,base:yt.size}},F=(tt,B,J)=>`H${tt}${B}${J.toString().padStart(4,"0")}`,H=async(tt,B)=>{const J=An(Ye(Gt,"homeplus_task_work_hour"),sn("homeplus_task_form","==",tt),sn("homeplus_task_type","==",B));return await ro(J)},U=async(tt,B,J)=>{if(ei(d)){if(!B||!J)return{base:null,times:null};const nt=An(Ye(Gt,"nsmall_task_work_hour"),sn("nsmall_task_type","==",B),sn("nsmall_task_type_detail","==",J)),K=await ro(nt);if(K.empty)return{base:null,times:null};const Q=K.docs[0].data(),at=typeof Q.nsmall_task_work_hour=="number"?Q.nsmall_task_work_hour:null,Y=typeof Q.nsmall_task_work_times=="number"?Q.nsmall_task_work_times:null;return console.log("[NSMALL preset]",{task_type:B,task_type_detail:J,base:at,times:Y,docId:K.docs[0].id}),{base:at,times:Y}}if(!tt||!B)return{base:null,times:null};let pt=await H(tt,B);if(pt.empty&&(tt==="GHS"||tt==="MHC")&&(pt=await H(tt==="GHS"?"MHC":"GHS",B)),pt.empty)return{base:null,times:null};const yt=pt.docs[0].data(),q=typeof yt.homeplus_task_work_hour=="number"?yt.homeplus_task_work_hour:null,X=typeof yt.homeplus_task_work_times=="number"?yt.homeplus_task_work_times:null;return console.log("[HOMEPLUS preset]",{task_form:tt,task_type:B,base:q,times:X,docId:pt.docs[0].id}),{base:q,times:X}},kt=async tt=>{if(tt.preventDefault(),s){const nt=N(r,ei(d));if(nt){alert(nt);return}}if(s&&(t!=null&&t.id)){const nt=(r.task_form||"")!==(t.task_form||""),K=(r.task_type||"")!==(t.task_type||""),Q=ei(d)&&(r.task_type_detail||"")!==(t.task_type_detail||""),at={completion_date:O(r.completion_date),open_date:O(r.open_date),merchandiser:r.merchandiser??"",task_form:r.task_form||y.formDefault,task_type:ei(d)?r.task_type??"":r.task_type||y.typeDefault,task_type_detail:r.task_type_detail??"",requirement:r.requirement,url:r.url,note:r.note,emergency:r.emergency,requester_edit_state:!1,updated_date:N0()};if(nt||K||Q){const{base:Y,times:ut}=await U(at.task_form,at.task_type,at.task_type_detail);at.out_work_hour=Y,at.in_work_hour=Y!=null&&ut!=null?Number((Y*ut).toFixed(2)):null,at.work_hour_edit_state=!1}await ms(Sn(Gt,"design_request",t.id),at),alert("요청이 수정되었습니다!"),i();return}const B=[r,...c];for(let nt=0;nt<B.length;nt++){const K=B[nt],Q=N(K,ei(d));if(Q){alert(`${nt===0?"메인 폼":`추가 요청 ${nt}`} ${Q}`);return}}const{year:J,month:pt,base:yt}=await V();let q=yt;const X=new Date;for(const nt of B){q+=1;const K=F(J,pt,q),Q=nt.task_form||y.formDefault,at=ei(d)?nt.task_type||"":nt.task_type||Mg(Q),{base:Y,times:ut}=await U(nt.task_form,nt.task_type,nt.task_type_detail),bt=Y!=null&&ut!=null?Number((Y*ut).toFixed(2)):null;await V5(Ye(Gt,"design_request"),{design_request_id:K,request_date:O(X.toISOString()),merchandiser:nt.merchandiser??"",requester:e,company:d,completion_date:O(nt.completion_date),open_date:O(nt.open_date),task_form:Q,task_type:at,task_type_detail:nt.task_type_detail??"",requirement:nt.requirement,url:nt.url,note:nt.note,status:"대기",assigned_designers:[],requester_review_status:"검수대기",manager_review_status:"",result_url:"",designer_start_date:null,designer_end_date:null,emergency:nt.emergency,requester_edit_state:!1,designer_edit_state:!1,in_work_hour:bt,out_work_hour:Y,work_hour_edit_state:!1,created_date:N0(),updated_date:null,delete_date:null})}alert(`${B.length}건이 등록되었습니다!`),h([]),l(ig),E(),i()};return j.useEffect(()=>{s&&t&&l({completion_date:t.completion_date?t.completion_date.toDate().toISOString().slice(0,10):"",open_date:t.open_date?t.open_date.toDate().toISOString().slice(0,10):"",merchandiser:t.merchandiser??"",task_form:t.task_form??"",task_type:t.task_type??"",task_type_detail:t.task_type_detail??"",requirement:t.requirement??"",url:t.url??"",note:t.note??"",emergency:t.emergency??!1})},[s,t]),j.useEffect(()=>{!n||s||(l({...ig,task_form:y.formDefault,task_type:y.typeDefault,task_type_detail:""}),h([]))},[n,s,y.formDefault,y.typeDefault]),j.useEffect(()=>{const tt=xo(li,async B=>{var pt;if(!B){p("");return}const J=await Sl(Sn(Gt,"users",B.uid));p(((pt=J.data())==null?void 0:pt.company)??"")});return()=>tt()},[]),j.useEffect(()=>{s||l(tt=>{const B={...tt};return y.forms.includes(B.task_form||"")||(B.task_form=y.formDefault),y.types.includes(B.task_type||"")||(B.task_type=y.typeDefault,B.task_type_detail=""),B})},[y.forms,y.types,y.formDefault,y.typeDefault,s]),v.jsxs(v.Fragment,{children:[v.jsxs(sX,{children:[v.jsx(rX,{children:s?"디자인 요청 수정":"디자인 요청 등록"}),v.jsx(aX,{type:"button",onClick:i})]}),v.jsxs(iX,{onSubmit:kt,children:[v.jsxs(oX,{children:[v.jsxs(gR,{children:[v.jsx(mR,{children:"디자인 요청 등록"}),v.jsx("colgroup",{children:v.jsx("col",{style:{width:"120px"}})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx(dn,{children:"문서번호"}),v.jsx(fn,{children:s?t==null?void 0:t.design_request_id:""})]}),v.jsxs("tr",{children:[v.jsx(dn,{children:v.jsx(Ln,{htmlFor:"completion_date",children:"완료 요청일"})}),v.jsx(fn,{children:v.jsx(sg,{type:"date",id:"completion_date",value:r.completion_date,onChange:tt=>P("completion_date",tt.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(dn,{children:v.jsx(Ln,{htmlFor:"open_date",children:"오픈일"})}),v.jsx(fn,{children:v.jsx(sg,{type:"date",id:"open_date",value:r.open_date,onChange:tt=>P("open_date",tt.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(dn,{children:v.jsx(Ln,{htmlFor:"merchandiser",children:"담당 MD"})}),v.jsx(fn,{children:v.jsx(rg,{type:"text",id:"merchandiser",value:r.merchandiser||"",onChange:tt=>P("merchandiser",tt.target.value),placeholder:"담당 MD 이름을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(dn,{children:v.jsx(Ln,{htmlFor:"task_form",children:"업무 부서"})}),v.jsx(fn,{children:v.jsx(kc,{id:"task_form",$wide:ei(d),value:r.task_form||y.formDefault,onChange:tt=>P("task_form",tt.target.value),children:D.map(tt=>v.jsx("option",{value:tt,children:tt},tt))})})]}),v.jsxs("tr",{children:[v.jsx(dn,{children:v.jsx(Ln,{htmlFor:"task_type",children:"업무 유형"})}),v.jsx(fn,{children:ei(d)?v.jsxs(v.Fragment,{children:[v.jsxs(kc,{id:"task_type",$wide:!0,value:s?r.task_type||M[0]||"":r.task_type??"",onChange:tt=>P("task_type",tt.target.value),children:[!s&&v.jsx("option",{value:"",children:"업무 유형을 선택해주세요"}),M.map(tt=>v.jsx("option",{value:tt,children:tt},tt))]}),!!r.task_type&&v.jsxs(kc,{id:"task_type_detail",$wide:!0,value:r.task_type_detail||"",onChange:tt=>P("task_type_detail",tt.target.value),children:[v.jsx("option",{value:"",children:"상세 유형을 선택해주세요"}),T.map(tt=>v.jsx("option",{value:tt,children:tt},tt))]})]}):v.jsx(hR,{value:r.task_type||Mg(r.task_form||y.formDefault),options:M,onChange:tt=>P("task_type",tt)})})]}),v.jsxs("tr",{children:[v.jsx(dn,{children:v.jsx(Ln,{htmlFor:"requirement",children:"작업 항목"})}),v.jsx(fn,{children:v.jsx(rg,{type:"text",id:"requirement",value:r.requirement,onChange:tt=>P("requirement",tt.target.value),placeholder:"작업 항목을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(dn,{children:v.jsx(Ln,{htmlFor:"emergency",children:"긴급 일정"})}),v.jsx(fn,{children:v.jsx(bR,{children:v.jsxs(vR,{htmlFor:"emergency",children:[v.jsx(xR,{type:"checkbox",id:"emergency",checked:r.emergency,onChange:tt=>P("emergency",tt.target.checked)}),v.jsx(wR,{}),v.jsx("span",{children:"긴급 일정으로 설정"})]})})})]}),v.jsxs("tr",{children:[v.jsx(dn,{children:v.jsx(Ln,{htmlFor:"url",children:"요청서 URL"})}),v.jsx(fn,{children:v.jsx(yR,{id:"url",value:r.url,onChange:tt=>P("url",tt.target.value),placeholder:"요청 기획안 URL을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(dn,{children:v.jsx(Ln,{htmlFor:"note",children:"메모"})}),v.jsx(fn,{children:v.jsx(_R,{id:"note",rows:2,value:r.note,onChange:tt=>P("note",tt.target.value),placeholder:"메모를 입력하세요."})})]})]})]}),!s&&c.map((tt,B)=>v.jsxs("div",{style:{marginBottom:24},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"8px 0 4px"},children:[v.jsxs("strong",{children:["추가 요청 ",B+1]}),v.jsx("button",{type:"button",onClick:()=>C(B),children:"삭제"})]}),v.jsxs(gR,{children:[v.jsx(mR,{children:"디자인 요청 추가 등록"}),v.jsx("colgroup",{children:v.jsx("col",{style:{width:"120px"}})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx(dn,{children:"문서번호"}),v.jsx(fn,{})]}),v.jsxs("tr",{children:[v.jsx(dn,{children:v.jsx(Ln,{htmlFor:`completion_date_ex_${B}`,children:"완료 요청일"})}),v.jsx(fn,{children:v.jsx(sg,{id:`completion_date_ex_${B}`,type:"date",value:tt.completion_date||"",onChange:J=>k(B,"completion_date",J.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(dn,{children:v.jsx(Ln,{htmlFor:`open_date_ex_${B}`,children:"오픈일"})}),v.jsx(fn,{children:v.jsx(sg,{id:`open_date_ex_${B}`,type:"date",value:tt.open_date||"",onChange:J=>k(B,"open_date",J.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(dn,{children:v.jsx(Ln,{htmlFor:`merchandiser_ex_${B}`,children:"담당 MD"})}),v.jsx(fn,{children:v.jsx(rg,{id:`merchandiser_ex_${B}`,type:"text",value:tt.merchandiser||"",onChange:J=>k(B,"merchandiser",J.target.value),placeholder:"담당 이름을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(dn,{children:v.jsx(Ln,{htmlFor:`task_form_ex_${B}`,children:"업무 부서"})}),v.jsx(fn,{children:v.jsx(kc,{id:`task_form_ex_${B}`,$wide:ei(d),value:tt.task_form||y.formDefault,onChange:J=>k(B,"task_form",J.target.value),children:y.forms.map(J=>v.jsx("option",{value:J,children:J},J))})})]}),v.jsxs("tr",{children:[v.jsx(dn,{children:v.jsx(Ln,{htmlFor:`task_type_ex_${B}`,children:"업무 유형"})}),v.jsx(fn,{children:ei(d)?v.jsxs(v.Fragment,{children:[v.jsxs(kc,{id:`task_type_ex_${B}`,$wide:!0,value:tt.task_type||"",onChange:J=>k(B,"task_type",J.target.value),children:[v.jsx("option",{value:"",children:"업무 유형을 선택해주세요"}),y.types.map(J=>v.jsx("option",{value:J,children:J},J))]}),!!tt.task_type&&v.jsxs(kc,{id:`task_type_detail_ex_${B}`,$wide:!0,value:tt.task_type_detail||"",onChange:J=>k(B,"task_type_detail",J.target.value),children:[v.jsx("option",{value:"",children:"상세 유형을 선택해주세요"}),S(tt.task_type).map(J=>v.jsx("option",{value:J,children:J},J))]})]}):v.jsx(hR,{value:tt.task_type||Mg(tt.task_form||y.formDefault),options:Dg(tt.task_form||y.formDefault),onChange:J=>k(B,"task_type",J)})})]}),v.jsxs("tr",{children:[v.jsx(dn,{children:v.jsx(Ln,{htmlFor:`requirement_ex_${B}`,children:"작업 항목"})}),v.jsx(fn,{children:v.jsx(rg,{id:`requirement_ex_${B}`,type:"text",value:tt.requirement||"",onChange:J=>k(B,"requirement",J.target.value),placeholder:"작업 항목을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(dn,{children:v.jsx(Ln,{htmlFor:`emergency_ex_${B}`,children:"긴급 일정"})}),v.jsx(fn,{children:v.jsx(bR,{children:v.jsxs(vR,{htmlFor:`emergency_ex_${B}`,children:[v.jsx(xR,{id:`emergency_ex_${B}`,type:"checkbox",checked:!!tt.emergency,onChange:J=>k(B,"emergency",J.target.checked)}),v.jsx(wR,{}),v.jsx("span",{children:"긴급 일정으로 설정"})]})})})]}),v.jsxs("tr",{children:[v.jsx(dn,{children:v.jsx(Ln,{htmlFor:`url_ex_${B}`,children:"요청서 URL"})}),v.jsx(fn,{children:v.jsx(yR,{id:`url_ex_${B}`,value:tt.url||"",onChange:J=>k(B,"url",J.target.value),placeholder:"요청 기획안 URL을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(dn,{children:v.jsx(Ln,{htmlFor:`note_ex_${B}`,children:"메모"})}),v.jsx(fn,{children:v.jsx(_R,{id:`note_ex_${B}`,rows:4,value:tt.note||"",onChange:J=>k(B,"note",J.target.value),placeholder:"메모를 입력하세요."})})]})]})]})]},B))]}),v.jsxs(lX,{children:[v.jsx(cX,{type:"submit",children:s?"수정 완료":"등록하기"}),!s&&v.jsx(uX,{type:"button",onClick:G,children:"추가 등록하기"})]})]})]})}const iX=z.form`
  font-family: 'Pretendard';
`,sX=z.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  margin-bottom: 24px;
`,rX=z.h3`
  font-family: 'Pretendard';
  font-size: 24px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
  letter-spacing: -0.48px;
`,aX=z.button`
  width: 24px;
  height: 24px;
  background: url(${NO}) no-repeat center;
  background-size: contain;
`,gR=z.table`
  width: 100%;
  color: ${({theme:e})=>e.colors.black};
  border-top: 1px solid ${({theme:e})=>e.colors.black};
`,oX=z.div`
  max-height: 690px;
  overflow: auto;
`,mR=z.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,dn=z.th`
  padding: 16px;
  font-size: 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-left: none;
  background-color: ${({theme:e})=>e.colors.gray04};
`,fn=z.td`
  padding: 10px 24px;
  border-right: none;
`,Ln=z.label`
  width: 100%;
  text-align: center;
  font-weight: 700;
`,sg=z.input`
  width: 168px;
  padding: 6px 12px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
`,rg=z.input`
  width: 100%;
  padding: 8.5px 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
`,yR=z.textarea`
  width: 100%;
  padding: 10px 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
`,_R=z.textarea`
  width: 100%;
  padding: 10px 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  background-color: #fffff1;
`,bR=z.div`
  ${({theme:e})=>e.mixin.flex("center")};
  gap: 5px;
`,vR=z.label`
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
`,xR=z.input`
  display: none;

  &:checked + span {
    background-color: ${({theme:e})=>e.colors.red};
    background-image: url(${GK});
    background-repeat: no-repeat;
    background-position: center;
    background-size: 12px 12px;
  }
`,wR=z.span`
  width: 18px;
  height: 18px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 2px;
`,kc=z.select`
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;

  width: ${({$wide:e})=>e?"215px":"168px"};
  height: 36px;
  padding: 0 32px 0 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  background-color: ${({theme:e})=>e.colors.white01};
  background-image: url(${Hm});
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 16px 16px;
  vertical-align: top;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.black};
  }

  &:first-of-type {
    margin-right: 10px;
  }
`,lX=z.div`
  margin-top: 24px;
  text-align: center;
`,cX=z.button`
  margin-right: 12px;
  padding: 12.5px 32px;
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
`,uX=z.button`
  padding: 10.5px 31.5px;
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 700;
  border: 1px solid ${({theme:e})=>e.colors.black};
  background-color: ${({theme:e})=>e.colors.white01};
  color: ${({theme:e})=>e.colors.black};

  &:hover {
    border: 1px solid ${({theme:e})=>e.colors.black};
  }
`;function hX({data:e,onClose:t}){const n=i=>{if(!i)return"-";if(i.toDate){const s=i.toDate();return`${s.getMonth()+1}/${s.getDate()}`}return i};return v.jsxs(v.Fragment,{children:[v.jsxs(dX,{children:[v.jsx(fX,{children:"디자인 요청 상세"}),v.jsx(pX,{type:"button",onClick:t})]}),v.jsxs(gX,{children:[v.jsx(mX,{children:"디자인 요청 상세"}),v.jsx("colgroup",{children:v.jsx("col",{style:{width:"120px"}})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx(gs,{children:"문서번호"}),v.jsx(Ba,{children:e==null?void 0:e.design_request_id})]}),v.jsxs("tr",{children:[v.jsx(gs,{children:"요청일"}),v.jsx(Ba,{children:n(e==null?void 0:e.request_date)})]}),v.jsxs("tr",{children:[v.jsx(gs,{children:"완료 요청일"}),v.jsx(yX,{children:n(e==null?void 0:e.completion_date)})]}),v.jsxs("tr",{children:[v.jsx(gs,{children:"오픈일"}),v.jsx(_X,{children:n(e==null?void 0:e.open_date)})]}),v.jsxs("tr",{children:[v.jsx(gs,{children:"담당 MD"}),v.jsx(Ba,{children:(e==null?void 0:e.merchandiser)||""})]}),v.jsxs("tr",{children:[v.jsx(gs,{children:"업무 부서"}),v.jsx(Ba,{children:e==null?void 0:e.task_form})]}),v.jsxs("tr",{children:[v.jsx(gs,{children:"업무 유형"}),v.jsxs(Ba,{children:[v.jsx(vX,{children:e==null?void 0:e.task_type}),(e==null?void 0:e.task_type_detail)&&v.jsxs(v.Fragment,{children:[v.jsx(xX,{children:"＞"}),v.jsx(wX,{children:e==null?void 0:e.task_type_detail})]})]})]}),v.jsxs("tr",{children:[v.jsx(gs,{children:"작업 항목"}),v.jsx(Ba,{children:e==null?void 0:e.requirement})]}),v.jsxs("tr",{children:[v.jsx(gs,{children:"긴급 일정"}),v.jsx(Ba,{children:e!=null&&e.emergency?"긴급 일정으로 설정":"긴급 일정으로 설정 안함"})]}),v.jsxs("tr",{children:[v.jsx(gs,{children:"요청서 URL"}),v.jsx(Ba,{children:e!=null&&e.url?v.jsx(EX,{href:e==null?void 0:e.url,target:"_blank",rel:"noreferrer",children:e==null?void 0:e.url}):""})]}),v.jsxs("tr",{children:[v.jsx(gs,{children:"메모"}),v.jsx(bX,{children:v.jsx(SX,{children:e.note})})]})]})]})]})}const dX=z.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  margin-bottom: 24px;
`,fX=z.h3`
  font-family: "Pretendard";
  font-size: 24px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
  letter-spacing: -0.48px;
`,pX=z.button`
  width: 24px;
  height: 24px;
  background: url(${NO}) no-repeat center;
  background-size: contain;
`,gX=z.table`
  width: 100%;
  border-top: 1px solid ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.black};
  font-family: 'Pretendard';
`,mX=z.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,gs=z.th`
  padding: 16px;
  font-size: 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-left: none;
  background-color: ${({theme:e})=>e.colors.gray04};
`,Ba=z.td`
  padding: 12px 24px;
  border-right: none;
`,yX=z.td`
  padding: 12px 24px;
  border-right: none;
  color: ${({theme:e})=>e.colors.red};
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;
`,_X=z.td`
  padding: 12px 24px;
  border-right: none;
  color: ${({theme:e})=>e.colors.blue02};
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;
`,bX=z.td`
  padding: 12px 24px;
  border-right: none;
  background-color: #fffff1;
`,vX=z.span`
`,xX=z.span`
  margin: 0 5px;
`,wX=z.span`
  
`,EX=z.a`
  display: -webkit-box;
  min-height: 70px;
  max-height: 70px;
  overflow-y: auto;
  -webkit-box-orient: vertical;
  word-break: break-word;
`,SX=z.p`
  min-height: 100px;
  max-height: 100px;
  overflow-y: auto;
  word-break: break-word;
`;function TX(){const[e,t]=j.useState(0),[n,i]=j.useState([]),[s,r]=j.useState(""),[l,c]=j.useState(!1),[h,d]=j.useState(void 0),[p,y]=j.useState(null);j.useEffect(()=>{const E=xo(li,async S=>{if(S){r(S.displayName||"");const T=await Sl(Sn(Gt,"users",S.uid));if(T.exists()){const M=T.data().role,P=S.displayName;t(M);let $;M===1?$=An(Ye(Gt,"design_request"),sn("requester","==",P)):M===2?$=An(Ye(Gt,"design_request"),sn("assigned_designer","==",P)):$=Ye(Gt,"design_request"),rs($,N=>{const G=N.docs.map(C=>{const k=C.data();return{id:C.id,status:k.status??"대기중"}});i(G)})}}else t(0),r(""),i([])});return()=>E()},[]);const _=()=>{d(void 0),y("create"),c(!0)},x=()=>{c(!1),d(void 0)};return v.jsxs(AX,{children:[v.jsx(IK,{requests:n,userName:s,role:e,onRequestButtonClick:_}),v.jsxs(kX,{children:[v.jsx(qz,{}),v.jsx(lK,{userRole:e,setIsDrawerOpen:c,setEditData:E=>{d(E),y("edit")},setDetailData:E=>{d(E),y("detail")}})]}),v.jsxs(HK,{isOpen:l,onClose:x,children:[p==="create"&&v.jsx(pR,{userName:s,isDrawerOpen:l,onClose:x}),p==="edit"&&h&&v.jsx(pR,{userName:s,isDrawerOpen:l,editData:h,onClose:x}),p==="detail"&&h&&v.jsx(hX,{data:h,onClose:x})]})]})}const AX=z.div`
  ${({theme:e})=>e.mixin.flex()};
  width: 100%;
  height: 100%;
`,kX=z.div`
  flex: 1;
`,RX={homeplus:"HomePlus",nsmall:"NSmall",pushcomz:"PushComz"},CX={homeplus:1,nsmall:1,pushcomz:2};function DX(){const[e,t]=j.useState(""),[n,i]=j.useState(""),[s,r]=j.useState(""),[l,c]=j.useState(""),[h,d]=j.useState(""),[p,y]=j.useState(!1),_=yo(),[x]=fm(),E=j.useMemo(()=>(x.get("company")||"").toLowerCase(),[x]);j.useEffect(()=>{const T=RX[E];T?(i(T),y(!0)):(i(""),y(!1))},[E]);const S=async()=>{const T=e.trim(),D=n.trim(),M=s.trim();if(!T){alert("이름을 입력해주세요.");return}if(!D){alert("회사명을 입력해주세요.");return}if(!M){alert("이메일을 입력해주세요.");return}if(l!==h){alert("비밀번호가 일치하지 않습니다.");return}try{const $=(await H3(li,M,l)).user;await Y3($,{displayName:T});const N=CX[E]??((D||"").toLowerCase()==="pushcomz"?2:1);await j5(Sn(Gt,"users",$.uid),{name:T,email:M,company:D,role:N,createdAt:N0()}),await qM(M,l),alert("회원가입이 완료되었습니다!"),_("/")}catch(P){alert("회원가입 중 오류 발생: "+P.message)}};return v.jsx(MX,{children:v.jsxs(IX,{children:[v.jsxs(OX,{children:[v.jsx(PX,{children:"PDMS"}),v.jsx(NX,{children:"Pushcomz Design Management System"})]}),v.jsxs(LX,{children:[v.jsx(jX,{type:"text",value:e,onChange:T=>t(T.target.value),placeholder:"이름을 입력해주세요."}),v.jsx(FX,{type:"text",value:n,onChange:T=>!p&&i(T.target.value),readOnly:p,"aria-readonly":p?"true":void 0,placeholder:p?"":"회사명을 입력해주세요.",title:p?"캠페인 링크로 자동 설정되었습니다.":"",$locked:p}),v.jsx(VX,{type:"text",value:s,onChange:T=>r(T.target.value),placeholder:"이메일을 입력해주세요."}),v.jsx(UX,{type:"password",value:l,onChange:T=>c(T.target.value),placeholder:"비밀번호를 6자이상 입력해주세요."}),v.jsx(zX,{type:"password",value:h,onChange:T=>d(T.target.value),placeholder:"비밀번호 확인을 입력해주세요."})]}),v.jsx(BX,{onClick:S,children:"등록하기"})]})})}const MX=z.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:e})=>e.colors.gray01};
`,IX=z.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:e})=>e.colors.white01};
`,OX=z.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,PX=z.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.navy};
`,NX=z.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,LX=z.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  gap: 10px;
`,ef=z.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
  &:focus { outline: none; border-color: #c7d2fe; box-shadow: 0 0 0 3px rgba(59,130,246,0.15); }
`,jX=z(ef)``,VX=z(ef)``,UX=z(ef)``,zX=z(ef)``,FX=z(ef)`
  background-color: ${({$locked:e})=>e?"#f5f6f7":"white"};
  color: ${({$locked:e})=>e?"#555":"#333"};
  cursor: ${({$locked:e})=>e?"default":"text"};

  ${({$locked:e})=>e&&`
    box-shadow: none;
  `}
`,BX=z.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:e})=>e.colors.white01};
`,qX=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function $X(){const[e,t]=j.useState(""),n=async()=>{if(!e){alert("이메일을 입력해주세요.");return}if(!qX.test(e)){alert("이메일 형식이 올바르지 않습니다.");return}try{await F3(li,e,{url:`${window.location.origin}/pdms-test`,handleCodeInApp:!0}),alert("비밀번호 재설정 메일을 보냈습니다. 받은 메일함을 확인해 주세요.")}catch(i){if((i==null?void 0:i.code)==="auth/user-not-found"){alert("등록되지 않은 이메일입니다.");return}alert("메일 발송 중 문제가 발생했습니다. 잠시 후 다시 시도해주세요.")}};return v.jsxs(HX,{children:[v.jsxs(WX,{children:[v.jsxs(YX,{children:[v.jsx(GX,{children:"PDMS"}),v.jsx(KX,{children:"Pushcomz Design Management System"})]}),v.jsxs(XX,{children:["회원가입 시 등록하신 이메일 주소를 입력해 주세요. ",v.jsx("br",{}),"해당 이메일로 비밀번호 재설정 메일을 보내드립니다."]}),v.jsx(QX,{type:"email",placeholder:"이메일을 입력해주세요.",value:e,onChange:i=>t(i.target.value)}),v.jsx(ZX,{onClick:n,children:"인증메일 보내기"})]}),v.jsx(JX,{children:"© Pushcomz Corp."})]})}const HX=z.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:e})=>e.colors.gray01};
`,WX=z.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:e})=>e.colors.white01};
`,YX=z.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,GX=z.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.navy};
`,KX=z.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,XX=z.p`
  align-self: flex-start;
  font-size: 12px;
`,QX=z.input`
  width: 460px;
  margin: 25px 0;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,ZX=z.button`
  width: 100%;
  padding: 12px 14px;
  border-radius: 6px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.white01};
  background: ${({theme:e})=>e.colors.navy};
`,JX=z.p`
  margin-top: 20px;
  font-size: 12px;
  font-weight: 300;
  line-height: 18px;
  text-align: center;
`;function tQ(){const{search:e}=As(),t=yo(),n=j.useMemo(()=>e&&e.length>0?e:window.location.search,[e]),i=new URLSearchParams(n),s=i.get("mode"),r=i.get("oobCode"),[l,c]=j.useState("checking"),[h,d]=j.useState(""),[p,y]=j.useState(""),[_,x]=j.useState("");j.useEffect(()=>{if(s!=="resetPassword"||!r){c("error");return}(async()=>{try{const S=await $3(li,r);d(S),c("ready")}catch{c("error")}})()},[s,r]);const E=async()=>{if(r){if(!p||p.length<6){alert("비밀번호는 6자 이상이어야 합니다.");return}if(p!==_){alert("비밀번호 확인이 일치하지 않습니다.");return}try{await B3(li,r,p),alert("비밀번호가 변경되었습니다. 새 비밀번호로 로그인해 주세요."),t("/",{replace:!0})}catch{c("error"),alert("링크가 만료되었거나 유효하지 않습니다. 다시 요청해 주세요.")}}};return l==="checking"?v.jsx(Jb,{children:"링크 확인 중..."}):l==="error"?v.jsx(Jb,{children:"유효하지 않은 링크입니다."}):l==="done"?v.jsx(Jb,{children:"비밀번호 변경이 완료되었습니다."}):v.jsxs(eQ,{children:[v.jsxs(nQ,{children:[v.jsxs(iQ,{children:[v.jsx(sQ,{children:"PDMS"}),v.jsx(rQ,{children:"Pushcomz Design Management System"})]}),v.jsxs(aQ,{children:[v.jsx(oQ,{type:"email",value:h,readOnly:!0}),v.jsx(ER,{type:"password",placeholder:"새 비밀번호 (6자 이상)",value:p,onChange:S=>y(S.target.value)}),v.jsx(ER,{type:"password",placeholder:"새 비밀번호 확인",value:_,onChange:S=>x(S.target.value)})]}),v.jsx(lQ,{onClick:E,children:"비밀번호 재설정"})]}),v.jsx(cQ,{children:"© Pushcomz Corp."})]})}const eQ=z.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:e})=>e.colors.gray01};
`,nQ=z.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:e})=>e.colors.white01};
`,iQ=z.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,sQ=z.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.navy};
`,rQ=z.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,aQ=z.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  gap: 10px;
`,oQ=z.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,ER=z.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,lQ=z.button`
  width: 100%;
  margin-top: 12px;
  padding: 12px 14px;
  font-weight: 700;
  border-radius: 6px;
  color: #fff;
  background: ${({theme:e})=>{var t;return((t=e.colors)==null?void 0:t.navy)??"#0a3b70"}};
`,cQ=z.p`
  margin-top: 20px;
  font-size: 12px;
  font-weight: 300;
  line-height: 18px;
  text-align: center;
`,Jb=z.p`
  text-align: center;
  margin: 80px 0;
`;function uQ(){const[e,t]=j.useState(!1),[n,i]=j.useState(!1);return j.useEffect(()=>{let s=()=>{};return(async()=>(await _z(li),await vz(li),s=xo(li,r=>{t(!!r),i(!0)})))(),()=>s()},[]),j.useEffect(()=>{const s=new URLSearchParams(window.location.search),r=s.get("mode"),l=s.get("oobCode");r==="resetPassword"&&l&&(window.location.hash.startsWith("#/reset-password")||(window.location.hash=`/reset-password${window.location.search}`))},[]),n?v.jsx(MN,{children:v.jsxs(oN,{children:[v.jsx(rl,{path:"/",element:e?v.jsx(sb,{to:"/main",replace:!0}):v.jsx(Sz,{onLoginSuccess:()=>t(!0)})}),v.jsx(rl,{path:"/main",element:e?v.jsx(TX,{}):v.jsx(sb,{to:"/",replace:!0})}),v.jsx(rl,{path:"/signup",element:v.jsx(DX,{})}),v.jsx(rl,{path:"/find-password",element:v.jsx($X,{})}),v.jsx(rl,{path:"/reset-password",element:v.jsx(tQ,{})}),v.jsx(rl,{path:"*",element:v.jsx(sb,{to:e?"/main":"/",replace:!0})})]})}):null}const hQ=dC`
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    height: 100vh;
    overflow: hidden;
  }

  li {
    list-style: none;
  }

  button {
    background-color: transparent;
    border: none;
    cursor: pointer;
    &:focus {
      outline: none;
    }
  }

  input {
    border: none;

    &:focus {
      outline: none;
    }
  }

  table {
    border-collapse: collapse;

    th, td {
      border: 1px solid #ccc;
    }
  }

  textarea {
    resize: none;
  }

`,dQ={white01:"#fff",white02:"#f4f4f4",white03:"#f4f6fc",red:"#eb193a",navy:"#073863",beige01:"#fff4ea",beige02:"#FFEEDE",orange:"#f88017",lightpupple:"#eaedfa",blue01:"#4f76ff",blue02:"#0B1ABF",gray01:"#ECEDF0",gray02:"#ccc",gray03:"#bdbdbd",gray04:"#f4f4f4",gray05:"#888",gray06:"#666",gray07:"#e5e2e2",gray08:"#F0F3F9",black:"#212121",pink01:"#FFDDDD",pink02:"#F48193",pink03:"#FFEBEB"},fQ={flex:(e="flex-start",t="flex-start")=>`
    display: flex;
    align-items: ${e};
    justify-content: ${t}
  `},pQ={colors:dQ,mixin:fQ};yP.createRoot(document.getElementById("root")).render(v.jsx(j.StrictMode,{children:v.jsxs(zL,{theme:pQ,children:[v.jsx(uQ,{}),v.jsx(hQ,{})]})}));
