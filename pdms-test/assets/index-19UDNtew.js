var nP=Object.defineProperty;var iP=(e,t,n)=>t in e?nP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xt=(e,t,n)=>iP(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function sP(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Z_={exports:{}},vh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function rP(){if(JE)return vh;JE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,r){var l=null;if(r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),"key"in s){r={};for(var c in s)c!=="key"&&(r[c]=s[c])}else r=s;return s=r.ref,{$$typeof:e,type:i,key:l,ref:s!==void 0?s:null,props:r}}return vh.Fragment=t,vh.jsx=n,vh.jsxs=n,vh}var tS;function aP(){return tS||(tS=1,Z_.exports=rP()),Z_.exports}var v=aP(),J_={exports:{}},Gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eS;function oP(){if(eS)return Gt;eS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function _(F){return F===null||typeof F!="object"?null:(F=y&&F[y]||F["@@iterator"],typeof F=="function"?F:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function T(F,it,at){this.props=F,this.context=it,this.refs=S,this.updater=at||x}T.prototype.isReactComponent={},T.prototype.setState=function(F,it){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,it,"setState")},T.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function D(){}D.prototype=T.prototype;function M(F,it,at){this.props=F,this.context=it,this.refs=S,this.updater=at||x}var N=M.prototype=new D;N.constructor=M,E(N,T.prototype),N.isPureReactComponent=!0;var U=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function C(F,it,at,ht,yt,Et){return at=Et.ref,{$$typeof:e,type:F,key:it,ref:at!==void 0?at:null,props:Et}}function R(F,it){return C(F.type,it,void 0,void 0,void 0,F.props)}function O(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function V(F){var it={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(at){return it[at]})}var $=/\/+/g;function H(F,it){return typeof F=="object"&&F!==null&&F.key!=null?V(""+F.key):it.toString(36)}function z(){}function Ct(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(z,z):(F.status="pending",F.then(function(it){F.status==="pending"&&(F.status="fulfilled",F.value=it)},function(it){F.status==="pending"&&(F.status="rejected",F.reason=it)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function Q(F,it,at,ht,yt){var Et=typeof F;(Et==="undefined"||Et==="boolean")&&(F=null);var Y=!1;if(F===null)Y=!0;else switch(Et){case"bigint":case"string":case"number":Y=!0;break;case"object":switch(F.$$typeof){case e:case t:Y=!0;break;case p:return Y=F._init,Q(Y(F._payload),it,at,ht,yt)}}if(Y)return yt=yt(F),Y=ht===""?"."+H(F,0):ht,U(yt)?(at="",Y!=null&&(at=Y.replace($,"$&/")+"/"),Q(yt,it,at,"",function(dt){return dt})):yt!=null&&(O(yt)&&(yt=R(yt,at+(yt.key==null||F&&F.key===yt.key?"":(""+yt.key).replace($,"$&/")+"/")+Y)),it.push(yt)),1;Y=0;var lt=ht===""?".":ht+":";if(U(F))for(var ut=0;ut<F.length;ut++)ht=F[ut],Et=lt+H(ht,ut),Y+=Q(ht,it,at,Et,yt);else if(ut=_(F),typeof ut=="function")for(F=ut.call(F),ut=0;!(ht=F.next()).done;)ht=ht.value,Et=lt+H(ht,ut++),Y+=Q(ht,it,at,Et,yt);else if(Et==="object"){if(typeof F.then=="function")return Q(Ct(F),it,at,ht,yt);throw it=String(F),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return Y}function q(F,it,at){if(F==null)return F;var ht=[],yt=0;return Q(F,ht,"","",function(Et){return it.call(at,Et,yt++)}),ht}function K(F){if(F._status===-1){var it=F._result;it=it(),it.then(function(at){(F._status===0||F._status===-1)&&(F._status=1,F._result=at)},function(at){(F._status===0||F._status===-1)&&(F._status=2,F._result=at)}),F._status===-1&&(F._status=0,F._result=it)}if(F._status===1)return F._result.default;throw F._result}var ot=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function nt(){}return Gt.Children={map:q,forEach:function(F,it,at){q(F,function(){it.apply(this,arguments)},at)},count:function(F){var it=0;return q(F,function(){it++}),it},toArray:function(F){return q(F,function(it){return it})||[]},only:function(F){if(!O(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Gt.Component=T,Gt.Fragment=n,Gt.Profiler=s,Gt.PureComponent=M,Gt.StrictMode=i,Gt.Suspense=h,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Gt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return P.H.useMemoCache(F)}},Gt.cache=function(F){return function(){return F.apply(null,arguments)}},Gt.cloneElement=function(F,it,at){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ht=E({},F.props),yt=F.key,Et=void 0;if(it!=null)for(Y in it.ref!==void 0&&(Et=void 0),it.key!==void 0&&(yt=""+it.key),it)!G.call(it,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&it.ref===void 0||(ht[Y]=it[Y]);var Y=arguments.length-2;if(Y===1)ht.children=at;else if(1<Y){for(var lt=Array(Y),ut=0;ut<Y;ut++)lt[ut]=arguments[ut+2];ht.children=lt}return C(F.type,yt,void 0,void 0,Et,ht)},Gt.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:r,_context:F},F},Gt.createElement=function(F,it,at){var ht,yt={},Et=null;if(it!=null)for(ht in it.key!==void 0&&(Et=""+it.key),it)G.call(it,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(yt[ht]=it[ht]);var Y=arguments.length-2;if(Y===1)yt.children=at;else if(1<Y){for(var lt=Array(Y),ut=0;ut<Y;ut++)lt[ut]=arguments[ut+2];yt.children=lt}if(F&&F.defaultProps)for(ht in Y=F.defaultProps,Y)yt[ht]===void 0&&(yt[ht]=Y[ht]);return C(F,Et,void 0,void 0,null,yt)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(F){return{$$typeof:c,render:F}},Gt.isValidElement=O,Gt.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:K}},Gt.memo=function(F,it){return{$$typeof:d,type:F,compare:it===void 0?null:it}},Gt.startTransition=function(F){var it=P.T,at={};P.T=at;try{var ht=F(),yt=P.S;yt!==null&&yt(at,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(nt,ot)}catch(Et){ot(Et)}finally{P.T=it}},Gt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Gt.use=function(F){return P.H.use(F)},Gt.useActionState=function(F,it,at){return P.H.useActionState(F,it,at)},Gt.useCallback=function(F,it){return P.H.useCallback(F,it)},Gt.useContext=function(F){return P.H.useContext(F)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(F,it){return P.H.useDeferredValue(F,it)},Gt.useEffect=function(F,it,at){var ht=P.H;if(typeof at=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ht.useEffect(F,it)},Gt.useId=function(){return P.H.useId()},Gt.useImperativeHandle=function(F,it,at){return P.H.useImperativeHandle(F,it,at)},Gt.useInsertionEffect=function(F,it){return P.H.useInsertionEffect(F,it)},Gt.useLayoutEffect=function(F,it){return P.H.useLayoutEffect(F,it)},Gt.useMemo=function(F,it){return P.H.useMemo(F,it)},Gt.useOptimistic=function(F,it){return P.H.useOptimistic(F,it)},Gt.useReducer=function(F,it,at){return P.H.useReducer(F,it,at)},Gt.useRef=function(F){return P.H.useRef(F)},Gt.useState=function(F){return P.H.useState(F)},Gt.useSyncExternalStore=function(F,it,at){return P.H.useSyncExternalStore(F,it,at)},Gt.useTransition=function(){return P.H.useTransition()},Gt.version="19.1.0",Gt}var nS;function iv(){return nS||(nS=1,J_.exports=oP()),J_.exports}var j=iv();const wt=sP(j);var tb={exports:{}},xh={},eb={exports:{}},nb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iS;function lP(){return iS||(iS=1,function(e){function t(q,K){var ot=q.length;q.push(K);t:for(;0<ot;){var nt=ot-1>>>1,F=q[nt];if(0<s(F,K))q[nt]=K,q[ot]=F,ot=nt;else break t}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var K=q[0],ot=q.pop();if(ot!==K){q[0]=ot;t:for(var nt=0,F=q.length,it=F>>>1;nt<it;){var at=2*(nt+1)-1,ht=q[at],yt=at+1,Et=q[yt];if(0>s(ht,ot))yt<F&&0>s(Et,ht)?(q[nt]=Et,q[yt]=ot,nt=yt):(q[nt]=ht,q[at]=ot,nt=at);else if(yt<F&&0>s(Et,ot))q[nt]=Et,q[yt]=ot,nt=yt;else break t}}return K}function s(q,K){var ot=q.sortIndex-K.sortIndex;return ot!==0?ot:q.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var h=[],d=[],p=1,y=null,_=3,x=!1,E=!1,S=!1,T=!1,D=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function U(q){for(var K=n(d);K!==null;){if(K.callback===null)i(d);else if(K.startTime<=q)i(d),K.sortIndex=K.expirationTime,t(h,K);else break;K=n(d)}}function P(q){if(S=!1,U(q),!E)if(n(h)!==null)E=!0,G||(G=!0,H());else{var K=n(d);K!==null&&Q(P,K.startTime-q)}}var G=!1,C=-1,R=5,O=-1;function V(){return T?!0:!(e.unstable_now()-O<R)}function $(){if(T=!1,G){var q=e.unstable_now();O=q;var K=!0;try{t:{E=!1,S&&(S=!1,M(C),C=-1),x=!0;var ot=_;try{e:{for(U(q),y=n(h);y!==null&&!(y.expirationTime>q&&V());){var nt=y.callback;if(typeof nt=="function"){y.callback=null,_=y.priorityLevel;var F=nt(y.expirationTime<=q);if(q=e.unstable_now(),typeof F=="function"){y.callback=F,U(q),K=!0;break e}y===n(h)&&i(h),U(q)}else i(h);y=n(h)}if(y!==null)K=!0;else{var it=n(d);it!==null&&Q(P,it.startTime-q),K=!1}}break t}finally{y=null,_=ot,x=!1}K=void 0}}finally{K?H():G=!1}}}var H;if(typeof N=="function")H=function(){N($)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Ct=z.port2;z.port1.onmessage=$,H=function(){Ct.postMessage(null)}}else H=function(){D($,0)};function Q(q,K){C=D(function(){q(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(q){switch(_){case 1:case 2:case 3:var K=3;break;default:K=_}var ot=_;_=K;try{return q()}finally{_=ot}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ot=_;_=q;try{return K()}finally{_=ot}},e.unstable_scheduleCallback=function(q,K,ot){var nt=e.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?nt+ot:nt):ot=nt,q){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ot+F,q={id:p++,callback:K,priorityLevel:q,startTime:ot,expirationTime:F,sortIndex:-1},ot>nt?(q.sortIndex=ot,t(d,q),n(h)===null&&q===n(d)&&(S?(M(C),C=-1):S=!0,Q(P,ot-nt))):(q.sortIndex=F,t(h,q),E||x||(E=!0,G||(G=!0,H()))),q},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(q){var K=_;return function(){var ot=_;_=K;try{return q.apply(this,arguments)}finally{_=ot}}}}(nb)),nb}var sS;function cP(){return sS||(sS=1,eb.exports=lP()),eb.exports}var ib={exports:{}},ei={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rS;function uP(){if(rS)return ei;rS=1;var e=iv();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(h,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:d,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ei.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ei.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return r(h,d,null,p)},ei.flushSync=function(h){var d=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=d,i.p=p,i.d.f()}},ei.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},ei.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},ei.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:x}):p==="script"&&i.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ei.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},ei.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin);i.d.L(h,p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ei.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=c(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},ei.requestFormReset=function(h){i.d.r(h)},ei.unstable_batchedUpdates=function(h,d){return h(d)},ei.useFormState=function(h,d,p){return l.H.useFormState(h,d,p)},ei.useFormStatus=function(){return l.H.useHostTransitionStatus()},ei.version="19.1.0",ei}var aS;function wR(){if(aS)return ib.exports;aS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ib.exports=uP(),ib.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oS;function hP(){if(oS)return xh;oS=1;var e=cP(),t=iv(),n=wR();function i(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function r(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(r(a)!==a)throw Error(i(188))}function h(a){var o=a.alternate;if(!o){if(o=r(a),o===null)throw Error(i(188));return o!==a?null:a}for(var u=a,f=o;;){var m=u.return;if(m===null)break;var b=m.alternate;if(b===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===u)return c(m),a;if(b===f)return c(m),o;b=b.sibling}throw Error(i(188))}if(u.return!==f.return)u=m,f=b;else{for(var k=!1,I=m.child;I;){if(I===u){k=!0,u=m,f=b;break}if(I===f){k=!0,f=m,u=b;break}I=I.sibling}if(!k){for(I=b.child;I;){if(I===u){k=!0,u=b,f=m;break}if(I===f){k=!0,f=b,u=m;break}I=I.sibling}if(!k)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?a:o}function d(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=d(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),N=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function H(a){return a===null||typeof a!="object"?null:(a=$&&a[$]||a["@@iterator"],typeof a=="function"?a:null)}var z=Symbol.for("react.client.reference");function Ct(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===z?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case G:return"SuspenseList";case O:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case x:return"Portal";case N:return(a.displayName||"Context")+".Provider";case M:return(a._context.displayName||"Context")+".Consumer";case U:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case C:return o=a.displayName||null,o!==null?o:Ct(a.type)||"Memo";case R:o=a._payload,a=a._init;try{return Ct(a(o))}catch{}}return null}var Q=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},nt=[],F=-1;function it(a){return{current:a}}function at(a){0>F||(a.current=nt[F],nt[F]=null,F--)}function ht(a,o){F++,nt[F]=a.current,a.current=o}var yt=it(null),Et=it(null),Y=it(null),lt=it(null);function ut(a,o){switch(ht(Y,o),ht(Et,a),ht(yt,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?kE(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=kE(o),a=RE(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}at(yt),ht(yt,a)}function dt(){at(yt),at(Et),at(Y)}function St(a){a.memoizedState!==null&&ht(lt,a);var o=yt.current,u=RE(o,a.type);o!==u&&(ht(Et,a),ht(yt,u))}function Ft(a){Et.current===a&&(at(yt),at(Et)),lt.current===a&&(at(lt),gh._currentValue=ot)}var Qt=Object.prototype.hasOwnProperty,me=e.unstable_scheduleCallback,Jn=e.unstable_cancelCallback,Bi=e.unstable_shouldYield,cs=e.unstable_requestPaint,Xe=e.unstable_now,hr=e.unstable_getCurrentPriorityLevel,dr=e.unstable_ImmediatePriority,bt=e.unstable_UserBlockingPriority,Mt=e.unstable_NormalPriority,At=e.unstable_LowPriority,Tt=e.unstable_IdlePriority,te=e.log,hi=e.unstable_setDisableYieldValue,fe=null,ee=null;function di(a){if(typeof te=="function"&&hi(a),ee&&typeof ee.setStrictMode=="function")try{ee.setStrictMode(fe,a)}catch{}}var Dn=Math.clz32?Math.clz32:fr,Pl=Math.log,bu=Math.LN2;function fr(a){return a>>>=0,a===0?32:31-(Pl(a)/bu|0)|0}var pr=256,gr=4194304;function ki(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function mr(a,o,u){var f=a.pendingLanes;if(f===0)return 0;var m=0,b=a.suspendedLanes,k=a.pingedLanes;a=a.warmLanes;var I=f&134217727;return I!==0?(f=I&~b,f!==0?m=ki(f):(k&=I,k!==0?m=ki(k):u||(u=I&~a,u!==0&&(m=ki(u))))):(I=f&~b,I!==0?m=ki(I):k!==0?m=ki(k):u||(u=f&~a,u!==0&&(m=ki(u)))),m===0?0:o!==0&&o!==m&&(o&b)===0&&(b=m&-m,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:m}function yr(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function ha(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ht(){var a=pr;return pr<<=1,(pr&4194048)===0&&(pr=256),a}function _e(){var a=gr;return gr<<=1,(gr&62914560)===0&&(gr=4194304),a}function Vt(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function de(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Mn(a,o,u,f,m,b){var k=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var I=a.entanglements,W=a.expirationTimes,et=a.hiddenUpdates;for(u=k&~u;0<u;){var ft=31-Dn(u),mt=1<<ft;I[ft]=0,W[ft]=-1;var st=et[ft];if(st!==null)for(et[ft]=null,ft=0;ft<st.length;ft++){var rt=st[ft];rt!==null&&(rt.lane&=-536870913)}u&=~mt}f!==0&&Wt(a,f,0),b!==0&&m===0&&a.tag!==0&&(a.suspendedLanes|=b&~(k&~o))}function Wt(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var f=31-Dn(o);a.entangledLanes|=o,a.entanglements[f]=a.entanglements[f]|1073741824|u&4194090}function So(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var f=31-Dn(u),m=1<<f;m&o|a[f]&o&&(a[f]|=o),u&=~m}}function Cs(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function da(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function $i(){var a=K.p;return a!==0?a:(a=window.event,a===void 0?32:YE(a.type))}function fa(a,o){var u=K.p;try{return K.p=a,o()}finally{K.p=u}}var Fe=Math.random().toString(36).slice(2),xn="__reactFiber$"+Fe,cn="__reactProps$"+Fe,qi="__reactContainer$"+Fe,vu="__reactEvents$"+Fe,ey="__reactListeners$"+Fe,pa="__reactHandles$"+Fe,nf="__reactResources$"+Fe,To="__reactMarker$"+Fe;function ga(a){delete a[xn],delete a[cn],delete a[vu],delete a[ey],delete a[pa]}function _r(a){var o=a[xn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[qi]||u[xn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=IE(a);a!==null;){if(u=a[xn])return u;a=IE(a)}return o}a=u,u=a.parentNode}return null}function Ds(a){if(a=a[xn]||a[qi]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function Ms(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(i(33))}function fi(a){var o=a[nf];return o||(o=a[nf]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function nn(a){a[To]=!0}var xu=new Set,Nl={};function us(a,o){br(a,o),br(a+"Capture",o)}function br(a,o){for(Nl[a]=o,a=0;a<o.length;a++)xu.add(o[a])}var sf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rf={},Ao={};function af(a){return Qt.call(Ao,a)?!0:Qt.call(rf,a)?!1:sf.test(a)?Ao[a]=!0:(rf[a]=!0,!1)}function ma(a,o,u){if(af(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function Is(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function $n(a,o,u,f){if(f===null)a.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+f)}}var ko,of;function vr(a){if(ko===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ko=o&&o[1]||"",of=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ko+a+of}var Ll=!1;function jl(a,o){if(!a||Ll)return"";Ll=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(rt){var st=rt}Reflect.construct(a,[],mt)}else{try{mt.call()}catch(rt){st=rt}a.call(mt.prototype)}}else{try{throw Error()}catch(rt){st=rt}(mt=a())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(rt){if(rt&&st&&typeof rt.stack=="string")return[rt.stack,st.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),k=b[0],I=b[1];if(k&&I){var W=k.split(`
`),et=I.split(`
`);for(m=f=0;f<W.length&&!W[f].includes("DetermineComponentFrameRoot");)f++;for(;m<et.length&&!et[m].includes("DetermineComponentFrameRoot");)m++;if(f===W.length||m===et.length)for(f=W.length-1,m=et.length-1;1<=f&&0<=m&&W[f]!==et[m];)m--;for(;1<=f&&0<=m;f--,m--)if(W[f]!==et[m]){if(f!==1||m!==1)do if(f--,m--,0>m||W[f]!==et[m]){var ft=`
`+W[f].replace(" at new "," at ");return a.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",a.displayName)),ft}while(1<=f&&0<=m);break}}}finally{Ll=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?vr(u):""}function wu(a){switch(a.tag){case 26:case 27:case 5:return vr(a.type);case 16:return vr("Lazy");case 13:return vr("Suspense");case 19:return vr("SuspenseList");case 0:case 15:return jl(a.type,!1);case 11:return jl(a.type.render,!1);case 1:return jl(a.type,!0);case 31:return vr("Activity");default:return""}}function Vl(a){try{var o="";do o+=wu(a),a=a.return;while(a);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function pi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Eu(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ny(a){var o=Eu(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),f=""+a[o];if(!a.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,b=u.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return m.call(this)},set:function(k){f=""+k,b.call(this,k)}}),Object.defineProperty(a,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Ul(a){a._valueTracker||(a._valueTracker=ny(a))}function Su(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return a&&(f=Eu(a)?a.checked?"true":"false":a.value),a=f,a!==u?(o.setValue(a),!0):!1}function Ro(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var iy=/[\n"\\]/g;function un(a){return a.replace(iy,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ri(a,o,u,f,m,b,k,I){a.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.type=k:a.removeAttribute("type"),o!=null?k==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+pi(o)):a.value!==""+pi(o)&&(a.value=""+pi(o)):k!=="submit"&&k!=="reset"||a.removeAttribute("value"),o!=null?ya(a,k,pi(o)):u!=null?ya(a,k,pi(u)):f!=null&&a.removeAttribute("value"),m==null&&b!=null&&(a.defaultChecked=!!b),m!=null&&(a.checked=m&&typeof m!="function"&&typeof m!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.name=""+pi(I):a.removeAttribute("name")}function Co(a,o,u,f,m,b,k,I){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;u=u!=null?""+pi(u):"",o=o!=null?""+pi(o):u,I||o===a.value||(a.value=o),a.defaultValue=o}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=I?a.checked:!!f,a.defaultChecked=!!f,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.name=k)}function ya(a,o,u){o==="number"&&Ro(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function xr(a,o,u,f){if(a=a.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<a.length;u++)m=o.hasOwnProperty("$"+a[u].value),a[u].selected!==m&&(a[u].selected=m),m&&f&&(a[u].defaultSelected=!0)}else{for(u=""+pi(u),o=null,m=0;m<a.length;m++){if(a[m].value===u){a[m].selected=!0,f&&(a[m].defaultSelected=!0);return}o!==null||a[m].disabled||(o=a[m])}o!==null&&(o.selected=!0)}}function Ae(a,o,u){if(o!=null&&(o=""+pi(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+pi(u):""}function Do(a,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(i(92));if(Q(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=pi(o),a.defaultValue=u,f=a.textContent,f===u&&f!==""&&f!==null&&(a.value=f)}function Hi(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var Mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lf(a,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":f?a.setProperty(o,u):typeof u!="number"||u===0||Mo.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function Tu(a,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(a=a.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var m in o)f=o[m],o.hasOwnProperty(m)&&u[m]!==f&&lf(a,m,f)}else for(var b in o)o.hasOwnProperty(b)&&lf(a,b,o[b])}function Au(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ry=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zl(a){return ry.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var wr=null;function Wi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Er=null,Sr=null;function ku(a){var o=Ds(a);if(o&&(a=o.stateNode)){var u=a[cn]||null;t:switch(a=o.stateNode,o.type){case"input":if(Ri(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+un(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==a&&f.form===a.form){var m=f[cn]||null;if(!m)throw Error(i(90));Ri(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===a.form&&Su(f)}break t;case"textarea":Ae(a,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&xr(a,!!u.multiple,o,!1)}}}var Os=!1;function cf(a,o,u){if(Os)return a(o,u);Os=!0;try{var f=a(o);return f}finally{if(Os=!1,(Er!==null||Sr!==null)&&(np(),Er&&(o=Er,a=Sr,Sr=Er=null,ku(o),a)))for(o=0;o<a.length;o++)ku(a[o])}}function Io(a,o){var u=a.stateNode;if(u===null)return null;var f=u[cn]||null;if(f===null)return null;u=f[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break t;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yi=!1;if(hs)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){Yi=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{Yi=!1}var Ps=null,_a=null,Tr=null;function Ru(){if(Tr)return Tr;var a,o=_a,u=o.length,f,m="value"in Ps?Ps.value:Ps.textContent,b=m.length;for(a=0;a<u&&o[a]===m[a];a++);var k=u-a;for(f=1;f<=k&&o[u-f]===m[b-f];f++);return Tr=m.slice(a,1<f?1-f:void 0)}function Ns(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Ls(){return!0}function Cu(){return!1}function In(a){function o(u,f,m,b,k){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var I in a)a.hasOwnProperty(I)&&(u=a[I],this[I]=u?u(b):b[I]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ls:Cu,this.isPropagationStopped=Cu,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),o}var be={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fl=In(be),Po=p({},be,{view:0,detail:0}),uf=In(Po),Bl,$l,js,No=p({},Po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==js&&(js&&a.type==="mousemove"?(Bl=a.screenX-js.screenX,$l=a.screenY-js.screenY):$l=Bl=0,js=a),Bl)},movementY:function(a){return"movementY"in a?a.movementY:$l}}),Gi=In(No),hf=p({},No,{dataTransfer:0}),ay=In(hf),Lo=p({},Po,{relatedTarget:0}),ql=In(Lo),Du=p({},be,{animationName:0,elapsedTime:0,pseudoElement:0}),Hl=In(Du),df=p({},be,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Wl=In(df),oy=p({},be,{data:0}),Mu=In(oy),jo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ff={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=pf[a])?!!o[a]:!1}function Vo(){return Iu}var gf=p({},Po,{key:function(a){if(a.key){var o=jo[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Ns(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?ff[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vo,charCode:function(a){return a.type==="keypress"?Ns(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ns(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Yl=In(gf),mf=p({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ou=In(mf),Ar=p({},Po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vo}),yf=In(Ar),_f=p({},be,{propertyName:0,elapsedTime:0,pseudoElement:0}),bf=In(_f),vf=p({},No,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Gl=In(vf),gi=p({},be,{newState:0,oldState:0}),xf=In(gi),wf=[9,13,27,32],Vs=hs&&"CompositionEvent"in window,g=null;hs&&"documentMode"in document&&(g=document.documentMode);var w=hs&&"TextEvent"in window&&!g,A=hs&&(!Vs||g&&8<g&&11>=g),L=" ",J=!1;function ct(a,o){switch(a){case"keyup":return wf.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vt(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var le=!1;function wn(a,o){switch(a){case"compositionend":return vt(o);case"keypress":return o.which!==32?null:(J=!0,L);case"textInput":return a=o.data,a===L&&J?null:a;default:return null}}function ce(a,o){if(le)return a==="compositionend"||!Vs&&ct(a,o)?(a=Ru(),Tr=_a=Ps=null,le=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return A&&o.locale!=="ko"?null:o.data;default:return null}}var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function En(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!On[a.type]:o==="textarea"}function kr(a,o,u,f){Er?Sr?Sr.push(f):Sr=[f]:Er=f,o=lp(o,"onChange"),0<o.length&&(u=new Fl("onChange","change",null,u,f),a.push({event:u,listeners:o}))}var qn=null,Us=null;function Pu(a){wE(a,0)}function Ef(a){var o=Ms(a);if(Su(o))return a}function $x(a,o){if(a==="change")return o}var qx=!1;if(hs){var ly;if(hs){var cy="oninput"in document;if(!cy){var Hx=document.createElement("div");Hx.setAttribute("oninput","return;"),cy=typeof Hx.oninput=="function"}ly=cy}else ly=!1;qx=ly&&(!document.documentMode||9<document.documentMode)}function Wx(){qn&&(qn.detachEvent("onpropertychange",Yx),Us=qn=null)}function Yx(a){if(a.propertyName==="value"&&Ef(Us)){var o=[];kr(o,Us,a,Wi(a)),cf(Pu,o)}}function IO(a,o,u){a==="focusin"?(Wx(),qn=o,Us=u,qn.attachEvent("onpropertychange",Yx)):a==="focusout"&&Wx()}function OO(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ef(Us)}function PO(a,o){if(a==="click")return Ef(o)}function NO(a,o){if(a==="input"||a==="change")return Ef(o)}function LO(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Ci=typeof Object.is=="function"?Object.is:LO;function Nu(a,o){if(Ci(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!Qt.call(o,m)||!Ci(a[m],o[m]))return!1}return!0}function Gx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Kx(a,o){var u=Gx(a);a=0;for(var f;u;){if(u.nodeType===3){if(f=a+u.textContent.length,a<=o&&f>=o)return{node:u,offset:o-a};a=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=Gx(u)}}function Xx(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Xx(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Qx(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Ro(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Ro(a.document)}return o}function uy(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var jO=hs&&"documentMode"in document&&11>=document.documentMode,Kl=null,hy=null,Lu=null,dy=!1;function Zx(a,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;dy||Kl==null||Kl!==Ro(f)||(f=Kl,"selectionStart"in f&&uy(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Lu&&Nu(Lu,f)||(Lu=f,f=lp(hy,"onSelect"),0<f.length&&(o=new Fl("onSelect","select",null,o,u),a.push({event:o,listeners:f}),o.target=Kl)))}function Uo(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var Xl={animationend:Uo("Animation","AnimationEnd"),animationiteration:Uo("Animation","AnimationIteration"),animationstart:Uo("Animation","AnimationStart"),transitionrun:Uo("Transition","TransitionRun"),transitionstart:Uo("Transition","TransitionStart"),transitioncancel:Uo("Transition","TransitionCancel"),transitionend:Uo("Transition","TransitionEnd")},fy={},Jx={};hs&&(Jx=document.createElement("div").style,"AnimationEvent"in window||(delete Xl.animationend.animation,delete Xl.animationiteration.animation,delete Xl.animationstart.animation),"TransitionEvent"in window||delete Xl.transitionend.transition);function zo(a){if(fy[a])return fy[a];if(!Xl[a])return a;var o=Xl[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in Jx)return fy[a]=o[u];return a}var tw=zo("animationend"),ew=zo("animationiteration"),nw=zo("animationstart"),VO=zo("transitionrun"),UO=zo("transitionstart"),zO=zo("transitioncancel"),iw=zo("transitionend"),sw=new Map,py="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");py.push("scrollEnd");function ds(a,o){sw.set(a,o),us(o,[a])}var rw=new WeakMap;function Ki(a,o){if(typeof a=="object"&&a!==null){var u=rw.get(a);return u!==void 0?u:(o={value:a,source:o,stack:Vl(o)},rw.set(a,o),o)}return{value:a,source:o,stack:Vl(o)}}var Xi=[],Ql=0,gy=0;function Sf(){for(var a=Ql,o=gy=Ql=0;o<a;){var u=Xi[o];Xi[o++]=null;var f=Xi[o];Xi[o++]=null;var m=Xi[o];Xi[o++]=null;var b=Xi[o];if(Xi[o++]=null,f!==null&&m!==null){var k=f.pending;k===null?m.next=m:(m.next=k.next,k.next=m),f.pending=m}b!==0&&aw(u,m,b)}}function Tf(a,o,u,f){Xi[Ql++]=a,Xi[Ql++]=o,Xi[Ql++]=u,Xi[Ql++]=f,gy|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function my(a,o,u,f){return Tf(a,o,u,f),Af(a)}function Zl(a,o){return Tf(a,null,null,o),Af(a)}function aw(a,o,u){a.lanes|=u;var f=a.alternate;f!==null&&(f.lanes|=u);for(var m=!1,b=a.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(m=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,m&&o!==null&&(m=31-Dn(u),a=b.hiddenUpdates,f=a[m],f===null?a[m]=[o]:f.push(o),o.lane=u|536870912),b):null}function Af(a){if(50<oh)throw oh=0,w_=null,Error(i(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Jl={};function FO(a,o,u,f){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(a,o,u,f){return new FO(a,o,u,f)}function yy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Rr(a,o){var u=a.alternate;return u===null?(u=Di(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function ow(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function kf(a,o,u,f,m,b){var k=0;if(f=a,typeof a=="function")yy(a)&&(k=1);else if(typeof a=="string")k=$2(a,u,yt.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case O:return a=Di(31,u,o,m),a.elementType=O,a.lanes=b,a;case E:return Fo(u.children,m,b,o);case S:k=8,m|=24;break;case T:return a=Di(12,u,o,m|2),a.elementType=T,a.lanes=b,a;case P:return a=Di(13,u,o,m),a.elementType=P,a.lanes=b,a;case G:return a=Di(19,u,o,m),a.elementType=G,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:case N:k=10;break t;case M:k=9;break t;case U:k=11;break t;case C:k=14;break t;case R:k=16,f=null;break t}k=29,u=Error(i(130,a===null?"null":typeof a,"")),f=null}return o=Di(k,u,o,m),o.elementType=a,o.type=f,o.lanes=b,o}function Fo(a,o,u,f){return a=Di(7,a,f,o),a.lanes=u,a}function _y(a,o,u){return a=Di(6,a,null,o),a.lanes=u,a}function by(a,o,u){return o=Di(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var tc=[],ec=0,Rf=null,Cf=0,Qi=[],Zi=0,Bo=null,Cr=1,Dr="";function $o(a,o){tc[ec++]=Cf,tc[ec++]=Rf,Rf=a,Cf=o}function lw(a,o,u){Qi[Zi++]=Cr,Qi[Zi++]=Dr,Qi[Zi++]=Bo,Bo=a;var f=Cr;a=Dr;var m=32-Dn(f)-1;f&=~(1<<m),u+=1;var b=32-Dn(o)+m;if(30<b){var k=m-m%5;b=(f&(1<<k)-1).toString(32),f>>=k,m-=k,Cr=1<<32-Dn(o)+m|u<<m|f,Dr=b+a}else Cr=1<<b|u<<m|f,Dr=a}function vy(a){a.return!==null&&($o(a,1),lw(a,1,0))}function xy(a){for(;a===Rf;)Rf=tc[--ec],tc[ec]=null,Cf=tc[--ec],tc[ec]=null;for(;a===Bo;)Bo=Qi[--Zi],Qi[Zi]=null,Dr=Qi[--Zi],Qi[Zi]=null,Cr=Qi[--Zi],Qi[Zi]=null}var mi=null,Qe=null,ye=!1,qo=null,zs=!1,wy=Error(i(519));function Ho(a){var o=Error(i(418,""));throw Uu(Ki(o,a)),wy}function cw(a){var o=a.stateNode,u=a.type,f=a.memoizedProps;switch(o[xn]=a,o[cn]=f,u){case"dialog":ie("cancel",o),ie("close",o);break;case"iframe":case"object":case"embed":ie("load",o);break;case"video":case"audio":for(u=0;u<ch.length;u++)ie(ch[u],o);break;case"source":ie("error",o);break;case"img":case"image":case"link":ie("error",o),ie("load",o);break;case"details":ie("toggle",o);break;case"input":ie("invalid",o),Co(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Ul(o);break;case"select":ie("invalid",o);break;case"textarea":ie("invalid",o),Do(o,f.value,f.defaultValue,f.children),Ul(o)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||AE(o.textContent,u)?(f.popover!=null&&(ie("beforetoggle",o),ie("toggle",o)),f.onScroll!=null&&ie("scroll",o),f.onScrollEnd!=null&&ie("scrollend",o),f.onClick!=null&&(o.onclick=cp),o=!0):o=!1,o||Ho(a)}function uw(a){for(mi=a.return;mi;)switch(mi.tag){case 5:case 13:zs=!1;return;case 27:case 3:zs=!0;return;default:mi=mi.return}}function ju(a){if(a!==mi)return!1;if(!ye)return uw(a),ye=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||V_(a.type,a.memoizedProps)),u=!u),u&&Qe&&Ho(a),uw(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));t:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(o===0){Qe=ps(a.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;a=a.nextSibling}Qe=null}}else o===27?(o=Qe,Pa(a.type)?(a=B_,B_=null,Qe=a):Qe=o):Qe=mi?ps(a.stateNode.nextSibling):null;return!0}function Vu(){Qe=mi=null,ye=!1}function hw(){var a=qo;return a!==null&&(xi===null?xi=a:xi.push.apply(xi,a),qo=null),a}function Uu(a){qo===null?qo=[a]:qo.push(a)}var Ey=it(null),Wo=null,Mr=null;function ba(a,o,u){ht(Ey,o._currentValue),o._currentValue=u}function Ir(a){a._currentValue=Ey.current,at(Ey)}function Sy(a,o,u){for(;a!==null;){var f=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),a===u)break;a=a.return}}function Ty(a,o,u,f){var m=a.child;for(m!==null&&(m.return=a);m!==null;){var b=m.dependencies;if(b!==null){var k=m.child;b=b.firstContext;t:for(;b!==null;){var I=b;b=m;for(var W=0;W<o.length;W++)if(I.context===o[W]){b.lanes|=u,I=b.alternate,I!==null&&(I.lanes|=u),Sy(b.return,u,a),f||(k=null);break t}b=I.next}}else if(m.tag===18){if(k=m.return,k===null)throw Error(i(341));k.lanes|=u,b=k.alternate,b!==null&&(b.lanes|=u),Sy(k,u,a),k=null}else k=m.child;if(k!==null)k.return=m;else for(k=m;k!==null;){if(k===a){k=null;break}if(m=k.sibling,m!==null){m.return=k.return,k=m;break}k=k.return}m=k}}function zu(a,o,u,f){a=null;for(var m=o,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var k=m.alternate;if(k===null)throw Error(i(387));if(k=k.memoizedProps,k!==null){var I=m.type;Ci(m.pendingProps.value,k.value)||(a!==null?a.push(I):a=[I])}}else if(m===lt.current){if(k=m.alternate,k===null)throw Error(i(387));k.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(a!==null?a.push(gh):a=[gh])}m=m.return}a!==null&&Ty(o,a,u,f),o.flags|=262144}function Df(a){for(a=a.firstContext;a!==null;){if(!Ci(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Yo(a){Wo=a,Mr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ti(a){return dw(Wo,a)}function Mf(a,o){return Wo===null&&Yo(a),dw(a,o)}function dw(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Mr===null){if(a===null)throw Error(i(308));Mr=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Mr=Mr.next=o;return u}var BO=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,f){a.push(f)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},$O=e.unstable_scheduleCallback,qO=e.unstable_NormalPriority,Sn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ay(){return{controller:new BO,data:new Map,refCount:0}}function Fu(a){a.refCount--,a.refCount===0&&$O(qO,function(){a.controller.abort()})}var Bu=null,ky=0,nc=0,ic=null;function HO(a,o){if(Bu===null){var u=Bu=[];ky=0,nc=C_(),ic={status:"pending",value:void 0,then:function(f){u.push(f)}}}return ky++,o.then(fw,fw),o}function fw(){if(--ky===0&&Bu!==null){ic!==null&&(ic.status="fulfilled");var a=Bu;Bu=null,nc=0,ic=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function WO(a,o){var u=[],f={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return a.then(function(){f.status="fulfilled",f.value=o;for(var m=0;m<u.length;m++)(0,u[m])(o)},function(m){for(f.status="rejected",f.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),f}var pw=q.S;q.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&HO(a,o),pw!==null&&pw(a,o)};var Go=it(null);function Ry(){var a=Go.current;return a!==null?a:Pe.pooledCache}function If(a,o){o===null?ht(Go,Go.current):ht(Go,o.pool)}function gw(){var a=Ry();return a===null?null:{parent:Sn._currentValue,pool:a}}var $u=Error(i(460)),mw=Error(i(474)),Of=Error(i(542)),Cy={then:function(){}};function yw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Pf(){}function _w(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Pf,Pf),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,vw(a),a;default:if(typeof o.status=="string")o.then(Pf,Pf);else{if(a=Pe,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=o,a.status="pending",a.then(function(f){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=f}},function(f){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,vw(a),a}throw qu=o,$u}}var qu=null;function bw(){if(qu===null)throw Error(i(459));var a=qu;return qu=null,a}function vw(a){if(a===$u||a===Of)throw Error(i(483))}var va=!1;function Dy(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function My(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function xa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function wa(a,o,u){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(Ee&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,o=Af(a),aw(a,null,u),o}return Tf(a,f,o,u),Af(a)}function Hu(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var f=o.lanes;f&=a.pendingLanes,u|=f,o.lanes=u,So(a,u)}}function Iy(a,o){var u=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var k={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?m=b=k:b=b.next=k,u=u.next}while(u!==null);b===null?m=b=o:b=b.next=o}else m=b=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var Oy=!1;function Wu(){if(Oy){var a=ic;if(a!==null)throw a}}function Yu(a,o,u,f){Oy=!1;var m=a.updateQueue;va=!1;var b=m.firstBaseUpdate,k=m.lastBaseUpdate,I=m.shared.pending;if(I!==null){m.shared.pending=null;var W=I,et=W.next;W.next=null,k===null?b=et:k.next=et,k=W;var ft=a.alternate;ft!==null&&(ft=ft.updateQueue,I=ft.lastBaseUpdate,I!==k&&(I===null?ft.firstBaseUpdate=et:I.next=et,ft.lastBaseUpdate=W))}if(b!==null){var mt=m.baseState;k=0,ft=et=W=null,I=b;do{var st=I.lane&-536870913,rt=st!==I.lane;if(rt?(ue&st)===st:(f&st)===st){st!==0&&st===nc&&(Oy=!0),ft!==null&&(ft=ft.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});t:{var zt=a,Lt=I;st=o;var Ce=u;switch(Lt.tag){case 1:if(zt=Lt.payload,typeof zt=="function"){mt=zt.call(Ce,mt,st);break t}mt=zt;break t;case 3:zt.flags=zt.flags&-65537|128;case 0:if(zt=Lt.payload,st=typeof zt=="function"?zt.call(Ce,mt,st):zt,st==null)break t;mt=p({},mt,st);break t;case 2:va=!0}}st=I.callback,st!==null&&(a.flags|=64,rt&&(a.flags|=8192),rt=m.callbacks,rt===null?m.callbacks=[st]:rt.push(st))}else rt={lane:st,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ft===null?(et=ft=rt,W=mt):ft=ft.next=rt,k|=st;if(I=I.next,I===null){if(I=m.shared.pending,I===null)break;rt=I,I=rt.next,rt.next=null,m.lastBaseUpdate=rt,m.shared.pending=null}}while(!0);ft===null&&(W=mt),m.baseState=W,m.firstBaseUpdate=et,m.lastBaseUpdate=ft,b===null&&(m.shared.lanes=0),Da|=k,a.lanes=k,a.memoizedState=mt}}function xw(a,o){if(typeof a!="function")throw Error(i(191,a));a.call(o)}function ww(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)xw(u[a],o)}var sc=it(null),Nf=it(0);function Ew(a,o){a=Ur,ht(Nf,a),ht(sc,o),Ur=a|o.baseLanes}function Py(){ht(Nf,Ur),ht(sc,sc.current)}function Ny(){Ur=Nf.current,at(sc),at(Nf)}var Ea=0,Zt=null,ke=null,hn=null,Lf=!1,rc=!1,Ko=!1,jf=0,Gu=0,ac=null,YO=0;function sn(){throw Error(i(321))}function Ly(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Ci(a[u],o[u]))return!1;return!0}function jy(a,o,u,f,m,b){return Ea=b,Zt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,q.H=a===null||a.memoizedState===null?a1:o1,Ko=!1,b=u(f,m),Ko=!1,rc&&(b=Tw(o,u,f,m)),Sw(a),b}function Sw(a){q.H=$f;var o=ke!==null&&ke.next!==null;if(Ea=0,hn=ke=Zt=null,Lf=!1,Gu=0,ac=null,o)throw Error(i(300));a===null||Pn||(a=a.dependencies,a!==null&&Df(a)&&(Pn=!0))}function Tw(a,o,u,f){Zt=a;var m=0;do{if(rc&&(ac=null),Gu=0,rc=!1,25<=m)throw Error(i(301));if(m+=1,hn=ke=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}q.H=t2,b=o(u,f)}while(rc);return b}function GO(){var a=q.H,o=a.useState()[0];return o=typeof o.then=="function"?Ku(o):o,a=a.useState()[0],(ke!==null?ke.memoizedState:null)!==a&&(Zt.flags|=1024),o}function Vy(){var a=jf!==0;return jf=0,a}function Uy(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function zy(a){if(Lf){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Lf=!1}Ea=0,hn=ke=Zt=null,rc=!1,Gu=jf=0,ac=null}function bi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Zt.memoizedState=hn=a:hn=hn.next=a,hn}function dn(){if(ke===null){var a=Zt.alternate;a=a!==null?a.memoizedState:null}else a=ke.next;var o=hn===null?Zt.memoizedState:hn.next;if(o!==null)hn=o,ke=a;else{if(a===null)throw Zt.alternate===null?Error(i(467)):Error(i(310));ke=a,a={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},hn===null?Zt.memoizedState=hn=a:hn=hn.next=a}return hn}function Fy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ku(a){var o=Gu;return Gu+=1,ac===null&&(ac=[]),a=_w(ac,a,o),o=Zt,(hn===null?o.memoizedState:hn.next)===null&&(o=o.alternate,q.H=o===null||o.memoizedState===null?a1:o1),a}function Vf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ku(a);if(a.$$typeof===N)return ti(a)}throw Error(i(438,String(a)))}function By(a){var o=null,u=Zt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=Zt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Fy(),Zt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),f=0;f<a;f++)u[f]=V;return o.index++,u}function Or(a,o){return typeof o=="function"?o(a):o}function Uf(a){var o=dn();return $y(o,ke,a)}function $y(a,o,u){var f=a.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var m=a.baseQueue,b=f.pending;if(b!==null){if(m!==null){var k=m.next;m.next=b.next,b.next=k}o.baseQueue=m=b,f.pending=null}if(b=a.baseState,m===null)a.memoizedState=b;else{o=m.next;var I=k=null,W=null,et=o,ft=!1;do{var mt=et.lane&-536870913;if(mt!==et.lane?(ue&mt)===mt:(Ea&mt)===mt){var st=et.revertLane;if(st===0)W!==null&&(W=W.next={lane:0,revertLane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),mt===nc&&(ft=!0);else if((Ea&st)===st){et=et.next,st===nc&&(ft=!0);continue}else mt={lane:0,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},W===null?(I=W=mt,k=b):W=W.next=mt,Zt.lanes|=st,Da|=st;mt=et.action,Ko&&u(b,mt),b=et.hasEagerState?et.eagerState:u(b,mt)}else st={lane:mt,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},W===null?(I=W=st,k=b):W=W.next=st,Zt.lanes|=mt,Da|=mt;et=et.next}while(et!==null&&et!==o);if(W===null?k=b:W.next=I,!Ci(b,a.memoizedState)&&(Pn=!0,ft&&(u=ic,u!==null)))throw u;a.memoizedState=b,a.baseState=k,a.baseQueue=W,f.lastRenderedState=b}return m===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function qy(a){var o=dn(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var f=u.dispatch,m=u.pending,b=o.memoizedState;if(m!==null){u.pending=null;var k=m=m.next;do b=a(b,k.action),k=k.next;while(k!==m);Ci(b,o.memoizedState)||(Pn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,f]}function Aw(a,o,u){var f=Zt,m=dn(),b=ye;if(b){if(u===void 0)throw Error(i(407));u=u()}else u=o();var k=!Ci((ke||m).memoizedState,u);k&&(m.memoizedState=u,Pn=!0),m=m.queue;var I=Cw.bind(null,f,m,a);if(Xu(2048,8,I,[a]),m.getSnapshot!==o||k||hn!==null&&hn.memoizedState.tag&1){if(f.flags|=2048,oc(9,zf(),Rw.bind(null,f,m,u,o),null),Pe===null)throw Error(i(349));b||(Ea&124)!==0||kw(f,o,u)}return u}function kw(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=Zt.updateQueue,o===null?(o=Fy(),Zt.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function Rw(a,o,u,f){o.value=u,o.getSnapshot=f,Dw(o)&&Mw(a)}function Cw(a,o,u){return u(function(){Dw(o)&&Mw(a)})}function Dw(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Ci(a,u)}catch{return!0}}function Mw(a){var o=Zl(a,2);o!==null&&Ni(o,a,2)}function Hy(a){var o=bi();if(typeof a=="function"){var u=a;if(a=u(),Ko){di(!0);try{u()}finally{di(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:a},o}function Iw(a,o,u,f){return a.baseState=u,$y(a,ke,typeof f=="function"?f:Or)}function KO(a,o,u,f,m){if(Bf(a))throw Error(i(485));if(a=o.action,a!==null){var b={payload:m,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){b.listeners.push(k)}};q.T!==null?u(!0):b.isTransition=!1,f(b),u=o.pending,u===null?(b.next=o.pending=b,Ow(o,b)):(b.next=u.next,o.pending=u.next=b)}}function Ow(a,o){var u=o.action,f=o.payload,m=a.state;if(o.isTransition){var b=q.T,k={};q.T=k;try{var I=u(m,f),W=q.S;W!==null&&W(k,I),Pw(a,o,I)}catch(et){Wy(a,o,et)}finally{q.T=b}}else try{b=u(m,f),Pw(a,o,b)}catch(et){Wy(a,o,et)}}function Pw(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Nw(a,o,f)},function(f){return Wy(a,o,f)}):Nw(a,o,u)}function Nw(a,o,u){o.status="fulfilled",o.value=u,Lw(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,Ow(a,u)))}function Wy(a,o,u){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,Lw(o),o=o.next;while(o!==f)}a.action=null}function Lw(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function jw(a,o){return o}function Vw(a,o){if(ye){var u=Pe.formState;if(u!==null){t:{var f=Zt;if(ye){if(Qe){e:{for(var m=Qe,b=zs;m.nodeType!==8;){if(!b){m=null;break e}if(m=ps(m.nextSibling),m===null){m=null;break e}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){Qe=ps(m.nextSibling),f=m.data==="F!";break t}}Ho(f)}f=!1}f&&(o=u[0])}}return u=bi(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jw,lastRenderedState:o},u.queue=f,u=i1.bind(null,Zt,f),f.dispatch=u,f=Hy(!1),b=Qy.bind(null,Zt,!1,f.queue),f=bi(),m={state:o,dispatch:null,action:a,pending:null},f.queue=m,u=KO.bind(null,Zt,m,b,u),m.dispatch=u,f.memoizedState=a,[o,u,!1]}function Uw(a){var o=dn();return zw(o,ke,a)}function zw(a,o,u){if(o=$y(a,o,jw)[0],a=Uf(Or)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Ku(o)}catch(k){throw k===$u?Of:k}else f=o;o=dn();var m=o.queue,b=m.dispatch;return u!==o.memoizedState&&(Zt.flags|=2048,oc(9,zf(),XO.bind(null,m,u),null)),[f,b,a]}function XO(a,o){a.action=o}function Fw(a){var o=dn(),u=ke;if(u!==null)return zw(o,u,a);dn(),o=o.memoizedState,u=dn();var f=u.queue.dispatch;return u.memoizedState=a,[o,f,!1]}function oc(a,o,u,f){return a={tag:a,create:u,deps:f,inst:o,next:null},o=Zt.updateQueue,o===null&&(o=Fy(),Zt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(f=u.next,u.next=a,a.next=f,o.lastEffect=a),a}function zf(){return{destroy:void 0,resource:void 0}}function Bw(){return dn().memoizedState}function Ff(a,o,u,f){var m=bi();f=f===void 0?null:f,Zt.flags|=a,m.memoizedState=oc(1|o,zf(),u,f)}function Xu(a,o,u,f){var m=dn();f=f===void 0?null:f;var b=m.memoizedState.inst;ke!==null&&f!==null&&Ly(f,ke.memoizedState.deps)?m.memoizedState=oc(o,b,u,f):(Zt.flags|=a,m.memoizedState=oc(1|o,b,u,f))}function $w(a,o){Ff(8390656,8,a,o)}function qw(a,o){Xu(2048,8,a,o)}function Hw(a,o){return Xu(4,2,a,o)}function Ww(a,o){return Xu(4,4,a,o)}function Yw(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function Gw(a,o,u){u=u!=null?u.concat([a]):null,Xu(4,4,Yw.bind(null,o,a),u)}function Yy(){}function Kw(a,o){var u=dn();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&Ly(o,f[1])?f[0]:(u.memoizedState=[a,o],a)}function Xw(a,o){var u=dn();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&Ly(o,f[1]))return f[0];if(f=a(),Ko){di(!0);try{a()}finally{di(!1)}}return u.memoizedState=[f,o],f}function Gy(a,o,u){return u===void 0||(Ea&1073741824)!==0?a.memoizedState=o:(a.memoizedState=u,a=J1(),Zt.lanes|=a,Da|=a,u)}function Qw(a,o,u,f){return Ci(u,o)?u:sc.current!==null?(a=Gy(a,u,f),Ci(a,o)||(Pn=!0),a):(Ea&42)===0?(Pn=!0,a.memoizedState=u):(a=J1(),Zt.lanes|=a,Da|=a,o)}function Zw(a,o,u,f,m){var b=K.p;K.p=b!==0&&8>b?b:8;var k=q.T,I={};q.T=I,Qy(a,!1,o,u);try{var W=m(),et=q.S;if(et!==null&&et(I,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var ft=WO(W,f);Qu(a,o,ft,Pi(a))}else Qu(a,o,f,Pi(a))}catch(mt){Qu(a,o,{then:function(){},status:"rejected",reason:mt},Pi())}finally{K.p=b,q.T=k}}function QO(){}function Ky(a,o,u,f){if(a.tag!==5)throw Error(i(476));var m=Jw(a).queue;Zw(a,m,o,ot,u===null?QO:function(){return t1(a),u(f)})}function Jw(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:ot},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function t1(a){var o=Jw(a).next.queue;Qu(a,o,{},Pi())}function Xy(){return ti(gh)}function e1(){return dn().memoizedState}function n1(){return dn().memoizedState}function ZO(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=Pi();a=xa(u);var f=wa(o,a,u);f!==null&&(Ni(f,o,u),Hu(f,o,u)),o={cache:Ay()},a.payload=o;return}o=o.return}}function JO(a,o,u){var f=Pi();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Bf(a)?s1(o,u):(u=my(a,o,u,f),u!==null&&(Ni(u,a,f),r1(u,o,f)))}function i1(a,o,u){var f=Pi();Qu(a,o,u,f)}function Qu(a,o,u,f){var m={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Bf(a))s1(o,m);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var k=o.lastRenderedState,I=b(k,u);if(m.hasEagerState=!0,m.eagerState=I,Ci(I,k))return Tf(a,o,m,0),Pe===null&&Sf(),!1}catch{}finally{}if(u=my(a,o,m,f),u!==null)return Ni(u,a,f),r1(u,o,f),!0}return!1}function Qy(a,o,u,f){if(f={lane:2,revertLane:C_(),action:f,hasEagerState:!1,eagerState:null,next:null},Bf(a)){if(o)throw Error(i(479))}else o=my(a,u,f,2),o!==null&&Ni(o,a,2)}function Bf(a){var o=a.alternate;return a===Zt||o!==null&&o===Zt}function s1(a,o){rc=Lf=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function r1(a,o,u){if((u&4194048)!==0){var f=o.lanes;f&=a.pendingLanes,u|=f,o.lanes=u,So(a,u)}}var $f={readContext:ti,use:Vf,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useInsertionEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useSyncExternalStore:sn,useId:sn,useHostTransitionStatus:sn,useFormState:sn,useActionState:sn,useOptimistic:sn,useMemoCache:sn,useCacheRefresh:sn},a1={readContext:ti,use:Vf,useCallback:function(a,o){return bi().memoizedState=[a,o===void 0?null:o],a},useContext:ti,useEffect:$w,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Ff(4194308,4,Yw.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Ff(4194308,4,a,o)},useInsertionEffect:function(a,o){Ff(4,2,a,o)},useMemo:function(a,o){var u=bi();o=o===void 0?null:o;var f=a();if(Ko){di(!0);try{a()}finally{di(!1)}}return u.memoizedState=[f,o],f},useReducer:function(a,o,u){var f=bi();if(u!==void 0){var m=u(o);if(Ko){di(!0);try{u(o)}finally{di(!1)}}}else m=o;return f.memoizedState=f.baseState=m,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:m},f.queue=a,a=a.dispatch=JO.bind(null,Zt,a),[f.memoizedState,a]},useRef:function(a){var o=bi();return a={current:a},o.memoizedState=a},useState:function(a){a=Hy(a);var o=a.queue,u=i1.bind(null,Zt,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Yy,useDeferredValue:function(a,o){var u=bi();return Gy(u,a,o)},useTransition:function(){var a=Hy(!1);return a=Zw.bind(null,Zt,a.queue,!0,!1),bi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var f=Zt,m=bi();if(ye){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),Pe===null)throw Error(i(349));(ue&124)!==0||kw(f,o,u)}m.memoizedState=u;var b={value:u,getSnapshot:o};return m.queue=b,$w(Cw.bind(null,f,b,a),[a]),f.flags|=2048,oc(9,zf(),Rw.bind(null,f,b,u,o),null),u},useId:function(){var a=bi(),o=Pe.identifierPrefix;if(ye){var u=Dr,f=Cr;u=(f&~(1<<32-Dn(f)-1)).toString(32)+u,o="«"+o+"R"+u,u=jf++,0<u&&(o+="H"+u.toString(32)),o+="»"}else u=YO++,o="«"+o+"r"+u.toString(32)+"»";return a.memoizedState=o},useHostTransitionStatus:Xy,useFormState:Vw,useActionState:Vw,useOptimistic:function(a){var o=bi();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Qy.bind(null,Zt,!0,u),u.dispatch=o,[a,o]},useMemoCache:By,useCacheRefresh:function(){return bi().memoizedState=ZO.bind(null,Zt)}},o1={readContext:ti,use:Vf,useCallback:Kw,useContext:ti,useEffect:qw,useImperativeHandle:Gw,useInsertionEffect:Hw,useLayoutEffect:Ww,useMemo:Xw,useReducer:Uf,useRef:Bw,useState:function(){return Uf(Or)},useDebugValue:Yy,useDeferredValue:function(a,o){var u=dn();return Qw(u,ke.memoizedState,a,o)},useTransition:function(){var a=Uf(Or)[0],o=dn().memoizedState;return[typeof a=="boolean"?a:Ku(a),o]},useSyncExternalStore:Aw,useId:e1,useHostTransitionStatus:Xy,useFormState:Uw,useActionState:Uw,useOptimistic:function(a,o){var u=dn();return Iw(u,ke,a,o)},useMemoCache:By,useCacheRefresh:n1},t2={readContext:ti,use:Vf,useCallback:Kw,useContext:ti,useEffect:qw,useImperativeHandle:Gw,useInsertionEffect:Hw,useLayoutEffect:Ww,useMemo:Xw,useReducer:qy,useRef:Bw,useState:function(){return qy(Or)},useDebugValue:Yy,useDeferredValue:function(a,o){var u=dn();return ke===null?Gy(u,a,o):Qw(u,ke.memoizedState,a,o)},useTransition:function(){var a=qy(Or)[0],o=dn().memoizedState;return[typeof a=="boolean"?a:Ku(a),o]},useSyncExternalStore:Aw,useId:e1,useHostTransitionStatus:Xy,useFormState:Fw,useActionState:Fw,useOptimistic:function(a,o){var u=dn();return ke!==null?Iw(u,ke,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:By,useCacheRefresh:n1},lc=null,Zu=0;function qf(a){var o=Zu;return Zu+=1,lc===null&&(lc=[]),_w(lc,a,o)}function Ju(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Hf(a,o){throw o.$$typeof===y?Error(i(525)):(a=Object.prototype.toString.call(o),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function l1(a){var o=a._init;return o(a._payload)}function c1(a){function o(Z,X){if(a){var tt=Z.deletions;tt===null?(Z.deletions=[X],Z.flags|=16):tt.push(X)}}function u(Z,X){if(!a)return null;for(;X!==null;)o(Z,X),X=X.sibling;return null}function f(Z){for(var X=new Map;Z!==null;)Z.key!==null?X.set(Z.key,Z):X.set(Z.index,Z),Z=Z.sibling;return X}function m(Z,X){return Z=Rr(Z,X),Z.index=0,Z.sibling=null,Z}function b(Z,X,tt){return Z.index=tt,a?(tt=Z.alternate,tt!==null?(tt=tt.index,tt<X?(Z.flags|=67108866,X):tt):(Z.flags|=67108866,X)):(Z.flags|=1048576,X)}function k(Z){return a&&Z.alternate===null&&(Z.flags|=67108866),Z}function I(Z,X,tt,pt){return X===null||X.tag!==6?(X=_y(tt,Z.mode,pt),X.return=Z,X):(X=m(X,tt),X.return=Z,X)}function W(Z,X,tt,pt){var Dt=tt.type;return Dt===E?ft(Z,X,tt.props.children,pt,tt.key):X!==null&&(X.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===R&&l1(Dt)===X.type)?(X=m(X,tt.props),Ju(X,tt),X.return=Z,X):(X=kf(tt.type,tt.key,tt.props,null,Z.mode,pt),Ju(X,tt),X.return=Z,X)}function et(Z,X,tt,pt){return X===null||X.tag!==4||X.stateNode.containerInfo!==tt.containerInfo||X.stateNode.implementation!==tt.implementation?(X=by(tt,Z.mode,pt),X.return=Z,X):(X=m(X,tt.children||[]),X.return=Z,X)}function ft(Z,X,tt,pt,Dt){return X===null||X.tag!==7?(X=Fo(tt,Z.mode,pt,Dt),X.return=Z,X):(X=m(X,tt),X.return=Z,X)}function mt(Z,X,tt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=_y(""+X,Z.mode,tt),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return tt=kf(X.type,X.key,X.props,null,Z.mode,tt),Ju(tt,X),tt.return=Z,tt;case x:return X=by(X,Z.mode,tt),X.return=Z,X;case R:var pt=X._init;return X=pt(X._payload),mt(Z,X,tt)}if(Q(X)||H(X))return X=Fo(X,Z.mode,tt,null),X.return=Z,X;if(typeof X.then=="function")return mt(Z,qf(X),tt);if(X.$$typeof===N)return mt(Z,Mf(Z,X),tt);Hf(Z,X)}return null}function st(Z,X,tt,pt){var Dt=X!==null?X.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return Dt!==null?null:I(Z,X,""+tt,pt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case _:return tt.key===Dt?W(Z,X,tt,pt):null;case x:return tt.key===Dt?et(Z,X,tt,pt):null;case R:return Dt=tt._init,tt=Dt(tt._payload),st(Z,X,tt,pt)}if(Q(tt)||H(tt))return Dt!==null?null:ft(Z,X,tt,pt,null);if(typeof tt.then=="function")return st(Z,X,qf(tt),pt);if(tt.$$typeof===N)return st(Z,X,Mf(Z,tt),pt);Hf(Z,tt)}return null}function rt(Z,X,tt,pt,Dt){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return Z=Z.get(tt)||null,I(X,Z,""+pt,Dt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case _:return Z=Z.get(pt.key===null?tt:pt.key)||null,W(X,Z,pt,Dt);case x:return Z=Z.get(pt.key===null?tt:pt.key)||null,et(X,Z,pt,Dt);case R:var Jt=pt._init;return pt=Jt(pt._payload),rt(Z,X,tt,pt,Dt)}if(Q(pt)||H(pt))return Z=Z.get(tt)||null,ft(X,Z,pt,Dt,null);if(typeof pt.then=="function")return rt(Z,X,tt,qf(pt),Dt);if(pt.$$typeof===N)return rt(Z,X,tt,Mf(X,pt),Dt);Hf(X,pt)}return null}function zt(Z,X,tt,pt){for(var Dt=null,Jt=null,Ot=X,jt=X=0,Ln=null;Ot!==null&&jt<tt.length;jt++){Ot.index>jt?(Ln=Ot,Ot=null):Ln=Ot.sibling;var pe=st(Z,Ot,tt[jt],pt);if(pe===null){Ot===null&&(Ot=Ln);break}a&&Ot&&pe.alternate===null&&o(Z,Ot),X=b(pe,X,jt),Jt===null?Dt=pe:Jt.sibling=pe,Jt=pe,Ot=Ln}if(jt===tt.length)return u(Z,Ot),ye&&$o(Z,jt),Dt;if(Ot===null){for(;jt<tt.length;jt++)Ot=mt(Z,tt[jt],pt),Ot!==null&&(X=b(Ot,X,jt),Jt===null?Dt=Ot:Jt.sibling=Ot,Jt=Ot);return ye&&$o(Z,jt),Dt}for(Ot=f(Ot);jt<tt.length;jt++)Ln=rt(Ot,Z,jt,tt[jt],pt),Ln!==null&&(a&&Ln.alternate!==null&&Ot.delete(Ln.key===null?jt:Ln.key),X=b(Ln,X,jt),Jt===null?Dt=Ln:Jt.sibling=Ln,Jt=Ln);return a&&Ot.forEach(function(Ua){return o(Z,Ua)}),ye&&$o(Z,jt),Dt}function Lt(Z,X,tt,pt){if(tt==null)throw Error(i(151));for(var Dt=null,Jt=null,Ot=X,jt=X=0,Ln=null,pe=tt.next();Ot!==null&&!pe.done;jt++,pe=tt.next()){Ot.index>jt?(Ln=Ot,Ot=null):Ln=Ot.sibling;var Ua=st(Z,Ot,pe.value,pt);if(Ua===null){Ot===null&&(Ot=Ln);break}a&&Ot&&Ua.alternate===null&&o(Z,Ot),X=b(Ua,X,jt),Jt===null?Dt=Ua:Jt.sibling=Ua,Jt=Ua,Ot=Ln}if(pe.done)return u(Z,Ot),ye&&$o(Z,jt),Dt;if(Ot===null){for(;!pe.done;jt++,pe=tt.next())pe=mt(Z,pe.value,pt),pe!==null&&(X=b(pe,X,jt),Jt===null?Dt=pe:Jt.sibling=pe,Jt=pe);return ye&&$o(Z,jt),Dt}for(Ot=f(Ot);!pe.done;jt++,pe=tt.next())pe=rt(Ot,Z,jt,pe.value,pt),pe!==null&&(a&&pe.alternate!==null&&Ot.delete(pe.key===null?jt:pe.key),X=b(pe,X,jt),Jt===null?Dt=pe:Jt.sibling=pe,Jt=pe);return a&&Ot.forEach(function(eP){return o(Z,eP)}),ye&&$o(Z,jt),Dt}function Ce(Z,X,tt,pt){if(typeof tt=="object"&&tt!==null&&tt.type===E&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case _:t:{for(var Dt=tt.key;X!==null;){if(X.key===Dt){if(Dt=tt.type,Dt===E){if(X.tag===7){u(Z,X.sibling),pt=m(X,tt.props.children),pt.return=Z,Z=pt;break t}}else if(X.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===R&&l1(Dt)===X.type){u(Z,X.sibling),pt=m(X,tt.props),Ju(pt,tt),pt.return=Z,Z=pt;break t}u(Z,X);break}else o(Z,X);X=X.sibling}tt.type===E?(pt=Fo(tt.props.children,Z.mode,pt,tt.key),pt.return=Z,Z=pt):(pt=kf(tt.type,tt.key,tt.props,null,Z.mode,pt),Ju(pt,tt),pt.return=Z,Z=pt)}return k(Z);case x:t:{for(Dt=tt.key;X!==null;){if(X.key===Dt)if(X.tag===4&&X.stateNode.containerInfo===tt.containerInfo&&X.stateNode.implementation===tt.implementation){u(Z,X.sibling),pt=m(X,tt.children||[]),pt.return=Z,Z=pt;break t}else{u(Z,X);break}else o(Z,X);X=X.sibling}pt=by(tt,Z.mode,pt),pt.return=Z,Z=pt}return k(Z);case R:return Dt=tt._init,tt=Dt(tt._payload),Ce(Z,X,tt,pt)}if(Q(tt))return zt(Z,X,tt,pt);if(H(tt)){if(Dt=H(tt),typeof Dt!="function")throw Error(i(150));return tt=Dt.call(tt),Lt(Z,X,tt,pt)}if(typeof tt.then=="function")return Ce(Z,X,qf(tt),pt);if(tt.$$typeof===N)return Ce(Z,X,Mf(Z,tt),pt);Hf(Z,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,X!==null&&X.tag===6?(u(Z,X.sibling),pt=m(X,tt),pt.return=Z,Z=pt):(u(Z,X),pt=_y(tt,Z.mode,pt),pt.return=Z,Z=pt),k(Z)):u(Z,X)}return function(Z,X,tt,pt){try{Zu=0;var Dt=Ce(Z,X,tt,pt);return lc=null,Dt}catch(Ot){if(Ot===$u||Ot===Of)throw Ot;var Jt=Di(29,Ot,null,Z.mode);return Jt.lanes=pt,Jt.return=Z,Jt}finally{}}}var cc=c1(!0),u1=c1(!1),Ji=it(null),Fs=null;function Sa(a){var o=a.alternate;ht(Tn,Tn.current&1),ht(Ji,a),Fs===null&&(o===null||sc.current!==null||o.memoizedState!==null)&&(Fs=a)}function h1(a){if(a.tag===22){if(ht(Tn,Tn.current),ht(Ji,a),Fs===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(Fs=a)}}else Ta()}function Ta(){ht(Tn,Tn.current),ht(Ji,Ji.current)}function Pr(a){at(Ji),Fs===a&&(Fs=null),at(Tn)}var Tn=it(0);function Wf(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||F_(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Zy(a,o,u,f){o=a.memoizedState,u=u(f,o),u=u==null?o:p({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Jy={enqueueSetState:function(a,o,u){a=a._reactInternals;var f=Pi(),m=xa(f);m.payload=o,u!=null&&(m.callback=u),o=wa(a,m,f),o!==null&&(Ni(o,a,f),Hu(o,a,f))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var f=Pi(),m=xa(f);m.tag=1,m.payload=o,u!=null&&(m.callback=u),o=wa(a,m,f),o!==null&&(Ni(o,a,f),Hu(o,a,f))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=Pi(),f=xa(u);f.tag=2,o!=null&&(f.callback=o),o=wa(a,f,u),o!==null&&(Ni(o,a,u),Hu(o,a,u))}};function d1(a,o,u,f,m,b,k){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,b,k):o.prototype&&o.prototype.isPureReactComponent?!Nu(u,f)||!Nu(m,b):!0}function f1(a,o,u,f){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==a&&Jy.enqueueReplaceState(o,o.state,null)}function Xo(a,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(a=a.defaultProps){u===o&&(u=p({},u));for(var m in a)u[m]===void 0&&(u[m]=a[m])}return u}var Yf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function p1(a){Yf(a)}function g1(a){console.error(a)}function m1(a){Yf(a)}function Gf(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function y1(a,o,u){try{var f=a.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function t_(a,o,u){return u=xa(u),u.tag=3,u.payload={element:null},u.callback=function(){Gf(a,o)},u}function _1(a){return a=xa(a),a.tag=3,a}function b1(a,o,u,f){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var b=f.value;a.payload=function(){return m(b)},a.callback=function(){y1(o,u,f)}}var k=u.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(a.callback=function(){y1(o,u,f),typeof m!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var I=f.stack;this.componentDidCatch(f.value,{componentStack:I!==null?I:""})})}function e2(a,o,u,f,m){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&zu(o,u,m,!0),u=Ji.current,u!==null){switch(u.tag){case 13:return Fs===null?S_():u.alternate===null&&Ze===0&&(Ze=3),u.flags&=-257,u.flags|=65536,u.lanes=m,f===Cy?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),A_(a,f,m)),!1;case 22:return u.flags|=65536,f===Cy?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),A_(a,f,m)),!1}throw Error(i(435,u.tag))}return A_(a,f,m),S_(),!1}if(ye)return o=Ji.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,f!==wy&&(a=Error(i(422),{cause:f}),Uu(Ki(a,u)))):(f!==wy&&(o=Error(i(423),{cause:f}),Uu(Ki(o,u))),a=a.current.alternate,a.flags|=65536,m&=-m,a.lanes|=m,f=Ki(f,u),m=t_(a.stateNode,f,m),Iy(a,m),Ze!==4&&(Ze=2)),!1;var b=Error(i(520),{cause:f});if(b=Ki(b,u),ah===null?ah=[b]:ah.push(b),Ze!==4&&(Ze=2),o===null)return!0;f=Ki(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=m&-m,u.lanes|=a,a=t_(u.stateNode,f,a),Iy(u,a),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ma===null||!Ma.has(b))))return u.flags|=65536,m&=-m,u.lanes|=m,m=_1(m),b1(m,a,u,f),Iy(u,m),!1}u=u.return}while(u!==null);return!1}var v1=Error(i(461)),Pn=!1;function Hn(a,o,u,f){o.child=a===null?u1(o,null,u,f):cc(o,a.child,u,f)}function x1(a,o,u,f,m){u=u.render;var b=o.ref;if("ref"in f){var k={};for(var I in f)I!=="ref"&&(k[I]=f[I])}else k=f;return Yo(o),f=jy(a,o,u,k,b,m),I=Vy(),a!==null&&!Pn?(Uy(a,o,m),Nr(a,o,m)):(ye&&I&&vy(o),o.flags|=1,Hn(a,o,f,m),o.child)}function w1(a,o,u,f,m){if(a===null){var b=u.type;return typeof b=="function"&&!yy(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,E1(a,o,b,f,m)):(a=kf(u.type,null,f,o,o.mode,m),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!l_(a,m)){var k=b.memoizedProps;if(u=u.compare,u=u!==null?u:Nu,u(k,f)&&a.ref===o.ref)return Nr(a,o,m)}return o.flags|=1,a=Rr(b,f),a.ref=o.ref,a.return=o,o.child=a}function E1(a,o,u,f,m){if(a!==null){var b=a.memoizedProps;if(Nu(b,f)&&a.ref===o.ref)if(Pn=!1,o.pendingProps=f=b,l_(a,m))(a.flags&131072)!==0&&(Pn=!0);else return o.lanes=a.lanes,Nr(a,o,m)}return e_(a,o,u,f,m)}function S1(a,o,u){var f=o.pendingProps,m=f.children,b=a!==null?a.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=b!==null?b.baseLanes|u:u,a!==null){for(m=o.child=a.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;o.childLanes=b&~f}else o.childLanes=0,o.child=null;return T1(a,o,f,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&If(o,b!==null?b.cachePool:null),b!==null?Ew(o,b):Py(),h1(o);else return o.lanes=o.childLanes=536870912,T1(a,o,b!==null?b.baseLanes|u:u,u)}else b!==null?(If(o,b.cachePool),Ew(o,b),Ta(),o.memoizedState=null):(a!==null&&If(o,null),Py(),Ta());return Hn(a,o,m,u),o.child}function T1(a,o,u,f){var m=Ry();return m=m===null?null:{parent:Sn._currentValue,pool:m},o.memoizedState={baseLanes:u,cachePool:m},a!==null&&If(o,null),Py(),h1(o),a!==null&&zu(a,o,f,!0),null}function Kf(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function e_(a,o,u,f,m){return Yo(o),u=jy(a,o,u,f,void 0,m),f=Vy(),a!==null&&!Pn?(Uy(a,o,m),Nr(a,o,m)):(ye&&f&&vy(o),o.flags|=1,Hn(a,o,u,m),o.child)}function A1(a,o,u,f,m,b){return Yo(o),o.updateQueue=null,u=Tw(o,f,u,m),Sw(a),f=Vy(),a!==null&&!Pn?(Uy(a,o,b),Nr(a,o,b)):(ye&&f&&vy(o),o.flags|=1,Hn(a,o,u,b),o.child)}function k1(a,o,u,f,m){if(Yo(o),o.stateNode===null){var b=Jl,k=u.contextType;typeof k=="object"&&k!==null&&(b=ti(k)),b=new u(f,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Jy,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=f,b.state=o.memoizedState,b.refs={},Dy(o),k=u.contextType,b.context=typeof k=="object"&&k!==null?ti(k):Jl,b.state=o.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(Zy(o,u,k,f),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(k=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),k!==b.state&&Jy.enqueueReplaceState(b,b.state,null),Yu(o,f,b,m),Wu(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(a===null){b=o.stateNode;var I=o.memoizedProps,W=Xo(u,I);b.props=W;var et=b.context,ft=u.contextType;k=Jl,typeof ft=="object"&&ft!==null&&(k=ti(ft));var mt=u.getDerivedStateFromProps;ft=typeof mt=="function"||typeof b.getSnapshotBeforeUpdate=="function",I=o.pendingProps!==I,ft||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(I||et!==k)&&f1(o,b,f,k),va=!1;var st=o.memoizedState;b.state=st,Yu(o,f,b,m),Wu(),et=o.memoizedState,I||st!==et||va?(typeof mt=="function"&&(Zy(o,u,mt,f),et=o.memoizedState),(W=va||d1(o,u,W,f,st,et,k))?(ft||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=et),b.props=f,b.state=et,b.context=k,f=W):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{b=o.stateNode,My(a,o),k=o.memoizedProps,ft=Xo(u,k),b.props=ft,mt=o.pendingProps,st=b.context,et=u.contextType,W=Jl,typeof et=="object"&&et!==null&&(W=ti(et)),I=u.getDerivedStateFromProps,(et=typeof I=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==mt||st!==W)&&f1(o,b,f,W),va=!1,st=o.memoizedState,b.state=st,Yu(o,f,b,m),Wu();var rt=o.memoizedState;k!==mt||st!==rt||va||a!==null&&a.dependencies!==null&&Df(a.dependencies)?(typeof I=="function"&&(Zy(o,u,I,f),rt=o.memoizedState),(ft=va||d1(o,u,ft,f,st,rt,W)||a!==null&&a.dependencies!==null&&Df(a.dependencies))?(et||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,rt,W),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,rt,W)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||k===a.memoizedProps&&st===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&st===a.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=rt),b.props=f,b.state=rt,b.context=W,f=ft):(typeof b.componentDidUpdate!="function"||k===a.memoizedProps&&st===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&st===a.memoizedState||(o.flags|=1024),f=!1)}return b=f,Kf(a,o),f=(o.flags&128)!==0,b||f?(b=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&f?(o.child=cc(o,a.child,null,m),o.child=cc(o,null,u,m)):Hn(a,o,u,m),o.memoizedState=b.state,a=o.child):a=Nr(a,o,m),a}function R1(a,o,u,f){return Vu(),o.flags|=256,Hn(a,o,u,f),o.child}var n_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function i_(a){return{baseLanes:a,cachePool:gw()}}function s_(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=ts),a}function C1(a,o,u){var f=o.pendingProps,m=!1,b=(o.flags&128)!==0,k;if((k=b)||(k=a!==null&&a.memoizedState===null?!1:(Tn.current&2)!==0),k&&(m=!0,o.flags&=-129),k=(o.flags&32)!==0,o.flags&=-33,a===null){if(ye){if(m?Sa(o):Ta(),ye){var I=Qe,W;if(W=I){t:{for(W=I,I=zs;W.nodeType!==8;){if(!I){I=null;break t}if(W=ps(W.nextSibling),W===null){I=null;break t}}I=W}I!==null?(o.memoizedState={dehydrated:I,treeContext:Bo!==null?{id:Cr,overflow:Dr}:null,retryLane:536870912,hydrationErrors:null},W=Di(18,null,null,0),W.stateNode=I,W.return=o,o.child=W,mi=o,Qe=null,W=!0):W=!1}W||Ho(o)}if(I=o.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return F_(I)?o.lanes=32:o.lanes=536870912,null;Pr(o)}return I=f.children,f=f.fallback,m?(Ta(),m=o.mode,I=Xf({mode:"hidden",children:I},m),f=Fo(f,m,u,null),I.return=o,f.return=o,I.sibling=f,o.child=I,m=o.child,m.memoizedState=i_(u),m.childLanes=s_(a,k,u),o.memoizedState=n_,f):(Sa(o),r_(o,I))}if(W=a.memoizedState,W!==null&&(I=W.dehydrated,I!==null)){if(b)o.flags&256?(Sa(o),o.flags&=-257,o=a_(a,o,u)):o.memoizedState!==null?(Ta(),o.child=a.child,o.flags|=128,o=null):(Ta(),m=f.fallback,I=o.mode,f=Xf({mode:"visible",children:f.children},I),m=Fo(m,I,u,null),m.flags|=2,f.return=o,m.return=o,f.sibling=m,o.child=f,cc(o,a.child,null,u),f=o.child,f.memoizedState=i_(u),f.childLanes=s_(a,k,u),o.memoizedState=n_,o=m);else if(Sa(o),F_(I)){if(k=I.nextSibling&&I.nextSibling.dataset,k)var et=k.dgst;k=et,f=Error(i(419)),f.stack="",f.digest=k,Uu({value:f,source:null,stack:null}),o=a_(a,o,u)}else if(Pn||zu(a,o,u,!1),k=(u&a.childLanes)!==0,Pn||k){if(k=Pe,k!==null&&(f=u&-u,f=(f&42)!==0?1:Cs(f),f=(f&(k.suspendedLanes|u))!==0?0:f,f!==0&&f!==W.retryLane))throw W.retryLane=f,Zl(a,f),Ni(k,a,f),v1;I.data==="$?"||S_(),o=a_(a,o,u)}else I.data==="$?"?(o.flags|=192,o.child=a.child,o=null):(a=W.treeContext,Qe=ps(I.nextSibling),mi=o,ye=!0,qo=null,zs=!1,a!==null&&(Qi[Zi++]=Cr,Qi[Zi++]=Dr,Qi[Zi++]=Bo,Cr=a.id,Dr=a.overflow,Bo=o),o=r_(o,f.children),o.flags|=4096);return o}return m?(Ta(),m=f.fallback,I=o.mode,W=a.child,et=W.sibling,f=Rr(W,{mode:"hidden",children:f.children}),f.subtreeFlags=W.subtreeFlags&65011712,et!==null?m=Rr(et,m):(m=Fo(m,I,u,null),m.flags|=2),m.return=o,f.return=o,f.sibling=m,o.child=f,f=m,m=o.child,I=a.child.memoizedState,I===null?I=i_(u):(W=I.cachePool,W!==null?(et=Sn._currentValue,W=W.parent!==et?{parent:et,pool:et}:W):W=gw(),I={baseLanes:I.baseLanes|u,cachePool:W}),m.memoizedState=I,m.childLanes=s_(a,k,u),o.memoizedState=n_,f):(Sa(o),u=a.child,a=u.sibling,u=Rr(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,a!==null&&(k=o.deletions,k===null?(o.deletions=[a],o.flags|=16):k.push(a)),o.child=u,o.memoizedState=null,u)}function r_(a,o){return o=Xf({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Xf(a,o){return a=Di(22,a,null,o),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function a_(a,o,u){return cc(o,a.child,null,u),a=r_(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function D1(a,o,u){a.lanes|=o;var f=a.alternate;f!==null&&(f.lanes|=o),Sy(a.return,o,u)}function o_(a,o,u,f,m){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=u,b.tailMode=m)}function M1(a,o,u){var f=o.pendingProps,m=f.revealOrder,b=f.tail;if(Hn(a,o,f.children,u),f=Tn.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)t:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&D1(a,u,o);else if(a.tag===19)D1(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break t;for(;a.sibling===null;){if(a.return===null||a.return===o)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}f&=1}switch(ht(Tn,f),m){case"forwards":for(u=o.child,m=null;u!==null;)a=u.alternate,a!==null&&Wf(a)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),o_(o,!1,m,u,b);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(a=m.alternate,a!==null&&Wf(a)===null){o.child=m;break}a=m.sibling,m.sibling=u,u=m,m=a}o_(o,!0,u,null,b);break;case"together":o_(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Nr(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Da|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(zu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(i(153));if(o.child!==null){for(a=o.child,u=Rr(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=Rr(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function l_(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Df(a)))}function n2(a,o,u){switch(o.tag){case 3:ut(o,o.stateNode.containerInfo),ba(o,Sn,a.memoizedState.cache),Vu();break;case 27:case 5:St(o);break;case 4:ut(o,o.stateNode.containerInfo);break;case 10:ba(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Sa(o),o.flags|=128,null):(u&o.child.childLanes)!==0?C1(a,o,u):(Sa(o),a=Nr(a,o,u),a!==null?a.sibling:null);Sa(o);break;case 19:var m=(a.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(zu(a,o,u,!1),f=(u&o.childLanes)!==0),m){if(f)return M1(a,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ht(Tn,Tn.current),f)break;return null;case 22:case 23:return o.lanes=0,S1(a,o,u);case 24:ba(o,Sn,a.memoizedState.cache)}return Nr(a,o,u)}function I1(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)Pn=!0;else{if(!l_(a,u)&&(o.flags&128)===0)return Pn=!1,n2(a,o,u);Pn=(a.flags&131072)!==0}else Pn=!1,ye&&(o.flags&1048576)!==0&&lw(o,Cf,o.index);switch(o.lanes=0,o.tag){case 16:t:{a=o.pendingProps;var f=o.elementType,m=f._init;if(f=m(f._payload),o.type=f,typeof f=="function")yy(f)?(a=Xo(f,a),o.tag=1,o=k1(null,o,f,a,u)):(o.tag=0,o=e_(null,o,f,a,u));else{if(f!=null){if(m=f.$$typeof,m===U){o.tag=11,o=x1(null,o,f,a,u);break t}else if(m===C){o.tag=14,o=w1(null,o,f,a,u);break t}}throw o=Ct(f)||f,Error(i(306,o,""))}}return o;case 0:return e_(a,o,o.type,o.pendingProps,u);case 1:return f=o.type,m=Xo(f,o.pendingProps),k1(a,o,f,m,u);case 3:t:{if(ut(o,o.stateNode.containerInfo),a===null)throw Error(i(387));f=o.pendingProps;var b=o.memoizedState;m=b.element,My(a,o),Yu(o,f,null,u);var k=o.memoizedState;if(f=k.cache,ba(o,Sn,f),f!==b.cache&&Ty(o,[Sn],u,!0),Wu(),f=k.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:k.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=R1(a,o,f,u);break t}else if(f!==m){m=Ki(Error(i(424)),o),Uu(m),o=R1(a,o,f,u);break t}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Qe=ps(a.firstChild),mi=o,ye=!0,qo=null,zs=!0,u=u1(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Vu(),f===m){o=Nr(a,o,u);break t}Hn(a,o,f,u)}o=o.child}return o;case 26:return Kf(a,o),a===null?(u=LE(o.type,null,o.pendingProps,null))?o.memoizedState=u:ye||(u=o.type,a=o.pendingProps,f=up(Y.current).createElement(u),f[xn]=o,f[cn]=a,Yn(f,u,a),nn(f),o.stateNode=f):o.memoizedState=LE(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return St(o),a===null&&ye&&(f=o.stateNode=OE(o.type,o.pendingProps,Y.current),mi=o,zs=!0,m=Qe,Pa(o.type)?(B_=m,Qe=ps(f.firstChild)):Qe=m),Hn(a,o,o.pendingProps.children,u),Kf(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&ye&&((m=f=Qe)&&(f=D2(f,o.type,o.pendingProps,zs),f!==null?(o.stateNode=f,mi=o,Qe=ps(f.firstChild),zs=!1,m=!0):m=!1),m||Ho(o)),St(o),m=o.type,b=o.pendingProps,k=a!==null?a.memoizedProps:null,f=b.children,V_(m,b)?f=null:k!==null&&V_(m,k)&&(o.flags|=32),o.memoizedState!==null&&(m=jy(a,o,GO,null,null,u),gh._currentValue=m),Kf(a,o),Hn(a,o,f,u),o.child;case 6:return a===null&&ye&&((a=u=Qe)&&(u=M2(u,o.pendingProps,zs),u!==null?(o.stateNode=u,mi=o,Qe=null,a=!0):a=!1),a||Ho(o)),null;case 13:return C1(a,o,u);case 4:return ut(o,o.stateNode.containerInfo),f=o.pendingProps,a===null?o.child=cc(o,null,f,u):Hn(a,o,f,u),o.child;case 11:return x1(a,o,o.type,o.pendingProps,u);case 7:return Hn(a,o,o.pendingProps,u),o.child;case 8:return Hn(a,o,o.pendingProps.children,u),o.child;case 12:return Hn(a,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,ba(o,o.type,f.value),Hn(a,o,f.children,u),o.child;case 9:return m=o.type._context,f=o.pendingProps.children,Yo(o),m=ti(m),f=f(m),o.flags|=1,Hn(a,o,f,u),o.child;case 14:return w1(a,o,o.type,o.pendingProps,u);case 15:return E1(a,o,o.type,o.pendingProps,u);case 19:return M1(a,o,u);case 31:return f=o.pendingProps,u=o.mode,f={mode:f.mode,children:f.children},a===null?(u=Xf(f,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=Rr(a.child,f),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return S1(a,o,u);case 24:return Yo(o),f=ti(Sn),a===null?(m=Ry(),m===null&&(m=Pe,b=Ay(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=u),m=b),o.memoizedState={parent:f,cache:m},Dy(o),ba(o,Sn,m)):((a.lanes&u)!==0&&(My(a,o),Yu(o,null,null,u),Wu()),m=a.memoizedState,b=o.memoizedState,m.parent!==f?(m={parent:f,cache:f},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),ba(o,Sn,f)):(f=b.cache,ba(o,Sn,f),f!==m.cache&&Ty(o,[Sn],u,!0))),Hn(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Lr(a){a.flags|=4}function O1(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!FE(o)){if(o=Ji.current,o!==null&&((ue&4194048)===ue?Fs!==null:(ue&62914560)!==ue&&(ue&536870912)===0||o!==Fs))throw qu=Cy,mw;a.flags|=8192}}function Qf(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?_e():536870912,a.lanes|=o,fc|=o)}function th(a,o){if(!ye)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function We(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,f=0;if(o)for(var m=a.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=a,m=m.sibling;else for(m=a.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=a,m=m.sibling;return a.subtreeFlags|=f,a.childLanes=u,o}function i2(a,o,u){var f=o.pendingProps;switch(xy(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(o),null;case 1:return We(o),null;case 3:return u=o.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Ir(Sn),dt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(ju(o)?Lr(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,hw())),We(o),null;case 26:return u=o.memoizedState,a===null?(Lr(o),u!==null?(We(o),O1(o,u)):(We(o),o.flags&=-16777217)):u?u!==a.memoizedState?(Lr(o),We(o),O1(o,u)):(We(o),o.flags&=-16777217):(a.memoizedProps!==f&&Lr(o),We(o),o.flags&=-16777217),null;case 27:Ft(o),u=Y.current;var m=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==f&&Lr(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return We(o),null}a=yt.current,ju(o)?cw(o):(a=OE(m,f,u),o.stateNode=a,Lr(o))}return We(o),null;case 5:if(Ft(o),u=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==f&&Lr(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return We(o),null}if(a=yt.current,ju(o))cw(o);else{switch(m=up(Y.current),a){case 1:a=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=m.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof f.is=="string"?m.createElement("select",{is:f.is}):m.createElement("select"),f.multiple?a.multiple=!0:f.size&&(a.size=f.size);break;default:a=typeof f.is=="string"?m.createElement(u,{is:f.is}):m.createElement(u)}}a[xn]=o,a[cn]=f;t:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)a.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break t;for(;m.sibling===null;){if(m.return===null||m.return===o)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=a;t:switch(Yn(a,u,f),u){case"button":case"input":case"select":case"textarea":a=!!f.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Lr(o)}}return We(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==f&&Lr(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(i(166));if(a=Y.current,ju(o)){if(a=o.stateNode,u=o.memoizedProps,f=null,m=mi,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}a[xn]=o,a=!!(a.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||AE(a.nodeValue,u)),a||Ho(o)}else a=up(a).createTextNode(f),a[xn]=o,o.stateNode=a}return We(o),null;case 13:if(f=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(m=ju(o),f!==null&&f.dehydrated!==null){if(a===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[xn]=o}else Vu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;We(o),m=!1}else m=hw(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(Pr(o),o):(Pr(o),null)}if(Pr(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=f!==null,a=a!==null&&a.memoizedState!==null,u){f=o.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==m&&(f.flags|=2048)}return u!==a&&u&&(o.child.flags|=8192),Qf(o,o.updateQueue),We(o),null;case 4:return dt(),a===null&&O_(o.stateNode.containerInfo),We(o),null;case 10:return Ir(o.type),We(o),null;case 19:if(at(Tn),m=o.memoizedState,m===null)return We(o),null;if(f=(o.flags&128)!==0,b=m.rendering,b===null)if(f)th(m,!1);else{if(Ze!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=Wf(a),b!==null){for(o.flags|=128,th(m,!1),a=b.updateQueue,o.updateQueue=a,Qf(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)ow(u,a),u=u.sibling;return ht(Tn,Tn.current&1|2),o.child}a=a.sibling}m.tail!==null&&Xe()>tp&&(o.flags|=128,f=!0,th(m,!1),o.lanes=4194304)}else{if(!f)if(a=Wf(b),a!==null){if(o.flags|=128,f=!0,a=a.updateQueue,o.updateQueue=a,Qf(o,a),th(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!ye)return We(o),null}else 2*Xe()-m.renderingStartTime>tp&&u!==536870912&&(o.flags|=128,f=!0,th(m,!1),o.lanes=4194304);m.isBackwards?(b.sibling=o.child,o.child=b):(a=m.last,a!==null?a.sibling=b:o.child=b,m.last=b)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Xe(),o.sibling=null,a=Tn.current,ht(Tn,f?a&1|2:a&1),o):(We(o),null);case 22:case 23:return Pr(o),Ny(),f=o.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(u&536870912)!==0&&(o.flags&128)===0&&(We(o),o.subtreeFlags&6&&(o.flags|=8192)):We(o),u=o.updateQueue,u!==null&&Qf(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),a!==null&&at(Go),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ir(Sn),We(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function s2(a,o){switch(xy(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Ir(Sn),dt(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Ft(o),null;case 13:if(Pr(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Vu()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return at(Tn),null;case 4:return dt(),null;case 10:return Ir(o.type),null;case 22:case 23:return Pr(o),Ny(),a!==null&&at(Go),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Ir(Sn),null;case 25:return null;default:return null}}function P1(a,o){switch(xy(o),o.tag){case 3:Ir(Sn),dt();break;case 26:case 27:case 5:Ft(o);break;case 4:dt();break;case 13:Pr(o);break;case 19:at(Tn);break;case 10:Ir(o.type);break;case 22:case 23:Pr(o),Ny(),a!==null&&at(Go);break;case 24:Ir(Sn)}}function eh(a,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&a)===a){f=void 0;var b=u.create,k=u.inst;f=b(),k.destroy=f}u=u.next}while(u!==m)}}catch(I){Ie(o,o.return,I)}}function Aa(a,o,u){try{var f=o.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var b=m.next;f=b;do{if((f.tag&a)===a){var k=f.inst,I=k.destroy;if(I!==void 0){k.destroy=void 0,m=o;var W=u,et=I;try{et()}catch(ft){Ie(m,W,ft)}}}f=f.next}while(f!==b)}}catch(ft){Ie(o,o.return,ft)}}function N1(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{ww(o,u)}catch(f){Ie(a,a.return,f)}}}function L1(a,o,u){u.props=Xo(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(f){Ie(a,o,f)}}function nh(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof u=="function"?a.refCleanup=u(f):u.current=f}}catch(m){Ie(a,o,m)}}function Bs(a,o){var u=a.ref,f=a.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(m){Ie(a,o,m)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){Ie(a,o,m)}else u.current=null}function j1(a){var o=a.type,u=a.memoizedProps,f=a.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break t;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(m){Ie(a,a.return,m)}}function c_(a,o,u){try{var f=a.stateNode;T2(f,a.type,u,o),f[cn]=o}catch(m){Ie(a,a.return,m)}}function V1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Pa(a.type)||a.tag===4}function u_(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||V1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Pa(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function h_(a,o,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=cp));else if(f!==4&&(f===27&&Pa(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(h_(a,o,u),a=a.sibling;a!==null;)h_(a,o,u),a=a.sibling}function Zf(a,o,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(f!==4&&(f===27&&Pa(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Zf(a,o,u),a=a.sibling;a!==null;)Zf(a,o,u),a=a.sibling}function U1(a){var o=a.stateNode,u=a.memoizedProps;try{for(var f=a.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);Yn(o,f,u),o[xn]=a,o[cn]=u}catch(b){Ie(a,a.return,b)}}var jr=!1,rn=!1,d_=!1,z1=typeof WeakSet=="function"?WeakSet:Set,Nn=null;function r2(a,o){if(a=a.containerInfo,L_=mp,a=Qx(a),uy(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else t:{u=(u=a.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break t}var k=0,I=-1,W=-1,et=0,ft=0,mt=a,st=null;e:for(;;){for(var rt;mt!==u||m!==0&&mt.nodeType!==3||(I=k+m),mt!==b||f!==0&&mt.nodeType!==3||(W=k+f),mt.nodeType===3&&(k+=mt.nodeValue.length),(rt=mt.firstChild)!==null;)st=mt,mt=rt;for(;;){if(mt===a)break e;if(st===u&&++et===m&&(I=k),st===b&&++ft===f&&(W=k),(rt=mt.nextSibling)!==null)break;mt=st,st=mt.parentNode}mt=rt}u=I===-1||W===-1?null:{start:I,end:W}}else u=null}u=u||{start:0,end:0}}else u=null;for(j_={focusedElem:a,selectionRange:u},mp=!1,Nn=o;Nn!==null;)if(o=Nn,a=o.child,(o.subtreeFlags&1024)!==0&&a!==null)a.return=o,Nn=a;else for(;Nn!==null;){switch(o=Nn,b=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,u=o,m=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var zt=Xo(u.type,m,u.elementType===u.type);a=f.getSnapshotBeforeUpdate(zt,b),f.__reactInternalSnapshotBeforeUpdate=a}catch(Lt){Ie(u,u.return,Lt)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)z_(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":z_(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=o.sibling,a!==null){a.return=o.return,Nn=a;break}Nn=o.return}}function F1(a,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:ka(a,u),f&4&&eh(5,u);break;case 1:if(ka(a,u),f&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(k){Ie(u,u.return,k)}else{var m=Xo(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(m,o,a.__reactInternalSnapshotBeforeUpdate)}catch(k){Ie(u,u.return,k)}}f&64&&N1(u),f&512&&nh(u,u.return);break;case 3:if(ka(a,u),f&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{ww(a,o)}catch(k){Ie(u,u.return,k)}}break;case 27:o===null&&f&4&&U1(u);case 26:case 5:ka(a,u),o===null&&f&4&&j1(u),f&512&&nh(u,u.return);break;case 12:ka(a,u);break;case 13:ka(a,u),f&4&&q1(a,u),f&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=p2.bind(null,u),I2(a,u))));break;case 22:if(f=u.memoizedState!==null||jr,!f){o=o!==null&&o.memoizedState!==null||rn,m=jr;var b=rn;jr=f,(rn=o)&&!b?Ra(a,u,(u.subtreeFlags&8772)!==0):ka(a,u),jr=m,rn=b}break;case 30:break;default:ka(a,u)}}function B1(a){var o=a.alternate;o!==null&&(a.alternate=null,B1(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&ga(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Be=null,vi=!1;function Vr(a,o,u){for(u=u.child;u!==null;)$1(a,o,u),u=u.sibling}function $1(a,o,u){if(ee&&typeof ee.onCommitFiberUnmount=="function")try{ee.onCommitFiberUnmount(fe,u)}catch{}switch(u.tag){case 26:rn||Bs(u,o),Vr(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:rn||Bs(u,o);var f=Be,m=vi;Pa(u.type)&&(Be=u.stateNode,vi=!1),Vr(a,o,u),hh(u.stateNode),Be=f,vi=m;break;case 5:rn||Bs(u,o);case 6:if(f=Be,m=vi,Be=null,Vr(a,o,u),Be=f,vi=m,Be!==null)if(vi)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(u.stateNode)}catch(b){Ie(u,o,b)}else try{Be.removeChild(u.stateNode)}catch(b){Ie(u,o,b)}break;case 18:Be!==null&&(vi?(a=Be,ME(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),bh(a)):ME(Be,u.stateNode));break;case 4:f=Be,m=vi,Be=u.stateNode.containerInfo,vi=!0,Vr(a,o,u),Be=f,vi=m;break;case 0:case 11:case 14:case 15:rn||Aa(2,u,o),rn||Aa(4,u,o),Vr(a,o,u);break;case 1:rn||(Bs(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&L1(u,o,f)),Vr(a,o,u);break;case 21:Vr(a,o,u);break;case 22:rn=(f=rn)||u.memoizedState!==null,Vr(a,o,u),rn=f;break;default:Vr(a,o,u)}}function q1(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{bh(a)}catch(u){Ie(o,o.return,u)}}function a2(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new z1),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new z1),o;default:throw Error(i(435,a.tag))}}function f_(a,o){var u=a2(a);o.forEach(function(f){var m=g2.bind(null,a,f);u.has(f)||(u.add(f),f.then(m,m))})}function Mi(a,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f],b=a,k=o,I=k;t:for(;I!==null;){switch(I.tag){case 27:if(Pa(I.type)){Be=I.stateNode,vi=!1;break t}break;case 5:Be=I.stateNode,vi=!1;break t;case 3:case 4:Be=I.stateNode.containerInfo,vi=!0;break t}I=I.return}if(Be===null)throw Error(i(160));$1(b,k,m),Be=null,vi=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)H1(o,a),o=o.sibling}var fs=null;function H1(a,o){var u=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Mi(o,a),Ii(a),f&4&&(Aa(3,a,a.return),eh(3,a),Aa(5,a,a.return));break;case 1:Mi(o,a),Ii(a),f&512&&(rn||u===null||Bs(u,u.return)),f&64&&jr&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var m=fs;if(Mi(o,a),Ii(a),f&512&&(rn||u===null||Bs(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=a.memoizedState,u===null)if(f===null)if(a.stateNode===null){t:{f=a.type,u=a.memoizedProps,m=m.ownerDocument||m;e:switch(f){case"title":b=m.getElementsByTagName("title")[0],(!b||b[To]||b[xn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(f),m.head.insertBefore(b,m.querySelector("head > title"))),Yn(b,f,u),b[xn]=a,nn(b),f=b;break t;case"link":var k=UE("link","href",m).get(f+(u.href||""));if(k){for(var I=0;I<k.length;I++)if(b=k[I],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){k.splice(I,1);break e}}b=m.createElement(f),Yn(b,f,u),m.head.appendChild(b);break;case"meta":if(k=UE("meta","content",m).get(f+(u.content||""))){for(I=0;I<k.length;I++)if(b=k[I],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){k.splice(I,1);break e}}b=m.createElement(f),Yn(b,f,u),m.head.appendChild(b);break;default:throw Error(i(468,f))}b[xn]=a,nn(b),f=b}a.stateNode=f}else zE(m,a.type,a.stateNode);else a.stateNode=VE(m,f,a.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?zE(m,a.type,a.stateNode):VE(m,f,a.memoizedProps)):f===null&&a.stateNode!==null&&c_(a,a.memoizedProps,u.memoizedProps)}break;case 27:Mi(o,a),Ii(a),f&512&&(rn||u===null||Bs(u,u.return)),u!==null&&f&4&&c_(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Mi(o,a),Ii(a),f&512&&(rn||u===null||Bs(u,u.return)),a.flags&32){m=a.stateNode;try{Hi(m,"")}catch(rt){Ie(a,a.return,rt)}}f&4&&a.stateNode!=null&&(m=a.memoizedProps,c_(a,m,u!==null?u.memoizedProps:m)),f&1024&&(d_=!0);break;case 6:if(Mi(o,a),Ii(a),f&4){if(a.stateNode===null)throw Error(i(162));f=a.memoizedProps,u=a.stateNode;try{u.nodeValue=f}catch(rt){Ie(a,a.return,rt)}}break;case 3:if(fp=null,m=fs,fs=hp(o.containerInfo),Mi(o,a),fs=m,Ii(a),f&4&&u!==null&&u.memoizedState.isDehydrated)try{bh(o.containerInfo)}catch(rt){Ie(a,a.return,rt)}d_&&(d_=!1,W1(a));break;case 4:f=fs,fs=hp(a.stateNode.containerInfo),Mi(o,a),Ii(a),fs=f;break;case 12:Mi(o,a),Ii(a);break;case 13:Mi(o,a),Ii(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(b_=Xe()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,f_(a,f)));break;case 22:m=a.memoizedState!==null;var W=u!==null&&u.memoizedState!==null,et=jr,ft=rn;if(jr=et||m,rn=ft||W,Mi(o,a),rn=ft,jr=et,Ii(a),f&8192)t:for(o=a.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(u===null||W||jr||rn||Qo(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){W=u=o;try{if(b=W.stateNode,m)k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{I=W.stateNode;var mt=W.memoizedProps.style,st=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;I.style.display=st==null||typeof st=="boolean"?"":(""+st).trim()}}catch(rt){Ie(W,W.return,rt)}}}else if(o.tag===6){if(u===null){W=o;try{W.stateNode.nodeValue=m?"":W.memoizedProps}catch(rt){Ie(W,W.return,rt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break t;for(;o.sibling===null;){if(o.return===null||o.return===a)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=a.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,f_(a,u))));break;case 19:Mi(o,a),Ii(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,f_(a,f)));break;case 30:break;case 21:break;default:Mi(o,a),Ii(a)}}function Ii(a){var o=a.flags;if(o&2){try{for(var u,f=a.return;f!==null;){if(V1(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var m=u.stateNode,b=u_(a);Zf(a,b,m);break;case 5:var k=u.stateNode;u.flags&32&&(Hi(k,""),u.flags&=-33);var I=u_(a);Zf(a,I,k);break;case 3:case 4:var W=u.stateNode.containerInfo,et=u_(a);h_(a,et,W);break;default:throw Error(i(161))}}catch(ft){Ie(a,a.return,ft)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function W1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;W1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function ka(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)F1(a,o.alternate,o),o=o.sibling}function Qo(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Aa(4,o,o.return),Qo(o);break;case 1:Bs(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&L1(o,o.return,u),Qo(o);break;case 27:hh(o.stateNode);case 26:case 5:Bs(o,o.return),Qo(o);break;case 22:o.memoizedState===null&&Qo(o);break;case 30:Qo(o);break;default:Qo(o)}a=a.sibling}}function Ra(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,m=a,b=o,k=b.flags;switch(b.tag){case 0:case 11:case 15:Ra(m,b,u),eh(4,b);break;case 1:if(Ra(m,b,u),f=b,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(et){Ie(f,f.return,et)}if(f=b,m=f.updateQueue,m!==null){var I=f.stateNode;try{var W=m.shared.hiddenCallbacks;if(W!==null)for(m.shared.hiddenCallbacks=null,m=0;m<W.length;m++)xw(W[m],I)}catch(et){Ie(f,f.return,et)}}u&&k&64&&N1(b),nh(b,b.return);break;case 27:U1(b);case 26:case 5:Ra(m,b,u),u&&f===null&&k&4&&j1(b),nh(b,b.return);break;case 12:Ra(m,b,u);break;case 13:Ra(m,b,u),u&&k&4&&q1(m,b);break;case 22:b.memoizedState===null&&Ra(m,b,u),nh(b,b.return);break;case 30:break;default:Ra(m,b,u)}o=o.sibling}}function p_(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Fu(u))}function g_(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Fu(a))}function $s(a,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Y1(a,o,u,f),o=o.sibling}function Y1(a,o,u,f){var m=o.flags;switch(o.tag){case 0:case 11:case 15:$s(a,o,u,f),m&2048&&eh(9,o);break;case 1:$s(a,o,u,f);break;case 3:$s(a,o,u,f),m&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Fu(a)));break;case 12:if(m&2048){$s(a,o,u,f),a=o.stateNode;try{var b=o.memoizedProps,k=b.id,I=b.onPostCommit;typeof I=="function"&&I(k,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(W){Ie(o,o.return,W)}}else $s(a,o,u,f);break;case 13:$s(a,o,u,f);break;case 23:break;case 22:b=o.stateNode,k=o.alternate,o.memoizedState!==null?b._visibility&2?$s(a,o,u,f):ih(a,o):b._visibility&2?$s(a,o,u,f):(b._visibility|=2,uc(a,o,u,f,(o.subtreeFlags&10256)!==0)),m&2048&&p_(k,o);break;case 24:$s(a,o,u,f),m&2048&&g_(o.alternate,o);break;default:$s(a,o,u,f)}}function uc(a,o,u,f,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=a,k=o,I=u,W=f,et=k.flags;switch(k.tag){case 0:case 11:case 15:uc(b,k,I,W,m),eh(8,k);break;case 23:break;case 22:var ft=k.stateNode;k.memoizedState!==null?ft._visibility&2?uc(b,k,I,W,m):ih(b,k):(ft._visibility|=2,uc(b,k,I,W,m)),m&&et&2048&&p_(k.alternate,k);break;case 24:uc(b,k,I,W,m),m&&et&2048&&g_(k.alternate,k);break;default:uc(b,k,I,W,m)}o=o.sibling}}function ih(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,f=o,m=f.flags;switch(f.tag){case 22:ih(u,f),m&2048&&p_(f.alternate,f);break;case 24:ih(u,f),m&2048&&g_(f.alternate,f);break;default:ih(u,f)}o=o.sibling}}var sh=8192;function hc(a){if(a.subtreeFlags&sh)for(a=a.child;a!==null;)G1(a),a=a.sibling}function G1(a){switch(a.tag){case 26:hc(a),a.flags&sh&&a.memoizedState!==null&&H2(fs,a.memoizedState,a.memoizedProps);break;case 5:hc(a);break;case 3:case 4:var o=fs;fs=hp(a.stateNode.containerInfo),hc(a),fs=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=sh,sh=16777216,hc(a),sh=o):hc(a));break;default:hc(a)}}function K1(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function rh(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];Nn=f,Q1(f,a)}K1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)X1(a),a=a.sibling}function X1(a){switch(a.tag){case 0:case 11:case 15:rh(a),a.flags&2048&&Aa(9,a,a.return);break;case 3:rh(a);break;case 12:rh(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Jf(a)):rh(a);break;default:rh(a)}}function Jf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];Nn=f,Q1(f,a)}K1(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Aa(8,o,o.return),Jf(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Jf(o));break;default:Jf(o)}a=a.sibling}}function Q1(a,o){for(;Nn!==null;){var u=Nn;switch(u.tag){case 0:case 11:case 15:Aa(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Fu(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Nn=f;else t:for(u=a;Nn!==null;){f=Nn;var m=f.sibling,b=f.return;if(B1(f),f===u){Nn=null;break t}if(m!==null){m.return=b,Nn=m;break t}Nn=b}}}var o2={getCacheForType:function(a){var o=ti(Sn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u}},l2=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Pe=null,ne=null,ue=0,Se=0,Oi=null,Ca=!1,dc=!1,m_=!1,Ur=0,Ze=0,Da=0,Zo=0,y_=0,ts=0,fc=0,ah=null,xi=null,__=!1,b_=0,tp=1/0,ep=null,Ma=null,Wn=0,Ia=null,pc=null,gc=0,v_=0,x_=null,Z1=null,oh=0,w_=null;function Pi(){if((Ee&2)!==0&&ue!==0)return ue&-ue;if(q.T!==null){var a=nc;return a!==0?a:C_()}return $i()}function J1(){ts===0&&(ts=(ue&536870912)===0||ye?Ht():536870912);var a=Ji.current;return a!==null&&(a.flags|=32),ts}function Ni(a,o,u){(a===Pe&&(Se===2||Se===9)||a.cancelPendingCommit!==null)&&(mc(a,0),Oa(a,ue,ts,!1)),de(a,u),((Ee&2)===0||a!==Pe)&&(a===Pe&&((Ee&2)===0&&(Zo|=u),Ze===4&&Oa(a,ue,ts,!1)),qs(a))}function tE(a,o,u){if((Ee&6)!==0)throw Error(i(327));var f=!u&&(o&124)===0&&(o&a.expiredLanes)===0||yr(a,o),m=f?h2(a,o):T_(a,o,!0),b=f;do{if(m===0){dc&&!f&&Oa(a,o,0,!1);break}else{if(u=a.current.alternate,b&&!c2(u)){m=T_(a,o,!1),b=!1;continue}if(m===2){if(b=o,a.errorRecoveryDisabledLanes&b)var k=0;else k=a.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){o=k;t:{var I=a;m=ah;var W=I.current.memoizedState.isDehydrated;if(W&&(mc(I,k).flags|=256),k=T_(I,k,!1),k!==2){if(m_&&!W){I.errorRecoveryDisabledLanes|=b,Zo|=b,m=4;break t}b=xi,xi=m,b!==null&&(xi===null?xi=b:xi.push.apply(xi,b))}m=k}if(b=!1,m!==2)continue}}if(m===1){mc(a,0),Oa(a,o,0,!0);break}t:{switch(f=a,b=m,b){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Oa(f,o,ts,!Ca);break t;case 2:xi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(m=b_+300-Xe(),10<m)){if(Oa(f,o,ts,!Ca),mr(f,0,!0)!==0)break t;f.timeoutHandle=CE(eE.bind(null,f,u,xi,ep,__,o,ts,Zo,fc,Ca,b,2,-0,0),m);break t}eE(f,u,xi,ep,__,o,ts,Zo,fc,Ca,b,0,-0,0)}}break}while(!0);qs(a)}function eE(a,o,u,f,m,b,k,I,W,et,ft,mt,st,rt){if(a.timeoutHandle=-1,mt=o.subtreeFlags,(mt&8192||(mt&16785408)===16785408)&&(ph={stylesheets:null,count:0,unsuspend:q2},G1(o),mt=W2(),mt!==null)){a.cancelPendingCommit=mt(lE.bind(null,a,o,b,u,f,m,k,I,W,ft,1,st,rt)),Oa(a,b,k,!et);return}lE(a,o,b,u,f,m,k,I,W)}function c2(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var m=u[f],b=m.getSnapshot;m=m.value;try{if(!Ci(b(),m))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Oa(a,o,u,f){o&=~y_,o&=~Zo,a.suspendedLanes|=o,a.pingedLanes&=~o,f&&(a.warmLanes|=o),f=a.expirationTimes;for(var m=o;0<m;){var b=31-Dn(m),k=1<<b;f[b]=-1,m&=~k}u!==0&&Wt(a,u,o)}function np(){return(Ee&6)===0?(lh(0),!1):!0}function E_(){if(ne!==null){if(Se===0)var a=ne.return;else a=ne,Mr=Wo=null,zy(a),lc=null,Zu=0,a=ne;for(;a!==null;)P1(a.alternate,a),a=a.return;ne=null}}function mc(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,k2(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),E_(),Pe=a,ne=u=Rr(a.current,null),ue=o,Se=0,Oi=null,Ca=!1,dc=yr(a,o),m_=!1,fc=ts=y_=Zo=Da=Ze=0,xi=ah=null,__=!1,(o&8)!==0&&(o|=o&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=o;0<f;){var m=31-Dn(f),b=1<<m;o|=a[m],f&=~b}return Ur=o,Sf(),u}function nE(a,o){Zt=null,q.H=$f,o===$u||o===Of?(o=bw(),Se=3):o===mw?(o=bw(),Se=4):Se=o===v1?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Oi=o,ne===null&&(Ze=1,Gf(a,Ki(o,a.current)))}function iE(){var a=q.H;return q.H=$f,a===null?$f:a}function sE(){var a=q.A;return q.A=o2,a}function S_(){Ze=4,Ca||(ue&4194048)!==ue&&Ji.current!==null||(dc=!0),(Da&134217727)===0&&(Zo&134217727)===0||Pe===null||Oa(Pe,ue,ts,!1)}function T_(a,o,u){var f=Ee;Ee|=2;var m=iE(),b=sE();(Pe!==a||ue!==o)&&(ep=null,mc(a,o)),o=!1;var k=Ze;t:do try{if(Se!==0&&ne!==null){var I=ne,W=Oi;switch(Se){case 8:E_(),k=6;break t;case 3:case 2:case 9:case 6:Ji.current===null&&(o=!0);var et=Se;if(Se=0,Oi=null,yc(a,I,W,et),u&&dc){k=0;break t}break;default:et=Se,Se=0,Oi=null,yc(a,I,W,et)}}u2(),k=Ze;break}catch(ft){nE(a,ft)}while(!0);return o&&a.shellSuspendCounter++,Mr=Wo=null,Ee=f,q.H=m,q.A=b,ne===null&&(Pe=null,ue=0,Sf()),k}function u2(){for(;ne!==null;)rE(ne)}function h2(a,o){var u=Ee;Ee|=2;var f=iE(),m=sE();Pe!==a||ue!==o?(ep=null,tp=Xe()+500,mc(a,o)):dc=yr(a,o);t:do try{if(Se!==0&&ne!==null){o=ne;var b=Oi;e:switch(Se){case 1:Se=0,Oi=null,yc(a,o,b,1);break;case 2:case 9:if(yw(b)){Se=0,Oi=null,aE(o);break}o=function(){Se!==2&&Se!==9||Pe!==a||(Se=7),qs(a)},b.then(o,o);break t;case 3:Se=7;break t;case 4:Se=5;break t;case 7:yw(b)?(Se=0,Oi=null,aE(o)):(Se=0,Oi=null,yc(a,o,b,7));break;case 5:var k=null;switch(ne.tag){case 26:k=ne.memoizedState;case 5:case 27:var I=ne;if(!k||FE(k)){Se=0,Oi=null;var W=I.sibling;if(W!==null)ne=W;else{var et=I.return;et!==null?(ne=et,ip(et)):ne=null}break e}}Se=0,Oi=null,yc(a,o,b,5);break;case 6:Se=0,Oi=null,yc(a,o,b,6);break;case 8:E_(),Ze=6;break t;default:throw Error(i(462))}}d2();break}catch(ft){nE(a,ft)}while(!0);return Mr=Wo=null,q.H=f,q.A=m,Ee=u,ne!==null?0:(Pe=null,ue=0,Sf(),Ze)}function d2(){for(;ne!==null&&!Bi();)rE(ne)}function rE(a){var o=I1(a.alternate,a,Ur);a.memoizedProps=a.pendingProps,o===null?ip(a):ne=o}function aE(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=A1(u,o,o.pendingProps,o.type,void 0,ue);break;case 11:o=A1(u,o,o.pendingProps,o.type.render,o.ref,ue);break;case 5:zy(o);default:P1(u,o),o=ne=ow(o,Ur),o=I1(u,o,Ur)}a.memoizedProps=a.pendingProps,o===null?ip(a):ne=o}function yc(a,o,u,f){Mr=Wo=null,zy(o),lc=null,Zu=0;var m=o.return;try{if(e2(a,m,o,u,ue)){Ze=1,Gf(a,Ki(u,a.current)),ne=null;return}}catch(b){if(m!==null)throw ne=m,b;Ze=1,Gf(a,Ki(u,a.current)),ne=null;return}o.flags&32768?(ye||f===1?a=!0:dc||(ue&536870912)!==0?a=!1:(Ca=a=!0,(f===2||f===9||f===3||f===6)&&(f=Ji.current,f!==null&&f.tag===13&&(f.flags|=16384))),oE(o,a)):ip(o)}function ip(a){var o=a;do{if((o.flags&32768)!==0){oE(o,Ca);return}a=o.return;var u=i2(o.alternate,o,Ur);if(u!==null){ne=u;return}if(o=o.sibling,o!==null){ne=o;return}ne=o=a}while(o!==null);Ze===0&&(Ze=5)}function oE(a,o){do{var u=s2(a.alternate,a);if(u!==null){u.flags&=32767,ne=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){ne=a;return}ne=a=u}while(a!==null);Ze=6,ne=null}function lE(a,o,u,f,m,b,k,I,W){a.cancelPendingCommit=null;do sp();while(Wn!==0);if((Ee&6)!==0)throw Error(i(327));if(o!==null){if(o===a.current)throw Error(i(177));if(b=o.lanes|o.childLanes,b|=gy,Mn(a,u,b,k,I,W),a===Pe&&(ne=Pe=null,ue=0),pc=o,Ia=a,gc=u,v_=b,x_=m,Z1=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,m2(Mt,function(){return fE(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=q.T,q.T=null,m=K.p,K.p=2,k=Ee,Ee|=4;try{r2(a,o,u)}finally{Ee=k,K.p=m,q.T=f}}Wn=1,cE(),uE(),hE()}}function cE(){if(Wn===1){Wn=0;var a=Ia,o=pc,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=q.T,q.T=null;var f=K.p;K.p=2;var m=Ee;Ee|=4;try{H1(o,a);var b=j_,k=Qx(a.containerInfo),I=b.focusedElem,W=b.selectionRange;if(k!==I&&I&&I.ownerDocument&&Xx(I.ownerDocument.documentElement,I)){if(W!==null&&uy(I)){var et=W.start,ft=W.end;if(ft===void 0&&(ft=et),"selectionStart"in I)I.selectionStart=et,I.selectionEnd=Math.min(ft,I.value.length);else{var mt=I.ownerDocument||document,st=mt&&mt.defaultView||window;if(st.getSelection){var rt=st.getSelection(),zt=I.textContent.length,Lt=Math.min(W.start,zt),Ce=W.end===void 0?Lt:Math.min(W.end,zt);!rt.extend&&Lt>Ce&&(k=Ce,Ce=Lt,Lt=k);var Z=Kx(I,Lt),X=Kx(I,Ce);if(Z&&X&&(rt.rangeCount!==1||rt.anchorNode!==Z.node||rt.anchorOffset!==Z.offset||rt.focusNode!==X.node||rt.focusOffset!==X.offset)){var tt=mt.createRange();tt.setStart(Z.node,Z.offset),rt.removeAllRanges(),Lt>Ce?(rt.addRange(tt),rt.extend(X.node,X.offset)):(tt.setEnd(X.node,X.offset),rt.addRange(tt))}}}}for(mt=[],rt=I;rt=rt.parentNode;)rt.nodeType===1&&mt.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<mt.length;I++){var pt=mt[I];pt.element.scrollLeft=pt.left,pt.element.scrollTop=pt.top}}mp=!!L_,j_=L_=null}finally{Ee=m,K.p=f,q.T=u}}a.current=o,Wn=2}}function uE(){if(Wn===2){Wn=0;var a=Ia,o=pc,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=q.T,q.T=null;var f=K.p;K.p=2;var m=Ee;Ee|=4;try{F1(a,o.alternate,o)}finally{Ee=m,K.p=f,q.T=u}}Wn=3}}function hE(){if(Wn===4||Wn===3){Wn=0,cs();var a=Ia,o=pc,u=gc,f=Z1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Wn=5:(Wn=0,pc=Ia=null,dE(a,a.pendingLanes));var m=a.pendingLanes;if(m===0&&(Ma=null),da(u),o=o.stateNode,ee&&typeof ee.onCommitFiberRoot=="function")try{ee.onCommitFiberRoot(fe,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=q.T,m=K.p,K.p=2,q.T=null;try{for(var b=a.onRecoverableError,k=0;k<f.length;k++){var I=f[k];b(I.value,{componentStack:I.stack})}}finally{q.T=o,K.p=m}}(gc&3)!==0&&sp(),qs(a),m=a.pendingLanes,(u&4194090)!==0&&(m&42)!==0?a===w_?oh++:(oh=0,w_=a):oh=0,lh(0)}}function dE(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Fu(o)))}function sp(a){return cE(),uE(),hE(),fE()}function fE(){if(Wn!==5)return!1;var a=Ia,o=v_;v_=0;var u=da(gc),f=q.T,m=K.p;try{K.p=32>u?32:u,q.T=null,u=x_,x_=null;var b=Ia,k=gc;if(Wn=0,pc=Ia=null,gc=0,(Ee&6)!==0)throw Error(i(331));var I=Ee;if(Ee|=4,X1(b.current),Y1(b,b.current,k,u),Ee=I,lh(0,!1),ee&&typeof ee.onPostCommitFiberRoot=="function")try{ee.onPostCommitFiberRoot(fe,b)}catch{}return!0}finally{K.p=m,q.T=f,dE(a,o)}}function pE(a,o,u){o=Ki(u,o),o=t_(a.stateNode,o,2),a=wa(a,o,2),a!==null&&(de(a,2),qs(a))}function Ie(a,o,u){if(a.tag===3)pE(a,a,u);else for(;o!==null;){if(o.tag===3){pE(o,a,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ma===null||!Ma.has(f))){a=Ki(u,a),u=_1(2),f=wa(o,u,2),f!==null&&(b1(u,f,o,a),de(f,2),qs(f));break}}o=o.return}}function A_(a,o,u){var f=a.pingCache;if(f===null){f=a.pingCache=new l2;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m_=!0,m.add(u),a=f2.bind(null,a,o,u),o.then(a,a))}function f2(a,o,u){var f=a.pingCache;f!==null&&f.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Pe===a&&(ue&u)===u&&(Ze===4||Ze===3&&(ue&62914560)===ue&&300>Xe()-b_?(Ee&2)===0&&mc(a,0):y_|=u,fc===ue&&(fc=0)),qs(a)}function gE(a,o){o===0&&(o=_e()),a=Zl(a,o),a!==null&&(de(a,o),qs(a))}function p2(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),gE(a,u)}function g2(a,o){var u=0;switch(a.tag){case 13:var f=a.stateNode,m=a.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(o),gE(a,u)}function m2(a,o){return me(a,o)}var rp=null,_c=null,k_=!1,ap=!1,R_=!1,Jo=0;function qs(a){a!==_c&&a.next===null&&(_c===null?rp=_c=a:_c=_c.next=a),ap=!0,k_||(k_=!0,_2())}function lh(a,o){if(!R_&&ap){R_=!0;do for(var u=!1,f=rp;f!==null;){if(a!==0){var m=f.pendingLanes;if(m===0)var b=0;else{var k=f.suspendedLanes,I=f.pingedLanes;b=(1<<31-Dn(42|a)+1)-1,b&=m&~(k&~I),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,bE(f,b))}else b=ue,b=mr(f,f===Pe?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||yr(f,b)||(u=!0,bE(f,b));f=f.next}while(u);R_=!1}}function y2(){mE()}function mE(){ap=k_=!1;var a=0;Jo!==0&&(A2()&&(a=Jo),Jo=0);for(var o=Xe(),u=null,f=rp;f!==null;){var m=f.next,b=yE(f,o);b===0?(f.next=null,u===null?rp=m:u.next=m,m===null&&(_c=u)):(u=f,(a!==0||(b&3)!==0)&&(ap=!0)),f=m}lh(a)}function yE(a,o){for(var u=a.suspendedLanes,f=a.pingedLanes,m=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var k=31-Dn(b),I=1<<k,W=m[k];W===-1?((I&u)===0||(I&f)!==0)&&(m[k]=ha(I,o)):W<=o&&(a.expiredLanes|=I),b&=~I}if(o=Pe,u=ue,u=mr(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,u===0||a===o&&(Se===2||Se===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&Jn(f),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||yr(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(f!==null&&Jn(f),da(u)){case 2:case 8:u=bt;break;case 32:u=Mt;break;case 268435456:u=Tt;break;default:u=Mt}return f=_E.bind(null,a),u=me(u,f),a.callbackPriority=o,a.callbackNode=u,o}return f!==null&&f!==null&&Jn(f),a.callbackPriority=2,a.callbackNode=null,2}function _E(a,o){if(Wn!==0&&Wn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(sp()&&a.callbackNode!==u)return null;var f=ue;return f=mr(a,a===Pe?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(tE(a,f,o),yE(a,Xe()),a.callbackNode!=null&&a.callbackNode===u?_E.bind(null,a):null)}function bE(a,o){if(sp())return null;tE(a,o,!0)}function _2(){R2(function(){(Ee&6)!==0?me(dr,y2):mE()})}function C_(){return Jo===0&&(Jo=Ht()),Jo}function vE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:zl(""+a)}function xE(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function b2(a,o,u,f,m){if(o==="submit"&&u&&u.stateNode===m){var b=vE((m[cn]||null).action),k=f.submitter;k&&(o=(o=k[cn]||null)?vE(o.formAction):k.getAttribute("formAction"),o!==null&&(b=o,k=null));var I=new Fl("action","action",null,f,m);a.push({event:I,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Jo!==0){var W=k?xE(m,k):new FormData(m);Ky(u,{pending:!0,data:W,method:m.method,action:b},null,W)}}else typeof b=="function"&&(I.preventDefault(),W=k?xE(m,k):new FormData(m),Ky(u,{pending:!0,data:W,method:m.method,action:b},b,W))},currentTarget:m}]})}}for(var D_=0;D_<py.length;D_++){var M_=py[D_],v2=M_.toLowerCase(),x2=M_[0].toUpperCase()+M_.slice(1);ds(v2,"on"+x2)}ds(tw,"onAnimationEnd"),ds(ew,"onAnimationIteration"),ds(nw,"onAnimationStart"),ds("dblclick","onDoubleClick"),ds("focusin","onFocus"),ds("focusout","onBlur"),ds(VO,"onTransitionRun"),ds(UO,"onTransitionStart"),ds(zO,"onTransitionCancel"),ds(iw,"onTransitionEnd"),br("onMouseEnter",["mouseout","mouseover"]),br("onMouseLeave",["mouseout","mouseover"]),br("onPointerEnter",["pointerout","pointerover"]),br("onPointerLeave",["pointerout","pointerover"]),us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),us("onBeforeInput",["compositionend","keypress","textInput","paste"]),us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ch="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ch));function wE(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var f=a[u],m=f.event;f=f.listeners;t:{var b=void 0;if(o)for(var k=f.length-1;0<=k;k--){var I=f[k],W=I.instance,et=I.currentTarget;if(I=I.listener,W!==b&&m.isPropagationStopped())break t;b=I,m.currentTarget=et;try{b(m)}catch(ft){Yf(ft)}m.currentTarget=null,b=W}else for(k=0;k<f.length;k++){if(I=f[k],W=I.instance,et=I.currentTarget,I=I.listener,W!==b&&m.isPropagationStopped())break t;b=I,m.currentTarget=et;try{b(m)}catch(ft){Yf(ft)}m.currentTarget=null,b=W}}}}function ie(a,o){var u=o[vu];u===void 0&&(u=o[vu]=new Set);var f=a+"__bubble";u.has(f)||(EE(o,a,2,!1),u.add(f))}function I_(a,o,u){var f=0;o&&(f|=4),EE(u,a,f,o)}var op="_reactListening"+Math.random().toString(36).slice(2);function O_(a){if(!a[op]){a[op]=!0,xu.forEach(function(u){u!=="selectionchange"&&(w2.has(u)||I_(u,!1,a),I_(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[op]||(o[op]=!0,I_("selectionchange",!1,o))}}function EE(a,o,u,f){switch(YE(o)){case 2:var m=K2;break;case 8:m=X2;break;default:m=Y_}u=m.bind(null,o,u,a),m=void 0,!Yi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?a.addEventListener(o,u,{capture:!0,passive:m}):a.addEventListener(o,u,!0):m!==void 0?a.addEventListener(o,u,{passive:m}):a.addEventListener(o,u,!1)}function P_(a,o,u,f,m){var b=f;if((o&1)===0&&(o&2)===0&&f!==null)t:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var I=f.stateNode.containerInfo;if(I===m)break;if(k===4)for(k=f.return;k!==null;){var W=k.tag;if((W===3||W===4)&&k.stateNode.containerInfo===m)return;k=k.return}for(;I!==null;){if(k=_r(I),k===null)return;if(W=k.tag,W===5||W===6||W===26||W===27){f=b=k;continue t}I=I.parentNode}}f=f.return}cf(function(){var et=b,ft=Wi(u),mt=[];t:{var st=sw.get(a);if(st!==void 0){var rt=Fl,zt=a;switch(a){case"keypress":if(Ns(u)===0)break t;case"keydown":case"keyup":rt=Yl;break;case"focusin":zt="focus",rt=ql;break;case"focusout":zt="blur",rt=ql;break;case"beforeblur":case"afterblur":rt=ql;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Gi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=ay;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=yf;break;case tw:case ew:case nw:rt=Hl;break;case iw:rt=bf;break;case"scroll":case"scrollend":rt=uf;break;case"wheel":rt=Gl;break;case"copy":case"cut":case"paste":rt=Wl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Ou;break;case"toggle":case"beforetoggle":rt=xf}var Lt=(o&4)!==0,Ce=!Lt&&(a==="scroll"||a==="scrollend"),Z=Lt?st!==null?st+"Capture":null:st;Lt=[];for(var X=et,tt;X!==null;){var pt=X;if(tt=pt.stateNode,pt=pt.tag,pt!==5&&pt!==26&&pt!==27||tt===null||Z===null||(pt=Io(X,Z),pt!=null&&Lt.push(uh(X,pt,tt))),Ce)break;X=X.return}0<Lt.length&&(st=new rt(st,zt,null,u,ft),mt.push({event:st,listeners:Lt}))}}if((o&7)===0){t:{if(st=a==="mouseover"||a==="pointerover",rt=a==="mouseout"||a==="pointerout",st&&u!==wr&&(zt=u.relatedTarget||u.fromElement)&&(_r(zt)||zt[qi]))break t;if((rt||st)&&(st=ft.window===ft?ft:(st=ft.ownerDocument)?st.defaultView||st.parentWindow:window,rt?(zt=u.relatedTarget||u.toElement,rt=et,zt=zt?_r(zt):null,zt!==null&&(Ce=r(zt),Lt=zt.tag,zt!==Ce||Lt!==5&&Lt!==27&&Lt!==6)&&(zt=null)):(rt=null,zt=et),rt!==zt)){if(Lt=Gi,pt="onMouseLeave",Z="onMouseEnter",X="mouse",(a==="pointerout"||a==="pointerover")&&(Lt=Ou,pt="onPointerLeave",Z="onPointerEnter",X="pointer"),Ce=rt==null?st:Ms(rt),tt=zt==null?st:Ms(zt),st=new Lt(pt,X+"leave",rt,u,ft),st.target=Ce,st.relatedTarget=tt,pt=null,_r(ft)===et&&(Lt=new Lt(Z,X+"enter",zt,u,ft),Lt.target=tt,Lt.relatedTarget=Ce,pt=Lt),Ce=pt,rt&&zt)e:{for(Lt=rt,Z=zt,X=0,tt=Lt;tt;tt=bc(tt))X++;for(tt=0,pt=Z;pt;pt=bc(pt))tt++;for(;0<X-tt;)Lt=bc(Lt),X--;for(;0<tt-X;)Z=bc(Z),tt--;for(;X--;){if(Lt===Z||Z!==null&&Lt===Z.alternate)break e;Lt=bc(Lt),Z=bc(Z)}Lt=null}else Lt=null;rt!==null&&SE(mt,st,rt,Lt,!1),zt!==null&&Ce!==null&&SE(mt,Ce,zt,Lt,!0)}}t:{if(st=et?Ms(et):window,rt=st.nodeName&&st.nodeName.toLowerCase(),rt==="select"||rt==="input"&&st.type==="file")var Dt=$x;else if(En(st))if(qx)Dt=NO;else{Dt=OO;var Jt=IO}else rt=st.nodeName,!rt||rt.toLowerCase()!=="input"||st.type!=="checkbox"&&st.type!=="radio"?et&&Au(et.elementType)&&(Dt=$x):Dt=PO;if(Dt&&(Dt=Dt(a,et))){kr(mt,Dt,u,ft);break t}Jt&&Jt(a,st,et),a==="focusout"&&et&&st.type==="number"&&et.memoizedProps.value!=null&&ya(st,"number",st.value)}switch(Jt=et?Ms(et):window,a){case"focusin":(En(Jt)||Jt.contentEditable==="true")&&(Kl=Jt,hy=et,Lu=null);break;case"focusout":Lu=hy=Kl=null;break;case"mousedown":dy=!0;break;case"contextmenu":case"mouseup":case"dragend":dy=!1,Zx(mt,u,ft);break;case"selectionchange":if(jO)break;case"keydown":case"keyup":Zx(mt,u,ft)}var Ot;if(Vs)t:{switch(a){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else le?ct(a,u)&&(jt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(jt="onCompositionStart");jt&&(A&&u.locale!=="ko"&&(le||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&le&&(Ot=Ru()):(Ps=ft,_a="value"in Ps?Ps.value:Ps.textContent,le=!0)),Jt=lp(et,jt),0<Jt.length&&(jt=new Mu(jt,a,null,u,ft),mt.push({event:jt,listeners:Jt}),Ot?jt.data=Ot:(Ot=vt(u),Ot!==null&&(jt.data=Ot)))),(Ot=w?wn(a,u):ce(a,u))&&(jt=lp(et,"onBeforeInput"),0<jt.length&&(Jt=new Mu("onBeforeInput","beforeinput",null,u,ft),mt.push({event:Jt,listeners:jt}),Jt.data=Ot)),b2(mt,a,et,u,ft)}wE(mt,o)})}function uh(a,o,u){return{instance:a,listener:o,currentTarget:u}}function lp(a,o){for(var u=o+"Capture",f=[];a!==null;){var m=a,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=Io(a,u),m!=null&&f.unshift(uh(a,m,b)),m=Io(a,o),m!=null&&f.push(uh(a,m,b))),a.tag===3)return f;a=a.return}return[]}function bc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function SE(a,o,u,f,m){for(var b=o._reactName,k=[];u!==null&&u!==f;){var I=u,W=I.alternate,et=I.stateNode;if(I=I.tag,W!==null&&W===f)break;I!==5&&I!==26&&I!==27||et===null||(W=et,m?(et=Io(u,b),et!=null&&k.unshift(uh(u,et,W))):m||(et=Io(u,b),et!=null&&k.push(uh(u,et,W)))),u=u.return}k.length!==0&&a.push({event:o,listeners:k})}var E2=/\r\n?/g,S2=/\u0000|\uFFFD/g;function TE(a){return(typeof a=="string"?a:""+a).replace(E2,`
`).replace(S2,"")}function AE(a,o){return o=TE(o),TE(a)===o}function cp(){}function Re(a,o,u,f,m,b){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Hi(a,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Hi(a,""+f);break;case"className":Is(a,"class",f);break;case"tabIndex":Is(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Is(a,u,f);break;case"style":Tu(a,f,b);break;case"data":if(o!=="object"){Is(a,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=zl(""+f),a.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&Re(a,o,"name",m.name,m,null),Re(a,o,"formEncType",m.formEncType,m,null),Re(a,o,"formMethod",m.formMethod,m,null),Re(a,o,"formTarget",m.formTarget,m,null)):(Re(a,o,"encType",m.encType,m,null),Re(a,o,"method",m.method,m,null),Re(a,o,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=zl(""+f),a.setAttribute(u,f);break;case"onClick":f!=null&&(a.onclick=cp);break;case"onScroll":f!=null&&ie("scroll",a);break;case"onScrollEnd":f!=null&&ie("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(m.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}u=zl(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""+f):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":f===!0?a.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,f):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(u,f):a.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(u):a.setAttribute(u,f);break;case"popover":ie("beforetoggle",a),ie("toggle",a),ma(a,"popover",f);break;case"xlinkActuate":$n(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":$n(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":$n(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":$n(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":$n(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":$n(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":$n(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":$n(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":$n(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ma(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=sy.get(u)||u,ma(a,u,f))}}function N_(a,o,u,f,m,b){switch(u){case"style":Tu(a,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(m.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"children":typeof f=="string"?Hi(a,f):(typeof f=="number"||typeof f=="bigint")&&Hi(a,""+f);break;case"onScroll":f!=null&&ie("scroll",a);break;case"onScrollEnd":f!=null&&ie("scrollend",a);break;case"onClick":f!=null&&(a.onclick=cp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),o=u.slice(2,m?u.length-7:void 0),b=a[cn]||null,b=b!=null?b[u]:null,typeof b=="function"&&a.removeEventListener(o,b,m),typeof f=="function")){typeof b!="function"&&b!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,f,m);break t}u in a?a[u]=f:f===!0?a.setAttribute(u,""):ma(a,u,f)}}}function Yn(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ie("error",a),ie("load",a);var f=!1,m=!1,b;for(b in u)if(u.hasOwnProperty(b)){var k=u[b];if(k!=null)switch(b){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Re(a,o,b,k,u,null)}}m&&Re(a,o,"srcSet",u.srcSet,u,null),f&&Re(a,o,"src",u.src,u,null);return;case"input":ie("invalid",a);var I=b=k=m=null,W=null,et=null;for(f in u)if(u.hasOwnProperty(f)){var ft=u[f];if(ft!=null)switch(f){case"name":m=ft;break;case"type":k=ft;break;case"checked":W=ft;break;case"defaultChecked":et=ft;break;case"value":b=ft;break;case"defaultValue":I=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(i(137,o));break;default:Re(a,o,f,ft,u,null)}}Co(a,b,I,W,et,k,m,!1),Ul(a);return;case"select":ie("invalid",a),f=k=b=null;for(m in u)if(u.hasOwnProperty(m)&&(I=u[m],I!=null))switch(m){case"value":b=I;break;case"defaultValue":k=I;break;case"multiple":f=I;default:Re(a,o,m,I,u,null)}o=b,u=k,a.multiple=!!f,o!=null?xr(a,!!f,o,!1):u!=null&&xr(a,!!f,u,!0);return;case"textarea":ie("invalid",a),b=m=f=null;for(k in u)if(u.hasOwnProperty(k)&&(I=u[k],I!=null))switch(k){case"value":f=I;break;case"defaultValue":m=I;break;case"children":b=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:Re(a,o,k,I,u,null)}Do(a,f,m,b),Ul(a);return;case"option":for(W in u)if(u.hasOwnProperty(W)&&(f=u[W],f!=null))switch(W){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Re(a,o,W,f,u,null)}return;case"dialog":ie("beforetoggle",a),ie("toggle",a),ie("cancel",a),ie("close",a);break;case"iframe":case"object":ie("load",a);break;case"video":case"audio":for(f=0;f<ch.length;f++)ie(ch[f],a);break;case"image":ie("error",a),ie("load",a);break;case"details":ie("toggle",a);break;case"embed":case"source":case"link":ie("error",a),ie("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in u)if(u.hasOwnProperty(et)&&(f=u[et],f!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Re(a,o,et,f,u,null)}return;default:if(Au(o)){for(ft in u)u.hasOwnProperty(ft)&&(f=u[ft],f!==void 0&&N_(a,o,ft,f,u,void 0));return}}for(I in u)u.hasOwnProperty(I)&&(f=u[I],f!=null&&Re(a,o,I,f,u,null))}function T2(a,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,k=null,I=null,W=null,et=null,ft=null;for(rt in u){var mt=u[rt];if(u.hasOwnProperty(rt)&&mt!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":W=mt;default:f.hasOwnProperty(rt)||Re(a,o,rt,null,f,mt)}}for(var st in f){var rt=f[st];if(mt=u[st],f.hasOwnProperty(st)&&(rt!=null||mt!=null))switch(st){case"type":b=rt;break;case"name":m=rt;break;case"checked":et=rt;break;case"defaultChecked":ft=rt;break;case"value":k=rt;break;case"defaultValue":I=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(i(137,o));break;default:rt!==mt&&Re(a,o,st,rt,f,mt)}}Ri(a,k,I,W,et,ft,b,m);return;case"select":rt=k=I=st=null;for(b in u)if(W=u[b],u.hasOwnProperty(b)&&W!=null)switch(b){case"value":break;case"multiple":rt=W;default:f.hasOwnProperty(b)||Re(a,o,b,null,f,W)}for(m in f)if(b=f[m],W=u[m],f.hasOwnProperty(m)&&(b!=null||W!=null))switch(m){case"value":st=b;break;case"defaultValue":I=b;break;case"multiple":k=b;default:b!==W&&Re(a,o,m,b,f,W)}o=I,u=k,f=rt,st!=null?xr(a,!!u,st,!1):!!f!=!!u&&(o!=null?xr(a,!!u,o,!0):xr(a,!!u,u?[]:"",!1));return;case"textarea":rt=st=null;for(I in u)if(m=u[I],u.hasOwnProperty(I)&&m!=null&&!f.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Re(a,o,I,null,f,m)}for(k in f)if(m=f[k],b=u[k],f.hasOwnProperty(k)&&(m!=null||b!=null))switch(k){case"value":st=m;break;case"defaultValue":rt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==b&&Re(a,o,k,m,f,b)}Ae(a,st,rt);return;case"option":for(var zt in u)if(st=u[zt],u.hasOwnProperty(zt)&&st!=null&&!f.hasOwnProperty(zt))switch(zt){case"selected":a.selected=!1;break;default:Re(a,o,zt,null,f,st)}for(W in f)if(st=f[W],rt=u[W],f.hasOwnProperty(W)&&st!==rt&&(st!=null||rt!=null))switch(W){case"selected":a.selected=st&&typeof st!="function"&&typeof st!="symbol";break;default:Re(a,o,W,st,f,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Lt in u)st=u[Lt],u.hasOwnProperty(Lt)&&st!=null&&!f.hasOwnProperty(Lt)&&Re(a,o,Lt,null,f,st);for(et in f)if(st=f[et],rt=u[et],f.hasOwnProperty(et)&&st!==rt&&(st!=null||rt!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(i(137,o));break;default:Re(a,o,et,st,f,rt)}return;default:if(Au(o)){for(var Ce in u)st=u[Ce],u.hasOwnProperty(Ce)&&st!==void 0&&!f.hasOwnProperty(Ce)&&N_(a,o,Ce,void 0,f,st);for(ft in f)st=f[ft],rt=u[ft],!f.hasOwnProperty(ft)||st===rt||st===void 0&&rt===void 0||N_(a,o,ft,st,f,rt);return}}for(var Z in u)st=u[Z],u.hasOwnProperty(Z)&&st!=null&&!f.hasOwnProperty(Z)&&Re(a,o,Z,null,f,st);for(mt in f)st=f[mt],rt=u[mt],!f.hasOwnProperty(mt)||st===rt||st==null&&rt==null||Re(a,o,mt,st,f,rt)}var L_=null,j_=null;function up(a){return a.nodeType===9?a:a.ownerDocument}function kE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function RE(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function V_(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var U_=null;function A2(){var a=window.event;return a&&a.type==="popstate"?a===U_?!1:(U_=a,!0):(U_=null,!1)}var CE=typeof setTimeout=="function"?setTimeout:void 0,k2=typeof clearTimeout=="function"?clearTimeout:void 0,DE=typeof Promise=="function"?Promise:void 0,R2=typeof queueMicrotask=="function"?queueMicrotask:typeof DE<"u"?function(a){return DE.resolve(null).then(a).catch(C2)}:CE;function C2(a){setTimeout(function(){throw a})}function Pa(a){return a==="head"}function ME(a,o){var u=o,f=0,m=0;do{var b=u.nextSibling;if(a.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<f&&8>f){u=f;var k=a.ownerDocument;if(u&1&&hh(k.documentElement),u&2&&hh(k.body),u&4)for(u=k.head,hh(u),k=u.firstChild;k;){var I=k.nextSibling,W=k.nodeName;k[To]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&k.rel.toLowerCase()==="stylesheet"||u.removeChild(k),k=I}}if(m===0){a.removeChild(b),bh(o);return}m--}else u==="$"||u==="$?"||u==="$!"?m++:f=u.charCodeAt(0)-48;else f=0;u=b}while(u);bh(o)}function z_(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":z_(u),ga(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function D2(a,o,u,f){for(;a.nodeType===1;){var m=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[To])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==m.rel||a.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||a.getAttribute("title")!==(m.title==null?null:m.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(m.src==null?null:m.src)||a.getAttribute("type")!==(m.type==null?null:m.type)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=ps(a.nextSibling),a===null)break}return null}function M2(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=ps(a.nextSibling),a===null))return null;return a}function F_(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function I2(a,o){var u=a.ownerDocument;if(a.data!=="$?"||u.readyState==="complete")o();else{var f=function(){o(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function ps(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}var B_=null;function IE(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return a;o--}else u==="/$"&&o++}a=a.previousSibling}return null}function OE(a,o,u){switch(o=up(u),a){case"html":if(a=o.documentElement,!a)throw Error(i(452));return a;case"head":if(a=o.head,!a)throw Error(i(453));return a;case"body":if(a=o.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function hh(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);ga(a)}var es=new Map,PE=new Set;function hp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var zr=K.d;K.d={f:O2,r:P2,D:N2,C:L2,L:j2,m:V2,X:z2,S:U2,M:F2};function O2(){var a=zr.f(),o=np();return a||o}function P2(a){var o=Ds(a);o!==null&&o.tag===5&&o.type==="form"?t1(o):zr.r(a)}var vc=typeof document>"u"?null:document;function NE(a,o,u){var f=vc;if(f&&typeof o=="string"&&o){var m=un(o);m='link[rel="'+a+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),PE.has(m)||(PE.add(m),a={rel:a,crossOrigin:u,href:o},f.querySelector(m)===null&&(o=f.createElement("link"),Yn(o,"link",a),nn(o),f.head.appendChild(o)))}}function N2(a){zr.D(a),NE("dns-prefetch",a,null)}function L2(a,o){zr.C(a,o),NE("preconnect",a,o)}function j2(a,o,u){zr.L(a,o,u);var f=vc;if(f&&a&&o){var m='link[rel="preload"][as="'+un(o)+'"]';o==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+un(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+un(u.imageSizes)+'"]')):m+='[href="'+un(a)+'"]';var b=m;switch(o){case"style":b=xc(a);break;case"script":b=wc(a)}es.has(b)||(a=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),es.set(b,a),f.querySelector(m)!==null||o==="style"&&f.querySelector(dh(b))||o==="script"&&f.querySelector(fh(b))||(o=f.createElement("link"),Yn(o,"link",a),nn(o),f.head.appendChild(o)))}}function V2(a,o){zr.m(a,o);var u=vc;if(u&&a){var f=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+un(f)+'"][href="'+un(a)+'"]',b=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=wc(a)}if(!es.has(b)&&(a=p({rel:"modulepreload",href:a},o),es.set(b,a),u.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(fh(b)))return}f=u.createElement("link"),Yn(f,"link",a),nn(f),u.head.appendChild(f)}}}function U2(a,o,u){zr.S(a,o,u);var f=vc;if(f&&a){var m=fi(f).hoistableStyles,b=xc(a);o=o||"default";var k=m.get(b);if(!k){var I={loading:0,preload:null};if(k=f.querySelector(dh(b)))I.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},u),(u=es.get(b))&&$_(a,u);var W=k=f.createElement("link");nn(W),Yn(W,"link",a),W._p=new Promise(function(et,ft){W.onload=et,W.onerror=ft}),W.addEventListener("load",function(){I.loading|=1}),W.addEventListener("error",function(){I.loading|=2}),I.loading|=4,dp(k,o,f)}k={type:"stylesheet",instance:k,count:1,state:I},m.set(b,k)}}}function z2(a,o){zr.X(a,o);var u=vc;if(u&&a){var f=fi(u).hoistableScripts,m=wc(a),b=f.get(m);b||(b=u.querySelector(fh(m)),b||(a=p({src:a,async:!0},o),(o=es.get(m))&&q_(a,o),b=u.createElement("script"),nn(b),Yn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(m,b))}}function F2(a,o){zr.M(a,o);var u=vc;if(u&&a){var f=fi(u).hoistableScripts,m=wc(a),b=f.get(m);b||(b=u.querySelector(fh(m)),b||(a=p({src:a,async:!0,type:"module"},o),(o=es.get(m))&&q_(a,o),b=u.createElement("script"),nn(b),Yn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(m,b))}}function LE(a,o,u,f){var m=(m=Y.current)?hp(m):null;if(!m)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=xc(u.href),u=fi(m).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=xc(u.href);var b=fi(m).hoistableStyles,k=b.get(a);if(k||(m=m.ownerDocument||m,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,k),(b=m.querySelector(dh(a)))&&!b._p&&(k.instance=b,k.state.loading=5),es.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},es.set(a,u),b||B2(m,a,u,k.state))),o&&f===null)throw Error(i(528,""));return k}if(o&&f!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=wc(u),u=fi(m).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function xc(a){return'href="'+un(a)+'"'}function dh(a){return'link[rel="stylesheet"]['+a+"]"}function jE(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function B2(a,o,u,f){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=a.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Yn(o,"link",u),nn(o),a.head.appendChild(o))}function wc(a){return'[src="'+un(a)+'"]'}function fh(a){return"script[async]"+a}function VE(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=a.querySelector('style[data-href~="'+un(u.href)+'"]');if(f)return o.instance=f,nn(f),f;var m=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),nn(f),Yn(f,"style",m),dp(f,u.precedence,a),o.instance=f;case"stylesheet":m=xc(u.href);var b=a.querySelector(dh(m));if(b)return o.state.loading|=4,o.instance=b,nn(b),b;f=jE(u),(m=es.get(m))&&$_(f,m),b=(a.ownerDocument||a).createElement("link"),nn(b);var k=b;return k._p=new Promise(function(I,W){k.onload=I,k.onerror=W}),Yn(b,"link",f),o.state.loading|=4,dp(b,u.precedence,a),o.instance=b;case"script":return b=wc(u.src),(m=a.querySelector(fh(b)))?(o.instance=m,nn(m),m):(f=u,(m=es.get(b))&&(f=p({},u),q_(f,m)),a=a.ownerDocument||a,m=a.createElement("script"),nn(m),Yn(m,"link",f),a.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,dp(f,u.precedence,a));return o.instance}function dp(a,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,b=m,k=0;k<f.length;k++){var I=f[k];if(I.dataset.precedence===o)b=I;else if(b!==m)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function $_(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function q_(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var fp=null;function UE(a,o,u){if(fp===null){var f=new Map,m=fp=new Map;m.set(u,f)}else m=fp,f=m.get(u),f||(f=new Map,m.set(u,f));if(f.has(a))return f;for(f.set(a,null),u=u.getElementsByTagName(a),m=0;m<u.length;m++){var b=u[m];if(!(b[To]||b[xn]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var k=b.getAttribute(o)||"";k=a+k;var I=f.get(k);I?I.push(b):f.set(k,[b])}}return f}function zE(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function $2(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function FE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var ph=null;function q2(){}function H2(a,o,u){if(ph===null)throw Error(i(475));var f=ph;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=xc(u.href),b=a.querySelector(dh(m));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(f.count++,f=pp.bind(f),a.then(f,f)),o.state.loading|=4,o.instance=b,nn(b);return}b=a.ownerDocument||a,u=jE(u),(m=es.get(m))&&$_(u,m),b=b.createElement("link"),nn(b);var k=b;k._p=new Promise(function(I,W){k.onload=I,k.onerror=W}),Yn(b,"link",u),o.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=pp.bind(f),a.addEventListener("load",o),a.addEventListener("error",o))}}function W2(){if(ph===null)throw Error(i(475));var a=ph;return a.stylesheets&&a.count===0&&H_(a,a.stylesheets),0<a.count?function(o){var u=setTimeout(function(){if(a.stylesheets&&H_(a,a.stylesheets),a.unsuspend){var f=a.unsuspend;a.unsuspend=null,f()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(u)}}:null}function pp(){if(this.count--,this.count===0){if(this.stylesheets)H_(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var gp=null;function H_(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,gp=new Map,o.forEach(Y2,a),gp=null,pp.call(a))}function Y2(a,o){if(!(o.state.loading&4)){var u=gp.get(a);if(u)var f=u.get(null);else{u=new Map,gp.set(a,u);for(var m=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var k=m[b];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(u.set(k.dataset.precedence,k),f=k)}f&&u.set(null,f)}m=o.instance,k=m.getAttribute("data-precedence"),b=u.get(k)||f,b===f&&u.set(null,m),u.set(k,m),this.count++,f=pp.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),b?b.parentNode.insertBefore(m,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(m,a.firstChild)),o.state.loading|=4}}var gh={$$typeof:N,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function G2(a,o,u,f,m,b,k,I){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.hiddenUpdates=Vt(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function BE(a,o,u,f,m,b,k,I,W,et,ft,mt){return a=new G2(a,o,u,k,I,W,et,mt),o=1,b===!0&&(o|=24),b=Di(3,null,null,o),a.current=b,b.stateNode=a,o=Ay(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:o},Dy(b),a}function $E(a){return a?(a=Jl,a):Jl}function qE(a,o,u,f,m,b){m=$E(m),f.context===null?f.context=m:f.pendingContext=m,f=xa(o),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=wa(a,f,o),u!==null&&(Ni(u,a,o),Hu(u,a,o))}function HE(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function W_(a,o){HE(a,o),(a=a.alternate)&&HE(a,o)}function WE(a){if(a.tag===13){var o=Zl(a,67108864);o!==null&&Ni(o,a,67108864),W_(a,67108864)}}var mp=!0;function K2(a,o,u,f){var m=q.T;q.T=null;var b=K.p;try{K.p=2,Y_(a,o,u,f)}finally{K.p=b,q.T=m}}function X2(a,o,u,f){var m=q.T;q.T=null;var b=K.p;try{K.p=8,Y_(a,o,u,f)}finally{K.p=b,q.T=m}}function Y_(a,o,u,f){if(mp){var m=G_(f);if(m===null)P_(a,o,f,yp,u),GE(a,f);else if(Z2(m,a,o,u,f))f.stopPropagation();else if(GE(a,f),o&4&&-1<Q2.indexOf(a)){for(;m!==null;){var b=Ds(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var k=ki(b.pendingLanes);if(k!==0){var I=b;for(I.pendingLanes|=2,I.entangledLanes|=2;k;){var W=1<<31-Dn(k);I.entanglements[1]|=W,k&=~W}qs(b),(Ee&6)===0&&(tp=Xe()+500,lh(0))}}break;case 13:I=Zl(b,2),I!==null&&Ni(I,b,2),np(),W_(b,2)}if(b=G_(f),b===null&&P_(a,o,f,yp,u),b===m)break;m=b}m!==null&&f.stopPropagation()}else P_(a,o,f,null,u)}}function G_(a){return a=Wi(a),K_(a)}var yp=null;function K_(a){if(yp=null,a=_r(a),a!==null){var o=r(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return yp=a,null}function YE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hr()){case dr:return 2;case bt:return 8;case Mt:case At:return 32;case Tt:return 268435456;default:return 32}default:return 32}}var X_=!1,Na=null,La=null,ja=null,mh=new Map,yh=new Map,Va=[],Q2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function GE(a,o){switch(a){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":La=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":mh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":yh.delete(o.pointerId)}}function _h(a,o,u,f,m,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[m]},o!==null&&(o=Ds(o),o!==null&&WE(o)),a):(a.eventSystemFlags|=f,o=a.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),a)}function Z2(a,o,u,f,m){switch(o){case"focusin":return Na=_h(Na,a,o,u,f,m),!0;case"dragenter":return La=_h(La,a,o,u,f,m),!0;case"mouseover":return ja=_h(ja,a,o,u,f,m),!0;case"pointerover":var b=m.pointerId;return mh.set(b,_h(mh.get(b)||null,a,o,u,f,m)),!0;case"gotpointercapture":return b=m.pointerId,yh.set(b,_h(yh.get(b)||null,a,o,u,f,m)),!0}return!1}function KE(a){var o=_r(a.target);if(o!==null){var u=r(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,fa(a.priority,function(){if(u.tag===13){var f=Pi();f=Cs(f);var m=Zl(u,f);m!==null&&Ni(m,u,f),W_(u,f)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function _p(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=G_(a.nativeEvent);if(u===null){u=a.nativeEvent;var f=new u.constructor(u.type,u);wr=f,u.target.dispatchEvent(f),wr=null}else return o=Ds(u),o!==null&&WE(o),a.blockedOn=u,!1;o.shift()}return!0}function XE(a,o,u){_p(a)&&u.delete(o)}function J2(){X_=!1,Na!==null&&_p(Na)&&(Na=null),La!==null&&_p(La)&&(La=null),ja!==null&&_p(ja)&&(ja=null),mh.forEach(XE),yh.forEach(XE)}function bp(a,o){a.blockedOn===o&&(a.blockedOn=null,X_||(X_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,J2)))}var vp=null;function QE(a){vp!==a&&(vp=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){vp===a&&(vp=null);for(var o=0;o<a.length;o+=3){var u=a[o],f=a[o+1],m=a[o+2];if(typeof f!="function"){if(K_(f||u)===null)continue;break}var b=Ds(u);b!==null&&(a.splice(o,3),o-=3,Ky(b,{pending:!0,data:m,method:u.method,action:f},f,m))}}))}function bh(a){function o(W){return bp(W,a)}Na!==null&&bp(Na,a),La!==null&&bp(La,a),ja!==null&&bp(ja,a),mh.forEach(o),yh.forEach(o);for(var u=0;u<Va.length;u++){var f=Va[u];f.blockedOn===a&&(f.blockedOn=null)}for(;0<Va.length&&(u=Va[0],u.blockedOn===null);)KE(u),u.blockedOn===null&&Va.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var m=u[f],b=u[f+1],k=m[cn]||null;if(typeof b=="function")k||QE(u);else if(k){var I=null;if(b&&b.hasAttribute("formAction")){if(m=b,k=b[cn]||null)I=k.formAction;else if(K_(m)!==null)continue}else I=k.action;typeof I=="function"?u[f+1]=I:(u.splice(f,3),f-=3),QE(u)}}}function Q_(a){this._internalRoot=a}xp.prototype.render=Q_.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,f=Pi();qE(u,f,a,o,null,null)},xp.prototype.unmount=Q_.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;qE(a.current,2,null,a,null,null),np(),o[qi]=null}};function xp(a){this._internalRoot=a}xp.prototype.unstable_scheduleHydration=function(a){if(a){var o=$i();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Va.length&&o!==0&&o<Va[u].priority;u++);Va.splice(u,0,a),u===0&&KE(a)}};var ZE=t.version;if(ZE!=="19.1.0")throw Error(i(527,ZE,"19.1.0"));K.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=h(o),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var tP={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wp.isDisabled&&wp.supportsFiber)try{fe=wp.inject(tP),ee=wp}catch{}}return xh.createRoot=function(a,o){if(!s(a))throw Error(i(299));var u=!1,f="",m=p1,b=g1,k=m1,I=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks)),o=BE(a,1,!1,null,null,u,f,m,b,k,I,null),a[qi]=o.current,O_(a),new Q_(o)},xh.hydrateRoot=function(a,o,u){if(!s(a))throw Error(i(299));var f=!1,m="",b=p1,k=g1,I=m1,W=null,et=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(I=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(W=u.unstable_transitionCallbacks),u.formState!==void 0&&(et=u.formState)),o=BE(a,1,!0,o,u??null,f,m,b,k,I,W,et),o.context=$E(null),u=o.current,f=Pi(),f=Cs(f),m=xa(f),m.callback=null,wa(u,m,f),u=f,o.current.lanes=u,de(o,u),qs(o),a[qi]=o.current,O_(a),new xp(o)},xh.version="19.1.0",xh}var lS;function dP(){if(lS)return tb.exports;lS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tb.exports=hP(),tb.exports}var fP=dP();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cS="popstate";function pP(e={}){function t(s,r){let{pathname:l="/",search:c="",hash:h=""}=Cl(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Zb("",{pathname:l,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){let l=s.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let h=s.location.href,d=h.indexOf("#");c=d===-1?h:h.slice(0,d)}return c+"#"+(typeof r=="string"?r:dd(r))}function i(s,r){Fi(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(r)})`)}return mP(t,n,i,e)}function qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gP(){return Math.random().toString(36).substring(2,10)}function uS(e,t){return{usr:e.state,key:e.key,idx:t}}function Zb(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Cl(t):t,state:n,key:t&&t.key||i||gP()}}function dd({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Cl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function mP(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,l=s.history,c="POP",h=null,d=p();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function p(){return(l.state||{idx:null}).idx}function y(){c="POP";let T=p(),D=T==null?null:T-d;d=T,h&&h({action:c,location:S.location,delta:D})}function _(T,D){c="PUSH";let M=Zb(S.location,T,D);n&&n(M,T),d=p()+1;let N=uS(M,d),U=S.createHref(M);try{l.pushState(N,"",U)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(U)}r&&h&&h({action:c,location:S.location,delta:1})}function x(T,D){c="REPLACE";let M=Zb(S.location,T,D);n&&n(M,T),d=p();let N=uS(M,d),U=S.createHref(M);l.replaceState(N,"",U),r&&h&&h({action:c,location:S.location,delta:0})}function E(T){return yP(T)}let S={get action(){return c},get location(){return e(s,l)},listen(T){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(cS,y),h=T,()=>{s.removeEventListener(cS,y),h=null}},createHref(T){return t(s,T)},createURL:E,encodeLocation(T){let D=E(T);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:_,replace:x,go(T){return l.go(T)}};return S}function yP(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qe(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:dd(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function ER(e,t,n="/"){return _P(e,t,n,!1)}function _P(e,t,n,i){let s=typeof t=="string"?Cl(t):t,r=ia(s.pathname||"/",n);if(r==null)return null;let l=SR(e);bP(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let d=DP(r);c=RP(l[h],d,i)}return c}function SR(e,t=[],n=[],i=""){let s=(r,l,c)=>{let h={relativePath:c===void 0?r.path||"":c,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};h.relativePath.startsWith("/")&&(qe(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let d=ta([i,h.relativePath]),p=n.concat(h);r.children&&r.children.length>0&&(qe(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),SR(r.children,t,p,d)),!(r.path==null&&!r.index)&&t.push({path:d,score:AP(d,r.index),routesMeta:p})};return e.forEach((r,l)=>{var c;if(r.path===""||!((c=r.path)!=null&&c.includes("?")))s(r,l);else for(let h of TR(r.path))s(r,l,h)}),t}function TR(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let l=TR(i.join("/")),c=[];return c.push(...l.map(h=>h===""?r:[r,h].join("/"))),s&&c.push(...l),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function bP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:kP(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var vP=/^:[\w-]+$/,xP=3,wP=2,EP=1,SP=10,TP=-2,hS=e=>e==="*";function AP(e,t){let n=e.split("/"),i=n.length;return n.some(hS)&&(i+=TP),t&&(i+=wP),n.filter(s=>!hS(s)).reduce((s,r)=>s+(vP.test(r)?xP:r===""?EP:SP),i)}function kP(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function RP(e,t,n=!1){let{routesMeta:i}=e,s={},r="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],d=c===i.length-1,p=r==="/"?t:t.slice(r.length)||"/",y=Pg({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},p),_=h.route;if(!y&&d&&n&&!i[i.length-1].route.index&&(y=Pg({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:ta([r,y.pathname]),pathnameBase:PP(ta([r,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(r=ta([r,y.pathnameBase]))}return l}function Pg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=CP(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let r=s[0],l=r.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((d,{paramName:p,isOptional:y},_)=>{if(p==="*"){let E=c[_]||"";l=r.slice(0,r.length-E.length).replace(/(.)\/+$/,"$1")}const x=c[_];return y&&!x?d[p]=void 0:d[p]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:l,pattern:e}}function CP(e,t=!1,n=!0){Fi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function DP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ia(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function MP(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?Cl(e):e;return{pathname:n?n.startsWith("/")?n:IP(n,t):t,search:NP(i),hash:LP(s)}}function IP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function sb(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function sv(e){let t=OP(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function rv(e,t,n,i=!1){let s;typeof e=="string"?s=Cl(e):(s={...e},qe(!s.pathname||!s.pathname.includes("?"),sb("?","pathname","search",s)),qe(!s.pathname||!s.pathname.includes("#"),sb("#","pathname","hash",s)),qe(!s.search||!s.search.includes("#"),sb("#","search","hash",s)));let r=e===""||s.pathname==="",l=r?"/":s.pathname,c;if(l==null)c=n;else{let y=t.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;s.pathname=_.join("/")}c=y>=0?t[y]:"/"}let h=MP(s,c),d=l&&l!=="/"&&l.endsWith("/"),p=(r||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(d||p)&&(h.pathname+="/"),h}var ta=e=>e.join("/").replace(/\/\/+/g,"/"),PP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),NP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,LP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var AR=["POST","PUT","PATCH","DELETE"];new Set(AR);var VP=["GET",...AR];new Set(VP);var au=j.createContext(null);au.displayName="DataRouter";var dm=j.createContext(null);dm.displayName="DataRouterState";j.createContext(!1);var kR=j.createContext({isTransitioning:!1});kR.displayName="ViewTransition";var UP=j.createContext(new Map);UP.displayName="Fetchers";var zP=j.createContext(null);zP.displayName="Await";var As=j.createContext(null);As.displayName="Navigation";var jd=j.createContext(null);jd.displayName="Location";var or=j.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var av=j.createContext(null);av.displayName="RouteError";function FP(e,{relative:t}={}){qe(ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=j.useContext(As),{hash:s,pathname:r,search:l}=Vd(e,{relative:t}),c=r;return n!=="/"&&(c=r==="/"?n:ta([n,r])),i.createHref({pathname:c,search:l,hash:s})}function ou(){return j.useContext(jd)!=null}function ks(){return qe(ou(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(jd).location}var RR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CR(e){j.useContext(As).static||j.useLayoutEffect(e)}function _o(){let{isDataRoute:e}=j.useContext(or);return e?tN():BP()}function BP(){qe(ou(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(au),{basename:t,navigator:n}=j.useContext(As),{matches:i}=j.useContext(or),{pathname:s}=ks(),r=JSON.stringify(sv(i)),l=j.useRef(!1);return CR(()=>{l.current=!0}),j.useCallback((h,d={})=>{if(Fi(l.current,RR),!l.current)return;if(typeof h=="number"){n.go(h);return}let p=rv(h,JSON.parse(r),s,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ta([t,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[t,n,r,s,e])}j.createContext(null);function Vd(e,{relative:t}={}){let{matches:n}=j.useContext(or),{pathname:i}=ks(),s=JSON.stringify(sv(n));return j.useMemo(()=>rv(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function $P(e,t){return DR(e,t)}function DR(e,t,n,i){var D;qe(ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(As),{matches:r}=j.useContext(or),l=r[r.length-1],c=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",p=l&&l.route;{let M=p&&p.path||"";MR(h,!p||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let y=ks(),_;if(t){let M=typeof t=="string"?Cl(t):t;qe(d==="/"||((D=M.pathname)==null?void 0:D.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${M.pathname}" was given in the \`location\` prop.`),_=M}else _=y;let x=_.pathname||"/",E=x;if(d!=="/"){let M=d.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(M.length).join("/")}let S=ER(e,{pathname:E});Fi(p||S!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Fi(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=GP(S&&S.map(M=>Object.assign({},M,{params:Object.assign({},c,M.params),pathname:ta([d,s.encodeLocation?s.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?d:ta([d,s.encodeLocation?s.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),r,n,i);return t&&T?j.createElement(jd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},T):T}function qP(){let e=JP(),t=jP(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:r},"ErrorBoundary")," or"," ",j.createElement("code",{style:r},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:s},n):null,l)}var HP=j.createElement(qP,null),WP=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?j.createElement(or.Provider,{value:this.props.routeContext},j.createElement(av.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YP({routeContext:e,match:t,children:n}){let i=j.useContext(au);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(or.Provider,{value:e},n)}function GP(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,r=n==null?void 0:n.errors;if(r!=null){let h=s.findIndex(d=>d.route.id&&(r==null?void 0:r[d.route.id])!==void 0);qe(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(n)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:p,errors:y}=n,_=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||_){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,d,p)=>{let y,_=!1,x=null,E=null;n&&(y=r&&d.route.id?r[d.route.id]:void 0,x=d.route.errorElement||HP,l&&(c<0&&p===0?(MR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):c===p&&(_=!0,E=d.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,p+1)),T=()=>{let D;return y?D=x:_?D=E:d.route.Component?D=j.createElement(d.route.Component,null):d.route.element?D=d.route.element:D=h,j.createElement(YP,{match:d,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:D})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?j.createElement(WP,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}function ov(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KP(e){let t=j.useContext(au);return qe(t,ov(e)),t}function XP(e){let t=j.useContext(dm);return qe(t,ov(e)),t}function QP(e){let t=j.useContext(or);return qe(t,ov(e)),t}function lv(e){let t=QP(e),n=t.matches[t.matches.length-1];return qe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function ZP(){return lv("useRouteId")}function JP(){var i;let e=j.useContext(av),t=XP("useRouteError"),n=lv("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function tN(){let{router:e}=KP("useNavigate"),t=lv("useNavigate"),n=j.useRef(!1);return CR(()=>{n.current=!0}),j.useCallback(async(s,r={})=>{Fi(n.current,RR),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...r}))},[e,t])}var dS={};function MR(e,t,n){!t&&!dS[e]&&(dS[e]=!0,Fi(!1,n))}j.memo(eN);function eN({routes:e,future:t,state:n}){return DR(e,void 0,n,t)}function rb({to:e,replace:t,state:n,relative:i}){qe(ou(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=j.useContext(As);Fi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=j.useContext(or),{pathname:l}=ks(),c=_o(),h=rv(e,sv(r),l,i==="path"),d=JSON.stringify(h);return j.useEffect(()=>{c(JSON.parse(d),{replace:t,state:n,relative:i})},[c,d,i,t,n]),null}function rl(e){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nN({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:r=!1}){qe(!ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:l,navigator:s,static:r,future:{}}),[l,s,r]);typeof n=="string"&&(n=Cl(n));let{pathname:h="/",search:d="",hash:p="",state:y=null,key:_="default"}=n,x=j.useMemo(()=>{let E=ia(h,l);return E==null?null:{location:{pathname:E,search:d,hash:p,state:y,key:_},navigationType:i}},[l,h,d,p,y,_,i]);return Fi(x!=null,`<Router basename="${l}"> is not able to match the URL "${h}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:j.createElement(As.Provider,{value:c},j.createElement(jd.Provider,{children:t,value:x}))}function iN({children:e,location:t}){return $P(Jb(e),t)}function Jb(e,t=[]){let n=[];return j.Children.forEach(e,(i,s)=>{if(!j.isValidElement(i))return;let r=[...t,s];if(i.type===j.Fragment){n.push.apply(n,Jb(i.props.children,r));return}qe(i.type===rl,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Jb(i.props.children,r)),n.push(l)}),n}var lg="get",cg="application/x-www-form-urlencoded";function fm(e){return e!=null&&typeof e.tagName=="string"}function sN(e){return fm(e)&&e.tagName.toLowerCase()==="button"}function rN(e){return fm(e)&&e.tagName.toLowerCase()==="form"}function aN(e){return fm(e)&&e.tagName.toLowerCase()==="input"}function oN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function lN(e,t){return e.button===0&&(!t||t==="_self")&&!oN(e)}function t0(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(s=>[n,s]):[[n,i]])},[]))}function cN(e,t){let n=t0(e);return t&&t.forEach((i,s)=>{n.has(s)||t.getAll(s).forEach(r=>{n.append(s,r)})}),n}var Ep=null;function uN(){if(Ep===null)try{new FormData(document.createElement("form"),0),Ep=!1}catch{Ep=!0}return Ep}var hN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ab(e){return e!=null&&!hN.has(e)?(Fi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cg}"`),null):e}function dN(e,t){let n,i,s,r,l;if(rN(e)){let c=e.getAttribute("action");i=c?ia(c,t):null,n=e.getAttribute("method")||lg,s=ab(e.getAttribute("enctype"))||cg,r=new FormData(e)}else if(sN(e)||aN(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||c.getAttribute("action");if(i=h?ia(h,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||lg,s=ab(e.getAttribute("formenctype"))||ab(c.getAttribute("enctype"))||cg,r=new FormData(c,e),!uN()){let{name:d,type:p,value:y}=e;if(p==="image"){let _=d?`${d}.`:"";r.append(`${_}x`,"0"),r.append(`${_}y`,"0")}else d&&r.append(d,y)}}else{if(fm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lg,i=null,s=cg,l=e}return r&&s==="text/plain"&&(l=r,r=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:r,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fN(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&ia(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function pN(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function mN(e,t,n){let i=await Promise.all(e.map(async s=>{let r=t.routes[s.route.id];if(r){let l=await pN(r,n);return l.links?l.links():[]}return[]}));return vN(i.flat(1).filter(gN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function fS(e,t,n,i,s,r){let l=(h,d)=>n[d]?h.route.id!==n[d].route.id:!0,c=(h,d)=>{var p;return n[d].pathname!==h.pathname||((p=n[d].route.path)==null?void 0:p.endsWith("*"))&&n[d].params["*"]!==h.params["*"]};return r==="assets"?t.filter((h,d)=>l(h,d)||c(h,d)):r==="data"?t.filter((h,d)=>{var y;let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function yN(e,t,{includeHydrateFallback:n}={}){return _N(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function _N(e){return[...new Set(e)]}function bN(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function vN(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let r=JSON.stringify(bN(s));return n.has(r)||(n.add(r),i.push({key:r,link:s})),i},[])}function IR(){let e=j.useContext(au);return cv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function xN(){let e=j.useContext(dm);return cv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var uv=j.createContext(void 0);uv.displayName="FrameworkContext";function OR(){let e=j.useContext(uv);return cv(e,"You must render this element inside a <HydratedRouter> element"),e}function wN(e,t){let n=j.useContext(uv),[i,s]=j.useState(!1),[r,l]=j.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:p,onTouchStart:y}=t,_=j.useRef(null);j.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let S=D=>{D.forEach(M=>{l(M.isIntersecting)})},T=new IntersectionObserver(S,{threshold:.5});return _.current&&T.observe(_.current),()=>{T.disconnect()}}},[e]),j.useEffect(()=>{if(i){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[i]);let x=()=>{s(!0)},E=()=>{s(!1),l(!1)};return n?e!=="intent"?[r,_,{}]:[r,_,{onFocus:wh(c,x),onBlur:wh(h,E),onMouseEnter:wh(d,x),onMouseLeave:wh(p,E),onTouchStart:wh(y,x)}]:[!1,_,{}]}function wh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function EN({page:e,...t}){let{router:n}=IR(),i=j.useMemo(()=>ER(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?j.createElement(TN,{page:e,matches:i,...t}):null}function SN(e){let{manifest:t,routeModules:n}=OR(),[i,s]=j.useState([]);return j.useEffect(()=>{let r=!1;return mN(e,t,n).then(l=>{r||s(l)}),()=>{r=!0}},[e,t,n]),i}function TN({page:e,matches:t,...n}){let i=ks(),{manifest:s,routeModules:r}=OR(),{basename:l}=IR(),{loaderData:c,matches:h}=xN(),d=j.useMemo(()=>fS(e,t,h,s,i,"data"),[e,t,h,s,i]),p=j.useMemo(()=>fS(e,t,h,s,i,"assets"),[e,t,h,s,i]),y=j.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let E=new Set,S=!1;if(t.forEach(D=>{var N;let M=s.routes[D.route.id];!M||!M.hasLoader||(!d.some(U=>U.route.id===D.route.id)&&D.route.id in c&&((N=r[D.route.id])!=null&&N.shouldRevalidate)||M.hasClientLoader?S=!0:E.add(D.route.id))}),E.size===0)return[];let T=fN(e,l,"data");return S&&E.size>0&&T.searchParams.set("_routes",t.filter(D=>E.has(D.route.id)).map(D=>D.route.id).join(",")),[T.pathname+T.search]},[l,c,i,s,d,t,e,r]),_=j.useMemo(()=>yN(p,s),[p,s]),x=SN(p);return j.createElement(j.Fragment,null,y.map(E=>j.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),_.map(E=>j.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),x.map(({key:E,link:S})=>j.createElement("link",{key:E,...S})))}function AN(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var PR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PR&&(window.__reactRouterVersion="7.7.0")}catch{}function kN({basename:e,children:t,window:n}){let i=j.useRef();i.current==null&&(i.current=pP({window:n,v5Compat:!0}));let s=i.current,[r,l]=j.useState({action:s.action,location:s.location}),c=j.useCallback(h=>{j.startTransition(()=>l(h))},[l]);return j.useLayoutEffect(()=>s.listen(c),[s,c]),j.createElement(nN,{basename:e,children:t,location:r.location,navigationType:r.action,navigator:s})}var NR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LR=j.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:r,replace:l,state:c,target:h,to:d,preventScrollReset:p,viewTransition:y,..._},x){let{basename:E}=j.useContext(As),S=typeof d=="string"&&NR.test(d),T,D=!1;if(typeof d=="string"&&S&&(T=d,PR))try{let O=new URL(window.location.href),V=d.startsWith("//")?new URL(O.protocol+d):new URL(d),$=ia(V.pathname,E);V.origin===O.origin&&$!=null?d=$+V.search+V.hash:D=!0}catch{Fi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=FP(d,{relative:s}),[N,U,P]=wN(i,_),G=MN(d,{replace:l,state:c,target:h,preventScrollReset:p,relative:s,viewTransition:y});function C(O){t&&t(O),O.defaultPrevented||G(O)}let R=j.createElement("a",{..._,...P,href:T||M,onClick:D||r?t:C,ref:AN(x,U),target:h,"data-discover":!S&&n==="render"?"true":void 0});return N&&!S?j.createElement(j.Fragment,null,R,j.createElement(EN,{page:M})):R});LR.displayName="Link";var RN=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:r,to:l,viewTransition:c,children:h,...d},p){let y=Vd(l,{relative:d.relative}),_=ks(),x=j.useContext(dm),{navigator:E,basename:S}=j.useContext(As),T=x!=null&&LN(y)&&c===!0,D=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,M=_.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(M=M.toLowerCase(),N=N?N.toLowerCase():null,D=D.toLowerCase()),N&&S&&(N=ia(N,S)||N);const U=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let P=M===D||!s&&M.startsWith(D)&&M.charAt(U)==="/",G=N!=null&&(N===D||!s&&N.startsWith(D)&&N.charAt(D.length)==="/"),C={isActive:P,isPending:G,isTransitioning:T},R=P?t:void 0,O;typeof i=="function"?O=i(C):O=[i,P?"active":null,G?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let V=typeof r=="function"?r(C):r;return j.createElement(LR,{...d,"aria-current":R,className:O,ref:p,style:V,to:l,viewTransition:c},typeof h=="function"?h(C):h)});RN.displayName="NavLink";var CN=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:r,method:l=lg,action:c,onSubmit:h,relative:d,preventScrollReset:p,viewTransition:y,..._},x)=>{let E=PN(),S=NN(c,{relative:d}),T=l.toLowerCase()==="get"?"get":"post",D=typeof c=="string"&&NR.test(c),M=N=>{if(h&&h(N),N.defaultPrevented)return;N.preventDefault();let U=N.nativeEvent.submitter,P=(U==null?void 0:U.getAttribute("formmethod"))||l;E(U||N.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:s,state:r,relative:d,preventScrollReset:p,viewTransition:y})};return j.createElement("form",{ref:x,method:T,action:S,onSubmit:i?h:M,..._,"data-discover":!D&&e==="render"?"true":void 0})});CN.displayName="Form";function DN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jR(e){let t=j.useContext(au);return qe(t,DN(e)),t}function MN(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:r,viewTransition:l}={}){let c=_o(),h=ks(),d=Vd(e,{relative:r});return j.useCallback(p=>{if(lN(p,t)){p.preventDefault();let y=n!==void 0?n:dd(h)===dd(d);c(e,{replace:y,state:i,preventScrollReset:s,relative:r,viewTransition:l})}},[h,c,d,n,i,t,e,s,r,l])}function pm(e){Fi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=j.useRef(t0(e)),n=j.useRef(!1),i=ks(),s=j.useMemo(()=>cN(i.search,n.current?null:t.current),[i.search]),r=_o(),l=j.useCallback((c,h)=>{const d=t0(typeof c=="function"?c(new URLSearchParams(s)):c);n.current=!0,r("?"+d,h)},[r,s]);return[s,l]}var IN=0,ON=()=>`__${String(++IN)}__`;function PN(){let{router:e}=jR("useSubmit"),{basename:t}=j.useContext(As),n=ZP();return j.useCallback(async(i,s={})=>{let{action:r,method:l,encType:c,formData:h,body:d}=dN(i,t);if(s.navigate===!1){let p=s.fetcherKey||ON();await e.fetch(p,n,s.action||r,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await e.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function NN(e,{relative:t}={}){let{basename:n}=j.useContext(As),i=j.useContext(or);qe(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...Vd(e||".",{relative:t})},l=ks();if(e==null){r.search=l.search;let c=new URLSearchParams(r.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();r.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:ta([n,r.pathname])),dd(r)}function LN(e,t={}){let n=j.useContext(kR);qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=jR("useViewTransitionState"),s=Vd(e,{relative:t.relative});if(!n.isTransitioning)return!1;let r=ia(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=ia(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Pg(s.pathname,l)!=null||Pg(s.pathname,r)!=null}var jN=wR(),Fn=function(){return Fn=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fn.apply(this,arguments)};function fd(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,r;i<s;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var Le="-ms-",Xh="-moz-",ve="-webkit-",VR="comm",gm="rule",hv="decl",VN="@import",UR="@keyframes",UN="@layer",zR=Math.abs,dv=String.fromCharCode,e0=Object.assign;function zN(e,t){return zn(e,0)^45?(((t<<2^zn(e,0))<<2^zn(e,1))<<2^zn(e,2))<<2^zn(e,3):0}function FR(e){return e.trim()}function qr(e,t){return(e=t.exec(e))?e[0]:e}function Xt(e,t,n){return e.replace(t,n)}function ug(e,t,n){return e.indexOf(t,n)}function zn(e,t){return e.charCodeAt(t)|0}function Bc(e,t,n){return e.slice(t,n)}function Xs(e){return e.length}function BR(e){return e.length}function jh(e,t){return t.push(e),e}function FN(e,t){return e.map(t).join("")}function pS(e,t){return e.filter(function(n){return!qr(n,t)})}var mm=1,$c=1,$R=0,os=0,yn=0,lu="";function ym(e,t,n,i,s,r,l,c){return{value:e,root:t,parent:n,type:i,props:s,children:r,line:mm,column:$c,length:l,return:"",siblings:c}}function qa(e,t){return e0(ym("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Ec(e){for(;e.root;)e=qa(e.root,{children:[e]});jh(e,e.siblings)}function BN(){return yn}function $N(){return yn=os>0?zn(lu,--os):0,$c--,yn===10&&($c=1,mm--),yn}function xs(){return yn=os<$R?zn(lu,os++):0,$c++,yn===10&&($c=1,mm++),yn}function pl(){return zn(lu,os)}function hg(){return os}function _m(e,t){return Bc(lu,e,t)}function n0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qN(e){return mm=$c=1,$R=Xs(lu=e),os=0,[]}function HN(e){return lu="",e}function ob(e){return FR(_m(os-1,i0(e===91?e+2:e===40?e+1:e)))}function WN(e){for(;(yn=pl())&&yn<33;)xs();return n0(e)>2||n0(yn)>3?"":" "}function YN(e,t){for(;--t&&xs()&&!(yn<48||yn>102||yn>57&&yn<65||yn>70&&yn<97););return _m(e,hg()+(t<6&&pl()==32&&xs()==32))}function i0(e){for(;xs();)switch(yn){case e:return os;case 34:case 39:e!==34&&e!==39&&i0(yn);break;case 40:e===41&&i0(e);break;case 92:xs();break}return os}function GN(e,t){for(;xs()&&e+yn!==57;)if(e+yn===84&&pl()===47)break;return"/*"+_m(t,os-1)+"*"+dv(e===47?e:xs())}function KN(e){for(;!n0(pl());)xs();return _m(e,os)}function XN(e){return HN(dg("",null,null,null,[""],e=qN(e),0,[0],e))}function dg(e,t,n,i,s,r,l,c,h){for(var d=0,p=0,y=l,_=0,x=0,E=0,S=1,T=1,D=1,M=0,N="",U=s,P=r,G=i,C=N;T;)switch(E=M,M=xs()){case 40:if(E!=108&&zn(C,y-1)==58){ug(C+=Xt(ob(M),"&","&\f"),"&\f",zR(d?c[d-1]:0))!=-1&&(D=-1);break}case 34:case 39:case 91:C+=ob(M);break;case 9:case 10:case 13:case 32:C+=WN(E);break;case 92:C+=YN(hg()-1,7);continue;case 47:switch(pl()){case 42:case 47:jh(QN(GN(xs(),hg()),t,n,h),h);break;default:C+="/"}break;case 123*S:c[d++]=Xs(C)*D;case 125*S:case 59:case 0:switch(M){case 0:case 125:T=0;case 59+p:D==-1&&(C=Xt(C,/\f/g,"")),x>0&&Xs(C)-y&&jh(x>32?mS(C+";",i,n,y-1,h):mS(Xt(C," ","")+";",i,n,y-2,h),h);break;case 59:C+=";";default:if(jh(G=gS(C,t,n,d,p,s,c,N,U=[],P=[],y,r),r),M===123)if(p===0)dg(C,t,G,G,U,r,y,c,P);else switch(_===99&&zn(C,3)===110?100:_){case 100:case 108:case 109:case 115:dg(e,G,G,i&&jh(gS(e,G,G,0,0,s,c,N,s,U=[],y,P),P),s,P,y,c,i?U:P);break;default:dg(C,G,G,G,[""],P,0,c,P)}}d=p=x=0,S=D=1,N=C="",y=l;break;case 58:y=1+Xs(C),x=E;default:if(S<1){if(M==123)--S;else if(M==125&&S++==0&&$N()==125)continue}switch(C+=dv(M),M*S){case 38:D=p>0?1:(C+="\f",-1);break;case 44:c[d++]=(Xs(C)-1)*D,D=1;break;case 64:pl()===45&&(C+=ob(xs())),_=pl(),p=y=Xs(N=C+=KN(hg())),M++;break;case 45:E===45&&Xs(C)==2&&(S=0)}}return r}function gS(e,t,n,i,s,r,l,c,h,d,p,y){for(var _=s-1,x=s===0?r:[""],E=BR(x),S=0,T=0,D=0;S<i;++S)for(var M=0,N=Bc(e,_+1,_=zR(T=l[S])),U=e;M<E;++M)(U=FR(T>0?x[M]+" "+N:Xt(N,/&\f/g,x[M])))&&(h[D++]=U);return ym(e,t,n,s===0?gm:c,h,d,p,y)}function QN(e,t,n,i){return ym(e,t,n,VR,dv(BN()),Bc(e,2,-2),0,i)}function mS(e,t,n,i,s){return ym(e,t,n,hv,Bc(e,0,i),Bc(e,i+1,-1),i,s)}function qR(e,t,n){switch(zN(e,t)){case 5103:return ve+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ve+e+e;case 4789:return Xh+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ve+e+Xh+e+Le+e+e;case 5936:switch(zn(e,t+11)){case 114:return ve+e+Le+Xt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ve+e+Le+Xt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ve+e+Le+Xt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return ve+e+Le+e+e;case 6165:return ve+e+Le+"flex-"+e+e;case 5187:return ve+e+Xt(e,/(\w+).+(:[^]+)/,ve+"box-$1$2"+Le+"flex-$1$2")+e;case 5443:return ve+e+Le+"flex-item-"+Xt(e,/flex-|-self/g,"")+(qr(e,/flex-|baseline/)?"":Le+"grid-row-"+Xt(e,/flex-|-self/g,""))+e;case 4675:return ve+e+Le+"flex-line-pack"+Xt(e,/align-content|flex-|-self/g,"")+e;case 5548:return ve+e+Le+Xt(e,"shrink","negative")+e;case 5292:return ve+e+Le+Xt(e,"basis","preferred-size")+e;case 6060:return ve+"box-"+Xt(e,"-grow","")+ve+e+Le+Xt(e,"grow","positive")+e;case 4554:return ve+Xt(e,/([^-])(transform)/g,"$1"+ve+"$2")+e;case 6187:return Xt(Xt(Xt(e,/(zoom-|grab)/,ve+"$1"),/(image-set)/,ve+"$1"),e,"")+e;case 5495:case 3959:return Xt(e,/(image-set\([^]*)/,ve+"$1$`$1");case 4968:return Xt(Xt(e,/(.+:)(flex-)?(.*)/,ve+"box-pack:$3"+Le+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ve+e+e;case 4200:if(!qr(e,/flex-|baseline/))return Le+"grid-column-align"+Bc(e,t)+e;break;case 2592:case 3360:return Le+Xt(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(i,s){return t=s,qr(i.props,/grid-\w+-end/)})?~ug(e+(n=n[t].value),"span",0)?e:Le+Xt(e,"-start","")+e+Le+"grid-row-span:"+(~ug(n,"span",0)?qr(n,/\d+/):+qr(n,/\d+/)-+qr(e,/\d+/))+";":Le+Xt(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(i){return qr(i.props,/grid-\w+-start/)})?e:Le+Xt(Xt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Xt(e,/(.+)-inline(.+)/,ve+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Xs(e)-1-t>6)switch(zn(e,t+1)){case 109:if(zn(e,t+4)!==45)break;case 102:return Xt(e,/(.+:)(.+)-([^]+)/,"$1"+ve+"$2-$3$1"+Xh+(zn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~ug(e,"stretch",0)?qR(Xt(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Xt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,s,r,l,c,h,d){return Le+s+":"+r+d+(l?Le+s+"-span:"+(c?h:+h-+r)+d:"")+e});case 4949:if(zn(e,t+6)===121)return Xt(e,":",":"+ve)+e;break;case 6444:switch(zn(e,zn(e,14)===45?18:11)){case 120:return Xt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ve+(zn(e,14)===45?"inline-":"")+"box$3$1"+ve+"$2$3$1"+Le+"$2box$3")+e;case 100:return Xt(e,":",":"+Le)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Xt(e,"scroll-","scroll-snap-")+e}return e}function Ng(e,t){for(var n="",i=0;i<e.length;i++)n+=t(e[i],i,e,t)||"";return n}function ZN(e,t,n,i){switch(e.type){case UN:if(e.children.length)break;case VN:case hv:return e.return=e.return||e.value;case VR:return"";case UR:return e.return=e.value+"{"+Ng(e.children,i)+"}";case gm:if(!Xs(e.value=e.props.join(",")))return""}return Xs(n=Ng(e.children,i))?e.return=e.value+"{"+n+"}":""}function JN(e){var t=BR(e);return function(n,i,s,r){for(var l="",c=0;c<t;c++)l+=e[c](n,i,s,r)||"";return l}}function tL(e){return function(t){t.root||(t=t.return)&&e(t)}}function eL(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case hv:e.return=qR(e.value,e.length,n);return;case UR:return Ng([qa(e,{value:Xt(e.value,"@","@"+ve)})],i);case gm:if(e.length)return FN(n=e.props,function(s){switch(qr(s,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ec(qa(e,{props:[Xt(s,/:(read-\w+)/,":"+Xh+"$1")]})),Ec(qa(e,{props:[s]})),e0(e,{props:pS(n,i)});break;case"::placeholder":Ec(qa(e,{props:[Xt(s,/:(plac\w+)/,":"+ve+"input-$1")]})),Ec(qa(e,{props:[Xt(s,/:(plac\w+)/,":"+Xh+"$1")]})),Ec(qa(e,{props:[Xt(s,/:(plac\w+)/,Le+"input-$1")]})),Ec(qa(e,{props:[s]})),e0(e,{props:pS(n,i)});break}return""})}}var nL={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Li={},qc=typeof process<"u"&&Li!==void 0&&(Li.REACT_APP_SC_ATTR||Li.SC_ATTR)||"data-styled",HR="active",WR="data-styled-version",bm="6.1.19",fv=`/*!sc*/
`,Lg=typeof window<"u"&&typeof document<"u",iL=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Li!==void 0&&Li.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Li.REACT_APP_SC_DISABLE_SPEEDY!==""?Li.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Li.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Li!==void 0&&Li.SC_DISABLE_SPEEDY!==void 0&&Li.SC_DISABLE_SPEEDY!==""&&Li.SC_DISABLE_SPEEDY!=="false"&&Li.SC_DISABLE_SPEEDY),sL={},vm=Object.freeze([]),Hc=Object.freeze({});function YR(e,t,n){return n===void 0&&(n=Hc),e.theme!==n.theme&&e.theme||t||n.theme}var GR=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),rL=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,aL=/(^-|-$)/g;function yS(e){return e.replace(rL,"-").replace(aL,"")}var oL=/(a)(d)/gi,Sp=52,_S=function(e){return String.fromCharCode(e+(e>25?39:97))};function s0(e){var t,n="";for(t=Math.abs(e);t>Sp;t=t/Sp|0)n=_S(t%Sp)+n;return(_S(t%Sp)+n).replace(oL,"$1-$2")}var lb,KR=5381,Ic=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},XR=function(e){return Ic(KR,e)};function QR(e){return s0(XR(e)>>>0)}function lL(e){return e.displayName||e.name||"Component"}function cb(e){return typeof e=="string"&&!0}var ZR=typeof Symbol=="function"&&Symbol.for,JR=ZR?Symbol.for("react.memo"):60115,cL=ZR?Symbol.for("react.forward_ref"):60112,uL={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},hL={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},tC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},dL=((lb={})[cL]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},lb[JR]=tC,lb);function bS(e){return("type"in(t=e)&&t.type.$$typeof)===JR?tC:"$$typeof"in e?dL[e.$$typeof]:uL;var t}var fL=Object.defineProperty,pL=Object.getOwnPropertyNames,vS=Object.getOwnPropertySymbols,gL=Object.getOwnPropertyDescriptor,mL=Object.getPrototypeOf,xS=Object.prototype;function eC(e,t,n){if(typeof t!="string"){if(xS){var i=mL(t);i&&i!==xS&&eC(e,i,n)}var s=pL(t);vS&&(s=s.concat(vS(t)));for(var r=bS(e),l=bS(t),c=0;c<s.length;++c){var h=s[c];if(!(h in hL||n&&n[h]||l&&h in l||r&&h in r)){var d=gL(t,h);try{fL(e,h,d)}catch{}}}}return e}function bl(e){return typeof e=="function"}function pv(e){return typeof e=="object"&&"styledComponentId"in e}function ul(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function r0(e,t){if(e.length===0)return"";for(var n=e[0],i=1;i<e.length;i++)n+=e[i];return n}function pd(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function a0(e,t,n){if(n===void 0&&(n=!1),!n&&!pd(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var i=0;i<t.length;i++)e[i]=a0(e[i],t[i]);else if(pd(t))for(var i in t)e[i]=a0(e[i],t[i]);return e}function gv(e,t){Object.defineProperty(e,"toString",{value:t})}function vl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var yL=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,i=0;i<t;i++)n+=this.groupSizes[i];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,r=s;t>=r;)if((r<<=1)<0)throw vl(16,"".concat(t));this.groupSizes=new Uint32Array(r),this.groupSizes.set(i),this.length=r;for(var l=s;l<r;l++)this.groupSizes[l]=0}for(var c=this.indexOfGroup(t+1),h=(l=0,n.length);l<h;l++)this.tag.insertRule(c,n[l])&&(this.groupSizes[t]++,c++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],i=this.indexOfGroup(t),s=i+n;this.groupSizes[t]=0;for(var r=i;r<s;r++)this.tag.deleteRule(i)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var i=this.groupSizes[t],s=this.indexOfGroup(t),r=s+i,l=s;l<r;l++)n+="".concat(this.tag.getRule(l)).concat(fv);return n},e}(),fg=new Map,jg=new Map,pg=1,Tp=function(e){if(fg.has(e))return fg.get(e);for(;jg.has(pg);)pg++;var t=pg++;return fg.set(e,t),jg.set(t,e),t},_L=function(e,t){pg=t+1,fg.set(e,t),jg.set(t,e)},bL="style[".concat(qc,"][").concat(WR,'="').concat(bm,'"]'),vL=new RegExp("^".concat(qc,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),xL=function(e,t,n){for(var i,s=n.split(","),r=0,l=s.length;r<l;r++)(i=s[r])&&e.registerName(t,i)},wL=function(e,t){for(var n,i=((n=t.textContent)!==null&&n!==void 0?n:"").split(fv),s=[],r=0,l=i.length;r<l;r++){var c=i[r].trim();if(c){var h=c.match(vL);if(h){var d=0|parseInt(h[1],10),p=h[2];d!==0&&(_L(p,d),xL(e,p,h[3]),e.getTag().insertRules(d,s)),s.length=0}else s.push(c)}}},wS=function(e){for(var t=document.querySelectorAll(bL),n=0,i=t.length;n<i;n++){var s=t[n];s&&s.getAttribute(qc)!==HR&&(wL(e,s),s.parentNode&&s.parentNode.removeChild(s))}};function EL(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var nC=function(e){var t=document.head,n=e||t,i=document.createElement("style"),s=function(c){var h=Array.from(c.querySelectorAll("style[".concat(qc,"]")));return h[h.length-1]}(n),r=s!==void 0?s.nextSibling:null;i.setAttribute(qc,HR),i.setAttribute(WR,bm);var l=EL();return l&&i.setAttribute("nonce",l),n.insertBefore(i,r),i},SL=function(){function e(t){this.element=nC(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var i=document.styleSheets,s=0,r=i.length;s<r;s++){var l=i[s];if(l.ownerNode===n)return l}throw vl(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),TL=function(){function e(t){this.element=nC(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var i=document.createTextNode(n);return this.element.insertBefore(i,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),AL=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),ES=Lg,kL={isServer:!Lg,useCSSOMInjection:!iL},Vg=function(){function e(t,n,i){t===void 0&&(t=Hc),n===void 0&&(n={});var s=this;this.options=Fn(Fn({},kL),t),this.gs=n,this.names=new Map(i),this.server=!!t.isServer,!this.server&&Lg&&ES&&(ES=!1,wS(this)),gv(this,function(){return function(r){for(var l=r.getTag(),c=l.length,h="",d=function(y){var _=function(D){return jg.get(D)}(y);if(_===void 0)return"continue";var x=r.names.get(_),E=l.getGroup(y);if(x===void 0||!x.size||E.length===0)return"continue";var S="".concat(qc,".g").concat(y,'[id="').concat(_,'"]'),T="";x!==void 0&&x.forEach(function(D){D.length>0&&(T+="".concat(D,","))}),h+="".concat(E).concat(S,'{content:"').concat(T,'"}').concat(fv)},p=0;p<c;p++)d(p);return h}(s)})}return e.registerId=function(t){return Tp(t)},e.prototype.rehydrate=function(){!this.server&&Lg&&wS(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Fn(Fn({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var i=n.useCSSOMInjection,s=n.target;return n.isServer?new AL(s):i?new SL(s):new TL(s)}(this.options),new yL(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(Tp(t),this.names.has(t))this.names.get(t).add(n);else{var i=new Set;i.add(n),this.names.set(t,i)}},e.prototype.insertRules=function(t,n,i){this.registerName(t,n),this.getTag().insertRules(Tp(t),i)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Tp(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),RL=/&/g,CL=/^\s*\/\/.*$/gm;function iC(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(i){return"".concat(t," ").concat(i)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=iC(n.children,t)),n})}function DL(e){var t,n,i,s=Hc,r=s.options,l=r===void 0?Hc:r,c=s.plugins,h=c===void 0?vm:c,d=function(_,x,E){return E.startsWith(n)&&E.endsWith(n)&&E.replaceAll(n,"").length>0?".".concat(t):_},p=h.slice();p.push(function(_){_.type===gm&&_.value.includes("&")&&(_.props[0]=_.props[0].replace(RL,n).replace(i,d))}),l.prefix&&p.push(eL),p.push(ZN);var y=function(_,x,E,S){x===void 0&&(x=""),E===void 0&&(E=""),S===void 0&&(S="&"),t=S,n=x,i=new RegExp("\\".concat(n,"\\b"),"g");var T=_.replace(CL,""),D=XN(E||x?"".concat(E," ").concat(x," { ").concat(T," }"):T);l.namespace&&(D=iC(D,l.namespace));var M=[];return Ng(D,JN(p.concat(tL(function(N){return M.push(N)})))),M};return y.hash=h.length?h.reduce(function(_,x){return x.name||vl(15),Ic(_,x.name)},KR).toString():"",y}var ML=new Vg,o0=DL(),sC=wt.createContext({shouldForwardProp:void 0,styleSheet:ML,stylis:o0});sC.Consumer;wt.createContext(void 0);function l0(){return j.useContext(sC)}var IL=function(){function e(t,n){var i=this;this.inject=function(s,r){r===void 0&&(r=o0);var l=i.name+r.hash;s.hasNameForId(i.id,l)||s.insertRules(i.id,l,r(i.rules,l,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,gv(this,function(){throw vl(12,String(i.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=o0),this.name+t.hash},e}(),OL=function(e){return e>="A"&&e<="Z"};function SS(e){for(var t="",n=0;n<e.length;n++){var i=e[n];if(n===1&&i==="-"&&e[0]==="-")return e;OL(i)?t+="-"+i.toLowerCase():t+=i}return t.startsWith("ms-")?"-"+t:t}var rC=function(e){return e==null||e===!1||e===""},aC=function(e){var t,n,i=[];for(var s in e){var r=e[s];e.hasOwnProperty(s)&&!rC(r)&&(Array.isArray(r)&&r.isCss||bl(r)?i.push("".concat(SS(s),":"),r,";"):pd(r)?i.push.apply(i,fd(fd(["".concat(s," {")],aC(r),!1),["}"],!1)):i.push("".concat(SS(s),": ").concat((t=s,(n=r)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in nL||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return i};function to(e,t,n,i){if(rC(e))return[];if(pv(e))return[".".concat(e.styledComponentId)];if(bl(e)){if(!bl(r=e)||r.prototype&&r.prototype.isReactComponent||!t)return[e];var s=e(t);return to(s,t,n,i)}var r;return e instanceof IL?n?(e.inject(n,i),[e.getName(i)]):[e]:pd(e)?aC(e):Array.isArray(e)?Array.prototype.concat.apply(vm,e.map(function(l){return to(l,t,n,i)})):[e.toString()]}function oC(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(bl(n)&&!pv(n))return!1}return!0}var PL=XR(bm),NL=function(){function e(t,n,i){this.rules=t,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&oC(t),this.componentId=n,this.baseHash=Ic(PL,n),this.baseStyle=i,Vg.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,i){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))s=ul(s,this.staticRulesId);else{var r=r0(to(this.rules,t,n,i)),l=s0(Ic(this.baseHash,r)>>>0);if(!n.hasNameForId(this.componentId,l)){var c=i(r,".".concat(l),void 0,this.componentId);n.insertRules(this.componentId,l,c)}s=ul(s,l),this.staticRulesId=l}else{for(var h=Ic(this.baseHash,i.hash),d="",p=0;p<this.rules.length;p++){var y=this.rules[p];if(typeof y=="string")d+=y;else if(y){var _=r0(to(y,t,n,i));h=Ic(h,_+p),d+=_}}if(d){var x=s0(h>>>0);n.hasNameForId(this.componentId,x)||n.insertRules(this.componentId,x,i(d,".".concat(x),void 0,this.componentId)),s=ul(s,x)}}return s},e}(),gd=wt.createContext(void 0);gd.Consumer;function LL(e){var t=wt.useContext(gd),n=j.useMemo(function(){return function(i,s){if(!i)throw vl(14);if(bl(i)){var r=i(s);return r}if(Array.isArray(i)||typeof i!="object")throw vl(8);return s?Fn(Fn({},s),i):i}(e.theme,t)},[e.theme,t]);return e.children?wt.createElement(gd.Provider,{value:n},e.children):null}var ub={};function jL(e,t,n){var i=pv(e),s=e,r=!cb(e),l=t.attrs,c=l===void 0?vm:l,h=t.componentId,d=h===void 0?function(U,P){var G=typeof U!="string"?"sc":yS(U);ub[G]=(ub[G]||0)+1;var C="".concat(G,"-").concat(QR(bm+G+ub[G]));return P?"".concat(P,"-").concat(C):C}(t.displayName,t.parentComponentId):h,p=t.displayName,y=p===void 0?function(U){return cb(U)?"styled.".concat(U):"Styled(".concat(lL(U),")")}(e):p,_=t.displayName&&t.componentId?"".concat(yS(t.displayName),"-").concat(t.componentId):t.componentId||d,x=i&&s.attrs?s.attrs.concat(c).filter(Boolean):c,E=t.shouldForwardProp;if(i&&s.shouldForwardProp){var S=s.shouldForwardProp;if(t.shouldForwardProp){var T=t.shouldForwardProp;E=function(U,P){return S(U,P)&&T(U,P)}}else E=S}var D=new NL(n,_,i?s.componentStyle:void 0);function M(U,P){return function(G,C,R){var O=G.attrs,V=G.componentStyle,$=G.defaultProps,H=G.foldedComponentIds,z=G.styledComponentId,Ct=G.target,Q=wt.useContext(gd),q=l0(),K=G.shouldForwardProp||q.shouldForwardProp,ot=YR(C,Q,$)||Hc,nt=function(Et,Y,lt){for(var ut,dt=Fn(Fn({},Y),{className:void 0,theme:lt}),St=0;St<Et.length;St+=1){var Ft=bl(ut=Et[St])?ut(dt):ut;for(var Qt in Ft)dt[Qt]=Qt==="className"?ul(dt[Qt],Ft[Qt]):Qt==="style"?Fn(Fn({},dt[Qt]),Ft[Qt]):Ft[Qt]}return Y.className&&(dt.className=ul(dt.className,Y.className)),dt}(O,C,ot),F=nt.as||Ct,it={};for(var at in nt)nt[at]===void 0||at[0]==="$"||at==="as"||at==="theme"&&nt.theme===ot||(at==="forwardedAs"?it.as=nt.forwardedAs:K&&!K(at,F)||(it[at]=nt[at]));var ht=function(Et,Y){var lt=l0(),ut=Et.generateAndInjectStyles(Y,lt.styleSheet,lt.stylis);return ut}(V,nt),yt=ul(H,z);return ht&&(yt+=" "+ht),nt.className&&(yt+=" "+nt.className),it[cb(F)&&!GR.has(F)?"class":"className"]=yt,R&&(it.ref=R),j.createElement(F,it)}(N,U,P)}M.displayName=y;var N=wt.forwardRef(M);return N.attrs=x,N.componentStyle=D,N.displayName=y,N.shouldForwardProp=E,N.foldedComponentIds=i?ul(s.foldedComponentIds,s.styledComponentId):"",N.styledComponentId=_,N.target=i?s.target:e,Object.defineProperty(N,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(U){this._foldedDefaultProps=i?function(P){for(var G=[],C=1;C<arguments.length;C++)G[C-1]=arguments[C];for(var R=0,O=G;R<O.length;R++)a0(P,O[R],!0);return P}({},s.defaultProps,U):U}}),gv(N,function(){return".".concat(N.styledComponentId)}),r&&eC(N,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),N}function TS(e,t){for(var n=[e[0]],i=0,s=t.length;i<s;i+=1)n.push(t[i],e[i+1]);return n}var AS=function(e){return Object.assign(e,{isCss:!0})};function lC(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(bl(e)||pd(e))return AS(to(TS(vm,fd([e],t,!0))));var i=e;return t.length===0&&i.length===1&&typeof i[0]=="string"?to(i):AS(to(TS(i,t)))}function c0(e,t,n){if(n===void 0&&(n=Hc),!t)throw vl(1,t);var i=function(s){for(var r=[],l=1;l<arguments.length;l++)r[l-1]=arguments[l];return e(t,n,lC.apply(void 0,fd([s],r,!1)))};return i.attrs=function(s){return c0(e,t,Fn(Fn({},n),{attrs:Array.prototype.concat(n.attrs,s).filter(Boolean)}))},i.withConfig=function(s){return c0(e,t,Fn(Fn({},n),s))},i}var cC=function(e){return c0(jL,e)},B=cC;GR.forEach(function(e){B[e]=cC(e)});var VL=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=oC(t),Vg.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,i,s){var r=s(r0(to(this.rules,n,i,s)),""),l=this.componentId+t;i.insertRules(l,l,r)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,i,s){t>2&&Vg.registerId(this.componentId+t),this.removeStyles(t,i),this.createStyles(t,n,i,s)},e}();function uC(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=lC.apply(void 0,fd([e],t,!1)),s="sc-global-".concat(QR(JSON.stringify(i))),r=new VL(i,s),l=function(h){var d=l0(),p=wt.useContext(gd),y=wt.useRef(d.styleSheet.allocateGSInstance(s)).current;return d.styleSheet.server&&c(y,h,d.styleSheet,p,d.stylis),wt.useLayoutEffect(function(){if(!d.styleSheet.server)return c(y,h,d.styleSheet,p,d.stylis),function(){return r.removeStyles(y,d.styleSheet)}},[y,h,d.styleSheet,p,d.stylis]),null};function c(h,d,p,y,_){if(r.isStatic)r.renderStyles(h,sL,p,_);else{var x=Fn(Fn({},d),{theme:YR(d,y,l.defaultProps)});r.renderStyles(h,x,p,_)}}return wt.memo(l)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=()=>{};var kS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},zL=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],l=e[n++],c=e[n++],h=((s&7)<<18|(r&63)<<12|(l&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const r=e[n++],l=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|l&63)}}return t.join("")},dC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],l=s+1<e.length,c=l?e[s+1]:0,h=s+2<e.length,d=h?e[s+2]:0,p=r>>2,y=(r&3)<<4|c>>4;let _=(c&15)<<2|d>>6,x=d&63;h||(x=64,l||(_=64)),i.push(n[p],n[y],n[_],n[x])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(hC(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):zL(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],c=s<e.length?n[e.charAt(s)]:0;++s;const d=s<e.length?n[e.charAt(s)]:64;++s;const y=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||c==null||d==null||y==null)throw new FL;const _=r<<2|c>>4;if(i.push(_),d!==64){const x=c<<4&240|d>>2;if(i.push(x),y!==64){const E=d<<6&192|y;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class FL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BL=function(e){const t=hC(e);return dC.encodeByteArray(t,!0)},Ug=function(e){return BL(e).replace(/\./g,"")},fC=function(e){try{return dC.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=()=>$L().__FIREBASE_DEFAULTS__,HL=()=>{if(typeof process>"u"||typeof kS>"u")return;const e=kS.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},WL=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&fC(e[1]);return t&&JSON.parse(t)},xm=()=>{try{return UL()||qL()||HL()||WL()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},pC=e=>{var t,n;return(n=(t=xm())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},YL=e=>{const t=pC(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},gC=()=>{var e;return(e=xm())==null?void 0:e.config},mC=e=>{var t;return(t=xm())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yC(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Ug(JSON.stringify(n)),Ug(JSON.stringify(l)),""].join(".")}const Qh={};function XL(){const e={prod:[],emulator:[]};for(const t of Object.keys(Qh))Qh[t]?e.emulator.push(t):e.prod.push(t);return e}function QL(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let RS=!1;function _C(e,t){if(typeof window>"u"||typeof document>"u"||!cu(window.location.host)||Qh[e]===t||Qh[e]||RS)return;Qh[e]=t;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",r=XL().prod.length>0;function l(){const _=document.getElementById(i);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,x){_.setAttribute("width","24"),_.setAttribute("id",x),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{RS=!0,l()},_}function p(_,x){_.setAttribute("id",x),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=QL(i),x=n("text"),E=document.getElementById(x)||document.createElement("span"),S=n("learnmore"),T=document.getElementById(S)||document.createElement("a"),D=n("preprendIcon"),M=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const N=_.element;c(N),p(T,S);const U=d();h(M,D),N.append(M,E,T,U),document.body.appendChild(N)}r?(E.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ui())}function JL(){var t;const e=(t=xm())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ej(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function nj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ij(){const e=ui();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function sj(){return!JL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rj(){try{return typeof indexedDB=="object"}catch{return!1}}function aj(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)==null?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj="FirebaseError";class lr extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=oj,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ud.prototype.create)}}class Ud{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],l=r?lj(r,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new lr(s,c,i)}}function lj(e,t){return e.replace(cj,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const cj=/\{\$([^}]+)}/g;function uj(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function sa(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],l=t[s];if(CS(r)&&CS(l)){if(!sa(r,l))return!1}else if(r!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function CS(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Vh(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(r)}}),t}function Uh(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function hj(e,t){const n=new dj(e,t);return n.subscribe.bind(n)}class dj{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");fj(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=hb),s.error===void 0&&(s.error=hb),s.complete===void 0&&(s.complete=hb);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fj(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function hb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(e){return e&&e._delegate?e._delegate:e}class xl{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new GL;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mj(t))try{this.getOrInitializeService({instanceIdentifier:al})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=al){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=al){return this.instances.has(t)}getOptions(t=al){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(r);i===c&&l.resolve(s)}return s}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&t(r,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:gj(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=al){return this.component?this.component.multipleInstances?t:al:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gj(e){return e===al?void 0:e}function mj(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new pj(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(re||(re={}));const _j={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},bj=re.INFO,vj={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},xj=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=vj[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mv{constructor(t){this.name=t,this._logLevel=bj,this._logHandler=xj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?_j[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...t),this._logHandler(this,re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...t),this._logHandler(this,re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,re.INFO,...t),this._logHandler(this,re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,re.WARN,...t),this._logHandler(this,re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...t),this._logHandler(this,re.ERROR,...t)}}const wj=(e,t)=>t.some(n=>e instanceof n);let DS,MS;function Ej(){return DS||(DS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sj(){return MS||(MS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bC=new WeakMap,u0=new WeakMap,vC=new WeakMap,db=new WeakMap,yv=new WeakMap;function Tj(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",l)},r=()=>{n(eo(e.result)),s()},l=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&bC.set(n,e)}).catch(()=>{}),yv.set(t,e),t}function Aj(e){if(u0.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",l),e.removeEventListener("abort",l)},r=()=>{n(),s()},l=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",l),e.addEventListener("abort",l)});u0.set(e,t)}let h0={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return u0.get(e);if(t==="objectStoreNames")return e.objectStoreNames||vC.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eo(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function kj(e){h0=e(h0)}function Rj(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(fb(this),t,...n);return vC.set(i,t.sort?t.sort():[t]),eo(i)}:Sj().includes(e)?function(...t){return e.apply(fb(this),t),eo(bC.get(this))}:function(...t){return eo(e.apply(fb(this),t))}}function Cj(e){return typeof e=="function"?Rj(e):(e instanceof IDBTransaction&&Aj(e),wj(e,Ej())?new Proxy(e,h0):e)}function eo(e){if(e instanceof IDBRequest)return Tj(e);if(db.has(e))return db.get(e);const t=Cj(e);return t!==e&&(db.set(e,t),yv.set(t,e)),t}const fb=e=>yv.get(e);function Dj(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const l=indexedDB.open(e,t),c=eo(l);return i&&l.addEventListener("upgradeneeded",h=>{i(eo(l.result),h.oldVersion,h.newVersion,eo(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{r&&h.addEventListener("close",()=>r()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const Mj=["get","getKey","getAll","getAllKeys","count"],Ij=["put","add","delete","clear"],pb=new Map;function IS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(pb.get(t))return pb.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=Ij.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Mj.includes(n)))return;const r=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),s&&h.done]))[0]};return pb.set(t,r),r}kj(e=>({...e,get:(t,n,i)=>IS(t,n)||e.get(t,n,i),has:(t,n)=>!!IS(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Pj(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Pj(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const d0="@firebase/app",OS="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new mv("@firebase/app"),Nj="@firebase/app-compat",Lj="@firebase/analytics-compat",jj="@firebase/analytics",Vj="@firebase/app-check-compat",Uj="@firebase/app-check",zj="@firebase/auth",Fj="@firebase/auth-compat",Bj="@firebase/database",$j="@firebase/data-connect",qj="@firebase/database-compat",Hj="@firebase/functions",Wj="@firebase/functions-compat",Yj="@firebase/installations",Gj="@firebase/installations-compat",Kj="@firebase/messaging",Xj="@firebase/messaging-compat",Qj="@firebase/performance",Zj="@firebase/performance-compat",Jj="@firebase/remote-config",t4="@firebase/remote-config-compat",e4="@firebase/storage",n4="@firebase/storage-compat",i4="@firebase/firestore",s4="@firebase/ai",r4="@firebase/firestore-compat",a4="firebase",o4="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="[DEFAULT]",l4={[d0]:"fire-core",[Nj]:"fire-core-compat",[jj]:"fire-analytics",[Lj]:"fire-analytics-compat",[Uj]:"fire-app-check",[Vj]:"fire-app-check-compat",[zj]:"fire-auth",[Fj]:"fire-auth-compat",[Bj]:"fire-rtdb",[$j]:"fire-data-connect",[qj]:"fire-rtdb-compat",[Hj]:"fire-fn",[Wj]:"fire-fn-compat",[Yj]:"fire-iid",[Gj]:"fire-iid-compat",[Kj]:"fire-fcm",[Xj]:"fire-fcm-compat",[Qj]:"fire-perf",[Zj]:"fire-perf-compat",[Jj]:"fire-rc",[t4]:"fire-rc-compat",[e4]:"fire-gcs",[n4]:"fire-gcs-compat",[i4]:"fire-fst",[r4]:"fire-fst-compat",[s4]:"fire-vertex","fire-js":"fire-js",[a4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=new Map,c4=new Map,p0=new Map;function PS(e,t){try{e.container.addComponent(t)}catch(n){ra.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Wc(e){const t=e.name;if(p0.has(t))return ra.debug(`There were multiple attempts to register component ${t}.`),!1;p0.set(t,e);for(const n of md.values())PS(n,e);for(const n of c4.values())PS(n,e);return!0}function _v(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ss(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},no=new Ud("app","Firebase",u4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw no.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=o4;function xC(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:f0,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw no.create("bad-app-name",{appName:String(s)});if(n||(n=gC()),!n)throw no.create("no-options");const r=md.get(s);if(r){if(sa(n,r.options)&&sa(i,r.config))return r;throw no.create("duplicate-app",{appName:s})}const l=new yj(s);for(const h of p0.values())l.addComponent(h);const c=new h4(n,i,l);return md.set(s,c),c}function bv(e=f0){const t=md.get(e);if(!t&&e===f0&&gC())return xC();if(!t)throw no.create("no-app",{appName:e});return t}function d4(){return Array.from(md.values())}function io(e,t,n){let i=l4[e]??e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),r=t.match(/\s|\//);if(s||r){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&r&&l.push("and"),r&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ra.warn(l.join(" "));return}Wc(new xl(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="firebase-heartbeat-database",p4=1,yd="firebase-heartbeat-store";let gb=null;function wC(){return gb||(gb=Dj(f4,p4,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(yd)}catch(n){console.warn(n)}}}}).catch(e=>{throw no.create("idb-open",{originalErrorMessage:e.message})})),gb}async function g4(e){try{const n=(await wC()).transaction(yd),i=await n.objectStore(yd).get(EC(e));return await n.done,i}catch(t){if(t instanceof lr)ra.warn(t.message);else{const n=no.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ra.warn(n.message)}}}async function NS(e,t){try{const i=(await wC()).transaction(yd,"readwrite");await i.objectStore(yd).put(t,EC(e)),await i.done}catch(n){if(n instanceof lr)ra.warn(n.message);else{const i=no.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ra.warn(i.message)}}}function EC(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=1024,y4=30;class _4{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new v4(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=LS();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>y4){const l=x4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ra.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=LS(),{heartbeatsToSend:i,unsentEntries:s}=b4(this._heartbeatsCache.heartbeats),r=Ug(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return ra.warn(n),""}}}function LS(){return new Date().toISOString().substring(0,10)}function b4(e,t=m4){const n=[];let i=e.slice();for(const s of e){const r=n.find(l=>l.agent===s.agent);if(r){if(r.dates.push(s.date),jS(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),jS(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class v4{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rj()?aj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await g4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return NS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return NS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function jS(e){return Ug(JSON.stringify({version:2,heartbeats:e})).length}function x4(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(e){Wc(new xl("platform-logger",t=>new Oj(t),"PRIVATE")),Wc(new xl("heartbeat",t=>new _4(t),"PRIVATE")),io(d0,OS,e),io(d0,OS,"esm2020"),io("fire-js","")}w4("");var E4="firebase",S4="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */io(E4,S4,"app");var VS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var so,SC;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,R){function O(){}O.prototype=R.prototype,C.D=R.prototype,C.prototype=new O,C.prototype.constructor=C,C.C=function(V,$,H){for(var z=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)z[Ct-2]=arguments[Ct];return R.prototype[$].apply(V,z)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,R,O){O||(O=0);var V=Array(16);if(typeof R=="string")for(var $=0;16>$;++$)V[$]=R.charCodeAt(O++)|R.charCodeAt(O++)<<8|R.charCodeAt(O++)<<16|R.charCodeAt(O++)<<24;else for($=0;16>$;++$)V[$]=R[O++]|R[O++]<<8|R[O++]<<16|R[O++]<<24;R=C.g[0],O=C.g[1],$=C.g[2];var H=C.g[3],z=R+(H^O&($^H))+V[0]+3614090360&4294967295;R=O+(z<<7&4294967295|z>>>25),z=H+($^R&(O^$))+V[1]+3905402710&4294967295,H=R+(z<<12&4294967295|z>>>20),z=$+(O^H&(R^O))+V[2]+606105819&4294967295,$=H+(z<<17&4294967295|z>>>15),z=O+(R^$&(H^R))+V[3]+3250441966&4294967295,O=$+(z<<22&4294967295|z>>>10),z=R+(H^O&($^H))+V[4]+4118548399&4294967295,R=O+(z<<7&4294967295|z>>>25),z=H+($^R&(O^$))+V[5]+1200080426&4294967295,H=R+(z<<12&4294967295|z>>>20),z=$+(O^H&(R^O))+V[6]+2821735955&4294967295,$=H+(z<<17&4294967295|z>>>15),z=O+(R^$&(H^R))+V[7]+4249261313&4294967295,O=$+(z<<22&4294967295|z>>>10),z=R+(H^O&($^H))+V[8]+1770035416&4294967295,R=O+(z<<7&4294967295|z>>>25),z=H+($^R&(O^$))+V[9]+2336552879&4294967295,H=R+(z<<12&4294967295|z>>>20),z=$+(O^H&(R^O))+V[10]+4294925233&4294967295,$=H+(z<<17&4294967295|z>>>15),z=O+(R^$&(H^R))+V[11]+2304563134&4294967295,O=$+(z<<22&4294967295|z>>>10),z=R+(H^O&($^H))+V[12]+1804603682&4294967295,R=O+(z<<7&4294967295|z>>>25),z=H+($^R&(O^$))+V[13]+4254626195&4294967295,H=R+(z<<12&4294967295|z>>>20),z=$+(O^H&(R^O))+V[14]+2792965006&4294967295,$=H+(z<<17&4294967295|z>>>15),z=O+(R^$&(H^R))+V[15]+1236535329&4294967295,O=$+(z<<22&4294967295|z>>>10),z=R+($^H&(O^$))+V[1]+4129170786&4294967295,R=O+(z<<5&4294967295|z>>>27),z=H+(O^$&(R^O))+V[6]+3225465664&4294967295,H=R+(z<<9&4294967295|z>>>23),z=$+(R^O&(H^R))+V[11]+643717713&4294967295,$=H+(z<<14&4294967295|z>>>18),z=O+(H^R&($^H))+V[0]+3921069994&4294967295,O=$+(z<<20&4294967295|z>>>12),z=R+($^H&(O^$))+V[5]+3593408605&4294967295,R=O+(z<<5&4294967295|z>>>27),z=H+(O^$&(R^O))+V[10]+38016083&4294967295,H=R+(z<<9&4294967295|z>>>23),z=$+(R^O&(H^R))+V[15]+3634488961&4294967295,$=H+(z<<14&4294967295|z>>>18),z=O+(H^R&($^H))+V[4]+3889429448&4294967295,O=$+(z<<20&4294967295|z>>>12),z=R+($^H&(O^$))+V[9]+568446438&4294967295,R=O+(z<<5&4294967295|z>>>27),z=H+(O^$&(R^O))+V[14]+3275163606&4294967295,H=R+(z<<9&4294967295|z>>>23),z=$+(R^O&(H^R))+V[3]+4107603335&4294967295,$=H+(z<<14&4294967295|z>>>18),z=O+(H^R&($^H))+V[8]+1163531501&4294967295,O=$+(z<<20&4294967295|z>>>12),z=R+($^H&(O^$))+V[13]+2850285829&4294967295,R=O+(z<<5&4294967295|z>>>27),z=H+(O^$&(R^O))+V[2]+4243563512&4294967295,H=R+(z<<9&4294967295|z>>>23),z=$+(R^O&(H^R))+V[7]+1735328473&4294967295,$=H+(z<<14&4294967295|z>>>18),z=O+(H^R&($^H))+V[12]+2368359562&4294967295,O=$+(z<<20&4294967295|z>>>12),z=R+(O^$^H)+V[5]+4294588738&4294967295,R=O+(z<<4&4294967295|z>>>28),z=H+(R^O^$)+V[8]+2272392833&4294967295,H=R+(z<<11&4294967295|z>>>21),z=$+(H^R^O)+V[11]+1839030562&4294967295,$=H+(z<<16&4294967295|z>>>16),z=O+($^H^R)+V[14]+4259657740&4294967295,O=$+(z<<23&4294967295|z>>>9),z=R+(O^$^H)+V[1]+2763975236&4294967295,R=O+(z<<4&4294967295|z>>>28),z=H+(R^O^$)+V[4]+1272893353&4294967295,H=R+(z<<11&4294967295|z>>>21),z=$+(H^R^O)+V[7]+4139469664&4294967295,$=H+(z<<16&4294967295|z>>>16),z=O+($^H^R)+V[10]+3200236656&4294967295,O=$+(z<<23&4294967295|z>>>9),z=R+(O^$^H)+V[13]+681279174&4294967295,R=O+(z<<4&4294967295|z>>>28),z=H+(R^O^$)+V[0]+3936430074&4294967295,H=R+(z<<11&4294967295|z>>>21),z=$+(H^R^O)+V[3]+3572445317&4294967295,$=H+(z<<16&4294967295|z>>>16),z=O+($^H^R)+V[6]+76029189&4294967295,O=$+(z<<23&4294967295|z>>>9),z=R+(O^$^H)+V[9]+3654602809&4294967295,R=O+(z<<4&4294967295|z>>>28),z=H+(R^O^$)+V[12]+3873151461&4294967295,H=R+(z<<11&4294967295|z>>>21),z=$+(H^R^O)+V[15]+530742520&4294967295,$=H+(z<<16&4294967295|z>>>16),z=O+($^H^R)+V[2]+3299628645&4294967295,O=$+(z<<23&4294967295|z>>>9),z=R+($^(O|~H))+V[0]+4096336452&4294967295,R=O+(z<<6&4294967295|z>>>26),z=H+(O^(R|~$))+V[7]+1126891415&4294967295,H=R+(z<<10&4294967295|z>>>22),z=$+(R^(H|~O))+V[14]+2878612391&4294967295,$=H+(z<<15&4294967295|z>>>17),z=O+(H^($|~R))+V[5]+4237533241&4294967295,O=$+(z<<21&4294967295|z>>>11),z=R+($^(O|~H))+V[12]+1700485571&4294967295,R=O+(z<<6&4294967295|z>>>26),z=H+(O^(R|~$))+V[3]+2399980690&4294967295,H=R+(z<<10&4294967295|z>>>22),z=$+(R^(H|~O))+V[10]+4293915773&4294967295,$=H+(z<<15&4294967295|z>>>17),z=O+(H^($|~R))+V[1]+2240044497&4294967295,O=$+(z<<21&4294967295|z>>>11),z=R+($^(O|~H))+V[8]+1873313359&4294967295,R=O+(z<<6&4294967295|z>>>26),z=H+(O^(R|~$))+V[15]+4264355552&4294967295,H=R+(z<<10&4294967295|z>>>22),z=$+(R^(H|~O))+V[6]+2734768916&4294967295,$=H+(z<<15&4294967295|z>>>17),z=O+(H^($|~R))+V[13]+1309151649&4294967295,O=$+(z<<21&4294967295|z>>>11),z=R+($^(O|~H))+V[4]+4149444226&4294967295,R=O+(z<<6&4294967295|z>>>26),z=H+(O^(R|~$))+V[11]+3174756917&4294967295,H=R+(z<<10&4294967295|z>>>22),z=$+(R^(H|~O))+V[2]+718787259&4294967295,$=H+(z<<15&4294967295|z>>>17),z=O+(H^($|~R))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+($+(z<<21&4294967295|z>>>11))&4294967295,C.g[2]=C.g[2]+$&4294967295,C.g[3]=C.g[3]+H&4294967295}i.prototype.u=function(C,R){R===void 0&&(R=C.length);for(var O=R-this.blockSize,V=this.B,$=this.h,H=0;H<R;){if($==0)for(;H<=O;)s(this,C,H),H+=this.blockSize;if(typeof C=="string"){for(;H<R;)if(V[$++]=C.charCodeAt(H++),$==this.blockSize){s(this,V),$=0;break}}else for(;H<R;)if(V[$++]=C[H++],$==this.blockSize){s(this,V),$=0;break}}this.h=$,this.o+=R},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;var O=8*this.o;for(R=C.length-8;R<C.length;++R)C[R]=O&255,O/=256;for(this.u(C),C=Array(16),R=O=0;4>R;++R)for(var V=0;32>V;V+=8)C[O++]=this.g[R]>>>V&255;return C};function r(C,R){var O=c;return Object.prototype.hasOwnProperty.call(O,C)?O[C]:O[C]=R(C)}function l(C,R){this.h=R;for(var O=[],V=!0,$=C.length-1;0<=$;$--){var H=C[$]|0;V&&H==R||(O[$]=H,V=!1)}this.g=O}var c={};function h(C){return-128<=C&&128>C?r(C,function(R){return new l([R|0],0>R?-1:0)}):new l([C|0],0>C?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return y;if(0>C)return T(d(-C));for(var R=[],O=1,V=0;C>=O;V++)R[V]=C/O|0,O*=4294967296;return new l(R,0)}function p(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return T(p(C.substring(1),R));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=d(Math.pow(R,8)),V=y,$=0;$<C.length;$+=8){var H=Math.min(8,C.length-$),z=parseInt(C.substring($,$+H),R);8>H?(H=d(Math.pow(R,H)),V=V.j(H).add(d(z))):(V=V.j(O),V=V.add(d(z)))}return V}var y=h(0),_=h(1),x=h(16777216);e=l.prototype,e.m=function(){if(S(this))return-T(this).m();for(var C=0,R=1,O=0;O<this.g.length;O++){var V=this.i(O);C+=(0<=V?V:4294967296+V)*R,R*=4294967296}return C},e.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(E(this))return"0";if(S(this))return"-"+T(this).toString(C);for(var R=d(Math.pow(C,6)),O=this,V="";;){var $=U(O,R).g;O=D(O,$.j(R));var H=((0<O.g.length?O.g[0]:O.h)>>>0).toString(C);if(O=$,E(O))return H+V;for(;6>H.length;)H="0"+H;V=H+V}},e.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function E(C){if(C.h!=0)return!1;for(var R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function S(C){return C.h==-1}e.l=function(C){return C=D(this,C),S(C)?-1:E(C)?0:1};function T(C){for(var R=C.g.length,O=[],V=0;V<R;V++)O[V]=~C.g[V];return new l(O,~C.h).add(_)}e.abs=function(){return S(this)?T(this):this},e.add=function(C){for(var R=Math.max(this.g.length,C.g.length),O=[],V=0,$=0;$<=R;$++){var H=V+(this.i($)&65535)+(C.i($)&65535),z=(H>>>16)+(this.i($)>>>16)+(C.i($)>>>16);V=z>>>16,H&=65535,z&=65535,O[$]=z<<16|H}return new l(O,O[O.length-1]&-2147483648?-1:0)};function D(C,R){return C.add(T(R))}e.j=function(C){if(E(this)||E(C))return y;if(S(this))return S(C)?T(this).j(T(C)):T(T(this).j(C));if(S(C))return T(this.j(T(C)));if(0>this.l(x)&&0>C.l(x))return d(this.m()*C.m());for(var R=this.g.length+C.g.length,O=[],V=0;V<2*R;V++)O[V]=0;for(V=0;V<this.g.length;V++)for(var $=0;$<C.g.length;$++){var H=this.i(V)>>>16,z=this.i(V)&65535,Ct=C.i($)>>>16,Q=C.i($)&65535;O[2*V+2*$]+=z*Q,M(O,2*V+2*$),O[2*V+2*$+1]+=H*Q,M(O,2*V+2*$+1),O[2*V+2*$+1]+=z*Ct,M(O,2*V+2*$+1),O[2*V+2*$+2]+=H*Ct,M(O,2*V+2*$+2)}for(V=0;V<R;V++)O[V]=O[2*V+1]<<16|O[2*V];for(V=R;V<2*R;V++)O[V]=0;return new l(O,0)};function M(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function N(C,R){this.g=C,this.h=R}function U(C,R){if(E(R))throw Error("division by zero");if(E(C))return new N(y,y);if(S(C))return R=U(T(C),R),new N(T(R.g),T(R.h));if(S(R))return R=U(C,T(R)),new N(T(R.g),R.h);if(30<C.g.length){if(S(C)||S(R))throw Error("slowDivide_ only works with positive integers.");for(var O=_,V=R;0>=V.l(C);)O=P(O),V=P(V);var $=G(O,1),H=G(V,1);for(V=G(V,2),O=G(O,2);!E(V);){var z=H.add(V);0>=z.l(C)&&($=$.add(O),H=z),V=G(V,1),O=G(O,1)}return R=D(C,$.j(R)),new N($,R)}for($=y;0<=C.l(R);){for(O=Math.max(1,Math.floor(C.m()/R.m())),V=Math.ceil(Math.log(O)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),H=d(O),z=H.j(R);S(z)||0<z.l(C);)O-=V,H=d(O),z=H.j(R);E(H)&&(H=_),$=$.add(H),C=D(C,z)}return new N($,C)}e.A=function(C){return U(this,C).h},e.and=function(C){for(var R=Math.max(this.g.length,C.g.length),O=[],V=0;V<R;V++)O[V]=this.i(V)&C.i(V);return new l(O,this.h&C.h)},e.or=function(C){for(var R=Math.max(this.g.length,C.g.length),O=[],V=0;V<R;V++)O[V]=this.i(V)|C.i(V);return new l(O,this.h|C.h)},e.xor=function(C){for(var R=Math.max(this.g.length,C.g.length),O=[],V=0;V<R;V++)O[V]=this.i(V)^C.i(V);return new l(O,this.h^C.h)};function P(C){for(var R=C.g.length+1,O=[],V=0;V<R;V++)O[V]=C.i(V)<<1|C.i(V-1)>>>31;return new l(O,C.h)}function G(C,R){var O=R>>5;R%=32;for(var V=C.g.length-O,$=[],H=0;H<V;H++)$[H]=0<R?C.i(H+O)>>>R|C.i(H+O+1)<<32-R:C.i(H+O);return new l($,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,SC=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=p,so=l}).apply(typeof VS<"u"?VS:typeof self<"u"?self:typeof window<"u"?window:{});var Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TC,zh,AC,gg,g0,kC,RC,CC;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,w,A){return g==Array.prototype||g==Object.prototype||(g[w]=A.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ap=="object"&&Ap];for(var w=0;w<g.length;++w){var A=g[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var i=n(this);function s(g,w){if(w)t:{var A=i;g=g.split(".");for(var L=0;L<g.length-1;L++){var J=g[L];if(!(J in A))break t;A=A[J]}g=g[g.length-1],L=A[g],w=w(L),w!=L&&w!=null&&t(A,g,{configurable:!0,writable:!0,value:w})}}function r(g,w){g instanceof String&&(g+="");var A=0,L=!1,J={next:function(){if(!L&&A<g.length){var ct=A++;return{value:w(ct,g[ct]),done:!1}}return L=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}s("Array.prototype.values",function(g){return g||function(){return r(this,function(w,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(g){var w=typeof g;return w=w!="object"?w:g?Array.isArray(g)?"array":w:"null",w=="array"||w=="object"&&typeof g.length=="number"}function d(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}function p(g,w,A){return g.call.apply(g.bind,arguments)}function y(g,w,A){if(!g)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,L),g.apply(w,J)}}return function(){return g.apply(w,arguments)}}function _(g,w,A){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,_.apply(null,arguments)}function x(g,w){var A=Array.prototype.slice.call(arguments,1);return function(){var L=A.slice();return L.push.apply(L,arguments),g.apply(this,L)}}function E(g,w){function A(){}A.prototype=w.prototype,g.aa=w.prototype,g.prototype=new A,g.prototype.constructor=g,g.Qb=function(L,J,ct){for(var vt=Array(arguments.length-2),le=2;le<arguments.length;le++)vt[le-2]=arguments[le];return w.prototype[J].apply(L,vt)}}function S(g){const w=g.length;if(0<w){const A=Array(w);for(let L=0;L<w;L++)A[L]=g[L];return A}return[]}function T(g,w){for(let A=1;A<arguments.length;A++){const L=arguments[A];if(h(L)){const J=g.length||0,ct=L.length||0;g.length=J+ct;for(let vt=0;vt<ct;vt++)g[J+vt]=L[vt]}else g.push(L)}}class D{constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function M(g){return/^[\s\xa0]*$/.test(g)}function N(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function U(g){return U[" "](g),g}U[" "]=function(){};var P=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function G(g,w,A){for(const L in g)w.call(A,g[L],L,g)}function C(g,w){for(const A in g)w.call(void 0,g[A],A,g)}function R(g){const w={};for(const A in g)w[A]=g[A];return w}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(g,w){let A,L;for(let J=1;J<arguments.length;J++){L=arguments[J];for(A in L)g[A]=L[A];for(let ct=0;ct<O.length;ct++)A=O[ct],Object.prototype.hasOwnProperty.call(L,A)&&(g[A]=L[A])}}function $(g){var w=1;g=g.split(":");const A=[];for(;0<w&&g.length;)A.push(g.shift()),w--;return g.length&&A.push(g.join(":")),A}function H(g){c.setTimeout(()=>{throw g},0)}function z(){var g=nt;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}class Ct{constructor(){this.h=this.g=null}add(w,A){const L=Q.get();L.set(w,A),this.h?this.h.next=L:this.g=L,this.h=L}}var Q=new D(()=>new q,g=>g.reset());class q{constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let K,ot=!1,nt=new Ct,F=()=>{const g=c.Promise.resolve(void 0);K=()=>{g.then(it)}};var it=()=>{for(var g;g=z();){try{g.h.call(g.g)}catch(A){H(A)}var w=Q;w.j(g),100>w.h&&(w.h++,g.next=w.g,w.g=g)}ot=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ht(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const A=()=>{};c.addEventListener("test",A,w),c.removeEventListener("test",A,w)}catch{}return g}();function Et(g,w){if(ht.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var A=this.type=g.type,L=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget){if(P){t:{try{U(w.nodeName);var J=!0;break t}catch{}J=!1}J||(w=null)}}else A=="mouseover"?w=g.fromElement:A=="mouseout"&&(w=g.toElement);this.relatedTarget=w,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Y[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Et.aa.h.call(this)}}E(Et,ht);var Y={2:"touch",3:"pen",4:"mouse"};Et.prototype.h=function(){Et.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var lt="closure_listenable_"+(1e6*Math.random()|0),ut=0;function dt(g,w,A,L,J){this.listener=g,this.proxy=null,this.src=w,this.type=A,this.capture=!!L,this.ha=J,this.key=++ut,this.da=this.fa=!1}function St(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ft(g){this.src=g,this.g={},this.h=0}Ft.prototype.add=function(g,w,A,L,J){var ct=g.toString();g=this.g[ct],g||(g=this.g[ct]=[],this.h++);var vt=me(g,w,L,J);return-1<vt?(w=g[vt],A||(w.fa=!1)):(w=new dt(w,this.src,ct,!!L,J),w.fa=A,g.push(w)),w};function Qt(g,w){var A=w.type;if(A in g.g){var L=g.g[A],J=Array.prototype.indexOf.call(L,w,void 0),ct;(ct=0<=J)&&Array.prototype.splice.call(L,J,1),ct&&(St(w),g.g[A].length==0&&(delete g.g[A],g.h--))}}function me(g,w,A,L){for(var J=0;J<g.length;++J){var ct=g[J];if(!ct.da&&ct.listener==w&&ct.capture==!!A&&ct.ha==L)return J}return-1}var Jn="closure_lm_"+(1e6*Math.random()|0),Bi={};function cs(g,w,A,L,J){if(Array.isArray(w)){for(var ct=0;ct<w.length;ct++)cs(g,w[ct],A,L,J);return null}return A=hi(A),g&&g[lt]?g.K(w,A,d(L)?!!L.capture:!1,J):Xe(g,w,A,!1,L,J)}function Xe(g,w,A,L,J,ct){if(!w)throw Error("Invalid event type");var vt=d(J)?!!J.capture:!!J,le=Tt(g);if(le||(g[Jn]=le=new Ft(g)),A=le.add(w,A,L,vt,ct),A.proxy)return A;if(L=hr(),A.proxy=L,L.src=g,L.listener=A,g.addEventListener)yt||(J=vt),J===void 0&&(J=!1),g.addEventListener(w.toString(),L,J);else if(g.attachEvent)g.attachEvent(Mt(w.toString()),L);else if(g.addListener&&g.removeListener)g.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return A}function hr(){function g(A){return w.call(g.src,g.listener,A)}const w=At;return g}function dr(g,w,A,L,J){if(Array.isArray(w))for(var ct=0;ct<w.length;ct++)dr(g,w[ct],A,L,J);else L=d(L)?!!L.capture:!!L,A=hi(A),g&&g[lt]?(g=g.i,w=String(w).toString(),w in g.g&&(ct=g.g[w],A=me(ct,A,L,J),-1<A&&(St(ct[A]),Array.prototype.splice.call(ct,A,1),ct.length==0&&(delete g.g[w],g.h--)))):g&&(g=Tt(g))&&(w=g.g[w.toString()],g=-1,w&&(g=me(w,A,L,J)),(A=-1<g?w[g]:null)&&bt(A))}function bt(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[lt])Qt(w.i,g);else{var A=g.type,L=g.proxy;w.removeEventListener?w.removeEventListener(A,L,g.capture):w.detachEvent?w.detachEvent(Mt(A),L):w.addListener&&w.removeListener&&w.removeListener(L),(A=Tt(w))?(Qt(A,g),A.h==0&&(A.src=null,w[Jn]=null)):St(g)}}}function Mt(g){return g in Bi?Bi[g]:Bi[g]="on"+g}function At(g,w){if(g.da)g=!0;else{w=new Et(w,this);var A=g.listener,L=g.ha||g.src;g.fa&&bt(g),g=A.call(L,w)}return g}function Tt(g){return g=g[Jn],g instanceof Ft?g:null}var te="__closure_events_fn_"+(1e9*Math.random()>>>0);function hi(g){return typeof g=="function"?g:(g[te]||(g[te]=function(w){return g.handleEvent(w)}),g[te])}function fe(){at.call(this),this.i=new Ft(this),this.M=this,this.F=null}E(fe,at),fe.prototype[lt]=!0,fe.prototype.removeEventListener=function(g,w,A,L){dr(this,g,w,A,L)};function ee(g,w){var A,L=g.F;if(L)for(A=[];L;L=L.F)A.push(L);if(g=g.M,L=w.type||w,typeof w=="string")w=new ht(w,g);else if(w instanceof ht)w.target=w.target||g;else{var J=w;w=new ht(L,g),V(w,J)}if(J=!0,A)for(var ct=A.length-1;0<=ct;ct--){var vt=w.g=A[ct];J=di(vt,L,!0,w)&&J}if(vt=w.g=g,J=di(vt,L,!0,w)&&J,J=di(vt,L,!1,w)&&J,A)for(ct=0;ct<A.length;ct++)vt=w.g=A[ct],J=di(vt,L,!1,w)&&J}fe.prototype.N=function(){if(fe.aa.N.call(this),this.i){var g=this.i,w;for(w in g.g){for(var A=g.g[w],L=0;L<A.length;L++)St(A[L]);delete g.g[w],g.h--}}this.F=null},fe.prototype.K=function(g,w,A,L){return this.i.add(String(g),w,!1,A,L)},fe.prototype.L=function(g,w,A,L){return this.i.add(String(g),w,!0,A,L)};function di(g,w,A,L){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();for(var J=!0,ct=0;ct<w.length;++ct){var vt=w[ct];if(vt&&!vt.da&&vt.capture==A){var le=vt.listener,wn=vt.ha||vt.src;vt.fa&&Qt(g.i,vt),J=le.call(wn,L)!==!1&&J}}return J&&!L.defaultPrevented}function Dn(g,w,A){if(typeof g=="function")A&&(g=_(g,A));else if(g&&typeof g.handleEvent=="function")g=_(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(g,w||0)}function Pl(g){g.g=Dn(()=>{g.g=null,g.i&&(g.i=!1,Pl(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}class bu extends at{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Pl(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fr(g){at.call(this),this.h=g,this.g={}}E(fr,at);var pr=[];function gr(g){G(g.g,function(w,A){this.g.hasOwnProperty(A)&&bt(w)},g),g.g={}}fr.prototype.N=function(){fr.aa.N.call(this),gr(this)},fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ki=c.JSON.stringify,mr=c.JSON.parse,yr=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function ha(){}ha.prototype.h=null;function Ht(g){return g.h||(g.h=g.i())}function _e(){}var Vt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function de(){ht.call(this,"d")}E(de,ht);function Mn(){ht.call(this,"c")}E(Mn,ht);var Wt={},So=null;function Cs(){return So=So||new fe}Wt.La="serverreachability";function da(g){ht.call(this,Wt.La,g)}E(da,ht);function $i(g){const w=Cs();ee(w,new da(w))}Wt.STAT_EVENT="statevent";function fa(g,w){ht.call(this,Wt.STAT_EVENT,g),this.stat=w}E(fa,ht);function Fe(g){const w=Cs();ee(w,new fa(w,g))}Wt.Ma="timingevent";function xn(g,w){ht.call(this,Wt.Ma,g),this.size=w}E(xn,ht);function cn(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},w)}function qi(){this.g=!0}qi.prototype.xa=function(){this.g=!1};function vu(g,w,A,L,J,ct){g.info(function(){if(g.g)if(ct)for(var vt="",le=ct.split("&"),wn=0;wn<le.length;wn++){var ce=le[wn].split("=");if(1<ce.length){var On=ce[0];ce=ce[1];var En=On.split("_");vt=2<=En.length&&En[1]=="type"?vt+(On+"="+ce+"&"):vt+(On+"=redacted&")}}else vt=null;else vt=ct;return"XMLHTTP REQ ("+L+") [attempt "+J+"]: "+w+`
`+A+`
`+vt})}function ey(g,w,A,L,J,ct,vt){g.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+J+"]: "+w+`
`+A+`
`+ct+" "+vt})}function pa(g,w,A,L){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+To(g,A)+(L?" "+L:"")})}function nf(g,w){g.info(function(){return"TIMEOUT: "+w})}qi.prototype.info=function(){};function To(g,w){if(!g.g)return w;if(!w)return null;try{var A=JSON.parse(w);if(A){for(g=0;g<A.length;g++)if(Array.isArray(A[g])){var L=A[g];if(!(2>L.length)){var J=L[1];if(Array.isArray(J)&&!(1>J.length)){var ct=J[0];if(ct!="noop"&&ct!="stop"&&ct!="close")for(var vt=1;vt<J.length;vt++)J[vt]=""}}}}return ki(A)}catch{return w}}var ga={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_r={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ds;function Ms(){}E(Ms,ha),Ms.prototype.g=function(){return new XMLHttpRequest},Ms.prototype.i=function(){return{}},Ds=new Ms;function fi(g,w,A,L){this.j=g,this.i=w,this.l=A,this.R=L||1,this.U=new fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nn}function nn(){this.i=null,this.g="",this.h=!1}var xu={},Nl={};function us(g,w,A){g.L=1,g.v=Do(Ri(w)),g.m=A,g.P=!0,br(g,null)}function br(g,w){g.F=Date.now(),Ao(g),g.A=Ri(g.v);var A=g.A,L=g.R;Array.isArray(L)||(L=[String(L)]),ku(A.i,"t",L),g.C=0,A=g.j.J,g.h=new nn,g.g=bf(g.j,A?w:null,!g.m),0<g.O&&(g.M=new bu(_(g.Y,g,g.g),g.O)),w=g.U,A=g.g,L=g.ca;var J="readystatechange";Array.isArray(J)||(J&&(pr[0]=J.toString()),J=pr);for(var ct=0;ct<J.length;ct++){var vt=cs(A,J[ct],L||w.handleEvent,!1,w.h||w);if(!vt)break;w.g[vt.key]=vt}w=g.H?R(g.H):{},g.m?(g.u||(g.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,w)):(g.u="GET",g.g.ea(g.A,g.u,null,w)),$i(),vu(g.i,g.u,g.A,g.l,g.R,g.m)}fi.prototype.ca=function(g){g=g.target;const w=this.M;w&&Gi(g)==3?w.j():this.Y(g)},fi.prototype.Y=function(g){try{if(g==this.g)t:{const En=Gi(this.g);var w=this.g.Ba();const kr=this.g.Z();if(!(3>En)&&(En!=3||this.g&&(this.h.h||this.g.oa()||hf(this.g)))){this.J||En!=4||w==7||(w==8||0>=kr?$i(3):$i(2)),ma(this);var A=this.g.Z();this.X=A;e:if(sf(this)){var L=hf(this.g);g="";var J=L.length,ct=Gi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$n(this),Is(this);var vt="";break e}this.h.i=new c.TextDecoder}for(w=0;w<J;w++)this.h.h=!0,g+=this.h.i.decode(L[w],{stream:!(ct&&w==J-1)});L.length=0,this.h.g+=g,this.C=0,vt=this.h.g}else vt=this.g.oa();if(this.o=A==200,ey(this.i,this.u,this.A,this.l,this.R,En,A),this.o){if(this.T&&!this.K){e:{if(this.g){var le,wn=this.g;if((le=wn.g?wn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(le)){var ce=le;break e}}ce=null}if(A=ce)pa(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ko(this,A);else{this.o=!1,this.s=3,Fe(12),$n(this),Is(this);break t}}if(this.P){A=!0;let qn;for(;!this.J&&this.C<vt.length;)if(qn=rf(this,vt),qn==Nl){En==4&&(this.s=4,Fe(14),A=!1),pa(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==xu){this.s=4,Fe(15),pa(this.i,this.l,vt,"[Invalid Chunk]"),A=!1;break}else pa(this.i,this.l,qn,null),ko(this,qn);if(sf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),En!=4||vt.length!=0||this.h.h||(this.s=1,Fe(16),A=!1),this.o=this.o&&A,!A)pa(this.i,this.l,vt,"[Invalid Chunked Response]"),$n(this),Is(this);else if(0<vt.length&&!this.W){this.W=!0;var On=this.j;On.g==this&&On.ba&&!On.M&&(On.j.info("Great, no buffering proxy detected. Bytes received: "+vt.length),Vo(On),On.M=!0,Fe(11))}}else pa(this.i,this.l,vt,null),ko(this,vt);En==4&&$n(this),this.o&&!this.J&&(En==4?mf(this.j,this):(this.o=!1,Ao(this)))}else ay(this.g),A==400&&0<vt.indexOf("Unknown SID")?(this.s=3,Fe(12)):(this.s=0,Fe(13)),$n(this),Is(this)}}}catch{}finally{}};function sf(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function rf(g,w){var A=g.C,L=w.indexOf(`
`,A);return L==-1?Nl:(A=Number(w.substring(A,L)),isNaN(A)?xu:(L+=1,L+A>w.length?Nl:(w=w.slice(L,L+A),g.C=L+A,w)))}fi.prototype.cancel=function(){this.J=!0,$n(this)};function Ao(g){g.S=Date.now()+g.I,af(g,g.I)}function af(g,w){if(g.B!=null)throw Error("WatchDog timer not null");g.B=cn(_(g.ba,g),w)}function ma(g){g.B&&(c.clearTimeout(g.B),g.B=null)}fi.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(nf(this.i,this.A),this.L!=2&&($i(),Fe(17)),$n(this),this.s=2,Is(this)):af(this,this.S-g)};function Is(g){g.j.G==0||g.J||mf(g.j,g)}function $n(g){ma(g);var w=g.M;w&&typeof w.ma=="function"&&w.ma(),g.M=null,gr(g.U),g.g&&(w=g.g,g.g=null,w.abort(),w.ma())}function ko(g,w){try{var A=g.j;if(A.G!=0&&(A.g==g||wu(A.h,g))){if(!g.K&&wu(A.h,g)&&A.G==3){try{var L=A.Da.g.parse(w)}catch{L=null}if(Array.isArray(L)&&L.length==3){var J=L;if(J[0]==0){t:if(!A.u){if(A.g)if(A.g.F+3e3<g.F)Yl(A),Hl(A);else break t;Iu(A),Fe(18)}}else A.za=J[1],0<A.za-A.T&&37500>J[2]&&A.F&&A.v==0&&!A.C&&(A.C=cn(_(A.Za,A),6e3));if(1>=jl(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Ar(A,11)}else if((g.K||A.g==g)&&Yl(A),!M(w))for(J=A.Da.g.parse(w),w=0;w<J.length;w++){let ce=J[w];if(A.T=ce[0],ce=ce[1],A.G==2)if(ce[0]=="c"){A.K=ce[1],A.ia=ce[2];const On=ce[3];On!=null&&(A.la=On,A.j.info("VER="+A.la));const En=ce[4];En!=null&&(A.Aa=En,A.j.info("SVER="+A.Aa));const kr=ce[5];kr!=null&&typeof kr=="number"&&0<kr&&(L=1.5*kr,A.L=L,A.j.info("backChannelRequestTimeoutMs_="+L)),L=A;const qn=g.g;if(qn){const Us=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Us){var ct=L.h;ct.g||Us.indexOf("spdy")==-1&&Us.indexOf("quic")==-1&&Us.indexOf("h2")==-1||(ct.j=ct.l,ct.g=new Set,ct.h&&(Vl(ct,ct.h),ct.h=null))}if(L.D){const Pu=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Pu&&(L.ya=Pu,Ae(L.I,L.D,Pu))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-g.F,A.j.info("Handshake RTT: "+A.R+"ms")),L=A;var vt=g;if(L.qa=_f(L,L.J?L.ia:null,L.W),vt.K){pi(L.h,vt);var le=vt,wn=L.L;wn&&(le.I=wn),le.B&&(ma(le),Ao(le)),L.g=vt}else pf(L);0<A.i.length&&Wl(A)}else ce[0]!="stop"&&ce[0]!="close"||Ar(A,7);else A.G==3&&(ce[0]=="stop"||ce[0]=="close"?ce[0]=="stop"?Ar(A,7):Du(A):ce[0]!="noop"&&A.l&&A.l.ta(ce),A.v=0)}}$i(4)}catch{}}var of=class{constructor(g,w){this.g=g,this.map=w}};function vr(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ll(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function jl(g){return g.h?1:g.g?g.g.size:0}function wu(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}function Vl(g,w){g.g?g.g.add(w):g.h=w}function pi(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}vr.prototype.cancel=function(){if(this.i=Eu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Eu(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const A of g.g.values())w=w.concat(A.D);return w}return S(g.i)}function ny(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var w=[],A=g.length,L=0;L<A;L++)w.push(g[L]);return w}w=[],A=0;for(L in g)w[A++]=g[L];return w}function Ul(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var w=[];g=g.length;for(var A=0;A<g;A++)w.push(A);return w}w=[],A=0;for(const L in g)w[A++]=L;return w}}}function Su(g,w){if(g.forEach&&typeof g.forEach=="function")g.forEach(w,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,w,void 0);else for(var A=Ul(g),L=ny(g),J=L.length,ct=0;ct<J;ct++)w.call(void 0,L[ct],A&&A[ct],g)}var Ro=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iy(g,w){if(g){g=g.split("&");for(var A=0;A<g.length;A++){var L=g[A].indexOf("="),J=null;if(0<=L){var ct=g[A].substring(0,L);J=g[A].substring(L+1)}else ct=g[A];w(ct,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function un(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof un){this.h=g.h,Co(this,g.j),this.o=g.o,this.g=g.g,ya(this,g.s),this.l=g.l;var w=g.i,A=new wr;A.i=w.i,w.g&&(A.g=new Map(w.g),A.h=w.h),xr(this,A),this.m=g.m}else g&&(w=String(g).match(Ro))?(this.h=!1,Co(this,w[1]||"",!0),this.o=Hi(w[2]||""),this.g=Hi(w[3]||"",!0),ya(this,w[4]),this.l=Hi(w[5]||"",!0),xr(this,w[6]||"",!0),this.m=Hi(w[7]||"")):(this.h=!1,this.i=new wr(null,this.h))}un.prototype.toString=function(){var g=[],w=this.j;w&&g.push(Mo(w,Tu,!0),":");var A=this.g;return(A||w=="file")&&(g.push("//"),(w=this.o)&&g.push(Mo(w,Tu,!0),"@"),g.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&g.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&g.push("/"),g.push(Mo(A,A.charAt(0)=="/"?sy:Au,!0))),(A=this.i.toString())&&g.push("?",A),(A=this.m)&&g.push("#",Mo(A,zl)),g.join("")};function Ri(g){return new un(g)}function Co(g,w,A){g.j=A?Hi(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}function ya(g,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);g.s=w}else g.s=null}function xr(g,w,A){w instanceof wr?(g.i=w,cf(g.i,g.h)):(A||(w=Mo(w,ry)),g.i=new wr(w,g.h))}function Ae(g,w,A){g.i.set(w,A)}function Do(g){return Ae(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Hi(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Mo(g,w,A){return typeof g=="string"?(g=encodeURI(g).replace(w,lf),A&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function lf(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Tu=/[#\/\?@]/g,Au=/[#\?:]/g,sy=/[#\?]/g,ry=/[#\?@]/g,zl=/#/g;function wr(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}function Wi(g){g.g||(g.g=new Map,g.h=0,g.i&&iy(g.i,function(w,A){g.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}e=wr.prototype,e.add=function(g,w){Wi(this),this.i=null,g=Os(this,g);var A=this.g.get(g);return A||this.g.set(g,A=[]),A.push(w),this.h+=1,this};function Er(g,w){Wi(g),w=Os(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}function Sr(g,w){return Wi(g),w=Os(g,w),g.g.has(w)}e.forEach=function(g,w){Wi(this),this.g.forEach(function(A,L){A.forEach(function(J){g.call(w,J,L,this)},this)},this)},e.na=function(){Wi(this);const g=Array.from(this.g.values()),w=Array.from(this.g.keys()),A=[];for(let L=0;L<w.length;L++){const J=g[L];for(let ct=0;ct<J.length;ct++)A.push(w[L])}return A},e.V=function(g){Wi(this);let w=[];if(typeof g=="string")Sr(this,g)&&(w=w.concat(this.g.get(Os(this,g))));else{g=Array.from(this.g.values());for(let A=0;A<g.length;A++)w=w.concat(g[A])}return w},e.set=function(g,w){return Wi(this),this.i=null,g=Os(this,g),Sr(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},e.get=function(g,w){return g?(g=this.V(g),0<g.length?String(g[0]):w):w};function ku(g,w,A){Er(g,w),0<A.length&&(g.i=null,g.g.set(Os(g,w),S(A)),g.h+=A.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(var A=0;A<w.length;A++){var L=w[A];const ct=encodeURIComponent(String(L)),vt=this.V(L);for(L=0;L<vt.length;L++){var J=ct;vt[L]!==""&&(J+="="+encodeURIComponent(String(vt[L]))),g.push(J)}}return this.i=g.join("&")};function Os(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}function cf(g,w){w&&!g.j&&(Wi(g),g.i=null,g.g.forEach(function(A,L){var J=L.toLowerCase();L!=J&&(Er(this,L),ku(this,J,A))},g)),g.j=w}function Io(g,w){const A=new qi;if(c.Image){const L=new Image;L.onload=x(Yi,A,"TestLoadImage: loaded",!0,w,L),L.onerror=x(Yi,A,"TestLoadImage: error",!1,w,L),L.onabort=x(Yi,A,"TestLoadImage: abort",!1,w,L),L.ontimeout=x(Yi,A,"TestLoadImage: timeout",!1,w,L),c.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=g}else w(!1)}function hs(g,w){const A=new qi,L=new AbortController,J=setTimeout(()=>{L.abort(),Yi(A,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:L.signal}).then(ct=>{clearTimeout(J),ct.ok?Yi(A,"TestPingServer: ok",!0,w):Yi(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(J),Yi(A,"TestPingServer: error",!1,w)})}function Yi(g,w,A,L,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),L(A)}catch{}}function Oo(){this.g=new yr}function Ps(g,w,A){const L=A||"";try{Su(g,function(J,ct){let vt=J;d(J)&&(vt=ki(J)),w.push(L+ct+"="+encodeURIComponent(vt))})}catch(J){throw w.push(L+"type="+encodeURIComponent("_badmap")),J}}function _a(g){this.l=g.Ub||null,this.j=g.eb||!1}E(_a,ha),_a.prototype.g=function(){return new Tr(this.l,this.j)},_a.prototype.i=function(g){return function(){return g}}({});function Tr(g,w){fe.call(this),this.D=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Tr,fe),e=Tr.prototype,e.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=w,this.readyState=1,Ls(this)},e.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(w.body=g),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},e.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ls(this)),this.g&&(this.readyState=3,Ls(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ru(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ru(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}e.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?Ns(this):Ls(this),this.readyState==3&&Ru(this)}},e.Ra=function(g){this.g&&(this.response=this.responseText=g,Ns(this))},e.Qa=function(g){this.g&&(this.response=g,Ns(this))},e.ga=function(){this.g&&Ns(this)};function Ns(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Ls(g)}e.setRequestHeader=function(g,w){this.u.append(g,w)},e.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,g.push(A[0]+": "+A[1]),A=w.next();return g.join(`\r
`)};function Ls(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Cu(g){let w="";return G(g,function(A,L){w+=L,w+=":",w+=A,w+=`\r
`}),w}function In(g,w,A){t:{for(L in A){var L=!1;break t}L=!0}L||(A=Cu(A),typeof g=="string"?A!=null&&encodeURIComponent(String(A)):Ae(g,w,A))}function be(g){fe.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(be,fe);var Fl=/^https?$/i,Po=["POST","PUT"];e=be.prototype,e.Ha=function(g){this.J=g},e.ea=function(g,w,A,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ds.g(),this.v=this.o?Ht(this.o):Ht(Ds),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(ct){uf(this,ct);return}if(g=A||"",A=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var J in L)A.set(J,L[J]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const ct of L.keys())A.set(ct,L.get(ct));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(A.keys()).find(ct=>ct.toLowerCase()=="content-type"),J=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Po,w,void 0))||L||J||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ct,vt]of A)this.g.setRequestHeader(ct,vt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{No(this),this.u=!0,this.g.send(g),this.u=!1}catch(ct){uf(this,ct)}};function uf(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.m=5,Bl(g),js(g)}function Bl(g){g.A||(g.A=!0,ee(g,"complete"),ee(g,"error"))}e.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,ee(this,"complete"),ee(this,"abort"),js(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),js(this,!0)),be.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?$l(this):this.bb())},e.bb=function(){$l(this)};function $l(g){if(g.h&&typeof l<"u"&&(!g.v[1]||Gi(g)!=4||g.Z()!=2)){if(g.u&&Gi(g)==4)Dn(g.Ea,0,g);else if(ee(g,"readystatechange"),Gi(g)==4){g.h=!1;try{const vt=g.Z();t:switch(vt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var A;if(!(A=w)){var L;if(L=vt===0){var J=String(g.D).match(Ro)[1]||null;!J&&c.self&&c.self.location&&(J=c.self.location.protocol.slice(0,-1)),L=!Fl.test(J?J.toLowerCase():"")}A=L}if(A)ee(g,"complete"),ee(g,"success");else{g.m=6;try{var ct=2<Gi(g)?g.g.statusText:""}catch{ct=""}g.l=ct+" ["+g.Z()+"]",Bl(g)}}finally{js(g)}}}}function js(g,w){if(g.g){No(g);const A=g.g,L=g.v[0]?()=>{}:null;g.g=null,g.v=null,w||ee(g,"ready");try{A.onreadystatechange=L}catch{}}}function No(g){g.I&&(c.clearTimeout(g.I),g.I=null)}e.isActive=function(){return!!this.g};function Gi(g){return g.g?g.g.readyState:0}e.Z=function(){try{return 2<Gi(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),mr(w)}};function hf(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ay(g){const w={};g=(g.g&&2<=Gi(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<g.length;L++){if(M(g[L]))continue;var A=$(g[L]);const J=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ct=w[J]||[];w[J]=ct,ct.push(A)}C(w,function(L){return L.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lo(g,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[g]||w}function ql(g){this.Aa=0,this.i=[],this.j=new qi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lo("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lo("baseRetryDelayMs",5e3,g),this.cb=Lo("retryDelaySeedMs",1e4,g),this.Wa=Lo("forwardChannelMaxRetries",2,g),this.wa=Lo("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new vr(g&&g.concurrentRequestLimit),this.Da=new Oo,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ql.prototype,e.la=8,e.G=1,e.connect=function(g,w,A,L){Fe(0),this.W=g,this.H=w||{},A&&L!==void 0&&(this.H.OSID=A,this.H.OAID=L),this.F=this.X,this.I=_f(this,null,this.W),Wl(this)};function Du(g){if(df(g),g.G==3){var w=g.U++,A=Ri(g.I);if(Ae(A,"SID",g.K),Ae(A,"RID",w),Ae(A,"TYPE","terminate"),jo(g,A),w=new fi(g,g.j,w),w.L=2,w.v=Do(Ri(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!A&&c.Image&&(new Image().src=w.v,A=!0),A||(w.g=bf(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Ao(w)}yf(g)}function Hl(g){g.g&&(Vo(g),g.g.cancel(),g.g=null)}function df(g){Hl(g),g.u&&(c.clearTimeout(g.u),g.u=null),Yl(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function Wl(g){if(!Ll(g.h)&&!g.s){g.s=!0;var w=g.Ga;K||F(),ot||(K(),ot=!0),nt.add(w,g),g.B=0}}function oy(g,w){return jl(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=w.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=cn(_(g.Ga,g,w),Ou(g,g.B)),g.B++,!0)}e.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const J=new fi(this,this.j,g);let ct=this.o;if(this.S&&(ct?(ct=R(ct),V(ct,this.S)):ct=this.S),this.m!==null||this.O||(J.H=ct,ct=null),this.P)t:{for(var w=0,A=0;A<this.i.length;A++){e:{var L=this.i[A];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break e}L=void 0}if(L===void 0)break;if(w+=L,4096<w){w=A;break t}if(w===4096||A===this.i.length-1){w=A+1;break t}}w=1e3}else w=1e3;w=ff(this,J,w),A=Ri(this.I),Ae(A,"RID",g),Ae(A,"CVER",22),this.D&&Ae(A,"X-HTTP-Session-Id",this.D),jo(this,A),ct&&(this.O?w="headers="+encodeURIComponent(String(Cu(ct)))+"&"+w:this.m&&In(A,this.m,ct)),Vl(this.h,J),this.Ua&&Ae(A,"TYPE","init"),this.P?(Ae(A,"$req",w),Ae(A,"SID","null"),J.T=!0,us(J,A,null)):us(J,A,w),this.G=2}}else this.G==3&&(g?Mu(this,g):this.i.length==0||Ll(this.h)||Mu(this))};function Mu(g,w){var A;w?A=w.l:A=g.U++;const L=Ri(g.I);Ae(L,"SID",g.K),Ae(L,"RID",A),Ae(L,"AID",g.T),jo(g,L),g.m&&g.o&&In(L,g.m,g.o),A=new fi(g,g.j,A,g.B+1),g.m===null&&(A.H=g.o),w&&(g.i=w.D.concat(g.i)),w=ff(g,A,1e3),A.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Vl(g.h,A),us(A,L,w)}function jo(g,w){g.H&&G(g.H,function(A,L){Ae(w,L,A)}),g.l&&Su({},function(A,L){Ae(w,L,A)})}function ff(g,w,A){A=Math.min(g.i.length,A);var L=g.l?_(g.l.Na,g.l,g):null;t:{var J=g.i;let ct=-1;for(;;){const vt=["count="+A];ct==-1?0<A?(ct=J[0].g,vt.push("ofs="+ct)):ct=0:vt.push("ofs="+ct);let le=!0;for(let wn=0;wn<A;wn++){let ce=J[wn].g;const On=J[wn].map;if(ce-=ct,0>ce)ct=Math.max(0,J[wn].g-100),le=!1;else try{Ps(On,vt,"req"+ce+"_")}catch{L&&L(On)}}if(le){L=vt.join("&");break t}}}return g=g.i.splice(0,A),w.D=g,L}function pf(g){if(!g.g&&!g.u){g.Y=1;var w=g.Fa;K||F(),ot||(K(),ot=!0),nt.add(w,g),g.v=0}}function Iu(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=cn(_(g.Fa,g),Ou(g,g.v)),g.v++,!0)}e.Fa=function(){if(this.u=null,gf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=cn(_(this.ab,this),g)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Fe(10),Hl(this),gf(this))};function Vo(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function gf(g){g.g=new fi(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var w=Ri(g.qa);Ae(w,"RID","rpc"),Ae(w,"SID",g.K),Ae(w,"AID",g.T),Ae(w,"CI",g.F?"0":"1"),!g.F&&g.ja&&Ae(w,"TO",g.ja),Ae(w,"TYPE","xmlhttp"),jo(g,w),g.m&&g.o&&In(w,g.m,g.o),g.L&&(g.g.I=g.L);var A=g.g;g=g.ia,A.L=1,A.v=Do(Ri(w)),A.m=null,A.P=!0,br(A,g)}e.Za=function(){this.C!=null&&(this.C=null,Hl(this),Iu(this),Fe(19))};function Yl(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function mf(g,w){var A=null;if(g.g==w){Yl(g),Vo(g),g.g=null;var L=2}else if(wu(g.h,w))A=w.D,pi(g.h,w),L=1;else return;if(g.G!=0){if(w.o)if(L==1){A=w.m?w.m.length:0,w=Date.now()-w.F;var J=g.B;L=Cs(),ee(L,new xn(L,A)),Wl(g)}else pf(g);else if(J=w.s,J==3||J==0&&0<w.X||!(L==1&&oy(g,w)||L==2&&Iu(g)))switch(A&&0<A.length&&(w=g.h,w.i=w.i.concat(A)),J){case 1:Ar(g,5);break;case 4:Ar(g,10);break;case 3:Ar(g,6);break;default:Ar(g,2)}}}function Ou(g,w){let A=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(A*=2),A*w}function Ar(g,w){if(g.j.info("Error code "+w),w==2){var A=_(g.fb,g),L=g.Xa;const J=!L;L=new un(L||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Co(L,"https"),Do(L),J?Io(L.toString(),A):hs(L.toString(),A)}else Fe(2);g.G=0,g.l&&g.l.sa(w),yf(g),df(g)}e.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Fe(2)):(this.j.info("Failed to ping google.com"),Fe(1))};function yf(g){if(g.G=0,g.ka=[],g.l){const w=Eu(g.h);(w.length!=0||g.i.length!=0)&&(T(g.ka,w),T(g.ka,g.i),g.h.i.length=0,S(g.i),g.i.length=0),g.l.ra()}}function _f(g,w,A){var L=A instanceof un?Ri(A):new un(A);if(L.g!="")w&&(L.g=w+"."+L.g),ya(L,L.s);else{var J=c.location;L=J.protocol,w=w?w+"."+J.hostname:J.hostname,J=+J.port;var ct=new un(null);L&&Co(ct,L),w&&(ct.g=w),J&&ya(ct,J),A&&(ct.l=A),L=ct}return A=g.D,w=g.ya,A&&w&&Ae(L,A,w),Ae(L,"VER",g.la),jo(g,L),L}function bf(g,w,A){if(w&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Ca&&!g.pa?new be(new _a({eb:A})):new be(g.pa),w.Ha(g.J),w}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function vf(){}e=vf.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Gl(){}Gl.prototype.g=function(g,w){return new gi(g,w)};function gi(g,w){fe.call(this),this.g=new ql(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(g?g["X-WebChannel-Client-Profile"]=w.va:g={"X-WebChannel-Client-Profile":w.va}),this.g.S=g,(g=w&&w.Sb)&&!M(g)&&(this.g.m=g),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!M(w)&&(this.g.D=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new Vs(this)}E(gi,fe),gi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gi.prototype.close=function(){Du(this.g)},gi.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var A={};A.__data__=g,g=A}else this.u&&(A={},A.__data__=ki(g),g=A);w.i.push(new of(w.Ya++,g)),w.G==3&&Wl(w)},gi.prototype.N=function(){this.g.l=null,delete this.j,Du(this.g),delete this.g,gi.aa.N.call(this)};function xf(g){de.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){t:{for(const A in w){g=A;break t}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}E(xf,de);function wf(){Mn.call(this),this.status=1}E(wf,Mn);function Vs(g){this.g=g}E(Vs,vf),Vs.prototype.ua=function(){ee(this.g,"a")},Vs.prototype.ta=function(g){ee(this.g,new xf(g))},Vs.prototype.sa=function(g){ee(this.g,new wf)},Vs.prototype.ra=function(){ee(this.g,"b")},Gl.prototype.createWebChannel=Gl.prototype.g,gi.prototype.send=gi.prototype.o,gi.prototype.open=gi.prototype.m,gi.prototype.close=gi.prototype.close,CC=function(){return new Gl},RC=function(){return Cs()},kC=Wt,g0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ga.NO_ERROR=0,ga.TIMEOUT=8,ga.HTTP_ERROR=6,gg=ga,_r.COMPLETE="complete",AC=_r,_e.EventType=Vt,Vt.OPEN="a",Vt.CLOSE="b",Vt.ERROR="c",Vt.MESSAGE="d",fe.prototype.listen=fe.prototype.K,zh=_e,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,TC=be}).apply(typeof Ap<"u"?Ap:typeof self<"u"?self:typeof window<"u"?window:{});const US="@firebase/firestore",zS="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ri.UNAUTHENTICATED=new ri(null),ri.GOOGLE_CREDENTIALS=new ri("google-credentials-uid"),ri.FIRST_PARTY=new ri("first-party-uid"),ri.MOCK_USER=new ri("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=new mv("@firebase/firestore");function Rc(){return wl.logLevel}function Rt(e,...t){if(wl.logLevel<=re.DEBUG){const n=t.map(vv);wl.debug(`Firestore (${hu}): ${e}`,...n)}}function aa(e,...t){if(wl.logLevel<=re.ERROR){const n=t.map(vv);wl.error(`Firestore (${hu}): ${e}`,...n)}}function Yc(e,...t){if(wl.logLevel<=re.WARN){const n=t.map(vv);wl.warn(`Firestore (${hu}): ${e}`,...n)}}function vv(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,DC(e,i,n)}function DC(e,t,n){let i=`FIRESTORE (${hu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw aa(i),new Error(i)}function we(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||DC(t,s,i)}function qt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends lr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class T4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ri.UNAUTHENTICATED))}shutdown(){}}class A4{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class k4{constructor(t){this.t=t,this.currentUser=ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){we(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let r=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new ea,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=r;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new ea)}},0),l()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(we(typeof i.accessToken=="string",31837,{l:i}),new MC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return we(t===null||typeof t=="string",2055,{h:t}),new ri(t)}}class R4{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=ri.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class C4{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new R4(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D4{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ss(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){we(this.o===void 0,3512);const i=r=>{r.error!=null&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const l=r.token!==this.m;return this.m=r.token,Rt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new FS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(we(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new FS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=M4(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%62))}return i}}function ae(e,t){return e<t?-1:e>t?1:0}function m0(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.charAt(i),r=t.charAt(i);if(s!==r)return mb(s)===mb(r)?ae(s,r):mb(s)?1:-1}return ae(e.length,t.length)}const I4=55296,O4=57343;function mb(e){const t=e.charCodeAt(0);return t>=I4&&t<=O4}function Gc(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="__name__";class Ks{constructor(t,n,i){n===void 0?n=0:n>t.length&&Ut(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Ut(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Ks.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ks?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=Ks.compareSegments(t.get(s),n.get(s));if(r!==0)return r}return ae(t.length,n.length)}static compareSegments(t,n){const i=Ks.isNumericId(t),s=Ks.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Ks.extractNumericId(t).compare(Ks.extractNumericId(n)):m0(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return so.fromString(t.substring(4,t.length-2))}}class Ne extends Ks{construct(t,n,i){return new Ne(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new kt(gt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const P4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends Ks{construct(t,n,i){return new Xn(t,n,i)}static isValidIdentifier(t){return P4.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===BS}static keyField(){return new Xn([BS])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new kt(gt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new kt(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new kt(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(r(),s++)}if(r(),l)throw new kt(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xn(n)}static emptyPath(){return new Xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t){this.path=t}static fromPath(t){return new Nt(Ne.fromString(t))}static fromName(t){return new Nt(Ne.fromString(t).popFirst(5))}static empty(){return new Nt(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Nt(new Ne(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(e,t,n){if(!n)throw new kt(gt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function N4(e,t,n,i){if(t===!0&&i===!0)throw new kt(gt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function $S(e){if(!Nt.isDocumentKey(e))throw new kt(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function qS(e){if(Nt.isDocumentKey(e))throw new kt(gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function OC(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function wm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ut(12329,{type:typeof e})}function zi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new kt(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wm(e);throw new kt(gt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(e,t){const n={typeString:e};return t&&(n.value=t),n}function Fd(e,t){if(!OC(e))throw new kt(gt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,r="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const l=e[i];if(s&&typeof l!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(r!==void 0&&l!==r.value){n=`Expected '${i}' field to equal '${r.value}'`;break}}if(n)throw new kt(gt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=-62135596800,WS=1e6;class Oe{static now(){return Oe.fromMillis(Date.now())}static fromDate(t){return Oe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*WS);return new Oe(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new kt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new kt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<HS)throw new kt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new kt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/WS}_compareTo(t){return this.seconds===t.seconds?ae(this.nanoseconds,t.nanoseconds):ae(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fd(t,Oe._jsonSchema))return new Oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-HS;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Oe._jsonSchemaVersion="firestore/timestamp/1.0",Oe._jsonSchema={type:bn("string",Oe._jsonSchemaVersion),seconds:bn("number"),nanoseconds:bn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{static fromTimestamp(t){return new Bt(t)}static min(){return new Bt(new Oe(0,0))}static max(){return new Bt(new Oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=-1;function L4(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=Bt.fromTimestamp(i===1e9?new Oe(n+1,0):new Oe(n,i));return new lo(s,Nt.empty(),t)}function j4(e){return new lo(e.readTime,e.key,_d)}class lo{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new lo(Bt.min(),Nt.empty(),_d)}static max(){return new lo(Bt.max(),Nt.empty(),_d)}}function V4(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Nt.comparator(e.documentKey,t.documentKey),n!==0?n:ae(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(e){if(e.code!==gt.FAILED_PRECONDITION||e.message!==U4)throw e;Rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new _t((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof _t?n:_t.resolve(n)}catch(n){return _t.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):_t.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):_t.reject(n)}static resolve(t){return new _t((n,i)=>{n(t)})}static reject(t){return new _t((n,i)=>{i(t)})}static waitFor(t){return new _t((n,i)=>{let s=0,r=0,l=!1;t.forEach(c=>{++s,c.next(()=>{++r,l&&r===s&&n()},h=>i(h))}),l=!0,r===s&&n()})}static or(t){let n=_t.resolve(!1);for(const i of t)n=n.next(s=>s?_t.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(t,n){return new _t((i,s)=>{const r=t.length,l=new Array(r);let c=0;for(let h=0;h<r;h++){const d=h;n(t[d]).next(p=>{l[d]=p,++c,c===r&&i(l)},p=>s(p))}})}static doWhile(t,n){return new _t((i,s)=>{const r=()=>{t()===!0?n().next(()=>{r()},s):i()};r()})}}function F4(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Em.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=-1;function Sm(e){return e==null}function zg(e){return e===0&&1/e==-1/0}function B4(e){return typeof e=="number"&&Number.isInteger(e)&&!zg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="";function $4(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=YS(t)),t=q4(e.get(n),t);return YS(t)}function q4(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const r=e.charAt(s);switch(r){case"\0":n+="";break;case PC:n+="";break;default:n+=r}}return n}function YS(e){return e+PC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function bo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function NC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,n){this.comparator=t,this.root=n||Kn.EMPTY}insert(t,n){return new Ke(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Kn.BLACK,null,null))}remove(t){return new Ke(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Kn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kp(this.root,t,this.comparator,!1)}getReverseIterator(){return new kp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kp(this.root,t,this.comparator,!0)}}class kp{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&s&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Kn{constructor(t,n,i,s,r){this.key=t,this.value=n,this.color=i??Kn.RED,this.left=s??Kn.EMPTY,this.right=r??Kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,r){return new Kn(t??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const r=i(t,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(t,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Kn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Kn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ut(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ut(27949);return t+(this.isRed()?0:1)}}Kn.EMPTY=null,Kn.RED=!0,Kn.BLACK=!1;Kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut(57766)}get value(){throw Ut(16141)}get color(){throw Ut(16727)}get left(){throw Ut(29726)}get right(){throw Ut(36894)}copy(t,n,i,s,r){return this}insert(t,n,i){return new Kn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.comparator=t,this.data=new Ke(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new KS(this.data.getIterator())}getIteratorFrom(t){return new KS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof kn)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new kn(this.comparator);return n.data=t,n}}class KS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(t){this.fields=t,t.sort(Xn.comparator)}static empty(){return new Ui([])}unionWith(t){let n=new kn(Xn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Ui(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Gc(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new LC("Invalid base64 string: "+r):r}}(t);return new Qn(n)}static fromUint8Array(t){const n=function(s){let r="";for(let l=0;l<s.length;++l)r+=String.fromCharCode(s[l]);return r}(t);return new Qn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ae(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qn.EMPTY_BYTE_STRING=new Qn("");const H4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function co(e){if(we(!!e,39018),typeof e=="string"){let t=0;const n=H4.exec(e);if(we(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:an(e.seconds),nanos:an(e.nanos)}}function an(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function uo(e){return typeof e=="string"?Qn.fromBase64String(e):Qn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="server_timestamp",VC="__type__",UC="__previous_value__",zC="__local_write_time__";function Ev(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[VC])==null?void 0:i.stringValue)===jC}function Tm(e){const t=e.mapValue.fields[UC];return Ev(t)?Tm(t):t}function bd(e){const t=co(e.mapValue.fields[zC].timestampValue);return new Oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(t,n,i,s,r,l,c,h,d,p){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=p}}const Fg="(default)";class vd{constructor(t,n){this.projectId=t,this.database=n||Fg}static empty(){return new vd("","")}get isDefaultDatabase(){return this.database===Fg}isEqual(t){return t instanceof vd&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="__type__",Y4="__max__",Rp={mapValue:{}},BC="__vector__",Bg="value";function ho(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ev(e)?4:K4(e)?9007199254740991:G4(e)?10:11:Ut(28295,{value:e})}function rr(e,t){if(e===t)return!0;const n=ho(e);if(n!==ho(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bd(e).isEqual(bd(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const l=co(s.timestampValue),c=co(r.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,r){return uo(s.bytesValue).isEqual(uo(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,r){return an(s.geoPointValue.latitude)===an(r.geoPointValue.latitude)&&an(s.geoPointValue.longitude)===an(r.geoPointValue.longitude)}(e,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return an(s.integerValue)===an(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const l=an(s.doubleValue),c=an(r.doubleValue);return l===c?zg(l)===zg(c):isNaN(l)&&isNaN(c)}return!1}(e,t);case 9:return Gc(e.arrayValue.values||[],t.arrayValue.values||[],rr);case 10:case 11:return function(s,r){const l=s.mapValue.fields||{},c=r.mapValue.fields||{};if(GS(l)!==GS(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!rr(l[h],c[h])))return!1;return!0}(e,t);default:return Ut(52216,{left:e})}}function xd(e,t){return(e.values||[]).find(n=>rr(n,t))!==void 0}function Kc(e,t){if(e===t)return 0;const n=ho(e),i=ho(t);if(n!==i)return ae(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(e.booleanValue,t.booleanValue);case 2:return function(r,l){const c=an(r.integerValue||r.doubleValue),h=an(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(e,t);case 3:return XS(e.timestampValue,t.timestampValue);case 4:return XS(bd(e),bd(t));case 5:return m0(e.stringValue,t.stringValue);case 6:return function(r,l){const c=uo(r),h=uo(l);return c.compareTo(h)}(e.bytesValue,t.bytesValue);case 7:return function(r,l){const c=r.split("/"),h=l.split("/");for(let d=0;d<c.length&&d<h.length;d++){const p=ae(c[d],h[d]);if(p!==0)return p}return ae(c.length,h.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,l){const c=ae(an(r.latitude),an(l.latitude));return c!==0?c:ae(an(r.longitude),an(l.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return QS(e.arrayValue,t.arrayValue);case 10:return function(r,l){var _,x,E,S;const c=r.fields||{},h=l.fields||{},d=(_=c[Bg])==null?void 0:_.arrayValue,p=(x=h[Bg])==null?void 0:x.arrayValue,y=ae(((E=d==null?void 0:d.values)==null?void 0:E.length)||0,((S=p==null?void 0:p.values)==null?void 0:S.length)||0);return y!==0?y:QS(d,p)}(e.mapValue,t.mapValue);case 11:return function(r,l){if(r===Rp.mapValue&&l===Rp.mapValue)return 0;if(r===Rp.mapValue)return 1;if(l===Rp.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),d=l.fields||{},p=Object.keys(d);h.sort(),p.sort();for(let y=0;y<h.length&&y<p.length;++y){const _=m0(h[y],p[y]);if(_!==0)return _;const x=Kc(c[h[y]],d[p[y]]);if(x!==0)return x}return ae(h.length,p.length)}(e.mapValue,t.mapValue);default:throw Ut(23264,{he:n})}}function XS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ae(e,t);const n=co(e),i=co(t),s=ae(n.seconds,i.seconds);return s!==0?s:ae(n.nanos,i.nanos)}function QS(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=Kc(n[s],i[s]);if(r)return r}return ae(n.length,i.length)}function Xc(e){return y0(e)}function y0(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=co(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return uo(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Nt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=y0(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const l of i)r?r=!1:s+=",",s+=`${l}:${y0(n.fields[l])}`;return s+"}"}(e.mapValue):Ut(61005,{value:e})}function mg(e){switch(ho(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Tm(e);return t?16+mg(t):16;case 5:return 2*e.stringValue.length;case 6:return uo(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+mg(r),0)}(e.arrayValue);case 10:case 11:return function(i){let s=0;return bo(i.fields,(r,l)=>{s+=r.length+mg(l)}),s}(e.mapValue);default:throw Ut(13486,{value:e})}}function ZS(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function _0(e){return!!e&&"integerValue"in e}function Sv(e){return!!e&&"arrayValue"in e}function JS(e){return!!e&&"nullValue"in e}function tT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function yg(e){return!!e&&"mapValue"in e}function G4(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[FC])==null?void 0:i.stringValue)===BC}function Zh(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return bo(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Zh(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Zh(e.arrayValue.values[n]);return t}return{...e}}function K4(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Y4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(t){this.value=t}static empty(){return new Ti({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!yg(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zh(n)}setAll(t){let n=Xn.emptyPath(),i={},s=[];t.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=c.popLast()}l?i[c.lastSegment()]=Zh(l):s.push(c.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(t){const n=this.field(t.popLast());yg(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return rr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];yg(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){bo(n,(s,r)=>t[s]=r);for(const s of i)delete t[s]}clone(){return new Ti(Zh(this.value))}}function $C(e){const t=[];return bo(e.fields,(n,i)=>{const s=new Xn([n]);if(yg(i)){const r=$C(i.mapValue).fields;if(r.length===0)t.push(s);else for(const l of r)t.push(s.child(l))}else t.push(s)}),new Ui(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t,n,i,s,r,l,c){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=l,this.documentState=c}static newInvalidDocument(t){return new oi(t,0,Bt.min(),Bt.min(),Bt.min(),Ti.empty(),0)}static newFoundDocument(t,n,i,s){return new oi(t,1,n,Bt.min(),i,s,0)}static newNoDocument(t,n){return new oi(t,2,n,Bt.min(),Bt.min(),Ti.empty(),0)}static newUnknownDocument(t,n){return new oi(t,3,n,Bt.min(),Bt.min(),Ti.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof oi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(t,n){this.position=t,this.inclusive=n}}function eT(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const r=t[s],l=e.position[s];if(r.field.isKeyField()?i=Nt.comparator(Nt.fromName(l.referenceValue),n.key):i=Kc(l,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function nT(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!rr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(t,n="asc"){this.field=t,this.dir=n}}function X4(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{}class _n extends qC{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new Z4(t,n,i):n==="array-contains"?new eV(t,i):n==="in"?new nV(t,i):n==="not-in"?new iV(t,i):n==="array-contains-any"?new sV(t,i):new _n(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new J4(t,i):new tV(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Kc(n,this.value)):n!==null&&ho(this.value)===ho(n)&&this.matchesComparison(Kc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ss extends qC{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ss(t,n)}matches(t){return HC(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function HC(e){return e.op==="and"}function WC(e){return Q4(e)&&HC(e)}function Q4(e){for(const t of e.filters)if(t instanceof Ss)return!1;return!0}function b0(e){if(e instanceof _n)return e.field.canonicalString()+e.op.toString()+Xc(e.value);if(WC(e))return e.filters.map(t=>b0(t)).join(",");{const t=e.filters.map(n=>b0(n)).join(",");return`${e.op}(${t})`}}function YC(e,t){return e instanceof _n?function(i,s){return s instanceof _n&&i.op===s.op&&i.field.isEqual(s.field)&&rr(i.value,s.value)}(e,t):e instanceof Ss?function(i,s){return s instanceof Ss&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,l,c)=>r&&YC(l,s.filters[c]),!0):!1}(e,t):void Ut(19439)}function GC(e){return e instanceof _n?function(n){return`${n.field.canonicalString()} ${n.op} ${Xc(n.value)}`}(e):e instanceof Ss?function(n){return n.op.toString()+" {"+n.getFilters().map(GC).join(" ,")+"}"}(e):"Filter"}class Z4 extends _n{constructor(t,n,i){super(t,n,i),this.key=Nt.fromName(i.referenceValue)}matches(t){const n=Nt.comparator(t.key,this.key);return this.matchesComparison(n)}}class J4 extends _n{constructor(t,n){super(t,"in",n),this.keys=KC("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class tV extends _n{constructor(t,n){super(t,"not-in",n),this.keys=KC("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function KC(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(i=>Nt.fromName(i.referenceValue))}class eV extends _n{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Sv(n)&&xd(n.arrayValue,this.value)}}class nV extends _n{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&xd(this.value.arrayValue,n)}}class iV extends _n{constructor(t,n){super(t,"not-in",n)}matches(t){if(xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xd(this.value.arrayValue,n)}}class sV extends _n{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Sv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>xd(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(t,n=null,i=[],s=[],r=null,l=null,c=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=l,this.endAt=c,this.Te=null}}function iT(e,t=null,n=[],i=[],s=null,r=null,l=null){return new rV(e,t,n,i,s,r,l)}function Tv(e){const t=qt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>b0(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Sm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Xc(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Xc(i)).join(",")),t.Te=n}return t.Te}function Av(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!X4(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!YC(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nT(e.startAt,t.startAt)&&nT(e.endAt,t.endAt)}function v0(e){return Nt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(t,n=null,i=[],s=[],r=null,l="F",c=null,h=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aV(e,t,n,i,s,r,l,c){return new pu(e,t,n,i,s,r,l,c)}function Am(e){return new pu(e)}function sT(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function XC(e){return e.collectionGroup!==null}function Jh(e){const t=qt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const r of t.explicitOrderBy)t.Ie.push(r),n.add(r.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new kn(Xn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(t).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new wd(r,i))}),n.has(Xn.keyField().canonicalString())||t.Ie.push(new wd(Xn.keyField(),i))}return t.Ie}function Zs(e){const t=qt(e);return t.Ee||(t.Ee=oV(t,Jh(e))),t.Ee}function oV(e,t){if(e.limitType==="F")return iT(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new wd(s.field,r)});const n=e.endAt?new $g(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new $g(e.startAt.position,e.startAt.inclusive):null;return iT(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function x0(e,t){const n=e.filters.concat([t]);return new pu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function w0(e,t,n){return new pu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function km(e,t){return Av(Zs(e),Zs(t))&&e.limitType===t.limitType}function QC(e){return`${Tv(Zs(e))}|lt:${e.limitType}`}function Cc(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>GC(s)).join(", ")}]`),Sm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Xc(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Xc(s)).join(",")),`Target(${i})`}(Zs(e))}; limitType=${e.limitType})`}function Rm(e,t){return t.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):Nt.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,s){for(const r of Jh(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(l,c,h){const d=eT(l,c,h);return l.inclusive?d<=0:d<0}(i.startAt,Jh(i),s)||i.endAt&&!function(l,c,h){const d=eT(l,c,h);return l.inclusive?d>=0:d>0}(i.endAt,Jh(i),s))}(e,t)}function lV(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ZC(e){return(t,n)=>{let i=!1;for(const s of Jh(e)){const r=cV(s,t,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function cV(e,t,n){const i=e.field.isKeyField()?Nt.comparator(t.key,n.key):function(r,l,c){const h=l.data.field(r),d=c.data.field(r);return h!==null&&d!==null?Kc(h,d):Ut(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Ut(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return void(s[r]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){bo(this.inner,(n,i)=>{for(const[s,r]of i)t(s,r)})}isEmpty(){return NC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=new Ke(Nt.comparator);function oa(){return uV}const JC=new Ke(Nt.comparator);function Fh(...e){let t=JC;for(const n of e)t=t.insert(n.key,n);return t}function tD(e){let t=JC;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function hl(){return td()}function eD(){return td()}function td(){return new Dl(e=>e.toString(),(e,t)=>e.isEqual(t))}const hV=new Ke(Nt.comparator),dV=new kn(Nt.comparator);function oe(...e){let t=dV;for(const n of e)t=t.add(n);return t}const fV=new kn(ae);function pV(){return fV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zg(t)?"-0":t}}function nD(e){return{integerValue:""+e}}function gV(e,t){return B4(t)?nD(t):kv(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(){this._=void 0}}function mV(e,t,n){return e instanceof Ed?function(s,r){const l={fields:{[VC]:{stringValue:jC},[zC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Ev(r)&&(r=Tm(r)),r&&(l.fields[UC]=r),{mapValue:l}}(n,t):e instanceof Qc?sD(e,t):e instanceof Zc?rD(e,t):function(s,r){const l=iD(s,r),c=rT(l)+rT(s.Ae);return _0(l)&&_0(s.Ae)?nD(c):kv(s.serializer,c)}(e,t)}function yV(e,t,n){return e instanceof Qc?sD(e,t):e instanceof Zc?rD(e,t):n}function iD(e,t){return e instanceof qg?function(i){return _0(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class Ed extends Cm{}class Qc extends Cm{constructor(t){super(),this.elements=t}}function sD(e,t){const n=aD(t);for(const i of e.elements)n.some(s=>rr(s,i))||n.push(i);return{arrayValue:{values:n}}}class Zc extends Cm{constructor(t){super(),this.elements=t}}function rD(e,t){let n=aD(t);for(const i of e.elements)n=n.filter(s=>!rr(s,i));return{arrayValue:{values:n}}}class qg extends Cm{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function rT(e){return an(e.integerValue||e.doubleValue)}function aD(e){return Sv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(t,n){this.field=t,this.transform=n}}function _V(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof Qc&&s instanceof Qc||i instanceof Zc&&s instanceof Zc?Gc(i.elements,s.elements,rr):i instanceof qg&&s instanceof qg?rr(i.Ae,s.Ae):i instanceof Ed&&s instanceof Ed}(e.transform,t.transform)}class bV{constructor(t,n){this.version=t,this.transformResults=n}}class ws{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ws}static exists(t){return new ws(void 0,t)}static updateTime(t){return new ws(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _g(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Dm{}function oD(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new cD(e.key,ws.none()):new Bd(e.key,e.data,ws.none());{const n=e.data,i=Ti.empty();let s=new kn(Xn.comparator);for(let r of t.fields)if(!s.has(r)){let l=n.field(r);l===null&&r.length>1&&(r=r.popLast(),l=n.field(r)),l===null?i.delete(r):i.set(r,l),s=s.add(r)}return new vo(e.key,i,new Ui(s.toArray()),ws.none())}}function vV(e,t,n){e instanceof Bd?function(s,r,l){const c=s.value.clone(),h=oT(s.fieldTransforms,r,l.transformResults);c.setAll(h),r.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(e,t,n):e instanceof vo?function(s,r,l){if(!_g(s.precondition,r))return void r.convertToUnknownDocument(l.version);const c=oT(s.fieldTransforms,r,l.transformResults),h=r.data;h.setAll(lD(s)),h.setAll(c),r.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(e,t,n):function(s,r,l){r.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,n)}function ed(e,t,n,i){return e instanceof Bd?function(r,l,c,h){if(!_g(r.precondition,l))return c;const d=r.value.clone(),p=lT(r.fieldTransforms,h,l);return d.setAll(p),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(e,t,n,i):e instanceof vo?function(r,l,c,h){if(!_g(r.precondition,l))return c;const d=lT(r.fieldTransforms,h,l),p=l.data;return p.setAll(lD(r)),p.setAll(d),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(y=>y.field))}(e,t,n,i):function(r,l,c){return _g(r.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(e,t,n)}function xV(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),r=iD(i.transform,s||null);r!=null&&(n===null&&(n=Ti.empty()),n.set(i.field,r))}return n||null}function aT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Gc(i,s,(r,l)=>_V(r,l))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Bd extends Dm{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class vo extends Dm{constructor(t,n,i,s,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function lD(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function oT(e,t,n){const i=new Map;we(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const r=e[s],l=r.transform,c=t.data.field(r.field);i.set(r.field,yV(l,c,n[s]))}return i}function lT(e,t,n){const i=new Map;for(const s of e){const r=s.transform,l=n.data.field(s.field);i.set(s.field,mV(r,l,t))}return i}class cD extends Dm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wV extends Dm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(t.key)&&vV(r,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=ed(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=ed(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=eD();return this.mutations.forEach(s=>{const r=t.get(s.key),l=r.overlayedDocument;let c=this.applyToLocalView(l,r.mutatedFields);c=n.has(s.key)?null:c;const h=oD(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Bt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),oe())}isEqual(t){return this.batchId===t.batchId&&Gc(this.mutations,t.mutations,(n,i)=>aT(n,i))&&Gc(this.baseMutations,t.baseMutations,(n,i)=>aT(n,i))}}class Cv{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){we(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let s=function(){return hV}();const r=t.mutations;for(let l=0;l<r.length;l++)s=s.insert(r[l].key,i[l].version);return new Cv(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn,he;function AV(e){switch(e){case gt.OK:return Ut(64938);case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0;default:return Ut(15467,{code:e})}}function uD(e){if(e===void 0)return aa("GRPC error has no .code"),gt.UNKNOWN;switch(e){case mn.OK:return gt.OK;case mn.CANCELLED:return gt.CANCELLED;case mn.UNKNOWN:return gt.UNKNOWN;case mn.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case mn.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case mn.INTERNAL:return gt.INTERNAL;case mn.UNAVAILABLE:return gt.UNAVAILABLE;case mn.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case mn.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case mn.NOT_FOUND:return gt.NOT_FOUND;case mn.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case mn.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case mn.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case mn.ABORTED:return gt.ABORTED;case mn.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case mn.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case mn.DATA_LOSS:return gt.DATA_LOSS;default:return Ut(39323,{code:e})}}(he=mn||(mn={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=new so([4294967295,4294967295],0);function cT(e){const t=kV().encode(e),n=new SC;return n.update(t),new Uint8Array(n.digest())}function uT(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new so([n,i],0),new so([s,r],0)]}class Dv{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Bh(`Invalid padding: ${n}`);if(i<0)throw new Bh(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Bh(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Bh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=so.fromNumber(this.ge)}ye(t,n,i){let s=t.add(n.multiply(so.fromNumber(i)));return s.compare(RV)===1&&(s=new so([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=cT(t),[i,s]=uT(n);for(let r=0;r<this.hashCount;r++){const l=this.ye(i,s,r);if(!this.we(l))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),l=new Dv(r,s,n);return i.forEach(c=>l.insert(c)),l}insert(t){if(this.ge===0)return;const n=cT(t),[i,s]=uT(n);for(let r=0;r<this.hashCount;r++){const l=this.ye(i,s,r);this.Se(l)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Bh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t,n,i,s,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,$d.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Mm(Bt.min(),s,new Ke(ae),oa(),oe())}}class $d{constructor(t,n,i,s,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new $d(i,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(t,n,i,s){this.be=t,this.removedTargetIds=n,this.key=i,this.De=s}}class hD{constructor(t,n){this.targetId=t,this.Ce=n}}class dD{constructor(t,n,i=Qn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class hT{constructor(){this.ve=0,this.Fe=dT(),this.Me=Qn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=oe(),n=oe(),i=oe();return this.Fe.forEach((s,r)=>{switch(r){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Ut(38017,{changeType:r})}}),new $d(this.Me,this.xe,t,n,i)}qe(){this.Oe=!1,this.Fe=dT()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CV{constructor(t){this.Ge=t,this.ze=new Map,this.je=oa(),this.Je=Cp(),this.He=Cp(),this.Ye=new Ke(ae)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:Ut(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,s)=>{this.rt(s)&&n(s)})}st(t){const n=t.targetId,i=t.Ce.count,s=this.ot(n);if(s){const r=s.target;if(v0(r))if(i===0){const l=new Nt(r.path);this.et(n,l,oi.newNoDocument(l,Bt.min()))}else we(i===1,20013,{expectedCount:i});else{const l=this._t(n);if(l!==i){const c=this.ut(t),h=c?this.ct(c,t,l):1;if(h!==0){this.it(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let l,c;try{l=uo(i).toUint8Array()}catch(h){if(h instanceof LC)return Yc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Dv(l,s,r)}catch(h){return Yc(h instanceof Bh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${r.path.canonicalString()}`;t.mightContain(c)||(this.et(n,r,null),s++)}),s}Tt(t){const n=new Map;this.ze.forEach((r,l)=>{const c=this.ot(l);if(c){if(r.current&&v0(c.target)){const h=new Nt(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,oi.newNoDocument(h,t))}r.Be&&(n.set(l,r.ke()),r.qe())}});let i=oe();this.He.forEach((r,l)=>{let c=!0;l.forEachWhile(h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(r))}),this.je.forEach((r,l)=>l.setReadTime(t));const s=new Mm(t,n,this.Ye,this.je,i);return this.je=oa(),this.Je=Cp(),this.He=Cp(),this.Ye=new Ke(ae),s}Xe(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new hT,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new kn(ae),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new kn(ae),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Rt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new hT),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Cp(){return new Ke(Nt.comparator)}function dT(){return new Ke(Nt.comparator)}const DV={asc:"ASCENDING",desc:"DESCENDING"},MV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IV={and:"AND",or:"OR"};class OV{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function E0(e,t){return e.useProto3Json||Sm(t)?t:{value:t}}function Hg(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fD(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function PV(e,t){return Hg(e,t.toTimestamp())}function Js(e){return we(!!e,49232),Bt.fromTimestamp(function(n){const i=co(n);return new Oe(i.seconds,i.nanos)}(e))}function Mv(e,t){return S0(e,t).canonicalString()}function S0(e,t){const n=function(s){return new Ne(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function pD(e){const t=Ne.fromString(e);return we(bD(t),10190,{key:t.toString()}),t}function T0(e,t){return Mv(e.databaseId,t.path)}function yb(e,t){const n=pD(t);if(n.get(1)!==e.databaseId.projectId)throw new kt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new kt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Nt(mD(n))}function gD(e,t){return Mv(e.databaseId,t)}function NV(e){const t=pD(e);return t.length===4?Ne.emptyPath():mD(t)}function A0(e){return new Ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function mD(e){return we(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function fT(e,t,n){return{name:T0(e,t),fields:n.value.mapValue.fields}}function LV(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ut(39313,{state:d})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],r=function(d,p){return d.useProto3Json?(we(p===void 0||typeof p=="string",58123),Qn.fromBase64String(p||"")):(we(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Qn.fromUint8Array(p||new Uint8Array))}(e,t.targetChange.resumeToken),l=t.targetChange.cause,c=l&&function(d){const p=d.code===void 0?gt.UNKNOWN:uD(d.code);return new kt(p,d.message||"")}(l);n=new dD(i,s,r,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=yb(e,i.document.name),r=Js(i.document.updateTime),l=i.document.createTime?Js(i.document.createTime):Bt.min(),c=new Ti({mapValue:{fields:i.document.fields}}),h=oi.newFoundDocument(s,r,l,c),d=i.targetIds||[],p=i.removedTargetIds||[];n=new bg(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=yb(e,i.document),r=i.readTime?Js(i.readTime):Bt.min(),l=oi.newNoDocument(s,r),c=i.removedTargetIds||[];n=new bg([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=yb(e,i.document),r=i.removedTargetIds||[];n=new bg([],r,s,null)}else{if(!("filter"in t))return Ut(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,l=new TV(s,r),c=i.targetId;n=new hD(c,l)}}return n}function jV(e,t){let n;if(t instanceof Bd)n={update:fT(e,t.key,t.value)};else if(t instanceof cD)n={delete:T0(e,t.key)};else if(t instanceof vo)n={update:fT(e,t.key,t.data),updateMask:WV(t.fieldMask)};else{if(!(t instanceof wV))return Ut(16599,{Vt:t.type});n={verify:T0(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,l){const c=l.transform;if(c instanceof Ed)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Qc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Zc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof qg)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Ut(20930,{transform:l.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:PV(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Ut(27497)}(e,t.precondition)),n}function VV(e,t){return e&&e.length>0?(we(t!==void 0,14353),e.map(n=>function(s,r){let l=s.updateTime?Js(s.updateTime):Js(r);return l.isEqual(Bt.min())&&(l=Js(r)),new bV(l,s.transformResults||[])}(n,t))):[]}function UV(e,t){return{documents:[gD(e,t.path)]}}function zV(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=gD(e,s);const r=function(d){if(d.length!==0)return _D(Ss.create(d,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const l=function(d){if(d.length!==0)return d.map(p=>function(_){return{field:Dc(_.field),direction:$V(_.dir)}}(p))}(t.orderBy);l&&(n.structuredQuery.orderBy=l);const c=E0(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{ft:n,parent:s}}function FV(e){let t=NV(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){we(i===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:t=t.child(p.collectionId)}let r=[];n.where&&(r=function(y){const _=yD(y);return _ instanceof Ss&&WC(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(_=>function(E){return new wd(Mc(E.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(y){let _;return _=typeof y=="object"?y.value:y,Sm(_)?null:_}(n.limit));let h=null;n.startAt&&(h=function(y){const _=!!y.before,x=y.values||[];return new $g(x,_)}(n.startAt));let d=null;return n.endAt&&(d=function(y){const _=!y.before,x=y.values||[];return new $g(x,_)}(n.endAt)),aV(t,s,l,r,c,"F",h,d)}function BV(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut(28987,{purpose:s})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function yD(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Mc(n.unaryFilter.field);return _n.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Mc(n.unaryFilter.field);return _n.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Mc(n.unaryFilter.field);return _n.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Mc(n.unaryFilter.field);return _n.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ut(61313);default:return Ut(60726)}}(e):e.fieldFilter!==void 0?function(n){return _n.create(Mc(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ut(58110);default:return Ut(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Ss.create(n.compositeFilter.filters.map(i=>yD(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ut(1026)}}(n.compositeFilter.op))}(e):Ut(30097,{filter:e})}function $V(e){return DV[e]}function qV(e){return MV[e]}function HV(e){return IV[e]}function Dc(e){return{fieldPath:e.canonicalString()}}function Mc(e){return Xn.fromServerFormat(e.fieldPath)}function _D(e){return e instanceof _n?function(n){if(n.op==="=="){if(tT(n.value))return{unaryFilter:{field:Dc(n.field),op:"IS_NAN"}};if(JS(n.value))return{unaryFilter:{field:Dc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tT(n.value))return{unaryFilter:{field:Dc(n.field),op:"IS_NOT_NAN"}};if(JS(n.value))return{unaryFilter:{field:Dc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dc(n.field),op:qV(n.op),value:n.value}}}(e):e instanceof Ss?function(n){const i=n.getFilters().map(s=>_D(s));return i.length===1?i[0]:{compositeFilter:{op:HV(n.op),filters:i}}}(e):Ut(54877,{filter:e})}function WV(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function bD(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t,n,i,s,r=Bt.min(),l=Bt.min(),c=Qn.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(t){return new Ka(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(t){this.yt=t}}function GV(e){const t=FV({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?w0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(){this.Cn=new XV}addToCollectionParentIndex(t,n){return this.Cn.add(n),_t.resolve()}getCollectionParents(t,n){return _t.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return _t.resolve()}deleteFieldIndex(t,n){return _t.resolve()}deleteAllFieldIndexes(t){return _t.resolve()}createTargetIndexes(t,n){return _t.resolve()}getDocumentsMatchingTarget(t,n){return _t.resolve(null)}getIndexType(t,n){return _t.resolve(0)}getFieldIndexes(t,n){return _t.resolve([])}getNextCollectionGroupToUpdate(t){return _t.resolve(null)}getMinOffset(t,n){return _t.resolve(lo.min())}getMinOffsetFromCollectionGroup(t,n){return _t.resolve(lo.min())}updateCollectionGroup(t,n,i){return _t.resolve()}updateIndexEntries(t,n){return _t.resolve()}}class XV{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new kn(Ne.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new kn(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vD=41943040;class Si{static withCacheSize(t){return new Si(t,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si.DEFAULT_COLLECTION_PERCENTILE=10,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Si.DEFAULT=new Si(vD,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Si.DISABLED=new Si(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Jc(0)}static cr(){return new Jc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="LruGarbageCollector",QV=1048576;function mT([e,t],[n,i]){const s=ae(e,n);return s===0?ae(t,i):s}class ZV{constructor(t){this.Ir=t,this.buffer=new kn(mT),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();mT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JV{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Rt(gT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fu(n)?Rt(gT,"Ignoring IndexedDB error during garbage collection: ",n):await du(n)}await this.Vr(3e5)})}}class t6{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return _t.resolve(Em.ce);const i=new ZV(n);return this.mr.forEachTarget(t,s=>i.Ar(s.sequenceNumber)).next(()=>this.mr.pr(t,s=>i.Ar(s))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.mr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Rt("LruGarbageCollector","Garbage collection skipped; disabled"),_t.resolve(pT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pT):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let i,s,r,l,c,h,d;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(Rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(t,s))).next(y=>(i=y,c=Date.now(),this.removeTargets(t,i,n))).next(y=>(r=y,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(y=>(d=Date.now(),Rc()<=re.DEBUG&&Rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${r} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-p}ms`),_t.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:y})))}}function e6(e,t){return new t6(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this.changes=new Dl(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,oi.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?_t.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&ed(i.mutation,s,Ui.empty(),Oe.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,oe()).next(()=>i))}getLocalViewOfDocuments(t,n,i=oe()){const s=hl();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(r=>{let l=Fh();return r.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,n){const i=hl();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,oe()))}populateOverlays(t,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(t,s).next(r=>{r.forEach((l,c)=>{n.set(l,c)})})}computeViews(t,n,i,s){let r=oa();const l=td(),c=function(){return td()}();return n.forEach((h,d)=>{const p=i.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof vo)?r=r.insert(d.key,d):p!==void 0?(l.set(d.key,p.mutation.getFieldMask()),ed(p.mutation,d,p.mutation.getFieldMask(),Oe.now())):l.set(d.key,Ui.empty())}),this.recalculateAndSaveOverlays(t,r).next(h=>(h.forEach((d,p)=>l.set(d,p)),n.forEach((d,p)=>c.set(d,new i6(p,l.get(d)??null))),c))}recalculateAndSaveOverlays(t,n){const i=td();let s=new Ke((l,c)=>l-c),r=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const d=n.get(h);if(d===null)return;let p=i.get(h)||Ui.empty();p=c.applyToLocalView(d,p),i.set(h,p);const y=(s.get(c.batchId)||oe()).add(h);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,p=h.value,y=eD();p.forEach(_=>{if(!r.has(_)){const x=oD(n.get(_),i.get(_));x!==null&&y.set(_,x),r=r.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(t,d,y))}return _t.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return function(l){return Nt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):XC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(r=>{const l=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-r.size):_t.resolve(hl());let c=_d,h=r;return l.next(d=>_t.forEach(d,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),r.get(p)?_t.resolve():this.remoteDocumentCache.getEntry(t,p).next(_=>{h=h.insert(p,_)}))).next(()=>this.populateOverlays(t,d,r)).next(()=>this.computeViews(t,h,d,oe())).next(p=>({batchId:c,changes:tD(p)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Nt(n)).next(i=>{let s=Fh();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const r=n.collectionGroup;let l=Fh();return this.indexManager.getCollectionParents(t,r).next(c=>_t.forEach(c,h=>{const d=function(y,_){return new pu(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(r));return this.getDocumentsMatchingCollectionQuery(t,d,i,s).next(p=>{p.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(l=>(r=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,r,s))).next(l=>{r.forEach((h,d)=>{const p=d.getKey();l.get(p)===null&&(l=l.insert(p,oi.newInvalidDocument(p)))});let c=Fh();return l.forEach((h,d)=>{const p=r.get(h);p!==void 0&&ed(p.mutation,d,Ui.empty(),Oe.now()),Rm(n,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return _t.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Js(s.createTime)}}(n)),_t.resolve()}getNamedQuery(t,n){return _t.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(s){return{name:s.name,query:GV(s.bundledQuery),readTime:Js(s.readTime)}}(n)),_t.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(){this.overlays=new Ke(Nt.comparator),this.qr=new Map}getOverlay(t,n){return _t.resolve(this.overlays.get(n))}getOverlays(t,n){const i=hl();return _t.forEach(n,s=>this.getOverlay(t,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,r)=>{this.St(t,n,r)}),_t.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.qr.delete(i)),_t.resolve()}getOverlaysForCollection(t,n,i){const s=hl(),r=n.length+1,l=new Nt(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===r&&h.largestBatchId>i&&s.set(h.getKey(),h)}return _t.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let r=new Ke((d,p)=>d-p);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let p=r.get(d.largestBatchId);p===null&&(p=hl(),r=r.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=hl(),h=r.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,p)=>c.set(d,p)),!(c.size()>=s)););return _t.resolve(c)}St(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new SV(n,i));let r=this.qr.get(n);r===void 0&&(r=oe(),this.qr.set(n,r)),this.qr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(){this.sessionToken=Qn.EMPTY_BYTE_STRING}getSessionToken(t){return _t.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,_t.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.Qr=new kn(Un.$r),this.Ur=new kn(Un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const i=new Un(t,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Gr(new Un(t,n))}zr(t,n){t.forEach(i=>this.removeReference(i,n))}jr(t){const n=new Nt(new Ne([])),i=new Un(n,t),s=new Un(n,t+1),r=[];return this.Ur.forEachInRange([i,s],l=>{this.Gr(l),r.push(l.key)}),r}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Nt(new Ne([])),i=new Un(n,t),s=new Un(n,t+1);let r=oe();return this.Ur.forEachInRange([i,s],l=>{r=r.add(l.key)}),r}containsKey(t){const n=new Un(t,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Un{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Nt.comparator(t.key,n.key)||ae(t.Yr,n.Yr)}static Kr(t,n){return ae(t.Yr,n.Yr)||Nt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kn(Un.$r)}checkEmpty(t){return _t.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const r=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new EV(r,n,i,s);this.mutationQueue.push(l);for(const c of s)this.Zr=this.Zr.add(new Un(c.key,r)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return _t.resolve(l)}lookupMutationBatch(t,n){return _t.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.ei(i),r=s<0?0:s;return _t.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return _t.resolve(this.mutationQueue.length===0?wv:this.tr-1)}getAllMutationBatches(t){return _t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Un(n,0),s=new Un(n,Number.POSITIVE_INFINITY),r=[];return this.Zr.forEachInRange([i,s],l=>{const c=this.Xr(l.Yr);r.push(c)}),_t.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new kn(ae);return n.forEach(s=>{const r=new Un(s,0),l=new Un(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([r,l],c=>{i=i.add(c.Yr)})}),_t.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let r=i;Nt.isDocumentKey(r)||(r=r.child(""));const l=new Un(new Nt(r),0);let c=new kn(ae);return this.Zr.forEachWhile(h=>{const d=h.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(c=c.add(h.Yr)),!0)},l),_t.resolve(this.ti(c))}ti(t){const n=[];return t.forEach(i=>{const s=this.Xr(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){we(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return _t.forEach(n.mutations,s=>{const r=new Un(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,n){const i=new Un(n,0),s=this.Zr.firstAfterOrEqual(i);return _t.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,_t.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(t){this.ri=t,this.docs=function(){return new Ke(Nt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return _t.resolve(i?i.document.mutableCopy():oi.newInvalidDocument(n))}getEntries(t,n){let i=oa();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():oi.newInvalidDocument(s))}),_t.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let r=oa();const l=n.path,c=new Nt(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:p}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||V4(j4(p),i)<=0||(s.has(p.key)||Rm(n,p))&&(r=r.insert(p.key,p.mutableCopy()))}return _t.resolve(r)}getAllFromCollectionGroup(t,n,i,s){Ut(9500)}ii(t,n){return _t.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new u6(this)}getSize(t){return _t.resolve(this.size)}}class u6 extends n6{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(i)}),_t.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(t){this.persistence=t,this.si=new Dl(n=>Tv(n),Av),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Iv,this.targetCount=0,this.ai=Jc.ur()}forEachTarget(t,n){return this.si.forEach((i,s)=>n(s)),_t.resolve()}getLastRemoteSnapshotVersion(t){return _t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return _t.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),_t.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),_t.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Jc(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,_t.resolve()}updateTargetData(t,n){return this.Pr(n),_t.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,_t.resolve()}removeTargets(t,n,i){let s=0;const r=[];return this.si.forEach((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.si.delete(l),r.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),_t.waitFor(r).next(()=>s)}getTargetCount(t){return _t.resolve(this.targetCount)}getTargetData(t,n){const i=this.si.get(n)||null;return _t.resolve(i)}addMatchingKeys(t,n,i){return this._i.Wr(n,i),_t.resolve()}removeMatchingKeys(t,n,i){this._i.zr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(l=>{r.push(s.markPotentiallyOrphaned(t,l))}),_t.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),_t.resolve()}getMatchingKeysForTargetId(t,n){const i=this._i.Hr(n);return _t.resolve(i)}containsKey(t,n){return _t.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t,n){this.ui={},this.overlays={},this.ci=new Em(0),this.li=!1,this.li=!0,this.hi=new o6,this.referenceDelegate=t(this),this.Pi=new h6(this),this.indexManager=new KV,this.remoteDocumentCache=function(s){return new c6(s)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new YV(n),this.Ii=new r6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new a6,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ui[t.toKey()];return i||(i=new l6(n,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,i){Rt("MemoryPersistence","Starting transaction:",t);const s=new d6(this.ci.next());return this.referenceDelegate.Ei(),i(s).next(r=>this.referenceDelegate.di(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ai(t,n){return _t.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,n)))}}class d6 extends z4{constructor(t){super(),this.currentSequenceNumber=t}}class Ov{constructor(t){this.persistence=t,this.Ri=new Iv,this.Vi=null}static mi(t){return new Ov(t)}get fi(){if(this.Vi)return this.Vi;throw Ut(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),_t.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),_t.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),_t.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(r=>this.fi.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _t.forEach(this.fi,i=>{const s=Nt.fromPath(i);return this.gi(t,s).next(r=>{r||n.removeEntry(s,Bt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return _t.or([()=>_t.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Wg{constructor(t,n){this.persistence=t,this.pi=new Dl(i=>$4(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=e6(this,n)}static mi(t,n){return new Wg(t,n)}Ei(){}di(t){return _t.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(s=>i+s))}wr(t){let n=0;return this.pr(t,i=>{n++}).next(()=>n)}pr(t,n){return _t.forEach(this.pi,(i,s)=>this.br(t,i,s).next(r=>r?_t.resolve():n(s)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.ii(t,l=>this.br(t,l,n).next(c=>{c||(i++,r.removeEntry(l,Bt.min()))})).next(()=>r.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),_t.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),_t.resolve()}removeReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),_t.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),_t.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=mg(t.data.value)),n}br(t,n,i){return _t.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.pi.get(n);return _t.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Es=i,this.ds=s}static As(t,n){let i=oe(),s=oe();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Pv(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return sj()?8:F4(ui())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,s){const r={result:null};return this.ys(t,n).next(l=>{r.result=l}).next(()=>{if(!r.result)return this.ws(t,n,s,i).next(l=>{r.result=l})}).next(()=>{if(r.result)return;const l=new f6;return this.Ss(t,n,l).next(c=>{if(r.result=c,this.Vs)return this.bs(t,n,l,c.size)})}).next(()=>r.result)}bs(t,n,i,s){return i.documentReadCount<this.fs?(Rc()<=re.DEBUG&&Rt("QueryEngine","SDK will not create cache indexes for query:",Cc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),_t.resolve()):(Rc()<=re.DEBUG&&Rt("QueryEngine","Query:",Cc(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Rc()<=re.DEBUG&&Rt("QueryEngine","The SDK decides to create cache indexes for query:",Cc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Zs(n))):_t.resolve())}ys(t,n){if(sT(n))return _t.resolve(null);let i=Zs(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=w0(n,null,"F"),i=Zs(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const l=oe(...r);return this.ps.getDocuments(t,l).next(c=>this.indexManager.getMinOffset(t,i).next(h=>{const d=this.Ds(n,c);return this.Cs(n,d,l,h.readTime)?this.ys(t,w0(n,null,"F")):this.vs(t,d,n,h)}))})))}ws(t,n,i,s){return sT(n)||s.isEqual(Bt.min())?_t.resolve(null):this.ps.getDocuments(t,i).next(r=>{const l=this.Ds(n,r);return this.Cs(n,l,i,s)?_t.resolve(null):(Rc()<=re.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Cc(n)),this.vs(t,l,n,L4(s,_d)).next(c=>c))})}Ds(t,n){let i=new kn(ZC(t));return n.forEach((s,r)=>{Rm(t,r)&&(i=i.add(r))}),i}Cs(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Ss(t,n,i){return Rc()<=re.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",Cc(n)),this.ps.getDocumentsMatchingQuery(t,n,lo.min(),i)}vs(t,n,i,s){return this.ps.getDocumentsMatchingQuery(t,i,s).next(r=>(n.forEach(l=>{r=r.insert(l.key,l)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="LocalStore",g6=3e8;class m6{constructor(t,n,i,s){this.persistence=t,this.Fs=n,this.serializer=s,this.Ms=new Ke(ae),this.xs=new Dl(r=>Tv(r),Av),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new s6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function y6(e,t,n,i){return new m6(e,t,n,i)}async function wD(e,t){const n=qt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Bs(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const l=[],c=[];let h=oe();for(const d of s){l.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}for(const d of r){c.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(i,h).next(d=>({Ls:d,removedBatchIds:l,addedBatchIds:c}))})})}function _6(e,t){const n=qt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),r=n.Ns.newChangeBuffer({trackRemovals:!0});return function(c,h,d,p){const y=d.batch,_=y.keys();let x=_t.resolve();return _.forEach(E=>{x=x.next(()=>p.getEntry(h,E)).next(S=>{const T=d.docVersions.get(E);we(T!==null,48541),S.version.compareTo(T)<0&&(y.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),p.addEntry(S)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=oe();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function ED(e){const t=qt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function b6(e,t){const n=qt(e),i=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];t.targetChanges.forEach((p,y)=>{const _=s.get(y);if(!_)return;c.push(n.Pi.removeMatchingKeys(r,p.removedDocuments,y).next(()=>n.Pi.addMatchingKeys(r,p.addedDocuments,y)));let x=_.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(y)!==null?x=x.withResumeToken(Qn.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,i)),s=s.insert(y,x),function(S,T,D){return S.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=g6?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(_,x,p)&&c.push(n.Pi.updateTargetData(r,x))});let h=oa(),d=oe();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(r,p))}),c.push(v6(r,l,t.documentUpdates).next(p=>{h=p.ks,d=p.qs})),!i.isEqual(Bt.min())){const p=n.Pi.getLastRemoteSnapshotVersion(r).next(y=>n.Pi.setTargetsMetadata(r,r.currentSequenceNumber,i));c.push(p)}return _t.waitFor(c).next(()=>l.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,h,d)).next(()=>h)}).then(r=>(n.Ms=s,r))}function v6(e,t,n){let i=oe(),s=oe();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let l=oa();return n.forEach((c,h)=>{const d=r.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Bt.min())?(t.removeEntry(c,h.readTime),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(h),l=l.insert(c,h)):Rt(Nv,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{ks:l,qs:s}})}function x6(e,t){const n=qt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=wv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function w6(e,t){const n=qt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Pi.getTargetData(i,t).next(r=>r?(s=r,_t.resolve(s)):n.Pi.allocateTargetId(i).next(l=>(s=new Ka(t,l,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(t,i.targetId)),i})}async function k0(e,t,n){const i=qt(e),s=i.Ms.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!fu(l))throw l;Rt(Nv,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ms=i.Ms.remove(t),i.xs.delete(s.target)}function yT(e,t,n){const i=qt(e);let s=Bt.min(),r=oe();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,d,p){const y=qt(h),_=y.xs.get(p);return _!==void 0?_t.resolve(y.Ms.get(_)):y.Pi.getTargetData(d,p)}(i,l,Zs(t)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,c.targetId).next(h=>{r=h})}).next(()=>i.Fs.getDocumentsMatchingQuery(l,t,n?s:Bt.min(),n?r:oe())).next(c=>(E6(i,lV(t),c),{documents:c,Qs:r})))}function E6(e,t,n){let i=e.Os.get(t)||Bt.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.Os.set(t,i)}class _T{constructor(){this.activeTargetIds=pV()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class S6{constructor(){this.Mo=new _T,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,i){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new _T,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="ConnectivityMonitor";class vT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Rt(bT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Rt(bT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dp=null;function R0(){return Dp===null?Dp=function(){return 268435456+Math.round(2147483648*Math.random())}():Dp++,"0x"+Dp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="RestConnection",A6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class k6{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===Fg?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(t,n,i,s,r){const l=R0(),c=this.zo(t,n.toUriEncodedString());Rt(_b,`Sending RPC '${t}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,r);const{host:d}=new URL(c),p=cu(d);return this.Jo(t,c,h,i,p).then(y=>(Rt(_b,`Received RPC '${t}' ${l}: `,y),y),y=>{throw Yc(_b,`RPC '${t}' ${l} failed with error: `,y,"url: ",c,"request:",i),y})}Ho(t,n,i,s,r,l){return this.Go(t,n,i,s,r)}jo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>t[r]=s),i&&i.headers.forEach((s,r)=>t[r]=s)}zo(t,n){const i=A6[t];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni="WebChannelConnection";class C6 extends k6{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,s,r){const l=R0();return new Promise((c,h)=>{const d=new TC;d.setWithCredentials(!0),d.listenOnce(AC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case gg.NO_ERROR:const y=d.getResponseJson();Rt(ni,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),c(y);break;case gg.TIMEOUT:Rt(ni,`RPC '${t}' ${l} timed out`),h(new kt(gt.DEADLINE_EXCEEDED,"Request time out"));break;case gg.HTTP_ERROR:const _=d.getStatus();if(Rt(ni,`RPC '${t}' ${l} failed with status:`,_,"response text:",d.getResponseText()),_>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const E=x==null?void 0:x.error;if(E&&E.status&&E.message){const S=function(D){const M=D.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(M)>=0?M:gt.UNKNOWN}(E.status);h(new kt(S,E.message))}else h(new kt(gt.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new kt(gt.UNAVAILABLE,"Connection failed."));break;default:Ut(9055,{l_:t,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Rt(ni,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(s);Rt(ni,`RPC '${t}' ${l} sending request:`,s),d.send(n,"POST",p,i,15)})}T_(t,n,i){const s=R0(),r=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=CC(),c=RC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=r.join("");Rt(ni,`Creating RPC '${t}' stream ${s}: ${p}`,h);const y=l.createWebChannel(p,h);this.I_(y);let _=!1,x=!1;const E=new R6({Yo:T=>{x?Rt(ni,`Not sending because RPC '${t}' stream ${s} is closed:`,T):(_||(Rt(ni,`Opening RPC '${t}' stream ${s} transport.`),y.open(),_=!0),Rt(ni,`RPC '${t}' stream ${s} sending:`,T),y.send(T))},Zo:()=>y.close()}),S=(T,D,M)=>{T.listen(D,N=>{try{M(N)}catch(U){setTimeout(()=>{throw U},0)}})};return S(y,zh.EventType.OPEN,()=>{x||(Rt(ni,`RPC '${t}' stream ${s} transport opened.`),E.o_())}),S(y,zh.EventType.CLOSE,()=>{x||(x=!0,Rt(ni,`RPC '${t}' stream ${s} transport closed`),E.a_(),this.E_(y))}),S(y,zh.EventType.ERROR,T=>{x||(x=!0,Yc(ni,`RPC '${t}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),E.a_(new kt(gt.UNAVAILABLE,"The operation could not be completed")))}),S(y,zh.EventType.MESSAGE,T=>{var D;if(!x){const M=T.data[0];we(!!M,16349);const N=M,U=(N==null?void 0:N.error)||((D=N[0])==null?void 0:D.error);if(U){Rt(ni,`RPC '${t}' stream ${s} received error:`,U);const P=U.status;let G=function(O){const V=mn[O];if(V!==void 0)return uD(V)}(P),C=U.message;G===void 0&&(G=gt.INTERNAL,C="Unknown error status: "+P+" with message "+U.message),x=!0,E.a_(new kt(G,C)),y.close()}else Rt(ni,`RPC '${t}' stream ${s} received:`,M),E.u_(M)}}),S(c,kC.STAT_EVENT,T=>{T.stat===g0.PROXY?Rt(ni,`RPC '${t}' stream ${s} detected buffering proxy`):T.stat===g0.NOPROXY&&Rt(ni,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function bb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(e){return new OV(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t,n,i=1e3,s=1.5,r=6e4){this.Mi=t,this.timerId=n,this.d_=i,this.A_=s,this.R_=r,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&Rt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="PersistentStream";class TD{constructor(t,n,i,s,r,l,c,h){this.Mi=t,this.S_=i,this.b_=s,this.connection=r,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new SD(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===gt.RESOURCE_EXHAUSTED?(aa(n.toString()),aa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===gt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===n&&this.G_(i,s)},i=>{t(()=>{const s=new kt(gt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(t,n){const i=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Rt(xT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(Rt(xT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class D6 extends TD{constructor(t,n,i,s,r,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=r}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=LV(this.serializer,t),i=function(r){if(!("targetChange"in r))return Bt.min();const l=r.targetChange;return l.targetIds&&l.targetIds.length?Bt.min():l.readTime?Js(l.readTime):Bt.min()}(t);return this.listener.H_(n,i)}Y_(t){const n={};n.database=A0(this.serializer),n.addTarget=function(r,l){let c;const h=l.target;if(c=v0(h)?{documents:UV(r,h)}:{query:zV(r,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=fD(r,l.resumeToken);const d=E0(r,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(Bt.min())>0){c.readTime=Hg(r,l.snapshotVersion.toTimestamp());const d=E0(r,l.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,t);const i=BV(this.serializer,t);i&&(n.labels=i),this.q_(n)}Z_(t){const n={};n.database=A0(this.serializer),n.removeTarget=t,this.q_(n)}}class M6 extends TD{constructor(t,n,i,s,r,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=r}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return we(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,we(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){we(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=VV(t.writeResults,t.commitTime),i=Js(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=A0(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>jV(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{}class O6 extends I6{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new kt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,l])=>this.connection.Go(t,S0(n,i),s,r,l)).catch(r=>{throw r.name==="FirebaseError"?(r.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new kt(gt.UNKNOWN,r.toString())})}Ho(t,n,i,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Ho(t,S0(n,i),s,l,c,r)).catch(l=>{throw l.name==="FirebaseError"?(l.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new kt(gt.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class P6{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(aa(n),this.aa=!1):Rt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="RemoteStore";class N6{constructor(t,n,i,s,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=r,this.Aa.Oo(l=>{i.enqueueAndForget(async()=>{Ml(this)&&(Rt(El,"Restarting streams for network reachability change."),await async function(h){const d=qt(h);d.Ea.add(4),await qd(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Om(d)}(this))})}),this.Ra=new P6(i,s)}}async function Om(e){if(Ml(e))for(const t of e.da)await t(!0)}async function qd(e){for(const t of e.da)await t(!1)}function AD(e,t){const n=qt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Uv(n)?Vv(n):gu(n).O_()&&jv(n,t))}function Lv(e,t){const n=qt(e),i=gu(n);n.Ia.delete(t),i.O_()&&kD(n,t),n.Ia.size===0&&(i.O_()?i.L_():Ml(n)&&n.Ra.set("Unknown"))}function jv(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Bt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gu(e).Y_(t)}function kD(e,t){e.Va.Ue(t),gu(e).Z_(t)}function Vv(e){e.Va=new CV({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),gu(e).start(),e.Ra.ua()}function Uv(e){return Ml(e)&&!gu(e).x_()&&e.Ia.size>0}function Ml(e){return qt(e).Ea.size===0}function RD(e){e.Va=void 0}async function L6(e){e.Ra.set("Online")}async function j6(e){e.Ia.forEach((t,n)=>{jv(e,t)})}async function V6(e,t){RD(e),Uv(e)?(e.Ra.ha(t),Vv(e)):e.Ra.set("Unknown")}async function U6(e,t,n){if(e.Ra.set("Online"),t instanceof dD&&t.state===2&&t.cause)try{await async function(s,r){const l=r.cause;for(const c of r.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.Va.removeTarget(c))}(e,t)}catch(i){Rt(El,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Yg(e,i)}else if(t instanceof bg?e.Va.Ze(t):t instanceof hD?e.Va.st(t):e.Va.tt(t),!n.isEqual(Bt.min()))try{const i=await ED(e.localStore);n.compareTo(i)>=0&&await function(r,l){const c=r.Va.Tt(l);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const p=r.Ia.get(d);p&&r.Ia.set(d,p.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,d)=>{const p=r.Ia.get(h);if(!p)return;r.Ia.set(h,p.withResumeToken(Qn.EMPTY_BYTE_STRING,p.snapshotVersion)),kD(r,h);const y=new Ka(p.target,h,d,p.sequenceNumber);jv(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(e,n)}catch(i){Rt(El,"Failed to raise snapshot:",i),await Yg(e,i)}}async function Yg(e,t,n){if(!fu(t))throw t;e.Ea.add(1),await qd(e),e.Ra.set("Offline"),n||(n=()=>ED(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Rt(El,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Om(e)})}function CD(e,t){return t().catch(n=>Yg(e,n,t))}async function Pm(e){const t=qt(e),n=fo(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:wv;for(;z6(t);)try{const s=await x6(t.localStore,i);if(s===null){t.Ta.length===0&&n.L_();break}i=s.batchId,F6(t,s)}catch(s){await Yg(t,s)}DD(t)&&MD(t)}function z6(e){return Ml(e)&&e.Ta.length<10}function F6(e,t){e.Ta.push(t);const n=fo(e);n.O_()&&n.X_&&n.ea(t.mutations)}function DD(e){return Ml(e)&&!fo(e).x_()&&e.Ta.length>0}function MD(e){fo(e).start()}async function B6(e){fo(e).ra()}async function $6(e){const t=fo(e);for(const n of e.Ta)t.ea(n.mutations)}async function q6(e,t,n){const i=e.Ta.shift(),s=Cv.from(i,t,n);await CD(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Pm(e)}async function H6(e,t){t&&fo(e).X_&&await async function(i,s){if(function(l){return AV(l)&&l!==gt.ABORTED}(s.code)){const r=i.Ta.shift();fo(i).B_(),await CD(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Pm(i)}}(e,t),DD(e)&&MD(e)}async function wT(e,t){const n=qt(e);n.asyncQueue.verifyOperationInProgress(),Rt(El,"RemoteStore received new credentials");const i=Ml(n);n.Ea.add(3),await qd(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Om(n)}async function W6(e,t){const n=qt(e);t?(n.Ea.delete(2),await Om(n)):t||(n.Ea.add(2),await qd(n),n.Ra.set("Unknown"))}function gu(e){return e.ma||(e.ma=function(n,i,s){const r=qt(n);return r.sa(),new D6(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{Xo:L6.bind(null,e),t_:j6.bind(null,e),r_:V6.bind(null,e),H_:U6.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Uv(e)?Vv(e):e.Ra.set("Unknown")):(await e.ma.stop(),RD(e))})),e.ma}function fo(e){return e.fa||(e.fa=function(n,i,s){const r=qt(n);return r.sa(),new M6(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:B6.bind(null,e),r_:H6.bind(null,e),ta:$6.bind(null,e),na:q6.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Pm(e)):(await e.fa.stop(),e.Ta.length>0&&(Rt(El,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,r){const l=Date.now()+i,c=new zv(t,n,l,s,r);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new kt(gt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fv(e,t){if(aa("AsyncQueue",`${t}: ${e}`),fu(e))return new kt(gt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{static emptySet(t){return new Nc(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Nt.comparator(n.key,i.key):(n,i)=>Nt.comparator(n.key,i.key),this.keyedMap=Fh(),this.sortedSet=new Ke(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Nc)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Nc;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.ga=new Ke(Nt.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Ut(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class tu{constructor(t,n,i,s,r,l,c,h,d){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(t,n,i,s,r){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new tu(t,n,Nc.emptySet(n),l,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&km(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class G6{constructor(){this.queries=ST(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=qt(n),r=s.queries;s.queries=ST(),r.forEach((l,c)=>{for(const h of c.Sa)h.onError(i)})})(this,new kt(gt.ABORTED,"Firestore shutting down"))}}function ST(){return new Dl(e=>QC(e),km)}async function Bv(e,t){const n=qt(e);let i=3;const s=t.query;let r=n.queries.get(s);r?!r.ba()&&t.Da()&&(i=2):(r=new Y6,i=t.Da()?0:1);try{switch(i){case 0:r.wa=await n.onListen(s,!0);break;case 1:r.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=Fv(l,`Initialization of query '${Cc(t.query)}' failed`);return void t.onError(c)}n.queries.set(s,r),r.Sa.push(t),t.va(n.onlineState),r.wa&&t.Fa(r.wa)&&qv(n)}async function $v(e,t){const n=qt(e),i=t.query;let s=3;const r=n.queries.get(i);if(r){const l=r.Sa.indexOf(t);l>=0&&(r.Sa.splice(l,1),r.Sa.length===0?s=t.Da()?0:1:!r.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function K6(e,t){const n=qt(e);let i=!1;for(const s of t){const r=s.query,l=n.queries.get(r);if(l){for(const c of l.Sa)c.Fa(s)&&(i=!0);l.wa=s}}i&&qv(n)}function X6(e,t,n){const i=qt(e),s=i.queries.get(t);if(s)for(const r of s.Sa)r.onError(n);i.queries.delete(t)}function qv(e){e.Ca.forEach(t=>{t.next()})}var C0,TT;(TT=C0||(C0={})).Ma="default",TT.Cache="cache";class Hv{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new tu(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=tu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==C0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(t){this.key=t}}class OD{constructor(t){this.key=t}}class Q6{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=oe(),this.mutatedKeys=oe(),this.eu=ZC(t),this.tu=new Nc(this.eu)}get nu(){return this.Ya}ru(t,n){const i=n?n.iu:new ET,s=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((p,y)=>{const _=s.get(p),x=Rm(this.query,y)?y:null,E=!!_&&this.mutatedKeys.has(_.key),S=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let T=!1;_&&x?_.data.isEqual(x.data)?E!==S&&(i.track({type:3,doc:x}),T=!0):this.su(_,x)||(i.track({type:2,doc:x}),T=!0,(h&&this.eu(x,h)>0||d&&this.eu(x,d)<0)&&(c=!0)):!_&&x?(i.track({type:0,doc:x}),T=!0):_&&!x&&(i.track({type:1,doc:_}),T=!0,(h||d)&&(c=!0)),T&&(x?(l=l.add(x),r=S?r.add(p):r.delete(p)):(l=l.delete(p),r=r.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),r=r.delete(p.key),i.track({type:1,doc:p})}return{tu:l,iu:i,Cs:c,mutatedKeys:r}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const r=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort((p,y)=>function(x,E){const S=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut(20277,{Rt:T})}};return S(x)-S(E)}(p.type,y.type)||this.eu(p.doc,y.doc)),this.ou(i),s=s??!1;const c=n&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,d=h!==this.Za;return this.Za=h,l.length!==0||d?{snapshot:new tu(this.query,t.tu,r,l,t.mutatedKeys,h===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ET,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=oe(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return t.forEach(i=>{this.Xa.has(i)||n.push(new OD(i))}),this.Xa.forEach(i=>{t.has(i)||n.push(new ID(i))}),n}cu(t){this.Ya=t.Qs,this.Xa=oe();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return tu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wv="SyncEngine";class Z6{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class J6{constructor(t){this.key=t,this.hu=!1}}class t5{constructor(t,n,i,s,r,l){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Dl(c=>QC(c),km),this.Iu=new Map,this.Eu=new Set,this.du=new Ke(Nt.comparator),this.Au=new Map,this.Ru=new Iv,this.Vu={},this.mu=new Map,this.fu=Jc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function e5(e,t,n=!0){const i=UD(e);let s;const r=i.Tu.get(t);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.lu()):s=await PD(i,t,n,!0),s}async function n5(e,t){const n=UD(e);await PD(n,t,!0,!1)}async function PD(e,t,n,i){const s=await w6(e.localStore,Zs(t)),r=s.targetId,l=e.sharedClientState.addLocalQueryTarget(r,n);let c;return i&&(c=await i5(e,t,r,l==="current",s.resumeToken)),e.isPrimaryClient&&n&&AD(e.remoteStore,s),c}async function i5(e,t,n,i,s){e.pu=(y,_,x)=>async function(S,T,D,M){let N=T.view.ru(D);N.Cs&&(N=await yT(S.localStore,T.query,!1).then(({documents:C})=>T.view.ru(C,N)));const U=M&&M.targetChanges.get(T.targetId),P=M&&M.targetMismatches.get(T.targetId)!=null,G=T.view.applyChanges(N,S.isPrimaryClient,U,P);return kT(S,T.targetId,G.au),G.snapshot}(e,y,_,x);const r=await yT(e.localStore,t,!0),l=new Q6(t,r.Qs),c=l.ru(r.documents),h=$d.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),d=l.applyChanges(c,e.isPrimaryClient,h);kT(e,n,d.au);const p=new Z6(t,n,l);return e.Tu.set(t,p),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),d.snapshot}async function s5(e,t,n){const i=qt(e),s=i.Tu.get(t),r=i.Iu.get(s.targetId);if(r.length>1)return i.Iu.set(s.targetId,r.filter(l=>!km(l,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await k0(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Lv(i.remoteStore,s.targetId),D0(i,s.targetId)}).catch(du)):(D0(i,s.targetId),await k0(i.localStore,s.targetId,!0))}async function r5(e,t){const n=qt(e),i=n.Tu.get(t),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Lv(n.remoteStore,i.targetId))}async function a5(e,t,n){const i=f5(e);try{const s=await function(l,c){const h=qt(l),d=Oe.now(),p=c.reduce((x,E)=>x.add(E.key),oe());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",x=>{let E=oa(),S=oe();return h.Ns.getEntries(x,p).next(T=>{E=T,E.forEach((D,M)=>{M.isValidDocument()||(S=S.add(D))})}).next(()=>h.localDocuments.getOverlayedDocuments(x,E)).next(T=>{y=T;const D=[];for(const M of c){const N=xV(M,y.get(M.key).overlayedDocument);N!=null&&D.push(new vo(M.key,N,$C(N.value.mapValue),ws.exists(!0)))}return h.mutationQueue.addMutationBatch(x,d,D,c)}).next(T=>{_=T;const D=T.applyToLocalDocumentSet(y,S);return h.documentOverlayCache.saveOverlays(x,T.batchId,D)})}).then(()=>({batchId:_.batchId,changes:tD(y)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let d=l.Vu[l.currentUser.toKey()];d||(d=new Ke(ae)),d=d.insert(c,h),l.Vu[l.currentUser.toKey()]=d}(i,s.batchId,n),await Hd(i,s.changes),await Pm(i.remoteStore)}catch(s){const r=Fv(s,"Failed to persist write");n.reject(r)}}async function ND(e,t){const n=qt(e);try{const i=await b6(n.localStore,t);t.targetChanges.forEach((s,r)=>{const l=n.Au.get(r);l&&(we(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?we(l.hu,14607):s.removedDocuments.size>0&&(we(l.hu,42227),l.hu=!1))}),await Hd(n,i,t)}catch(i){await du(i)}}function AT(e,t,n){const i=qt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach((r,l)=>{const c=l.view.va(t);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=qt(l);h.onlineState=c;let d=!1;h.queries.forEach((p,y)=>{for(const _ of y.Sa)_.va(c)&&(d=!0)}),d&&qv(h)}(i.eventManager,t),s.length&&i.Pu.H_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function o5(e,t,n){const i=qt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Au.get(t),r=s&&s.key;if(r){let l=new Ke(Nt.comparator);l=l.insert(r,oi.newNoDocument(r,Bt.min()));const c=oe().add(r),h=new Mm(Bt.min(),new Map,new Ke(ae),l,c);await ND(i,h),i.du=i.du.remove(r),i.Au.delete(t),Yv(i)}else await k0(i.localStore,t,!1).then(()=>D0(i,t,n)).catch(du)}async function l5(e,t){const n=qt(e),i=t.batch.batchId;try{const s=await _6(n.localStore,t);jD(n,i,null),LD(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Hd(n,s)}catch(s){await du(s)}}async function c5(e,t,n){const i=qt(e);try{const s=await function(l,c){const h=qt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return h.mutationQueue.lookupMutationBatch(d,c).next(y=>(we(y!==null,37113),p=y.keys(),h.mutationQueue.removeMutationBatch(d,y))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>h.localDocuments.getDocuments(d,p))})}(i.localStore,t);jD(i,t,n),LD(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Hd(i,s)}catch(s){await du(s)}}function LD(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function jD(e,t,n){const i=qt(e);let s=i.Vu[i.currentUser.toKey()];if(s){const r=s.get(t);r&&(n?r.reject(n):r.resolve(),s=s.remove(t)),i.Vu[i.currentUser.toKey()]=s}}function D0(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(i=>{e.Ru.containsKey(i)||VD(e,i)})}function VD(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Lv(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Yv(e))}function kT(e,t,n){for(const i of n)i instanceof ID?(e.Ru.addReference(i.key,t),u5(e,i)):i instanceof OD?(Rt(Wv,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||VD(e,i.key)):Ut(19791,{wu:i})}function u5(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(Rt(Wv,"New document in limbo: "+n),e.Eu.add(i),Yv(e))}function Yv(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Nt(Ne.fromString(t)),i=e.fu.next();e.Au.set(i,new J6(n)),e.du=e.du.insert(n,i),AD(e.remoteStore,new Ka(Zs(Am(n.path)),i,"TargetPurposeLimboResolution",Em.ce))}}async function Hd(e,t,n){const i=qt(e),s=[],r=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach((c,h)=>{l.push(i.pu(h,t,n).then(d=>{var p;if((d||n)&&i.isPrimaryClient){const y=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:p.current;i.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(d){s.push(d);const y=Pv.As(h.targetId,d);r.push(y)}}))}),await Promise.all(l),i.Pu.H_(s),await async function(h,d){const p=qt(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>_t.forEach(d,_=>_t.forEach(_.Es,x=>p.persistence.referenceDelegate.addReference(y,_.targetId,x)).next(()=>_t.forEach(_.ds,x=>p.persistence.referenceDelegate.removeReference(y,_.targetId,x)))))}catch(y){if(!fu(y))throw y;Rt(Nv,"Failed to update sequence numbers: "+y)}for(const y of d){const _=y.targetId;if(!y.fromCache){const x=p.Ms.get(_),E=x.snapshotVersion,S=x.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(_,S)}}}(i.localStore,r))}async function h5(e,t){const n=qt(e);if(!n.currentUser.isEqual(t)){Rt(Wv,"User change. New user:",t.toKey());const i=await wD(n.localStore,t);n.currentUser=t,function(r,l){r.mu.forEach(c=>{c.forEach(h=>{h.reject(new kt(gt.CANCELLED,l))})}),r.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Hd(n,i.Ls)}}function d5(e,t){const n=qt(e),i=n.Au.get(t);if(i&&i.hu)return oe().add(i.key);{let s=oe();const r=n.Iu.get(t);if(!r)return s;for(const l of r){const c=n.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}function UD(e){const t=qt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ND.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=d5.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=o5.bind(null,t),t.Pu.H_=K6.bind(null,t.eventManager),t.Pu.yu=X6.bind(null,t.eventManager),t}function f5(e){const t=qt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=l5.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=c5.bind(null,t),t}class Gg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Im(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return y6(this.persistence,new p6,t.initialUser,this.serializer)}Cu(t){return new xD(Ov.mi,this.serializer)}Du(t){return new S6}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gg.provider={build:()=>new Gg};class p5 extends Gg{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){we(this.persistence.referenceDelegate instanceof Wg,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new JV(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Si.withCacheSize(this.cacheSizeBytes):Si.DEFAULT;return new xD(i=>Wg.mi(i,n),this.serializer)}}class M0{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>AT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=h5.bind(null,this.syncEngine),await W6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new G6}()}createDatastore(t){const n=Im(t.databaseInfo.databaseId),i=function(r){return new C6(r)}(t.databaseInfo);return function(r,l,c,h){return new O6(r,l,c,h)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,r,l,c){return new N6(i,s,r,l,c)}(this.localStore,this.datastore,t.asyncQueue,n=>AT(this.syncEngine,n,0),function(){return vT.v()?new vT:new T6}())}createSyncEngine(t,n){return function(s,r,l,c,h,d,p){const y=new t5(s,r,l,c,h,d);return p&&(y.gu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const r=qt(s);Rt(El,"RemoteStore shutting down."),r.Ea.add(5),await qd(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}M0.provider={build:()=>new M0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):aa("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="FirestoreClient";class g5{constructor(t,n,i,s,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=ri.UNAUTHENTICATED,this.clientId=xv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async l=>{Rt(po,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(Rt(po,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Fv(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function vb(e,t){e.asyncQueue.verifyOperationInProgress(),Rt(po,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await wD(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function RT(e,t){e.asyncQueue.verifyOperationInProgress();const n=await m5(e);Rt(po,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>wT(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>wT(t.remoteStore,s)),e._onlineComponents=t}async function m5(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Rt(po,"Using user provided OfflineComponentProvider");try{await vb(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===gt.FAILED_PRECONDITION||s.code===gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Yc("Error using user provided cache. Falling back to memory cache: "+n),await vb(e,new Gg)}}else Rt(po,"Using default OfflineComponentProvider"),await vb(e,new p5(void 0));return e._offlineComponents}async function zD(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Rt(po,"Using user provided OnlineComponentProvider"),await RT(e,e._uninitializedComponentsProvider._online)):(Rt(po,"Using default OnlineComponentProvider"),await RT(e,new M0))),e._onlineComponents}function y5(e){return zD(e).then(t=>t.syncEngine)}async function Kg(e){const t=await zD(e),n=t.eventManager;return n.onListen=e5.bind(null,t.syncEngine),n.onUnlisten=s5.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=n5.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=r5.bind(null,t.syncEngine),n}function _5(e,t,n={}){const i=new ea;return e.asyncQueue.enqueueAndForget(async()=>function(r,l,c,h,d){const p=new Gv({next:_=>{p.Nu(),l.enqueueAndForget(()=>$v(r,y));const x=_.docs.has(c);!x&&_.fromCache?d.reject(new kt(gt.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&_.fromCache&&h&&h.source==="server"?d.reject(new kt(gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),y=new Hv(Am(c.path),p,{includeMetadataChanges:!0,qa:!0});return Bv(r,y)}(await Kg(e),e.asyncQueue,t,n,i)),i.promise}function b5(e,t,n={}){const i=new ea;return e.asyncQueue.enqueueAndForget(async()=>function(r,l,c,h,d){const p=new Gv({next:_=>{p.Nu(),l.enqueueAndForget(()=>$v(r,y)),_.fromCache&&h.source==="server"?d.reject(new kt(gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),y=new Hv(c,p,{includeMetadataChanges:!0,qa:!0});return Bv(r,y)}(await Kg(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="firestore.googleapis.com",DT=!0;class MT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new kt(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BD,this.ssl=DT}else this.host=t.host,this.ssl=t.ssl??DT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vD;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<QV)throw new kt(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}N4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FD(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new kt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new kt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new kt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Nm{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new kt(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new kt(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new T4;switch(i.type){case"firstParty":return new C4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new kt(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=CT.get(n);i&&(Rt("ComponentProvider","Removing Datastore"),CT.delete(n),i.terminate())}(this),Promise.resolve()}}function v5(e,t,n,i={}){var d;e=zi(e,Nm);const s=cu(t),r=e._getSettings(),l={...r,emulatorOptions:e._getEmulatorOptions()},c=`${t}:${n}`;s&&(yC(`https://${c}`),_C("Firestore",!0)),r.host!==BD&&r.host!==c&&Yc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...r,host:c,ssl:s,emulatorOptions:i};if(!sa(h,l)&&(e._setSettings(h),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=ri.MOCK_USER;else{p=KL(i.mockUserToken,(d=e._app)==null?void 0:d.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new kt(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ri(_)}e._authCredentials=new A4(new MC(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new xo(this.firestore,t,this._query)}}class tn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new tn(this.firestore,t,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(Fd(n,tn._jsonSchema))return new tn(t,i||null,new Nt(Ne.fromString(n.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:bn("string",tn._jsonSchemaVersion),referencePath:bn("string")};class ro extends xo{constructor(t,n,i){super(t,n,Am(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new tn(this.firestore,null,new Nt(t))}withConverter(t){return new ro(this.firestore,t,this._path)}}function Ge(e,t,...n){if(e=He(e),IC("collection","path",t),e instanceof Nm){const i=Ne.fromString(t,...n);return qS(i),new ro(e,null,i)}{if(!(e instanceof tn||e instanceof ro))throw new kt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ne.fromString(t,...n));return qS(i),new ro(e.firestore,null,i)}}function An(e,t,...n){if(e=He(e),arguments.length===1&&(t=xv.newId()),IC("doc","path",t),e instanceof Nm){const i=Ne.fromString(t,...n);return $S(i),new tn(e,null,new Nt(i))}{if(!(e instanceof tn||e instanceof ro))throw new kt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ne.fromString(t,...n));return $S(i),new tn(e.firestore,e instanceof ro?e.converter:null,new Nt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="AsyncQueue";class OT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new SD(this,"async_queue_retry"),this._c=()=>{const i=bb();i&&Rt(IT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=bb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=bb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ea;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!fu(t))throw t;Rt(IT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,aa("INTERNAL UNHANDLED ERROR: ",PT(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=zv.createAndSchedule(this,t,n,i,r=>this.hc(r));return this.tc.push(s),s}uc(){this.nc&&Ut(47125,{Pc:PT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function PT(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(e,["next","error","complete"])}class go extends Nm{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new OT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new OT(t),this._firestoreClient=void 0,await t}}}function x5(e,t){const n=typeof e=="object"?e:bv(),i=typeof e=="string"?e:Fg,s=_v(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=YL("firestore");r&&v5(s,...r)}return s}function Lm(e){if(e._terminated)throw new kt(gt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||w5(e),e._firestoreClient}function w5(e){var i,s,r;const t=e._freezeSettings(),n=function(c,h,d,p){return new W4(c,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,FD(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(e._databaseId,((i=e._app)==null?void 0:i.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(s=t.localCache)!=null&&s._offlineComponentProvider&&((r=t.localCache)!=null&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new g5(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new rs(Qn.fromBase64String(t))}catch(n){throw new kt(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new rs(Qn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:rs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fd(t,rs._jsonSchema))return rs.fromBase64String(t.bytes)}}rs._jsonSchemaVersion="firestore/bytes/1.0",rs._jsonSchema={type:bn("string",rs._jsonSchemaVersion),bytes:bn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new kt(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new kt(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new kt(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ae(this._lat,t._lat)||ae(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:tr._jsonSchemaVersion}}static fromJSON(t){if(Fd(t,tr._jsonSchema))return new tr(t.latitude,t.longitude)}}tr._jsonSchemaVersion="firestore/geoPoint/1.0",tr._jsonSchema={type:bn("string",tr._jsonSchemaVersion),latitude:bn("number"),longitude:bn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,t._values)}toJSON(){return{type:er._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fd(t,er._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new er(t.vectorValues);throw new kt(gt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}er._jsonSchemaVersion="firestore/vectorValue/1.0",er._jsonSchema={type:bn("string",er._jsonSchemaVersion),vectorValues:bn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=/^__.*__$/;class S5{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new vo(t,this.data,this.fieldMask,n,this.fieldTransforms):new Bd(t,this.data,n,this.fieldTransforms)}}class $D{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new vo(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function qD(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut(40011,{Ac:e})}}class Vm{constructor(t,n,i,s,r,l){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Rc(),this.fieldTransforms=r||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Vm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var s;const n=(s=this.path)==null?void 0:s.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){var s;const n=(s=this.path)==null?void 0:s.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Xg(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(qD(this.Ac)&&E5.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class T5{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Im(t)}Cc(t,n,i,s=!1){return new Vm({Ac:t,methodName:n,Dc:i,path:Xn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Um(e){const t=e._freezeSettings(),n=Im(e._databaseId);return new T5(e._databaseId,!!t.ignoreUndefinedProperties,n)}function HD(e,t,n,i,s,r={}){const l=e.Cc(r.merge||r.mergeFields?2:0,t,n,s);Zv("Data must be an object, but it was:",l,i);const c=YD(i,l);let h,d;if(r.merge)h=new Ui(l.fieldMask),d=l.fieldTransforms;else if(r.mergeFields){const p=[];for(const y of r.mergeFields){const _=I0(t,y,n);if(!l.contains(_))throw new kt(gt.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);KD(p,_)||p.push(_)}h=new Ui(p),d=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,d=l.fieldTransforms;return new S5(new Ti(c),h,d)}class zm extends mu{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof zm}}function WD(e,t,n){return new Vm({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Kv extends mu{_toFieldTransform(t){return new Rv(t.path,new Ed)}isEqual(t){return t instanceof Kv}}class Xv extends mu{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=WD(this,t,!0),i=this.vc.map(r=>Il(r,n)),s=new Qc(i);return new Rv(t.path,s)}isEqual(t){return t instanceof Xv&&sa(this.vc,t.vc)}}class Qv extends mu{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=WD(this,t,!0),i=this.vc.map(r=>Il(r,n)),s=new Zc(i);return new Rv(t.path,s)}isEqual(t){return t instanceof Qv&&sa(this.vc,t.vc)}}function A5(e,t,n,i){const s=e.Cc(1,t,n);Zv("Data must be an object, but it was:",s,i);const r=[],l=Ti.empty();bo(i,(h,d)=>{const p=Jv(t,h,n);d=He(d);const y=s.yc(p);if(d instanceof zm)r.push(p);else{const _=Il(d,y);_!=null&&(r.push(p),l.set(p,_))}});const c=new Ui(r);return new $D(l,c,s.fieldTransforms)}function k5(e,t,n,i,s,r){const l=e.Cc(1,t,n),c=[I0(t,i,n)],h=[s];if(r.length%2!=0)throw new kt(gt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<r.length;_+=2)c.push(I0(t,r[_])),h.push(r[_+1]);const d=[],p=Ti.empty();for(let _=c.length-1;_>=0;--_)if(!KD(d,c[_])){const x=c[_];let E=h[_];E=He(E);const S=l.yc(x);if(E instanceof zm)d.push(x);else{const T=Il(E,S);T!=null&&(d.push(x),p.set(x,T))}}const y=new Ui(d);return new $D(p,y,l.fieldTransforms)}function R5(e,t,n,i=!1){return Il(n,e.Cc(i?4:3,t))}function Il(e,t){if(GD(e=He(e)))return Zv("Unsupported field value:",t,e),YD(e,t);if(e instanceof mu)return function(i,s){if(!qD(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,s){const r=[];let l=0;for(const c of i){let h=Il(c,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),r.push(h),l++}return{arrayValue:{values:r}}}(e,t)}return function(i,s){if((i=He(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return gV(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Oe.fromDate(i);return{timestampValue:Hg(s.serializer,r)}}if(i instanceof Oe){const r=new Oe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Hg(s.serializer,r)}}if(i instanceof tr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof rs)return{bytesValue:fD(s.serializer,i._byteString)};if(i instanceof tn){const r=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(r))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Mv(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof er)return function(l,c){return{mapValue:{fields:{[FC]:{stringValue:BC},[Bg]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return kv(c.serializer,d)})}}}}}}(i,s);throw s.Sc(`Unsupported field value: ${wm(i)}`)}(e,t)}function YD(e,t){const n={};return NC(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bo(e,(i,s)=>{const r=Il(s,t.mc(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function GD(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Oe||e instanceof tr||e instanceof rs||e instanceof tn||e instanceof mu||e instanceof er)}function Zv(e,t,n){if(!GD(n)||!OC(n)){const i=wm(n);throw i==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function I0(e,t,n){if((t=He(t))instanceof jm)return t._internalPath;if(typeof t=="string")return Jv(e,t);throw Xg("Field path arguments must be of type string or ",e,!1,void 0,n)}const C5=new RegExp("[~\\*/\\[\\]]");function Jv(e,t,n){if(t.search(C5)>=0)throw Xg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new jm(...t.split("."))._internalPath}catch{throw Xg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Xg(e,t,n,i,s){const r=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${t}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(r||l)&&(h+=" (found",r&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new kt(gt.INVALID_ARGUMENT,c+e+h)}function KD(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new D5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Fm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class D5 extends XD{data(){return super.data()}}function Fm(e,t){return typeof t=="string"?Jv(e,t):t instanceof jm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new kt(gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tx{}class ZD extends tx{}function Rn(e,t,...n){let i=[];t instanceof tx&&i.push(t),i=i.concat(n),function(r){const l=r.filter(h=>h instanceof ex).length,c=r.filter(h=>h instanceof Bm).length;if(l>1||l>0&&c>0)throw new kt(gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)e=s._apply(e);return e}class Bm extends ZD{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Bm(t,n,i)}_apply(t){const n=this._parse(t);return JD(t._query,n),new xo(t.firestore,t.converter,x0(t._query,n))}_parse(t){const n=Um(t.firestore);return function(r,l,c,h,d,p,y){let _;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new kt(gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){jT(y,p);const E=[];for(const S of y)E.push(LT(h,r,S));_={arrayValue:{values:E}}}else _=LT(h,r,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||jT(y,p),_=R5(c,l,y,p==="in"||p==="not-in");return _n.create(d,p,_)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function on(e,t,n){const i=t,s=Fm("where",e);return Bm._create(s,i,n)}class ex extends tx{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new ex(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Ss.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,r){let l=s;const c=r.getFlattenedFilters();for(const h of c)JD(l,h),l=x0(l,h)}(t._query,n),new xo(t.firestore,t.converter,x0(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class nx extends ZD{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new nx(t,n)}_apply(t){const n=function(s,r,l){if(s.startAt!==null)throw new kt(gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new kt(gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wd(r,l)}(t._query,this._field,this._direction);return new xo(t.firestore,t.converter,function(s,r){const l=s.explicitOrderBy.concat([r]);return new pu(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,n))}}function Sd(e,t="asc"){const n=t,i=Fm("orderBy",e);return nx._create(i,n)}function LT(e,t,n){if(typeof(n=He(n))=="string"){if(n==="")throw new kt(gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XC(t)&&n.indexOf("/")!==-1)throw new kt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Ne.fromString(n));if(!Nt.isDocumentKey(i))throw new kt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ZS(e,new Nt(i))}if(n instanceof tn)return ZS(e,n._key);throw new kt(gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wm(n)}.`)}function jT(e,t){if(!Array.isArray(e)||e.length===0)throw new kt(gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function JD(e,t){const n=function(s,r){for(const l of s)for(const c of l.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new kt(gt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new kt(gt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class M5{convertValue(t,n="none"){switch(ho(t)){case 0:return null;case 1:return t.booleanValue;case 2:return an(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(uo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ut(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return bo(t,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(t){var i,s,r;const n=(r=(s=(i=t.fields)==null?void 0:i[Bg].arrayValue)==null?void 0:s.values)==null?void 0:r.map(l=>an(l.doubleValue));return new er(n)}convertGeoPoint(t){return new tr(an(t.latitude),an(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Tm(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(bd(t));default:return null}}convertTimestamp(t){const n=co(t);return new Oe(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Ne.fromString(t);we(bD(i),9688,{name:t});const s=new vd(i.get(1),i.get(3)),r=new Nt(i.popFirst(5));return s.isEqual(n)||aa(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class $h{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class gl extends XD{constructor(t,n,i,s,r,l){super(t,n,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Fm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new kt(gt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=gl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}gl._jsonSchemaVersion="firestore/documentSnapshot/1.0",gl._jsonSchema={type:bn("string",gl._jsonSchemaVersion),bundleSource:bn("string","DocumentSnapshot"),bundleName:bn("string"),bundle:bn("string")};class vg extends gl{data(t={}){return super.data(t)}}class ml{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new $h(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new vg(this._firestore,this._userDataWriter,i.key,i,new $h(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new kt(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new vg(s._firestore,s._userDataWriter,c.doc.key,c.doc,new $h(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>r||c.type!==3).map(c=>{const h=new vg(s._firestore,s._userDataWriter,c.doc.key,c.doc,new $h(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,p=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:I5(c.type),doc:h,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new kt(gt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ml._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=xv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),s.push(r.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function I5(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(e){e=zi(e,tn);const t=zi(e.firestore,go);return _5(Lm(t),e._key).then(n=>eM(t,e,n))}ml._jsonSchemaVersion="firestore/querySnapshot/1.0",ml._jsonSchema={type:bn("string",ml._jsonSchemaVersion),bundleSource:bn("string","QuerySnapshot"),bundleName:bn("string"),bundle:bn("string")};class ix extends M5{constructor(t){super(),this.firestore=t}convertBytes(t){return new rs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function ao(e){e=zi(e,xo);const t=zi(e.firestore,go),n=Lm(t),i=new ix(t);return QD(e._query),b5(n,e._query).then(s=>new ml(t,i,e,s))}function O5(e,t,n){e=zi(e,tn);const i=zi(e.firestore,go),s=tM(e.converter,t);return sx(i,[HD(Um(i),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,ws.none())])}function ys(e,t,n,...i){e=zi(e,tn);const s=zi(e.firestore,go),r=Um(s);let l;return l=typeof(t=He(t))=="string"||t instanceof jm?k5(r,"updateDoc",e._key,t,n,i):A5(r,"updateDoc",e._key,t),sx(s,[l.toMutation(e._key,ws.exists(!0))])}function P5(e,t){const n=zi(e.firestore,go),i=An(e),s=tM(e.converter,t);return sx(n,[HD(Um(e.firestore),"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,ws.exists(!1))]).then(()=>i)}function as(e,...t){var h,d,p;e=He(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||NT(t[i])||(n=t[i++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(NT(t[i])){const y=t[i];t[i]=(h=y.next)==null?void 0:h.bind(y),t[i+1]=(d=y.error)==null?void 0:d.bind(y),t[i+2]=(p=y.complete)==null?void 0:p.bind(y)}let r,l,c;if(e instanceof tn)l=zi(e.firestore,go),c=Am(e._key.path),r={next:y=>{t[i]&&t[i](eM(l,e,y))},error:t[i+1],complete:t[i+2]};else{const y=zi(e,xo);l=zi(y.firestore,go),c=y._query;const _=new ix(l);r={next:x=>{t[i]&&t[i](new ml(l,_,y,x))},error:t[i+1],complete:t[i+2]},QD(e._query)}return function(_,x,E,S){const T=new Gv(S),D=new Hv(x,T,E);return _.asyncQueue.enqueueAndForget(async()=>Bv(await Kg(_),D)),()=>{T.Nu(),_.asyncQueue.enqueueAndForget(async()=>$v(await Kg(_),D))}}(Lm(l),c,s,r)}function sx(e,t){return function(i,s){const r=new ea;return i.asyncQueue.enqueueAndForget(async()=>a5(await y5(i),s,r)),r.promise}(Lm(e),t)}function eM(e,t,n){const i=n.docs.get(t._key),s=new ix(e);return new gl(e,s,t._key,i,new $h(n.hasPendingWrites,n.fromCache),t.converter)}function O0(){return new Kv("serverTimestamp")}function N5(...e){return new Xv("arrayUnion",e)}function L5(...e){return new Qv("arrayRemove",e)}(function(t,n=!0){(function(s){hu=s})(uu),Wc(new xl("firestore",(i,{instanceIdentifier:s,options:r})=>{const l=i.getProvider("app").getImmediate(),c=new go(new k4(i.getProvider("auth-internal")),new D4(l,i.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new kt(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vd(d.options.projectId,p)}(l,s),l);return r={useFetchStreams:n,...r},c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),io(US,zS,t),io(US,zS,"esm2020")})();function nM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const j5=nM,iM=new Ud("auth","Firebase",nM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=new mv("@firebase/auth");function V5(e,...t){Qg.logLevel<=re.WARN&&Qg.warn(`Auth (${uu}): ${e}`,...t)}function xg(e,...t){Qg.logLevel<=re.ERROR&&Qg.error(`Auth (${uu}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(e,...t){throw rx(e,...t)}function nr(e,...t){return rx(e,...t)}function sM(e,t,n){const i={...j5(),[t]:n};return new Ud("auth","Firebase",i).create(t,{appName:e.name})}function na(e){return sM(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rx(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return iM.create(e,...t)}function It(e,t,...n){if(!e)throw rx(t,...n)}function Wr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw xg(t),new Error(t)}function la(e,t){e||Wr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function U5(){return VT()==="http:"||VT()==="https:"}function VT(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U5()||ej()||"connection"in navigator)?navigator.onLine:!0}function F5(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(t,n){this.shortDelay=t,this.longDelay=n,la(n>t,"Short delay should be less than long delay!"),this.isMobile=ZL()||nj()}get(){return z5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(e,t){la(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q5=new Wd(3e4,6e4);function cr(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Rs(e,t,n,i,s={}){return aM(e,s,async()=>{let r={},l={};i&&(t==="GET"?l=i:r={body:JSON.stringify(i)});const c=zd({key:e.config.apiKey,...l}).slice(1),h=await e._getAdditionalHeaders();h["Content-Type"]="application/json",e.languageCode&&(h["X-Firebase-Locale"]=e.languageCode);const d={method:t,headers:h,...r};return tj()||(d.referrerPolicy="no-referrer"),e.emulatorConfig&&cu(e.emulatorConfig.host)&&(d.credentials="include"),rM.fetch()(await oM(e,e.config.apiHost,n,c),d)})}async function aM(e,t,n){e._canInitEmulator=!1;const i={...B5,...t};try{const s=new W5(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await r.json();if("needConfirmation"in l)throw Mp(e,"account-exists-with-different-credential",l);if(r.ok&&!("errorMessage"in l))return l;{const c=r.ok?l.errorMessage:l.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mp(e,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Mp(e,"email-already-in-use",l);if(h==="USER_DISABLED")throw Mp(e,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw sM(e,p,d);ls(e,p)}}catch(s){if(s instanceof lr)throw s;ls(e,"network-request-failed",{message:String(s)})}}async function Yd(e,t,n,i,s={}){const r=await Rs(e,t,n,i,s);return"mfaPendingCredential"in r&&ls(e,"multi-factor-auth-required",{_serverResponse:r}),r}async function oM(e,t,n,i){const s=`${t}${n}?${i}`,r=e,l=r.config.emulator?ax(e.config,s):`${e.config.apiScheme}://${s}`;return $5.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(l).toString():l}function H5(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(nr(this.auth,"network-request-failed")),q5.get())})}}function Mp(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=nr(e,t,i);return s.customData._tokenResponse=n,s}function UT(e){return e!==void 0&&e.enterprise!==void 0}class Y5{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return H5(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function G5(e,t){return Rs(e,"GET","/v2/recaptchaConfig",cr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5(e,t){return Rs(e,"POST","/v1/accounts:delete",t)}async function Zg(e,t){return Rs(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function X5(e,t=!1){const n=He(e),i=await n.getIdToken(t),s=ox(i);It(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,l=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:nd(xb(s.auth_time)),issuedAtTime:nd(xb(s.iat)),expirationTime:nd(xb(s.exp)),signInProvider:l||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function xb(e){return Number(e)*1e3}function ox(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return xg("JWT malformed, contained fewer than 3 sections"),null;try{const s=fC(n);return s?JSON.parse(s):(xg("Failed to decode base64 JWT payload"),null)}catch(s){return xg("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function zT(e){const t=ox(e);return It(t,"internal-error"),It(typeof t.exp<"u","internal-error"),It(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof lr&&Q5(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function Q5({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nd(this.lastLoginAt),this.creationTime=nd(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jg(e){var y;const t=e.auth,n=await e.getIdToken(),i=await eu(e,Zg(t,{idToken:n}));It(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const r=(y=s.providerUserInfo)!=null&&y.length?lM(s.providerUserInfo):[],l=t3(e.providerData,r),c=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),d=c?h:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new N0(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,p)}async function J5(e){const t=He(e);await Jg(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function t3(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function lM(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3(e,t){const n=await aM(e,{},async()=>{const i=zd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,l=await oM(e,s,"/v1/token",`key=${r}`),c=await e._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:i};return e.emulatorConfig&&cu(e.emulatorConfig.host)&&(h.credentials="include"),rM.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function n3(e,t){return Rs(e,"POST","/v2/accounts:revokeToken",cr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){It(t.idToken,"internal-error"),It(typeof t.idToken<"u","internal-error"),It(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):zT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){It(t.length!==0,"internal-error");const n=zT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(It(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await e3(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,l=new Lc;return i&&(It(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),s&&(It(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),r&&(It(typeof r=="number","internal-error",{appName:t}),l.expirationTime=r),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Lc,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(e,t){It(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class _s{constructor({uid:t,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new Z5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new N0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await eu(this,this.stsTokenManager.getToken(this.auth,t));return It(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return X5(this,t)}reload(){return J5(this)}_assign(t){this!==t&&(It(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new _s({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){It(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Jg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ss(this.auth.app))return Promise.reject(na(this.auth));const t=await this.getIdToken();return await eu(this,K5(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,s=n.email??void 0,r=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,h=n._redirectEventId??void 0,d=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:x,providerData:E,stsTokenManager:S}=n;It(y&&S,t,"internal-error");const T=Lc.fromJSON(this.name,S);It(typeof y=="string",t,"internal-error"),za(i,t.name),za(s,t.name),It(typeof _=="boolean",t,"internal-error"),It(typeof x=="boolean",t,"internal-error"),za(r,t.name),za(l,t.name),za(c,t.name),za(h,t.name),za(d,t.name),za(p,t.name);const D=new _s({uid:y,auth:t,email:s,emailVerified:_,displayName:i,isAnonymous:x,photoURL:l,phoneNumber:r,tenantId:c,stsTokenManager:T,createdAt:d,lastLoginAt:p});return E&&Array.isArray(E)&&(D.providerData=E.map(M=>({...M}))),h&&(D._redirectEventId=h),D}static async _fromIdTokenResponse(t,n,i=!1){const s=new Lc;s.updateFromServerResponse(n);const r=new _s({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Jg(r),r}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];It(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?lM(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),c=new Lc;c.updateFromIdToken(i);const h=new _s({uid:s.localId,auth:t,stsTokenManager:c,isAnonymous:l}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new N0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=new Map;function Yr(e){la(e instanceof Function,"Expected a class definition");let t=FT.get(e);return t?(la(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,FT.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}cM.type="NONE";const L0=cM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(e,t,n){return`firebase:${e}:${t}:${n}`}class jc{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=wg(this.userKey,s.apiKey,r),this.fullPersistenceKey=wg("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Zg(this.auth,{idToken:t}).catch(()=>{});return n?_s._fromGetAccountInfoResponse(this.auth,n,t):null}return _s._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new jc(Yr(L0),t,i);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let r=s[0]||Yr(L0);const l=wg(i,t.config.apiKey,t.name);let c=null;for(const d of n)try{const p=await d._get(l);if(p){let y;if(typeof p=="string"){const _=await Zg(t,{idToken:p}).catch(()=>{});if(!_)break;y=await _s._fromGetAccountInfoResponse(t,_,p)}else y=_s._fromJSON(t,p);d!==r&&(c=y),r=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!r._shouldAllowMigration||!h.length?new jc(r,t,i):(r=h[0],c&&await r._set(l,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==r)try{await d._remove(l)}catch{}})),new jc(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fM(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(uM(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gM(t))return"Blackberry";if(mM(t))return"Webos";if(hM(t))return"Safari";if((t.includes("chrome/")||dM(t))&&!t.includes("edge/"))return"Chrome";if(pM(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function uM(e=ui()){return/firefox\//i.test(e)}function hM(e=ui()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function dM(e=ui()){return/crios\//i.test(e)}function fM(e=ui()){return/iemobile/i.test(e)}function pM(e=ui()){return/android/i.test(e)}function gM(e=ui()){return/blackberry/i.test(e)}function mM(e=ui()){return/webos/i.test(e)}function lx(e=ui()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function i3(e=ui()){var t;return lx(e)&&!!((t=window.navigator)!=null&&t.standalone)}function s3(){return ij()&&document.documentMode===10}function yM(e=ui()){return lx(e)||pM(e)||mM(e)||gM(e)||/windows phone/i.test(e)||fM(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(e,t=[]){let n;switch(e){case"Browser":n=BT(ui());break;case"Worker":n=`${BT(ui())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${uu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((l,c)=>{try{const h=t(r);l(h)}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(e,t={}){return Rs(e,"GET","/v2/passwordPolicy",cr(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=6;class l3{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??o3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $T(this),this.idTokenSubscription=new $T(this),this.beforeStateQueue=new r3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Yr(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await jc.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Zg(this,{idToken:t}),i=await _s._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(ss(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(r=this.redirectUser)==null?void 0:r._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return It(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Jg(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=F5()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ss(this.app))return Promise.reject(na(this));const n=t?He(t):null;return n&&It(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&It(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ss(this.app)?Promise.reject(na(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ss(this.app)?Promise.reject(na(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await a3(this),n=new l3(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ud("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await n3(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Yr(t)||this._popupRedirectResolver;It(n,this,"argument-error"),this.redirectPersistenceManager=await jc.create(this,[Yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(It(c,this,"internal-error"),c.then(()=>{l||r(this.currentUser)}),typeof n=="function"){const h=t.addObserver(n,i,s);return()=>{l=!0,h()}}else{const h=t.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return It(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=_M(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(ss(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&V5(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ca(e){return He(e)}class $T{constructor(t){this.auth=t,this.observer=null,this.addObserver=hj(n=>this.observer=n)}get next(){return It(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u3(e){$m=e}function bM(e){return $m.loadJS(e)}function h3(){return $m.recaptchaEnterpriseScript}function d3(){return $m.gapiScript}function f3(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class p3{constructor(){this.enterprise=new g3}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class g3{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const m3="recaptcha-enterprise",vM="NO_RECAPTCHA";class y3{constructor(t){this.type=m3,this.auth=ca(t)}async verify(t="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(l,c)=>{G5(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new Y5(h);return r.tenantId==null?r._agentRecaptchaConfig=d:r._tenantRecaptchaConfigs[r.tenantId]=d,l(d.siteKey)}}).catch(h=>{c(h)})})}function s(r,l,c){const h=window.grecaptcha;UT(h)?h.enterprise.ready(()=>{h.enterprise.execute(r,{action:t}).then(d=>{l(d)}).catch(()=>{l(vM)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new p3().execute("siteKey",{action:"verify"}):new Promise((r,l)=>{i(this.auth).then(c=>{if(!n&&UT(window.grecaptcha))s(c,r,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=h3();h.length!==0&&(h+=c),bM(h).then(()=>{s(c,r,l)}).catch(d=>{l(d)})}}).catch(c=>{l(c)})})}}async function qT(e,t,n,i=!1,s=!1){const r=new y3(e);let l;if(s)l=vM;else try{l=await r.verify(n)}catch{l=await r.verify(n,!0)}const c={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function tm(e,t,n,i,s){var r;if((r=e._getRecaptchaConfig())!=null&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await qT(e,t,n,n==="getOobCode");return i(e,l)}else return i(e,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await qT(e,t,n,n==="getOobCode");return i(e,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(e,t){const n=_v(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(sa(r,t??{}))return s;ls(s,"already-initialized")}return n.initialize({options:t})}function b3(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Yr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function v3(e,t,n){const i=ca(e);It(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,r=xM(t),{host:l,port:c}=x3(t),h=c===null?"":`:${c}`,d={url:`${r}//${l}${h}/`},p=Object.freeze({host:l,port:c,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){It(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),It(sa(d,i.config.emulator)&&sa(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,cu(l)?(yC(`${r}//${l}${h}`),_C("Auth",!0)):w3()}function xM(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function x3(e){const t=xM(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:HT(i.substr(r.length+1))}}else{const[r,l]=i.split(":");return{host:r,port:HT(l)}}}function HT(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function w3(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Wr("not implemented")}_getIdTokenResponse(t){return Wr("not implemented")}_linkToIdToken(t,n){return Wr("not implemented")}_getReauthenticationResolver(t){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(e,t){return Rs(e,"POST","/v1/accounts:resetPassword",cr(e,t))}async function E3(e,t){return Rs(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S3(e,t){return Yd(e,"POST","/v1/accounts:signInWithPassword",cr(e,t))}async function T3(e,t){return Rs(e,"POST","/v1/accounts:sendOobCode",cr(e,t))}async function A3(e,t){return T3(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k3(e,t){return Yd(e,"POST","/v1/accounts:signInWithEmailLink",cr(e,t))}async function R3(e,t){return Yd(e,"POST","/v1/accounts:signInWithEmailLink",cr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends cx{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new Td(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Td(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tm(t,n,"signInWithPassword",S3);case"emailLink":return k3(t,{email:this._email,oobCode:this._password});default:ls(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tm(t,i,"signUpPassword",E3);case"emailLink":return R3(t,{idToken:n,email:this._email,oobCode:this._password});default:ls(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(e,t){return Yd(e,"POST","/v1/accounts:signInWithIdp",cr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="http://localhost";class Tl extends cx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Tl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ls("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...r}=n;if(!i||!s)return null;const l=new Tl(i,s);return l.idToken=r.idToken||void 0,l.accessToken=r.accessToken||void 0,l.secret=r.secret,l.nonce=r.nonce,l.pendingToken=r.pendingToken||null,l}_getIdTokenResponse(t){const n=this.buildRequest();return Vc(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Vc(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Vc(t,n)}buildRequest(){const t={requestUri:C3,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=zd(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function M3(e){const t=Vh(Uh(e)).link,n=t?Vh(Uh(t)).deep_link_id:null,i=Vh(Uh(e)).deep_link_id;return(i?Vh(Uh(i)).link:null)||i||n||t||e}class ux{constructor(t){const n=Vh(Uh(t)),i=n.apiKey??null,s=n.oobCode??null,r=D3(n.mode??null);It(i&&s&&r,"argument-error"),this.apiKey=i,this.operation=r,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=M3(t);try{return new ux(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(){this.providerId=yu.PROVIDER_ID}static credential(t,n){return Td._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=ux.parseLink(n);return It(i,"argument-error"),Td._fromEmailAndCode(t,i.code,i.tenantId)}}yu.PROVIDER_ID="password";yu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends EM{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends Gd{constructor(){super("facebook.com")}static credential(t){return Tl._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ha.credentialFromTaggedObject(t)}static credentialFromError(t){return Ha.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ha.credential(t.oauthAccessToken)}catch{return null}}}Ha.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ha.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends Gd{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Tl._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Wa.credentialFromTaggedObject(t)}static credentialFromError(t){return Wa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Wa.credential(n,i)}catch{return null}}}Wa.GOOGLE_SIGN_IN_METHOD="google.com";Wa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Gd{constructor(){super("github.com")}static credential(t){return Tl._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ya.credentialFromTaggedObject(t)}static credentialFromError(t){return Ya.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ya.credential(t.oauthAccessToken)}catch{return null}}}Ya.GITHUB_SIGN_IN_METHOD="github.com";Ya.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends Gd{constructor(){super("twitter.com")}static credential(t,n){return Tl._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ga.credentialFromTaggedObject(t)}static credentialFromError(t){return Ga.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Ga.credential(n,i)}catch{return null}}}Ga.TWITTER_SIGN_IN_METHOD="twitter.com";Ga.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I3(e,t){return Yd(e,"POST","/v1/accounts:signUp",cr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await _s._fromIdTokenResponse(t,i,s),l=WT(i);return new Al({user:r,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=WT(i);return new Al({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function WT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em extends lr{constructor(t,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,em.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new em(t,n,i,s)}}function SM(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?em._fromErrorAndOperation(e,r,t,i):r})}async function O3(e,t,n=!1){const i=await eu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Al._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P3(e,t,n=!1){const{auth:i}=e;if(ss(i.app))return Promise.reject(na(i));const s="reauthenticate";try{const r=await eu(e,SM(i,s,t,e),n);It(r.idToken,i,"internal-error");const l=ox(r.idToken);It(l,i,"internal-error");const{sub:c}=l;return It(e.uid===c,i,"user-mismatch"),Al._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&ls(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(e,t,n=!1){if(ss(e.app))return Promise.reject(na(e));const i="signIn",s=await SM(e,i,t),r=await Al._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}async function N3(e,t){return TM(ca(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(t,n){this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(t,n){return"phoneInfo"in n?dx._fromServerResponse(t,n):"totpInfo"in n?fx._fromServerResponse(t,n):ls(t,"internal-error")}}class dx extends hx{constructor(t){super("phone",t),this.phoneNumber=t.phoneInfo}static _fromServerResponse(t,n){return new dx(n)}}class fx extends hx{constructor(t){super("totp",t)}static _fromServerResponse(t,n){return new fx(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(e,t,n){var i;It(((i=n.url)==null?void 0:i.length)>0,e,"invalid-continue-uri"),It(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),It(typeof n.linkDomain>"u"||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(It(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(It(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(e){const t=ca(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function j3(e,t,n){const i=ca(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&L3(i,s,n),await tm(i,s,"getOobCode",A3)}async function V3(e,t,n){await wM(He(e),{oobCode:t,newPassword:n}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&px(e),i})}async function U3(e,t){const n=He(e),i=await wM(n,{oobCode:t}),s=i.requestType;switch(It(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":It(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":It(i.mfaInfo,n,"internal-error");default:It(i.email,n,"internal-error")}let r=null;return i.mfaInfo&&(r=hx._fromServerResponse(ca(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:r},operation:s}}async function z3(e,t){const{data:n}=await U3(He(e),t);return n.email}async function F3(e,t,n){if(ss(e.app))return Promise.reject(na(e));const i=ca(e),l=await tm(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",I3).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&px(e),h}),c=await Al._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function AM(e,t,n){return ss(e.app)?Promise.reject(na(e)):N3(He(e),yu.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&px(e),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B3(e,t){return Rs(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $3(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const i=He(e),r={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},l=await eu(i,B3(i.auth,r));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const c=i.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(e,t){return He(e).setPersistence(t)}function H3(e,t,n,i){return He(e).onIdTokenChanged(t,n,i)}function W3(e,t,n){return He(e).beforeAuthStateChanged(t,n)}function wo(e,t,n,i){return He(e).onAuthStateChanged(t,n,i)}function Y3(e){return He(e).signOut()}const nm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nm,"1"),this.storage.removeItem(nm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=1e3,K3=10;class RM extends kM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},r=this.storage.getItem(i);s3()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,K3):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},G3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}RM.type="LOCAL";const X3=RM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM extends kM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}CM.type="SESSION";const DM=CM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new qm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async d=>d(n.origin,r)),h=await Q3(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,l;return new Promise((c,h)=>{const d=gx("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(y){const _=y;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),r=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),c(_.data.response);break;default:clearTimeout(p),clearTimeout(r),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:d,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return window}function J3(e){ir().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}async function tU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eU(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function nU(){return MM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="firebaseLocalStorageDb",iU=1,im="firebaseLocalStorage",OM="fbase_key";class Kd{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hm(e,t){return e.transaction([im],t?"readwrite":"readonly").objectStore(im)}function sU(){const e=indexedDB.deleteDatabase(IM);return new Kd(e).toPromise()}function j0(){const e=indexedDB.open(IM,iU);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(im,{keyPath:OM})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(im)?t(i):(i.close(),await sU(),t(await j0()))})})}async function YT(e,t,n){const i=Hm(e,!0).put({[OM]:t,value:n});return new Kd(i).toPromise()}async function rU(e,t){const n=Hm(e,!1).get(t),i=await new Kd(n).toPromise();return i===void 0?null:i.value}function GT(e,t){const n=Hm(e,!0).delete(t);return new Kd(n).toPromise()}const aU=800,oU=3;class PM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await j0(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>oU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qm._getInstance(nU()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await tU(),!this.activeServiceWorker)return;this.sender=new Z3(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||eU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await j0();return await YT(t,nm,"1"),await GT(t,nm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>YT(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>rU(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>GT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=Hm(s,!1).getAll();return new Kd(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PM.type="LOCAL";const lU=PM;new Wd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(e,t){return t?Yr(t):(It(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx extends cx{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Vc(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Vc(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Vc(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function uU(e){return TM(e.auth,new mx(e),e.bypassAuthState)}function hU(e){const{auth:t,user:n}=e;return It(n,t,"internal-error"),P3(n,new mx(e),e.bypassAuthState)}async function dU(e){const{auth:t,user:n}=e;return It(n,t,"internal-error"),O3(n,new mx(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:l,type:c}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return uU;case"linkViaPopup":case"linkViaRedirect":return dU;case"reauthViaPopup":case"reauthViaRedirect":return hU;default:ls(this.auth,"internal-error")}}resolve(t){la(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){la(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=new Wd(2e3,1e4);class Oc extends NM{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Oc.currentPopupAction&&Oc.currentPopupAction.cancel(),Oc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return It(t,this.auth,"internal-error"),t}async onExecution(){la(this.filter.length===1,"Popup operations only handle one event");const t=gx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oc.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,fU.get())};t()}}Oc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU="pendingRedirect",Eg=new Map;class gU extends NM{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Eg.get(this.auth._key());if(!t){try{const i=await mU(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Eg.set(this.auth._key(),t)}return this.bypassAuthState||Eg.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mU(e,t){const n=bU(t),i=_U(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function yU(e,t){Eg.set(e._key(),t)}function _U(e){return Yr(e._redirectPersistence)}function bU(e){return wg(pU,e.config.apiKey,e.name)}async function vU(e,t,n=!1){if(ss(e.app))return Promise.reject(na(e));const i=ca(e),s=cU(i,t),l=await new gU(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU=600*1e3;class wU{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!EU(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!LM(t)){const s=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(nr(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=xU&&this.cachedEventUids.clear(),this.cachedEventUids.has(KT(t))}saveEventToCache(t){this.cachedEventUids.add(KT(t)),this.lastProcessedEventTime=Date.now()}}function KT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function LM({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function EU(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LM(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SU(e,t={}){return Rs(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AU=/^https?/;async function kU(e){if(e.config.emulator)return;const{authorizedDomains:t}=await SU(e);for(const n of t)try{if(RU(n))return}catch{}ls(e,"unauthorized-domain")}function RU(e){const t=P0(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const l=new URL(e);return l.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!AU.test(n))return!1;if(TU.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU=new Wd(3e4,6e4);function XT(){const e=ir().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function DU(e){return new Promise((t,n)=>{var s,r,l;function i(){XT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{XT(),n(nr(e,"network-request-failed"))},timeout:CU.get()})}if((r=(s=ir().gapi)==null?void 0:s.iframes)!=null&&r.Iframe)t(gapi.iframes.getContext());else if((l=ir().gapi)!=null&&l.load)i();else{const c=f3("iframefcb");return ir()[c]=()=>{gapi.load?i():n(nr(e,"network-request-failed"))},bM(`${d3()}?onload=${c}`).catch(h=>n(h))}}).catch(t=>{throw Sg=null,t})}let Sg=null;function MU(e){return Sg=Sg||DU(e),Sg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=new Wd(5e3,15e3),OU="__/auth/iframe",PU="emulator/auth/iframe",NU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jU(e){const t=e.config;It(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ax(t,PU):`https://${e.config.authDomain}/${OU}`,i={apiKey:t.apiKey,appName:e.name,v:uu},s=LU.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${zd(i).slice(1)}`}async function VU(e){const t=await MU(e),n=ir().gapi;return It(n,e,"internal-error"),t.open({where:document.body,url:jU(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NU,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const l=nr(e,"network-request-failed"),c=ir().setTimeout(()=>{r(l)},IU.get());function h(){ir().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{r(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zU=500,FU=600,BU="_blank",$U="http://localhost";class QT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qU(e,t,n,i=zU,s=FU){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h={...UU,width:i.toString(),height:s.toString(),top:r,left:l},d=ui().toLowerCase();n&&(c=dM(d)?BU:n),uM(d)&&(t=t||$U,h.scrollbars="yes");const p=Object.entries(h).reduce((_,[x,E])=>`${_}${x}=${E},`,"");if(i3(d)&&c!=="_self")return HU(t||"",c),new QT(null);const y=window.open(t||"",c,p);It(y,e,"popup-blocked");try{y.focus()}catch{}return new QT(y)}function HU(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU="__/auth/handler",YU="emulator/auth/handler",GU=encodeURIComponent("fac");async function ZT(e,t,n,i,s,r){It(e.config.authDomain,e,"auth-domain-config-required"),It(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:uu,eventId:s};if(t instanceof EM){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",uj(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(t instanceof Gd){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await e._getAppCheckToken(),d=h?`#${GU}=${encodeURIComponent(h)}`:"";return`${KU(e)}?${zd(c).slice(1)}${d}`}function KU({config:e}){return e.emulator?ax(e,YU):`https://${e.authDomain}/${WU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="webStorageSupport";class XU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DM,this._completeRedirectFn=vU,this._overrideRedirectResult=yU}async _openPopup(t,n,i,s){var l;la((l=this.eventManagers[t._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const r=await ZT(t,n,i,P0(),s);return qU(t,r,gx())}async _openRedirect(t,n,i,s){await this._originValidation(t);const r=await ZT(t,n,i,P0(),s);return J3(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(la(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await VU(t),i=new wU(t);return n.register("authEvent",s=>(It(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(wb,{type:wb},s=>{var l;const r=(l=s==null?void 0:s[0])==null?void 0:l[wb];r!==void 0&&n(!!r),ls(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kU(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return yM()||hM()||lx()}}const QU=XU;var JT="@firebase/auth",tA="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){It(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tz(e){Wc(new xl("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;It(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_M(e)},d=new c3(i,s,r,h);return b3(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Wc(new xl("auth-internal",t=>{const n=ca(t.getProvider("auth").getImmediate());return(i=>new ZU(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),io(JT,tA,JU(e)),io(JT,tA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez=300,nz=mC("authIdTokenMaxAge")||ez;let eA=null;const iz=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>nz)return;const s=n==null?void 0:n.token;eA!==s&&(eA=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function sz(e=bv()){const t=_v(e,"auth");if(t.isInitialized())return t.getImmediate();const n=_3(e,{popupRedirectResolver:QU,persistence:[lU,X3,DM]}),i=mC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const l=iz(r.toString());W3(n,l,()=>l(n.currentUser)),H3(n,c=>l(c))}}const s=pC("auth");return s&&v3(n,`http://${s}`),n}function rz(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}u3({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=nr("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",rz().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tz("Browser");function az(e){const t=atob(e.replace(/\s+/g,""));return JSON.parse(t)}const oz=az("eyJhcGlLZXkiOiJBSXphU3lEUHBuY3hzdzYtTTZDdndmcXZERkNPWGduVXVIWG80NG8iLCJhdXRoRG9tYWluIjoicGRtcy1lZGEzNy5maXJlYmFzZWFwcC5jb20iLCJwcm9qZWN0SWQiOiJwZG1zLWVkYTM3Iiwic3RvcmFnZUJ1Y2tldCI6InBkbXMtZWRhMzcuZmlyZWJhc2VzdG9yYWdlLmFwcCIsIm1lc3NhZ2luZ1NlbmRlcklkIjoiNjI3MTE1MTkyNzYiLCJhcHBJZCI6IjE6NjI3MTE1MTkyNzY6d2ViOjFkNjZhMjYyMjhjMTg0ZDEzNWQ5ODkifQ=="),jM=d4().length?bv():xC(oz),Kt=x5(jM),ci=sz(jM),lz=e=>btoa(String.fromCharCode(...new Uint8Array(e))),cz=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n.buffer},Uc=e=>{const t=new Uint8Array(e.byteLength);return t.set(e),t.buffer};function uz(e,t,n=7,i="/"){const s=new Date(Date.now()+n*864e5).toUTCString();document.cookie=`${encodeURIComponent(e)}=${encodeURIComponent(t)}; Expires=${s}; Path=${i}; SameSite=Lax`}function hz(e){const t=`${encodeURIComponent(e)}=`,n=document.cookie.split("; ");for(const i of n)if(i.startsWith(t))return decodeURIComponent(i.slice(t.length));return null}function yx(e,t="/"){document.cookie=`${encodeURIComponent(e)}=; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Path=${t}; SameSite=Lax`}async function VM(e,t){const n=new TextEncoder,i=await crypto.subtle.importKey("raw",n.encode(e),"PBKDF2",!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:1e5,hash:"SHA-256"},i,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}const UM=1;async function dz(e,t){const n=new TextEncoder,i=crypto.getRandomValues(new Uint8Array(12)),s=crypto.getRandomValues(new Uint8Array(16)),r=await VM(t,Uc(s)),l=await crypto.subtle.encrypt({name:"AES-GCM",iv:Uc(i)},r,Uc(n.encode(JSON.stringify(e)))),c=new Uint8Array(1+i.length+s.length);c[0]=UM,c.set(i,1),c.set(s,1+i.length);const h=new Uint8Array(c.length+new Uint8Array(l).length);return h.set(c,0),h.set(new Uint8Array(l),c.length),lz(h.buffer)}async function fz(e,t){const n=new Uint8Array(cz(e));if(n[0]!==UM)throw new Error("Unsupported version");const i=n.slice(1,13),s=n.slice(13,29),r=n.slice(29),l=await VM(t,Uc(s)),c=await crypto.subtle.decrypt({name:"AES-GCM",iv:Uc(i)},l,Uc(r));return JSON.parse(new TextDecoder().decode(c))}async function pz(e){await q3(e,L0)}const Ad="pcz_auth_shadow",zM="dev-only-fallback-change-this";async function FM(e,t,n=7){const i={email:e,password:t,t:Date.now()},s=await dz(i,zM);uz(Ad,s,n)}async function gz(e,t,n,i,s=7){const r=await AM(e,t,n);return i?await FM(t,n,s):yx(Ad),r}async function mz(e){const t=hz(Ad);if(!t)return!1;try{const{email:n,password:i}=await fz(t,zM);return await AM(e,n,i),!0}catch{return yx(Ad),!1}}async function yz(e){yx(Ad),await Y3(e)}const _z=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function bz(e){const t="이메일 또는 비밀번호가 올바르지 않습니다.";return e instanceof lr&&e.code==="auth/invalid-email"?"이메일 형식이 올바르지 않습니다.":t}function vz({onLoginSuccess:e}){const[t,n]=j.useState(""),[i,s]=j.useState(""),[r,l]=j.useState(!0),c=_o(),h=()=>c("/find-password"),d=async()=>{const p=t;if(!p){alert("이메일을 입력해주세요.");return}if(!_z.test(p)){alert("이메일 형식이 올바르지 않습니다. 예) name@example.com");return}if(!i){alert("비밀번호를 입력해주세요.");return}try{await gz(ci,p,i,r),e(),c("/main")}catch(y){alert(bz(y))}};return v.jsxs(xz,{children:[v.jsxs(wz,{children:[v.jsxs(Ez,{children:[v.jsx(Sz,{children:"PDMS"}),v.jsx(Tz,{children:"Pushcomz Design Management System"})]}),v.jsxs(Az,{children:[v.jsx(kz,{type:"text",value:t,onChange:p=>n(p.target.value),placeholder:"이메일을 입력해주세요."}),v.jsx(Rz,{type:"password",value:i,onChange:p=>s(p.target.value),placeholder:"비밀번호를 입력해주세요."}),v.jsxs(Cz,{children:[v.jsxs(Dz,{children:[v.jsx("input",{type:"checkbox",checked:r,onChange:p=>l(p.target.checked)}),v.jsx("span",{children:"새로고침시 로그인 유지"})]}),v.jsx(Mz,{type:"button",onClick:h,children:"비밀번호 찾기"})]})]}),v.jsx(Iz,{onClick:d,children:"로그인"})]}),v.jsx(Oz,{children:"© Pushcomz Corp."})]})}const xz=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:e})=>e.colors.gray01};
`,wz=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:e})=>e.colors.white01};
`,Ez=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,Sz=B.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.navy};
`,Tz=B.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,Az=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
`,kz=B.input`
  width: 460px;
  margin-bottom: 10px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,Rz=B.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,Cz=B.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  width: 100%;
  margin-top: 15px;
  color: #555;
  font-size: 13px;
`,Dz=B.label`
   ${({theme:e})=>e.mixin.flex("center")};

   input {
    margin-right: 5px;
   }

   span {
    color: ${({theme:e})=>e.colors.navy};
   }
`,Mz=B.button`
  color: ${({theme:e})=>e.colors.navy};
`,Iz=B.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:e})=>e.colors.white01};
`,Oz=B.p`
  margin-top: 20px;
  font-size: 12px;
  font-weight: 300;
  line-height: 18px;
  text-align: center;
`,Pz="/pdms-test/assets/homeplus-logo-BtZJKVuP.svg",Nz="/pdms-test/assets/nsmall-logo-B-mz9SOB.svg";function Lz({userRole:e}){const[t,n]=pm(),i=t.get("view")||"dashboard",s=p=>{n(y=>{const _=new URLSearchParams(y);return _.set("view",p),_})},r=e??1,l=r===3,c=j.useMemo(()=>{switch(r){case 1:return{my:"요청 리스트",all:"전체 요청 리스트"};case 2:return{my:"작업 리스트",all:"전체 작업 리스트"};case 3:return{my:"요청 리스트",all:""};default:return{my:"요청 리스트",all:"전체 요청 리스트"}}},[r]),h="myrequestlist",d=!l;return v.jsx(jz,{children:v.jsxs(Vz,{children:[v.jsx(Ip,{children:v.jsx(Op,{type:"button",onClick:()=>s(h),$active:i===h,children:c.my})}),d&&v.jsx(Ip,{children:v.jsx(Op,{type:"button",onClick:()=>s("allrequestlist"),$active:i==="allrequestlist",children:c.all})}),v.jsx(Ip,{children:v.jsx(Op,{type:"button",onClick:()=>s("dashboard"),$active:i==="dashboard",children:"전체 현황"})}),l&&v.jsx(Ip,{children:v.jsx(Op,{type:"button",onClick:()=>s("inworkhour"),$active:i==="inworkhour",children:"내부 공수"})})]})})}const jz=B.nav``,Vz=B.ul`
  ${({theme:e})=>e.mixin.flex("center","flex-start")};
  gap: 0 20px;
`,Ip=B.li``,Op=B.button`
  color: ${({theme:e,$active:t})=>t?e.colors.white01:e.colors.gray02};
  font-family: 'Pretendard';
  font-size: 15px;
  font-weight: 500;

  &:hover {
    color: ${({theme:e})=>e.colors.white01};
  }
`,nA={HOMEPLUS:"homeplus",NSMALL:"nsmall"};function Uz(){const[e,t]=j.useState(""),[n,i]=j.useState(""),[s,r]=j.useState(null),l=_o();j.useEffect(()=>{const _=wo(ci,async x=>{if(x){x.displayName&&t(x.displayName);const E=await Sl(An(Kt,"users",x.uid));if(E.exists()){const S=E.data();r(S.role??null),i(S.company??"")}else r(null),i("")}else t(""),r(null),i("")});return()=>_()},[]);const c=async()=>{try{await yz(ci),l("/")}catch(_){alert("로그아웃 중 오류가 발생했습니다: "+_.message)}},h=_=>{switch(_){case 1:return"요청자";case 2:return"디자이너";case 3:return"담당자";default:return"역할 없음"}},d=j.useMemo(()=>{const _=String(n??"").trim().replace(/\s+/g,"").toLowerCase();return _==="homeplus"?nA.HOMEPLUS:_==="nsmall"||_==="n-small"?nA.NSMALL:null},[n]),p=d==="homeplus"?Pz:d==="nsmall"?Nz:null,y=!!p;return v.jsxs(zz,{children:[v.jsxs(Fz,{$hasLogo:y,children:[y&&v.jsx(Bz,{children:v.jsx($z,{src:p,alt:"company logo"})}),v.jsx(Lz,{userRole:s})]}),v.jsxs(qz,{children:[v.jsxs(Hz,{children:[v.jsx(Wz,{children:e}),"님(",h(s),") ",n,"환영합니다."]}),v.jsx(Yz,{onClick:c,children:"로그아웃"}),v.jsx(Gz,{})]})]})}const zz=B.header`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  height: 64px;
  padding: 0 48px;
  font-family: 'Pretendard';
  background-color: ${({theme:e})=>e.colors.black};
`,Fz=B.div`
  ${({theme:e})=>e.mixin.flex("center")};
  gap: ${({$hasLogo:e})=>e?"0 10px":"0"};
`,Bz=B.div`
  width: 120px;
`,$z=B.img`
  width: 100%;
  vertical-align: sub;
`,qz=B.div``,Hz=B.span`
  margin-right: 24px;
  color: ${({theme:e})=>e.colors.white01};
  font-size: 16px;
`,Wz=B.span`
  font-weight: 700;
`,Yz=B.button`
  padding: 5px 10px;
  border: 1px solid ${({theme:e})=>e.colors.white01};
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  font-size: 16px;
`,Gz=B.span`
  color: ${({theme:e})=>e.colors.white01};
  font-size: 16px;
`,_x="/pdms-test/assets/url-icon-DJKri2bW.svg";function Kz({item:e,index:t,disableActions:n,onReviewComplete:i,onCancel:s,onEditClick:r,onDetailClick:l}){const c=e.manager_review_status==="검수완료",h=x=>{if(!x)return"-";if(x.toDate){const E=x.toDate();return`${E.getMonth()+1}/${E.getDate()}`}return x},d=x=>{x.stopPropagation(),l(e)},p=e.requester_review_status==="검수완료",y=Array.isArray(e.assigned_designers)?e.assigned_designers:null,_=!!e.url&&e.url.trim().length>0;return v.jsxs(Xz,{isCanceled:e.status==="취소",children:[v.jsx(ns,{children:t}),v.jsx(ns,{children:v.jsx(n9,{onClick:d,$hasUpdate:!!e.updated_date,children:e.design_request_id})}),v.jsx(ns,{children:h(e.request_date)}),v.jsx(Qz,{children:h(e.completion_date)}),v.jsx(Zz,{children:h(e.open_date)}),v.jsx(ns,{children:e.merchandiser}),v.jsx(ns,{children:e.task_form}),v.jsx(Jz,{children:v.jsxs(i9,{children:[v.jsx(s9,{children:e.task_type}),v.jsx(r9,{children:e.task_type_detail})]})}),v.jsx(t9,{children:v.jsxs(a9,{children:[e.emergency?v.jsx(BM,{children:"긴급"}):"",v.jsx(o9,{onClick:d,children:e.requirement})]})}),v.jsx(ns,{children:_?v.jsx(iA,{href:e.url,target:"_blank"}):null}),v.jsx(e9,{children:v.jsx(l9,{onClick:d,children:e.note||""})}),v.jsx(ns,{children:v.jsx(c9,{status:e.status,children:e.status==="검수요청"?"진행중":e.status||"대기"})}),v.jsx(ns,{children:y&&y.length>0?v.jsx(u9,{children:y.map((x,E)=>v.jsx(h9,{children:x},`${x}-${E}`))}):e.assigned_designers||"미배정"}),v.jsx(ns,{children:e.manager_review_status==="검수완료"&&e.result_url?v.jsx(iA,{href:e.result_url,target:"_blank"}):""}),v.jsx(ns,{children:p?v.jsx(sA,{children:"검수완료"}):e.manager_review_status==="검수완료"?e.status!=="완료"?v.jsx($M,{onClick:()=>i(e.id),disabled:n,children:"검수완료"}):v.jsx(sA,{children:"검수완료"}):""}),v.jsx(ns,{children:v.jsx(qM,{onClick:()=>r(e.id),disabled:n||c||e.status==="취소"||e.status==="완료",children:"수정"})}),v.jsx(ns,{children:v.jsx(HM,{onClick:()=>s(e.id),disabled:n||c||e.status==="취소"||e.status==="완료",children:"취소"})})]})}const Xz=B.tr`
  ${({isCanceled:e})=>e&&`
      td {
        color: #888;
        background-color: #f4f4f4;
      }
    `}
    
  ${({isCanceled:e,theme:t})=>e&&`
      ${BM} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
      }
      ${$M}, ${qM}, ${HM} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
        border-color: ${t.colors.gray06};
        cursor: default;
        pointer-events: none;
      }
    `}
  &:hover {
    td {
      background-color: ${({theme:e})=>e.colors.gray04}
    }
  }

  & td {
    font-family: 'Pretendard';
    font-size: 14px;
    font-weight: 500;
  }
`,ns=B.td`
  padding: 15px 0;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(12) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }
`,Qz=B.td`
  color: ${({theme:e})=>e.colors.red};
`,Zz=B.td`
  color: ${({theme:e})=>e.colors.blue02};
`,Jz=B.td`
  padding: 15px 12px;
  line-height: 15px;
`,t9=B.td`
  line-height: 15px;
  text-align: left;
`,e9=B.td`
  line-height: 15px;
  padding: 0 12px;
  text-align: left;
  background-color: #fffff1;
`,n9=B.span`
  position: relative;

  &::after {
    content: '';
    position: absolute;
    top: -5px;
    right: -2px;
    display: ${({$hasUpdate:e})=>e?"block":"none"};
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background-color: ${({theme:e})=>e.colors.red};
  }

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,i9=B.div`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`,s9=B.span`
  
`,r9=B.span`
  
`,a9=B.div`
  ${({theme:e})=>e.mixin.flex("center")};
  padding: 0 12px;
`,o9=B.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,BM=B.span`
  margin-right: 8px;
  padding: 3px 5px;
  border-radius: 2px;
  font-size: 10px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.red};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,iA=B.a`
  display: inline-block;
  vertical-align: middle;
  width: 24px;
  height: 24px;
  background: url(${_x}) no-repeat center / contain;
`,l9=B.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  overflow-wrap: anywhere;
  word-break: break-word;
  text-overflow: ellipsis;
  white-space: normal;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,c9=B.span`
  border-radius: 14px;
  padding: 5.5px 12px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 400;
  color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.orange;case"진행중":return t.colors.blue02;case"검수요청":return t.colors.blue02;case"검수중":return t.colors.red;case"완료":return t.colors.gray06;default:return t.colors.gray06}}};
  background-color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.beige02;case"진행중":return t.colors.lightpupple;case"검수요청":return t.colors.lightpupple;case"검수중":return t.colors.pink03;case"완료":return t.colors.white02;default:return t.colors.gray07}}};;
`,$M=B.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  background-color: green;
  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`,sA=B.span`
  color: green;
  font-weight: bold;
`,qM=B.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  background-color: ${({theme:e})=>e.colors.black};

  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`,HM=B.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  background-color: ${({theme:e})=>e.colors.black};

  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`,u9=B.div`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`,h9=B.span`
  line-height: 1.2;
`;function rA({data:e,disableActions:t=!1,lockOthers:n=!1,currentUserName:i="",onReviewComplete:s,onCancel:r,onEditClick:l,onDetailClick:c}){return v.jsx(d9,{children:v.jsxs(f9,{children:[v.jsx(p9,{children:"요청 리스트"}),v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"90px"}}),v.jsx("col",{style:{width:"180px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"90px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}})]}),v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx(Gn,{children:"번호"}),v.jsx(Gn,{children:"문서번호"}),v.jsx(Gn,{children:"요청일"}),v.jsxs(Gn,{children:["완료",v.jsx("br",{}),"요청일"]}),v.jsx(Gn,{children:"오픈일"}),v.jsx(Gn,{children:"담당MD"}),v.jsx(Gn,{children:"업무부서"}),v.jsx(Gn,{children:"업무유형"}),v.jsx(Gn,{children:"작업항목"}),v.jsx(Gn,{children:"요청서 URL"}),v.jsx(Gn,{children:"메모"}),v.jsx(Gn,{children:"진행상태"}),v.jsx(Gn,{children:"디자이너"}),v.jsx(Gn,{children:"산출물 URL"}),v.jsx(Gn,{children:"검수"}),v.jsx(Gn,{children:"수정"}),v.jsx(Gn,{children:"취소"})]})}),v.jsx("tbody",{children:e.length>0?e.map((h,d)=>{const p=h.requester===i,y=t||n&&!p;return v.jsx(Kz,{index:d+1,item:h,disableActions:y,onReviewComplete:s,onCancel:r,onEditClick:l,onDetailClick:c},h.id)}):v.jsx("tr",{children:v.jsx("td",{colSpan:17,style:{textAlign:"center",padding:20},children:"등록된 요청이 없습니다."})})})]})})}const d9=B.div`
  position: relative;
  height: calc(100vh - 302px);
  border-top: 2px solid ${({theme:e})=>e.colors.black};
  overflow-y: auto;
  scrollbar-width: thin;
`,f9=B.table`
  table-layout: fixed;
  width: 100%;
  text-align: center;
`,p9=B.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,Gn=B.th`
  position: sticky;
  top: -2px;
  line-height: 16px;
  padding: 13px 0;
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.gray08};
  z-index: 10;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(12) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }

  &:nth-of-type(13), &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16) {
    border-right: 1px solid ${({theme:e})=>e.colors.pink02}
  }

  &:nth-of-type(13), &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`;function bx({userRole:e}){const[t]=pm(),n=t.get("view")||"dashboard",i=e??1,s=j.useMemo(()=>{const d={dashboard:"전체 현황",inworkhour:"내부 공수"};return i===2?{...d,myrequestlist:"작업 리스트",allrequestlist:"전체 작업 리스트"}:i===3?{...d,myrequestlist:"요청 리스트",allrequestlist:"요청 리스트"}:{...d,myrequestlist:"요청 리스트",allrequestlist:"전체 요청 리스트"}},[i]),r=j.useMemo(()=>n!=="myrequestlist"?"":i===2?" (디자이너)":i===3?" (매니저)":"",[n,i]),l=new Date,c=l.getFullYear(),h=l.getMonth()+1;return v.jsx(g9,{children:v.jsxs(m9,{children:[c,"년 ",h,"월 디자인 ",s[n],r]})})}const g9=B.div`
  padding: 29px 48px;
  background-color: ${({theme:e})=>e.colors.gray08};
`,m9=B.h2`
  font-family: 'Pretendard';
  font-size: 36px;
  font-weight: 700;
`,Wm="/pdms-test/assets/selectbox-arrow-BwC8UGU0.svg";function y9(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const Eb={},qh={};function dl(e,t){try{const i=(Eb[e]||(Eb[e]=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format))(t).split("GMT")[1];return i in qh?qh[i]:aA(i,i.split(":"))}catch{if(e in qh)return qh[e];const n=e==null?void 0:e.match(_9);return n?aA(e,n.slice(1)):NaN}}const _9=/([+-]\d\d):?(\d\d)?/;function aA(e,t){const n=+(t[0]||0),i=+(t[1]||0),s=+(t[2]||0)/60;return qh[e]=n*60+i>0?n*60+i+s:n*60-i-s}class Qs extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(dl(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),WM(this),V0(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new Qs(...n,t):new Qs(Date.now(),t)}withTimeZone(t){return new Qs(+this,t)}getTimezoneOffset(){const t=-dl(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),V0(this),+this}[Symbol.for("constructDateFrom")](t){return new Qs(+new Date(t),this.timeZone)}}const oA=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!oA.test(e))return;const t=e.replace(oA,"$1UTC");Qs.prototype[t]&&(e.startsWith("get")?Qs.prototype[e]=function(){return this.internal[t]()}:(Qs.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),b9(this),+this},Qs.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),V0(this),+this}))});function V0(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-dl(e.timeZone,e)*60))}function b9(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),WM(e)}function WM(e){const t=dl(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),i=new Date(+e);i.setUTCHours(i.getUTCHours()-1);const s=-new Date(+e).getTimezoneOffset(),r=-new Date(+i).getTimezoneOffset(),l=s-r,c=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();l&&c&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+l);const h=s-n;h&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+h);const d=new Date(+e);d.setUTCSeconds(0);const p=s>0?d.getSeconds():(d.getSeconds()-60)%60,y=Math.round(-(dl(e.timeZone,e)*60))%60;(y||p)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+y),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+y+p));const _=dl(e.timeZone,e),x=_>0?Math.floor(_):Math.ceil(_),S=-new Date(+e).getTimezoneOffset()-x,T=x!==n,D=S-h;if(T&&D){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+D);const M=dl(e.timeZone,e),N=M>0?Math.floor(M):Math.ceil(M),U=x-N;U&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+U),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+U))}}class si extends Qs{static tz(t,...n){return n.length?new si(...n,t):new si(Date.now(),t)}toISOString(){const[t,n,i]=this.tzComponents(),s=`${t}${n}:${i}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,i,s]=this.internal.toUTCString().split(" ");return`${t==null?void 0:t.slice(0,-1)} ${i} ${n} ${s}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,i,s]=this.tzComponents();return`${t} GMT${n}${i}${s} (${y9(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",i=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),s=String(Math.abs(t)%60).padStart(2,"0");return[n,i,s]}withTimeZone(t){return new si(+this,t)}[Symbol.for("constructDateFrom")](t){return new si(+new Date(t),this.timeZone)}}const YM=6048e5,v9=864e5,lA=Symbol.for("constructDateFrom");function Cn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&lA in e?e[lA](t):e instanceof Date?new e.constructor(t):new Date(t)}function Me(e,t){return Cn(t||e,e)}function GM(e,t,n){const i=Me(e,n==null?void 0:n.in);return isNaN(t)?Cn(e,NaN):(t&&i.setDate(i.getDate()+t),i)}function KM(e,t,n){const i=Me(e,n==null?void 0:n.in);if(isNaN(t))return Cn(e,NaN);if(!t)return i;const s=i.getDate(),r=Cn(e,i.getTime());r.setMonth(i.getMonth()+t+1,0);const l=r.getDate();return s>=l?r:(i.setFullYear(r.getFullYear(),r.getMonth(),s),i)}let x9={};function Xd(){return x9}function nu(e,t){var c,h,d,p;const n=Xd(),i=(t==null?void 0:t.weekStartsOn)??((h=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((p=(d=n.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,s=Me(e,t==null?void 0:t.in),r=s.getDay(),l=(r<i?7:0)+r-i;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function kd(e,t){return nu(e,{...t,weekStartsOn:1})}function XM(e,t){const n=Me(e,t==null?void 0:t.in),i=n.getFullYear(),s=Cn(n,0);s.setFullYear(i+1,0,4),s.setHours(0,0,0,0);const r=kd(s),l=Cn(n,0);l.setFullYear(i,0,4),l.setHours(0,0,0,0);const c=kd(l);return n.getTime()>=r.getTime()?i+1:n.getTime()>=c.getTime()?i:i-1}function cA(e){const t=Me(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function _u(e,...t){const n=Cn.bind(null,t.find(i=>typeof i=="object"));return t.map(n)}function Rd(e,t){const n=Me(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function QM(e,t,n){const[i,s]=_u(n==null?void 0:n.in,e,t),r=Rd(i),l=Rd(s),c=+r-cA(r),h=+l-cA(l);return Math.round((c-h)/v9)}function w9(e,t){const n=XM(e,t),i=Cn(e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),kd(i)}function E9(e,t,n){return GM(e,t*7,n)}function S9(e,t,n){return KM(e,t*12,n)}function T9(e,t){let n,i=t==null?void 0:t.in;return e.forEach(s=>{!i&&typeof s=="object"&&(i=Cn.bind(null,s));const r=Me(s,i);(!n||n<r||isNaN(+r))&&(n=r)}),Cn(i,n||NaN)}function A9(e,t){let n,i=t==null?void 0:t.in;return e.forEach(s=>{!i&&typeof s=="object"&&(i=Cn.bind(null,s));const r=Me(s,i);(!n||n>r||isNaN(+r))&&(n=r)}),Cn(i,n||NaN)}function k9(e,t,n){const[i,s]=_u(n==null?void 0:n.in,e,t);return+Rd(i)==+Rd(s)}function ZM(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function R9(e){return!(!ZM(e)&&typeof e!="number"||isNaN(+Me(e)))}function C9(e,t,n){const[i,s]=_u(n==null?void 0:n.in,e,t),r=i.getFullYear()-s.getFullYear(),l=i.getMonth()-s.getMonth();return r*12+l}function D9(e,t){const n=Me(e,t==null?void 0:t.in),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function M9(e,t){const[n,i]=_u(e,t.start,t.end);return{start:n,end:i}}function I9(e,t){const{start:n,end:i}=M9(t==null?void 0:t.in,e);let s=+n>+i;const r=s?+n:+i,l=s?i:n;l.setHours(0,0,0,0),l.setDate(1);let c=1;const h=[];for(;+l<=r;)h.push(Cn(n,l)),l.setMonth(l.getMonth()+c);return s?h.reverse():h}function O9(e,t){const n=Me(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function P9(e,t){const n=Me(e,t==null?void 0:t.in),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n}function JM(e,t){const n=Me(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function tI(e,t){var c,h,d,p;const n=Xd(),i=(t==null?void 0:t.weekStartsOn)??((h=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((p=(d=n.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,s=Me(e,t==null?void 0:t.in),r=s.getDay(),l=(r<i?-7:0)+6-(r-i);return s.setDate(s.getDate()+l),s.setHours(23,59,59,999),s}function N9(e,t){return tI(e,{...t,weekStartsOn:1})}const L9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},j9=(e,t,n)=>{let i;const s=L9[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Sb(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const V9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},U9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},z9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},F9={date:Sb({formats:V9,defaultWidth:"full"}),time:Sb({formats:U9,defaultWidth:"full"}),dateTime:Sb({formats:z9,defaultWidth:"full"})},B9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$9=(e,t,n,i)=>B9[e];function Eh(e){return(t,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let s;if(i==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):l;s=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}const r=e.argumentCallback?e.argumentCallback(t):t;return s[r]}}const q9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},H9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},W9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Y9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},G9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},K9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},X9=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Q9={ordinalNumber:X9,era:Eh({values:q9,defaultWidth:"wide"}),quarter:Eh({values:H9,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Eh({values:W9,defaultWidth:"wide"}),day:Eh({values:Y9,defaultWidth:"wide"}),dayPeriod:Eh({values:G9,defaultWidth:"wide",formattingValues:K9,defaultFormattingWidth:"wide"})};function Sh(e){return(t,n={})=>{const i=n.width,s=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],r=t.match(s);if(!r)return null;const l=r[0],c=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(c)?J9(c,y=>y.test(l)):Z9(c,y=>y.test(l));let d;d=e.valueCallback?e.valueCallback(h):h,d=n.valueCallback?n.valueCallback(d):d;const p=t.slice(l.length);return{value:d,rest:p}}}function Z9(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function J9(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function tF(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const s=i[0],r=t.match(e.parsePattern);if(!r)return null;let l=e.valueCallback?e.valueCallback(r[0]):r[0];l=n.valueCallback?n.valueCallback(l):l;const c=t.slice(s.length);return{value:l,rest:c}}}const eF=/^(\d+)(th|st|nd|rd)?/i,nF=/\d+/i,iF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sF={any:[/^b/i,/^(a|c)/i]},rF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aF={any:[/1/i,/2/i,/3/i,/4/i]},oF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},uF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fF={ordinalNumber:tF({matchPattern:eF,parsePattern:nF,valueCallback:e=>parseInt(e,10)}),era:Sh({matchPatterns:iF,defaultMatchWidth:"wide",parsePatterns:sF,defaultParseWidth:"any"}),quarter:Sh({matchPatterns:rF,defaultMatchWidth:"wide",parsePatterns:aF,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Sh({matchPatterns:oF,defaultMatchWidth:"wide",parsePatterns:lF,defaultParseWidth:"any"}),day:Sh({matchPatterns:cF,defaultMatchWidth:"wide",parsePatterns:uF,defaultParseWidth:"any"}),dayPeriod:Sh({matchPatterns:hF,defaultMatchWidth:"any",parsePatterns:dF,defaultParseWidth:"any"})},vx={code:"en-US",formatDistance:j9,formatLong:F9,formatRelative:$9,localize:Q9,match:fF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pF(e,t){const n=Me(e,t==null?void 0:t.in);return QM(n,JM(n))+1}function eI(e,t){const n=Me(e,t==null?void 0:t.in),i=+kd(n)-+w9(n);return Math.round(i/YM)+1}function nI(e,t){var p,y,_,x;const n=Me(e,t==null?void 0:t.in),i=n.getFullYear(),s=Xd(),r=(t==null?void 0:t.firstWeekContainsDate)??((y=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(_=s.locale)==null?void 0:_.options)==null?void 0:x.firstWeekContainsDate)??1,l=Cn((t==null?void 0:t.in)||e,0);l.setFullYear(i+1,0,r),l.setHours(0,0,0,0);const c=nu(l,t),h=Cn((t==null?void 0:t.in)||e,0);h.setFullYear(i,0,r),h.setHours(0,0,0,0);const d=nu(h,t);return+n>=+c?i+1:+n>=+d?i:i-1}function gF(e,t){var c,h,d,p;const n=Xd(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(d=n.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,s=nI(e,t),r=Cn((t==null?void 0:t.in)||e,0);return r.setFullYear(s,0,i),r.setHours(0,0,0,0),nu(r,t)}function iI(e,t){const n=Me(e,t==null?void 0:t.in),i=+nu(n,t)-+gF(n,t);return Math.round(i/YM)+1}function Te(e,t){const n=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return n+i}const Fa={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return Te(t==="yy"?i%100:i,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Te(n+1,2)},d(e,t){return Te(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Te(e.getHours()%12||12,t.length)},H(e,t){return Te(e.getHours(),t.length)},m(e,t){return Te(e.getMinutes(),t.length)},s(e,t){return Te(e.getSeconds(),t.length)},S(e,t){const n=t.length,i=e.getMilliseconds(),s=Math.trunc(i*Math.pow(10,n-3));return Te(s,t.length)}},Sc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},uA={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const i=e.getFullYear(),s=i>0?i:1-i;return n.ordinalNumber(s,{unit:"year"})}return Fa.y(e,t)},Y:function(e,t,n,i){const s=nI(e,i),r=s>0?s:1-s;if(t==="YY"){const l=r%100;return Te(l,2)}return t==="Yo"?n.ordinalNumber(r,{unit:"year"}):Te(r,t.length)},R:function(e,t){const n=XM(e);return Te(n,t.length)},u:function(e,t){const n=e.getFullYear();return Te(n,t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Te(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Te(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return Fa.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return Te(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const s=iI(e,i);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Te(s,t.length)},I:function(e,t,n){const i=eI(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):Te(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Fa.d(e,t)},D:function(e,t,n){const i=pF(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Te(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const s=e.getDay(),r=(s-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(r);case"ee":return Te(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const s=e.getDay(),r=(s-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(r);case"cc":return Te(r,t.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),s=i===0?7:i;switch(t){case"i":return String(s);case"ii":return Te(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let s;switch(i===12?s=Sc.noon:i===0?s=Sc.midnight:s=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let s;switch(i>=17?s=Sc.evening:i>=12?s=Sc.afternoon:i>=4?s=Sc.morning:s=Sc.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Fa.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Fa.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Te(i,t.length)},k:function(e,t,n){let i=e.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):Te(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Fa.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Fa.s(e,t)},S:function(e,t){return Fa.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return dA(i);case"XXXX":case"XX":return ol(i);case"XXXXX":case"XXX":default:return ol(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return dA(i);case"xxxx":case"xx":return ol(i);case"xxxxx":case"xxx":default:return ol(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+hA(i,":");case"OOOO":default:return"GMT"+ol(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+hA(i,":");case"zzzz":default:return"GMT"+ol(i,":")}},t:function(e,t,n){const i=Math.trunc(+e/1e3);return Te(i,t.length)},T:function(e,t,n){return Te(+e,t.length)}};function hA(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=Math.trunc(i/60),r=i%60;return r===0?n+String(s):n+String(s)+t+Te(r,2)}function dA(e,t){return e%60===0?(e>0?"-":"+")+Te(Math.abs(e)/60,2):ol(e,t)}function ol(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=Te(Math.trunc(i/60),2),r=Te(i%60,2);return n+s+t+r}const fA=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},sI=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},mF=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return fA(e,t);let r;switch(i){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;case"PPPP":default:r=t.dateTime({width:"full"});break}return r.replace("{{date}}",fA(i,t)).replace("{{time}}",sI(s,t))},yF={p:sI,P:mF},_F=/^D+$/,bF=/^Y+$/,vF=["D","DD","YY","YYYY"];function xF(e){return _F.test(e)}function wF(e){return bF.test(e)}function EF(e,t,n){const i=SF(e,t,n);if(console.warn(i),vF.includes(e))throw new RangeError(i)}function SF(e,t,n){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const TF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,AF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kF=/^'([^]*?)'?$/,RF=/''/g,CF=/[a-zA-Z]/;function DF(e,t,n){var p,y,_,x,E,S,T,D;const i=Xd(),s=(n==null?void 0:n.locale)??i.locale??vx,r=(n==null?void 0:n.firstWeekContainsDate)??((y=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((x=(_=i.locale)==null?void 0:_.options)==null?void 0:x.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((S=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:S.weekStartsOn)??i.weekStartsOn??((D=(T=i.locale)==null?void 0:T.options)==null?void 0:D.weekStartsOn)??0,c=Me(e,n==null?void 0:n.in);if(!R9(c))throw new RangeError("Invalid time value");let h=t.match(AF).map(M=>{const N=M[0];if(N==="p"||N==="P"){const U=yF[N];return U(M,s.formatLong)}return M}).join("").match(TF).map(M=>{if(M==="''")return{isToken:!1,value:"'"};const N=M[0];if(N==="'")return{isToken:!1,value:MF(M)};if(uA[N])return{isToken:!0,value:M};if(N.match(CF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:M}});s.localize.preprocessor&&(h=s.localize.preprocessor(c,h));const d={firstWeekContainsDate:r,weekStartsOn:l,locale:s};return h.map(M=>{if(!M.isToken)return M.value;const N=M.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&wF(N)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&xF(N))&&EF(N,t,String(e));const U=uA[N[0]];return U(c,N,s.localize,d)}).join("")}function MF(e){const t=e.match(kF);return t?t[1].replace(RF,"'"):e}function IF(e,t){const n=Me(e,t==null?void 0:t.in),i=n.getFullYear(),s=n.getMonth(),r=Cn(n,0);return r.setFullYear(i,s+1,0),r.setHours(0,0,0,0),r.getDate()}function OF(e,t){return Me(e,t==null?void 0:t.in).getMonth()}function PF(e,t){return Me(e,t==null?void 0:t.in).getFullYear()}function NF(e,t){return+Me(e)>+Me(t)}function LF(e,t){return+Me(e)<+Me(t)}function jF(e,t,n){const[i,s]=_u(n==null?void 0:n.in,e,t);return i.getFullYear()===s.getFullYear()&&i.getMonth()===s.getMonth()}function VF(e,t,n){const[i,s]=_u(n==null?void 0:n.in,e,t);return i.getFullYear()===s.getFullYear()}function UF(e,t,n){const i=Me(e,n==null?void 0:n.in),s=i.getFullYear(),r=i.getDate(),l=Cn(e,0);l.setFullYear(s,t,15),l.setHours(0,0,0,0);const c=IF(l);return i.setMonth(t,Math.min(r,c)),i}function zF(e,t,n){const i=Me(e,n==null?void 0:n.in);return isNaN(+i)?Cn(e,NaN):(i.setFullYear(t),i)}const pA=5,FF=4;function BF(e,t){const n=t.startOfMonth(e),i=n.getDay()>0?n.getDay():7,s=t.addDays(e,-i+1),r=t.addDays(s,pA*7-1);return t.getMonth(e)===t.getMonth(r)?pA:FF}function rI(e,t){const n=t.startOfMonth(e),i=n.getDay();return i===1?n:i===0?t.addDays(n,-6):t.addDays(n,-1*(i-1))}function $F(e,t){const n=rI(e,t),i=BF(e,t);return t.addDays(n,i*7-1)}class ua{constructor(t,n){this.Date=Date,this.today=()=>{var i;return(i=this.overrides)!=null&&i.today?this.overrides.today():this.options.timeZone?si.tz(this.options.timeZone):new this.Date},this.newDate=(i,s,r)=>{var l;return(l=this.overrides)!=null&&l.newDate?this.overrides.newDate(i,s,r):this.options.timeZone?new si(i,s,r,this.options.timeZone):new Date(i,s,r)},this.addDays=(i,s)=>{var r;return(r=this.overrides)!=null&&r.addDays?this.overrides.addDays(i,s):GM(i,s)},this.addMonths=(i,s)=>{var r;return(r=this.overrides)!=null&&r.addMonths?this.overrides.addMonths(i,s):KM(i,s)},this.addWeeks=(i,s)=>{var r;return(r=this.overrides)!=null&&r.addWeeks?this.overrides.addWeeks(i,s):E9(i,s)},this.addYears=(i,s)=>{var r;return(r=this.overrides)!=null&&r.addYears?this.overrides.addYears(i,s):S9(i,s)},this.differenceInCalendarDays=(i,s)=>{var r;return(r=this.overrides)!=null&&r.differenceInCalendarDays?this.overrides.differenceInCalendarDays(i,s):QM(i,s)},this.differenceInCalendarMonths=(i,s)=>{var r;return(r=this.overrides)!=null&&r.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(i,s):C9(i,s)},this.eachMonthOfInterval=i=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(i):I9(i)},this.endOfBroadcastWeek=i=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(i):$F(i,this)},this.endOfISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(i):N9(i)},this.endOfMonth=i=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(i):D9(i)},this.endOfWeek=(i,s)=>{var r;return(r=this.overrides)!=null&&r.endOfWeek?this.overrides.endOfWeek(i,s):tI(i,this.options)},this.endOfYear=i=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(i):P9(i)},this.format=(i,s,r)=>{var c;const l=(c=this.overrides)!=null&&c.format?this.overrides.format(i,s,this.options):DF(i,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(l):l},this.getISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(i):eI(i)},this.getMonth=(i,s)=>{var r;return(r=this.overrides)!=null&&r.getMonth?this.overrides.getMonth(i,this.options):OF(i,this.options)},this.getYear=(i,s)=>{var r;return(r=this.overrides)!=null&&r.getYear?this.overrides.getYear(i,this.options):PF(i,this.options)},this.getWeek=(i,s)=>{var r;return(r=this.overrides)!=null&&r.getWeek?this.overrides.getWeek(i,this.options):iI(i,this.options)},this.isAfter=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isAfter?this.overrides.isAfter(i,s):NF(i,s)},this.isBefore=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isBefore?this.overrides.isBefore(i,s):LF(i,s)},this.isDate=i=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(i):ZM(i)},this.isSameDay=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isSameDay?this.overrides.isSameDay(i,s):k9(i,s)},this.isSameMonth=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isSameMonth?this.overrides.isSameMonth(i,s):jF(i,s)},this.isSameYear=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isSameYear?this.overrides.isSameYear(i,s):VF(i,s)},this.max=i=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(i):T9(i)},this.min=i=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(i):A9(i)},this.setMonth=(i,s)=>{var r;return(r=this.overrides)!=null&&r.setMonth?this.overrides.setMonth(i,s):UF(i,s)},this.setYear=(i,s)=>{var r;return(r=this.overrides)!=null&&r.setYear?this.overrides.setYear(i,s):zF(i,s)},this.startOfBroadcastWeek=(i,s)=>{var r;return(r=this.overrides)!=null&&r.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(i,this):rI(i,this)},this.startOfDay=i=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(i):Rd(i)},this.startOfISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(i):kd(i)},this.startOfMonth=i=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(i):O9(i)},this.startOfWeek=(i,s)=>{var r;return(r=this.overrides)!=null&&r.startOfWeek?this.overrides.startOfWeek(i,this.options):nu(i,this.options)},this.startOfYear=i=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(i):JM(i)},this.options={locale:vx,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),i={};for(let s=0;s<10;s++)i[s.toString()]=n.format(s);return i}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,i=>n[i]||i)}formatNumber(t){return this.replaceDigits(t.toString())}}const ur=new ua;class aI{constructor(t,n,i=ur){this.date=t,this.displayMonth=n,this.outside=!!(n&&!i.isSameMonth(t,n)),this.dateLib=i}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class qF{constructor(t,n){this.date=t,this.weeks=n}}class HF{constructor(t,n){this.days=n,this.weekNumber=t}}function WF(e){return wt.createElement("button",{...e})}function YF(e){return wt.createElement("span",{...e})}function GF(e){const{size:t=24,orientation:n="left",className:i}=e;return wt.createElement("svg",{className:i,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&wt.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&wt.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&wt.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&wt.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function KF(e){const{day:t,modifiers:n,...i}=e;return wt.createElement("td",{...i})}function XF(e){const{day:t,modifiers:n,...i}=e,s=wt.useRef(null);return wt.useEffect(()=>{var r;n.focused&&((r=s.current)==null||r.focus())},[n.focused]),wt.createElement("button",{ref:s,...i})}var Pt;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(Pt||(Pt={}));var Ye;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(Ye||(Ye={}));var bs;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(bs||(bs={}));var Vi;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(Vi||(Vi={}));function QF(e){const{options:t,className:n,components:i,classNames:s,...r}=e,l=[s[Pt.Dropdown],n].join(" "),c=t==null?void 0:t.find(({value:h})=>h===r.value);return wt.createElement("span",{"data-disabled":r.disabled,className:s[Pt.DropdownRoot]},wt.createElement(i.Select,{className:l,...r},t==null?void 0:t.map(({value:h,label:d,disabled:p})=>wt.createElement(i.Option,{key:h,value:h,disabled:p},d))),wt.createElement("span",{className:s[Pt.CaptionLabel],"aria-hidden":!0},c==null?void 0:c.label,wt.createElement(i.Chevron,{orientation:"down",size:18,className:s[Pt.Chevron]})))}function ZF(e){return wt.createElement("div",{...e})}function JF(e){return wt.createElement("div",{...e})}function tB(e){const{calendarMonth:t,displayIndex:n,...i}=e;return wt.createElement("div",{...i},e.children)}function eB(e){const{calendarMonth:t,displayIndex:n,...i}=e;return wt.createElement("div",{...i})}function nB(e){return wt.createElement("table",{...e})}function iB(e){return wt.createElement("div",{...e})}const oI=j.createContext(void 0);function Qd(){const e=j.useContext(oI);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function sB(e){const{components:t}=Qd();return wt.createElement(t.Dropdown,{...e})}function rB(e){const{onPreviousClick:t,onNextClick:n,previousMonth:i,nextMonth:s,...r}=e,{components:l,classNames:c,labels:{labelPrevious:h,labelNext:d}}=Qd(),p=j.useCallback(_=>{s&&(n==null||n(_))},[s,n]),y=j.useCallback(_=>{i&&(t==null||t(_))},[i,t]);return wt.createElement("nav",{...r},wt.createElement(l.PreviousMonthButton,{type:"button",className:c[Pt.PreviousMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":h(i),onClick:y},wt.createElement(l.Chevron,{disabled:i?void 0:!0,className:c[Pt.Chevron],orientation:"left"})),wt.createElement(l.NextMonthButton,{type:"button",className:c[Pt.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":d(s),onClick:p},wt.createElement(l.Chevron,{disabled:s?void 0:!0,orientation:"right",className:c[Pt.Chevron]})))}function aB(e){const{components:t}=Qd();return wt.createElement(t.Button,{...e})}function oB(e){return wt.createElement("option",{...e})}function lB(e){const{components:t}=Qd();return wt.createElement(t.Button,{...e})}function cB(e){const{rootRef:t,...n}=e;return wt.createElement("div",{...n,ref:t})}function uB(e){return wt.createElement("select",{...e})}function hB(e){const{week:t,...n}=e;return wt.createElement("tr",{...n})}function dB(e){return wt.createElement("th",{...e})}function fB(e){return wt.createElement("thead",{"aria-hidden":!0},wt.createElement("tr",{...e}))}function pB(e){const{week:t,...n}=e;return wt.createElement("th",{...n})}function gB(e){return wt.createElement("th",{...e})}function mB(e){return wt.createElement("tbody",{...e})}function yB(e){const{components:t}=Qd();return wt.createElement(t.Dropdown,{...e})}const _B=Object.freeze(Object.defineProperty({__proto__:null,Button:WF,CaptionLabel:YF,Chevron:GF,Day:KF,DayButton:XF,Dropdown:QF,DropdownNav:ZF,Footer:JF,Month:tB,MonthCaption:eB,MonthGrid:nB,Months:iB,MonthsDropdown:sB,Nav:rB,NextMonthButton:aB,Option:oB,PreviousMonthButton:lB,Root:cB,Select:uB,Week:hB,WeekNumber:pB,WeekNumberHeader:gB,Weekday:dB,Weekdays:fB,Weeks:mB,YearsDropdown:yB},Symbol.toStringTag,{value:"Module"}));function Gr(e,t,n=!1,i=ur){let{from:s,to:r}=e;const{differenceInCalendarDays:l,isSameDay:c}=i;return s&&r?(l(r,s)<0&&([s,r]=[r,s]),l(t,s)>=(n?1:0)&&l(r,t)>=(n?1:0)):!n&&r?c(r,t):!n&&s?c(s,t):!1}function lI(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function xx(e){return!!(e&&typeof e=="object"&&"from"in e)}function cI(e){return!!(e&&typeof e=="object"&&"after"in e)}function uI(e){return!!(e&&typeof e=="object"&&"before"in e)}function hI(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function dI(e,t){return Array.isArray(e)&&e.every(t.isDate)}function Kr(e,t,n=ur){const i=Array.isArray(t)?t:[t],{isSameDay:s,differenceInCalendarDays:r,isAfter:l}=n;return i.some(c=>{if(typeof c=="boolean")return c;if(n.isDate(c))return s(e,c);if(dI(c,n))return c.includes(e);if(xx(c))return Gr(c,e,!1,n);if(hI(c))return Array.isArray(c.dayOfWeek)?c.dayOfWeek.includes(e.getDay()):c.dayOfWeek===e.getDay();if(lI(c)){const h=r(c.before,e),d=r(c.after,e),p=h>0,y=d<0;return l(c.before,c.after)?y&&p:p||y}return cI(c)?r(e,c.after)>0:uI(c)?r(c.before,e)>0:typeof c=="function"?c(e):!1})}function bB(e,t,n,i,s){const{disabled:r,hidden:l,modifiers:c,showOutsideDays:h,broadcastCalendar:d,today:p}=t,{isSameDay:y,isSameMonth:_,startOfMonth:x,isBefore:E,endOfMonth:S,isAfter:T}=s,D=n&&x(n),M=i&&S(i),N={[Ye.focused]:[],[Ye.outside]:[],[Ye.disabled]:[],[Ye.hidden]:[],[Ye.today]:[]},U={};for(const P of e){const{date:G,displayMonth:C}=P,R=!!(C&&!_(G,C)),O=!!(D&&E(G,D)),V=!!(M&&T(G,M)),$=!!(r&&Kr(G,r,s)),H=!!(l&&Kr(G,l,s))||O||V||!d&&!h&&R||d&&h===!1&&R,z=y(G,p??s.today());R&&N.outside.push(P),$&&N.disabled.push(P),H&&N.hidden.push(P),z&&N.today.push(P),c&&Object.keys(c).forEach(Ct=>{const Q=c==null?void 0:c[Ct];Q&&Kr(G,Q,s)&&(U[Ct]?U[Ct].push(P):U[Ct]=[P])})}return P=>{const G={[Ye.focused]:!1,[Ye.disabled]:!1,[Ye.hidden]:!1,[Ye.outside]:!1,[Ye.today]:!1},C={};for(const R in N){const O=N[R];G[R]=O.some(V=>V===P)}for(const R in U)C[R]=U[R].some(O=>O===P);return{...G,...C}}}function vB(e,t,n={}){return Object.entries(e).filter(([,s])=>s===!0).reduce((s,[r])=>(n[r]?s.push(n[r]):t[Ye[r]]?s.push(t[Ye[r]]):t[bs[r]]&&s.push(t[bs[r]]),s),[t[Pt.Day]])}function xB(e){return{..._B,...e}}function wB(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,i])=>{n.startsWith("data-")&&(t[n]=i)}),t}function EB(){const e={};for(const t in Pt)e[Pt[t]]=`rdp-${Pt[t]}`;for(const t in Ye)e[Ye[t]]=`rdp-${Ye[t]}`;for(const t in bs)e[bs[t]]=`rdp-${bs[t]}`;for(const t in Vi)e[Vi[t]]=`rdp-${Vi[t]}`;return e}function fI(e,t,n){return(n??new ua(t)).format(e,"LLLL y")}const SB=fI;function TB(e,t,n){return(n??new ua(t)).format(e,"d")}function AB(e,t=ur){return t.format(e,"LLLL")}function kB(e,t,n){return(n??new ua(t)).format(e,"cccccc")}function RB(e,t=ur){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function CB(){return""}function pI(e,t=ur){return t.format(e,"yyyy")}const DB=pI,MB=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:fI,formatDay:TB,formatMonthCaption:SB,formatMonthDropdown:AB,formatWeekNumber:RB,formatWeekNumberHeader:CB,formatWeekdayName:kB,formatYearCaption:DB,formatYearDropdown:pI},Symbol.toStringTag,{value:"Module"}));function IB(e){return e!=null&&e.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e!=null&&e.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...MB,...e}}function OB(e,t,n,i,s){const{startOfMonth:r,startOfYear:l,endOfYear:c,eachMonthOfInterval:h,getMonth:d}=s;return h({start:l(e),end:c(e)}).map(_=>{const x=i.formatMonthDropdown(_,s),E=d(_),S=t&&_<r(t)||n&&_>r(n)||!1;return{value:E,label:x,disabled:S}})}function PB(e,t={},n={}){let i={...t==null?void 0:t[Pt.Day]};return Object.entries(e).filter(([,s])=>s===!0).forEach(([s])=>{i={...i,...n==null?void 0:n[s]}}),i}function NB(e,t,n){const i=e.today(),s=t?e.startOfISOWeek(i):e.startOfWeek(i),r=[];for(let l=0;l<7;l++){const c=e.addDays(s,l);r.push(c)}return r}function LB(e,t,n,i,s=!1){if(!e||!t)return;const{startOfYear:r,endOfYear:l,addYears:c,getYear:h,isBefore:d,isSameYear:p}=i,y=r(e),_=l(t),x=[];let E=y;for(;d(E,_)||p(E,_);)x.push(E),E=c(E,1);return s&&x.reverse(),x.map(S=>{const T=n.formatYearDropdown(S,i);return{value:h(S),label:T,disabled:!1}})}function gI(e,t,n,i){let s=(i??new ua(n)).format(e,"PPPP");return t.today&&(s=`Today, ${s}`),t.selected&&(s=`${s}, selected`),s}const jB=gI;function mI(e,t,n){return(n??new ua(t)).format(e,"LLLL y")}const VB=mI;function UB(e,t,n,i){let s=(i??new ua(n)).format(e,"PPPP");return t!=null&&t.today&&(s=`Today, ${s}`),s}function zB(e){return"Choose the Month"}function FB(){return""}function BB(e){return"Go to the Next Month"}function $B(e){return"Go to the Previous Month"}function qB(e,t,n){return(n??new ua(t)).format(e,"cccc")}function HB(e,t){return`Week ${e}`}function WB(e){return"Week Number"}function YB(e){return"Choose the Year"}const GB=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:VB,labelDay:jB,labelDayButton:gI,labelGrid:mI,labelGridcell:UB,labelMonthDropdown:zB,labelNav:FB,labelNext:BB,labelPrevious:$B,labelWeekNumber:HB,labelWeekNumberHeader:WB,labelWeekday:qB,labelYearDropdown:YB},Symbol.toStringTag,{value:"Module"})),Zd=e=>e instanceof HTMLElement?e:null,Tb=e=>[...e.querySelectorAll("[data-animated-month]")??[]],KB=e=>Zd(e.querySelector("[data-animated-month]")),Ab=e=>Zd(e.querySelector("[data-animated-caption]")),kb=e=>Zd(e.querySelector("[data-animated-weeks]")),XB=e=>Zd(e.querySelector("[data-animated-nav]")),QB=e=>Zd(e.querySelector("[data-animated-weekdays]"));function ZB(e,t,{classNames:n,months:i,focused:s,dateLib:r}){const l=j.useRef(null),c=j.useRef(i),h=j.useRef(!1);j.useLayoutEffect(()=>{const d=c.current;if(c.current=i,!t||!e.current||!(e.current instanceof HTMLElement)||i.length===0||d.length===0||i.length!==d.length)return;const p=r.isSameMonth(i[0].date,d[0].date),y=r.isAfter(i[0].date,d[0].date),_=y?n[Vi.caption_after_enter]:n[Vi.caption_before_enter],x=y?n[Vi.weeks_after_enter]:n[Vi.weeks_before_enter],E=l.current,S=e.current.cloneNode(!0);if(S instanceof HTMLElement?(Tb(S).forEach(N=>{if(!(N instanceof HTMLElement))return;const U=KB(N);U&&N.contains(U)&&N.removeChild(U);const P=Ab(N);P&&P.classList.remove(_);const G=kb(N);G&&G.classList.remove(x)}),l.current=S):l.current=null,h.current||p||s)return;const T=E instanceof HTMLElement?Tb(E):[],D=Tb(e.current);if(D!=null&&D.every(M=>M instanceof HTMLElement)&&T&&T.every(M=>M instanceof HTMLElement)){h.current=!0,e.current.style.isolation="isolate";const M=XB(e.current);M&&(M.style.zIndex="1"),D.forEach((N,U)=>{const P=T[U];if(!P)return;N.style.position="relative",N.style.overflow="hidden";const G=Ab(N);G&&G.classList.add(_);const C=kb(N);C&&C.classList.add(x);const R=()=>{h.current=!1,e.current&&(e.current.style.isolation=""),M&&(M.style.zIndex=""),G&&G.classList.remove(_),C&&C.classList.remove(x),N.style.position="",N.style.overflow="",N.contains(P)&&N.removeChild(P)};P.style.pointerEvents="none",P.style.position="absolute",P.style.overflow="hidden",P.setAttribute("aria-hidden","true");const O=QB(P);O&&(O.style.opacity="0");const V=Ab(P);V&&(V.classList.add(y?n[Vi.caption_before_exit]:n[Vi.caption_after_exit]),V.addEventListener("animationend",R));const $=kb(P);$&&$.classList.add(y?n[Vi.weeks_before_exit]:n[Vi.weeks_after_exit]),N.insertBefore(P,N.firstChild)})}})}function JB(e,t,n,i){const s=e[0],r=e[e.length-1],{ISOWeek:l,fixedWeeks:c,broadcastCalendar:h}=n??{},{addDays:d,differenceInCalendarDays:p,differenceInCalendarMonths:y,endOfBroadcastWeek:_,endOfISOWeek:x,endOfMonth:E,endOfWeek:S,isAfter:T,startOfBroadcastWeek:D,startOfISOWeek:M,startOfWeek:N}=i,U=h?D(s,i):l?M(s):N(s),P=h?_(r):l?x(E(r)):S(E(r)),G=p(P,U),C=y(r,s)+1,R=[];for(let $=0;$<=G;$++){const H=d(U,$);if(t&&T(H,t))break;R.push(H)}const V=(h?35:42)*C;if(c&&R.length<V){const $=V-R.length;for(let H=0;H<$;H++){const z=d(R[R.length-1],1);R.push(z)}}return R}function t$(e){const t=[];return e.reduce((n,i)=>{const s=i.weeks.reduce((r,l)=>r.concat(l.days.slice()),t.slice());return n.concat(s.slice())},t.slice())}function e$(e,t,n,i){const{numberOfMonths:s=1}=n,r=[];for(let l=0;l<s;l++){const c=i.addMonths(e,l);if(t&&c>t)break;r.push(c)}return r}function gA(e,t,n,i){const{month:s,defaultMonth:r,today:l=i.today(),numberOfMonths:c=1}=e;let h=s||r||l;const{differenceInCalendarMonths:d,addMonths:p,startOfMonth:y}=i;if(n&&d(n,h)<c-1){const _=-1*(c-1);h=p(n,_)}return t&&d(h,t)<0&&(h=t),y(h)}function n$(e,t,n,i){const{addDays:s,endOfBroadcastWeek:r,endOfISOWeek:l,endOfMonth:c,endOfWeek:h,getISOWeek:d,getWeek:p,startOfBroadcastWeek:y,startOfISOWeek:_,startOfWeek:x}=i,E=e.reduce((S,T)=>{const D=n.broadcastCalendar?y(T,i):n.ISOWeek?_(T):x(T),M=n.broadcastCalendar?r(T):n.ISOWeek?l(c(T)):h(c(T)),N=t.filter(C=>C>=D&&C<=M),U=n.broadcastCalendar?35:42;if(n.fixedWeeks&&N.length<U){const C=t.filter(R=>{const O=U-N.length;return R>M&&R<=s(M,O)});N.push(...C)}const P=N.reduce((C,R)=>{const O=n.ISOWeek?d(R):p(R),V=C.find(H=>H.weekNumber===O),$=new aI(R,T,i);return V?V.days.push($):C.push(new HF(O,[$])),C},[]),G=new qF(T,P);return S.push(G),S},[]);return n.reverseMonths?E.reverse():E}function i$(e,t){let{startMonth:n,endMonth:i}=e;const{startOfYear:s,startOfDay:r,startOfMonth:l,endOfMonth:c,addYears:h,endOfYear:d,newDate:p,today:y}=t,{fromYear:_,toYear:x,fromMonth:E,toMonth:S}=e;!n&&E&&(n=E),!n&&_&&(n=t.newDate(_,0,1)),!i&&S&&(i=S),!i&&x&&(i=p(x,11,31));const T=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=l(n):_?n=p(_,0,1):!n&&T&&(n=s(h(e.today??y(),-100))),i?i=c(i):x?i=p(x,11,31):!i&&T&&(i=d(e.today??y())),[n&&r(n),i&&r(i)]}function s$(e,t,n,i){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:r=1}=n,{startOfMonth:l,addMonths:c,differenceInCalendarMonths:h}=i,d=s?r:1,p=l(e);if(!t)return c(p,d);if(!(h(t,e)<r))return c(p,d)}function r$(e,t,n,i){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:r}=n,{startOfMonth:l,addMonths:c,differenceInCalendarMonths:h}=i,d=s?r??1:1,p=l(e);if(!t)return c(p,-d);if(!(h(p,t)<=0))return c(p,-d)}function a$(e){const t=[];return e.reduce((n,i)=>n.concat(i.weeks.slice()),t.slice())}function Ym(e,t){const[n,i]=j.useState(e);return[t===void 0?n:t,i]}function o$(e,t){const[n,i]=i$(e,t),{startOfMonth:s,endOfMonth:r}=t,l=gA(e,n,i,t),[c,h]=Ym(l,e.month?l:void 0);j.useEffect(()=>{const G=gA(e,n,i,t);h(G)},[e.timeZone]);const d=e$(c,i,e,t),p=JB(d,e.endMonth?r(e.endMonth):void 0,e,t),y=n$(d,p,e,t),_=a$(y),x=t$(y),E=r$(c,n,e,t),S=s$(c,i,e,t),{disableNavigation:T,onMonthChange:D}=e,M=G=>_.some(C=>C.days.some(R=>R.isEqualTo(G))),N=G=>{if(T)return;let C=s(G);n&&C<s(n)&&(C=s(n)),i&&C>s(i)&&(C=s(i)),h(C),D==null||D(C)};return{months:y,weeks:_,days:x,navStart:n,navEnd:i,previousMonth:E,nextMonth:S,goToMonth:N,goToDay:G=>{M(G)||N(G.date)}}}var Ys;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(Ys||(Ys={}));function mA(e){return!e[Ye.disabled]&&!e[Ye.hidden]&&!e[Ye.outside]}function l$(e,t,n,i){let s,r=-1;for(const l of e){const c=t(l);mA(c)&&(c[Ye.focused]&&r<Ys.FocusedModifier?(s=l,r=Ys.FocusedModifier):i!=null&&i.isEqualTo(l)&&r<Ys.LastFocused?(s=l,r=Ys.LastFocused):n(l.date)&&r<Ys.Selected?(s=l,r=Ys.Selected):c[Ye.today]&&r<Ys.Today&&(s=l,r=Ys.Today))}return s||(s=e.find(l=>mA(t(l)))),s}function c$(e,t,n,i,s,r,l){const{ISOWeek:c,broadcastCalendar:h}=r,{addDays:d,addMonths:p,addWeeks:y,addYears:_,endOfBroadcastWeek:x,endOfISOWeek:E,endOfWeek:S,max:T,min:D,startOfBroadcastWeek:M,startOfISOWeek:N,startOfWeek:U}=l;let G={day:d,week:y,month:p,year:_,startOfWeek:C=>h?M(C,l):c?N(C):U(C),endOfWeek:C=>h?x(C):c?E(C):S(C)}[e](n,t==="after"?1:-1);return t==="before"&&i?G=T([i,G]):t==="after"&&s&&(G=D([s,G])),G}function yI(e,t,n,i,s,r,l,c=0){if(c>365)return;const h=c$(e,t,n.date,i,s,r,l),d=!!(r.disabled&&Kr(h,r.disabled,l)),p=!!(r.hidden&&Kr(h,r.hidden,l)),y=h,_=new aI(h,y,l);return!d&&!p?_:yI(e,t,_,i,s,r,l,c+1)}function u$(e,t,n,i,s){const{autoFocus:r}=e,[l,c]=j.useState(),h=l$(t.days,n,i||(()=>!1),l),[d,p]=j.useState(r?h:void 0);return{isFocusTarget:S=>!!(h!=null&&h.isEqualTo(S)),setFocused:p,focused:d,blur:()=>{c(d),p(void 0)},moveFocus:(S,T)=>{if(!d)return;const D=yI(S,T,d,t.navStart,t.navEnd,e,s);D&&(t.goToDay(D),p(D))}}}function h$(e,t){const{selected:n,required:i,onSelect:s}=e,[r,l]=Ym(n,s?n:void 0),c=s?n:r,{isSameDay:h}=t,d=x=>(c==null?void 0:c.some(E=>h(E,x)))??!1,{min:p,max:y}=e;return{selected:c,select:(x,E,S)=>{let T=[...c??[]];if(d(x)){if((c==null?void 0:c.length)===p||i&&(c==null?void 0:c.length)===1)return;T=c==null?void 0:c.filter(D=>!h(D,x))}else(c==null?void 0:c.length)===y?T=[x]:T=[...T,x];return s||l(T),s==null||s(T,x,E,S),T},isSelected:d}}function d$(e,t,n=0,i=0,s=!1,r=ur){const{from:l,to:c}=t||{},{isSameDay:h,isAfter:d,isBefore:p}=r;let y;if(!l&&!c)y={from:e,to:n>0?void 0:e};else if(l&&!c)h(l,e)?n===0?y={from:l,to:e}:s?y={from:l,to:void 0}:y=void 0:p(e,l)?y={from:e,to:l}:y={from:l,to:e};else if(l&&c)if(h(l,e)&&h(c,e))s?y={from:l,to:c}:y=void 0;else if(h(l,e))y={from:l,to:n>0?void 0:e};else if(h(c,e))y={from:e,to:n>0?void 0:e};else if(p(e,l))y={from:e,to:c};else if(d(e,l))y={from:l,to:e};else if(d(e,c))y={from:l,to:e};else throw new Error("Invalid range");if(y!=null&&y.from&&(y!=null&&y.to)){const _=r.differenceInCalendarDays(y.to,y.from);i>0&&_>i?y={from:e,to:void 0}:n>1&&_<n&&(y={from:e,to:void 0})}return y}function f$(e,t,n=ur){const i=Array.isArray(t)?t:[t];let s=e.from;const r=n.differenceInCalendarDays(e.to,e.from),l=Math.min(r,6);for(let c=0;c<=l;c++){if(i.includes(s.getDay()))return!0;s=n.addDays(s,1)}return!1}function yA(e,t,n=ur){return Gr(e,t.from,!1,n)||Gr(e,t.to,!1,n)||Gr(t,e.from,!1,n)||Gr(t,e.to,!1,n)}function p$(e,t,n=ur){const i=Array.isArray(t)?t:[t];if(i.filter(c=>typeof c!="function").some(c=>typeof c=="boolean"?c:n.isDate(c)?Gr(e,c,!1,n):dI(c,n)?c.some(h=>Gr(e,h,!1,n)):xx(c)?c.from&&c.to?yA(e,{from:c.from,to:c.to},n):!1:hI(c)?f$(e,c.dayOfWeek,n):lI(c)?n.isAfter(c.before,c.after)?yA(e,{from:n.addDays(c.after,1),to:n.addDays(c.before,-1)},n):Kr(e.from,c,n)||Kr(e.to,c,n):cI(c)||uI(c)?Kr(e.from,c,n)||Kr(e.to,c,n):!1))return!0;const l=i.filter(c=>typeof c=="function");if(l.length){let c=e.from;const h=n.differenceInCalendarDays(e.to,e.from);for(let d=0;d<=h;d++){if(l.some(p=>p(c)))return!0;c=n.addDays(c,1)}}return!1}function g$(e,t){const{disabled:n,excludeDisabled:i,selected:s,required:r,onSelect:l}=e,[c,h]=Ym(s,l?s:void 0),d=l?s:c;return{selected:d,select:(_,x,E)=>{const{min:S,max:T}=e,D=_?d$(_,d,S,T,r,t):void 0;return i&&n&&(D!=null&&D.from)&&D.to&&p$({from:D.from,to:D.to},n,t)&&(D.from=_,D.to=void 0),l||h(D),l==null||l(D,_,x,E),D},isSelected:_=>d&&Gr(d,_,!1,t)}}function m$(e,t){const{selected:n,required:i,onSelect:s}=e,[r,l]=Ym(n,s?n:void 0),c=s?n:r,{isSameDay:h}=t;return{selected:c,select:(y,_,x)=>{let E=y;return!i&&c&&c&&h(y,c)&&(E=void 0),s||l(E),s==null||s(E,y,_,x),E},isSelected:y=>c?h(c,y):!1}}function y$(e,t){const n=m$(e,t),i=h$(e,t),s=g$(e,t);switch(e.mode){case"single":return n;case"multiple":return i;case"range":return s;default:return}}function _$(e){var ha;let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new si(t.today,t.timeZone)),t.month&&(t.month=new si(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new si(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new si(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new si(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new si(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=(ha=t.selected)==null?void 0:ha.map(Ht=>new si(Ht,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new si(t.selected.from,t.timeZone):void 0,to:t.selected.to?new si(t.selected.to,t.timeZone):void 0}));const{components:n,formatters:i,labels:s,dateLib:r,locale:l,classNames:c}=j.useMemo(()=>{const Ht={...vx,...t.locale};return{dateLib:new ua({locale:Ht,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:xB(t.components),formatters:IB(t.formatters),labels:{...GB,...t.labels},locale:Ht,classNames:{...EB(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:h,mode:d,navLayout:p,numberOfMonths:y=1,onDayBlur:_,onDayClick:x,onDayFocus:E,onDayKeyDown:S,onDayMouseEnter:T,onDayMouseLeave:D,onNextClick:M,onPrevClick:N,showWeekNumber:U,styles:P}=t,{formatCaption:G,formatDay:C,formatMonthDropdown:R,formatWeekNumber:O,formatWeekNumberHeader:V,formatWeekdayName:$,formatYearDropdown:H}=i,z=o$(t,r),{days:Ct,months:Q,navStart:q,navEnd:K,previousMonth:ot,nextMonth:nt,goToMonth:F}=z,it=bB(Ct,t,q,K,r),{isSelected:at,select:ht,selected:yt}=y$(t,r)??{},{blur:Et,focused:Y,isFocusTarget:lt,moveFocus:ut,setFocused:dt}=u$(t,z,it,at??(()=>!1),r),{labelDayButton:St,labelGridcell:Ft,labelGrid:Qt,labelMonthDropdown:me,labelNav:Jn,labelPrevious:Bi,labelNext:cs,labelWeekday:Xe,labelWeekNumber:hr,labelWeekNumberHeader:dr,labelYearDropdown:bt}=s,Mt=j.useMemo(()=>NB(r,t.ISOWeek),[r,t.ISOWeek]),At=d!==void 0||x!==void 0,Tt=j.useCallback(()=>{ot&&(F(ot),N==null||N(ot))},[ot,F,N]),te=j.useCallback(()=>{nt&&(F(nt),M==null||M(nt))},[F,nt,M]),hi=j.useCallback((Ht,_e)=>Vt=>{Vt.preventDefault(),Vt.stopPropagation(),dt(Ht),ht==null||ht(Ht.date,_e,Vt),x==null||x(Ht.date,_e,Vt)},[ht,x,dt]),fe=j.useCallback((Ht,_e)=>Vt=>{dt(Ht),E==null||E(Ht.date,_e,Vt)},[E,dt]),ee=j.useCallback((Ht,_e)=>Vt=>{Et(),_==null||_(Ht.date,_e,Vt)},[Et,_]),di=j.useCallback((Ht,_e)=>Vt=>{const de={ArrowLeft:[Vt.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[Vt.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[Vt.shiftKey?"year":"week","after"],ArrowUp:[Vt.shiftKey?"year":"week","before"],PageUp:[Vt.shiftKey?"year":"month","before"],PageDown:[Vt.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(de[Vt.key]){Vt.preventDefault(),Vt.stopPropagation();const[Mn,Wt]=de[Vt.key];ut(Mn,Wt)}S==null||S(Ht.date,_e,Vt)},[ut,S,t.dir]),Dn=j.useCallback((Ht,_e)=>Vt=>{T==null||T(Ht.date,_e,Vt)},[T]),Pl=j.useCallback((Ht,_e)=>Vt=>{D==null||D(Ht.date,_e,Vt)},[D]),bu=j.useCallback(Ht=>_e=>{const Vt=Number(_e.target.value),de=r.setMonth(r.startOfMonth(Ht),Vt);F(de)},[r,F]),fr=j.useCallback(Ht=>_e=>{const Vt=Number(_e.target.value),de=r.setYear(r.startOfMonth(Ht),Vt);F(de)},[r,F]),{className:pr,style:gr}=j.useMemo(()=>({className:[c[Pt.Root],t.className].filter(Boolean).join(" "),style:{...P==null?void 0:P[Pt.Root],...t.style}}),[c,t.className,t.style,P]),ki=wB(t),mr=j.useRef(null);ZB(mr,!!t.animate,{classNames:c,months:Q,focused:Y,dateLib:r});const yr={dayPickerProps:t,selected:yt,select:ht,isSelected:at,months:Q,nextMonth:nt,previousMonth:ot,goToMonth:F,getModifiers:it,components:n,classNames:c,styles:P,labels:s,formatters:i};return wt.createElement(oI.Provider,{value:yr},wt.createElement(n.Root,{rootRef:t.animate?mr:void 0,className:pr,style:gr,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...ki},wt.createElement(n.Months,{className:c[Pt.Months],style:P==null?void 0:P[Pt.Months]},!t.hideNavigation&&!p&&wt.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[Pt.Nav],style:P==null?void 0:P[Pt.Nav],"aria-label":Jn(),onPreviousClick:Tt,onNextClick:te,previousMonth:ot,nextMonth:nt}),Q.map((Ht,_e)=>wt.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:c[Pt.Month],style:P==null?void 0:P[Pt.Month],key:_e,displayIndex:_e,calendarMonth:Ht},p==="around"&&!t.hideNavigation&&_e===0&&wt.createElement(n.PreviousMonthButton,{type:"button",className:c[Pt.PreviousMonthButton],tabIndex:ot?void 0:-1,"aria-disabled":ot?void 0:!0,"aria-label":Bi(ot),onClick:Tt,"data-animated-button":t.animate?"true":void 0},wt.createElement(n.Chevron,{disabled:ot?void 0:!0,className:c[Pt.Chevron],orientation:t.dir==="rtl"?"right":"left"})),wt.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:c[Pt.MonthCaption],style:P==null?void 0:P[Pt.MonthCaption],calendarMonth:Ht,displayIndex:_e},h!=null&&h.startsWith("dropdown")?wt.createElement(n.DropdownNav,{className:c[Pt.Dropdowns],style:P==null?void 0:P[Pt.Dropdowns]},h==="dropdown"||h==="dropdown-months"?wt.createElement(n.MonthsDropdown,{className:c[Pt.MonthsDropdown],"aria-label":me(),classNames:c,components:n,disabled:!!t.disableNavigation,onChange:bu(Ht.date),options:OB(Ht.date,q,K,i,r),style:P==null?void 0:P[Pt.Dropdown],value:r.getMonth(Ht.date)}):wt.createElement("span",null,R(Ht.date,r)),h==="dropdown"||h==="dropdown-years"?wt.createElement(n.YearsDropdown,{className:c[Pt.YearsDropdown],"aria-label":bt(r.options),classNames:c,components:n,disabled:!!t.disableNavigation,onChange:fr(Ht.date),options:LB(q,K,i,r,!!t.reverseYears),style:P==null?void 0:P[Pt.Dropdown],value:r.getYear(Ht.date)}):wt.createElement("span",null,H(Ht.date,r)),wt.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},G(Ht.date,r.options,r))):wt.createElement(n.CaptionLabel,{className:c[Pt.CaptionLabel],role:"status","aria-live":"polite"},G(Ht.date,r.options,r))),p==="around"&&!t.hideNavigation&&_e===y-1&&wt.createElement(n.NextMonthButton,{type:"button",className:c[Pt.NextMonthButton],tabIndex:nt?void 0:-1,"aria-disabled":nt?void 0:!0,"aria-label":cs(nt),onClick:te,"data-animated-button":t.animate?"true":void 0},wt.createElement(n.Chevron,{disabled:nt?void 0:!0,className:c[Pt.Chevron],orientation:t.dir==="rtl"?"left":"right"})),_e===y-1&&p==="after"&&!t.hideNavigation&&wt.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[Pt.Nav],style:P==null?void 0:P[Pt.Nav],"aria-label":Jn(),onPreviousClick:Tt,onNextClick:te,previousMonth:ot,nextMonth:nt}),wt.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":Qt(Ht.date,r.options,r)||void 0,className:c[Pt.MonthGrid],style:P==null?void 0:P[Pt.MonthGrid]},!t.hideWeekdays&&wt.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:c[Pt.Weekdays],style:P==null?void 0:P[Pt.Weekdays]},U&&wt.createElement(n.WeekNumberHeader,{"aria-label":dr(r.options),className:c[Pt.WeekNumberHeader],style:P==null?void 0:P[Pt.WeekNumberHeader],scope:"col"},V()),Mt.map(Vt=>wt.createElement(n.Weekday,{"aria-label":Xe(Vt,r.options,r),className:c[Pt.Weekday],key:String(Vt),style:P==null?void 0:P[Pt.Weekday],scope:"col"},$(Vt,r.options,r)))),wt.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:c[Pt.Weeks],style:P==null?void 0:P[Pt.Weeks]},Ht.weeks.map(Vt=>wt.createElement(n.Week,{className:c[Pt.Week],key:Vt.weekNumber,style:P==null?void 0:P[Pt.Week],week:Vt},U&&wt.createElement(n.WeekNumber,{week:Vt,style:P==null?void 0:P[Pt.WeekNumber],"aria-label":hr(Vt.weekNumber,{locale:l}),className:c[Pt.WeekNumber],scope:"row",role:"rowheader"},O(Vt.weekNumber,r)),Vt.days.map(de=>{const{date:Mn}=de,Wt=it(de);if(Wt[Ye.focused]=!Wt.hidden&&!!(Y!=null&&Y.isEqualTo(de)),Wt[bs.selected]=(at==null?void 0:at(Mn))||Wt.selected,xx(yt)){const{from:$i,to:fa}=yt;Wt[bs.range_start]=!!($i&&fa&&r.isSameDay(Mn,$i)),Wt[bs.range_end]=!!($i&&fa&&r.isSameDay(Mn,fa)),Wt[bs.range_middle]=Gr(yt,Mn,!0,r)}const So=PB(Wt,P,t.modifiersStyles),Cs=vB(Wt,c,t.modifiersClassNames),da=!At&&!Wt.hidden?Ft(Mn,Wt,r.options,r):void 0;return wt.createElement(n.Day,{key:`${r.format(Mn,"yyyy-MM-dd")}_${r.format(de.displayMonth,"yyyy-MM")}`,day:de,modifiers:Wt,className:Cs.join(" "),style:So,role:"gridcell","aria-selected":Wt.selected||void 0,"aria-label":da,"data-day":r.format(Mn,"yyyy-MM-dd"),"data-month":de.outside?r.format(Mn,"yyyy-MM"):void 0,"data-selected":Wt.selected||void 0,"data-disabled":Wt.disabled||void 0,"data-hidden":Wt.hidden||void 0,"data-outside":de.outside||void 0,"data-focused":Wt.focused||void 0,"data-today":Wt.today||void 0},!Wt.hidden&&At?wt.createElement(n.DayButton,{className:c[Pt.DayButton],style:P==null?void 0:P[Pt.DayButton],type:"button",day:de,modifiers:Wt,disabled:Wt.disabled||void 0,tabIndex:lt(de)?0:-1,"aria-label":St(Mn,Wt,r.options,r),onClick:hi(de,Wt),onBlur:ee(de,Wt),onFocus:fe(de,Wt),onKeyDown:di(de,Wt),onMouseEnter:Dn(de,Wt),onMouseLeave:Pl(de,Wt)},C(Mn,r.options,r)):!Wt.hidden&&C(de.date,r.options,r))})))))))),t.footer&&wt.createElement(n.Footer,{className:c[Pt.Footer],style:P==null?void 0:P[Pt.Footer],role:"status","aria-live":"polite"},t.footer)))}const b$="/pdms-test/assets/calendar-arrow-BfXL-r2k.png";function v$({value:e,onApply:t,placeholder:n="요청 기간 선택",autoCloseOnComplete:i=!0}){var S;const[s,r]=j.useState({start:(e==null?void 0:e.start)??null,end:(e==null?void 0:e.end)??null}),[l,c]=j.useState(((S=e==null?void 0:e.start)==null?void 0:S.getFullYear())??new Date().getFullYear()),[h,d]=j.useState(!1),p=j.useMemo(()=>{const T=D=>`${D.getFullYear()}.${String(D.getMonth()+1).padStart(2,"0")}.${String(D.getDate()).padStart(2,"0")}`;return s.start&&s.end?`${T(s.start)} ~ ${T(s.end)}`:s.start?`${T(s.start)} ~`:""},[s]),y=new Date().getMonth(),_=j.useRef(null);j.useEffect(()=>{if(h&&_.current){const T=_.current.querySelectorAll(".month-box")[y];T&&T.scrollIntoView({block:"start"})}},[h]);const x=j.useRef(null);j.useEffect(()=>{const T=D=>{x.current&&!x.current.contains(D.target)&&d(!1)};return h&&document.addEventListener("click",T),()=>{document.removeEventListener("click",T)}},[h]),j.useEffect(()=>{const T=N=>N instanceof Date?new Date(N.getFullYear(),N.getMonth(),N.getDate()).getTime():null,D=(e==null?void 0:e.start)??null,M=(e==null?void 0:e.end)??null;(T(s.start)!==T(D)||T(s.end)!==T(M))&&(r({start:D,end:M}),c((D==null?void 0:D.getFullYear())??new Date().getFullYear()))},[e==null?void 0:e.start,e==null?void 0:e.end]);const E=T=>{if(!s.start||s.start&&s.end){r({start:T,end:null});return}if(s.start&&!s.end)if(T<s.start)r({start:T,end:null});else{const D={start:s.start,end:T};r(D),t==null||t(D),i&&d(!1)}};return v.jsxs(x$,{ref:x,children:[v.jsx(I$,{}),v.jsx(w$,{value:p,placeholder:n,readOnly:!0,onClick:()=>d(T=>!T)}),h&&v.jsxs(S$,{children:[v.jsxs(T$,{children:[v.jsx(A$,{dir:"prev",onClick:()=>c(T=>T-1)}),v.jsx("span",{children:l}),v.jsx(k$,{dir:"next",onClick:()=>c(T=>T+1)})]}),v.jsx(R$,{children:["일","월","화","수","목","금","토"].map(T=>v.jsx("span",{children:T},T))}),v.jsx(E$,{children:v.jsx(C$,{ref:_,children:Array.from({length:12}).map((T,D)=>{const M=new Date(l,D,1),N=P=>new Date(P.getFullYear(),P.getMonth(),P.getDate()).getTime(),U=P=>P.getFullYear()===M.getFullYear()&&P.getMonth()===M.getMonth();return v.jsxs(D$,{className:"month-box",children:[v.jsx(M$,{children:String(D+1).padStart(2,"0")}),v.jsx(_$,{mode:"single",month:M,selected:void 0,onDayClick:E,showOutsideDays:!1,modifiers:{start:P=>!!s.start&&U(P)&&N(P)===N(s.start),end:P=>!!s.end&&U(P)&&N(P)===N(s.end),middle:P=>{if(!s.start||!s.end||!U(P))return!1;const G=N(P),C=N(s.start),R=N(s.end);return G>C&&G<R},todayInMonth:P=>{const G=new Date;return U(P)&&P.getFullYear()===G.getFullYear()&&P.getMonth()===G.getMonth()&&P.getDate()===G.getDate()}},modifiersClassNames:{start:"sel-start",end:"sel-end",middle:"sel-mid",todayInMonth:"sel-today"}})]},D)})})})]})]})}const x$=B.div`
  position: relative;
  width: 215px;
  margin-right: 8px;
  font-family: 'Pretendard';
`,w$=B.input`
  width: 100%;
  padding: 11.5px 12px;
  border: 1px solid ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.gray02)||"#d0d5dd"}};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  cursor: pointer;

  &::placeholder {
    color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.black}};
  }
  
  &:focus {
    outline: none;
    border-color: ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.black)||"#111"}};
  }
`,E$=B.div`
  overflow-y: auto;
  max-height: 385px;

  /* ===== Firefox ===== */
  scrollbar-width: thin;
  scrollbar-color: ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.gray03)||"#c9ced6"}}
                    transparent;

  &::-webkit-scrollbar {
    width: 10px !important;
  }

  /* ===== WebKit (Chrome/Edge/Safari) ===== */
  &::-webkit-scrollbar-button {
    display: none !important;
    width: 0 !important;
    height: 0 !important;
    background: transparent !important;
    border: none !important;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.gray04)||"#aeb4be"}};
  }
`,S$=B.div`
  position: absolute;
  top: 60px;
  left: 0;
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 10px;
  z-index: 100;
  width: 380px;
  max-height: 480px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
`,T$=B.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  height: 46px;
  font-weight: 700;
  font-size: 15px;
  background-color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.gray02}};
`,_I=B.button`
  width: 48px;
  height: 100%;
  background-image: url(${b$});
  background-repeat: no-repeat;
`,A$=B(_I)``,k$=B(_I)`
  background-position: -50px 0;  /* 오른쪽 프레임만 노출 */
`,R$=B.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  height: 46px;
  font-size: 12px;
  padding: 0 11px;
  border-bottom: 1px solid ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.gray03}};

  span {
    flex: 1;
    font-size: 15px;
    font-weight: 700;
    text-align: center;
    color: #757575;
  }
`,C$=B.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding-left: 12px;
`,D$=B.div`
  .rdp-months {
    width: 100%;

    table {
      width: 100%;
    }
  }

  .rdp-tbody {
    display: contents !important; /* table body 제거 */
  }

  .rdp-row {
    display: contents !important; /* tr 제거 */
  }

  .rdp-cell {
    display: flex !important;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
  }

  .rdp-day {
    font-size: 13px;
    line-height: 31px;
    border: none;
    text-align: center;
    cursor: pointer;

    & button {
      width: 100%;
      padding: 8px 0;
      font-family: 'Pretendard';
    }
  }

  /* ✅ 오늘 날짜 강조 */
  .sel-today {
    background-color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.black}};
    font-weight: 700;

    button {
      color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.white01}};
    }
  }

  /* ❶ 라이브러리 기본 range 클래스 전부 무력화 (혹시 붙어도 표시 안 되게) */
  .rdp-range_start,
  .rdp-range_middle,
  .rdp-range_end {
    background: none !important;
    color: inherit !important;
  }

  /* ❷ 우리가 지정한 커스텀 클래스만 색칠 */
  .sel-start,
  .sel-end,
  .sel-mid {
    background-color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.red}} !important;

    & button {
      color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.white01}};
    }
  }
`,M$=B.div`
  font-size: 16px;
  font-weight: 700;
  margin-top: 20px;
  padding-left: 15px;
  color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.black}};
`,I$=uC`
  .rdp-month_caption, .rdp-weekday, .rdp-nav {
    display: none !important;
  }
`,zc="진행 상태 선택",Th="요청자 선택",Ah="디자이너 선택",kh="회사 선택",O$=new Set(["PushComz"].map(e=>e.toLowerCase())),Rb={start:null,end:null},P$=e=>e===3?"manager":e===2?"designer":"requester",N$={requester:[zc,"대기","진행중","검수중","완료","취소"],manager:[zc,"대기","진행중","검수중","검수요청","완료","취소"],designer:[zc,"대기","진행중","검수요청","완료","취소"]},L$=(e,t)=>{if(e==="manager"){if(t==="검수중")return"검수요청";if(t==="검수요청")return"검수중"}return t};function j$({onApplyStatus:e,onApplyRange:t,isManager:n=!1,requesterOptions:i=[],onApplyRequester:s,designerOptions:r=[],companyOptions:l=[],onApplyCompany:c,onApplyDesigner:h,roleNumber:d}){const[p,y]=j.useState(Rb),[_,x]=j.useState(zc),[E,S]=j.useState(Th),[T,D]=j.useState(Ah),[M,N]=j.useState(kh),U=()=>{x(zc),y(Rb),S(Th),D(Ah),N(kh),e(zc),t(Rb),s==null||s(Th),h==null||h(Ah),c==null||c(kh)},P=P$(d),G=N$[P];return v.jsxs(V$,{children:[v.jsx(v$,{value:p,onApply:C=>{y(C),t(C)}}),P!=="requester"&&v.jsxs(Pp,{"aria-label":"회사 선택",value:M,onChange:C=>{const R=C.target.value;N(R),c==null||c(R)},children:[v.jsx("option",{value:kh,children:kh}),(l||[]).filter(C=>!!C&&!O$.has(String(C).toLowerCase())).map(C=>v.jsx("option",{value:C,children:C},C))]}),n&&v.jsxs(v.Fragment,{children:[v.jsxs(Pp,{"aria-label":"요청자 선택",value:E,onChange:C=>{S(C.target.value),s==null||s(C.target.value)},children:[v.jsx("option",{value:Th,children:Th}),i.map(C=>v.jsx("option",{value:C,children:C},C))]}),v.jsxs(Pp,{"aria-label":"디자이너 선택",value:T,onChange:C=>{const R=C.target.value;D(R),h==null||h(R)},children:[v.jsx("option",{value:Ah,children:Ah}),r.map(C=>v.jsx("option",{value:C,children:C},C))]})]}),v.jsx(Pp,{value:_,onChange:C=>{const R=C.target.value,O=L$(P,R);x(R),e(O)},children:G.map(C=>v.jsx("option",{value:C,children:C},C))}),v.jsx(U$,{type:"button",onClick:U,children:"필터 초기화"})]})}const V$=B.div`
  ${({theme:e})=>e.mixin.flex("center")};
`,Pp=B.select`
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;

  width: 150px;
  height: 48px;
  margin-right: 8px;
  padding: 0 12px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 400;
  color: ${({theme:e})=>e.colors.black};
  background-color: ${({theme:e})=>e.colors.white01};
  background-image: url(${Wm});
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 16px 16px;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.black};
  }
`,U$=B.button`
  padding: 11.5px 10px;
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 400;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,z$="/pdms-test/assets/search-icon-g0O6fOpZ.svg";function F$({keyword:e,onKeywordChange:t,onSearch:n}){const i=s=>{t(s),n(s.trim())};return v.jsx(B$,{children:v.jsx($$,{placeholder:"문서번호와 작업항목을 검색해 주세요.",value:e,onChange:s=>i(s.target.value),onKeyDown:s=>{s.key==="Escape"&&i("")}})})}const B$=B.div`
  position: relative;
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  padding: 11.5px 14.5px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;

  /* 🔍 아이콘: 버튼 제거하고 래퍼에 ::after로 표시 */
  &::after {
    content: "";
    position: absolute;
    right: 12px;
    top: 50%;
    display: block;
    width: 24px;
    height: 24px;
    background: url(${z$}) no-repeat center / contain;
    transform: translateY(-50%);
  }
`,$$=B.input`
  width: 458px;
  margin-right: 12px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;
`;function Cd({onApplyStatus:e,onApplyRange:t,onSearch:n,keyword:i,onKeywordChange:s,isManager:r=!1,requesterOptions:l=[],onApplyRequester:c,designerOptions:h=[],companyOptions:d=[],onApplyCompany:p,onApplyDesigner:y,roleNumber:_}){return v.jsxs(q$,{children:[v.jsx(j$,{onApplyStatus:e,onApplyRange:t,isManager:r,requesterOptions:l,onApplyRequester:c,designerOptions:h,companyOptions:d,onApplyCompany:p,onApplyDesigner:y,roleNumber:_}),v.jsx(F$,{keyword:i,onKeywordChange:s,onSearch:n})]})}const q$=B.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  padding: 24px 0 30px;
`;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Jd(e){return e+.5|0}const Xa=(e,t,n)=>Math.max(Math.min(e,n),t);function Hh(e){return Xa(Jd(e*2.55),0,255)}function oo(e){return Xa(Jd(e*255),0,255)}function Hr(e){return Xa(Jd(e/2.55)/100,0,1)}function _A(e){return Xa(Jd(e*100),0,100)}const is={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},U0=[..."0123456789ABCDEF"],H$=e=>U0[e&15],W$=e=>U0[(e&240)>>4]+U0[e&15],Np=e=>(e&240)>>4===(e&15),Y$=e=>Np(e.r)&&Np(e.g)&&Np(e.b)&&Np(e.a);function G$(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&is[e[1]]*17,g:255&is[e[2]]*17,b:255&is[e[3]]*17,a:t===5?is[e[4]]*17:255}:(t===7||t===9)&&(n={r:is[e[1]]<<4|is[e[2]],g:is[e[3]]<<4|is[e[4]],b:is[e[5]]<<4|is[e[6]],a:t===9?is[e[7]]<<4|is[e[8]]:255})),n}const K$=(e,t)=>e<255?t(e):"";function X$(e){var t=Y$(e)?H$:W$;return e?"#"+t(e.r)+t(e.g)+t(e.b)+K$(e.a,t):void 0}const Q$=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function bI(e,t,n){const i=t*Math.min(n,1-n),s=(r,l=(r+e/30)%12)=>n-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function Z$(e,t,n){const i=(s,r=(s+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function J$(e,t,n){const i=bI(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function tq(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function wx(e){const n=e.r/255,i=e.g/255,s=e.b/255,r=Math.max(n,i,s),l=Math.min(n,i,s),c=(r+l)/2;let h,d,p;return r!==l&&(p=r-l,d=c>.5?p/(2-r-l):p/(r+l),h=tq(n,i,s,p,r),h=h*60+.5),[h|0,d||0,c]}function Ex(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(oo)}function Sx(e,t,n){return Ex(bI,e,t,n)}function eq(e,t,n){return Ex(J$,e,t,n)}function nq(e,t,n){return Ex(Z$,e,t,n)}function vI(e){return(e%360+360)%360}function iq(e){const t=Q$.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Hh(+t[5]):oo(+t[5]));const s=vI(+t[2]),r=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=eq(s,r,l):t[1]==="hsv"?i=nq(s,r,l):i=Sx(s,r,l),{r:i[0],g:i[1],b:i[2],a:n}}function sq(e,t){var n=wx(e);n[0]=vI(n[0]+t),n=Sx(n),e.r=n[0],e.g=n[1],e.b=n[2]}function rq(e){if(!e)return;const t=wx(e),n=t[0],i=_A(t[1]),s=_A(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${Hr(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const bA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},vA={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function aq(){const e={},t=Object.keys(vA),n=Object.keys(bA);let i,s,r,l,c;for(i=0;i<t.length;i++){for(l=c=t[i],s=0;s<n.length;s++)r=n[s],c=c.replace(r,bA[r]);r=parseInt(vA[l],16),e[c]=[r>>16&255,r>>8&255,r&255]}return e}let Lp;function oq(e){Lp||(Lp=aq(),Lp.transparent=[0,0,0,0]);const t=Lp[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const lq=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function cq(e){const t=lq.exec(e);let n=255,i,s,r;if(t){if(t[7]!==i){const l=+t[7];n=t[8]?Hh(l):Xa(l*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?Hh(i):Xa(i,0,255)),s=255&(t[4]?Hh(s):Xa(s,0,255)),r=255&(t[6]?Hh(r):Xa(r,0,255)),{r:i,g:s,b:r,a:n}}}function uq(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Hr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Cb=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Tc=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function hq(e,t,n){const i=Tc(Hr(e.r)),s=Tc(Hr(e.g)),r=Tc(Hr(e.b));return{r:oo(Cb(i+n*(Tc(Hr(t.r))-i))),g:oo(Cb(s+n*(Tc(Hr(t.g))-s))),b:oo(Cb(r+n*(Tc(Hr(t.b))-r))),a:e.a+n*(t.a-e.a)}}function jp(e,t,n){if(e){let i=wx(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=Sx(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function xI(e,t){return e&&Object.assign(t||{},e)}function xA(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=oo(e[3]))):(t=xI(e,{r:0,g:0,b:0,a:1}),t.a=oo(t.a)),t}function dq(e){return e.charAt(0)==="r"?cq(e):iq(e)}class Dd{constructor(t){if(t instanceof Dd)return t;const n=typeof t;let i;n==="object"?i=xA(t):n==="string"&&(i=G$(t)||oq(t)||dq(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=xI(this._rgb);return t&&(t.a=Hr(t.a)),t}set rgb(t){this._rgb=xA(t)}rgbString(){return this._valid?uq(this._rgb):void 0}hexString(){return this._valid?X$(this._rgb):void 0}hslString(){return this._valid?rq(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let r;const l=n===r?.5:n,c=2*l-1,h=i.a-s.a,d=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;r=1-d,i.r=255&d*i.r+r*s.r+.5,i.g=255&d*i.g+r*s.g+.5,i.b=255&d*i.b+r*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=hq(this._rgb,t._rgb,n)),this}clone(){return new Dd(this.rgb)}alpha(t){return this._rgb.a=oo(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Jd(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return jp(this._rgb,2,t),this}darken(t){return jp(this._rgb,2,-t),this}saturate(t){return jp(this._rgb,1,t),this}desaturate(t){return jp(this._rgb,1,-t),this}rotate(t){return sq(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Fr(){}const fq=(()=>{let e=0;return()=>e++})();function Yt(e){return e==null}function Ve(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function se(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function en(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ji(e,t){return en(e)?e:t}function $t(e,t){return typeof e>"u"?t:e}const pq=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,wI=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function De(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function xe(e,t,n,i){let s,r,l;if(Ve(e))for(r=e.length,s=0;s<r;s++)t.call(n,e[s],s);else if(se(e))for(l=Object.keys(e),r=l.length,s=0;s<r;s++)t.call(n,e[l[s]],l[s])}function sm(e,t){let n,i,s,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],r=t[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function rm(e){if(Ve(e))return e.map(rm);if(se(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=rm(e[n[s]]);return t}return e}function EI(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function gq(e,t,n,i){if(!EI(e))return;const s=t[e],r=n[e];se(s)&&se(r)?ar(s,r,i):t[e]=rm(r)}function ar(e,t,n){const i=Ve(t)?t:[t],s=i.length;if(!se(e))return e;n=n||{};const r=n.merger||gq;let l;for(let c=0;c<s;++c){if(l=i[c],!se(l))continue;const h=Object.keys(l);for(let d=0,p=h.length;d<p;++d)r(h[d],e,l,n)}return e}function id(e,t){return ar(e,t,{merger:mq})}function mq(e,t,n){if(!EI(e))return;const i=t[e],s=n[e];se(i)&&se(s)?id(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=rm(s))}const wA={"":e=>e,x:e=>e.x,y:e=>e.y};function yq(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function _q(e){const t=yq(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function mo(e,t){return(wA[t]||(wA[t]=_q(t)))(e)}function Tx(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Md=e=>typeof e<"u",yo=e=>typeof e=="function",EA=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function bq(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const ge=Math.PI,Ue=2*ge,vq=Ue+ge,am=Number.POSITIVE_INFINITY,xq=ge/180,ln=ge/2,tl=ge/4,SA=ge*2/3,Qa=Math.log10,sr=Math.sign;function sd(e,t,n){return Math.abs(e-t)<n}function TA(e){const t=Math.round(e);e=sd(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Qa(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function wq(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,r)=>s-r).pop(),t}function Eq(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function iu(e){return!Eq(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Sq(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function SI(e,t,n){let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function vs(e){return e*(ge/180)}function Ax(e){return e*(180/ge)}function AA(e){if(!en(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function TI(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*ge&&(r+=Ue),{angle:r,distance:s}}function z0(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Tq(e,t){return(e-t+vq)%Ue-ge}function ai(e){return(e%Ue+Ue)%Ue}function Id(e,t,n,i){const s=ai(e),r=ai(t),l=ai(n),c=ai(r-s),h=ai(l-s),d=ai(s-r),p=ai(s-l);return s===r||s===l||i&&r===l||c>h&&d<p}function Bn(e,t,n){return Math.max(t,Math.min(n,e))}function Aq(e){return Bn(e,-32768,32767)}function Xr(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function kx(e,t,n){n=n||(l=>e[l]<t);let i=e.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Qr=(e,t,n,i)=>kx(e,n,i?s=>{const r=e[s][t];return r<n||r===n&&e[s+1][t]===n}:s=>e[s][t]<n),kq=(e,t,n)=>kx(e,n,i=>e[i][t]>=n);function Rq(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const AI=["push","pop","shift","splice","unshift"];function Cq(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),AI.forEach(n=>{const i="_onData"+Tx(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const l=s.apply(this,r);return e._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...r)}),l}})})}function kA(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(AI.forEach(r=>{delete e[r]}),delete e._chartjs)}function kI(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const RI=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function CI(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,RI.call(window,()=>{i=!1,e.apply(t,n)}))}}function Dq(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const Rx=e=>e==="start"?"left":e==="end"?"right":"center",ii=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,Mq=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function DI(e,t,n){const i=t.length;let s=0,r=i;if(e._sorted){const{iScale:l,vScale:c,_parsed:h}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,p=l.axis,{min:y,max:_,minDefined:x,maxDefined:E}=l.getUserBounds();if(x){if(s=Math.min(Qr(h,p,y).lo,n?i:Qr(t,p,l.getPixelForValue(y)).lo),d){const S=h.slice(0,s+1).reverse().findIndex(T=>!Yt(T[c.axis]));s-=Math.max(0,S)}s=Bn(s,0,i-1)}if(E){let S=Math.max(Qr(h,l.axis,_,!0).hi+1,n?0:Qr(t,p,l.getPixelForValue(_),!0).hi+1);if(d){const T=h.slice(S-1).findIndex(D=>!Yt(D[c.axis]));S+=Math.max(0,T)}r=Bn(S,s,i)-s}else r=i-s}return{start:s,count:r}}function MI(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const Vp=e=>e===0||e===1,RA=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ue/n)),CA=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ue/n)+1,rd={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*ln)+1,easeOutSine:e=>Math.sin(e*ln),easeInOutSine:e=>-.5*(Math.cos(ge*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Vp(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Vp(e)?e:RA(e,.075,.3),easeOutElastic:e=>Vp(e)?e:CA(e,.075,.3),easeInOutElastic(e){return Vp(e)?e:e<.5?.5*RA(e*2,.1125,.45):.5+.5*CA(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-rd.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?rd.easeInBounce(e*2)*.5:rd.easeOutBounce(e*2-1)*.5+.5};function Cx(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function DA(e){return Cx(e)?e:new Dd(e)}function Db(e){return Cx(e)?e:new Dd(e).saturate(.5).darken(.1).hexString()}const Iq=["x","y","borderWidth","radius","tension"],Oq=["color","borderColor","backgroundColor"];function Pq(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Oq},numbers:{type:"number",properties:Iq}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Nq(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const MA=new Map;function Lq(e,t){t=t||{};const n=e+JSON.stringify(t);let i=MA.get(n);return i||(i=new Intl.NumberFormat(e,t),MA.set(n,i)),i}function tf(e,t,n){return Lq(t,n).format(e)}const II={values(e){return Ve(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,r=e;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),r=jq(e,n)}const l=Qa(Math.abs(r)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),tf(e,i,h)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(Qa(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?II.numeric.call(this,e,t,n):""}};function jq(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Gm={formatters:II};function Vq(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Gm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const kl=Object.create(null),F0=Object.create(null);function ad(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];e=e[r]||(e[r]=Object.create(null))}return e}function Mb(e,t,n){return typeof t=="string"?ar(ad(e,t),n):ar(ad(e,""),t)}class Uq{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Db(s.backgroundColor),this.hoverBorderColor=(i,s)=>Db(s.borderColor),this.hoverColor=(i,s)=>Db(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Mb(this,t,n)}get(t){return ad(this,t)}describe(t,n){return Mb(F0,t,n)}override(t,n){return Mb(kl,t,n)}route(t,n,i,s){const r=ad(this,t),l=ad(this,i),c="_"+n;Object.defineProperties(r,{[c]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[c],d=l[s];return se(h)?Object.assign({},d,h):$t(h,d)},set(h){this[c]=h}}})}apply(t){t.forEach(n=>n(this))}}var ze=new Uq({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Pq,Nq,Vq]);function zq(e){return!e||Yt(e.size)||Yt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function om(e,t,n,i,s){let r=t[s];return r||(r=t[s]=e.measureText(s).width,n.push(s)),r>i&&(i=r),i}function Fq(e,t,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let l=0;const c=n.length;let h,d,p,y,_;for(h=0;h<c;h++)if(y=n[h],y!=null&&!Ve(y))l=om(e,s,r,l,y);else if(Ve(y))for(d=0,p=y.length;d<p;d++)_=y[d],_!=null&&!Ve(_)&&(l=om(e,s,r,l,_));e.restore();const x=r.length/2;if(x>n.length){for(h=0;h<x;h++)delete s[r[h]];r.splice(0,x)}return l}function el(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function IA(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function B0(e,t,n,i){OI(e,t,n,i,null)}function OI(e,t,n,i,s){let r,l,c,h,d,p,y,_;const x=t.pointStyle,E=t.rotation,S=t.radius;let T=(E||0)*xq;if(x&&typeof x=="object"&&(r=x.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(T),e.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),e.restore();return}if(!(isNaN(S)||S<=0)){switch(e.beginPath(),x){default:s?e.ellipse(n,i,s/2,S,0,0,Ue):e.arc(n,i,S,0,Ue),e.closePath();break;case"triangle":p=s?s/2:S,e.moveTo(n+Math.sin(T)*p,i-Math.cos(T)*S),T+=SA,e.lineTo(n+Math.sin(T)*p,i-Math.cos(T)*S),T+=SA,e.lineTo(n+Math.sin(T)*p,i-Math.cos(T)*S),e.closePath();break;case"rectRounded":d=S*.516,h=S-d,l=Math.cos(T+tl)*h,y=Math.cos(T+tl)*(s?s/2-d:h),c=Math.sin(T+tl)*h,_=Math.sin(T+tl)*(s?s/2-d:h),e.arc(n-y,i-c,d,T-ge,T-ln),e.arc(n+_,i-l,d,T-ln,T),e.arc(n+y,i+c,d,T,T+ln),e.arc(n-_,i+l,d,T+ln,T+ge),e.closePath();break;case"rect":if(!E){h=Math.SQRT1_2*S,p=s?s/2:h,e.rect(n-p,i-h,2*p,2*h);break}T+=tl;case"rectRot":y=Math.cos(T)*(s?s/2:S),l=Math.cos(T)*S,c=Math.sin(T)*S,_=Math.sin(T)*(s?s/2:S),e.moveTo(n-y,i-c),e.lineTo(n+_,i-l),e.lineTo(n+y,i+c),e.lineTo(n-_,i+l),e.closePath();break;case"crossRot":T+=tl;case"cross":y=Math.cos(T)*(s?s/2:S),l=Math.cos(T)*S,c=Math.sin(T)*S,_=Math.sin(T)*(s?s/2:S),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"star":y=Math.cos(T)*(s?s/2:S),l=Math.cos(T)*S,c=Math.sin(T)*S,_=Math.sin(T)*(s?s/2:S),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l),T+=tl,y=Math.cos(T)*(s?s/2:S),l=Math.cos(T)*S,c=Math.sin(T)*S,_=Math.sin(T)*(s?s/2:S),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"line":l=s?s/2:Math.cos(T)*S,c=Math.sin(T)*S,e.moveTo(n-l,i-c),e.lineTo(n+l,i+c);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(T)*(s?s/2:S),i+Math.sin(T)*S);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Zr(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Km(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Xm(e){e.restore()}function Bq(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function $q(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function qq(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Yt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Hq(e,t,n,i,s){if(s.strikethrough||s.underline){const r=e.measureText(i),l=t-r.actualBoundingBoxLeft,c=t+r.actualBoundingBoxRight,h=n-r.actualBoundingBoxAscent,d=n+r.actualBoundingBoxDescent,p=s.strikethrough?(h+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(l,p),e.lineTo(c,p),e.stroke()}}function Wq(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Rl(e,t,n,i,s,r={}){const l=Ve(t)?t:[t],c=r.strokeWidth>0&&r.strokeColor!=="";let h,d;for(e.save(),e.font=s.string,qq(e,r),h=0;h<l.length;++h)d=l[h],r.backdrop&&Wq(e,r.backdrop),c&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),Yt(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(d,n,i,r.maxWidth)),e.fillText(d,n,i,r.maxWidth),Hq(e,n,i,d,r),i+=Number(s.lineHeight);e.restore()}function Od(e,t){const{x:n,y:i,w:s,h:r,radius:l}=t;e.arc(n+l.topLeft,i+l.topLeft,l.topLeft,1.5*ge,ge,!0),e.lineTo(n,i+r-l.bottomLeft),e.arc(n+l.bottomLeft,i+r-l.bottomLeft,l.bottomLeft,ge,ln,!0),e.lineTo(n+s-l.bottomRight,i+r),e.arc(n+s-l.bottomRight,i+r-l.bottomRight,l.bottomRight,ln,0,!0),e.lineTo(n+s,i+l.topRight),e.arc(n+s-l.topRight,i+l.topRight,l.topRight,0,-ln,!0),e.lineTo(n+l.topLeft,i)}const Yq=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Gq=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Kq(e,t){const n=(""+e).match(Yq);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const Xq=e=>+e||0;function Dx(e,t){const n={},i=se(t),s=i?Object.keys(t):t,r=se(e)?i?l=>$t(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of s)n[l]=Xq(r(l));return n}function PI(e){return Dx(e,{top:"y",right:"x",bottom:"y",left:"x"})}function yl(e){return Dx(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Zn(e){const t=PI(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function vn(e,t){e=e||{},t=t||ze.font;let n=$t(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=$t(e.style,t.style);i&&!(""+i).match(Gq)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:$t(e.family,t.family),lineHeight:Kq($t(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:$t(e.weight,t.weight),string:""};return s.string=zq(s),s}function je(e,t,n,i){let s,r,l;for(s=0,r=e.length;s<r;++s)if(l=e[s],l!==void 0&&(t!==void 0&&typeof l=="function"&&(l=l(t)),n!==void 0&&Ve(l)&&(l=l[n%l.length]),l!==void 0))return l}function Qq(e,t,n){const{min:i,max:s}=e,r=wI(t,(s-i)/2),l=(c,h)=>n&&c===0?0:c+h;return{min:l(i,-Math.abs(r)),max:l(s,r)}}function Eo(e,t){return Object.assign(Object.create(e),t)}function Mx(e,t=[""],n,i,s=()=>e[0]){const r=n||e;typeof i>"u"&&(i=VI("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:i,_getTarget:s,override:c=>Mx([c,...e],t,r,i)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete e[0][h],!0},get(c,h){return LI(c,h,()=>r8(h,t,e,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(c,h){return PA(c).includes(h)},ownKeys(c){return PA(c)},set(c,h,d){const p=c._storage||(c._storage=s());return c[h]=p[h]=d,delete c._keys,!0}})}function su(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:NI(e,i),setContext:r=>su(e,r,n,i),override:r=>su(e.override(r),t,n,i)};return new Proxy(s,{deleteProperty(r,l){return delete r[l],delete e[l],!0},get(r,l,c){return LI(r,l,()=>Jq(r,l,c))},getOwnPropertyDescriptor(r,l){return r._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(r,l,c){return e[l]=c,delete r[l],!0}})}function NI(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:yo(n)?n:()=>n,isIndexable:yo(i)?i:()=>i}}const Zq=(e,t)=>e?e+Tx(t):t,Ix=(e,t)=>se(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function LI(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function Jq(e,t,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:l}=e;let c=i[t];return yo(c)&&l.isScriptable(t)&&(c=t8(t,c,e,n)),Ve(c)&&c.length&&(c=e8(t,c,e,l.isIndexable)),Ix(t,c)&&(c=su(c,s,r&&r[t],l)),c}function t8(e,t,n,i){const{_proxy:s,_context:r,_subProxy:l,_stack:c}=n;if(c.has(e))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+e);c.add(e);let h=t(r,l||i);return c.delete(e),Ix(e,h)&&(h=Ox(s._scopes,s,e,h)),h}function e8(e,t,n,i){const{_proxy:s,_context:r,_subProxy:l,_descriptors:c}=n;if(typeof r.index<"u"&&i(e))return t[r.index%t.length];if(se(t[0])){const h=t,d=s._scopes.filter(p=>p!==h);t=[];for(const p of h){const y=Ox(d,s,e,p);t.push(su(y,r,l&&l[e],c))}}return t}function jI(e,t,n){return yo(e)?e(t,n):e}const n8=(e,t)=>e===!0?t:typeof e=="string"?mo(t,e):void 0;function i8(e,t,n,i,s){for(const r of t){const l=n8(n,r);if(l){e.add(l);const c=jI(l._fallback,n,s);if(typeof c<"u"&&c!==n&&c!==i)return c}else if(l===!1&&typeof i<"u"&&n!==i)return null}return!1}function Ox(e,t,n,i){const s=t._rootScopes,r=jI(t._fallback,n,i),l=[...e,...s],c=new Set;c.add(i);let h=OA(c,l,n,r||n,i);return h===null||typeof r<"u"&&r!==n&&(h=OA(c,l,r,h,i),h===null)?!1:Mx(Array.from(c),[""],s,r,()=>s8(t,n,i))}function OA(e,t,n,i,s){for(;n;)n=i8(e,t,n,i,s);return n}function s8(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return Ve(s)&&se(n)?n:s||{}}function r8(e,t,n,i){let s;for(const r of t)if(s=VI(Zq(r,e),n),typeof s<"u")return Ix(e,s)?Ox(n,i,e,s):s}function VI(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function PA(e){let t=e._keys;return t||(t=e._keys=a8(e._scopes)),t}function a8(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function UI(e,t,n,i){const{iScale:s}=e,{key:r="r"}=this._parsing,l=new Array(i);let c,h,d,p;for(c=0,h=i;c<h;++c)d=c+n,p=t[d],l[c]={r:s.parse(mo(p,r),d)};return l}const o8=Number.EPSILON||1e-14,ru=(e,t)=>t<e.length&&!e[t].skip&&e[t],zI=e=>e==="x"?"y":"x";function l8(e,t,n,i){const s=e.skip?t:e,r=t,l=n.skip?t:n,c=z0(r,s),h=z0(l,r);let d=c/(c+h),p=h/(c+h);d=isNaN(d)?0:d,p=isNaN(p)?0:p;const y=i*d,_=i*p;return{previous:{x:r.x-y*(l.x-s.x),y:r.y-y*(l.y-s.y)},next:{x:r.x+_*(l.x-s.x),y:r.y+_*(l.y-s.y)}}}function c8(e,t,n){const i=e.length;let s,r,l,c,h,d=ru(e,0);for(let p=0;p<i-1;++p)if(h=d,d=ru(e,p+1),!(!h||!d)){if(sd(t[p],0,o8)){n[p]=n[p+1]=0;continue}s=n[p]/t[p],r=n[p+1]/t[p],c=Math.pow(s,2)+Math.pow(r,2),!(c<=9)&&(l=3/Math.sqrt(c),n[p]=s*l*t[p],n[p+1]=r*l*t[p])}}function u8(e,t,n="x"){const i=zI(n),s=e.length;let r,l,c,h=ru(e,0);for(let d=0;d<s;++d){if(l=c,c=h,h=ru(e,d+1),!c)continue;const p=c[n],y=c[i];l&&(r=(p-l[n])/3,c[`cp1${n}`]=p-r,c[`cp1${i}`]=y-r*t[d]),h&&(r=(h[n]-p)/3,c[`cp2${n}`]=p+r,c[`cp2${i}`]=y+r*t[d])}}function h8(e,t="x"){const n=zI(t),i=e.length,s=Array(i).fill(0),r=Array(i);let l,c,h,d=ru(e,0);for(l=0;l<i;++l)if(c=h,h=d,d=ru(e,l+1),!!h){if(d){const p=d[t]-h[t];s[l]=p!==0?(d[n]-h[n])/p:0}r[l]=c?d?sr(s[l-1])!==sr(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}c8(e,s,r),u8(e,r,t)}function Up(e,t,n){return Math.max(Math.min(e,n),t)}function d8(e,t){let n,i,s,r,l,c=Zr(e[0],t);for(n=0,i=e.length;n<i;++n)l=r,r=c,c=n<i-1&&Zr(e[n+1],t),r&&(s=e[n],l&&(s.cp1x=Up(s.cp1x,t.left,t.right),s.cp1y=Up(s.cp1y,t.top,t.bottom)),c&&(s.cp2x=Up(s.cp2x,t.left,t.right),s.cp2y=Up(s.cp2y,t.top,t.bottom)))}function f8(e,t,n,i,s){let r,l,c,h;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")h8(e,s);else{let d=i?e[e.length-1]:e[0];for(r=0,l=e.length;r<l;++r)c=e[r],h=l8(d,c,e[Math.min(r+1,l-(i?0:1))%l],t.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,d=c}t.capBezierPoints&&d8(e,n)}function Px(){return typeof window<"u"&&typeof document<"u"}function Nx(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function lm(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const Qm=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function p8(e,t){return Qm(e).getPropertyValue(t)}const g8=["top","right","bottom","left"];function _l(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=g8[s];i[r]=parseFloat(e[t+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const m8=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function y8(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:r}=i;let l=!1,c,h;if(m8(s,r,e.target))c=s,h=r;else{const d=t.getBoundingClientRect();c=i.clientX-d.left,h=i.clientY-d.top,l=!0}return{x:c,y:h,box:l}}function ll(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=Qm(n),r=s.boxSizing==="border-box",l=_l(s,"padding"),c=_l(s,"border","width"),{x:h,y:d,box:p}=y8(e,n),y=l.left+(p&&c.left),_=l.top+(p&&c.top);let{width:x,height:E}=t;return r&&(x-=l.width+c.width,E-=l.height+c.height),{x:Math.round((h-y)/x*n.width/i),y:Math.round((d-_)/E*n.height/i)}}function _8(e,t,n){let i,s;if(t===void 0||n===void 0){const r=e&&Nx(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const l=r.getBoundingClientRect(),c=Qm(r),h=_l(c,"border","width"),d=_l(c,"padding");t=l.width-d.width-h.width,n=l.height-d.height-h.height,i=lm(c.maxWidth,r,"clientWidth"),s=lm(c.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:i||am,maxHeight:s||am}}const zp=e=>Math.round(e*10)/10;function b8(e,t,n,i){const s=Qm(e),r=_l(s,"margin"),l=lm(s.maxWidth,e,"clientWidth")||am,c=lm(s.maxHeight,e,"clientHeight")||am,h=_8(e,t,n);let{width:d,height:p}=h;if(s.boxSizing==="content-box"){const _=_l(s,"border","width"),x=_l(s,"padding");d-=x.width+_.width,p-=x.height+_.height}return d=Math.max(0,d-r.width),p=Math.max(0,i?d/i:p-r.height),d=zp(Math.min(d,l,h.maxWidth)),p=zp(Math.min(p,c,h.maxHeight)),d&&!p&&(p=zp(d/2)),(t!==void 0||n!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,d=zp(Math.floor(p*i))),{width:d,height:p}}function NA(e,t,n){const i=t||1,s=Math.floor(e.height*i),r=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||l.height!==s||l.width!==r?(e.currentDevicePixelRatio=i,l.height=s,l.width=r,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const v8=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Px()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function LA(e,t){const n=p8(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function cl(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function x8(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function w8(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},l=cl(e,s,n),c=cl(s,r,n),h=cl(r,t,n),d=cl(l,c,n),p=cl(c,h,n);return cl(d,p,n)}const E8=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},S8=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Fc(e,t,n){return e?E8(t,n):S8()}function FI(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function BI(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function $I(e){return e==="angle"?{between:Id,compare:Tq,normalize:ai}:{between:Xr,compare:(t,n)=>t-n,normalize:t=>t}}function jA({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function T8(e,t,n){const{property:i,start:s,end:r}=n,{between:l,normalize:c}=$I(i),h=t.length;let{start:d,end:p,loop:y}=e,_,x;if(y){for(d+=h,p+=h,_=0,x=h;_<x&&l(c(t[d%h][i]),s,r);++_)d--,p--;d%=h,p%=h}return p<d&&(p+=h),{start:d,end:p,loop:y,style:e.style}}function qI(e,t,n){if(!n)return[e];const{property:i,start:s,end:r}=n,l=t.length,{compare:c,between:h,normalize:d}=$I(i),{start:p,end:y,loop:_,style:x}=T8(e,t,n),E=[];let S=!1,T=null,D,M,N;const U=()=>h(s,N,D)&&c(s,N)!==0,P=()=>c(r,D)===0||h(r,N,D),G=()=>S||U(),C=()=>!S||P();for(let R=p,O=p;R<=y;++R)M=t[R%l],!M.skip&&(D=d(M[i]),D!==N&&(S=h(D,s,r),T===null&&G()&&(T=c(D,s)===0?R:O),T!==null&&C()&&(E.push(jA({start:T,end:R,loop:_,count:l,style:x})),T=null),O=R,N=D));return T!==null&&E.push(jA({start:T,end:y,loop:_,count:l,style:x})),E}function HI(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const r=qI(i[s],e.points,t);r.length&&n.push(...r)}return n}function A8(e,t,n,i){let s=0,r=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(r+=s);r>s&&e[r%t].skip;)r--;return r%=t,{start:s,end:r}}function k8(e,t,n,i){const s=e.length,r=[];let l=t,c=e[t],h;for(h=t+1;h<=n;++h){const d=e[h%s];d.skip||d.stop?c.skip||(i=!1,r.push({start:t%s,end:(h-1)%s,loop:i}),t=l=d.stop?h:null):(l=h,c.skip&&(t=h)),c=d}return l!==null&&r.push({start:t%s,end:l%s,loop:i}),r}function R8(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const r=!!e._loop,{start:l,end:c}=A8(n,s,r,i);if(i===!0)return VA(e,[{start:l,end:c,loop:r}],n,t);const h=c<l?c+s:c,d=!!e._fullLoop&&l===0&&c===s-1;return VA(e,k8(n,l,h,d),n,t)}function VA(e,t,n,i){return!i||!i.setContext||!n?t:C8(e,t,n,i)}function C8(e,t,n,i){const s=e._chart.getContext(),r=UA(e.options),{_datasetIndex:l,options:{spanGaps:c}}=e,h=n.length,d=[];let p=r,y=t[0].start,_=y;function x(E,S,T,D){const M=c?-1:1;if(E!==S){for(E+=h;n[E%h].skip;)E-=M;for(;n[S%h].skip;)S+=M;E%h!==S%h&&(d.push({start:E%h,end:S%h,loop:T,style:D}),p=D,y=S%h)}}for(const E of t){y=c?y:E.start;let S=n[y%h],T;for(_=y+1;_<=E.end;_++){const D=n[_%h];T=UA(i.setContext(Eo(s,{type:"segment",p0:S,p1:D,p0DataIndex:(_-1)%h,p1DataIndex:_%h,datasetIndex:l}))),D8(T,p)&&x(y,_-1,E.loop,p),S=D,p=T}y<_-1&&x(y,_-1,E.loop,p)}return d}function UA(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function D8(e,t){if(!t)return!1;const n=[],i=function(s,r){return Cx(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(e,i)!==JSON.stringify(t,i)}function Fp(e,t,n){return e.options.clip?e[n]:t[n]}function M8(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:Fp(n,t,"left"),right:Fp(n,t,"right"),top:Fp(i,t,"top"),bottom:Fp(i,t,"bottom")}:t}function WI(e,t){const n=t._clip;if(n.disabled)return!1;const i=M8(t,e.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class I8{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const r=n.listeners[s],l=n.duration;r.forEach(c=>c({chart:t,initial:n.initial,numSteps:l,currentStep:Math.min(i-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=RI.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let l=r.length-1,c=!1,h;for(;l>=0;--l)h=r[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),c=!0):(r[l]=r[r.length-1],r.pop());c&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Br=new I8;const zA="transparent",O8={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=DA(e||zA),s=i.valid&&DA(t||zA);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class P8{constructor(t,n,i,s){const r=n[i];s=je([t.to,s,r,t.from]);const l=je([t.from,r,s]);this._active=!0,this._fn=t.fn||O8[t.type||typeof l],this._easing=rd[t.easing]||rd.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,l=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=je([t.to,n,s,t.from]),this._from=je([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,r=this._from,l=this._loop,c=this._to;let h;if(this._active=r!==c&&(l||n<i),!this._active){this._target[s]=c,this._notify(!0);return}if(n<0){this._target[s]=r;return}h=n/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(r,c,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class YI{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!se(t))return;const n=Object.keys(ze.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!se(r))return;const l={};for(const c of n)l[c]=r[c];(Ve(r.properties)&&r.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,l)})})}_animateOptions(t,n){const i=n.options,s=L8(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&N8(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,n){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),l=Object.keys(n),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const d=l[h];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(t,n));continue}const p=n[d];let y=r[d];const _=i.get(d);if(y)if(_&&y.active()){y.update(_,p,c);continue}else y.cancel();if(!_||!_.duration){t[d]=p;continue}r[d]=y=new P8(_,t,d,p),s.push(y)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Br.add(this._chart,i),!0}}function N8(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=e[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function L8(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function FA(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function j8(e,t,n){if(n===!1)return!1;const i=FA(e,n),s=FA(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function V8(e){let t,n,i,s;return se(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function GI(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function BA(e,t,n,i={}){const s=e.keys,r=i.mode==="single";let l,c,h,d;if(t===null)return;let p=!1;for(l=0,c=s.length;l<c;++l){if(h=+s[l],h===n){if(p=!0,i.all)continue;break}d=e.values[h],en(d)&&(r||t===0||sr(t)===sr(d))&&(t+=d)}return!p&&!i.all?0:t}function U8(e,t){const{iScale:n,vScale:i}=t,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",l=Object.keys(e),c=new Array(l.length);let h,d,p;for(h=0,d=l.length;h<d;++h)p=l[h],c[h]={[s]:p,[r]:e[p]};return c}function Ib(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function z8(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function F8(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function B8(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function $A(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=e[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function qA(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:r,vScale:l,index:c}=i,h=r.axis,d=l.axis,p=z8(r,l,i),y=t.length;let _;for(let x=0;x<y;++x){const E=t[x],{[h]:S,[d]:T}=E,D=E._stacks||(E._stacks={});_=D[d]=B8(s,p,S),_[c]=T,_._top=$A(_,l,!0,i.type),_._bottom=$A(_,l,!1,i.type);const M=_._visualValues||(_._visualValues={});M[c]=T}}function Ob(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function $8(e,t){return Eo(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function q8(e,t,n){return Eo(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Rh(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Pb=e=>e==="reset"||e==="none",HA=(e,t)=>t?e:Object.assign({},e),H8=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:GI(n,!0),values:null};class Es{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Ib(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Rh(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(y,_,x,E)=>y==="x"?_:y==="r"?E:x,r=n.xAxisID=$t(i.xAxisID,Ob(t,"x")),l=n.yAxisID=$t(i.yAxisID,Ob(t,"y")),c=n.rAxisID=$t(i.rAxisID,Ob(t,"r")),h=n.indexAxis,d=n.iAxisID=s(h,r,l,c),p=n.vAxisID=s(h,l,r,c);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&kA(this._data,this),t._stacked&&Rh(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(se(n)){const s=this._cachedMeta;this._data=U8(n,s)}else if(i!==n){if(i){kA(i,this);const s=this._cachedMeta;Rh(s),s._parsed=[]}n&&Object.isExtensible(n)&&Cq(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=Ib(n.vScale,n),n.stack!==i.stack&&(s=!0,Rh(n),n.stack=i.stack),this._resyncElements(t),(s||r!==n._stacked)&&(qA(this,n._parsed),n._stacked=Ib(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:l}=i,c=r.axis;let h=t===0&&n===s.length?!0:i._sorted,d=t>0&&i._parsed[t-1],p,y,_;if(this._parsing===!1)i._parsed=s,i._sorted=!0,_=s;else{Ve(s[t])?_=this.parseArrayData(i,s,t,n):se(s[t])?_=this.parseObjectData(i,s,t,n):_=this.parsePrimitiveData(i,s,t,n);const x=()=>y[c]===null||d&&y[c]<d[c];for(p=0;p<n;++p)i._parsed[p+t]=y=_[p],h&&(x()&&(h=!1),d=y);i._sorted=h}l&&qA(this,_)}parsePrimitiveData(t,n,i,s){const{iScale:r,vScale:l}=t,c=r.axis,h=l.axis,d=r.getLabels(),p=r===l,y=new Array(s);let _,x,E;for(_=0,x=s;_<x;++_)E=_+i,y[_]={[c]:p||r.parse(d[E],E),[h]:l.parse(n[E],E)};return y}parseArrayData(t,n,i,s){const{xScale:r,yScale:l}=t,c=new Array(s);let h,d,p,y;for(h=0,d=s;h<d;++h)p=h+i,y=n[p],c[h]={x:r.parse(y[0],p),y:l.parse(y[1],p)};return c}parseObjectData(t,n,i,s){const{xScale:r,yScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,d=new Array(s);let p,y,_,x;for(p=0,y=s;p<y;++p)_=p+i,x=n[_],d[p]={x:r.parse(mo(x,c),_),y:l.parse(mo(x,h),_)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,r=this._cachedMeta,l=n[t.axis],c={keys:GI(s,!0),values:n._stacks[t.axis]._visualValues};return BA(c,l,r.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const r=i[n.axis];let l=r===null?NaN:r;const c=s&&i._stacks[n.axis];s&&c&&(s.values=c,l=BA(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,l=s.length,c=this._getOtherScale(t),h=H8(n,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=F8(c);let _,x;function E(){x=s[_];const S=x[c.axis];return!en(x[t.axis])||p>S||y<S}for(_=0;_<l&&!(!E()&&(this.updateRangeFromParsed(d,t,x,h),r));++_);if(r){for(_=l-1;_>=0;--_)if(!E()){this.updateRangeFromParsed(d,t,x,h);break}}return d}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,r,l;for(s=0,r=n.length;s<r;++s)l=n[s][t.axis],en(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=V8($t(this.options.clip,j8(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,r,c,h),p=c;p<c+h;++p){const y=s[p];y.hidden||(y.active&&d?l.push(y):y.draw(t,r))}for(p=0;p<l.length;++p)l[p].draw(t,r)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];r=l.$context||(l.$context=q8(this.getContext(),t,l)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=$8(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",r=this._cachedDataOpts,l=t+"-"+n,c=r[l],h=this.enableOptionSharing&&Md(i);if(c)return HA(c,h);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,t),y=s?[`${t}Hover`,"hover",t,""]:[t,""],_=d.getOptionScopes(this.getDataset(),p),x=Object.keys(ze.elements[t]),E=()=>this.getContext(i,s,n),S=d.resolveNamedOptions(_,x,E,y);return S.$shared&&(S.$shared=h,r[l]=Object.freeze(HA(S,h))),S}_resolveAnimations(t,n,i){const s=this.chart,r=this._cachedDataOpts,l=`animation-${n}`,c=r[l];if(c)return c;let h;if(s.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,n),_=p.getOptionScopes(this.getDataset(),y);h=p.createResolver(_,this.getContext(t,i,n))}const d=new YI(s,h&&h.animations);return h&&h._cacheable&&(r[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Pb(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,r=this.getSharedOptions(i),l=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:l}}updateElement(t,n,i,s){Pb(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!Pb(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[c,h,d]of this._syncList)this[c](h,d);this._syncList=[];const s=i.length,r=n.length,l=Math.min(r,s);l&&this.parse(0,l),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,n,i=!0){const s=this._cachedMeta,r=s.data,l=t+n;let c;const h=d=>{for(d.length+=n,c=d.length-1;c>=l;c--)d[c]=d[c-n]};for(h(r),c=t;c<l;++c)r[c]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(t,n),i&&this.updateElements(r,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&Rh(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}xt(Es,"defaults",{}),xt(Es,"datasetElementType",null),xt(Es,"dataElementType",null);function W8(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=kI(i.sort((s,r)=>s-r))}return e._cache.$bar}function Y8(e){const t=e.iScale,n=W8(t,e.type);let i=t._length,s,r,l,c;const h=()=>{l===32767||l===-32768||(Md(c)&&(i=Math.min(i,Math.abs(l-c)||i)),c=l)};for(s=0,r=n.length;s<r;++s)l=t.getPixelForValue(n[s]),h();for(c=void 0,s=0,r=t.ticks.length;s<r;++s)l=t.getPixelForTick(s),h();return i}function G8(e,t,n,i){const s=n.barThickness;let r,l;return Yt(s)?(r=t.min*n.categoryPercentage,l=n.barPercentage):(r=s*i,l=1),{chunk:r/i,ratio:l,start:t.pixels[e]-r/2}}function K8(e,t,n,i){const s=t.pixels,r=s[e];let l=e>0?s[e-1]:null,c=e<s.length-1?s[e+1]:null;const h=n.categoryPercentage;l===null&&(l=r-(c===null?t.end-t.start:c-r)),c===null&&(c=r+r-l);const d=r-(r-Math.min(l,c))/2*h;return{chunk:Math.abs(c-l)/2*h/i,ratio:n.barPercentage,start:d}}function X8(e,t,n,i){const s=n.parse(e[0],i),r=n.parse(e[1],i),l=Math.min(s,r),c=Math.max(s,r);let h=l,d=c;Math.abs(l)>Math.abs(c)&&(h=c,d=l),t[n.axis]=d,t._custom={barStart:h,barEnd:d,start:s,end:r,min:l,max:c}}function KI(e,t,n,i){return Ve(e)?X8(e,t,n,i):t[n.axis]=n.parse(e,i),t}function WA(e,t,n,i){const s=e.iScale,r=e.vScale,l=s.getLabels(),c=s===r,h=[];let d,p,y,_;for(d=n,p=n+i;d<p;++d)_=t[d],y={},y[s.axis]=c||s.parse(l[d],d),h.push(KI(_,y,r,d));return h}function Nb(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function Q8(e,t,n){return e!==0?sr(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function Z8(e){let t,n,i,s,r;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:t,top:s,bottom:r}}function J8(e,t,n,i){let s=t.borderSkipped;const r={};if(!s){e.borderSkipped=r;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:h,top:d,bottom:p}=Z8(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=d:(n._bottom||0)===i?s=p:(r[YA(p,l,c,h)]=!0,s=d)),r[YA(s,l,c,h)]=!0,e.borderSkipped=r}function YA(e,t,n,i){return i?(e=tH(e,t,n),e=GA(e,n,t)):e=GA(e,t,n),e}function tH(e,t,n){return e===t?n:e===n?t:e}function GA(e,t,n){return e==="start"?t:e==="end"?n:e}function eH(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Tg extends Es{parsePrimitiveData(t,n,i,s){return WA(t,n,i,s)}parseArrayData(t,n,i,s){return WA(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:r,vScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,d=r.axis==="x"?c:h,p=l.axis==="x"?c:h,y=[];let _,x,E,S;for(_=i,x=i+s;_<x;++_)S=n[_],E={},E[r.axis]=r.parse(mo(S,d),_),y.push(KI(mo(S,p),E,l,_));return y}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(t),l=r._custom,c=Nb(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const r=s==="reset",{index:l,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),d=c.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:_}=this._getSharedOptions(n,s);for(let x=n;x<n+i;x++){const E=this.getParsed(x),S=r||Yt(E[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(x),T=this._calculateBarIndexPixels(x,p),D=(E._stacks||{})[c.axis],M={horizontal:d,base:S.base,enableBorderRadius:!D||Nb(E._custom)||l===D._top||l===D._bottom,x:d?S.head:T.center,y:d?T.center:S.head,height:d?T.size:Math.abs(S.size),width:d?Math.abs(S.size):T.size};_&&(M.options=y||this.resolveDataElementOptions(x,t[x].active?"active":s));const N=M.options||t[x].options;J8(M,N,D,l),eH(M,N,p.ratio),this.updateElement(t[x],x,M,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),r=i.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(n),h=c&&c[i.axis],d=p=>{const y=p._parsed.find(x=>x[i.axis]===h),_=y&&y[p.vScale.axis];if(Yt(_)||isNaN(_))return!0};for(const p of s)if(!(n!==void 0&&d(p))&&((r===!1||l.indexOf(p.stack)===-1||r===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[$t(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,i){const s=this._getStacks(t,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,l;for(r=0,l=n.data.length;r<l;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const c=t.barThickness;return{min:c||Y8(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:l}}=this,c=r||0,h=this.getParsed(t),d=h._custom,p=Nb(d);let y=h[n.axis],_=0,x=i?this.applyStack(n,h,i):y,E,S;x!==y&&(_=x-y,x=y),p&&(y=d.barStart,x=d.barEnd-d.barStart,y!==0&&sr(y)!==sr(d.barEnd)&&(_=0),_+=y);const T=!Yt(r)&&!p?r:_;let D=n.getPixelForValue(T);if(this.chart.getDataVisibility(t)?E=n.getPixelForValue(_+x):E=D,S=E-D,Math.abs(S)<l){S=Q8(S,n,c)*l,y===c&&(D-=S/2);const M=n.getPixelForDecimal(0),N=n.getPixelForDecimal(1),U=Math.min(M,N),P=Math.max(M,N);D=Math.max(Math.min(D,P),U),E=D+S,i&&!p&&(h._stacks[n.axis]._visualValues[s]=n.getValueForPixel(E)-n.getValueForPixel(D))}if(D===n.getPixelForValue(c)){const M=sr(S)*n.getLineWidthForValue(c)/2;D+=M,S-=M}return{size:S,base:D,head:E,center:E+S/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,r=s.skipNull,l=$t(s.maxBarThickness,1/0);let c,h;const d=this._getAxisCount();if(n.grouped){const p=r?this._getStackCount(t):n.stackCount,y=s.barThickness==="flex"?K8(t,n,s,p*d):G8(t,n,s,p*d),_=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf($t(_,this.getFirstScaleIdForIndexAxis())),E=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0)+x;c=y.start+y.chunk*E+y.chunk/2,h=Math.min(l,y.chunk*y.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(l,n.min*n.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}xt(Tg,"id","bar"),xt(Tg,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),xt(Tg,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Ag extends Es{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,s){const r=super.parsePrimitiveData(t,n,i,s);for(let l=0;l<r.length;l++)r[l]._custom=this.resolveDataElementOptions(l+i).radius;return r}parseArrayData(t,n,i,s){const r=super.parseArrayData(t,n,i,s);for(let l=0;l<r.length;l++){const c=n[i+l];r[l]._custom=$t(c[2],this.resolveDataElementOptions(l+i).radius)}return r}parseObjectData(t,n,i,s){const r=super.parseObjectData(t,n,i,s);for(let l=0;l<r.length;l++){const c=n[i+l];r[l]._custom=$t(c&&c.r&&+c.r,this.resolveDataElementOptions(l+i).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,l=this.getParsed(t),c=s.getLabelForValue(l.x),h=r.getLabelForValue(l.y),d=l._custom;return{label:i[t]||"",value:"("+c+", "+h+(d?", "+d:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:l,vScale:c}=this._cachedMeta,{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,s),p=l.axis,y=c.axis;for(let _=n;_<n+i;_++){const x=t[_],E=!r&&this.getParsed(_),S={},T=S[p]=r?l.getPixelForDecimal(.5):l.getPixelForValue(E[p]),D=S[y]=r?c.getBasePixel():c.getPixelForValue(E[y]);S.skip=isNaN(T)||isNaN(D),d&&(S.options=h||this.resolveDataElementOptions(_,x.active?"active":s),r&&(S.options.radius=0)),this.updateElement(x,_,S,s)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=$t(i&&i._custom,r),s}}xt(Ag,"id","bubble"),xt(Ag,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),xt(Ag,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function nH(e,t,n){let i=1,s=1,r=0,l=0;if(t<Ue){const c=e,h=c+t,d=Math.cos(c),p=Math.sin(c),y=Math.cos(h),_=Math.sin(h),x=(N,U,P)=>Id(N,c,h,!0)?1:Math.max(U,U*n,P,P*n),E=(N,U,P)=>Id(N,c,h,!0)?-1:Math.min(U,U*n,P,P*n),S=x(0,d,y),T=x(ln,p,_),D=E(ge,d,y),M=E(ge+ln,p,_);i=(S-D)/2,s=(T-M)/2,r=-(S+D)/2,l=-(T+M)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:l}}class fl extends Es{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=h=>+i[h];if(se(i[t])){const{key:h="value"}=this._parsing;r=d=>+mo(i[d],h)}let l,c;for(l=t,c=t+n;l<c;++l)s._parsed[l]=r(l)}}_getRotation(){return vs(this.options.rotation-90)}_getCircumference(){return vs(this.options.circumference)}_getRotationExtents(){let t=Ue,n=-Ue;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),l=s._getCircumference();t=Math.min(t,r),n=Math.max(n,r+l)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(pq(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:p,rotation:y}=this._getRotationExtents(),{ratioX:_,ratioY:x,offsetX:E,offsetY:S}=nH(y,p,h),T=(i.width-l)/_,D=(i.height-l)/x,M=Math.max(Math.min(T,D)/2,0),N=wI(this.options.radius,M),U=Math.max(N*h,0),P=(N-U)/this._getVisibleDatasetWeightTotal();this.offsetX=E*N,this.offsetY=S*N,s.total=this.calculateTotal(),this.outerRadius=N-P*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-P*d,0),this.updateElements(r,0,r.length,t)}_circumference(t,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*r/Ue)}updateElements(t,n,i,s){const r=s==="reset",l=this.chart,c=l.chartArea,d=l.options.animation,p=(c.left+c.right)/2,y=(c.top+c.bottom)/2,_=r&&d.animateScale,x=_?0:this.innerRadius,E=_?0:this.outerRadius,{sharedOptions:S,includeOptions:T}=this._getSharedOptions(n,s);let D=this._getRotation(),M;for(M=0;M<n;++M)D+=this._circumference(M,r);for(M=n;M<n+i;++M){const N=this._circumference(M,r),U=t[M],P={x:p+this.offsetX,y:y+this.offsetY,startAngle:D,endAngle:D+N,circumference:N,outerRadius:E,innerRadius:x};T&&(P.options=S||this.resolveDataElementOptions(M,U.active?"active":s)),D+=N,this.updateElement(U,M,P,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,s;for(s=0;s<n.length;s++){const r=t._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Ue*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=tf(n._parsed[t],i.options.locale);return{label:s[t]||"",value:r}}getMaxBorderWidth(t){let n=0;const i=this.chart;let s,r,l,c,h;if(!t){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){l=i.getDatasetMeta(s),t=l.data,c=l.controller;break}}if(!t)return 0;for(s=0,r=t.length;s<r;++s)h=c.resolveDataElementOptions(s),h.borderAlign!=="inner"&&(n=Math.max(n,h.borderWidth||0,h.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,s=t.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max($t(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}xt(fl,"id","doughnut"),xt(fl,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),xt(fl,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),xt(fl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:r,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class kg extends Es{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,l=this.chart._animationsDisabled;let{start:c,count:h}=DI(n,s,l);this._drawStart=c,this._drawCount=h,MI(n)&&(c=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:d},t),this.updateElements(s,c,h,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:d}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(n,s),_=l.axis,x=c.axis,{spanGaps:E,segment:S}=this.options,T=iu(E)?E:Number.POSITIVE_INFINITY,D=this.chart._animationsDisabled||r||s==="none",M=n+i,N=t.length;let U=n>0&&this.getParsed(n-1);for(let P=0;P<N;++P){const G=t[P],C=D?G:{};if(P<n||P>=M){C.skip=!0;continue}const R=this.getParsed(P),O=Yt(R[x]),V=C[_]=l.getPixelForValue(R[_],P),$=C[x]=r||O?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,R,h):R[x],P);C.skip=isNaN(V)||isNaN($)||O,C.stop=P>0&&Math.abs(R[_]-U[_])>T,S&&(C.parsed=R,C.raw=d.data[P]),y&&(C.options=p||this.resolveDataElementOptions(P,G.active?"active":s)),D||this.updateElement(G,P,C,s),U=R}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}xt(kg,"id","line"),xt(kg,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),xt(kg,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class od extends Es{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=tf(n._parsed[t].r,i.options.locale);return{label:s[t]||"",value:r}}parseObjectData(t,n,i,s){return UI.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),l=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),c=(r-l)/t.getVisibleDatasetCount();this.outerRadius=r-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,n,i,s){const r=s==="reset",l=this.chart,h=l.options.animation,d=this._cachedMeta.rScale,p=d.xCenter,y=d.yCenter,_=d.getIndexAngle(0)-.5*ge;let x=_,E;const S=360/this.countVisibleElements();for(E=0;E<n;++E)x+=this._computeAngle(E,s,S);for(E=n;E<n+i;E++){const T=t[E];let D=x,M=x+this._computeAngle(E,s,S),N=l.getDataVisibility(E)?d.getDistanceFromCenterForValue(this.getParsed(E).r):0;x=M,r&&(h.animateScale&&(N=0),h.animateRotate&&(D=M=_));const U={x:p,y,innerRadius:0,outerRadius:N,startAngle:D,endAngle:M,options:this.resolveDataElementOptions(E,T.active?"active":s)};this.updateElement(T,E,U,s)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?vs(this.resolveDataElementOptions(t,n).angle||i):0}}xt(od,"id","polarArea"),xt(od,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),xt(od,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:r,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class $0 extends fl{}xt($0,"id","pie"),xt($0,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Rg extends Es{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,s){return UI.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const c={_loop:!0,_fullLoop:r.length===s.length,options:l};this.updateElement(i,void 0,c,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,i,s){const r=this._cachedMeta.rScale,l=s==="reset";for(let c=n;c<n+i;c++){const h=t[c],d=this.resolveDataElementOptions(c,h.active?"active":s),p=r.getPointPositionForValue(c,this.getParsed(c).r),y=l?r.xCenter:p.x,_=l?r.yCenter:p.y,x={x:y,y:_,angle:p.angle,skip:isNaN(y)||isNaN(_),options:d};this.updateElement(h,c,x,s)}}}xt(Rg,"id","radar"),xt(Rg,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),xt(Rg,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Cg extends Es{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,l=this.getParsed(t),c=s.getLabelForValue(l.x),h=r.getLabelForValue(l.y);return{label:i[t]||"",value:"("+c+", "+h+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:l}=DI(n,i,s);if(this._drawStart=r,this._drawCount=l,MI(n)&&(r=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:h}=n;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!h._decimated,c.points=i;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:d},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,r,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,s){const r=s==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:d}=this._cachedMeta,p=this.resolveDataElementOptions(n,s),y=this.getSharedOptions(p),_=this.includeOptions(s,y),x=l.axis,E=c.axis,{spanGaps:S,segment:T}=this.options,D=iu(S)?S:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||r||s==="none";let N=n>0&&this.getParsed(n-1);for(let U=n;U<n+i;++U){const P=t[U],G=this.getParsed(U),C=M?P:{},R=Yt(G[E]),O=C[x]=l.getPixelForValue(G[x],U),V=C[E]=r||R?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,G,h):G[E],U);C.skip=isNaN(O)||isNaN(V)||R,C.stop=U>0&&Math.abs(G[x]-N[x])>D,T&&(C.parsed=G,C.raw=d.data[U]),_&&(C.options=y||this.resolveDataElementOptions(U,P.active?"active":s)),M||this.updateElement(P,U,C,s),N=G}this.updateSharedOptions(y,s,p)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let c=0;for(let h=n.length-1;h>=0;--h)c=Math.max(c,n[h].size(this.resolveDataElementOptions(h))/2);return c>0&&c}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,l)/2}}xt(Cg,"id","scatter"),xt(Cg,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),xt(Cg,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var iH=Object.freeze({__proto__:null,BarController:Tg,BubbleController:Ag,DoughnutController:fl,LineController:kg,PieController:$0,PolarAreaController:od,RadarController:Rg,ScatterController:Cg});function nl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Lx{constructor(t){xt(this,"options");this.options=t||{}}static override(t){Object.assign(Lx.prototype,t)}init(){}formats(){return nl()}parse(){return nl()}format(){return nl()}add(){return nl()}diff(){return nl()}startOf(){return nl()}endOf(){return nl()}}var sH={_date:Lx};function rH(e,t,n,i){const{controller:s,data:r,_sorted:l}=e,c=s._cachedMeta.iScale,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&l&&r.length){const d=c._reversePixels?kq:Qr;if(i){if(s._sharedOptions){const p=r[0],y=typeof p.getRange=="function"&&p.getRange(t);if(y){const _=d(r,t,n-y),x=d(r,t,n+y);return{lo:_.lo,hi:x.hi}}}}else{const p=d(r,t,n);if(h){const{vScale:y}=s._cachedMeta,{_parsed:_}=e,x=_.slice(0,p.lo+1).reverse().findIndex(S=>!Yt(S[y.axis]));p.lo-=Math.max(0,x);const E=_.slice(p.hi).findIndex(S=>!Yt(S[y.axis]));p.hi+=Math.max(0,E)}return p}}return{lo:0,hi:r.length-1}}function Zm(e,t,n,i,s){const r=e.getSortedVisibleDatasetMetas(),l=n[t];for(let c=0,h=r.length;c<h;++c){const{index:d,data:p}=r[c],{lo:y,hi:_}=rH(r[c],t,l,s);for(let x=y;x<=_;++x){const E=p[x];E.skip||i(E,d,x)}}}function aH(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const r=t?Math.abs(i.x-s.x):0,l=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(l,2))}}function Lb(e,t,n,i,s){const r=[];return!s&&!e.isPointInArea(t)||Zm(e,n,t,function(c,h,d){!s&&!Zr(c,e.chartArea,0)||c.inRange(t.x,t.y,i)&&r.push({element:c,datasetIndex:h,index:d})},!0),r}function oH(e,t,n,i){let s=[];function r(l,c,h){const{startAngle:d,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:y}=TI(l,{x:t.x,y:t.y});Id(y,d,p)&&s.push({element:l,datasetIndex:c,index:h})}return Zm(e,n,t,r),s}function lH(e,t,n,i,s,r){let l=[];const c=aH(n);let h=Number.POSITIVE_INFINITY;function d(p,y,_){const x=p.inRange(t.x,t.y,s);if(i&&!x)return;const E=p.getCenterPoint(s);if(!(!!r||e.isPointInArea(E))&&!x)return;const T=c(t,E);T<h?(l=[{element:p,datasetIndex:y,index:_}],h=T):T===h&&l.push({element:p,datasetIndex:y,index:_})}return Zm(e,n,t,d),l}function jb(e,t,n,i,s,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!i?oH(e,t,n,s):lH(e,t,n,i,s,r)}function KA(e,t,n,i,s){const r=[],l=n==="x"?"inXRange":"inYRange";let c=!1;return Zm(e,n,t,(h,d,p)=>{h[l]&&h[l](t[n],s)&&(r.push({element:h,datasetIndex:d,index:p}),c=c||h.inRange(t.x,t.y,s))}),i&&!c?[]:r}var cH={modes:{index(e,t,n,i){const s=ll(t,e),r=n.axis||"x",l=n.includeInvisible||!1,c=n.intersect?Lb(e,s,r,i,l):jb(e,s,r,!1,i,l),h=[];return c.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const p=c[0].index,y=d.data[p];y&&!y.skip&&h.push({element:y,datasetIndex:d.index,index:p})}),h):[]},dataset(e,t,n,i){const s=ll(t,e),r=n.axis||"xy",l=n.includeInvisible||!1;let c=n.intersect?Lb(e,s,r,i,l):jb(e,s,r,!1,i,l);if(c.length>0){const h=c[0].datasetIndex,d=e.getDatasetMeta(h).data;c=[];for(let p=0;p<d.length;++p)c.push({element:d[p],datasetIndex:h,index:p})}return c},point(e,t,n,i){const s=ll(t,e),r=n.axis||"xy",l=n.includeInvisible||!1;return Lb(e,s,r,i,l)},nearest(e,t,n,i){const s=ll(t,e),r=n.axis||"xy",l=n.includeInvisible||!1;return jb(e,s,r,n.intersect,i,l)},x(e,t,n,i){const s=ll(t,e);return KA(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=ll(t,e);return KA(e,s,"y",n.intersect,i)}}};const XI=["left","top","right","bottom"];function Ch(e,t){return e.filter(n=>n.pos===t)}function XA(e,t){return e.filter(n=>XI.indexOf(n.pos)===-1&&n.box.axis===t)}function Dh(e,t){return e.sort((n,i)=>{const s=t?i:n,r=t?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function uH(e){const t=[];let n,i,s,r,l,c;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:r,options:{stack:l,stackWeight:c=1}}=s,t.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&r+l,stackWeight:c});return t}function hH(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!XI.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=r}return t}function dH(e,t){const n=hH(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,l,c;for(r=0,l=e.length;r<l;++r){c=e[r];const{fullSize:h}=c.box,d=n[c.stack],p=d&&c.stackWeight/d.weight;c.horizontal?(c.width=p?p*i:h&&t.availableWidth,c.height=s):(c.width=i,c.height=p?p*s:h&&t.availableHeight)}return n}function fH(e){const t=uH(e),n=Dh(t.filter(d=>d.box.fullSize),!0),i=Dh(Ch(t,"left"),!0),s=Dh(Ch(t,"right")),r=Dh(Ch(t,"top"),!0),l=Dh(Ch(t,"bottom")),c=XA(t,"x"),h=XA(t,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(h).concat(l).concat(c),chartArea:Ch(t,"chartArea"),vertical:i.concat(s).concat(h),horizontal:r.concat(l).concat(c)}}function QA(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function QI(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function pH(e,t,n,i){const{pos:s,box:r}=n,l=e.maxPadding;if(!se(s)){n.size&&(e[s]-=n.size);const y=i[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?r.height:r.width),n.size=y.size/y.count,e[s]+=n.size}r.getPadding&&QI(l,r.getPadding());const c=Math.max(0,t.outerWidth-QA(l,e,"left","right")),h=Math.max(0,t.outerHeight-QA(l,e,"top","bottom")),d=c!==e.w,p=h!==e.h;return e.w=c,e.h=h,n.horizontal?{same:d,other:p}:{same:p,other:d}}function gH(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function mH(e,t){const n=t.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{r[l]=Math.max(t[l],n[l])}),r}return i(e?["left","right"]:["top","bottom"])}function Wh(e,t,n,i){const s=[];let r,l,c,h,d,p;for(r=0,l=e.length,d=0;r<l;++r){c=e[r],h=c.box,h.update(c.width||t.w,c.height||t.h,mH(c.horizontal,t));const{same:y,other:_}=pH(t,n,c,i);d|=y&&s.length,p=p||_,h.fullSize||s.push(c)}return d&&Wh(s,t,n,i)||p}function Bp(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function ZA(e,t,n,i){const s=n.padding;let{x:r,y:l}=t;for(const c of e){const h=c.box,d=i[c.stack]||{placed:0,weight:1},p=c.stackWeight/d.weight||1;if(c.horizontal){const y=t.w*p,_=d.size||h.height;Md(d.start)&&(l=d.start),h.fullSize?Bp(h,s.left,l,n.outerWidth-s.right-s.left,_):Bp(h,t.left+d.placed,l,y,_),d.start=l,d.placed+=y,l=h.bottom}else{const y=t.h*p,_=d.size||h.width;Md(d.start)&&(r=d.start),h.fullSize?Bp(h,r,s.top,_,n.outerHeight-s.bottom-s.top):Bp(h,r,t.top+d.placed,_,y),d.start=r,d.placed+=y,r=h.right}}t.x=r,t.y=l}var li={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=Zn(e.options.layout.padding),r=Math.max(t-s.width,0),l=Math.max(n-s.height,0),c=fH(e.boxes),h=c.vertical,d=c.horizontal;xe(e.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const p=h.reduce((S,T)=>T.box.options&&T.box.options.display===!1?S:S+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:r,availableHeight:l,vBoxMaxWidth:r/2/p,hBoxMaxHeight:l/2}),_=Object.assign({},s);QI(_,Zn(i));const x=Object.assign({maxPadding:_,w:r,h:l,x:s.left,y:s.top},s),E=dH(h.concat(d),y);Wh(c.fullSize,x,y,E),Wh(h,x,y,E),Wh(d,x,y,E)&&Wh(h,x,y,E),gH(x),ZA(c.leftAndTop,x,y,E),x.x+=x.w,x.y+=x.h,ZA(c.rightAndBottom,x,y,E),e.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},xe(c.chartArea,S=>{const T=S.box;Object.assign(T,e.chartArea),T.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class ZI{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class yH extends ZI{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Dg="$chartjs",_H={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},JA=e=>e===null||e==="";function bH(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[Dg]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",JA(s)){const r=LA(e,"width");r!==void 0&&(e.width=r)}if(JA(i))if(e.style.height==="")e.height=e.width/(t||2);else{const r=LA(e,"height");r!==void 0&&(e.height=r)}return e}const JI=v8?{passive:!0}:!1;function vH(e,t,n){e&&e.addEventListener(t,n,JI)}function xH(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,JI)}function wH(e,t){const n=_H[e.type]||e.type,{x:i,y:s}=ll(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function cm(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function EH(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let l=!1;for(const c of r)l=l||cm(c.addedNodes,i),l=l&&!cm(c.removedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function SH(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let l=!1;for(const c of r)l=l||cm(c.removedNodes,i),l=l&&!cm(c.addedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Pd=new Map;let tk=0;function tO(){const e=window.devicePixelRatio;e!==tk&&(tk=e,Pd.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function TH(e,t){Pd.size||window.addEventListener("resize",tO),Pd.set(e,t)}function AH(e){Pd.delete(e),Pd.size||window.removeEventListener("resize",tO)}function kH(e,t,n){const i=e.canvas,s=i&&Nx(i);if(!s)return;const r=CI((c,h)=>{const d=s.clientWidth;n(c,h),d<s.clientWidth&&n()},window),l=new ResizeObserver(c=>{const h=c[0],d=h.contentRect.width,p=h.contentRect.height;d===0&&p===0||r(d,p)});return l.observe(s),TH(e,r),l}function Vb(e,t,n){n&&n.disconnect(),t==="resize"&&AH(e)}function RH(e,t,n){const i=e.canvas,s=CI(r=>{e.ctx!==null&&n(wH(r,e))},e);return vH(i,t,s),s}class CH extends ZI{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(bH(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Dg])return!1;const i=n[Dg].initial;["height","width"].forEach(r=>{const l=i[r];Yt(l)?n.removeAttribute(r):n.setAttribute(r,l)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[Dg],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),l={attach:EH,detach:SH,resize:kH}[n]||RH;s[n]=l(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:Vb,detach:Vb,resize:Vb}[n]||xH)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return b8(t,n,i,s)}isAttached(t){const n=t&&Nx(t);return!!(n&&n.isConnected)}}function DH(e){return!Px()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?yH:CH}class Ts{constructor(){xt(this,"x");xt(this,"y");xt(this,"active",!1);xt(this,"options");xt(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return iu(this.x)&&iu(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}xt(Ts,"defaults",{}),xt(Ts,"defaultRoutes");function MH(e,t){const n=e.options.ticks,i=IH(e),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?PH(t):[],l=r.length,c=r[0],h=r[l-1],d=[];if(l>s)return NH(t,d,r,l/s),d;const p=OH(r,t,s);if(l>0){let y,_;const x=l>1?Math.round((h-c)/(l-1)):null;for($p(t,d,p,Yt(x)?0:c-x,c),y=0,_=l-1;y<_;y++)$p(t,d,p,r[y],r[y+1]);return $p(t,d,p,h,Yt(x)?t.length:h+x),d}return $p(t,d,p),d}function IH(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function OH(e,t,n){const i=LH(e),s=t.length/n;if(!i)return Math.max(s,1);const r=wq(i);for(let l=0,c=r.length-1;l<c;l++){const h=r[l];if(h>s)return h}return Math.max(s,1)}function PH(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function NH(e,t,n,i){let s=0,r=n[0],l;for(i=Math.ceil(i),l=0;l<e.length;l++)l===r&&(t.push(e[l]),s++,r=n[s*i])}function $p(e,t,n,i,s){const r=$t(i,0),l=Math.min($t(s,e.length),e.length);let c=0,h,d,p;for(n=Math.ceil(n),s&&(h=s-i,n=h/Math.floor(h/n)),p=r;p<0;)c++,p=Math.round(r+c*n);for(d=Math.max(r,0);d<l;d++)d===p&&(t.push(e[d]),c++,p=Math.round(r+c*n))}function LH(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const jH=e=>e==="left"?"right":e==="right"?"left":e,ek=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,nk=(e,t)=>Math.min(t||e,e);function ik(e,t){const n=[],i=e.length/t,s=e.length;let r=0;for(;r<s;r+=i)n.push(e[Math.floor(r)]);return n}function VH(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),r=e._startPixel,l=e._endPixel,c=1e-6;let h=e.getPixelForTick(s),d;if(!(n&&(i===1?d=Math.max(h-r,l-h):t===0?d=(e.getPixelForTick(1)-h)/2:d=(h-e.getPixelForTick(s-1))/2,h+=s<t?d:-d,h<r-c||h>l+c)))return h}function UH(e,t){xe(e,n=>{const i=n.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function Mh(e){return e.drawTicks?e.tickLength:0}function sk(e,t){if(!e.display)return 0;const n=vn(e.font,t),i=Zn(e.padding);return(Ve(e.text)?e.text.length:1)*n.lineHeight+i.height}function zH(e,t){return Eo(e,{scale:t,type:"scale"})}function FH(e,t,n){return Eo(e,{tick:n,index:t,type:"tick"})}function BH(e,t,n){let i=Rx(e);return(n&&t!=="right"||!n&&t==="right")&&(i=jH(i)),i}function $H(e,t,n,i){const{top:s,left:r,bottom:l,right:c,chart:h}=e,{chartArea:d,scales:p}=h;let y=0,_,x,E;const S=l-s,T=c-r;if(e.isHorizontal()){if(x=ii(i,r,c),se(n)){const D=Object.keys(n)[0],M=n[D];E=p[D].getPixelForValue(M)+S-t}else n==="center"?E=(d.bottom+d.top)/2+S-t:E=ek(e,n,t);_=c-r}else{if(se(n)){const D=Object.keys(n)[0],M=n[D];x=p[D].getPixelForValue(M)-T+t}else n==="center"?x=(d.left+d.right)/2-T+t:x=ek(e,n,t);E=ii(i,l,s),y=n==="left"?-ln:ln}return{titleX:x,titleY:E,maxWidth:_,rotation:y}}class Ol extends Ts{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=ji(t,Number.POSITIVE_INFINITY),n=ji(n,Number.NEGATIVE_INFINITY),i=ji(i,Number.POSITIVE_INFINITY),s=ji(s,Number.NEGATIVE_INFINITY),{min:ji(t,i),max:ji(n,s),minDefined:en(t),maxDefined:en(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),l;if(s&&r)return{min:n,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,d=c.length;h<d;++h)l=c[h].controller.getMinMax(this,t),s||(n=Math.min(n,l.min)),r||(i=Math.max(i,l.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:ji(n,ji(i,n)),max:ji(i,ji(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){De(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:r,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Qq(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?ik(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=MH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){De(this.options.afterUpdate,[this])}beforeSetDimensions(){De(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){De(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),De(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){De(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=De(n.callback,[r.value,i,t],this)}afterTickToLabelConversion(){De(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){De(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=nk(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let l=s,c,h,d;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),y=p.widest.width,_=p.highest.height,x=Bn(this.chart.width-y,0,this.maxWidth);c=t.offset?this.maxWidth/i:x/(i-1),y+6>c&&(c=x/(i-(t.offset?.5:1)),h=this.maxHeight-Mh(t.grid)-n.padding-sk(t.title,this.chart.options.font),d=Math.sqrt(y*y+_*_),l=Ax(Math.min(Math.asin(Bn((p.highest.height+6)/c,-1,1)),Math.asin(Bn(h/d,-1,1))-Math.asin(Bn(_/d,-1,1)))),l=Math.max(s,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){De(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){De(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=sk(s,n.options.font);if(c?(t.width=this.maxWidth,t.height=Mh(r)+h):(t.height=this.maxHeight,t.width=Mh(r)+h),i.display&&this.ticks.length){const{first:d,last:p,widest:y,highest:_}=this._getLabelSizes(),x=i.padding*2,E=vs(this.labelRotation),S=Math.cos(E),T=Math.sin(E);if(c){const D=i.mirror?0:T*y.width+S*_.height;t.height=Math.min(this.maxHeight,t.height+D+x)}else{const D=i.mirror?0:S*y.width+T*_.height;t.width=Math.min(this.maxWidth,t.width+D+x)}this._calculatePadding(d,p,T,S)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:r,padding:l},position:c}=this.options,h=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,x=0;h?d?(_=s*t.width,x=i*n.height):(_=i*t.height,x=s*n.width):r==="start"?x=n.width:r==="end"?_=t.width:r!=="inner"&&(_=t.width/2,x=n.width/2),this.paddingLeft=Math.max((_-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((x-y+l)*this.width/(this.width-y),0)}else{let p=n.height/2,y=t.height/2;r==="start"?(p=0,y=t.height):r==="end"&&(p=n.height,y=0),this.paddingTop=p+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){De(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)Yt(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=ik(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:r}=this,l=[],c=[],h=Math.floor(n/nk(n,i));let d=0,p=0,y,_,x,E,S,T,D,M,N,U,P;for(y=0;y<n;y+=h){if(E=t[y].label,S=this._resolveTickFontOptions(y),s.font=T=S.string,D=r[T]=r[T]||{data:{},gc:[]},M=S.lineHeight,N=U=0,!Yt(E)&&!Ve(E))N=om(s,D.data,D.gc,N,E),U=M;else if(Ve(E))for(_=0,x=E.length;_<x;++_)P=E[_],!Yt(P)&&!Ve(P)&&(N=om(s,D.data,D.gc,N,P),U+=M);l.push(N),c.push(U),d=Math.max(N,d),p=Math.max(U,p)}UH(r,n);const G=l.indexOf(d),C=c.indexOf(p),R=O=>({width:l[O]||0,height:c[O]||0});return{first:R(0),last:R(n-1),widest:R(G),highest:R(C),widths:l,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return Aq(this._alignToPixels?el(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=FH(this.getContext(),t,i))}return this.$context||(this.$context=zH(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=vs(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),l=t.autoSkipPadding||0,c=r?r.widest.width+l:0,h=r?r.highest.height+l:0;return this.isHorizontal()?h*i>c*s?c/i:h/s:h*s<c*i?h/i:c/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:l,border:c}=s,h=r.offset,d=this.isHorizontal(),y=this.ticks.length+(h?1:0),_=Mh(r),x=[],E=c.setContext(this.getContext()),S=E.display?E.width:0,T=S/2,D=function(q){return el(i,q,S)};let M,N,U,P,G,C,R,O,V,$,H,z;if(l==="top")M=D(this.bottom),C=this.bottom-_,O=M-T,$=D(t.top)+T,z=t.bottom;else if(l==="bottom")M=D(this.top),$=t.top,z=D(t.bottom)-T,C=M+T,O=this.top+_;else if(l==="left")M=D(this.right),G=this.right-_,R=M-T,V=D(t.left)+T,H=t.right;else if(l==="right")M=D(this.left),V=t.left,H=D(t.right)-T,G=M+T,R=this.left+_;else if(n==="x"){if(l==="center")M=D((t.top+t.bottom)/2+.5);else if(se(l)){const q=Object.keys(l)[0],K=l[q];M=D(this.chart.scales[q].getPixelForValue(K))}$=t.top,z=t.bottom,C=M+T,O=C+_}else if(n==="y"){if(l==="center")M=D((t.left+t.right)/2);else if(se(l)){const q=Object.keys(l)[0],K=l[q];M=D(this.chart.scales[q].getPixelForValue(K))}G=M-T,R=G-_,V=t.left,H=t.right}const Ct=$t(s.ticks.maxTicksLimit,y),Q=Math.max(1,Math.ceil(y/Ct));for(N=0;N<y;N+=Q){const q=this.getContext(N),K=r.setContext(q),ot=c.setContext(q),nt=K.lineWidth,F=K.color,it=ot.dash||[],at=ot.dashOffset,ht=K.tickWidth,yt=K.tickColor,Et=K.tickBorderDash||[],Y=K.tickBorderDashOffset;U=VH(this,N,h),U!==void 0&&(P=el(i,U,nt),d?G=R=V=H=P:C=O=$=z=P,x.push({tx1:G,ty1:C,tx2:R,ty2:O,x1:V,y1:$,x2:H,y2:z,width:nt,color:F,borderDash:it,borderDashOffset:at,tickWidth:ht,tickColor:yt,tickBorderDash:Et,tickBorderDashOffset:Y}))}return this._ticksLength=y,this._borderValue=M,x}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:r}=i,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:d,padding:p,mirror:y}=r,_=Mh(i.grid),x=_+p,E=y?-p:x,S=-vs(this.labelRotation),T=[];let D,M,N,U,P,G,C,R,O,V,$,H,z="middle";if(s==="top")G=this.bottom-E,C=this._getXAxisLabelAlignment();else if(s==="bottom")G=this.top+E,C=this._getXAxisLabelAlignment();else if(s==="left"){const Q=this._getYAxisLabelAlignment(_);C=Q.textAlign,P=Q.x}else if(s==="right"){const Q=this._getYAxisLabelAlignment(_);C=Q.textAlign,P=Q.x}else if(n==="x"){if(s==="center")G=(t.top+t.bottom)/2+x;else if(se(s)){const Q=Object.keys(s)[0],q=s[Q];G=this.chart.scales[Q].getPixelForValue(q)+x}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")P=(t.left+t.right)/2-x;else if(se(s)){const Q=Object.keys(s)[0],q=s[Q];P=this.chart.scales[Q].getPixelForValue(q)}C=this._getYAxisLabelAlignment(_).textAlign}n==="y"&&(h==="start"?z="top":h==="end"&&(z="bottom"));const Ct=this._getLabelSizes();for(D=0,M=c.length;D<M;++D){N=c[D],U=N.label;const Q=r.setContext(this.getContext(D));R=this.getPixelForTick(D)+r.labelOffset,O=this._resolveTickFontOptions(D),V=O.lineHeight,$=Ve(U)?U.length:1;const q=$/2,K=Q.color,ot=Q.textStrokeColor,nt=Q.textStrokeWidth;let F=C;l?(P=R,C==="inner"&&(D===M-1?F=this.options.reverse?"left":"right":D===0?F=this.options.reverse?"right":"left":F="center"),s==="top"?d==="near"||S!==0?H=-$*V+V/2:d==="center"?H=-Ct.highest.height/2-q*V+V:H=-Ct.highest.height+V/2:d==="near"||S!==0?H=V/2:d==="center"?H=Ct.highest.height/2-q*V:H=Ct.highest.height-$*V,y&&(H*=-1),S!==0&&!Q.showLabelBackdrop&&(P+=V/2*Math.sin(S))):(G=R,H=(1-$)*V/2);let it;if(Q.showLabelBackdrop){const at=Zn(Q.backdropPadding),ht=Ct.heights[D],yt=Ct.widths[D];let Et=H-at.top,Y=0-at.left;switch(z){case"middle":Et-=ht/2;break;case"bottom":Et-=ht;break}switch(C){case"center":Y-=yt/2;break;case"right":Y-=yt;break;case"inner":D===M-1?Y-=yt:D>0&&(Y-=yt/2);break}it={left:Y,top:Et,width:yt+at.width,height:ht+at.height,color:Q.backdropColor}}T.push({label:U,font:O,textOffset:H,options:{rotation:S,color:K,strokeColor:ot,strokeWidth:nt,textAlign:F,textBaseline:z,translation:[P,G],backdrop:it}})}return T}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-vs(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,l=this._getLabelSizes(),c=t+r,h=l.widest.width;let d,p;return n==="left"?s?(p=this.right+r,i==="near"?d="left":i==="center"?(d="center",p+=h/2):(d="right",p+=h)):(p=this.right-c,i==="near"?d="right":i==="center"?(d="center",p-=h/2):(d="left",p=this.left)):n==="right"?s?(p=this.left+r,i==="near"?d="right":i==="center"?(d="center",p-=h/2):(d="left",p-=h)):(p=this.left+c,i==="near"?d="left":i==="center"?(d="center",p+=h/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:r,height:l}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,r,l),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,l;const c=(h,d,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(n.display)for(r=0,l=s.length;r<l;++r){const h=s[r];n.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),l=i.display?r.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let d,p,y,_;this.isHorizontal()?(d=el(t,this.left,l)-l/2,p=el(t,this.right,c)+c/2,y=_=h):(y=el(t,this.top,l)-l/2,_=el(t,this.bottom,c)+c/2,d=p=h),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(d,y),n.lineTo(p,_),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Km(i,s);const r=this.getLabelItems(t);for(const l of r){const c=l.options,h=l.font,d=l.label,p=l.textOffset;Rl(i,d,0,p,h,c)}s&&Xm(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=vn(i.font),l=Zn(i.padding),c=i.align;let h=r.lineHeight/2;n==="bottom"||n==="center"||se(n)?(h+=l.bottom,Ve(i.text)&&(h+=r.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:d,titleY:p,maxWidth:y,rotation:_}=$H(this,h,n,c);Rl(t,i.text,0,0,r,{color:i.color,maxWidth:y,rotation:_,textAlign:BH(c,n,s),textBaseline:"middle",translation:[d,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=$t(t.grid&&t.grid.z,-1),s=$t(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ol.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,l;for(r=0,l=n.length;r<l;++r){const c=n[r];c[i]===this.id&&(!t||c.type===t)&&s.push(c)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return vn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class qp{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;WH(n)&&(i=this.register(n));const s=this.items,r=t.id,l=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,qH(t,l,i),this.override&&ze.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in ze[s]&&(delete ze[s][i],this.override&&delete kl[i])}}function qH(e,t,n){const i=ar(Object.create(null),[n?ze.get(n):{},ze.get(t),e.defaults]);ze.set(t,i),e.defaultRoutes&&HH(t,e.defaultRoutes),e.descriptors&&ze.describe(t,e.descriptors)}function HH(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),r=[e].concat(i).join("."),l=t[n].split("."),c=l.pop(),h=l.join(".");ze.route(r,s,h,c)})}function WH(e){return"id"in e&&"defaults"in e}class YH{constructor(){this.controllers=new qp(Es,"datasets",!0),this.elements=new qp(Ts,"elements"),this.plugins=new qp(Object,"plugins"),this.scales=new qp(Ol,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):xe(s,l=>{const c=i||this._getRegistryForType(l);this._exec(t,c,l)})})}_exec(t,n,i){const s=Tx(t);De(i["before"+s],[],i),n[t](i),De(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Gs=new YH;class GH{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(r,t,n,i);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,n,i,s){s=s||{};for(const r of t){const l=r.plugin,c=l[i],h=[n,s,r.options];if(De(c,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Yt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=$t(i.options&&i.options.plugins,{}),r=KH(i);return s===!1&&!n?[]:QH(t,r,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(r,l)=>r.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function KH(e){const t={},n=[],i=Object.keys(Gs.plugins.items);for(let r=0;r<i.length;r++)n.push(Gs.getPlugin(i[r]));const s=e.plugins||[];for(let r=0;r<s.length;r++){const l=s[r];n.indexOf(l)===-1&&(n.push(l),t[l.id]=!0)}return{plugins:n,localIds:t}}function XH(e,t){return!t&&e===!1?null:e===!0?{}:e}function QH(e,{plugins:t,localIds:n},i,s){const r=[],l=e.getContext();for(const c of t){const h=c.id,d=XH(i[h],s);d!==null&&r.push({plugin:c,options:ZH(e.config,{plugin:c,local:n[h]},d,l)})}return r}function ZH(e,{plugin:t,local:n},i,s){const r=e.pluginScopeKeys(t),l=e.getOptionScopes(i,r);return n&&t.defaults&&l.push(t.defaults),e.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function q0(e,t){const n=ze.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function JH(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function t7(e,t){return e===t?"_index_":"_value_"}function rk(e){if(e==="x"||e==="y"||e==="r")return e}function e7(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function H0(e,...t){if(rk(e))return e;for(const n of t){const i=n.axis||e7(n.position)||e.length>1&&rk(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function ak(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function n7(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return ak(e,"x",n[0])||ak(e,"y",n[0])}return{}}function i7(e,t){const n=kl[e.type]||{scales:{}},i=t.scales||{},s=q0(e.type,t),r=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!se(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=H0(l,c,n7(l,e),ze.scales[c.type]),d=t7(h,s),p=n.scales||{};r[l]=id(Object.create(null),[{axis:h},c,p[h],p[d]])}),e.data.datasets.forEach(l=>{const c=l.type||e.type,h=l.indexAxis||q0(c,t),p=(kl[c]||{}).scales||{};Object.keys(p).forEach(y=>{const _=JH(y,h),x=l[_+"AxisID"]||_;r[x]=r[x]||Object.create(null),id(r[x],[{axis:_},i[x],p[y]])})}),Object.keys(r).forEach(l=>{const c=r[l];id(c,[ze.scales[c.type],ze.scale])}),r}function eO(e){const t=e.options||(e.options={});t.plugins=$t(t.plugins,{}),t.scales=i7(e,t)}function nO(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function s7(e){return e=e||{},e.data=nO(e.data),eO(e),e}const ok=new Map,iO=new Set;function Hp(e,t){let n=ok.get(e);return n||(n=t(),ok.set(e,n),iO.add(n)),n}const Ih=(e,t,n)=>{const i=mo(t,n);i!==void 0&&e.add(i)};class r7{constructor(t){this._config=s7(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=nO(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),eO(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Hp(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Hp(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Hp(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return Hp(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:r}=this,l=this._cachedScopes(t,i),c=l.get(n);if(c)return c;const h=new Set;n.forEach(p=>{t&&(h.add(t),p.forEach(y=>Ih(h,t,y))),p.forEach(y=>Ih(h,s,y)),p.forEach(y=>Ih(h,kl[r]||{},y)),p.forEach(y=>Ih(h,ze,y)),p.forEach(y=>Ih(h,F0,y))});const d=Array.from(h);return d.length===0&&d.push(Object.create(null)),iO.has(n)&&l.set(n,d),d}chartOptionScopes(){const{options:t,type:n}=this;return[t,kl[n]||{},ze.datasets[n]||{},{type:n},ze,F0]}resolveNamedOptions(t,n,i,s=[""]){const r={$shared:!0},{resolver:l,subPrefixes:c}=lk(this._resolverCache,t,s);let h=l;if(o7(l,n)){r.$shared=!1,i=yo(i)?i():i;const d=this.createResolver(t,i,c);h=su(l,i,d)}for(const d of n)r[d]=h[d];return r}createResolver(t,n,i=[""],s){const{resolver:r}=lk(this._resolverCache,t,i);return se(n)?su(r,n,void 0,s):r}}function lk(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let r=i.get(s);return r||(r={resolver:Mx(t,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,r)),r}const a7=e=>se(e)&&Object.getOwnPropertyNames(e).some(t=>yo(e[t]));function o7(e,t){const{isScriptable:n,isIndexable:i}=NI(e);for(const s of t){const r=n(s),l=i(s),c=(l||r)&&e[s];if(r&&(yo(c)||a7(c))||l&&Ve(c))return!0}return!1}var l7="4.5.0";const c7=["top","bottom","left","right","chartArea"];function ck(e,t){return e==="top"||e==="bottom"||c7.indexOf(e)===-1&&t==="x"}function uk(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function hk(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),De(n&&n.onComplete,[e],t)}function u7(e){const t=e.chart,n=t.options.animation;De(n&&n.onProgress,[e],t)}function sO(e){return Px()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Mg={},dk=e=>{const t=sO(e);return Object.values(Mg).filter(n=>n.canvas===t).pop()};function h7(e,t,n){const i=Object.keys(e);for(const s of i){const r=+s;if(r>=t){const l=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=l)}}}function d7(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}class _i{static register(...t){Gs.add(...t),fk()}static unregister(...t){Gs.remove(...t),fk()}constructor(t,n){const i=this.config=new r7(n),s=sO(t),r=dk(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||DH(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,l.aspectRatio),h=c&&c.canvas,d=h&&h.height,p=h&&h.width;if(this.id=fq(),this.ctx=c,this.canvas=h,this.width=p,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new GH,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Dq(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],Mg[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Br.listen(this,"complete",hk),Br.listen(this,"progress",u7),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return Yt(t)?n&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Gs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():NA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return IA(this.canvas,this.ctx),this}stop(){return Br.stop(this),this}resize(t,n){Br.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,n,r),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,NA(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),De(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};xe(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let r=[];n&&(r=r.concat(Object.keys(n).map(l=>{const c=n[l],h=H0(l,c),d=h==="r",p=h==="x";return{options:c,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),xe(r,l=>{const c=l.options,h=c.id,d=H0(h,c),p=$t(c.type,l.dtype);(c.position===void 0||ck(c.position,d)!==ck(l.dposition))&&(c.position=l.dposition),s[h]=!0;let y=null;if(h in i&&i[h].type===p)y=i[h];else{const _=Gs.getScale(p);y=new _({id:h,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(c,t)}),xe(s,(l,c)=>{l||delete i[c]}),xe(i,l=>{li.configure(this,l,l.options),li.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(uk("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let l=this.getDatasetMeta(i);const c=r.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=r.indexAxis||q0(c,this.options),l.order=r.order||0,l.index=i,l.label=""+r.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=Gs.getController(c),{datasetElementType:d,dataElementType:p}=ze.datasets[c];Object.assign(h,{dataElementType:Gs.getElement(p),datasetElementType:d&&Gs.getElement(d)}),l.controller=new h(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){xe(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:y}=this.getDatasetMeta(d),_=!s&&r.indexOf(y)===-1;y.buildOrUpdateElements(_),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||xe(r,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(uk("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){xe(this.scales,t=>{li.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!EA(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const l=i==="_removeElements"?-r:r;h7(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(t.filter(l=>l[0]===r).map((l,c)=>c+","+l.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!EA(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;li.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],xe(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,yo(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Br.has(this)?this.attached&&!Br.running(this)&&Br.start(this):(this.draw(),hk({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const l=n[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=WI(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Km(n,s),t.controller.draw(),s&&Xm(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Zr(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const r=cH.modes[n];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Eo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),l=r.controller._resolveAnimations(void 0,s);Md(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(r,{visible:i}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Br.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),IA(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Mg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(r,l)=>{n.addEventListener(this,r,l),t[r]=l},s=(r,l,c)=>{r.offsetX=l,r.offsetY=c,this._eventHandler(r)};xe(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(h,d)=>{n.addEventListener(this,h,d),t[h]=d},s=(h,d)=>{t[h]&&(n.removeEventListener(this,h,d),delete t[h])},r=(h,d)=>{this.canvas&&this.resize(h,d)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",r),i("detach",l)};l=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",c)},n.isAttached(this.canvas)?c():l()}unbindEvents(){xe(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},xe(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let r,l,c,h;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),c=0,h=t.length;c<h;++c){l=t[c];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:r,index:l})=>{const c=this.getDatasetMeta(r);if(!c)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:c.data[l],index:l}});!sm(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,r=(h,d)=>h.filter(p=>!d.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),l=r(n,t),c=i?t:r(t,n);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:r}=this,l=n,c=this._getActiveElements(t,s,i,l),h=bq(t),d=d7(t,this._lastEvent,i,h);i&&(this._lastEvent=null,De(r.onHover,[t,c,this],this),h&&De(r.onClick,[t,c,this],this));const p=!sm(c,s);return(p||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=d,p}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}}xt(_i,"defaults",ze),xt(_i,"instances",Mg),xt(_i,"overrides",kl),xt(_i,"registry",Gs),xt(_i,"version",l7),xt(_i,"getChart",dk);function fk(){return xe(_i.instances,e=>e._plugins.invalidate())}function f7(e,t,n){const{startAngle:i,x:s,y:r,outerRadius:l,innerRadius:c,options:h}=t,{borderWidth:d,borderJoinStyle:p}=h,y=Math.min(d/l,ai(i-n));if(e.beginPath(),e.arc(s,r,l-d/2,i+y/2,n-y/2),c>0){const _=Math.min(d/c,ai(i-n));e.arc(s,r,c+d/2,n-_/2,i+_/2,!0)}else{const _=Math.min(d/2,l*ai(i-n));if(p==="round")e.arc(s,r,_,n-ge/2,i+ge/2,!0);else if(p==="bevel"){const x=2*_*_,E=-x*Math.cos(n+ge/2)+s,S=-x*Math.sin(n+ge/2)+r,T=x*Math.cos(i+ge/2)+s,D=x*Math.sin(i+ge/2)+r;e.lineTo(E,S),e.lineTo(T,D)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function p7(e,t,n){const{startAngle:i,pixelMargin:s,x:r,y:l,outerRadius:c,innerRadius:h}=t;let d=s/c;e.beginPath(),e.arc(r,l,c,i-d,n+d),h>s?(d=s/h,e.arc(r,l,h,n+d,i-d,!0)):e.arc(r,l,s,n+ln,i-ln),e.closePath(),e.clip()}function g7(e){return Dx(e,["outerStart","outerEnd","innerStart","innerEnd"])}function m7(e,t,n,i){const s=g7(e.options.borderRadius),r=(n-t)/2,l=Math.min(r,i*t/2),c=h=>{const d=(n-Math.min(r,h))*i/2;return Bn(h,0,Math.min(r,d))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:Bn(s.innerStart,0,l),innerEnd:Bn(s.innerEnd,0,l)}}function Ac(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function um(e,t,n,i,s,r){const{x:l,y:c,startAngle:h,pixelMargin:d,innerRadius:p}=t,y=Math.max(t.outerRadius+i+n-d,0),_=p>0?p+i+n+d:0;let x=0;const E=s-h;if(i){const Q=p>0?p-i:0,q=y>0?y-i:0,K=(Q+q)/2,ot=K!==0?E*K/(K+i):E;x=(E-ot)/2}const S=Math.max(.001,E*y-n/ge)/y,T=(E-S)/2,D=h+T+x,M=s-T-x,{outerStart:N,outerEnd:U,innerStart:P,innerEnd:G}=m7(t,_,y,M-D),C=y-N,R=y-U,O=D+N/C,V=M-U/R,$=_+P,H=_+G,z=D+P/$,Ct=M-G/H;if(e.beginPath(),r){const Q=(O+V)/2;if(e.arc(l,c,y,O,Q),e.arc(l,c,y,Q,V),U>0){const nt=Ac(R,V,l,c);e.arc(nt.x,nt.y,U,V,M+ln)}const q=Ac(H,M,l,c);if(e.lineTo(q.x,q.y),G>0){const nt=Ac(H,Ct,l,c);e.arc(nt.x,nt.y,G,M+ln,Ct+Math.PI)}const K=(M-G/_+(D+P/_))/2;if(e.arc(l,c,_,M-G/_,K,!0),e.arc(l,c,_,K,D+P/_,!0),P>0){const nt=Ac($,z,l,c);e.arc(nt.x,nt.y,P,z+Math.PI,D-ln)}const ot=Ac(C,D,l,c);if(e.lineTo(ot.x,ot.y),N>0){const nt=Ac(C,O,l,c);e.arc(nt.x,nt.y,N,D-ln,O)}}else{e.moveTo(l,c);const Q=Math.cos(O)*y+l,q=Math.sin(O)*y+c;e.lineTo(Q,q);const K=Math.cos(V)*y+l,ot=Math.sin(V)*y+c;e.lineTo(K,ot)}e.closePath()}function y7(e,t,n,i,s){const{fullCircles:r,startAngle:l,circumference:c}=t;let h=t.endAngle;if(r){um(e,t,n,i,h,s);for(let d=0;d<r;++d)e.fill();isNaN(c)||(h=l+(c%Ue||Ue))}return um(e,t,n,i,h,s),e.fill(),h}function _7(e,t,n,i,s){const{fullCircles:r,startAngle:l,circumference:c,options:h}=t,{borderWidth:d,borderJoinStyle:p,borderDash:y,borderDashOffset:_,borderRadius:x}=h,E=h.borderAlign==="inner";if(!d)return;e.setLineDash(y||[]),e.lineDashOffset=_,E?(e.lineWidth=d*2,e.lineJoin=p||"round"):(e.lineWidth=d,e.lineJoin=p||"bevel");let S=t.endAngle;if(r){um(e,t,n,i,S,s);for(let T=0;T<r;++T)e.stroke();isNaN(c)||(S=l+(c%Ue||Ue))}E&&p7(e,t,S),h.selfJoin&&S-l>=ge&&x===0&&p!=="miter"&&f7(e,t,S),r||(um(e,t,n,i,S,s),e.stroke())}class Pc extends Ts{constructor(n){super();xt(this,"circumference");xt(this,"endAngle");xt(this,"fullCircles");xt(this,"innerRadius");xt(this,"outerRadius");xt(this,"pixelMargin");xt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.getProps(["x","y"],s),{angle:l,distance:c}=TI(r,{x:n,y:i}),{startAngle:h,endAngle:d,innerRadius:p,outerRadius:y,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),x=(this.options.spacing+this.options.borderWidth)/2,E=$t(_,d-h),S=Id(l,h,d)&&h!==d,T=E>=Ue||S,D=Xr(c,p+x,y+x);return T&&D}getCenterPoint(n){const{x:i,y:s,startAngle:r,endAngle:l,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:d,spacing:p}=this.options,y=(r+l)/2,_=(c+h+p+d)/2;return{x:i+Math.cos(y)*_,y:s+Math.sin(y)*_}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,r=(i.offset||0)/4,l=(i.spacing||0)/2,c=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Ue?Math.floor(s/Ue):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const h=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(h)*r,Math.sin(h)*r);const d=1-Math.sin(Math.min(ge,s||0)),p=r*d;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,y7(n,this,p,l,c),_7(n,this,p,l,c),n.restore()}}xt(Pc,"id","arc"),xt(Pc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),xt(Pc,"defaultRoutes",{backgroundColor:"backgroundColor"}),xt(Pc,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function rO(e,t,n=t){e.lineCap=$t(n.borderCapStyle,t.borderCapStyle),e.setLineDash($t(n.borderDash,t.borderDash)),e.lineDashOffset=$t(n.borderDashOffset,t.borderDashOffset),e.lineJoin=$t(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=$t(n.borderWidth,t.borderWidth),e.strokeStyle=$t(n.borderColor,t.borderColor)}function b7(e,t,n){e.lineTo(n.x,n.y)}function v7(e){return e.stepped?Bq:e.tension||e.cubicInterpolationMode==="monotone"?$q:b7}function aO(e,t,n={}){const i=e.length,{start:s=0,end:r=i-1}=n,{start:l,end:c}=t,h=Math.max(s,l),d=Math.min(r,c),p=s<l&&r<l||s>c&&r>c;return{count:i,start:h,loop:t.loop,ilen:d<h&&!p?i+d-h:d-h}}function x7(e,t,n,i){const{points:s,options:r}=t,{count:l,start:c,loop:h,ilen:d}=aO(s,n,i),p=v7(r);let{move:y=!0,reverse:_}=i||{},x,E,S;for(x=0;x<=d;++x)E=s[(c+(_?d-x:x))%l],!E.skip&&(y?(e.moveTo(E.x,E.y),y=!1):p(e,S,E,_,r.stepped),S=E);return h&&(E=s[(c+(_?d:0))%l],p(e,S,E,_,r.stepped)),!!h}function w7(e,t,n,i){const s=t.points,{count:r,start:l,ilen:c}=aO(s,n,i),{move:h=!0,reverse:d}=i||{};let p=0,y=0,_,x,E,S,T,D;const M=U=>(l+(d?c-U:U))%r,N=()=>{S!==T&&(e.lineTo(p,T),e.lineTo(p,S),e.lineTo(p,D))};for(h&&(x=s[M(0)],e.moveTo(x.x,x.y)),_=0;_<=c;++_){if(x=s[M(_)],x.skip)continue;const U=x.x,P=x.y,G=U|0;G===E?(P<S?S=P:P>T&&(T=P),p=(y*p+U)/++y):(N(),e.lineTo(U,P),E=G,y=0,S=T=P),D=P}N()}function W0(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?w7:x7}function E7(e){return e.stepped?x8:e.tension||e.cubicInterpolationMode==="monotone"?w8:cl}function S7(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),rO(e,t.options),e.stroke(s)}function T7(e,t,n,i){const{segments:s,options:r}=t,l=W0(t);for(const c of s)rO(e,r,c.style),e.beginPath(),l(e,t,c,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const A7=typeof Path2D=="function";function k7(e,t,n,i){A7&&!t.options.segment?S7(e,t,n,i):T7(e,t,n,i)}class Za extends Ts{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;f8(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=R8(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],r=this.points,l=HI(this,{property:n,start:s,end:s});if(!l.length)return;const c=[],h=E7(i);let d,p;for(d=0,p=l.length;d<p;++d){const{start:y,end:_}=l[d],x=r[y],E=r[_];if(x===E){c.push(x);continue}const S=Math.abs((s-x[n])/(E[n]-x[n])),T=h(x,E,S,i.stepped);T[n]=t[n],c.push(T)}return c.length===1?c[0]:c}pathSegment(t,n,i){return W0(this)(t,this,n,i)}path(t,n,i){const s=this.segments,r=W0(this);let l=this._loop;n=n||0,i=i||this.points.length-n;for(const c of s)l&=r(t,this,c,{start:n,end:n+i-1});return!!l}draw(t,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),k7(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}xt(Za,"id","line"),xt(Za,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),xt(Za,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),xt(Za,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function pk(e,t,n,i){const s=e.options,{[n]:r}=e.getProps([n],i);return Math.abs(t-r)<s.radius+s.hitRadius}class ld extends Ts{constructor(n){super();xt(this,"parsed");xt(this,"skip");xt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:l,y:c}=this.getProps(["x","y"],s);return Math.pow(n-l,2)+Math.pow(i-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return pk(this,n,"x",i)}inYRange(n,i){return pk(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!Zr(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,B0(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}xt(ld,"id","point"),xt(ld,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),xt(ld,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function oO(e,t){const{x:n,y:i,base:s,width:r,height:l}=e.getProps(["x","y","base","width","height"],t);let c,h,d,p,y;return e.horizontal?(y=l/2,c=Math.min(n,s),h=Math.max(n,s),d=i-y,p=i+y):(y=r/2,c=n-y,h=n+y,d=Math.min(i,s),p=Math.max(i,s)),{left:c,top:d,right:h,bottom:p}}function Ja(e,t,n,i){return e?0:Bn(t,n,i)}function R7(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,r=PI(i);return{t:Ja(s.top,r.top,0,n),r:Ja(s.right,r.right,0,t),b:Ja(s.bottom,r.bottom,0,n),l:Ja(s.left,r.left,0,t)}}function C7(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=yl(s),l=Math.min(t,n),c=e.borderSkipped,h=i||se(s);return{topLeft:Ja(!h||c.top||c.left,r.topLeft,0,l),topRight:Ja(!h||c.top||c.right,r.topRight,0,l),bottomLeft:Ja(!h||c.bottom||c.left,r.bottomLeft,0,l),bottomRight:Ja(!h||c.bottom||c.right,r.bottomRight,0,l)}}function D7(e){const t=oO(e),n=t.right-t.left,i=t.bottom-t.top,s=R7(e,n/2,i/2),r=C7(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Ub(e,t,n,i){const s=t===null,r=n===null,c=e&&!(s&&r)&&oO(e,i);return c&&(s||Xr(t,c.left,c.right))&&(r||Xr(n,c.top,c.bottom))}function M7(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function I7(e,t){e.rect(t.x,t.y,t.w,t.h)}function zb(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-i,l=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+r,h:e.h+l,radius:e.radius}}class cd extends Ts{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:l}=D7(this),c=M7(l.radius)?Od:I7;t.save(),(l.w!==r.w||l.h!==r.h)&&(t.beginPath(),c(t,zb(l,n,r)),t.clip(),c(t,zb(r,-n,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,zb(r,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return Ub(this,t,n,i)}inXRange(t,n){return Ub(this,t,null,n)}inYRange(t,n){return Ub(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}xt(cd,"id","bar"),xt(cd,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),xt(cd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var O7=Object.freeze({__proto__:null,ArcElement:Pc,BarElement:cd,LineElement:Za,PointElement:ld});const Y0=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],gk=Y0.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function lO(e){return Y0[e%Y0.length]}function cO(e){return gk[e%gk.length]}function P7(e,t){return e.borderColor=lO(t),e.backgroundColor=cO(t),++t}function N7(e,t){return e.backgroundColor=e.data.map(()=>lO(t++)),t}function L7(e,t){return e.backgroundColor=e.data.map(()=>cO(t++)),t}function j7(e){let t=0;return(n,i)=>{const s=e.getDatasetMeta(i).controller;s instanceof fl?t=N7(n,t):s instanceof od?t=L7(n,t):s&&(t=P7(n,t))}}function mk(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function V7(e){return e&&(e.borderColor||e.backgroundColor)}function U7(){return ze.borderColor!=="rgba(0,0,0,0.1)"||ze.backgroundColor!=="rgba(0,0,0,0.1)"}var z7={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=e.config,{elements:r}=s,l=mk(i)||V7(s)||r&&mk(r)||U7();if(!n.forceOverride&&l)return;const c=j7(e);i.forEach(c)}};function F7(e,t,n,i,s){const r=s.samples||i;if(r>=n)return e.slice(t,t+n);const l=[],c=(n-2)/(r-2);let h=0;const d=t+n-1;let p=t,y,_,x,E,S;for(l[h++]=e[p],y=0;y<r-2;y++){let T=0,D=0,M;const N=Math.floor((y+1)*c)+1+t,U=Math.min(Math.floor((y+2)*c)+1,n)+t,P=U-N;for(M=N;M<U;M++)T+=e[M].x,D+=e[M].y;T/=P,D/=P;const G=Math.floor(y*c)+1+t,C=Math.min(Math.floor((y+1)*c)+1,n)+t,{x:R,y:O}=e[p];for(x=E=-1,M=G;M<C;M++)E=.5*Math.abs((R-T)*(e[M].y-O)-(R-e[M].x)*(D-O)),E>x&&(x=E,_=e[M],S=M);l[h++]=_,p=S}return l[h++]=e[d],l}function B7(e,t,n,i){let s=0,r=0,l,c,h,d,p,y,_,x,E,S;const T=[],D=t+n-1,M=e[t].x,U=e[D].x-M;for(l=t;l<t+n;++l){c=e[l],h=(c.x-M)/U*i,d=c.y;const P=h|0;if(P===p)d<E?(E=d,y=l):d>S&&(S=d,_=l),s=(r*s+c.x)/++r;else{const G=l-1;if(!Yt(y)&&!Yt(_)){const C=Math.min(y,_),R=Math.max(y,_);C!==x&&C!==G&&T.push({...e[C],x:s}),R!==x&&R!==G&&T.push({...e[R],x:s})}l>0&&G!==x&&T.push(e[G]),T.push(c),p=P,r=0,E=S=d,y=_=x=l}}return T}function uO(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function yk(e){e.data.datasets.forEach(t=>{uO(t)})}function $7(e,t){const n=t.length;let i=0,s;const{iScale:r}=e,{min:l,max:c,minDefined:h,maxDefined:d}=r.getUserBounds();return h&&(i=Bn(Qr(t,r.axis,l).lo,0,n-1)),d?s=Bn(Qr(t,r.axis,c).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var q7={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){yk(e);return}const i=e.width;e.data.datasets.forEach((s,r)=>{const{_data:l,indexAxis:c}=s,h=e.getDatasetMeta(r),d=l||s.data;if(je([c,e.options.indexAxis])==="y"||!h.controller.supportsDecimation)return;const p=e.scales[h.xAxisID];if(p.type!=="linear"&&p.type!=="time"||e.options.parsing)return;let{start:y,count:_}=$7(h,d);const x=n.threshold||4*i;if(_<=x){uO(s);return}Yt(l)&&(s._data=d,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(S){this._data=S}}));let E;switch(n.algorithm){case"lttb":E=F7(d,y,_,i,n);break;case"min-max":E=B7(d,y,_,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=E})},destroy(e){yk(e)}};function H7(e,t,n){const i=e.segments,s=e.points,r=t.points,l=[];for(const c of i){let{start:h,end:d}=c;d=Jm(h,d,s);const p=G0(n,s[h],s[d],c.loop);if(!t.segments){l.push({source:c,target:p,start:s[h],end:s[d]});continue}const y=HI(t,p);for(const _ of y){const x=G0(n,r[_.start],r[_.end],_.loop),E=qI(c,s,x);for(const S of E)l.push({source:S,target:_,start:{[n]:_k(p,x,"start",Math.max)},end:{[n]:_k(p,x,"end",Math.min)}})}}return l}function G0(e,t,n,i){if(i)return;let s=t[e],r=n[e];return e==="angle"&&(s=ai(s),r=ai(r)),{property:e,start:s,end:r}}function W7(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,r=[];return t.segments.forEach(({start:l,end:c})=>{c=Jm(l,c,s);const h=s[l],d=s[c];i!==null?(r.push({x:h.x,y:i}),r.push({x:d.x,y:i})):n!==null&&(r.push({x:n,y:h.y}),r.push({x:n,y:d.y}))}),r}function Jm(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function _k(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function hO(e,t){let n=[],i=!1;return Ve(e)?(i=!0,n=e):n=W7(e,t),n.length?new Za({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function bk(e){return e&&e.fill!==!1}function Y7(e,t,n){let s=e[t].fill;const r=[t];let l;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!en(s))return s;if(l=e[s],!l)return!1;if(l.visible)return s;r.push(s),s=l.fill}return!1}function G7(e,t,n){const i=Z7(e);if(se(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return en(s)&&Math.floor(s)===s?K7(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function K7(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function X7(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:se(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function Q7(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:se(e)?i=e.value:i=t.getBaseValue(),i}function Z7(e){const t=e.options,n=t.fill;let i=$t(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function J7(e){const{scale:t,index:n,line:i}=e,s=[],r=i.segments,l=i.points,c=tW(t,n);c.push(hO({x:null,y:t.bottom},i));for(let h=0;h<r.length;h++){const d=r[h];for(let p=d.start;p<=d.end;p++)eW(s,l[p],c)}return new Za({points:s,options:{}})}function tW(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===t)break;r.hidden||n.unshift(r.dataset)}return n}function eW(e,t,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:l,last:c,point:h}=nW(r,t,"x");if(!(!h||l&&c)){if(l)i.unshift(h);else if(e.push(h),!c)break}}e.push(...i)}function nW(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],r=e.segments,l=e.points;let c=!1,h=!1;for(let d=0;d<r.length;d++){const p=r[d],y=l[p.start][n],_=l[p.end][n];if(Xr(s,y,_)){c=s===y,h=s===_;break}}return{first:c,last:h,point:i}}class dO{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:r,radius:l}=this;return n=n||{start:0,end:Ue},t.arc(s,r,l,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,r=t.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function iW(e){const{chart:t,fill:n,line:i}=e;if(en(n))return sW(t,n);if(n==="stack")return J7(e);if(n==="shape")return!0;const s=rW(e);return s instanceof dO?s:hO(s,i)}function sW(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function rW(e){return(e.scale||{}).getPointPositionForValue?oW(e):aW(e)}function aW(e){const{scale:t={},fill:n}=e,i=X7(n,t);if(en(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function oW(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,r=i.reverse?t.max:t.min,l=Q7(n,t,r),c=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,r);return new dO({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(l)})}for(let h=0;h<s;++h)c.push(t.getPointPositionForValue(h,l));return c}function Fb(e,t,n){const i=iW(t),{chart:s,index:r,line:l,scale:c,axis:h}=t,d=l.options,p=d.fill,y=d.backgroundColor,{above:_=y,below:x=y}=p||{},E=s.getDatasetMeta(r),S=WI(s,E);i&&l.points.length&&(Km(e,n),lW(e,{line:l,target:i,above:_,below:x,area:n,scale:c,axis:h,clip:S}),Xm(e))}function lW(e,t){const{line:n,target:i,above:s,below:r,area:l,scale:c,clip:h}=t,d=n._loop?"angle":t.axis;e.save();let p=r;r!==s&&(d==="x"?(vk(e,i,l.top),Bb(e,{line:n,target:i,color:s,scale:c,property:d,clip:h}),e.restore(),e.save(),vk(e,i,l.bottom)):d==="y"&&(xk(e,i,l.left),Bb(e,{line:n,target:i,color:r,scale:c,property:d,clip:h}),e.restore(),e.save(),xk(e,i,l.right),p=s)),Bb(e,{line:n,target:i,color:p,scale:c,property:d,clip:h}),e.restore()}function vk(e,t,n){const{segments:i,points:s}=t;let r=!0,l=!1;e.beginPath();for(const c of i){const{start:h,end:d}=c,p=s[h],y=s[Jm(h,d,s)];r?(e.moveTo(p.x,p.y),r=!1):(e.lineTo(p.x,n),e.lineTo(p.x,p.y)),l=!!t.pathSegment(e,c,{move:l}),l?e.closePath():e.lineTo(y.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function xk(e,t,n){const{segments:i,points:s}=t;let r=!0,l=!1;e.beginPath();for(const c of i){const{start:h,end:d}=c,p=s[h],y=s[Jm(h,d,s)];r?(e.moveTo(p.x,p.y),r=!1):(e.lineTo(n,p.y),e.lineTo(p.x,p.y)),l=!!t.pathSegment(e,c,{move:l}),l?e.closePath():e.lineTo(n,y.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function Bb(e,t){const{line:n,target:i,property:s,color:r,scale:l,clip:c}=t,h=H7(n,i,s);for(const{source:d,target:p,start:y,end:_}of h){const{style:{backgroundColor:x=r}={}}=d,E=i!==!0;e.save(),e.fillStyle=x,cW(e,l,c,E&&G0(s,y,_)),e.beginPath();const S=!!n.pathSegment(e,d);let T;if(E){S?e.closePath():wk(e,i,_,s);const D=!!i.pathSegment(e,p,{move:S,reverse:!0});T=S&&D,T||wk(e,i,y,s)}e.closePath(),e.fill(T?"evenodd":"nonzero"),e.restore()}}function cW(e,t,n,i){const s=t.chart.chartArea,{property:r,start:l,end:c}=i||{};if(r==="x"||r==="y"){let h,d,p,y;r==="x"?(h=l,d=s.top,p=c,y=s.bottom):(h=s.left,d=l,p=s.right,y=c),e.beginPath(),n&&(h=Math.max(h,n.left),p=Math.min(p,n.right),d=Math.max(d,n.top),y=Math.min(y,n.bottom)),e.rect(h,d,p-h,y-d),e.clip()}}function wk(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var uW={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let r,l,c,h;for(l=0;l<i;++l)r=e.getDatasetMeta(l),c=r.dataset,h=null,c&&c.options&&c instanceof Za&&(h={visible:e.isDatasetVisible(l),index:l,fill:G7(c,l,i),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:c}),r.$filler=h,s.push(h);for(l=0;l<i;++l)h=s[l],!(!h||h.fill===!1)&&(h.fill=Y7(s,l,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let l=s.length-1;l>=0;--l){const c=s[l].$filler;c&&(c.line.updateControlPoints(r,c.axis),i&&c.fill&&Fb(e.ctx,c,r))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;bk(r)&&Fb(e.ctx,r,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!bk(i)||n.drawTime!=="beforeDatasetDraw"||Fb(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ek=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},hW=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Sk extends Ts{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=De(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=vn(i.font),r=s.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=Ek(i,r);let d,p;n.font=s.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(l,r,c,h)+10):(p=this.maxHeight,d=this._fitCols(l,s,c,h)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:r,maxWidth:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.lineWidths=[0],p=s+c;let y=t;r.textAlign="left",r.textBaseline="middle";let _=-1,x=-p;return this.legendItems.forEach((E,S)=>{const T=i+n/2+r.measureText(E.text).width;(S===0||d[d.length-1]+T+2*c>l)&&(y+=p,d[d.length-(S>0?0:1)]=0,x+=p,_++),h[S]={left:0,top:x,row:_,width:T,height:s},d[d.length-1]+=T+c}),y}_fitCols(t,n,i,s){const{ctx:r,maxHeight:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.columnSizes=[],p=l-t;let y=c,_=0,x=0,E=0,S=0;return this.legendItems.forEach((T,D)=>{const{itemWidth:M,itemHeight:N}=dW(i,n,r,T,s);D>0&&x+N+2*c>p&&(y+=_+c,d.push({width:_,height:x}),E+=_+c,S++,_=x=0),h[D]={left:E,top:x,col:S,width:M,height:N},_=Math.max(_,M),x+=N+c}),y+=_,d.push({width:_,height:x}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,l=Fc(r,this.left,this.width);if(this.isHorizontal()){let c=0,h=ii(i,this.left+s,this.right-this.lineWidths[c]);for(const d of n)c!==d.row&&(c=d.row,h=ii(i,this.left+s,this.right-this.lineWidths[c])),d.top+=this.top+t+s,d.left=l.leftForLtr(l.x(h),d.width),h+=d.width+s}else{let c=0,h=ii(i,this.top+t+s,this.bottom-this.columnSizes[c].height);for(const d of n)d.col!==c&&(c=d.col,h=ii(i,this.top+t+s,this.bottom-this.columnSizes[c].height)),d.top=h,d.left+=this.left+s,d.left=l.leftForLtr(l.x(d.left),d.width),h+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Km(t,this),this._draw(),Xm(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:l}=t,c=ze.color,h=Fc(t.rtl,this.left,this.width),d=vn(l.font),{padding:p}=l,y=d.size,_=y/2;let x;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:E,boxHeight:S,itemHeight:T}=Ek(l,y),D=function(G,C,R){if(isNaN(E)||E<=0||isNaN(S)||S<0)return;s.save();const O=$t(R.lineWidth,1);if(s.fillStyle=$t(R.fillStyle,c),s.lineCap=$t(R.lineCap,"butt"),s.lineDashOffset=$t(R.lineDashOffset,0),s.lineJoin=$t(R.lineJoin,"miter"),s.lineWidth=O,s.strokeStyle=$t(R.strokeStyle,c),s.setLineDash($t(R.lineDash,[])),l.usePointStyle){const V={radius:S*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:O},$=h.xPlus(G,E/2),H=C+_;OI(s,V,$,H,l.pointStyleWidth&&E)}else{const V=C+Math.max((y-S)/2,0),$=h.leftForLtr(G,E),H=yl(R.borderRadius);s.beginPath(),Object.values(H).some(z=>z!==0)?Od(s,{x:$,y:V,w:E,h:S,radius:H}):s.rect($,V,E,S),s.fill(),O!==0&&s.stroke()}s.restore()},M=function(G,C,R){Rl(s,R.text,G,C+T/2,d,{strikethrough:R.hidden,textAlign:h.textAlign(R.textAlign)})},N=this.isHorizontal(),U=this._computeTitleHeight();N?x={x:ii(r,this.left+p,this.right-i[0]),y:this.top+p+U,line:0}:x={x:this.left+p,y:ii(r,this.top+U+p,this.bottom-n[0].height),line:0},FI(this.ctx,t.textDirection);const P=T+p;this.legendItems.forEach((G,C)=>{s.strokeStyle=G.fontColor,s.fillStyle=G.fontColor;const R=s.measureText(G.text).width,O=h.textAlign(G.textAlign||(G.textAlign=l.textAlign)),V=E+_+R;let $=x.x,H=x.y;h.setWidth(this.width),N?C>0&&$+V+p>this.right&&(H=x.y+=P,x.line++,$=x.x=ii(r,this.left+p,this.right-i[x.line])):C>0&&H+P>this.bottom&&($=x.x=$+n[x.line].width+p,x.line++,H=x.y=ii(r,this.top+U+p,this.bottom-n[x.line].height));const z=h.x($);if(D(z,H,G),$=Mq(O,$+E+_,N?$+V:this.right,t.rtl),M(h.x($),H,G),N)x.x+=V+p;else if(typeof G.text!="string"){const Ct=d.lineHeight;x.y+=fO(G,Ct)+p}else x.y+=P}),BI(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=vn(n.font),s=Zn(n.padding);if(!n.display)return;const r=Fc(t.rtl,this.left,this.width),l=this.ctx,c=n.position,h=i.size/2,d=s.top+h;let p,y=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+d,y=ii(t.align,y,this.right-_);else{const E=this.columnSizes.reduce((S,T)=>Math.max(S,T.height),0);p=d+ii(t.align,this.top,this.bottom-E-t.labels.padding-this._computeTitleHeight())}const x=ii(c,y,y+_);l.textAlign=r.textAlign(Rx(c)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=i.string,Rl(l,n.text,x,p,i)}_computeTitleHeight(){const t=this.options.title,n=vn(t.font),i=Zn(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,r;if(Xr(t,this.left,this.right)&&Xr(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],Xr(t,s.left,s.left+s.width)&&Xr(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!gW(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=hW(s,i);s&&!r&&De(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&De(n.onHover,[t,i,this],this)}else i&&De(n.onClick,[t,i,this],this)}}function dW(e,t,n,i,s){const r=fW(i,e,t,n),l=pW(s,i,t.lineHeight);return{itemWidth:r,itemHeight:l}}function fW(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((r,l)=>r.length>l.length?r:l)),t+n.size/2+i.measureText(s).width}function pW(e,t,n){let i=e;return typeof t.text!="string"&&(i=fO(t,n)),i}function fO(e,t){const n=e.text?e.text.length:0;return t*n}function gW(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var mW={id:"legend",_element:Sk,start(e,t,n){const i=e.legend=new Sk({ctx:e.ctx,options:n,chart:e});li.configure(e,i,n),li.addBox(e,i)},stop(e){li.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;li.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:l,borderRadius:c}}=e.legend.options;return e._getSortedDatasetMetas().map(h=>{const d=h.controller.getStyle(n?0:void 0),p=Zn(d.borderWidth);return{text:t[h.index].label,fillStyle:d.backgroundColor,fontColor:r,hidden:!h.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:l&&(c||d.borderRadius),datasetIndex:h.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class jx extends Ts{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=Ve(i.text)?i.text.length:1;this._padding=Zn(i.padding);const r=s*vn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:r,options:l}=this,c=l.align;let h=0,d,p,y;return this.isHorizontal()?(p=ii(c,i,r),y=n+t,d=r-i):(l.position==="left"?(p=i+t,y=ii(c,s,n),h=ge*-.5):(p=r-t,y=ii(c,n,s),h=ge*.5),d=s-n),{titleX:p,titleY:y,maxWidth:d,rotation:h}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=vn(n.font),r=i.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:h,rotation:d}=this._drawArgs(r);Rl(t,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:d,textAlign:Rx(n.align),textBaseline:"middle",translation:[l,c]})}}function yW(e,t){const n=new jx({ctx:e.ctx,options:t,chart:e});li.configure(e,n,t),li.addBox(e,n),e.titleBlock=n}var _W={id:"title",_element:jx,start(e,t,n){yW(e,n)},stop(e){const t=e.titleBlock;li.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;li.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Wp=new WeakMap;var bW={id:"subtitle",start(e,t,n){const i=new jx({ctx:e.ctx,options:n,chart:e});li.configure(e,i,n),li.addBox(e,i),Wp.set(e,i)},stop(e){li.removeBox(e,Wp.get(e)),Wp.delete(e)},beforeUpdate(e,t,n){const i=Wp.get(e);li.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yh={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,r=0;for(t=0,n=e.length;t<n;++t){const c=e[t].element;if(c&&c.hasValue()){const h=c.tooltipPosition();i.add(h.x),s+=h.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((c,h)=>c+h)/i.size,y:s/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,l,c;for(r=0,l=e.length;r<l;++r){const h=e[r].element;if(h&&h.hasValue()){const d=h.getCenterPoint(),p=z0(t,d);p<s&&(s=p,c=h)}}if(c){const h=c.tooltipPosition();n=h.x,i=h.y}return{x:n,y:i}}};function Ws(e,t){return t&&(Ve(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function $r(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function vW(e,t){const{element:n,datasetIndex:i,index:s}=t,r=e.getDatasetMeta(i).controller,{label:l,value:c}=r.getLabelAndValue(s);return{chart:e,label:l,parsed:r.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:c,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function Tk(e,t){const n=e.chart.ctx,{body:i,footer:s,title:r}=e,{boxWidth:l,boxHeight:c}=t,h=vn(t.bodyFont),d=vn(t.titleFont),p=vn(t.footerFont),y=r.length,_=s.length,x=i.length,E=Zn(t.padding);let S=E.height,T=0,D=i.reduce((U,P)=>U+P.before.length+P.lines.length+P.after.length,0);if(D+=e.beforeBody.length+e.afterBody.length,y&&(S+=y*d.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),D){const U=t.displayColors?Math.max(c,h.lineHeight):h.lineHeight;S+=x*U+(D-x)*h.lineHeight+(D-1)*t.bodySpacing}_&&(S+=t.footerMarginTop+_*p.lineHeight+(_-1)*t.footerSpacing);let M=0;const N=function(U){T=Math.max(T,n.measureText(U).width+M)};return n.save(),n.font=d.string,xe(e.title,N),n.font=h.string,xe(e.beforeBody.concat(e.afterBody),N),M=t.displayColors?l+2+t.boxPadding:0,xe(i,U=>{xe(U.before,N),xe(U.lines,N),xe(U.after,N)}),M=0,n.font=p.string,xe(e.footer,N),n.restore(),T+=E.width,{width:T,height:S}}function xW(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function wW(e,t,n,i){const{x:s,width:r}=i,l=n.caretSize+n.caretPadding;if(e==="left"&&s+r+l>t.width||e==="right"&&s-r-l<0)return!0}function EW(e,t,n,i){const{x:s,width:r}=n,{width:l,chartArea:{left:c,right:h}}=e;let d="center";return i==="center"?d=s<=(c+h)/2?"left":"right":s<=r/2?d="left":s>=l-r/2&&(d="right"),wW(d,e,t,n)&&(d="center"),d}function Ak(e,t,n){const i=n.yAlign||t.yAlign||xW(e,n);return{xAlign:n.xAlign||t.xAlign||EW(e,t,n,i),yAlign:i}}function SW(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function TW(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function kk(e,t,n,i){const{caretSize:s,caretPadding:r,cornerRadius:l}=e,{xAlign:c,yAlign:h}=n,d=s+r,{topLeft:p,topRight:y,bottomLeft:_,bottomRight:x}=yl(l);let E=SW(t,c);const S=TW(t,h,d);return h==="center"?c==="left"?E+=d:c==="right"&&(E-=d):c==="left"?E-=Math.max(p,_)+s:c==="right"&&(E+=Math.max(y,x)+s),{x:Bn(E,0,i.width-t.width),y:Bn(S,0,i.height-t.height)}}function Yp(e,t,n){const i=Zn(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function Rk(e){return Ws([],$r(e))}function AW(e,t,n){return Eo(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Ck(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const pO={beforeTitle:Fr,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Fr,beforeBody:Fr,beforeLabel:Fr,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Yt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Fr,afterBody:Fr,beforeFooter:Fr,footer:Fr,afterFooter:Fr};function wi(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?pO[t].call(n,i):s}class K0 extends Ts{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new YI(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=AW(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=wi(i,"beforeTitle",this,t),r=wi(i,"title",this,t),l=wi(i,"afterTitle",this,t);let c=[];return c=Ws(c,$r(s)),c=Ws(c,$r(r)),c=Ws(c,$r(l)),c}getBeforeBody(t,n){return Rk(wi(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return xe(t,r=>{const l={before:[],lines:[],after:[]},c=Ck(i,r);Ws(l.before,$r(wi(c,"beforeLabel",this,r))),Ws(l.lines,wi(c,"label",this,r)),Ws(l.after,$r(wi(c,"afterLabel",this,r))),s.push(l)}),s}getAfterBody(t,n){return Rk(wi(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=wi(i,"beforeFooter",this,t),r=wi(i,"footer",this,t),l=wi(i,"afterFooter",this,t);let c=[];return c=Ws(c,$r(s)),c=Ws(c,$r(r)),c=Ws(c,$r(l)),c}_createItems(t){const n=this._active,i=this.chart.data,s=[],r=[],l=[];let c=[],h,d;for(h=0,d=n.length;h<d;++h)c.push(vW(this.chart,n[h]));return t.filter&&(c=c.filter((p,y,_)=>t.filter(p,y,_,i))),t.itemSort&&(c=c.sort((p,y)=>t.itemSort(p,y,i))),xe(c,p=>{const y=Ck(t.callbacks,p);s.push(wi(y,"labelColor",this,p)),r.push(wi(y,"labelPointStyle",this,p)),l.push(wi(y,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=l,this.dataPoints=c,c}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,l=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const c=Yh[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=Tk(this,i),d=Object.assign({},c,h),p=Ak(this.chart,i,d),y=kk(i,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,r={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const r=this.getCaretPosition(t,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:h,topRight:d,bottomLeft:p,bottomRight:y}=yl(c),{x:_,y:x}=t,{width:E,height:S}=n;let T,D,M,N,U,P;return r==="center"?(U=x+S/2,s==="left"?(T=_,D=T-l,N=U+l,P=U-l):(T=_+E,D=T+l,N=U-l,P=U+l),M=T):(s==="left"?D=_+Math.max(h,p)+l:s==="right"?D=_+E-Math.max(d,y)-l:D=this.caretX,r==="top"?(N=x,U=N-l,T=D-l,M=D+l):(N=x+S,U=N+l,T=D+l,M=D-l),P=N),{x1:T,x2:D,x3:M,y1:N,y2:U,y3:P}}drawTitle(t,n,i){const s=this.title,r=s.length;let l,c,h;if(r){const d=Fc(i.rtl,this.x,this.width);for(t.x=Yp(this,i.titleAlign,i),n.textAlign=d.textAlign(i.titleAlign),n.textBaseline="middle",l=vn(i.titleFont),c=i.titleSpacing,n.fillStyle=i.titleColor,n.font=l.string,h=0;h<r;++h)n.fillText(s[h],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,h+1===r&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,n,i,s,r){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:h,boxWidth:d}=r,p=vn(r.bodyFont),y=Yp(this,"left",r),_=s.x(y),x=h<p.lineHeight?(p.lineHeight-h)/2:0,E=n.y+x;if(r.usePointStyle){const S={radius:Math.min(d,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},T=s.leftForLtr(_,d)+d/2,D=E+h/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,B0(t,S,T,D),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,B0(t,S,T,D)}else{t.lineWidth=se(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const S=s.leftForLtr(_,d),T=s.leftForLtr(s.xPlus(_,1),d-2),D=yl(l.borderRadius);Object.values(D).some(M=>M!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Od(t,{x:S,y:E,w:d,h,radius:D}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Od(t,{x:T,y:E+1,w:d-2,h:h-2,radius:D}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(S,E,d,h),t.strokeRect(S,E,d,h),t.fillStyle=l.backgroundColor,t.fillRect(T,E+1,d-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:d,boxPadding:p}=i,y=vn(i.bodyFont);let _=y.lineHeight,x=0;const E=Fc(i.rtl,this.x,this.width),S=function(R){n.fillText(R,E.x(t.x+x),t.y+_/2),t.y+=_+r},T=E.textAlign(l);let D,M,N,U,P,G,C;for(n.textAlign=l,n.textBaseline="middle",n.font=y.string,t.x=Yp(this,T,i),n.fillStyle=i.bodyColor,xe(this.beforeBody,S),x=c&&T!=="right"?l==="center"?d/2+p:d+2+p:0,U=0,G=s.length;U<G;++U){for(D=s[U],M=this.labelTextColors[U],n.fillStyle=M,xe(D.before,S),N=D.lines,c&&N.length&&(this._drawColorBox(n,t,U,E,i),_=Math.max(y.lineHeight,h)),P=0,C=N.length;P<C;++P)S(N[P]),_=y.lineHeight;xe(D.after,S)}x=0,_=y.lineHeight,xe(this.afterBody,S),t.y-=r}drawFooter(t,n,i){const s=this.footer,r=s.length;let l,c;if(r){const h=Fc(i.rtl,this.x,this.width);for(t.x=Yp(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=h.textAlign(i.footerAlign),n.textBaseline="middle",l=vn(i.footerFont),n.fillStyle=i.footerColor,n.font=l.string,c=0;c<r;++c)n.fillText(s[c],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:r,yAlign:l}=this,{x:c,y:h}=t,{width:d,height:p}=i,{topLeft:y,topRight:_,bottomLeft:x,bottomRight:E}=yl(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+y,h),l==="top"&&this.drawCaret(t,n,i,s),n.lineTo(c+d-_,h),n.quadraticCurveTo(c+d,h,c+d,h+_),l==="center"&&r==="right"&&this.drawCaret(t,n,i,s),n.lineTo(c+d,h+p-E),n.quadraticCurveTo(c+d,h+p,c+d-E,h+p),l==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(c+x,h+p),n.quadraticCurveTo(c,h+p,c,h+p-x),l==="center"&&r==="left"&&this.drawCaret(t,n,i,s),n.lineTo(c,h+y),n.quadraticCurveTo(c,h,c+y,h),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const l=Yh[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=Tk(this,t),h=Object.assign({},l,this._size),d=Ak(n,t,h),p=kk(t,h,d,n);(s._to!==p.x||r._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Zn(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,n),FI(t,n.textDirection),r.y+=l.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),BI(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:c,index:h})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[h],index:h}}),r=!sm(i,s),l=this._positionChanged(s,n);(r||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],l=this._getActiveElements(t,r,n,i),c=this._positionChanged(l,t),h=n||!sm(l,r)||c;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),h}_getActiveElements(t,n,i,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:i,caretY:s,options:r}=this,l=Yh[r.position].call(this,t,n);return l!==!1&&(i!==l.x||s!==l.y)}}xt(K0,"positioners",Yh);var kW={id:"tooltip",_element:K0,positioners:Yh,afterInit(e,t,n){n&&(e.tooltip=new K0({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:pO},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},RW=Object.freeze({__proto__:null,Colors:z7,Decimation:q7,Filler:uW,Legend:mW,SubTitle:bW,Title:_W,Tooltip:kW});const CW=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function DW(e,t,n,i){const s=e.indexOf(t);if(s===-1)return CW(e,t,n,i);const r=e.lastIndexOf(t);return s!==r?n:s}const MW=(e,t)=>e===null?null:Bn(Math.round(e),0,t);function Dk(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class X0 extends Ol{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Yt(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:DW(i,t,$t(n,t),this._addedLabels),MW(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=n;l++)s.push({value:l});return s}getLabelForValue(t){return Dk.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}xt(X0,"id","category"),xt(X0,"defaults",{ticks:{callback:Dk}});function IW(e,t){const n=[],{bounds:s,step:r,min:l,max:c,precision:h,count:d,maxTicks:p,maxDigits:y,includeBounds:_}=e,x=r||1,E=p-1,{min:S,max:T}=t,D=!Yt(l),M=!Yt(c),N=!Yt(d),U=(T-S)/(y+1);let P=TA((T-S)/E/x)*x,G,C,R,O;if(P<1e-14&&!D&&!M)return[{value:S},{value:T}];O=Math.ceil(T/P)-Math.floor(S/P),O>E&&(P=TA(O*P/E/x)*x),Yt(h)||(G=Math.pow(10,h),P=Math.ceil(P*G)/G),s==="ticks"?(C=Math.floor(S/P)*P,R=Math.ceil(T/P)*P):(C=S,R=T),D&&M&&r&&Sq((c-l)/r,P/1e3)?(O=Math.round(Math.min((c-l)/P,p)),P=(c-l)/O,C=l,R=c):N?(C=D?l:C,R=M?c:R,O=d-1,P=(R-C)/O):(O=(R-C)/P,sd(O,Math.round(O),P/1e3)?O=Math.round(O):O=Math.ceil(O));const V=Math.max(AA(P),AA(C));G=Math.pow(10,Yt(h)?V:h),C=Math.round(C*G)/G,R=Math.round(R*G)/G;let $=0;for(D&&(_&&C!==l?(n.push({value:l}),C<l&&$++,sd(Math.round((C+$*P)*G)/G,l,Mk(l,U,e))&&$++):C<l&&$++);$<O;++$){const H=Math.round((C+$*P)*G)/G;if(M&&H>c)break;n.push({value:H})}return M&&_&&R!==c?n.length&&sd(n[n.length-1].value,c,Mk(c,U,e))?n[n.length-1].value=c:n.push({value:c}):(!M||R===c)&&n.push({value:R}),n}function Mk(e,t,{horizontal:n,minRotation:i}){const s=vs(i),r=(n?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+e).length;return Math.min(t/r,l)}class hm extends Ol{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Yt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const l=h=>s=n?s:h,c=h=>r=i?r:h;if(t){const h=sr(s),d=sr(r);h<0&&d<0?c(0):h>0&&d>0&&l(0)}if(s===r){let h=r===0?1:Math.abs(r*.05);c(r+h),t||l(s-h)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,l=IW(s,r);return t.bounds==="ticks"&&SI(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return tf(t,this.chart.options.locale,this.options.ticks.format)}}class Q0 extends hm{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=en(t)?t:0,this.max=en(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=vs(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}xt(Q0,"id","linear"),xt(Q0,"defaults",{ticks:{callback:Gm.formatters.numeric}});const Nd=e=>Math.floor(Qa(e)),il=(e,t)=>Math.pow(10,Nd(e)+t);function Ik(e){return e/Math.pow(10,Nd(e))===1}function Ok(e,t,n){const i=Math.pow(10,n),s=Math.floor(e/i);return Math.ceil(t/i)-s}function OW(e,t){const n=t-e;let i=Nd(n);for(;Ok(e,t,i)>10;)i++;for(;Ok(e,t,i)<10;)i--;return Math.min(i,Nd(e))}function PW(e,{min:t,max:n}){t=ji(e.min,t);const i=[],s=Nd(t);let r=OW(t,n),l=r<0?Math.pow(10,Math.abs(r)):1;const c=Math.pow(10,r),h=s>r?Math.pow(10,s):0,d=Math.round((t-h)*l)/l,p=Math.floor((t-h)/c/10)*c*10;let y=Math.floor((d-p)/Math.pow(10,r)),_=ji(e.min,Math.round((h+p+y*Math.pow(10,r))*l)/l);for(;_<n;)i.push({value:_,major:Ik(_),significand:y}),y>=10?y=y<15?15:20:y++,y>=20&&(r++,y=2,l=r>=0?1:l),_=Math.round((h+p+y*Math.pow(10,r))*l)/l;const x=ji(e.max,_);return i.push({value:x,major:Ik(x),significand:y}),i}class Z0 extends Ol{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=hm.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return en(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=en(t)?Math.max(0,t):null,this.max=en(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!en(this._userMin)&&(this.min=t===il(this.min,0)?il(this.min,-1):il(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=c=>i=t?i:c,l=c=>s=n?s:c;i===s&&(i<=0?(r(1),l(10)):(r(il(i,-1)),l(il(s,1)))),i<=0&&r(il(s,-1)),s<=0&&l(il(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=PW(n,this);return t.bounds==="ticks"&&SI(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":tf(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Qa(t),this._valueRange=Qa(this.max)-Qa(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Qa(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}xt(Z0,"id","logarithmic"),xt(Z0,"defaults",{ticks:{callback:Gm.formatters.logarithmic,major:{enabled:!0}}});function J0(e){const t=e.ticks;if(t.display&&e.display){const n=Zn(t.backdropPadding);return $t(t.font&&t.font.size,ze.font.size)+n.height}return 0}function NW(e,t,n){return n=Ve(n)?n:[n],{w:Fq(e,t.string,n),h:n.length*t.lineHeight}}function Pk(e,t,n,i,s){return e===i||e===s?{start:t-n/2,end:t+n/2}:e<i||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function LW(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],s=[],r=e._pointLabels.length,l=e.options.pointLabels,c=l.centerPointLabels?ge/r:0;for(let h=0;h<r;h++){const d=l.setContext(e.getPointLabelContext(h));s[h]=d.padding;const p=e.getPointPosition(h,e.drawingArea+s[h],c),y=vn(d.font),_=NW(e.ctx,y,e._pointLabels[h]);i[h]=_;const x=ai(e.getIndexAngle(h)+c),E=Math.round(Ax(x)),S=Pk(E,p.x,_.w,0,180),T=Pk(E,p.y,_.h,90,270);jW(n,t,x,S,T)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=zW(e,i,s)}function jW(e,t,n,i,s){const r=Math.abs(Math.sin(n)),l=Math.abs(Math.cos(n));let c=0,h=0;i.start<t.l?(c=(t.l-i.start)/r,e.l=Math.min(e.l,t.l-c)):i.end>t.r&&(c=(i.end-t.r)/r,e.r=Math.max(e.r,t.r+c)),s.start<t.t?(h=(t.t-s.start)/l,e.t=Math.min(e.t,t.t-h)):s.end>t.b&&(h=(s.end-t.b)/l,e.b=Math.max(e.b,t.b+h))}function VW(e,t,n){const i=e.drawingArea,{extra:s,additionalAngle:r,padding:l,size:c}=n,h=e.getPointPosition(t,i+s+l,r),d=Math.round(Ax(ai(h.angle+ln))),p=$W(h.y,c.h,d),y=FW(d),_=BW(h.x,c.w,y);return{visible:!0,x:h.x,y:p,textAlign:y,left:_,top:p,right:_+c.w,bottom:p+c.h}}function UW(e,t){if(!t)return!0;const{left:n,top:i,right:s,bottom:r}=e;return!(Zr({x:n,y:i},t)||Zr({x:n,y:r},t)||Zr({x:s,y:i},t)||Zr({x:s,y:r},t))}function zW(e,t,n){const i=[],s=e._pointLabels.length,r=e.options,{centerPointLabels:l,display:c}=r.pointLabels,h={extra:J0(r)/2,additionalAngle:l?ge/s:0};let d;for(let p=0;p<s;p++){h.padding=n[p],h.size=t[p];const y=VW(e,p,h);i.push(y),c==="auto"&&(y.visible=UW(y,d),y.visible&&(d=y))}return i}function FW(e){return e===0||e===180?"center":e<180?"left":"right"}function BW(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function $W(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function qW(e,t,n){const{left:i,top:s,right:r,bottom:l}=n,{backdropColor:c}=t;if(!Yt(c)){const h=yl(t.borderRadius),d=Zn(t.backdropPadding);e.fillStyle=c;const p=i-d.left,y=s-d.top,_=r-i+d.width,x=l-s+d.height;Object.values(h).some(E=>E!==0)?(e.beginPath(),Od(e,{x:p,y,w:_,h:x,radius:h}),e.fill()):e.fillRect(p,y,_,x)}}function HW(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){const r=e._pointLabelItems[s];if(!r.visible)continue;const l=i.setContext(e.getPointLabelContext(s));qW(n,l,r);const c=vn(l.font),{x:h,y:d,textAlign:p}=r;Rl(n,e._pointLabels[s],h,d+c.lineHeight/2,c,{color:l.color,textAlign:p,textBaseline:"middle"})}}function gO(e,t,n,i){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,Ue);else{let r=e.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let l=1;l<i;l++)r=e.getPointPosition(l,t),s.lineTo(r.x,r.y)}}function WW(e,t,n,i,s){const r=e.ctx,l=t.circular,{color:c,lineWidth:h}=t;!l&&!i||!c||!h||n<0||(r.save(),r.strokeStyle=c,r.lineWidth=h,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),gO(e,n,l,i),r.closePath(),r.stroke(),r.restore())}function YW(e,t,n){return Eo(e,{label:n,index:t,type:"pointLabel"})}class Gh extends hm{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Zn(J0(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=en(t)&&!isNaN(t)?t:0,this.max=en(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/J0(this.options))}generateTickLabels(t){hm.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const s=De(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?LW(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,s){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,s))}getIndexAngle(t){const n=Ue/(this._pointLabels.length||1),i=this.options.startAngle||0;return ai(t*n+vs(i))}getDistanceFromCenterForValue(t){if(Yt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Yt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return YW(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const s=this.getIndexAngle(t)-ln+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),gO(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,l=this._pointLabels.length;let c,h,d;if(n.pointLabels.display&&HW(this,l),s.display&&this.ticks.forEach((p,y)=>{if(y!==0||y===0&&this.min<0){h=this.getDistanceFromCenterForValue(p.value);const _=this.getContext(y),x=s.setContext(_),E=r.setContext(_);WW(this,x,h,l,E)}}),i.display){for(t.save(),c=l-1;c>=0;c--){const p=i.setContext(this.getPointLabelContext(c)),{color:y,lineWidth:_}=p;!_||!y||(t.lineWidth=_,t.strokeStyle=y,t.setLineDash(p.borderDash),t.lineDashOffset=p.borderDashOffset,h=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),d=this.getPointPosition(c,h),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,h)=>{if(h===0&&this.min>=0&&!n.reverse)return;const d=i.setContext(this.getContext(h)),p=vn(d.font);if(r=this.getDistanceFromCenterForValue(this.ticks[h].value),d.showLabelBackdrop){t.font=p.string,l=t.measureText(c.label).width,t.fillStyle=d.backdropColor;const y=Zn(d.backdropPadding);t.fillRect(-l/2-y.left,-r-p.size/2-y.top,l+y.width,p.size+y.height)}Rl(t,c.label,0,-r,p,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}xt(Gh,"id","radialLinear"),xt(Gh,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Gm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),xt(Gh,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),xt(Gh,"descriptors",{angleLines:{_fallback:"grid"}});const ty={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ai=Object.keys(ty);function Nk(e,t){return e-t}function Lk(e,t){if(Yt(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:r}=e._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),en(l)||(l=typeof i=="string"?n.parse(l,i):n.parse(l)),l===null?null:(s&&(l=s==="week"&&(iu(r)||r===!0)?n.startOf(l,"isoWeek",r):n.startOf(l,s)),+l)}function jk(e,t,n,i){const s=Ai.length;for(let r=Ai.indexOf(e);r<s-1;++r){const l=ty[Ai[r]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-t)/(c*l.size))<=i)return Ai[r]}return Ai[s-1]}function GW(e,t,n,i,s){for(let r=Ai.length-1;r>=Ai.indexOf(n);r--){const l=Ai[r];if(ty[l].common&&e._adapter.diff(s,i,l)>=t-1)return l}return Ai[n?Ai.indexOf(n):0]}function KW(e){for(let t=Ai.indexOf(e)+1,n=Ai.length;t<n;++t)if(ty[Ai[t]].common)return Ai[t]}function Vk(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=kx(n,t),r=n[i]>=t?n[i]:n[s];e[r]=!0}}function XW(e,t,n,i){const s=e._adapter,r=+s.startOf(t[0].value,i),l=t[t.length-1].value;let c,h;for(c=r;c<=l;c=+s.add(c,1,i))h=n[c],h>=0&&(t[h].major=!0);return t}function Uk(e,t,n){const i=[],s={},r=t.length;let l,c;for(l=0;l<r;++l)c=t[l],s[c]=l,i.push({value:c,major:!1});return r===0||!n?i:XW(e,i,s,n)}class Ld extends Ol{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new sH._date(t.adapters.date);s.init(n),id(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Lk(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:r,minDefined:l,maxDefined:c}=this.getUserBounds();function h(d){!l&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(r=Math.max(r,d.max))}(!l||!c)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=en(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=en(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,l=this.max,c=Rq(s,r,l);return this._unit=n.unit||(i.autoSkip?jk(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):GW(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:KW(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),Uk(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=Bn(n,0,l),i=Bn(i,0,l),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,l=r.unit||jk(r.minUnit,n,i,this._getLabelCapacity(n)),c=$t(s.ticks.stepSize,1),h=l==="week"?r.isoWeekday:!1,d=iu(h)||h===!0,p={};let y=n,_,x;if(d&&(y=+t.startOf(y,"isoWeek",h)),y=+t.startOf(y,d?"day":l),t.diff(i,n,l)>1e5*c)throw new Error(n+" and "+i+" are too far apart with stepSize of "+c+" "+l);const E=s.ticks.source==="data"&&this.getDataTimestamps();for(_=y,x=0;_<i;_=+t.add(_,c,l),x++)Vk(p,_,E);return(_===i||s.bounds==="ticks"||x===1)&&Vk(p,_,E),Object.keys(p).sort(Nk).map(S=>+S)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,r=this._unit,l=n||s[r];return this._adapter.format(t,l)}_tickFormatFunction(t,n,i,s){const r=this.options,l=r.ticks.callback;if(l)return De(l,[t,n,i],this);const c=r.time.displayFormats,h=this._unit,d=this._majorUnit,p=h&&c[h],y=d&&c[d],_=i[n],x=d&&y&&_&&_.major;return this._adapter.format(t,s||(x?y:p))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=vs(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*r+c*l,h:i*l+c*r}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(t,0,Uk(this,[t],this._majorUnit),s),l=this._getLabelSize(r),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(Lk(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return kI(t.sort(Nk))}}xt(Ld,"id","time"),xt(Ld,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Gp(e,t,n){let i=0,s=e.length-1,r,l,c,h;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=Qr(e,"pos",t)),{pos:r,time:c}=e[i],{pos:l,time:h}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=Qr(e,"time",t)),{time:r,pos:c}=e[i],{time:l,pos:h}=e[s]);const d=l-r;return d?c+(h-c)*(t-r)/d:c}class tv extends Ld{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Gp(n,this.min),this._tableRange=Gp(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],r=[];let l,c,h,d,p;for(l=0,c=t.length;l<c;++l)d=t[l],d>=n&&d<=i&&s.push(d);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(l=0,c=s.length;l<c;++l)p=s[l+1],h=s[l-1],d=s[l],Math.round((p+h)/2)!==d&&r.push({time:d,pos:l/(c-1)});return r}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Gp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Gp(this._table,i*this._tableRange+this._minPos,!0)}}xt(tv,"id","timeseries"),xt(tv,"defaults",Ld.defaults);var QW=Object.freeze({__proto__:null,CategoryScale:X0,LinearScale:Q0,LogarithmicScale:Z0,RadialLinearScale:Gh,TimeScale:Ld,TimeSeriesScale:tv});const ZW=[iH,O7,RW,QW];/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var zk=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),ud={toTextLines:function(e){var t=[],n;for(e=[].concat(e);e.length;)n=e.pop(),typeof n=="string"?t.unshift.apply(t,n.split(`
`)):Array.isArray(n)?e.push.apply(e,n):Yt(e)||t.unshift(""+n);return t},textSize:function(e,t,n){var i=[].concat(t),s=i.length,r=e.font,l=0,c;for(e.font=n.string,c=0;c<s;++c)l=Math.max(e.measureText(i[c]).width,l);return e.font=r,{height:s*n.lineHeight,width:l}},bound:function(e,t,n){return Math.max(e,Math.min(t,n))},arrayDiff:function(e,t){var n=e.slice(),i=[],s,r,l,c;for(s=0,l=t.length;s<l;++s)c=t[s],r=n.indexOf(c),r===-1?i.push([c,1]):n.splice(r,1);for(s=0,l=n.length;s<l;++s)i.push([n[s],-1]);return i},rasterize:function(e){return Math.round(e*zk)/zk}};function $b(e,t){var n=t.x,i=t.y;if(n===null)return{x:0,y:-1};if(i===null)return{x:1,y:0};var s=e.x-n,r=e.y-i,l=Math.sqrt(s*s+r*r);return{x:l?s/l:0,y:l?r/l:-1}}function JW(e,t,n,i,s){switch(s){case"center":n=i=0;break;case"bottom":n=0,i=1;break;case"right":n=1,i=0;break;case"left":n=-1,i=0;break;case"top":n=0,i=-1;break;case"start":n=-n,i=-i;break;case"end":break;default:s*=Math.PI/180,n=Math.cos(s),i=Math.sin(s);break}return{x:e,y:t,vx:n,vy:i}}var tY=0,mO=1,yO=2,_O=4,bO=8;function Kp(e,t,n){var i=tY;return e<n.left?i|=mO:e>n.right&&(i|=yO),t<n.top?i|=bO:t>n.bottom&&(i|=_O),i}function eY(e,t){for(var n=e.x0,i=e.y0,s=e.x1,r=e.y1,l=Kp(n,i,t),c=Kp(s,r,t),h,d,p;!(!(l|c)||l&c);)h=l||c,h&bO?(d=n+(s-n)*(t.top-i)/(r-i),p=t.top):h&_O?(d=n+(s-n)*(t.bottom-i)/(r-i),p=t.bottom):h&yO?(p=i+(r-i)*(t.right-n)/(s-n),d=t.right):h&mO&&(p=i+(r-i)*(t.left-n)/(s-n),d=t.left),h===l?(n=d,i=p,l=Kp(n,i,t)):(s=d,r=p,c=Kp(s,r,t));return{x0:n,x1:s,y0:i,y1:r}}function Xp(e,t){var n=t.anchor,i=e,s,r;return t.clamp&&(i=eY(i,t.area)),n==="start"?(s=i.x0,r=i.y0):n==="end"?(s=i.x1,r=i.y1):(s=(i.x0+i.x1)/2,r=(i.y0+i.y1)/2),JW(s,r,e.vx,e.vy,t.align)}var Qp={arc:function(e,t){var n=(e.startAngle+e.endAngle)/2,i=Math.cos(n),s=Math.sin(n),r=e.innerRadius,l=e.outerRadius;return Xp({x0:e.x+i*r,y0:e.y+s*r,x1:e.x+i*l,y1:e.y+s*l,vx:i,vy:s},t)},point:function(e,t){var n=$b(e,t.origin),i=n.x*e.options.radius,s=n.y*e.options.radius;return Xp({x0:e.x-i,y0:e.y-s,x1:e.x+i,y1:e.y+s,vx:n.x,vy:n.y},t)},bar:function(e,t){var n=$b(e,t.origin),i=e.x,s=e.y,r=0,l=0;return e.horizontal?(i=Math.min(e.x,e.base),r=Math.abs(e.base-e.x)):(s=Math.min(e.y,e.base),l=Math.abs(e.base-e.y)),Xp({x0:i,y0:s+l,x1:i+r,y1:s,vx:n.x,vy:n.y},t)},fallback:function(e,t){var n=$b(e,t.origin);return Xp({x0:e.x,y0:e.y,x1:e.x+(e.width||0),y1:e.y+(e.height||0),vx:n.x,vy:n.y},t)}},Jr=ud.rasterize;function nY(e){var t=e.borderWidth||0,n=e.padding,i=e.size.height,s=e.size.width,r=-s/2,l=-i/2;return{frame:{x:r-n.left-t,y:l-n.top-t,w:s+n.width+t*2,h:i+n.height+t*2},text:{x:r,y:l,w:s,h:i}}}function iY(e,t){var n=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var i=n.getBasePixel();return e.horizontal?{x:i,y:null}:{x:null,y:i}}function sY(e){return e instanceof Pc?Qp.arc:e instanceof ld?Qp.point:e instanceof cd?Qp.bar:Qp.fallback}function rY(e,t,n,i,s,r){var l=Math.PI/2;if(r){var c=Math.min(r,s/2,i/2),h=t+c,d=n+c,p=t+i-c,y=n+s-c;e.moveTo(t,d),h<p&&d<y?(e.arc(h,d,c,-Math.PI,-l),e.arc(p,d,c,-l,0),e.arc(p,y,c,0,l),e.arc(h,y,c,l,Math.PI)):h<p?(e.moveTo(h,n),e.arc(p,d,c,-l,l),e.arc(h,d,c,l,Math.PI+l)):d<y?(e.arc(h,d,c,-Math.PI,0),e.arc(h,y,c,0,Math.PI)):e.arc(h,d,c,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,i,s)}function aY(e,t,n){var i=n.backgroundColor,s=n.borderColor,r=n.borderWidth;!i&&(!s||!r)||(e.beginPath(),rY(e,Jr(t.x)+r/2,Jr(t.y)+r/2,Jr(t.w)-r,Jr(t.h)-r,n.borderRadius),e.closePath(),i&&(e.fillStyle=i,e.fill()),s&&r&&(e.strokeStyle=s,e.lineWidth=r,e.lineJoin="miter",e.stroke()))}function oY(e,t,n){var i=n.lineHeight,s=e.w,r=e.x,l=e.y+i/2;return t==="center"?r+=s/2:(t==="end"||t==="right")&&(r+=s),{h:i,w:s,x:r,y:l}}function lY(e,t,n){var i=e.shadowBlur,s=n.stroked,r=Jr(n.x),l=Jr(n.y),c=Jr(n.w);s&&e.strokeText(t,r,l,c),n.filled&&(i&&s&&(e.shadowBlur=0),e.fillText(t,r,l,c),i&&s&&(e.shadowBlur=i))}function cY(e,t,n,i){var s=i.textAlign,r=i.color,l=!!r,c=i.font,h=t.length,d=i.textStrokeColor,p=i.textStrokeWidth,y=d&&p,_;if(!(!h||!l&&!y))for(n=oY(n,s,c),e.font=c.string,e.textAlign=s,e.textBaseline="middle",e.shadowBlur=i.textShadowBlur,e.shadowColor=i.textShadowColor,l&&(e.fillStyle=r),y&&(e.lineJoin="round",e.lineWidth=p,e.strokeStyle=d),_=0,h=t.length;_<h;++_)lY(e,t[_],{stroked:y,filled:l,w:n.w,x:n.x,y:n.y+n.h*_})}var vO=function(e,t,n,i){var s=this;s._config=e,s._index=i,s._model=null,s._rects=null,s._ctx=t,s._el=n};ar(vO.prototype,{_modelize:function(e,t,n,i){var s=this,r=s._index,l=vn(je([n.font,{}],i,r)),c=je([n.color,ze.color],i,r);return{align:je([n.align,"center"],i,r),anchor:je([n.anchor,"center"],i,r),area:i.chart.chartArea,backgroundColor:je([n.backgroundColor,null],i,r),borderColor:je([n.borderColor,null],i,r),borderRadius:je([n.borderRadius,0],i,r),borderWidth:je([n.borderWidth,0],i,r),clamp:je([n.clamp,!1],i,r),clip:je([n.clip,!1],i,r),color:c,display:e,font:l,lines:t,offset:je([n.offset,4],i,r),opacity:je([n.opacity,1],i,r),origin:iY(s._el,i),padding:Zn(je([n.padding,4],i,r)),positioner:sY(s._el),rotation:je([n.rotation,0],i,r)*(Math.PI/180),size:ud.textSize(s._ctx,t,l),textAlign:je([n.textAlign,"start"],i,r),textShadowBlur:je([n.textShadowBlur,0],i,r),textShadowColor:je([n.textShadowColor,c],i,r),textStrokeColor:je([n.textStrokeColor,c],i,r),textStrokeWidth:je([n.textStrokeWidth,0],i,r)}},update:function(e){var t=this,n=null,i=null,s=t._index,r=t._config,l,c,h,d=je([r.display,!0],e,s);d&&(l=e.dataset.data[s],c=$t(De(r.formatter,[l,e]),l),h=Yt(c)?[]:ud.toTextLines(c),h.length&&(n=t._modelize(d,h,r,e),i=nY(n))),t._model=n,t._rects=i},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var n=this,i=e.ctx,s=n._model,r=n._rects,l;this.visible()&&(i.save(),s.clip&&(l=s.area,i.beginPath(),i.rect(l.left,l.top,l.right-l.left,l.bottom-l.top),i.clip()),i.globalAlpha=ud.bound(0,s.opacity,1),i.translate(Jr(t.x),Jr(t.y)),i.rotate(s.rotation),aY(i,r.frame,s),cY(i,s.lines,r.text,s),i.restore())}});var uY=Number.MIN_SAFE_INTEGER||-9007199254740991,hY=Number.MAX_SAFE_INTEGER||9007199254740991;function Oh(e,t,n){var i=Math.cos(n),s=Math.sin(n),r=t.x,l=t.y;return{x:r+i*(e.x-r)-s*(e.y-l),y:l+s*(e.x-r)+i*(e.y-l)}}function Fk(e,t){var n=hY,i=uY,s=t.origin,r,l,c,h,d;for(r=0;r<e.length;++r)l=e[r],c=l.x-s.x,h=l.y-s.y,d=t.vx*c+t.vy*h,n=Math.min(n,d),i=Math.max(i,d);return{min:n,max:i}}function Zp(e,t){var n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);return{vx:(t.x-e.x)/s,vy:(t.y-e.y)/s,origin:e,ln:s}}var xO=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};ar(xO.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,n){this._rotation=n,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,n=1,i=t._rect;return e=Oh(e,t.center(),-t._rotation),!(e.x<i.x-n||e.y<i.y-n||e.x>i.x+i.w+n*2||e.y>i.y+i.h+n*2)},intersects:function(e){var t=this._points(),n=e._points(),i=[Zp(t[0],t[1]),Zp(t[0],t[3])],s,r,l;for(this._rotation!==e._rotation&&i.push(Zp(n[0],n[1]),Zp(n[0],n[3])),s=0;s<i.length;++s)if(r=Fk(t,i[s]),l=Fk(n,i[s]),r.max<l.min||l.max<r.min)return!1;return!0},_points:function(){var e=this,t=e._rect,n=e._rotation,i=e.center();return[Oh({x:t.x,y:t.y},i,n),Oh({x:t.x+t.w,y:t.y},i,n),Oh({x:t.x+t.w,y:t.y+t.h},i,n),Oh({x:t.x,y:t.y+t.h},i,n)]}});function wO(e,t,n){var i=t.positioner(e,t),s=i.vx,r=i.vy;if(!s&&!r)return{x:i.x,y:i.y};var l=n.w,c=n.h,h=t.rotation,d=Math.abs(l/2*Math.cos(h))+Math.abs(c/2*Math.sin(h)),p=Math.abs(l/2*Math.sin(h))+Math.abs(c/2*Math.cos(h)),y=1/Math.max(Math.abs(s),Math.abs(r));return d*=s*y,p*=r*y,d+=t.offset*s,p+=t.offset*r,{x:i.x+d,y:i.y+p}}function dY(e,t){var n,i,s,r;for(n=e.length-1;n>=0;--n)for(s=e[n].$layout,i=n-1;i>=0&&s._visible;--i)r=e[i].$layout,r._visible&&s._box.intersects(r._box)&&t(s,r);return e}function fY(e){var t,n,i,s,r,l,c;for(t=0,n=e.length;t<n;++t)i=e[t],s=i.$layout,s._visible&&(c=new Proxy(i._el,{get:(h,d)=>h.getProps([d],!0)[d]}),r=i.geometry(),l=wO(c,i.model(),r),s._box.update(l,r,i.rotation()));return dY(e,function(h,d){var p=h._hidable,y=d._hidable;p&&y||y?d._visible=!1:p&&(h._visible=!1)})}var hd={prepare:function(e){var t=[],n,i,s,r,l;for(n=0,s=e.length;n<s;++n)for(i=0,r=e[n].length;i<r;++i)l=e[n][i],t.push(l),l.$layout={_box:new xO,_hidable:!1,_visible:!0,_set:n,_idx:l._index};return t.sort(function(c,h){var d=c.$layout,p=h.$layout;return d._idx===p._idx?p._set-d._set:p._idx-d._idx}),this.update(t),t},update:function(e){var t=!1,n,i,s,r,l;for(n=0,i=e.length;n<i;++n)s=e[n],r=s.model(),l=s.$layout,l._hidable=r&&r.display==="auto",l._visible=s.visible(),t|=l._hidable;t&&fY(e)},lookup:function(e,t){var n,i;for(n=e.length-1;n>=0;--n)if(i=e[n].$layout,i&&i._visible&&i._box.contains(t))return e[n];return null},draw:function(e,t){var n,i,s,r,l,c;for(n=0,i=t.length;n<i;++n)s=t[n],r=s.$layout,r._visible&&(l=s.geometry(),c=wO(s._el,s.model(),l),r._box.update(c,l,s.rotation()),s.draw(e,c))}},pY=function(e){if(Yt(e))return null;var t=e,n,i,s;if(se(e))if(!Yt(e.label))t=e.label;else if(!Yt(e.r))t=e.r;else for(t="",n=Object.keys(e),s=0,i=n.length;s<i;++s)t+=(s!==0?", ":"")+n[s]+": "+e[n[s]];return""+t},gY={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:pY,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},Ei="$datalabels",EO="$default";function mY(e,t){var n=e.datalabels,i={},s=[],r,l;return n===!1?null:(n===!0&&(n={}),t=ar({},[t,n]),r=t.labels||{},l=Object.keys(r),delete t.labels,l.length?l.forEach(function(c){r[c]&&s.push(ar({},[t,r[c],{_key:c}]))}):s.push(t),i=s.reduce(function(c,h){return xe(h.listeners||{},function(d,p){c[p]=c[p]||{},c[p][h._key||EO]=d}),delete h.listeners,c},{}),{labels:s,listeners:i})}function ev(e,t,n,i){if(t){var s=n.$context,r=n.$groups,l;t[r._set]&&(l=t[r._set][r._key],l&&De(l,[s,i])===!0&&(e[Ei]._dirty=!0,n.update(s)))}}function yY(e,t,n,i,s){var r,l;!n&&!i||(n?i?n!==i&&(l=r=!0):l=!0:r=!0,l&&ev(e,t.leave,n,s),r&&ev(e,t.enter,i,s))}function _Y(e,t){var n=e[Ei],i=n._listeners,s,r;if(!(!i.enter&&!i.leave)){if(t.type==="mousemove")r=hd.lookup(n._labels,t);else if(t.type!=="mouseout")return;s=n._hovered,n._hovered=r,yY(e,i,s,r,t)}}function bY(e,t){var n=e[Ei],i=n._listeners.click,s=i&&hd.lookup(n._labels,t);s&&ev(e,i,s,t)}var vY={id:"datalabels",defaults:gY,beforeInit:function(e){e[Ei]={_actives:[]}},beforeUpdate:function(e){var t=e[Ei];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,n){var i=t.index,s=e[Ei],r=s._datasets[i]=[],l=e.isDatasetVisible(i),c=e.data.datasets[i],h=mY(c,n),d=t.meta.data||[],p=e.ctx,y,_,x,E,S,T,D,M;for(p.save(),y=0,x=d.length;y<x;++y)if(D=d[y],D[Ei]=[],l&&D&&e.getDataVisibility(y)&&!D.skip)for(_=0,E=h.labels.length;_<E;++_)S=h.labels[_],T=S._key,M=new vO(S,p,D,y),M.$groups={_set:i,_key:T||EO},M.$context={active:!1,chart:e,dataIndex:y,dataset:c,datasetIndex:i},M.update(M.$context),D[Ei].push(M),r.push(M);p.restore(),ar(s._listeners,h.listeners,{merger:function(N,U,P){U[N]=U[N]||{},U[N][t.index]=P[N],s._listened=!0}})},afterUpdate:function(e){e[Ei]._labels=hd.prepare(e[Ei]._datasets)},afterDatasetsDraw:function(e){hd.draw(e,e[Ei]._labels)},beforeEvent:function(e,t){if(e[Ei]._listened){var n=t.event;switch(n.type){case"mousemove":case"mouseout":_Y(e,n);break;case"click":bY(e,n);break}}},afterEvent:function(e){var t=e[Ei],n=t._actives,i=t._actives=e.getActiveElements(),s=ud.arrayDiff(n,i),r,l,c,h,d,p,y;for(r=0,l=s.length;r<l;++r)if(d=s[r],d[1])for(y=d[0].element[Ei]||[],c=0,h=y.length;c<h;++c)p=y[c],p.$context.active=d[1]===1,p.update(p.$context);(t._dirty||s.length)&&(hd.update(t._labels),e.render()),delete t._dirty}};_i.register(...ZW,vY);const Jp=["#4e79a7","#ff9da7","#59a14f","#9c755f","#edc949","#e15759","#76b7b2","#f28e2b","#af7aa1","#bab0ab"],xY={nsmall:812},nv=e=>String(e??"").replace(/\s+/g,"").toLowerCase(),qb=e=>["nsmall","n-small"].includes(nv(e.company));function tg(e){const t=[e.request_date,e.open_date,e.created_date,e.designer_start_date,e.designer_end_date];for(const n of t){if(!n)continue;if(typeof(n==null?void 0:n.toDate)=="function")return n.toDate().getTime();if(n instanceof Date)return n.getTime();const i=new Date(n).getTime();if(!Number.isNaN(i))return i}return null}const Bk=e=>e.reduce((t,n)=>t+(+n||0),0);function eg(e){const t=new Map;for(const n of e){const i=n&&String(n).trim()||"기타";t.set(i,(t.get(i)||0)+1)}return Array.from(t,([n,i])=>({name:n,value:i}))}function ng(e){if(!e)return"대기";const t=e.replace(/\s/g,"");return/(진행)/.test(t)?"진행중":/(검수중)/.test(t)?"검수중":/(검수요청)/.test(t)?"검수요청":/(완료)/.test(t)?"완료":/(취소|cancel)/i.test(t)?"취소":/(대기)/.test(t)?"대기":e}const ig=e=>{const t=new Date(e).getDay();return t===0||t===6},Hb=e=>{const t=new Date(e);return`${t.getFullYear()}.${String(t.getMonth()+1).padStart(2,"0")}.${String(t.getDate()).padStart(2,"0")}`};function wY(e){const t=new Date(e),n=t.getDay(),i=n===0?-6:1-n,s=new Date(t);s.setDate(t.getDate()+i);const r=new Date(s);r.setDate(s.getDate()+4);const l=new Date(s.getFullYear(),s.getMonth(),s.getDate()).getTime(),c=new Date(r.getFullYear(),r.getMonth(),r.getDate(),23,59,59,999).getTime();return{start:l,end:c}}function EY(e){const t=new Date(e.getFullYear(),e.getMonth(),1),n=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:t.getTime(),end:n.getTime()}}function $k(e,t){let n=0,i=new Date(e);for(;i.getTime()<=t;){const s=i.getDay();s>=1&&s<=5&&n++,i.setDate(i.getDate()+1)}return n}function Vx({capacityHoursPerMonth:e}){var Et;const t=new Date,[n,i]=j.useState({y:t.getFullYear(),m:t.getMonth()+1}),[s]=j.useState(new Date),[r,l]=j.useState("day"),[c,h]=j.useState(null),[d,p]=j.useState(""),[y,_]=j.useState(!1),[x,E]=j.useState("nsmall");j.useEffect(()=>{const Y=wo(ci,async lt=>{if(!lt){h(null),p(""),_(!0);return}const ut=await Sl(An(Kt,"users",lt.uid));if(ut.exists()){const dt=ut.data();h(Number((dt==null?void 0:dt.role)??0)),p(String((dt==null?void 0:dt.company)??""));const St=nv(dt==null?void 0:dt.company);Number(dt==null?void 0:dt.role)===1&&(St==="homeplus"||St==="nsmall"||St==="n-small")&&E(St.startsWith("n")?"nsmall":"homeplus")}_(!0)});return()=>Y()},[]);const[S,T]=j.useState([]);j.useEffect(()=>{const Y=as(Rn(Ge(Kt,"design_request")),lt=>{const ut=[];lt.forEach(dt=>ut.push({id:dt.id,...dt.data()})),T(ut)});return()=>Y()},[]);const[D,M]=j.useState([]);j.useEffect(()=>{const Y=as(Rn(Ge(Kt,"users"),on("role","==",2)),lt=>{const ut=[];lt.forEach(dt=>{const St=dt.data();ut.push({name:String((St==null?void 0:St.name)??""),company:String((St==null?void 0:St.company)??"")})}),M(ut)});return()=>Y()},[]);const N=j.useMemo(()=>{const Y=new Date(n.y,n.m-1,1).getTime(),lt=new Date(n.y,n.m,0,23,59,59,999).getTime();return{start:Y,end:lt}},[n]),U=j.useMemo(()=>c===1?nv(d).startsWith("n")?"nsmall":"homeplus":x,[c,d,x]),P=j.useMemo(()=>U==="all"?[]:S.filter(Y=>{const lt=tg(Y),ut=lt!==null&&lt>=N.start&&lt<=N.end;let dt=!0;return U==="homeplus"?dt=!1:U==="nsmall"&&(dt=qb(Y)),ut&&dt}),[S,N,U]),G=j.useMemo(()=>{if(U==="all")return null;const Y=P.length,lt=P.filter(Ft=>ng(Ft.status)==="완료").length,ut=Bk(P.map(Ft=>Number(Ft.out_work_hour)||0)),dt=xY.nsmall,St=dt?Math.round(ut/dt*100):0;return{totalRequests:Y,producedCount:lt,usedHoursDisplay:ut.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),availHours:dt,usedRatio:St}},[P,U,e]),C=j.useMemo(()=>{if(U==="all")return[];const Y=eg(P.map(lt=>lt.task_type||lt.task_type_detail)).sort((lt,ut)=>ut.value-lt.value);return Y.length>8?[...Y.slice(0,8),{name:"기타",value:Y.slice(8).reduce((lt,ut)=>lt+ut.value,0)}]:Y},[P,U]),R=j.useMemo(()=>{if(U==="all")return[];const Y=["대기중","진행중","검수중","검수요청중","완료","취소"],lt=eg(P.map(dt=>ng(dt.status))),ut=new Map(lt.map(dt=>[dt.name,dt.value]));return Y.map(dt=>({name:dt,value:ut.get(dt)||0}))},[P,U]),O=j.useMemo(()=>U==="all"?[]:eg(P.map(Y=>Y.task_form)).sort((Y,lt)=>lt.value-Y.value),[P,U]),V=j.useMemo(()=>{if(U!=="all")return null;if(r==="day"){const St=new Date(s.getFullYear(),s.getMonth(),s.getDate()).getTime(),Ft=new Date(s.getFullYear(),s.getMonth(),s.getDate(),23,59,59,999).getTime(),Qt=ig(St)?0:1;return{start:St,end:Ft,workingDays:Qt,label:`${Hb(St)} (평일만)`}}if(r==="week"){const{start:St,end:Ft}=wY(s),Qt=$k(St,Ft);return{start:St,end:Ft,workingDays:Qt,label:`${Hb(St)} ~ ${Hb(Ft)} (주중)`}}const{start:Y,end:lt}=EY(s),ut=$k(Y,lt),dt=`${s.getFullYear()}.${String(s.getMonth()+1).padStart(2,"0")}`;return{start:Y,end:lt,workingDays:ut,label:`${dt} (평일만)`}},[U,r,s]),$=j.useMemo(()=>U!=="all"||!V?[]:S.filter(Y=>{const lt=tg(Y);return lt!==null&&lt>=V.start&&lt<=V.end&&!ig(lt)}),[S,V,U]),H=j.useMemo(()=>{if(U!=="all"||!V)return null;const Y=$.length,lt=$.filter(me=>ng(me.status)==="완료").length,ut=Bk($.map(me=>Number(me.in_work_hour)||0)),dt=D.length,St=r==="month"?20.3:V.workingDays,Ft=dt*St*8,Qt=Ft?Math.round(ut/Ft*100):0;return{totalRequests:Y,producedCount:lt,usedHoursDisplay:ut.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),availHours:Ft,usedRatio:Qt}},[$,D,V,U,r]),z=j.useMemo(()=>{if(U!=="all"||!V)return{labels:[],data:[]};const lt=S.filter(ut=>{const dt=tg(ut);return dt!==null&&dt>=V.start&&dt<=V.end&&!ig(dt)}).filter(qb).length;return{labels:["NSmall"],data:[lt]}},[S,V,U]);function Ct(Y){return(Array.isArray(Y.assigned_designers)?Y.assigned_designers:Y.assigned_designer?[Y.assigned_designer]:[]).map(ut=>String(ut||"").trim()).filter(ut=>ut&&ut!=="미지정"&&ut!=="미배정")}const Q=j.useMemo(()=>{if(U!=="all"||!V)return{labels:[],hpData:[],nsData:[]};const Y=new Map;for(const ut of S){const dt=tg(ut);if(dt===null||dt<V.start||dt>V.end||ig(dt))continue;const St=Ct(ut);if(!(St.length===0||!(qb(ut)||!1)))for(const Qt of St){const me=Y.get(Qt)||{hp:0,ns:0,total:0};me.ns+=1,me.total=me.hp+me.ns,Y.set(Qt,me)}}const lt=Array.from(Y,([ut,dt])=>({name:ut,...dt})).sort((ut,dt)=>dt.total-ut.total).slice(0,20);return{labels:lt.map(ut=>ut.name),hpData:lt.map(ut=>ut.hp),nsData:lt.map(ut=>ut.ns)}},[S,V,U]),q=j.useRef(null),K=j.useRef(null),ot=j.useRef(null),nt=j.useRef(null),F=j.useRef(null),it=j.useRef(null),at=j.useMemo(()=>{if(U==="all"){const Y=["대기","진행중","검수중","검수요청","완료","취소"],lt=eg($.map(dt=>ng(dt.status))),ut=new Map(lt.map(dt=>[dt.name,dt.value]));return{labels:Y,data:Y.map(dt=>ut.get(dt)||0)}}else{const Y=["대기중","진행중","검수중","검수요청중","완료","취소"];return{labels:R.map(lt=>lt.name),data:R.map(lt=>lt.value),orderFallback:Y}}},[U,$,R]);j.useEffect(()=>{var lt,ut,dt;const Y=U==="all";if(q.current){(lt=_i.getChart(q.current))==null||lt.destroy();const St=Y?z.labels:C.map(me=>me.name),Ft=Y?z.data:C.map(me=>me.value),Qt=Y?[Jp[0],Jp[1]]:C.map((me,Jn)=>Jp[Jn%Jp.length]);nt.current=new _i(q.current,{type:"doughnut",data:{labels:St,datasets:[{data:Ft,backgroundColor:Qt}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"60%",plugins:{legend:{position:"right"},datalabels:{formatter:(me,Jn)=>{const Bi=Jn.dataset.data.reduce((Xe,hr)=>Xe+hr,0),cs=Bi?me/Bi*100:0;return cs>=5?`${cs.toFixed(1)}%`:""},color:"#fff",font:{weight:"bold"}}}}})}return K.current&&((ut=_i.getChart(K.current))==null||ut.destroy(),F.current=new _i(K.current,{type:"bar",data:{labels:at.labels,datasets:[{label:"건수",data:at.data}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:4}},scales:{y:{beginAtZero:!0,ticks:{precision:0,font:{size:14}},grace:"15%"}},plugins:{legend:{display:!1},datalabels:{anchor:"end",align:"end",offset:4,clip:!1,font:{size:14},formatter:St=>St>0?St:""}}}})),ot.current&&((dt=_i.getChart(ot.current))==null||dt.destroy(),Y?it.current=new _i(ot.current,{type:"bar",data:{labels:Q.labels,datasets:[{label:"NSmall",data:Q.nsData,backgroundColor:"rgba(255,157,167,.6)",stack:"company"}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:4}},scales:{x:{ticks:{autoSkip:!1,maxRotation:40,minRotation:0}},y:{beginAtZero:!0,ticks:{precision:0,font:{size:14}},grace:"15%"}},plugins:{legend:{position:"top"},datalabels:{anchor:"end",align:"end",offset:2,clip:!1,font:{size:12},formatter:St=>St>0?St:""}}}}):it.current=new _i(ot.current,{type:"bar",data:{labels:O.map(St=>St.name),datasets:[{label:"건수",data:O.map(St=>St.value),backgroundColor:"rgba(255,157,167,.6)"}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:4}},scales:{y:{beginAtZero:!0,ticks:{precision:0,font:{size:14}},grace:"15%"}},plugins:{legend:{display:!1},datalabels:{anchor:"end",align:"end",offset:4,clip:!1,font:{size:14},formatter:St=>St>0?St:""}}}})),()=>{var St,Ft,Qt;(St=nt.current)==null||St.destroy(),(Ft=F.current)==null||Ft.destroy(),(Qt=it.current)==null||Qt.destroy()}},[U,C,z,at,O,Q]);const ht=c===1,yt=U==="all"?H:G;return v.jsxs(SY,{children:[v.jsxs(TY,{children:[y&&!ht&&v.jsxs(AY,{children:[v.jsx(qk,{$active:U==="nsmall",onClick:()=>E("nsmall"),children:"NSmall"}),v.jsx(qk,{$active:U==="all",onClick:()=>E("all"),children:"전체"})]}),U!=="all"?v.jsxs(kY,{children:[v.jsx(Hk,{value:n.y,onChange:Y=>i(lt=>({...lt,y:Number(Y.target.value)})),children:Array.from({length:5}).map((Y,lt)=>{const ut=t.getFullYear()-2+lt;return v.jsxs("option",{value:ut,children:[ut,"년"]},ut)})}),v.jsx(Hk,{value:n.m,onChange:Y=>i(lt=>({...lt,m:Number(Y.target.value)})),children:Array.from({length:12}).map((Y,lt)=>v.jsxs("option",{value:lt+1,children:[lt+1,"월"]},lt+1))})]}):v.jsxs(RY,{children:[v.jsx(Wb,{$active:r==="day",onClick:()=>l("day"),children:"일"}),v.jsx(Wb,{$active:r==="week",onClick:()=>l("week"),children:"주"}),v.jsx(Wb,{$active:r==="month",onClick:()=>l("month"),children:"월"}),v.jsx("span",{className:"range",children:V==null?void 0:V.label})]})]}),v.jsxs(CY,{children:[v.jsxs(Ph,{children:[v.jsx(Nh,{children:"총 요청건수(건)"}),v.jsx(Lh,{children:(yt==null?void 0:yt.totalRequests)??0})]}),v.jsxs(Ph,{children:[v.jsx(Nh,{children:"실 제작건수(건)"}),v.jsx(Lh,{children:(yt==null?void 0:yt.producedCount)??0})]}),v.jsxs(Ph,{children:[v.jsx(Nh,{children:"사용공수"}),v.jsx(Lh,{children:(yt==null?void 0:yt.usedHoursDisplay)??"0.00"})]}),v.jsxs(Ph,{children:[v.jsx(Nh,{children:"가용공수"}),v.jsx(Lh,{children:((Et=yt==null?void 0:yt.availHours)==null?void 0:Et.toLocaleString())??"0"})]}),v.jsxs(Ph,{children:[v.jsx(Nh,{children:"사용공수비율"}),v.jsx(Lh,{children:yt!=null&&yt.usedRatio?`${yt.usedRatio}%`:"0%"})]})]}),v.jsxs(DY,{children:[v.jsx(MY,{$compact:U==="all",children:v.jsxs(OY,{children:[v.jsx(Yb,{children:U==="all"?"회사별 분포 (일/주/월 기준, 평일)":"업무유형별 분포현황"}),v.jsx(Gb,{$h:400,children:v.jsx("canvas",{ref:q})})]})}),v.jsxs(IY,{$compact:U==="all",children:[v.jsxs(Wk,{children:[v.jsx(Yb,{children:U==="all"?"디자이너별 배정 건수 (회사 스택)":"업무형태현황 (task_form)"}),v.jsx(Gb,{$h:180,children:v.jsx("canvas",{ref:ot})})]}),v.jsxs(Wk,{children:[v.jsx(Yb,{children:"진행현황 (status)"}),v.jsx(Gb,{$h:180,children:v.jsx("canvas",{ref:K})})]})]})]})]})}const SY=B.div`font-family: 'Pretendard';`,TY=B.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  padding: 24px 0 30px;
`,AY=B.div`display:flex; gap:8px;`,qk=B.button`
  padding: 11.5px 10px; border-radius: 4px; font-family: 'Pretendard';
  font-size: 16px; font-weight: 400;
  background-color: ${({theme:e,$active:t})=>t?e.colors.black:e.colors.white01};
  color: ${({theme:e,$active:t})=>t?e.colors.white01:e.colors.black};
  border: 1px solid ${({theme:e})=>e.colors.black};
`,kY=B.div`
  display:flex; align-items:center; gap:8px; margin-left:auto;
`,Hk=B.select`
  appearance:none; width:150px; height: 48px; margin-right:8px; padding:0 12px;
  border:1px solid ${({theme:e})=>e.colors.gray02}; border-radius:4px;
  font-family:'Pretendard'; font-size:16px; font-weight:400; color:${({theme:e})=>e.colors.black};
  background:${({theme:e})=>e.colors.white01} url(${Wm}) no-repeat right 12px center / 16px 16px;
  &:focus { outline:none; border-color:${({theme:e})=>e.colors.black}; }
`,RY=B.div`
  display:flex; align-items:center; gap:8px; margin-left:auto;
  .range { margin-left:12px; color:#667085; font-size:14px; }
`,Wb=B.button`
  padding:10px 14px; border-radius:8px; font-family:'Pretendard'; font-size:15px;
  background:${({$active:e})=>e?"#111":"#fff"};
  color:${({$active:e})=>e?"#fff":"#111"};
  border:1px solid #111; transition:all .15s ease;
`,CY=B.ul`display:flex; gap:14px; margin-bottom:16px;`,Ph=B.li`flex:1; padding:14px; border:1px solid #e8ecf3; border-radius:14px; background:#f7f9fc;`,Nh=B.h3`color:#9aa4b2; font-size:12px; margin-bottom:8px;`,Lh=B.strong`font-size:32px; font-weight:800;`,DY=B.div`display:flex; gap:16px;`,MY=B.div`
  flex: 0 0 ${({$compact:e})=>e?"38%":"50%"};
`,IY=B.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
  flex: 1 1 ${({$compact:e})=>e?"62%":"50%"};
`,SO=B.div`background:#fff; border:1px solid #e8ecf3; border-radius:16px; padding:16px; height:100%;`,OY=B(SO)``,Wk=B(SO)``,Yb=B.h3`margin:0 0 10px; font-size:15px; color:#666;`,Gb=B.div`position:relative; width:100%; height:${({$h:e})=>`${e}px`};`,PY=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],NY=e=>[...e||""].map(t=>{const n=t.charCodeAt(0);if(n>=44032&&n<=55203){const i=Math.floor((n-44032)/28/21);return PY[i]}return t}).join("");function Ux(e){const t=r=>r==null?"":String(r).toLowerCase(),n={id:t(e.design_request_id),requirement:t(e.requirement)},i=Object.values(n).join(" "),s=NY(n.requirement);return{...e,_index:{plain:i,chosung:s}}}function zx(e,t){if(!t)return!0;const n=t.toLowerCase();return e._index.plain.includes(n)||e._index.chosung.includes(n)}const LY="진행 상태 선택",jY=e=>{const t=(e??"").trim();if(!t)return[];const n=t.toLowerCase(),i=t.toUpperCase(),s=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase();return Array.from(new Set([t,n,i,s]))};function VY({view:e,userRole:t,setIsDrawerOpen:n,setEditData:i,setDetailData:s}){const[r,l]=j.useState(""),[c,h]=j.useState(""),[d,p]=j.useState([]),[y,_]=j.useState("진행 상태 선택"),[x,E]=j.useState({start:null,end:null}),[S,T]=j.useState(""),[D,M]=j.useState(""),N=e==="allrequestlist";j.useEffect(()=>{const K=wo(ci,async ot=>{if(!ot)return;ot.displayName&&l(ot.displayName);const nt=An(Kt,"users",ot.uid),F=await Sl(nt);if(F.exists()){const it=F.data();h(((it==null?void 0:it.company)??"").trim())}else h("")});return()=>K()},[]),j.useEffect(()=>{if(p([]),!(e==="dashboard"||e==="inworkhour")){if(e==="myrequestlist"){if(!r)return;const K=Rn(Ge(Kt,"design_request"),on("requester","==",r),Sd("design_request_id","desc")),ot=as(K,nt=>{const F=nt.docs.map(it=>({id:it.id,...it.data()}));p(F)});return()=>ot()}if(e==="allrequestlist"){if(!c)return;const K=jY(c),ot=Ge(Kt,"design_request"),nt=new Map,F=[],it=()=>{const at=Array.from(nt.values()).sort((ht,yt)=>{const Et=String(ht.design_request_id??"");return String(yt.design_request_id??"").localeCompare(Et,"en",{numeric:!0})});p(at)};return K.forEach(at=>{const ht=Rn(ot,on("company","==",at),Sd("design_request_id","desc")),yt=as(ht,Et=>{Et.docs.forEach(Y=>{nt.set(Y.id,{id:Y.id,...Y.data()})}),it()});F.push(yt)}),()=>F.forEach(at=>at())}}},[e,c,r]);const U=K=>E(K),P=K=>_(K),G=K=>M(K),C=K=>K==="검수요청"?"진행중":K,R=K=>new Date(K.getFullYear(),K.getMonth(),K.getDate()),O=K=>{if(!K)return null;if(typeof K=="object"&&typeof K.toDate=="function")return R(K.toDate());if(K instanceof Date)return R(K);if(typeof K=="number")return R(new Date(K));if(typeof K=="string"){const nt=K.replace(/\./g,"-").replace(/\//g,"-").split("-");if(nt.length===3){const[it,at,ht]=nt.map(Number),yt=it>31?it:new Date().getFullYear();return new Date(yt,at-1,ht)}if(nt.length===2){const[it,at]=nt.map(Number),ht=new Date().getFullYear();return new Date(ht,it-1,at)}const F=new Date(K);return isNaN(+F)?null:R(F)}return null},V=j.useMemo(()=>d.map(K=>{const ot=C(K.status);return Ux({...K,displayStatus:ot})}),[d]),$=j.useMemo(()=>{const K=x.start?R(x.start):null,ot=x.end?R(x.end):null,nt=D.trim();return V.filter(F=>{if(y!==LY&&F.displayStatus!==y)return!1;if(K&&ot){const it=O(F.request_date)||O(F.requested_at)||O(F.requestDate);if(!it||it<K||it>ot)return!1}return!!zx(F,nt)})},[V,y,x,D]),H=(K,ot)=>{const nt=d.find(F=>F.id===K);return!(!nt||e==="allrequestlist"&&nt.requester!==r||nt.status==="완료"||nt.status==="취소"||nt.manager_review_status==="검수완료"&&ot!=="review")},z=async K=>{H(K,"review")&&(await ys(An(Kt,"design_request",K),{status:"완료",requester_review_status:"검수완료"}),p(ot=>ot.map(nt=>nt.id===K?{...nt,status:"완료",requester_review_status:"검수완료"}:nt)),alert("완료 처리되었습니다."))},Ct=async K=>{if(!H(K,"edit"))return;const ot=An(Kt,"design_request",K);await ys(ot,{requester_edit_state:!0});const nt=await Sl(ot);if(nt.exists()){const F={id:nt.id,...nt.data()};i(F),n(!0)}},Q=K=>{s(K),n(!0)},q=async K=>{if(!H(K,"cancel"))return;const ot=d.find(F=>F.id===K);if(window.confirm(`문서번호 ${(ot==null?void 0:ot.design_request_id)??""} 요청을 취소하시겠습니까?`))try{await ys(An(Kt,"design_request",K),{status:"취소"}),p(F=>F.map(it=>it.id===K?{...it,status:"취소"}:it))}catch(F){console.error(F),alert("취소 처리 중 오류가 발생했습니다. 다시 시도해 주세요.")}};return v.jsxs(v.Fragment,{children:[v.jsx(bx,{userRole:t}),e==="dashboard"&&v.jsx(UY,{children:v.jsx(Vx,{capacityHoursPerMonth:704})}),e==="allrequestlist"&&v.jsxs(Yk,{children:[v.jsx(Cd,{roleNumber:1,onApplyStatus:P,onApplyRange:U,onSearch:G,keyword:S,onKeywordChange:T}),v.jsx(rA,{data:$,disableActions:!1,lockOthers:N,currentUserName:r,onReviewComplete:z,onCancel:q,onEditClick:Ct,onDetailClick:Q})]}),e==="myrequestlist"&&v.jsxs(Yk,{children:[v.jsx(Cd,{roleNumber:1,onApplyStatus:P,onApplyRange:U,onSearch:G,keyword:S,onKeywordChange:T}),v.jsx(rA,{data:$,disableActions:!1,onReviewComplete:z,onCancel:q,onEditClick:Ct,onDetailClick:Q})]})]})}const Yk=B.div`
  padding: 0 48px;
`,UY=B.div`
  max-height: 766px;
  padding: 0 48px;
  overflow: auto;
`;function zY({index:e,item:t,row:n,onChange:i,onSave:s,onDetailClick:r,disableActions:l}){const c=x=>{if(!x)return"-";if(x.toDate){const E=x.toDate();return`${E.getMonth()+1}/${E.getDate()}`}return x},h=x=>x==="검수중"?"검수요청":x??"대기",d=x=>x,p=h(n.status),y=x=>{x.stopPropagation(),r(t)},_=!!t.url&&t.url.trim().length>0;return v.jsxs(FY,{isCanceled:t.status==="취소",children:[v.jsx(gs,{children:e}),v.jsx(gs,{children:v.jsx(YY,{onClick:y,$hasUpdate:!!t.updated_date,children:t.design_request_id})}),v.jsx(gs,{children:t.company}),v.jsx(gs,{children:c(t.request_date)}),v.jsx(BY,{children:c(t.completion_date)}),v.jsx($Y,{children:c(t.open_date)}),v.jsx(gs,{children:t.merchandiser}),v.jsx(gs,{children:t.requester}),v.jsx(gs,{children:t.task_form}),v.jsx(qY,{children:v.jsxs(GY,{children:[v.jsx(KY,{children:t.task_type}),v.jsx(XY,{children:t.task_type_detail})]})}),v.jsx(HY,{children:v.jsxs(QY,{children:[t.emergency?v.jsx(TO,{children:"긴급"}):"",v.jsx(ZY,{onClick:y,children:t.requirement})]})}),v.jsx(gs,{children:_?v.jsx(JY,{href:t.url,target:"_blank"}):null}),v.jsx(WY,{children:v.jsx(tG,{onClick:y,children:t.note||""})}),v.jsx(Gk,{children:v.jsx(Kk,{type:"date",value:n.start_dt??"",onChange:x=>i(t.id,"start_dt",x.target.value),disabled:l||t.status==="취소"||t.status==="완료"})}),v.jsx(Gk,{children:v.jsx(Kk,{type:"date",value:n.end_dt??"",onChange:x=>i(t.id,"end_dt",x.target.value),disabled:l||t.status==="취소"||t.status==="완료"})}),v.jsx(gs,{children:v.jsx(eG,{type:"text",value:n.result_url??"",placeholder:"산출물 URL을 입력해주세요.",onChange:x=>i(t.id,"result_url",x.target.value),disabled:l||t.status==="취소"||t.status==="완료"})}),v.jsx(gs,{children:v.jsxs("select",{value:p,onChange:x=>i(t.id,"status",d(x.target.value)),disabled:l||t.status==="취소"||t.status==="완료",children:[v.jsx("option",{value:"대기",children:"대기"}),v.jsx("option",{value:"진행중",children:"진행중"}),v.jsx("option",{value:"검수요청",children:"검수요청"}),v.jsx("option",{value:"완료",disabled:!0,children:"완료"}),v.jsx("option",{value:"취소",disabled:!0,children:"취소"})]})}),v.jsx(gs,{children:v.jsx(AO,{onClick:()=>s(t.id),disabled:l||t.status==="취소"||t.status==="완료",children:"저장"})})]})}const FY=B.tr`
  ${({isCanceled:e})=>e&&`
      td {
        color: #888;
        background-color: #f4f4f4;
      }
    `}
  
  ${({isCanceled:e,theme:t})=>e&&`
      ${TO} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
      }
      ${AO} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
        border-color: ${t.colors.gray06};
        cursor: default;
        pointer-events: none;
      }
    `}
  & td {
    font-family: 'Pretendard';
    font-size: 14px;
    font-weight: 500;
  }

  &:hover {
    td, input, select {
      background-color: ${({theme:e})=>e.colors.gray04}
    }
  }
`,gs=B.td`
  padding: 11px 0;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }
`,BY=B.td`
  color: ${({theme:e})=>e.colors.red};
`,$Y=B.td`
  color: ${({theme:e})=>e.colors.blue02};
`,qY=B.td`
  padding: 15px 12px;
  line-height: 15px;
`,HY=B.td`
  line-height: 15px;
  text-align: left;
`,WY=B.td`
  line-height: 15px;
  padding: 0 12px;
  border-right: 1px solid ${({theme:e})=>e.colors.black};
  text-align: left;
  background-color: #fffff1;

`,Gk=B.td`
  padding: 0 6px;
`,YY=B.span`
  position: relative;

  &::after {
    content: '';
    position: absolute;
    top: -5px;
    right: -2px;
    display: ${({$hasUpdate:e})=>e?"block":"none"};
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background-color: ${({theme:e})=>e.colors.red};
  }

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,GY=B.div`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`,KY=B.span`
  white-space: nowrap;
`,XY=B.span`
  
`,QY=B.div`
  ${({theme:e})=>e.mixin.flex("center")};
  padding: 0 12px;
`,TO=B.span`
  margin-right: 5px;
  padding: 3px 5px;
  border-radius: 2px;
  font-size: 10px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.red};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,ZY=B.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,JY=B.a`
  display: inline-block;
  vertical-align: middle;
  width: 24px;
  height: 24px;
  background: url(${_x}) no-repeat center / contain;
`,tG=B.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,Kk=B.input.attrs({type:"date"})`
  width: 100%;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 500;
`,eG=B.input`
  width: 100%;
  padding: 0 12px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 500;
`,AO=B.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`;function Xk({requests:e,onChange:t,formData:n,onSave:i,onDetailClick:s,disableActions:r,lockOthers:l=!1,currentDesignerName:c=""}){return v.jsx(nG,{children:v.jsxs(iG,{children:[v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"40px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"140px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"80px"}})]}),v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx(jn,{children:"번호"}),v.jsx(jn,{children:"문서번호"}),v.jsx(jn,{children:"회사"}),v.jsx(jn,{children:"요청일"}),v.jsxs(jn,{children:["완료",v.jsx("br",{}),"요청일"]}),v.jsx(jn,{children:"오픈일"}),v.jsx(jn,{children:"담당 MD"}),v.jsx(jn,{children:"요청자"}),v.jsx(jn,{children:"업무부서"}),v.jsx(jn,{children:"업무유형"}),v.jsx(jn,{children:"작업항목"}),v.jsxs(jn,{children:["요청서",v.jsx("br",{}),"URL"]}),v.jsx(jn,{children:"메모"}),v.jsx(jn,{children:"디자인 시작일"}),v.jsx(jn,{children:"디자인 종료일"}),v.jsx(jn,{children:"산출물 링크"}),v.jsx(jn,{children:"진행상태"}),v.jsx(jn,{children:"저장"})]})}),v.jsx("tbody",{children:e.length>0?e.map((h,d)=>{const p=Array.isArray(h.assigned_designers)?h.assigned_designers.includes(c):h.assigned_designer===c,y=r||l&&!p;return v.jsx(zY,{index:d+1,item:h,row:n[h.id]??{},onChange:t,onSave:i,onDetailClick:s,disableActions:y},h.id)}):v.jsx("tr",{children:v.jsx("td",{colSpan:18,style:{textAlign:"center"},children:"배정된 요청이 없습니다."})})})]})})}const nG=B.div`
  position: relative;
  height: calc(100vh - 302px);
  border-top: 2px solid ${({theme:e})=>e.colors.black};
  overflow-y: auto;
  scrollbar-width: thin;
`,iG=B.table`
  table-layout: fixed;
  width: 100%;
  text-align: center;
`,jn=B.th`
  position: sticky;
  top: -2px;
  line-height: 16px;
  padding: 13px 0;
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.gray08};
  z-index: 10;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(13) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }

  &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17) {
    border-right: 1px solid ${({theme:e})=>e.colors.pink02}
  }

  &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17), &:nth-of-type(18) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`,sG="진행 상태 선택",Qk="회사 선택",Zk="홈돌이";function rG({view:e,userRole:t,setIsDrawerOpen:n,setDetailData:i}){const[s,r]=j.useState([]),[l,c]=j.useState(""),[h,d]=j.useState({}),[p,y]=j.useState("진행 상태 선택"),[_,x]=j.useState({start:null,end:null}),[E,S]=j.useState([]),[T,D]=j.useState(Qk),[M,N]=j.useState(""),[U,P]=j.useState(""),G=e==="allrequestlist";j.useEffect(()=>{const Y=wo(ci,lt=>{lt!=null&&lt.displayName&&c(lt.displayName)});return()=>Y()},[]),j.useEffect(()=>{if(!l)return;if(e==="dashboard"||e==="inworkhour"){r([]);return}if(e==="allrequestlist"){const ut=Rn(Ge(Kt,"design_request"),Sd("design_request_id","desc")),dt=as(ut,St=>{r(St.docs.map(Ft=>({id:Ft.id,...Ft.data()})))});return()=>dt()}const Y=Rn(Ge(Kt,"design_request"),on("assigned_designers","array-contains",l),Sd("design_request_id","desc")),lt=as(Y,ut=>{r(ut.docs.map(dt=>({id:dt.id,...dt.data()})))});return()=>lt()},[l,e]),j.useEffect(()=>{const Y=as(Ge(Kt,"users"),lt=>{const ut=new Set;lt.forEach(dt=>{const St=String(dt.data().company??"").trim();St&&ut.add(St)}),S(Array.from(ut).sort())});return()=>Y()},[]);const C=Y=>x(Y),R=Y=>y(Y),O=Y=>D(Y),V=Y=>new Date(Y.getFullYear(),Y.getMonth(),Y.getDate()),$=Y=>{if(!Y)return null;if(typeof Y=="object"&&typeof Y.toDate=="function")return V(Y.toDate());if(Y instanceof Date)return V(Y);if(typeof Y=="number")return V(new Date(Y));if(typeof Y=="string"){const ut=Y.replace(/\./g,"-").replace(/\//g,"-").split("-");if(ut.length===3){const[St,Ft,Qt]=ut.map(Number),me=St>31?St:new Date().getFullYear();return new Date(me,Ft-1,Qt)}if(ut.length===2){const[St,Ft]=ut.map(Number),Qt=new Date().getFullYear();return new Date(Qt,St-1,Ft)}const dt=new Date(Y);return isNaN(+dt)?null:V(dt)}return null},H=Y=>{const lt=Y.getFullYear(),ut=String(Y.getMonth()+1).padStart(2,"0"),dt=String(Y.getDate()).padStart(2,"0");return`${lt}-${ut}-${dt}`},z=Y=>{if(!Y)return"";if(typeof Y=="object"&&typeof Y.toDate=="function")return H(Y.toDate());if(Y instanceof Date)return H(Y);const lt=new Date(Y);return isNaN(+lt)?"":H(lt)},Ct=j.useMemo(()=>s.map(Y=>({...Y,designer_start_date:z(Y.designer_start_date),designer_end_date:z(Y.designer_end_date),result_url:Y.result_url??"",status:Y.status??"대기"})),[s]),Q=Y=>Y==="검수중"?"검수요청":Y??"대기",q=j.useMemo(()=>Ct.map(Y=>{const lt=Q(Y.status);return Ux({...Y,displayStatus:lt})}),[Ct]),K=Y=>Array.isArray(Y.assigned_designers)?Y.assigned_designers.filter(Boolean).map(lt=>lt.trim()):Y.assigned_designer?[String(Y.assigned_designer).trim()]:[],ot=(Y,lt,ut)=>{if(ut==="allrequestlist"||lt!==Zk)return!0;const dt=K(Y);return dt.includes(Zk)&&dt.length===1},nt=j.useMemo(()=>{const Y=_.start?V(_.start):null,lt=_.end?V(_.end):null;return q.filter(ut=>{let dt=!0;if(dt&&!ot(ut,l,e)&&(dt=!1),dt&&p&&p!==sG&&Q(ut.status)!==p&&(dt=!1),dt&&T!==Qk&&String(ut.company)!==T&&(dt=!1),dt&&Y&&lt){const St=$(ut.request_date)||$(ut.requested_at)||$(ut.requestDate);(!St||St<Y||St>lt)&&(dt=!1)}return dt&&U&&!zx(ut,U)&&(dt=!1),dt})},[q,p,T,_,U,e,l]),F=Y=>P(Y);j.useEffect(()=>{s.length&&d(Y=>{const lt={...Y};return s.forEach(ut=>{lt[ut.id]===void 0&&(lt[ut.id]={start_dt:z(ut.designer_start_date),end_dt:z(ut.designer_end_date),result_url:ut.result_url||"",status:ut.status||"대기"})}),lt})},[s]);const it=(Y,lt,ut)=>{d(dt=>({...dt,[Y]:{...dt[Y],[lt]:ut}}))},at=Y=>{if(!Y)return null;const lt=new Date(Y);return isNaN(+lt)?null:Oe.fromDate(lt)},ht=Y=>{const lt=s.find(dt=>dt.id===Y);if(!lt||lt.status==="완료"||lt.status==="취소")return!1;const ut=Array.isArray(lt.assigned_designers)?lt.assigned_designers.includes(l):lt.assigned_designer===l;return!(e==="allrequestlist"&&!ut)},yt=async Y=>{if(!ht(Y))return;const lt=h[Y];if(!lt){alert("변경된 내용이 없습니다.");return}await ys(An(Kt,"design_request",Y),{designer_start_date:at(lt.start_dt),designer_end_date:at(lt.end_dt),result_url:lt.result_url??"",status:lt.status??"대기"}),alert("저장되었습니다.")},Et=Y=>{i(Y),n(!0)};return v.jsxs(aG,{children:[v.jsx(bx,{userRole:t}),e==="allrequestlist"&&v.jsxs(Jk,{children:[v.jsx(Cd,{roleNumber:2,onApplyStatus:R,onApplyRange:C,onSearch:F,keyword:M,onKeywordChange:N,companyOptions:E,onApplyCompany:O}),v.jsx(Xk,{requests:nt,formData:h,onChange:it,onSave:yt,onDetailClick:Et,disableActions:!1,lockOthers:G,currentDesignerName:l})]}),e==="myrequestlist"&&v.jsxs(Jk,{children:[v.jsx(Cd,{roleNumber:2,onApplyStatus:R,onApplyRange:C,onSearch:F,keyword:M,onKeywordChange:N,companyOptions:E,onApplyCompany:O}),v.jsx(Xk,{requests:nt,formData:h,onChange:it,onSave:yt,onDetailClick:Et,disableActions:!1})]}),e==="dashboard"&&v.jsx(oG,{children:v.jsx(Vx,{capacityHoursPerMonth:704})})]})}const aG=B.div``,Jk=B.div`
  padding: 0 48px;
`,oG=B.div`
  max-height: 766px;
  padding: 0 48px;
  overflow: auto;
`;function lG({index:e,item:t,designerList:n,selectedDesigners:i,onDesignerSelect:s,onAssignDesigner:r,onUnassignDesigner:l,onSendToRequester:c,onDetailClick:h,workHourValue:d,onChangeWorkHour:p,onSaveWorkHour:y,onStartEditWorkHour:_,onCancelEditWorkHour:x}){const S=(R=>R==="검수요청"?"검수중":R==="검수중"?"검수요청":R)(t.status),T=R=>{if(!R)return"-";if(R.toDate){const O=R.toDate();return`${O.getMonth()+1}/${O.getDate()}`}return R},D=R=>{R.stopPropagation(),h(t)},M=!!t.work_hour_edit_state,N=t.status==="취소"||t.status==="완료",U=j.useCallback(R=>{const O=R.relatedTarget;(!O||!R.currentTarget.contains(O))&&x()},[x]),P=Array.isArray(t.assigned_designers)?t.assigned_designers:t.assigned_designer?[t.assigned_designer]:[],G=R=>{const O=R.target.value;s(O?[O]:[])},C=!!t.url&&t.url.trim().length>0;return v.jsxs(cG,{isCanceled:t.status==="취소",children:[v.jsx(yi,{children:e}),v.jsx(yi,{children:v.jsx(gG,{onClick:D,$hasUpdate:!!t.updated_date,children:t.design_request_id})}),v.jsx(yi,{children:t.company}),v.jsx(yi,{children:T(t.request_date)}),v.jsx(uG,{children:T(t.completion_date)}),v.jsx(hG,{children:T(t.open_date)}),v.jsx(yi,{children:t.merchandiser}),v.jsx(yi,{children:t.requester}),v.jsx(yi,{children:t.task_form}),v.jsx(dG,{children:v.jsxs(mG,{children:[v.jsx(yG,{children:t.task_type}),v.jsx(_G,{children:t.task_type_detail})]})}),v.jsx(fG,{children:v.jsxs(bG,{children:[t.emergency?v.jsx(kO,{children:"긴급"}):"",v.jsx(vG,{onClick:D,children:t.requirement})]})}),v.jsx(yi,{children:C?v.jsx(tR,{href:t.url,target:"_blank"}):null}),v.jsx(pG,{children:v.jsx(xG,{onClick:D,children:t.note||""})}),v.jsx(yi,{children:v.jsx(wG,{status:S,children:S})}),v.jsx(yi,{children:t.result_url?v.jsx(tR,{href:t.result_url,target:"_blank"}):""}),v.jsx(yi,{children:T(t.designer_start_date)}),v.jsx(yi,{children:T(t.designer_end_date)}),v.jsxs(yi,{children:[P.length>0&&v.jsx(CG,{children:P.map(R=>v.jsxs(DG,{children:[R,v.jsx(MG,{type:"button",onClick:()=>{N||l(R)},disabled:N,"aria-label":`${R} 배정 해제`,children:"×"})]},R))}),v.jsxs(IG,{children:[v.jsxs(EG,{value:i[0]??"",onChange:G,disabled:N,children:[v.jsx("option",{value:"",children:"선택"}),"      ",n.map(R=>{const O=R.name,V=P.includes(O);return v.jsxs("option",{value:O,disabled:V,children:[O,V?" (배정됨)":""]},R.id)})]}),v.jsx(RO,{onClick:r,disabled:N||i.length===0,children:"배정"})]})]}),v.jsx(yi,{children:t.status==="검수요청"&&t.manager_review_status!=="검수완료"?v.jsx(CO,{onClick:c,children:"검수완료"}):t.manager_review_status==="검수완료"?v.jsx(SG,{children:"검수완료"}):""}),v.jsx(yi,{children:M?v.jsxs(RG,{tabIndex:-1,onBlur:U,children:[v.jsx(TG,{type:"text",placeholder:"공수 입력",value:d,onChange:R=>p(R.target.value),onClick:R=>R.stopPropagation(),disabled:N,autoFocus:!0}),v.jsx(AG,{type:"button",onClick:R=>{R.stopPropagation(),!N&&y()},disabled:N,children:"수정"})]}):t.out_work_hour!=null?v.jsx(kG,{tabIndex:0,onClick:R=>{R.stopPropagation(),!N&&_()},onKeyDown:R=>{N||(R.key==="Enter"||R.key===" ")&&(R.preventDefault(),_())},children:t.out_work_hour}):null})]})}const cG=B.tr`
  ${({isCanceled:e})=>e&&`
      td {
        color: #888;
        background-color: #f4f4f4;
      }
    `}
  
  ${({isCanceled:e,theme:t})=>e&&`
      ${kO} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
      }
      ${CO}, ${RO} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
        border-color: ${t.colors.gray06};
        cursor: default;
        pointer-events: none;
      }
    `}
  & td {
    font-family: 'Pretendard';
    font-size: 14px;
    font-weight: 500;
  }

  &:hover {
    td {
      background-color: ${({theme:e})=>e.colors.gray04}
    }
  }
`,yi=B.td`
  padding: 11px 0;
 
  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(14) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }
`,uG=B.td`
  color: ${({theme:e})=>e.colors.red};
`,hG=B.td`
  color: ${({theme:e})=>e.colors.blue02};
`,dG=B.td`
  padding: 15px 12px;
  line-height: 15px;
`,fG=B.td`
  line-height: 15px;
  text-align: left;
`,pG=B.td`
  line-height: 15px;
  padding: 0 12px;
  text-align: left;
  background-color: #fffff1;
`,gG=B.span`
  position: relative;

  &::after {
    content: '';
    position: absolute;
    top: -5px;
    right: -2px;
    display: ${({$hasUpdate:e})=>e?"block":"none"};
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background-color: ${({theme:e})=>e.colors.red};
  }

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,mG=B.div`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`,yG=B.span`
  white-space: nowrap;
`,_G=B.span``,bG=B.div`
  ${({theme:e})=>e.mixin.flex("center")};
  padding: 0 12px;
`,kO=B.span`
  margin-right: 5px;
  padding: 3px 5px;
  border-radius: 2px;
  font-size: 10px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.red};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,vG=B.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,tR=B.a`
  display: inline-block;
  vertical-align: middle;
  width: 24px;
  height: 24px;
  background: url(${_x}) no-repeat center / contain;
`,xG=B.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,wG=B.span`
  border-radius: 14px;
  padding: 5.5px 12px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 400;
  color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.orange;case"진행중":return t.colors.blue02;case"검수요청":return t.colors.red;case"검수중":return t.colors.red;case"완료":return t.colors.gray06;default:return t.colors.gray06}}};
  background-color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.beige02;case"진행중":return t.colors.lightpupple;case"검수요청":return t.colors.pink03;case"검수중":return t.colors.pink03;case"완료":return t.colors.white02;default:return t.colors.gray07}}};;
`,RO=B.button`
  margin-left:10px;
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};

  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`,EG=B.select`
  width: 90px;
  padding: 6px;
  border: 1px solid #ccc;
  border-radius: 4px;
`,CO=B.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
`,SG=B.span`
  color: green;
  font-size: 13px;
  font-weight: bold;
`,TG=B.input`
  width: 40px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;

  &::placeholder {
    font-size: 11px;
  }
`,AG=B.button`
  margin: 6px 0 0 10px;
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
`,kG=B.span`
  display: inline-block;
  min-width: 24px;
  padding: 2px 6px;
  border-radius: 4px;
  cursor: pointer;
  user-select: none;
  &:hover {
    text-decoration: underline;
    font-weight: 600;
  }
`,RG=B.div`
  display: inline-flex;
  align-items: center;
  gap: 8px;
`,CG=B.div`
  display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 6px; justify-content: center;
`,DG=B.span`
  display: inline-flex; align-items: center; gap: 6px;
  background: #f2f4f7; border: 1px solid #d0d5dd; border-radius: 12px; padding: 2px 8px; font-size: 12px;
`,MG=B.button`
  border: none; background: transparent; font-size: 14px; line-height: 1; cursor: pointer; color: #666;
  &:disabled { color: #bbb; cursor: default; }
`,IG=B.div` display: flex; align-items: center; justify-content: center; `;function OG({data:e,designerList:t,selectedDesigners:n,designerSelect:i,assignDesigner:s,unassignDesigner:r,sendToRequester:l,onDetailClick:c,workHours:h,onChangeWorkHour:d,onSaveWorkHour:p,onStartEditWorkHour:y,onCancelEditWorkHour:_}){return v.jsx(PG,{children:v.jsxs(NG,{children:[v.jsx(LG,{children:"매니저 요청 리스트"}),v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"40px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"140px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"160px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"110px"}})]}),v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx(fn,{children:"번호"}),v.jsx(fn,{children:"문서번호"}),v.jsx(fn,{children:"회사"}),v.jsx(fn,{children:"요청일"}),v.jsxs(fn,{children:["완료",v.jsx("br",{}),"요청일"]}),v.jsx(fn,{children:"오픈일"}),v.jsx(fn,{children:"담당 MD"}),v.jsx(fn,{children:"요청자"}),v.jsx(fn,{children:"업무부서"}),v.jsx(fn,{children:"업무형태"}),v.jsx(fn,{children:"작업항목"}),v.jsxs(fn,{children:["요청서",v.jsx("br",{}),"URL"]}),v.jsx(fn,{children:"메모"}),v.jsx(fn,{children:"진행상태"}),v.jsxs(fn,{children:["산출물",v.jsx("br",{}),"URL"]}),v.jsxs(fn,{children:["디자인",v.jsx("br",{}),"시작일"]}),v.jsxs(fn,{children:["디자인",v.jsx("br",{}),"종료일"]}),v.jsx(fn,{children:"디자이너 배정"}),v.jsx(fn,{children:"검수"}),v.jsx(fn,{children:"공수"})]})}),v.jsx("tbody",{children:e.length>0?e.map((x,E)=>v.jsx(lG,{index:E+1,item:x,designerList:t,selectedDesigners:n[x.id]||[],onDesignerSelect:S=>i(x.id,S),onAssignDesigner:()=>s(x.id),onUnassignDesigner:S=>r(x.id,S),onSendToRequester:()=>l(x.id),onDetailClick:c,workHourValue:h[x.id]??"",onChangeWorkHour:S=>d(x.id,S),onSaveWorkHour:()=>p(x.id),onStartEditWorkHour:()=>y(x.id),onCancelEditWorkHour:()=>_(x.id)},x.id)):v.jsx("tr",{children:v.jsx("td",{colSpan:20,style:{textAlign:"center",padding:"20px"},children:"등록된 요청이 없습니다."})})})]})})}const PG=B.div`
  position: relative;
  height: calc(100vh - 336px);
  border-top: 2px solid ${({theme:e})=>e.colors.black};
  overflow-y: auto;
  scrollbar-width: thin;
`,NG=B.table`
  table-layout: fixed;
  width: 100%;
  text-align: center;
`,LG=B.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,fn=B.th`
  position: sticky;
  top: -2px;
  line-height: 16px;
  padding: 13px 0;
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.gray08};
  z-index: 10;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(14) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }

  &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17), &:nth-of-type(18), &:nth-of-type(19) {
    border-right: 1px solid ${({theme:e})=>e.colors.pink02}
  }

  &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17), &:nth-of-type(18), &:nth-of-type(19), &:nth-of-type(20) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`,eR="손미나",jG=new Set(["미배정"]),VG=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],Kh=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()),UG=(e,t)=>!!e&&!!t&&e.getTime()===t.getTime(),Kb=e=>{if(!e)return null;if(typeof e=="object"&&typeof e.toDate=="function")return Kh(e.toDate());if(e instanceof Date)return Kh(e);if(typeof e=="number")return Kh(new Date(e));if(typeof e=="string"){const n=e.replace(/\./g,"-").replace(/\//g,"-").split("-");if(n.length===3){const[s,r,l]=n.map(Number),c=s>31?s:new Date().getFullYear();return new Date(c,(r||1)-1,l||1)}const i=new Date(e);return isNaN(+i)?null:Kh(i)}return null},Xb=e=>Kb(e.request_date)??Kb(e.open_date)??Kb(e.created_date),zG=e=>e==="대기"||e==="대기중",FG=e=>e==="완료",BG=e=>e==="진행중"||e==="검수중"||e==="검수요청",$G=162.3,qG=(e,t=2)=>{const n=Math.pow(10,t);return Math.sign(e)*Math.floor(Math.abs(e)*n+1e-9)/n},HG=e=>e.toFixed(2).replace(/\.?0+$/,""),WG=e=>{const t=String(e??"").trim().replace(/\s+/g,"").toLowerCase();return t==="nsmall"||t==="n-small"?"nsmall":t==="homeplus"?"homeplus":"other"};function YG({dailyHours:e=8,targetDate:t}){const[n,i]=j.useState([]),[s,r]=j.useState([]),l=Kh(t??new Date),c=l.getFullYear();j.useEffect(()=>{const x=Rn(Ge(Kt,"users"),on("role","==",2)),E=as(x,S=>{const T=S.docs.map(D=>String(D.data().name||"").trim()).filter(Boolean);r(T)});return()=>E()},[]),j.useEffect(()=>{const x=Rn(Ge(Kt,"design_request")),E=as(x,S=>{const T=S.docs.map(D=>({id:D.id,...D.data()}));i(T)});return()=>E()},[]);const h=x=>Array.isArray(x.assigned_designers)&&x.assigned_designers.length?x.assigned_designers.filter(Boolean).map(E=>E.trim()):x.assigned_designer?[String(x.assigned_designer).trim()]:[],d=x=>{const S=h(x).map(D=>D.trim()).filter(Boolean).filter(D=>D!=="미배정"),T=WG(x.company);return S.length<=1||T==="homeplus"?S:S.includes(eR)?S.filter(D=>D!==eR):S},p=(x,E)=>{const S=d(x);if(!S.includes(E))return 0;const T=Number(x.in_work_hour)||0,D=S.length||1;return T/D},y=j.useMemo(()=>{const x=Array.from(new Set(n.flatMap(S=>h(S))));return Array.from(new Set([...s,...x])).filter(S=>S&&!jG.has(S)).sort((S,T)=>S.localeCompare(T,"ko")).map(S=>{const T=n.filter(R=>d(R).includes(S)),D=T.filter(R=>UG(Xb(R),l)),M=D.filter(R=>zG(R.status)).length,N=D.filter(R=>BG(R.status)).length,U=D.filter(R=>FG(R.status)).length,P=D.reduce((R,O)=>R+p(O,S),0),G=qG(P,2),C=Array.from({length:12},(R,O)=>{const V=T.filter(z=>{const Ct=Xb(z);return Ct&&Ct.getFullYear()===c&&Ct.getMonth()===O}).reduce((z,Ct)=>z+p(Ct,S),0),$=Math.round(V/$G*100),H=T.filter(z=>{const Ct=Xb(z);return Ct&&Ct.getFullYear()===c&&Ct.getMonth()===O}).length;return{rate:$,count:H}});return{name:S,wait:M,progress:N,done:U,usedHours:G,monthly:C}})},[n,l,c,s]),_=j.useMemo(()=>y.map((x,E)=>{const S=x.monthly.filter(M=>M.count>0),T=S.length?S.reduce((M,N)=>M+N.rate,0)/S.length:0,D=x.monthly.reduce((M,N)=>M+N.count,0);return{index:E+1,avgRate:T,totalCount:D}}),[y]);return y.length===0?v.jsx(XG,{children:"표시할 데이터가 없습니다."}):v.jsx(GG,{children:v.jsx(KG,{children:v.jsxs(QG,{children:[v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"140px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"110px"}})]}),v.jsxs("thead",{children:[v.jsxs("tr",{children:[v.jsx(Hs,{rowSpan:2,children:"번호"}),v.jsx(Hs,{rowSpan:2,children:"디자이너명"}),v.jsxs(Hs,{colSpan:4,children:["현재현황(일공수 : ",e,"h)"]}),v.jsx(Hs,{colSpan:12,children:"월별 진행현황(공수달성율 / 제작건수)"}),v.jsx(Hs,{rowSpan:2,children:"연평균"})]}),v.jsxs("tr",{children:[v.jsx(Hs,{children:"대기"}),v.jsx(Hs,{children:"진행중"}),v.jsx(Hs,{children:"완료"}),v.jsx(Hs,{children:"사용공수(h)"}),VG.map(x=>v.jsx(Hs,{children:x},x))]})]}),v.jsx("tbody",{children:y.map((x,E)=>{const{index:S,avgRate:T,totalCount:D}=_[E];return v.jsxs("tr",{children:[v.jsx(Ba,{children:S}),v.jsx(Ba,{children:x.name}),v.jsx(Ba,{children:x.wait}),v.jsx(Ba,{children:x.progress}),v.jsx(Ba,{children:x.done}),v.jsx(Ba,{children:HG(x.usedHours)}),x.monthly.map((M,N)=>v.jsxs(Ba,{children:[v.jsxs("div",{children:[M.rate,"%"]}),v.jsx("div",{children:M.count})]},N)),v.jsxs(Ba,{children:[v.jsxs("div",{children:[T.toFixed(0),"%"]}),v.jsx("div",{children:D})]})]},x.name+E)})})]})})})}const GG=B.div`
  padding: 22px 48px;
  height: calc(100vh - 178px);
  overflow: hidden;
`,KG=B.div`
  height: 100%;
  overflow-y: auto;
  scrollbar-width: thin;
`,XG=B.div`
  padding: 24px;
  text-align: center;
  color: #666;
  border: 1px solid #e5e5e5;
  border-radius: 8px;
  background: #fafafa;
`,QG=B.table`
  width: 100%;
  table-layout: fixed;
  font-family: 'Pretendard';
  border-top: 2px solid ${({theme:e})=>e.colors.black};

  thead {
    tr {
      &:first-of-type {
        th:nth-of-type(3) {
          border-right: 1px solid ${({theme:e})=>e.colors.black};
        }
        th:nth-of-type(4) {
          background-color: ${({theme:e})=>e.colors.pink01};
        }
      }
      &:last-of-type {
        th:nth-of-type(4) {
          border-right: 1px solid ${({theme:e})=>e.colors.black};
        }
      }
    }
  }


  th, td {
    padding: 8px 10px;
    font-size: 14px;
  }
`,Hs=B.th`
  background-color: ${({theme:e})=>e.colors.gray08};
  font-weight: 700;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right:none;
  }

  &:nth-of-type(n + 5):nth-of-type(-n + 16) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`,Ba=B.td`
  text-align: center;
  font-weight: 500;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(6) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }
`;function ZG({onClick:e,loading:t,label:n="Export CSV"}){return v.jsx(JG,{type:"button",onClick:e,disabled:!!t,children:t?"추출 중…":n})}const JG=B.button`
  margin-bottom: 10px;
  padding: 8px 12px;
  border-radius: 4px;
  border: 1px solid ${({theme:e})=>e.colors.black};
  background: ${({theme:e})=>e.colors.white01};
  font-size: 14px;
  &:disabled { opacity: 0.5; pointer-events: none; }
`,nR=e=>{if(e==null)return"";const t=String(e).replace(/"/g,'""');return/[",\n]/.test(t)?`"${t}"`:t},tK=(e,t)=>t.split(".").reduce((n,i)=>n?n[i]:void 0,e),sg=e=>e<10?`0${e}`:`${e}`,eK=e=>{if(e==null)return"";if(typeof e=="object"&&typeof e.toDate=="function"){const t=e.toDate();return`${t.getFullYear()}-${sg(t.getMonth()+1)}-${sg(t.getDate())}`}return e instanceof Date?`${e.getFullYear()}-${sg(e.getMonth()+1)}-${sg(e.getDate())}`:String(e)};function nK(e){const{rows:t,fields:n,filename:i="export.csv",headers:s,serialize:r=eK}=e,l=n.map(y=>nR((s==null?void 0:s[y])??y)).join(","),c=t.map(y=>{const _={id:y.id,...y};return n.map(E=>nR(r(tK(_,E)))).join(",")}),h="\uFEFF"+[l,...c].join(`\r
`),d=new Blob([h],{type:"text/csv;charset=utf-8"}),p=document.createElement("a");p.href=URL.createObjectURL(d),p.download=i,p.click(),URL.revokeObjectURL(p.href)}const iR="진행 상태 선택",sR="요청자 선택",rR="디자이너 선택",aR="회사 선택",sl=e=>String(e??"").trim();async function iK(e){const t=sl(e.company).toLowerCase();if(t==="nsmall"){const i=Rn(Ge(Kt,"nsmall_task_work_hour"),on("nsmall_task_type","==",sl(e.task_type)),on("nsmall_task_type_detail","==",sl(e.task_type_detail))),s=await ao(i);if(!s.empty){const r=s.docs[0].data(),l=Number(r.nsmall_task_work_times);return Number.isFinite(l)?l:1}return 1}if(t==="homeplus"){const i=Rn(Ge(Kt,"homeplus_task_work_hour"),on("homeplus_task_form","==",sl(e.task_form)),on("homeplus_task_type","==",sl(e.task_type))),s=await ao(i);if(!s.empty){const r=s.docs[0].data(),l=Number(r.homeplus_task_work_times);return Number.isFinite(l)?l:1}return 1}const n=await ao(Rn(Ge(Kt,"task_work_hour"),on("task_form","==",sl(e.task_form)),on("task_type","==",sl(e.task_type))));if(!n.empty){const i=Number(n.docs[0].data().task_work_times);return Number.isFinite(i)?i:1}return 1}function sK({view:e,setIsDrawerOpen:t,setDetailData:n,userRole:i}){const[s,r]=j.useState([]),[l,c]=j.useState([]),[h,d]=j.useState({}),[p,y]=j.useState({}),[_,x]=j.useState(iR),[E,S]=j.useState({start:null,end:null}),[T,D]=j.useState(""),[M,N]=j.useState(""),[U,P]=j.useState([]),[G,C]=j.useState(sR),[R,O]=j.useState([]),[V,$]=j.useState(rR),[H,z]=j.useState([]),[Ct,Q]=j.useState(aR),[q,K]=j.useState(!1);j.useEffect(()=>{if(e==="dashboard"||e==="inworkhour"){r([]);return}const bt=Rn(Ge(Kt,"design_request"),Sd("design_request_id","desc")),Mt=as(bt,At=>{const Tt=At.docs.map(te=>({id:te.id,...te.data()}));r(Tt)});return()=>Mt()},[e]),j.useEffect(()=>{s.length&&d(bt=>{const Mt={...bt};return s.forEach(At=>{Mt[At.id]===void 0&&(Mt[At.id]=Array.isArray(At.assigned_designers)?At.assigned_designers:[])}),Mt})},[s]),j.useEffect(()=>{s.length&&y(bt=>{const Mt={...bt};return s.forEach(At=>{Mt[At.id]===void 0&&(Mt[At.id]=At.out_work_hour!=null?String(At.out_work_hour):"")}),Mt})},[s]),j.useEffect(()=>{(async()=>{const Mt=Rn(Ge(Kt,"users"),on("role","==",2)),Tt=(await ao(Mt)).docs.map(te=>({id:te.id,...te.data()}));c(Tt),O(Tt.map(te=>te.name).filter(Boolean))})()},[]),j.useEffect(()=>{const bt=as(Ge(Kt,"users"),Mt=>{const At=new Set;Mt.forEach(Tt=>{const te=String(Tt.data().company??"").trim();te&&At.add(te)}),z(Array.from(At).sort())});return()=>bt()},[]);const ot=(bt,Mt)=>{d(At=>({...At,[bt]:Mt}))},nt=async bt=>{const Mt=(h[bt]||[]).filter(Boolean);if(!Mt.length){alert("디자이너를 선택하세요.");return}const At=An(Kt,"design_request",bt);await ys(At,{assigned_designers:N5(...Mt)}),d(Tt=>({...Tt,[bt]:[]})),alert("디자이너가 배정되었습니다!")},F=async(bt,Mt)=>{const At=An(Kt,"design_request",bt);await ys(At,{assigned_designers:L5(Mt)})},it=async bt=>{await ys(An(Kt,"design_request",bt),{manager_review_status:"검수완료",status:"검수중"}),r(Mt=>Mt.map(At=>At.id===bt?{...At,manager_review_status:"검수완료",status:"검수중"}:At)),alert("요청자에게 전달되었습니다.")};j.useEffect(()=>{(async()=>{const bt=Rn(Ge(Kt,"users"),on("role","==",1)),At=(await ao(bt)).docs.map(Tt=>Tt.data().name).filter(Boolean);P(At)})()},[]);const at=bt=>{n(bt),t(!0)},ht=bt=>S(bt),yt=bt=>x(bt),Et=bt=>N(bt.trim()),Y=bt=>C(bt),lt=bt=>$(bt),ut=bt=>Q(bt),dt=bt=>new Date(bt.getFullYear(),bt.getMonth(),bt.getDate()),St=bt=>{if(!bt)return null;if(typeof bt=="object"&&typeof bt.toDate=="function")return dt(bt.toDate());if(bt instanceof Date)return dt(bt);if(typeof bt=="number")return dt(new Date(bt));if(typeof bt=="string"){const At=bt.replace(/\./g,"-").replace(/\//g,"-").split("-");if(At.length===3){const[te,hi,fe]=At.map(Number),ee=te>31?te:new Date().getFullYear();return new Date(ee,hi-1,fe)}if(At.length===2){const[te,hi]=At.map(Number),fe=new Date().getFullYear();return new Date(fe,te-1,hi)}const Tt=new Date(bt);return isNaN(+Tt)?null:dt(Tt)}return null},Ft=bt=>bt==="검수요청"?"검수중":bt==="검수중"?"검수요청":bt??"대기",Qt=j.useMemo(()=>s.map(bt=>{const Mt=Ft(bt.status),At=Array.isArray(bt.assigned_designers)?bt.assigned_designers.join(", "):"";return Ux({...bt,displayStatus:Mt,assigned_display:At})}),[s]),me=j.useMemo(()=>{const bt=E.start?dt(E.start):null,Mt=E.end?dt(E.end):null;return Qt.filter(At=>{let Tt=!0;if(_!==iR&&At.status!==_&&(Tt=!1),Tt&&G!==sR&&At.requester!==G&&(Tt=!1),Tt&&V!==rR){const te=Array.isArray(At.assigned_designers)?At.assigned_designers:[],hi=At.assigned_designer??"";te.includes(V)||hi===V||(Tt=!1)}if(Tt&&Ct!==aR&&String(At.company)!==Ct&&(Tt=!1),Tt&&bt&&Mt){const te=St(At.request_date)||St(At.requested_at)||St(At.requestDate);(!te||te<bt||te>Mt)&&(Tt=!1)}return Tt&&M&&!zx(At,M)&&(Tt=!1),Tt})},[Qt,_,G,V,Ct,E,M]),Jn=(bt,Mt)=>{const At=Mt.replace(/[^0-9.]/g,"");y(Tt=>({...Tt,[bt]:At}))},Bi=async bt=>{const Mt=s.find(At=>At.id===bt);await ys(An(Kt,"design_request",bt),{work_hour_edit_state:!0}),r(At=>At.map(Tt=>Tt.id===bt?{...Tt,work_hour_edit_state:!0}:Tt)),y(At=>({...At,[bt]:At[bt]!==void 0&&At[bt]!==""?At[bt]:(Mt==null?void 0:Mt.out_work_hour)!=null?String(Mt.out_work_hour):""}))},cs=async bt=>{const Mt=s.find(fe=>fe.id===bt);if(!Mt)return;const At=(p[bt]??"").trim(),Tt=Number(At.replace(",","."));if(!Number.isFinite(Tt)||Tt<0){alert("유효한 공수를 입력하세요.");return}const te=await iK(Mt),hi=Math.round(Tt*te*1e3)/1e3;await ys(An(Kt,"design_request",bt),{out_work_hour:Tt,in_work_hour:hi,work_hour_edit_state:!1}),r(fe=>fe.map(ee=>ee.id===bt?{...ee,out_work_hour:Tt,in_work_hour:hi,work_hour_edit_state:!1}:ee)),alert("공수 수정 완료")},Xe=bt=>{if(!bt)return"";typeof bt=="object"&&typeof bt.toDate=="function"&&(bt=bt.toDate());const Mt=bt instanceof Date?bt:new Date(bt);if(isNaN(+Mt))return"";const At=Mt.getFullYear(),Tt=String(Mt.getMonth()+1).padStart(2,"0"),te=String(Mt.getDate()).padStart(2,"0");return`${At}-${Tt}-${te}`},hr=async()=>{K(!0);try{const bt=["design_request_id","request_date","completion_date","open_date","merchandiser","requester","task_form","task_type","task_type_detail","requirement","url","note","status","result_url","designer_start_date","designer_end_date","assigned_designers","work_hour"],Mt={design_request_id:"문서번호",request_date:"요청일",completion_date:"완료요청일",open_date:"오픈일",merchandiser:"담당MD",requester:"요청자",task_form:"업무부서",task_type:"업무형태",task_type_detail:"업무형태상세",requirement:"작업항목",url:"요청서URL",note:"메모",status:"진행상태",result_url:"산출물URL",designer_start_date:"디자인 시작일",designer_end_date:"디자인 종료일",assigned_designers:"디자이너",work_hour:"공수"},At=me.map(Tt=>{const te=Array.isArray(Tt.assigned_designers)?Tt.assigned_designers.join(", "):"";return{design_request_id:Tt.design_request_id??"",request_date:Xe(Tt.request_date??Tt.requested_at??Tt.requestDate),completion_date:Xe(Tt.completion_date),open_date:Xe(Tt.open_date),merchandiser:Tt.merchandiser??Tt.md??"",requester:Tt.requester??"",task_form:Tt.task_form??"",task_type:Tt.task_type??"",task_type_detail:Tt.task_type_detail??"",requirement:Tt.requirement??"",url:Tt.url??"",note:Tt.note??"",status:Tt.status??"",result_url:Tt.result_url??"",designer_start_date:Xe(Tt.designer_start_date),designer_end_date:Xe(Tt.designer_end_date),assigned_designers:te,work_hour:(Tt.in_work_hour??Tt.out_work_hour??"")+""}});nK({rows:At,fields:bt,headers:Mt,filename:"design_request_current_view.csv"})}finally{K(!1)}},dr=async bt=>{await ys(An(Kt,"design_request",bt),{work_hour_edit_state:!1}),r(Mt=>Mt.map(At=>At.id===bt?{...At,work_hour_edit_state:!1}:At))};return v.jsxs(rK,{children:[v.jsx(bx,{userRole:i}),e==="myrequestlist"&&v.jsxs(aK,{children:[v.jsx(Cd,{roleNumber:3,onApplyStatus:yt,onApplyRange:ht,onSearch:Et,keyword:T,onKeywordChange:D,isManager:!0,requesterOptions:U,onApplyRequester:Y,designerOptions:R,onApplyDesigner:lt,companyOptions:H,onApplyCompany:ut}),v.jsx(ZG,{onClick:hr,loading:q}),v.jsx(OG,{data:me,designerList:l,selectedDesigners:h,designerSelect:ot,assignDesigner:nt,unassignDesigner:F,sendToRequester:it,onDetailClick:at,workHours:p,onChangeWorkHour:Jn,onSaveWorkHour:cs,onStartEditWorkHour:Bi,onCancelEditWorkHour:dr})]}),e==="dashboard"&&v.jsx(oK,{children:v.jsx(Vx,{capacityHoursPerMonth:704})}),e==="inworkhour"&&v.jsx(YG,{})]})}const rK=B.div``,aK=B.div`
  padding: 0 48px 22px;
`,oK=B.div`
  max-height: 766px;
  padding: 0 48px;
  overflow: auto;
`;function lK({userRole:e,setIsDrawerOpen:t,setEditData:n,setDetailData:i}){const[s,r]=pm(),l=s.get("view")||"dashboard";j.useEffect(()=>{s.get("view")||r(h=>{const d=new URLSearchParams(h);return d.set("view","dashboard"),d},{replace:!0})},[]);const c=()=>{if(e===1)return v.jsx(VY,{view:l,userRole:e,setIsDrawerOpen:t,setEditData:n,setDetailData:i});if(e===2)return v.jsx(rG,{view:l,userRole:e,setIsDrawerOpen:t,setDetailData:i});if(e===3)return v.jsx(sK,{view:l,userRole:e,setIsDrawerOpen:t,setDetailData:i})};return v.jsx(cK,{children:c()})}const cK=B.main`
  height: calc(100% - 64px);
`,uK="/pdms-test/assets/aside-logo-DHSQzRu2.svg",hK="/pdms-test/assets/myrequest-icon-DhmqrZY6.svg";function dK({item:e}){return v.jsxs(gK,{status:e.status,children:[v.jsx(mK,{children:e.status}),v.jsx(yK,{status:e.status,children:e.count})]})}const fK=(e,t)=>{switch(e){case"대기":return t.colors.beige01;case"진행중":return t.colors.lightpupple;case"검수요청":case"검수중":return t.colors.pink03;case"완료":return t.colors.gray04;case"취소":return t.colors.gray07;default:return"#f9f9f9"}},pK=(e,t)=>{switch(e){case"대기":return t.colors.orange;case"진행중":return t.colors.blue01;case"검수요청":case"검수중":return t.colors.red;case"완료":return t.colors.gray02;case"취소":return t.colors.gray03;default:return t.colors.gray03}},gK=B.li`
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  padding: 20.5px 44px 20.5px 28px;
  margin-bottom: 8px;
  border-radius: 4px;
  font-family: 'Pretendard';
  color: ${({theme:e})=>e.colors.black};
  background-color: ${({status:e,theme:t})=>fK(e,t)};
`,mK=B.span`
  font-size: 16px;
  font-weight: 500;
`,yK=B.span`
  position: relative;
  width: 10px;
  font-size: 14px;
  font-weight: 700;

  &::before {
    content: "";
    position: absolute;
    top: 50%;
    left: -40px;
    display: block;
    width: 1px;
    height: 18px;
    transform: translateY(-50%);
    background-color: ${({status:e,theme:t})=>pK(e,t)};
  }
`,_K="/pdms-test/assets/icon_slack_gray-BGCbyQrc.svg",bK="/pdms-test/assets/icon_slack_white-COpHHs97.svg",oR="/pdms-test/assets/icon_google_drive_gray-DDhA1xcb.svg",lR="/pdms-test/assets/icon_google_drive_white-DHwRCpfO.svg",vK="/pdms-test/assets/icon_google_chat_gray-FeA3IgVc.svg",xK="/pdms-test/assets/icon_google_chat_white-DLxDEfnc.svg",cR={HOMEPLUS:"homeplus",NSMALL:"nsmall"},wK={homeplus:{slack:{href:"https://hmp-m-design.slack.com/?redir=%2Farchives%2FC06TTC8518T%3Fname%3DC06TTC8518T",icon:_K,hover:bK},drive:{href:"https://drive.google.com/drive/folders/1-hQiEmPEomtaDFgnRqt0bAaxIFEWEvYn",icon:oR,hover:lR}},nsmall:{chat:{href:"https://mail.google.com/chat/u/0/#chat/home",icon:vK,hover:xK},drive:{href:"https://drive.google.com/drive/",icon:oR,hover:lR}}};function EK(){const[e,t]=j.useState("");j.useEffect(()=>{const s=wo(ci,async r=>{if(!r){t("");return}const l=await Sl(An(Kt,"users",r.uid));if(l.exists()){const c=l.data();t(c.company??"")}else t("")});return()=>s()},[]);const n=j.useMemo(()=>{const s=String(e??"").trim().replace(/\s+/g,"").toLowerCase();return s==="homeplus"?cR.HOMEPLUS:s==="nsmall"||s==="n-small"?cR.NSMALL:null},[e]),i=j.useMemo(()=>{if(!n)return[];const s=wK[n],r=[];return s.slack&&r.push({href:s.slack.href,icon:s.slack.icon,hover:s.slack.hover,key:"slack"}),s.chat&&r.push({href:s.chat.href,icon:s.chat.icon,hover:s.chat.hover,key:"chat"}),s.drive&&r.push({href:s.drive.href,icon:s.drive.icon,hover:s.drive.hover,key:"drive"}),r},[n]);return v.jsxs(SK,{children:[v.jsxs(TK,{children:[v.jsx(AK,{children:"PDMS"}),v.jsx(kK,{children:"© Pushcomz Corp."})]}),i.length>0&&v.jsx(RK,{children:i.map(s=>v.jsx(DO,{children:v.jsx(CK,{target:"_blank",rel:"noreferrer",$icon:s.icon,$iconHover:s.hover,href:s.href})},s.key))})]})}const SK=B.footer`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  font-family: 'Pretendard';
  padding: 24px;
  padding-top: 0px;
  gap: 0 13px;
`,TK=B.div`
  ${({theme:e})=>e.mixin.flex("flex-start")};
  flex-direction: column;
`,AK=B.strong`
  font-size: 20px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.gray05};
`,kK=B.span`
  font-size: 12px;
  font-weight: 300;
  line-height: 20px;
  color: ${({theme:e})=>e.colors.gray05};
  text-align: center;
  white-space: nowrap;
`,RK=B.ul`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  gap: 0 8px;
`,DO=B.li`
  ${({theme:e})=>e.mixin.flex("center","center")};
  width: 36px;
  height: 36px;
  background-color: ${({theme:e})=>e.colors.gray01};
  border-radius: 50%;
  &:hover {
    background-color: ${({theme:e})=>e.colors.black};
  }
`,CK=B.a`
  display: block;
  width: 20px;
  height: 20px;
  background: ${({$icon:e})=>`url(${e}) no-repeat center / 20px 20px`};
  cursor: pointer;

  &:hover {
    background-image: ${({$iconHover:e})=>`url(${e})`};
  }
  
  ${DO}:hover & {
    background-image: ${({$iconHover:e})=>`url(${e})`};
  }
`,$e={WAIT:"대기",PROG:"진행중",REQ:"검수요청",REV:"검수중",DONE:"완료",CAN:"취소"},DK=(e,t)=>{const n=i=>t.reduce((s,r)=>r.status&&i.includes(r.status)?s+1:s,0);switch(e){case 1:return[{status:"대기",count:n([$e.WAIT])},{status:"진행중",count:n([$e.PROG,$e.REQ])},{status:"검수중",count:n([$e.REV])},{status:"완료",count:n([$e.DONE])},{status:"취소",count:n([$e.CAN])}];case 2:return[{status:"대기",count:n([$e.WAIT])},{status:"진행중",count:n([$e.PROG])},{status:"검수요청",count:n([$e.REQ,$e.REV])},{status:"완료",count:n([$e.DONE])},{status:"취소",count:n([$e.CAN])}];case 3:return[{status:"대기",count:n([$e.WAIT])},{status:"진행중",count:n([$e.PROG])},{status:"검수중",count:n([$e.REQ])},{status:"검수요청",count:n([$e.REV])},{status:"완료",count:n([$e.DONE])},{status:"취소",count:n([$e.CAN])}];default:return[{status:"대기",count:n([$e.WAIT])},{status:"진행중",count:n([$e.PROG])},{status:"검수요청",count:n([$e.REQ])},{status:"검수중",count:n([$e.REV])},{status:"완료",count:n([$e.DONE])},{status:"취소",count:n([$e.CAN])}]}},MK=(e,t)=>{switch(e){case 1:return`${t}님의 요청`;case 2:return`${t}님의 작업 현황`;case 3:return"전체 요청 현황";default:return"요청 현황"}};function IK({requests:e,role:t,userName:n,onRequestButtonClick:i}){const s=DK(t,e);return v.jsxs(OK,{children:[v.jsxs(PK,{children:[v.jsxs(NK,{children:[v.jsx(LK,{src:uK}),v.jsx(jK,{children:"업무 관리시스템"})]}),t===1&&v.jsx(VK,{children:v.jsx(UK,{onClick:i,children:"디자인 요청 등록"})}),v.jsxs(zK,{children:[v.jsxs(FK,{children:[v.jsx(BK,{src:hK}),v.jsx($K,{children:MK(t,n)})]}),v.jsx(qK,{children:s.map(r=>v.jsx(dK,{item:r},r.status))})]})]}),v.jsx(EK,{})]})}const OK=B.aside`
  ${({theme:e})=>e.mixin.flex("","space-between")};
  flex-direction: column;
  width: 240px;
  height: 100%;
  border-right: 1px solid ${({theme:e})=>e.colors.black};
`,PK=B.div`
  
`,NK=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  padding: 18.5px 0;
  border-bottom: 1px solid ${({theme:e})=>e.colors.gray02};
`,LK=B.img`
  margin-right: 8px;
`,jK=B.span`
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
  white-space: nowrap;
`,VK=B.div`
  text-align: center;
  padding: 32px 0;
  border-bottom: 1px solid ${({theme:e})=>e.colors.gray02};
`,UK=B.button`
  padding: 12px 44px;
  border-radius: 8px;
  font-family: 'Pretendard';
  font-size: 16px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,zK=B.div`
  padding: 0 24px;
`,FK=B.div`
  ${({theme:e})=>e.mixin.flex("center")};
  gap: 12px;
  padding: 30px 0;
`,BK=B.img``,$K=B.h4`
  font-family: 'Pretendard';
  font-size: 17px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
`,qK=B.ul`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`;function HK({isOpen:e,onClose:t,children:n}){return v.jsxs(v.Fragment,{children:[v.jsx(WK,{isVisible:e,onClick:t}),v.jsx(YK,{isVisible:e,onClick:i=>i.stopPropagation(),children:n})]})}const WK=B.div`
  position: fixed;
  top: 0; right: 0; bottom: 0; left: 0;
  background: rgba(0, 0, 0, 0.3);
  z-index: 1000;
  opacity: ${({isVisible:e})=>e?1:0};
  pointer-events: ${({isVisible:e})=>e?"auto":"none"};
  transition: opacity 0.3s ease;
`,YK=B.div`
  position: fixed;
  top: 64px;
  right: 0;
  width: 680px;
  height: 100%;
  background-color: white;
  box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
  z-index: 1001;
  overflow-y: hidden;
  padding: 24px;
  transform: ${({isVisible:e})=>e?"translateX(0)":"translateX(100%)"};
  transition: transform 0.3s ease;
`,MO="/pdms-test/assets/requestformexit-button-BcAG546a.svg",GK="/pdms-test/assets/checkbox-checked-eOVFoR8b.svg";function KK({value:e,options:t,placeholder:n,onChange:i,wide:s,disabled:r}){const[l,c]=j.useState(!1),[h,d]=j.useState(null),p=j.useRef(null),y=e||n||(t[0]??""),_=()=>c(!1),x=()=>{if(r)return;const S=p.current;S&&(d(S.getBoundingClientRect()),c(T=>!T))};j.useEffect(()=>{if(!l)return;const S=D=>{const M=D.target;p.current&&M&&p.current.contains(M)||M&&M.closest('[data-selectdown-menu="1"]')||_()},T=()=>{const D=p.current;if(!D){_();return}d(D.getBoundingClientRect())};return document.addEventListener("click",S,!0),window.addEventListener("scroll",T,!0),window.addEventListener("resize",T),()=>{document.removeEventListener("click",S,!0),window.removeEventListener("scroll",T,!0),window.removeEventListener("resize",T)}},[l]);const E=S=>{i(S),_()};return v.jsxs(v.Fragment,{children:[v.jsxs(XK,{ref:p,type:"button",onClick:x,disabled:r,$wide:s,"aria-haspopup":"listbox","aria-expanded":l,children:[v.jsx("span",{className:"label",children:y||"선택"}),v.jsx("span",{className:"arrow"})]}),l&&h&&jN.createPortal(v.jsx(QK,{"data-selectdown-menu":"1",style:{top:h.bottom,left:h.left,width:h.width},role:"listbox",onMouseDown:S=>S.stopPropagation(),children:t.map(S=>v.jsx(ZK,{role:"option","aria-selected":S===e,$active:S===e,onClick:()=>E(S),title:S,children:S},S))}),document.body)]})}const XK=B.button`
  width: ${({$wide:e})=>e?"215px":"168px"};
  height: 36px;
  padding: 0 11px 0 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  background: ${({theme:e})=>e.colors.white01};
  display: inline-flex;
  align-items: center;
  justify-content: space-between;
  position: relative;

  .label {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
  .arrow {
    pointer-events: none;
    width: 16px; height: 16px;
    background: url(${Wm}) no-repeat center / contain;
  }

  &:focus { outline: none; border-color: ${({theme:e})=>e.colors.black}; }
  &:disabled { opacity: .6; cursor: default; }
`,QK=B.ul`
  position: fixed;   /* 포털 기준: 뷰포트 좌표 */
  z-index: 9999;
  max-height: 280px;
  overflow: auto;
  margin: 0;
  list-style: none;
  border: 1px solid ${({theme:e})=>e.colors.black};
  /* border-radius: 6px; */
  background: ${({theme:e})=>e.colors.white01};
  box-shadow: 0 6px 18px rgba(0,0,0,.12);
`,ZK=B.li`
  padding: 9px 16px;
  font-size: 15px;
  cursor: pointer;
  background: ${({$active:e,theme:t})=>e?t.colors.gray04:"transparent"};

  &:hover { 
    background: #377dff; 
    color: ${({theme:e})=>e.colors.white01}
  };
`,rg={completion_date:"",open_date:"",merchandiser:"",task_form:"",task_type:"",task_type_detail:"",requirement:"",url:"",note:"",emergency:!1},uR=["GHS","MHC"],Fx=["핫새배너","홈테마","프론트테마","페이/카드프로모션","팝업","트레이딩","즉시배송","제휴","일자별배너","이벤트배너","별도기획전","GNB-택배배송관","GNB-주류이지픽업","GNB-기획전","이벤트","기타"],Bx=["프론트테마","푸시","트레이딩","클럽","이벤트배너","이벤트","기타"],JK={GHS:Fx,MHC:Bx},hR=["M영업기획팀","디지털마케팅팀","M상품1팀","M상품2팀","M상품3팀","TV영업기획팀","TC영업기획팀","미디어컨텐츠팀","전략기획팀","MC서비스기획팀"],tX=["프로모션","배너(프로모션,연관)","배너(마케팅)","배너(상품)","배너(etv/etcom)","배너(엔라방)","썸네일(그룹)"],eX={프로모션:["마케팅","마케팅-FULL","마케팅-템플릿","마케팅-모션적용","상품(식품/공산품)","상품(식품/공산품)-브랜드템플릿","etv/etcom","프로모션 수정"],"배너(프로모션,연관)":["템플릿","템플릿-모션","템플릿-썸네일형","공통","기타"],"배너(마케팅)":["템플릿","템플릿-썸네일형","공통","광고성","홈전단지컨셉"],"배너(상품)":["템플릿","공통"],"배너(etv/etcom)":["템플릿","공통"],"배너(엔라방)":["템플릿","공통"],"썸네일(그룹)":["마케팅","그룹코드_프로모션","1팀","2팀","3팀","etv/etcom","엔라방"]},nX=e=>(e??"").trim().toLowerCase(),Je=e=>nX(e)==="nsmall",Ig=e=>{const t=(e??"").trim(),n=JK[t];return n&&n.length?[...n]:Array.from(new Set([...Fx,...Bx]))},Og=e=>Ig(e)[0]??"",iX=e=>{if(Je(e))return{forms:[...hR],types:[...tX],formDefault:hR[0],typeDefault:""};const t=uR[0];return{forms:[...uR],types:Array.from(new Set([...Fx,...Bx])),formDefault:t,typeDefault:Og(t)}};function dR({userName:e,editData:t,isDrawerOpen:n,onClose:i}){const s=(t==null?void 0:t.requester_edit_state)===!0,[r,l]=j.useState(rg),[c,h]=j.useState([]),[d,p]=j.useState(""),y=j.useMemo(()=>iX(d),[d]),_=_o(),x=ks(),E=()=>{const Q=new URLSearchParams(x.search);Q.set("view","myrequestlist"),_({pathname:"/main",search:Q.toString()},{replace:!0})},S=Q=>{const q=(Q??"").trim();return eX[q]??[]},T=j.useMemo(()=>Je(d)?S(r.task_type):[],[d,r.task_type]),D=j.useMemo(()=>{const Q=[...y.forms];return s&&r.task_form&&!Q.includes(r.task_form)&&Q.unshift(r.task_form),Q},[y.forms,s,r.task_form]),M=j.useMemo(()=>{if(Je(d)){const K=[...y.types];return s&&r.task_type&&!K.includes(r.task_type)&&K.unshift(r.task_type),K}const Q=r.task_form||y.formDefault,q=Ig(Q);return s&&r.task_type&&!q.includes(r.task_type)&&q.unshift(r.task_type),q},[d,y.types,y.formDefault,s,r.task_form,r.task_type]),N=(Q,q)=>{if(Q==="task_type"&&Je(d)){l(K=>({...K,task_type:q,task_type_detail:""}));return}if(Q==="task_form"&&!Je(d)){const K=q,ot=Ig(K);l(nt=>({...nt,task_form:K,task_type:ot.includes(nt.task_type||"")?nt.task_type:ot[0]}));return}l(K=>({...K,[Q]:q}))},U=Q=>typeof Q!="string"||Q.trim()==="",P=(Q,q)=>U(Q.completion_date)?"완료 요청일을 선택하세요.":U(Q.open_date)?"오픈일을 선택하세요.":U(Q.task_form)?"업무 부서를 선택하세요.":U(Q.task_type)?"업무 유형을 선택하세요.":q&&U(Q.task_type_detail)?"업무 유형 상세를 선택하세요.":U(Q.requirement)?"작업 항목을 입력하세요.":null,G=()=>h(Q=>[...Q,{...rg,task_form:y.formDefault,task_type:y.typeDefault,task_type_detail:""}]),C=Q=>h(q=>q.filter((K,ot)=>ot!==Q)),R=(Q,q,K)=>h(ot=>{const nt=[...ot];return q==="task_type"&&Je(d)?nt[Q]={...nt[Q],task_type:K,task_type_detail:""}:nt[Q]={...nt[Q],[q]:K},nt}),O=Q=>Q?Oe.fromDate(new Date(Q)):null,V=async()=>{const Q=new Date,q=Q.getFullYear().toString().slice(2),K=(Q.getMonth()+1).toString().padStart(2,"0"),ot=Rn(Ge(Kt,"design_request"),on("design_request_id",">=",`H${q}${K}0000`),on("design_request_id","<",`H${q}${K}9999`)),nt=await ao(ot);return{year:q,month:K,base:nt.size}},$=(Q,q,K)=>`H${Q}${q}${K.toString().padStart(4,"0")}`,H=async(Q,q)=>{const K=Rn(Ge(Kt,"homeplus_task_work_hour"),on("homeplus_task_form","==",Q),on("homeplus_task_type","==",q));return await ao(K)},z=async(Q,q,K)=>{if(Je(d)){if(!q||!K)return{base:null,times:null};const at=Rn(Ge(Kt,"nsmall_task_work_hour"),on("nsmall_task_type","==",q),on("nsmall_task_type_detail","==",K)),ht=await ao(at);if(ht.empty)return{base:null,times:null};const yt=ht.docs[0].data(),Et=typeof yt.nsmall_task_work_hour=="number"?yt.nsmall_task_work_hour:null,Y=typeof yt.nsmall_task_work_times=="number"?yt.nsmall_task_work_times:null;return console.log("[NSMALL preset]",{task_type:q,task_type_detail:K,base:Et,times:Y,docId:ht.docs[0].id}),{base:Et,times:Y}}if(!Q||!q)return{base:null,times:null};let ot=await H(Q,q);if(ot.empty&&(Q==="GHS"||Q==="MHC")&&(ot=await H(Q==="GHS"?"MHC":"GHS",q)),ot.empty)return{base:null,times:null};const nt=ot.docs[0].data(),F=typeof nt.homeplus_task_work_hour=="number"?nt.homeplus_task_work_hour:null,it=typeof nt.homeplus_task_work_times=="number"?nt.homeplus_task_work_times:null;return console.log("[HOMEPLUS preset]",{task_form:Q,task_type:q,base:F,times:it,docId:ot.docs[0].id}),{base:F,times:it}},Ct=async Q=>{if(Q.preventDefault(),s){const at=P(r,Je(d));if(at){alert(at);return}}if(s&&(t!=null&&t.id)){const at=(r.task_form||"")!==(t.task_form||""),ht=(r.task_type||"")!==(t.task_type||""),yt=Je(d)&&(r.task_type_detail||"")!==(t.task_type_detail||""),Et={completion_date:O(r.completion_date),open_date:O(r.open_date),merchandiser:r.merchandiser??"",task_form:r.task_form||y.formDefault,task_type:Je(d)?r.task_type??"":r.task_type||y.typeDefault,task_type_detail:r.task_type_detail??"",requirement:r.requirement,url:r.url,note:r.note,emergency:r.emergency,requester_edit_state:!1,updated_date:O0()};if(at||ht||yt){const{base:Y,times:lt}=await z(Et.task_form,Et.task_type,Et.task_type_detail);Et.out_work_hour=Y,Et.in_work_hour=Y!=null&&lt!=null?Number((Y*lt).toFixed(2)):null,Et.work_hour_edit_state=!1}await ys(An(Kt,"design_request",t.id),Et),alert("요청이 수정되었습니다!"),i();return}const q=[r,...c];for(let at=0;at<q.length;at++){const ht=q[at],yt=P(ht,Je(d));if(yt){alert(`${at===0?"메인 폼":`추가 요청 ${at}`} ${yt}`);return}}const{year:K,month:ot,base:nt}=await V();let F=nt;const it=new Date;for(const at of q){F+=1;const ht=$(K,ot,F),yt=at.task_form||y.formDefault,Et=Je(d)?at.task_type||"":at.task_type||Og(yt),{base:Y,times:lt}=await z(at.task_form,at.task_type,at.task_type_detail),ut=Y!=null&&lt!=null?Number((Y*lt).toFixed(2)):null;await P5(Ge(Kt,"design_request"),{design_request_id:ht,request_date:O(it.toISOString()),merchandiser:at.merchandiser??"",requester:e,company:d,completion_date:O(at.completion_date),open_date:O(at.open_date),task_form:yt,task_type:Et,task_type_detail:at.task_type_detail??"",requirement:at.requirement,url:at.url,note:at.note,status:"대기",assigned_designers:[],requester_review_status:"검수대기",manager_review_status:"",result_url:"",designer_start_date:null,designer_end_date:null,emergency:at.emergency,requester_edit_state:!1,designer_edit_state:!1,in_work_hour:ut,out_work_hour:Y,work_hour_edit_state:!1,created_date:O0(),updated_date:null,delete_date:null})}alert(`${q.length}건이 등록되었습니다!`),h([]),l(rg),E(),i()};return j.useEffect(()=>{s&&t&&l({completion_date:t.completion_date?t.completion_date.toDate().toISOString().slice(0,10):"",open_date:t.open_date?t.open_date.toDate().toISOString().slice(0,10):"",merchandiser:t.merchandiser??"",task_form:t.task_form??"",task_type:t.task_type??"",task_type_detail:t.task_type_detail??"",requirement:t.requirement??"",url:t.url??"",note:t.note??"",emergency:t.emergency??!1})},[s,t]),j.useEffect(()=>{!n||s||(l({...rg,task_form:y.formDefault,task_type:y.typeDefault,task_type_detail:""}),h([]))},[n,s,y.formDefault,y.typeDefault]),j.useEffect(()=>{const Q=wo(ci,async q=>{var ot;if(!q){p("");return}const K=await Sl(An(Kt,"users",q.uid));p(((ot=K.data())==null?void 0:ot.company)??"")});return()=>Q()},[]),j.useEffect(()=>{s||l(Q=>{const q={...Q};return y.forms.includes(q.task_form||"")||(q.task_form=y.formDefault),y.types.includes(q.task_type||"")||(q.task_type=y.typeDefault,q.task_type_detail=""),q})},[y.forms,y.types,y.formDefault,y.typeDefault,s]),v.jsxs(v.Fragment,{children:[v.jsxs(rX,{children:[v.jsx(aX,{children:s?"디자인 요청 수정":"디자인 요청 등록"}),v.jsx(oX,{type:"button",onClick:i})]}),v.jsxs(sX,{onSubmit:Ct,children:[v.jsxs(lX,{children:[v.jsxs(fR,{children:[v.jsx(pR,{children:"디자인 요청 등록"}),v.jsx("colgroup",{children:v.jsx("col",{style:{width:"120px"}})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx(pn,{children:"문서번호"}),v.jsx(gn,{children:s?t==null?void 0:t.design_request_id:""})]}),v.jsxs("tr",{children:[v.jsx(pn,{children:v.jsx(Vn,{htmlFor:"completion_date",children:"완료 요청일"})}),v.jsx(gn,{children:v.jsx(ag,{type:"date",id:"completion_date",value:r.completion_date,onChange:Q=>N("completion_date",Q.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(pn,{children:v.jsx(Vn,{htmlFor:"open_date",children:"오픈일"})}),v.jsx(gn,{children:v.jsx(ag,{type:"date",id:"open_date",value:r.open_date,onChange:Q=>N("open_date",Q.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(pn,{children:v.jsx(Vn,{htmlFor:"merchandiser",children:"담당 MD"})}),v.jsx(gn,{children:v.jsx(og,{type:"text",id:"merchandiser",value:r.merchandiser||"",onChange:Q=>N("merchandiser",Q.target.value),placeholder:"담당 MD 이름을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(pn,{children:v.jsx(Vn,{htmlFor:"task_form",children:"업무 부서"})}),v.jsx(gn,{children:v.jsx(kc,{id:"task_form",$wide:Je(d),value:r.task_form||y.formDefault,onChange:Q=>N("task_form",Q.target.value),children:D.map(Q=>v.jsx("option",{value:Q,children:Q},Q))})})]}),v.jsxs("tr",{children:[v.jsx(pn,{children:v.jsx(Vn,{htmlFor:"task_type",children:"업무 유형"})}),v.jsx(gn,{children:Je(d)?v.jsxs(v.Fragment,{children:[v.jsxs(kc,{id:"task_type",$wide:!0,value:s?r.task_type||M[0]||"":r.task_type??"",onChange:Q=>N("task_type",Q.target.value),children:[!s&&v.jsx("option",{value:"",children:"업무 유형을 선택해주세요"}),M.map(Q=>v.jsx("option",{value:Q,children:Q},Q))]}),!!r.task_type&&v.jsxs(kc,{id:"task_type_detail",$wide:!0,value:r.task_type_detail||"",onChange:Q=>N("task_type_detail",Q.target.value),children:[v.jsx("option",{value:"",children:"상세 유형을 선택해주세요"}),T.map(Q=>v.jsx("option",{value:Q,children:Q},Q))]})]}):v.jsx(KK,{value:r.task_type||Og(r.task_form||y.formDefault),options:M,onChange:Q=>N("task_type",Q)})})]}),v.jsxs("tr",{children:[v.jsx(pn,{children:v.jsx(Vn,{htmlFor:"requirement",children:"작업 항목"})}),v.jsx(gn,{children:v.jsx(og,{type:"text",id:"requirement",value:r.requirement,onChange:Q=>N("requirement",Q.target.value),placeholder:"작업 항목을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(pn,{children:v.jsx(Vn,{htmlFor:"emergency",children:"긴급 일정"})}),v.jsx(gn,{children:v.jsx(yR,{children:v.jsxs(_R,{htmlFor:"emergency",children:[v.jsx(bR,{type:"checkbox",id:"emergency",checked:r.emergency,onChange:Q=>N("emergency",Q.target.checked)}),v.jsx(vR,{}),v.jsx("span",{children:"긴급 일정으로 설정"})]})})})]}),v.jsxs("tr",{children:[v.jsx(pn,{children:v.jsx(Vn,{htmlFor:"url",children:"요청서 URL"})}),v.jsx(gn,{children:v.jsx(gR,{id:"url",value:r.url,onChange:Q=>N("url",Q.target.value),placeholder:"요청 기획안 URL을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(pn,{children:v.jsx(Vn,{htmlFor:"note",children:"메모"})}),v.jsx(gn,{children:v.jsx(mR,{id:"note",rows:2,value:r.note,onChange:Q=>N("note",Q.target.value),placeholder:"메모를 입력하세요."})})]})]})]}),!s&&c.map((Q,q)=>{const K=Je(d)?S(Q.task_type):[],ot=Je(d)&&!!Q.task_type;return v.jsxs("div",{style:{marginBottom:24},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"8px 0 4px"},children:[v.jsxs("strong",{children:["추가 요청 ",q+1]}),v.jsx("button",{type:"button",onClick:()=>C(q),children:"삭제"})]}),v.jsxs(fR,{children:[v.jsx(pR,{children:"디자인 요청 추가 등록"}),v.jsx("colgroup",{children:v.jsx("col",{style:{width:"120px"}})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx(pn,{children:"문서번호"}),v.jsx(gn,{})]}),v.jsxs("tr",{children:[v.jsx(pn,{children:v.jsx(Vn,{htmlFor:`completion_date_ex_${q}`,children:"완료 요청일"})}),v.jsx(gn,{children:v.jsx(ag,{id:`completion_date_ex_${q}`,type:"date",value:Q.completion_date||"",onChange:nt=>R(q,"completion_date",nt.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(pn,{children:v.jsx(Vn,{htmlFor:`open_date_ex_${q}`,children:"오픈일"})}),v.jsx(gn,{children:v.jsx(ag,{id:`open_date_ex_${q}`,type:"date",value:Q.open_date||"",onChange:nt=>R(q,"open_date",nt.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(pn,{children:v.jsx(Vn,{htmlFor:`merchandiser_ex_${q}`,children:"담당 MD"})}),v.jsx(gn,{children:v.jsx(og,{id:`merchandiser_ex_${q}`,type:"text",value:Q.merchandiser||"",onChange:nt=>R(q,"merchandiser",nt.target.value),placeholder:"담당 MD 이름 또는 ID를 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(pn,{children:v.jsx(Vn,{htmlFor:`task_form_ex_${q}`,children:"업무 부서"})}),v.jsx(gn,{children:v.jsx(kc,{id:`task_form_ex_${q}`,$wide:Je(d),value:Q.task_form||y.formDefault,onChange:nt=>R(q,"task_form",nt.target.value),children:y.forms.map(nt=>v.jsx("option",{value:nt,children:nt},nt))})})]}),v.jsxs("tr",{children:[v.jsx(pn,{children:v.jsx(Vn,{htmlFor:`task_type_ex_${q}`,children:"업무 유형"})}),v.jsxs(gn,{children:[v.jsxs(kc,{id:`task_type_ex_${q}`,$wide:Je(d),value:Je(d)?Q.task_type||"":Q.task_type||Og(Q.task_form||y.formDefault),onChange:nt=>R(q,"task_type",nt.target.value),children:[Je(d)&&v.jsx("option",{value:"",children:"업무 유형을 선택해주세요"}),(Je(d)?y.types:Ig(Q.task_form||y.formDefault)).map(nt=>v.jsx("option",{value:nt,children:nt},nt))]}),ot&&v.jsxs(kc,{id:`task_type_detail_ex_${q}`,$wide:Je(d),value:Q.task_type_detail||"",onChange:nt=>R(q,"task_type_detail",nt.target.value),children:[v.jsx("option",{value:"",children:"상세 유형을 선택해주세요"}),K.map(nt=>v.jsx("option",{value:nt,children:nt},nt))]})]})]}),v.jsxs("tr",{children:[v.jsx(pn,{children:v.jsx(Vn,{htmlFor:`requirement_ex_${q}`,children:"작업 항목"})}),v.jsx(gn,{children:v.jsx(og,{id:`requirement_ex_${q}`,type:"text",value:Q.requirement||"",onChange:nt=>R(q,"requirement",nt.target.value),placeholder:"작업 항목을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(pn,{children:v.jsx(Vn,{htmlFor:`emergency_ex_${q}`,children:"긴급 일정"})}),v.jsx(gn,{children:v.jsx(yR,{children:v.jsxs(_R,{htmlFor:`emergency_ex_${q}`,children:[v.jsx(bR,{id:`emergency_ex_${q}`,type:"checkbox",checked:!!Q.emergency,onChange:nt=>R(q,"emergency",nt.target.checked)}),v.jsx(vR,{}),v.jsx("span",{children:"긴급 일정으로 설정"})]})})})]}),v.jsxs("tr",{children:[v.jsx(pn,{children:v.jsx(Vn,{htmlFor:`url_ex_${q}`,children:"요청서 URL"})}),v.jsx(gn,{children:v.jsx(gR,{id:`url_ex_${q}`,value:Q.url||"",onChange:nt=>R(q,"url",nt.target.value),placeholder:"요청 기획안 URL을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(pn,{children:v.jsx(Vn,{htmlFor:`note_ex_${q}`,children:"메모"})}),v.jsx(gn,{children:v.jsx(mR,{id:`note_ex_${q}`,rows:4,value:Q.note||"",onChange:nt=>R(q,"note",nt.target.value),placeholder:"메모를 입력하세요."})})]})]})]})]},q)})]}),v.jsxs(cX,{children:[v.jsx(uX,{type:"submit",children:s?"수정 완료":"등록하기"}),!s&&v.jsx(hX,{type:"button",onClick:G,children:"추가 등록하기"})]})]})]})}const sX=B.form`
  font-family: 'Pretendard';
`,rX=B.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  margin-bottom: 24px;
`,aX=B.h3`
  font-family: 'Pretendard';
  font-size: 24px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
  letter-spacing: -0.48px;
`,oX=B.button`
  width: 24px;
  height: 24px;
  background: url(${MO}) no-repeat center;
  background-size: contain;
`,fR=B.table`
  width: 100%;
  color: ${({theme:e})=>e.colors.black};
  border-top: 1px solid ${({theme:e})=>e.colors.black};
`,lX=B.div`
  max-height: 690px;
  overflow: auto;
`,pR=B.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,pn=B.th`
  padding: 16px;
  font-size: 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-left: none;
  background-color: ${({theme:e})=>e.colors.gray04};
`,gn=B.td`
  padding: 10px 24px;
  border-right: none;
`,Vn=B.label`
  width: 100%;
  text-align: center;
  font-weight: 700;
`,ag=B.input`
  width: 168px;
  padding: 6px 12px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
`,og=B.input`
  width: 100%;
  padding: 8.5px 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
`,gR=B.textarea`
  width: 100%;
  padding: 10px 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
`,mR=B.textarea`
  width: 100%;
  padding: 10px 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  background-color: #fffff1;
`,yR=B.div`
  ${({theme:e})=>e.mixin.flex("center")};
  gap: 5px;
`,_R=B.label`
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
`,bR=B.input`
  display: none;

  &:checked + span {
    background-color: ${({theme:e})=>e.colors.red};
    background-image: url(${GK});
    background-repeat: no-repeat;
    background-position: center;
    background-size: 12px 12px;
  }
`,vR=B.span`
  width: 18px;
  height: 18px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 2px;
`,kc=B.select`
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;

  width: ${({$wide:e})=>e?"215px":"168px"};
  height: 36px;
  padding: 0 32px 0 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  background-color: ${({theme:e})=>e.colors.white01};
  background-image: url(${Wm});
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 16px 16px;
  vertical-align: top;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.black};
  }

  &:first-of-type {
    margin-right: 10px;
  }
`,cX=B.div`
  margin-top: 24px;
  text-align: center;
`,uX=B.button`
  margin-right: 12px;
  padding: 12.5px 32px;
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
`,hX=B.button`
  padding: 10.5px 31.5px;
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 700;
  border: 1px solid ${({theme:e})=>e.colors.black};
  background-color: ${({theme:e})=>e.colors.white01};
  color: ${({theme:e})=>e.colors.black};

  &:hover {
    border: 1px solid ${({theme:e})=>e.colors.black};
  }
`;function dX({data:e,onClose:t}){const n=i=>{if(!i)return"-";if(i.toDate){const s=i.toDate();return`${s.getMonth()+1}/${s.getDate()}`}return i};return v.jsxs(v.Fragment,{children:[v.jsxs(fX,{children:[v.jsx(pX,{children:"디자인 요청 상세"}),v.jsx(gX,{type:"button",onClick:t})]}),v.jsxs(mX,{children:[v.jsx(yX,{children:"디자인 요청 상세"}),v.jsx("colgroup",{children:v.jsx("col",{style:{width:"120px"}})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx(ms,{children:"문서번호"}),v.jsx($a,{children:e==null?void 0:e.design_request_id})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"요청일"}),v.jsx($a,{children:n(e==null?void 0:e.request_date)})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"완료 요청일"}),v.jsx(_X,{children:n(e==null?void 0:e.completion_date)})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"오픈일"}),v.jsx(bX,{children:n(e==null?void 0:e.open_date)})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"담당 MD"}),v.jsx($a,{children:(e==null?void 0:e.merchandiser)||""})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"업무 부서"}),v.jsx($a,{children:e==null?void 0:e.task_form})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"업무 유형"}),v.jsxs($a,{children:[v.jsx(xX,{children:e==null?void 0:e.task_type}),(e==null?void 0:e.task_type_detail)&&v.jsxs(v.Fragment,{children:[v.jsx(wX,{children:"＞"}),v.jsx(EX,{children:e==null?void 0:e.task_type_detail})]})]})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"작업 항목"}),v.jsx($a,{children:e==null?void 0:e.requirement})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"긴급 일정"}),v.jsx($a,{children:e!=null&&e.emergency?"긴급 일정으로 설정":"긴급 일정으로 설정 안함"})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"요청서 URL"}),v.jsx($a,{children:e!=null&&e.url?v.jsx(SX,{href:e==null?void 0:e.url,target:"_blank",rel:"noreferrer",children:e==null?void 0:e.url}):""})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"메모"}),v.jsx(vX,{children:v.jsx(TX,{children:e.note})})]})]})]})]})}const fX=B.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  margin-bottom: 24px;
`,pX=B.h3`
  font-family: "Pretendard";
  font-size: 24px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
  letter-spacing: -0.48px;
`,gX=B.button`
  width: 24px;
  height: 24px;
  background: url(${MO}) no-repeat center;
  background-size: contain;
`,mX=B.table`
  width: 100%;
  border-top: 1px solid ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.black};
  font-family: 'Pretendard';
`,yX=B.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,ms=B.th`
  padding: 16px;
  font-size: 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-left: none;
  background-color: ${({theme:e})=>e.colors.gray04};
`,$a=B.td`
  padding: 12px 24px;
  border-right: none;
`,_X=B.td`
  padding: 12px 24px;
  border-right: none;
  color: ${({theme:e})=>e.colors.red};
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;
`,bX=B.td`
  padding: 12px 24px;
  border-right: none;
  color: ${({theme:e})=>e.colors.blue02};
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;
`,vX=B.td`
  padding: 12px 24px;
  border-right: none;
  background-color: #fffff1;
`,xX=B.span`
`,wX=B.span`
  margin: 0 5px;
`,EX=B.span`
  
`,SX=B.a`
  display: -webkit-box;
  min-height: 70px;
  max-height: 70px;
  overflow-y: auto;
  -webkit-box-orient: vertical;
  word-break: break-word;
`,TX=B.p`
  min-height: 100px;
  max-height: 100px;
  overflow-y: auto;
  word-break: break-word;
`;function AX(){const[e,t]=j.useState(0),[n,i]=j.useState([]),[s,r]=j.useState(""),[l,c]=j.useState(!1),[h,d]=j.useState(void 0),[p,y]=j.useState(null);j.useEffect(()=>{const E=wo(ci,async S=>{if(S){r(S.displayName||"");const T=await Sl(An(Kt,"users",S.uid));if(T.exists()){const M=T.data().role,N=S.displayName;t(M);let U;M===1?U=Rn(Ge(Kt,"design_request"),on("requester","==",N)):M===2?U=Rn(Ge(Kt,"design_request"),on("assigned_designer","==",N)):U=Ge(Kt,"design_request"),as(U,P=>{const G=P.docs.map(C=>{const R=C.data();return{id:C.id,status:R.status??"대기중"}});i(G)})}}else t(0),r(""),i([])});return()=>E()},[]);const _=()=>{d(void 0),y("create"),c(!0)},x=()=>{c(!1),d(void 0)};return v.jsxs(kX,{children:[v.jsx(IK,{requests:n,userName:s,role:e,onRequestButtonClick:_}),v.jsxs(RX,{children:[v.jsx(Uz,{}),v.jsx(lK,{userRole:e,setIsDrawerOpen:c,setEditData:E=>{d(E),y("edit")},setDetailData:E=>{d(E),y("detail")}})]}),v.jsxs(HK,{isOpen:l,onClose:x,children:[p==="create"&&v.jsx(dR,{userName:s,isDrawerOpen:l,onClose:x}),p==="edit"&&h&&v.jsx(dR,{userName:s,isDrawerOpen:l,editData:h,onClose:x}),p==="detail"&&h&&v.jsx(dX,{data:h,onClose:x})]})]})}const kX=B.div`
  ${({theme:e})=>e.mixin.flex()};
  width: 100%;
  height: 100%;
`,RX=B.div`
  flex: 1;
`,CX={homeplus:"HomePlus",nsmall:"NSmall",pushcomz:"PushComz"},DX={homeplus:1,nsmall:1,pushcomz:2};function MX(){const[e,t]=j.useState(""),[n,i]=j.useState(""),[s,r]=j.useState(""),[l,c]=j.useState(""),[h,d]=j.useState(""),[p,y]=j.useState(!1),_=_o(),[x]=pm(),E=j.useMemo(()=>(x.get("company")||"").toLowerCase(),[x]);j.useEffect(()=>{const T=CX[E];T?(i(T),y(!0)):(i(""),y(!1))},[E]);const S=async()=>{const T=e.trim(),D=n.trim(),M=s.trim();if(!T){alert("이름을 입력해주세요.");return}if(!D){alert("회사명을 입력해주세요.");return}if(!M){alert("이메일을 입력해주세요.");return}if(l!==h){alert("비밀번호가 일치하지 않습니다.");return}try{const U=(await F3(ci,M,l)).user;await $3(U,{displayName:T});const P=DX[E]??((D||"").toLowerCase()==="pushcomz"?2:1);await O5(An(Kt,"users",U.uid),{name:T,email:M,company:D,role:P,createdAt:O0()}),await FM(M,l),alert("회원가입이 완료되었습니다!"),_("/")}catch(N){alert("회원가입 중 오류 발생: "+N.message)}};return v.jsx(IX,{children:v.jsxs(OX,{children:[v.jsxs(PX,{children:[v.jsx(NX,{children:"PDMS"}),v.jsx(LX,{children:"Pushcomz Design Management System"})]}),v.jsxs(jX,{children:[v.jsx(VX,{type:"text",value:e,onChange:T=>t(T.target.value),placeholder:"이름을 입력해주세요."}),v.jsx(BX,{type:"text",value:n,onChange:T=>!p&&i(T.target.value),readOnly:p,"aria-readonly":p?"true":void 0,placeholder:p?"":"회사명을 입력해주세요.",title:p?"캠페인 링크로 자동 설정되었습니다.":"",$locked:p}),v.jsx(UX,{type:"text",value:s,onChange:T=>r(T.target.value),placeholder:"이메일을 입력해주세요."}),v.jsx(zX,{type:"password",value:l,onChange:T=>c(T.target.value),placeholder:"비밀번호를 6자이상 입력해주세요."}),v.jsx(FX,{type:"password",value:h,onChange:T=>d(T.target.value),placeholder:"비밀번호 확인을 입력해주세요."})]}),v.jsx($X,{onClick:S,children:"등록하기"})]})})}const IX=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:e})=>e.colors.gray01};
`,OX=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:e})=>e.colors.white01};
`,PX=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,NX=B.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.navy};
`,LX=B.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,jX=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  gap: 10px;
`,ef=B.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
  &:focus { outline: none; border-color: #c7d2fe; box-shadow: 0 0 0 3px rgba(59,130,246,0.15); }
`,VX=B(ef)``,UX=B(ef)``,zX=B(ef)``,FX=B(ef)``,BX=B(ef)`
  background-color: ${({$locked:e})=>e?"#f5f6f7":"white"};
  color: ${({$locked:e})=>e?"#555":"#333"};
  cursor: ${({$locked:e})=>e?"default":"text"};

  ${({$locked:e})=>e&&`
    box-shadow: none;
  `}
`,$X=B.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:e})=>e.colors.white01};
`,qX=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function HX(){const[e,t]=j.useState(""),n=async()=>{if(!e){alert("이메일을 입력해주세요.");return}if(!qX.test(e)){alert("이메일 형식이 올바르지 않습니다.");return}try{await j3(ci,e,{url:`${window.location.origin}/pdms-test`,handleCodeInApp:!0}),alert("비밀번호 재설정 메일을 보냈습니다. 받은 메일함을 확인해 주세요.")}catch(i){if((i==null?void 0:i.code)==="auth/user-not-found"){alert("등록되지 않은 이메일입니다.");return}alert("메일 발송 중 문제가 발생했습니다. 잠시 후 다시 시도해주세요.")}};return v.jsxs(WX,{children:[v.jsxs(YX,{children:[v.jsxs(GX,{children:[v.jsx(KX,{children:"PDMS"}),v.jsx(XX,{children:"Pushcomz Design Management System"})]}),v.jsxs(QX,{children:["회원가입 시 등록하신 이메일 주소를 입력해 주세요. ",v.jsx("br",{}),"해당 이메일로 비밀번호 재설정 메일을 보내드립니다."]}),v.jsx(ZX,{type:"email",placeholder:"이메일을 입력해주세요.",value:e,onChange:i=>t(i.target.value)}),v.jsx(JX,{onClick:n,children:"인증메일 보내기"})]}),v.jsx(tQ,{children:"© Pushcomz Corp."})]})}const WX=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:e})=>e.colors.gray01};
`,YX=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:e})=>e.colors.white01};
`,GX=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,KX=B.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.navy};
`,XX=B.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,QX=B.p`
  align-self: flex-start;
  font-size: 12px;
`,ZX=B.input`
  width: 460px;
  margin: 25px 0;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,JX=B.button`
  width: 100%;
  padding: 12px 14px;
  border-radius: 6px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.white01};
  background: ${({theme:e})=>e.colors.navy};
`,tQ=B.p`
  margin-top: 20px;
  font-size: 12px;
  font-weight: 300;
  line-height: 18px;
  text-align: center;
`;function eQ(){const{search:e}=ks(),t=_o(),n=j.useMemo(()=>e&&e.length>0?e:window.location.search,[e]),i=new URLSearchParams(n),s=i.get("mode"),r=i.get("oobCode"),[l,c]=j.useState("checking"),[h,d]=j.useState(""),[p,y]=j.useState(""),[_,x]=j.useState("");j.useEffect(()=>{if(s!=="resetPassword"||!r){c("error");return}(async()=>{try{const S=await z3(ci,r);d(S),c("ready")}catch{c("error")}})()},[s,r]);const E=async()=>{if(r){if(!p||p.length<6){alert("비밀번호는 6자 이상이어야 합니다.");return}if(p!==_){alert("비밀번호 확인이 일치하지 않습니다.");return}try{await V3(ci,r,p),alert("비밀번호가 변경되었습니다. 새 비밀번호로 로그인해 주세요."),t("/",{replace:!0})}catch{c("error"),alert("링크가 만료되었거나 유효하지 않습니다. 다시 요청해 주세요.")}}};return l==="checking"?v.jsx(Qb,{children:"링크 확인 중..."}):l==="error"?v.jsx(Qb,{children:"유효하지 않은 링크입니다."}):l==="done"?v.jsx(Qb,{children:"비밀번호 변경이 완료되었습니다."}):v.jsxs(nQ,{children:[v.jsxs(iQ,{children:[v.jsxs(sQ,{children:[v.jsx(rQ,{children:"PDMS"}),v.jsx(aQ,{children:"Pushcomz Design Management System"})]}),v.jsxs(oQ,{children:[v.jsx(lQ,{type:"email",value:h,readOnly:!0}),v.jsx(xR,{type:"password",placeholder:"새 비밀번호 (6자 이상)",value:p,onChange:S=>y(S.target.value)}),v.jsx(xR,{type:"password",placeholder:"새 비밀번호 확인",value:_,onChange:S=>x(S.target.value)})]}),v.jsx(cQ,{onClick:E,children:"비밀번호 재설정"})]}),v.jsx(uQ,{children:"© Pushcomz Corp."})]})}const nQ=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:e})=>e.colors.gray01};
`,iQ=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:e})=>e.colors.white01};
`,sQ=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,rQ=B.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.navy};
`,aQ=B.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,oQ=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  gap: 10px;
`,lQ=B.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,xR=B.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,cQ=B.button`
  width: 100%;
  margin-top: 12px;
  padding: 12px 14px;
  font-weight: 700;
  border-radius: 6px;
  color: #fff;
  background: ${({theme:e})=>{var t;return((t=e.colors)==null?void 0:t.navy)??"#0a3b70"}};
`,uQ=B.p`
  margin-top: 20px;
  font-size: 12px;
  font-weight: 300;
  line-height: 18px;
  text-align: center;
`,Qb=B.p`
  text-align: center;
  margin: 80px 0;
`;function hQ(){const[e,t]=j.useState(!1),[n,i]=j.useState(!1);return j.useEffect(()=>{let s=()=>{};return(async()=>(await pz(ci),await mz(ci),s=wo(ci,r=>{t(!!r),i(!0)})))(),()=>s()},[]),j.useEffect(()=>{const s=new URLSearchParams(window.location.search),r=s.get("mode"),l=s.get("oobCode");r==="resetPassword"&&l&&(window.location.hash.startsWith("#/reset-password")||(window.location.hash=`/reset-password${window.location.search}`))},[]),n?v.jsx(kN,{children:v.jsxs(iN,{children:[v.jsx(rl,{path:"/",element:e?v.jsx(rb,{to:"/main",replace:!0}):v.jsx(vz,{onLoginSuccess:()=>t(!0)})}),v.jsx(rl,{path:"/main",element:e?v.jsx(AX,{}):v.jsx(rb,{to:"/",replace:!0})}),v.jsx(rl,{path:"/signup",element:v.jsx(MX,{})}),v.jsx(rl,{path:"/find-password",element:v.jsx(HX,{})}),v.jsx(rl,{path:"/reset-password",element:v.jsx(eQ,{})}),v.jsx(rl,{path:"*",element:v.jsx(rb,{to:e?"/main":"/",replace:!0})})]})}):null}const dQ=uC`
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    height: 100vh;
    overflow: hidden;
  }

  li {
    list-style: none;
  }

  button {
    background-color: transparent;
    border: none;
    cursor: pointer;
    &:focus {
      outline: none;
    }
  }

  input {
    border: none;

    &:focus {
      outline: none;
    }
  }

  table {
    border-collapse: collapse;

    th, td {
      border: 1px solid #ccc;
    }
  }

  textarea {
    resize: none;
  }

`,fQ={white01:"#fff",white02:"#f4f4f4",white03:"#f4f6fc",red:"#eb193a",navy:"#073863",beige01:"#fff4ea",beige02:"#FFEEDE",orange:"#f88017",lightpupple:"#eaedfa",blue01:"#4f76ff",blue02:"#0B1ABF",gray01:"#ECEDF0",gray02:"#ccc",gray03:"#bdbdbd",gray04:"#f4f4f4",gray05:"#888",gray06:"#666",gray07:"#e5e2e2",gray08:"#F0F3F9",black:"#212121",pink01:"#FFDDDD",pink02:"#F48193",pink03:"#FFEBEB"},pQ={flex:(e="flex-start",t="flex-start")=>`
    display: flex;
    align-items: ${e};
    justify-content: ${t}
  `},gQ={colors:fQ,mixin:pQ};fP.createRoot(document.getElementById("root")).render(v.jsx(j.StrictMode,{children:v.jsxs(LL,{theme:gQ,children:[v.jsx(hQ,{}),v.jsx(dQ,{})]})}));
