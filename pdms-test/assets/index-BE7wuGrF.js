(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Ab(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var am={exports:{}},uu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function wb(){if(VE)return uu;VE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return uu.Fragment=e,uu.jsx=n,uu.jsxs=n,uu}var PE;function bb(){return PE||(PE=1,am.exports=wb()),am.exports}var A=bb(),om={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function Rb(){if(kE)return xe;kE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=T&&N[T]||N["@@iterator"],typeof N=="function"?N:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,$={};function H(N,ne,se){this.props=N,this.context=ne,this.refs=$,this.updater=se||O}H.prototype.isReactComponent={},H.prototype.setState=function(N,ne){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ne,"setState")},H.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function J(){}J.prototype=H.prototype;function W(N,ne,se){this.props=N,this.context=ne,this.refs=$,this.updater=se||O}var re=W.prototype=new J;re.constructor=W,j(re,H.prototype),re.isPureReactComponent=!0;var ce=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function x(N,ne,se,ie,ge,Ie){return se=Ie.ref,{$$typeof:r,type:N,key:ne,ref:se!==void 0?se:null,props:Ie}}function R(N,ne){return x(N.type,ne,void 0,void 0,void 0,N.props)}function I(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function V(N){var ne={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(se){return ne[se]})}var P=/\/+/g;function L(N,ne){return typeof N=="object"&&N!==null&&N.key!=null?V(""+N.key):ne.toString(36)}function D(){}function Dt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(ne){N.status==="pending"&&(N.status="fulfilled",N.value=ne)},function(ne){N.status==="pending"&&(N.status="rejected",N.reason=ne)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function at(N,ne,se,ie,ge){var Ie=typeof N;(Ie==="undefined"||Ie==="boolean")&&(N=null);var ve=!1;if(N===null)ve=!0;else switch(Ie){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(N.$$typeof){case r:case e:ve=!0;break;case v:return ve=N._init,at(ve(N._payload),ne,se,ie,ge)}}if(ve)return ge=ge(N),ve=ie===""?"."+L(N,0):ie,ce(ge)?(se="",ve!=null&&(se=ve.replace(P,"$&/")+"/"),at(ge,ne,se,"",function(Lt){return Lt})):ge!=null&&(I(ge)&&(ge=R(ge,se+(ge.key==null||N&&N.key===ge.key?"":(""+ge.key).replace(P,"$&/")+"/")+ve)),ne.push(ge)),1;ve=0;var ct=ie===""?".":ie+":";if(ce(N))for(var qe=0;qe<N.length;qe++)ie=N[qe],Ie=ct+L(ie,qe),ve+=at(ie,ne,se,Ie,ge);else if(qe=w(N),typeof qe=="function")for(N=qe.call(N),qe=0;!(ie=N.next()).done;)ie=ie.value,Ie=ct+L(ie,qe++),ve+=at(ie,ne,se,Ie,ge);else if(Ie==="object"){if(typeof N.then=="function")return at(Dt(N),ne,se,ie,ge);throw ne=String(N),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return ve}function K(N,ne,se){if(N==null)return N;var ie=[],ge=0;return at(N,ie,"","",function(Ie){return ne.call(se,Ie,ge++)}),ie}function oe(N){if(N._status===-1){var ne=N._result;ne=ne(),ne.then(function(se){(N._status===0||N._status===-1)&&(N._status=1,N._result=se)},function(se){(N._status===0||N._status===-1)&&(N._status=2,N._result=se)}),N._status===-1&&(N._status=0,N._result=ne)}if(N._status===1)return N._result.default;throw N._result}var me=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Ce(){}return xe.Children={map:K,forEach:function(N,ne,se){K(N,function(){ne.apply(this,arguments)},se)},count:function(N){var ne=0;return K(N,function(){ne++}),ne},toArray:function(N){return K(N,function(ne){return ne})||[]},only:function(N){if(!I(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},xe.Component=H,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=W,xe.StrictMode=s,xe.Suspense=m,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,xe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return le.H.useMemoCache(N)}},xe.cache=function(N){return function(){return N.apply(null,arguments)}},xe.cloneElement=function(N,ne,se){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ie=j({},N.props),ge=N.key,Ie=void 0;if(ne!=null)for(ve in ne.ref!==void 0&&(Ie=void 0),ne.key!==void 0&&(ge=""+ne.key),ne)!de.call(ne,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&ne.ref===void 0||(ie[ve]=ne[ve]);var ve=arguments.length-2;if(ve===1)ie.children=se;else if(1<ve){for(var ct=Array(ve),qe=0;qe<ve;qe++)ct[qe]=arguments[qe+2];ie.children=ct}return x(N.type,ge,void 0,void 0,Ie,ie)},xe.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},xe.createElement=function(N,ne,se){var ie,ge={},Ie=null;if(ne!=null)for(ie in ne.key!==void 0&&(Ie=""+ne.key),ne)de.call(ne,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ge[ie]=ne[ie]);var ve=arguments.length-2;if(ve===1)ge.children=se;else if(1<ve){for(var ct=Array(ve),qe=0;qe<ve;qe++)ct[qe]=arguments[qe+2];ge.children=ct}if(N&&N.defaultProps)for(ie in ve=N.defaultProps,ve)ge[ie]===void 0&&(ge[ie]=ve[ie]);return x(N,Ie,void 0,void 0,null,ge)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(N){return{$$typeof:p,render:N}},xe.isValidElement=I,xe.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:oe}},xe.memo=function(N,ne){return{$$typeof:g,type:N,compare:ne===void 0?null:ne}},xe.startTransition=function(N){var ne=le.T,se={};le.T=se;try{var ie=N(),ge=le.S;ge!==null&&ge(se,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Ce,me)}catch(Ie){me(Ie)}finally{le.T=ne}},xe.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},xe.use=function(N){return le.H.use(N)},xe.useActionState=function(N,ne,se){return le.H.useActionState(N,ne,se)},xe.useCallback=function(N,ne){return le.H.useCallback(N,ne)},xe.useContext=function(N){return le.H.useContext(N)},xe.useDebugValue=function(){},xe.useDeferredValue=function(N,ne){return le.H.useDeferredValue(N,ne)},xe.useEffect=function(N,ne,se){var ie=le.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(N,ne)},xe.useId=function(){return le.H.useId()},xe.useImperativeHandle=function(N,ne,se){return le.H.useImperativeHandle(N,ne,se)},xe.useInsertionEffect=function(N,ne){return le.H.useInsertionEffect(N,ne)},xe.useLayoutEffect=function(N,ne){return le.H.useLayoutEffect(N,ne)},xe.useMemo=function(N,ne){return le.H.useMemo(N,ne)},xe.useOptimistic=function(N,ne){return le.H.useOptimistic(N,ne)},xe.useReducer=function(N,ne,se){return le.H.useReducer(N,ne,se)},xe.useRef=function(N){return le.H.useRef(N)},xe.useState=function(N){return le.H.useState(N)},xe.useSyncExternalStore=function(N,ne,se){return le.H.useSyncExternalStore(N,ne,se)},xe.useTransition=function(){return le.H.useTransition()},xe.version="19.1.0",xe}var LE;function mg(){return LE||(LE=1,om.exports=Rb()),om.exports}var G=mg();const or=Ab(G);var lm={exports:{}},cu={},um={exports:{}},cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function Ib(){return UE||(UE=1,function(r){function e(K,oe){var me=K.length;K.push(oe);e:for(;0<me;){var Ce=me-1>>>1,N=K[Ce];if(0<o(N,oe))K[Ce]=oe,K[me]=N,me=Ce;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var oe=K[0],me=K.pop();if(me!==oe){K[0]=me;e:for(var Ce=0,N=K.length,ne=N>>>1;Ce<ne;){var se=2*(Ce+1)-1,ie=K[se],ge=se+1,Ie=K[ge];if(0>o(ie,me))ge<N&&0>o(Ie,ie)?(K[Ce]=Ie,K[ge]=me,Ce=ge):(K[Ce]=ie,K[se]=me,Ce=se);else if(ge<N&&0>o(Ie,me))K[Ce]=Ie,K[ge]=me,Ce=ge;else break e}}return oe}function o(K,oe){var me=K.sortIndex-oe.sortIndex;return me!==0?me:K.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var m=[],g=[],v=1,T=null,w=3,O=!1,j=!1,$=!1,H=!1,J=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ce(K){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=K)s(g),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(g)}}function le(K){if($=!1,ce(K),!j)if(n(m)!==null)j=!0,de||(de=!0,L());else{var oe=n(g);oe!==null&&at(le,oe.startTime-K)}}var de=!1,x=-1,R=5,I=-1;function V(){return H?!0:!(r.unstable_now()-I<R)}function P(){if(H=!1,de){var K=r.unstable_now();I=K;var oe=!0;try{e:{j=!1,$&&($=!1,W(x),x=-1),O=!0;var me=w;try{t:{for(ce(K),T=n(m);T!==null&&!(T.expirationTime>K&&V());){var Ce=T.callback;if(typeof Ce=="function"){T.callback=null,w=T.priorityLevel;var N=Ce(T.expirationTime<=K);if(K=r.unstable_now(),typeof N=="function"){T.callback=N,ce(K),oe=!0;break t}T===n(m)&&s(m),ce(K)}else s(m);T=n(m)}if(T!==null)oe=!0;else{var ne=n(g);ne!==null&&at(le,ne.startTime-K),oe=!1}}break e}finally{T=null,w=me,O=!1}oe=void 0}}finally{oe?L():de=!1}}}var L;if(typeof re=="function")L=function(){re(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Dt=D.port2;D.port1.onmessage=P,L=function(){Dt.postMessage(null)}}else L=function(){J(P,0)};function at(K,oe){x=J(function(){K(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var me=w;w=oe;try{return K()}finally{w=me}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(K,oe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=w;w=K;try{return oe()}finally{w=me}},r.unstable_scheduleCallback=function(K,oe,me){var Ce=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ce+me:Ce):me=Ce,K){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=me+N,K={id:v++,callback:oe,priorityLevel:K,startTime:me,expirationTime:N,sortIndex:-1},me>Ce?(K.sortIndex=me,e(g,K),n(m)===null&&K===n(g)&&($?(W(x),x=-1):$=!0,at(le,me-Ce))):(K.sortIndex=N,e(m,K),j||O||(j=!0,de||(de=!0,L()))),K},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(K){var oe=w;return function(){var me=w;w=oe;try{return K.apply(this,arguments)}finally{w=me}}}}(cm)),cm}var jE;function Cb(){return jE||(jE=1,um.exports=Ib()),um.exports}var hm={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function xb(){if(zE)return ln;zE=1;var r=mg();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ln.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,v)},ln.flushSync=function(m){var g=f.T,v=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=g,s.p=v,s.d.f()}},ln.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},ln.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},ln.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,T=p(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:O}):v==="script"&&s.d.X(m,{crossOrigin:T,integrity:w,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ln.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},ln.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=p(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ln.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},ln.requestFormReset=function(m){s.d.r(m)},ln.unstable_batchedUpdates=function(m,g){return m(g)},ln.useFormState=function(m,g,v){return f.H.useFormState(m,g,v)},ln.useFormStatus=function(){return f.H.useHostTransitionStatus()},ln.version="19.1.0",ln}var BE;function Db(){if(BE)return hm.exports;BE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),hm.exports=xb(),hm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function Nb(){if(qE)return cu;qE=1;var r=Cb(),e=mg(),n=Db();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,S=h.child;S;){if(S===a){E=!0,a=h,l=d;break}if(S===l){E=!0,l=h,a=d;break}S=S.sibling}if(!E){for(S=d.child;S;){if(S===a){E=!0,a=d,l=h;break}if(S===l){E=!0,l=d,a=h;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Dt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case H:return"Profiler";case $:return"StrictMode";case le:return"Suspense";case de:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case re:return(t.displayName||"Context")+".Provider";case W:return(t._context.displayName||"Context")+".Consumer";case ce:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:Dt(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Dt(t(i))}catch{}}return null}var at=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ce=[],N=-1;function ne(t){return{current:t}}function se(t){0>N||(t.current=Ce[N],Ce[N]=null,N--)}function ie(t,i){N++,Ce[N]=t.current,t.current=i}var ge=ne(null),Ie=ne(null),ve=ne(null),ct=ne(null);function qe(t,i){switch(ie(ve,i),ie(Ie,t),ie(ge,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?lE(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=lE(i),t=uE(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}se(ge),ie(ge,t)}function Lt(){se(ge),se(Ie),se(ve)}function Un(t){t.memoizedState!==null&&ie(ct,t);var i=ge.current,a=uE(i,t.type);i!==a&&(ie(Ie,t),ie(ge,a))}function vn(t){Ie.current===t&&(se(ge),se(Ie)),ct.current===t&&(se(ct),iu._currentValue=me)}var sn=Object.prototype.hasOwnProperty,Rs=r.unstable_scheduleCallback,Is=r.unstable_cancelCallback,tl=r.unstable_shouldYield,rc=r.unstable_requestPaint,jn=r.unstable_now,ad=r.unstable_getCurrentPriorityLevel,nl=r.unstable_ImmediatePriority,Ia=r.unstable_UserBlockingPriority,Cs=r.unstable_NormalPriority,od=r.unstable_LowPriority,Ca=r.unstable_IdlePriority,rl=r.log,ic=r.unstable_setDisableYieldValue,dt=null,Ke=null;function Rn(t){if(typeof rl=="function"&&ic(t),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(dt,t)}catch{}}var an=Math.clz32?Math.clz32:xs,sc=Math.log,ld=Math.LN2;function xs(t){return t>>>=0,t===0?32:31-(sc(t)/ld|0)|0}var Ds=256,Ns=4194304;function tr(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function xa(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=tr(l):(E&=S,E!==0?h=tr(E):a||(a=S&~t,a!==0&&(h=tr(a))))):(S=l&~d,S!==0?h=tr(S):E!==0?h=tr(E):a||(a=l&~t,a!==0&&(h=tr(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Os(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function il(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sl(){var t=Ds;return Ds<<=1,(Ds&4194048)===0&&(Ds=256),t}function al(){var t=Ns;return Ns<<=1,(Ns&62914560)===0&&(Ns=4194304),t}function Br(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function qr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ol(t,i,a,l,h,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(a=E&~a;0<a;){var Y=31-an(a),ee=1<<Y;S[Y]=0,C[Y]=-1;var q=B[Y];if(q!==null)for(B[Y]=null,Y=0;Y<q.length;Y++){var F=q[Y];F!==null&&(F.lane&=-536870913)}a&=~ee}l!==0&&mr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function mr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-an(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function ll(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-an(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Ii(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Da(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ci(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:CE(t.type))}function ac(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var ot=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ot,Tt="__reactProps$"+ot,zn="__reactContainer$"+ot,ul="__reactEvents$"+ot,ud="__reactListeners$"+ot,xi="__reactHandles$"+ot,oc="__reactResources$"+ot,Ms="__reactMarker$"+ot;function Di(t){delete t[Nt],delete t[Tt],delete t[ul],delete t[ud],delete t[xi]}function Hr(t){var i=t[Nt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[zn]||a[Nt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=dE(t);t!==null;){if(a=t[Nt])return a;t=dE(t)}return i}t=a,a=t.parentNode}return null}function gr(t){if(t=t[Nt]||t[zn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function yr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function mn(t){var i=t[oc];return i||(i=t[oc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function yt(t){t[Ms]=!0}var cl=new Set,Na={};function nr(t,i){Fr(t,i),Fr(t+"Capture",i)}function Fr(t,i){for(Na[t]=i,t=0;t<i.length;t++)cl.add(i[t])}var lc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uc={},Vs={};function cc(t){return sn.call(Vs,t)?!0:sn.call(uc,t)?!1:lc.test(t)?Vs[t]=!0:(uc[t]=!0,!1)}function Ni(t,i,a){if(cc(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function _r(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function $t(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Ps,hc;function Gr(t){if(Ps===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ps=i&&i[1]||"",hc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ps+t+hc}var Oa=!1;function Ma(t,i){if(!t||Oa)return"";Oa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(F){var q=F}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(F){q=F}t.call(ee.prototype)}}else{try{throw Error()}catch(F){q=F}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],S=d[1];if(E&&S){var C=E.split(`
`),B=S.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===B.length)for(l=C.length-1,h=B.length-1;1<=l&&0<=h&&C[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==B[h]){var Y=`
`+C[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Oa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Gr(a):""}function hl(t){switch(t.tag){case 26:case 27:case 5:return Gr(t.type);case 16:return Gr("Lazy");case 13:return Gr("Suspense");case 19:return Gr("SuspenseList");case 0:case 15:return Ma(t.type,!1);case 11:return Ma(t.type.render,!1);case 1:return Ma(t.type,!0);case 31:return Gr("Activity");default:return""}}function Va(t){try{var i="";do i+=hl(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function gn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fl(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function cd(t){var i=fl(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Pa(t){t._valueTracker||(t._valueTracker=cd(t))}function dl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=fl(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ks(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var hd=/[\n"\\]/g;function St(t){return t.replace(hd,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function In(t,i,a,l,h,d,E,S){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+gn(i)):t.value!==""+gn(i)&&(t.value=""+gn(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?Oi(t,E,gn(i)):a!=null?Oi(t,E,gn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+gn(S):t.removeAttribute("name")}function Ls(t,i,a,l,h,d,E,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+gn(a):"",i=i!=null?""+gn(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Oi(t,i,a){i==="number"&&ks(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function $r(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+gn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function We(t,i,a){if(i!=null&&(i=""+gn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+gn(a):""}function Us(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=gn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Bn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var js=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fc(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||js.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function pl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&fc(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&fc(t,d,i[d])}function ml(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ka(t){return dd.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Qr=null;function qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kr=null,Yr=null;function gl(t){var i=gr(t);if(i&&(t=i.stateNode)){var a=t[Tt]||null;e:switch(t=i.stateNode,i.type){case"input":if(In(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+St(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Tt]||null;if(!h)throw Error(s(90));In(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&dl(l)}break e;case"textarea":We(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&$r(t,!!a.multiple,i,!1)}}}var vr=!1;function dc(t,i,a){if(vr)return t(i,a);vr=!0;try{var l=t(i);return l}finally{if(vr=!1,(Kr!==null||Yr!==null)&&(ah(),Kr&&(i=Kr,t=Yr,Yr=Kr=null,gl(i),t)))for(i=0;i<t.length;i++)gl(t[i])}}function zs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Tt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hn=!1;if(rr)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{Hn=!1}var Er=null,Mi=null,Xr=null;function yl(){if(Xr)return Xr;var t,i=Mi,a=i.length,l,h="value"in Er?Er.value:Er.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===h[d-l];l++);return Xr=h.slice(t,1<l?1-l:void 0)}function Tr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Sr(){return!0}function _l(){return!1}function Ut(t){function i(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Sr:_l,this.isPropagationStopped=_l,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),i}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=Ut(Ge),qs=v({},Ge,{view:0,detail:0}),pc=Ut(qs),Ua,ja,Ar,Hs=v({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$s,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ar&&(Ar&&t.type==="mousemove"?(Ua=t.screenX-Ar.screenX,ja=t.screenY-Ar.screenY):ja=Ua=0,Ar=t),Ua)},movementY:function(t){return"movementY"in t?t.movementY:ja}}),Fn=Ut(Hs),mc=v({},Hs,{dataTransfer:0}),pd=Ut(mc),Fs=v({},qs,{relatedTarget:0}),za=Ut(Fs),vl=v({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Ba=Ut(vl),gc=v({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qa=Ut(gc),md=v({},Ge,{data:0}),El=Ut(md),Gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_c={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=_c[t])?!!i[t]:!1}function $s(){return Tl}var vc=v({},qs,{key:function(t){if(t.key){var i=Gs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Tr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$s,charCode:function(t){return t.type==="keypress"?Tr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ha=Ut(vc),Ec=v({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sl=Ut(Ec),Wr=v({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$s}),Tc=Ut(Wr),Sc=v({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ac=Ut(Sc),wc=v({},Hs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fa=Ut(wc),yn=v({},Ge,{newState:0,oldState:0}),bc=Ut(yn),Rc=[9,13,27,32],wr=rr&&"CompositionEvent"in window,c=null;rr&&"documentMode"in document&&(c=document.documentMode);var y=rr&&"TextEvent"in window&&!c,_=rr&&(!wr||c&&8<c&&11>=c),b=" ",U=!1;function Q(t,i){switch(t){case"keyup":return Rc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ue=!1;function Ot(t,i){switch(t){case"compositionend":return ae(i);case"keypress":return i.which!==32?null:(U=!0,b);case"textInput":return t=i.data,t===b&&U?null:t;default:return null}}function je(t,i){if(Ue)return t==="compositionend"||!wr&&Q(t,i)?(t=yl(),Xr=Mi=Er=null,Ue=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!jt[t.type]:i==="textarea"}function Zr(t,i,a,l){Kr?Yr?Yr.push(l):Yr=[l]:Kr=l,i=fh(i,"onChange"),0<i.length&&(a=new La("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Qt=null,br=null;function Al(t){rE(t,0)}function Ic(t){var i=yr(t);if(dl(i))return t}function wy(t,i){if(t==="change")return i}var by=!1;if(rr){var gd;if(rr){var yd="oninput"in document;if(!yd){var Ry=document.createElement("div");Ry.setAttribute("oninput","return;"),yd=typeof Ry.oninput=="function"}gd=yd}else gd=!1;by=gd&&(!document.documentMode||9<document.documentMode)}function Iy(){Qt&&(Qt.detachEvent("onpropertychange",Cy),br=Qt=null)}function Cy(t){if(t.propertyName==="value"&&Ic(br)){var i=[];Zr(i,br,t,qn(t)),dc(Al,i)}}function JA(t,i,a){t==="focusin"?(Iy(),Qt=i,br=a,Qt.attachEvent("onpropertychange",Cy)):t==="focusout"&&Iy()}function ew(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ic(br)}function tw(t,i){if(t==="click")return Ic(i)}function nw(t,i){if(t==="input"||t==="change")return Ic(i)}function rw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Cn=typeof Object.is=="function"?Object.is:rw;function wl(t,i){if(Cn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!sn.call(i,h)||!Cn(t[h],i[h]))return!1}return!0}function xy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dy(t,i){var a=xy(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xy(a)}}function Ny(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ny(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Oy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ks(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ks(t.document)}return i}function _d(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var iw=rr&&"documentMode"in document&&11>=document.documentMode,Ga=null,vd=null,bl=null,Ed=!1;function My(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ed||Ga==null||Ga!==ks(l)||(l=Ga,"selectionStart"in l&&_d(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),bl&&wl(bl,l)||(bl=l,l=fh(vd,"onSelect"),0<l.length&&(i=new La("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ga)))}function Qs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var $a={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},Td={},Vy={};rr&&(Vy=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Ks(t){if(Td[t])return Td[t];if(!$a[t])return t;var i=$a[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Vy)return Td[t]=i[a];return t}var Py=Ks("animationend"),ky=Ks("animationiteration"),Ly=Ks("animationstart"),sw=Ks("transitionrun"),aw=Ks("transitionstart"),ow=Ks("transitioncancel"),Uy=Ks("transitionend"),jy=new Map,Sd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sd.push("scrollEnd");function ir(t,i){jy.set(t,i),nr(i,[t])}var zy=new WeakMap;function Gn(t,i){if(typeof t=="object"&&t!==null){var a=zy.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Va(i)},zy.set(t,i),i)}return{value:t,source:i,stack:Va(i)}}var $n=[],Qa=0,Ad=0;function Cc(){for(var t=Qa,i=Ad=Qa=0;i<t;){var a=$n[i];$n[i++]=null;var l=$n[i];$n[i++]=null;var h=$n[i];$n[i++]=null;var d=$n[i];if($n[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&By(a,h,d)}}function xc(t,i,a,l){$n[Qa++]=t,$n[Qa++]=i,$n[Qa++]=a,$n[Qa++]=l,Ad|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function wd(t,i,a,l){return xc(t,i,a,l),Dc(t)}function Ka(t,i){return xc(t,null,null,i),Dc(t)}function By(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-an(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Dc(t){if(50<Xl)throw Xl=0,Dp=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ya={};function lw(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,i,a,l){return new lw(t,i,a,l)}function bd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jr(t,i){var a=t.alternate;return a===null?(a=xn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function qy(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Nc(t,i,a,l,h,d){var E=0;if(l=t,typeof t=="function")bd(t)&&(E=1);else if(typeof t=="string")E=cb(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=xn(31,a,i,h),t.elementType=I,t.lanes=d,t;case j:return Ys(a.children,h,d,i);case $:E=8,h|=24;break;case H:return t=xn(12,a,i,h|2),t.elementType=H,t.lanes=d,t;case le:return t=xn(13,a,i,h),t.elementType=le,t.lanes=d,t;case de:return t=xn(19,a,i,h),t.elementType=de,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:case re:E=10;break e;case W:E=9;break e;case ce:E=11;break e;case x:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=xn(E,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ys(t,i,a,l){return t=xn(7,t,l,i),t.lanes=a,t}function Rd(t,i,a){return t=xn(6,t,null,i),t.lanes=a,t}function Id(t,i,a){return i=xn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Xa=[],Wa=0,Oc=null,Mc=0,Qn=[],Kn=0,Xs=null,ei=1,ti="";function Ws(t,i){Xa[Wa++]=Mc,Xa[Wa++]=Oc,Oc=t,Mc=i}function Hy(t,i,a){Qn[Kn++]=ei,Qn[Kn++]=ti,Qn[Kn++]=Xs,Xs=t;var l=ei;t=ti;var h=32-an(l)-1;l&=~(1<<h),a+=1;var d=32-an(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,ei=1<<32-an(i)+h|a<<h|l,ti=d+t}else ei=1<<d|a<<h|l,ti=t}function Cd(t){t.return!==null&&(Ws(t,1),Hy(t,1,0))}function xd(t){for(;t===Oc;)Oc=Xa[--Wa],Xa[Wa]=null,Mc=Xa[--Wa],Xa[Wa]=null;for(;t===Xs;)Xs=Qn[--Kn],Qn[Kn]=null,ti=Qn[--Kn],Qn[Kn]=null,ei=Qn[--Kn],Qn[Kn]=null}var _n=null,pt=null,Fe=!1,Zs=null,Rr=!1,Dd=Error(s(519));function Js(t){var i=Error(s(418,""));throw Cl(Gn(i,t)),Dd}function Fy(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Nt]=t,i[Tt]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<Zl.length;a++)Ve(Zl[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Ls(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Pa(i);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),Us(i,l.value,l.defaultValue,l.children),Pa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||oE(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=dh),i=!0):i=!1,i||Js(t)}function Gy(t){for(_n=t.return;_n;)switch(_n.tag){case 5:case 13:Rr=!1;return;case 27:case 3:Rr=!0;return;default:_n=_n.return}}function Rl(t){if(t!==_n)return!1;if(!Fe)return Gy(t),Fe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||$p(t.type,t.memoizedProps)),a=!a),a&&pt&&Js(t),Gy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){pt=ar(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}pt=null}}else i===27?(i=pt,Yi(t.type)?(t=Xp,Xp=null,pt=t):pt=i):pt=_n?ar(t.stateNode.nextSibling):null;return!0}function Il(){pt=_n=null,Fe=!1}function $y(){var t=Zs;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),Zs=null),t}function Cl(t){Zs===null?Zs=[t]:Zs.push(t)}var Nd=ne(null),ea=null,ni=null;function Vi(t,i,a){ie(Nd,i._currentValue),i._currentValue=a}function ri(t){t._currentValue=Nd.current,se(Nd)}function Od(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Md(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var C=0;C<i.length;C++)if(S.context===i[C]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Od(d.return,a,t),l||(E=null);break e}d=S.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Od(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function xl(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=h.type;Cn(h.pendingProps.value,E.value)||(t!==null?t.push(S):t=[S])}}else if(h===ct.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(iu):t=[iu])}h=h.return}t!==null&&Md(i,t,a,l),i.flags|=262144}function Vc(t){for(t=t.firstContext;t!==null;){if(!Cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ta(t){ea=t,ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function on(t){return Qy(ea,t)}function Pc(t,i){return ea===null&&ta(t),Qy(t,i)}function Qy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ni===null){if(t===null)throw Error(s(308));ni=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ni=ni.next=i;return a}var uw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},cw=r.unstable_scheduleCallback,hw=r.unstable_NormalPriority,Vt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vd(){return{controller:new uw,data:new Map,refCount:0}}function Dl(t){t.refCount--,t.refCount===0&&cw(hw,function(){t.controller.abort()})}var Nl=null,Pd=0,Za=0,Ja=null;function fw(t,i){if(Nl===null){var a=Nl=[];Pd=0,Za=Lp(),Ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Pd++,i.then(Ky,Ky),i}function Ky(){if(--Pd===0&&Nl!==null){Ja!==null&&(Ja.status="fulfilled");var t=Nl;Nl=null,Za=0,Ja=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function dw(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Yy=K.S;K.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&fw(t,i),Yy!==null&&Yy(t,i)};var na=ne(null);function kd(){var t=na.current;return t!==null?t:rt.pooledCache}function kc(t,i){i===null?ie(na,na.current):ie(na,i.pool)}function Xy(){var t=kd();return t===null?null:{parent:Vt._currentValue,pool:t}}var Ol=Error(s(460)),Wy=Error(s(474)),Lc=Error(s(542)),Ld={then:function(){}};function Zy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Uc(){}function Jy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Uc,Uc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t_(t),t;default:if(typeof i.status=="string")i.then(Uc,Uc);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t_(t),t}throw Ml=i,Ol}}var Ml=null;function e_(){if(Ml===null)throw Error(s(459));var t=Ml;return Ml=null,t}function t_(t){if(t===Ol||t===Lc)throw Error(s(483))}var Pi=!1;function Ud(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Li(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Dc(t),By(t,null,a),i}return xc(t,l,i,a),Dc(t)}function Vl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ll(t,a)}}function zd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Bd=!1;function Pl(){if(Bd){var t=Ja;if(t!==null)throw t}}function kl(t,i,a,l){Bd=!1;var h=t.updateQueue;Pi=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var C=S,B=C.next;C.next=null,E===null?d=B:E.next=B,E=C;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==E&&(S===null?Y.firstBaseUpdate=B:S.next=B,Y.lastBaseUpdate=C))}if(d!==null){var ee=h.baseState;E=0,Y=B=C=null,S=d;do{var q=S.lane&-536870913,F=q!==S.lane;if(F?(ze&q)===q:(l&q)===q){q!==0&&q===Za&&(Bd=!0),Y!==null&&(Y=Y.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var we=t,Ee=S;q=i;var et=a;switch(Ee.tag){case 1:if(we=Ee.payload,typeof we=="function"){ee=we.call(et,ee,q);break e}ee=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ee.payload,q=typeof we=="function"?we.call(et,ee,q):we,q==null)break e;ee=v({},ee,q);break e;case 2:Pi=!0}}q=S.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(B=Y=F,C=ee):Y=Y.next=F,E|=q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;F=S,S=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Y===null&&(C=ee),h.baseState=C,h.firstBaseUpdate=B,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Gi|=E,t.lanes=E,t.memoizedState=ee}}function n_(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function r_(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)n_(a[t],i)}var eo=ne(null),jc=ne(0);function i_(t,i){t=ci,ie(jc,t),ie(eo,i),ci=t|i.baseLanes}function qd(){ie(jc,ci),ie(eo,eo.current)}function Hd(){ci=jc.current,se(eo),se(jc)}var Ui=0,Ne=null,Ze=null,At=null,zc=!1,to=!1,ra=!1,Bc=0,Ll=0,no=null,pw=0;function _t(){throw Error(s(321))}function Fd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Cn(t[a],i[a]))return!1;return!0}function Gd(t,i,a,l,h,d){return Ui=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?B_:q_,ra=!1,d=a(l,h),ra=!1,to&&(d=a_(i,a,l,h)),s_(t),d}function s_(t){K.H=Qc;var i=Ze!==null&&Ze.next!==null;if(Ui=0,At=Ze=Ne=null,zc=!1,Ll=0,no=null,i)throw Error(s(300));t===null||zt||(t=t.dependencies,t!==null&&Vc(t)&&(zt=!0))}function a_(t,i,a,l){Ne=t;var h=0;do{if(to&&(no=null),Ll=0,to=!1,25<=h)throw Error(s(301));if(h+=1,At=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Tw,d=i(a,l)}while(to);return d}function mw(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?Ul(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ne.flags|=1024),i}function $d(){var t=Bc!==0;return Bc=0,t}function Qd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Kd(t){if(zc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}zc=!1}Ui=0,At=Ze=Ne=null,to=!1,Ll=Bc=0,no=null}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ne.memoizedState=At=t:At=At.next=t,At}function wt(){if(Ze===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=At===null?Ne.memoizedState:At.next;if(i!==null)At=i,Ze=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},At===null?Ne.memoizedState=At=t:At=At.next=t}return At}function Yd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(t){var i=Ll;return Ll+=1,no===null&&(no=[]),t=Jy(no,t,i),i=Ne,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?B_:q_),t}function qc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ul(t);if(t.$$typeof===re)return on(t)}throw Error(s(438,String(t)))}function Xd(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Yd(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function ii(t,i){return typeof i=="function"?i(t):i}function Hc(t){var i=wt();return Wd(i,Ze,t)}function Wd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=E=null,C=null,B=i,Y=!1;do{var ee=B.lane&-536870913;if(ee!==B.lane?(ze&ee)===ee:(Ui&ee)===ee){var q=B.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ee===Za&&(Y=!0);else if((Ui&q)===q){B=B.next,q===Za&&(Y=!0);continue}else ee={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(S=C=ee,E=d):C=C.next=ee,Ne.lanes|=q,Gi|=q;ee=B.action,ra&&a(d,ee),d=B.hasEagerState?B.eagerState:a(d,ee)}else q={lane:ee,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(S=C=q,E=d):C=C.next=q,Ne.lanes|=ee,Gi|=ee;B=B.next}while(B!==null&&B!==i);if(C===null?E=d:C.next=S,!Cn(d,t.memoizedState)&&(zt=!0,Y&&(a=Ja,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Zd(t){var i=wt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);Cn(d,i.memoizedState)||(zt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function o_(t,i,a){var l=Ne,h=wt(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!Cn((Ze||h).memoizedState,a);E&&(h.memoizedState=a,zt=!0),h=h.queue;var S=c_.bind(null,l,h,t);if(jl(2048,8,S,[t]),h.getSnapshot!==i||E||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,ro(9,Fc(),u_.bind(null,l,h,a,i),null),rt===null)throw Error(s(349));d||(Ui&124)!==0||l_(l,i,a)}return a}function l_(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=Yd(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function u_(t,i,a,l){i.value=a,i.getSnapshot=l,h_(i)&&f_(t)}function c_(t,i,a){return a(function(){h_(i)&&f_(t)})}function h_(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Cn(t,a)}catch{return!0}}function f_(t){var i=Ka(t,2);i!==null&&Vn(i,t,2)}function Jd(t){var i=En();if(typeof t=="function"){var a=t;if(t=a(),ra){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:t},i}function d_(t,i,a,l){return t.baseState=a,Wd(t,Ze,typeof l=="function"?l:ii)}function gw(t,i,a,l,h){if($c(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,p_(i,d)):(d.next=a.next,i.pending=a.next=d)}}function p_(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,E={};K.T=E;try{var S=a(h,l),C=K.S;C!==null&&C(E,S),m_(t,i,S)}catch(B){ep(t,i,B)}finally{K.T=d}}else try{d=a(h,l),m_(t,i,d)}catch(B){ep(t,i,B)}}function m_(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){g_(t,i,l)},function(l){return ep(t,i,l)}):g_(t,i,a)}function g_(t,i,a){i.status="fulfilled",i.value=a,y_(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,p_(t,a)))}function ep(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,y_(i),i=i.next;while(i!==l)}t.action=null}function y_(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function __(t,i){return i}function v_(t,i){if(Fe){var a=rt.formState;if(a!==null){e:{var l=Ne;if(Fe){if(pt){t:{for(var h=pt,d=Rr;h.nodeType!==8;){if(!d){h=null;break t}if(h=ar(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){pt=ar(h.nextSibling),l=h.data==="F!";break e}}Js(l)}l=!1}l&&(i=a[0])}}return a=En(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:__,lastRenderedState:i},a.queue=l,a=U_.bind(null,Ne,l),l.dispatch=a,l=Jd(!1),d=sp.bind(null,Ne,!1,l.queue),l=En(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=gw.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function E_(t){var i=wt();return T_(i,Ze,t)}function T_(t,i,a){if(i=Wd(t,i,__)[0],t=Hc(ii)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Ul(i)}catch(E){throw E===Ol?Lc:E}else l=i;i=wt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ne.flags|=2048,ro(9,Fc(),yw.bind(null,h,a),null)),[l,d,t]}function yw(t,i){t.action=i}function S_(t){var i=wt(),a=Ze;if(a!==null)return T_(i,a,t);wt(),i=i.memoizedState,a=wt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ro(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=Yd(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Fc(){return{destroy:void 0,resource:void 0}}function A_(){return wt().memoizedState}function Gc(t,i,a,l){var h=En();l=l===void 0?null:l,Ne.flags|=t,h.memoizedState=ro(1|i,Fc(),a,l)}function jl(t,i,a,l){var h=wt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&Fd(l,Ze.memoizedState.deps)?h.memoizedState=ro(i,d,a,l):(Ne.flags|=t,h.memoizedState=ro(1|i,d,a,l))}function w_(t,i){Gc(8390656,8,t,i)}function b_(t,i){jl(2048,8,t,i)}function R_(t,i){return jl(4,2,t,i)}function I_(t,i){return jl(4,4,t,i)}function C_(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function x_(t,i,a){a=a!=null?a.concat([t]):null,jl(4,4,C_.bind(null,i,t),a)}function tp(){}function D_(t,i){var a=wt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Fd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function N_(t,i){var a=wt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Fd(i,l[1]))return l[0];if(l=t(),ra){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l}function np(t,i,a){return a===void 0||(Ui&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Vv(),Ne.lanes|=t,Gi|=t,a)}function O_(t,i,a,l){return Cn(a,i)?a:eo.current!==null?(t=np(t,a,l),Cn(t,i)||(zt=!0),t):(Ui&42)===0?(zt=!0,t.memoizedState=a):(t=Vv(),Ne.lanes|=t,Gi|=t,i)}function M_(t,i,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var E=K.T,S={};K.T=S,sp(t,!1,i,a);try{var C=h(),B=K.S;if(B!==null&&B(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=dw(C,l);zl(t,i,Y,Mn(t))}else zl(t,i,l,Mn(t))}catch(ee){zl(t,i,{then:function(){},status:"rejected",reason:ee},Mn())}finally{oe.p=d,K.T=E}}function _w(){}function rp(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=V_(t).queue;M_(t,h,i,me,a===null?_w:function(){return P_(t),a(l)})}function V_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function P_(t){var i=V_(t).next.queue;zl(t,i,{},Mn())}function ip(){return on(iu)}function k_(){return wt().memoizedState}function L_(){return wt().memoizedState}function vw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Mn();t=ki(a);var l=Li(i,t,a);l!==null&&(Vn(l,i,a),Vl(l,i,a)),i={cache:Vd()},t.payload=i;return}i=i.return}}function Ew(t,i,a){var l=Mn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},$c(t)?j_(i,a):(a=wd(t,i,a,l),a!==null&&(Vn(a,t,l),z_(a,i,l)))}function U_(t,i,a){var l=Mn();zl(t,i,a,l)}function zl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if($c(t))j_(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,S=d(E,a);if(h.hasEagerState=!0,h.eagerState=S,Cn(S,E))return xc(t,i,h,0),rt===null&&Cc(),!1}catch{}finally{}if(a=wd(t,i,h,l),a!==null)return Vn(a,t,l),z_(a,i,l),!0}return!1}function sp(t,i,a,l){if(l={lane:2,revertLane:Lp(),action:l,hasEagerState:!1,eagerState:null,next:null},$c(t)){if(i)throw Error(s(479))}else i=wd(t,a,l,2),i!==null&&Vn(i,t,2)}function $c(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function j_(t,i){to=zc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function z_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ll(t,a)}}var Qc={readContext:on,use:qc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t},B_={readContext:on,use:qc,useCallback:function(t,i){return En().memoizedState=[t,i===void 0?null:i],t},useContext:on,useEffect:w_,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Gc(4194308,4,C_.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Gc(4194308,4,t,i)},useInsertionEffect:function(t,i){Gc(4,2,t,i)},useMemo:function(t,i){var a=En();i=i===void 0?null:i;var l=t();if(ra){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=En();if(a!==void 0){var h=a(i);if(ra){Rn(!0);try{a(i)}finally{Rn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Ew.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=En();return t={current:t},i.memoizedState=t},useState:function(t){t=Jd(t);var i=t.queue,a=U_.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:tp,useDeferredValue:function(t,i){var a=En();return np(a,t,i)},useTransition:function(){var t=Jd(!1);return t=M_.bind(null,Ne,t.queue,!0,!1),En().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=En();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),rt===null)throw Error(s(349));(ze&124)!==0||l_(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,w_(c_.bind(null,l,d,t),[t]),l.flags|=2048,ro(9,Fc(),u_.bind(null,l,d,a,i),null),a},useId:function(){var t=En(),i=rt.identifierPrefix;if(Fe){var a=ti,l=ei;a=(l&~(1<<32-an(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Bc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=pw++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:ip,useFormState:v_,useActionState:v_,useOptimistic:function(t){var i=En();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=sp.bind(null,Ne,!0,a),a.dispatch=i,[t,i]},useMemoCache:Xd,useCacheRefresh:function(){return En().memoizedState=vw.bind(null,Ne)}},q_={readContext:on,use:qc,useCallback:D_,useContext:on,useEffect:b_,useImperativeHandle:x_,useInsertionEffect:R_,useLayoutEffect:I_,useMemo:N_,useReducer:Hc,useRef:A_,useState:function(){return Hc(ii)},useDebugValue:tp,useDeferredValue:function(t,i){var a=wt();return O_(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Hc(ii)[0],i=wt().memoizedState;return[typeof t=="boolean"?t:Ul(t),i]},useSyncExternalStore:o_,useId:k_,useHostTransitionStatus:ip,useFormState:E_,useActionState:E_,useOptimistic:function(t,i){var a=wt();return d_(a,Ze,t,i)},useMemoCache:Xd,useCacheRefresh:L_},Tw={readContext:on,use:qc,useCallback:D_,useContext:on,useEffect:b_,useImperativeHandle:x_,useInsertionEffect:R_,useLayoutEffect:I_,useMemo:N_,useReducer:Zd,useRef:A_,useState:function(){return Zd(ii)},useDebugValue:tp,useDeferredValue:function(t,i){var a=wt();return Ze===null?np(a,t,i):O_(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Zd(ii)[0],i=wt().memoizedState;return[typeof t=="boolean"?t:Ul(t),i]},useSyncExternalStore:o_,useId:k_,useHostTransitionStatus:ip,useFormState:S_,useActionState:S_,useOptimistic:function(t,i){var a=wt();return Ze!==null?d_(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Xd,useCacheRefresh:L_},io=null,Bl=0;function Kc(t){var i=Bl;return Bl+=1,io===null&&(io=[]),Jy(io,t,i)}function ql(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Yc(t,i){throw i.$$typeof===T?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function H_(t){var i=t._init;return i(t._payload)}function F_(t){function i(k,M){if(t){var z=k.deletions;z===null?(k.deletions=[M],k.flags|=16):z.push(M)}}function a(k,M){if(!t)return null;for(;M!==null;)i(k,M),M=M.sibling;return null}function l(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=Jr(k,M),k.index=0,k.sibling=null,k}function d(k,M,z){return k.index=z,t?(z=k.alternate,z!==null?(z=z.index,z<M?(k.flags|=67108866,M):z):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function E(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function S(k,M,z,X){return M===null||M.tag!==6?(M=Rd(z,k.mode,X),M.return=k,M):(M=h(M,z),M.return=k,M)}function C(k,M,z,X){var pe=z.type;return pe===j?Y(k,M,z.props.children,X,z.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&H_(pe)===M.type)?(M=h(M,z.props),ql(M,z),M.return=k,M):(M=Nc(z.type,z.key,z.props,null,k.mode,X),ql(M,z),M.return=k,M)}function B(k,M,z,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Id(z,k.mode,X),M.return=k,M):(M=h(M,z.children||[]),M.return=k,M)}function Y(k,M,z,X,pe){return M===null||M.tag!==7?(M=Ys(z,k.mode,X,pe),M.return=k,M):(M=h(M,z),M.return=k,M)}function ee(k,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Rd(""+M,k.mode,z),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case w:return z=Nc(M.type,M.key,M.props,null,k.mode,z),ql(z,M),z.return=k,z;case O:return M=Id(M,k.mode,z),M.return=k,M;case R:var X=M._init;return M=X(M._payload),ee(k,M,z)}if(at(M)||L(M))return M=Ys(M,k.mode,z,null),M.return=k,M;if(typeof M.then=="function")return ee(k,Kc(M),z);if(M.$$typeof===re)return ee(k,Pc(k,M),z);Yc(k,M)}return null}function q(k,M,z,X){var pe=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pe!==null?null:S(k,M,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return z.key===pe?C(k,M,z,X):null;case O:return z.key===pe?B(k,M,z,X):null;case R:return pe=z._init,z=pe(z._payload),q(k,M,z,X)}if(at(z)||L(z))return pe!==null?null:Y(k,M,z,X,null);if(typeof z.then=="function")return q(k,M,Kc(z),X);if(z.$$typeof===re)return q(k,M,Pc(k,z),X);Yc(k,z)}return null}function F(k,M,z,X,pe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(z)||null,S(M,k,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case w:return k=k.get(X.key===null?z:X.key)||null,C(M,k,X,pe);case O:return k=k.get(X.key===null?z:X.key)||null,B(M,k,X,pe);case R:var Oe=X._init;return X=Oe(X._payload),F(k,M,z,X,pe)}if(at(X)||L(X))return k=k.get(z)||null,Y(M,k,X,pe,null);if(typeof X.then=="function")return F(k,M,z,Kc(X),pe);if(X.$$typeof===re)return F(k,M,z,Pc(M,X),pe);Yc(M,X)}return null}function we(k,M,z,X){for(var pe=null,Oe=null,ye=M,Te=M=0,qt=null;ye!==null&&Te<z.length;Te++){ye.index>Te?(qt=ye,ye=null):qt=ye.sibling;var He=q(k,ye,z[Te],X);if(He===null){ye===null&&(ye=qt);break}t&&ye&&He.alternate===null&&i(k,ye),M=d(He,M,Te),Oe===null?pe=He:Oe.sibling=He,Oe=He,ye=qt}if(Te===z.length)return a(k,ye),Fe&&Ws(k,Te),pe;if(ye===null){for(;Te<z.length;Te++)ye=ee(k,z[Te],X),ye!==null&&(M=d(ye,M,Te),Oe===null?pe=ye:Oe.sibling=ye,Oe=ye);return Fe&&Ws(k,Te),pe}for(ye=l(ye);Te<z.length;Te++)qt=F(ye,k,Te,z[Te],X),qt!==null&&(t&&qt.alternate!==null&&ye.delete(qt.key===null?Te:qt.key),M=d(qt,M,Te),Oe===null?pe=qt:Oe.sibling=qt,Oe=qt);return t&&ye.forEach(function(es){return i(k,es)}),Fe&&Ws(k,Te),pe}function Ee(k,M,z,X){if(z==null)throw Error(s(151));for(var pe=null,Oe=null,ye=M,Te=M=0,qt=null,He=z.next();ye!==null&&!He.done;Te++,He=z.next()){ye.index>Te?(qt=ye,ye=null):qt=ye.sibling;var es=q(k,ye,He.value,X);if(es===null){ye===null&&(ye=qt);break}t&&ye&&es.alternate===null&&i(k,ye),M=d(es,M,Te),Oe===null?pe=es:Oe.sibling=es,Oe=es,ye=qt}if(He.done)return a(k,ye),Fe&&Ws(k,Te),pe;if(ye===null){for(;!He.done;Te++,He=z.next())He=ee(k,He.value,X),He!==null&&(M=d(He,M,Te),Oe===null?pe=He:Oe.sibling=He,Oe=He);return Fe&&Ws(k,Te),pe}for(ye=l(ye);!He.done;Te++,He=z.next())He=F(ye,k,Te,He.value,X),He!==null&&(t&&He.alternate!==null&&ye.delete(He.key===null?Te:He.key),M=d(He,M,Te),Oe===null?pe=He:Oe.sibling=He,Oe=He);return t&&ye.forEach(function(Sb){return i(k,Sb)}),Fe&&Ws(k,Te),pe}function et(k,M,z,X){if(typeof z=="object"&&z!==null&&z.type===j&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case w:e:{for(var pe=z.key;M!==null;){if(M.key===pe){if(pe=z.type,pe===j){if(M.tag===7){a(k,M.sibling),X=h(M,z.props.children),X.return=k,k=X;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&H_(pe)===M.type){a(k,M.sibling),X=h(M,z.props),ql(X,z),X.return=k,k=X;break e}a(k,M);break}else i(k,M);M=M.sibling}z.type===j?(X=Ys(z.props.children,k.mode,X,z.key),X.return=k,k=X):(X=Nc(z.type,z.key,z.props,null,k.mode,X),ql(X,z),X.return=k,k=X)}return E(k);case O:e:{for(pe=z.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(k,M.sibling),X=h(M,z.children||[]),X.return=k,k=X;break e}else{a(k,M);break}else i(k,M);M=M.sibling}X=Id(z,k.mode,X),X.return=k,k=X}return E(k);case R:return pe=z._init,z=pe(z._payload),et(k,M,z,X)}if(at(z))return we(k,M,z,X);if(L(z)){if(pe=L(z),typeof pe!="function")throw Error(s(150));return z=pe.call(z),Ee(k,M,z,X)}if(typeof z.then=="function")return et(k,M,Kc(z),X);if(z.$$typeof===re)return et(k,M,Pc(k,z),X);Yc(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(k,M.sibling),X=h(M,z),X.return=k,k=X):(a(k,M),X=Rd(z,k.mode,X),X.return=k,k=X),E(k)):a(k,M)}return function(k,M,z,X){try{Bl=0;var pe=et(k,M,z,X);return io=null,pe}catch(ye){if(ye===Ol||ye===Lc)throw ye;var Oe=xn(29,ye,null,k.mode);return Oe.lanes=X,Oe.return=k,Oe}finally{}}}var so=F_(!0),G_=F_(!1),Yn=ne(null),Ir=null;function ji(t){var i=t.alternate;ie(Pt,Pt.current&1),ie(Yn,t),Ir===null&&(i===null||eo.current!==null||i.memoizedState!==null)&&(Ir=t)}function $_(t){if(t.tag===22){if(ie(Pt,Pt.current),ie(Yn,t),Ir===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Ir=t)}}else zi()}function zi(){ie(Pt,Pt.current),ie(Yn,Yn.current)}function si(t){se(Yn),Ir===t&&(Ir=null),se(Pt)}var Pt=ne(0);function Xc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Yp(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function ap(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:v({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var op={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Mn(),h=ki(l);h.payload=i,a!=null&&(h.callback=a),i=Li(t,h,l),i!==null&&(Vn(i,t,l),Vl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Mn(),h=ki(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Li(t,h,l),i!==null&&(Vn(i,t,l),Vl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Mn(),l=ki(a);l.tag=2,i!=null&&(l.callback=i),i=Li(t,l,a),i!==null&&(Vn(i,t,a),Vl(i,t,a))}};function Q_(t,i,a,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!wl(a,l)||!wl(h,d):!0}function K_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&op.enqueueReplaceState(i,i.state,null)}function ia(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=v({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Wc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Y_(t){Wc(t)}function X_(t){console.error(t)}function W_(t){Wc(t)}function Zc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Z_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function lp(t,i,a){return a=ki(a),a.tag=3,a.payload={element:null},a.callback=function(){Zc(t,i)},a}function J_(t){return t=ki(t),t.tag=3,t}function ev(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Z_(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Z_(i,a,l),typeof h!="function"&&($i===null?$i=new Set([this]):$i.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function Sw(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&xl(i,a,h,!0),a=Yn.current,a!==null){switch(a.tag){case 13:return Ir===null?Op():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Ld?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Vp(t,l,h)),!1;case 22:return a.flags|=65536,l===Ld?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Vp(t,l,h)),!1}throw Error(s(435,a.tag))}return Vp(t,l,h),Op(),!1}if(Fe)return i=Yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Dd&&(t=Error(s(422),{cause:l}),Cl(Gn(t,a)))):(l!==Dd&&(i=Error(s(423),{cause:l}),Cl(Gn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Gn(l,a),h=lp(t.stateNode,l,h),zd(t,h),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=Gn(d,a),Yl===null?Yl=[d]:Yl.push(d),mt!==4&&(mt=2),i===null)return!0;l=Gn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=lp(a.stateNode,l,t),zd(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&($i===null||!$i.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=J_(h),ev(h,t,a,l),zd(a,h),!1}a=a.return}while(a!==null);return!1}var tv=Error(s(461)),zt=!1;function Kt(t,i,a,l){i.child=t===null?G_(i,null,a,l):so(i,t.child,a,l)}function nv(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return ta(i),l=Gd(t,i,a,E,d,h),S=$d(),t!==null&&!zt?(Qd(t,i,h),ai(t,i,h)):(Fe&&S&&Cd(i),i.flags|=1,Kt(t,i,l,h),i.child)}function rv(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!bd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,iv(t,i,d,l,h)):(t=Nc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!gp(t,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:wl,a(E,l)&&t.ref===i.ref)return ai(t,i,h)}return i.flags|=1,t=Jr(d,l),t.ref=i.ref,t.return=i,i.child=t}function iv(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(wl(d,l)&&t.ref===i.ref)if(zt=!1,i.pendingProps=l=d,gp(t,h))(t.flags&131072)!==0&&(zt=!0);else return i.lanes=t.lanes,ai(t,i,h)}return up(t,i,a,l,h)}function sv(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return av(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&kc(i,d!==null?d.cachePool:null),d!==null?i_(i,d):qd(),$_(i);else return i.lanes=i.childLanes=536870912,av(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(kc(i,d.cachePool),i_(i,d),zi(),i.memoizedState=null):(t!==null&&kc(i,null),qd(),zi());return Kt(t,i,h,a),i.child}function av(t,i,a,l){var h=kd();return h=h===null?null:{parent:Vt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&kc(i,null),qd(),$_(i),t!==null&&xl(t,i,l,!0),null}function Jc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function up(t,i,a,l,h){return ta(i),a=Gd(t,i,a,l,void 0,h),l=$d(),t!==null&&!zt?(Qd(t,i,h),ai(t,i,h)):(Fe&&l&&Cd(i),i.flags|=1,Kt(t,i,a,h),i.child)}function ov(t,i,a,l,h,d){return ta(i),i.updateQueue=null,a=a_(i,l,a,h),s_(t),l=$d(),t!==null&&!zt?(Qd(t,i,d),ai(t,i,d)):(Fe&&l&&Cd(i),i.flags|=1,Kt(t,i,a,d),i.child)}function lv(t,i,a,l,h){if(ta(i),i.stateNode===null){var d=Ya,E=a.contextType;typeof E=="object"&&E!==null&&(d=on(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=op,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Ud(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?on(E):Ya,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(ap(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&op.enqueueReplaceState(d,d.state,null),kl(i,l,d,h),Pl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,C=ia(a,S);d.props=C;var B=d.context,Y=a.contextType;E=Ya,typeof Y=="object"&&Y!==null&&(E=on(Y));var ee=a.getDerivedStateFromProps;Y=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==E)&&K_(i,d,l,E),Pi=!1;var q=i.memoizedState;d.state=q,kl(i,l,d,h),Pl(),B=i.memoizedState,S||q!==B||Pi?(typeof ee=="function"&&(ap(i,a,ee,l),B=i.memoizedState),(C=Pi||Q_(i,a,C,l,q,B,E))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,jd(t,i),E=i.memoizedProps,Y=ia(a,E),d.props=Y,ee=i.pendingProps,q=d.context,B=a.contextType,C=Ya,typeof B=="object"&&B!==null&&(C=on(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ee||q!==C)&&K_(i,d,l,C),Pi=!1,q=i.memoizedState,d.state=q,kl(i,l,d,h),Pl();var F=i.memoizedState;E!==ee||q!==F||Pi||t!==null&&t.dependencies!==null&&Vc(t.dependencies)?(typeof S=="function"&&(ap(i,a,S,l),F=i.memoizedState),(Y=Pi||Q_(i,a,Y,l,q,F,C)||t!==null&&t.dependencies!==null&&Vc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=C,l=Y):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Jc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=so(i,t.child,null,h),i.child=so(i,null,a,h)):Kt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=ai(t,i,h),t}function uv(t,i,a,l){return Il(),i.flags|=256,Kt(t,i,a,l),i.child}var cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hp(t){return{baseLanes:t,cachePool:Xy()}}function fp(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Xn),t}function cv(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Pt.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(Fe){if(h?ji(i):zi(),Fe){var S=pt,C;if(C=S){e:{for(C=S,S=Rr;C.nodeType!==8;){if(!S){S=null;break e}if(C=ar(C.nextSibling),C===null){S=null;break e}}S=C}S!==null?(i.memoizedState={dehydrated:S,treeContext:Xs!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},C=xn(18,null,null,0),C.stateNode=S,C.return=i,i.child=C,_n=i,pt=null,C=!0):C=!1}C||Js(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Yp(S)?i.lanes=32:i.lanes=536870912,null;si(i)}return S=l.children,l=l.fallback,h?(zi(),h=i.mode,S=eh({mode:"hidden",children:S},h),l=Ys(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,h=i.child,h.memoizedState=hp(a),h.childLanes=fp(t,E,a),i.memoizedState=cp,l):(ji(i),dp(i,S))}if(C=t.memoizedState,C!==null&&(S=C.dehydrated,S!==null)){if(d)i.flags&256?(ji(i),i.flags&=-257,i=pp(t,i,a)):i.memoizedState!==null?(zi(),i.child=t.child,i.flags|=128,i=null):(zi(),h=l.fallback,S=i.mode,l=eh({mode:"visible",children:l.children},S),h=Ys(h,S,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,so(i,t.child,null,a),l=i.child,l.memoizedState=hp(a),l.childLanes=fp(t,E,a),i.memoizedState=cp,i=h);else if(ji(i),Yp(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var B=E.dgst;E=B,l=Error(s(419)),l.stack="",l.digest=E,Cl({value:l,source:null,stack:null}),i=pp(t,i,a)}else if(zt||xl(t,i,a,!1),E=(a&t.childLanes)!==0,zt||E){if(E=rt,E!==null&&(l=a&-a,l=(l&42)!==0?1:Ii(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Ka(t,l),Vn(E,t,l),tv;S.data==="$?"||Op(),i=pp(t,i,a)}else S.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,pt=ar(S.nextSibling),_n=i,Fe=!0,Zs=null,Rr=!1,t!==null&&(Qn[Kn++]=ei,Qn[Kn++]=ti,Qn[Kn++]=Xs,ei=t.id,ti=t.overflow,Xs=i),i=dp(i,l.children),i.flags|=4096);return i}return h?(zi(),h=l.fallback,S=i.mode,C=t.child,B=C.sibling,l=Jr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?h=Jr(B,h):(h=Ys(h,S,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,S=t.child.memoizedState,S===null?S=hp(a):(C=S.cachePool,C!==null?(B=Vt._currentValue,C=C.parent!==B?{parent:B,pool:B}:C):C=Xy(),S={baseLanes:S.baseLanes|a,cachePool:C}),h.memoizedState=S,h.childLanes=fp(t,E,a),i.memoizedState=cp,l):(ji(i),a=t.child,t=a.sibling,a=Jr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function dp(t,i){return i=eh({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function eh(t,i){return t=xn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function pp(t,i,a){return so(i,t.child,null,a),t=dp(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function hv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Od(t.return,i,a)}function mp(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function fv(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Kt(t,i,l.children,a),l=Pt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hv(t,a,i);else if(t.tag===19)hv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(Pt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Xc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),mp(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Xc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}mp(i,!0,a,null,d);break;case"together":mp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ai(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Gi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(xl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Jr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Jr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function gp(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Vc(t)))}function Aw(t,i,a){switch(i.tag){case 3:qe(i,i.stateNode.containerInfo),Vi(i,Vt,t.memoizedState.cache),Il();break;case 27:case 5:Un(i);break;case 4:qe(i,i.stateNode.containerInfo);break;case 10:Vi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ji(i),i.flags|=128,null):(a&i.child.childLanes)!==0?cv(t,i,a):(ji(i),t=ai(t,i,a),t!==null?t.sibling:null);ji(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(xl(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return fv(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Pt,Pt.current),l)break;return null;case 22:case 23:return i.lanes=0,sv(t,i,a);case 24:Vi(i,Vt,t.memoizedState.cache)}return ai(t,i,a)}function dv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)zt=!0;else{if(!gp(t,a)&&(i.flags&128)===0)return zt=!1,Aw(t,i,a);zt=(t.flags&131072)!==0}else zt=!1,Fe&&(i.flags&1048576)!==0&&Hy(i,Mc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")bd(l)?(t=ia(l,t),i.tag=1,i=lv(null,i,l,t,a)):(i.tag=0,i=up(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ce){i.tag=11,i=nv(null,i,l,t,a);break e}else if(h===x){i.tag=14,i=rv(null,i,l,t,a);break e}}throw i=Dt(l)||l,Error(s(306,i,""))}}return i;case 0:return up(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ia(l,i.pendingProps),lv(t,i,l,h,a);case 3:e:{if(qe(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,jd(t,i),kl(i,l,null,a);var E=i.memoizedState;if(l=E.cache,Vi(i,Vt,l),l!==d.cache&&Md(i,[Vt],a,!0),Pl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=uv(t,i,l,a);break e}else if(l!==h){h=Gn(Error(s(424)),i),Cl(h),i=uv(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=ar(t.firstChild),_n=i,Fe=!0,Zs=null,Rr=!0,a=G_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Il(),l===h){i=ai(t,i,a);break e}Kt(t,i,l,a)}i=i.child}return i;case 26:return Jc(t,i),t===null?(a=yE(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,t=i.pendingProps,l=ph(ve.current).createElement(a),l[Nt]=i,l[Tt]=t,Xt(l,a,t),yt(l),i.stateNode=l):i.memoizedState=yE(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Un(i),t===null&&Fe&&(l=i.stateNode=pE(i.type,i.pendingProps,ve.current),_n=i,Rr=!0,h=pt,Yi(i.type)?(Xp=h,pt=ar(l.firstChild)):pt=h),Kt(t,i,i.pendingProps.children,a),Jc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Fe&&((h=l=pt)&&(l=Ww(l,i.type,i.pendingProps,Rr),l!==null?(i.stateNode=l,_n=i,pt=ar(l.firstChild),Rr=!1,h=!0):h=!1),h||Js(i)),Un(i),h=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,$p(h,d)?l=null:E!==null&&$p(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=Gd(t,i,mw,null,null,a),iu._currentValue=h),Jc(t,i),Kt(t,i,l,a),i.child;case 6:return t===null&&Fe&&((t=a=pt)&&(a=Zw(a,i.pendingProps,Rr),a!==null?(i.stateNode=a,_n=i,pt=null,t=!0):t=!1),t||Js(i)),null;case 13:return cv(t,i,a);case 4:return qe(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=so(i,null,l,a):Kt(t,i,l,a),i.child;case 11:return nv(t,i,i.type,i.pendingProps,a);case 7:return Kt(t,i,i.pendingProps,a),i.child;case 8:return Kt(t,i,i.pendingProps.children,a),i.child;case 12:return Kt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Vi(i,i.type,l.value),Kt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ta(i),h=on(h),l=l(h),i.flags|=1,Kt(t,i,l,a),i.child;case 14:return rv(t,i,i.type,i.pendingProps,a);case 15:return iv(t,i,i.type,i.pendingProps,a);case 19:return fv(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=eh(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Jr(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return sv(t,i,a);case 24:return ta(i),l=on(Vt),t===null?(h=kd(),h===null&&(h=rt,d=Vd(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Ud(i),Vi(i,Vt,h)):((t.lanes&a)!==0&&(jd(t,i),kl(i,null,null,a),Pl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Vi(i,Vt,l)):(l=d.cache,Vi(i,Vt,l),l!==h.cache&&Md(i,[Vt],a,!0))),Kt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function oi(t){t.flags|=4}function pv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!SE(i)){if(i=Yn.current,i!==null&&((ze&4194048)===ze?Ir!==null:(ze&62914560)!==ze&&(ze&536870912)===0||i!==Ir))throw Ml=Ld,Wy;t.flags|=8192}}function th(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?al():536870912,t.lanes|=i,uo|=i)}function Hl(t,i){if(!Fe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ht(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function ww(t,i,a){var l=i.pendingProps;switch(xd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(i),null;case 1:return ht(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ri(Vt),Lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Rl(i)?oi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,$y())),ht(i),null;case 26:return a=i.memoizedState,t===null?(oi(i),a!==null?(ht(i),pv(i,a)):(ht(i),i.flags&=-16777217)):a?a!==t.memoizedState?(oi(i),ht(i),pv(i,a)):(ht(i),i.flags&=-16777217):(t.memoizedProps!==l&&oi(i),ht(i),i.flags&=-16777217),null;case 27:vn(i),a=ve.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&oi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ht(i),null}t=ge.current,Rl(i)?Fy(i):(t=pE(h,l,a),i.stateNode=t,oi(i))}return ht(i),null;case 5:if(vn(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&oi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ht(i),null}if(t=ge.current,Rl(i))Fy(i);else{switch(h=ph(ve.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Nt]=i,t[Tt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Xt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&oi(i)}}return ht(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&oi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ve.current,Rl(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=_n,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Nt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||oE(t.nodeValue,a)),t||Js(i)}else t=ph(t).createTextNode(l),t[Nt]=i,i.stateNode=t}return ht(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Rl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Nt]=i}else Il(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ht(i),h=!1}else h=$y(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(si(i),i):(si(i),null)}if(si(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),th(i,i.updateQueue),ht(i),null;case 4:return Lt(),t===null&&Bp(i.stateNode.containerInfo),ht(i),null;case 10:return ri(i.type),ht(i),null;case 19:if(se(Pt),h=i.memoizedState,h===null)return ht(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Hl(h,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Xc(t),d!==null){for(i.flags|=128,Hl(h,!1),t=d.updateQueue,i.updateQueue=t,th(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)qy(a,t),a=a.sibling;return ie(Pt,Pt.current&1|2),i.child}t=t.sibling}h.tail!==null&&jn()>ih&&(i.flags|=128,l=!0,Hl(h,!1),i.lanes=4194304)}else{if(!l)if(t=Xc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,th(i,t),Hl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return ht(i),null}else 2*jn()-h.renderingStartTime>ih&&a!==536870912&&(i.flags|=128,l=!0,Hl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=jn(),i.sibling=null,t=Pt.current,ie(Pt,l?t&1|2:t&1),i):(ht(i),null);case 22:case 23:return si(i),Hd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ht(i),i.subtreeFlags&6&&(i.flags|=8192)):ht(i),a=i.updateQueue,a!==null&&th(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&se(na),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ri(Vt),ht(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function bw(t,i){switch(xd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ri(Vt),Lt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return vn(i),null;case 13:if(si(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Il()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return se(Pt),null;case 4:return Lt(),null;case 10:return ri(i.type),null;case 22:case 23:return si(i),Hd(),t!==null&&se(na),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ri(Vt),null;case 25:return null;default:return null}}function mv(t,i){switch(xd(i),i.tag){case 3:ri(Vt),Lt();break;case 26:case 27:case 5:vn(i);break;case 4:Lt();break;case 13:si(i);break;case 19:se(Pt);break;case 10:ri(i.type);break;case 22:case 23:si(i),Hd(),t!==null&&se(na);break;case 24:ri(Vt)}}function Fl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(S){tt(i,i.return,S)}}function Bi(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,h=i;var C=a,B=S;try{B()}catch(Y){tt(h,C,Y)}}}l=l.next}while(l!==d)}}catch(Y){tt(i,i.return,Y)}}function gv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{r_(i,a)}catch(l){tt(t,t.return,l)}}}function yv(t,i,a){a.props=ia(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){tt(t,i,l)}}function Gl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){tt(t,i,h)}}function Cr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){tt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){tt(t,i,h)}else a.current=null}function _v(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){tt(t,t.return,h)}}function yp(t,i,a){try{var l=t.stateNode;$w(l,t.type,a,i),l[Tt]=i}catch(h){tt(t,t.return,h)}}function vv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yi(t.type)||t.tag===4}function _p(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vp(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=dh));else if(l!==4&&(l===27&&Yi(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(vp(t,i,a),t=t.sibling;t!==null;)vp(t,i,a),t=t.sibling}function nh(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Yi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(nh(t,i,a),t=t.sibling;t!==null;)nh(t,i,a),t=t.sibling}function Ev(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Xt(i,l,a),i[Nt]=t,i[Tt]=a}catch(d){tt(t,t.return,d)}}var li=!1,vt=!1,Ep=!1,Tv=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function Rw(t,i){if(t=t.containerInfo,Fp=Eh,t=Oy(t),_d(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,S=-1,C=-1,B=0,Y=0,ee=t,q=null;t:for(;;){for(var F;ee!==a||h!==0&&ee.nodeType!==3||(S=E+h),ee!==d||l!==0&&ee.nodeType!==3||(C=E+l),ee.nodeType===3&&(E+=ee.nodeValue.length),(F=ee.firstChild)!==null;)q=ee,ee=F;for(;;){if(ee===t)break t;if(q===a&&++B===h&&(S=E),q===d&&++Y===l&&(C=E),(F=ee.nextSibling)!==null)break;ee=q,q=ee.parentNode}ee=F}a=S===-1||C===-1?null:{start:S,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gp={focusedElem:t,selectionRange:a},Eh=!1,Bt=i;Bt!==null;)if(i=Bt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Bt=t;else for(;Bt!==null;){switch(i=Bt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var we=ia(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){tt(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Kp(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Bt=t;break}Bt=i.return}}function Sv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:qi(t,a),l&4&&Fl(5,a);break;case 1:if(qi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(E){tt(a,a.return,E)}else{var h=ia(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){tt(a,a.return,E)}}l&64&&gv(a),l&512&&Gl(a,a.return);break;case 3:if(qi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{r_(t,i)}catch(E){tt(a,a.return,E)}}break;case 27:i===null&&l&4&&Ev(a);case 26:case 5:qi(t,a),i===null&&l&4&&_v(a),l&512&&Gl(a,a.return);break;case 12:qi(t,a);break;case 13:qi(t,a),l&4&&bv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Pw.bind(null,a),Jw(t,a))));break;case 22:if(l=a.memoizedState!==null||li,!l){i=i!==null&&i.memoizedState!==null||vt,h=li;var d=vt;li=l,(vt=i)&&!d?Hi(t,a,(a.subtreeFlags&8772)!==0):qi(t,a),li=h,vt=d}break;case 30:break;default:qi(t,a)}}function Av(t){var i=t.alternate;i!==null&&(t.alternate=null,Av(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Di(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,Tn=!1;function ui(t,i,a){for(a=a.child;a!==null;)wv(t,i,a),a=a.sibling}function wv(t,i,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(dt,a)}catch{}switch(a.tag){case 26:vt||Cr(a,i),ui(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:vt||Cr(a,i);var l=lt,h=Tn;Yi(a.type)&&(lt=a.stateNode,Tn=!1),ui(t,i,a),eu(a.stateNode),lt=l,Tn=h;break;case 5:vt||Cr(a,i);case 6:if(l=lt,h=Tn,lt=null,ui(t,i,a),lt=l,Tn=h,lt!==null)if(Tn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){tt(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){tt(a,i,d)}break;case 18:lt!==null&&(Tn?(t=lt,fE(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),lu(t)):fE(lt,a.stateNode));break;case 4:l=lt,h=Tn,lt=a.stateNode.containerInfo,Tn=!0,ui(t,i,a),lt=l,Tn=h;break;case 0:case 11:case 14:case 15:vt||Bi(2,a,i),vt||Bi(4,a,i),ui(t,i,a);break;case 1:vt||(Cr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&yv(a,i,l)),ui(t,i,a);break;case 21:ui(t,i,a);break;case 22:vt=(l=vt)||a.memoizedState!==null,ui(t,i,a),vt=l;break;default:ui(t,i,a)}}function bv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{lu(t)}catch(a){tt(i,i.return,a)}}function Iw(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Tv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Tv),i;default:throw Error(s(435,t.tag))}}function Tp(t,i){var a=Iw(t);i.forEach(function(l){var h=kw.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Dn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,E=i,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(Yi(S.type)){lt=S.stateNode,Tn=!1;break e}break;case 5:lt=S.stateNode,Tn=!1;break e;case 3:case 4:lt=S.stateNode.containerInfo,Tn=!0;break e}S=S.return}if(lt===null)throw Error(s(160));wv(d,E,h),lt=null,Tn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Rv(i,t),i=i.sibling}var sr=null;function Rv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dn(i,t),Nn(t),l&4&&(Bi(3,t,t.return),Fl(3,t),Bi(5,t,t.return));break;case 1:Dn(i,t),Nn(t),l&512&&(vt||a===null||Cr(a,a.return)),l&64&&li&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=sr;if(Dn(i,t),Nn(t),l&512&&(vt||a===null||Cr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ms]||d[Nt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Xt(d,l,a),d[Nt]=t,yt(d),l=d;break e;case"link":var E=EE("link","href",h).get(l+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(d=E[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}d=h.createElement(l),Xt(d,l,a),h.head.appendChild(d);break;case"meta":if(E=EE("meta","content",h).get(l+(a.content||""))){for(S=0;S<E.length;S++)if(d=E[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}d=h.createElement(l),Xt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Nt]=t,yt(d),l=d}t.stateNode=l}else TE(h,t.type,t.stateNode);else t.stateNode=vE(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?TE(h,t.type,t.stateNode):vE(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yp(t,t.memoizedProps,a.memoizedProps)}break;case 27:Dn(i,t),Nn(t),l&512&&(vt||a===null||Cr(a,a.return)),a!==null&&l&4&&yp(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Dn(i,t),Nn(t),l&512&&(vt||a===null||Cr(a,a.return)),t.flags&32){h=t.stateNode;try{Bn(h,"")}catch(F){tt(t,t.return,F)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,yp(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ep=!0);break;case 6:if(Dn(i,t),Nn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){tt(t,t.return,F)}}break;case 3:if(yh=null,h=sr,sr=mh(i.containerInfo),Dn(i,t),sr=h,Nn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{lu(i.containerInfo)}catch(F){tt(t,t.return,F)}Ep&&(Ep=!1,Iv(t));break;case 4:l=sr,sr=mh(t.stateNode.containerInfo),Dn(i,t),Nn(t),sr=l;break;case 12:Dn(i,t),Nn(t);break;case 13:Dn(i,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ip=jn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tp(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=li,Y=vt;if(li=B||h,vt=Y||C,Dn(i,t),vt=Y,li=B,Nn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||li||vt||sa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=C.stateNode;var ee=C.memoizedProps.style,q=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(F){tt(C,C.return,F)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(F){tt(C,C.return,F)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Tp(t,a))));break;case 19:Dn(i,t),Nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tp(t,l)));break;case 30:break;case 21:break;default:Dn(i,t),Nn(t)}}function Nn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(vv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=_p(t);nh(t,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(Bn(E,""),a.flags&=-33);var S=_p(t);nh(t,S,E);break;case 3:case 4:var C=a.stateNode.containerInfo,B=_p(t);vp(t,B,C);break;default:throw Error(s(161))}}catch(Y){tt(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Iv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Iv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function qi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Sv(t,i.alternate,i),i=i.sibling}function sa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Bi(4,i,i.return),sa(i);break;case 1:Cr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&yv(i,i.return,a),sa(i);break;case 27:eu(i.stateNode);case 26:case 5:Cr(i,i.return),sa(i);break;case 22:i.memoizedState===null&&sa(i);break;case 30:sa(i);break;default:sa(i)}t=t.sibling}}function Hi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:Hi(h,d,a),Fl(4,d);break;case 1:if(Hi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){tt(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)n_(C[h],S)}catch(B){tt(l,l.return,B)}}a&&E&64&&gv(d),Gl(d,d.return);break;case 27:Ev(d);case 26:case 5:Hi(h,d,a),a&&l===null&&E&4&&_v(d),Gl(d,d.return);break;case 12:Hi(h,d,a);break;case 13:Hi(h,d,a),a&&E&4&&bv(h,d);break;case 22:d.memoizedState===null&&Hi(h,d,a),Gl(d,d.return);break;case 30:break;default:Hi(h,d,a)}i=i.sibling}}function Sp(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Dl(a))}function Ap(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Dl(t))}function xr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Cv(t,i,a,l),i=i.sibling}function Cv(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:xr(t,i,a,l),h&2048&&Fl(9,i);break;case 1:xr(t,i,a,l);break;case 3:xr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Dl(t)));break;case 12:if(h&2048){xr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,S=d.onPostCommit;typeof S=="function"&&S(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){tt(i,i.return,C)}}else xr(t,i,a,l);break;case 13:xr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?xr(t,i,a,l):$l(t,i):d._visibility&2?xr(t,i,a,l):(d._visibility|=2,ao(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Sp(E,i);break;case 24:xr(t,i,a,l),h&2048&&Ap(i.alternate,i);break;default:xr(t,i,a,l)}}function ao(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,S=a,C=l,B=E.flags;switch(E.tag){case 0:case 11:case 15:ao(d,E,S,C,h),Fl(8,E);break;case 23:break;case 22:var Y=E.stateNode;E.memoizedState!==null?Y._visibility&2?ao(d,E,S,C,h):$l(d,E):(Y._visibility|=2,ao(d,E,S,C,h)),h&&B&2048&&Sp(E.alternate,E);break;case 24:ao(d,E,S,C,h),h&&B&2048&&Ap(E.alternate,E);break;default:ao(d,E,S,C,h)}i=i.sibling}}function $l(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:$l(a,l),h&2048&&Sp(l.alternate,l);break;case 24:$l(a,l),h&2048&&Ap(l.alternate,l);break;default:$l(a,l)}i=i.sibling}}var Ql=8192;function oo(t){if(t.subtreeFlags&Ql)for(t=t.child;t!==null;)xv(t),t=t.sibling}function xv(t){switch(t.tag){case 26:oo(t),t.flags&Ql&&t.memoizedState!==null&&fb(sr,t.memoizedState,t.memoizedProps);break;case 5:oo(t);break;case 3:case 4:var i=sr;sr=mh(t.stateNode.containerInfo),oo(t),sr=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Ql,Ql=16777216,oo(t),Ql=i):oo(t));break;default:oo(t)}}function Dv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Kl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,Ov(l,t)}Dv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Nv(t),t=t.sibling}function Nv(t){switch(t.tag){case 0:case 11:case 15:Kl(t),t.flags&2048&&Bi(9,t,t.return);break;case 3:Kl(t);break;case 12:Kl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,rh(t)):Kl(t);break;default:Kl(t)}}function rh(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,Ov(l,t)}Dv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Bi(8,i,i.return),rh(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,rh(i));break;default:rh(i)}t=t.sibling}}function Ov(t,i){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Bi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var h=l.sibling,d=l.return;if(Av(l),l===a){Bt=null;break e}if(h!==null){h.return=d,Bt=h;break e}Bt=d}}}var Cw={getCacheForType:function(t){var i=on(Vt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},xw=typeof WeakMap=="function"?WeakMap:Map,Ye=0,rt=null,Me=null,ze=0,Xe=0,On=null,Fi=!1,lo=!1,wp=!1,ci=0,mt=0,Gi=0,aa=0,bp=0,Xn=0,uo=0,Yl=null,Sn=null,Rp=!1,Ip=0,ih=1/0,sh=null,$i=null,Yt=0,Qi=null,co=null,ho=0,Cp=0,xp=null,Mv=null,Xl=0,Dp=null;function Mn(){if((Ye&2)!==0&&ze!==0)return ze&-ze;if(K.T!==null){var t=Za;return t!==0?t:Lp()}return Ci()}function Vv(){Xn===0&&(Xn=(ze&536870912)===0||Fe?sl():536870912);var t=Yn.current;return t!==null&&(t.flags|=32),Xn}function Vn(t,i,a){(t===rt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(fo(t,0),Ki(t,ze,Xn,!1)),qr(t,a),((Ye&2)===0||t!==rt)&&(t===rt&&((Ye&2)===0&&(aa|=a),mt===4&&Ki(t,ze,Xn,!1)),Dr(t))}function Pv(t,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Os(t,i),h=l?Ow(t,i):Mp(t,i,!0),d=l;do{if(h===0){lo&&!l&&Ki(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Dw(a)){h=Mp(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var S=t;h=Yl;var C=S.current.memoizedState.isDehydrated;if(C&&(fo(S,E).flags|=256),E=Mp(S,E,!1),E!==2){if(wp&&!C){S.errorRecoveryDisabledLanes|=d,aa|=d,h=4;break e}d=Sn,Sn=h,d!==null&&(Sn===null?Sn=d:Sn.push.apply(Sn,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){fo(t,0),Ki(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ki(l,i,Xn,!Fi);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ip+300-jn(),10<h)){if(Ki(l,i,Xn,!Fi),xa(l,0,!0)!==0)break e;l.timeoutHandle=cE(kv.bind(null,l,a,Sn,sh,Rp,i,Xn,aa,uo,Fi,d,2,-0,0),h);break e}kv(l,a,Sn,sh,Rp,i,Xn,aa,uo,Fi,d,0,-0,0)}}break}while(!0);Dr(t)}function kv(t,i,a,l,h,d,E,S,C,B,Y,ee,q,F){if(t.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(ru={stylesheets:null,count:0,unsuspend:hb},xv(i),ee=db(),ee!==null)){t.cancelPendingCommit=ee(Hv.bind(null,t,i,d,a,l,h,E,S,C,Y,1,q,F)),Ki(t,d,E,!B);return}Hv(t,i,d,a,l,h,E,S,C)}function Dw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Cn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ki(t,i,a,l){i&=~bp,i&=~aa,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-an(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&mr(t,a,i)}function ah(){return(Ye&6)===0?(Wl(0),!1):!0}function Np(){if(Me!==null){if(Xe===0)var t=Me.return;else t=Me,ni=ea=null,Kd(t),io=null,Bl=0,t=Me;for(;t!==null;)mv(t.alternate,t),t=t.return;Me=null}}function fo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Kw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Np(),rt=t,Me=a=Jr(t.current,null),ze=i,Xe=0,On=null,Fi=!1,lo=Os(t,i),wp=!1,uo=Xn=bp=aa=Gi=mt=0,Sn=Yl=null,Rp=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-an(l),d=1<<h;i|=t[h],l&=~d}return ci=i,Cc(),a}function Lv(t,i){Ne=null,K.H=Qc,i===Ol||i===Lc?(i=e_(),Xe=3):i===Wy?(i=e_(),Xe=4):Xe=i===tv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,On=i,Me===null&&(mt=1,Zc(t,Gn(i,t.current)))}function Uv(){var t=K.H;return K.H=Qc,t===null?Qc:t}function jv(){var t=K.A;return K.A=Cw,t}function Op(){mt=4,Fi||(ze&4194048)!==ze&&Yn.current!==null||(lo=!0),(Gi&134217727)===0&&(aa&134217727)===0||rt===null||Ki(rt,ze,Xn,!1)}function Mp(t,i,a){var l=Ye;Ye|=2;var h=Uv(),d=jv();(rt!==t||ze!==i)&&(sh=null,fo(t,i)),i=!1;var E=mt;e:do try{if(Xe!==0&&Me!==null){var S=Me,C=On;switch(Xe){case 8:Np(),E=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(i=!0);var B=Xe;if(Xe=0,On=null,po(t,S,C,B),a&&lo){E=0;break e}break;default:B=Xe,Xe=0,On=null,po(t,S,C,B)}}Nw(),E=mt;break}catch(Y){Lv(t,Y)}while(!0);return i&&t.shellSuspendCounter++,ni=ea=null,Ye=l,K.H=h,K.A=d,Me===null&&(rt=null,ze=0,Cc()),E}function Nw(){for(;Me!==null;)zv(Me)}function Ow(t,i){var a=Ye;Ye|=2;var l=Uv(),h=jv();rt!==t||ze!==i?(sh=null,ih=jn()+500,fo(t,i)):lo=Os(t,i);e:do try{if(Xe!==0&&Me!==null){i=Me;var d=On;t:switch(Xe){case 1:Xe=0,On=null,po(t,i,d,1);break;case 2:case 9:if(Zy(d)){Xe=0,On=null,Bv(i);break}i=function(){Xe!==2&&Xe!==9||rt!==t||(Xe=7),Dr(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Zy(d)?(Xe=0,On=null,Bv(i)):(Xe=0,On=null,po(t,i,d,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var S=Me;if(!E||SE(E)){Xe=0,On=null;var C=S.sibling;if(C!==null)Me=C;else{var B=S.return;B!==null?(Me=B,oh(B)):Me=null}break t}}Xe=0,On=null,po(t,i,d,5);break;case 6:Xe=0,On=null,po(t,i,d,6);break;case 8:Np(),mt=6;break e;default:throw Error(s(462))}}Mw();break}catch(Y){Lv(t,Y)}while(!0);return ni=ea=null,K.H=l,K.A=h,Ye=a,Me!==null?0:(rt=null,ze=0,Cc(),mt)}function Mw(){for(;Me!==null&&!tl();)zv(Me)}function zv(t){var i=dv(t.alternate,t,ci);t.memoizedProps=t.pendingProps,i===null?oh(t):Me=i}function Bv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=ov(a,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=ov(a,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:Kd(i);default:mv(a,i),i=Me=qy(i,ci),i=dv(a,i,ci)}t.memoizedProps=t.pendingProps,i===null?oh(t):Me=i}function po(t,i,a,l){ni=ea=null,Kd(i),io=null,Bl=0;var h=i.return;try{if(Sw(t,h,i,a,ze)){mt=1,Zc(t,Gn(a,t.current)),Me=null;return}}catch(d){if(h!==null)throw Me=h,d;mt=1,Zc(t,Gn(a,t.current)),Me=null;return}i.flags&32768?(Fe||l===1?t=!0:lo||(ze&536870912)!==0?t=!1:(Fi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),qv(i,t)):oh(i)}function oh(t){var i=t;do{if((i.flags&32768)!==0){qv(i,Fi);return}t=i.return;var a=ww(i.alternate,i,ci);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);mt===0&&(mt=5)}function qv(t,i){do{var a=bw(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);mt=6,Me=null}function Hv(t,i,a,l,h,d,E,S,C){t.cancelPendingCommit=null;do lh();while(Yt!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Ad,ol(t,a,d,E,S,C),t===rt&&(Me=rt=null,ze=0),co=i,Qi=t,ho=a,Cp=d,xp=h,Mv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Lw(Cs,function(){return Kv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=oe.p,oe.p=2,E=Ye,Ye|=4;try{Rw(t,i,a)}finally{Ye=E,oe.p=h,K.T=l}}Yt=1,Fv(),Gv(),$v()}}function Fv(){if(Yt===1){Yt=0;var t=Qi,i=co,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=oe.p;oe.p=2;var h=Ye;Ye|=4;try{Rv(i,t);var d=Gp,E=Oy(t.containerInfo),S=d.focusedElem,C=d.selectionRange;if(E!==S&&S&&S.ownerDocument&&Ny(S.ownerDocument.documentElement,S)){if(C!==null&&_d(S)){var B=C.start,Y=C.end;if(Y===void 0&&(Y=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(Y,S.value.length);else{var ee=S.ownerDocument||document,q=ee&&ee.defaultView||window;if(q.getSelection){var F=q.getSelection(),we=S.textContent.length,Ee=Math.min(C.start,we),et=C.end===void 0?Ee:Math.min(C.end,we);!F.extend&&Ee>et&&(E=et,et=Ee,Ee=E);var k=Dy(S,Ee),M=Dy(S,et);if(k&&M&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var z=ee.createRange();z.setStart(k.node,k.offset),F.removeAllRanges(),Ee>et?(F.addRange(z),F.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),F.addRange(z))}}}}for(ee=[],F=S;F=F.parentNode;)F.nodeType===1&&ee.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var X=ee[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Eh=!!Fp,Gp=Fp=null}finally{Ye=h,oe.p=l,K.T=a}}t.current=i,Yt=2}}function Gv(){if(Yt===2){Yt=0;var t=Qi,i=co,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=oe.p;oe.p=2;var h=Ye;Ye|=4;try{Sv(t,i.alternate,i)}finally{Ye=h,oe.p=l,K.T=a}}Yt=3}}function $v(){if(Yt===4||Yt===3){Yt=0,rc();var t=Qi,i=co,a=ho,l=Mv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Yt=5:(Yt=0,co=Qi=null,Qv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&($i=null),Da(a),i=i.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(dt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=oe.p,oe.p=2,K.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var S=l[E];d(S.value,{componentStack:S.stack})}}finally{K.T=i,oe.p=h}}(ho&3)!==0&&lh(),Dr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Dp?Xl++:(Xl=0,Dp=t):Xl=0,Wl(0)}}function Qv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Dl(i)))}function lh(t){return Fv(),Gv(),$v(),Kv()}function Kv(){if(Yt!==5)return!1;var t=Qi,i=Cp;Cp=0;var a=Da(ho),l=K.T,h=oe.p;try{oe.p=32>a?32:a,K.T=null,a=xp,xp=null;var d=Qi,E=ho;if(Yt=0,co=Qi=null,ho=0,(Ye&6)!==0)throw Error(s(331));var S=Ye;if(Ye|=4,Nv(d.current),Cv(d,d.current,E,a),Ye=S,Wl(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(dt,d)}catch{}return!0}finally{oe.p=h,K.T=l,Qv(t,i)}}function Yv(t,i,a){i=Gn(a,i),i=lp(t.stateNode,i,2),t=Li(t,i,2),t!==null&&(qr(t,2),Dr(t))}function tt(t,i,a){if(t.tag===3)Yv(t,t,a);else for(;i!==null;){if(i.tag===3){Yv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($i===null||!$i.has(l))){t=Gn(a,t),a=J_(2),l=Li(i,a,2),l!==null&&(ev(a,l,i,t),qr(l,2),Dr(l));break}}i=i.return}}function Vp(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new xw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(wp=!0,h.add(a),t=Vw.bind(null,t,i,a),i.then(t,t))}function Vw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(ze&a)===a&&(mt===4||mt===3&&(ze&62914560)===ze&&300>jn()-Ip?(Ye&2)===0&&fo(t,0):bp|=a,uo===ze&&(uo=0)),Dr(t)}function Xv(t,i){i===0&&(i=al()),t=Ka(t,i),t!==null&&(qr(t,i),Dr(t))}function Pw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Xv(t,a)}function kw(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Xv(t,a)}function Lw(t,i){return Rs(t,i)}var uh=null,mo=null,Pp=!1,ch=!1,kp=!1,oa=0;function Dr(t){t!==mo&&t.next===null&&(mo===null?uh=mo=t:mo=mo.next=t),ch=!0,Pp||(Pp=!0,jw())}function Wl(t,i){if(!kp&&ch){kp=!0;do for(var a=!1,l=uh;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-an(42|t)+1)-1,d&=h&~(E&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,eE(l,d))}else d=ze,d=xa(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Os(l,d)||(a=!0,eE(l,d));l=l.next}while(a);kp=!1}}function Uw(){Wv()}function Wv(){ch=Pp=!1;var t=0;oa!==0&&(Qw()&&(t=oa),oa=0);for(var i=jn(),a=null,l=uh;l!==null;){var h=l.next,d=Zv(l,i);d===0?(l.next=null,a===null?uh=h:a.next=h,h===null&&(mo=a)):(a=l,(t!==0||(d&3)!==0)&&(ch=!0)),l=h}Wl(t)}function Zv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-an(d),S=1<<E,C=h[E];C===-1?((S&a)===0||(S&l)!==0)&&(h[E]=il(S,i)):C<=i&&(t.expiredLanes|=S),d&=~S}if(i=rt,a=ze,a=xa(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Is(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Os(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Is(l),Da(a)){case 2:case 8:a=Ia;break;case 32:a=Cs;break;case 268435456:a=Ca;break;default:a=Cs}return l=Jv.bind(null,t),a=Rs(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Is(l),t.callbackPriority=2,t.callbackNode=null,2}function Jv(t,i){if(Yt!==0&&Yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(lh()&&t.callbackNode!==a)return null;var l=ze;return l=xa(t,t===rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Pv(t,l,i),Zv(t,jn()),t.callbackNode!=null&&t.callbackNode===a?Jv.bind(null,t):null)}function eE(t,i){if(lh())return null;Pv(t,i,!0)}function jw(){Yw(function(){(Ye&6)!==0?Rs(nl,Uw):Wv()})}function Lp(){return oa===0&&(oa=sl()),oa}function tE(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ka(""+t)}function nE(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function zw(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=tE((h[Tt]||null).action),E=l.submitter;E&&(i=(i=E[Tt]||null)?tE(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var S=new La("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(oa!==0){var C=E?nE(h,E):new FormData(h);rp(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(S.preventDefault(),C=E?nE(h,E):new FormData(h),rp(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Up=0;Up<Sd.length;Up++){var jp=Sd[Up],Bw=jp.toLowerCase(),qw=jp[0].toUpperCase()+jp.slice(1);ir(Bw,"on"+qw)}ir(Py,"onAnimationEnd"),ir(ky,"onAnimationIteration"),ir(Ly,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(sw,"onTransitionRun"),ir(aw,"onTransitionStart"),ir(ow,"onTransitionCancel"),ir(Uy,"onTransitionEnd"),Fr("onMouseEnter",["mouseout","mouseover"]),Fr("onMouseLeave",["mouseout","mouseover"]),Fr("onPointerEnter",["pointerout","pointerover"]),Fr("onPointerLeave",["pointerout","pointerover"]),nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function rE(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var S=l[E],C=S.instance,B=S.currentTarget;if(S=S.listener,C!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(Y){Wc(Y)}h.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(S=l[E],C=S.instance,B=S.currentTarget,S=S.listener,C!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(Y){Wc(Y)}h.currentTarget=null,d=C}}}}function Ve(t,i){var a=i[ul];a===void 0&&(a=i[ul]=new Set);var l=t+"__bubble";a.has(l)||(iE(i,t,2,!1),a.add(l))}function zp(t,i,a){var l=0;i&&(l|=4),iE(a,t,l,i)}var hh="_reactListening"+Math.random().toString(36).slice(2);function Bp(t){if(!t[hh]){t[hh]=!0,cl.forEach(function(a){a!=="selectionchange"&&(Hw.has(a)||zp(a,!1,t),zp(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[hh]||(i[hh]=!0,zp("selectionchange",!1,i))}}function iE(t,i,a,l){switch(CE(i)){case 2:var h=gb;break;case 8:h=yb;break;default:h=tm}a=h.bind(null,i,a,t),h=void 0,!Hn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function qp(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===h)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;S!==null;){if(E=Hr(S),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}S=S.parentNode}}l=l.return}dc(function(){var B=d,Y=qn(a),ee=[];e:{var q=jy.get(t);if(q!==void 0){var F=La,we=t;switch(t){case"keypress":if(Tr(a)===0)break e;case"keydown":case"keyup":F=Ha;break;case"focusin":we="focus",F=za;break;case"focusout":we="blur",F=za;break;case"beforeblur":case"afterblur":F=za;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Tc;break;case Py:case ky:case Ly:F=Ba;break;case Uy:F=Ac;break;case"scroll":case"scrollend":F=pc;break;case"wheel":F=Fa;break;case"copy":case"cut":case"paste":F=qa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Sl;break;case"toggle":case"beforetoggle":F=bc}var Ee=(i&4)!==0,et=!Ee&&(t==="scroll"||t==="scrollend"),k=Ee?q!==null?q+"Capture":null:q;Ee=[];for(var M=B,z;M!==null;){var X=M;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||k===null||(X=zs(M,k),X!=null&&Ee.push(Jl(M,X,z))),et)break;M=M.return}0<Ee.length&&(q=new F(q,we,null,a,Y),ee.push({event:q,listeners:Ee}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==Qr&&(we=a.relatedTarget||a.fromElement)&&(Hr(we)||we[zn]))break e;if((F||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,F?(we=a.relatedTarget||a.toElement,F=B,we=we?Hr(we):null,we!==null&&(et=u(we),Ee=we.tag,we!==et||Ee!==5&&Ee!==27&&Ee!==6)&&(we=null)):(F=null,we=B),F!==we)){if(Ee=Fn,X="onMouseLeave",k="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Sl,X="onPointerLeave",k="onPointerEnter",M="pointer"),et=F==null?q:yr(F),z=we==null?q:yr(we),q=new Ee(X,M+"leave",F,a,Y),q.target=et,q.relatedTarget=z,X=null,Hr(Y)===B&&(Ee=new Ee(k,M+"enter",we,a,Y),Ee.target=z,Ee.relatedTarget=et,X=Ee),et=X,F&&we)t:{for(Ee=F,k=we,M=0,z=Ee;z;z=go(z))M++;for(z=0,X=k;X;X=go(X))z++;for(;0<M-z;)Ee=go(Ee),M--;for(;0<z-M;)k=go(k),z--;for(;M--;){if(Ee===k||k!==null&&Ee===k.alternate)break t;Ee=go(Ee),k=go(k)}Ee=null}else Ee=null;F!==null&&sE(ee,q,F,Ee,!1),we!==null&&et!==null&&sE(ee,et,we,Ee,!0)}}e:{if(q=B?yr(B):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var pe=wy;else if(Mt(q))if(by)pe=nw;else{pe=ew;var Oe=JA}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&ml(B.elementType)&&(pe=wy):pe=tw;if(pe&&(pe=pe(t,B))){Zr(ee,pe,a,Y);break e}Oe&&Oe(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Oi(q,"number",q.value)}switch(Oe=B?yr(B):window,t){case"focusin":(Mt(Oe)||Oe.contentEditable==="true")&&(Ga=Oe,vd=B,bl=null);break;case"focusout":bl=vd=Ga=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,My(ee,a,Y);break;case"selectionchange":if(iw)break;case"keydown":case"keyup":My(ee,a,Y)}var ye;if(wr)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Ue?Q(t,a)&&(Te="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(_&&a.locale!=="ko"&&(Ue||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Ue&&(ye=yl()):(Er=Y,Mi="value"in Er?Er.value:Er.textContent,Ue=!0)),Oe=fh(B,Te),0<Oe.length&&(Te=new El(Te,t,null,a,Y),ee.push({event:Te,listeners:Oe}),ye?Te.data=ye:(ye=ae(a),ye!==null&&(Te.data=ye)))),(ye=y?Ot(t,a):je(t,a))&&(Te=fh(B,"onBeforeInput"),0<Te.length&&(Oe=new El("onBeforeInput","beforeinput",null,a,Y),ee.push({event:Oe,listeners:Te}),Oe.data=ye)),zw(ee,t,B,a,Y)}rE(ee,i)})}function Jl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function fh(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=zs(t,a),h!=null&&l.unshift(Jl(t,h,d)),h=zs(t,i),h!=null&&l.push(Jl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function go(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function sE(t,i,a,l,h){for(var d=i._reactName,E=[];a!==null&&a!==l;){var S=a,C=S.alternate,B=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||B===null||(C=B,h?(B=zs(a,d),B!=null&&E.unshift(Jl(a,B,C))):h||(B=zs(a,d),B!=null&&E.push(Jl(a,B,C)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var Fw=/\r\n?/g,Gw=/\u0000|\uFFFD/g;function aE(t){return(typeof t=="string"?t:""+t).replace(Fw,`
`).replace(Gw,"")}function oE(t,i){return i=aE(i),aE(t)===i}function dh(){}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Bn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Bn(t,""+l);break;case"className":_r(t,"class",l);break;case"tabIndex":_r(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_r(t,a,l);break;case"style":pl(t,l,d);break;case"data":if(i!=="object"){_r(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ka(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ka(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=dh);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ka(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),Ni(t,"popover",l);break;case"xlinkActuate":$t(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$t(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$t(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$t(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$t(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$t(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$t(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$t(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$t(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ni(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fd.get(a)||a,Ni(t,a,l))}}function Hp(t,i,a,l,h,d){switch(a){case"style":pl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Bn(t,l):(typeof l=="number"||typeof l=="bigint")&&Bn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=dh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Na.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Tt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ni(t,a,l)}}}function Xt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,E,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var S=d=E=h=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":E=Y;break;case"checked":C=Y;break;case"defaultChecked":B=Y;break;case"value":d=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Je(t,i,l,Y,a,null)}}Ls(t,d,S,C,B,E,h,!1),Pa(t);return;case"select":Ve("invalid",t),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:Je(t,i,h,S,a,null)}i=d,a=E,t.multiple=!!l,i!=null?$r(t,!!l,i,!1):a!=null&&$r(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Je(t,i,E,S,a,null)}Us(t,l,h,d),Pa(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,C,l,a,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<Zl.length;l++)Ve(Zl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,B,l,a,null)}return;default:if(ml(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Hp(t,i,Y,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Je(t,i,S,l,a,null))}function $w(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,S=null,C=null,B=null,Y=null;for(F in a){var ee=a[F];if(a.hasOwnProperty(F)&&ee!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=ee;default:l.hasOwnProperty(F)||Je(t,i,F,null,l,ee)}}for(var q in l){var F=l[q];if(ee=a[q],l.hasOwnProperty(q)&&(F!=null||ee!=null))switch(q){case"type":d=F;break;case"name":h=F;break;case"checked":B=F;break;case"defaultChecked":Y=F;break;case"value":E=F;break;case"defaultValue":S=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==ee&&Je(t,i,q,F,l,ee)}}In(t,E,S,C,B,Y,d,h);return;case"select":F=E=S=q=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":q=d;break;case"defaultValue":S=d;break;case"multiple":E=d;default:d!==C&&Je(t,i,h,d,l,C)}i=S,a=E,l=F,q!=null?$r(t,!!a,q,!1):!!l!=!!a&&(i!=null?$r(t,!!a,i,!0):$r(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Je(t,i,S,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,E,h,l,d)}We(t,q,F);return;case"option":for(var we in a)if(q=a[we],a.hasOwnProperty(we)&&q!=null&&!l.hasOwnProperty(we))switch(we){case"selected":t.selected=!1;break;default:Je(t,i,we,null,l,q)}for(C in l)if(q=l[C],F=a[C],l.hasOwnProperty(C)&&q!==F&&(q!=null||F!=null))switch(C){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Je(t,i,C,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)q=a[Ee],a.hasOwnProperty(Ee)&&q!=null&&!l.hasOwnProperty(Ee)&&Je(t,i,Ee,null,l,q);for(B in l)if(q=l[B],F=a[B],l.hasOwnProperty(B)&&q!==F&&(q!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Je(t,i,B,q,l,F)}return;default:if(ml(i)){for(var et in a)q=a[et],a.hasOwnProperty(et)&&q!==void 0&&!l.hasOwnProperty(et)&&Hp(t,i,et,void 0,l,q);for(Y in l)q=l[Y],F=a[Y],!l.hasOwnProperty(Y)||q===F||q===void 0&&F===void 0||Hp(t,i,Y,q,l,F);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&Je(t,i,k,null,l,q);for(ee in l)q=l[ee],F=a[ee],!l.hasOwnProperty(ee)||q===F||q==null&&F==null||Je(t,i,ee,q,l,F)}var Fp=null,Gp=null;function ph(t){return t.nodeType===9?t:t.ownerDocument}function lE(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uE(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function $p(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qp=null;function Qw(){var t=window.event;return t&&t.type==="popstate"?t===Qp?!1:(Qp=t,!0):(Qp=null,!1)}var cE=typeof setTimeout=="function"?setTimeout:void 0,Kw=typeof clearTimeout=="function"?clearTimeout:void 0,hE=typeof Promise=="function"?Promise:void 0,Yw=typeof queueMicrotask=="function"?queueMicrotask:typeof hE<"u"?function(t){return hE.resolve(null).then(t).catch(Xw)}:cE;function Xw(t){setTimeout(function(){throw t})}function Yi(t){return t==="head"}function fE(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&eu(E.documentElement),a&2&&eu(E.body),a&4)for(a=E.head,eu(a),E=a.firstChild;E;){var S=E.nextSibling,C=E.nodeName;E[Ms]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=S}}if(h===0){t.removeChild(d),lu(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);lu(i)}function Kp(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kp(a),Di(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Ww(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ms])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ar(t.nextSibling),t===null)break}return null}function Zw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ar(t.nextSibling),t===null))return null;return t}function Yp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Jw(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ar(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Xp=null;function dE(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function pE(t,i,a){switch(i=ph(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function eu(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Di(t)}var Wn=new Map,mE=new Set;function mh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hi=oe.d;oe.d={f:eb,r:tb,D:nb,C:rb,L:ib,m:sb,X:ob,S:ab,M:lb};function eb(){var t=hi.f(),i=ah();return t||i}function tb(t){var i=gr(t);i!==null&&i.tag===5&&i.type==="form"?P_(i):hi.r(t)}var yo=typeof document>"u"?null:document;function gE(t,i,a){var l=yo;if(l&&typeof i=="string"&&i){var h=St(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),mE.has(h)||(mE.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Xt(i,"link",t),yt(i),l.head.appendChild(i)))}}function nb(t){hi.D(t),gE("dns-prefetch",t,null)}function rb(t,i){hi.C(t,i),gE("preconnect",t,i)}function ib(t,i,a){hi.L(t,i,a);var l=yo;if(l&&t&&i){var h='link[rel="preload"][as="'+St(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+St(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+St(a.imageSizes)+'"]')):h+='[href="'+St(t)+'"]';var d=h;switch(i){case"style":d=_o(t);break;case"script":d=vo(t)}Wn.has(d)||(t=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Wn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(tu(d))||i==="script"&&l.querySelector(nu(d))||(i=l.createElement("link"),Xt(i,"link",t),yt(i),l.head.appendChild(i)))}}function sb(t,i){hi.m(t,i);var a=yo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+St(l)+'"][href="'+St(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=vo(t)}if(!Wn.has(d)&&(t=v({rel:"modulepreload",href:t},i),Wn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(nu(d)))return}l=a.createElement("link"),Xt(l,"link",t),yt(l),a.head.appendChild(l)}}}function ab(t,i,a){hi.S(t,i,a);var l=yo;if(l&&t){var h=mn(l).hoistableStyles,d=_o(t);i=i||"default";var E=h.get(d);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(tu(d)))S.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Wn.get(d))&&Wp(t,a);var C=E=l.createElement("link");yt(C),Xt(C,"link",t),C._p=new Promise(function(B,Y){C.onload=B,C.onerror=Y}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,gh(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:S},h.set(d,E)}}}function ob(t,i){hi.X(t,i);var a=yo;if(a&&t){var l=mn(a).hoistableScripts,h=vo(t),d=l.get(h);d||(d=a.querySelector(nu(h)),d||(t=v({src:t,async:!0},i),(i=Wn.get(h))&&Zp(t,i),d=a.createElement("script"),yt(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function lb(t,i){hi.M(t,i);var a=yo;if(a&&t){var l=mn(a).hoistableScripts,h=vo(t),d=l.get(h);d||(d=a.querySelector(nu(h)),d||(t=v({src:t,async:!0,type:"module"},i),(i=Wn.get(h))&&Zp(t,i),d=a.createElement("script"),yt(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function yE(t,i,a,l){var h=(h=ve.current)?mh(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=_o(a.href),a=mn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=_o(a.href);var d=mn(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(tu(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Wn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wn.set(t,a),d||ub(h,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=vo(a),a=mn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function _o(t){return'href="'+St(t)+'"'}function tu(t){return'link[rel="stylesheet"]['+t+"]"}function _E(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function ub(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xt(i,"link",a),yt(i),t.head.appendChild(i))}function vo(t){return'[src="'+St(t)+'"]'}function nu(t){return"script[async]"+t}function vE(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+St(a.href)+'"]');if(l)return i.instance=l,yt(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),yt(l),Xt(l,"style",h),gh(l,a.precedence,t),i.instance=l;case"stylesheet":h=_o(a.href);var d=t.querySelector(tu(h));if(d)return i.state.loading|=4,i.instance=d,yt(d),d;l=_E(a),(h=Wn.get(h))&&Wp(l,h),d=(t.ownerDocument||t).createElement("link"),yt(d);var E=d;return E._p=new Promise(function(S,C){E.onload=S,E.onerror=C}),Xt(d,"link",l),i.state.loading|=4,gh(d,a.precedence,t),i.instance=d;case"script":return d=vo(a.src),(h=t.querySelector(nu(d)))?(i.instance=h,yt(h),h):(l=a,(h=Wn.get(d))&&(l=v({},a),Zp(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),yt(h),Xt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,gh(l,a.precedence,t));return i.instance}function gh(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Wp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Zp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var yh=null;function EE(t,i,a){if(yh===null){var l=new Map,h=yh=new Map;h.set(a,l)}else h=yh,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ms]||d[Nt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var S=l.get(E);S?S.push(d):l.set(E,[d])}}return l}function TE(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function cb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function SE(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ru=null;function hb(){}function fb(t,i,a){if(ru===null)throw Error(s(475));var l=ru;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=_o(a.href),d=t.querySelector(tu(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=_h.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,yt(d);return}d=t.ownerDocument||t,a=_E(a),(h=Wn.get(h))&&Wp(a,h),d=d.createElement("link"),yt(d);var E=d;E._p=new Promise(function(S,C){E.onload=S,E.onerror=C}),Xt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=_h.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function db(){if(ru===null)throw Error(s(475));var t=ru;return t.stylesheets&&t.count===0&&Jp(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Jp(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function _h(){if(this.count--,this.count===0){if(this.stylesheets)Jp(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vh=null;function Jp(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vh=new Map,i.forEach(pb,t),vh=null,_h.call(t))}function pb(t,i){if(!(i.state.loading&4)){var a=vh.get(t);if(a)var l=a.get(null);else{a=new Map,vh.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=_h.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var iu={$$typeof:re,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function mb(t,i,a,l,h,d,E,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Br(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Br(0),this.hiddenUpdates=Br(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function AE(t,i,a,l,h,d,E,S,C,B,Y,ee){return t=new mb(t,i,a,E,S,C,B,ee),i=1,d===!0&&(i|=24),d=xn(3,null,null,i),t.current=d,d.stateNode=t,i=Vd(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Ud(d),t}function wE(t){return t?(t=Ya,t):Ya}function bE(t,i,a,l,h,d){h=wE(h),l.context===null?l.context=h:l.pendingContext=h,l=ki(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Li(t,l,i),a!==null&&(Vn(a,t,i),Vl(a,t,i))}function RE(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function em(t,i){RE(t,i),(t=t.alternate)&&RE(t,i)}function IE(t){if(t.tag===13){var i=Ka(t,67108864);i!==null&&Vn(i,t,67108864),em(t,67108864)}}var Eh=!0;function gb(t,i,a,l){var h=K.T;K.T=null;var d=oe.p;try{oe.p=2,tm(t,i,a,l)}finally{oe.p=d,K.T=h}}function yb(t,i,a,l){var h=K.T;K.T=null;var d=oe.p;try{oe.p=8,tm(t,i,a,l)}finally{oe.p=d,K.T=h}}function tm(t,i,a,l){if(Eh){var h=nm(l);if(h===null)qp(t,i,l,Th,a),xE(t,l);else if(vb(h,t,i,a,l))l.stopPropagation();else if(xE(t,l),i&4&&-1<_b.indexOf(t)){for(;h!==null;){var d=gr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=tr(d.pendingLanes);if(E!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var C=1<<31-an(E);S.entanglements[1]|=C,E&=~C}Dr(d),(Ye&6)===0&&(ih=jn()+500,Wl(0))}}break;case 13:S=Ka(d,2),S!==null&&Vn(S,d,2),ah(),em(d,2)}if(d=nm(l),d===null&&qp(t,i,l,Th,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else qp(t,i,l,null,a)}}function nm(t){return t=qn(t),rm(t)}var Th=null;function rm(t){if(Th=null,t=Hr(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Th=t,null}function CE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ad()){case nl:return 2;case Ia:return 8;case Cs:case od:return 32;case Ca:return 268435456;default:return 32}default:return 32}}var im=!1,Xi=null,Wi=null,Zi=null,su=new Map,au=new Map,Ji=[],_b="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xE(t,i){switch(t){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":su.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(i.pointerId)}}function ou(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=gr(i),i!==null&&IE(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function vb(t,i,a,l,h){switch(i){case"focusin":return Xi=ou(Xi,t,i,a,l,h),!0;case"dragenter":return Wi=ou(Wi,t,i,a,l,h),!0;case"mouseover":return Zi=ou(Zi,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return su.set(d,ou(su.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,au.set(d,ou(au.get(d)||null,t,i,a,l,h)),!0}return!1}function DE(t){var i=Hr(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,ac(t.priority,function(){if(a.tag===13){var l=Mn();l=Ii(l);var h=Ka(a,l);h!==null&&Vn(h,a,l),em(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=nm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Qr=l,a.target.dispatchEvent(l),Qr=null}else return i=gr(a),i!==null&&IE(i),t.blockedOn=a,!1;i.shift()}return!0}function NE(t,i,a){Sh(t)&&a.delete(i)}function Eb(){im=!1,Xi!==null&&Sh(Xi)&&(Xi=null),Wi!==null&&Sh(Wi)&&(Wi=null),Zi!==null&&Sh(Zi)&&(Zi=null),su.forEach(NE),au.forEach(NE)}function Ah(t,i){t.blockedOn===i&&(t.blockedOn=null,im||(im=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Eb)))}var wh=null;function OE(t){wh!==t&&(wh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wh===t&&(wh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(rm(l||a)===null)continue;break}var d=gr(a);d!==null&&(t.splice(i,3),i-=3,rp(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function lu(t){function i(C){return Ah(C,t)}Xi!==null&&Ah(Xi,t),Wi!==null&&Ah(Wi,t),Zi!==null&&Ah(Zi,t),su.forEach(i),au.forEach(i);for(var a=0;a<Ji.length;a++){var l=Ji[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ji.length&&(a=Ji[0],a.blockedOn===null);)DE(a),a.blockedOn===null&&Ji.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[Tt]||null;if(typeof d=="function")E||OE(a);else if(E){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[Tt]||null)S=E.formAction;else if(rm(h)!==null)continue}else S=E.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),OE(a)}}}function sm(t){this._internalRoot=t}bh.prototype.render=sm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Mn();bE(a,l,t,i,null,null)},bh.prototype.unmount=sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;bE(t.current,2,null,t,null,null),ah(),i[zn]=null}};function bh(t){this._internalRoot=t}bh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ci();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Ji.length&&i!==0&&i<Ji[a].priority;a++);Ji.splice(a,0,t),a===0&&DE(t)}};var ME=e.version;if(ME!=="19.1.0")throw Error(s(527,ME,"19.1.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var Tb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{dt=Rh.inject(Tb),Ke=Rh}catch{}}return cu.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Y_,d=X_,E=W_,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=AE(t,1,!1,null,null,a,l,h,d,E,S,null),t[zn]=i.current,Bp(t),new sm(i)},cu.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Y_,E=X_,S=W_,C=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=AE(t,1,!0,i,a??null,l,h,d,E,S,C,B),i.context=wE(null),a=i.current,l=Mn(),l=Ii(l),h=ki(l),h.callback=null,Li(a,h,l),a=l,i.current.lanes=a,qr(i,a),Dr(i),t[zn]=i.current,Bp(t),new bh(i)},cu.version="19.1.0",cu}var HE;function Ob(){if(HE)return lm.exports;HE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),lm.exports=Nb(),lm.exports}var Mb=Ob();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var FE="popstate";function Vb(r={}){function e(s,o){let{pathname:u,search:f,hash:p}=s.location;return Nm("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ru(o)}return kb(e,n,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function hr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pb(){return Math.random().toString(36).substring(2,10)}function GE(r,e){return{usr:r.state,key:r.key,idx:e}}function Nm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Fo(e):e,state:n,key:e&&e.key||s||Pb()}}function Ru({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Fo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function kb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",m=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function T(){p="POP";let H=v(),J=H==null?null:H-g;g=H,m&&m({action:p,location:$.location,delta:J})}function w(H,J){p="PUSH";let W=Nm($.location,H,J);g=v()+1;let re=GE(W,g),ce=$.createHref(W);try{f.pushState(re,"",ce)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(ce)}u&&m&&m({action:p,location:$.location,delta:1})}function O(H,J){p="REPLACE";let W=Nm($.location,H,J);g=v();let re=GE(W,g),ce=$.createHref(W);f.replaceState(re,"",ce),u&&m&&m({action:p,location:$.location,delta:0})}function j(H){return Lb(H)}let $={get action(){return p},get location(){return r(o,f)},listen(H){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(FE,T),m=H,()=>{o.removeEventListener(FE,T),m=null}},createHref(H){return e(o,H)},createURL:j,encodeLocation(H){let J=j(H);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:w,replace:O,go(H){return f.go(H)}};return $}function Lb(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ru(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function UT(r,e,n="/"){return Ub(r,e,n,!1)}function Ub(r,e,n,s){let o=typeof e=="string"?Fo(e):e,u=vi(o.pathname||"/",n);if(u==null)return null;let f=jT(r);jb(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let g=Xb(u);p=Kb(f[m],g,s)}return p}function jT(r,e=[],n=[],s=""){let o=(u,f,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(ut(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=gi([s,m.relativePath]),v=n.concat(m);u.children&&u.children.length>0&&(ut(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),jT(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:$b(g,u.index),routesMeta:v})};return r.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,f);else for(let m of zT(u.path))o(u,f,m)}),e}function zT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=zT(s.join("/")),p=[];return p.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...f),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function jb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Qb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var zb=/^:[\w-]+$/,Bb=3,qb=2,Hb=1,Fb=10,Gb=-2,$E=r=>r==="*";function $b(r,e){let n=r.split("/"),s=n.length;return n.some($E)&&(s+=Gb),e&&(s+=qb),n.filter(o=>!$E(o)).reduce((o,u)=>o+(zb.test(u)?Bb:u===""?Hb:Fb),s)}function Qb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Kb(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let m=s[p],g=p===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",T=ef({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),w=m.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=ef({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:gi([u,T.pathname]),pathnameBase:eR(gi([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=gi([u,T.pathnameBase]))}return f}function ef(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Yb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},w)=>{if(v==="*"){let j=p[w]||"";f=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const O=p[w];return T&&!O?g[v]=void 0:g[v]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function Yb(r,e=!1,n=!0){hr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Xb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function vi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Wb(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Fo(r):r;return{pathname:n?n.startsWith("/")?n:Zb(n,e):e,search:tR(s),hash:nR(o)}}function Zb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function fm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Jb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gg(r){let e=Jb(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function yg(r,e,n,s=!1){let o;typeof r=="string"?o=Fo(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),fm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),fm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),fm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}p=T>=0?e[T]:"/"}let m=Wb(o,p),g=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var gi=r=>r.join("/").replace(/\/\/+/g,"/"),eR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),tR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,nR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function rR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var BT=["POST","PUT","PATCH","DELETE"];new Set(BT);var iR=["GET",...BT];new Set(iR);var Go=G.createContext(null);Go.displayName="DataRouter";var Rf=G.createContext(null);Rf.displayName="DataRouterState";G.createContext(!1);var qT=G.createContext({isTransitioning:!1});qT.displayName="ViewTransition";var sR=G.createContext(new Map);sR.displayName="Fetchers";var aR=G.createContext(null);aR.displayName="Await";var pr=G.createContext(null);pr.displayName="Navigation";var Bu=G.createContext(null);Bu.displayName="Location";var zr=G.createContext({outlet:null,matches:[],isDataRoute:!1});zr.displayName="Route";var _g=G.createContext(null);_g.displayName="RouteError";function oR(r,{relative:e}={}){ut($o(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(pr),{hash:o,pathname:u,search:f}=Hu(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:gi([n,u])),s.createHref({pathname:p,search:f,hash:o})}function $o(){return G.useContext(Bu)!=null}function Ss(){return ut($o(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Bu).location}var HT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FT(r){G.useContext(pr).static||G.useLayoutEffect(r)}function qu(){let{isDataRoute:r}=G.useContext(zr);return r?ER():lR()}function lR(){ut($o(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(Go),{basename:e,navigator:n}=G.useContext(pr),{matches:s}=G.useContext(zr),{pathname:o}=Ss(),u=JSON.stringify(gg(s)),f=G.useRef(!1);return FT(()=>{f.current=!0}),G.useCallback((m,g={})=>{if(hr(f.current,HT),!f.current)return;if(typeof m=="number"){n.go(m);return}let v=yg(m,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:gi([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,r])}G.createContext(null);function Hu(r,{relative:e}={}){let{matches:n}=G.useContext(zr),{pathname:s}=Ss(),o=JSON.stringify(gg(n));return G.useMemo(()=>yg(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function uR(r,e){return GT(r,e)}function GT(r,e,n,s){var J;ut($o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=G.useContext(pr),{matches:u}=G.useContext(zr),f=u[u.length-1],p=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let W=v&&v.path||"";$T(m,!v||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let T=Ss(),w;if(e){let W=typeof e=="string"?Fo(e):e;ut(g==="/"||((J=W.pathname)==null?void 0:J.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${W.pathname}" was given in the \`location\` prop.`),w=W}else w=T;let O=w.pathname||"/",j=O;if(g!=="/"){let W=g.replace(/^\//,"").split("/");j="/"+O.replace(/^\//,"").split("/").slice(W.length).join("/")}let $=UT(r,{pathname:j});hr(v||$!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),hr($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=pR($&&$.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:gi([g,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?g:gi([g,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),u,n,s);return e&&H?G.createElement(Bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},H):H}function cR(){let r=vR(),e=rR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,f)}var hR=G.createElement(cR,null),fR=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?G.createElement(zr.Provider,{value:this.props.routeContext},G.createElement(_g.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dR({routeContext:r,match:e,children:n}){let s=G.useContext(Go);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(zr.Provider,{value:r},n)}function pR(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ut(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,p=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:v,errors:T}=n,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||w){f=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,g,v)=>{let T,w=!1,O=null,j=null;n&&(T=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||hR,f&&(p<0&&v===0?($T("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,j=null):p===v&&(w=!0,j=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,v+1)),H=()=>{let J;return T?J=O:w?J=j:g.route.Component?J=G.createElement(g.route.Component,null):g.route.element?J=g.route.element:J=m,G.createElement(dR,{match:g,routeContext:{outlet:m,matches:$,isDataRoute:n!=null},children:J})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?G.createElement(fR,{location:n.location,revalidation:n.revalidation,component:O,error:T,children:H(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):H()},null)}function vg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mR(r){let e=G.useContext(Go);return ut(e,vg(r)),e}function gR(r){let e=G.useContext(Rf);return ut(e,vg(r)),e}function yR(r){let e=G.useContext(zr);return ut(e,vg(r)),e}function Eg(r){let e=yR(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function _R(){return Eg("useRouteId")}function vR(){var s;let r=G.useContext(_g),e=gR("useRouteError"),n=Eg("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function ER(){let{router:r}=mR("useNavigate"),e=Eg("useNavigate"),n=G.useRef(!1);return FT(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{hr(n.current,HT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var QE={};function $T(r,e,n){!e&&!QE[r]&&(QE[r]=!0,hr(!1,n))}G.memo(TR);function TR({routes:r,future:e,state:n}){return GT(r,void 0,n,e)}function SR({to:r,replace:e,state:n,relative:s}){ut($o(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(pr);hr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(zr),{pathname:f}=Ss(),p=qu(),m=yg(r,gg(u),f,s==="path"),g=JSON.stringify(m);return G.useEffect(()=>{p(JSON.parse(g),{replace:e,state:n,relative:s})},[p,g,s,e,n]),null}function kh(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AR({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ut(!$o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Fo(n));let{pathname:m="/",search:g="",hash:v="",state:T=null,key:w="default"}=n,O=G.useMemo(()=>{let j=vi(m,f);return j==null?null:{location:{pathname:j,search:g,hash:v,state:T,key:w},navigationType:s}},[f,m,g,v,T,w,s]);return hr(O!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:G.createElement(pr.Provider,{value:p},G.createElement(Bu.Provider,{children:e,value:O}))}function wR({children:r,location:e}){return uR(Om(r),e)}function Om(r,e=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){n.push.apply(n,Om(s.props.children,u));return}ut(s.type===kh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Om(s.props.children,u)),n.push(f)}),n}var Lh="get",Uh="application/x-www-form-urlencoded";function If(r){return r!=null&&typeof r.tagName=="string"}function bR(r){return If(r)&&r.tagName.toLowerCase()==="button"}function RR(r){return If(r)&&r.tagName.toLowerCase()==="form"}function IR(r){return If(r)&&r.tagName.toLowerCase()==="input"}function CR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function xR(r,e){return r.button===0&&(!e||e==="_self")&&!CR(r)}var Ih=null;function DR(){if(Ih===null)try{new FormData(document.createElement("form"),0),Ih=!1}catch{Ih=!0}return Ih}var NR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dm(r){return r!=null&&!NR.has(r)?(hr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uh}"`),null):r}function OR(r,e){let n,s,o,u,f;if(RR(r)){let p=r.getAttribute("action");s=p?vi(p,e):null,n=r.getAttribute("method")||Lh,o=dm(r.getAttribute("enctype"))||Uh,u=new FormData(r)}else if(bR(r)||IR(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(s=m?vi(m,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Lh,o=dm(r.getAttribute("formenctype"))||dm(p.getAttribute("enctype"))||Uh,u=new FormData(p,r),!DR()){let{name:g,type:v,value:T}=r;if(v==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(If(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lh,s=null,o=Uh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function MR(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&vi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function VR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function kR(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await VR(u,n);return f.links?f.links():[]}return[]}));return zR(s.flat(1).filter(PR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function KE(r,e,n,s,o,u){let f=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>{var v;return n[g].pathname!==m.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,g)=>f(m,g)||p(m,g)):u==="data"?e.filter((m,g)=>{var T;let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(f(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function LR(r,e,{includeHydrateFallback:n}={}){return UR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function UR(r){return[...new Set(r)]}function jR(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function zR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(jR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function QT(){let r=G.useContext(Go);return Tg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function BR(){let r=G.useContext(Rf);return Tg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Sg=G.createContext(void 0);Sg.displayName="FrameworkContext";function KT(){let r=G.useContext(Sg);return Tg(r,"You must render this element inside a <HydratedRouter> element"),r}function qR(r,e){let n=G.useContext(Sg),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,w=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=J=>{J.forEach(W=>{f(W.isIntersecting)})},H=new IntersectionObserver($,{threshold:.5});return w.current&&H.observe(w.current),()=>{H.disconnect()}}},[r]),G.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let O=()=>{o(!0)},j=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:hu(p,O),onBlur:hu(m,j),onMouseEnter:hu(g,O),onMouseLeave:hu(v,j),onTouchStart:hu(T,O)}]:[!1,w,{}]}function hu(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function HR({page:r,...e}){let{router:n}=QT(),s=G.useMemo(()=>UT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(GR,{page:r,matches:s,...e}):null}function FR(r){let{manifest:e,routeModules:n}=KT(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return kR(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function GR({page:r,matches:e,...n}){let s=Ss(),{manifest:o,routeModules:u}=KT(),{basename:f}=QT(),{loaderData:p,matches:m}=BR(),g=G.useMemo(()=>KE(r,e,m,o,s,"data"),[r,e,m,o,s]),v=G.useMemo(()=>KE(r,e,m,o,s,"assets"),[r,e,m,o,s]),T=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let j=new Set,$=!1;if(e.forEach(J=>{var re;let W=o.routes[J.route.id];!W||!W.hasLoader||(!g.some(ce=>ce.route.id===J.route.id)&&J.route.id in p&&((re=u[J.route.id])!=null&&re.shouldRevalidate)||W.hasClientLoader?$=!0:j.add(J.route.id))}),j.size===0)return[];let H=MR(r,f,"data");return $&&j.size>0&&H.searchParams.set("_routes",e.filter(J=>j.has(J.route.id)).map(J=>J.route.id).join(",")),[H.pathname+H.search]},[f,p,s,o,g,e,r,u]),w=G.useMemo(()=>LR(v,o),[v,o]),O=FR(v);return G.createElement(G.Fragment,null,T.map(j=>G.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),w.map(j=>G.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),O.map(({key:j,link:$})=>G.createElement("link",{key:j,...$})))}function $R(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var YT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YT&&(window.__reactRouterVersion="7.7.0")}catch{}function QR({basename:r,children:e,window:n}){let s=G.useRef();s.current==null&&(s.current=Vb({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),p=G.useCallback(m=>{G.startTransition(()=>f(m))},[f]);return G.useLayoutEffect(()=>o.listen(p),[o,p]),G.createElement(AR,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var XT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WT=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:m,to:g,preventScrollReset:v,viewTransition:T,...w},O){let{basename:j}=G.useContext(pr),$=typeof g=="string"&&XT.test(g),H,J=!1;if(typeof g=="string"&&$&&(H=g,YT))try{let I=new URL(window.location.href),V=g.startsWith("//")?new URL(I.protocol+g):new URL(g),P=vi(V.pathname,j);V.origin===I.origin&&P!=null?g=P+V.search+V.hash:J=!0}catch{hr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=oR(g,{relative:o}),[re,ce,le]=qR(s,w),de=WR(g,{replace:f,state:p,target:m,preventScrollReset:v,relative:o,viewTransition:T});function x(I){e&&e(I),I.defaultPrevented||de(I)}let R=G.createElement("a",{...w,...le,href:H||W,onClick:J||u?e:x,ref:$R(O,ce),target:m,"data-discover":!$&&n==="render"?"true":void 0});return re&&!$?G.createElement(G.Fragment,null,R,G.createElement(HR,{page:W})):R});WT.displayName="Link";var KR=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:m,...g},v){let T=Hu(f,{relative:g.relative}),w=Ss(),O=G.useContext(Rf),{navigator:j,basename:$}=G.useContext(pr),H=O!=null&&nI(T)&&p===!0,J=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,W=w.pathname,re=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(W=W.toLowerCase(),re=re?re.toLowerCase():null,J=J.toLowerCase()),re&&$&&(re=vi(re,$)||re);const ce=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let le=W===J||!o&&W.startsWith(J)&&W.charAt(ce)==="/",de=re!=null&&(re===J||!o&&re.startsWith(J)&&re.charAt(J.length)==="/"),x={isActive:le,isPending:de,isTransitioning:H},R=le?e:void 0,I;typeof s=="function"?I=s(x):I=[s,le?"active":null,de?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(x):u;return G.createElement(WT,{...g,"aria-current":R,className:I,ref:v,style:V,to:f,viewTransition:p},typeof m=="function"?m(x):m)});KR.displayName="NavLink";var YR=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Lh,action:p,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:T,...w},O)=>{let j=eI(),$=tI(p,{relative:g}),H=f.toLowerCase()==="get"?"get":"post",J=typeof p=="string"&&XT.test(p),W=re=>{if(m&&m(re),re.defaultPrevented)return;re.preventDefault();let ce=re.nativeEvent.submitter,le=(ce==null?void 0:ce.getAttribute("formmethod"))||f;j(ce||re.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T})};return G.createElement("form",{ref:O,method:H,action:$,onSubmit:s?m:W,...w,"data-discover":!J&&r==="render"?"true":void 0})});YR.displayName="Form";function XR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZT(r){let e=G.useContext(Go);return ut(e,XR(r)),e}function WR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=qu(),m=Ss(),g=Hu(r,{relative:u});return G.useCallback(v=>{if(xR(v,e)){v.preventDefault();let T=n!==void 0?n:Ru(m)===Ru(g);p(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[m,p,g,n,s,e,r,o,u,f])}var ZR=0,JR=()=>`__${String(++ZR)}__`;function eI(){let{router:r}=ZT("useSubmit"),{basename:e}=G.useContext(pr),n=_R();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:m,body:g}=OR(s,e);if(o.navigate===!1){let v=o.fetcherKey||JR();await r.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function tI(r,{relative:e}={}){let{basename:n}=G.useContext(pr),s=G.useContext(zr);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Hu(r||".",{relative:e})},f=Ss();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(v=>v==="")){p.delete("index"),m.filter(T=>T).forEach(T=>p.append("index",T));let v=p.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:gi([n,u.pathname])),Ru(u)}function nI(r,e={}){let n=G.useContext(qT);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ZT("useViewTransitionState"),o=Hu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=vi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=vi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ef(o.pathname,f)!=null||ef(o.pathname,u)!=null}var Gt=function(){return Gt=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},Gt.apply(this,arguments)};function Iu(r,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,u;s<o;s++)(u||!(s in e))&&(u||(u=Array.prototype.slice.call(e,0,s)),u[s]=e[s]);return r.concat(u||Array.prototype.slice.call(e))}var st="-ms-",vu="-moz-",$e="-webkit-",JT="comm",Cf="rule",Ag="decl",rI="@import",eS="@keyframes",iI="@layer",tS=Math.abs,wg=String.fromCharCode,Mm=Object.assign;function sI(r,e){return Ft(r,0)^45?(((e<<2^Ft(r,0))<<2^Ft(r,1))<<2^Ft(r,2))<<2^Ft(r,3):0}function nS(r){return r.trim()}function di(r,e){return(r=e.exec(r))?r[0]:r}function De(r,e,n){return r.replace(e,n)}function jh(r,e,n){return r.indexOf(e,n)}function Ft(r,e){return r.charCodeAt(e)|0}function No(r,e,n){return r.slice(e,n)}function Or(r){return r.length}function rS(r){return r.length}function fu(r,e){return e.push(r),r}function aI(r,e){return r.map(e).join("")}function YE(r,e){return r.filter(function(n){return!di(n,e)})}var xf=1,Oo=1,iS=0,er=0,Rt=0,Qo="";function Df(r,e,n,s,o,u,f,p){return{value:r,root:e,parent:n,type:s,props:o,children:u,line:xf,column:Oo,length:f,return:"",siblings:p}}function rs(r,e){return Mm(Df("",null,null,"",null,null,0,r.siblings),r,{length:-r.length},e)}function Eo(r){for(;r.root;)r=rs(r.root,{children:[r]});fu(r,r.siblings)}function oI(){return Rt}function lI(){return Rt=er>0?Ft(Qo,--er):0,Oo--,Rt===10&&(Oo=1,xf--),Rt}function ur(){return Rt=er<iS?Ft(Qo,er++):0,Oo++,Rt===10&&(Oo=1,xf++),Rt}function ha(){return Ft(Qo,er)}function zh(){return er}function Nf(r,e){return No(Qo,r,e)}function Vm(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function uI(r){return xf=Oo=1,iS=Or(Qo=r),er=0,[]}function cI(r){return Qo="",r}function pm(r){return nS(Nf(er-1,Pm(r===91?r+2:r===40?r+1:r)))}function hI(r){for(;(Rt=ha())&&Rt<33;)ur();return Vm(r)>2||Vm(Rt)>3?"":" "}function fI(r,e){for(;--e&&ur()&&!(Rt<48||Rt>102||Rt>57&&Rt<65||Rt>70&&Rt<97););return Nf(r,zh()+(e<6&&ha()==32&&ur()==32))}function Pm(r){for(;ur();)switch(Rt){case r:return er;case 34:case 39:r!==34&&r!==39&&Pm(Rt);break;case 40:r===41&&Pm(r);break;case 92:ur();break}return er}function dI(r,e){for(;ur()&&r+Rt!==57;)if(r+Rt===84&&ha()===47)break;return"/*"+Nf(e,er-1)+"*"+wg(r===47?r:ur())}function pI(r){for(;!Vm(ha());)ur();return Nf(r,er)}function mI(r){return cI(Bh("",null,null,null,[""],r=uI(r),0,[0],r))}function Bh(r,e,n,s,o,u,f,p,m){for(var g=0,v=0,T=f,w=0,O=0,j=0,$=1,H=1,J=1,W=0,re="",ce=o,le=u,de=s,x=re;H;)switch(j=W,W=ur()){case 40:if(j!=108&&Ft(x,T-1)==58){jh(x+=De(pm(W),"&","&\f"),"&\f",tS(g?p[g-1]:0))!=-1&&(J=-1);break}case 34:case 39:case 91:x+=pm(W);break;case 9:case 10:case 13:case 32:x+=hI(j);break;case 92:x+=fI(zh()-1,7);continue;case 47:switch(ha()){case 42:case 47:fu(gI(dI(ur(),zh()),e,n,m),m);break;default:x+="/"}break;case 123*$:p[g++]=Or(x)*J;case 125*$:case 59:case 0:switch(W){case 0:case 125:H=0;case 59+v:J==-1&&(x=De(x,/\f/g,"")),O>0&&Or(x)-T&&fu(O>32?WE(x+";",s,n,T-1,m):WE(De(x," ","")+";",s,n,T-2,m),m);break;case 59:x+=";";default:if(fu(de=XE(x,e,n,g,v,o,p,re,ce=[],le=[],T,u),u),W===123)if(v===0)Bh(x,e,de,de,ce,u,T,p,le);else switch(w===99&&Ft(x,3)===110?100:w){case 100:case 108:case 109:case 115:Bh(r,de,de,s&&fu(XE(r,de,de,0,0,o,p,re,o,ce=[],T,le),le),o,le,T,p,s?ce:le);break;default:Bh(x,de,de,de,[""],le,0,p,le)}}g=v=O=0,$=J=1,re=x="",T=f;break;case 58:T=1+Or(x),O=j;default:if($<1){if(W==123)--$;else if(W==125&&$++==0&&lI()==125)continue}switch(x+=wg(W),W*$){case 38:J=v>0?1:(x+="\f",-1);break;case 44:p[g++]=(Or(x)-1)*J,J=1;break;case 64:ha()===45&&(x+=pm(ur())),w=ha(),v=T=Or(re=x+=pI(zh())),W++;break;case 45:j===45&&Or(x)==2&&($=0)}}return u}function XE(r,e,n,s,o,u,f,p,m,g,v,T){for(var w=o-1,O=o===0?u:[""],j=rS(O),$=0,H=0,J=0;$<s;++$)for(var W=0,re=No(r,w+1,w=tS(H=f[$])),ce=r;W<j;++W)(ce=nS(H>0?O[W]+" "+re:De(re,/&\f/g,O[W])))&&(m[J++]=ce);return Df(r,e,n,o===0?Cf:p,m,g,v,T)}function gI(r,e,n,s){return Df(r,e,n,JT,wg(oI()),No(r,2,-2),0,s)}function WE(r,e,n,s,o){return Df(r,e,n,Ag,No(r,0,s),No(r,s+1,-1),s,o)}function sS(r,e,n){switch(sI(r,e)){case 5103:return $e+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $e+r+r;case 4789:return vu+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return $e+r+vu+r+st+r+r;case 5936:switch(Ft(r,e+11)){case 114:return $e+r+st+De(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return $e+r+st+De(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return $e+r+st+De(r,/[svh]\w+-[tblr]{2}/,"lr")+r}case 6828:case 4268:case 2903:return $e+r+st+r+r;case 6165:return $e+r+st+"flex-"+r+r;case 5187:return $e+r+De(r,/(\w+).+(:[^]+)/,$e+"box-$1$2"+st+"flex-$1$2")+r;case 5443:return $e+r+st+"flex-item-"+De(r,/flex-|-self/g,"")+(di(r,/flex-|baseline/)?"":st+"grid-row-"+De(r,/flex-|-self/g,""))+r;case 4675:return $e+r+st+"flex-line-pack"+De(r,/align-content|flex-|-self/g,"")+r;case 5548:return $e+r+st+De(r,"shrink","negative")+r;case 5292:return $e+r+st+De(r,"basis","preferred-size")+r;case 6060:return $e+"box-"+De(r,"-grow","")+$e+r+st+De(r,"grow","positive")+r;case 4554:return $e+De(r,/([^-])(transform)/g,"$1"+$e+"$2")+r;case 6187:return De(De(De(r,/(zoom-|grab)/,$e+"$1"),/(image-set)/,$e+"$1"),r,"")+r;case 5495:case 3959:return De(r,/(image-set\([^]*)/,$e+"$1$`$1");case 4968:return De(De(r,/(.+:)(flex-)?(.*)/,$e+"box-pack:$3"+st+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$e+r+r;case 4200:if(!di(r,/flex-|baseline/))return st+"grid-column-align"+No(r,e)+r;break;case 2592:case 3360:return st+De(r,"template-","")+r;case 4384:case 3616:return n&&n.some(function(s,o){return e=o,di(s.props,/grid-\w+-end/)})?~jh(r+(n=n[e].value),"span",0)?r:st+De(r,"-start","")+r+st+"grid-row-span:"+(~jh(n,"span",0)?di(n,/\d+/):+di(n,/\d+/)-+di(r,/\d+/))+";":st+De(r,"-start","")+r;case 4896:case 4128:return n&&n.some(function(s){return di(s.props,/grid-\w+-start/)})?r:st+De(De(r,"-end","-span"),"span ","")+r;case 4095:case 3583:case 4068:case 2532:return De(r,/(.+)-inline(.+)/,$e+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Or(r)-1-e>6)switch(Ft(r,e+1)){case 109:if(Ft(r,e+4)!==45)break;case 102:return De(r,/(.+:)(.+)-([^]+)/,"$1"+$e+"$2-$3$1"+vu+(Ft(r,e+3)==108?"$3":"$2-$3"))+r;case 115:return~jh(r,"stretch",0)?sS(De(r,"stretch","fill-available"),e,n)+r:r}break;case 5152:case 5920:return De(r,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,o,u,f,p,m,g){return st+o+":"+u+g+(f?st+o+"-span:"+(p?m:+m-+u)+g:"")+r});case 4949:if(Ft(r,e+6)===121)return De(r,":",":"+$e)+r;break;case 6444:switch(Ft(r,Ft(r,14)===45?18:11)){case 120:return De(r,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+$e+(Ft(r,14)===45?"inline-":"")+"box$3$1"+$e+"$2$3$1"+st+"$2box$3")+r;case 100:return De(r,":",":"+st)+r}break;case 5719:case 2647:case 2135:case 3927:case 2391:return De(r,"scroll-","scroll-snap-")+r}return r}function tf(r,e){for(var n="",s=0;s<r.length;s++)n+=e(r[s],s,r,e)||"";return n}function yI(r,e,n,s){switch(r.type){case iI:if(r.children.length)break;case rI:case Ag:return r.return=r.return||r.value;case JT:return"";case eS:return r.return=r.value+"{"+tf(r.children,s)+"}";case Cf:if(!Or(r.value=r.props.join(",")))return""}return Or(n=tf(r.children,s))?r.return=r.value+"{"+n+"}":""}function _I(r){var e=rS(r);return function(n,s,o,u){for(var f="",p=0;p<e;p++)f+=r[p](n,s,o,u)||"";return f}}function vI(r){return function(e){e.root||(e=e.return)&&r(e)}}function EI(r,e,n,s){if(r.length>-1&&!r.return)switch(r.type){case Ag:r.return=sS(r.value,r.length,n);return;case eS:return tf([rs(r,{value:De(r.value,"@","@"+$e)})],s);case Cf:if(r.length)return aI(n=r.props,function(o){switch(di(o,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Eo(rs(r,{props:[De(o,/:(read-\w+)/,":"+vu+"$1")]})),Eo(rs(r,{props:[o]})),Mm(r,{props:YE(n,s)});break;case"::placeholder":Eo(rs(r,{props:[De(o,/:(plac\w+)/,":"+$e+"input-$1")]})),Eo(rs(r,{props:[De(o,/:(plac\w+)/,":"+vu+"$1")]})),Eo(rs(r,{props:[De(o,/:(plac\w+)/,st+"input-$1")]})),Eo(rs(r,{props:[o]})),Mm(r,{props:YE(n,s)});break}return""})}}var TI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Pn={},Mo=typeof process<"u"&&Pn!==void 0&&(Pn.REACT_APP_SC_ATTR||Pn.SC_ATTR)||"data-styled",aS="active",oS="data-styled-version",Of="6.1.19",bg=`/*!sc*/
`,nf=typeof window<"u"&&typeof document<"u",SI=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Pn!==void 0&&Pn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Pn.REACT_APP_SC_DISABLE_SPEEDY!==""?Pn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Pn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Pn!==void 0&&Pn.SC_DISABLE_SPEEDY!==void 0&&Pn.SC_DISABLE_SPEEDY!==""&&Pn.SC_DISABLE_SPEEDY!=="false"&&Pn.SC_DISABLE_SPEEDY),AI={},Mf=Object.freeze([]),Vo=Object.freeze({});function lS(r,e,n){return n===void 0&&(n=Vo),r.theme!==n.theme&&r.theme||e||n.theme}var uS=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),wI=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,bI=/(^-|-$)/g;function ZE(r){return r.replace(wI,"-").replace(bI,"")}var RI=/(a)(d)/gi,Ch=52,JE=function(r){return String.fromCharCode(r+(r>25?39:97))};function km(r){var e,n="";for(e=Math.abs(r);e>Ch;e=e/Ch|0)n=JE(e%Ch)+n;return(JE(e%Ch)+n).replace(RI,"$1-$2")}var mm,cS=5381,bo=function(r,e){for(var n=e.length;n;)r=33*r^e.charCodeAt(--n);return r},hS=function(r){return bo(cS,r)};function fS(r){return km(hS(r)>>>0)}function II(r){return r.displayName||r.name||"Component"}function gm(r){return typeof r=="string"&&!0}var dS=typeof Symbol=="function"&&Symbol.for,pS=dS?Symbol.for("react.memo"):60115,CI=dS?Symbol.for("react.forward_ref"):60112,xI={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},DI={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},mS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},NI=((mm={})[CI]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mm[pS]=mS,mm);function e0(r){return("type"in(e=r)&&e.type.$$typeof)===pS?mS:"$$typeof"in r?NI[r.$$typeof]:xI;var e}var OI=Object.defineProperty,MI=Object.getOwnPropertyNames,t0=Object.getOwnPropertySymbols,VI=Object.getOwnPropertyDescriptor,PI=Object.getPrototypeOf,n0=Object.prototype;function gS(r,e,n){if(typeof e!="string"){if(n0){var s=PI(e);s&&s!==n0&&gS(r,s,n)}var o=MI(e);t0&&(o=o.concat(t0(e)));for(var u=e0(r),f=e0(e),p=0;p<o.length;++p){var m=o[p];if(!(m in DI||n&&n[m]||f&&m in f||u&&m in u)){var g=VI(e,m);try{OI(r,m,g)}catch{}}}}return r}function pa(r){return typeof r=="function"}function Rg(r){return typeof r=="object"&&"styledComponentId"in r}function ua(r,e){return r&&e?"".concat(r," ").concat(e):r||e||""}function Lm(r,e){if(r.length===0)return"";for(var n=r[0],s=1;s<r.length;s++)n+=r[s];return n}function Cu(r){return r!==null&&typeof r=="object"&&r.constructor.name===Object.name&&!("props"in r&&r.$$typeof)}function Um(r,e,n){if(n===void 0&&(n=!1),!n&&!Cu(r)&&!Array.isArray(r))return e;if(Array.isArray(e))for(var s=0;s<e.length;s++)r[s]=Um(r[s],e[s]);else if(Cu(e))for(var s in e)r[s]=Um(r[s],e[s]);return r}function Ig(r,e){Object.defineProperty(r,"toString",{value:e})}function ma(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(r," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var kI=function(){function r(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return r.prototype.indexOfGroup=function(e){for(var n=0,s=0;s<e;s++)n+=this.groupSizes[s];return n},r.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var s=this.groupSizes,o=s.length,u=o;e>=u;)if((u<<=1)<0)throw ma(16,"".concat(e));this.groupSizes=new Uint32Array(u),this.groupSizes.set(s),this.length=u;for(var f=o;f<u;f++)this.groupSizes[f]=0}for(var p=this.indexOfGroup(e+1),m=(f=0,n.length);f<m;f++)this.tag.insertRule(p,n[f])&&(this.groupSizes[e]++,p++)},r.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],s=this.indexOfGroup(e),o=s+n;this.groupSizes[e]=0;for(var u=s;u<o;u++)this.tag.deleteRule(s)}},r.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var s=this.groupSizes[e],o=this.indexOfGroup(e),u=o+s,f=o;f<u;f++)n+="".concat(this.tag.getRule(f)).concat(bg);return n},r}(),qh=new Map,rf=new Map,Hh=1,xh=function(r){if(qh.has(r))return qh.get(r);for(;rf.has(Hh);)Hh++;var e=Hh++;return qh.set(r,e),rf.set(e,r),e},LI=function(r,e){Hh=e+1,qh.set(r,e),rf.set(e,r)},UI="style[".concat(Mo,"][").concat(oS,'="').concat(Of,'"]'),jI=new RegExp("^".concat(Mo,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),zI=function(r,e,n){for(var s,o=n.split(","),u=0,f=o.length;u<f;u++)(s=o[u])&&r.registerName(e,s)},BI=function(r,e){for(var n,s=((n=e.textContent)!==null&&n!==void 0?n:"").split(bg),o=[],u=0,f=s.length;u<f;u++){var p=s[u].trim();if(p){var m=p.match(jI);if(m){var g=0|parseInt(m[1],10),v=m[2];g!==0&&(LI(v,g),zI(r,v,m[3]),r.getTag().insertRules(g,o)),o.length=0}else o.push(p)}}},r0=function(r){for(var e=document.querySelectorAll(UI),n=0,s=e.length;n<s;n++){var o=e[n];o&&o.getAttribute(Mo)!==aS&&(BI(r,o),o.parentNode&&o.parentNode.removeChild(o))}};function qI(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var yS=function(r){var e=document.head,n=r||e,s=document.createElement("style"),o=function(p){var m=Array.from(p.querySelectorAll("style[".concat(Mo,"]")));return m[m.length-1]}(n),u=o!==void 0?o.nextSibling:null;s.setAttribute(Mo,aS),s.setAttribute(oS,Of);var f=qI();return f&&s.setAttribute("nonce",f),n.insertBefore(s,u),s},HI=function(){function r(e){this.element=yS(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var s=document.styleSheets,o=0,u=s.length;o<u;o++){var f=s[o];if(f.ownerNode===n)return f}throw ma(17)}(this.element),this.length=0}return r.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},r.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},r.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},r}(),FI=function(){function r(e){this.element=yS(e),this.nodes=this.element.childNodes,this.length=0}return r.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var s=document.createTextNode(n);return this.element.insertBefore(s,this.nodes[e]||null),this.length++,!0}return!1},r.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},r.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},r}(),GI=function(){function r(e){this.rules=[],this.length=0}return r.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},r.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},r.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},r}(),i0=nf,$I={isServer:!nf,useCSSOMInjection:!SI},sf=function(){function r(e,n,s){e===void 0&&(e=Vo),n===void 0&&(n={});var o=this;this.options=Gt(Gt({},$I),e),this.gs=n,this.names=new Map(s),this.server=!!e.isServer,!this.server&&nf&&i0&&(i0=!1,r0(this)),Ig(this,function(){return function(u){for(var f=u.getTag(),p=f.length,m="",g=function(T){var w=function(J){return rf.get(J)}(T);if(w===void 0)return"continue";var O=u.names.get(w),j=f.getGroup(T);if(O===void 0||!O.size||j.length===0)return"continue";var $="".concat(Mo,".g").concat(T,'[id="').concat(w,'"]'),H="";O!==void 0&&O.forEach(function(J){J.length>0&&(H+="".concat(J,","))}),m+="".concat(j).concat($,'{content:"').concat(H,'"}').concat(bg)},v=0;v<p;v++)g(v);return m}(o)})}return r.registerId=function(e){return xh(e)},r.prototype.rehydrate=function(){!this.server&&nf&&r0(this)},r.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new r(Gt(Gt({},this.options),e),this.gs,n&&this.names||void 0)},r.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},r.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var s=n.useCSSOMInjection,o=n.target;return n.isServer?new GI(o):s?new HI(o):new FI(o)}(this.options),new kI(e)));var e},r.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},r.prototype.registerName=function(e,n){if(xh(e),this.names.has(e))this.names.get(e).add(n);else{var s=new Set;s.add(n),this.names.set(e,s)}},r.prototype.insertRules=function(e,n,s){this.registerName(e,n),this.getTag().insertRules(xh(e),s)},r.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},r.prototype.clearRules=function(e){this.getTag().clearGroup(xh(e)),this.clearNames(e)},r.prototype.clearTag=function(){this.tag=void 0},r}(),QI=/&/g,KI=/^\s*\/\/.*$/gm;function _S(r,e){return r.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(s){return"".concat(e," ").concat(s)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=_S(n.children,e)),n})}function YI(r){var e,n,s,o=Vo,u=o.options,f=u===void 0?Vo:u,p=o.plugins,m=p===void 0?Mf:p,g=function(w,O,j){return j.startsWith(n)&&j.endsWith(n)&&j.replaceAll(n,"").length>0?".".concat(e):w},v=m.slice();v.push(function(w){w.type===Cf&&w.value.includes("&")&&(w.props[0]=w.props[0].replace(QI,n).replace(s,g))}),f.prefix&&v.push(EI),v.push(yI);var T=function(w,O,j,$){O===void 0&&(O=""),j===void 0&&(j=""),$===void 0&&($="&"),e=$,n=O,s=new RegExp("\\".concat(n,"\\b"),"g");var H=w.replace(KI,""),J=mI(j||O?"".concat(j," ").concat(O," { ").concat(H," }"):H);f.namespace&&(J=_S(J,f.namespace));var W=[];return tf(J,_I(v.concat(vI(function(re){return W.push(re)})))),W};return T.hash=m.length?m.reduce(function(w,O){return O.name||ma(15),bo(w,O.name)},cS).toString():"",T}var XI=new sf,jm=YI(),vS=or.createContext({shouldForwardProp:void 0,styleSheet:XI,stylis:jm});vS.Consumer;or.createContext(void 0);function zm(){return G.useContext(vS)}var WI=function(){function r(e,n){var s=this;this.inject=function(o,u){u===void 0&&(u=jm);var f=s.name+u.hash;o.hasNameForId(s.id,f)||o.insertRules(s.id,f,u(s.rules,f,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Ig(this,function(){throw ma(12,String(s.name))})}return r.prototype.getName=function(e){return e===void 0&&(e=jm),this.name+e.hash},r}(),ZI=function(r){return r>="A"&&r<="Z"};function s0(r){for(var e="",n=0;n<r.length;n++){var s=r[n];if(n===1&&s==="-"&&r[0]==="-")return r;ZI(s)?e+="-"+s.toLowerCase():e+=s}return e.startsWith("ms-")?"-"+e:e}var ES=function(r){return r==null||r===!1||r===""},TS=function(r){var e,n,s=[];for(var o in r){var u=r[o];r.hasOwnProperty(o)&&!ES(u)&&(Array.isArray(u)&&u.isCss||pa(u)?s.push("".concat(s0(o),":"),u,";"):Cu(u)?s.push.apply(s,Iu(Iu(["".concat(o," {")],TS(u),!1),["}"],!1)):s.push("".concat(s0(o),": ").concat((e=o,(n=u)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in TI||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return s};function us(r,e,n,s){if(ES(r))return[];if(Rg(r))return[".".concat(r.styledComponentId)];if(pa(r)){if(!pa(u=r)||u.prototype&&u.prototype.isReactComponent||!e)return[r];var o=r(e);return us(o,e,n,s)}var u;return r instanceof WI?n?(r.inject(n,s),[r.getName(s)]):[r]:Cu(r)?TS(r):Array.isArray(r)?Array.prototype.concat.apply(Mf,r.map(function(f){return us(f,e,n,s)})):[r.toString()]}function SS(r){for(var e=0;e<r.length;e+=1){var n=r[e];if(pa(n)&&!Rg(n))return!1}return!0}var JI=hS(Of),eC=function(){function r(e,n,s){this.rules=e,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&SS(e),this.componentId=n,this.baseHash=bo(JI,n),this.baseStyle=s,sf.registerId(n)}return r.prototype.generateAndInjectStyles=function(e,n,s){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=ua(o,this.staticRulesId);else{var u=Lm(us(this.rules,e,n,s)),f=km(bo(this.baseHash,u)>>>0);if(!n.hasNameForId(this.componentId,f)){var p=s(u,".".concat(f),void 0,this.componentId);n.insertRules(this.componentId,f,p)}o=ua(o,f),this.staticRulesId=f}else{for(var m=bo(this.baseHash,s.hash),g="",v=0;v<this.rules.length;v++){var T=this.rules[v];if(typeof T=="string")g+=T;else if(T){var w=Lm(us(T,e,n,s));m=bo(m,w+v),g+=w}}if(g){var O=km(m>>>0);n.hasNameForId(this.componentId,O)||n.insertRules(this.componentId,O,s(g,".".concat(O),void 0,this.componentId)),o=ua(o,O)}}return o},r}(),xu=or.createContext(void 0);xu.Consumer;function tC(r){var e=or.useContext(xu),n=G.useMemo(function(){return function(s,o){if(!s)throw ma(14);if(pa(s)){var u=s(o);return u}if(Array.isArray(s)||typeof s!="object")throw ma(8);return o?Gt(Gt({},o),s):s}(r.theme,e)},[r.theme,e]);return r.children?or.createElement(xu.Provider,{value:n},r.children):null}var ym={};function nC(r,e,n){var s=Rg(r),o=r,u=!gm(r),f=e.attrs,p=f===void 0?Mf:f,m=e.componentId,g=m===void 0?function(ce,le){var de=typeof ce!="string"?"sc":ZE(ce);ym[de]=(ym[de]||0)+1;var x="".concat(de,"-").concat(fS(Of+de+ym[de]));return le?"".concat(le,"-").concat(x):x}(e.displayName,e.parentComponentId):m,v=e.displayName,T=v===void 0?function(ce){return gm(ce)?"styled.".concat(ce):"Styled(".concat(II(ce),")")}(r):v,w=e.displayName&&e.componentId?"".concat(ZE(e.displayName),"-").concat(e.componentId):e.componentId||g,O=s&&o.attrs?o.attrs.concat(p).filter(Boolean):p,j=e.shouldForwardProp;if(s&&o.shouldForwardProp){var $=o.shouldForwardProp;if(e.shouldForwardProp){var H=e.shouldForwardProp;j=function(ce,le){return $(ce,le)&&H(ce,le)}}else j=$}var J=new eC(n,w,s?o.componentStyle:void 0);function W(ce,le){return function(de,x,R){var I=de.attrs,V=de.componentStyle,P=de.defaultProps,L=de.foldedComponentIds,D=de.styledComponentId,Dt=de.target,at=or.useContext(xu),K=zm(),oe=de.shouldForwardProp||K.shouldForwardProp,me=lS(x,at,P)||Vo,Ce=function(Ie,ve,ct){for(var qe,Lt=Gt(Gt({},ve),{className:void 0,theme:ct}),Un=0;Un<Ie.length;Un+=1){var vn=pa(qe=Ie[Un])?qe(Lt):qe;for(var sn in vn)Lt[sn]=sn==="className"?ua(Lt[sn],vn[sn]):sn==="style"?Gt(Gt({},Lt[sn]),vn[sn]):vn[sn]}return ve.className&&(Lt.className=ua(Lt.className,ve.className)),Lt}(I,x,me),N=Ce.as||Dt,ne={};for(var se in Ce)Ce[se]===void 0||se[0]==="$"||se==="as"||se==="theme"&&Ce.theme===me||(se==="forwardedAs"?ne.as=Ce.forwardedAs:oe&&!oe(se,N)||(ne[se]=Ce[se]));var ie=function(Ie,ve){var ct=zm(),qe=Ie.generateAndInjectStyles(ve,ct.styleSheet,ct.stylis);return qe}(V,Ce),ge=ua(L,D);return ie&&(ge+=" "+ie),Ce.className&&(ge+=" "+Ce.className),ne[gm(N)&&!uS.has(N)?"class":"className"]=ge,R&&(ne.ref=R),G.createElement(N,ne)}(re,ce,le)}W.displayName=T;var re=or.forwardRef(W);return re.attrs=O,re.componentStyle=J,re.displayName=T,re.shouldForwardProp=j,re.foldedComponentIds=s?ua(o.foldedComponentIds,o.styledComponentId):"",re.styledComponentId=w,re.target=s?o.target:r,Object.defineProperty(re,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ce){this._foldedDefaultProps=s?function(le){for(var de=[],x=1;x<arguments.length;x++)de[x-1]=arguments[x];for(var R=0,I=de;R<I.length;R++)Um(le,I[R],!0);return le}({},o.defaultProps,ce):ce}}),Ig(re,function(){return".".concat(re.styledComponentId)}),u&&gS(re,r,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),re}function a0(r,e){for(var n=[r[0]],s=0,o=e.length;s<o;s+=1)n.push(e[s],r[s+1]);return n}var o0=function(r){return Object.assign(r,{isCss:!0})};function AS(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(pa(r)||Cu(r))return o0(us(a0(Mf,Iu([r],e,!0))));var s=r;return e.length===0&&s.length===1&&typeof s[0]=="string"?us(s):o0(us(a0(s,e)))}function Bm(r,e,n){if(n===void 0&&(n=Vo),!e)throw ma(1,e);var s=function(o){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];return r(e,n,AS.apply(void 0,Iu([o],u,!1)))};return s.attrs=function(o){return Bm(r,e,Gt(Gt({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},s.withConfig=function(o){return Bm(r,e,Gt(Gt({},n),o))},s}var wS=function(r){return Bm(nC,r)},ue=wS;uS.forEach(function(r){ue[r]=wS(r)});var rC=function(){function r(e,n){this.rules=e,this.componentId=n,this.isStatic=SS(e),sf.registerId(this.componentId+1)}return r.prototype.createStyles=function(e,n,s,o){var u=o(Lm(us(this.rules,n,s,o)),""),f=this.componentId+e;s.insertRules(f,f,u)},r.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},r.prototype.renderStyles=function(e,n,s,o){e>2&&sf.registerId(this.componentId+e),this.removeStyles(e,s),this.createStyles(e,n,s,o)},r}();function iC(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var s=AS.apply(void 0,Iu([r],e,!1)),o="sc-global-".concat(fS(JSON.stringify(s))),u=new rC(s,o),f=function(m){var g=zm(),v=or.useContext(xu),T=or.useRef(g.styleSheet.allocateGSInstance(o)).current;return g.styleSheet.server&&p(T,m,g.styleSheet,v,g.stylis),or.useLayoutEffect(function(){if(!g.styleSheet.server)return p(T,m,g.styleSheet,v,g.stylis),function(){return u.removeStyles(T,g.styleSheet)}},[T,m,g.styleSheet,v,g.stylis]),null};function p(m,g,v,T,w){if(u.isStatic)u.renderStyles(m,AI,v,w);else{var O=Gt(Gt({},g),{theme:lS(g,T,f.defaultProps)});u.renderStyles(m,O,v,w)}}return or.memo(f)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=()=>{};var l0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},aC=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},RS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,v=u>>2,T=(u&3)<<4|p>>4;let w=(p&15)<<2|g>>6,O=g&63;m||(O=64,f||(w=64)),s.push(n[v],n[T],n[w],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(bS(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):aC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||g==null||T==null)throw new oC;const w=u<<2|p>>4;if(s.push(w),g!==64){const O=p<<4&240|g>>2;if(s.push(O),T!==64){const j=g<<6&192|T;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class oC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lC=function(r){const e=bS(r);return RS.encodeByteArray(e,!0)},af=function(r){return lC(r).replace(/\./g,"")},IS=function(r){try{return RS.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=()=>uC().__FIREBASE_DEFAULTS__,hC=()=>{if(typeof process>"u"||typeof l0>"u")return;const r=l0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},fC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&IS(r[1]);return e&&JSON.parse(e)},Vf=()=>{try{return sC()||cC()||hC()||fC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},CS=r=>{var e,n;return(n=(e=Vf())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},dC=r=>{const e=CS(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},xS=()=>{var r;return(r=Vf())==null?void 0:r.config},DS=r=>{var e;return(e=Vf())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function NS(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[af(JSON.stringify(n)),af(JSON.stringify(f)),""].join(".")}const Eu={};function gC(){const r={prod:[],emulator:[]};for(const e of Object.keys(Eu))Eu[e]?r.emulator.push(e):r.prod.push(e);return r}function yC(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let u0=!1;function OS(r,e){if(typeof window>"u"||typeof document>"u"||!Ko(window.location.host)||Eu[r]===e||Eu[r]||u0)return;Eu[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=gC().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,O){w.setAttribute("width","24"),w.setAttribute("id",O),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{u0=!0,f()},w}function v(w,O){w.setAttribute("id",O),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=yC(s),O=n("text"),j=document.getElementById(O)||document.createElement("span"),$=n("learnmore"),H=document.getElementById($)||document.createElement("a"),J=n("preprendIcon"),W=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const re=w.element;p(re),v(H,$);const ce=g();m(W,J),re.append(W,j,H,ce),document.body.appendChild(re)}u?(j.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _C(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function vC(){var e;const r=(e=Vf())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function SC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AC(){const r=pn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function wC(){return!vC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bC(){try{return typeof indexedDB=="object"}catch{return!1}}function RC(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="FirebaseError";class bi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=IC,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fu.prototype.create)}}class Fu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?CC(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new bi(o,p,s)}}function CC(r,e){return r.replace(xC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const xC=/\{\$([^}]+)}/g;function DC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ga(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(c0(u)&&c0(f)){if(!ga(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function c0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function du(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function pu(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function NC(r,e){const n=new OC(r,e);return n.subscribe.bind(n)}class OC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");MC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=_m),o.error===void 0&&(o.error=_m),o.complete===void 0&&(o.complete=_m);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MC(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function _m(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(r){return r&&r._delegate?r._delegate:r}class ya{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new pC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kC(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:PC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PC(r){return r===la?void 0:r}function kC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const UC={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},jC=Pe.INFO,zC={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},BC=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=zC[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cg{constructor(e){this.name=e,this._logLevel=jC,this._logHandler=BC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const qC=(r,e)=>e.some(n=>r instanceof n);let h0,f0;function HC(){return h0||(h0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FC(){return f0||(f0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MS=new WeakMap,qm=new WeakMap,VS=new WeakMap,vm=new WeakMap,xg=new WeakMap;function GC(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(cs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&MS.set(n,r)}).catch(()=>{}),xg.set(e,r),e}function $C(r){if(qm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});qm.set(r,e)}let Hm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return qm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||VS.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function QC(r){Hm=r(Hm)}function KC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Em(this),e,...n);return VS.set(s,e.sort?e.sort():[e]),cs(s)}:FC().includes(r)?function(...e){return r.apply(Em(this),e),cs(MS.get(this))}:function(...e){return cs(r.apply(Em(this),e))}}function YC(r){return typeof r=="function"?KC(r):(r instanceof IDBTransaction&&$C(r),qC(r,HC())?new Proxy(r,Hm):r)}function cs(r){if(r instanceof IDBRequest)return GC(r);if(vm.has(r))return vm.get(r);const e=YC(r);return e!==r&&(vm.set(r,e),xg.set(e,r)),e}const Em=r=>xg.get(r);function XC(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),p=cs(f);return s&&f.addEventListener("upgradeneeded",m=>{s(cs(f.result),m.oldVersion,m.newVersion,cs(f.transaction),m)}),n&&f.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const WC=["get","getKey","getAll","getAllKeys","count"],ZC=["put","add","delete","clear"],Tm=new Map;function d0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Tm.get(e))return Tm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=ZC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||WC.includes(n)))return;const u=async function(f,...p){const m=this.transaction(f,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&m.done]))[0]};return Tm.set(e,u),u}QC(r=>({...r,get:(e,n,s)=>d0(e,n)||r.get(e,n,s),has:(e,n)=>!!d0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ex(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ex(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fm="@firebase/app",p0="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new Cg("@firebase/app"),tx="@firebase/app-compat",nx="@firebase/analytics-compat",rx="@firebase/analytics",ix="@firebase/app-check-compat",sx="@firebase/app-check",ax="@firebase/auth",ox="@firebase/auth-compat",lx="@firebase/database",ux="@firebase/data-connect",cx="@firebase/database-compat",hx="@firebase/functions",fx="@firebase/functions-compat",dx="@firebase/installations",px="@firebase/installations-compat",mx="@firebase/messaging",gx="@firebase/messaging-compat",yx="@firebase/performance",_x="@firebase/performance-compat",vx="@firebase/remote-config",Ex="@firebase/remote-config-compat",Tx="@firebase/storage",Sx="@firebase/storage-compat",Ax="@firebase/firestore",wx="@firebase/ai",bx="@firebase/firestore-compat",Rx="firebase",Ix="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="[DEFAULT]",Cx={[Fm]:"fire-core",[tx]:"fire-core-compat",[rx]:"fire-analytics",[nx]:"fire-analytics-compat",[sx]:"fire-app-check",[ix]:"fire-app-check-compat",[ax]:"fire-auth",[ox]:"fire-auth-compat",[lx]:"fire-rtdb",[ux]:"fire-data-connect",[cx]:"fire-rtdb-compat",[hx]:"fire-fn",[fx]:"fire-fn-compat",[dx]:"fire-iid",[px]:"fire-iid-compat",[mx]:"fire-fcm",[gx]:"fire-fcm-compat",[yx]:"fire-perf",[_x]:"fire-perf-compat",[vx]:"fire-rc",[Ex]:"fire-rc-compat",[Tx]:"fire-gcs",[Sx]:"fire-gcs-compat",[Ax]:"fire-fst",[bx]:"fire-fst-compat",[wx]:"fire-vertex","fire-js":"fire-js",[Rx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=new Map,xx=new Map,$m=new Map;function m0(r,e){try{r.container.addComponent(e)}catch(n){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Po(r){const e=r.name;if($m.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;$m.set(e,r);for(const n of of.values())m0(n,r);for(const n of xx.values())m0(n,r);return!0}function Dg(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Zn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new Fu("app","Firebase",Dx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=Ix;function PS(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Gm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw hs.create("bad-app-name",{appName:String(o)});if(n||(n=xS()),!n)throw hs.create("no-options");const u=of.get(o);if(u){if(ga(n,u.options)&&ga(s,u.config))return u;throw hs.create("duplicate-app",{appName:o})}const f=new LC(o);for(const m of $m.values())f.addComponent(m);const p=new Nx(n,s,f);return of.set(o,p),p}function kS(r=Gm){const e=of.get(r);if(!e&&r===Gm&&xS())return PS();if(!e)throw hs.create("no-app",{appName:r});return e}function fs(r,e,n){let s=Cx[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(f.join(" "));return}Po(new ya(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="firebase-heartbeat-database",Mx=1,Du="firebase-heartbeat-store";let Sm=null;function LS(){return Sm||(Sm=XC(Ox,Mx,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Du)}catch(n){console.warn(n)}}}}).catch(r=>{throw hs.create("idb-open",{originalErrorMessage:r.message})})),Sm}async function Vx(r){try{const n=(await LS()).transaction(Du),s=await n.objectStore(Du).get(US(r));return await n.done,s}catch(e){if(e instanceof bi)Ei.warn(e.message);else{const n=hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ei.warn(n.message)}}}async function g0(r,e){try{const s=(await LS()).transaction(Du,"readwrite");await s.objectStore(Du).put(e,US(r)),await s.done}catch(n){if(n instanceof bi)Ei.warn(n.message);else{const s=hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ei.warn(s.message)}}}function US(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=1024,kx=30;class Lx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=y0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>kx){const f=zx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ei.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=y0(),{heartbeatsToSend:s,unsentEntries:o}=Ux(this._heartbeatsCache.heartbeats),u=af(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ei.warn(n),""}}}function y0(){return new Date().toISOString().substring(0,10)}function Ux(r,e=Px){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),_0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),_0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class jx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bC()?RC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Vx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return g0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return g0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function _0(r){return af(JSON.stringify({version:2,heartbeats:r})).length}function zx(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(r){Po(new ya("platform-logger",e=>new JC(e),"PRIVATE")),Po(new ya("heartbeat",e=>new Lx(e),"PRIVATE")),fs(Fm,p0,r),fs(Fm,p0,"esm2020"),fs("fire-js","")}Bx("");function jS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qx=jS,zS=new Fu("auth","Firebase",jS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new Cg("@firebase/auth");function Hx(r,...e){lf.logLevel<=Pe.WARN&&lf.warn(`Auth (${Yo}): ${r}`,...e)}function Fh(r,...e){lf.logLevel<=Pe.ERROR&&lf.error(`Auth (${Yo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(r,...e){throw Ng(r,...e)}function Mr(r,...e){return Ng(r,...e)}function BS(r,e,n){const s={...qx(),[e]:n};return new Fu("auth","Firebase",s).create(e,{appName:r.name})}function yi(r){return BS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ng(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return zS.create(r,...e)}function Se(r,e,...n){if(!r)throw Ng(e,...n)}function pi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Fh(e),new Error(e)}function Ti(r,e){r||pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function Fx(){return v0()==="http:"||v0()==="https:"}function v0(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Fx()||TC()||"connection"in navigator)?navigator.onLine:!0}function $x(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ti(n>e,"Short delay should be less than long delay!"),this.isMobile=_C()||SC()}get(){return Gx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(r,e){Ti(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Yx=new $u(3e4,6e4);function As(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ri(r,e,n,s,o={}){return HS(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const p=Gu({key:r.config.apiKey,...f}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:m,...u};return EC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ko(r.emulatorConfig.host)&&(g.credentials="include"),qS.fetch()(await FS(r,r.config.apiHost,n,p),g)})}async function HS(r,e,n){r._canInitEmulator=!1;const s={...Qx,...e};try{const o=new Wx(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Dh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dh(r,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw Dh(r,"email-already-in-use",f);if(m==="USER_DISABLED")throw Dh(r,"user-disabled",f);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw BS(r,v,g);fr(r,v)}}catch(o){if(o instanceof bi)throw o;fr(r,"network-request-failed",{message:String(o)})}}async function Qu(r,e,n,s,o={}){const u=await Ri(r,e,n,s,o);return"mfaPendingCredential"in u&&fr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function FS(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Og(r.config,o):`${r.config.apiScheme}://${o}`;return Kx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Xx(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Mr(this.auth,"network-request-failed")),Yx.get())})}}function Dh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Mr(r,e,s);return o.customData._tokenResponse=n,o}function E0(r){return r!==void 0&&r.enterprise!==void 0}class Zx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Xx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Jx(r,e){return Ri(r,"GET","/v2/recaptchaConfig",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(r,e){return Ri(r,"POST","/v1/accounts:delete",e)}async function uf(r,e){return Ri(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tD(r,e=!1){const n=xt(r),s=await n.getIdToken(e),o=Mg(s);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Tu(Am(o.auth_time)),issuedAtTime:Tu(Am(o.iat)),expirationTime:Tu(Am(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Am(r){return Number(r)*1e3}function Mg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Fh("JWT malformed, contained fewer than 3 sections"),null;try{const o=IS(n);return o?JSON.parse(o):(Fh("Failed to decode base64 JWT payload"),null)}catch(o){return Fh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function T0(r){const e=Mg(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof bi&&nD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function nD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(r){var T;const e=r.auth,n=await r.getIdToken(),s=await ko(r,uf(e,{idToken:n}));Se(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?GS(o.providerUserInfo):[],f=sD(r.providerData,u),p=r.isAnonymous,m=!(r.email&&o.passwordHash)&&!(f!=null&&f.length),g=p?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function iD(r){const e=xt(r);await cf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sD(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function GS(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(r,e){const n=await HS(r,{},async()=>{const s=Gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await FS(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:s};return r.emulatorConfig&&Ko(r.emulatorConfig.host)&&(m.credentials="include"),qS.fetch()(f,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oD(r,e){return Ri(r,"POST","/v2/accounts:revokeToken",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=T0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await aD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Io;return s&&(Se(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class lr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new rD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Km(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ko(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tD(this,e)}reload(){return iD(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new lr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await cf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await ko(this,eD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:O,providerData:j,stsTokenManager:$}=n;Se(T&&$,e,"internal-error");const H=Io.fromJSON(this.name,$);Se(typeof T=="string",e,"internal-error"),ts(s,e.name),ts(o,e.name),Se(typeof w=="boolean",e,"internal-error"),Se(typeof O=="boolean",e,"internal-error"),ts(u,e.name),ts(f,e.name),ts(p,e.name),ts(m,e.name),ts(g,e.name),ts(v,e.name);const J=new lr({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:O,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:H,createdAt:g,lastLoginAt:v});return j&&Array.isArray(j)&&(J.providerData=j.map(W=>({...W}))),m&&(J._redirectEventId=m),J}static async _fromIdTokenResponse(e,n,s=!1){const o=new Io;o.updateFromServerResponse(n);const u=new lr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await cf(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?GS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new Io;p.updateFromIdToken(s);const m=new lr({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=new Map;function mi(r){Ti(r instanceof Function,"Expected a class definition");let e=S0.get(r);return e?(Ti(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,S0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$S.type="NONE";const A0=$S;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(r,e,n){return`firebase:${r}:${e}:${n}`}class Co{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Gh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Gh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uf(this.auth,{idToken:e}).catch(()=>{});return n?lr._fromGetAccountInfoResponse(this.auth,n,e):null}return lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Co(mi(A0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||mi(A0);const f=Gh(s,e.config.apiKey,e.name);let p=null;for(const g of n)try{const v=await g._get(f);if(v){let T;if(typeof v=="string"){const w=await uf(e,{idToken:v}).catch(()=>{});if(!w)break;T=await lr._fromGetAccountInfoResponse(e,w,v)}else T=lr._fromJSON(e,v);g!==u&&(p=T),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Co(u,e,s):(u=m[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Co(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZS(e))return"Blackberry";if(JS(e))return"Webos";if(KS(e))return"Safari";if((e.includes("chrome/")||YS(e))&&!e.includes("edge/"))return"Chrome";if(WS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function QS(r=pn()){return/firefox\//i.test(r)}function KS(r=pn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YS(r=pn()){return/crios\//i.test(r)}function XS(r=pn()){return/iemobile/i.test(r)}function WS(r=pn()){return/android/i.test(r)}function ZS(r=pn()){return/blackberry/i.test(r)}function JS(r=pn()){return/webos/i.test(r)}function Vg(r=pn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function lD(r=pn()){var e;return Vg(r)&&!!((e=window.navigator)!=null&&e.standalone)}function uD(){return AC()&&document.documentMode===10}function e1(r=pn()){return Vg(r)||WS(r)||JS(r)||ZS(r)||/windows phone/i.test(r)||XS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(r,e=[]){let n;switch(r){case"Browser":n=w0(pn());break;case"Worker":n=`${w0(pn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,p)=>{try{const m=e(u);f(m)}catch(m){p(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(r,e={}){return Ri(r,"GET","/v2/passwordPolicy",As(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=6;class dD{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??fD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b0(this),this.idTokenSubscription=new b0(this),this.beforeStateQueue=new cD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uf(this,{idToken:e}),s=await lr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Zn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,p=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===p)&&(m!=null&&m.user)&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$x()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(yi(this));const n=e?xt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hD(this),n=new dD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await oD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mi(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,o);return()=>{f=!0,m()}}else{const m=e.addObserver(n);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=t1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Hx(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Aa(r){return xt(r)}class b0{constructor(e){this.auth=e,this.observer=null,this.addObserver=NC(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mD(r){Pf=r}function n1(r){return Pf.loadJS(r)}function gD(){return Pf.recaptchaEnterpriseScript}function yD(){return Pf.gapiScript}function _D(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class vD{constructor(){this.enterprise=new ED}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ED{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const TD="recaptcha-enterprise",r1="NO_RECAPTCHA";class SD{constructor(e){this.type=TD,this.auth=Aa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{Jx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new Zx(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(m=>{p(m)})})}function o(u,f,p){const m=window.grecaptcha;E0(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(r1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vD().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&E0(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=gD();m.length!==0&&(m+=p),n1(m).then(()=>{o(p,u,f)}).catch(g=>{f(g)})}}).catch(p=>{f(p)})})}}async function R0(r,e,n,s=!1,o=!1){const u=new SD(r);let f;if(o)f=r1;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Ym(r,e,n,s,o){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await R0(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await R0(r,e,n,n==="getOobCode");return s(r,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(r,e){const n=Dg(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ga(u,e??{}))return o;fr(o,"already-initialized")}return n.initialize({options:e})}function wD(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(mi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function bD(r,e,n){const s=Aa(r);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=i1(e),{host:f,port:p}=RD(e),m=p===null?"":`:${p}`,g={url:`${u}//${f}${m}/`},v=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(ga(g,s.config.emulator)&&ga(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Ko(f)?(NS(`${u}//${f}${m}`),OS("Auth",!0)):ID()}function i1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function RD(r){const e=i1(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:I0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:I0(f)}}}function I0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function ID(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pi("not implemented")}_getIdTokenResponse(e){return pi("not implemented")}_linkToIdToken(e,n){return pi("not implemented")}_getReauthenticationResolver(e){return pi("not implemented")}}async function CD(r,e){return Ri(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(r,e){return Qu(r,"POST","/v1/accounts:signInWithPassword",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(r,e){return Qu(r,"POST","/v1/accounts:signInWithEmailLink",As(r,e))}async function ND(r,e){return Qu(r,"POST","/v1/accounts:signInWithEmailLink",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends Pg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Nu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Nu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ym(e,n,"signInWithPassword",xD);case"emailLink":return DD(e,{email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ym(e,s,"signUpPassword",CD);case"emailLink":return ND(e,{idToken:n,email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(r,e){return Qu(r,"POST","/v1/accounts:signInWithIdp",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="http://localhost";class _a extends Pg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new _a(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return xo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,xo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xo(e,n)}buildRequest(){const e={requestUri:OD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VD(r){const e=du(pu(r)).link,n=e?du(pu(e)).deep_link_id:null,s=du(pu(r)).deep_link_id;return(s?du(pu(s)).link:null)||s||n||e||r}class kg{constructor(e){const n=du(pu(e)),s=n.apiKey??null,o=n.oobCode??null,u=MD(n.mode??null);Se(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=VD(e);try{return new kg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.providerId=Xo.PROVIDER_ID}static credential(e,n){return Nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=kg.parseLink(n);return Se(s,"argument-error"),Nu._fromEmailAndCode(e,s.code,s.tenantId)}}Xo.PROVIDER_ID="password";Xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends s1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Ku{constructor(){super("facebook.com")}static credential(e){return _a._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _a._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ss.credential(n,s)}catch{return null}}}ss.GOOGLE_SIGN_IN_METHOD="google.com";ss.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Ku{constructor(){super("github.com")}static credential(e){return _a._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.GITHUB_SIGN_IN_METHOD="github.com";as.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Ku{constructor(){super("twitter.com")}static credential(e,n){return _a._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return os.credential(n,s)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(r,e){return Qu(r,"POST","/v1/accounts:signUp",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await lr._fromIdTokenResponse(e,s,o),f=C0(s);return new va({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=C0(s);return new va({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function C0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends bi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,hf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new hf(e,n,s,o)}}function a1(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?hf._fromErrorAndOperation(r,u,e,s):u})}async function kD(r,e,n=!1){const s=await ko(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return va._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(r,e,n=!1){const{auth:s}=r;if(Zn(s.app))return Promise.reject(yi(s));const o="reauthenticate";try{const u=await ko(r,a1(s,o,e,r),n);Se(u.idToken,s,"internal-error");const f=Mg(u.idToken);Se(f,s,"internal-error");const{sub:p}=f;return Se(r.uid===p,s,"user-mismatch"),va._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&fr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o1(r,e,n=!1){if(Zn(r.app))return Promise.reject(yi(r));const s="signIn",o=await a1(r,s,e),u=await va._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function UD(r,e){return o1(Aa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(r){const e=Aa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function jD(r,e,n){if(Zn(r.app))return Promise.reject(yi(r));const s=Aa(r),f=await Ym(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PD).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&l1(r),m}),p=await va._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function zD(r,e,n){return Zn(r.app)?Promise.reject(yi(r)):UD(xt(r),Xo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&l1(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(r,e){return Ri(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=xt(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await ko(s,BD(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const p=s.providerData.find(({providerId:m})=>m==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function HD(r,e,n,s){return xt(r).onIdTokenChanged(e,n,s)}function FD(r,e,n){return xt(r).beforeAuthStateChanged(e,n)}function kf(r,e,n,s){return xt(r).onAuthStateChanged(e,n,s)}function GD(r){return xt(r).signOut()}const ff="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ff,"1"),this.storage.removeItem(ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=1e3,QD=10;class c1 extends u1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,m)=>{this.notifyListeners(f,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);uD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,QD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},$D)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}c1.type="LOCAL";const KD=c1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1 extends u1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}h1.type="SESSION";const f1=h1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Lf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async g=>g(n.origin,u)),m=await YD(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,m)=>{const g=Lg("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(w.data.response);break;default:clearTimeout(v),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(){return window}function WD(r){Vr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){return typeof Vr().WorkerGlobalScope<"u"&&typeof Vr().importScripts=="function"}async function ZD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function eN(){return d1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="firebaseLocalStorageDb",tN=1,df="firebaseLocalStorage",m1="fbase_key";class Yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uf(r,e){return r.transaction([df],e?"readwrite":"readonly").objectStore(df)}function nN(){const r=indexedDB.deleteDatabase(p1);return new Yu(r).toPromise()}function Xm(){const r=indexedDB.open(p1,tN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(df,{keyPath:m1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(df)?e(s):(s.close(),await nN(),e(await Xm()))})})}async function x0(r,e,n){const s=Uf(r,!0).put({[m1]:e,value:n});return new Yu(s).toPromise()}async function rN(r,e){const n=Uf(r,!1).get(e),s=await new Yu(n).toPromise();return s===void 0?null:s.value}function D0(r,e){const n=Uf(r,!0).delete(e);return new Yu(n).toPromise()}const iN=800,sN=3;class g1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>sN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lf._getInstance(eN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await ZD(),!this.activeServiceWorker)return;this.sender=new XD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xm();return await x0(e,ff,"1"),await D0(e,ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>x0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>rN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>D0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Uf(o,!1).getAll();return new Yu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g1.type="LOCAL";const aN=g1;new $u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(r,e){return e?mi(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug extends Pg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lN(r){return o1(r.auth,new Ug(r),r.bypassAuthState)}function uN(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),LD(n,new Ug(r),r.bypassAuthState)}async function cN(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),kD(n,new Ug(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lN;case"linkViaPopup":case"linkViaRedirect":return cN;case"reauthViaPopup":case"reauthViaRedirect":return uN;default:fr(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=new $u(2e3,1e4);class Ro extends y1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ro.currentPopupAction&&Ro.currentPopupAction.cancel(),Ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Ti(this.filter.length===1,"Popup operations only handle one event");const e=Lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hN.get())};e()}}Ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="pendingRedirect",$h=new Map;class dN extends y1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=$h.get(this.auth._key());if(!e){try{const s=await pN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}$h.set(this.auth._key(),e)}return this.bypassAuthState||$h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pN(r,e){const n=yN(e),s=gN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function mN(r,e){$h.set(r._key(),e)}function gN(r){return mi(r._redirectPersistence)}function yN(r){return Gh(fN,r.config.apiKey,r.name)}async function _N(r,e,n=!1){if(Zn(r.app))return Promise.reject(yi(r));const s=Aa(r),o=oN(s,e),f=await new dN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=600*1e3;class EN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!_1(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Mr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vN&&this.cachedEventUids.clear(),this.cachedEventUids.has(N0(e))}saveEventToCache(e){this.cachedEventUids.add(N0(e)),this.lastProcessedEventTime=Date.now()}}function N0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function _1({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(r,e={}){return Ri(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wN=/^https?/;async function bN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await SN(r);for(const n of e)try{if(RN(n))return}catch{}fr(r,"unauthorized-domain")}function RN(r){const e=Qm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!wN.test(n))return!1;if(AN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new $u(3e4,6e4);function O0(){const r=Vr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function CN(r){return new Promise((e,n)=>{var o,u,f;function s(){O0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O0(),n(Mr(r,"network-request-failed"))},timeout:IN.get()})}if((u=(o=Vr().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=Vr().gapi)!=null&&f.load)s();else{const p=_D("iframefcb");return Vr()[p]=()=>{gapi.load?s():n(Mr(r,"network-request-failed"))},n1(`${yD()}?onload=${p}`).catch(m=>n(m))}}).catch(e=>{throw Qh=null,e})}let Qh=null;function xN(r){return Qh=Qh||CN(r),Qh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=new $u(5e3,15e3),NN="__/auth/iframe",ON="emulator/auth/iframe",MN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PN(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Og(e,ON):`https://${r.config.authDomain}/${NN}`,s={apiKey:e.apiKey,appName:r.name,v:Yo},o=VN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Gu(s).slice(1)}`}async function kN(r){const e=await xN(r),n=Vr().gapi;return Se(n,r,"internal-error"),e.open({where:document.body,url:PN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Mr(r,"network-request-failed"),p=Vr().setTimeout(()=>{u(f)},DN.get());function m(){Vr().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UN=500,jN=600,zN="_blank",BN="http://localhost";class M0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qN(r,e,n,s=UN,o=jN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m={...LN,width:s.toString(),height:o.toString(),top:u,left:f},g=pn().toLowerCase();n&&(p=YS(g)?zN:n),QS(g)&&(e=e||BN,m.scrollbars="yes");const v=Object.entries(m).reduce((w,[O,j])=>`${w}${O}=${j},`,"");if(lD(g)&&p!=="_self")return HN(e||"",p),new M0(null);const T=window.open(e||"",p,v);Se(T,r,"popup-blocked");try{T.focus()}catch{}return new M0(T)}function HN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="__/auth/handler",GN="emulator/auth/handler",$N=encodeURIComponent("fac");async function V0(r,e,n,s,o,u){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Yo,eventId:o};if(e instanceof s1){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",DC(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))f[v]=T}if(e instanceof Ku){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(f.scopes=v.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const m=await r._getAppCheckToken(),g=m?`#${$N}=${encodeURIComponent(m)}`:"";return`${QN(r)}?${Gu(p).slice(1)}${g}`}function QN({config:r}){return r.emulator?Og(r,GN):`https://${r.authDomain}/${FN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="webStorageSupport";class KN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f1,this._completeRedirectFn=_N,this._overrideRedirectResult=mN}async _openPopup(e,n,s,o){var f;Ti((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await V0(e,n,s,Qm(),o);return qN(e,u,Lg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await V0(e,n,s,Qm(),o);return WD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ti(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await kN(e),s=new EN(e);return n.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wm,{type:wm},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[wm];u!==void 0&&n(!!u),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return e1()||KS()||Vg()}}const YN=KN;var P0="@firebase/auth",k0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZN(r){Po(new ya("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t1(r)},g=new pD(s,o,u,m);return wD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Po(new ya("auth-internal",e=>{const n=Aa(e.getProvider("auth").getImmediate());return(s=>new XN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fs(P0,k0,WN(r)),fs(P0,k0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=300,e2=DS("authIdTokenMaxAge")||JN;let L0=null;const t2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>e2)return;const o=n==null?void 0:n.token;L0!==o&&(L0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function n2(r=kS()){const e=Dg(r,"auth");if(e.isInitialized())return e.getImmediate();const n=AD(r,{popupRedirectResolver:YN,persistence:[aN,KD,f1]}),s=DS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=t2(u.toString());FD(n,f,()=>f(n.currentUser)),HD(n,p=>f(p))}}const o=CS("auth");return o&&bD(n,`http://${o}`),n}function r2(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}mD({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Mr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",r2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZN("Browser");var i2="firebase",s2="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(i2,s2,"app");var U0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ds,v1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function I(){}I.prototype=R.prototype,x.D=R.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(V,P,L){for(var D=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)D[Dt-2]=arguments[Dt];return R.prototype[P].apply(V,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,I){I||(I=0);var V=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)V[P]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(P=0;16>P;++P)V[P]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=x.g[0],I=x.g[1],P=x.g[2];var L=x.g[3],D=R+(L^I&(P^L))+V[0]+3614090360&4294967295;R=I+(D<<7&4294967295|D>>>25),D=L+(P^R&(I^P))+V[1]+3905402710&4294967295,L=R+(D<<12&4294967295|D>>>20),D=P+(I^L&(R^I))+V[2]+606105819&4294967295,P=L+(D<<17&4294967295|D>>>15),D=I+(R^P&(L^R))+V[3]+3250441966&4294967295,I=P+(D<<22&4294967295|D>>>10),D=R+(L^I&(P^L))+V[4]+4118548399&4294967295,R=I+(D<<7&4294967295|D>>>25),D=L+(P^R&(I^P))+V[5]+1200080426&4294967295,L=R+(D<<12&4294967295|D>>>20),D=P+(I^L&(R^I))+V[6]+2821735955&4294967295,P=L+(D<<17&4294967295|D>>>15),D=I+(R^P&(L^R))+V[7]+4249261313&4294967295,I=P+(D<<22&4294967295|D>>>10),D=R+(L^I&(P^L))+V[8]+1770035416&4294967295,R=I+(D<<7&4294967295|D>>>25),D=L+(P^R&(I^P))+V[9]+2336552879&4294967295,L=R+(D<<12&4294967295|D>>>20),D=P+(I^L&(R^I))+V[10]+4294925233&4294967295,P=L+(D<<17&4294967295|D>>>15),D=I+(R^P&(L^R))+V[11]+2304563134&4294967295,I=P+(D<<22&4294967295|D>>>10),D=R+(L^I&(P^L))+V[12]+1804603682&4294967295,R=I+(D<<7&4294967295|D>>>25),D=L+(P^R&(I^P))+V[13]+4254626195&4294967295,L=R+(D<<12&4294967295|D>>>20),D=P+(I^L&(R^I))+V[14]+2792965006&4294967295,P=L+(D<<17&4294967295|D>>>15),D=I+(R^P&(L^R))+V[15]+1236535329&4294967295,I=P+(D<<22&4294967295|D>>>10),D=R+(P^L&(I^P))+V[1]+4129170786&4294967295,R=I+(D<<5&4294967295|D>>>27),D=L+(I^P&(R^I))+V[6]+3225465664&4294967295,L=R+(D<<9&4294967295|D>>>23),D=P+(R^I&(L^R))+V[11]+643717713&4294967295,P=L+(D<<14&4294967295|D>>>18),D=I+(L^R&(P^L))+V[0]+3921069994&4294967295,I=P+(D<<20&4294967295|D>>>12),D=R+(P^L&(I^P))+V[5]+3593408605&4294967295,R=I+(D<<5&4294967295|D>>>27),D=L+(I^P&(R^I))+V[10]+38016083&4294967295,L=R+(D<<9&4294967295|D>>>23),D=P+(R^I&(L^R))+V[15]+3634488961&4294967295,P=L+(D<<14&4294967295|D>>>18),D=I+(L^R&(P^L))+V[4]+3889429448&4294967295,I=P+(D<<20&4294967295|D>>>12),D=R+(P^L&(I^P))+V[9]+568446438&4294967295,R=I+(D<<5&4294967295|D>>>27),D=L+(I^P&(R^I))+V[14]+3275163606&4294967295,L=R+(D<<9&4294967295|D>>>23),D=P+(R^I&(L^R))+V[3]+4107603335&4294967295,P=L+(D<<14&4294967295|D>>>18),D=I+(L^R&(P^L))+V[8]+1163531501&4294967295,I=P+(D<<20&4294967295|D>>>12),D=R+(P^L&(I^P))+V[13]+2850285829&4294967295,R=I+(D<<5&4294967295|D>>>27),D=L+(I^P&(R^I))+V[2]+4243563512&4294967295,L=R+(D<<9&4294967295|D>>>23),D=P+(R^I&(L^R))+V[7]+1735328473&4294967295,P=L+(D<<14&4294967295|D>>>18),D=I+(L^R&(P^L))+V[12]+2368359562&4294967295,I=P+(D<<20&4294967295|D>>>12),D=R+(I^P^L)+V[5]+4294588738&4294967295,R=I+(D<<4&4294967295|D>>>28),D=L+(R^I^P)+V[8]+2272392833&4294967295,L=R+(D<<11&4294967295|D>>>21),D=P+(L^R^I)+V[11]+1839030562&4294967295,P=L+(D<<16&4294967295|D>>>16),D=I+(P^L^R)+V[14]+4259657740&4294967295,I=P+(D<<23&4294967295|D>>>9),D=R+(I^P^L)+V[1]+2763975236&4294967295,R=I+(D<<4&4294967295|D>>>28),D=L+(R^I^P)+V[4]+1272893353&4294967295,L=R+(D<<11&4294967295|D>>>21),D=P+(L^R^I)+V[7]+4139469664&4294967295,P=L+(D<<16&4294967295|D>>>16),D=I+(P^L^R)+V[10]+3200236656&4294967295,I=P+(D<<23&4294967295|D>>>9),D=R+(I^P^L)+V[13]+681279174&4294967295,R=I+(D<<4&4294967295|D>>>28),D=L+(R^I^P)+V[0]+3936430074&4294967295,L=R+(D<<11&4294967295|D>>>21),D=P+(L^R^I)+V[3]+3572445317&4294967295,P=L+(D<<16&4294967295|D>>>16),D=I+(P^L^R)+V[6]+76029189&4294967295,I=P+(D<<23&4294967295|D>>>9),D=R+(I^P^L)+V[9]+3654602809&4294967295,R=I+(D<<4&4294967295|D>>>28),D=L+(R^I^P)+V[12]+3873151461&4294967295,L=R+(D<<11&4294967295|D>>>21),D=P+(L^R^I)+V[15]+530742520&4294967295,P=L+(D<<16&4294967295|D>>>16),D=I+(P^L^R)+V[2]+3299628645&4294967295,I=P+(D<<23&4294967295|D>>>9),D=R+(P^(I|~L))+V[0]+4096336452&4294967295,R=I+(D<<6&4294967295|D>>>26),D=L+(I^(R|~P))+V[7]+1126891415&4294967295,L=R+(D<<10&4294967295|D>>>22),D=P+(R^(L|~I))+V[14]+2878612391&4294967295,P=L+(D<<15&4294967295|D>>>17),D=I+(L^(P|~R))+V[5]+4237533241&4294967295,I=P+(D<<21&4294967295|D>>>11),D=R+(P^(I|~L))+V[12]+1700485571&4294967295,R=I+(D<<6&4294967295|D>>>26),D=L+(I^(R|~P))+V[3]+2399980690&4294967295,L=R+(D<<10&4294967295|D>>>22),D=P+(R^(L|~I))+V[10]+4293915773&4294967295,P=L+(D<<15&4294967295|D>>>17),D=I+(L^(P|~R))+V[1]+2240044497&4294967295,I=P+(D<<21&4294967295|D>>>11),D=R+(P^(I|~L))+V[8]+1873313359&4294967295,R=I+(D<<6&4294967295|D>>>26),D=L+(I^(R|~P))+V[15]+4264355552&4294967295,L=R+(D<<10&4294967295|D>>>22),D=P+(R^(L|~I))+V[6]+2734768916&4294967295,P=L+(D<<15&4294967295|D>>>17),D=I+(L^(P|~R))+V[13]+1309151649&4294967295,I=P+(D<<21&4294967295|D>>>11),D=R+(P^(I|~L))+V[4]+4149444226&4294967295,R=I+(D<<6&4294967295|D>>>26),D=L+(I^(R|~P))+V[11]+3174756917&4294967295,L=R+(D<<10&4294967295|D>>>22),D=P+(R^(L|~I))+V[2]+718787259&4294967295,P=L+(D<<15&4294967295|D>>>17),D=I+(L^(P|~R))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var I=R-this.blockSize,V=this.B,P=this.h,L=0;L<R;){if(P==0)for(;L<=I;)o(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<R;)if(V[P++]=x.charCodeAt(L++),P==this.blockSize){o(this,V),P=0;break}}else for(;L<R;)if(V[P++]=x[L++],P==this.blockSize){o(this,V),P=0;break}}this.h=P,this.o+=R},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var I=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=I&255,I/=256;for(this.u(x),x=Array(16),R=I=0;4>R;++R)for(var V=0;32>V;V+=8)x[I++]=this.g[R]>>>V&255;return x};function u(x,R){var I=p;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=R(x)}function f(x,R){this.h=R;for(var I=[],V=!0,P=x.length-1;0<=P;P--){var L=x[P]|0;V&&L==R||(I[P]=L,V=!1)}this.g=I}var p={};function m(x){return-128<=x&&128>x?u(x,function(R){return new f([R|0],0>R?-1:0)}):new f([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return T;if(0>x)return H(g(-x));for(var R=[],I=1,V=0;x>=I;V++)R[V]=x/I|0,I*=4294967296;return new f(R,0)}function v(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return H(v(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),V=T,P=0;P<x.length;P+=8){var L=Math.min(8,x.length-P),D=parseInt(x.substring(P,P+L),R);8>L?(L=g(Math.pow(R,L)),V=V.j(L).add(g(D))):(V=V.j(I),V=V.add(g(D)))}return V}var T=m(0),w=m(1),O=m(16777216);r=f.prototype,r.m=function(){if($(this))return-H(this).m();for(var x=0,R=1,I=0;I<this.g.length;I++){var V=this.i(I);x+=(0<=V?V:4294967296+V)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(j(this))return"0";if($(this))return"-"+H(this).toString(x);for(var R=g(Math.pow(x,6)),I=this,V="";;){var P=ce(I,R).g;I=J(I,P.j(R));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=P,j(I))return L+V;for(;6>L.length;)L="0"+L;V=L+V}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function j(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function $(x){return x.h==-1}r.l=function(x){return x=J(this,x),$(x)?-1:j(x)?0:1};function H(x){for(var R=x.g.length,I=[],V=0;V<R;V++)I[V]=~x.g[V];return new f(I,~x.h).add(w)}r.abs=function(){return $(this)?H(this):this},r.add=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],V=0,P=0;P<=R;P++){var L=V+(this.i(P)&65535)+(x.i(P)&65535),D=(L>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);V=D>>>16,L&=65535,D&=65535,I[P]=D<<16|L}return new f(I,I[I.length-1]&-2147483648?-1:0)};function J(x,R){return x.add(H(R))}r.j=function(x){if(j(this)||j(x))return T;if($(this))return $(x)?H(this).j(H(x)):H(H(this).j(x));if($(x))return H(this.j(H(x)));if(0>this.l(O)&&0>x.l(O))return g(this.m()*x.m());for(var R=this.g.length+x.g.length,I=[],V=0;V<2*R;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(var P=0;P<x.g.length;P++){var L=this.i(V)>>>16,D=this.i(V)&65535,Dt=x.i(P)>>>16,at=x.i(P)&65535;I[2*V+2*P]+=D*at,W(I,2*V+2*P),I[2*V+2*P+1]+=L*at,W(I,2*V+2*P+1),I[2*V+2*P+1]+=D*Dt,W(I,2*V+2*P+1),I[2*V+2*P+2]+=L*Dt,W(I,2*V+2*P+2)}for(V=0;V<R;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=R;V<2*R;V++)I[V]=0;return new f(I,0)};function W(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function re(x,R){this.g=x,this.h=R}function ce(x,R){if(j(R))throw Error("division by zero");if(j(x))return new re(T,T);if($(x))return R=ce(H(x),R),new re(H(R.g),H(R.h));if($(R))return R=ce(x,H(R)),new re(H(R.g),R.h);if(30<x.g.length){if($(x)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var I=w,V=R;0>=V.l(x);)I=le(I),V=le(V);var P=de(I,1),L=de(V,1);for(V=de(V,2),I=de(I,2);!j(V);){var D=L.add(V);0>=D.l(x)&&(P=P.add(I),L=D),V=de(V,1),I=de(I,1)}return R=J(x,P.j(R)),new re(P,R)}for(P=T;0<=x.l(R);){for(I=Math.max(1,Math.floor(x.m()/R.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),L=g(I),D=L.j(R);$(D)||0<D.l(x);)I-=V,L=g(I),D=L.j(R);j(L)&&(L=w),P=P.add(L),x=J(x,D)}return new re(P,x)}r.A=function(x){return ce(this,x).h},r.and=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)&x.i(V);return new f(I,this.h&x.h)},r.or=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)|x.i(V);return new f(I,this.h|x.h)},r.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)^x.i(V);return new f(I,this.h^x.h)};function le(x){for(var R=x.g.length+1,I=[],V=0;V<R;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new f(I,x.h)}function de(x,R){var I=R>>5;R%=32;for(var V=x.g.length-I,P=[],L=0;L<V;L++)P[L]=0<R?x.i(L+I)>>>R|x.i(L+I+1)<<32-R:x.i(L+I);return new f(P,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,v1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,ds=f}).apply(typeof U0<"u"?U0:typeof self<"u"?self:typeof window<"u"?window:{});var Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E1,mu,T1,Kh,Wm,S1,A1,w1;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nh=="object"&&Nh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var U=c[b];if(!(U in _))break e;_=_[U]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,U={next:function(){if(!b&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,b),c.apply(y,U)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,w.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function j(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,U,Q){for(var ae=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ae[Ue-2]=arguments[Ue];return y.prototype[U].apply(b,ae)}}function $(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function H(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(m(b)){const U=c.length||0,Q=b.length||0;c.length=U+Q;for(let ae=0;ae<Q;ae++)c[U+ae]=b[ae]}else c.push(b)}}class J{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function W(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var le=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function de(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function x(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let _,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(_ in b)c[_]=b[_];for(let Q=0;Q<I.length;Q++)_=I[Q],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){p.setTimeout(()=>{throw c},0)}function D(){var c=Ce;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Dt{constructor(){this.h=this.g=null}add(y,_){const b=at.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var at=new J(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,Ce=new Dt,N=()=>{const c=p.Promise.resolve(void 0);oe=()=>{c.then(ne)}};var ne=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){L(_)}var y=at;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,y),p.removeEventListener("test",_,y)}catch{}return c}();function Ie(c,y){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(le){e:{try{ce(y.nodeName);var U=!0;break e}catch{}U=!1}U||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}j(Ie,ie);var ve={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ct="closure_listenable_"+(1e6*Math.random()|0),qe=0;function Lt(c,y,_,b,U){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=U,this.key=++qe,this.da=this.fa=!1}function Un(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function vn(c){this.src=c,this.g={},this.h=0}vn.prototype.add=function(c,y,_,b,U){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var ae=Rs(c,y,b,U);return-1<ae?(y=c[ae],_||(y.fa=!1)):(y=new Lt(y,this.src,Q,!!b,U),y.fa=_,c.push(y)),y};function sn(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],U=Array.prototype.indexOf.call(b,y,void 0),Q;(Q=0<=U)&&Array.prototype.splice.call(b,U,1),Q&&(Un(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Rs(c,y,_,b){for(var U=0;U<c.length;++U){var Q=c[U];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==b)return U}return-1}var Is="closure_lm_"+(1e6*Math.random()|0),tl={};function rc(c,y,_,b,U){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)rc(c,y[Q],_,b,U);return null}return _=ic(_),c&&c[ct]?c.K(y,_,g(b)?!!b.capture:!1,U):jn(c,y,_,!1,b,U)}function jn(c,y,_,b,U,Q){if(!y)throw Error("Invalid event type");var ae=g(U)?!!U.capture:!!U,Ue=Ca(c);if(Ue||(c[Is]=Ue=new vn(c)),_=Ue.add(y,_,b,ae,Q),_.proxy)return _;if(b=ad(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ge||(U=ae),U===void 0&&(U=!1),c.addEventListener(y.toString(),b,U);else if(c.attachEvent)c.attachEvent(Cs(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ad(){function c(_){return y.call(c.src,c.listener,_)}const y=od;return c}function nl(c,y,_,b,U){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)nl(c,y[Q],_,b,U);else b=g(b)?!!b.capture:!!b,_=ic(_),c&&c[ct]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=Rs(Q,_,b,U),-1<_&&(Un(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ca(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Rs(y,_,b,U)),(_=-1<c?y[c]:null)&&Ia(_))}function Ia(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ct])sn(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(Cs(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=Ca(y))?(sn(_,c),_.h==0&&(_.src=null,y[Is]=null)):Un(c)}}}function Cs(c){return c in tl?tl[c]:tl[c]="on"+c}function od(c,y){if(c.da)c=!0;else{y=new Ie(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&Ia(c),c=_.call(b,y)}return c}function Ca(c){return c=c[Is],c instanceof vn?c:null}var rl="__closure_events_fn_"+(1e9*Math.random()>>>0);function ic(c){return typeof c=="function"?c:(c[rl]||(c[rl]=function(y){return c.handleEvent(y)}),c[rl])}function dt(){se.call(this),this.i=new vn(this),this.M=this,this.F=null}j(dt,se),dt.prototype[ct]=!0,dt.prototype.removeEventListener=function(c,y,_,b){nl(this,c,y,_,b)};function Ke(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new ie(y,c);else if(y instanceof ie)y.target=y.target||c;else{var U=y;y=new ie(b,c),V(y,U)}if(U=!0,_)for(var Q=_.length-1;0<=Q;Q--){var ae=y.g=_[Q];U=Rn(ae,b,!0,y)&&U}if(ae=y.g=c,U=Rn(ae,b,!0,y)&&U,U=Rn(ae,b,!1,y)&&U,_)for(Q=0;Q<_.length;Q++)ae=y.g=_[Q],U=Rn(ae,b,!1,y)&&U}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)Un(_[b]);delete c.g[y],c.h--}}this.F=null},dt.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},dt.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function Rn(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,Q=0;Q<y.length;++Q){var ae=y[Q];if(ae&&!ae.da&&ae.capture==_){var Ue=ae.listener,Ot=ae.ha||ae.src;ae.fa&&sn(c.i,ae),U=Ue.call(Ot,b)!==!1&&U}}return U&&!b.defaultPrevented}function an(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function sc(c){c.g=an(()=>{c.g=null,c.i&&(c.i=!1,sc(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ld extends se{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:sc(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(c){se.call(this),this.h=c,this.g={}}j(xs,se);var Ds=[];function Ns(c){de(c.g,function(y,_){this.g.hasOwnProperty(_)&&Ia(y)},c),c.g={}}xs.prototype.N=function(){xs.aa.N.call(this),Ns(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tr=p.JSON.stringify,xa=p.JSON.parse,Os=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function il(){}il.prototype.h=null;function sl(c){return c.h||(c.h=c.i())}function al(){}var Br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qr(){ie.call(this,"d")}j(qr,ie);function ol(){ie.call(this,"c")}j(ol,ie);var mr={},ll=null;function Ii(){return ll=ll||new dt}mr.La="serverreachability";function Da(c){ie.call(this,mr.La,c)}j(Da,ie);function Ci(c){const y=Ii();Ke(y,new Da(y))}mr.STAT_EVENT="statevent";function ac(c,y){ie.call(this,mr.STAT_EVENT,c),this.stat=y}j(ac,ie);function ot(c){const y=Ii();Ke(y,new ac(y,c))}mr.Ma="timingevent";function Nt(c,y){ie.call(this,mr.Ma,c),this.size=y}j(Nt,ie);function Tt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function zn(){this.g=!0}zn.prototype.xa=function(){this.g=!1};function ul(c,y,_,b,U,Q){c.info(function(){if(c.g)if(Q)for(var ae="",Ue=Q.split("&"),Ot=0;Ot<Ue.length;Ot++){var je=Ue[Ot].split("=");if(1<je.length){var jt=je[0];je=je[1];var Mt=jt.split("_");ae=2<=Mt.length&&Mt[1]=="type"?ae+(jt+"="+je+"&"):ae+(jt+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+y+`
`+_+`
`+ae})}function ud(c,y,_,b,U,Q,ae){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+y+`
`+_+`
`+Q+" "+ae})}function xi(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ms(c,_)+(b?" "+b:"")})}function oc(c,y){c.info(function(){return"TIMEOUT: "+y})}zn.prototype.info=function(){};function Ms(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var U=b[1];if(Array.isArray(U)&&!(1>U.length)){var Q=U[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<U.length;ae++)U[ae]=""}}}}return tr(_)}catch{return y}}var Di={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gr;function yr(){}j(yr,il),yr.prototype.g=function(){return new XMLHttpRequest},yr.prototype.i=function(){return{}},gr=new yr;function mn(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yt}function yt(){this.i=null,this.g="",this.h=!1}var cl={},Na={};function nr(c,y,_){c.L=1,c.v=Us(In(y)),c.m=_,c.P=!0,Fr(c,null)}function Fr(c,y){c.F=Date.now(),Vs(c),c.A=In(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),gl(_.i,"t",b),c.C=0,_=c.j.J,c.h=new yt,c.g=Ac(c.j,_?y:null,!c.m),0<c.O&&(c.M=new ld(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Ds[0]=U.toString()),U=Ds);for(var Q=0;Q<U.length;Q++){var ae=rc(_,U[Q],b||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ci(),ul(c.i,c.u,c.A,c.l,c.R,c.m)}mn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Fn(c)==3?y.j():this.Y(c)},mn.prototype.Y=function(c){try{if(c==this.g)e:{const Mt=Fn(this.g);var y=this.g.Ba();const Zr=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||mc(this.g)))){this.J||Mt!=4||y==7||(y==8||0>=Zr?Ci(3):Ci(2)),Ni(this);var _=this.g.Z();this.X=_;t:if(lc(this)){var b=mc(this.g);c="";var U=b.length,Q=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$t(this),_r(this);var ae="";break t}this.h.i=new p.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Q&&y==U-1)});b.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,ud(this.i,this.u,this.A,this.l,this.R,Mt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Ot=this.g;if((Ue=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ue)){var je=Ue;break t}}je=null}if(_=je)xi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ps(this,_);else{this.o=!1,this.s=3,ot(12),$t(this),_r(this);break e}}if(this.P){_=!0;let Qt;for(;!this.J&&this.C<ae.length;)if(Qt=uc(this,ae),Qt==Na){Mt==4&&(this.s=4,ot(14),_=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==cl){this.s=4,ot(15),xi(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else xi(this.i,this.l,Qt,null),Ps(this,Qt);if(lc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||ae.length!=0||this.h.h||(this.s=1,ot(16),_=!1),this.o=this.o&&_,!_)xi(this.i,this.l,ae,"[Invalid Chunked Response]"),$t(this),_r(this);else if(0<ae.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),$s(jt),jt.M=!0,ot(11))}}else xi(this.i,this.l,ae,null),Ps(this,ae);Mt==4&&$t(this),this.o&&!this.J&&(Mt==4?Ec(this.j,this):(this.o=!1,Vs(this)))}else pd(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),$t(this),_r(this)}}}catch{}finally{}};function lc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function uc(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?Na:(_=Number(y.substring(_,b)),isNaN(_)?cl:(b+=1,b+_>y.length?Na:(y=y.slice(b,b+_),c.C=b+_,y)))}mn.prototype.cancel=function(){this.J=!0,$t(this)};function Vs(c){c.S=Date.now()+c.I,cc(c,c.I)}function cc(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Tt(w(c.ba,c),y)}function Ni(c){c.B&&(p.clearTimeout(c.B),c.B=null)}mn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(oc(this.i,this.A),this.L!=2&&(Ci(),ot(17)),$t(this),this.s=2,_r(this)):cc(this,this.S-c)};function _r(c){c.j.G==0||c.J||Ec(c.j,c)}function $t(c){Ni(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ns(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ps(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||hl(_.h,c))){if(!c.K&&hl(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ha(_),Ba(_);else break e;Tl(_),ot(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=Tt(w(_.Za,_),6e3));if(1>=Ma(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Wr(_,11)}else if((c.K||_.g==c)&&Ha(_),!W(y))for(U=_.Da.g.parse(y),y=0;y<U.length;y++){let je=U[y];if(_.T=je[0],je=je[1],_.G==2)if(je[0]=="c"){_.K=je[1],_.ia=je[2];const jt=je[3];jt!=null&&(_.la=jt,_.j.info("VER="+_.la));const Mt=je[4];Mt!=null&&(_.Aa=Mt,_.j.info("SVER="+_.Aa));const Zr=je[5];Zr!=null&&typeof Zr=="number"&&0<Zr&&(b=1.5*Zr,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Qt=c.g;if(Qt){const br=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(br){var Q=b.h;Q.g||br.indexOf("spdy")==-1&&br.indexOf("quic")==-1&&br.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Va(Q,Q.h),Q.h=null))}if(b.D){const Al=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Al&&(b.ya=Al,We(b.I,b.D,Al))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var ae=c;if(b.qa=Sc(b,b.J?b.ia:null,b.W),ae.K){gn(b.h,ae);var Ue=ae,Ot=b.L;Ot&&(Ue.I=Ot),Ue.B&&(Ni(Ue),Vs(Ue)),b.g=ae}else _c(b);0<_.i.length&&qa(_)}else je[0]!="stop"&&je[0]!="close"||Wr(_,7);else _.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Wr(_,7):vl(_):je[0]!="noop"&&_.l&&_.l.ta(je),_.v=0)}}Ci(4)}catch{}}var hc=class{constructor(c,y){this.g=c,this.map=y}};function Gr(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ma(c){return c.h?1:c.g?c.g.size:0}function hl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Va(c,y){c.g?c.g.add(y):c.h=y}function gn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Gr.prototype.cancel=function(){if(this.i=fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function fl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return $(c.i)}function cd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function Pa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function dl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Pa(c),b=cd(c),U=b.length,Q=0;Q<U;Q++)y.call(void 0,b[Q],_&&_[Q],c)}var ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hd(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),U=null;if(0<=b){var Q=c[_].substring(0,b);U=c[_].substring(b+1)}else Q=c[_];y(Q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function St(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof St){this.h=c.h,Ls(this,c.j),this.o=c.o,this.g=c.g,Oi(this,c.s),this.l=c.l;var y=c.i,_=new Qr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),$r(this,_),this.m=c.m}else c&&(y=String(c).match(ks))?(this.h=!1,Ls(this,y[1]||"",!0),this.o=Bn(y[2]||""),this.g=Bn(y[3]||"",!0),Oi(this,y[4]),this.l=Bn(y[5]||"",!0),$r(this,y[6]||"",!0),this.m=Bn(y[7]||"")):(this.h=!1,this.i=new Qr(null,this.h))}St.prototype.toString=function(){var c=[],y=this.j;y&&c.push(js(y,pl,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(js(y,pl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(js(_,_.charAt(0)=="/"?fd:ml,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",js(_,ka)),c.join("")};function In(c){return new St(c)}function Ls(c,y,_){c.j=_?Bn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Oi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function $r(c,y,_){y instanceof Qr?(c.i=y,dc(c.i,c.h)):(_||(y=js(y,dd)),c.i=new Qr(y,c.h))}function We(c,y,_){c.i.set(y,_)}function Us(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Bn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function js(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,fc),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var pl=/[#\/\?@]/g,ml=/[#\?:]/g,fd=/[#\?]/g,dd=/[#\?@]/g,ka=/#/g;function Qr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function qn(c){c.g||(c.g=new Map,c.h=0,c.i&&hd(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Qr.prototype,r.add=function(c,y){qn(this),this.i=null,c=vr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Kr(c,y){qn(c),y=vr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Yr(c,y){return qn(c),y=vr(c,y),c.g.has(y)}r.forEach=function(c,y){qn(this),this.g.forEach(function(_,b){_.forEach(function(U){c.call(y,U,b,this)},this)},this)},r.na=function(){qn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const U=c[b];for(let Q=0;Q<U.length;Q++)_.push(y[b])}return _},r.V=function(c){qn(this);let y=[];if(typeof c=="string")Yr(this,c)&&(y=y.concat(this.g.get(vr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return qn(this),this.i=null,c=vr(this,c),Yr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function gl(c,y,_){Kr(c,y),0<_.length&&(c.i=null,c.g.set(vr(c,y),$(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const Q=encodeURIComponent(String(b)),ae=this.V(b);for(b=0;b<ae.length;b++){var U=Q;ae[b]!==""&&(U+="="+encodeURIComponent(String(ae[b]))),c.push(U)}}return this.i=c.join("&")};function vr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function dc(c,y){y&&!c.j&&(qn(c),c.i=null,c.g.forEach(function(_,b){var U=b.toLowerCase();b!=U&&(Kr(this,b),gl(this,U,_))},c)),c.j=y}function zs(c,y){const _=new zn;if(p.Image){const b=new Image;b.onload=O(Hn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=O(Hn,_,"TestLoadImage: error",!1,y,b),b.onabort=O(Hn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=O(Hn,_,"TestLoadImage: timeout",!1,y,b),p.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function rr(c,y){const _=new zn,b=new AbortController,U=setTimeout(()=>{b.abort(),Hn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Q=>{clearTimeout(U),Q.ok?Hn(_,"TestPingServer: ok",!0,y):Hn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Hn(_,"TestPingServer: error",!1,y)})}function Hn(c,y,_,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(_)}catch{}}function Bs(){this.g=new Os}function Er(c,y,_){const b=_||"";try{dl(c,function(U,Q){let ae=U;g(U)&&(ae=tr(U)),y.push(b+Q+"="+encodeURIComponent(ae))})}catch(U){throw y.push(b+"type="+encodeURIComponent("_badmap")),U}}function Mi(c){this.l=c.Ub||null,this.j=c.eb||!1}j(Mi,il),Mi.prototype.g=function(){return new Xr(this.l,this.j)},Mi.prototype.i=function(c){return function(){return c}}({});function Xr(c,y){dt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Xr,dt),r=Xr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Sr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Sr(this)),this.g&&(this.readyState=3,Sr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function yl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Tr(this):Sr(this),this.readyState==3&&yl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Tr(this))},r.Qa=function(c){this.g&&(this.response=c,Tr(this))},r.ga=function(){this.g&&Tr(this)};function Tr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Sr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Sr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function _l(c){let y="";return de(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Ut(c,y,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=_l(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):We(c,y,_))}function Ge(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Ge,dt);var La=/^https?$/i,qs=["POST","PUT"];r=Ge.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gr.g(),this.v=this.o?sl(this.o):sl(gr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){pc(this,Q);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)_.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())_.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),U=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(qs,y,void 0))||b||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of _)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){pc(this,Q)}};function pc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ua(c),Ar(c)}function Ua(c){c.A||(c.A=!0,Ke(c,"complete"),Ke(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ke(this,"complete"),Ke(this,"abort"),Ar(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ar(this,!0)),Ge.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ja(this):this.bb())},r.bb=function(){ja(this)};function ja(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Fn(c)!=4||c.Z()!=2)){if(c.u&&Fn(c)==4)an(c.Ea,0,c);else if(Ke(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var b;if(b=ae===0){var U=String(c.D).match(ks)[1]||null;!U&&p.self&&p.self.location&&(U=p.self.location.protocol.slice(0,-1)),b=!La.test(U?U.toLowerCase():"")}_=b}if(_)Ke(c,"complete"),Ke(c,"success");else{c.m=6;try{var Q=2<Fn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Ua(c)}}finally{Ar(c)}}}}function Ar(c,y){if(c.g){Hs(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ke(c,"ready");try{_.onreadystatechange=b}catch{}}}function Hs(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),xa(y)}};function mc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pd(c){const y={};c=(c.g&&2<=Fn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(W(c[b]))continue;var _=P(c[b]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[U]||[];y[U]=Q,Q.push(_)}x(y,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function za(c){this.Aa=0,this.i=[],this.j=new zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fs("baseRetryDelayMs",5e3,c),this.cb=Fs("retryDelaySeedMs",1e4,c),this.Wa=Fs("forwardChannelMaxRetries",2,c),this.wa=Fs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Gr(c&&c.concurrentRequestLimit),this.Da=new Bs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=za.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,b){ot(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Sc(this,null,this.W),qa(this)};function vl(c){if(gc(c),c.G==3){var y=c.U++,_=In(c.I);if(We(_,"SID",c.K),We(_,"RID",y),We(_,"TYPE","terminate"),Gs(c,_),y=new mn(c,c.j,y),y.L=2,y.v=Us(In(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=y.v,_=!0),_||(y.g=Ac(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Vs(y)}Tc(c)}function Ba(c){c.g&&($s(c),c.g.cancel(),c.g=null)}function gc(c){Ba(c),c.u&&(p.clearTimeout(c.u),c.u=null),Ha(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function qa(c){if(!Oa(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||N(),me||(oe(),me=!0),Ce.add(y,c),c.B=0}}function md(c,y){return Ma(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Tt(w(c.Ga,c,y),Sl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new mn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=R(Q),V(Q,this.S)):Q=this.S),this.m!==null||this.O||(U.H=Q,Q=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=yc(this,U,y),_=In(this.I),We(_,"RID",c),We(_,"CVER",22),this.D&&We(_,"X-HTTP-Session-Id",this.D),Gs(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(_l(Q)))+"&"+y:this.m&&Ut(_,this.m,Q)),Va(this.h,U),this.Ua&&We(_,"TYPE","init"),this.P?(We(_,"$req",y),We(_,"SID","null"),U.T=!0,nr(U,_,null)):nr(U,_,y),this.G=2}}else this.G==3&&(c?El(this,c):this.i.length==0||Oa(this.h)||El(this))};function El(c,y){var _;y?_=y.l:_=c.U++;const b=In(c.I);We(b,"SID",c.K),We(b,"RID",_),We(b,"AID",c.T),Gs(c,b),c.m&&c.o&&Ut(b,c.m,c.o),_=new mn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=yc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Va(c.h,_),nr(_,b,y)}function Gs(c,y){c.H&&de(c.H,function(_,b){We(y,b,_)}),c.l&&dl({},function(_,b){We(y,b,_)})}function yc(c,y,_){_=Math.min(c.i.length,_);var b=c.l?w(c.l.Na,c.l,c):null;e:{var U=c.i;let Q=-1;for(;;){const ae=["count="+_];Q==-1?0<_?(Q=U[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Ue=!0;for(let Ot=0;Ot<_;Ot++){let je=U[Ot].g;const jt=U[Ot].map;if(je-=Q,0>je)Q=Math.max(0,U[Ot].g-100),Ue=!1;else try{Er(jt,ae,"req"+je+"_")}catch{b&&b(jt)}}if(Ue){b=ae.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,b}function _c(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||N(),me||(oe(),me=!0),Ce.add(y,c),c.v=0}}function Tl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Tt(w(c.Fa,c),Sl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,vc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Tt(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),Ba(this),vc(this))};function $s(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function vc(c){c.g=new mn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=In(c.qa);We(y,"RID","rpc"),We(y,"SID",c.K),We(y,"AID",c.T),We(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(y,"TO",c.ja),We(y,"TYPE","xmlhttp"),Gs(c,y),c.m&&c.o&&Ut(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Us(In(y)),_.m=null,_.P=!0,Fr(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Ba(this),Tl(this),ot(19))};function Ha(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function Ec(c,y){var _=null;if(c.g==y){Ha(c),$s(c),c.g=null;var b=2}else if(hl(c.h,y))_=y.D,gn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var U=c.B;b=Ii(),Ke(b,new Nt(b,_)),qa(c)}else _c(c);else if(U=y.s,U==3||U==0&&0<y.X||!(b==1&&md(c,y)||b==2&&Tl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),U){case 1:Wr(c,5);break;case 4:Wr(c,10);break;case 3:Wr(c,6);break;default:Wr(c,2)}}}function Sl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Wr(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),b=c.Xa;const U=!b;b=new St(b||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ls(b,"https"),Us(b),U?zs(b.toString(),_):rr(b.toString(),_)}else ot(2);c.G=0,c.l&&c.l.sa(y),Tc(c),gc(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Tc(c){if(c.G=0,c.ka=[],c.l){const y=fl(c.h);(y.length!=0||c.i.length!=0)&&(H(c.ka,y),H(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function Sc(c,y,_){var b=_ instanceof St?In(_):new St(_);if(b.g!="")y&&(b.g=y+"."+b.g),Oi(b,b.s);else{var U=p.location;b=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var Q=new St(null);b&&Ls(Q,b),y&&(Q.g=y),U&&Oi(Q,U),_&&(Q.l=_),b=Q}return _=c.D,y=c.ya,_&&y&&We(b,_,y),We(b,"VER",c.la),Gs(c,b),b}function Ac(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ge(new Mi({eb:_})):new Ge(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wc(){}r=wc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Fa(){}Fa.prototype.g=function(c,y){return new yn(c,y)};function yn(c,y){dt.call(this),this.g=new za(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!W(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!W(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new wr(this)}j(yn,dt),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){vl(this.g)},yn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=tr(c),c=_);y.i.push(new hc(y.Ya++,c)),y.G==3&&qa(y)},yn.prototype.N=function(){this.g.l=null,delete this.j,vl(this.g),delete this.g,yn.aa.N.call(this)};function bc(c){qr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}j(bc,qr);function Rc(){ol.call(this),this.status=1}j(Rc,ol);function wr(c){this.g=c}j(wr,wc),wr.prototype.ua=function(){Ke(this.g,"a")},wr.prototype.ta=function(c){Ke(this.g,new bc(c))},wr.prototype.sa=function(c){Ke(this.g,new Rc)},wr.prototype.ra=function(){Ke(this.g,"b")},Fa.prototype.createWebChannel=Fa.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,w1=function(){return new Fa},A1=function(){return Ii()},S1=mr,Wm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Di.NO_ERROR=0,Di.TIMEOUT=8,Di.HTTP_ERROR=6,Kh=Di,Hr.COMPLETE="complete",T1=Hr,al.EventType=Br,Br.OPEN="a",Br.CLOSE="b",Br.ERROR="c",Br.MESSAGE="d",dt.prototype.listen=dt.prototype.K,mu=al,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,E1=Ge}).apply(typeof Nh<"u"?Nh:typeof self<"u"?self:typeof window<"u"?window:{});const j0="@firebase/firestore",z0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new Cg("@firebase/firestore");function To(){return Ea.logLevel}function fe(r,...e){if(Ea.logLevel<=Pe.DEBUG){const n=e.map(jg);Ea.debug(`Firestore (${Wo}): ${r}`,...n)}}function Si(r,...e){if(Ea.logLevel<=Pe.ERROR){const n=e.map(jg);Ea.error(`Firestore (${Wo}): ${r}`,...n)}}function Lo(r,...e){if(Ea.logLevel<=Pe.WARN){const n=e.map(jg);Ea.warn(`Firestore (${Wo}): ${r}`,...n)}}function jg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,b1(r,s,n)}function b1(r,e,n){let s=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Si(s),new Error(s)}function Qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||b1(e,o,s)}function Re(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fn.UNAUTHENTICATED))}shutdown(){}}class o2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class l2{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _i,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _i)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new R1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class u2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class c2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new u2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class h2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new B0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new B0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=f2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(r,e){return r<e?-1:r>e?1:0}function Zm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return bm(o)===bm(u)?ke(o,u):bm(o)?1:-1}return ke(r.length,e.length)}const d2=55296,p2=57343;function bm(r){const e=r.charCodeAt(0);return e>=d2&&e<=p2}function Uo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="__name__";class Nr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Nr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Nr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=Nr.isNumericId(e),o=Nr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Nr.extractNumericId(e).compare(Nr.extractNumericId(n)):Zm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ds.fromString(e.substring(4,e.length-2))}}class it extends Nr{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new it(n)}static emptyPath(){return new it([])}}const m2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Nr{construct(e,n,s){return new nn(e,n,s)}static isValidIdentifier(e){return m2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===q0}static keyField(){return new nn([q0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new he(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new he(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new he(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(it.fromString(e))}static fromName(e){return new _e(it.fromString(e).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(r,e,n){if(!n)throw new he(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function g2(r,e,n,s){if(e===!0&&s===!0)throw new he(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function H0(r){if(!_e.isDocumentKey(r))throw new he(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function F0(r){if(_e.isDocumentKey(r))throw new he(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function C1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function jf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ae(12329,{type:typeof r})}function Ln(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jf(r);throw new he(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(r,e){const n={typeString:r};return e&&(n.value=e),n}function Xu(r,e){if(!C1(r))throw new he(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new he(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=-62135596800,$0=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*$0);return new nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<G0)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$0}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xu(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-G0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:Ct("string",nt._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new nt(0,0))}static max(){return new be(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=-1;function y2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new nt(n+1,0):new nt(n,s));return new ms(o,_e.empty(),e)}function _2(r){return new ms(r.readTime,r.key,Ou)}class ms{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ms(be.min(),_e.empty(),Ou)}static max(){return new ms(be.max(),_e.empty(),Ou)}}function v2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(r.documentKey,e.documentKey),n!==0?n:ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==E2)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,s)=>{n(e)})}static reject(e){return new te((n,s)=>{s(e)})}static waitFor(e){return new te((n,s)=>{let o=0,u=0,f=!1;e.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},m=>s(m))}),f=!0,u===o&&n()})}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next(o=>o?te.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new te((s,o)=>{const u=e.length,f=new Array(u);let p=0;for(let m=0;m<u;m++){const g=m;n(e[g]).next(v=>{f[g]=v,++p,p===u&&s(f)},v=>o(v))}})}static doWhile(e,n){return new te((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function S2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Jo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=-1;function Bf(r){return r==null}function pf(r){return r===0&&1/r==-1/0}function A2(r){return typeof r=="number"&&Number.isInteger(r)&&!pf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="";function w2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Q0(e)),e=b2(r.get(n),e);return Q0(e)}function b2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case x1:n+="";break;default:n+=u}}return n}function Q0(r){return r+x1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ws(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function D1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oh(this.root,e,this.comparator,!0)}}class Oh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??tn.RED,this.left=o??tn.EMPTY,this.right=u??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new tn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Y0(this.data.getIterator())}getIteratorFrom(e){return new Y0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class Y0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new kn([])}unionWith(e){let n=new kt(nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new N1("Invalid base64 string: "+u):u}}(e);return new rn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const R2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=R2.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(r.seconds),nanos:Et(r.nanos)}}function Et(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ys(r){return typeof r=="string"?rn.fromBase64String(r):rn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="server_timestamp",M1="__type__",V1="__previous_value__",P1="__local_write_time__";function qg(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[M1])==null?void 0:s.stringValue)===O1}function qf(r){const e=r.mapValue.fields[V1];return qg(e)?qf(e):e}function Mu(r){const e=gs(r.mapValue.fields[P1].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n,s,o,u,f,p,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const mf="(default)";class Vu{constructor(e,n){this.projectId=e,this.database=n||mf}static empty(){return new Vu("","")}get isDefaultDatabase(){return this.database===mf}isEqual(e){return e instanceof Vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="__type__",C2="__max__",Mh={mapValue:{}},L1="__vector__",gf="value";function _s(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qg(r)?4:D2(r)?9007199254740991:x2(r)?10:11:Ae(28295,{value:r})}function jr(r,e){if(r===e)return!0;const n=_s(r);if(n!==_s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Mu(r).isEqual(Mu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=gs(o.timestampValue),p=gs(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ys(o.bytesValue).isEqual(ys(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Et(o.doubleValue),p=Et(u.doubleValue);return f===p?pf(f)===pf(p):isNaN(f)&&isNaN(p)}return!1}(r,e);case 9:return Uo(r.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(K0(f)!==K0(p))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(p[m]===void 0||!jr(f[m],p[m])))return!1;return!0}(r,e);default:return Ae(52216,{left:r})}}function Pu(r,e){return(r.values||[]).find(n=>jr(n,e))!==void 0}function jo(r,e){if(r===e)return 0;const n=_s(r),s=_s(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return function(u,f){const p=Et(u.integerValue||u.doubleValue),m=Et(f.integerValue||f.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(r,e);case 3:return X0(r.timestampValue,e.timestampValue);case 4:return X0(Mu(r),Mu(e));case 5:return Zm(r.stringValue,e.stringValue);case 6:return function(u,f){const p=ys(u),m=ys(f);return p.compareTo(m)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const p=u.split("/"),m=f.split("/");for(let g=0;g<p.length&&g<m.length;g++){const v=ke(p[g],m[g]);if(v!==0)return v}return ke(p.length,m.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const p=ke(Et(u.latitude),Et(f.latitude));return p!==0?p:ke(Et(u.longitude),Et(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return W0(r.arrayValue,e.arrayValue);case 10:return function(u,f){var w,O,j,$;const p=u.fields||{},m=f.fields||{},g=(w=p[gf])==null?void 0:w.arrayValue,v=(O=m[gf])==null?void 0:O.arrayValue,T=ke(((j=g==null?void 0:g.values)==null?void 0:j.length)||0,(($=v==null?void 0:v.values)==null?void 0:$.length)||0);return T!==0?T:W0(g,v)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Mh.mapValue&&f===Mh.mapValue)return 0;if(u===Mh.mapValue)return 1;if(f===Mh.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),g=f.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let T=0;T<m.length&&T<v.length;++T){const w=Zm(m[T],v[T]);if(w!==0)return w;const O=jo(p[m[T]],g[v[T]]);if(O!==0)return O}return ke(m.length,v.length)}(r.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function X0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const n=gs(r),s=gs(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function W0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=jo(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function zo(r){return Jm(r)}function Jm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=gs(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ys(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return _e.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Jm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Jm(n.fields[f])}`;return o+"}"}(r.mapValue):Ae(61005,{value:r})}function Yh(r){switch(_s(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qf(r);return e?16+Yh(e):16;case 5:return 2*r.stringValue.length;case 6:return ys(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Yh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ws(s.fields,(u,f)=>{o+=u.length+Yh(f)}),o}(r.mapValue);default:throw Ae(13486,{value:r})}}function Z0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function eg(r){return!!r&&"integerValue"in r}function Hg(r){return!!r&&"arrayValue"in r}function J0(r){return!!r&&"nullValue"in r}function eT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Xh(r){return!!r&&"mapValue"in r}function x2(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[k1])==null?void 0:s.stringValue)===L1}function Su(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ws(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Su(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Su(r.arrayValue.values[n]);return e}return{...r}}function D2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===C2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Xh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Su(n)}setAll(e){let n=nn.emptyPath(),s={},o=[];e.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=Su(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Xh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Xh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ws(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new wn(Su(this.value))}}function U1(r){const e=[];return ws(r.fields,(n,s)=>{const o=new nn([n]);if(Xh(s)){const u=U1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,s,o,u,f,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new dn(e,0,be.min(),be.min(),be.min(),wn.empty(),0)}static newFoundDocument(e,n,s,o){return new dn(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new dn(e,2,n,be.min(),be.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,be.min(),be.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n){this.position=e,this.inclusive=n}}function tT(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(f.referenceValue),n.key):s=jo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function nT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!jr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n="asc"){this.field=e,this.dir=n}}function N2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{}class It extends j1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new M2(e,n,s):n==="array-contains"?new k2(e,s):n==="in"?new L2(e,s):n==="not-in"?new U2(e,s):n==="array-contains-any"?new j2(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new V2(e,s):new P2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(jo(n,this.value)):n!==null&&_s(this.value)===_s(n)&&this.matchesComparison(jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends j1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new dr(e,n)}matches(e){return z1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function z1(r){return r.op==="and"}function B1(r){return O2(r)&&z1(r)}function O2(r){for(const e of r.filters)if(e instanceof dr)return!1;return!0}function tg(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+zo(r.value);if(B1(r))return r.filters.map(e=>tg(e)).join(",");{const e=r.filters.map(n=>tg(n)).join(",");return`${r.op}(${e})`}}function q1(r,e){return r instanceof It?function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&jr(s.value,o.value)}(r,e):r instanceof dr?function(s,o){return o instanceof dr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&q1(f,o.filters[p]),!0):!1}(r,e):void Ae(19439)}function H1(r){return r instanceof It?function(n){return`${n.field.canonicalString()} ${n.op} ${zo(n.value)}`}(r):r instanceof dr?function(n){return n.op.toString()+" {"+n.getFilters().map(H1).join(" ,")+"}"}(r):"Filter"}class M2 extends It{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class V2 extends It{constructor(e,n){super(e,"in",n),this.keys=F1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class P2 extends It{constructor(e,n){super(e,"not-in",n),this.keys=F1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function F1(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>_e.fromName(s.referenceValue))}class k2 extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hg(n)&&Pu(n.arrayValue,this.value)}}class L2 extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pu(this.value.arrayValue,n)}}class U2 extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pu(this.value.arrayValue,n)}}class j2 extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Pu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n=null,s=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function rT(r,e=null,n=[],s=[],o=null,u=null,f=null){return new z2(r,e,n,s,o,u,f)}function Fg(r){const e=Re(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>tg(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Bf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>zo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>zo(s)).join(",")),e.Te=n}return e.Te}function Gg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!N2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!q1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!nT(r.startAt,e.startAt)&&nT(r.endAt,e.endAt)}function ng(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n=null,s=[],o=[],u=null,f="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function B2(r,e,n,s,o,u,f,p){return new Wu(r,e,n,s,o,u,f,p)}function Hf(r){return new Wu(r)}function iT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function G1(r){return r.collectionGroup!==null}function Au(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new kt(nn.comparator);return f.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new _f(u,s))}),n.has(nn.keyField().canonicalString())||e.Ie.push(new _f(nn.keyField(),s))}return e.Ie}function Pr(r){const e=Re(r);return e.Ee||(e.Ee=q2(e,Au(r))),e.Ee}function q2(r,e){if(r.limitType==="F")return rT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new _f(o.field,u)});const n=r.endAt?new yf(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new yf(r.startAt.position,r.startAt.inclusive):null;return rT(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function rg(r,e){const n=r.filters.concat([e]);return new Wu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function ig(r,e,n){return new Wu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ff(r,e){return Gg(Pr(r),Pr(e))&&r.limitType===e.limitType}function $1(r){return`${Fg(Pr(r))}|lt:${r.limitType}`}function So(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>H1(o)).join(", ")}]`),Bf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>zo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>zo(o)).join(",")),`Target(${s})`}(Pr(r))}; limitType=${r.limitType})`}function Gf(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Au(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,p,m){const g=tT(f,p,m);return f.inclusive?g<=0:g<0}(s.startAt,Au(s),o)||s.endAt&&!function(f,p,m){const g=tT(f,p,m);return f.inclusive?g>=0:g>0}(s.endAt,Au(s),o))}(r,e)}function H2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Q1(r){return(e,n)=>{let s=!1;for(const o of Au(r)){const u=F2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function F2(r,e,n){const s=r.field.isKeyField()?_e.comparator(e.key,n.key):function(u,f,p){const m=f.data.field(u),g=p.data.field(u);return m!==null&&g!==null?jo(m,g):Ae(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return D1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=new ft(_e.comparator);function Ai(){return G2}const K1=new ft(_e.comparator);function gu(...r){let e=K1;for(const n of r)e=e.insert(n.key,n);return e}function Y1(r){let e=K1;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ca(){return wu()}function X1(){return wu()}function wu(){return new wa(r=>r.toString(),(r,e)=>r.isEqual(e))}const $2=new ft(_e.comparator),Q2=new kt(_e.comparator);function Le(...r){let e=Q2;for(const n of r)e=e.add(n);return e}const K2=new kt(ke);function Y2(){return K2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pf(e)?"-0":e}}function W1(r){return{integerValue:""+r}}function X2(r,e){return A2(e)?W1(e):$g(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(){this._=void 0}}function W2(r,e,n){return r instanceof ku?function(o,u){const f={fields:{[M1]:{stringValue:O1},[P1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&qg(u)&&(u=qf(u)),u&&(f.fields[V1]=u),{mapValue:f}}(n,e):r instanceof Lu?J1(r,e):r instanceof Uu?eA(r,e):function(o,u){const f=Z1(o,u),p=sT(f)+sT(o.Ae);return eg(f)&&eg(o.Ae)?W1(p):$g(o.serializer,p)}(r,e)}function Z2(r,e,n){return r instanceof Lu?J1(r,e):r instanceof Uu?eA(r,e):n}function Z1(r,e){return r instanceof vf?function(s){return eg(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class ku extends $f{}class Lu extends $f{constructor(e){super(),this.elements=e}}function J1(r,e){const n=tA(e);for(const s of r.elements)n.some(o=>jr(o,s))||n.push(s);return{arrayValue:{values:n}}}class Uu extends $f{constructor(e){super(),this.elements=e}}function eA(r,e){let n=tA(e);for(const s of r.elements)n=n.filter(o=>!jr(o,s));return{arrayValue:{values:n}}}class vf extends $f{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function sT(r){return Et(r.integerValue||r.doubleValue)}function tA(r){return Hg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n){this.field=e,this.transform=n}}function eO(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Lu&&o instanceof Lu||s instanceof Uu&&o instanceof Uu?Uo(s.elements,o.elements,jr):s instanceof vf&&o instanceof vf?jr(s.Ae,o.Ae):s instanceof ku&&o instanceof ku}(r.transform,e.transform)}class tO{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Qf{}function nA(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new iA(r.key,cr.none()):new Zu(r.key,r.data,cr.none());{const n=r.data,s=wn.empty();let o=new kt(nn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new bs(r.key,s,new kn(o.toArray()),cr.none())}}function nO(r,e,n){r instanceof Zu?function(o,u,f){const p=o.value.clone(),m=oT(o.fieldTransforms,u,f.transformResults);p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):r instanceof bs?function(o,u,f){if(!Wh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=oT(o.fieldTransforms,u,f.transformResults),m=u.data;m.setAll(rA(o)),m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function bu(r,e,n,s){return r instanceof Zu?function(u,f,p,m){if(!Wh(u.precondition,f))return p;const g=u.value.clone(),v=lT(u.fieldTransforms,m,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof bs?function(u,f,p,m){if(!Wh(u.precondition,f))return p;const g=lT(u.fieldTransforms,m,f),v=f.data;return v.setAll(rA(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(r,e,n,s):function(u,f,p){return Wh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,e,n)}function rO(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Z1(s.transform,o||null);u!=null&&(n===null&&(n=wn.empty()),n.set(s.field,u))}return n||null}function aT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Uo(s,o,(u,f)=>eO(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Zu extends Qf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class bs extends Qf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function rA(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function oT(r,e,n){const s=new Map;Qe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=e.data.field(u.field);s.set(u.field,Z2(f,p,n[o]))}return s}function lT(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,W2(u,f,e))}return s}class iA extends Qf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iO extends Qf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&nO(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=bu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=bu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=X1();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const m=nA(f,p);m!==null&&s.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,(n,s)=>aT(n,s))&&Uo(this.baseMutations,e.baseMutations,(n,s)=>aT(n,s))}}class Qg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return $2}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Qg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Be;function lO(r){switch(r){case Z.OK:return Ae(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ae(15467,{code:r})}}function sA(r){if(r===void 0)return Si("GRPC error has no .code"),Z.UNKNOWN;switch(r){case bt.OK:return Z.OK;case bt.CANCELLED:return Z.CANCELLED;case bt.UNKNOWN:return Z.UNKNOWN;case bt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case bt.INTERNAL:return Z.INTERNAL;case bt.UNAVAILABLE:return Z.UNAVAILABLE;case bt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case bt.NOT_FOUND:return Z.NOT_FOUND;case bt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case bt.ABORTED:return Z.ABORTED;case bt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case bt.DATA_LOSS:return Z.DATA_LOSS;default:return Ae(39323,{code:r})}}(Be=bt||(bt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=new ds([4294967295,4294967295],0);function uT(r){const e=uO().encode(r),n=new v1;return n.update(e),new Uint8Array(n.digest())}function cT(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ds([n,s],0),new ds([o,u],0)]}class Kg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new yu(`Invalid padding: ${n}`);if(s<0)throw new yu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new yu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ds.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ds.fromNumber(s)));return o.compare(cO)===1&&(o=new ds([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=uT(e),[s,o]=cT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Kg(u,o,n);return s.forEach(p=>f.insert(p)),f}insert(e){if(this.ge===0)return;const n=uT(e),[s,o]=cT(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ju.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Kf(be.min(),o,new ft(ke),Ai(),Le())}}class Ju{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ju(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class aA{constructor(e,n){this.targetId=e,this.Ce=n}}class oA{constructor(e,n,s=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class hT{constructor(){this.ve=0,this.Fe=fT(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),s=Le();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:u})}}),new Ju(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=fT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ai(),this.Je=Vh(),this.He=Vh(),this.Ye=new ft(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ng(u))if(s===0){const f=new _e(u.path);this.et(n,f,dn.newNoDocument(f,be.min()))}else Qe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const p=this.ut(e),m=p?this.ct(p,e,f):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=ys(s).toUint8Array()}catch(m){if(m instanceof N1)return Lo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Kg(f,o,u)}catch(m){return Lo(m instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const p=this.ot(f);if(p){if(u.current&&ng(p.target)){const m=new _e(p.target.path);this.It(m).has(f)||this.Et(f,m)||this.et(f,m,dn.newNoDocument(m,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Le();this.He.forEach((u,f)=>{let p=!0;f.forEachWhile(m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new Kf(e,n,this.Ye,this.je,s);return this.je=Ai(),this.Je=Vh(),this.He=Vh(),this.Ye=new ft(ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new hT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Vh(){return new ft(_e.comparator)}function fT(){return new ft(_e.comparator)}const fO={asc:"ASCENDING",desc:"DESCENDING"},dO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pO={and:"AND",or:"OR"};class mO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sg(r,e){return r.useProto3Json||Bf(e)?e:{value:e}}function Ef(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function gO(r,e){return Ef(r,e.toTimestamp())}function kr(r){return Qe(!!r,49232),be.fromTimestamp(function(n){const s=gs(n);return new nt(s.seconds,s.nanos)}(r))}function Yg(r,e){return ag(r,e).canonicalString()}function ag(r,e){const n=function(o){return new it(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function uA(r){const e=it.fromString(r);return Qe(pA(e),10190,{key:e.toString()}),e}function og(r,e){return Yg(r.databaseId,e.path)}function Rm(r,e){const n=uA(e);if(n.get(1)!==r.databaseId.projectId)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _e(hA(n))}function cA(r,e){return Yg(r.databaseId,e)}function yO(r){const e=uA(r);return e.length===4?it.emptyPath():hA(e)}function lg(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function hA(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function dT(r,e,n){return{name:og(r,e),fields:n.value.mapValue.fields}}function _O(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Qe(v===void 0||typeof v=="string",58123),rn.fromBase64String(v||"")):(Qe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),rn.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&function(g){const v=g.code===void 0?Z.UNKNOWN:sA(g.code);return new he(v,g.message||"")}(f);n=new oA(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Rm(r,s.document.name),u=kr(s.document.updateTime),f=s.document.createTime?kr(s.document.createTime):be.min(),p=new wn({mapValue:{fields:s.document.fields}}),m=dn.newFoundDocument(o,u,f,p),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Zh(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Rm(r,s.document),u=s.readTime?kr(s.readTime):be.min(),f=dn.newNoDocument(o,u),p=s.removedTargetIds||[];n=new Zh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Rm(r,s.document),u=s.removedTargetIds||[];n=new Zh([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new oO(o,u),p=s.targetId;n=new aA(p,f)}}return n}function vO(r,e){let n;if(e instanceof Zu)n={update:dT(r,e.key,e.value)};else if(e instanceof iA)n={delete:og(r,e.key)};else if(e instanceof bs)n={update:dT(r,e.key,e.data),updateMask:CO(e.fieldMask)};else{if(!(e instanceof iO))return Ae(16599,{Vt:e.type});n={verify:og(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof ku)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Lu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Uu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof vf)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Ae(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:gO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)}(r,e.precondition)),n}function EO(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?kr(o.updateTime):kr(u);return f.isEqual(be.min())&&(f=kr(u)),new tO(f,o.transformResults||[])}(n,e))):[]}function TO(r,e){return{documents:[cA(r,e.path)]}}function SO(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=cA(r,o);const u=function(g){if(g.length!==0)return dA(dr.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(v=>function(w){return{field:Ao(w.field),direction:bO(w.dir)}}(v))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=sg(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function AO(r){let e=yO(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(T){const w=fA(T);return w instanceof dr&&B1(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(T){return T.map(w=>function(j){return new _f(wo(j.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(w))}(n.orderBy));let p=null;n.limit&&(p=function(T){let w;return w=typeof T=="object"?T.value:T,Bf(w)?null:w}(n.limit));let m=null;n.startAt&&(m=function(T){const w=!!T.before,O=T.values||[];return new yf(O,w)}(n.startAt));let g=null;return n.endAt&&(g=function(T){const w=!T.before,O=T.values||[];return new yf(O,w)}(n.endAt)),B2(e,o,f,u,p,"F",m,g)}function wO(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fA(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=wo(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=wo(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=wo(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=wo(n.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(r):r.fieldFilter!==void 0?function(n){return It.create(wo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return dr.create(n.compositeFilter.filters.map(s=>fA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(n.compositeFilter.op))}(r):Ae(30097,{filter:r})}function bO(r){return fO[r]}function RO(r){return dO[r]}function IO(r){return pO[r]}function Ao(r){return{fieldPath:r.canonicalString()}}function wo(r){return nn.fromServerFormat(r.fieldPath)}function dA(r){return r instanceof It?function(n){if(n.op==="=="){if(eT(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NAN"}};if(J0(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eT(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NAN"}};if(J0(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(n.field),op:RO(n.op),value:n.value}}}(r):r instanceof dr?function(n){const s=n.getFilters().map(o=>dA(o));return s.length===1?s[0]:{compositeFilter:{op:IO(n.op),filters:s}}}(r):Ae(54877,{filter:r})}function CO(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n,s,o,u=be.min(),f=be.min(),p=rn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.yt=e}}function DO(r){const e=AO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ig(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.Cn=new OO}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(ms.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class OO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new kt(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mA=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(mA,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Bo(0)}static cr(){return new Bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="LruGarbageCollector",MO=1048576;function gT([r,e],[n,s]){const o=ke(r,n);return o===0?ke(e,s):o}class VO{constructor(e){this.Ir=e,this.buffer=new kt(gT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();gT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(mT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Jo(n)?fe(mT,"Ignoring IndexedDB error during garbage collection: ",n):await Zo(n)}await this.Vr(3e5)})}}class kO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return te.resolve(zf.ce);const s=new VO(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(pT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,p,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,p=Date.now(),this.removeTargets(e,s,n))).next(T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),To()<=Pe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function LO(r,e){return new kO(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.changes=new wa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&bu(s.mutation,o,kn.empty(),nt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Le()){const o=ca();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=gu();return u.forEach((p,m)=>{f=f.insert(p,m.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=ca();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Le()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(e,n,s,o){let u=Ai();const f=wu(),p=function(){return wu()}();return n.forEach((m,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof bs)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),bu(v.mutation,g,v.mutation.getFieldMask(),nt.now())):f.set(g.key,kn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((g,v)=>f.set(g,v)),n.forEach((g,v)=>p.set(g,new jO(v,f.get(g)??null))),p))}recalculateAndSaveOverlays(e,n){const s=wu();let o=new ft((f,p)=>f-p),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const p of f)p.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let v=s.get(m)||kn.empty();v=p.applyToLocalView(g,v),s.set(m,v);const T=(o.get(p.batchId)||Le()).add(m);o=o.insert(p.batchId,T)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,v=m.value,T=X1();v.forEach(w=>{if(!u.has(w)){const O=nA(n.get(w),s.get(w));O!==null&&T.set(w,O),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return te.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):G1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(ca());let p=Ou,m=u;return f.next(g=>te.forEach(g,(v,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),u.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{m=m.insert(v,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,m,g,Le())).next(v=>({batchId:p,changes:Y1(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(s=>{let o=gu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=gu();return this.indexManager.getCollectionParents(e,u).next(p=>te.forEach(p,m=>{const g=function(T,w){return new Wu(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((T,w)=>{f=f.insert(T,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((m,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,dn.newInvalidDocument(v)))});let p=gu();return f.forEach((m,g)=>{const v=u.get(m);v!==void 0&&bu(v.mutation,g,kn.empty(),nt.now()),Gf(n,g)&&(p=p.insert(m,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:kr(o.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:DO(o.bundledQuery),readTime:kr(o.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.overlays=new ft(_e.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ca();return te.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=ca(),u=n.length+1,f=new _e(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ft((g,v)=>g-v);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ca(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const p=ca(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>p.set(g,v)),!(p.size()>=o)););return te.resolve(p)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new aO(n,s));let u=this.qr.get(n);u===void 0&&(u=Le(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(){this.Qr=new kt(Ht.$r),this.Ur=new kt(Ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ht(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new Ht(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new _e(new it([])),s=new Ht(n,e),o=new Ht(n,e+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new it([])),s=new Ht(n,e),o=new Ht(n,e+1);let u=Le();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Ht(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Ht.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new sO(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new Ht(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Bg:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ht(n,0),o=new Ht(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const p=this.Xr(f.Yr);u.push(p)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new kt(ke);return n.forEach(o=>{const u=new Ht(o,0),f=new Ht(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],p=>{s=s.add(p.Yr)})}),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const f=new Ht(new _e(u),0);let p=new kt(ke);return this.Zr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Yr)),!0)},f),te.resolve(this.ti(p))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,o=>{const u=new Ht(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new Ht(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.ri=e,this.docs=function(){return new ft(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let s=Ai();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():dn.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ai();const f=n.path,p=new _e(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||v2(_2(v),s)<=0||(o.has(v.key)||Gf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ae(9500)}ii(e,n){return te.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new $O(this)}getSize(e){return te.resolve(this.size)}}class $O extends UO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.persistence=e,this.si=new wa(n=>Fg(n),Gg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Xg,this.targetCount=0,this.ai=Bo.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Bo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n){this.ui={},this.overlays={},this.ci=new zf(0),this.li=!1,this.li=!0,this.hi=new HO,this.referenceDelegate=e(this),this.Pi=new QO(this),this.indexManager=new NO,this.remoteDocumentCache=function(o){return new GO(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new xO(n),this.Ii=new BO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new FO(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new KO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return te.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class KO extends T2{constructor(e){super(),this.currentSequenceNumber=e}}class Wg{constructor(e){this.persistence=e,this.Ri=new Xg,this.Vi=null}static mi(e){return new Wg(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,s=>{const o=_e.fromPath(s);return this.gi(e,o).next(u=>{u||n.removeEntry(o,be.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Tf{constructor(e,n){this.persistence=e,this.pi=new wa(s=>w2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=LO(this,n)}static mi(e,n){return new Tf(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return te.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?te.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(p=>{p||(s++,u.removeEntry(f,be.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yh(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Zg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return wC()?8:S2(pn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new YO;return this.Ss(e,n,f).next(p=>{if(u.result=p,this.Vs)return this.bs(e,n,f,p.size)})}).next(()=>u.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(To()<=Pe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",So(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(To()<=Pe.DEBUG&&fe("QueryEngine","Query:",So(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(To()<=Pe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",So(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):te.resolve())}ys(e,n){if(iT(n))return te.resolve(null);let s=Pr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=ig(n,null,"F"),s=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Le(...u);return this.ps.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.Ds(n,p);return this.Cs(n,g,f,m.readTime)?this.ys(e,ig(n,null,"F")):this.vs(e,g,n,m)}))})))}ws(e,n,s,o){return iT(n)||o.isEqual(be.min())?te.resolve(null):this.ps.getDocuments(e,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?te.resolve(null):(To()<=Pe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),So(n)),this.vs(e,f,n,y2(o,Ou)).next(p=>p))})}Ds(e,n){let s=new kt(Q1(e));return n.forEach((o,u)=>{Gf(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return To()<=Pe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",So(n)),this.ps.getDocumentsMatchingQuery(e,n,ms.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="LocalStore",WO=3e8;class ZO{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ft(ke),this.xs=new wa(u=>Fg(u),Gg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function JO(r,e,n,s){return new ZO(r,e,n,s)}async function yA(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let m=Le();for(const g of o){f.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){p.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:p}))})})}function e4(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(p,m,g,v){const T=g.batch,w=T.keys();let O=te.resolve();return w.forEach(j=>{O=O.next(()=>v.getEntry(m,j)).next($=>{const H=g.docVersions.get(j);Qe(H!==null,48541),$.version.compareTo(H)<0&&(T.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),v.addEntry($)))})}),O.next(()=>p.mutationQueue.removeMutationBatch(m,T))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let m=Le();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function _A(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function t4(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach((v,T)=>{const w=o.get(T);if(!w)return;p.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,T).next(()=>n.Pi.addMatchingKeys(u,v.addedDocuments,T)));let O=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(rn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,s)),o=o.insert(T,O),function($,H,J){return $.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=WO?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0}(w,O,v)&&p.push(n.Pi.updateTargetData(u,O))});let m=Ai(),g=Le();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),p.push(n4(u,f,e.documentUpdates).next(v=>{m=v.ks,g=v.qs})),!s.isEqual(be.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next(T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(v)}return te.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(n.Ms=o,u))}function n4(r,e,n){let s=Le(),o=Le();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Ai();return n.forEach((p,m)=>{const g=u.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(be.min())?(e.removeEntry(p,m.readTime),f=f.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),f=f.insert(p,m)):fe(Jg,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)}),{ks:f,qs:o}})}function r4(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Bg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function i4(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new ls(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function ug(r,e,n){const s=Re(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Jo(f))throw f;fe(Jg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function yT(r,e,n){const s=Re(r);let o=be.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",f=>function(m,g,v){const T=Re(m),w=T.xs.get(v);return w!==void 0?te.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,v)}(s,f,Pr(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next(m=>{u=m})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:Le())).next(p=>(s4(s,H2(e),p),{documents:p,Qs:u})))}function s4(r,e,n){let s=r.Os.get(e)||be.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(e,s)}class _T{constructor(){this.activeTargetIds=Y2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a4{constructor(){this.Mo=new _T,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _T,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="ConnectivityMonitor";class ET{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(vT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(vT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph=null;function cg(){return Ph===null?Ph=function(){return 268435456+Math.round(2147483648*Math.random())}():Ph++,"0x"+Ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="RestConnection",l4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class u4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===mf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=cg(),p=this.zo(e,n.toUriEncodedString());fe(Im,`Sending RPC '${e}' ${f}:`,p,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:g}=new URL(p),v=Ko(g);return this.Jo(e,p,m,s,v).then(T=>(fe(Im,`Received RPC '${e}' ${f}: `,T),T),T=>{throw Lo(Im,`RPC '${e}' ${f} failed with error: `,T,"url: ",p,"request:",s),T})}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const s=l4[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class h4 extends u4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=cg();return new Promise((p,m)=>{const g=new E1;g.setWithCredentials(!0),g.listenOnce(T1.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Kh.NO_ERROR:const T=g.getResponseJson();fe(un,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),p(T);break;case Kh.TIMEOUT:fe(un,`RPC '${e}' ${f} timed out`),m(new he(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Kh.HTTP_ERROR:const w=g.getStatus();if(fe(un,`RPC '${e}' ${f} failed with status:`,w,"response text:",g.getResponseText()),w>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const j=O==null?void 0:O.error;if(j&&j.status&&j.message){const $=function(J){const W=J.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(W)>=0?W:Z.UNKNOWN}(j.status);m(new he($,j.message))}else m(new he(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new he(Z.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(un,`RPC '${e}' ${f} completed.`)}});const v=JSON.stringify(o);fe(un,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",v,s,15)})}T_(e,n,s){const o=cg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=w1(),p=A1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=u.join("");fe(un,`Creating RPC '${e}' stream ${o}: ${v}`,m);const T=f.createWebChannel(v,m);this.I_(T);let w=!1,O=!1;const j=new c4({Yo:H=>{O?fe(un,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(w||(fe(un,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),fe(un,`RPC '${e}' stream ${o} sending:`,H),T.send(H))},Zo:()=>T.close()}),$=(H,J,W)=>{H.listen(J,re=>{try{W(re)}catch(ce){setTimeout(()=>{throw ce},0)}})};return $(T,mu.EventType.OPEN,()=>{O||(fe(un,`RPC '${e}' stream ${o} transport opened.`),j.o_())}),$(T,mu.EventType.CLOSE,()=>{O||(O=!0,fe(un,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(T))}),$(T,mu.EventType.ERROR,H=>{O||(O=!0,Lo(un,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),j.a_(new he(Z.UNAVAILABLE,"The operation could not be completed")))}),$(T,mu.EventType.MESSAGE,H=>{var J;if(!O){const W=H.data[0];Qe(!!W,16349);const re=W,ce=(re==null?void 0:re.error)||((J=re[0])==null?void 0:J.error);if(ce){fe(un,`RPC '${e}' stream ${o} received error:`,ce);const le=ce.status;let de=function(I){const V=bt[I];if(V!==void 0)return sA(V)}(le),x=ce.message;de===void 0&&(de=Z.INTERNAL,x="Unknown error status: "+le+" with message "+ce.message),O=!0,j.a_(new he(de,x)),T.close()}else fe(un,`RPC '${e}' stream ${o} received:`,W),j.u_(W)}}),$(p,S1.STAT_EVENT,H=>{H.stat===Wm.PROXY?fe(un,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===Wm.NOPROXY&&fe(un,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.__()},0),j}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(r){return new mO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="PersistentStream";class EA{constructor(e,n,s,o,u,f,p,m){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Si(n.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new he(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return fe(TT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(fe(TT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class f4 extends EA{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_O(this.serializer,e),s=function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?kr(f.readTime):be.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=lg(this.serializer),n.addTarget=function(u,f){let p;const m=f.target;if(p=ng(m)?{documents:TO(u,m)}:{query:SO(u,m).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=lA(u,f.resumeToken);const g=sg(u,f.expectedCount);g!==null&&(p.expectedCount=g)}else if(f.snapshotVersion.compareTo(be.min())>0){p.readTime=Ef(u,f.snapshotVersion.toTimestamp());const g=sg(u,f.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,e);const s=wO(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=lg(this.serializer),n.removeTarget=e,this.q_(n)}}class d4 extends EA{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=EO(e.writeResults,e.commitTime),s=kr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=lg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>vO(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{}class m4 extends p4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,ag(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(Z.UNKNOWN,u.toString())})}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Ho(e,ag(n,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(Z.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class g4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Si(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="RemoteStore";class y4{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{ba(this)&&(fe(Ta,"Restarting streams for network reachability change."),await async function(m){const g=Re(m);g.Ea.add(4),await ec(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Xf(g)}(this))})}),this.Ra=new g4(s,o)}}async function Xf(r){if(ba(r))for(const e of r.da)await e(!0)}async function ec(r){for(const e of r.da)await e(!1)}function TA(r,e){const n=Re(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ry(n)?ny(n):el(n).O_()&&ty(n,e))}function ey(r,e){const n=Re(r),s=el(n);n.Ia.delete(e),s.O_()&&SA(n,e),n.Ia.size===0&&(s.O_()?s.L_():ba(n)&&n.Ra.set("Unknown"))}function ty(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}el(r).Y_(e)}function SA(r,e){r.Va.Ue(e),el(r).Z_(e)}function ny(r){r.Va=new hO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),el(r).start(),r.Ra.ua()}function ry(r){return ba(r)&&!el(r).x_()&&r.Ia.size>0}function ba(r){return Re(r).Ea.size===0}function AA(r){r.Va=void 0}async function _4(r){r.Ra.set("Online")}async function v4(r){r.Ia.forEach((e,n)=>{ty(r,e)})}async function E4(r,e){AA(r),ry(r)?(r.Ra.ha(e),ny(r)):r.Ra.set("Unknown")}async function T4(r,e,n){if(r.Ra.set("Online"),e instanceof oA&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))}(r,e)}catch(s){fe(Ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Sf(r,s)}else if(e instanceof Zh?r.Va.Ze(e):e instanceof aA?r.Va.st(e):r.Va.tt(e),!n.isEqual(be.min()))try{const s=await _A(r.localStore);n.compareTo(s)>=0&&await function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(m.resumeToken,f))}}),p.targetMismatches.forEach((m,g)=>{const v=u.Ia.get(m);if(!v)return;u.Ia.set(m,v.withResumeToken(rn.EMPTY_BYTE_STRING,v.snapshotVersion)),SA(u,m);const T=new ls(v.target,m,g,v.sequenceNumber);ty(u,T)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){fe(Ta,"Failed to raise snapshot:",s),await Sf(r,s)}}async function Sf(r,e,n){if(!Jo(e))throw e;r.Ea.add(1),await ec(r),r.Ra.set("Offline"),n||(n=()=>_A(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{fe(Ta,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Xf(r)})}function wA(r,e){return e().catch(n=>Sf(r,n,e))}async function Wf(r){const e=Re(r),n=vs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bg;for(;S4(e);)try{const o=await r4(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,A4(e,o)}catch(o){await Sf(e,o)}bA(e)&&RA(e)}function S4(r){return ba(r)&&r.Ta.length<10}function A4(r,e){r.Ta.push(e);const n=vs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function bA(r){return ba(r)&&!vs(r).x_()&&r.Ta.length>0}function RA(r){vs(r).start()}async function w4(r){vs(r).ra()}async function b4(r){const e=vs(r);for(const n of r.Ta)e.ea(n.mutations)}async function R4(r,e,n){const s=r.Ta.shift(),o=Qg.from(s,e,n);await wA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Wf(r)}async function I4(r,e){e&&vs(r).X_&&await async function(s,o){if(function(f){return lO(f)&&f!==Z.ABORTED}(o.code)){const u=s.Ta.shift();vs(s).B_(),await wA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Wf(s)}}(r,e),bA(r)&&RA(r)}async function ST(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),fe(Ta,"RemoteStore received new credentials");const s=ba(n);n.Ea.add(3),await ec(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Xf(n)}async function C4(r,e){const n=Re(r);e?(n.Ea.delete(2),await Xf(n)):e||(n.Ea.add(2),await ec(n),n.Ra.set("Unknown"))}function el(r){return r.ma||(r.ma=function(n,s,o){const u=Re(n);return u.sa(),new f4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:_4.bind(null,r),t_:v4.bind(null,r),r_:E4.bind(null,r),H_:T4.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),ry(r)?ny(r):r.Ra.set("Unknown")):(await r.ma.stop(),AA(r))})),r.ma}function vs(r){return r.fa||(r.fa=function(n,s,o){const u=Re(n);return u.sa(),new d4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:w4.bind(null,r),r_:I4.bind(null,r),ta:b4.bind(null,r),na:R4.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Wf(r)):(await r.fa.stop(),r.Ta.length>0&&(fe(Ta,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,p=new iy(e,n,f,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sy(r,e){if(Si("AsyncQueue",`${e}: ${r}`),Jo(r))return new he(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{static emptySet(e){return new Do(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=gu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Do;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.ga=new ft(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class qo{constructor(e,n,s,o,u,f,p,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new qo(e,n,Do.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class D4{constructor(){this.queries=wT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=wT(),u.forEach((f,p)=>{for(const m of p.Sa)m.onError(s)})})(this,new he(Z.ABORTED,"Firestore shutting down"))}}function wT(){return new wa(r=>$1(r),Ff)}async function ay(r,e){const n=Re(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new x4,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=sy(f,`Initialization of query '${So(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&ly(n)}async function oy(r,e){const n=Re(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function N4(r,e){const n=Re(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&ly(n)}function O4(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function ly(r){r.Ca.forEach(e=>{e.next()})}var hg,bT;(bT=hg||(hg={})).Ma="default",bT.Cache="cache";class uy{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new qo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.key=e}}class CA{constructor(e){this.key=e}}class M4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=Q1(e),this.tu=new Do(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new AT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,T)=>{const w=o.get(v),O=Gf(this.query,T)?T:null,j=!!w&&this.mutatedKeys.has(w.key),$=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let H=!1;w&&O?w.data.isEqual(O.data)?j!==$&&(s.track({type:3,doc:O}),H=!0):this.su(w,O)||(s.track({type:2,doc:O}),H=!0,(m&&this.eu(O,m)>0||g&&this.eu(O,g)<0)&&(p=!0)):!w&&O?(s.track({type:0,doc:O}),H=!0):w&&!O&&(s.track({type:1,doc:w}),H=!0,(m||g)&&(p=!0)),H&&(O?(f=f.add(O),u=$?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:f,iu:s,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((v,T)=>function(O,j){const $=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:H})}};return $(O)-$(j)}(v.type,T.type)||this.eu(v.doc,T.doc)),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,f.length!==0||g?{snapshot:new qo(this.query,e.tu,u,f,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new CA(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new IA(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return qo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cy="SyncEngine";class V4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class P4{constructor(e){this.key=e,this.hu=!1}}class k4{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new wa(p=>$1(p),Ff),this.Iu=new Map,this.Eu=new Set,this.du=new ft(_e.comparator),this.Au=new Map,this.Ru=new Xg,this.Vu={},this.mu=new Map,this.fu=Bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function L4(r,e,n=!0){const s=VA(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await xA(s,e,n,!0),o}async function U4(r,e){const n=VA(r);await xA(n,e,!0,!1)}async function xA(r,e,n,s){const o=await i4(r.localStore,Pr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await j4(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&TA(r.remoteStore,o),p}async function j4(r,e,n,s,o){r.pu=(T,w,O)=>async function($,H,J,W){let re=H.view.ru(J);re.Cs&&(re=await yT($.localStore,H.query,!1).then(({documents:x})=>H.view.ru(x,re)));const ce=W&&W.targetChanges.get(H.targetId),le=W&&W.targetMismatches.get(H.targetId)!=null,de=H.view.applyChanges(re,$.isPrimaryClient,ce,le);return IT($,H.targetId,de.au),de.snapshot}(r,T,w,O);const u=await yT(r.localStore,e,!0),f=new M4(e,u.Qs),p=f.ru(u.documents),m=Ju.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(p,r.isPrimaryClient,m);IT(r,n,g.au);const v=new V4(e,n,f);return r.Tu.set(e,v),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function z4(r,e,n){const s=Re(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!Ff(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ug(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ey(s.remoteStore,o.targetId),fg(s,o.targetId)}).catch(Zo)):(fg(s,o.targetId),await ug(s.localStore,o.targetId,!0))}async function B4(r,e){const n=Re(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ey(n.remoteStore,s.targetId))}async function q4(r,e,n){const s=Y4(r);try{const o=await function(f,p){const m=Re(f),g=nt.now(),v=p.reduce((O,j)=>O.add(j.key),Le());let T,w;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>{let j=Ai(),$=Le();return m.Ns.getEntries(O,v).next(H=>{j=H,j.forEach((J,W)=>{W.isValidDocument()||($=$.add(J))})}).next(()=>m.localDocuments.getOverlayedDocuments(O,j)).next(H=>{T=H;const J=[];for(const W of p){const re=rO(W,T.get(W.key).overlayedDocument);re!=null&&J.push(new bs(W.key,re,U1(re.value.mapValue),cr.exists(!0)))}return m.mutationQueue.addMutationBatch(O,g,J,p)}).next(H=>{w=H;const J=H.applyToLocalDocumentSet(T,$);return m.documentOverlayCache.saveOverlays(O,H.batchId,J)})}).then(()=>({batchId:w.batchId,changes:Y1(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,m){let g=f.Vu[f.currentUser.toKey()];g||(g=new ft(ke)),g=g.insert(p,m),f.Vu[f.currentUser.toKey()]=g}(s,o.batchId,n),await tc(s,o.changes),await Wf(s.remoteStore)}catch(o){const u=sy(o,"Failed to persist write");n.reject(u)}}async function DA(r,e){const n=Re(r);try{const s=await t4(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))}),await tc(n,s,e)}catch(s){await Zo(s)}}function RT(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)}),function(f,p){const m=Re(f);m.onlineState=p;let g=!1;m.queries.forEach((v,T)=>{for(const w of T.Sa)w.va(p)&&(g=!0)}),g&&ly(m)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function H4(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ft(_e.comparator);f=f.insert(u,dn.newNoDocument(u,be.min()));const p=Le().add(u),m=new Kf(be.min(),new Map,new ft(ke),f,p);await DA(s,m),s.du=s.du.remove(u),s.Au.delete(e),hy(s)}else await ug(s.localStore,e,!1).then(()=>fg(s,e,n)).catch(Zo)}async function F4(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await e4(n.localStore,e);OA(n,s,null),NA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await tc(n,o)}catch(o){await Zo(o)}}async function G4(r,e,n){const s=Re(r);try{const o=await function(f,p){const m=Re(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,p).next(T=>(Qe(T!==null,37113),v=T.keys(),m.mutationQueue.removeMutationBatch(g,T))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(s.localStore,e);OA(s,e,n),NA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await tc(s,o)}catch(o){await Zo(o)}}function NA(r,e){(r.mu.get(e)||[]).forEach(n=>{n.resolve()}),r.mu.delete(e)}function OA(r,e,n){const s=Re(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function fg(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||MA(r,s)})}function MA(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(ey(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),hy(r))}function IT(r,e,n){for(const s of n)s instanceof IA?(r.Ru.addReference(s.key,e),$4(r,s)):s instanceof CA?(fe(cy,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||MA(r,s.key)):Ae(19791,{wu:s})}function $4(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(fe(cy,"New document in limbo: "+n),r.Eu.add(s),hy(r))}function hy(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new _e(it.fromString(e)),s=r.fu.next();r.Au.set(s,new P4(n)),r.du=r.du.insert(n,s),TA(r.remoteStore,new ls(Pr(Hf(n.path)),s,"TargetPurposeLimboResolution",zf.ce))}}async function tc(r,e,n){const s=Re(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((p,m)=>{f.push(s.pu(m,e,n).then(g=>{var v;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Zg.As(m.targetId,g);u.push(T)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(m,g){const v=Re(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>te.forEach(g,w=>te.forEach(w.Es,O=>v.persistence.referenceDelegate.addReference(T,w.targetId,O)).next(()=>te.forEach(w.ds,O=>v.persistence.referenceDelegate.removeReference(T,w.targetId,O)))))}catch(T){if(!Jo(T))throw T;fe(Jg,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const O=v.Ms.get(w),j=O.snapshotVersion,$=O.withLastLimboFreeSnapshotVersion(j);v.Ms=v.Ms.insert(w,$)}}}(s.localStore,u))}async function Q4(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){fe(cy,"User change. New user:",e.toKey());const s=await yA(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(p=>{p.forEach(m=>{m.reject(new he(Z.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await tc(n,s.Ls)}}function K4(r,e){const n=Re(r),s=n.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function VA(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=DA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H4.bind(null,e),e.Pu.H_=N4.bind(null,e.eventManager),e.Pu.yu=O4.bind(null,e.eventManager),e}function Y4(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=F4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G4.bind(null,e),e}class Af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return JO(this.persistence,new XO,e.initialUser,this.serializer)}Cu(e){return new gA(Wg.mi,this.serializer)}Du(e){return new a4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Af.provider={build:()=>new Af};class X4 extends Af{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof Tf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new PO(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new gA(s=>Tf.mi(s,n),this.serializer)}}class dg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>RT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q4.bind(null,this.syncEngine),await C4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new D4}()}createDatastore(e){const n=Yf(e.databaseInfo.databaseId),s=function(u){return new h4(u)}(e.databaseInfo);return function(u,f,p,m){return new m4(u,f,p,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,p){return new y4(s,o,u,f,p)}(this.localStore,this.datastore,e.asyncQueue,n=>RT(this.syncEngine,n,0),function(){return ET.v()?new ET:new o4}())}createSyncEngine(e,n){return function(o,u,f,p,m,g,v){const T=new k4(o,u,f,p,m,g);return v&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Re(o);fe(Ta,"RemoteStore shutting down."),u.Ea.add(5),await ec(u),u.Aa.shutdown(),u.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}dg.provider={build:()=>new dg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="FirestoreClient";class W4{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=fn.UNAUTHENTICATED,this.clientId=zg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{fe(Es,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(fe(Es,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=sy(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function xm(r,e){r.asyncQueue.verifyOperationInProgress(),fe(Es,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await yA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function CT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await Z4(r);fe(Es,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>ST(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>ST(e.remoteStore,o)),r._onlineComponents=e}async function Z4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(Es,"Using user provided OfflineComponentProvider");try{await xm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Lo("Error using user provided cache. Falling back to memory cache: "+n),await xm(r,new Af)}}else fe(Es,"Using default OfflineComponentProvider"),await xm(r,new X4(void 0));return r._offlineComponents}async function PA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(Es,"Using user provided OnlineComponentProvider"),await CT(r,r._uninitializedComponentsProvider._online)):(fe(Es,"Using default OnlineComponentProvider"),await CT(r,new dg))),r._onlineComponents}function J4(r){return PA(r).then(e=>e.syncEngine)}async function wf(r){const e=await PA(r),n=e.eventManager;return n.onListen=L4.bind(null,e.syncEngine),n.onUnlisten=z4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=U4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=B4.bind(null,e.syncEngine),n}function eM(r,e,n={}){const s=new _i;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,g){const v=new fy({next:w=>{v.Nu(),f.enqueueAndForget(()=>oy(u,T));const O=w.docs.has(p);!O&&w.fromCache?g.reject(new he(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&w.fromCache&&m&&m.source==="server"?g.reject(new he(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new uy(Hf(p.path),v,{includeMetadataChanges:!0,qa:!0});return ay(u,T)}(await wf(r),r.asyncQueue,e,n,s)),s.promise}function tM(r,e,n={}){const s=new _i;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,g){const v=new fy({next:w=>{v.Nu(),f.enqueueAndForget(()=>oy(u,T)),w.fromCache&&m.source==="server"?g.reject(new he(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new uy(p,v,{includeMetadataChanges:!0,qa:!0});return ay(u,T)}(await wf(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="firestore.googleapis.com",DT=!0;class NT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LA,this.ssl=DT}else this.host=e.host,this.ssl=e.ssl??DT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MO)throw new he(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kA(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new a2;switch(s.type){case"firstParty":return new c2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=xT.get(n);s&&(fe("ComponentProvider","Removing Datastore"),xT.delete(n),s.terminate())}(this),Promise.resolve()}}function nM(r,e,n,s={}){var g;r=Ln(r,Zf);const o=Ko(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(NS(`https://${p}`),OS("Firestore",!0)),u.host!==LA&&u.host!==p&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:p,ssl:o,emulatorOptions:s};if(!ga(m,f)&&(r._setSettings(m),s.mockUserToken)){let v,T;if(typeof s.mockUserToken=="string")v=s.mockUserToken,T=fn.MOCK_USER;else{v=mC(s.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new he(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new fn(w)}r._authCredentials=new o2(new R1(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ra(this.firestore,e,this._query)}}class gt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Xu(n,gt._jsonSchema))return new gt(e,s||null,new _e(it.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:Ct("string",gt._jsonSchemaVersion),referencePath:Ct("string")};class ps extends Ra{constructor(e,n,s){super(e,n,Hf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new _e(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function Ho(r,e,...n){if(r=xt(r),I1("collection","path",e),r instanceof Zf){const s=it.fromString(e,...n);return F0(s),new ps(r,null,s)}{if(!(r instanceof gt||r instanceof ps))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return F0(s),new ps(r.firestore,null,s)}}function wi(r,e,...n){if(r=xt(r),arguments.length===1&&(e=zg.newId()),I1("doc","path",e),r instanceof Zf){const s=it.fromString(e,...n);return H0(s),new gt(r,null,new _e(s))}{if(!(r instanceof gt||r instanceof ps))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return H0(s),new gt(r.firestore,r instanceof ps?r.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="AsyncQueue";class MT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vA(this,"async_queue_retry"),this._c=()=>{const s=Cm();s&&fe(OT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new _i;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Jo(e))throw e;fe(OT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Si("INTERNAL UNHANDLED ERROR: ",VT(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=iy.createAndSchedule(this,e,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:VT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function VT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Ts extends Zf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new MT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MT(e),this._firestoreClient=void 0,await e}}}function UA(r,e){const n=typeof r=="object"?r:kS(),s=typeof r=="string"?r:mf,o=Dg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=dC("firestore");u&&nM(o,...u)}return o}function Jf(r){if(r._terminated)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||rM(r),r._firestoreClient}function rM(r){var s,o,u;const e=r._freezeSettings(),n=function(p,m,g,v){return new I2(p,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,kA(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new W4(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(p){const m=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(rn.fromBase64String(e))}catch(n){throw new he(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jn(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xu(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Ct("string",Jn._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Lr._jsonSchemaVersion}}static fromJSON(e){if(Xu(e,Lr._jsonSchema))return new Lr(e.latitude,e.longitude)}}Lr._jsonSchemaVersion="firestore/geoPoint/1.0",Lr._jsonSchema={type:Ct("string",Lr._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xu(e,Ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ur(e.vectorValues);throw new he(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ur._jsonSchemaVersion="firestore/vectorValue/1.0",Ur._jsonSchema={type:Ct("string",Ur._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=/^__.*__$/;class sM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zu(e,this.data,n,this.fieldTransforms)}}class jA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new bs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:r})}}class dy{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(zA(this.Ac)&&iM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class aM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Yf(e)}Cc(e,n,s,o=!1){return new dy({Ac:e,methodName:n,Dc:s,path:nn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nd(r){const e=r._freezeSettings(),n=Yf(r._databaseId);return new aM(r._databaseId,!!e.ignoreUndefinedProperties,n)}function BA(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);my("Data must be an object, but it was:",f,s);const p=qA(s,f);let m,g;if(u.merge)m=new kn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const w=pg(e,T,n);if(!f.contains(w))throw new he(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);FA(v,w)||v.push(w)}m=new kn(v),g=f.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,g=f.fieldTransforms;return new sM(new wn(p),m,g)}class rd extends td{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rd}}class py extends td{_toFieldTransform(e){return new J2(e.path,new ku)}isEqual(e){return e instanceof py}}function oM(r,e,n,s){const o=r.Cc(1,e,n);my("Data must be an object, but it was:",o,s);const u=[],f=wn.empty();ws(s,(m,g)=>{const v=gy(e,m,n);g=xt(g);const T=o.yc(v);if(g instanceof rd)u.push(v);else{const w=nc(g,T);w!=null&&(u.push(v),f.set(v,w))}});const p=new kn(u);return new jA(f,p,o.fieldTransforms)}function lM(r,e,n,s,o,u){const f=r.Cc(1,e,n),p=[pg(e,s,n)],m=[o];if(u.length%2!=0)throw new he(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)p.push(pg(e,u[w])),m.push(u[w+1]);const g=[],v=wn.empty();for(let w=p.length-1;w>=0;--w)if(!FA(g,p[w])){const O=p[w];let j=m[w];j=xt(j);const $=f.yc(O);if(j instanceof rd)g.push(O);else{const H=nc(j,$);H!=null&&(g.push(O),v.set(O,H))}}const T=new kn(g);return new jA(v,T,f.fieldTransforms)}function uM(r,e,n,s=!1){return nc(n,r.Cc(s?4:3,e))}function nc(r,e){if(HA(r=xt(r)))return my("Unsupported field value:",e,r),qA(r,e);if(r instanceof td)return function(s,o){if(!zA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let m=nc(p,o.wc(f));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=xt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return X2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=nt.fromDate(s);return{timestampValue:Ef(o.serializer,u)}}if(s instanceof nt){const u=new nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ef(o.serializer,u)}}if(s instanceof Lr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Jn)return{bytesValue:lA(o.serializer,s._byteString)};if(s instanceof gt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Yg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ur)return function(f,p){return{mapValue:{fields:{[k1]:{stringValue:L1},[gf]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return $g(p.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${jf(s)}`)}(r,e)}function qA(r,e){const n={};return D1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(r,(s,o)=>{const u=nc(o,e.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function HA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof nt||r instanceof Lr||r instanceof Jn||r instanceof gt||r instanceof td||r instanceof Ur)}function my(r,e,n){if(!HA(n)||!C1(n)){const s=jf(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function pg(r,e,n){if((e=xt(e))instanceof ed)return e._internalPath;if(typeof e=="string")return gy(r,e);throw bf("Field path arguments must be of type string or ",r,!1,void 0,n)}const cM=new RegExp("[~\\*/\\[\\]]");function gy(r,e,n){if(e.search(cM)>=0)throw bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ed(...e.split("."))._internalPath}catch{throw bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function bf(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${s}`),f&&(m+=` in document ${o}`),m+=")"),new he(Z.INVALID_ARGUMENT,p+r+m)}function FA(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hM extends GA{data(){return super.data()}}function yy(r,e){return typeof e=="string"?gy(r,e):e instanceof ed?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _y{}class fM extends _y{}function id(r,e,...n){let s=[];e instanceof _y&&s.push(e),s=s.concat(n),function(u){const f=u.filter(m=>m instanceof vy).length,p=u.filter(m=>m instanceof sd).length;if(f>1||f>0&&p>0)throw new he(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class sd extends fM{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new sd(e,n,s)}_apply(e){const n=this._parse(e);return QA(e._query,n),new Ra(e.firestore,e.converter,rg(e._query,n))}_parse(e){const n=nd(e.firestore);return function(u,f,p,m,g,v,T){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){LT(T,v);const j=[];for(const $ of T)j.push(kT(m,u,$));w={arrayValue:{values:j}}}else w=kT(m,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||LT(T,v),w=uM(p,f,T,v==="in"||v==="not-in");return It.create(g,v,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ju(r,e,n){const s=e,o=yy("where",r);return sd._create(o,s,n)}class vy extends _y{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vy(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:dr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const p=u.getFlattenedFilters();for(const m of p)QA(f,m),f=rg(f,m)}(e._query,n),new Ra(e.firestore,e.converter,rg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function kT(r,e,n){if(typeof(n=xt(n))=="string"){if(n==="")throw new he(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G1(e)&&n.indexOf("/")!==-1)throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!_e.isDocumentKey(s))throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Z0(r,new _e(s))}if(n instanceof gt)return Z0(r,n._key);throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jf(n)}.`)}function LT(r,e){if(!Array.isArray(r)||r.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QA(r,e){const n=function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dM{convertValue(e,n="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ws(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var s,o,u;const n=(u=(o=(s=e.fields)==null?void 0:s[gf].arrayValue)==null?void 0:o.values)==null?void 0:u.map(f=>Et(f.doubleValue));return new Ur(n)}convertGeoPoint(e){return new Lr(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=qf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Mu(e));default:return null}}convertTimestamp(e){const n=gs(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Qe(pA(s),9688,{name:e});const o=new Vu(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(n)||Si(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class _u{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fa extends GA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(yy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=fa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",fa._jsonSchema={type:Ct("string",fa._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Jh extends fa{data(e={}){return super.data(e)}}class da{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new _u(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Jh(this._firestore,this._userDataWriter,s.key,s,new _u(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const m=new Jh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new _u(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const m=new Jh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new _u(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return p.type!==0&&(g=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),v=f.indexOf(p.doc.key)),{type:pM(p.type),doc:m,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=da._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(r){r=Ln(r,gt);const e=Ln(r.firestore,Ts);return eM(Jf(e),r._key).then(n=>WA(e,r,n))}da._jsonSchemaVersion="firestore/querySnapshot/1.0",da._jsonSchema={type:Ct("string",da._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Ey extends dM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function XA(r){r=Ln(r,Ra);const e=Ln(r.firestore,Ts),n=Jf(e),s=new Ey(e);return $A(r._query),tM(n,r._query).then(o=>new da(e,s,r,o))}function mM(r,e,n){r=Ln(r,gt);const s=Ln(r.firestore,Ts),o=KA(r.converter,e);return Sy(s,[BA(nd(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,cr.none())])}function zu(r,e,n,...s){r=Ln(r,gt);const o=Ln(r.firestore,Ts),u=nd(o);let f;return f=typeof(e=xt(e))=="string"||e instanceof ed?lM(u,"updateDoc",r._key,e,n,s):oM(u,"updateDoc",r._key,e),Sy(o,[f.toMutation(r._key,cr.exists(!0))])}function gM(r,e){const n=Ln(r.firestore,Ts),s=wi(r),o=KA(r.converter,e);return Sy(n,[BA(nd(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,cr.exists(!1))]).then(()=>s)}function Ty(r,...e){var m,g,v;r=xt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||PT(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(PT(e[s])){const T=e[s];e[s]=(m=T.next)==null?void 0:m.bind(T),e[s+1]=(g=T.error)==null?void 0:g.bind(T),e[s+2]=(v=T.complete)==null?void 0:v.bind(T)}let u,f,p;if(r instanceof gt)f=Ln(r.firestore,Ts),p=Hf(r._key.path),u={next:T=>{e[s]&&e[s](WA(f,r,T))},error:e[s+1],complete:e[s+2]};else{const T=Ln(r,Ra);f=Ln(T.firestore,Ts),p=T._query;const w=new Ey(f);u={next:O=>{e[s]&&e[s](new da(f,w,T,O))},error:e[s+1],complete:e[s+2]},$A(r._query)}return function(w,O,j,$){const H=new fy($),J=new uy(O,H,j);return w.asyncQueue.enqueueAndForget(async()=>ay(await wf(w),J)),()=>{H.Nu(),w.asyncQueue.enqueueAndForget(async()=>oy(await wf(w),J))}}(Jf(f),p,o,u)}function Sy(r,e){return function(s,o){const u=new _i;return s.asyncQueue.enqueueAndForget(async()=>q4(await J4(s),o,u)),u.promise}(Jf(r),e)}function WA(r,e,n){const s=n.docs.get(e._key),o=new Ey(r);return new fa(r,o,e._key,s,new _u(n.hasPendingWrites,n.fromCache),e.converter)}function yM(){return new py("serverTimestamp")}(function(e,n=!0){(function(o){Wo=o})(Yo),Po(new ya("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new Ts(new l2(s.getProvider("auth-internal")),new h2(f,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vu(g.options.projectId,v)}(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),fs(j0,z0,e),fs(j0,z0,"esm2020")})();const _M={apiKey:"AIzaSyB5aFUQbtG1rShW-1O88aZjCG7uErNxmgQ",authDomain:"pdms-test-8a5cc.firebaseapp.com",projectId:"pdms-test-8a5cc",storageBucket:"pdms-test-8a5cc.firebasestorage.app",messagingSenderId:"631678861167",appId:"1:631678861167:web:5cd775b77e53535700329a"},Ay=PS(_M);UA(Ay);const bn=UA(Ay),Sa=n2(Ay);function vM({onLoginSuccess:r}){const[e,n]=G.useState(""),[s,o]=G.useState(""),u=qu(),f=()=>{u("/signup")},p=()=>{zD(Sa,e,s).then(()=>{r(),u("/dashboard")}).catch(m=>{alert("로그인 실패: "+m.message)})};return A.jsxs(EM,{children:[A.jsxs(TM,{children:[A.jsxs(SM,{children:[A.jsx(AM,{children:"PDMS"}),A.jsx(wM,{children:"Pushcomz Design Management System"})]}),A.jsxs(bM,{children:[A.jsx(RM,{type:"text",value:e,onChange:m=>n(m.target.value),placeholder:"이메일을 입력해주세요."}),A.jsx(IM,{type:"password",value:s,onChange:m=>o(m.target.value),placeholder:"비밀번호를 입력해주세요."})]}),A.jsx(CM,{onClick:p,children:"로그인"}),A.jsxs(DM,{children:[A.jsx(NM,{children:"계정이 없습니까?"}),A.jsx(OM,{onClick:f,children:"등록하기"})]})]}),A.jsx(xM,{children:"© Pushcomz Corp."})]})}const EM=ue.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:r})=>r.colors.gray01};
`,TM=ue.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:r})=>r.colors.white01};
`,SM=ue.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,AM=ue.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:r})=>r.colors.navy};
`,wM=ue.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,bM=ue.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
`,RM=ue.input`
  width: 460px;
  margin-bottom: 10px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,IM=ue.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,CM=ue.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:r})=>r.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:r})=>r.colors.white01};
`,xM=ue.p`
  margin-top: 20px;
  font-size: 12px;
  font-weight: 300;
  line-height: 18px;
  text-align: center;
`,DM=ue.div`
  
`,NM=ue.span`
  margin-right: 10px;
  font-size: 13px;
`,OM=ue.button`
  font-size: 13px;
  color: ${({theme:r})=>r.colors.navy};
`,ZA="./assets/logo-NEcdCz8m.svg";function MM(){const[r,e]=G.useState(""),[n,s]=G.useState(null),o=qu();G.useEffect(()=>{const p=kf(Sa,async m=>{if(m){m.displayName&&e(m.displayName);const g=await YA(wi(bn,"users",m.uid));g.exists()?s(g.data().role):s(null)}else e(""),s(null)});return()=>p()},[]);const u=()=>{GD(Sa).then(()=>{o("/")}).catch(p=>{alert("로그아웃 중 오류가 발생했습니다: "+p.message)})},f=p=>{switch(p){case 1:return"요청자";case 2:return"디자이너";case 3:return"담당자";default:return"역할 없음"}};return A.jsxs(VM,{children:[A.jsx(PM,{src:ZA}),A.jsxs(kM,{children:[A.jsxs(LM,{children:[r,"님 (",f(n),")환영합니다."]}),A.jsx(UM,{onClick:u,children:"로그아웃"}),A.jsx(jM,{})]})]})}const VM=ue.header`
  ${({theme:r})=>r.mixin.flex("center","space-between")};
  padding: 15px 20px;
  background-color: ${({theme:r})=>r.colors.navy};
`,PM=ue.img`
  
`,kM=ue.div`

`,LM=ue.span`
  margin-right: 10px;
  color: ${({theme:r})=>r.colors.white01};
  font-size: 14px;
  line-height: 20px;
`,UM=ue.button`
  color: ${({theme:r})=>r.colors.white01};
  font-size: 14px;
  line-height: 20px;
`,jM=ue.span`
  color: ${({theme:r})=>r.colors.white01};
  font-size: 14px;
  line-height: 20px;
`;function zM({userName:r}){const[e,n]=G.useState({completionDt:"",openDt:"",taskForm:"GHS",taskType:"프론트테마",requirement:"",url:"",note:"",emergency:!1}),s=(u,f)=>{n(p=>({...p,[u]:f}))},o=async u=>{if(u.preventDefault(),!e.requirement){alert("요청 내용을 입력하세요.");return}const f=new Date,p=g=>g?nt.fromDate(new Date(g)):null,m=async()=>{const g=new Date,v=g.getFullYear().toString().slice(2),T=(g.getMonth()+1).toString().padStart(2,"0"),w=id(Ho(bn,"design_request"),ju("design_request_id",">=",`H${v}${T}000`),ju("design_request_id","<",`H${v}${T}999`)),j=(await XA(w)).size+1;return`H${v}${T}${j.toString().padStart(3,"0")}`};gM(Ho(bn,"design_request"),{design_request_id:await m(),request_date:p(f.toISOString()),requester:r,completion_dt:p(e.completionDt),open_dt:p(e.openDt),task_form:e.taskForm,task_type:e.taskType,requirement:e.requirement,url:e.url,note:e.note,status:"대기",assigned_designer:"미배정",requester_review_status:"검수대기",manager_review_status:"",result_url:"",designer_start_date:null,designer_end_date:null,emergency:e.emergency,requester_edit_state:!1,designer_edit_state:!1,created_at:yM(),updated_at:null,delete_at:null}).then(()=>{alert("요청이 등록되었습니다!"),n({completionDt:"",openDt:"",taskForm:"GHS",taskType:"프론트테마",requirement:"",url:"",note:"",emergency:!1})}).catch(g=>{alert("등록 중 오류가 발생했습니다: "+g.message)})};return A.jsxs(BM,{onSubmit:o,children:[A.jsx(qM,{children:"디자인 요청 등록"}),A.jsxs(HM,{children:[A.jsxs(fi,{children:[A.jsx(ns,{htmlFor:"completionDt",children:"요청 완료일"}),A.jsx("input",{type:"date",id:"completionDt",value:e.completionDt,onChange:u=>s("completionDt",u.target.value)})]}),A.jsxs(fi,{children:[A.jsx(ns,{htmlFor:"openDt",children:"오픈일"}),A.jsx("input",{type:"date",id:"openDt",value:e.openDt,onChange:u=>s("openDt",u.target.value)})]}),A.jsxs(fi,{children:[A.jsx(ns,{htmlFor:"taskForm",children:"업무형태"}),A.jsxs("select",{id:"taskForm",value:e.taskForm,onChange:u=>s("taskForm",u.target.value),children:[A.jsx("option",{value:"GHS",children:"GHS"}),A.jsx("option",{value:"MHC",children:"MHC"}),A.jsx("option",{value:"MHC/GHS",children:"MHC/GHS"})]})]}),A.jsxs(fi,{children:[A.jsx(ns,{htmlFor:"taskType",children:"업무타입"}),A.jsxs("select",{id:"taskType",value:e.taskType,onChange:u=>s("taskType",u.target.value),children:[A.jsx("option",{value:"프론트테마",children:"프론트테마"}),A.jsx("option",{value:"별도기획전",children:"별도기획전"}),A.jsx("option",{value:"일자별배너",children:"일자별배너"}),A.jsx("option",{value:"핫새배너",children:"핫새배너"}),A.jsx("option",{value:"큐레이션배너",children:"큐레이션배너"}),A.jsx("option",{value:"GNB-기획전(전문관)",children:"GNB-기획전(전문관)"}),A.jsx("option",{value:"GNB-주류이지픽업",children:"GNB-주류이지픽업"}),A.jsx("option",{value:"GNB-택배배송관",children:"GNB-택배배송관"}),A.jsx("option",{value:"페이/카드프로모션",children:"페이/카드프로모션"}),A.jsx("option",{value:"이벤트배너",children:"이벤트배너"}),A.jsx("option",{value:"상품상세",children:"상품상세"}),A.jsx("option",{value:"제휴",children:"제휴"}),A.jsx("option",{value:"클럽",children:"클럽"}),A.jsx("option",{value:"팝업",children:"팝업"}),A.jsx("option",{value:"푸시",children:"푸시"}),A.jsx("option",{value:"홈테마",children:"홈테마"}),A.jsx("option",{value:"즉시배송",children:"즉시배송"}),A.jsx("option",{value:"트레이딩",children:"트레이딩"}),A.jsx("option",{value:"이벤트",children:"이벤트"}),A.jsx("option",{value:"기타",children:"기타"})]})]}),A.jsxs(fi,{children:[A.jsx(ns,{htmlFor:"requirement",children:"작업 항목"}),A.jsx(Dm,{id:"requirement",value:e.requirement,onChange:u=>s("requirement",u.target.value),placeholder:"작업 항목을 입력하세요."})]}),A.jsxs(fi,{children:[A.jsx(ns,{htmlFor:"url",children:"요청 기획안 URL"}),A.jsx(Dm,{id:"url",value:e.url,onChange:u=>s("url",u.target.value),placeholder:"요청 기획안 URL을 입력하세요."})]}),A.jsxs(fi,{children:[A.jsx(ns,{htmlFor:"note",children:"메모"}),A.jsx(Dm,{id:"note",value:e.note,onChange:u=>s("note",u.target.value),placeholder:"메모를 입력하세요."})]}),A.jsxs(fi,{children:[A.jsx(ns,{htmlFor:"emergency",children:"긴급 일정"}),A.jsxs(GM,{children:[A.jsx("input",{type:"checkbox",id:"emergency",checked:e.emergency,onChange:u=>s("emergency",u.target.checked)}),A.jsx("span",{children:"긴급으로 설정"})]})]}),A.jsx(fi,{children:A.jsx(FM,{type:"submit",children:"등록하기"})})]})]})}const BM=ue.form``,qM=ue.h2``,HM=ue.ul`
  ${({theme:r})=>r.mixin.flex("center")};
  margin: 20px 0;
  gap: 30px;
`,fi=ue.li`
  ${({theme:r})=>r.mixin.flex("center")};
  flex-direction: column;
  gap: 10px;
`,ns=ue.label`
  width: 100%;
  text-align: center;
  font-size: 18px;
  font-weight: 700;
`,FM=ue.button`
  padding: 5px 10px;
  border-radius: 4px;
  font-size: 15px;
  background-color: ${({theme:r})=>r.colors.navy};
  color: ${({theme:r})=>r.colors.white01};
`,Dm=ue.textarea`
  min-width: 200px;
  resize: none;
`,GM=ue.div`
  ${({theme:r})=>r.mixin.flex("center")};
  gap: 5px;
`;function $M({item:r,index:e,onReviewComplete:n,onCancel:s}){const o=u=>{if(!u)return"-";if(u.toDate){const f=u.toDate();return`${f.getMonth()+1}/${f.getDate()}`}return u};return A.jsxs(WM,{isCanceled:r.status==="취소",children:[A.jsx(Wt,{children:e}),A.jsx(Wt,{children:r.design_request_id}),A.jsx(Wt,{children:o(r.request_date)}),A.jsx(Wt,{children:r.requester}),A.jsx(Wt,{children:o(r.completion_dt)}),A.jsx(Wt,{children:o(r.open_dt)}),A.jsx(Wt,{children:r.task_form}),A.jsx(Wt,{children:r.task_type}),A.jsxs(Wt,{children:[r.emergency?A.jsx(ZM,{children:"긴급"}):"",r.requirement]}),A.jsx(Wt,{children:r.url}),A.jsx(Wt,{children:r.note}),A.jsx(Wt,{children:r.status==="검수요청"?"진행중":r.status==="검수중"?"검수 요청":r.status||"대기"}),A.jsx(Wt,{children:r.assigned_designer||"미배정"}),A.jsx(Wt,{children:r.manager_review_status==="검수완료"&&r.url||""}),A.jsx(Wt,{children:A.jsx(XM,{onClick:()=>s(r.id),children:"취소"})}),A.jsx(Wt,{children:A.jsx(YM,{children:"수정"})}),A.jsx(Wt,{children:r.manager_review_status==="검수완료"?r.status!=="완료"?A.jsx(QM,{onClick:()=>n(r.id),children:"검수완료"}):A.jsx(KM,{children:"완료"}):""})]})}const QM=ue.button`
  padding: 5px 10px;
  border-radius: 4px;
  color: ${({theme:r})=>r.colors.white01};
  background-color: ${({theme:r})=>r.colors.navy};
`,KM=ue.span`
  color: green;
  font-weight: bold;
`,YM=ue.button`
  padding: 5px 10px;
  border-radius: 4px;
  color: ${({theme:r})=>r.colors.white01};
  background-color: ${({theme:r})=>r.colors.navy};
`,XM=ue.button`
  padding: 5px 10px;
  border-radius: 4px;
  color: ${({theme:r})=>r.colors.white01};
  background-color: ${({theme:r})=>r.colors.navy};
`,WM=ue.tr`
  ${({isCanceled:r})=>r&&`
      td {
        text-decoration: line-through;
        color: gray;
      }
    `}
`,Wt=ue.td`
  padding: 5px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 400;
`,ZM=ue.span`
  margin-right: 5px;
  padding: 4px 6px;
  border-radius: 4px;
  font-weight: 700;
  background-color: ${({theme:r})=>r.colors.red};
  color: ${({theme:r})=>r.colors.white01};
`;function JM({data:r,onReviewComplete:e,onCancel:n}){return console.log(r),A.jsxs(eV,{children:[A.jsx(tV,{children:"요청 리스트"}),A.jsxs("colgroup",{children:[A.jsx("col",{style:{width:"50px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"120px"}}),A.jsx("col",{}),A.jsx("col",{}),A.jsx("col",{}),A.jsx("col",{style:{width:"100px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"80px"}})]}),A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx(Zt,{children:"NO"}),A.jsx(Zt,{children:"문서번호"}),A.jsx(Zt,{children:"요청일"}),A.jsx(Zt,{children:"요청자"}),A.jsxs(Zt,{children:["완료",A.jsx("br",{}),"요청일"]}),A.jsx(Zt,{children:"오픈일"}),A.jsx(Zt,{children:"업무형태"}),A.jsx(Zt,{children:"업무타입"}),A.jsx(Zt,{children:"작업항목"}),A.jsx(Zt,{children:"기획안 URL"}),A.jsx(Zt,{children:"메모"}),A.jsx(Zt,{children:"진행상태"}),A.jsxs(Zt,{children:["담당",A.jsx("br",{}),"디자이너"]}),A.jsx(Zt,{children:"산출물 URL"}),A.jsx(Zt,{children:"취소"}),A.jsx(Zt,{children:"수정"}),A.jsx(Zt,{children:"검수"})]})}),A.jsx("tbody",{children:r.length>0?r.map((s,o)=>A.jsx($M,{index:o+1,item:s,onReviewComplete:e,onCancel:n},s.id)):A.jsx("tr",{children:A.jsx("td",{colSpan:17,style:{textAlign:"center",padding:"20px"},children:"등록된 요청이 없습니다."})})})]})}const eV=ue.table`
  width: 100%;
  text-align: center;
  border-top: 2px solid ${({theme:r})=>r.colors.black};
`,tV=ue.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,Zt=ue.th`
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:r})=>r.colors.white02};
`;function nV(){const[r,e]=G.useState(""),[n,s]=G.useState([]);G.useEffect(()=>{const f=kf(Sa,p=>{p&&p.displayName&&e(p.displayName)});return()=>f()},[]),G.useEffect(()=>{if(!r)return;const f=id(Ho(bn,"design_request"),ju("requester","==",r)),p=Ty(f,m=>{const g=m.docs.map(v=>({id:v.id,...v.data()}));console.log("Firestore 정렬 데이터:",g.map(v=>v.design_request_id)),s(g)});return()=>p()},[r]);const o=async f=>{await zu(wi(bn,"design_request",f),{status:"완료",requester_review_status:"검수완료"}),s(p=>p.map(m=>m.id===f?{...m,status:"완료",requester_review_status:"검수완료"}:m)),alert("완료 처리되었습니다.")},u=async f=>{await zu(wi(bn,"design_request",f),{status:"취소"}),s(p=>p.map(m=>m.id===f?{...m,status:"취소"}:m))};return A.jsxs(A.Fragment,{children:[A.jsx(zM,{userName:r}),A.jsx(rV,{children:"요청 리스트"}),A.jsx(JM,{data:n,onReviewComplete:o,onCancel:u})]})}const rV=ue.h2`
  margin-bottom: 20px;
`;function iV({index:r,item:e,onChange:n,onSave:s}){const o=u=>{if(!u)return"-";if(u.toDate){const f=u.toDate();return`${f.getMonth()+1}/${f.getDate()}`}return u};return A.jsxs(aV,{isCanceled:e.status==="취소",children:[A.jsx(cn,{children:r}),A.jsx(cn,{children:e.design_request_id}),A.jsx(cn,{children:o(e.request_date)}),A.jsx(cn,{children:e.requester}),A.jsx(cn,{children:o(e.completion_dt)}),A.jsx(cn,{children:o(e.open_dt)}),A.jsx(cn,{children:e.task_form}),A.jsx(cn,{children:e.task_type}),A.jsxs(cn,{children:[e.emergency?A.jsx(oV,{children:"긴급"}):"",e.requirement]}),A.jsx(cn,{children:e.url?A.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.url}):""}),A.jsx(cn,{children:e.note||""}),A.jsx(cn,{children:A.jsx("input",{type:"date",onChange:u=>n(e.id,"start_dt",u.target.value),disabled:e.status==="취소"})}),A.jsx(cn,{children:A.jsx("input",{type:"date",onChange:u=>n(e.id,"end_dt",u.target.value),disabled:e.status==="취소"})}),A.jsx(cn,{children:A.jsx("input",{type:"text",placeholder:"산출물 URL을 입력해주세요.",onChange:u=>n(e.id,"result_url",u.target.value),disabled:e.status==="취소"})}),A.jsx(cn,{children:A.jsxs("select",{onChange:u=>n(e.id,"status",u.target.value),disabled:e.status==="취소",children:[A.jsx("option",{value:"대기중",children:"대기"}),A.jsx("option",{value:"진행중",children:"진행중"}),A.jsx("option",{value:"검수요청",children:"검수요청"})]})}),A.jsx(cn,{children:A.jsx(sV,{onClick:()=>s(e.id),disabled:e.status==="취소",children:"저장"})})]})}const sV=ue.button`
  padding: 6px 10px;
  background: #073863;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
`,aV=ue.tr`
  ${({isCanceled:r})=>r&&`
      td {
        text-decoration: line-through;
        color: gray;
      }
    `}
`,cn=ue.td`
  padding: 5px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 400;
`,oV=ue.span`
  margin-right: 5px;
  padding: 4px 6px;
  border-radius: 4px;
  font-weight: 700;
  background-color: ${({theme:r})=>r.colors.red};
  color: ${({theme:r})=>r.colors.white01};
`;function lV({requests:r,onChange:e,onSave:n}){return A.jsxs(uV,{children:[A.jsxs("colgroup",{children:[A.jsx("col",{style:{width:"50px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"70px"}}),A.jsx("col",{style:{width:"90px"}}),A.jsx("col",{style:{width:"120px"}}),A.jsx("col",{}),A.jsx("col",{}),A.jsx("col",{}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"100px"}})]}),A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx(hn,{children:"NO"}),A.jsx(hn,{children:"문서번호"}),A.jsx(hn,{children:"요청일"}),A.jsx(hn,{children:"요청자"}),A.jsxs(hn,{children:["완료",A.jsx("br",{}),"요청일"]}),A.jsx(hn,{children:"오픈일"}),A.jsx(hn,{children:"업무형태"}),A.jsx(hn,{children:"업무타입"}),A.jsx(hn,{children:"작업항목"}),A.jsx(hn,{children:"기획안 URL"}),A.jsx(hn,{children:"메모"}),A.jsx(hn,{children:"디자인 시작일"}),A.jsx(hn,{children:"디자인 종료일"}),A.jsx(hn,{children:"산출물 링크"}),A.jsx(hn,{children:"진행상태"}),A.jsx(hn,{children:"저장"})]})}),A.jsx("tbody",{children:r.length>0?r.map((s,o)=>A.jsx(iV,{index:o+1,item:s,onChange:e,onSave:n},s.id)):A.jsx("tr",{children:A.jsx("td",{colSpan:16,style:{textAlign:"center"},children:"배정된 요청이 없습니다."})})})]})}const uV=ue.table`
  width: 100%;
  text-align: center;
  border-top: 2px solid ${({theme:r})=>r.colors.black};
`,hn=ue.th`
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:r})=>r.colors.white02};
`;function cV(){const[r,e]=G.useState([]),[n,s]=G.useState(""),[o,u]=G.useState({});G.useEffect(()=>{const g=kf(Sa,v=>{v&&v.displayName&&s(v.displayName)});return()=>g()},[]),G.useEffect(()=>{if(!n)return;const g=id(Ho(bn,"design_request"),ju("assigned_designer","==",n)),v=Ty(g,T=>{const w=T.docs.map(O=>({id:O.id,...O.data()}));e(w)});return()=>v()},[n]);const f=(g,v,T)=>{u(w=>({...w,[g]:{...w[g],[v]:T}}))},p=g=>g?nt.fromDate(new Date(g)):null,m=async g=>{const v=wi(bn,"design_request",g),T=o[g];if(!T){alert("변경된 내용이 없습니다.");return}await zu(v,{designer_start_date:p(T.start_dt),designer_end_date:p(T.end_dt),result_url:T.result_url||"",status:T.status}),alert("저장되었습니다.")};return A.jsxs(hV,{children:[A.jsx(fV,{children:"디자이너 화면"}),A.jsx(lV,{requests:r,formData:o,onChange:f,onSave:m})]})}const hV=ue.div``,fV=ue.h2`
  margin-bottom: 20px;
`;function dV({index:r,item:e,designerList:n,selectedDesigner:s,onDesignerSelect:o,onAssignDesigner:u,onSendToRequester:f}){const p=m=>{if(!m)return"-";if(m.toDate){const g=m.toDate();return`${g.getMonth()+1}/${g.getDate()}`}return m};return A.jsxs(yV,{isCanceled:e.status==="취소",children:[A.jsx(Jt,{children:r}),A.jsx(Jt,{children:e.design_request_id}),A.jsx(Jt,{children:p(e.request_date)}),A.jsx(Jt,{children:e.requester}),A.jsx(Jt,{children:p(e.completion_dt)}),A.jsx(Jt,{children:p(e.open_dt)}),A.jsx(Jt,{children:e.task_form}),A.jsx(Jt,{children:e.task_type}),A.jsxs(Jt,{children:[e.emergency?A.jsx(vV,{children:"긴급"}):"",e.requirement]}),A.jsx(Jt,{children:e.url||""}),A.jsx(Jt,{children:e.note||""}),A.jsx(Jt,{children:e.status==="검수요청"?"검수중":e.status||"대기"}),A.jsx(Jt,{children:e.result_url||""}),A.jsx(Jt,{children:p(e.designer_start_date)}),A.jsx(Jt,{children:p(e.designer_end_date)}),A.jsxs(Jt,{children:[A.jsxs(mV,{value:s,onChange:m=>o(m.target.value),disabled:e.status==="취소",children:[A.jsx("option",{value:"",children:"디자이너 선택"}),n.map(m=>A.jsx("option",{value:m.name,children:m.name},m.id))]}),A.jsx(pV,{onClick:u,disabled:e.status==="취소",children:"배정"})]}),A.jsx(Jt,{children:e.status==="검수요청"&&e.manager_review_status!=="검수완료"?A.jsx(gV,{onClick:f,children:"완료"}):e.manager_review_status==="검수완료"?A.jsx(_V,{children:"완료"}):""})]})}const pV=ue.button`
  margin-left: 10px;
  margin-top: 6px;
  padding: 6px 10px;
  background: #073863;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
`,mV=ue.select`
  padding: 6px;
  border: 1px solid #ccc;
  border-radius: 4px;
`,gV=ue.button`
  padding: 6px 12px;
  background: #28a745;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
`,yV=ue.tr`
  ${({isCanceled:r})=>r&&`
      td {
        text-decoration: line-through;
        color: gray;
      }
    `}
`,Jt=ue.td`
  padding: 5px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 400;
`,_V=ue.span`
  color: green;
  font-size: 13px;
  font-weight: bold;
`,vV=ue.span`
  margin-right: 5px;
  padding: 4px 6px;
  border-radius: 4px;
  font-weight: 700;
  background-color: ${({theme:r})=>r.colors.red};
  color: ${({theme:r})=>r.colors.white01};
`;function EV({data:r,designerList:e,selectedDesigners:n,designerSelect:s,assignDesigner:o,sendToRequester:u}){return A.jsxs(TV,{children:[A.jsx(SV,{children:"매니저 요청 리스트"}),A.jsxs("colgroup",{children:[A.jsx("col",{style:{width:"50px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{style:{width:"120px"}}),A.jsx("col",{}),A.jsx("col",{}),A.jsx("col",{}),A.jsx("col",{style:{width:"80px"}}),A.jsx("col",{}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"60px"}}),A.jsx("col",{style:{width:"180px"}}),A.jsx("col",{style:{width:"60px"}})]}),A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx(en,{children:"NO"}),A.jsx(en,{children:"문서번호"}),A.jsx(en,{children:"요청일"}),A.jsx(en,{children:"요청자"}),A.jsxs(en,{children:["완료",A.jsx("br",{}),"요청일"]}),A.jsx(en,{children:"오픈일"}),A.jsx(en,{children:"업무형태"}),A.jsx(en,{children:"업무타입"}),A.jsx(en,{children:"작업항목"}),A.jsx(en,{children:"기획안 URL"}),A.jsx(en,{children:"메모"}),A.jsx(en,{children:"진행상태"}),A.jsx(en,{children:"산출물 URL"}),A.jsxs(en,{children:["디자인",A.jsx("br",{}),"시작일"]}),A.jsxs(en,{children:["디자인",A.jsx("br",{}),"종료일"]}),A.jsx(en,{children:"배정"}),A.jsx(en,{children:"검수"})]})}),A.jsx("tbody",{children:r.length>0?r.map((f,p)=>A.jsx(dV,{index:p+1,item:f,designerList:e,selectedDesigner:n[f.id]||"",onDesignerSelect:m=>s(f.id,m),onAssignDesigner:()=>o(f.id),onSendToRequester:()=>u(f.id)},f.id)):A.jsx("tr",{children:A.jsx("td",{colSpan:17,style:{textAlign:"center",padding:"20px"},children:"등록된 요청이 없습니다."})})})]})}const TV=ue.table`
  width: 100%;
  text-align: center;
  border-top: 2px solid ${({theme:r})=>r.colors.black};
`,SV=ue.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,en=ue.th`
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:r})=>r.colors.white02};
`;function AV(){const[r,e]=G.useState([]),[n,s]=G.useState([]),[o,u]=G.useState({});G.useEffect(()=>{const g=Ty(Ho(bn,"design_request"),v=>{const T=v.docs.map(w=>({id:w.id,...w.data()}));e(T)});return()=>g()},[]),G.useEffect(()=>{(async()=>{const v=id(Ho(bn,"users"),ju("role","==",2)),w=(await XA(v)).docs.map(O=>({id:O.id,...O.data()}));s(w)})()},[]);const f=(g,v)=>{u(T=>({...T,[g]:v}))},p=async g=>{const v=o[g];if(!v){alert("디자이너를 선택하세요.");return}const T=wi(bn,"design_request",g);await zu(T,{assigned_designer:v}),alert("디자이너가 배정되었습니다!"),e(w=>w.map(O=>O.id===g?{...O,assigned_designer:v}:O))},m=async g=>{await zu(wi(bn,"design_request",g),{manager_review_status:"검수완료",status:"검수중"}),e(v=>v.map(T=>T.id===g?{...T,manager_review_status:"검수완료",status:"검수중"}:T)),alert("요청자에게 전달되었습니다.")};return A.jsxs(wV,{children:[A.jsx(bV,{children:"매니저 요청리스트"}),A.jsx(EV,{data:r,designerList:n,selectedDesigners:o,designerSelect:f,assignDesigner:p,sendToRequester:m})]})}const wV=ue.div``,bV=ue.h2`
  margin-bottom: 20px;
`;function RV(){const[r,e]=G.useState(null);G.useEffect(()=>{const s=kf(Sa,async o=>{if(o){const u=await YA(wi(bn,"users",o.uid));u.exists()&&e(u.data().role)}else e(null)});return()=>s()},[]);const n=()=>{if(r===1)return A.jsx(nV,{});if(r===2)return A.jsx(cV,{});if(r===3)return A.jsx(AV,{})};return A.jsx(IV,{children:n()})}const IV=ue.main`
  padding: 20px 25px;
`;function CV(){return A.jsxs(xV,{children:[A.jsx(MM,{}),A.jsx(RV,{})]})}const xV=ue.div``;function DV(){const[r,e]=G.useState(""),[n,s]=G.useState(""),[o,u]=G.useState(""),[f,p]=G.useState(""),m=qu(),g=async()=>{if(o!==f){alert("비밀번호가 일치하지 않습니다.");return}jD(Sa,n,o).then(async v=>{const T=v.user;await qD(T,{displayName:r}),await mM(wi(bn,"users",T.uid),{name:r,role:2,createdAt:new Date})}).then(()=>{alert("회원가입이 완료되었습니다!"),m("/")}).catch(v=>{alert("회원가입 중 오류 발생: "+v.message)})};return A.jsx(NV,{children:A.jsxs(OV,{children:[A.jsxs(MV,{children:[A.jsx(VV,{children:"PDMS"}),A.jsx(PV,{children:"Pushcomz Design Management System"})]}),A.jsx(kV,{children:A.jsx(LV,{src:ZA})}),A.jsxs(UV,{children:[A.jsx(jV,{type:"text",value:r,onChange:v=>e(v.target.value),placeholder:"이름을 입력해주세요."}),A.jsx(zV,{type:"text",value:n,onChange:v=>s(v.target.value),placeholder:"이메일을 입력해주세요."}),A.jsx(BV,{type:"password",value:o,onChange:v=>u(v.target.value),placeholder:"비밀번호를 입력해주세요."}),A.jsx(qV,{type:"password",value:f,onChange:v=>p(v.target.value),placeholder:"비밀번호 확인을 입력해주세요."})]}),A.jsx(HV,{onClick:g,children:"등록하기"})]})})}const NV=ue.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:r})=>r.colors.gray01};
`,OV=ue.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:r})=>r.colors.white01};
`,MV=ue.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,VV=ue.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:r})=>r.colors.navy};
`,PV=ue.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,kV=ue.div`
  margin-right: auto;
`,LV=ue.img`
  
`,UV=ue.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  gap: 10px;
`,jV=ue.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,zV=ue.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,BV=ue.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,qV=ue.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,HV=ue.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:r})=>r.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:r})=>r.colors.white01};
`;function FV(){const[r,e]=G.useState(!1);return A.jsx(QR,{basename:"/pdms-test",children:A.jsxs(wR,{children:[A.jsx(kh,{path:"/",element:A.jsx(vM,{onLoginSuccess:()=>e(!0)})}),A.jsx(kh,{path:"/dashboard",element:r?A.jsx(CV,{}):A.jsx(SR,{to:"/"})}),A.jsx(kh,{path:"/signup",element:A.jsx(DV,{})})]})})}const GV="/assets/Pretendard-Regular-B2kfZGS5.ttf",$V="/assets/Pretendard-Bold-BIECnYSa.ttf",QV=iC`
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    height: 100vh;
  }

  li {
    list-style: none;
  }

  button {
    background-color: transparent;
    border: none;
    cursor: pointer;
    &:focus {
      outline: none;
    }
  }

  input {
    border: none;

    &:focus {
      outline: none;
    }
  }

  table {
    border-collapse: collapse;

    th, td {
      border: 1px solid #ccc;
    }
  }

  @font-face {
    font-family: 'Pretendard';
    src: url(${GV}) format('truetype');
    font-weight: 400;
  }

  @font-face {
    font-family: 'Pretendard';
    src: url(${$V}) format('truetype');
    font-weight: 700;
  }

`,KV={white01:"#fff",white02:"#f4f4f4",red:"#eb193a",navy:"#073863",gray01:"#ECEDF0",gray02:"#ccc",black:"#212121"},YV={flex:(r="flex-start",e="flex-start")=>`
    display: flex;
    align-items: ${r};
    justify-content: ${e}
  `},XV={colors:KV,mixin:YV};Mb.createRoot(document.getElementById("root")).render(A.jsx(G.StrictMode,{children:A.jsxs(tC,{theme:XV,children:[A.jsx(FV,{}),A.jsx(QV,{})]})}));
