var iP=Object.defineProperty;var sP=(e,t,n)=>t in e?iP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var wt=(e,t,n)=>sP(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function rP(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Z_={exports:{}},xh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS;function aP(){if(nS)return xh;nS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,r){var l=null;if(r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),"key"in s){r={};for(var c in s)c!=="key"&&(r[c]=s[c])}else r=s;return s=r.ref,{$$typeof:e,type:i,key:l,ref:s!==void 0?s:null,props:r}}return xh.Fragment=t,xh.jsx=n,xh.jsxs=n,xh}var iS;function oP(){return iS||(iS=1,Z_.exports=aP()),Z_.exports}var v=oP(),J_={exports:{}},Kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sS;function lP(){if(sS)return Kt;sS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function _(F){return F===null||typeof F!="object"?null:(F=y&&F[y]||F["@@iterator"],typeof F=="function"?F:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function S(F,it,at){this.props=F,this.context=it,this.refs=T,this.updater=at||x}S.prototype.isReactComponent={},S.prototype.setState=function(F,it){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,it,"setState")},S.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function D(){}D.prototype=S.prototype;function I(F,it,at){this.props=F,this.context=it,this.refs=T,this.updater=at||x}var N=I.prototype=new D;N.constructor=I,E(N,S.prototype),N.isPureReactComponent=!0;var H=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function R(F,it,at,ut,yt,St){return at=St.ref,{$$typeof:e,type:F,key:it,ref:at!==void 0?at:null,props:St}}function C(F,it){return R(F.type,it,void 0,void 0,void 0,F.props)}function P(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function V(F){var it={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(at){return it[at]})}var U=/\/+/g;function q(F,it){return typeof F=="object"&&F!==null&&F.key!=null?V(""+F.key):it.toString(36)}function z(){}function Ct(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(z,z):(F.status="pending",F.then(function(it){F.status==="pending"&&(F.status="fulfilled",F.value=it)},function(it){F.status==="pending"&&(F.status="rejected",F.reason=it)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function Q(F,it,at,ut,yt){var St=typeof F;(St==="undefined"||St==="boolean")&&(F=null);var G=!1;if(F===null)G=!0;else switch(St){case"bigint":case"string":case"number":G=!0;break;case"object":switch(F.$$typeof){case e:case t:G=!0;break;case p:return G=F._init,Q(G(F._payload),it,at,ut,yt)}}if(G)return yt=yt(F),G=ut===""?"."+q(F,0):ut,H(yt)?(at="",G!=null&&(at=G.replace(U,"$&/")+"/"),Q(yt,it,at,"",function(gt){return gt})):yt!=null&&(P(yt)&&(yt=C(yt,at+(yt.key==null||F&&F.key===yt.key?"":(""+yt.key).replace(U,"$&/")+"/")+G)),it.push(yt)),1;G=0;var lt=ut===""?".":ut+":";if(H(F))for(var ht=0;ht<F.length;ht++)ut=F[ht],St=lt+q(ut,ht),G+=Q(ut,it,at,St,yt);else if(ht=_(F),typeof ht=="function")for(F=ht.call(F),ht=0;!(ut=F.next()).done;)ut=ut.value,St=lt+q(ut,ht++),G+=Q(ut,it,at,St,yt);else if(St==="object"){if(typeof F.then=="function")return Q(Ct(F),it,at,ut,yt);throw it=String(F),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return G}function $(F,it,at){if(F==null)return F;var ut=[],yt=0;return Q(F,ut,"","",function(St){return it.call(at,St,yt++)}),ut}function K(F){if(F._status===-1){var it=F._result;it=it(),it.then(function(at){(F._status===0||F._status===-1)&&(F._status=1,F._result=at)},function(at){(F._status===0||F._status===-1)&&(F._status=2,F._result=at)}),F._status===-1&&(F._status=0,F._result=it)}if(F._status===1)return F._result.default;throw F._result}var ot=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function nt(){}return Kt.Children={map:$,forEach:function(F,it,at){$(F,function(){it.apply(this,arguments)},at)},count:function(F){var it=0;return $(F,function(){it++}),it},toArray:function(F){return $(F,function(it){return it})||[]},only:function(F){if(!P(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Kt.Component=S,Kt.Fragment=n,Kt.Profiler=s,Kt.PureComponent=I,Kt.StrictMode=i,Kt.Suspense=h,Kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Kt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return M.H.useMemoCache(F)}},Kt.cache=function(F){return function(){return F.apply(null,arguments)}},Kt.cloneElement=function(F,it,at){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ut=E({},F.props),yt=F.key,St=void 0;if(it!=null)for(G in it.ref!==void 0&&(St=void 0),it.key!==void 0&&(yt=""+it.key),it)!Y.call(it,G)||G==="key"||G==="__self"||G==="__source"||G==="ref"&&it.ref===void 0||(ut[G]=it[G]);var G=arguments.length-2;if(G===1)ut.children=at;else if(1<G){for(var lt=Array(G),ht=0;ht<G;ht++)lt[ht]=arguments[ht+2];ut.children=lt}return R(F.type,yt,void 0,void 0,St,ut)},Kt.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:r,_context:F},F},Kt.createElement=function(F,it,at){var ut,yt={},St=null;if(it!=null)for(ut in it.key!==void 0&&(St=""+it.key),it)Y.call(it,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(yt[ut]=it[ut]);var G=arguments.length-2;if(G===1)yt.children=at;else if(1<G){for(var lt=Array(G),ht=0;ht<G;ht++)lt[ht]=arguments[ht+2];yt.children=lt}if(F&&F.defaultProps)for(ut in G=F.defaultProps,G)yt[ut]===void 0&&(yt[ut]=G[ut]);return R(F,St,void 0,void 0,null,yt)},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(F){return{$$typeof:c,render:F}},Kt.isValidElement=P,Kt.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:K}},Kt.memo=function(F,it){return{$$typeof:d,type:F,compare:it===void 0?null:it}},Kt.startTransition=function(F){var it=M.T,at={};M.T=at;try{var ut=F(),yt=M.S;yt!==null&&yt(at,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(nt,ot)}catch(St){ot(St)}finally{M.T=it}},Kt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Kt.use=function(F){return M.H.use(F)},Kt.useActionState=function(F,it,at){return M.H.useActionState(F,it,at)},Kt.useCallback=function(F,it){return M.H.useCallback(F,it)},Kt.useContext=function(F){return M.H.useContext(F)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(F,it){return M.H.useDeferredValue(F,it)},Kt.useEffect=function(F,it,at){var ut=M.H;if(typeof at=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ut.useEffect(F,it)},Kt.useId=function(){return M.H.useId()},Kt.useImperativeHandle=function(F,it,at){return M.H.useImperativeHandle(F,it,at)},Kt.useInsertionEffect=function(F,it){return M.H.useInsertionEffect(F,it)},Kt.useLayoutEffect=function(F,it){return M.H.useLayoutEffect(F,it)},Kt.useMemo=function(F,it){return M.H.useMemo(F,it)},Kt.useOptimistic=function(F,it){return M.H.useOptimistic(F,it)},Kt.useReducer=function(F,it,at){return M.H.useReducer(F,it,at)},Kt.useRef=function(F){return M.H.useRef(F)},Kt.useState=function(F){return M.H.useState(F)},Kt.useSyncExternalStore=function(F,it,at){return M.H.useSyncExternalStore(F,it,at)},Kt.useTransition=function(){return M.H.useTransition()},Kt.version="19.1.0",Kt}var rS;function rv(){return rS||(rS=1,J_.exports=lP()),J_.exports}var j=rv();const Et=rP(j);var tb={exports:{}},wh={},eb={exports:{}},nb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aS;function cP(){return aS||(aS=1,function(e){function t($,K){var ot=$.length;$.push(K);t:for(;0<ot;){var nt=ot-1>>>1,F=$[nt];if(0<s(F,K))$[nt]=K,$[ot]=F,ot=nt;else break t}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var K=$[0],ot=$.pop();if(ot!==K){$[0]=ot;t:for(var nt=0,F=$.length,it=F>>>1;nt<it;){var at=2*(nt+1)-1,ut=$[at],yt=at+1,St=$[yt];if(0>s(ut,ot))yt<F&&0>s(St,ut)?($[nt]=St,$[yt]=ot,nt=yt):($[nt]=ut,$[at]=ot,nt=at);else if(yt<F&&0>s(St,ot))$[nt]=St,$[yt]=ot,nt=yt;else break t}}return K}function s($,K){var ot=$.sortIndex-K.sortIndex;return ot!==0?ot:$.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var h=[],d=[],p=1,y=null,_=3,x=!1,E=!1,T=!1,S=!1,D=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function H($){for(var K=n(d);K!==null;){if(K.callback===null)i(d);else if(K.startTime<=$)i(d),K.sortIndex=K.expirationTime,t(h,K);else break;K=n(d)}}function M($){if(T=!1,H($),!E)if(n(h)!==null)E=!0,Y||(Y=!0,q());else{var K=n(d);K!==null&&Q(M,K.startTime-$)}}var Y=!1,R=-1,C=5,P=-1;function V(){return S?!0:!(e.unstable_now()-P<C)}function U(){if(S=!1,Y){var $=e.unstable_now();P=$;var K=!0;try{t:{E=!1,T&&(T=!1,I(R),R=-1),x=!0;var ot=_;try{e:{for(H($),y=n(h);y!==null&&!(y.expirationTime>$&&V());){var nt=y.callback;if(typeof nt=="function"){y.callback=null,_=y.priorityLevel;var F=nt(y.expirationTime<=$);if($=e.unstable_now(),typeof F=="function"){y.callback=F,H($),K=!0;break e}y===n(h)&&i(h),H($)}else i(h);y=n(h)}if(y!==null)K=!0;else{var it=n(d);it!==null&&Q(M,it.startTime-$),K=!1}}break t}finally{y=null,_=ot,x=!1}K=void 0}}finally{K?q():Y=!1}}}var q;if(typeof N=="function")q=function(){N(U)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Ct=z.port2;z.port1.onmessage=U,q=function(){Ct.postMessage(null)}}else q=function(){D(U,0)};function Q($,K){R=D(function(){$(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function($){switch(_){case 1:case 2:case 3:var K=3;break;default:K=_}var ot=_;_=K;try{return $()}finally{_=ot}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function($,K){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ot=_;_=$;try{return K()}finally{_=ot}},e.unstable_scheduleCallback=function($,K,ot){var nt=e.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?nt+ot:nt):ot=nt,$){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ot+F,$={id:p++,callback:K,priorityLevel:$,startTime:ot,expirationTime:F,sortIndex:-1},ot>nt?($.sortIndex=ot,t(d,$),n(h)===null&&$===n(d)&&(T?(I(R),R=-1):T=!0,Q(M,ot-nt))):($.sortIndex=F,t(h,$),E||x||(E=!0,Y||(Y=!0,q()))),$},e.unstable_shouldYield=V,e.unstable_wrapCallback=function($){var K=_;return function(){var ot=_;_=K;try{return $.apply(this,arguments)}finally{_=ot}}}}(nb)),nb}var oS;function uP(){return oS||(oS=1,eb.exports=cP()),eb.exports}var ib={exports:{}},ii={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lS;function hP(){if(lS)return ii;lS=1;var e=rv();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(h,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:d,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ii.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ii.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return r(h,d,null,p)},ii.flushSync=function(h){var d=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=d,i.p=p,i.d.f()}},ii.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},ii.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},ii.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:x}):p==="script"&&i.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ii.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},ii.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin);i.d.L(h,p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ii.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=c(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},ii.requestFormReset=function(h){i.d.r(h)},ii.unstable_batchedUpdates=function(h,d){return h(d)},ii.useFormState=function(h,d,p){return l.H.useFormState(h,d,p)},ii.useFormStatus=function(){return l.H.useHostTransitionStatus()},ii.version="19.1.0",ii}var cS;function dP(){if(cS)return ib.exports;cS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ib.exports=hP(),ib.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uS;function fP(){if(uS)return wh;uS=1;var e=uP(),t=rv(),n=dP();function i(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function r(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(r(a)!==a)throw Error(i(188))}function h(a){var o=a.alternate;if(!o){if(o=r(a),o===null)throw Error(i(188));return o!==a?null:a}for(var u=a,f=o;;){var m=u.return;if(m===null)break;var b=m.alternate;if(b===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===u)return c(m),a;if(b===f)return c(m),o;b=b.sibling}throw Error(i(188))}if(u.return!==f.return)u=m,f=b;else{for(var k=!1,O=m.child;O;){if(O===u){k=!0,u=m,f=b;break}if(O===f){k=!0,f=m,u=b;break}O=O.sibling}if(!k){for(O=b.child;O;){if(O===u){k=!0,u=b,f=m;break}if(O===f){k=!0,f=b,u=m;break}O=O.sibling}if(!k)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?a:o}function d(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=d(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),N=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function q(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var z=Symbol.for("react.client.reference");function Ct(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===z?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case S:return"Profiler";case T:return"StrictMode";case M:return"Suspense";case Y:return"SuspenseList";case P:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case x:return"Portal";case N:return(a.displayName||"Context")+".Provider";case I:return(a._context.displayName||"Context")+".Consumer";case H:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return o=a.displayName||null,o!==null?o:Ct(a.type)||"Memo";case C:o=a._payload,a=a._init;try{return Ct(a(o))}catch{}}return null}var Q=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},nt=[],F=-1;function it(a){return{current:a}}function at(a){0>F||(a.current=nt[F],nt[F]=null,F--)}function ut(a,o){F++,nt[F]=a.current,a.current=o}var yt=it(null),St=it(null),G=it(null),lt=it(null);function ht(a,o){switch(ut(G,o),ut(St,a),ut(yt,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?DE(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=DE(o),a=ME(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}at(yt),ut(yt,a)}function gt(){at(yt),at(St),at(G)}function vt(a){a.memoizedState!==null&&ut(lt,a);var o=yt.current,u=ME(o,a.type);o!==u&&(ut(St,a),ut(yt,u))}function zt(a){St.current===a&&(at(yt),at(St)),lt.current===a&&(at(lt),mh._currentValue=ot)}var Xt=Object.prototype.hasOwnProperty,ye=e.unstable_scheduleCallback,Pe=e.unstable_cancelCallback,En=e.unstable_shouldYield,ei=e.unstable_requestPaint,Ze=e.unstable_now,hr=e.unstable_getCurrentPriorityLevel,dr=e.unstable_ImmediatePriority,bt=e.unstable_UserBlockingPriority,Mt=e.unstable_NormalPriority,At=e.unstable_LowPriority,Tt=e.unstable_IdlePriority,te=e.log,fi=e.unstable_setDisableYieldValue,fe=null,ee=null;function pi(a){if(typeof te=="function"&&fi(a),ee&&typeof ee.setStrictMode=="function")try{ee.setStrictMode(fe,a)}catch{}}var In=Math.clz32?Math.clz32:fr,Pl=Math.log,vu=Math.LN2;function fr(a){return a>>>=0,a===0?32:31-(Pl(a)/vu|0)|0}var pr=256,gr=4194304;function Ci(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function mr(a,o,u){var f=a.pendingLanes;if(f===0)return 0;var m=0,b=a.suspendedLanes,k=a.pingedLanes;a=a.warmLanes;var O=f&134217727;return O!==0?(f=O&~b,f!==0?m=Ci(f):(k&=O,k!==0?m=Ci(k):u||(u=O&~a,u!==0&&(m=Ci(u))))):(O=f&~b,O!==0?m=Ci(O):k!==0?m=Ci(k):u||(u=f&~a,u!==0&&(m=Ci(u)))),m===0?0:o!==0&&o!==m&&(o&b)===0&&(b=m&-m,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:m}function yr(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function ha(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ht(){var a=pr;return pr<<=1,(pr&4194048)===0&&(pr=256),a}function _e(){var a=gr;return gr<<=1,(gr&62914560)===0&&(gr=4194304),a}function Vt(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function de(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function On(a,o,u,f,m,b){var k=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var O=a.entanglements,W=a.expirationTimes,et=a.hiddenUpdates;for(u=k&~u;0<u;){var dt=31-In(u),mt=1<<dt;O[dt]=0,W[dt]=-1;var st=et[dt];if(st!==null)for(et[dt]=null,dt=0;dt<st.length;dt++){var rt=st[dt];rt!==null&&(rt.lane&=-536870913)}u&=~mt}f!==0&&Wt(a,f,0),b!==0&&m===0&&a.tag!==0&&(a.suspendedLanes|=b&~(k&~o))}function Wt(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var f=31-In(o);a.entangledLanes|=o,a.entanglements[f]=a.entanglements[f]|1073741824|u&4194090}function So(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var f=31-In(u),m=1<<f;m&o|a[f]&o&&(a[f]|=o),u&=~m}}function Cs(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function da(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Hi(){var a=K.p;return a!==0?a:(a=window.event,a===void 0?32:XE(a.type))}function fa(a,o){var u=K.p;try{return K.p=a,o()}finally{K.p=u}}var $e=Math.random().toString(36).slice(2),Sn="__reactFiber$"+$e,un="__reactProps$"+$e,Wi="__reactContainer$"+$e,xu="__reactEvents$"+$e,ey="__reactListeners$"+$e,pa="__reactHandles$"+$e,nf="__reactResources$"+$e,To="__reactMarker$"+$e;function ga(a){delete a[Sn],delete a[un],delete a[xu],delete a[ey],delete a[pa]}function _r(a){var o=a[Sn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[Wi]||u[Sn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=NE(a);a!==null;){if(u=a[Sn])return u;a=NE(a)}return o}a=u,u=a.parentNode}return null}function Ds(a){if(a=a[Sn]||a[Wi]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function Ms(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(i(33))}function gi(a){var o=a[nf];return o||(o=a[nf]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function rn(a){a[To]=!0}var wu=new Set,Nl={};function us(a,o){br(a,o),br(a+"Capture",o)}function br(a,o){for(Nl[a]=o,a=0;a<o.length;a++)wu.add(o[a])}var sf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rf={},Ao={};function af(a){return Xt.call(Ao,a)?!0:Xt.call(rf,a)?!1:sf.test(a)?Ao[a]=!0:(rf[a]=!0,!1)}function ma(a,o,u){if(af(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function Is(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function Hn(a,o,u,f){if(f===null)a.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+f)}}var ko,of;function vr(a){if(ko===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ko=o&&o[1]||"",of=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ko+a+of}var Ll=!1;function jl(a,o){if(!a||Ll)return"";Ll=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(rt){var st=rt}Reflect.construct(a,[],mt)}else{try{mt.call()}catch(rt){st=rt}a.call(mt.prototype)}}else{try{throw Error()}catch(rt){st=rt}(mt=a())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(rt){if(rt&&st&&typeof rt.stack=="string")return[rt.stack,st.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),k=b[0],O=b[1];if(k&&O){var W=k.split(`
`),et=O.split(`
`);for(m=f=0;f<W.length&&!W[f].includes("DetermineComponentFrameRoot");)f++;for(;m<et.length&&!et[m].includes("DetermineComponentFrameRoot");)m++;if(f===W.length||m===et.length)for(f=W.length-1,m=et.length-1;1<=f&&0<=m&&W[f]!==et[m];)m--;for(;1<=f&&0<=m;f--,m--)if(W[f]!==et[m]){if(f!==1||m!==1)do if(f--,m--,0>m||W[f]!==et[m]){var dt=`
`+W[f].replace(" at new "," at ");return a.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",a.displayName)),dt}while(1<=f&&0<=m);break}}}finally{Ll=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?vr(u):""}function Eu(a){switch(a.tag){case 26:case 27:case 5:return vr(a.type);case 16:return vr("Lazy");case 13:return vr("Suspense");case 19:return vr("SuspenseList");case 0:case 15:return jl(a.type,!1);case 11:return jl(a.type.render,!1);case 1:return jl(a.type,!0);case 31:return vr("Activity");default:return""}}function Vl(a){try{var o="";do o+=Eu(a),a=a.return;while(a);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function mi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Su(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ny(a){var o=Su(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),f=""+a[o];if(!a.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,b=u.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return m.call(this)},set:function(k){f=""+k,b.call(this,k)}}),Object.defineProperty(a,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Ul(a){a._valueTracker||(a._valueTracker=ny(a))}function Tu(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return a&&(f=Su(a)?a.checked?"true":"false":a.value),a=f,a!==u?(o.setValue(a),!0):!1}function Ro(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var iy=/[\n"\\]/g;function hn(a){return a.replace(iy,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Di(a,o,u,f,m,b,k,O){a.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.type=k:a.removeAttribute("type"),o!=null?k==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+mi(o)):a.value!==""+mi(o)&&(a.value=""+mi(o)):k!=="submit"&&k!=="reset"||a.removeAttribute("value"),o!=null?ya(a,k,mi(o)):u!=null?ya(a,k,mi(u)):f!=null&&a.removeAttribute("value"),m==null&&b!=null&&(a.defaultChecked=!!b),m!=null&&(a.checked=m&&typeof m!="function"&&typeof m!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.name=""+mi(O):a.removeAttribute("name")}function Co(a,o,u,f,m,b,k,O){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;u=u!=null?""+mi(u):"",o=o!=null?""+mi(o):u,O||o===a.value||(a.value=o),a.defaultValue=o}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=O?a.checked:!!f,a.defaultChecked=!!f,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.name=k)}function ya(a,o,u){o==="number"&&Ro(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function xr(a,o,u,f){if(a=a.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<a.length;u++)m=o.hasOwnProperty("$"+a[u].value),a[u].selected!==m&&(a[u].selected=m),m&&f&&(a[u].defaultSelected=!0)}else{for(u=""+mi(u),o=null,m=0;m<a.length;m++){if(a[m].value===u){a[m].selected=!0,f&&(a[m].defaultSelected=!0);return}o!==null||a[m].disabled||(o=a[m])}o!==null&&(o.selected=!0)}}function Ae(a,o,u){if(o!=null&&(o=""+mi(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+mi(u):""}function Do(a,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(i(92));if(Q(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=mi(o),a.defaultValue=u,f=a.textContent,f===u&&f!==""&&f!==null&&(a.value=f)}function Yi(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var Mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lf(a,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":f?a.setProperty(o,u):typeof u!="number"||u===0||Mo.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function Au(a,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(a=a.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var m in o)f=o[m],o.hasOwnProperty(m)&&u[m]!==f&&lf(a,m,f)}else for(var b in o)o.hasOwnProperty(b)&&lf(a,b,o[b])}function ku(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ry=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zl(a){return ry.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var wr=null;function Gi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Er=null,Sr=null;function Ru(a){var o=Ds(a);if(o&&(a=o.stateNode)){var u=a[un]||null;t:switch(a=o.stateNode,o.type){case"input":if(Di(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+hn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==a&&f.form===a.form){var m=f[un]||null;if(!m)throw Error(i(90));Di(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===a.form&&Tu(f)}break t;case"textarea":Ae(a,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&xr(a,!!u.multiple,o,!1)}}}var Os=!1;function cf(a,o,u){if(Os)return a(o,u);Os=!0;try{var f=a(o);return f}finally{if(Os=!1,(Er!==null||Sr!==null)&&(np(),Er&&(o=Er,a=Sr,Sr=Er=null,Ru(o),a)))for(o=0;o<a.length;o++)Ru(a[o])}}function Io(a,o){var u=a.stateNode;if(u===null)return null;var f=u[un]||null;if(f===null)return null;u=f[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break t;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ki=!1;if(hs)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){Ki=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{Ki=!1}var Ps=null,_a=null,Tr=null;function Cu(){if(Tr)return Tr;var a,o=_a,u=o.length,f,m="value"in Ps?Ps.value:Ps.textContent,b=m.length;for(a=0;a<u&&o[a]===m[a];a++);var k=u-a;for(f=1;f<=k&&o[u-f]===m[b-f];f++);return Tr=m.slice(a,1<f?1-f:void 0)}function Ns(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Ls(){return!0}function Du(){return!1}function Pn(a){function o(u,f,m,b,k){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var O in a)a.hasOwnProperty(O)&&(u=a[O],this[O]=u?u(b):b[O]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ls:Du,this.isPropagationStopped=Du,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),o}var be={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fl=Pn(be),Po=p({},be,{view:0,detail:0}),uf=Pn(Po),Bl,$l,js,No=p({},Po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==js&&(js&&a.type==="mousemove"?(Bl=a.screenX-js.screenX,$l=a.screenY-js.screenY):$l=Bl=0,js=a),Bl)},movementY:function(a){return"movementY"in a?a.movementY:$l}}),Xi=Pn(No),hf=p({},No,{dataTransfer:0}),ay=Pn(hf),Lo=p({},Po,{relatedTarget:0}),ql=Pn(Lo),Mu=p({},be,{animationName:0,elapsedTime:0,pseudoElement:0}),Hl=Pn(Mu),df=p({},be,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Wl=Pn(df),oy=p({},be,{data:0}),Iu=Pn(oy),jo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ff={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ou(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=pf[a])?!!o[a]:!1}function Vo(){return Ou}var gf=p({},Po,{key:function(a){if(a.key){var o=jo[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Ns(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?ff[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vo,charCode:function(a){return a.type==="keypress"?Ns(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ns(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Yl=Pn(gf),mf=p({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pu=Pn(mf),Ar=p({},Po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vo}),yf=Pn(Ar),_f=p({},be,{propertyName:0,elapsedTime:0,pseudoElement:0}),bf=Pn(_f),vf=p({},No,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Gl=Pn(vf),yi=p({},be,{newState:0,oldState:0}),xf=Pn(yi),wf=[9,13,27,32],Vs=hs&&"CompositionEvent"in window,g=null;hs&&"documentMode"in document&&(g=document.documentMode);var w=hs&&"TextEvent"in window&&!g,A=hs&&(!Vs||g&&8<g&&11>=g),L=" ",J=!1;function ct(a,o){switch(a){case"keyup":return wf.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xt(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var le=!1;function Tn(a,o){switch(a){case"compositionend":return xt(o);case"keypress":return o.which!==32?null:(J=!0,L);case"textInput":return a=o.data,a===L&&J?null:a;default:return null}}function ce(a,o){if(le)return a==="compositionend"||!Vs&&ct(a,o)?(a=Cu(),Tr=_a=Ps=null,le=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return A&&o.locale!=="ko"?null:o.data;default:return null}}var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Nn[a.type]:o==="textarea"}function kr(a,o,u,f){Er?Sr?Sr.push(f):Sr=[f]:Er=f,o=lp(o,"onChange"),0<o.length&&(u=new Fl("onChange","change",null,u,f),a.push({event:u,listeners:o}))}var Wn=null,Us=null;function Nu(a){TE(a,0)}function Ef(a){var o=Ms(a);if(Tu(o))return a}function Wx(a,o){if(a==="change")return o}var Yx=!1;if(hs){var ly;if(hs){var cy="oninput"in document;if(!cy){var Gx=document.createElement("div");Gx.setAttribute("oninput","return;"),cy=typeof Gx.oninput=="function"}ly=cy}else ly=!1;Yx=ly&&(!document.documentMode||9<document.documentMode)}function Kx(){Wn&&(Wn.detachEvent("onpropertychange",Xx),Us=Wn=null)}function Xx(a){if(a.propertyName==="value"&&Ef(Us)){var o=[];kr(o,Us,a,Gi(a)),cf(Nu,o)}}function OO(a,o,u){a==="focusin"?(Kx(),Wn=o,Us=u,Wn.attachEvent("onpropertychange",Xx)):a==="focusout"&&Kx()}function PO(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ef(Us)}function NO(a,o){if(a==="click")return Ef(o)}function LO(a,o){if(a==="input"||a==="change")return Ef(o)}function jO(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Mi=typeof Object.is=="function"?Object.is:jO;function Lu(a,o){if(Mi(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!Xt.call(o,m)||!Mi(a[m],o[m]))return!1}return!0}function Qx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Zx(a,o){var u=Qx(a);a=0;for(var f;u;){if(u.nodeType===3){if(f=a+u.textContent.length,a<=o&&f>=o)return{node:u,offset:o-a};a=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=Qx(u)}}function Jx(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Jx(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function tw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Ro(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Ro(a.document)}return o}function uy(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var VO=hs&&"documentMode"in document&&11>=document.documentMode,Kl=null,hy=null,ju=null,dy=!1;function ew(a,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;dy||Kl==null||Kl!==Ro(f)||(f=Kl,"selectionStart"in f&&uy(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ju&&Lu(ju,f)||(ju=f,f=lp(hy,"onSelect"),0<f.length&&(o=new Fl("onSelect","select",null,o,u),a.push({event:o,listeners:f}),o.target=Kl)))}function Uo(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var Xl={animationend:Uo("Animation","AnimationEnd"),animationiteration:Uo("Animation","AnimationIteration"),animationstart:Uo("Animation","AnimationStart"),transitionrun:Uo("Transition","TransitionRun"),transitionstart:Uo("Transition","TransitionStart"),transitioncancel:Uo("Transition","TransitionCancel"),transitionend:Uo("Transition","TransitionEnd")},fy={},nw={};hs&&(nw=document.createElement("div").style,"AnimationEvent"in window||(delete Xl.animationend.animation,delete Xl.animationiteration.animation,delete Xl.animationstart.animation),"TransitionEvent"in window||delete Xl.transitionend.transition);function zo(a){if(fy[a])return fy[a];if(!Xl[a])return a;var o=Xl[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in nw)return fy[a]=o[u];return a}var iw=zo("animationend"),sw=zo("animationiteration"),rw=zo("animationstart"),UO=zo("transitionrun"),zO=zo("transitionstart"),FO=zo("transitioncancel"),aw=zo("transitionend"),ow=new Map,py="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");py.push("scrollEnd");function ds(a,o){ow.set(a,o),us(o,[a])}var lw=new WeakMap;function Qi(a,o){if(typeof a=="object"&&a!==null){var u=lw.get(a);return u!==void 0?u:(o={value:a,source:o,stack:Vl(o)},lw.set(a,o),o)}return{value:a,source:o,stack:Vl(o)}}var Zi=[],Ql=0,gy=0;function Sf(){for(var a=Ql,o=gy=Ql=0;o<a;){var u=Zi[o];Zi[o++]=null;var f=Zi[o];Zi[o++]=null;var m=Zi[o];Zi[o++]=null;var b=Zi[o];if(Zi[o++]=null,f!==null&&m!==null){var k=f.pending;k===null?m.next=m:(m.next=k.next,k.next=m),f.pending=m}b!==0&&cw(u,m,b)}}function Tf(a,o,u,f){Zi[Ql++]=a,Zi[Ql++]=o,Zi[Ql++]=u,Zi[Ql++]=f,gy|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function my(a,o,u,f){return Tf(a,o,u,f),Af(a)}function Zl(a,o){return Tf(a,null,null,o),Af(a)}function cw(a,o,u){a.lanes|=u;var f=a.alternate;f!==null&&(f.lanes|=u);for(var m=!1,b=a.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(m=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,m&&o!==null&&(m=31-In(u),a=b.hiddenUpdates,f=a[m],f===null?a[m]=[o]:f.push(o),o.lane=u|536870912),b):null}function Af(a){if(50<lh)throw lh=0,w_=null,Error(i(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Jl={};function BO(a,o,u,f){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(a,o,u,f){return new BO(a,o,u,f)}function yy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Rr(a,o){var u=a.alternate;return u===null?(u=Ii(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function uw(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function kf(a,o,u,f,m,b){var k=0;if(f=a,typeof a=="function")yy(a)&&(k=1);else if(typeof a=="string")k=q2(a,u,yt.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case P:return a=Ii(31,u,o,m),a.elementType=P,a.lanes=b,a;case E:return Fo(u.children,m,b,o);case T:k=8,m|=24;break;case S:return a=Ii(12,u,o,m|2),a.elementType=S,a.lanes=b,a;case M:return a=Ii(13,u,o,m),a.elementType=M,a.lanes=b,a;case Y:return a=Ii(19,u,o,m),a.elementType=Y,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:case N:k=10;break t;case I:k=9;break t;case H:k=11;break t;case R:k=14;break t;case C:k=16,f=null;break t}k=29,u=Error(i(130,a===null?"null":typeof a,"")),f=null}return o=Ii(k,u,o,m),o.elementType=a,o.type=f,o.lanes=b,o}function Fo(a,o,u,f){return a=Ii(7,a,f,o),a.lanes=u,a}function _y(a,o,u){return a=Ii(6,a,null,o),a.lanes=u,a}function by(a,o,u){return o=Ii(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var tc=[],ec=0,Rf=null,Cf=0,Ji=[],ts=0,Bo=null,Cr=1,Dr="";function $o(a,o){tc[ec++]=Cf,tc[ec++]=Rf,Rf=a,Cf=o}function hw(a,o,u){Ji[ts++]=Cr,Ji[ts++]=Dr,Ji[ts++]=Bo,Bo=a;var f=Cr;a=Dr;var m=32-In(f)-1;f&=~(1<<m),u+=1;var b=32-In(o)+m;if(30<b){var k=m-m%5;b=(f&(1<<k)-1).toString(32),f>>=k,m-=k,Cr=1<<32-In(o)+m|u<<m|f,Dr=b+a}else Cr=1<<b|u<<m|f,Dr=a}function vy(a){a.return!==null&&($o(a,1),hw(a,1,0))}function xy(a){for(;a===Rf;)Rf=tc[--ec],tc[ec]=null,Cf=tc[--ec],tc[ec]=null;for(;a===Bo;)Bo=Ji[--ts],Ji[ts]=null,Dr=Ji[--ts],Ji[ts]=null,Cr=Ji[--ts],Ji[ts]=null}var _i=null,Je=null,me=!1,qo=null,zs=!1,wy=Error(i(519));function Ho(a){var o=Error(i(418,""));throw zu(Qi(o,a)),wy}function dw(a){var o=a.stateNode,u=a.type,f=a.memoizedProps;switch(o[Sn]=a,o[un]=f,u){case"dialog":ie("cancel",o),ie("close",o);break;case"iframe":case"object":case"embed":ie("load",o);break;case"video":case"audio":for(u=0;u<uh.length;u++)ie(uh[u],o);break;case"source":ie("error",o);break;case"img":case"image":case"link":ie("error",o),ie("load",o);break;case"details":ie("toggle",o);break;case"input":ie("invalid",o),Co(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Ul(o);break;case"select":ie("invalid",o);break;case"textarea":ie("invalid",o),Do(o,f.value,f.defaultValue,f.children),Ul(o)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||CE(o.textContent,u)?(f.popover!=null&&(ie("beforetoggle",o),ie("toggle",o)),f.onScroll!=null&&ie("scroll",o),f.onScrollEnd!=null&&ie("scrollend",o),f.onClick!=null&&(o.onclick=cp),o=!0):o=!1,o||Ho(a)}function fw(a){for(_i=a.return;_i;)switch(_i.tag){case 5:case 13:zs=!1;return;case 27:case 3:zs=!0;return;default:_i=_i.return}}function Vu(a){if(a!==_i)return!1;if(!me)return fw(a),me=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||V_(a.type,a.memoizedProps)),u=!u),u&&Je&&Ho(a),fw(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));t:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(o===0){Je=ps(a.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;a=a.nextSibling}Je=null}}else o===27?(o=Je,Pa(a.type)?(a=B_,B_=null,Je=a):Je=o):Je=_i?ps(a.stateNode.nextSibling):null;return!0}function Uu(){Je=_i=null,me=!1}function pw(){var a=qo;return a!==null&&(Ei===null?Ei=a:Ei.push.apply(Ei,a),qo=null),a}function zu(a){qo===null?qo=[a]:qo.push(a)}var Ey=it(null),Wo=null,Mr=null;function ba(a,o,u){ut(Ey,o._currentValue),o._currentValue=u}function Ir(a){a._currentValue=Ey.current,at(Ey)}function Sy(a,o,u){for(;a!==null;){var f=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),a===u)break;a=a.return}}function Ty(a,o,u,f){var m=a.child;for(m!==null&&(m.return=a);m!==null;){var b=m.dependencies;if(b!==null){var k=m.child;b=b.firstContext;t:for(;b!==null;){var O=b;b=m;for(var W=0;W<o.length;W++)if(O.context===o[W]){b.lanes|=u,O=b.alternate,O!==null&&(O.lanes|=u),Sy(b.return,u,a),f||(k=null);break t}b=O.next}}else if(m.tag===18){if(k=m.return,k===null)throw Error(i(341));k.lanes|=u,b=k.alternate,b!==null&&(b.lanes|=u),Sy(k,u,a),k=null}else k=m.child;if(k!==null)k.return=m;else for(k=m;k!==null;){if(k===a){k=null;break}if(m=k.sibling,m!==null){m.return=k.return,k=m;break}k=k.return}m=k}}function Fu(a,o,u,f){a=null;for(var m=o,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var k=m.alternate;if(k===null)throw Error(i(387));if(k=k.memoizedProps,k!==null){var O=m.type;Mi(m.pendingProps.value,k.value)||(a!==null?a.push(O):a=[O])}}else if(m===lt.current){if(k=m.alternate,k===null)throw Error(i(387));k.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(a!==null?a.push(mh):a=[mh])}m=m.return}a!==null&&Ty(o,a,u,f),o.flags|=262144}function Df(a){for(a=a.firstContext;a!==null;){if(!Mi(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Yo(a){Wo=a,Mr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ni(a){return gw(Wo,a)}function Mf(a,o){return Wo===null&&Yo(a),gw(a,o)}function gw(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Mr===null){if(a===null)throw Error(i(308));Mr=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Mr=Mr.next=o;return u}var $O=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,f){a.push(f)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},qO=e.unstable_scheduleCallback,HO=e.unstable_NormalPriority,kn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ay(){return{controller:new $O,data:new Map,refCount:0}}function Bu(a){a.refCount--,a.refCount===0&&qO(HO,function(){a.controller.abort()})}var $u=null,ky=0,nc=0,ic=null;function WO(a,o){if($u===null){var u=$u=[];ky=0,nc=C_(),ic={status:"pending",value:void 0,then:function(f){u.push(f)}}}return ky++,o.then(mw,mw),o}function mw(){if(--ky===0&&$u!==null){ic!==null&&(ic.status="fulfilled");var a=$u;$u=null,nc=0,ic=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function YO(a,o){var u=[],f={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return a.then(function(){f.status="fulfilled",f.value=o;for(var m=0;m<u.length;m++)(0,u[m])(o)},function(m){for(f.status="rejected",f.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),f}var yw=$.S;$.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&WO(a,o),yw!==null&&yw(a,o)};var Go=it(null);function Ry(){var a=Go.current;return a!==null?a:Ne.pooledCache}function If(a,o){o===null?ut(Go,Go.current):ut(Go,o.pool)}function _w(){var a=Ry();return a===null?null:{parent:kn._currentValue,pool:a}}var qu=Error(i(460)),bw=Error(i(474)),Of=Error(i(542)),Cy={then:function(){}};function vw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Pf(){}function xw(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Pf,Pf),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Ew(a),a;default:if(typeof o.status=="string")o.then(Pf,Pf);else{if(a=Ne,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=o,a.status="pending",a.then(function(f){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=f}},function(f){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Ew(a),a}throw Hu=o,qu}}var Hu=null;function ww(){if(Hu===null)throw Error(i(459));var a=Hu;return Hu=null,a}function Ew(a){if(a===qu||a===Of)throw Error(i(483))}var va=!1;function Dy(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function My(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function xa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function wa(a,o,u){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(Ee&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,o=Af(a),cw(a,null,u),o}return Tf(a,f,o,u),Af(a)}function Wu(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var f=o.lanes;f&=a.pendingLanes,u|=f,o.lanes=u,So(a,u)}}function Iy(a,o){var u=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var k={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?m=b=k:b=b.next=k,u=u.next}while(u!==null);b===null?m=b=o:b=b.next=o}else m=b=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var Oy=!1;function Yu(){if(Oy){var a=ic;if(a!==null)throw a}}function Gu(a,o,u,f){Oy=!1;var m=a.updateQueue;va=!1;var b=m.firstBaseUpdate,k=m.lastBaseUpdate,O=m.shared.pending;if(O!==null){m.shared.pending=null;var W=O,et=W.next;W.next=null,k===null?b=et:k.next=et,k=W;var dt=a.alternate;dt!==null&&(dt=dt.updateQueue,O=dt.lastBaseUpdate,O!==k&&(O===null?dt.firstBaseUpdate=et:O.next=et,dt.lastBaseUpdate=W))}if(b!==null){var mt=m.baseState;k=0,dt=et=W=null,O=b;do{var st=O.lane&-536870913,rt=st!==O.lane;if(rt?(ue&st)===st:(f&st)===st){st!==0&&st===nc&&(Oy=!0),dt!==null&&(dt=dt.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});t:{var Ft=a,Lt=O;st=o;var Ce=u;switch(Lt.tag){case 1:if(Ft=Lt.payload,typeof Ft=="function"){mt=Ft.call(Ce,mt,st);break t}mt=Ft;break t;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=Lt.payload,st=typeof Ft=="function"?Ft.call(Ce,mt,st):Ft,st==null)break t;mt=p({},mt,st);break t;case 2:va=!0}}st=O.callback,st!==null&&(a.flags|=64,rt&&(a.flags|=8192),rt=m.callbacks,rt===null?m.callbacks=[st]:rt.push(st))}else rt={lane:st,tag:O.tag,payload:O.payload,callback:O.callback,next:null},dt===null?(et=dt=rt,W=mt):dt=dt.next=rt,k|=st;if(O=O.next,O===null){if(O=m.shared.pending,O===null)break;rt=O,O=rt.next,rt.next=null,m.lastBaseUpdate=rt,m.shared.pending=null}}while(!0);dt===null&&(W=mt),m.baseState=W,m.firstBaseUpdate=et,m.lastBaseUpdate=dt,b===null&&(m.shared.lanes=0),Da|=k,a.lanes=k,a.memoizedState=mt}}function Sw(a,o){if(typeof a!="function")throw Error(i(191,a));a.call(o)}function Tw(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)Sw(u[a],o)}var sc=it(null),Nf=it(0);function Aw(a,o){a=Ur,ut(Nf,a),ut(sc,o),Ur=a|o.baseLanes}function Py(){ut(Nf,Ur),ut(sc,sc.current)}function Ny(){Ur=Nf.current,at(sc),at(Nf)}var Ea=0,Zt=null,ke=null,dn=null,Lf=!1,rc=!1,Ko=!1,jf=0,Ku=0,ac=null,GO=0;function an(){throw Error(i(321))}function Ly(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Mi(a[u],o[u]))return!1;return!0}function jy(a,o,u,f,m,b){return Ea=b,Zt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$.H=a===null||a.memoizedState===null?c1:u1,Ko=!1,b=u(f,m),Ko=!1,rc&&(b=Rw(o,u,f,m)),kw(a),b}function kw(a){$.H=$f;var o=ke!==null&&ke.next!==null;if(Ea=0,dn=ke=Zt=null,Lf=!1,Ku=0,ac=null,o)throw Error(i(300));a===null||Ln||(a=a.dependencies,a!==null&&Df(a)&&(Ln=!0))}function Rw(a,o,u,f){Zt=a;var m=0;do{if(rc&&(ac=null),Ku=0,rc=!1,25<=m)throw Error(i(301));if(m+=1,dn=ke=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}$.H=e2,b=o(u,f)}while(rc);return b}function KO(){var a=$.H,o=a.useState()[0];return o=typeof o.then=="function"?Xu(o):o,a=a.useState()[0],(ke!==null?ke.memoizedState:null)!==a&&(Zt.flags|=1024),o}function Vy(){var a=jf!==0;return jf=0,a}function Uy(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function zy(a){if(Lf){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Lf=!1}Ea=0,dn=ke=Zt=null,rc=!1,Ku=jf=0,ac=null}function xi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Zt.memoizedState=dn=a:dn=dn.next=a,dn}function fn(){if(ke===null){var a=Zt.alternate;a=a!==null?a.memoizedState:null}else a=ke.next;var o=dn===null?Zt.memoizedState:dn.next;if(o!==null)dn=o,ke=a;else{if(a===null)throw Zt.alternate===null?Error(i(467)):Error(i(310));ke=a,a={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},dn===null?Zt.memoizedState=dn=a:dn=dn.next=a}return dn}function Fy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xu(a){var o=Ku;return Ku+=1,ac===null&&(ac=[]),a=xw(ac,a,o),o=Zt,(dn===null?o.memoizedState:dn.next)===null&&(o=o.alternate,$.H=o===null||o.memoizedState===null?c1:u1),a}function Vf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Xu(a);if(a.$$typeof===N)return ni(a)}throw Error(i(438,String(a)))}function By(a){var o=null,u=Zt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=Zt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Fy(),Zt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),f=0;f<a;f++)u[f]=V;return o.index++,u}function Or(a,o){return typeof o=="function"?o(a):o}function Uf(a){var o=fn();return $y(o,ke,a)}function $y(a,o,u){var f=a.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var m=a.baseQueue,b=f.pending;if(b!==null){if(m!==null){var k=m.next;m.next=b.next,b.next=k}o.baseQueue=m=b,f.pending=null}if(b=a.baseState,m===null)a.memoizedState=b;else{o=m.next;var O=k=null,W=null,et=o,dt=!1;do{var mt=et.lane&-536870913;if(mt!==et.lane?(ue&mt)===mt:(Ea&mt)===mt){var st=et.revertLane;if(st===0)W!==null&&(W=W.next={lane:0,revertLane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),mt===nc&&(dt=!0);else if((Ea&st)===st){et=et.next,st===nc&&(dt=!0);continue}else mt={lane:0,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},W===null?(O=W=mt,k=b):W=W.next=mt,Zt.lanes|=st,Da|=st;mt=et.action,Ko&&u(b,mt),b=et.hasEagerState?et.eagerState:u(b,mt)}else st={lane:mt,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},W===null?(O=W=st,k=b):W=W.next=st,Zt.lanes|=mt,Da|=mt;et=et.next}while(et!==null&&et!==o);if(W===null?k=b:W.next=O,!Mi(b,a.memoizedState)&&(Ln=!0,dt&&(u=ic,u!==null)))throw u;a.memoizedState=b,a.baseState=k,a.baseQueue=W,f.lastRenderedState=b}return m===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function qy(a){var o=fn(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var f=u.dispatch,m=u.pending,b=o.memoizedState;if(m!==null){u.pending=null;var k=m=m.next;do b=a(b,k.action),k=k.next;while(k!==m);Mi(b,o.memoizedState)||(Ln=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,f]}function Cw(a,o,u){var f=Zt,m=fn(),b=me;if(b){if(u===void 0)throw Error(i(407));u=u()}else u=o();var k=!Mi((ke||m).memoizedState,u);k&&(m.memoizedState=u,Ln=!0),m=m.queue;var O=Iw.bind(null,f,m,a);if(Qu(2048,8,O,[a]),m.getSnapshot!==o||k||dn!==null&&dn.memoizedState.tag&1){if(f.flags|=2048,oc(9,zf(),Mw.bind(null,f,m,u,o),null),Ne===null)throw Error(i(349));b||(Ea&124)!==0||Dw(f,o,u)}return u}function Dw(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=Zt.updateQueue,o===null?(o=Fy(),Zt.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function Mw(a,o,u,f){o.value=u,o.getSnapshot=f,Ow(o)&&Pw(a)}function Iw(a,o,u){return u(function(){Ow(o)&&Pw(a)})}function Ow(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Mi(a,u)}catch{return!0}}function Pw(a){var o=Zl(a,2);o!==null&&ji(o,a,2)}function Hy(a){var o=xi();if(typeof a=="function"){var u=a;if(a=u(),Ko){pi(!0);try{u()}finally{pi(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:a},o}function Nw(a,o,u,f){return a.baseState=u,$y(a,ke,typeof f=="function"?f:Or)}function XO(a,o,u,f,m){if(Bf(a))throw Error(i(485));if(a=o.action,a!==null){var b={payload:m,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){b.listeners.push(k)}};$.T!==null?u(!0):b.isTransition=!1,f(b),u=o.pending,u===null?(b.next=o.pending=b,Lw(o,b)):(b.next=u.next,o.pending=u.next=b)}}function Lw(a,o){var u=o.action,f=o.payload,m=a.state;if(o.isTransition){var b=$.T,k={};$.T=k;try{var O=u(m,f),W=$.S;W!==null&&W(k,O),jw(a,o,O)}catch(et){Wy(a,o,et)}finally{$.T=b}}else try{b=u(m,f),jw(a,o,b)}catch(et){Wy(a,o,et)}}function jw(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Vw(a,o,f)},function(f){return Wy(a,o,f)}):Vw(a,o,u)}function Vw(a,o,u){o.status="fulfilled",o.value=u,Uw(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,Lw(a,u)))}function Wy(a,o,u){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,Uw(o),o=o.next;while(o!==f)}a.action=null}function Uw(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function zw(a,o){return o}function Fw(a,o){if(me){var u=Ne.formState;if(u!==null){t:{var f=Zt;if(me){if(Je){e:{for(var m=Je,b=zs;m.nodeType!==8;){if(!b){m=null;break e}if(m=ps(m.nextSibling),m===null){m=null;break e}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){Je=ps(m.nextSibling),f=m.data==="F!";break t}}Ho(f)}f=!1}f&&(o=u[0])}}return u=xi(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zw,lastRenderedState:o},u.queue=f,u=a1.bind(null,Zt,f),f.dispatch=u,f=Hy(!1),b=Qy.bind(null,Zt,!1,f.queue),f=xi(),m={state:o,dispatch:null,action:a,pending:null},f.queue=m,u=XO.bind(null,Zt,m,b,u),m.dispatch=u,f.memoizedState=a,[o,u,!1]}function Bw(a){var o=fn();return $w(o,ke,a)}function $w(a,o,u){if(o=$y(a,o,zw)[0],a=Uf(Or)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Xu(o)}catch(k){throw k===qu?Of:k}else f=o;o=fn();var m=o.queue,b=m.dispatch;return u!==o.memoizedState&&(Zt.flags|=2048,oc(9,zf(),QO.bind(null,m,u),null)),[f,b,a]}function QO(a,o){a.action=o}function qw(a){var o=fn(),u=ke;if(u!==null)return $w(o,u,a);fn(),o=o.memoizedState,u=fn();var f=u.queue.dispatch;return u.memoizedState=a,[o,f,!1]}function oc(a,o,u,f){return a={tag:a,create:u,deps:f,inst:o,next:null},o=Zt.updateQueue,o===null&&(o=Fy(),Zt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(f=u.next,u.next=a,a.next=f,o.lastEffect=a),a}function zf(){return{destroy:void 0,resource:void 0}}function Hw(){return fn().memoizedState}function Ff(a,o,u,f){var m=xi();f=f===void 0?null:f,Zt.flags|=a,m.memoizedState=oc(1|o,zf(),u,f)}function Qu(a,o,u,f){var m=fn();f=f===void 0?null:f;var b=m.memoizedState.inst;ke!==null&&f!==null&&Ly(f,ke.memoizedState.deps)?m.memoizedState=oc(o,b,u,f):(Zt.flags|=a,m.memoizedState=oc(1|o,b,u,f))}function Ww(a,o){Ff(8390656,8,a,o)}function Yw(a,o){Qu(2048,8,a,o)}function Gw(a,o){return Qu(4,2,a,o)}function Kw(a,o){return Qu(4,4,a,o)}function Xw(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function Qw(a,o,u){u=u!=null?u.concat([a]):null,Qu(4,4,Xw.bind(null,o,a),u)}function Yy(){}function Zw(a,o){var u=fn();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&Ly(o,f[1])?f[0]:(u.memoizedState=[a,o],a)}function Jw(a,o){var u=fn();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&Ly(o,f[1]))return f[0];if(f=a(),Ko){pi(!0);try{a()}finally{pi(!1)}}return u.memoizedState=[f,o],f}function Gy(a,o,u){return u===void 0||(Ea&1073741824)!==0?a.memoizedState=o:(a.memoizedState=u,a=nE(),Zt.lanes|=a,Da|=a,u)}function t1(a,o,u,f){return Mi(u,o)?u:sc.current!==null?(a=Gy(a,u,f),Mi(a,o)||(Ln=!0),a):(Ea&42)===0?(Ln=!0,a.memoizedState=u):(a=nE(),Zt.lanes|=a,Da|=a,o)}function e1(a,o,u,f,m){var b=K.p;K.p=b!==0&&8>b?b:8;var k=$.T,O={};$.T=O,Qy(a,!1,o,u);try{var W=m(),et=$.S;if(et!==null&&et(O,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var dt=YO(W,f);Zu(a,o,dt,Li(a))}else Zu(a,o,f,Li(a))}catch(mt){Zu(a,o,{then:function(){},status:"rejected",reason:mt},Li())}finally{K.p=b,$.T=k}}function ZO(){}function Ky(a,o,u,f){if(a.tag!==5)throw Error(i(476));var m=n1(a).queue;e1(a,m,o,ot,u===null?ZO:function(){return i1(a),u(f)})}function n1(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:ot},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function i1(a){var o=n1(a).next.queue;Zu(a,o,{},Li())}function Xy(){return ni(mh)}function s1(){return fn().memoizedState}function r1(){return fn().memoizedState}function JO(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=Li();a=xa(u);var f=wa(o,a,u);f!==null&&(ji(f,o,u),Wu(f,o,u)),o={cache:Ay()},a.payload=o;return}o=o.return}}function t2(a,o,u){var f=Li();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Bf(a)?o1(o,u):(u=my(a,o,u,f),u!==null&&(ji(u,a,f),l1(u,o,f)))}function a1(a,o,u){var f=Li();Zu(a,o,u,f)}function Zu(a,o,u,f){var m={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Bf(a))o1(o,m);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var k=o.lastRenderedState,O=b(k,u);if(m.hasEagerState=!0,m.eagerState=O,Mi(O,k))return Tf(a,o,m,0),Ne===null&&Sf(),!1}catch{}finally{}if(u=my(a,o,m,f),u!==null)return ji(u,a,f),l1(u,o,f),!0}return!1}function Qy(a,o,u,f){if(f={lane:2,revertLane:C_(),action:f,hasEagerState:!1,eagerState:null,next:null},Bf(a)){if(o)throw Error(i(479))}else o=my(a,u,f,2),o!==null&&ji(o,a,2)}function Bf(a){var o=a.alternate;return a===Zt||o!==null&&o===Zt}function o1(a,o){rc=Lf=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function l1(a,o,u){if((u&4194048)!==0){var f=o.lanes;f&=a.pendingLanes,u|=f,o.lanes=u,So(a,u)}}var $f={readContext:ni,use:Vf,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an},c1={readContext:ni,use:Vf,useCallback:function(a,o){return xi().memoizedState=[a,o===void 0?null:o],a},useContext:ni,useEffect:Ww,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Ff(4194308,4,Xw.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Ff(4194308,4,a,o)},useInsertionEffect:function(a,o){Ff(4,2,a,o)},useMemo:function(a,o){var u=xi();o=o===void 0?null:o;var f=a();if(Ko){pi(!0);try{a()}finally{pi(!1)}}return u.memoizedState=[f,o],f},useReducer:function(a,o,u){var f=xi();if(u!==void 0){var m=u(o);if(Ko){pi(!0);try{u(o)}finally{pi(!1)}}}else m=o;return f.memoizedState=f.baseState=m,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:m},f.queue=a,a=a.dispatch=t2.bind(null,Zt,a),[f.memoizedState,a]},useRef:function(a){var o=xi();return a={current:a},o.memoizedState=a},useState:function(a){a=Hy(a);var o=a.queue,u=a1.bind(null,Zt,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Yy,useDeferredValue:function(a,o){var u=xi();return Gy(u,a,o)},useTransition:function(){var a=Hy(!1);return a=e1.bind(null,Zt,a.queue,!0,!1),xi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var f=Zt,m=xi();if(me){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),Ne===null)throw Error(i(349));(ue&124)!==0||Dw(f,o,u)}m.memoizedState=u;var b={value:u,getSnapshot:o};return m.queue=b,Ww(Iw.bind(null,f,b,a),[a]),f.flags|=2048,oc(9,zf(),Mw.bind(null,f,b,u,o),null),u},useId:function(){var a=xi(),o=Ne.identifierPrefix;if(me){var u=Dr,f=Cr;u=(f&~(1<<32-In(f)-1)).toString(32)+u,o="«"+o+"R"+u,u=jf++,0<u&&(o+="H"+u.toString(32)),o+="»"}else u=GO++,o="«"+o+"r"+u.toString(32)+"»";return a.memoizedState=o},useHostTransitionStatus:Xy,useFormState:Fw,useActionState:Fw,useOptimistic:function(a){var o=xi();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Qy.bind(null,Zt,!0,u),u.dispatch=o,[a,o]},useMemoCache:By,useCacheRefresh:function(){return xi().memoizedState=JO.bind(null,Zt)}},u1={readContext:ni,use:Vf,useCallback:Zw,useContext:ni,useEffect:Yw,useImperativeHandle:Qw,useInsertionEffect:Gw,useLayoutEffect:Kw,useMemo:Jw,useReducer:Uf,useRef:Hw,useState:function(){return Uf(Or)},useDebugValue:Yy,useDeferredValue:function(a,o){var u=fn();return t1(u,ke.memoizedState,a,o)},useTransition:function(){var a=Uf(Or)[0],o=fn().memoizedState;return[typeof a=="boolean"?a:Xu(a),o]},useSyncExternalStore:Cw,useId:s1,useHostTransitionStatus:Xy,useFormState:Bw,useActionState:Bw,useOptimistic:function(a,o){var u=fn();return Nw(u,ke,a,o)},useMemoCache:By,useCacheRefresh:r1},e2={readContext:ni,use:Vf,useCallback:Zw,useContext:ni,useEffect:Yw,useImperativeHandle:Qw,useInsertionEffect:Gw,useLayoutEffect:Kw,useMemo:Jw,useReducer:qy,useRef:Hw,useState:function(){return qy(Or)},useDebugValue:Yy,useDeferredValue:function(a,o){var u=fn();return ke===null?Gy(u,a,o):t1(u,ke.memoizedState,a,o)},useTransition:function(){var a=qy(Or)[0],o=fn().memoizedState;return[typeof a=="boolean"?a:Xu(a),o]},useSyncExternalStore:Cw,useId:s1,useHostTransitionStatus:Xy,useFormState:qw,useActionState:qw,useOptimistic:function(a,o){var u=fn();return ke!==null?Nw(u,ke,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:By,useCacheRefresh:r1},lc=null,Ju=0;function qf(a){var o=Ju;return Ju+=1,lc===null&&(lc=[]),xw(lc,a,o)}function th(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Hf(a,o){throw o.$$typeof===y?Error(i(525)):(a=Object.prototype.toString.call(o),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function h1(a){var o=a._init;return o(a._payload)}function d1(a){function o(Z,X){if(a){var tt=Z.deletions;tt===null?(Z.deletions=[X],Z.flags|=16):tt.push(X)}}function u(Z,X){if(!a)return null;for(;X!==null;)o(Z,X),X=X.sibling;return null}function f(Z){for(var X=new Map;Z!==null;)Z.key!==null?X.set(Z.key,Z):X.set(Z.index,Z),Z=Z.sibling;return X}function m(Z,X){return Z=Rr(Z,X),Z.index=0,Z.sibling=null,Z}function b(Z,X,tt){return Z.index=tt,a?(tt=Z.alternate,tt!==null?(tt=tt.index,tt<X?(Z.flags|=67108866,X):tt):(Z.flags|=67108866,X)):(Z.flags|=1048576,X)}function k(Z){return a&&Z.alternate===null&&(Z.flags|=67108866),Z}function O(Z,X,tt,ft){return X===null||X.tag!==6?(X=_y(tt,Z.mode,ft),X.return=Z,X):(X=m(X,tt),X.return=Z,X)}function W(Z,X,tt,ft){var Dt=tt.type;return Dt===E?dt(Z,X,tt.props.children,ft,tt.key):X!==null&&(X.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===C&&h1(Dt)===X.type)?(X=m(X,tt.props),th(X,tt),X.return=Z,X):(X=kf(tt.type,tt.key,tt.props,null,Z.mode,ft),th(X,tt),X.return=Z,X)}function et(Z,X,tt,ft){return X===null||X.tag!==4||X.stateNode.containerInfo!==tt.containerInfo||X.stateNode.implementation!==tt.implementation?(X=by(tt,Z.mode,ft),X.return=Z,X):(X=m(X,tt.children||[]),X.return=Z,X)}function dt(Z,X,tt,ft,Dt){return X===null||X.tag!==7?(X=Fo(tt,Z.mode,ft,Dt),X.return=Z,X):(X=m(X,tt),X.return=Z,X)}function mt(Z,X,tt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=_y(""+X,Z.mode,tt),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return tt=kf(X.type,X.key,X.props,null,Z.mode,tt),th(tt,X),tt.return=Z,tt;case x:return X=by(X,Z.mode,tt),X.return=Z,X;case C:var ft=X._init;return X=ft(X._payload),mt(Z,X,tt)}if(Q(X)||q(X))return X=Fo(X,Z.mode,tt,null),X.return=Z,X;if(typeof X.then=="function")return mt(Z,qf(X),tt);if(X.$$typeof===N)return mt(Z,Mf(Z,X),tt);Hf(Z,X)}return null}function st(Z,X,tt,ft){var Dt=X!==null?X.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return Dt!==null?null:O(Z,X,""+tt,ft);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case _:return tt.key===Dt?W(Z,X,tt,ft):null;case x:return tt.key===Dt?et(Z,X,tt,ft):null;case C:return Dt=tt._init,tt=Dt(tt._payload),st(Z,X,tt,ft)}if(Q(tt)||q(tt))return Dt!==null?null:dt(Z,X,tt,ft,null);if(typeof tt.then=="function")return st(Z,X,qf(tt),ft);if(tt.$$typeof===N)return st(Z,X,Mf(Z,tt),ft);Hf(Z,tt)}return null}function rt(Z,X,tt,ft,Dt){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return Z=Z.get(tt)||null,O(X,Z,""+ft,Dt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case _:return Z=Z.get(ft.key===null?tt:ft.key)||null,W(X,Z,ft,Dt);case x:return Z=Z.get(ft.key===null?tt:ft.key)||null,et(X,Z,ft,Dt);case C:var Jt=ft._init;return ft=Jt(ft._payload),rt(Z,X,tt,ft,Dt)}if(Q(ft)||q(ft))return Z=Z.get(tt)||null,dt(X,Z,ft,Dt,null);if(typeof ft.then=="function")return rt(Z,X,tt,qf(ft),Dt);if(ft.$$typeof===N)return rt(Z,X,tt,Mf(X,ft),Dt);Hf(X,ft)}return null}function Ft(Z,X,tt,ft){for(var Dt=null,Jt=null,Ot=X,jt=X=0,Vn=null;Ot!==null&&jt<tt.length;jt++){Ot.index>jt?(Vn=Ot,Ot=null):Vn=Ot.sibling;var pe=st(Z,Ot,tt[jt],ft);if(pe===null){Ot===null&&(Ot=Vn);break}a&&Ot&&pe.alternate===null&&o(Z,Ot),X=b(pe,X,jt),Jt===null?Dt=pe:Jt.sibling=pe,Jt=pe,Ot=Vn}if(jt===tt.length)return u(Z,Ot),me&&$o(Z,jt),Dt;if(Ot===null){for(;jt<tt.length;jt++)Ot=mt(Z,tt[jt],ft),Ot!==null&&(X=b(Ot,X,jt),Jt===null?Dt=Ot:Jt.sibling=Ot,Jt=Ot);return me&&$o(Z,jt),Dt}for(Ot=f(Ot);jt<tt.length;jt++)Vn=rt(Ot,Z,jt,tt[jt],ft),Vn!==null&&(a&&Vn.alternate!==null&&Ot.delete(Vn.key===null?jt:Vn.key),X=b(Vn,X,jt),Jt===null?Dt=Vn:Jt.sibling=Vn,Jt=Vn);return a&&Ot.forEach(function(Ua){return o(Z,Ua)}),me&&$o(Z,jt),Dt}function Lt(Z,X,tt,ft){if(tt==null)throw Error(i(151));for(var Dt=null,Jt=null,Ot=X,jt=X=0,Vn=null,pe=tt.next();Ot!==null&&!pe.done;jt++,pe=tt.next()){Ot.index>jt?(Vn=Ot,Ot=null):Vn=Ot.sibling;var Ua=st(Z,Ot,pe.value,ft);if(Ua===null){Ot===null&&(Ot=Vn);break}a&&Ot&&Ua.alternate===null&&o(Z,Ot),X=b(Ua,X,jt),Jt===null?Dt=Ua:Jt.sibling=Ua,Jt=Ua,Ot=Vn}if(pe.done)return u(Z,Ot),me&&$o(Z,jt),Dt;if(Ot===null){for(;!pe.done;jt++,pe=tt.next())pe=mt(Z,pe.value,ft),pe!==null&&(X=b(pe,X,jt),Jt===null?Dt=pe:Jt.sibling=pe,Jt=pe);return me&&$o(Z,jt),Dt}for(Ot=f(Ot);!pe.done;jt++,pe=tt.next())pe=rt(Ot,Z,jt,pe.value,ft),pe!==null&&(a&&pe.alternate!==null&&Ot.delete(pe.key===null?jt:pe.key),X=b(pe,X,jt),Jt===null?Dt=pe:Jt.sibling=pe,Jt=pe);return a&&Ot.forEach(function(nP){return o(Z,nP)}),me&&$o(Z,jt),Dt}function Ce(Z,X,tt,ft){if(typeof tt=="object"&&tt!==null&&tt.type===E&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case _:t:{for(var Dt=tt.key;X!==null;){if(X.key===Dt){if(Dt=tt.type,Dt===E){if(X.tag===7){u(Z,X.sibling),ft=m(X,tt.props.children),ft.return=Z,Z=ft;break t}}else if(X.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===C&&h1(Dt)===X.type){u(Z,X.sibling),ft=m(X,tt.props),th(ft,tt),ft.return=Z,Z=ft;break t}u(Z,X);break}else o(Z,X);X=X.sibling}tt.type===E?(ft=Fo(tt.props.children,Z.mode,ft,tt.key),ft.return=Z,Z=ft):(ft=kf(tt.type,tt.key,tt.props,null,Z.mode,ft),th(ft,tt),ft.return=Z,Z=ft)}return k(Z);case x:t:{for(Dt=tt.key;X!==null;){if(X.key===Dt)if(X.tag===4&&X.stateNode.containerInfo===tt.containerInfo&&X.stateNode.implementation===tt.implementation){u(Z,X.sibling),ft=m(X,tt.children||[]),ft.return=Z,Z=ft;break t}else{u(Z,X);break}else o(Z,X);X=X.sibling}ft=by(tt,Z.mode,ft),ft.return=Z,Z=ft}return k(Z);case C:return Dt=tt._init,tt=Dt(tt._payload),Ce(Z,X,tt,ft)}if(Q(tt))return Ft(Z,X,tt,ft);if(q(tt)){if(Dt=q(tt),typeof Dt!="function")throw Error(i(150));return tt=Dt.call(tt),Lt(Z,X,tt,ft)}if(typeof tt.then=="function")return Ce(Z,X,qf(tt),ft);if(tt.$$typeof===N)return Ce(Z,X,Mf(Z,tt),ft);Hf(Z,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,X!==null&&X.tag===6?(u(Z,X.sibling),ft=m(X,tt),ft.return=Z,Z=ft):(u(Z,X),ft=_y(tt,Z.mode,ft),ft.return=Z,Z=ft),k(Z)):u(Z,X)}return function(Z,X,tt,ft){try{Ju=0;var Dt=Ce(Z,X,tt,ft);return lc=null,Dt}catch(Ot){if(Ot===qu||Ot===Of)throw Ot;var Jt=Ii(29,Ot,null,Z.mode);return Jt.lanes=ft,Jt.return=Z,Jt}finally{}}}var cc=d1(!0),f1=d1(!1),es=it(null),Fs=null;function Sa(a){var o=a.alternate;ut(Rn,Rn.current&1),ut(es,a),Fs===null&&(o===null||sc.current!==null||o.memoizedState!==null)&&(Fs=a)}function p1(a){if(a.tag===22){if(ut(Rn,Rn.current),ut(es,a),Fs===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(Fs=a)}}else Ta()}function Ta(){ut(Rn,Rn.current),ut(es,es.current)}function Pr(a){at(es),Fs===a&&(Fs=null),at(Rn)}var Rn=it(0);function Wf(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||F_(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Zy(a,o,u,f){o=a.memoizedState,u=u(f,o),u=u==null?o:p({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Jy={enqueueSetState:function(a,o,u){a=a._reactInternals;var f=Li(),m=xa(f);m.payload=o,u!=null&&(m.callback=u),o=wa(a,m,f),o!==null&&(ji(o,a,f),Wu(o,a,f))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var f=Li(),m=xa(f);m.tag=1,m.payload=o,u!=null&&(m.callback=u),o=wa(a,m,f),o!==null&&(ji(o,a,f),Wu(o,a,f))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=Li(),f=xa(u);f.tag=2,o!=null&&(f.callback=o),o=wa(a,f,u),o!==null&&(ji(o,a,u),Wu(o,a,u))}};function g1(a,o,u,f,m,b,k){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,b,k):o.prototype&&o.prototype.isPureReactComponent?!Lu(u,f)||!Lu(m,b):!0}function m1(a,o,u,f){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==a&&Jy.enqueueReplaceState(o,o.state,null)}function Xo(a,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(a=a.defaultProps){u===o&&(u=p({},u));for(var m in a)u[m]===void 0&&(u[m]=a[m])}return u}var Yf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function y1(a){Yf(a)}function _1(a){console.error(a)}function b1(a){Yf(a)}function Gf(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function v1(a,o,u){try{var f=a.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function t_(a,o,u){return u=xa(u),u.tag=3,u.payload={element:null},u.callback=function(){Gf(a,o)},u}function x1(a){return a=xa(a),a.tag=3,a}function w1(a,o,u,f){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var b=f.value;a.payload=function(){return m(b)},a.callback=function(){v1(o,u,f)}}var k=u.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(a.callback=function(){v1(o,u,f),typeof m!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var O=f.stack;this.componentDidCatch(f.value,{componentStack:O!==null?O:""})})}function n2(a,o,u,f,m){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&Fu(o,u,m,!0),u=es.current,u!==null){switch(u.tag){case 13:return Fs===null?S_():u.alternate===null&&tn===0&&(tn=3),u.flags&=-257,u.flags|=65536,u.lanes=m,f===Cy?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),A_(a,f,m)),!1;case 22:return u.flags|=65536,f===Cy?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),A_(a,f,m)),!1}throw Error(i(435,u.tag))}return A_(a,f,m),S_(),!1}if(me)return o=es.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,f!==wy&&(a=Error(i(422),{cause:f}),zu(Qi(a,u)))):(f!==wy&&(o=Error(i(423),{cause:f}),zu(Qi(o,u))),a=a.current.alternate,a.flags|=65536,m&=-m,a.lanes|=m,f=Qi(f,u),m=t_(a.stateNode,f,m),Iy(a,m),tn!==4&&(tn=2)),!1;var b=Error(i(520),{cause:f});if(b=Qi(b,u),oh===null?oh=[b]:oh.push(b),tn!==4&&(tn=2),o===null)return!0;f=Qi(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=m&-m,u.lanes|=a,a=t_(u.stateNode,f,a),Iy(u,a),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ma===null||!Ma.has(b))))return u.flags|=65536,m&=-m,u.lanes|=m,m=x1(m),w1(m,a,u,f),Iy(u,m),!1}u=u.return}while(u!==null);return!1}var E1=Error(i(461)),Ln=!1;function Yn(a,o,u,f){o.child=a===null?f1(o,null,u,f):cc(o,a.child,u,f)}function S1(a,o,u,f,m){u=u.render;var b=o.ref;if("ref"in f){var k={};for(var O in f)O!=="ref"&&(k[O]=f[O])}else k=f;return Yo(o),f=jy(a,o,u,k,b,m),O=Vy(),a!==null&&!Ln?(Uy(a,o,m),Nr(a,o,m)):(me&&O&&vy(o),o.flags|=1,Yn(a,o,f,m),o.child)}function T1(a,o,u,f,m){if(a===null){var b=u.type;return typeof b=="function"&&!yy(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,A1(a,o,b,f,m)):(a=kf(u.type,null,f,o,o.mode,m),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!l_(a,m)){var k=b.memoizedProps;if(u=u.compare,u=u!==null?u:Lu,u(k,f)&&a.ref===o.ref)return Nr(a,o,m)}return o.flags|=1,a=Rr(b,f),a.ref=o.ref,a.return=o,o.child=a}function A1(a,o,u,f,m){if(a!==null){var b=a.memoizedProps;if(Lu(b,f)&&a.ref===o.ref)if(Ln=!1,o.pendingProps=f=b,l_(a,m))(a.flags&131072)!==0&&(Ln=!0);else return o.lanes=a.lanes,Nr(a,o,m)}return e_(a,o,u,f,m)}function k1(a,o,u){var f=o.pendingProps,m=f.children,b=a!==null?a.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=b!==null?b.baseLanes|u:u,a!==null){for(m=o.child=a.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;o.childLanes=b&~f}else o.childLanes=0,o.child=null;return R1(a,o,f,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&If(o,b!==null?b.cachePool:null),b!==null?Aw(o,b):Py(),p1(o);else return o.lanes=o.childLanes=536870912,R1(a,o,b!==null?b.baseLanes|u:u,u)}else b!==null?(If(o,b.cachePool),Aw(o,b),Ta(),o.memoizedState=null):(a!==null&&If(o,null),Py(),Ta());return Yn(a,o,m,u),o.child}function R1(a,o,u,f){var m=Ry();return m=m===null?null:{parent:kn._currentValue,pool:m},o.memoizedState={baseLanes:u,cachePool:m},a!==null&&If(o,null),Py(),p1(o),a!==null&&Fu(a,o,f,!0),null}function Kf(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function e_(a,o,u,f,m){return Yo(o),u=jy(a,o,u,f,void 0,m),f=Vy(),a!==null&&!Ln?(Uy(a,o,m),Nr(a,o,m)):(me&&f&&vy(o),o.flags|=1,Yn(a,o,u,m),o.child)}function C1(a,o,u,f,m,b){return Yo(o),o.updateQueue=null,u=Rw(o,f,u,m),kw(a),f=Vy(),a!==null&&!Ln?(Uy(a,o,b),Nr(a,o,b)):(me&&f&&vy(o),o.flags|=1,Yn(a,o,u,b),o.child)}function D1(a,o,u,f,m){if(Yo(o),o.stateNode===null){var b=Jl,k=u.contextType;typeof k=="object"&&k!==null&&(b=ni(k)),b=new u(f,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Jy,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=f,b.state=o.memoizedState,b.refs={},Dy(o),k=u.contextType,b.context=typeof k=="object"&&k!==null?ni(k):Jl,b.state=o.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(Zy(o,u,k,f),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(k=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),k!==b.state&&Jy.enqueueReplaceState(b,b.state,null),Gu(o,f,b,m),Yu(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(a===null){b=o.stateNode;var O=o.memoizedProps,W=Xo(u,O);b.props=W;var et=b.context,dt=u.contextType;k=Jl,typeof dt=="object"&&dt!==null&&(k=ni(dt));var mt=u.getDerivedStateFromProps;dt=typeof mt=="function"||typeof b.getSnapshotBeforeUpdate=="function",O=o.pendingProps!==O,dt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O||et!==k)&&m1(o,b,f,k),va=!1;var st=o.memoizedState;b.state=st,Gu(o,f,b,m),Yu(),et=o.memoizedState,O||st!==et||va?(typeof mt=="function"&&(Zy(o,u,mt,f),et=o.memoizedState),(W=va||g1(o,u,W,f,st,et,k))?(dt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=et),b.props=f,b.state=et,b.context=k,f=W):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{b=o.stateNode,My(a,o),k=o.memoizedProps,dt=Xo(u,k),b.props=dt,mt=o.pendingProps,st=b.context,et=u.contextType,W=Jl,typeof et=="object"&&et!==null&&(W=ni(et)),O=u.getDerivedStateFromProps,(et=typeof O=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==mt||st!==W)&&m1(o,b,f,W),va=!1,st=o.memoizedState,b.state=st,Gu(o,f,b,m),Yu();var rt=o.memoizedState;k!==mt||st!==rt||va||a!==null&&a.dependencies!==null&&Df(a.dependencies)?(typeof O=="function"&&(Zy(o,u,O,f),rt=o.memoizedState),(dt=va||g1(o,u,dt,f,st,rt,W)||a!==null&&a.dependencies!==null&&Df(a.dependencies))?(et||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,rt,W),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,rt,W)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||k===a.memoizedProps&&st===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&st===a.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=rt),b.props=f,b.state=rt,b.context=W,f=dt):(typeof b.componentDidUpdate!="function"||k===a.memoizedProps&&st===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&st===a.memoizedState||(o.flags|=1024),f=!1)}return b=f,Kf(a,o),f=(o.flags&128)!==0,b||f?(b=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&f?(o.child=cc(o,a.child,null,m),o.child=cc(o,null,u,m)):Yn(a,o,u,m),o.memoizedState=b.state,a=o.child):a=Nr(a,o,m),a}function M1(a,o,u,f){return Uu(),o.flags|=256,Yn(a,o,u,f),o.child}var n_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function i_(a){return{baseLanes:a,cachePool:_w()}}function s_(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=ns),a}function I1(a,o,u){var f=o.pendingProps,m=!1,b=(o.flags&128)!==0,k;if((k=b)||(k=a!==null&&a.memoizedState===null?!1:(Rn.current&2)!==0),k&&(m=!0,o.flags&=-129),k=(o.flags&32)!==0,o.flags&=-33,a===null){if(me){if(m?Sa(o):Ta(),me){var O=Je,W;if(W=O){t:{for(W=O,O=zs;W.nodeType!==8;){if(!O){O=null;break t}if(W=ps(W.nextSibling),W===null){O=null;break t}}O=W}O!==null?(o.memoizedState={dehydrated:O,treeContext:Bo!==null?{id:Cr,overflow:Dr}:null,retryLane:536870912,hydrationErrors:null},W=Ii(18,null,null,0),W.stateNode=O,W.return=o,o.child=W,_i=o,Je=null,W=!0):W=!1}W||Ho(o)}if(O=o.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return F_(O)?o.lanes=32:o.lanes=536870912,null;Pr(o)}return O=f.children,f=f.fallback,m?(Ta(),m=o.mode,O=Xf({mode:"hidden",children:O},m),f=Fo(f,m,u,null),O.return=o,f.return=o,O.sibling=f,o.child=O,m=o.child,m.memoizedState=i_(u),m.childLanes=s_(a,k,u),o.memoizedState=n_,f):(Sa(o),r_(o,O))}if(W=a.memoizedState,W!==null&&(O=W.dehydrated,O!==null)){if(b)o.flags&256?(Sa(o),o.flags&=-257,o=a_(a,o,u)):o.memoizedState!==null?(Ta(),o.child=a.child,o.flags|=128,o=null):(Ta(),m=f.fallback,O=o.mode,f=Xf({mode:"visible",children:f.children},O),m=Fo(m,O,u,null),m.flags|=2,f.return=o,m.return=o,f.sibling=m,o.child=f,cc(o,a.child,null,u),f=o.child,f.memoizedState=i_(u),f.childLanes=s_(a,k,u),o.memoizedState=n_,o=m);else if(Sa(o),F_(O)){if(k=O.nextSibling&&O.nextSibling.dataset,k)var et=k.dgst;k=et,f=Error(i(419)),f.stack="",f.digest=k,zu({value:f,source:null,stack:null}),o=a_(a,o,u)}else if(Ln||Fu(a,o,u,!1),k=(u&a.childLanes)!==0,Ln||k){if(k=Ne,k!==null&&(f=u&-u,f=(f&42)!==0?1:Cs(f),f=(f&(k.suspendedLanes|u))!==0?0:f,f!==0&&f!==W.retryLane))throw W.retryLane=f,Zl(a,f),ji(k,a,f),E1;O.data==="$?"||S_(),o=a_(a,o,u)}else O.data==="$?"?(o.flags|=192,o.child=a.child,o=null):(a=W.treeContext,Je=ps(O.nextSibling),_i=o,me=!0,qo=null,zs=!1,a!==null&&(Ji[ts++]=Cr,Ji[ts++]=Dr,Ji[ts++]=Bo,Cr=a.id,Dr=a.overflow,Bo=o),o=r_(o,f.children),o.flags|=4096);return o}return m?(Ta(),m=f.fallback,O=o.mode,W=a.child,et=W.sibling,f=Rr(W,{mode:"hidden",children:f.children}),f.subtreeFlags=W.subtreeFlags&65011712,et!==null?m=Rr(et,m):(m=Fo(m,O,u,null),m.flags|=2),m.return=o,f.return=o,f.sibling=m,o.child=f,f=m,m=o.child,O=a.child.memoizedState,O===null?O=i_(u):(W=O.cachePool,W!==null?(et=kn._currentValue,W=W.parent!==et?{parent:et,pool:et}:W):W=_w(),O={baseLanes:O.baseLanes|u,cachePool:W}),m.memoizedState=O,m.childLanes=s_(a,k,u),o.memoizedState=n_,f):(Sa(o),u=a.child,a=u.sibling,u=Rr(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,a!==null&&(k=o.deletions,k===null?(o.deletions=[a],o.flags|=16):k.push(a)),o.child=u,o.memoizedState=null,u)}function r_(a,o){return o=Xf({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Xf(a,o){return a=Ii(22,a,null,o),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function a_(a,o,u){return cc(o,a.child,null,u),a=r_(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function O1(a,o,u){a.lanes|=o;var f=a.alternate;f!==null&&(f.lanes|=o),Sy(a.return,o,u)}function o_(a,o,u,f,m){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=u,b.tailMode=m)}function P1(a,o,u){var f=o.pendingProps,m=f.revealOrder,b=f.tail;if(Yn(a,o,f.children,u),f=Rn.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)t:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&O1(a,u,o);else if(a.tag===19)O1(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break t;for(;a.sibling===null;){if(a.return===null||a.return===o)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}f&=1}switch(ut(Rn,f),m){case"forwards":for(u=o.child,m=null;u!==null;)a=u.alternate,a!==null&&Wf(a)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),o_(o,!1,m,u,b);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(a=m.alternate,a!==null&&Wf(a)===null){o.child=m;break}a=m.sibling,m.sibling=u,u=m,m=a}o_(o,!0,u,null,b);break;case"together":o_(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Nr(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Da|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(Fu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(i(153));if(o.child!==null){for(a=o.child,u=Rr(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=Rr(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function l_(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Df(a)))}function i2(a,o,u){switch(o.tag){case 3:ht(o,o.stateNode.containerInfo),ba(o,kn,a.memoizedState.cache),Uu();break;case 27:case 5:vt(o);break;case 4:ht(o,o.stateNode.containerInfo);break;case 10:ba(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Sa(o),o.flags|=128,null):(u&o.child.childLanes)!==0?I1(a,o,u):(Sa(o),a=Nr(a,o,u),a!==null?a.sibling:null);Sa(o);break;case 19:var m=(a.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(Fu(a,o,u,!1),f=(u&o.childLanes)!==0),m){if(f)return P1(a,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ut(Rn,Rn.current),f)break;return null;case 22:case 23:return o.lanes=0,k1(a,o,u);case 24:ba(o,kn,a.memoizedState.cache)}return Nr(a,o,u)}function N1(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)Ln=!0;else{if(!l_(a,u)&&(o.flags&128)===0)return Ln=!1,i2(a,o,u);Ln=(a.flags&131072)!==0}else Ln=!1,me&&(o.flags&1048576)!==0&&hw(o,Cf,o.index);switch(o.lanes=0,o.tag){case 16:t:{a=o.pendingProps;var f=o.elementType,m=f._init;if(f=m(f._payload),o.type=f,typeof f=="function")yy(f)?(a=Xo(f,a),o.tag=1,o=D1(null,o,f,a,u)):(o.tag=0,o=e_(null,o,f,a,u));else{if(f!=null){if(m=f.$$typeof,m===H){o.tag=11,o=S1(null,o,f,a,u);break t}else if(m===R){o.tag=14,o=T1(null,o,f,a,u);break t}}throw o=Ct(f)||f,Error(i(306,o,""))}}return o;case 0:return e_(a,o,o.type,o.pendingProps,u);case 1:return f=o.type,m=Xo(f,o.pendingProps),D1(a,o,f,m,u);case 3:t:{if(ht(o,o.stateNode.containerInfo),a===null)throw Error(i(387));f=o.pendingProps;var b=o.memoizedState;m=b.element,My(a,o),Gu(o,f,null,u);var k=o.memoizedState;if(f=k.cache,ba(o,kn,f),f!==b.cache&&Ty(o,[kn],u,!0),Yu(),f=k.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:k.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=M1(a,o,f,u);break t}else if(f!==m){m=Qi(Error(i(424)),o),zu(m),o=M1(a,o,f,u);break t}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Je=ps(a.firstChild),_i=o,me=!0,qo=null,zs=!0,u=f1(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Uu(),f===m){o=Nr(a,o,u);break t}Yn(a,o,f,u)}o=o.child}return o;case 26:return Kf(a,o),a===null?(u=UE(o.type,null,o.pendingProps,null))?o.memoizedState=u:me||(u=o.type,a=o.pendingProps,f=up(G.current).createElement(u),f[Sn]=o,f[un]=a,Kn(f,u,a),rn(f),o.stateNode=f):o.memoizedState=UE(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return vt(o),a===null&&me&&(f=o.stateNode=LE(o.type,o.pendingProps,G.current),_i=o,zs=!0,m=Je,Pa(o.type)?(B_=m,Je=ps(f.firstChild)):Je=m),Yn(a,o,o.pendingProps.children,u),Kf(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&me&&((m=f=Je)&&(f=M2(f,o.type,o.pendingProps,zs),f!==null?(o.stateNode=f,_i=o,Je=ps(f.firstChild),zs=!1,m=!0):m=!1),m||Ho(o)),vt(o),m=o.type,b=o.pendingProps,k=a!==null?a.memoizedProps:null,f=b.children,V_(m,b)?f=null:k!==null&&V_(m,k)&&(o.flags|=32),o.memoizedState!==null&&(m=jy(a,o,KO,null,null,u),mh._currentValue=m),Kf(a,o),Yn(a,o,f,u),o.child;case 6:return a===null&&me&&((a=u=Je)&&(u=I2(u,o.pendingProps,zs),u!==null?(o.stateNode=u,_i=o,Je=null,a=!0):a=!1),a||Ho(o)),null;case 13:return I1(a,o,u);case 4:return ht(o,o.stateNode.containerInfo),f=o.pendingProps,a===null?o.child=cc(o,null,f,u):Yn(a,o,f,u),o.child;case 11:return S1(a,o,o.type,o.pendingProps,u);case 7:return Yn(a,o,o.pendingProps,u),o.child;case 8:return Yn(a,o,o.pendingProps.children,u),o.child;case 12:return Yn(a,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,ba(o,o.type,f.value),Yn(a,o,f.children,u),o.child;case 9:return m=o.type._context,f=o.pendingProps.children,Yo(o),m=ni(m),f=f(m),o.flags|=1,Yn(a,o,f,u),o.child;case 14:return T1(a,o,o.type,o.pendingProps,u);case 15:return A1(a,o,o.type,o.pendingProps,u);case 19:return P1(a,o,u);case 31:return f=o.pendingProps,u=o.mode,f={mode:f.mode,children:f.children},a===null?(u=Xf(f,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=Rr(a.child,f),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return k1(a,o,u);case 24:return Yo(o),f=ni(kn),a===null?(m=Ry(),m===null&&(m=Ne,b=Ay(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=u),m=b),o.memoizedState={parent:f,cache:m},Dy(o),ba(o,kn,m)):((a.lanes&u)!==0&&(My(a,o),Gu(o,null,null,u),Yu()),m=a.memoizedState,b=o.memoizedState,m.parent!==f?(m={parent:f,cache:f},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),ba(o,kn,f)):(f=b.cache,ba(o,kn,f),f!==m.cache&&Ty(o,[kn],u,!0))),Yn(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Lr(a){a.flags|=4}function L1(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!qE(o)){if(o=es.current,o!==null&&((ue&4194048)===ue?Fs!==null:(ue&62914560)!==ue&&(ue&536870912)===0||o!==Fs))throw Hu=Cy,bw;a.flags|=8192}}function Qf(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?_e():536870912,a.lanes|=o,fc|=o)}function eh(a,o){if(!me)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function Ke(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,f=0;if(o)for(var m=a.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=a,m=m.sibling;else for(m=a.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=a,m=m.sibling;return a.subtreeFlags|=f,a.childLanes=u,o}function s2(a,o,u){var f=o.pendingProps;switch(xy(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(o),null;case 1:return Ke(o),null;case 3:return u=o.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Ir(kn),gt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Vu(o)?Lr(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,pw())),Ke(o),null;case 26:return u=o.memoizedState,a===null?(Lr(o),u!==null?(Ke(o),L1(o,u)):(Ke(o),o.flags&=-16777217)):u?u!==a.memoizedState?(Lr(o),Ke(o),L1(o,u)):(Ke(o),o.flags&=-16777217):(a.memoizedProps!==f&&Lr(o),Ke(o),o.flags&=-16777217),null;case 27:zt(o),u=G.current;var m=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==f&&Lr(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Ke(o),null}a=yt.current,Vu(o)?dw(o):(a=LE(m,f,u),o.stateNode=a,Lr(o))}return Ke(o),null;case 5:if(zt(o),u=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==f&&Lr(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Ke(o),null}if(a=yt.current,Vu(o))dw(o);else{switch(m=up(G.current),a){case 1:a=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=m.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof f.is=="string"?m.createElement("select",{is:f.is}):m.createElement("select"),f.multiple?a.multiple=!0:f.size&&(a.size=f.size);break;default:a=typeof f.is=="string"?m.createElement(u,{is:f.is}):m.createElement(u)}}a[Sn]=o,a[un]=f;t:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)a.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break t;for(;m.sibling===null;){if(m.return===null||m.return===o)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=a;t:switch(Kn(a,u,f),u){case"button":case"input":case"select":case"textarea":a=!!f.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Lr(o)}}return Ke(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==f&&Lr(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(i(166));if(a=G.current,Vu(o)){if(a=o.stateNode,u=o.memoizedProps,f=null,m=_i,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}a[Sn]=o,a=!!(a.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||CE(a.nodeValue,u)),a||Ho(o)}else a=up(a).createTextNode(f),a[Sn]=o,o.stateNode=a}return Ke(o),null;case 13:if(f=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(m=Vu(o),f!==null&&f.dehydrated!==null){if(a===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Sn]=o}else Uu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ke(o),m=!1}else m=pw(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(Pr(o),o):(Pr(o),null)}if(Pr(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=f!==null,a=a!==null&&a.memoizedState!==null,u){f=o.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==m&&(f.flags|=2048)}return u!==a&&u&&(o.child.flags|=8192),Qf(o,o.updateQueue),Ke(o),null;case 4:return gt(),a===null&&O_(o.stateNode.containerInfo),Ke(o),null;case 10:return Ir(o.type),Ke(o),null;case 19:if(at(Rn),m=o.memoizedState,m===null)return Ke(o),null;if(f=(o.flags&128)!==0,b=m.rendering,b===null)if(f)eh(m,!1);else{if(tn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=Wf(a),b!==null){for(o.flags|=128,eh(m,!1),a=b.updateQueue,o.updateQueue=a,Qf(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)uw(u,a),u=u.sibling;return ut(Rn,Rn.current&1|2),o.child}a=a.sibling}m.tail!==null&&Ze()>tp&&(o.flags|=128,f=!0,eh(m,!1),o.lanes=4194304)}else{if(!f)if(a=Wf(b),a!==null){if(o.flags|=128,f=!0,a=a.updateQueue,o.updateQueue=a,Qf(o,a),eh(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!me)return Ke(o),null}else 2*Ze()-m.renderingStartTime>tp&&u!==536870912&&(o.flags|=128,f=!0,eh(m,!1),o.lanes=4194304);m.isBackwards?(b.sibling=o.child,o.child=b):(a=m.last,a!==null?a.sibling=b:o.child=b,m.last=b)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Ze(),o.sibling=null,a=Rn.current,ut(Rn,f?a&1|2:a&1),o):(Ke(o),null);case 22:case 23:return Pr(o),Ny(),f=o.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(u&536870912)!==0&&(o.flags&128)===0&&(Ke(o),o.subtreeFlags&6&&(o.flags|=8192)):Ke(o),u=o.updateQueue,u!==null&&Qf(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),a!==null&&at(Go),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ir(kn),Ke(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function r2(a,o){switch(xy(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Ir(kn),gt(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return zt(o),null;case 13:if(Pr(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Uu()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return at(Rn),null;case 4:return gt(),null;case 10:return Ir(o.type),null;case 22:case 23:return Pr(o),Ny(),a!==null&&at(Go),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Ir(kn),null;case 25:return null;default:return null}}function j1(a,o){switch(xy(o),o.tag){case 3:Ir(kn),gt();break;case 26:case 27:case 5:zt(o);break;case 4:gt();break;case 13:Pr(o);break;case 19:at(Rn);break;case 10:Ir(o.type);break;case 22:case 23:Pr(o),Ny(),a!==null&&at(Go);break;case 24:Ir(kn)}}function nh(a,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&a)===a){f=void 0;var b=u.create,k=u.inst;f=b(),k.destroy=f}u=u.next}while(u!==m)}}catch(O){Ie(o,o.return,O)}}function Aa(a,o,u){try{var f=o.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var b=m.next;f=b;do{if((f.tag&a)===a){var k=f.inst,O=k.destroy;if(O!==void 0){k.destroy=void 0,m=o;var W=u,et=O;try{et()}catch(dt){Ie(m,W,dt)}}}f=f.next}while(f!==b)}}catch(dt){Ie(o,o.return,dt)}}function V1(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{Tw(o,u)}catch(f){Ie(a,a.return,f)}}}function U1(a,o,u){u.props=Xo(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(f){Ie(a,o,f)}}function ih(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof u=="function"?a.refCleanup=u(f):u.current=f}}catch(m){Ie(a,o,m)}}function Bs(a,o){var u=a.ref,f=a.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(m){Ie(a,o,m)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){Ie(a,o,m)}else u.current=null}function z1(a){var o=a.type,u=a.memoizedProps,f=a.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break t;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(m){Ie(a,a.return,m)}}function c_(a,o,u){try{var f=a.stateNode;A2(f,a.type,u,o),f[un]=o}catch(m){Ie(a,a.return,m)}}function F1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Pa(a.type)||a.tag===4}function u_(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||F1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Pa(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function h_(a,o,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=cp));else if(f!==4&&(f===27&&Pa(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(h_(a,o,u),a=a.sibling;a!==null;)h_(a,o,u),a=a.sibling}function Zf(a,o,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(f!==4&&(f===27&&Pa(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Zf(a,o,u),a=a.sibling;a!==null;)Zf(a,o,u),a=a.sibling}function B1(a){var o=a.stateNode,u=a.memoizedProps;try{for(var f=a.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);Kn(o,f,u),o[Sn]=a,o[un]=u}catch(b){Ie(a,a.return,b)}}var jr=!1,on=!1,d_=!1,$1=typeof WeakSet=="function"?WeakSet:Set,jn=null;function a2(a,o){if(a=a.containerInfo,L_=mp,a=tw(a),uy(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else t:{u=(u=a.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break t}var k=0,O=-1,W=-1,et=0,dt=0,mt=a,st=null;e:for(;;){for(var rt;mt!==u||m!==0&&mt.nodeType!==3||(O=k+m),mt!==b||f!==0&&mt.nodeType!==3||(W=k+f),mt.nodeType===3&&(k+=mt.nodeValue.length),(rt=mt.firstChild)!==null;)st=mt,mt=rt;for(;;){if(mt===a)break e;if(st===u&&++et===m&&(O=k),st===b&&++dt===f&&(W=k),(rt=mt.nextSibling)!==null)break;mt=st,st=mt.parentNode}mt=rt}u=O===-1||W===-1?null:{start:O,end:W}}else u=null}u=u||{start:0,end:0}}else u=null;for(j_={focusedElem:a,selectionRange:u},mp=!1,jn=o;jn!==null;)if(o=jn,a=o.child,(o.subtreeFlags&1024)!==0&&a!==null)a.return=o,jn=a;else for(;jn!==null;){switch(o=jn,b=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,u=o,m=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var Ft=Xo(u.type,m,u.elementType===u.type);a=f.getSnapshotBeforeUpdate(Ft,b),f.__reactInternalSnapshotBeforeUpdate=a}catch(Lt){Ie(u,u.return,Lt)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)z_(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":z_(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=o.sibling,a!==null){a.return=o.return,jn=a;break}jn=o.return}}function q1(a,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:ka(a,u),f&4&&nh(5,u);break;case 1:if(ka(a,u),f&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(k){Ie(u,u.return,k)}else{var m=Xo(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(m,o,a.__reactInternalSnapshotBeforeUpdate)}catch(k){Ie(u,u.return,k)}}f&64&&V1(u),f&512&&ih(u,u.return);break;case 3:if(ka(a,u),f&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Tw(a,o)}catch(k){Ie(u,u.return,k)}}break;case 27:o===null&&f&4&&B1(u);case 26:case 5:ka(a,u),o===null&&f&4&&z1(u),f&512&&ih(u,u.return);break;case 12:ka(a,u);break;case 13:ka(a,u),f&4&&Y1(a,u),f&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=g2.bind(null,u),O2(a,u))));break;case 22:if(f=u.memoizedState!==null||jr,!f){o=o!==null&&o.memoizedState!==null||on,m=jr;var b=on;jr=f,(on=o)&&!b?Ra(a,u,(u.subtreeFlags&8772)!==0):ka(a,u),jr=m,on=b}break;case 30:break;default:ka(a,u)}}function H1(a){var o=a.alternate;o!==null&&(a.alternate=null,H1(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&ga(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var qe=null,wi=!1;function Vr(a,o,u){for(u=u.child;u!==null;)W1(a,o,u),u=u.sibling}function W1(a,o,u){if(ee&&typeof ee.onCommitFiberUnmount=="function")try{ee.onCommitFiberUnmount(fe,u)}catch{}switch(u.tag){case 26:on||Bs(u,o),Vr(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:on||Bs(u,o);var f=qe,m=wi;Pa(u.type)&&(qe=u.stateNode,wi=!1),Vr(a,o,u),dh(u.stateNode),qe=f,wi=m;break;case 5:on||Bs(u,o);case 6:if(f=qe,m=wi,qe=null,Vr(a,o,u),qe=f,wi=m,qe!==null)if(wi)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(u.stateNode)}catch(b){Ie(u,o,b)}else try{qe.removeChild(u.stateNode)}catch(b){Ie(u,o,b)}break;case 18:qe!==null&&(wi?(a=qe,PE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),vh(a)):PE(qe,u.stateNode));break;case 4:f=qe,m=wi,qe=u.stateNode.containerInfo,wi=!0,Vr(a,o,u),qe=f,wi=m;break;case 0:case 11:case 14:case 15:on||Aa(2,u,o),on||Aa(4,u,o),Vr(a,o,u);break;case 1:on||(Bs(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&U1(u,o,f)),Vr(a,o,u);break;case 21:Vr(a,o,u);break;case 22:on=(f=on)||u.memoizedState!==null,Vr(a,o,u),on=f;break;default:Vr(a,o,u)}}function Y1(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{vh(a)}catch(u){Ie(o,o.return,u)}}function o2(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new $1),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new $1),o;default:throw Error(i(435,a.tag))}}function f_(a,o){var u=o2(a);o.forEach(function(f){var m=m2.bind(null,a,f);u.has(f)||(u.add(f),f.then(m,m))})}function Oi(a,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f],b=a,k=o,O=k;t:for(;O!==null;){switch(O.tag){case 27:if(Pa(O.type)){qe=O.stateNode,wi=!1;break t}break;case 5:qe=O.stateNode,wi=!1;break t;case 3:case 4:qe=O.stateNode.containerInfo,wi=!0;break t}O=O.return}if(qe===null)throw Error(i(160));W1(b,k,m),qe=null,wi=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)G1(o,a),o=o.sibling}var fs=null;function G1(a,o){var u=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Oi(o,a),Pi(a),f&4&&(Aa(3,a,a.return),nh(3,a),Aa(5,a,a.return));break;case 1:Oi(o,a),Pi(a),f&512&&(on||u===null||Bs(u,u.return)),f&64&&jr&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var m=fs;if(Oi(o,a),Pi(a),f&512&&(on||u===null||Bs(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=a.memoizedState,u===null)if(f===null)if(a.stateNode===null){t:{f=a.type,u=a.memoizedProps,m=m.ownerDocument||m;e:switch(f){case"title":b=m.getElementsByTagName("title")[0],(!b||b[To]||b[Sn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(f),m.head.insertBefore(b,m.querySelector("head > title"))),Kn(b,f,u),b[Sn]=a,rn(b),f=b;break t;case"link":var k=BE("link","href",m).get(f+(u.href||""));if(k){for(var O=0;O<k.length;O++)if(b=k[O],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){k.splice(O,1);break e}}b=m.createElement(f),Kn(b,f,u),m.head.appendChild(b);break;case"meta":if(k=BE("meta","content",m).get(f+(u.content||""))){for(O=0;O<k.length;O++)if(b=k[O],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){k.splice(O,1);break e}}b=m.createElement(f),Kn(b,f,u),m.head.appendChild(b);break;default:throw Error(i(468,f))}b[Sn]=a,rn(b),f=b}a.stateNode=f}else $E(m,a.type,a.stateNode);else a.stateNode=FE(m,f,a.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?$E(m,a.type,a.stateNode):FE(m,f,a.memoizedProps)):f===null&&a.stateNode!==null&&c_(a,a.memoizedProps,u.memoizedProps)}break;case 27:Oi(o,a),Pi(a),f&512&&(on||u===null||Bs(u,u.return)),u!==null&&f&4&&c_(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Oi(o,a),Pi(a),f&512&&(on||u===null||Bs(u,u.return)),a.flags&32){m=a.stateNode;try{Yi(m,"")}catch(rt){Ie(a,a.return,rt)}}f&4&&a.stateNode!=null&&(m=a.memoizedProps,c_(a,m,u!==null?u.memoizedProps:m)),f&1024&&(d_=!0);break;case 6:if(Oi(o,a),Pi(a),f&4){if(a.stateNode===null)throw Error(i(162));f=a.memoizedProps,u=a.stateNode;try{u.nodeValue=f}catch(rt){Ie(a,a.return,rt)}}break;case 3:if(fp=null,m=fs,fs=hp(o.containerInfo),Oi(o,a),fs=m,Pi(a),f&4&&u!==null&&u.memoizedState.isDehydrated)try{vh(o.containerInfo)}catch(rt){Ie(a,a.return,rt)}d_&&(d_=!1,K1(a));break;case 4:f=fs,fs=hp(a.stateNode.containerInfo),Oi(o,a),Pi(a),fs=f;break;case 12:Oi(o,a),Pi(a);break;case 13:Oi(o,a),Pi(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(b_=Ze()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,f_(a,f)));break;case 22:m=a.memoizedState!==null;var W=u!==null&&u.memoizedState!==null,et=jr,dt=on;if(jr=et||m,on=dt||W,Oi(o,a),on=dt,jr=et,Pi(a),f&8192)t:for(o=a.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(u===null||W||jr||on||Qo(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){W=u=o;try{if(b=W.stateNode,m)k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{O=W.stateNode;var mt=W.memoizedProps.style,st=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;O.style.display=st==null||typeof st=="boolean"?"":(""+st).trim()}}catch(rt){Ie(W,W.return,rt)}}}else if(o.tag===6){if(u===null){W=o;try{W.stateNode.nodeValue=m?"":W.memoizedProps}catch(rt){Ie(W,W.return,rt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break t;for(;o.sibling===null;){if(o.return===null||o.return===a)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=a.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,f_(a,u))));break;case 19:Oi(o,a),Pi(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,f_(a,f)));break;case 30:break;case 21:break;default:Oi(o,a),Pi(a)}}function Pi(a){var o=a.flags;if(o&2){try{for(var u,f=a.return;f!==null;){if(F1(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var m=u.stateNode,b=u_(a);Zf(a,b,m);break;case 5:var k=u.stateNode;u.flags&32&&(Yi(k,""),u.flags&=-33);var O=u_(a);Zf(a,O,k);break;case 3:case 4:var W=u.stateNode.containerInfo,et=u_(a);h_(a,et,W);break;default:throw Error(i(161))}}catch(dt){Ie(a,a.return,dt)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function K1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;K1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function ka(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)q1(a,o.alternate,o),o=o.sibling}function Qo(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Aa(4,o,o.return),Qo(o);break;case 1:Bs(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&U1(o,o.return,u),Qo(o);break;case 27:dh(o.stateNode);case 26:case 5:Bs(o,o.return),Qo(o);break;case 22:o.memoizedState===null&&Qo(o);break;case 30:Qo(o);break;default:Qo(o)}a=a.sibling}}function Ra(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,m=a,b=o,k=b.flags;switch(b.tag){case 0:case 11:case 15:Ra(m,b,u),nh(4,b);break;case 1:if(Ra(m,b,u),f=b,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(et){Ie(f,f.return,et)}if(f=b,m=f.updateQueue,m!==null){var O=f.stateNode;try{var W=m.shared.hiddenCallbacks;if(W!==null)for(m.shared.hiddenCallbacks=null,m=0;m<W.length;m++)Sw(W[m],O)}catch(et){Ie(f,f.return,et)}}u&&k&64&&V1(b),ih(b,b.return);break;case 27:B1(b);case 26:case 5:Ra(m,b,u),u&&f===null&&k&4&&z1(b),ih(b,b.return);break;case 12:Ra(m,b,u);break;case 13:Ra(m,b,u),u&&k&4&&Y1(m,b);break;case 22:b.memoizedState===null&&Ra(m,b,u),ih(b,b.return);break;case 30:break;default:Ra(m,b,u)}o=o.sibling}}function p_(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Bu(u))}function g_(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Bu(a))}function $s(a,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)X1(a,o,u,f),o=o.sibling}function X1(a,o,u,f){var m=o.flags;switch(o.tag){case 0:case 11:case 15:$s(a,o,u,f),m&2048&&nh(9,o);break;case 1:$s(a,o,u,f);break;case 3:$s(a,o,u,f),m&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Bu(a)));break;case 12:if(m&2048){$s(a,o,u,f),a=o.stateNode;try{var b=o.memoizedProps,k=b.id,O=b.onPostCommit;typeof O=="function"&&O(k,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(W){Ie(o,o.return,W)}}else $s(a,o,u,f);break;case 13:$s(a,o,u,f);break;case 23:break;case 22:b=o.stateNode,k=o.alternate,o.memoizedState!==null?b._visibility&2?$s(a,o,u,f):sh(a,o):b._visibility&2?$s(a,o,u,f):(b._visibility|=2,uc(a,o,u,f,(o.subtreeFlags&10256)!==0)),m&2048&&p_(k,o);break;case 24:$s(a,o,u,f),m&2048&&g_(o.alternate,o);break;default:$s(a,o,u,f)}}function uc(a,o,u,f,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=a,k=o,O=u,W=f,et=k.flags;switch(k.tag){case 0:case 11:case 15:uc(b,k,O,W,m),nh(8,k);break;case 23:break;case 22:var dt=k.stateNode;k.memoizedState!==null?dt._visibility&2?uc(b,k,O,W,m):sh(b,k):(dt._visibility|=2,uc(b,k,O,W,m)),m&&et&2048&&p_(k.alternate,k);break;case 24:uc(b,k,O,W,m),m&&et&2048&&g_(k.alternate,k);break;default:uc(b,k,O,W,m)}o=o.sibling}}function sh(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,f=o,m=f.flags;switch(f.tag){case 22:sh(u,f),m&2048&&p_(f.alternate,f);break;case 24:sh(u,f),m&2048&&g_(f.alternate,f);break;default:sh(u,f)}o=o.sibling}}var rh=8192;function hc(a){if(a.subtreeFlags&rh)for(a=a.child;a!==null;)Q1(a),a=a.sibling}function Q1(a){switch(a.tag){case 26:hc(a),a.flags&rh&&a.memoizedState!==null&&W2(fs,a.memoizedState,a.memoizedProps);break;case 5:hc(a);break;case 3:case 4:var o=fs;fs=hp(a.stateNode.containerInfo),hc(a),fs=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=rh,rh=16777216,hc(a),rh=o):hc(a));break;default:hc(a)}}function Z1(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function ah(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];jn=f,tE(f,a)}Z1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)J1(a),a=a.sibling}function J1(a){switch(a.tag){case 0:case 11:case 15:ah(a),a.flags&2048&&Aa(9,a,a.return);break;case 3:ah(a);break;case 12:ah(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Jf(a)):ah(a);break;default:ah(a)}}function Jf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];jn=f,tE(f,a)}Z1(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Aa(8,o,o.return),Jf(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Jf(o));break;default:Jf(o)}a=a.sibling}}function tE(a,o){for(;jn!==null;){var u=jn;switch(u.tag){case 0:case 11:case 15:Aa(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Bu(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,jn=f;else t:for(u=a;jn!==null;){f=jn;var m=f.sibling,b=f.return;if(H1(f),f===u){jn=null;break t}if(m!==null){m.return=b,jn=m;break t}jn=b}}}var l2={getCacheForType:function(a){var o=ni(kn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u}},c2=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Ne=null,ne=null,ue=0,Se=0,Ni=null,Ca=!1,dc=!1,m_=!1,Ur=0,tn=0,Da=0,Zo=0,y_=0,ns=0,fc=0,oh=null,Ei=null,__=!1,b_=0,tp=1/0,ep=null,Ma=null,Gn=0,Ia=null,pc=null,gc=0,v_=0,x_=null,eE=null,lh=0,w_=null;function Li(){if((Ee&2)!==0&&ue!==0)return ue&-ue;if($.T!==null){var a=nc;return a!==0?a:C_()}return Hi()}function nE(){ns===0&&(ns=(ue&536870912)===0||me?Ht():536870912);var a=es.current;return a!==null&&(a.flags|=32),ns}function ji(a,o,u){(a===Ne&&(Se===2||Se===9)||a.cancelPendingCommit!==null)&&(mc(a,0),Oa(a,ue,ns,!1)),de(a,u),((Ee&2)===0||a!==Ne)&&(a===Ne&&((Ee&2)===0&&(Zo|=u),tn===4&&Oa(a,ue,ns,!1)),qs(a))}function iE(a,o,u){if((Ee&6)!==0)throw Error(i(327));var f=!u&&(o&124)===0&&(o&a.expiredLanes)===0||yr(a,o),m=f?d2(a,o):T_(a,o,!0),b=f;do{if(m===0){dc&&!f&&Oa(a,o,0,!1);break}else{if(u=a.current.alternate,b&&!u2(u)){m=T_(a,o,!1),b=!1;continue}if(m===2){if(b=o,a.errorRecoveryDisabledLanes&b)var k=0;else k=a.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){o=k;t:{var O=a;m=oh;var W=O.current.memoizedState.isDehydrated;if(W&&(mc(O,k).flags|=256),k=T_(O,k,!1),k!==2){if(m_&&!W){O.errorRecoveryDisabledLanes|=b,Zo|=b,m=4;break t}b=Ei,Ei=m,b!==null&&(Ei===null?Ei=b:Ei.push.apply(Ei,b))}m=k}if(b=!1,m!==2)continue}}if(m===1){mc(a,0),Oa(a,o,0,!0);break}t:{switch(f=a,b=m,b){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Oa(f,o,ns,!Ca);break t;case 2:Ei=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(m=b_+300-Ze(),10<m)){if(Oa(f,o,ns,!Ca),mr(f,0,!0)!==0)break t;f.timeoutHandle=IE(sE.bind(null,f,u,Ei,ep,__,o,ns,Zo,fc,Ca,b,2,-0,0),m);break t}sE(f,u,Ei,ep,__,o,ns,Zo,fc,Ca,b,0,-0,0)}}break}while(!0);qs(a)}function sE(a,o,u,f,m,b,k,O,W,et,dt,mt,st,rt){if(a.timeoutHandle=-1,mt=o.subtreeFlags,(mt&8192||(mt&16785408)===16785408)&&(gh={stylesheets:null,count:0,unsuspend:H2},Q1(o),mt=Y2(),mt!==null)){a.cancelPendingCommit=mt(hE.bind(null,a,o,b,u,f,m,k,O,W,dt,1,st,rt)),Oa(a,b,k,!et);return}hE(a,o,b,u,f,m,k,O,W)}function u2(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var m=u[f],b=m.getSnapshot;m=m.value;try{if(!Mi(b(),m))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Oa(a,o,u,f){o&=~y_,o&=~Zo,a.suspendedLanes|=o,a.pingedLanes&=~o,f&&(a.warmLanes|=o),f=a.expirationTimes;for(var m=o;0<m;){var b=31-In(m),k=1<<b;f[b]=-1,m&=~k}u!==0&&Wt(a,u,o)}function np(){return(Ee&6)===0?(ch(0),!1):!0}function E_(){if(ne!==null){if(Se===0)var a=ne.return;else a=ne,Mr=Wo=null,zy(a),lc=null,Ju=0,a=ne;for(;a!==null;)j1(a.alternate,a),a=a.return;ne=null}}function mc(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,R2(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),E_(),Ne=a,ne=u=Rr(a.current,null),ue=o,Se=0,Ni=null,Ca=!1,dc=yr(a,o),m_=!1,fc=ns=y_=Zo=Da=tn=0,Ei=oh=null,__=!1,(o&8)!==0&&(o|=o&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=o;0<f;){var m=31-In(f),b=1<<m;o|=a[m],f&=~b}return Ur=o,Sf(),u}function rE(a,o){Zt=null,$.H=$f,o===qu||o===Of?(o=ww(),Se=3):o===bw?(o=ww(),Se=4):Se=o===E1?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ni=o,ne===null&&(tn=1,Gf(a,Qi(o,a.current)))}function aE(){var a=$.H;return $.H=$f,a===null?$f:a}function oE(){var a=$.A;return $.A=l2,a}function S_(){tn=4,Ca||(ue&4194048)!==ue&&es.current!==null||(dc=!0),(Da&134217727)===0&&(Zo&134217727)===0||Ne===null||Oa(Ne,ue,ns,!1)}function T_(a,o,u){var f=Ee;Ee|=2;var m=aE(),b=oE();(Ne!==a||ue!==o)&&(ep=null,mc(a,o)),o=!1;var k=tn;t:do try{if(Se!==0&&ne!==null){var O=ne,W=Ni;switch(Se){case 8:E_(),k=6;break t;case 3:case 2:case 9:case 6:es.current===null&&(o=!0);var et=Se;if(Se=0,Ni=null,yc(a,O,W,et),u&&dc){k=0;break t}break;default:et=Se,Se=0,Ni=null,yc(a,O,W,et)}}h2(),k=tn;break}catch(dt){rE(a,dt)}while(!0);return o&&a.shellSuspendCounter++,Mr=Wo=null,Ee=f,$.H=m,$.A=b,ne===null&&(Ne=null,ue=0,Sf()),k}function h2(){for(;ne!==null;)lE(ne)}function d2(a,o){var u=Ee;Ee|=2;var f=aE(),m=oE();Ne!==a||ue!==o?(ep=null,tp=Ze()+500,mc(a,o)):dc=yr(a,o);t:do try{if(Se!==0&&ne!==null){o=ne;var b=Ni;e:switch(Se){case 1:Se=0,Ni=null,yc(a,o,b,1);break;case 2:case 9:if(vw(b)){Se=0,Ni=null,cE(o);break}o=function(){Se!==2&&Se!==9||Ne!==a||(Se=7),qs(a)},b.then(o,o);break t;case 3:Se=7;break t;case 4:Se=5;break t;case 7:vw(b)?(Se=0,Ni=null,cE(o)):(Se=0,Ni=null,yc(a,o,b,7));break;case 5:var k=null;switch(ne.tag){case 26:k=ne.memoizedState;case 5:case 27:var O=ne;if(!k||qE(k)){Se=0,Ni=null;var W=O.sibling;if(W!==null)ne=W;else{var et=O.return;et!==null?(ne=et,ip(et)):ne=null}break e}}Se=0,Ni=null,yc(a,o,b,5);break;case 6:Se=0,Ni=null,yc(a,o,b,6);break;case 8:E_(),tn=6;break t;default:throw Error(i(462))}}f2();break}catch(dt){rE(a,dt)}while(!0);return Mr=Wo=null,$.H=f,$.A=m,Ee=u,ne!==null?0:(Ne=null,ue=0,Sf(),tn)}function f2(){for(;ne!==null&&!En();)lE(ne)}function lE(a){var o=N1(a.alternate,a,Ur);a.memoizedProps=a.pendingProps,o===null?ip(a):ne=o}function cE(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=C1(u,o,o.pendingProps,o.type,void 0,ue);break;case 11:o=C1(u,o,o.pendingProps,o.type.render,o.ref,ue);break;case 5:zy(o);default:j1(u,o),o=ne=uw(o,Ur),o=N1(u,o,Ur)}a.memoizedProps=a.pendingProps,o===null?ip(a):ne=o}function yc(a,o,u,f){Mr=Wo=null,zy(o),lc=null,Ju=0;var m=o.return;try{if(n2(a,m,o,u,ue)){tn=1,Gf(a,Qi(u,a.current)),ne=null;return}}catch(b){if(m!==null)throw ne=m,b;tn=1,Gf(a,Qi(u,a.current)),ne=null;return}o.flags&32768?(me||f===1?a=!0:dc||(ue&536870912)!==0?a=!1:(Ca=a=!0,(f===2||f===9||f===3||f===6)&&(f=es.current,f!==null&&f.tag===13&&(f.flags|=16384))),uE(o,a)):ip(o)}function ip(a){var o=a;do{if((o.flags&32768)!==0){uE(o,Ca);return}a=o.return;var u=s2(o.alternate,o,Ur);if(u!==null){ne=u;return}if(o=o.sibling,o!==null){ne=o;return}ne=o=a}while(o!==null);tn===0&&(tn=5)}function uE(a,o){do{var u=r2(a.alternate,a);if(u!==null){u.flags&=32767,ne=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){ne=a;return}ne=a=u}while(a!==null);tn=6,ne=null}function hE(a,o,u,f,m,b,k,O,W){a.cancelPendingCommit=null;do sp();while(Gn!==0);if((Ee&6)!==0)throw Error(i(327));if(o!==null){if(o===a.current)throw Error(i(177));if(b=o.lanes|o.childLanes,b|=gy,On(a,u,b,k,O,W),a===Ne&&(ne=Ne=null,ue=0),pc=o,Ia=a,gc=u,v_=b,x_=m,eE=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,y2(Mt,function(){return mE(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=$.T,$.T=null,m=K.p,K.p=2,k=Ee,Ee|=4;try{a2(a,o,u)}finally{Ee=k,K.p=m,$.T=f}}Gn=1,dE(),fE(),pE()}}function dE(){if(Gn===1){Gn=0;var a=Ia,o=pc,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=$.T,$.T=null;var f=K.p;K.p=2;var m=Ee;Ee|=4;try{G1(o,a);var b=j_,k=tw(a.containerInfo),O=b.focusedElem,W=b.selectionRange;if(k!==O&&O&&O.ownerDocument&&Jx(O.ownerDocument.documentElement,O)){if(W!==null&&uy(O)){var et=W.start,dt=W.end;if(dt===void 0&&(dt=et),"selectionStart"in O)O.selectionStart=et,O.selectionEnd=Math.min(dt,O.value.length);else{var mt=O.ownerDocument||document,st=mt&&mt.defaultView||window;if(st.getSelection){var rt=st.getSelection(),Ft=O.textContent.length,Lt=Math.min(W.start,Ft),Ce=W.end===void 0?Lt:Math.min(W.end,Ft);!rt.extend&&Lt>Ce&&(k=Ce,Ce=Lt,Lt=k);var Z=Zx(O,Lt),X=Zx(O,Ce);if(Z&&X&&(rt.rangeCount!==1||rt.anchorNode!==Z.node||rt.anchorOffset!==Z.offset||rt.focusNode!==X.node||rt.focusOffset!==X.offset)){var tt=mt.createRange();tt.setStart(Z.node,Z.offset),rt.removeAllRanges(),Lt>Ce?(rt.addRange(tt),rt.extend(X.node,X.offset)):(tt.setEnd(X.node,X.offset),rt.addRange(tt))}}}}for(mt=[],rt=O;rt=rt.parentNode;)rt.nodeType===1&&mt.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<mt.length;O++){var ft=mt[O];ft.element.scrollLeft=ft.left,ft.element.scrollTop=ft.top}}mp=!!L_,j_=L_=null}finally{Ee=m,K.p=f,$.T=u}}a.current=o,Gn=2}}function fE(){if(Gn===2){Gn=0;var a=Ia,o=pc,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=$.T,$.T=null;var f=K.p;K.p=2;var m=Ee;Ee|=4;try{q1(a,o.alternate,o)}finally{Ee=m,K.p=f,$.T=u}}Gn=3}}function pE(){if(Gn===4||Gn===3){Gn=0,ei();var a=Ia,o=pc,u=gc,f=eE;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Gn=5:(Gn=0,pc=Ia=null,gE(a,a.pendingLanes));var m=a.pendingLanes;if(m===0&&(Ma=null),da(u),o=o.stateNode,ee&&typeof ee.onCommitFiberRoot=="function")try{ee.onCommitFiberRoot(fe,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=$.T,m=K.p,K.p=2,$.T=null;try{for(var b=a.onRecoverableError,k=0;k<f.length;k++){var O=f[k];b(O.value,{componentStack:O.stack})}}finally{$.T=o,K.p=m}}(gc&3)!==0&&sp(),qs(a),m=a.pendingLanes,(u&4194090)!==0&&(m&42)!==0?a===w_?lh++:(lh=0,w_=a):lh=0,ch(0)}}function gE(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Bu(o)))}function sp(a){return dE(),fE(),pE(),mE()}function mE(){if(Gn!==5)return!1;var a=Ia,o=v_;v_=0;var u=da(gc),f=$.T,m=K.p;try{K.p=32>u?32:u,$.T=null,u=x_,x_=null;var b=Ia,k=gc;if(Gn=0,pc=Ia=null,gc=0,(Ee&6)!==0)throw Error(i(331));var O=Ee;if(Ee|=4,J1(b.current),X1(b,b.current,k,u),Ee=O,ch(0,!1),ee&&typeof ee.onPostCommitFiberRoot=="function")try{ee.onPostCommitFiberRoot(fe,b)}catch{}return!0}finally{K.p=m,$.T=f,gE(a,o)}}function yE(a,o,u){o=Qi(u,o),o=t_(a.stateNode,o,2),a=wa(a,o,2),a!==null&&(de(a,2),qs(a))}function Ie(a,o,u){if(a.tag===3)yE(a,a,u);else for(;o!==null;){if(o.tag===3){yE(o,a,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ma===null||!Ma.has(f))){a=Qi(u,a),u=x1(2),f=wa(o,u,2),f!==null&&(w1(u,f,o,a),de(f,2),qs(f));break}}o=o.return}}function A_(a,o,u){var f=a.pingCache;if(f===null){f=a.pingCache=new c2;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m_=!0,m.add(u),a=p2.bind(null,a,o,u),o.then(a,a))}function p2(a,o,u){var f=a.pingCache;f!==null&&f.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Ne===a&&(ue&u)===u&&(tn===4||tn===3&&(ue&62914560)===ue&&300>Ze()-b_?(Ee&2)===0&&mc(a,0):y_|=u,fc===ue&&(fc=0)),qs(a)}function _E(a,o){o===0&&(o=_e()),a=Zl(a,o),a!==null&&(de(a,o),qs(a))}function g2(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),_E(a,u)}function m2(a,o){var u=0;switch(a.tag){case 13:var f=a.stateNode,m=a.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(o),_E(a,u)}function y2(a,o){return ye(a,o)}var rp=null,_c=null,k_=!1,ap=!1,R_=!1,Jo=0;function qs(a){a!==_c&&a.next===null&&(_c===null?rp=_c=a:_c=_c.next=a),ap=!0,k_||(k_=!0,b2())}function ch(a,o){if(!R_&&ap){R_=!0;do for(var u=!1,f=rp;f!==null;){if(a!==0){var m=f.pendingLanes;if(m===0)var b=0;else{var k=f.suspendedLanes,O=f.pingedLanes;b=(1<<31-In(42|a)+1)-1,b&=m&~(k&~O),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,wE(f,b))}else b=ue,b=mr(f,f===Ne?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||yr(f,b)||(u=!0,wE(f,b));f=f.next}while(u);R_=!1}}function _2(){bE()}function bE(){ap=k_=!1;var a=0;Jo!==0&&(k2()&&(a=Jo),Jo=0);for(var o=Ze(),u=null,f=rp;f!==null;){var m=f.next,b=vE(f,o);b===0?(f.next=null,u===null?rp=m:u.next=m,m===null&&(_c=u)):(u=f,(a!==0||(b&3)!==0)&&(ap=!0)),f=m}ch(a)}function vE(a,o){for(var u=a.suspendedLanes,f=a.pingedLanes,m=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var k=31-In(b),O=1<<k,W=m[k];W===-1?((O&u)===0||(O&f)!==0)&&(m[k]=ha(O,o)):W<=o&&(a.expiredLanes|=O),b&=~O}if(o=Ne,u=ue,u=mr(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,u===0||a===o&&(Se===2||Se===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&Pe(f),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||yr(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(f!==null&&Pe(f),da(u)){case 2:case 8:u=bt;break;case 32:u=Mt;break;case 268435456:u=Tt;break;default:u=Mt}return f=xE.bind(null,a),u=ye(u,f),a.callbackPriority=o,a.callbackNode=u,o}return f!==null&&f!==null&&Pe(f),a.callbackPriority=2,a.callbackNode=null,2}function xE(a,o){if(Gn!==0&&Gn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(sp()&&a.callbackNode!==u)return null;var f=ue;return f=mr(a,a===Ne?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(iE(a,f,o),vE(a,Ze()),a.callbackNode!=null&&a.callbackNode===u?xE.bind(null,a):null)}function wE(a,o){if(sp())return null;iE(a,o,!0)}function b2(){C2(function(){(Ee&6)!==0?ye(dr,_2):bE()})}function C_(){return Jo===0&&(Jo=Ht()),Jo}function EE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:zl(""+a)}function SE(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function v2(a,o,u,f,m){if(o==="submit"&&u&&u.stateNode===m){var b=EE((m[un]||null).action),k=f.submitter;k&&(o=(o=k[un]||null)?EE(o.formAction):k.getAttribute("formAction"),o!==null&&(b=o,k=null));var O=new Fl("action","action",null,f,m);a.push({event:O,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Jo!==0){var W=k?SE(m,k):new FormData(m);Ky(u,{pending:!0,data:W,method:m.method,action:b},null,W)}}else typeof b=="function"&&(O.preventDefault(),W=k?SE(m,k):new FormData(m),Ky(u,{pending:!0,data:W,method:m.method,action:b},b,W))},currentTarget:m}]})}}for(var D_=0;D_<py.length;D_++){var M_=py[D_],x2=M_.toLowerCase(),w2=M_[0].toUpperCase()+M_.slice(1);ds(x2,"on"+w2)}ds(iw,"onAnimationEnd"),ds(sw,"onAnimationIteration"),ds(rw,"onAnimationStart"),ds("dblclick","onDoubleClick"),ds("focusin","onFocus"),ds("focusout","onBlur"),ds(UO,"onTransitionRun"),ds(zO,"onTransitionStart"),ds(FO,"onTransitionCancel"),ds(aw,"onTransitionEnd"),br("onMouseEnter",["mouseout","mouseover"]),br("onMouseLeave",["mouseout","mouseover"]),br("onPointerEnter",["pointerout","pointerover"]),br("onPointerLeave",["pointerout","pointerover"]),us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),us("onBeforeInput",["compositionend","keypress","textInput","paste"]),us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uh));function TE(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var f=a[u],m=f.event;f=f.listeners;t:{var b=void 0;if(o)for(var k=f.length-1;0<=k;k--){var O=f[k],W=O.instance,et=O.currentTarget;if(O=O.listener,W!==b&&m.isPropagationStopped())break t;b=O,m.currentTarget=et;try{b(m)}catch(dt){Yf(dt)}m.currentTarget=null,b=W}else for(k=0;k<f.length;k++){if(O=f[k],W=O.instance,et=O.currentTarget,O=O.listener,W!==b&&m.isPropagationStopped())break t;b=O,m.currentTarget=et;try{b(m)}catch(dt){Yf(dt)}m.currentTarget=null,b=W}}}}function ie(a,o){var u=o[xu];u===void 0&&(u=o[xu]=new Set);var f=a+"__bubble";u.has(f)||(AE(o,a,2,!1),u.add(f))}function I_(a,o,u){var f=0;o&&(f|=4),AE(u,a,f,o)}var op="_reactListening"+Math.random().toString(36).slice(2);function O_(a){if(!a[op]){a[op]=!0,wu.forEach(function(u){u!=="selectionchange"&&(E2.has(u)||I_(u,!1,a),I_(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[op]||(o[op]=!0,I_("selectionchange",!1,o))}}function AE(a,o,u,f){switch(XE(o)){case 2:var m=X2;break;case 8:m=Q2;break;default:m=Y_}u=m.bind(null,o,u,a),m=void 0,!Ki||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?a.addEventListener(o,u,{capture:!0,passive:m}):a.addEventListener(o,u,!0):m!==void 0?a.addEventListener(o,u,{passive:m}):a.addEventListener(o,u,!1)}function P_(a,o,u,f,m){var b=f;if((o&1)===0&&(o&2)===0&&f!==null)t:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var O=f.stateNode.containerInfo;if(O===m)break;if(k===4)for(k=f.return;k!==null;){var W=k.tag;if((W===3||W===4)&&k.stateNode.containerInfo===m)return;k=k.return}for(;O!==null;){if(k=_r(O),k===null)return;if(W=k.tag,W===5||W===6||W===26||W===27){f=b=k;continue t}O=O.parentNode}}f=f.return}cf(function(){var et=b,dt=Gi(u),mt=[];t:{var st=ow.get(a);if(st!==void 0){var rt=Fl,Ft=a;switch(a){case"keypress":if(Ns(u)===0)break t;case"keydown":case"keyup":rt=Yl;break;case"focusin":Ft="focus",rt=ql;break;case"focusout":Ft="blur",rt=ql;break;case"beforeblur":case"afterblur":rt=ql;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Xi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=ay;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=yf;break;case iw:case sw:case rw:rt=Hl;break;case aw:rt=bf;break;case"scroll":case"scrollend":rt=uf;break;case"wheel":rt=Gl;break;case"copy":case"cut":case"paste":rt=Wl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Pu;break;case"toggle":case"beforetoggle":rt=xf}var Lt=(o&4)!==0,Ce=!Lt&&(a==="scroll"||a==="scrollend"),Z=Lt?st!==null?st+"Capture":null:st;Lt=[];for(var X=et,tt;X!==null;){var ft=X;if(tt=ft.stateNode,ft=ft.tag,ft!==5&&ft!==26&&ft!==27||tt===null||Z===null||(ft=Io(X,Z),ft!=null&&Lt.push(hh(X,ft,tt))),Ce)break;X=X.return}0<Lt.length&&(st=new rt(st,Ft,null,u,dt),mt.push({event:st,listeners:Lt}))}}if((o&7)===0){t:{if(st=a==="mouseover"||a==="pointerover",rt=a==="mouseout"||a==="pointerout",st&&u!==wr&&(Ft=u.relatedTarget||u.fromElement)&&(_r(Ft)||Ft[Wi]))break t;if((rt||st)&&(st=dt.window===dt?dt:(st=dt.ownerDocument)?st.defaultView||st.parentWindow:window,rt?(Ft=u.relatedTarget||u.toElement,rt=et,Ft=Ft?_r(Ft):null,Ft!==null&&(Ce=r(Ft),Lt=Ft.tag,Ft!==Ce||Lt!==5&&Lt!==27&&Lt!==6)&&(Ft=null)):(rt=null,Ft=et),rt!==Ft)){if(Lt=Xi,ft="onMouseLeave",Z="onMouseEnter",X="mouse",(a==="pointerout"||a==="pointerover")&&(Lt=Pu,ft="onPointerLeave",Z="onPointerEnter",X="pointer"),Ce=rt==null?st:Ms(rt),tt=Ft==null?st:Ms(Ft),st=new Lt(ft,X+"leave",rt,u,dt),st.target=Ce,st.relatedTarget=tt,ft=null,_r(dt)===et&&(Lt=new Lt(Z,X+"enter",Ft,u,dt),Lt.target=tt,Lt.relatedTarget=Ce,ft=Lt),Ce=ft,rt&&Ft)e:{for(Lt=rt,Z=Ft,X=0,tt=Lt;tt;tt=bc(tt))X++;for(tt=0,ft=Z;ft;ft=bc(ft))tt++;for(;0<X-tt;)Lt=bc(Lt),X--;for(;0<tt-X;)Z=bc(Z),tt--;for(;X--;){if(Lt===Z||Z!==null&&Lt===Z.alternate)break e;Lt=bc(Lt),Z=bc(Z)}Lt=null}else Lt=null;rt!==null&&kE(mt,st,rt,Lt,!1),Ft!==null&&Ce!==null&&kE(mt,Ce,Ft,Lt,!0)}}t:{if(st=et?Ms(et):window,rt=st.nodeName&&st.nodeName.toLowerCase(),rt==="select"||rt==="input"&&st.type==="file")var Dt=Wx;else if(An(st))if(Yx)Dt=LO;else{Dt=PO;var Jt=OO}else rt=st.nodeName,!rt||rt.toLowerCase()!=="input"||st.type!=="checkbox"&&st.type!=="radio"?et&&ku(et.elementType)&&(Dt=Wx):Dt=NO;if(Dt&&(Dt=Dt(a,et))){kr(mt,Dt,u,dt);break t}Jt&&Jt(a,st,et),a==="focusout"&&et&&st.type==="number"&&et.memoizedProps.value!=null&&ya(st,"number",st.value)}switch(Jt=et?Ms(et):window,a){case"focusin":(An(Jt)||Jt.contentEditable==="true")&&(Kl=Jt,hy=et,ju=null);break;case"focusout":ju=hy=Kl=null;break;case"mousedown":dy=!0;break;case"contextmenu":case"mouseup":case"dragend":dy=!1,ew(mt,u,dt);break;case"selectionchange":if(VO)break;case"keydown":case"keyup":ew(mt,u,dt)}var Ot;if(Vs)t:{switch(a){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else le?ct(a,u)&&(jt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(jt="onCompositionStart");jt&&(A&&u.locale!=="ko"&&(le||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&le&&(Ot=Cu()):(Ps=dt,_a="value"in Ps?Ps.value:Ps.textContent,le=!0)),Jt=lp(et,jt),0<Jt.length&&(jt=new Iu(jt,a,null,u,dt),mt.push({event:jt,listeners:Jt}),Ot?jt.data=Ot:(Ot=xt(u),Ot!==null&&(jt.data=Ot)))),(Ot=w?Tn(a,u):ce(a,u))&&(jt=lp(et,"onBeforeInput"),0<jt.length&&(Jt=new Iu("onBeforeInput","beforeinput",null,u,dt),mt.push({event:Jt,listeners:jt}),Jt.data=Ot)),v2(mt,a,et,u,dt)}TE(mt,o)})}function hh(a,o,u){return{instance:a,listener:o,currentTarget:u}}function lp(a,o){for(var u=o+"Capture",f=[];a!==null;){var m=a,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=Io(a,u),m!=null&&f.unshift(hh(a,m,b)),m=Io(a,o),m!=null&&f.push(hh(a,m,b))),a.tag===3)return f;a=a.return}return[]}function bc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function kE(a,o,u,f,m){for(var b=o._reactName,k=[];u!==null&&u!==f;){var O=u,W=O.alternate,et=O.stateNode;if(O=O.tag,W!==null&&W===f)break;O!==5&&O!==26&&O!==27||et===null||(W=et,m?(et=Io(u,b),et!=null&&k.unshift(hh(u,et,W))):m||(et=Io(u,b),et!=null&&k.push(hh(u,et,W)))),u=u.return}k.length!==0&&a.push({event:o,listeners:k})}var S2=/\r\n?/g,T2=/\u0000|\uFFFD/g;function RE(a){return(typeof a=="string"?a:""+a).replace(S2,`
`).replace(T2,"")}function CE(a,o){return o=RE(o),RE(a)===o}function cp(){}function Re(a,o,u,f,m,b){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Yi(a,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Yi(a,""+f);break;case"className":Is(a,"class",f);break;case"tabIndex":Is(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Is(a,u,f);break;case"style":Au(a,f,b);break;case"data":if(o!=="object"){Is(a,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=zl(""+f),a.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&Re(a,o,"name",m.name,m,null),Re(a,o,"formEncType",m.formEncType,m,null),Re(a,o,"formMethod",m.formMethod,m,null),Re(a,o,"formTarget",m.formTarget,m,null)):(Re(a,o,"encType",m.encType,m,null),Re(a,o,"method",m.method,m,null),Re(a,o,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=zl(""+f),a.setAttribute(u,f);break;case"onClick":f!=null&&(a.onclick=cp);break;case"onScroll":f!=null&&ie("scroll",a);break;case"onScrollEnd":f!=null&&ie("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(m.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}u=zl(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""+f):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":f===!0?a.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,f):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(u,f):a.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(u):a.setAttribute(u,f);break;case"popover":ie("beforetoggle",a),ie("toggle",a),ma(a,"popover",f);break;case"xlinkActuate":Hn(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Hn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Hn(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Hn(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Hn(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Hn(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Hn(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Hn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Hn(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ma(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=sy.get(u)||u,ma(a,u,f))}}function N_(a,o,u,f,m,b){switch(u){case"style":Au(a,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(m.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"children":typeof f=="string"?Yi(a,f):(typeof f=="number"||typeof f=="bigint")&&Yi(a,""+f);break;case"onScroll":f!=null&&ie("scroll",a);break;case"onScrollEnd":f!=null&&ie("scrollend",a);break;case"onClick":f!=null&&(a.onclick=cp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),o=u.slice(2,m?u.length-7:void 0),b=a[un]||null,b=b!=null?b[u]:null,typeof b=="function"&&a.removeEventListener(o,b,m),typeof f=="function")){typeof b!="function"&&b!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,f,m);break t}u in a?a[u]=f:f===!0?a.setAttribute(u,""):ma(a,u,f)}}}function Kn(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ie("error",a),ie("load",a);var f=!1,m=!1,b;for(b in u)if(u.hasOwnProperty(b)){var k=u[b];if(k!=null)switch(b){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Re(a,o,b,k,u,null)}}m&&Re(a,o,"srcSet",u.srcSet,u,null),f&&Re(a,o,"src",u.src,u,null);return;case"input":ie("invalid",a);var O=b=k=m=null,W=null,et=null;for(f in u)if(u.hasOwnProperty(f)){var dt=u[f];if(dt!=null)switch(f){case"name":m=dt;break;case"type":k=dt;break;case"checked":W=dt;break;case"defaultChecked":et=dt;break;case"value":b=dt;break;case"defaultValue":O=dt;break;case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(i(137,o));break;default:Re(a,o,f,dt,u,null)}}Co(a,b,O,W,et,k,m,!1),Ul(a);return;case"select":ie("invalid",a),f=k=b=null;for(m in u)if(u.hasOwnProperty(m)&&(O=u[m],O!=null))switch(m){case"value":b=O;break;case"defaultValue":k=O;break;case"multiple":f=O;default:Re(a,o,m,O,u,null)}o=b,u=k,a.multiple=!!f,o!=null?xr(a,!!f,o,!1):u!=null&&xr(a,!!f,u,!0);return;case"textarea":ie("invalid",a),b=m=f=null;for(k in u)if(u.hasOwnProperty(k)&&(O=u[k],O!=null))switch(k){case"value":f=O;break;case"defaultValue":m=O;break;case"children":b=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:Re(a,o,k,O,u,null)}Do(a,f,m,b),Ul(a);return;case"option":for(W in u)if(u.hasOwnProperty(W)&&(f=u[W],f!=null))switch(W){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Re(a,o,W,f,u,null)}return;case"dialog":ie("beforetoggle",a),ie("toggle",a),ie("cancel",a),ie("close",a);break;case"iframe":case"object":ie("load",a);break;case"video":case"audio":for(f=0;f<uh.length;f++)ie(uh[f],a);break;case"image":ie("error",a),ie("load",a);break;case"details":ie("toggle",a);break;case"embed":case"source":case"link":ie("error",a),ie("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in u)if(u.hasOwnProperty(et)&&(f=u[et],f!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Re(a,o,et,f,u,null)}return;default:if(ku(o)){for(dt in u)u.hasOwnProperty(dt)&&(f=u[dt],f!==void 0&&N_(a,o,dt,f,u,void 0));return}}for(O in u)u.hasOwnProperty(O)&&(f=u[O],f!=null&&Re(a,o,O,f,u,null))}function A2(a,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,k=null,O=null,W=null,et=null,dt=null;for(rt in u){var mt=u[rt];if(u.hasOwnProperty(rt)&&mt!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":W=mt;default:f.hasOwnProperty(rt)||Re(a,o,rt,null,f,mt)}}for(var st in f){var rt=f[st];if(mt=u[st],f.hasOwnProperty(st)&&(rt!=null||mt!=null))switch(st){case"type":b=rt;break;case"name":m=rt;break;case"checked":et=rt;break;case"defaultChecked":dt=rt;break;case"value":k=rt;break;case"defaultValue":O=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(i(137,o));break;default:rt!==mt&&Re(a,o,st,rt,f,mt)}}Di(a,k,O,W,et,dt,b,m);return;case"select":rt=k=O=st=null;for(b in u)if(W=u[b],u.hasOwnProperty(b)&&W!=null)switch(b){case"value":break;case"multiple":rt=W;default:f.hasOwnProperty(b)||Re(a,o,b,null,f,W)}for(m in f)if(b=f[m],W=u[m],f.hasOwnProperty(m)&&(b!=null||W!=null))switch(m){case"value":st=b;break;case"defaultValue":O=b;break;case"multiple":k=b;default:b!==W&&Re(a,o,m,b,f,W)}o=O,u=k,f=rt,st!=null?xr(a,!!u,st,!1):!!f!=!!u&&(o!=null?xr(a,!!u,o,!0):xr(a,!!u,u?[]:"",!1));return;case"textarea":rt=st=null;for(O in u)if(m=u[O],u.hasOwnProperty(O)&&m!=null&&!f.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Re(a,o,O,null,f,m)}for(k in f)if(m=f[k],b=u[k],f.hasOwnProperty(k)&&(m!=null||b!=null))switch(k){case"value":st=m;break;case"defaultValue":rt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==b&&Re(a,o,k,m,f,b)}Ae(a,st,rt);return;case"option":for(var Ft in u)if(st=u[Ft],u.hasOwnProperty(Ft)&&st!=null&&!f.hasOwnProperty(Ft))switch(Ft){case"selected":a.selected=!1;break;default:Re(a,o,Ft,null,f,st)}for(W in f)if(st=f[W],rt=u[W],f.hasOwnProperty(W)&&st!==rt&&(st!=null||rt!=null))switch(W){case"selected":a.selected=st&&typeof st!="function"&&typeof st!="symbol";break;default:Re(a,o,W,st,f,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Lt in u)st=u[Lt],u.hasOwnProperty(Lt)&&st!=null&&!f.hasOwnProperty(Lt)&&Re(a,o,Lt,null,f,st);for(et in f)if(st=f[et],rt=u[et],f.hasOwnProperty(et)&&st!==rt&&(st!=null||rt!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(i(137,o));break;default:Re(a,o,et,st,f,rt)}return;default:if(ku(o)){for(var Ce in u)st=u[Ce],u.hasOwnProperty(Ce)&&st!==void 0&&!f.hasOwnProperty(Ce)&&N_(a,o,Ce,void 0,f,st);for(dt in f)st=f[dt],rt=u[dt],!f.hasOwnProperty(dt)||st===rt||st===void 0&&rt===void 0||N_(a,o,dt,st,f,rt);return}}for(var Z in u)st=u[Z],u.hasOwnProperty(Z)&&st!=null&&!f.hasOwnProperty(Z)&&Re(a,o,Z,null,f,st);for(mt in f)st=f[mt],rt=u[mt],!f.hasOwnProperty(mt)||st===rt||st==null&&rt==null||Re(a,o,mt,st,f,rt)}var L_=null,j_=null;function up(a){return a.nodeType===9?a:a.ownerDocument}function DE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ME(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function V_(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var U_=null;function k2(){var a=window.event;return a&&a.type==="popstate"?a===U_?!1:(U_=a,!0):(U_=null,!1)}var IE=typeof setTimeout=="function"?setTimeout:void 0,R2=typeof clearTimeout=="function"?clearTimeout:void 0,OE=typeof Promise=="function"?Promise:void 0,C2=typeof queueMicrotask=="function"?queueMicrotask:typeof OE<"u"?function(a){return OE.resolve(null).then(a).catch(D2)}:IE;function D2(a){setTimeout(function(){throw a})}function Pa(a){return a==="head"}function PE(a,o){var u=o,f=0,m=0;do{var b=u.nextSibling;if(a.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<f&&8>f){u=f;var k=a.ownerDocument;if(u&1&&dh(k.documentElement),u&2&&dh(k.body),u&4)for(u=k.head,dh(u),k=u.firstChild;k;){var O=k.nextSibling,W=k.nodeName;k[To]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&k.rel.toLowerCase()==="stylesheet"||u.removeChild(k),k=O}}if(m===0){a.removeChild(b),vh(o);return}m--}else u==="$"||u==="$?"||u==="$!"?m++:f=u.charCodeAt(0)-48;else f=0;u=b}while(u);vh(o)}function z_(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":z_(u),ga(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function M2(a,o,u,f){for(;a.nodeType===1;){var m=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[To])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==m.rel||a.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||a.getAttribute("title")!==(m.title==null?null:m.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(m.src==null?null:m.src)||a.getAttribute("type")!==(m.type==null?null:m.type)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=ps(a.nextSibling),a===null)break}return null}function I2(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=ps(a.nextSibling),a===null))return null;return a}function F_(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function O2(a,o){var u=a.ownerDocument;if(a.data!=="$?"||u.readyState==="complete")o();else{var f=function(){o(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function ps(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}var B_=null;function NE(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return a;o--}else u==="/$"&&o++}a=a.previousSibling}return null}function LE(a,o,u){switch(o=up(u),a){case"html":if(a=o.documentElement,!a)throw Error(i(452));return a;case"head":if(a=o.head,!a)throw Error(i(453));return a;case"body":if(a=o.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function dh(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);ga(a)}var is=new Map,jE=new Set;function hp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var zr=K.d;K.d={f:P2,r:N2,D:L2,C:j2,L:V2,m:U2,X:F2,S:z2,M:B2};function P2(){var a=zr.f(),o=np();return a||o}function N2(a){var o=Ds(a);o!==null&&o.tag===5&&o.type==="form"?i1(o):zr.r(a)}var vc=typeof document>"u"?null:document;function VE(a,o,u){var f=vc;if(f&&typeof o=="string"&&o){var m=hn(o);m='link[rel="'+a+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),jE.has(m)||(jE.add(m),a={rel:a,crossOrigin:u,href:o},f.querySelector(m)===null&&(o=f.createElement("link"),Kn(o,"link",a),rn(o),f.head.appendChild(o)))}}function L2(a){zr.D(a),VE("dns-prefetch",a,null)}function j2(a,o){zr.C(a,o),VE("preconnect",a,o)}function V2(a,o,u){zr.L(a,o,u);var f=vc;if(f&&a&&o){var m='link[rel="preload"][as="'+hn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+hn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+hn(u.imageSizes)+'"]')):m+='[href="'+hn(a)+'"]';var b=m;switch(o){case"style":b=xc(a);break;case"script":b=wc(a)}is.has(b)||(a=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),is.set(b,a),f.querySelector(m)!==null||o==="style"&&f.querySelector(fh(b))||o==="script"&&f.querySelector(ph(b))||(o=f.createElement("link"),Kn(o,"link",a),rn(o),f.head.appendChild(o)))}}function U2(a,o){zr.m(a,o);var u=vc;if(u&&a){var f=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+hn(f)+'"][href="'+hn(a)+'"]',b=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=wc(a)}if(!is.has(b)&&(a=p({rel:"modulepreload",href:a},o),is.set(b,a),u.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(ph(b)))return}f=u.createElement("link"),Kn(f,"link",a),rn(f),u.head.appendChild(f)}}}function z2(a,o,u){zr.S(a,o,u);var f=vc;if(f&&a){var m=gi(f).hoistableStyles,b=xc(a);o=o||"default";var k=m.get(b);if(!k){var O={loading:0,preload:null};if(k=f.querySelector(fh(b)))O.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},u),(u=is.get(b))&&$_(a,u);var W=k=f.createElement("link");rn(W),Kn(W,"link",a),W._p=new Promise(function(et,dt){W.onload=et,W.onerror=dt}),W.addEventListener("load",function(){O.loading|=1}),W.addEventListener("error",function(){O.loading|=2}),O.loading|=4,dp(k,o,f)}k={type:"stylesheet",instance:k,count:1,state:O},m.set(b,k)}}}function F2(a,o){zr.X(a,o);var u=vc;if(u&&a){var f=gi(u).hoistableScripts,m=wc(a),b=f.get(m);b||(b=u.querySelector(ph(m)),b||(a=p({src:a,async:!0},o),(o=is.get(m))&&q_(a,o),b=u.createElement("script"),rn(b),Kn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(m,b))}}function B2(a,o){zr.M(a,o);var u=vc;if(u&&a){var f=gi(u).hoistableScripts,m=wc(a),b=f.get(m);b||(b=u.querySelector(ph(m)),b||(a=p({src:a,async:!0,type:"module"},o),(o=is.get(m))&&q_(a,o),b=u.createElement("script"),rn(b),Kn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(m,b))}}function UE(a,o,u,f){var m=(m=G.current)?hp(m):null;if(!m)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=xc(u.href),u=gi(m).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=xc(u.href);var b=gi(m).hoistableStyles,k=b.get(a);if(k||(m=m.ownerDocument||m,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,k),(b=m.querySelector(fh(a)))&&!b._p&&(k.instance=b,k.state.loading=5),is.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},is.set(a,u),b||$2(m,a,u,k.state))),o&&f===null)throw Error(i(528,""));return k}if(o&&f!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=wc(u),u=gi(m).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function xc(a){return'href="'+hn(a)+'"'}function fh(a){return'link[rel="stylesheet"]['+a+"]"}function zE(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function $2(a,o,u,f){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=a.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Kn(o,"link",u),rn(o),a.head.appendChild(o))}function wc(a){return'[src="'+hn(a)+'"]'}function ph(a){return"script[async]"+a}function FE(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=a.querySelector('style[data-href~="'+hn(u.href)+'"]');if(f)return o.instance=f,rn(f),f;var m=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),rn(f),Kn(f,"style",m),dp(f,u.precedence,a),o.instance=f;case"stylesheet":m=xc(u.href);var b=a.querySelector(fh(m));if(b)return o.state.loading|=4,o.instance=b,rn(b),b;f=zE(u),(m=is.get(m))&&$_(f,m),b=(a.ownerDocument||a).createElement("link"),rn(b);var k=b;return k._p=new Promise(function(O,W){k.onload=O,k.onerror=W}),Kn(b,"link",f),o.state.loading|=4,dp(b,u.precedence,a),o.instance=b;case"script":return b=wc(u.src),(m=a.querySelector(ph(b)))?(o.instance=m,rn(m),m):(f=u,(m=is.get(b))&&(f=p({},u),q_(f,m)),a=a.ownerDocument||a,m=a.createElement("script"),rn(m),Kn(m,"link",f),a.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,dp(f,u.precedence,a));return o.instance}function dp(a,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,b=m,k=0;k<f.length;k++){var O=f[k];if(O.dataset.precedence===o)b=O;else if(b!==m)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function $_(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function q_(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var fp=null;function BE(a,o,u){if(fp===null){var f=new Map,m=fp=new Map;m.set(u,f)}else m=fp,f=m.get(u),f||(f=new Map,m.set(u,f));if(f.has(a))return f;for(f.set(a,null),u=u.getElementsByTagName(a),m=0;m<u.length;m++){var b=u[m];if(!(b[To]||b[Sn]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var k=b.getAttribute(o)||"";k=a+k;var O=f.get(k);O?O.push(b):f.set(k,[b])}}return f}function $E(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function q2(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function qE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var gh=null;function H2(){}function W2(a,o,u){if(gh===null)throw Error(i(475));var f=gh;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=xc(u.href),b=a.querySelector(fh(m));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(f.count++,f=pp.bind(f),a.then(f,f)),o.state.loading|=4,o.instance=b,rn(b);return}b=a.ownerDocument||a,u=zE(u),(m=is.get(m))&&$_(u,m),b=b.createElement("link"),rn(b);var k=b;k._p=new Promise(function(O,W){k.onload=O,k.onerror=W}),Kn(b,"link",u),o.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=pp.bind(f),a.addEventListener("load",o),a.addEventListener("error",o))}}function Y2(){if(gh===null)throw Error(i(475));var a=gh;return a.stylesheets&&a.count===0&&H_(a,a.stylesheets),0<a.count?function(o){var u=setTimeout(function(){if(a.stylesheets&&H_(a,a.stylesheets),a.unsuspend){var f=a.unsuspend;a.unsuspend=null,f()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(u)}}:null}function pp(){if(this.count--,this.count===0){if(this.stylesheets)H_(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var gp=null;function H_(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,gp=new Map,o.forEach(G2,a),gp=null,pp.call(a))}function G2(a,o){if(!(o.state.loading&4)){var u=gp.get(a);if(u)var f=u.get(null);else{u=new Map,gp.set(a,u);for(var m=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var k=m[b];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(u.set(k.dataset.precedence,k),f=k)}f&&u.set(null,f)}m=o.instance,k=m.getAttribute("data-precedence"),b=u.get(k)||f,b===f&&u.set(null,m),u.set(k,m),this.count++,f=pp.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),b?b.parentNode.insertBefore(m,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(m,a.firstChild)),o.state.loading|=4}}var mh={$$typeof:N,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function K2(a,o,u,f,m,b,k,O){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.hiddenUpdates=Vt(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function HE(a,o,u,f,m,b,k,O,W,et,dt,mt){return a=new K2(a,o,u,k,O,W,et,mt),o=1,b===!0&&(o|=24),b=Ii(3,null,null,o),a.current=b,b.stateNode=a,o=Ay(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:o},Dy(b),a}function WE(a){return a?(a=Jl,a):Jl}function YE(a,o,u,f,m,b){m=WE(m),f.context===null?f.context=m:f.pendingContext=m,f=xa(o),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=wa(a,f,o),u!==null&&(ji(u,a,o),Wu(u,a,o))}function GE(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function W_(a,o){GE(a,o),(a=a.alternate)&&GE(a,o)}function KE(a){if(a.tag===13){var o=Zl(a,67108864);o!==null&&ji(o,a,67108864),W_(a,67108864)}}var mp=!0;function X2(a,o,u,f){var m=$.T;$.T=null;var b=K.p;try{K.p=2,Y_(a,o,u,f)}finally{K.p=b,$.T=m}}function Q2(a,o,u,f){var m=$.T;$.T=null;var b=K.p;try{K.p=8,Y_(a,o,u,f)}finally{K.p=b,$.T=m}}function Y_(a,o,u,f){if(mp){var m=G_(f);if(m===null)P_(a,o,f,yp,u),QE(a,f);else if(J2(m,a,o,u,f))f.stopPropagation();else if(QE(a,f),o&4&&-1<Z2.indexOf(a)){for(;m!==null;){var b=Ds(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var k=Ci(b.pendingLanes);if(k!==0){var O=b;for(O.pendingLanes|=2,O.entangledLanes|=2;k;){var W=1<<31-In(k);O.entanglements[1]|=W,k&=~W}qs(b),(Ee&6)===0&&(tp=Ze()+500,ch(0))}}break;case 13:O=Zl(b,2),O!==null&&ji(O,b,2),np(),W_(b,2)}if(b=G_(f),b===null&&P_(a,o,f,yp,u),b===m)break;m=b}m!==null&&f.stopPropagation()}else P_(a,o,f,null,u)}}function G_(a){return a=Gi(a),K_(a)}var yp=null;function K_(a){if(yp=null,a=_r(a),a!==null){var o=r(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return yp=a,null}function XE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hr()){case dr:return 2;case bt:return 8;case Mt:case At:return 32;case Tt:return 268435456;default:return 32}default:return 32}}var X_=!1,Na=null,La=null,ja=null,yh=new Map,_h=new Map,Va=[],Z2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function QE(a,o){switch(a){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":La=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":yh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":_h.delete(o.pointerId)}}function bh(a,o,u,f,m,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[m]},o!==null&&(o=Ds(o),o!==null&&KE(o)),a):(a.eventSystemFlags|=f,o=a.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),a)}function J2(a,o,u,f,m){switch(o){case"focusin":return Na=bh(Na,a,o,u,f,m),!0;case"dragenter":return La=bh(La,a,o,u,f,m),!0;case"mouseover":return ja=bh(ja,a,o,u,f,m),!0;case"pointerover":var b=m.pointerId;return yh.set(b,bh(yh.get(b)||null,a,o,u,f,m)),!0;case"gotpointercapture":return b=m.pointerId,_h.set(b,bh(_h.get(b)||null,a,o,u,f,m)),!0}return!1}function ZE(a){var o=_r(a.target);if(o!==null){var u=r(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,fa(a.priority,function(){if(u.tag===13){var f=Li();f=Cs(f);var m=Zl(u,f);m!==null&&ji(m,u,f),W_(u,f)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function _p(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=G_(a.nativeEvent);if(u===null){u=a.nativeEvent;var f=new u.constructor(u.type,u);wr=f,u.target.dispatchEvent(f),wr=null}else return o=Ds(u),o!==null&&KE(o),a.blockedOn=u,!1;o.shift()}return!0}function JE(a,o,u){_p(a)&&u.delete(o)}function tP(){X_=!1,Na!==null&&_p(Na)&&(Na=null),La!==null&&_p(La)&&(La=null),ja!==null&&_p(ja)&&(ja=null),yh.forEach(JE),_h.forEach(JE)}function bp(a,o){a.blockedOn===o&&(a.blockedOn=null,X_||(X_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tP)))}var vp=null;function tS(a){vp!==a&&(vp=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){vp===a&&(vp=null);for(var o=0;o<a.length;o+=3){var u=a[o],f=a[o+1],m=a[o+2];if(typeof f!="function"){if(K_(f||u)===null)continue;break}var b=Ds(u);b!==null&&(a.splice(o,3),o-=3,Ky(b,{pending:!0,data:m,method:u.method,action:f},f,m))}}))}function vh(a){function o(W){return bp(W,a)}Na!==null&&bp(Na,a),La!==null&&bp(La,a),ja!==null&&bp(ja,a),yh.forEach(o),_h.forEach(o);for(var u=0;u<Va.length;u++){var f=Va[u];f.blockedOn===a&&(f.blockedOn=null)}for(;0<Va.length&&(u=Va[0],u.blockedOn===null);)ZE(u),u.blockedOn===null&&Va.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var m=u[f],b=u[f+1],k=m[un]||null;if(typeof b=="function")k||tS(u);else if(k){var O=null;if(b&&b.hasAttribute("formAction")){if(m=b,k=b[un]||null)O=k.formAction;else if(K_(m)!==null)continue}else O=k.action;typeof O=="function"?u[f+1]=O:(u.splice(f,3),f-=3),tS(u)}}}function Q_(a){this._internalRoot=a}xp.prototype.render=Q_.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,f=Li();YE(u,f,a,o,null,null)},xp.prototype.unmount=Q_.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;YE(a.current,2,null,a,null,null),np(),o[Wi]=null}};function xp(a){this._internalRoot=a}xp.prototype.unstable_scheduleHydration=function(a){if(a){var o=Hi();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Va.length&&o!==0&&o<Va[u].priority;u++);Va.splice(u,0,a),u===0&&ZE(a)}};var eS=t.version;if(eS!=="19.1.0")throw Error(i(527,eS,"19.1.0"));K.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=h(o),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var eP={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wp.isDisabled&&wp.supportsFiber)try{fe=wp.inject(eP),ee=wp}catch{}}return wh.createRoot=function(a,o){if(!s(a))throw Error(i(299));var u=!1,f="",m=y1,b=_1,k=b1,O=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks)),o=HE(a,1,!1,null,null,u,f,m,b,k,O,null),a[Wi]=o.current,O_(a),new Q_(o)},wh.hydrateRoot=function(a,o,u){if(!s(a))throw Error(i(299));var f=!1,m="",b=y1,k=_1,O=b1,W=null,et=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(O=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(W=u.unstable_transitionCallbacks),u.formState!==void 0&&(et=u.formState)),o=HE(a,1,!0,o,u??null,f,m,b,k,O,W,et),o.context=WE(null),u=o.current,f=Li(),f=Cs(f),m=xa(f),m.callback=null,wa(u,m,f),u=f,o.current.lanes=u,de(o,u),qs(o),a[Wi]=o.current,O_(a),new xp(o)},wh.version="19.1.0",wh}var hS;function pP(){if(hS)return tb.exports;hS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tb.exports=fP(),tb.exports}var gP=pP();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dS="popstate";function mP(e={}){function t(s,r){let{pathname:l="/",search:c="",hash:h=""}=Cl(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),e0("",{pathname:l,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){let l=s.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let h=s.location.href,d=h.indexOf("#");c=d===-1?h:h.slice(0,d)}return c+"#"+(typeof r=="string"?r:fd(r))}function i(s,r){qi(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(r)})`)}return _P(t,n,i,e)}function Ye(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yP(){return Math.random().toString(36).substring(2,10)}function fS(e,t){return{usr:e.state,key:e.key,idx:t}}function e0(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Cl(t):t,state:n,key:t&&t.key||i||yP()}}function fd({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Cl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function _P(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,l=s.history,c="POP",h=null,d=p();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function p(){return(l.state||{idx:null}).idx}function y(){c="POP";let S=p(),D=S==null?null:S-d;d=S,h&&h({action:c,location:T.location,delta:D})}function _(S,D){c="PUSH";let I=e0(T.location,S,D);n&&n(I,S),d=p()+1;let N=fS(I,d),H=T.createHref(I);try{l.pushState(N,"",H)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(H)}r&&h&&h({action:c,location:T.location,delta:1})}function x(S,D){c="REPLACE";let I=e0(T.location,S,D);n&&n(I,S),d=p();let N=fS(I,d),H=T.createHref(I);l.replaceState(N,"",H),r&&h&&h({action:c,location:T.location,delta:0})}function E(S){return bP(S)}let T={get action(){return c},get location(){return e(s,l)},listen(S){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(dS,y),h=S,()=>{s.removeEventListener(dS,y),h=null}},createHref(S){return t(s,S)},createURL:E,encodeLocation(S){let D=E(S);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:_,replace:x,go(S){return l.go(S)}};return T}function bP(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ye(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:fd(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function SR(e,t,n="/"){return vP(e,t,n,!1)}function vP(e,t,n,i){let s=typeof t=="string"?Cl(t):t,r=ia(s.pathname||"/",n);if(r==null)return null;let l=TR(e);xP(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let d=IP(r);c=DP(l[h],d,i)}return c}function TR(e,t=[],n=[],i=""){let s=(r,l,c)=>{let h={relativePath:c===void 0?r.path||"":c,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};h.relativePath.startsWith("/")&&(Ye(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let d=ta([i,h.relativePath]),p=n.concat(h);r.children&&r.children.length>0&&(Ye(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),TR(r.children,t,p,d)),!(r.path==null&&!r.index)&&t.push({path:d,score:RP(d,r.index),routesMeta:p})};return e.forEach((r,l)=>{var c;if(r.path===""||!((c=r.path)!=null&&c.includes("?")))s(r,l);else for(let h of AR(r.path))s(r,l,h)}),t}function AR(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let l=AR(i.join("/")),c=[];return c.push(...l.map(h=>h===""?r:[r,h].join("/"))),s&&c.push(...l),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function xP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:CP(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var wP=/^:[\w-]+$/,EP=3,SP=2,TP=1,AP=10,kP=-2,pS=e=>e==="*";function RP(e,t){let n=e.split("/"),i=n.length;return n.some(pS)&&(i+=kP),t&&(i+=SP),n.filter(s=>!pS(s)).reduce((s,r)=>s+(wP.test(r)?EP:r===""?TP:AP),i)}function CP(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function DP(e,t,n=!1){let{routesMeta:i}=e,s={},r="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],d=c===i.length-1,p=r==="/"?t:t.slice(r.length)||"/",y=Pg({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},p),_=h.route;if(!y&&d&&n&&!i[i.length-1].route.index&&(y=Pg({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:ta([r,y.pathname]),pathnameBase:LP(ta([r,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(r=ta([r,y.pathnameBase]))}return l}function Pg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=MP(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let r=s[0],l=r.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((d,{paramName:p,isOptional:y},_)=>{if(p==="*"){let E=c[_]||"";l=r.slice(0,r.length-E.length).replace(/(.)\/+$/,"$1")}const x=c[_];return y&&!x?d[p]=void 0:d[p]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:l,pattern:e}}function MP(e,t=!1,n=!0){qi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function IP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ia(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function OP(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?Cl(e):e;return{pathname:n?n.startsWith("/")?n:PP(n,t):t,search:jP(i),hash:VP(s)}}function PP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function sb(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function av(e){let t=NP(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function ov(e,t,n,i=!1){let s;typeof e=="string"?s=Cl(e):(s={...e},Ye(!s.pathname||!s.pathname.includes("?"),sb("?","pathname","search",s)),Ye(!s.pathname||!s.pathname.includes("#"),sb("#","pathname","hash",s)),Ye(!s.search||!s.search.includes("#"),sb("#","search","hash",s)));let r=e===""||s.pathname==="",l=r?"/":s.pathname,c;if(l==null)c=n;else{let y=t.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;s.pathname=_.join("/")}c=y>=0?t[y]:"/"}let h=OP(s,c),d=l&&l!=="/"&&l.endsWith("/"),p=(r||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(d||p)&&(h.pathname+="/"),h}var ta=e=>e.join("/").replace(/\/\/+/g,"/"),LP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,VP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function UP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var kR=["POST","PUT","PATCH","DELETE"];new Set(kR);var zP=["GET",...kR];new Set(zP);var ou=j.createContext(null);ou.displayName="DataRouter";var fm=j.createContext(null);fm.displayName="DataRouterState";j.createContext(!1);var RR=j.createContext({isTransitioning:!1});RR.displayName="ViewTransition";var FP=j.createContext(new Map);FP.displayName="Fetchers";var BP=j.createContext(null);BP.displayName="Await";var As=j.createContext(null);As.displayName="Navigation";var jd=j.createContext(null);jd.displayName="Location";var or=j.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var lv=j.createContext(null);lv.displayName="RouteError";function $P(e,{relative:t}={}){Ye(lu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=j.useContext(As),{hash:s,pathname:r,search:l}=Vd(e,{relative:t}),c=r;return n!=="/"&&(c=r==="/"?n:ta([n,r])),i.createHref({pathname:c,search:l,hash:s})}function lu(){return j.useContext(jd)!=null}function ks(){return Ye(lu(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(jd).location}var CR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DR(e){j.useContext(As).static||j.useLayoutEffect(e)}function _o(){let{isDataRoute:e}=j.useContext(or);return e?nN():qP()}function qP(){Ye(lu(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(ou),{basename:t,navigator:n}=j.useContext(As),{matches:i}=j.useContext(or),{pathname:s}=ks(),r=JSON.stringify(av(i)),l=j.useRef(!1);return DR(()=>{l.current=!0}),j.useCallback((h,d={})=>{if(qi(l.current,CR),!l.current)return;if(typeof h=="number"){n.go(h);return}let p=ov(h,JSON.parse(r),s,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ta([t,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[t,n,r,s,e])}j.createContext(null);function Vd(e,{relative:t}={}){let{matches:n}=j.useContext(or),{pathname:i}=ks(),s=JSON.stringify(av(n));return j.useMemo(()=>ov(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function HP(e,t){return MR(e,t)}function MR(e,t,n,i){var D;Ye(lu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(As),{matches:r}=j.useContext(or),l=r[r.length-1],c=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",p=l&&l.route;{let I=p&&p.path||"";IR(h,!p||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let y=ks(),_;if(t){let I=typeof t=="string"?Cl(t):t;Ye(d==="/"||((D=I.pathname)==null?void 0:D.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${I.pathname}" was given in the \`location\` prop.`),_=I}else _=y;let x=_.pathname||"/",E=x;if(d!=="/"){let I=d.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(I.length).join("/")}let T=SR(e,{pathname:E});qi(p||T!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),qi(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=XP(T&&T.map(I=>Object.assign({},I,{params:Object.assign({},c,I.params),pathname:ta([d,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?d:ta([d,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),r,n,i);return t&&S?j.createElement(jd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},S):S}function WP(){let e=eN(),t=UP(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:r},"ErrorBoundary")," or"," ",j.createElement("code",{style:r},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:s},n):null,l)}var YP=j.createElement(WP,null),GP=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?j.createElement(or.Provider,{value:this.props.routeContext},j.createElement(lv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KP({routeContext:e,match:t,children:n}){let i=j.useContext(ou);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(or.Provider,{value:e},n)}function XP(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,r=n==null?void 0:n.errors;if(r!=null){let h=s.findIndex(d=>d.route.id&&(r==null?void 0:r[d.route.id])!==void 0);Ye(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(n)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:p,errors:y}=n,_=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||_){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,d,p)=>{let y,_=!1,x=null,E=null;n&&(y=r&&d.route.id?r[d.route.id]:void 0,x=d.route.errorElement||YP,l&&(c<0&&p===0?(IR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):c===p&&(_=!0,E=d.route.hydrateFallbackElement||null)));let T=t.concat(s.slice(0,p+1)),S=()=>{let D;return y?D=x:_?D=E:d.route.Component?D=j.createElement(d.route.Component,null):d.route.element?D=d.route.element:D=h,j.createElement(KP,{match:d,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:D})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?j.createElement(GP,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:S(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):S()},null)}function cv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QP(e){let t=j.useContext(ou);return Ye(t,cv(e)),t}function ZP(e){let t=j.useContext(fm);return Ye(t,cv(e)),t}function JP(e){let t=j.useContext(or);return Ye(t,cv(e)),t}function uv(e){let t=JP(e),n=t.matches[t.matches.length-1];return Ye(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function tN(){return uv("useRouteId")}function eN(){var i;let e=j.useContext(lv),t=ZP("useRouteError"),n=uv("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function nN(){let{router:e}=QP("useNavigate"),t=uv("useNavigate"),n=j.useRef(!1);return DR(()=>{n.current=!0}),j.useCallback(async(s,r={})=>{qi(n.current,CR),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...r}))},[e,t])}var gS={};function IR(e,t,n){!t&&!gS[e]&&(gS[e]=!0,qi(!1,n))}j.memo(iN);function iN({routes:e,future:t,state:n}){return MR(e,void 0,n,t)}function rb({to:e,replace:t,state:n,relative:i}){Ye(lu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=j.useContext(As);qi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=j.useContext(or),{pathname:l}=ks(),c=_o(),h=ov(e,av(r),l,i==="path"),d=JSON.stringify(h);return j.useEffect(()=>{c(JSON.parse(d),{replace:t,state:n,relative:i})},[c,d,i,t,n]),null}function rl(e){Ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sN({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:r=!1}){Ye(!lu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:l,navigator:s,static:r,future:{}}),[l,s,r]);typeof n=="string"&&(n=Cl(n));let{pathname:h="/",search:d="",hash:p="",state:y=null,key:_="default"}=n,x=j.useMemo(()=>{let E=ia(h,l);return E==null?null:{location:{pathname:E,search:d,hash:p,state:y,key:_},navigationType:i}},[l,h,d,p,y,_,i]);return qi(x!=null,`<Router basename="${l}"> is not able to match the URL "${h}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:j.createElement(As.Provider,{value:c},j.createElement(jd.Provider,{children:t,value:x}))}function rN({children:e,location:t}){return HP(n0(e),t)}function n0(e,t=[]){let n=[];return j.Children.forEach(e,(i,s)=>{if(!j.isValidElement(i))return;let r=[...t,s];if(i.type===j.Fragment){n.push.apply(n,n0(i.props.children,r));return}Ye(i.type===rl,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ye(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=n0(i.props.children,r)),n.push(l)}),n}var lg="get",cg="application/x-www-form-urlencoded";function pm(e){return e!=null&&typeof e.tagName=="string"}function aN(e){return pm(e)&&e.tagName.toLowerCase()==="button"}function oN(e){return pm(e)&&e.tagName.toLowerCase()==="form"}function lN(e){return pm(e)&&e.tagName.toLowerCase()==="input"}function cN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function uN(e,t){return e.button===0&&(!t||t==="_self")&&!cN(e)}function i0(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(s=>[n,s]):[[n,i]])},[]))}function hN(e,t){let n=i0(e);return t&&t.forEach((i,s)=>{n.has(s)||t.getAll(s).forEach(r=>{n.append(s,r)})}),n}var Ep=null;function dN(){if(Ep===null)try{new FormData(document.createElement("form"),0),Ep=!1}catch{Ep=!0}return Ep}var fN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ab(e){return e!=null&&!fN.has(e)?(qi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cg}"`),null):e}function pN(e,t){let n,i,s,r,l;if(oN(e)){let c=e.getAttribute("action");i=c?ia(c,t):null,n=e.getAttribute("method")||lg,s=ab(e.getAttribute("enctype"))||cg,r=new FormData(e)}else if(aN(e)||lN(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||c.getAttribute("action");if(i=h?ia(h,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||lg,s=ab(e.getAttribute("formenctype"))||ab(c.getAttribute("enctype"))||cg,r=new FormData(c,e),!dN()){let{name:d,type:p,value:y}=e;if(p==="image"){let _=d?`${d}.`:"";r.append(`${_}x`,"0"),r.append(`${_}y`,"0")}else d&&r.append(d,y)}}else{if(pm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lg,i=null,s=cg,l=e}return r&&s==="text/plain"&&(l=r,r=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:r,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gN(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&ia(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function mN(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function _N(e,t,n){let i=await Promise.all(e.map(async s=>{let r=t.routes[s.route.id];if(r){let l=await mN(r,n);return l.links?l.links():[]}return[]}));return wN(i.flat(1).filter(yN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function mS(e,t,n,i,s,r){let l=(h,d)=>n[d]?h.route.id!==n[d].route.id:!0,c=(h,d)=>{var p;return n[d].pathname!==h.pathname||((p=n[d].route.path)==null?void 0:p.endsWith("*"))&&n[d].params["*"]!==h.params["*"]};return r==="assets"?t.filter((h,d)=>l(h,d)||c(h,d)):r==="data"?t.filter((h,d)=>{var y;let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function bN(e,t,{includeHydrateFallback:n}={}){return vN(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function vN(e){return[...new Set(e)]}function xN(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function wN(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let r=JSON.stringify(xN(s));return n.has(r)||(n.add(r),i.push({key:r,link:s})),i},[])}function OR(){let e=j.useContext(ou);return hv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function EN(){let e=j.useContext(fm);return hv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var dv=j.createContext(void 0);dv.displayName="FrameworkContext";function PR(){let e=j.useContext(dv);return hv(e,"You must render this element inside a <HydratedRouter> element"),e}function SN(e,t){let n=j.useContext(dv),[i,s]=j.useState(!1),[r,l]=j.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:p,onTouchStart:y}=t,_=j.useRef(null);j.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let T=D=>{D.forEach(I=>{l(I.isIntersecting)})},S=new IntersectionObserver(T,{threshold:.5});return _.current&&S.observe(_.current),()=>{S.disconnect()}}},[e]),j.useEffect(()=>{if(i){let T=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(T)}}},[i]);let x=()=>{s(!0)},E=()=>{s(!1),l(!1)};return n?e!=="intent"?[r,_,{}]:[r,_,{onFocus:Eh(c,x),onBlur:Eh(h,E),onMouseEnter:Eh(d,x),onMouseLeave:Eh(p,E),onTouchStart:Eh(y,x)}]:[!1,_,{}]}function Eh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function TN({page:e,...t}){let{router:n}=OR(),i=j.useMemo(()=>SR(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?j.createElement(kN,{page:e,matches:i,...t}):null}function AN(e){let{manifest:t,routeModules:n}=PR(),[i,s]=j.useState([]);return j.useEffect(()=>{let r=!1;return _N(e,t,n).then(l=>{r||s(l)}),()=>{r=!0}},[e,t,n]),i}function kN({page:e,matches:t,...n}){let i=ks(),{manifest:s,routeModules:r}=PR(),{basename:l}=OR(),{loaderData:c,matches:h}=EN(),d=j.useMemo(()=>mS(e,t,h,s,i,"data"),[e,t,h,s,i]),p=j.useMemo(()=>mS(e,t,h,s,i,"assets"),[e,t,h,s,i]),y=j.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let E=new Set,T=!1;if(t.forEach(D=>{var N;let I=s.routes[D.route.id];!I||!I.hasLoader||(!d.some(H=>H.route.id===D.route.id)&&D.route.id in c&&((N=r[D.route.id])!=null&&N.shouldRevalidate)||I.hasClientLoader?T=!0:E.add(D.route.id))}),E.size===0)return[];let S=gN(e,l,"data");return T&&E.size>0&&S.searchParams.set("_routes",t.filter(D=>E.has(D.route.id)).map(D=>D.route.id).join(",")),[S.pathname+S.search]},[l,c,i,s,d,t,e,r]),_=j.useMemo(()=>bN(p,s),[p,s]),x=AN(p);return j.createElement(j.Fragment,null,y.map(E=>j.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),_.map(E=>j.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),x.map(({key:E,link:T})=>j.createElement("link",{key:E,...T})))}function RN(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var NR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NR&&(window.__reactRouterVersion="7.7.0")}catch{}function CN({basename:e,children:t,window:n}){let i=j.useRef();i.current==null&&(i.current=mP({window:n,v5Compat:!0}));let s=i.current,[r,l]=j.useState({action:s.action,location:s.location}),c=j.useCallback(h=>{j.startTransition(()=>l(h))},[l]);return j.useLayoutEffect(()=>s.listen(c),[s,c]),j.createElement(sN,{basename:e,children:t,location:r.location,navigationType:r.action,navigator:s})}var LR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jR=j.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:r,replace:l,state:c,target:h,to:d,preventScrollReset:p,viewTransition:y,..._},x){let{basename:E}=j.useContext(As),T=typeof d=="string"&&LR.test(d),S,D=!1;if(typeof d=="string"&&T&&(S=d,NR))try{let P=new URL(window.location.href),V=d.startsWith("//")?new URL(P.protocol+d):new URL(d),U=ia(V.pathname,E);V.origin===P.origin&&U!=null?d=U+V.search+V.hash:D=!0}catch{qi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=$P(d,{relative:s}),[N,H,M]=SN(i,_),Y=ON(d,{replace:l,state:c,target:h,preventScrollReset:p,relative:s,viewTransition:y});function R(P){t&&t(P),P.defaultPrevented||Y(P)}let C=j.createElement("a",{..._,...M,href:S||I,onClick:D||r?t:R,ref:RN(x,H),target:h,"data-discover":!T&&n==="render"?"true":void 0});return N&&!T?j.createElement(j.Fragment,null,C,j.createElement(TN,{page:I})):C});jR.displayName="Link";var DN=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:r,to:l,viewTransition:c,children:h,...d},p){let y=Vd(l,{relative:d.relative}),_=ks(),x=j.useContext(fm),{navigator:E,basename:T}=j.useContext(As),S=x!=null&&VN(y)&&c===!0,D=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,I=_.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(I=I.toLowerCase(),N=N?N.toLowerCase():null,D=D.toLowerCase()),N&&T&&(N=ia(N,T)||N);const H=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let M=I===D||!s&&I.startsWith(D)&&I.charAt(H)==="/",Y=N!=null&&(N===D||!s&&N.startsWith(D)&&N.charAt(D.length)==="/"),R={isActive:M,isPending:Y,isTransitioning:S},C=M?t:void 0,P;typeof i=="function"?P=i(R):P=[i,M?"active":null,Y?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let V=typeof r=="function"?r(R):r;return j.createElement(jR,{...d,"aria-current":C,className:P,ref:p,style:V,to:l,viewTransition:c},typeof h=="function"?h(R):h)});DN.displayName="NavLink";var MN=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:r,method:l=lg,action:c,onSubmit:h,relative:d,preventScrollReset:p,viewTransition:y,..._},x)=>{let E=LN(),T=jN(c,{relative:d}),S=l.toLowerCase()==="get"?"get":"post",D=typeof c=="string"&&LR.test(c),I=N=>{if(h&&h(N),N.defaultPrevented)return;N.preventDefault();let H=N.nativeEvent.submitter,M=(H==null?void 0:H.getAttribute("formmethod"))||l;E(H||N.currentTarget,{fetcherKey:t,method:M,navigate:n,replace:s,state:r,relative:d,preventScrollReset:p,viewTransition:y})};return j.createElement("form",{ref:x,method:S,action:T,onSubmit:i?h:I,..._,"data-discover":!D&&e==="render"?"true":void 0})});MN.displayName="Form";function IN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VR(e){let t=j.useContext(ou);return Ye(t,IN(e)),t}function ON(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:r,viewTransition:l}={}){let c=_o(),h=ks(),d=Vd(e,{relative:r});return j.useCallback(p=>{if(uN(p,t)){p.preventDefault();let y=n!==void 0?n:fd(h)===fd(d);c(e,{replace:y,state:i,preventScrollReset:s,relative:r,viewTransition:l})}},[h,c,d,n,i,t,e,s,r,l])}function gm(e){qi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=j.useRef(i0(e)),n=j.useRef(!1),i=ks(),s=j.useMemo(()=>hN(i.search,n.current?null:t.current),[i.search]),r=_o(),l=j.useCallback((c,h)=>{const d=i0(typeof c=="function"?c(new URLSearchParams(s)):c);n.current=!0,r("?"+d,h)},[r,s]);return[s,l]}var PN=0,NN=()=>`__${String(++PN)}__`;function LN(){let{router:e}=VR("useSubmit"),{basename:t}=j.useContext(As),n=tN();return j.useCallback(async(i,s={})=>{let{action:r,method:l,encType:c,formData:h,body:d}=pN(i,t);if(s.navigate===!1){let p=s.fetcherKey||NN();await e.fetch(p,n,s.action||r,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await e.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function jN(e,{relative:t}={}){let{basename:n}=j.useContext(As),i=j.useContext(or);Ye(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...Vd(e||".",{relative:t})},l=ks();if(e==null){r.search=l.search;let c=new URLSearchParams(r.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();r.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:ta([n,r.pathname])),fd(r)}function VN(e,t={}){let n=j.useContext(RR);Ye(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=VR("useViewTransitionState"),s=Vd(e,{relative:t.relative});if(!n.isTransitioning)return!1;let r=ia(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=ia(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Pg(s.pathname,l)!=null||Pg(s.pathname,r)!=null}var $n=function(){return $n=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$n.apply(this,arguments)};function pd(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,r;i<s;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var je="-ms-",Qh="-moz-",ve="-webkit-",UR="comm",mm="rule",fv="decl",UN="@import",zR="@keyframes",zN="@layer",FR=Math.abs,pv=String.fromCharCode,s0=Object.assign;function FN(e,t){return Bn(e,0)^45?(((t<<2^Bn(e,0))<<2^Bn(e,1))<<2^Bn(e,2))<<2^Bn(e,3):0}function BR(e){return e.trim()}function qr(e,t){return(e=t.exec(e))?e[0]:e}function Qt(e,t,n){return e.replace(t,n)}function ug(e,t,n){return e.indexOf(t,n)}function Bn(e,t){return e.charCodeAt(t)|0}function $c(e,t,n){return e.slice(t,n)}function Xs(e){return e.length}function $R(e){return e.length}function Vh(e,t){return t.push(e),e}function BN(e,t){return e.map(t).join("")}function yS(e,t){return e.filter(function(n){return!qr(n,t)})}var ym=1,qc=1,qR=0,ls=0,_n=0,cu="";function _m(e,t,n,i,s,r,l,c){return{value:e,root:t,parent:n,type:i,props:s,children:r,line:ym,column:qc,length:l,return:"",siblings:c}}function qa(e,t){return s0(_m("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Ec(e){for(;e.root;)e=qa(e.root,{children:[e]});Vh(e,e.siblings)}function $N(){return _n}function qN(){return _n=ls>0?Bn(cu,--ls):0,qc--,_n===10&&(qc=1,ym--),_n}function xs(){return _n=ls<qR?Bn(cu,ls++):0,qc++,_n===10&&(qc=1,ym++),_n}function pl(){return Bn(cu,ls)}function hg(){return ls}function bm(e,t){return $c(cu,e,t)}function r0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function HN(e){return ym=qc=1,qR=Xs(cu=e),ls=0,[]}function WN(e){return cu="",e}function ob(e){return BR(bm(ls-1,a0(e===91?e+2:e===40?e+1:e)))}function YN(e){for(;(_n=pl())&&_n<33;)xs();return r0(e)>2||r0(_n)>3?"":" "}function GN(e,t){for(;--t&&xs()&&!(_n<48||_n>102||_n>57&&_n<65||_n>70&&_n<97););return bm(e,hg()+(t<6&&pl()==32&&xs()==32))}function a0(e){for(;xs();)switch(_n){case e:return ls;case 34:case 39:e!==34&&e!==39&&a0(_n);break;case 40:e===41&&a0(e);break;case 92:xs();break}return ls}function KN(e,t){for(;xs()&&e+_n!==57;)if(e+_n===84&&pl()===47)break;return"/*"+bm(t,ls-1)+"*"+pv(e===47?e:xs())}function XN(e){for(;!r0(pl());)xs();return bm(e,ls)}function QN(e){return WN(dg("",null,null,null,[""],e=HN(e),0,[0],e))}function dg(e,t,n,i,s,r,l,c,h){for(var d=0,p=0,y=l,_=0,x=0,E=0,T=1,S=1,D=1,I=0,N="",H=s,M=r,Y=i,R=N;S;)switch(E=I,I=xs()){case 40:if(E!=108&&Bn(R,y-1)==58){ug(R+=Qt(ob(I),"&","&\f"),"&\f",FR(d?c[d-1]:0))!=-1&&(D=-1);break}case 34:case 39:case 91:R+=ob(I);break;case 9:case 10:case 13:case 32:R+=YN(E);break;case 92:R+=GN(hg()-1,7);continue;case 47:switch(pl()){case 42:case 47:Vh(ZN(KN(xs(),hg()),t,n,h),h);break;default:R+="/"}break;case 123*T:c[d++]=Xs(R)*D;case 125*T:case 59:case 0:switch(I){case 0:case 125:S=0;case 59+p:D==-1&&(R=Qt(R,/\f/g,"")),x>0&&Xs(R)-y&&Vh(x>32?bS(R+";",i,n,y-1,h):bS(Qt(R," ","")+";",i,n,y-2,h),h);break;case 59:R+=";";default:if(Vh(Y=_S(R,t,n,d,p,s,c,N,H=[],M=[],y,r),r),I===123)if(p===0)dg(R,t,Y,Y,H,r,y,c,M);else switch(_===99&&Bn(R,3)===110?100:_){case 100:case 108:case 109:case 115:dg(e,Y,Y,i&&Vh(_S(e,Y,Y,0,0,s,c,N,s,H=[],y,M),M),s,M,y,c,i?H:M);break;default:dg(R,Y,Y,Y,[""],M,0,c,M)}}d=p=x=0,T=D=1,N=R="",y=l;break;case 58:y=1+Xs(R),x=E;default:if(T<1){if(I==123)--T;else if(I==125&&T++==0&&qN()==125)continue}switch(R+=pv(I),I*T){case 38:D=p>0?1:(R+="\f",-1);break;case 44:c[d++]=(Xs(R)-1)*D,D=1;break;case 64:pl()===45&&(R+=ob(xs())),_=pl(),p=y=Xs(N=R+=XN(hg())),I++;break;case 45:E===45&&Xs(R)==2&&(T=0)}}return r}function _S(e,t,n,i,s,r,l,c,h,d,p,y){for(var _=s-1,x=s===0?r:[""],E=$R(x),T=0,S=0,D=0;T<i;++T)for(var I=0,N=$c(e,_+1,_=FR(S=l[T])),H=e;I<E;++I)(H=BR(S>0?x[I]+" "+N:Qt(N,/&\f/g,x[I])))&&(h[D++]=H);return _m(e,t,n,s===0?mm:c,h,d,p,y)}function ZN(e,t,n,i){return _m(e,t,n,UR,pv($N()),$c(e,2,-2),0,i)}function bS(e,t,n,i,s){return _m(e,t,n,fv,$c(e,0,i),$c(e,i+1,-1),i,s)}function HR(e,t,n){switch(FN(e,t)){case 5103:return ve+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ve+e+e;case 4789:return Qh+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ve+e+Qh+e+je+e+e;case 5936:switch(Bn(e,t+11)){case 114:return ve+e+je+Qt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ve+e+je+Qt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ve+e+je+Qt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return ve+e+je+e+e;case 6165:return ve+e+je+"flex-"+e+e;case 5187:return ve+e+Qt(e,/(\w+).+(:[^]+)/,ve+"box-$1$2"+je+"flex-$1$2")+e;case 5443:return ve+e+je+"flex-item-"+Qt(e,/flex-|-self/g,"")+(qr(e,/flex-|baseline/)?"":je+"grid-row-"+Qt(e,/flex-|-self/g,""))+e;case 4675:return ve+e+je+"flex-line-pack"+Qt(e,/align-content|flex-|-self/g,"")+e;case 5548:return ve+e+je+Qt(e,"shrink","negative")+e;case 5292:return ve+e+je+Qt(e,"basis","preferred-size")+e;case 6060:return ve+"box-"+Qt(e,"-grow","")+ve+e+je+Qt(e,"grow","positive")+e;case 4554:return ve+Qt(e,/([^-])(transform)/g,"$1"+ve+"$2")+e;case 6187:return Qt(Qt(Qt(e,/(zoom-|grab)/,ve+"$1"),/(image-set)/,ve+"$1"),e,"")+e;case 5495:case 3959:return Qt(e,/(image-set\([^]*)/,ve+"$1$`$1");case 4968:return Qt(Qt(e,/(.+:)(flex-)?(.*)/,ve+"box-pack:$3"+je+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ve+e+e;case 4200:if(!qr(e,/flex-|baseline/))return je+"grid-column-align"+$c(e,t)+e;break;case 2592:case 3360:return je+Qt(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(i,s){return t=s,qr(i.props,/grid-\w+-end/)})?~ug(e+(n=n[t].value),"span",0)?e:je+Qt(e,"-start","")+e+je+"grid-row-span:"+(~ug(n,"span",0)?qr(n,/\d+/):+qr(n,/\d+/)-+qr(e,/\d+/))+";":je+Qt(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(i){return qr(i.props,/grid-\w+-start/)})?e:je+Qt(Qt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Qt(e,/(.+)-inline(.+)/,ve+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Xs(e)-1-t>6)switch(Bn(e,t+1)){case 109:if(Bn(e,t+4)!==45)break;case 102:return Qt(e,/(.+:)(.+)-([^]+)/,"$1"+ve+"$2-$3$1"+Qh+(Bn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~ug(e,"stretch",0)?HR(Qt(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Qt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,s,r,l,c,h,d){return je+s+":"+r+d+(l?je+s+"-span:"+(c?h:+h-+r)+d:"")+e});case 4949:if(Bn(e,t+6)===121)return Qt(e,":",":"+ve)+e;break;case 6444:switch(Bn(e,Bn(e,14)===45?18:11)){case 120:return Qt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ve+(Bn(e,14)===45?"inline-":"")+"box$3$1"+ve+"$2$3$1"+je+"$2box$3")+e;case 100:return Qt(e,":",":"+je)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Qt(e,"scroll-","scroll-snap-")+e}return e}function Ng(e,t){for(var n="",i=0;i<e.length;i++)n+=t(e[i],i,e,t)||"";return n}function JN(e,t,n,i){switch(e.type){case zN:if(e.children.length)break;case UN:case fv:return e.return=e.return||e.value;case UR:return"";case zR:return e.return=e.value+"{"+Ng(e.children,i)+"}";case mm:if(!Xs(e.value=e.props.join(",")))return""}return Xs(n=Ng(e.children,i))?e.return=e.value+"{"+n+"}":""}function tL(e){var t=$R(e);return function(n,i,s,r){for(var l="",c=0;c<t;c++)l+=e[c](n,i,s,r)||"";return l}}function eL(e){return function(t){t.root||(t=t.return)&&e(t)}}function nL(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case fv:e.return=HR(e.value,e.length,n);return;case zR:return Ng([qa(e,{value:Qt(e.value,"@","@"+ve)})],i);case mm:if(e.length)return BN(n=e.props,function(s){switch(qr(s,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ec(qa(e,{props:[Qt(s,/:(read-\w+)/,":"+Qh+"$1")]})),Ec(qa(e,{props:[s]})),s0(e,{props:yS(n,i)});break;case"::placeholder":Ec(qa(e,{props:[Qt(s,/:(plac\w+)/,":"+ve+"input-$1")]})),Ec(qa(e,{props:[Qt(s,/:(plac\w+)/,":"+Qh+"$1")]})),Ec(qa(e,{props:[Qt(s,/:(plac\w+)/,je+"input-$1")]})),Ec(qa(e,{props:[s]})),s0(e,{props:yS(n,i)});break}return""})}}var iL={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Vi={},Hc=typeof process<"u"&&Vi!==void 0&&(Vi.REACT_APP_SC_ATTR||Vi.SC_ATTR)||"data-styled",WR="active",YR="data-styled-version",vm="6.1.19",gv=`/*!sc*/
`,Lg=typeof window<"u"&&typeof document<"u",sL=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Vi!==void 0&&Vi.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Vi.REACT_APP_SC_DISABLE_SPEEDY!==""?Vi.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Vi.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Vi!==void 0&&Vi.SC_DISABLE_SPEEDY!==void 0&&Vi.SC_DISABLE_SPEEDY!==""&&Vi.SC_DISABLE_SPEEDY!=="false"&&Vi.SC_DISABLE_SPEEDY),rL={},xm=Object.freeze([]),Wc=Object.freeze({});function GR(e,t,n){return n===void 0&&(n=Wc),e.theme!==n.theme&&e.theme||t||n.theme}var KR=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),aL=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,oL=/(^-|-$)/g;function vS(e){return e.replace(aL,"-").replace(oL,"")}var lL=/(a)(d)/gi,Sp=52,xS=function(e){return String.fromCharCode(e+(e>25?39:97))};function o0(e){var t,n="";for(t=Math.abs(e);t>Sp;t=t/Sp|0)n=xS(t%Sp)+n;return(xS(t%Sp)+n).replace(lL,"$1-$2")}var lb,XR=5381,Ic=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},QR=function(e){return Ic(XR,e)};function ZR(e){return o0(QR(e)>>>0)}function cL(e){return e.displayName||e.name||"Component"}function cb(e){return typeof e=="string"&&!0}var JR=typeof Symbol=="function"&&Symbol.for,tC=JR?Symbol.for("react.memo"):60115,uL=JR?Symbol.for("react.forward_ref"):60112,hL={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},dL={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},eC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},fL=((lb={})[uL]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},lb[tC]=eC,lb);function wS(e){return("type"in(t=e)&&t.type.$$typeof)===tC?eC:"$$typeof"in e?fL[e.$$typeof]:hL;var t}var pL=Object.defineProperty,gL=Object.getOwnPropertyNames,ES=Object.getOwnPropertySymbols,mL=Object.getOwnPropertyDescriptor,yL=Object.getPrototypeOf,SS=Object.prototype;function nC(e,t,n){if(typeof t!="string"){if(SS){var i=yL(t);i&&i!==SS&&nC(e,i,n)}var s=gL(t);ES&&(s=s.concat(ES(t)));for(var r=wS(e),l=wS(t),c=0;c<s.length;++c){var h=s[c];if(!(h in dL||n&&n[h]||l&&h in l||r&&h in r)){var d=mL(t,h);try{pL(e,h,d)}catch{}}}}return e}function bl(e){return typeof e=="function"}function mv(e){return typeof e=="object"&&"styledComponentId"in e}function ul(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function l0(e,t){if(e.length===0)return"";for(var n=e[0],i=1;i<e.length;i++)n+=e[i];return n}function gd(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function c0(e,t,n){if(n===void 0&&(n=!1),!n&&!gd(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var i=0;i<t.length;i++)e[i]=c0(e[i],t[i]);else if(gd(t))for(var i in t)e[i]=c0(e[i],t[i]);return e}function yv(e,t){Object.defineProperty(e,"toString",{value:t})}function vl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var _L=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,i=0;i<t;i++)n+=this.groupSizes[i];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,r=s;t>=r;)if((r<<=1)<0)throw vl(16,"".concat(t));this.groupSizes=new Uint32Array(r),this.groupSizes.set(i),this.length=r;for(var l=s;l<r;l++)this.groupSizes[l]=0}for(var c=this.indexOfGroup(t+1),h=(l=0,n.length);l<h;l++)this.tag.insertRule(c,n[l])&&(this.groupSizes[t]++,c++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],i=this.indexOfGroup(t),s=i+n;this.groupSizes[t]=0;for(var r=i;r<s;r++)this.tag.deleteRule(i)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var i=this.groupSizes[t],s=this.indexOfGroup(t),r=s+i,l=s;l<r;l++)n+="".concat(this.tag.getRule(l)).concat(gv);return n},e}(),fg=new Map,jg=new Map,pg=1,Tp=function(e){if(fg.has(e))return fg.get(e);for(;jg.has(pg);)pg++;var t=pg++;return fg.set(e,t),jg.set(t,e),t},bL=function(e,t){pg=t+1,fg.set(e,t),jg.set(t,e)},vL="style[".concat(Hc,"][").concat(YR,'="').concat(vm,'"]'),xL=new RegExp("^".concat(Hc,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),wL=function(e,t,n){for(var i,s=n.split(","),r=0,l=s.length;r<l;r++)(i=s[r])&&e.registerName(t,i)},EL=function(e,t){for(var n,i=((n=t.textContent)!==null&&n!==void 0?n:"").split(gv),s=[],r=0,l=i.length;r<l;r++){var c=i[r].trim();if(c){var h=c.match(xL);if(h){var d=0|parseInt(h[1],10),p=h[2];d!==0&&(bL(p,d),wL(e,p,h[3]),e.getTag().insertRules(d,s)),s.length=0}else s.push(c)}}},TS=function(e){for(var t=document.querySelectorAll(vL),n=0,i=t.length;n<i;n++){var s=t[n];s&&s.getAttribute(Hc)!==WR&&(EL(e,s),s.parentNode&&s.parentNode.removeChild(s))}};function SL(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var iC=function(e){var t=document.head,n=e||t,i=document.createElement("style"),s=function(c){var h=Array.from(c.querySelectorAll("style[".concat(Hc,"]")));return h[h.length-1]}(n),r=s!==void 0?s.nextSibling:null;i.setAttribute(Hc,WR),i.setAttribute(YR,vm);var l=SL();return l&&i.setAttribute("nonce",l),n.insertBefore(i,r),i},TL=function(){function e(t){this.element=iC(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var i=document.styleSheets,s=0,r=i.length;s<r;s++){var l=i[s];if(l.ownerNode===n)return l}throw vl(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),AL=function(){function e(t){this.element=iC(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var i=document.createTextNode(n);return this.element.insertBefore(i,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),kL=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),AS=Lg,RL={isServer:!Lg,useCSSOMInjection:!sL},Vg=function(){function e(t,n,i){t===void 0&&(t=Wc),n===void 0&&(n={});var s=this;this.options=$n($n({},RL),t),this.gs=n,this.names=new Map(i),this.server=!!t.isServer,!this.server&&Lg&&AS&&(AS=!1,TS(this)),yv(this,function(){return function(r){for(var l=r.getTag(),c=l.length,h="",d=function(y){var _=function(D){return jg.get(D)}(y);if(_===void 0)return"continue";var x=r.names.get(_),E=l.getGroup(y);if(x===void 0||!x.size||E.length===0)return"continue";var T="".concat(Hc,".g").concat(y,'[id="').concat(_,'"]'),S="";x!==void 0&&x.forEach(function(D){D.length>0&&(S+="".concat(D,","))}),h+="".concat(E).concat(T,'{content:"').concat(S,'"}').concat(gv)},p=0;p<c;p++)d(p);return h}(s)})}return e.registerId=function(t){return Tp(t)},e.prototype.rehydrate=function(){!this.server&&Lg&&TS(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e($n($n({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var i=n.useCSSOMInjection,s=n.target;return n.isServer?new kL(s):i?new TL(s):new AL(s)}(this.options),new _L(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(Tp(t),this.names.has(t))this.names.get(t).add(n);else{var i=new Set;i.add(n),this.names.set(t,i)}},e.prototype.insertRules=function(t,n,i){this.registerName(t,n),this.getTag().insertRules(Tp(t),i)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Tp(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),CL=/&/g,DL=/^\s*\/\/.*$/gm;function sC(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(i){return"".concat(t," ").concat(i)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=sC(n.children,t)),n})}function ML(e){var t,n,i,s=Wc,r=s.options,l=r===void 0?Wc:r,c=s.plugins,h=c===void 0?xm:c,d=function(_,x,E){return E.startsWith(n)&&E.endsWith(n)&&E.replaceAll(n,"").length>0?".".concat(t):_},p=h.slice();p.push(function(_){_.type===mm&&_.value.includes("&")&&(_.props[0]=_.props[0].replace(CL,n).replace(i,d))}),l.prefix&&p.push(nL),p.push(JN);var y=function(_,x,E,T){x===void 0&&(x=""),E===void 0&&(E=""),T===void 0&&(T="&"),t=T,n=x,i=new RegExp("\\".concat(n,"\\b"),"g");var S=_.replace(DL,""),D=QN(E||x?"".concat(E," ").concat(x," { ").concat(S," }"):S);l.namespace&&(D=sC(D,l.namespace));var I=[];return Ng(D,tL(p.concat(eL(function(N){return I.push(N)})))),I};return y.hash=h.length?h.reduce(function(_,x){return x.name||vl(15),Ic(_,x.name)},XR).toString():"",y}var IL=new Vg,u0=ML(),rC=Et.createContext({shouldForwardProp:void 0,styleSheet:IL,stylis:u0});rC.Consumer;Et.createContext(void 0);function h0(){return j.useContext(rC)}var OL=function(){function e(t,n){var i=this;this.inject=function(s,r){r===void 0&&(r=u0);var l=i.name+r.hash;s.hasNameForId(i.id,l)||s.insertRules(i.id,l,r(i.rules,l,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,yv(this,function(){throw vl(12,String(i.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=u0),this.name+t.hash},e}(),PL=function(e){return e>="A"&&e<="Z"};function kS(e){for(var t="",n=0;n<e.length;n++){var i=e[n];if(n===1&&i==="-"&&e[0]==="-")return e;PL(i)?t+="-"+i.toLowerCase():t+=i}return t.startsWith("ms-")?"-"+t:t}var aC=function(e){return e==null||e===!1||e===""},oC=function(e){var t,n,i=[];for(var s in e){var r=e[s];e.hasOwnProperty(s)&&!aC(r)&&(Array.isArray(r)&&r.isCss||bl(r)?i.push("".concat(kS(s),":"),r,";"):gd(r)?i.push.apply(i,pd(pd(["".concat(s," {")],oC(r),!1),["}"],!1)):i.push("".concat(kS(s),": ").concat((t=s,(n=r)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in iL||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return i};function to(e,t,n,i){if(aC(e))return[];if(mv(e))return[".".concat(e.styledComponentId)];if(bl(e)){if(!bl(r=e)||r.prototype&&r.prototype.isReactComponent||!t)return[e];var s=e(t);return to(s,t,n,i)}var r;return e instanceof OL?n?(e.inject(n,i),[e.getName(i)]):[e]:gd(e)?oC(e):Array.isArray(e)?Array.prototype.concat.apply(xm,e.map(function(l){return to(l,t,n,i)})):[e.toString()]}function lC(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(bl(n)&&!mv(n))return!1}return!0}var NL=QR(vm),LL=function(){function e(t,n,i){this.rules=t,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&lC(t),this.componentId=n,this.baseHash=Ic(NL,n),this.baseStyle=i,Vg.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,i){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))s=ul(s,this.staticRulesId);else{var r=l0(to(this.rules,t,n,i)),l=o0(Ic(this.baseHash,r)>>>0);if(!n.hasNameForId(this.componentId,l)){var c=i(r,".".concat(l),void 0,this.componentId);n.insertRules(this.componentId,l,c)}s=ul(s,l),this.staticRulesId=l}else{for(var h=Ic(this.baseHash,i.hash),d="",p=0;p<this.rules.length;p++){var y=this.rules[p];if(typeof y=="string")d+=y;else if(y){var _=l0(to(y,t,n,i));h=Ic(h,_+p),d+=_}}if(d){var x=o0(h>>>0);n.hasNameForId(this.componentId,x)||n.insertRules(this.componentId,x,i(d,".".concat(x),void 0,this.componentId)),s=ul(s,x)}}return s},e}(),md=Et.createContext(void 0);md.Consumer;function jL(e){var t=Et.useContext(md),n=j.useMemo(function(){return function(i,s){if(!i)throw vl(14);if(bl(i)){var r=i(s);return r}if(Array.isArray(i)||typeof i!="object")throw vl(8);return s?$n($n({},s),i):i}(e.theme,t)},[e.theme,t]);return e.children?Et.createElement(md.Provider,{value:n},e.children):null}var ub={};function VL(e,t,n){var i=mv(e),s=e,r=!cb(e),l=t.attrs,c=l===void 0?xm:l,h=t.componentId,d=h===void 0?function(H,M){var Y=typeof H!="string"?"sc":vS(H);ub[Y]=(ub[Y]||0)+1;var R="".concat(Y,"-").concat(ZR(vm+Y+ub[Y]));return M?"".concat(M,"-").concat(R):R}(t.displayName,t.parentComponentId):h,p=t.displayName,y=p===void 0?function(H){return cb(H)?"styled.".concat(H):"Styled(".concat(cL(H),")")}(e):p,_=t.displayName&&t.componentId?"".concat(vS(t.displayName),"-").concat(t.componentId):t.componentId||d,x=i&&s.attrs?s.attrs.concat(c).filter(Boolean):c,E=t.shouldForwardProp;if(i&&s.shouldForwardProp){var T=s.shouldForwardProp;if(t.shouldForwardProp){var S=t.shouldForwardProp;E=function(H,M){return T(H,M)&&S(H,M)}}else E=T}var D=new LL(n,_,i?s.componentStyle:void 0);function I(H,M){return function(Y,R,C){var P=Y.attrs,V=Y.componentStyle,U=Y.defaultProps,q=Y.foldedComponentIds,z=Y.styledComponentId,Ct=Y.target,Q=Et.useContext(md),$=h0(),K=Y.shouldForwardProp||$.shouldForwardProp,ot=GR(R,Q,U)||Wc,nt=function(St,G,lt){for(var ht,gt=$n($n({},G),{className:void 0,theme:lt}),vt=0;vt<St.length;vt+=1){var zt=bl(ht=St[vt])?ht(gt):ht;for(var Xt in zt)gt[Xt]=Xt==="className"?ul(gt[Xt],zt[Xt]):Xt==="style"?$n($n({},gt[Xt]),zt[Xt]):zt[Xt]}return G.className&&(gt.className=ul(gt.className,G.className)),gt}(P,R,ot),F=nt.as||Ct,it={};for(var at in nt)nt[at]===void 0||at[0]==="$"||at==="as"||at==="theme"&&nt.theme===ot||(at==="forwardedAs"?it.as=nt.forwardedAs:K&&!K(at,F)||(it[at]=nt[at]));var ut=function(St,G){var lt=h0(),ht=St.generateAndInjectStyles(G,lt.styleSheet,lt.stylis);return ht}(V,nt),yt=ul(q,z);return ut&&(yt+=" "+ut),nt.className&&(yt+=" "+nt.className),it[cb(F)&&!KR.has(F)?"class":"className"]=yt,C&&(it.ref=C),j.createElement(F,it)}(N,H,M)}I.displayName=y;var N=Et.forwardRef(I);return N.attrs=x,N.componentStyle=D,N.displayName=y,N.shouldForwardProp=E,N.foldedComponentIds=i?ul(s.foldedComponentIds,s.styledComponentId):"",N.styledComponentId=_,N.target=i?s.target:e,Object.defineProperty(N,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(H){this._foldedDefaultProps=i?function(M){for(var Y=[],R=1;R<arguments.length;R++)Y[R-1]=arguments[R];for(var C=0,P=Y;C<P.length;C++)c0(M,P[C],!0);return M}({},s.defaultProps,H):H}}),yv(N,function(){return".".concat(N.styledComponentId)}),r&&nC(N,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),N}function RS(e,t){for(var n=[e[0]],i=0,s=t.length;i<s;i+=1)n.push(t[i],e[i+1]);return n}var CS=function(e){return Object.assign(e,{isCss:!0})};function cC(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(bl(e)||gd(e))return CS(to(RS(xm,pd([e],t,!0))));var i=e;return t.length===0&&i.length===1&&typeof i[0]=="string"?to(i):CS(to(RS(i,t)))}function d0(e,t,n){if(n===void 0&&(n=Wc),!t)throw vl(1,t);var i=function(s){for(var r=[],l=1;l<arguments.length;l++)r[l-1]=arguments[l];return e(t,n,cC.apply(void 0,pd([s],r,!1)))};return i.attrs=function(s){return d0(e,t,$n($n({},n),{attrs:Array.prototype.concat(n.attrs,s).filter(Boolean)}))},i.withConfig=function(s){return d0(e,t,$n($n({},n),s))},i}var uC=function(e){return d0(VL,e)},B=uC;KR.forEach(function(e){B[e]=uC(e)});var UL=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=lC(t),Vg.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,i,s){var r=s(l0(to(this.rules,n,i,s)),""),l=this.componentId+t;i.insertRules(l,l,r)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,i,s){t>2&&Vg.registerId(this.componentId+t),this.removeStyles(t,i),this.createStyles(t,n,i,s)},e}();function hC(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=cC.apply(void 0,pd([e],t,!1)),s="sc-global-".concat(ZR(JSON.stringify(i))),r=new UL(i,s),l=function(h){var d=h0(),p=Et.useContext(md),y=Et.useRef(d.styleSheet.allocateGSInstance(s)).current;return d.styleSheet.server&&c(y,h,d.styleSheet,p,d.stylis),Et.useLayoutEffect(function(){if(!d.styleSheet.server)return c(y,h,d.styleSheet,p,d.stylis),function(){return r.removeStyles(y,d.styleSheet)}},[y,h,d.styleSheet,p,d.stylis]),null};function c(h,d,p,y,_){if(r.isStatic)r.renderStyles(h,rL,p,_);else{var x=$n($n({},d),{theme:GR(d,y,l.defaultProps)});r.renderStyles(h,x,p,_)}}return Et.memo(l)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=()=>{};var DS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},FL=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],l=e[n++],c=e[n++],h=((s&7)<<18|(r&63)<<12|(l&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const r=e[n++],l=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|l&63)}}return t.join("")},fC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],l=s+1<e.length,c=l?e[s+1]:0,h=s+2<e.length,d=h?e[s+2]:0,p=r>>2,y=(r&3)<<4|c>>4;let _=(c&15)<<2|d>>6,x=d&63;h||(x=64,l||(_=64)),i.push(n[p],n[y],n[_],n[x])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(dC(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):FL(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],c=s<e.length?n[e.charAt(s)]:0;++s;const d=s<e.length?n[e.charAt(s)]:64;++s;const y=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||c==null||d==null||y==null)throw new BL;const _=r<<2|c>>4;if(i.push(_),d!==64){const x=c<<4&240|d>>2;if(i.push(x),y!==64){const E=d<<6&192|y;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class BL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $L=function(e){const t=dC(e);return fC.encodeByteArray(t,!0)},Ug=function(e){return $L(e).replace(/\./g,"")},pC=function(e){try{return fC.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=()=>qL().__FIREBASE_DEFAULTS__,WL=()=>{if(typeof process>"u"||typeof DS>"u")return;const e=DS.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},YL=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&pC(e[1]);return t&&JSON.parse(t)},wm=()=>{try{return zL()||HL()||WL()||YL()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},gC=e=>{var t,n;return(n=(t=wm())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},GL=e=>{const t=gC(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},mC=()=>{var e;return(e=wm())==null?void 0:e.config},yC=e=>{var t;return(t=wm())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _C(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Ug(JSON.stringify(n)),Ug(JSON.stringify(l)),""].join(".")}const Zh={};function QL(){const e={prod:[],emulator:[]};for(const t of Object.keys(Zh))Zh[t]?e.emulator.push(t):e.prod.push(t);return e}function ZL(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let MS=!1;function bC(e,t){if(typeof window>"u"||typeof document>"u"||!uu(window.location.host)||Zh[e]===t||Zh[e]||MS)return;Zh[e]=t;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",r=QL().prod.length>0;function l(){const _=document.getElementById(i);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,x){_.setAttribute("width","24"),_.setAttribute("id",x),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{MS=!0,l()},_}function p(_,x){_.setAttribute("id",x),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=ZL(i),x=n("text"),E=document.getElementById(x)||document.createElement("span"),T=n("learnmore"),S=document.getElementById(T)||document.createElement("a"),D=n("preprendIcon"),I=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const N=_.element;c(N),p(S,T);const H=d();h(I,D),N.append(I,E,S,H),document.body.appendChild(N)}r?(E.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(di())}function tj(){var t;const e=(t=wm())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ej(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nj(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function ij(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sj(){const e=di();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function rj(){return!tj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aj(){try{return typeof indexedDB=="object"}catch{return!1}}function oj(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)==null?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj="FirebaseError";class lr extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=lj,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ud.prototype.create)}}class Ud{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],l=r?cj(r,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new lr(s,c,i)}}function cj(e,t){return e.replace(uj,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const uj=/\{\$([^}]+)}/g;function hj(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function sa(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],l=t[s];if(IS(r)&&IS(l)){if(!sa(r,l))return!1}else if(r!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function IS(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Uh(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(r)}}),t}function zh(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function dj(e,t){const n=new fj(e,t);return n.subscribe.bind(n)}class fj{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");pj(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=hb),s.error===void 0&&(s.error=hb),s.complete===void 0&&(s.complete=hb);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pj(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function hb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(e){return e&&e._delegate?e._delegate:e}class xl{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new KL;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(yj(t))try{this.getOrInitializeService({instanceIdentifier:al})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=al){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=al){return this.instances.has(t)}getOptions(t=al){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(r);i===c&&l.resolve(s)}return s}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&t(r,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:mj(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=al){return this.component?this.component.multipleInstances?t:al:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mj(e){return e===al?void 0:e}function yj(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new gj(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(re||(re={}));const bj={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},vj=re.INFO,xj={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},wj=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=xj[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _v{constructor(t){this.name=t,this._logLevel=vj,this._logHandler=wj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?bj[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...t),this._logHandler(this,re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...t),this._logHandler(this,re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,re.INFO,...t),this._logHandler(this,re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,re.WARN,...t),this._logHandler(this,re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...t),this._logHandler(this,re.ERROR,...t)}}const Ej=(e,t)=>t.some(n=>e instanceof n);let OS,PS;function Sj(){return OS||(OS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tj(){return PS||(PS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vC=new WeakMap,f0=new WeakMap,xC=new WeakMap,db=new WeakMap,bv=new WeakMap;function Aj(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",l)},r=()=>{n(eo(e.result)),s()},l=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&vC.set(n,e)}).catch(()=>{}),bv.set(t,e),t}function kj(e){if(f0.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",l),e.removeEventListener("abort",l)},r=()=>{n(),s()},l=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",l),e.addEventListener("abort",l)});f0.set(e,t)}let p0={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return f0.get(e);if(t==="objectStoreNames")return e.objectStoreNames||xC.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eo(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Rj(e){p0=e(p0)}function Cj(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(fb(this),t,...n);return xC.set(i,t.sort?t.sort():[t]),eo(i)}:Tj().includes(e)?function(...t){return e.apply(fb(this),t),eo(vC.get(this))}:function(...t){return eo(e.apply(fb(this),t))}}function Dj(e){return typeof e=="function"?Cj(e):(e instanceof IDBTransaction&&kj(e),Ej(e,Sj())?new Proxy(e,p0):e)}function eo(e){if(e instanceof IDBRequest)return Aj(e);if(db.has(e))return db.get(e);const t=Dj(e);return t!==e&&(db.set(e,t),bv.set(t,e)),t}const fb=e=>bv.get(e);function Mj(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const l=indexedDB.open(e,t),c=eo(l);return i&&l.addEventListener("upgradeneeded",h=>{i(eo(l.result),h.oldVersion,h.newVersion,eo(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{r&&h.addEventListener("close",()=>r()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const Ij=["get","getKey","getAll","getAllKeys","count"],Oj=["put","add","delete","clear"],pb=new Map;function NS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(pb.get(t))return pb.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=Oj.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Ij.includes(n)))return;const r=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),s&&h.done]))[0]};return pb.set(t,r),r}Rj(e=>({...e,get:(t,n,i)=>NS(t,n)||e.get(t,n,i),has:(t,n)=>!!NS(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Nj(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Nj(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const g0="@firebase/app",LS="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new _v("@firebase/app"),Lj="@firebase/app-compat",jj="@firebase/analytics-compat",Vj="@firebase/analytics",Uj="@firebase/app-check-compat",zj="@firebase/app-check",Fj="@firebase/auth",Bj="@firebase/auth-compat",$j="@firebase/database",qj="@firebase/data-connect",Hj="@firebase/database-compat",Wj="@firebase/functions",Yj="@firebase/functions-compat",Gj="@firebase/installations",Kj="@firebase/installations-compat",Xj="@firebase/messaging",Qj="@firebase/messaging-compat",Zj="@firebase/performance",Jj="@firebase/performance-compat",t4="@firebase/remote-config",e4="@firebase/remote-config-compat",n4="@firebase/storage",i4="@firebase/storage-compat",s4="@firebase/firestore",r4="@firebase/ai",a4="@firebase/firestore-compat",o4="firebase",l4="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="[DEFAULT]",c4={[g0]:"fire-core",[Lj]:"fire-core-compat",[Vj]:"fire-analytics",[jj]:"fire-analytics-compat",[zj]:"fire-app-check",[Uj]:"fire-app-check-compat",[Fj]:"fire-auth",[Bj]:"fire-auth-compat",[$j]:"fire-rtdb",[qj]:"fire-data-connect",[Hj]:"fire-rtdb-compat",[Wj]:"fire-fn",[Yj]:"fire-fn-compat",[Gj]:"fire-iid",[Kj]:"fire-iid-compat",[Xj]:"fire-fcm",[Qj]:"fire-fcm-compat",[Zj]:"fire-perf",[Jj]:"fire-perf-compat",[t4]:"fire-rc",[e4]:"fire-rc-compat",[n4]:"fire-gcs",[i4]:"fire-gcs-compat",[s4]:"fire-fst",[a4]:"fire-fst-compat",[r4]:"fire-vertex","fire-js":"fire-js",[o4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new Map,u4=new Map,y0=new Map;function jS(e,t){try{e.container.addComponent(t)}catch(n){ra.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Yc(e){const t=e.name;if(y0.has(t))return ra.debug(`There were multiple attempts to register component ${t}.`),!1;y0.set(t,e);for(const n of yd.values())jS(n,e);for(const n of u4.values())jS(n,e);return!0}function vv(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function as(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},no=new Ud("app","Firebase",h4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw no.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=l4;function wC(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:m0,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw no.create("bad-app-name",{appName:String(s)});if(n||(n=mC()),!n)throw no.create("no-options");const r=yd.get(s);if(r){if(sa(n,r.options)&&sa(i,r.config))return r;throw no.create("duplicate-app",{appName:s})}const l=new _j(s);for(const h of y0.values())l.addComponent(h);const c=new d4(n,i,l);return yd.set(s,c),c}function xv(e=m0){const t=yd.get(e);if(!t&&e===m0&&mC())return wC();if(!t)throw no.create("no-app",{appName:e});return t}function f4(){return Array.from(yd.values())}function io(e,t,n){let i=c4[e]??e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),r=t.match(/\s|\//);if(s||r){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&r&&l.push("and"),r&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ra.warn(l.join(" "));return}Yc(new xl(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="firebase-heartbeat-database",g4=1,_d="firebase-heartbeat-store";let gb=null;function EC(){return gb||(gb=Mj(p4,g4,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(_d)}catch(n){console.warn(n)}}}}).catch(e=>{throw no.create("idb-open",{originalErrorMessage:e.message})})),gb}async function m4(e){try{const n=(await EC()).transaction(_d),i=await n.objectStore(_d).get(SC(e));return await n.done,i}catch(t){if(t instanceof lr)ra.warn(t.message);else{const n=no.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ra.warn(n.message)}}}async function VS(e,t){try{const i=(await EC()).transaction(_d,"readwrite");await i.objectStore(_d).put(t,SC(e)),await i.done}catch(n){if(n instanceof lr)ra.warn(n.message);else{const i=no.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ra.warn(i.message)}}}function SC(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=1024,_4=30;class b4{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new x4(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=US();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>_4){const l=w4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ra.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=US(),{heartbeatsToSend:i,unsentEntries:s}=v4(this._heartbeatsCache.heartbeats),r=Ug(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return ra.warn(n),""}}}function US(){return new Date().toISOString().substring(0,10)}function v4(e,t=y4){const n=[];let i=e.slice();for(const s of e){const r=n.find(l=>l.agent===s.agent);if(r){if(r.dates.push(s.date),zS(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),zS(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class x4{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aj()?oj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await m4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return VS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return VS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function zS(e){return Ug(JSON.stringify({version:2,heartbeats:e})).length}function w4(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(e){Yc(new xl("platform-logger",t=>new Pj(t),"PRIVATE")),Yc(new xl("heartbeat",t=>new b4(t),"PRIVATE")),io(g0,LS,e),io(g0,LS,"esm2020"),io("fire-js","")}E4("");var S4="firebase",T4="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */io(S4,T4,"app");var FS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var so,TC;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(R,C){function P(){}P.prototype=C.prototype,R.D=C.prototype,R.prototype=new P,R.prototype.constructor=R,R.C=function(V,U,q){for(var z=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)z[Ct-2]=arguments[Ct];return C.prototype[U].apply(V,z)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,C,P){P||(P=0);var V=Array(16);if(typeof C=="string")for(var U=0;16>U;++U)V[U]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(U=0;16>U;++U)V[U]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=R.g[0],P=R.g[1],U=R.g[2];var q=R.g[3],z=C+(q^P&(U^q))+V[0]+3614090360&4294967295;C=P+(z<<7&4294967295|z>>>25),z=q+(U^C&(P^U))+V[1]+3905402710&4294967295,q=C+(z<<12&4294967295|z>>>20),z=U+(P^q&(C^P))+V[2]+606105819&4294967295,U=q+(z<<17&4294967295|z>>>15),z=P+(C^U&(q^C))+V[3]+3250441966&4294967295,P=U+(z<<22&4294967295|z>>>10),z=C+(q^P&(U^q))+V[4]+4118548399&4294967295,C=P+(z<<7&4294967295|z>>>25),z=q+(U^C&(P^U))+V[5]+1200080426&4294967295,q=C+(z<<12&4294967295|z>>>20),z=U+(P^q&(C^P))+V[6]+2821735955&4294967295,U=q+(z<<17&4294967295|z>>>15),z=P+(C^U&(q^C))+V[7]+4249261313&4294967295,P=U+(z<<22&4294967295|z>>>10),z=C+(q^P&(U^q))+V[8]+1770035416&4294967295,C=P+(z<<7&4294967295|z>>>25),z=q+(U^C&(P^U))+V[9]+2336552879&4294967295,q=C+(z<<12&4294967295|z>>>20),z=U+(P^q&(C^P))+V[10]+4294925233&4294967295,U=q+(z<<17&4294967295|z>>>15),z=P+(C^U&(q^C))+V[11]+2304563134&4294967295,P=U+(z<<22&4294967295|z>>>10),z=C+(q^P&(U^q))+V[12]+1804603682&4294967295,C=P+(z<<7&4294967295|z>>>25),z=q+(U^C&(P^U))+V[13]+4254626195&4294967295,q=C+(z<<12&4294967295|z>>>20),z=U+(P^q&(C^P))+V[14]+2792965006&4294967295,U=q+(z<<17&4294967295|z>>>15),z=P+(C^U&(q^C))+V[15]+1236535329&4294967295,P=U+(z<<22&4294967295|z>>>10),z=C+(U^q&(P^U))+V[1]+4129170786&4294967295,C=P+(z<<5&4294967295|z>>>27),z=q+(P^U&(C^P))+V[6]+3225465664&4294967295,q=C+(z<<9&4294967295|z>>>23),z=U+(C^P&(q^C))+V[11]+643717713&4294967295,U=q+(z<<14&4294967295|z>>>18),z=P+(q^C&(U^q))+V[0]+3921069994&4294967295,P=U+(z<<20&4294967295|z>>>12),z=C+(U^q&(P^U))+V[5]+3593408605&4294967295,C=P+(z<<5&4294967295|z>>>27),z=q+(P^U&(C^P))+V[10]+38016083&4294967295,q=C+(z<<9&4294967295|z>>>23),z=U+(C^P&(q^C))+V[15]+3634488961&4294967295,U=q+(z<<14&4294967295|z>>>18),z=P+(q^C&(U^q))+V[4]+3889429448&4294967295,P=U+(z<<20&4294967295|z>>>12),z=C+(U^q&(P^U))+V[9]+568446438&4294967295,C=P+(z<<5&4294967295|z>>>27),z=q+(P^U&(C^P))+V[14]+3275163606&4294967295,q=C+(z<<9&4294967295|z>>>23),z=U+(C^P&(q^C))+V[3]+4107603335&4294967295,U=q+(z<<14&4294967295|z>>>18),z=P+(q^C&(U^q))+V[8]+1163531501&4294967295,P=U+(z<<20&4294967295|z>>>12),z=C+(U^q&(P^U))+V[13]+2850285829&4294967295,C=P+(z<<5&4294967295|z>>>27),z=q+(P^U&(C^P))+V[2]+4243563512&4294967295,q=C+(z<<9&4294967295|z>>>23),z=U+(C^P&(q^C))+V[7]+1735328473&4294967295,U=q+(z<<14&4294967295|z>>>18),z=P+(q^C&(U^q))+V[12]+2368359562&4294967295,P=U+(z<<20&4294967295|z>>>12),z=C+(P^U^q)+V[5]+4294588738&4294967295,C=P+(z<<4&4294967295|z>>>28),z=q+(C^P^U)+V[8]+2272392833&4294967295,q=C+(z<<11&4294967295|z>>>21),z=U+(q^C^P)+V[11]+1839030562&4294967295,U=q+(z<<16&4294967295|z>>>16),z=P+(U^q^C)+V[14]+4259657740&4294967295,P=U+(z<<23&4294967295|z>>>9),z=C+(P^U^q)+V[1]+2763975236&4294967295,C=P+(z<<4&4294967295|z>>>28),z=q+(C^P^U)+V[4]+1272893353&4294967295,q=C+(z<<11&4294967295|z>>>21),z=U+(q^C^P)+V[7]+4139469664&4294967295,U=q+(z<<16&4294967295|z>>>16),z=P+(U^q^C)+V[10]+3200236656&4294967295,P=U+(z<<23&4294967295|z>>>9),z=C+(P^U^q)+V[13]+681279174&4294967295,C=P+(z<<4&4294967295|z>>>28),z=q+(C^P^U)+V[0]+3936430074&4294967295,q=C+(z<<11&4294967295|z>>>21),z=U+(q^C^P)+V[3]+3572445317&4294967295,U=q+(z<<16&4294967295|z>>>16),z=P+(U^q^C)+V[6]+76029189&4294967295,P=U+(z<<23&4294967295|z>>>9),z=C+(P^U^q)+V[9]+3654602809&4294967295,C=P+(z<<4&4294967295|z>>>28),z=q+(C^P^U)+V[12]+3873151461&4294967295,q=C+(z<<11&4294967295|z>>>21),z=U+(q^C^P)+V[15]+530742520&4294967295,U=q+(z<<16&4294967295|z>>>16),z=P+(U^q^C)+V[2]+3299628645&4294967295,P=U+(z<<23&4294967295|z>>>9),z=C+(U^(P|~q))+V[0]+4096336452&4294967295,C=P+(z<<6&4294967295|z>>>26),z=q+(P^(C|~U))+V[7]+1126891415&4294967295,q=C+(z<<10&4294967295|z>>>22),z=U+(C^(q|~P))+V[14]+2878612391&4294967295,U=q+(z<<15&4294967295|z>>>17),z=P+(q^(U|~C))+V[5]+4237533241&4294967295,P=U+(z<<21&4294967295|z>>>11),z=C+(U^(P|~q))+V[12]+1700485571&4294967295,C=P+(z<<6&4294967295|z>>>26),z=q+(P^(C|~U))+V[3]+2399980690&4294967295,q=C+(z<<10&4294967295|z>>>22),z=U+(C^(q|~P))+V[10]+4293915773&4294967295,U=q+(z<<15&4294967295|z>>>17),z=P+(q^(U|~C))+V[1]+2240044497&4294967295,P=U+(z<<21&4294967295|z>>>11),z=C+(U^(P|~q))+V[8]+1873313359&4294967295,C=P+(z<<6&4294967295|z>>>26),z=q+(P^(C|~U))+V[15]+4264355552&4294967295,q=C+(z<<10&4294967295|z>>>22),z=U+(C^(q|~P))+V[6]+2734768916&4294967295,U=q+(z<<15&4294967295|z>>>17),z=P+(q^(U|~C))+V[13]+1309151649&4294967295,P=U+(z<<21&4294967295|z>>>11),z=C+(U^(P|~q))+V[4]+4149444226&4294967295,C=P+(z<<6&4294967295|z>>>26),z=q+(P^(C|~U))+V[11]+3174756917&4294967295,q=C+(z<<10&4294967295|z>>>22),z=U+(C^(q|~P))+V[2]+718787259&4294967295,U=q+(z<<15&4294967295|z>>>17),z=P+(q^(U|~C))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(U+(z<<21&4294967295|z>>>11))&4294967295,R.g[2]=R.g[2]+U&4294967295,R.g[3]=R.g[3]+q&4294967295}i.prototype.u=function(R,C){C===void 0&&(C=R.length);for(var P=C-this.blockSize,V=this.B,U=this.h,q=0;q<C;){if(U==0)for(;q<=P;)s(this,R,q),q+=this.blockSize;if(typeof R=="string"){for(;q<C;)if(V[U++]=R.charCodeAt(q++),U==this.blockSize){s(this,V),U=0;break}}else for(;q<C;)if(V[U++]=R[q++],U==this.blockSize){s(this,V),U=0;break}}this.h=U,this.o+=C},i.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;var P=8*this.o;for(C=R.length-8;C<R.length;++C)R[C]=P&255,P/=256;for(this.u(R),R=Array(16),C=P=0;4>C;++C)for(var V=0;32>V;V+=8)R[P++]=this.g[C]>>>V&255;return R};function r(R,C){var P=c;return Object.prototype.hasOwnProperty.call(P,R)?P[R]:P[R]=C(R)}function l(R,C){this.h=C;for(var P=[],V=!0,U=R.length-1;0<=U;U--){var q=R[U]|0;V&&q==C||(P[U]=q,V=!1)}this.g=P}var c={};function h(R){return-128<=R&&128>R?r(R,function(C){return new l([C|0],0>C?-1:0)}):new l([R|0],0>R?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return y;if(0>R)return S(d(-R));for(var C=[],P=1,V=0;R>=P;V++)C[V]=R/P|0,P*=4294967296;return new l(C,0)}function p(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return S(p(R.substring(1),C));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=d(Math.pow(C,8)),V=y,U=0;U<R.length;U+=8){var q=Math.min(8,R.length-U),z=parseInt(R.substring(U,U+q),C);8>q?(q=d(Math.pow(C,q)),V=V.j(q).add(d(z))):(V=V.j(P),V=V.add(d(z)))}return V}var y=h(0),_=h(1),x=h(16777216);e=l.prototype,e.m=function(){if(T(this))return-S(this).m();for(var R=0,C=1,P=0;P<this.g.length;P++){var V=this.i(P);R+=(0<=V?V:4294967296+V)*C,C*=4294967296}return R},e.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(E(this))return"0";if(T(this))return"-"+S(this).toString(R);for(var C=d(Math.pow(R,6)),P=this,V="";;){var U=H(P,C).g;P=D(P,U.j(C));var q=((0<P.g.length?P.g[0]:P.h)>>>0).toString(R);if(P=U,E(P))return q+V;for(;6>q.length;)q="0"+q;V=q+V}},e.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function E(R){if(R.h!=0)return!1;for(var C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function T(R){return R.h==-1}e.l=function(R){return R=D(this,R),T(R)?-1:E(R)?0:1};function S(R){for(var C=R.g.length,P=[],V=0;V<C;V++)P[V]=~R.g[V];return new l(P,~R.h).add(_)}e.abs=function(){return T(this)?S(this):this},e.add=function(R){for(var C=Math.max(this.g.length,R.g.length),P=[],V=0,U=0;U<=C;U++){var q=V+(this.i(U)&65535)+(R.i(U)&65535),z=(q>>>16)+(this.i(U)>>>16)+(R.i(U)>>>16);V=z>>>16,q&=65535,z&=65535,P[U]=z<<16|q}return new l(P,P[P.length-1]&-2147483648?-1:0)};function D(R,C){return R.add(S(C))}e.j=function(R){if(E(this)||E(R))return y;if(T(this))return T(R)?S(this).j(S(R)):S(S(this).j(R));if(T(R))return S(this.j(S(R)));if(0>this.l(x)&&0>R.l(x))return d(this.m()*R.m());for(var C=this.g.length+R.g.length,P=[],V=0;V<2*C;V++)P[V]=0;for(V=0;V<this.g.length;V++)for(var U=0;U<R.g.length;U++){var q=this.i(V)>>>16,z=this.i(V)&65535,Ct=R.i(U)>>>16,Q=R.i(U)&65535;P[2*V+2*U]+=z*Q,I(P,2*V+2*U),P[2*V+2*U+1]+=q*Q,I(P,2*V+2*U+1),P[2*V+2*U+1]+=z*Ct,I(P,2*V+2*U+1),P[2*V+2*U+2]+=q*Ct,I(P,2*V+2*U+2)}for(V=0;V<C;V++)P[V]=P[2*V+1]<<16|P[2*V];for(V=C;V<2*C;V++)P[V]=0;return new l(P,0)};function I(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function N(R,C){this.g=R,this.h=C}function H(R,C){if(E(C))throw Error("division by zero");if(E(R))return new N(y,y);if(T(R))return C=H(S(R),C),new N(S(C.g),S(C.h));if(T(C))return C=H(R,S(C)),new N(S(C.g),C.h);if(30<R.g.length){if(T(R)||T(C))throw Error("slowDivide_ only works with positive integers.");for(var P=_,V=C;0>=V.l(R);)P=M(P),V=M(V);var U=Y(P,1),q=Y(V,1);for(V=Y(V,2),P=Y(P,2);!E(V);){var z=q.add(V);0>=z.l(R)&&(U=U.add(P),q=z),V=Y(V,1),P=Y(P,1)}return C=D(R,U.j(C)),new N(U,C)}for(U=y;0<=R.l(C);){for(P=Math.max(1,Math.floor(R.m()/C.m())),V=Math.ceil(Math.log(P)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),q=d(P),z=q.j(C);T(z)||0<z.l(R);)P-=V,q=d(P),z=q.j(C);E(q)&&(q=_),U=U.add(q),R=D(R,z)}return new N(U,R)}e.A=function(R){return H(this,R).h},e.and=function(R){for(var C=Math.max(this.g.length,R.g.length),P=[],V=0;V<C;V++)P[V]=this.i(V)&R.i(V);return new l(P,this.h&R.h)},e.or=function(R){for(var C=Math.max(this.g.length,R.g.length),P=[],V=0;V<C;V++)P[V]=this.i(V)|R.i(V);return new l(P,this.h|R.h)},e.xor=function(R){for(var C=Math.max(this.g.length,R.g.length),P=[],V=0;V<C;V++)P[V]=this.i(V)^R.i(V);return new l(P,this.h^R.h)};function M(R){for(var C=R.g.length+1,P=[],V=0;V<C;V++)P[V]=R.i(V)<<1|R.i(V-1)>>>31;return new l(P,R.h)}function Y(R,C){var P=C>>5;C%=32;for(var V=R.g.length-P,U=[],q=0;q<V;q++)U[q]=0<C?R.i(q+P)>>>C|R.i(q+P+1)<<32-C:R.i(q+P);return new l(U,R.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,TC=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=p,so=l}).apply(typeof FS<"u"?FS:typeof self<"u"?self:typeof window<"u"?window:{});var Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AC,Fh,kC,gg,_0,RC,CC,DC;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,w,A){return g==Array.prototype||g==Object.prototype||(g[w]=A.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ap=="object"&&Ap];for(var w=0;w<g.length;++w){var A=g[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var i=n(this);function s(g,w){if(w)t:{var A=i;g=g.split(".");for(var L=0;L<g.length-1;L++){var J=g[L];if(!(J in A))break t;A=A[J]}g=g[g.length-1],L=A[g],w=w(L),w!=L&&w!=null&&t(A,g,{configurable:!0,writable:!0,value:w})}}function r(g,w){g instanceof String&&(g+="");var A=0,L=!1,J={next:function(){if(!L&&A<g.length){var ct=A++;return{value:w(ct,g[ct]),done:!1}}return L=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}s("Array.prototype.values",function(g){return g||function(){return r(this,function(w,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(g){var w=typeof g;return w=w!="object"?w:g?Array.isArray(g)?"array":w:"null",w=="array"||w=="object"&&typeof g.length=="number"}function d(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}function p(g,w,A){return g.call.apply(g.bind,arguments)}function y(g,w,A){if(!g)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,L),g.apply(w,J)}}return function(){return g.apply(w,arguments)}}function _(g,w,A){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,_.apply(null,arguments)}function x(g,w){var A=Array.prototype.slice.call(arguments,1);return function(){var L=A.slice();return L.push.apply(L,arguments),g.apply(this,L)}}function E(g,w){function A(){}A.prototype=w.prototype,g.aa=w.prototype,g.prototype=new A,g.prototype.constructor=g,g.Qb=function(L,J,ct){for(var xt=Array(arguments.length-2),le=2;le<arguments.length;le++)xt[le-2]=arguments[le];return w.prototype[J].apply(L,xt)}}function T(g){const w=g.length;if(0<w){const A=Array(w);for(let L=0;L<w;L++)A[L]=g[L];return A}return[]}function S(g,w){for(let A=1;A<arguments.length;A++){const L=arguments[A];if(h(L)){const J=g.length||0,ct=L.length||0;g.length=J+ct;for(let xt=0;xt<ct;xt++)g[J+xt]=L[xt]}else g.push(L)}}class D{constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function I(g){return/^[\s\xa0]*$/.test(g)}function N(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function H(g){return H[" "](g),g}H[" "]=function(){};var M=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function Y(g,w,A){for(const L in g)w.call(A,g[L],L,g)}function R(g,w){for(const A in g)w.call(void 0,g[A],A,g)}function C(g){const w={};for(const A in g)w[A]=g[A];return w}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(g,w){let A,L;for(let J=1;J<arguments.length;J++){L=arguments[J];for(A in L)g[A]=L[A];for(let ct=0;ct<P.length;ct++)A=P[ct],Object.prototype.hasOwnProperty.call(L,A)&&(g[A]=L[A])}}function U(g){var w=1;g=g.split(":");const A=[];for(;0<w&&g.length;)A.push(g.shift()),w--;return g.length&&A.push(g.join(":")),A}function q(g){c.setTimeout(()=>{throw g},0)}function z(){var g=nt;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}class Ct{constructor(){this.h=this.g=null}add(w,A){const L=Q.get();L.set(w,A),this.h?this.h.next=L:this.g=L,this.h=L}}var Q=new D(()=>new $,g=>g.reset());class ${constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let K,ot=!1,nt=new Ct,F=()=>{const g=c.Promise.resolve(void 0);K=()=>{g.then(it)}};var it=()=>{for(var g;g=z();){try{g.h.call(g.g)}catch(A){q(A)}var w=Q;w.j(g),100>w.h&&(w.h++,g.next=w.g,w.g=g)}ot=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const A=()=>{};c.addEventListener("test",A,w),c.removeEventListener("test",A,w)}catch{}return g}();function St(g,w){if(ut.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var A=this.type=g.type,L=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget){if(M){t:{try{H(w.nodeName);var J=!0;break t}catch{}J=!1}J||(w=null)}}else A=="mouseover"?w=g.fromElement:A=="mouseout"&&(w=g.toElement);this.relatedTarget=w,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:G[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&St.aa.h.call(this)}}E(St,ut);var G={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var lt="closure_listenable_"+(1e6*Math.random()|0),ht=0;function gt(g,w,A,L,J){this.listener=g,this.proxy=null,this.src=w,this.type=A,this.capture=!!L,this.ha=J,this.key=++ht,this.da=this.fa=!1}function vt(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function zt(g){this.src=g,this.g={},this.h=0}zt.prototype.add=function(g,w,A,L,J){var ct=g.toString();g=this.g[ct],g||(g=this.g[ct]=[],this.h++);var xt=ye(g,w,L,J);return-1<xt?(w=g[xt],A||(w.fa=!1)):(w=new gt(w,this.src,ct,!!L,J),w.fa=A,g.push(w)),w};function Xt(g,w){var A=w.type;if(A in g.g){var L=g.g[A],J=Array.prototype.indexOf.call(L,w,void 0),ct;(ct=0<=J)&&Array.prototype.splice.call(L,J,1),ct&&(vt(w),g.g[A].length==0&&(delete g.g[A],g.h--))}}function ye(g,w,A,L){for(var J=0;J<g.length;++J){var ct=g[J];if(!ct.da&&ct.listener==w&&ct.capture==!!A&&ct.ha==L)return J}return-1}var Pe="closure_lm_"+(1e6*Math.random()|0),En={};function ei(g,w,A,L,J){if(Array.isArray(w)){for(var ct=0;ct<w.length;ct++)ei(g,w[ct],A,L,J);return null}return A=fi(A),g&&g[lt]?g.K(w,A,d(L)?!!L.capture:!1,J):Ze(g,w,A,!1,L,J)}function Ze(g,w,A,L,J,ct){if(!w)throw Error("Invalid event type");var xt=d(J)?!!J.capture:!!J,le=Tt(g);if(le||(g[Pe]=le=new zt(g)),A=le.add(w,A,L,xt,ct),A.proxy)return A;if(L=hr(),A.proxy=L,L.src=g,L.listener=A,g.addEventListener)yt||(J=xt),J===void 0&&(J=!1),g.addEventListener(w.toString(),L,J);else if(g.attachEvent)g.attachEvent(Mt(w.toString()),L);else if(g.addListener&&g.removeListener)g.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return A}function hr(){function g(A){return w.call(g.src,g.listener,A)}const w=At;return g}function dr(g,w,A,L,J){if(Array.isArray(w))for(var ct=0;ct<w.length;ct++)dr(g,w[ct],A,L,J);else L=d(L)?!!L.capture:!!L,A=fi(A),g&&g[lt]?(g=g.i,w=String(w).toString(),w in g.g&&(ct=g.g[w],A=ye(ct,A,L,J),-1<A&&(vt(ct[A]),Array.prototype.splice.call(ct,A,1),ct.length==0&&(delete g.g[w],g.h--)))):g&&(g=Tt(g))&&(w=g.g[w.toString()],g=-1,w&&(g=ye(w,A,L,J)),(A=-1<g?w[g]:null)&&bt(A))}function bt(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[lt])Xt(w.i,g);else{var A=g.type,L=g.proxy;w.removeEventListener?w.removeEventListener(A,L,g.capture):w.detachEvent?w.detachEvent(Mt(A),L):w.addListener&&w.removeListener&&w.removeListener(L),(A=Tt(w))?(Xt(A,g),A.h==0&&(A.src=null,w[Pe]=null)):vt(g)}}}function Mt(g){return g in En?En[g]:En[g]="on"+g}function At(g,w){if(g.da)g=!0;else{w=new St(w,this);var A=g.listener,L=g.ha||g.src;g.fa&&bt(g),g=A.call(L,w)}return g}function Tt(g){return g=g[Pe],g instanceof zt?g:null}var te="__closure_events_fn_"+(1e9*Math.random()>>>0);function fi(g){return typeof g=="function"?g:(g[te]||(g[te]=function(w){return g.handleEvent(w)}),g[te])}function fe(){at.call(this),this.i=new zt(this),this.M=this,this.F=null}E(fe,at),fe.prototype[lt]=!0,fe.prototype.removeEventListener=function(g,w,A,L){dr(this,g,w,A,L)};function ee(g,w){var A,L=g.F;if(L)for(A=[];L;L=L.F)A.push(L);if(g=g.M,L=w.type||w,typeof w=="string")w=new ut(w,g);else if(w instanceof ut)w.target=w.target||g;else{var J=w;w=new ut(L,g),V(w,J)}if(J=!0,A)for(var ct=A.length-1;0<=ct;ct--){var xt=w.g=A[ct];J=pi(xt,L,!0,w)&&J}if(xt=w.g=g,J=pi(xt,L,!0,w)&&J,J=pi(xt,L,!1,w)&&J,A)for(ct=0;ct<A.length;ct++)xt=w.g=A[ct],J=pi(xt,L,!1,w)&&J}fe.prototype.N=function(){if(fe.aa.N.call(this),this.i){var g=this.i,w;for(w in g.g){for(var A=g.g[w],L=0;L<A.length;L++)vt(A[L]);delete g.g[w],g.h--}}this.F=null},fe.prototype.K=function(g,w,A,L){return this.i.add(String(g),w,!1,A,L)},fe.prototype.L=function(g,w,A,L){return this.i.add(String(g),w,!0,A,L)};function pi(g,w,A,L){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();for(var J=!0,ct=0;ct<w.length;++ct){var xt=w[ct];if(xt&&!xt.da&&xt.capture==A){var le=xt.listener,Tn=xt.ha||xt.src;xt.fa&&Xt(g.i,xt),J=le.call(Tn,L)!==!1&&J}}return J&&!L.defaultPrevented}function In(g,w,A){if(typeof g=="function")A&&(g=_(g,A));else if(g&&typeof g.handleEvent=="function")g=_(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(g,w||0)}function Pl(g){g.g=In(()=>{g.g=null,g.i&&(g.i=!1,Pl(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}class vu extends at{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Pl(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fr(g){at.call(this),this.h=g,this.g={}}E(fr,at);var pr=[];function gr(g){Y(g.g,function(w,A){this.g.hasOwnProperty(A)&&bt(w)},g),g.g={}}fr.prototype.N=function(){fr.aa.N.call(this),gr(this)},fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ci=c.JSON.stringify,mr=c.JSON.parse,yr=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function ha(){}ha.prototype.h=null;function Ht(g){return g.h||(g.h=g.i())}function _e(){}var Vt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function de(){ut.call(this,"d")}E(de,ut);function On(){ut.call(this,"c")}E(On,ut);var Wt={},So=null;function Cs(){return So=So||new fe}Wt.La="serverreachability";function da(g){ut.call(this,Wt.La,g)}E(da,ut);function Hi(g){const w=Cs();ee(w,new da(w))}Wt.STAT_EVENT="statevent";function fa(g,w){ut.call(this,Wt.STAT_EVENT,g),this.stat=w}E(fa,ut);function $e(g){const w=Cs();ee(w,new fa(w,g))}Wt.Ma="timingevent";function Sn(g,w){ut.call(this,Wt.Ma,g),this.size=w}E(Sn,ut);function un(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},w)}function Wi(){this.g=!0}Wi.prototype.xa=function(){this.g=!1};function xu(g,w,A,L,J,ct){g.info(function(){if(g.g)if(ct)for(var xt="",le=ct.split("&"),Tn=0;Tn<le.length;Tn++){var ce=le[Tn].split("=");if(1<ce.length){var Nn=ce[0];ce=ce[1];var An=Nn.split("_");xt=2<=An.length&&An[1]=="type"?xt+(Nn+"="+ce+"&"):xt+(Nn+"=redacted&")}}else xt=null;else xt=ct;return"XMLHTTP REQ ("+L+") [attempt "+J+"]: "+w+`
`+A+`
`+xt})}function ey(g,w,A,L,J,ct,xt){g.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+J+"]: "+w+`
`+A+`
`+ct+" "+xt})}function pa(g,w,A,L){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+To(g,A)+(L?" "+L:"")})}function nf(g,w){g.info(function(){return"TIMEOUT: "+w})}Wi.prototype.info=function(){};function To(g,w){if(!g.g)return w;if(!w)return null;try{var A=JSON.parse(w);if(A){for(g=0;g<A.length;g++)if(Array.isArray(A[g])){var L=A[g];if(!(2>L.length)){var J=L[1];if(Array.isArray(J)&&!(1>J.length)){var ct=J[0];if(ct!="noop"&&ct!="stop"&&ct!="close")for(var xt=1;xt<J.length;xt++)J[xt]=""}}}}return Ci(A)}catch{return w}}var ga={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_r={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ds;function Ms(){}E(Ms,ha),Ms.prototype.g=function(){return new XMLHttpRequest},Ms.prototype.i=function(){return{}},Ds=new Ms;function gi(g,w,A,L){this.j=g,this.i=w,this.l=A,this.R=L||1,this.U=new fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rn}function rn(){this.i=null,this.g="",this.h=!1}var wu={},Nl={};function us(g,w,A){g.L=1,g.v=Do(Di(w)),g.m=A,g.P=!0,br(g,null)}function br(g,w){g.F=Date.now(),Ao(g),g.A=Di(g.v);var A=g.A,L=g.R;Array.isArray(L)||(L=[String(L)]),Ru(A.i,"t",L),g.C=0,A=g.j.J,g.h=new rn,g.g=bf(g.j,A?w:null,!g.m),0<g.O&&(g.M=new vu(_(g.Y,g,g.g),g.O)),w=g.U,A=g.g,L=g.ca;var J="readystatechange";Array.isArray(J)||(J&&(pr[0]=J.toString()),J=pr);for(var ct=0;ct<J.length;ct++){var xt=ei(A,J[ct],L||w.handleEvent,!1,w.h||w);if(!xt)break;w.g[xt.key]=xt}w=g.H?C(g.H):{},g.m?(g.u||(g.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,w)):(g.u="GET",g.g.ea(g.A,g.u,null,w)),Hi(),xu(g.i,g.u,g.A,g.l,g.R,g.m)}gi.prototype.ca=function(g){g=g.target;const w=this.M;w&&Xi(g)==3?w.j():this.Y(g)},gi.prototype.Y=function(g){try{if(g==this.g)t:{const An=Xi(this.g);var w=this.g.Ba();const kr=this.g.Z();if(!(3>An)&&(An!=3||this.g&&(this.h.h||this.g.oa()||hf(this.g)))){this.J||An!=4||w==7||(w==8||0>=kr?Hi(3):Hi(2)),ma(this);var A=this.g.Z();this.X=A;e:if(sf(this)){var L=hf(this.g);g="";var J=L.length,ct=Xi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),Is(this);var xt="";break e}this.h.i=new c.TextDecoder}for(w=0;w<J;w++)this.h.h=!0,g+=this.h.i.decode(L[w],{stream:!(ct&&w==J-1)});L.length=0,this.h.g+=g,this.C=0,xt=this.h.g}else xt=this.g.oa();if(this.o=A==200,ey(this.i,this.u,this.A,this.l,this.R,An,A),this.o){if(this.T&&!this.K){e:{if(this.g){var le,Tn=this.g;if((le=Tn.g?Tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(le)){var ce=le;break e}}ce=null}if(A=ce)pa(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ko(this,A);else{this.o=!1,this.s=3,$e(12),Hn(this),Is(this);break t}}if(this.P){A=!0;let Wn;for(;!this.J&&this.C<xt.length;)if(Wn=rf(this,xt),Wn==Nl){An==4&&(this.s=4,$e(14),A=!1),pa(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==wu){this.s=4,$e(15),pa(this.i,this.l,xt,"[Invalid Chunk]"),A=!1;break}else pa(this.i,this.l,Wn,null),ko(this,Wn);if(sf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),An!=4||xt.length!=0||this.h.h||(this.s=1,$e(16),A=!1),this.o=this.o&&A,!A)pa(this.i,this.l,xt,"[Invalid Chunked Response]"),Hn(this),Is(this);else if(0<xt.length&&!this.W){this.W=!0;var Nn=this.j;Nn.g==this&&Nn.ba&&!Nn.M&&(Nn.j.info("Great, no buffering proxy detected. Bytes received: "+xt.length),Vo(Nn),Nn.M=!0,$e(11))}}else pa(this.i,this.l,xt,null),ko(this,xt);An==4&&Hn(this),this.o&&!this.J&&(An==4?mf(this.j,this):(this.o=!1,Ao(this)))}else ay(this.g),A==400&&0<xt.indexOf("Unknown SID")?(this.s=3,$e(12)):(this.s=0,$e(13)),Hn(this),Is(this)}}}catch{}finally{}};function sf(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function rf(g,w){var A=g.C,L=w.indexOf(`
`,A);return L==-1?Nl:(A=Number(w.substring(A,L)),isNaN(A)?wu:(L+=1,L+A>w.length?Nl:(w=w.slice(L,L+A),g.C=L+A,w)))}gi.prototype.cancel=function(){this.J=!0,Hn(this)};function Ao(g){g.S=Date.now()+g.I,af(g,g.I)}function af(g,w){if(g.B!=null)throw Error("WatchDog timer not null");g.B=un(_(g.ba,g),w)}function ma(g){g.B&&(c.clearTimeout(g.B),g.B=null)}gi.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(nf(this.i,this.A),this.L!=2&&(Hi(),$e(17)),Hn(this),this.s=2,Is(this)):af(this,this.S-g)};function Is(g){g.j.G==0||g.J||mf(g.j,g)}function Hn(g){ma(g);var w=g.M;w&&typeof w.ma=="function"&&w.ma(),g.M=null,gr(g.U),g.g&&(w=g.g,g.g=null,w.abort(),w.ma())}function ko(g,w){try{var A=g.j;if(A.G!=0&&(A.g==g||Eu(A.h,g))){if(!g.K&&Eu(A.h,g)&&A.G==3){try{var L=A.Da.g.parse(w)}catch{L=null}if(Array.isArray(L)&&L.length==3){var J=L;if(J[0]==0){t:if(!A.u){if(A.g)if(A.g.F+3e3<g.F)Yl(A),Hl(A);else break t;Ou(A),$e(18)}}else A.za=J[1],0<A.za-A.T&&37500>J[2]&&A.F&&A.v==0&&!A.C&&(A.C=un(_(A.Za,A),6e3));if(1>=jl(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Ar(A,11)}else if((g.K||A.g==g)&&Yl(A),!I(w))for(J=A.Da.g.parse(w),w=0;w<J.length;w++){let ce=J[w];if(A.T=ce[0],ce=ce[1],A.G==2)if(ce[0]=="c"){A.K=ce[1],A.ia=ce[2];const Nn=ce[3];Nn!=null&&(A.la=Nn,A.j.info("VER="+A.la));const An=ce[4];An!=null&&(A.Aa=An,A.j.info("SVER="+A.Aa));const kr=ce[5];kr!=null&&typeof kr=="number"&&0<kr&&(L=1.5*kr,A.L=L,A.j.info("backChannelRequestTimeoutMs_="+L)),L=A;const Wn=g.g;if(Wn){const Us=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Us){var ct=L.h;ct.g||Us.indexOf("spdy")==-1&&Us.indexOf("quic")==-1&&Us.indexOf("h2")==-1||(ct.j=ct.l,ct.g=new Set,ct.h&&(Vl(ct,ct.h),ct.h=null))}if(L.D){const Nu=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Nu&&(L.ya=Nu,Ae(L.I,L.D,Nu))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-g.F,A.j.info("Handshake RTT: "+A.R+"ms")),L=A;var xt=g;if(L.qa=_f(L,L.J?L.ia:null,L.W),xt.K){mi(L.h,xt);var le=xt,Tn=L.L;Tn&&(le.I=Tn),le.B&&(ma(le),Ao(le)),L.g=xt}else pf(L);0<A.i.length&&Wl(A)}else ce[0]!="stop"&&ce[0]!="close"||Ar(A,7);else A.G==3&&(ce[0]=="stop"||ce[0]=="close"?ce[0]=="stop"?Ar(A,7):Mu(A):ce[0]!="noop"&&A.l&&A.l.ta(ce),A.v=0)}}Hi(4)}catch{}}var of=class{constructor(g,w){this.g=g,this.map=w}};function vr(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ll(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function jl(g){return g.h?1:g.g?g.g.size:0}function Eu(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}function Vl(g,w){g.g?g.g.add(w):g.h=w}function mi(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}vr.prototype.cancel=function(){if(this.i=Su(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Su(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const A of g.g.values())w=w.concat(A.D);return w}return T(g.i)}function ny(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var w=[],A=g.length,L=0;L<A;L++)w.push(g[L]);return w}w=[],A=0;for(L in g)w[A++]=g[L];return w}function Ul(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var w=[];g=g.length;for(var A=0;A<g;A++)w.push(A);return w}w=[],A=0;for(const L in g)w[A++]=L;return w}}}function Tu(g,w){if(g.forEach&&typeof g.forEach=="function")g.forEach(w,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,w,void 0);else for(var A=Ul(g),L=ny(g),J=L.length,ct=0;ct<J;ct++)w.call(void 0,L[ct],A&&A[ct],g)}var Ro=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iy(g,w){if(g){g=g.split("&");for(var A=0;A<g.length;A++){var L=g[A].indexOf("="),J=null;if(0<=L){var ct=g[A].substring(0,L);J=g[A].substring(L+1)}else ct=g[A];w(ct,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function hn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof hn){this.h=g.h,Co(this,g.j),this.o=g.o,this.g=g.g,ya(this,g.s),this.l=g.l;var w=g.i,A=new wr;A.i=w.i,w.g&&(A.g=new Map(w.g),A.h=w.h),xr(this,A),this.m=g.m}else g&&(w=String(g).match(Ro))?(this.h=!1,Co(this,w[1]||"",!0),this.o=Yi(w[2]||""),this.g=Yi(w[3]||"",!0),ya(this,w[4]),this.l=Yi(w[5]||"",!0),xr(this,w[6]||"",!0),this.m=Yi(w[7]||"")):(this.h=!1,this.i=new wr(null,this.h))}hn.prototype.toString=function(){var g=[],w=this.j;w&&g.push(Mo(w,Au,!0),":");var A=this.g;return(A||w=="file")&&(g.push("//"),(w=this.o)&&g.push(Mo(w,Au,!0),"@"),g.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&g.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&g.push("/"),g.push(Mo(A,A.charAt(0)=="/"?sy:ku,!0))),(A=this.i.toString())&&g.push("?",A),(A=this.m)&&g.push("#",Mo(A,zl)),g.join("")};function Di(g){return new hn(g)}function Co(g,w,A){g.j=A?Yi(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}function ya(g,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);g.s=w}else g.s=null}function xr(g,w,A){w instanceof wr?(g.i=w,cf(g.i,g.h)):(A||(w=Mo(w,ry)),g.i=new wr(w,g.h))}function Ae(g,w,A){g.i.set(w,A)}function Do(g){return Ae(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Yi(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Mo(g,w,A){return typeof g=="string"?(g=encodeURI(g).replace(w,lf),A&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function lf(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Au=/[#\/\?@]/g,ku=/[#\?:]/g,sy=/[#\?]/g,ry=/[#\?@]/g,zl=/#/g;function wr(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}function Gi(g){g.g||(g.g=new Map,g.h=0,g.i&&iy(g.i,function(w,A){g.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}e=wr.prototype,e.add=function(g,w){Gi(this),this.i=null,g=Os(this,g);var A=this.g.get(g);return A||this.g.set(g,A=[]),A.push(w),this.h+=1,this};function Er(g,w){Gi(g),w=Os(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}function Sr(g,w){return Gi(g),w=Os(g,w),g.g.has(w)}e.forEach=function(g,w){Gi(this),this.g.forEach(function(A,L){A.forEach(function(J){g.call(w,J,L,this)},this)},this)},e.na=function(){Gi(this);const g=Array.from(this.g.values()),w=Array.from(this.g.keys()),A=[];for(let L=0;L<w.length;L++){const J=g[L];for(let ct=0;ct<J.length;ct++)A.push(w[L])}return A},e.V=function(g){Gi(this);let w=[];if(typeof g=="string")Sr(this,g)&&(w=w.concat(this.g.get(Os(this,g))));else{g=Array.from(this.g.values());for(let A=0;A<g.length;A++)w=w.concat(g[A])}return w},e.set=function(g,w){return Gi(this),this.i=null,g=Os(this,g),Sr(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},e.get=function(g,w){return g?(g=this.V(g),0<g.length?String(g[0]):w):w};function Ru(g,w,A){Er(g,w),0<A.length&&(g.i=null,g.g.set(Os(g,w),T(A)),g.h+=A.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(var A=0;A<w.length;A++){var L=w[A];const ct=encodeURIComponent(String(L)),xt=this.V(L);for(L=0;L<xt.length;L++){var J=ct;xt[L]!==""&&(J+="="+encodeURIComponent(String(xt[L]))),g.push(J)}}return this.i=g.join("&")};function Os(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}function cf(g,w){w&&!g.j&&(Gi(g),g.i=null,g.g.forEach(function(A,L){var J=L.toLowerCase();L!=J&&(Er(this,L),Ru(this,J,A))},g)),g.j=w}function Io(g,w){const A=new Wi;if(c.Image){const L=new Image;L.onload=x(Ki,A,"TestLoadImage: loaded",!0,w,L),L.onerror=x(Ki,A,"TestLoadImage: error",!1,w,L),L.onabort=x(Ki,A,"TestLoadImage: abort",!1,w,L),L.ontimeout=x(Ki,A,"TestLoadImage: timeout",!1,w,L),c.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=g}else w(!1)}function hs(g,w){const A=new Wi,L=new AbortController,J=setTimeout(()=>{L.abort(),Ki(A,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:L.signal}).then(ct=>{clearTimeout(J),ct.ok?Ki(A,"TestPingServer: ok",!0,w):Ki(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(J),Ki(A,"TestPingServer: error",!1,w)})}function Ki(g,w,A,L,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),L(A)}catch{}}function Oo(){this.g=new yr}function Ps(g,w,A){const L=A||"";try{Tu(g,function(J,ct){let xt=J;d(J)&&(xt=Ci(J)),w.push(L+ct+"="+encodeURIComponent(xt))})}catch(J){throw w.push(L+"type="+encodeURIComponent("_badmap")),J}}function _a(g){this.l=g.Ub||null,this.j=g.eb||!1}E(_a,ha),_a.prototype.g=function(){return new Tr(this.l,this.j)},_a.prototype.i=function(g){return function(){return g}}({});function Tr(g,w){fe.call(this),this.D=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Tr,fe),e=Tr.prototype,e.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=w,this.readyState=1,Ls(this)},e.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(w.body=g),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},e.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ls(this)),this.g&&(this.readyState=3,Ls(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cu(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cu(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}e.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?Ns(this):Ls(this),this.readyState==3&&Cu(this)}},e.Ra=function(g){this.g&&(this.response=this.responseText=g,Ns(this))},e.Qa=function(g){this.g&&(this.response=g,Ns(this))},e.ga=function(){this.g&&Ns(this)};function Ns(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Ls(g)}e.setRequestHeader=function(g,w){this.u.append(g,w)},e.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,g.push(A[0]+": "+A[1]),A=w.next();return g.join(`\r
`)};function Ls(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Du(g){let w="";return Y(g,function(A,L){w+=L,w+=":",w+=A,w+=`\r
`}),w}function Pn(g,w,A){t:{for(L in A){var L=!1;break t}L=!0}L||(A=Du(A),typeof g=="string"?A!=null&&encodeURIComponent(String(A)):Ae(g,w,A))}function be(g){fe.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(be,fe);var Fl=/^https?$/i,Po=["POST","PUT"];e=be.prototype,e.Ha=function(g){this.J=g},e.ea=function(g,w,A,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ds.g(),this.v=this.o?Ht(this.o):Ht(Ds),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(ct){uf(this,ct);return}if(g=A||"",A=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var J in L)A.set(J,L[J]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const ct of L.keys())A.set(ct,L.get(ct));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(A.keys()).find(ct=>ct.toLowerCase()=="content-type"),J=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Po,w,void 0))||L||J||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ct,xt]of A)this.g.setRequestHeader(ct,xt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{No(this),this.u=!0,this.g.send(g),this.u=!1}catch(ct){uf(this,ct)}};function uf(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.m=5,Bl(g),js(g)}function Bl(g){g.A||(g.A=!0,ee(g,"complete"),ee(g,"error"))}e.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,ee(this,"complete"),ee(this,"abort"),js(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),js(this,!0)),be.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?$l(this):this.bb())},e.bb=function(){$l(this)};function $l(g){if(g.h&&typeof l<"u"&&(!g.v[1]||Xi(g)!=4||g.Z()!=2)){if(g.u&&Xi(g)==4)In(g.Ea,0,g);else if(ee(g,"readystatechange"),Xi(g)==4){g.h=!1;try{const xt=g.Z();t:switch(xt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var A;if(!(A=w)){var L;if(L=xt===0){var J=String(g.D).match(Ro)[1]||null;!J&&c.self&&c.self.location&&(J=c.self.location.protocol.slice(0,-1)),L=!Fl.test(J?J.toLowerCase():"")}A=L}if(A)ee(g,"complete"),ee(g,"success");else{g.m=6;try{var ct=2<Xi(g)?g.g.statusText:""}catch{ct=""}g.l=ct+" ["+g.Z()+"]",Bl(g)}}finally{js(g)}}}}function js(g,w){if(g.g){No(g);const A=g.g,L=g.v[0]?()=>{}:null;g.g=null,g.v=null,w||ee(g,"ready");try{A.onreadystatechange=L}catch{}}}function No(g){g.I&&(c.clearTimeout(g.I),g.I=null)}e.isActive=function(){return!!this.g};function Xi(g){return g.g?g.g.readyState:0}e.Z=function(){try{return 2<Xi(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),mr(w)}};function hf(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ay(g){const w={};g=(g.g&&2<=Xi(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<g.length;L++){if(I(g[L]))continue;var A=U(g[L]);const J=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ct=w[J]||[];w[J]=ct,ct.push(A)}R(w,function(L){return L.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lo(g,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[g]||w}function ql(g){this.Aa=0,this.i=[],this.j=new Wi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lo("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lo("baseRetryDelayMs",5e3,g),this.cb=Lo("retryDelaySeedMs",1e4,g),this.Wa=Lo("forwardChannelMaxRetries",2,g),this.wa=Lo("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new vr(g&&g.concurrentRequestLimit),this.Da=new Oo,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ql.prototype,e.la=8,e.G=1,e.connect=function(g,w,A,L){$e(0),this.W=g,this.H=w||{},A&&L!==void 0&&(this.H.OSID=A,this.H.OAID=L),this.F=this.X,this.I=_f(this,null,this.W),Wl(this)};function Mu(g){if(df(g),g.G==3){var w=g.U++,A=Di(g.I);if(Ae(A,"SID",g.K),Ae(A,"RID",w),Ae(A,"TYPE","terminate"),jo(g,A),w=new gi(g,g.j,w),w.L=2,w.v=Do(Di(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!A&&c.Image&&(new Image().src=w.v,A=!0),A||(w.g=bf(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Ao(w)}yf(g)}function Hl(g){g.g&&(Vo(g),g.g.cancel(),g.g=null)}function df(g){Hl(g),g.u&&(c.clearTimeout(g.u),g.u=null),Yl(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function Wl(g){if(!Ll(g.h)&&!g.s){g.s=!0;var w=g.Ga;K||F(),ot||(K(),ot=!0),nt.add(w,g),g.B=0}}function oy(g,w){return jl(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=w.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=un(_(g.Ga,g,w),Pu(g,g.B)),g.B++,!0)}e.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const J=new gi(this,this.j,g);let ct=this.o;if(this.S&&(ct?(ct=C(ct),V(ct,this.S)):ct=this.S),this.m!==null||this.O||(J.H=ct,ct=null),this.P)t:{for(var w=0,A=0;A<this.i.length;A++){e:{var L=this.i[A];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break e}L=void 0}if(L===void 0)break;if(w+=L,4096<w){w=A;break t}if(w===4096||A===this.i.length-1){w=A+1;break t}}w=1e3}else w=1e3;w=ff(this,J,w),A=Di(this.I),Ae(A,"RID",g),Ae(A,"CVER",22),this.D&&Ae(A,"X-HTTP-Session-Id",this.D),jo(this,A),ct&&(this.O?w="headers="+encodeURIComponent(String(Du(ct)))+"&"+w:this.m&&Pn(A,this.m,ct)),Vl(this.h,J),this.Ua&&Ae(A,"TYPE","init"),this.P?(Ae(A,"$req",w),Ae(A,"SID","null"),J.T=!0,us(J,A,null)):us(J,A,w),this.G=2}}else this.G==3&&(g?Iu(this,g):this.i.length==0||Ll(this.h)||Iu(this))};function Iu(g,w){var A;w?A=w.l:A=g.U++;const L=Di(g.I);Ae(L,"SID",g.K),Ae(L,"RID",A),Ae(L,"AID",g.T),jo(g,L),g.m&&g.o&&Pn(L,g.m,g.o),A=new gi(g,g.j,A,g.B+1),g.m===null&&(A.H=g.o),w&&(g.i=w.D.concat(g.i)),w=ff(g,A,1e3),A.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Vl(g.h,A),us(A,L,w)}function jo(g,w){g.H&&Y(g.H,function(A,L){Ae(w,L,A)}),g.l&&Tu({},function(A,L){Ae(w,L,A)})}function ff(g,w,A){A=Math.min(g.i.length,A);var L=g.l?_(g.l.Na,g.l,g):null;t:{var J=g.i;let ct=-1;for(;;){const xt=["count="+A];ct==-1?0<A?(ct=J[0].g,xt.push("ofs="+ct)):ct=0:xt.push("ofs="+ct);let le=!0;for(let Tn=0;Tn<A;Tn++){let ce=J[Tn].g;const Nn=J[Tn].map;if(ce-=ct,0>ce)ct=Math.max(0,J[Tn].g-100),le=!1;else try{Ps(Nn,xt,"req"+ce+"_")}catch{L&&L(Nn)}}if(le){L=xt.join("&");break t}}}return g=g.i.splice(0,A),w.D=g,L}function pf(g){if(!g.g&&!g.u){g.Y=1;var w=g.Fa;K||F(),ot||(K(),ot=!0),nt.add(w,g),g.v=0}}function Ou(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=un(_(g.Fa,g),Pu(g,g.v)),g.v++,!0)}e.Fa=function(){if(this.u=null,gf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=un(_(this.ab,this),g)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$e(10),Hl(this),gf(this))};function Vo(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function gf(g){g.g=new gi(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var w=Di(g.qa);Ae(w,"RID","rpc"),Ae(w,"SID",g.K),Ae(w,"AID",g.T),Ae(w,"CI",g.F?"0":"1"),!g.F&&g.ja&&Ae(w,"TO",g.ja),Ae(w,"TYPE","xmlhttp"),jo(g,w),g.m&&g.o&&Pn(w,g.m,g.o),g.L&&(g.g.I=g.L);var A=g.g;g=g.ia,A.L=1,A.v=Do(Di(w)),A.m=null,A.P=!0,br(A,g)}e.Za=function(){this.C!=null&&(this.C=null,Hl(this),Ou(this),$e(19))};function Yl(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function mf(g,w){var A=null;if(g.g==w){Yl(g),Vo(g),g.g=null;var L=2}else if(Eu(g.h,w))A=w.D,mi(g.h,w),L=1;else return;if(g.G!=0){if(w.o)if(L==1){A=w.m?w.m.length:0,w=Date.now()-w.F;var J=g.B;L=Cs(),ee(L,new Sn(L,A)),Wl(g)}else pf(g);else if(J=w.s,J==3||J==0&&0<w.X||!(L==1&&oy(g,w)||L==2&&Ou(g)))switch(A&&0<A.length&&(w=g.h,w.i=w.i.concat(A)),J){case 1:Ar(g,5);break;case 4:Ar(g,10);break;case 3:Ar(g,6);break;default:Ar(g,2)}}}function Pu(g,w){let A=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(A*=2),A*w}function Ar(g,w){if(g.j.info("Error code "+w),w==2){var A=_(g.fb,g),L=g.Xa;const J=!L;L=new hn(L||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Co(L,"https"),Do(L),J?Io(L.toString(),A):hs(L.toString(),A)}else $e(2);g.G=0,g.l&&g.l.sa(w),yf(g),df(g)}e.fb=function(g){g?(this.j.info("Successfully pinged google.com"),$e(2)):(this.j.info("Failed to ping google.com"),$e(1))};function yf(g){if(g.G=0,g.ka=[],g.l){const w=Su(g.h);(w.length!=0||g.i.length!=0)&&(S(g.ka,w),S(g.ka,g.i),g.h.i.length=0,T(g.i),g.i.length=0),g.l.ra()}}function _f(g,w,A){var L=A instanceof hn?Di(A):new hn(A);if(L.g!="")w&&(L.g=w+"."+L.g),ya(L,L.s);else{var J=c.location;L=J.protocol,w=w?w+"."+J.hostname:J.hostname,J=+J.port;var ct=new hn(null);L&&Co(ct,L),w&&(ct.g=w),J&&ya(ct,J),A&&(ct.l=A),L=ct}return A=g.D,w=g.ya,A&&w&&Ae(L,A,w),Ae(L,"VER",g.la),jo(g,L),L}function bf(g,w,A){if(w&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Ca&&!g.pa?new be(new _a({eb:A})):new be(g.pa),w.Ha(g.J),w}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function vf(){}e=vf.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Gl(){}Gl.prototype.g=function(g,w){return new yi(g,w)};function yi(g,w){fe.call(this),this.g=new ql(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(g?g["X-WebChannel-Client-Profile"]=w.va:g={"X-WebChannel-Client-Profile":w.va}),this.g.S=g,(g=w&&w.Sb)&&!I(g)&&(this.g.m=g),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!I(w)&&(this.g.D=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new Vs(this)}E(yi,fe),yi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yi.prototype.close=function(){Mu(this.g)},yi.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var A={};A.__data__=g,g=A}else this.u&&(A={},A.__data__=Ci(g),g=A);w.i.push(new of(w.Ya++,g)),w.G==3&&Wl(w)},yi.prototype.N=function(){this.g.l=null,delete this.j,Mu(this.g),delete this.g,yi.aa.N.call(this)};function xf(g){de.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){t:{for(const A in w){g=A;break t}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}E(xf,de);function wf(){On.call(this),this.status=1}E(wf,On);function Vs(g){this.g=g}E(Vs,vf),Vs.prototype.ua=function(){ee(this.g,"a")},Vs.prototype.ta=function(g){ee(this.g,new xf(g))},Vs.prototype.sa=function(g){ee(this.g,new wf)},Vs.prototype.ra=function(){ee(this.g,"b")},Gl.prototype.createWebChannel=Gl.prototype.g,yi.prototype.send=yi.prototype.o,yi.prototype.open=yi.prototype.m,yi.prototype.close=yi.prototype.close,DC=function(){return new Gl},CC=function(){return Cs()},RC=Wt,_0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ga.NO_ERROR=0,ga.TIMEOUT=8,ga.HTTP_ERROR=6,gg=ga,_r.COMPLETE="complete",kC=_r,_e.EventType=Vt,Vt.OPEN="a",Vt.CLOSE="b",Vt.ERROR="c",Vt.MESSAGE="d",fe.prototype.listen=fe.prototype.K,Fh=_e,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,AC=be}).apply(typeof Ap<"u"?Ap:typeof self<"u"?self:typeof window<"u"?window:{});const BS="@firebase/firestore",$S="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}oi.UNAUTHENTICATED=new oi(null),oi.GOOGLE_CREDENTIALS=new oi("google-credentials-uid"),oi.FIRST_PARTY=new oi("first-party-uid"),oi.MOCK_USER=new oi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=new _v("@firebase/firestore");function Rc(){return wl.logLevel}function Rt(e,...t){if(wl.logLevel<=re.DEBUG){const n=t.map(wv);wl.debug(`Firestore (${du}): ${e}`,...n)}}function aa(e,...t){if(wl.logLevel<=re.ERROR){const n=t.map(wv);wl.error(`Firestore (${du}): ${e}`,...n)}}function Gc(e,...t){if(wl.logLevel<=re.WARN){const n=t.map(wv);wl.warn(`Firestore (${du}): ${e}`,...n)}}function wv(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,MC(e,i,n)}function MC(e,t,n){let i=`FIRESTORE (${du}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw aa(i),new Error(i)}function we(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||MC(t,s,i)}function qt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends lr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class A4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(oi.UNAUTHENTICATED))}shutdown(){}}class k4{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class R4{constructor(t){this.t=t,this.currentUser=oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){we(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let r=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new ea,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=r;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new ea)}},0),l()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(we(typeof i.accessToken=="string",31837,{l:i}),new IC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return we(t===null||typeof t=="string",2055,{h:t}),new oi(t)}}class C4{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=oi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class D4{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new C4(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(oi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M4{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,as(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){we(this.o===void 0,3512);const i=r=>{r.error!=null&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const l=r.token!==this.m;return this.m=r.token,Rt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(we(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=I4(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%62))}return i}}function ae(e,t){return e<t?-1:e>t?1:0}function b0(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.charAt(i),r=t.charAt(i);if(s!==r)return mb(s)===mb(r)?ae(s,r):mb(s)?1:-1}return ae(e.length,t.length)}const O4=55296,P4=57343;function mb(e){const t=e.charCodeAt(0);return t>=O4&&t<=P4}function Kc(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="__name__";class Ks{constructor(t,n,i){n===void 0?n=0:n>t.length&&Ut(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Ut(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Ks.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ks?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=Ks.compareSegments(t.get(s),n.get(s));if(r!==0)return r}return ae(t.length,n.length)}static compareSegments(t,n){const i=Ks.isNumericId(t),s=Ks.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Ks.extractNumericId(t).compare(Ks.extractNumericId(n)):b0(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return so.fromString(t.substring(4,t.length-2))}}class Le extends Ks{construct(t,n,i){return new Le(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new kt(pt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const N4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends Ks{construct(t,n,i){return new Zn(t,n,i)}static isValidIdentifier(t){return N4.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HS}static keyField(){return new Zn([HS])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new kt(pt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new kt(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new kt(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(r(),s++)}if(r(),l)throw new kt(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Zn(n)}static emptyPath(){return new Zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t){this.path=t}static fromPath(t){return new Nt(Le.fromString(t))}static fromName(t){return new Nt(Le.fromString(t).popFirst(5))}static empty(){return new Nt(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Le.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Nt(new Le(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(e,t,n){if(!n)throw new kt(pt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function L4(e,t,n,i){if(t===!0&&i===!0)throw new kt(pt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function WS(e){if(!Nt.isDocumentKey(e))throw new kt(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function YS(e){if(Nt.isDocumentKey(e))throw new kt(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function PC(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Em(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ut(12329,{type:typeof e})}function $i(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new kt(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Em(e);throw new kt(pt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(e,t){const n={typeString:e};return t&&(n.value=t),n}function Fd(e,t){if(!PC(e))throw new kt(pt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,r="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const l=e[i];if(s&&typeof l!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(r!==void 0&&l!==r.value){n=`Expected '${i}' field to equal '${r.value}'`;break}}if(n)throw new kt(pt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=-62135596800,KS=1e6;class Oe{static now(){return Oe.fromMillis(Date.now())}static fromDate(t){return Oe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*KS);return new Oe(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new kt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new kt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<GS)throw new kt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new kt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/KS}_compareTo(t){return this.seconds===t.seconds?ae(this.nanoseconds,t.nanoseconds):ae(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fd(t,Oe._jsonSchema))return new Oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-GS;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Oe._jsonSchemaVersion="firestore/timestamp/1.0",Oe._jsonSchema={type:vn("string",Oe._jsonSchemaVersion),seconds:vn("number"),nanoseconds:vn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{static fromTimestamp(t){return new Bt(t)}static min(){return new Bt(new Oe(0,0))}static max(){return new Bt(new Oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=-1;function j4(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=Bt.fromTimestamp(i===1e9?new Oe(n+1,0):new Oe(n,i));return new lo(s,Nt.empty(),t)}function V4(e){return new lo(e.readTime,e.key,bd)}class lo{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new lo(Bt.min(),Nt.empty(),bd)}static max(){return new lo(Bt.max(),Nt.empty(),bd)}}function U4(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Nt.comparator(e.documentKey,t.documentKey),n!==0?n:ae(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(e){if(e.code!==pt.FAILED_PRECONDITION||e.message!==z4)throw e;Rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new _t((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof _t?n:_t.resolve(n)}catch(n){return _t.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):_t.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):_t.reject(n)}static resolve(t){return new _t((n,i)=>{n(t)})}static reject(t){return new _t((n,i)=>{i(t)})}static waitFor(t){return new _t((n,i)=>{let s=0,r=0,l=!1;t.forEach(c=>{++s,c.next(()=>{++r,l&&r===s&&n()},h=>i(h))}),l=!0,r===s&&n()})}static or(t){let n=_t.resolve(!1);for(const i of t)n=n.next(s=>s?_t.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(t,n){return new _t((i,s)=>{const r=t.length,l=new Array(r);let c=0;for(let h=0;h<r;h++){const d=h;n(t[d]).next(p=>{l[d]=p,++c,c===r&&i(l)},p=>s(p))}})}static doWhile(t,n){return new _t((i,s)=>{const r=()=>{t()===!0?n().next(()=>{r()},s):i()};r()})}}function B4(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Sm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=-1;function Tm(e){return e==null}function zg(e){return e===0&&1/e==-1/0}function $4(e){return typeof e=="number"&&Number.isInteger(e)&&!zg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="";function q4(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=XS(t)),t=H4(e.get(n),t);return XS(t)}function H4(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const r=e.charAt(s);switch(r){case"\0":n+="";break;case NC:n+="";break;default:n+=r}}return n}function XS(e){return e+NC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function bo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function LC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,n){this.comparator=t,this.root=n||Qn.EMPTY}insert(t,n){return new Qe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(t){return new Qe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kp(this.root,t,this.comparator,!1)}getReverseIterator(){return new kp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kp(this.root,t,this.comparator,!0)}}class kp{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&s&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qn{constructor(t,n,i,s,r){this.key=t,this.value=n,this.color=i??Qn.RED,this.left=s??Qn.EMPTY,this.right=r??Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,r){return new Qn(t??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const r=i(t,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(t,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Qn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ut(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ut(27949);return t+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut(57766)}get value(){throw Ut(16141)}get color(){throw Ut(16727)}get left(){throw Ut(29726)}get right(){throw Ut(36894)}copy(t,n,i,s,r){return this}insert(t,n,i){return new Qn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.comparator=t,this.data=new Qe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new ZS(this.data.getIterator())}getIteratorFrom(t){return new ZS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Dn)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Dn(this.comparator);return n.data=t,n}}class ZS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t){this.fields=t,t.sort(Zn.comparator)}static empty(){return new Fi([])}unionWith(t){let n=new Dn(Zn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Fi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Kc(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new jC("Invalid base64 string: "+r):r}}(t);return new Jn(n)}static fromUint8Array(t){const n=function(s){let r="";for(let l=0;l<s.length;++l)r+=String.fromCharCode(s[l]);return r}(t);return new Jn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ae(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Jn.EMPTY_BYTE_STRING=new Jn("");const W4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function co(e){if(we(!!e,39018),typeof e=="string"){let t=0;const n=W4.exec(e);if(we(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ln(e.seconds),nanos:ln(e.nanos)}}function ln(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function uo(e){return typeof e=="string"?Jn.fromBase64String(e):Jn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="server_timestamp",UC="__type__",zC="__previous_value__",FC="__local_write_time__";function Tv(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[UC])==null?void 0:i.stringValue)===VC}function Am(e){const t=e.mapValue.fields[zC];return Tv(t)?Am(t):t}function vd(e){const t=co(e.mapValue.fields[FC].timestampValue);return new Oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(t,n,i,s,r,l,c,h,d,p){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=p}}const Fg="(default)";class xd{constructor(t,n){this.projectId=t,this.database=n||Fg}static empty(){return new xd("","")}get isDefaultDatabase(){return this.database===Fg}isEqual(t){return t instanceof xd&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="__type__",G4="__max__",Rp={mapValue:{}},$C="__vector__",Bg="value";function ho(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Tv(e)?4:X4(e)?9007199254740991:K4(e)?10:11:Ut(28295,{value:e})}function rr(e,t){if(e===t)return!0;const n=ho(e);if(n!==ho(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return vd(e).isEqual(vd(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const l=co(s.timestampValue),c=co(r.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,r){return uo(s.bytesValue).isEqual(uo(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,r){return ln(s.geoPointValue.latitude)===ln(r.geoPointValue.latitude)&&ln(s.geoPointValue.longitude)===ln(r.geoPointValue.longitude)}(e,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return ln(s.integerValue)===ln(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const l=ln(s.doubleValue),c=ln(r.doubleValue);return l===c?zg(l)===zg(c):isNaN(l)&&isNaN(c)}return!1}(e,t);case 9:return Kc(e.arrayValue.values||[],t.arrayValue.values||[],rr);case 10:case 11:return function(s,r){const l=s.mapValue.fields||{},c=r.mapValue.fields||{};if(QS(l)!==QS(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!rr(l[h],c[h])))return!1;return!0}(e,t);default:return Ut(52216,{left:e})}}function wd(e,t){return(e.values||[]).find(n=>rr(n,t))!==void 0}function Xc(e,t){if(e===t)return 0;const n=ho(e),i=ho(t);if(n!==i)return ae(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(e.booleanValue,t.booleanValue);case 2:return function(r,l){const c=ln(r.integerValue||r.doubleValue),h=ln(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(e,t);case 3:return JS(e.timestampValue,t.timestampValue);case 4:return JS(vd(e),vd(t));case 5:return b0(e.stringValue,t.stringValue);case 6:return function(r,l){const c=uo(r),h=uo(l);return c.compareTo(h)}(e.bytesValue,t.bytesValue);case 7:return function(r,l){const c=r.split("/"),h=l.split("/");for(let d=0;d<c.length&&d<h.length;d++){const p=ae(c[d],h[d]);if(p!==0)return p}return ae(c.length,h.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,l){const c=ae(ln(r.latitude),ln(l.latitude));return c!==0?c:ae(ln(r.longitude),ln(l.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return tT(e.arrayValue,t.arrayValue);case 10:return function(r,l){var _,x,E,T;const c=r.fields||{},h=l.fields||{},d=(_=c[Bg])==null?void 0:_.arrayValue,p=(x=h[Bg])==null?void 0:x.arrayValue,y=ae(((E=d==null?void 0:d.values)==null?void 0:E.length)||0,((T=p==null?void 0:p.values)==null?void 0:T.length)||0);return y!==0?y:tT(d,p)}(e.mapValue,t.mapValue);case 11:return function(r,l){if(r===Rp.mapValue&&l===Rp.mapValue)return 0;if(r===Rp.mapValue)return 1;if(l===Rp.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),d=l.fields||{},p=Object.keys(d);h.sort(),p.sort();for(let y=0;y<h.length&&y<p.length;++y){const _=b0(h[y],p[y]);if(_!==0)return _;const x=Xc(c[h[y]],d[p[y]]);if(x!==0)return x}return ae(h.length,p.length)}(e.mapValue,t.mapValue);default:throw Ut(23264,{he:n})}}function JS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ae(e,t);const n=co(e),i=co(t),s=ae(n.seconds,i.seconds);return s!==0?s:ae(n.nanos,i.nanos)}function tT(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=Xc(n[s],i[s]);if(r)return r}return ae(n.length,i.length)}function Qc(e){return v0(e)}function v0(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=co(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return uo(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Nt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=v0(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const l of i)r?r=!1:s+=",",s+=`${l}:${v0(n.fields[l])}`;return s+"}"}(e.mapValue):Ut(61005,{value:e})}function mg(e){switch(ho(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Am(e);return t?16+mg(t):16;case 5:return 2*e.stringValue.length;case 6:return uo(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+mg(r),0)}(e.arrayValue);case 10:case 11:return function(i){let s=0;return bo(i.fields,(r,l)=>{s+=r.length+mg(l)}),s}(e.mapValue);default:throw Ut(13486,{value:e})}}function eT(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function x0(e){return!!e&&"integerValue"in e}function Av(e){return!!e&&"arrayValue"in e}function nT(e){return!!e&&"nullValue"in e}function iT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function yg(e){return!!e&&"mapValue"in e}function K4(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[BC])==null?void 0:i.stringValue)===$C}function Jh(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return bo(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Jh(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Jh(e.arrayValue.values[n]);return t}return{...e}}function X4(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===G4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t){this.value=t}static empty(){return new ki({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!yg(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jh(n)}setAll(t){let n=Zn.emptyPath(),i={},s=[];t.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=c.popLast()}l?i[c.lastSegment()]=Jh(l):s.push(c.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(t){const n=this.field(t.popLast());yg(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return rr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];yg(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){bo(n,(s,r)=>t[s]=r);for(const s of i)delete t[s]}clone(){return new ki(Jh(this.value))}}function qC(e){const t=[];return bo(e.fields,(n,i)=>{const s=new Zn([n]);if(yg(i)){const r=qC(i.mapValue).fields;if(r.length===0)t.push(s);else for(const l of r)t.push(s.child(l))}else t.push(s)}),new Fi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t,n,i,s,r,l,c){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=l,this.documentState=c}static newInvalidDocument(t){return new ci(t,0,Bt.min(),Bt.min(),Bt.min(),ki.empty(),0)}static newFoundDocument(t,n,i,s){return new ci(t,1,n,Bt.min(),i,s,0)}static newNoDocument(t,n){return new ci(t,2,n,Bt.min(),Bt.min(),ki.empty(),0)}static newUnknownDocument(t,n){return new ci(t,3,n,Bt.min(),Bt.min(),ki.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ki.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ci&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(t,n){this.position=t,this.inclusive=n}}function sT(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const r=t[s],l=e.position[s];if(r.field.isKeyField()?i=Nt.comparator(Nt.fromName(l.referenceValue),n.key):i=Xc(l,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function rT(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!rr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(t,n="asc"){this.field=t,this.dir=n}}function Q4(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{}class bn extends HC{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new J4(t,n,i):n==="array-contains"?new nV(t,i):n==="in"?new iV(t,i):n==="not-in"?new sV(t,i):n==="array-contains-any"?new rV(t,i):new bn(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new tV(t,i):new eV(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xc(n,this.value)):n!==null&&ho(this.value)===ho(n)&&this.matchesComparison(Xc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ss extends HC{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ss(t,n)}matches(t){return WC(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function WC(e){return e.op==="and"}function YC(e){return Z4(e)&&WC(e)}function Z4(e){for(const t of e.filters)if(t instanceof Ss)return!1;return!0}function w0(e){if(e instanceof bn)return e.field.canonicalString()+e.op.toString()+Qc(e.value);if(YC(e))return e.filters.map(t=>w0(t)).join(",");{const t=e.filters.map(n=>w0(n)).join(",");return`${e.op}(${t})`}}function GC(e,t){return e instanceof bn?function(i,s){return s instanceof bn&&i.op===s.op&&i.field.isEqual(s.field)&&rr(i.value,s.value)}(e,t):e instanceof Ss?function(i,s){return s instanceof Ss&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,l,c)=>r&&GC(l,s.filters[c]),!0):!1}(e,t):void Ut(19439)}function KC(e){return e instanceof bn?function(n){return`${n.field.canonicalString()} ${n.op} ${Qc(n.value)}`}(e):e instanceof Ss?function(n){return n.op.toString()+" {"+n.getFilters().map(KC).join(" ,")+"}"}(e):"Filter"}class J4 extends bn{constructor(t,n,i){super(t,n,i),this.key=Nt.fromName(i.referenceValue)}matches(t){const n=Nt.comparator(t.key,this.key);return this.matchesComparison(n)}}class tV extends bn{constructor(t,n){super(t,"in",n),this.keys=XC("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class eV extends bn{constructor(t,n){super(t,"not-in",n),this.keys=XC("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function XC(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(i=>Nt.fromName(i.referenceValue))}class nV extends bn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Av(n)&&wd(n.arrayValue,this.value)}}class iV extends bn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&wd(this.value.arrayValue,n)}}class sV extends bn{constructor(t,n){super(t,"not-in",n)}matches(t){if(wd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wd(this.value.arrayValue,n)}}class rV extends bn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Av(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>wd(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(t,n=null,i=[],s=[],r=null,l=null,c=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=l,this.endAt=c,this.Te=null}}function aT(e,t=null,n=[],i=[],s=null,r=null,l=null){return new aV(e,t,n,i,s,r,l)}function kv(e){const t=qt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>w0(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Tm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Qc(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Qc(i)).join(",")),t.Te=n}return t.Te}function Rv(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Q4(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!GC(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rT(e.startAt,t.startAt)&&rT(e.endAt,t.endAt)}function E0(e){return Nt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(t,n=null,i=[],s=[],r=null,l="F",c=null,h=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oV(e,t,n,i,s,r,l,c){return new gu(e,t,n,i,s,r,l,c)}function km(e){return new gu(e)}function oT(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function QC(e){return e.collectionGroup!==null}function td(e){const t=qt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const r of t.explicitOrderBy)t.Ie.push(r),n.add(r.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Dn(Zn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(t).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Ed(r,i))}),n.has(Zn.keyField().canonicalString())||t.Ie.push(new Ed(Zn.keyField(),i))}return t.Ie}function Zs(e){const t=qt(e);return t.Ee||(t.Ee=lV(t,td(e))),t.Ee}function lV(e,t){if(e.limitType==="F")return aT(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new Ed(s.field,r)});const n=e.endAt?new $g(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new $g(e.startAt.position,e.startAt.inclusive):null;return aT(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function S0(e,t){const n=e.filters.concat([t]);return new gu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function T0(e,t,n){return new gu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Rm(e,t){return Rv(Zs(e),Zs(t))&&e.limitType===t.limitType}function ZC(e){return`${kv(Zs(e))}|lt:${e.limitType}`}function Cc(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>KC(s)).join(", ")}]`),Tm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Qc(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Qc(s)).join(",")),`Target(${i})`}(Zs(e))}; limitType=${e.limitType})`}function Cm(e,t){return t.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):Nt.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,s){for(const r of td(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(l,c,h){const d=sT(l,c,h);return l.inclusive?d<=0:d<0}(i.startAt,td(i),s)||i.endAt&&!function(l,c,h){const d=sT(l,c,h);return l.inclusive?d>=0:d>0}(i.endAt,td(i),s))}(e,t)}function cV(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function JC(e){return(t,n)=>{let i=!1;for(const s of td(e)){const r=uV(s,t,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function uV(e,t,n){const i=e.field.isKeyField()?Nt.comparator(t.key,n.key):function(r,l,c){const h=l.data.field(r),d=c.data.field(r);return h!==null&&d!==null?Xc(h,d):Ut(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Ut(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return void(s[r]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){bo(this.inner,(n,i)=>{for(const[s,r]of i)t(s,r)})}isEmpty(){return LC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=new Qe(Nt.comparator);function oa(){return hV}const tD=new Qe(Nt.comparator);function Bh(...e){let t=tD;for(const n of e)t=t.insert(n.key,n);return t}function eD(e){let t=tD;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function hl(){return ed()}function nD(){return ed()}function ed(){return new Dl(e=>e.toString(),(e,t)=>e.isEqual(t))}const dV=new Qe(Nt.comparator),fV=new Dn(Nt.comparator);function oe(...e){let t=fV;for(const n of e)t=t.add(n);return t}const pV=new Dn(ae);function gV(){return pV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zg(t)?"-0":t}}function iD(e){return{integerValue:""+e}}function mV(e,t){return $4(t)?iD(t):Cv(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this._=void 0}}function yV(e,t,n){return e instanceof Sd?function(s,r){const l={fields:{[UC]:{stringValue:VC},[FC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Tv(r)&&(r=Am(r)),r&&(l.fields[zC]=r),{mapValue:l}}(n,t):e instanceof Zc?rD(e,t):e instanceof Jc?aD(e,t):function(s,r){const l=sD(s,r),c=lT(l)+lT(s.Ae);return x0(l)&&x0(s.Ae)?iD(c):Cv(s.serializer,c)}(e,t)}function _V(e,t,n){return e instanceof Zc?rD(e,t):e instanceof Jc?aD(e,t):n}function sD(e,t){return e instanceof qg?function(i){return x0(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class Sd extends Dm{}class Zc extends Dm{constructor(t){super(),this.elements=t}}function rD(e,t){const n=oD(t);for(const i of e.elements)n.some(s=>rr(s,i))||n.push(i);return{arrayValue:{values:n}}}class Jc extends Dm{constructor(t){super(),this.elements=t}}function aD(e,t){let n=oD(t);for(const i of e.elements)n=n.filter(s=>!rr(s,i));return{arrayValue:{values:n}}}class qg extends Dm{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function lT(e){return ln(e.integerValue||e.doubleValue)}function oD(e){return Av(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(t,n){this.field=t,this.transform=n}}function bV(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof Zc&&s instanceof Zc||i instanceof Jc&&s instanceof Jc?Kc(i.elements,s.elements,rr):i instanceof qg&&s instanceof qg?rr(i.Ae,s.Ae):i instanceof Sd&&s instanceof Sd}(e.transform,t.transform)}class vV{constructor(t,n){this.version=t,this.transformResults=n}}class ws{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ws}static exists(t){return new ws(void 0,t)}static updateTime(t){return new ws(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _g(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Mm{}function lD(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new uD(e.key,ws.none()):new Bd(e.key,e.data,ws.none());{const n=e.data,i=ki.empty();let s=new Dn(Zn.comparator);for(let r of t.fields)if(!s.has(r)){let l=n.field(r);l===null&&r.length>1&&(r=r.popLast(),l=n.field(r)),l===null?i.delete(r):i.set(r,l),s=s.add(r)}return new vo(e.key,i,new Fi(s.toArray()),ws.none())}}function xV(e,t,n){e instanceof Bd?function(s,r,l){const c=s.value.clone(),h=uT(s.fieldTransforms,r,l.transformResults);c.setAll(h),r.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(e,t,n):e instanceof vo?function(s,r,l){if(!_g(s.precondition,r))return void r.convertToUnknownDocument(l.version);const c=uT(s.fieldTransforms,r,l.transformResults),h=r.data;h.setAll(cD(s)),h.setAll(c),r.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(e,t,n):function(s,r,l){r.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,n)}function nd(e,t,n,i){return e instanceof Bd?function(r,l,c,h){if(!_g(r.precondition,l))return c;const d=r.value.clone(),p=hT(r.fieldTransforms,h,l);return d.setAll(p),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(e,t,n,i):e instanceof vo?function(r,l,c,h){if(!_g(r.precondition,l))return c;const d=hT(r.fieldTransforms,h,l),p=l.data;return p.setAll(cD(r)),p.setAll(d),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(y=>y.field))}(e,t,n,i):function(r,l,c){return _g(r.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(e,t,n)}function wV(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),r=sD(i.transform,s||null);r!=null&&(n===null&&(n=ki.empty()),n.set(i.field,r))}return n||null}function cT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Kc(i,s,(r,l)=>bV(r,l))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Bd extends Mm{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class vo extends Mm{constructor(t,n,i,s,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function cD(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function uT(e,t,n){const i=new Map;we(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const r=e[s],l=r.transform,c=t.data.field(r.field);i.set(r.field,_V(l,c,n[s]))}return i}function hT(e,t,n){const i=new Map;for(const s of e){const r=s.transform,l=n.data.field(s.field);i.set(s.field,yV(r,l,t))}return i}class uD extends Mm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EV extends Mm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(t.key)&&xV(r,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=nd(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=nd(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=nD();return this.mutations.forEach(s=>{const r=t.get(s.key),l=r.overlayedDocument;let c=this.applyToLocalView(l,r.mutatedFields);c=n.has(s.key)?null:c;const h=lD(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Bt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),oe())}isEqual(t){return this.batchId===t.batchId&&Kc(this.mutations,t.mutations,(n,i)=>cT(n,i))&&Kc(this.baseMutations,t.baseMutations,(n,i)=>cT(n,i))}}class Mv{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){we(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let s=function(){return dV}();const r=t.mutations;for(let l=0;l<r.length;l++)s=s.insert(r[l].key,i[l].version);return new Mv(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn,he;function kV(e){switch(e){case pt.OK:return Ut(64938);case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0;default:return Ut(15467,{code:e})}}function hD(e){if(e===void 0)return aa("GRPC error has no .code"),pt.UNKNOWN;switch(e){case yn.OK:return pt.OK;case yn.CANCELLED:return pt.CANCELLED;case yn.UNKNOWN:return pt.UNKNOWN;case yn.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case yn.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case yn.INTERNAL:return pt.INTERNAL;case yn.UNAVAILABLE:return pt.UNAVAILABLE;case yn.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case yn.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case yn.NOT_FOUND:return pt.NOT_FOUND;case yn.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case yn.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case yn.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case yn.ABORTED:return pt.ABORTED;case yn.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case yn.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case yn.DATA_LOSS:return pt.DATA_LOSS;default:return Ut(39323,{code:e})}}(he=yn||(yn={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=new so([4294967295,4294967295],0);function dT(e){const t=RV().encode(e),n=new TC;return n.update(t),new Uint8Array(n.digest())}function fT(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new so([n,i],0),new so([s,r],0)]}class Iv{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new $h(`Invalid padding: ${n}`);if(i<0)throw new $h(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new $h(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new $h(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=so.fromNumber(this.ge)}ye(t,n,i){let s=t.add(n.multiply(so.fromNumber(i)));return s.compare(CV)===1&&(s=new so([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=dT(t),[i,s]=fT(n);for(let r=0;r<this.hashCount;r++){const l=this.ye(i,s,r);if(!this.we(l))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),l=new Iv(r,s,n);return i.forEach(c=>l.insert(c)),l}insert(t){if(this.ge===0)return;const n=dT(t),[i,s]=fT(n);for(let r=0;r<this.hashCount;r++){const l=this.ye(i,s,r);this.Se(l)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class $h extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(t,n,i,s,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,$d.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Im(Bt.min(),s,new Qe(ae),oa(),oe())}}class $d{constructor(t,n,i,s,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new $d(i,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(t,n,i,s){this.be=t,this.removedTargetIds=n,this.key=i,this.De=s}}class dD{constructor(t,n){this.targetId=t,this.Ce=n}}class fD{constructor(t,n,i=Jn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class pT{constructor(){this.ve=0,this.Fe=gT(),this.Me=Jn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=oe(),n=oe(),i=oe();return this.Fe.forEach((s,r)=>{switch(r){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Ut(38017,{changeType:r})}}),new $d(this.Me,this.xe,t,n,i)}qe(){this.Oe=!1,this.Fe=gT()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class DV{constructor(t){this.Ge=t,this.ze=new Map,this.je=oa(),this.Je=Cp(),this.He=Cp(),this.Ye=new Qe(ae)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:Ut(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,s)=>{this.rt(s)&&n(s)})}st(t){const n=t.targetId,i=t.Ce.count,s=this.ot(n);if(s){const r=s.target;if(E0(r))if(i===0){const l=new Nt(r.path);this.et(n,l,ci.newNoDocument(l,Bt.min()))}else we(i===1,20013,{expectedCount:i});else{const l=this._t(n);if(l!==i){const c=this.ut(t),h=c?this.ct(c,t,l):1;if(h!==0){this.it(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let l,c;try{l=uo(i).toUint8Array()}catch(h){if(h instanceof jC)return Gc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Iv(l,s,r)}catch(h){return Gc(h instanceof $h?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${r.path.canonicalString()}`;t.mightContain(c)||(this.et(n,r,null),s++)}),s}Tt(t){const n=new Map;this.ze.forEach((r,l)=>{const c=this.ot(l);if(c){if(r.current&&E0(c.target)){const h=new Nt(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,ci.newNoDocument(h,t))}r.Be&&(n.set(l,r.ke()),r.qe())}});let i=oe();this.He.forEach((r,l)=>{let c=!0;l.forEachWhile(h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(r))}),this.je.forEach((r,l)=>l.setReadTime(t));const s=new Im(t,n,this.Ye,this.je,i);return this.je=oa(),this.Je=Cp(),this.He=Cp(),this.Ye=new Qe(ae),s}Xe(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new pT,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Dn(ae),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Dn(ae),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Rt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new pT),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Cp(){return new Qe(Nt.comparator)}function gT(){return new Qe(Nt.comparator)}const MV={asc:"ASCENDING",desc:"DESCENDING"},IV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OV={and:"AND",or:"OR"};class PV{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function A0(e,t){return e.useProto3Json||Tm(t)?t:{value:t}}function Hg(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function pD(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function NV(e,t){return Hg(e,t.toTimestamp())}function Js(e){return we(!!e,49232),Bt.fromTimestamp(function(n){const i=co(n);return new Oe(i.seconds,i.nanos)}(e))}function Ov(e,t){return k0(e,t).canonicalString()}function k0(e,t){const n=function(s){return new Le(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function gD(e){const t=Le.fromString(e);return we(vD(t),10190,{key:t.toString()}),t}function R0(e,t){return Ov(e.databaseId,t.path)}function yb(e,t){const n=gD(t);if(n.get(1)!==e.databaseId.projectId)throw new kt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new kt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Nt(yD(n))}function mD(e,t){return Ov(e.databaseId,t)}function LV(e){const t=gD(e);return t.length===4?Le.emptyPath():yD(t)}function C0(e){return new Le(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yD(e){return we(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function mT(e,t,n){return{name:R0(e,t),fields:n.value.mapValue.fields}}function jV(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ut(39313,{state:d})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],r=function(d,p){return d.useProto3Json?(we(p===void 0||typeof p=="string",58123),Jn.fromBase64String(p||"")):(we(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Jn.fromUint8Array(p||new Uint8Array))}(e,t.targetChange.resumeToken),l=t.targetChange.cause,c=l&&function(d){const p=d.code===void 0?pt.UNKNOWN:hD(d.code);return new kt(p,d.message||"")}(l);n=new fD(i,s,r,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=yb(e,i.document.name),r=Js(i.document.updateTime),l=i.document.createTime?Js(i.document.createTime):Bt.min(),c=new ki({mapValue:{fields:i.document.fields}}),h=ci.newFoundDocument(s,r,l,c),d=i.targetIds||[],p=i.removedTargetIds||[];n=new bg(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=yb(e,i.document),r=i.readTime?Js(i.readTime):Bt.min(),l=ci.newNoDocument(s,r),c=i.removedTargetIds||[];n=new bg([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=yb(e,i.document),r=i.removedTargetIds||[];n=new bg([],r,s,null)}else{if(!("filter"in t))return Ut(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,l=new AV(s,r),c=i.targetId;n=new dD(c,l)}}return n}function VV(e,t){let n;if(t instanceof Bd)n={update:mT(e,t.key,t.value)};else if(t instanceof uD)n={delete:R0(e,t.key)};else if(t instanceof vo)n={update:mT(e,t.key,t.data),updateMask:YV(t.fieldMask)};else{if(!(t instanceof EV))return Ut(16599,{Vt:t.type});n={verify:R0(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,l){const c=l.transform;if(c instanceof Sd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Zc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Jc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof qg)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Ut(20930,{transform:l.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:NV(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Ut(27497)}(e,t.precondition)),n}function UV(e,t){return e&&e.length>0?(we(t!==void 0,14353),e.map(n=>function(s,r){let l=s.updateTime?Js(s.updateTime):Js(r);return l.isEqual(Bt.min())&&(l=Js(r)),new vV(l,s.transformResults||[])}(n,t))):[]}function zV(e,t){return{documents:[mD(e,t.path)]}}function FV(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=mD(e,s);const r=function(d){if(d.length!==0)return bD(Ss.create(d,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const l=function(d){if(d.length!==0)return d.map(p=>function(_){return{field:Dc(_.field),direction:qV(_.dir)}}(p))}(t.orderBy);l&&(n.structuredQuery.orderBy=l);const c=A0(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{ft:n,parent:s}}function BV(e){let t=LV(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){we(i===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:t=t.child(p.collectionId)}let r=[];n.where&&(r=function(y){const _=_D(y);return _ instanceof Ss&&YC(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(_=>function(E){return new Ed(Mc(E.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(y){let _;return _=typeof y=="object"?y.value:y,Tm(_)?null:_}(n.limit));let h=null;n.startAt&&(h=function(y){const _=!!y.before,x=y.values||[];return new $g(x,_)}(n.startAt));let d=null;return n.endAt&&(d=function(y){const _=!y.before,x=y.values||[];return new $g(x,_)}(n.endAt)),oV(t,s,l,r,c,"F",h,d)}function $V(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut(28987,{purpose:s})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function _D(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Mc(n.unaryFilter.field);return bn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Mc(n.unaryFilter.field);return bn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Mc(n.unaryFilter.field);return bn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Mc(n.unaryFilter.field);return bn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ut(61313);default:return Ut(60726)}}(e):e.fieldFilter!==void 0?function(n){return bn.create(Mc(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ut(58110);default:return Ut(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Ss.create(n.compositeFilter.filters.map(i=>_D(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ut(1026)}}(n.compositeFilter.op))}(e):Ut(30097,{filter:e})}function qV(e){return MV[e]}function HV(e){return IV[e]}function WV(e){return OV[e]}function Dc(e){return{fieldPath:e.canonicalString()}}function Mc(e){return Zn.fromServerFormat(e.fieldPath)}function bD(e){return e instanceof bn?function(n){if(n.op==="=="){if(iT(n.value))return{unaryFilter:{field:Dc(n.field),op:"IS_NAN"}};if(nT(n.value))return{unaryFilter:{field:Dc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iT(n.value))return{unaryFilter:{field:Dc(n.field),op:"IS_NOT_NAN"}};if(nT(n.value))return{unaryFilter:{field:Dc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dc(n.field),op:HV(n.op),value:n.value}}}(e):e instanceof Ss?function(n){const i=n.getFilters().map(s=>bD(s));return i.length===1?i[0]:{compositeFilter:{op:WV(n.op),filters:i}}}(e):Ut(54877,{filter:e})}function YV(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function vD(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t,n,i,s,r=Bt.min(),l=Bt.min(),c=Jn.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(t){return new Ka(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(t){this.yt=t}}function KV(e){const t=BV({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?T0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this.Cn=new QV}addToCollectionParentIndex(t,n){return this.Cn.add(n),_t.resolve()}getCollectionParents(t,n){return _t.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return _t.resolve()}deleteFieldIndex(t,n){return _t.resolve()}deleteAllFieldIndexes(t){return _t.resolve()}createTargetIndexes(t,n){return _t.resolve()}getDocumentsMatchingTarget(t,n){return _t.resolve(null)}getIndexType(t,n){return _t.resolve(0)}getFieldIndexes(t,n){return _t.resolve([])}getNextCollectionGroupToUpdate(t){return _t.resolve(null)}getMinOffset(t,n){return _t.resolve(lo.min())}getMinOffsetFromCollectionGroup(t,n){return _t.resolve(lo.min())}updateCollectionGroup(t,n,i){return _t.resolve()}updateIndexEntries(t,n){return _t.resolve()}}class QV{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new Dn(Le.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Dn(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xD=41943040;class Ai{static withCacheSize(t){return new Ai(t,Ai.DEFAULT_COLLECTION_PERCENTILE,Ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ai.DEFAULT_COLLECTION_PERCENTILE=10,Ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ai.DEFAULT=new Ai(xD,Ai.DEFAULT_COLLECTION_PERCENTILE,Ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ai.DISABLED=new Ai(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new tu(0)}static cr(){return new tu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="LruGarbageCollector",ZV=1048576;function bT([e,t],[n,i]){const s=ae(e,n);return s===0?ae(t,i):s}class JV{constructor(t){this.Ir=t,this.buffer=new Dn(bT),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();bT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class t6{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Rt(_T,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pu(n)?Rt(_T,"Ignoring IndexedDB error during garbage collection: ",n):await fu(n)}await this.Vr(3e5)})}}class e6{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return _t.resolve(Sm.ce);const i=new JV(n);return this.mr.forEachTarget(t,s=>i.Ar(s.sequenceNumber)).next(()=>this.mr.pr(t,s=>i.Ar(s))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.mr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Rt("LruGarbageCollector","Garbage collection skipped; disabled"),_t.resolve(yT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yT):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let i,s,r,l,c,h,d;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(Rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(t,s))).next(y=>(i=y,c=Date.now(),this.removeTargets(t,i,n))).next(y=>(r=y,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(y=>(d=Date.now(),Rc()<=re.DEBUG&&Rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${r} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-p}ms`),_t.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:y})))}}function n6(e,t){return new e6(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(){this.changes=new Dl(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ci.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?_t.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&nd(i.mutation,s,Fi.empty(),Oe.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,oe()).next(()=>i))}getLocalViewOfDocuments(t,n,i=oe()){const s=hl();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(r=>{let l=Bh();return r.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,n){const i=hl();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,oe()))}populateOverlays(t,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(t,s).next(r=>{r.forEach((l,c)=>{n.set(l,c)})})}computeViews(t,n,i,s){let r=oa();const l=ed(),c=function(){return ed()}();return n.forEach((h,d)=>{const p=i.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof vo)?r=r.insert(d.key,d):p!==void 0?(l.set(d.key,p.mutation.getFieldMask()),nd(p.mutation,d,p.mutation.getFieldMask(),Oe.now())):l.set(d.key,Fi.empty())}),this.recalculateAndSaveOverlays(t,r).next(h=>(h.forEach((d,p)=>l.set(d,p)),n.forEach((d,p)=>c.set(d,new s6(p,l.get(d)??null))),c))}recalculateAndSaveOverlays(t,n){const i=ed();let s=new Qe((l,c)=>l-c),r=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const d=n.get(h);if(d===null)return;let p=i.get(h)||Fi.empty();p=c.applyToLocalView(d,p),i.set(h,p);const y=(s.get(c.batchId)||oe()).add(h);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,p=h.value,y=nD();p.forEach(_=>{if(!r.has(_)){const x=lD(n.get(_),i.get(_));x!==null&&y.set(_,x),r=r.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(t,d,y))}return _t.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return function(l){return Nt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):QC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(r=>{const l=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-r.size):_t.resolve(hl());let c=bd,h=r;return l.next(d=>_t.forEach(d,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),r.get(p)?_t.resolve():this.remoteDocumentCache.getEntry(t,p).next(_=>{h=h.insert(p,_)}))).next(()=>this.populateOverlays(t,d,r)).next(()=>this.computeViews(t,h,d,oe())).next(p=>({batchId:c,changes:eD(p)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Nt(n)).next(i=>{let s=Bh();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const r=n.collectionGroup;let l=Bh();return this.indexManager.getCollectionParents(t,r).next(c=>_t.forEach(c,h=>{const d=function(y,_){return new gu(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(r));return this.getDocumentsMatchingCollectionQuery(t,d,i,s).next(p=>{p.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(l=>(r=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,r,s))).next(l=>{r.forEach((h,d)=>{const p=d.getKey();l.get(p)===null&&(l=l.insert(p,ci.newInvalidDocument(p)))});let c=Bh();return l.forEach((h,d)=>{const p=r.get(h);p!==void 0&&nd(p.mutation,d,Fi.empty(),Oe.now()),Cm(n,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return _t.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Js(s.createTime)}}(n)),_t.resolve()}getNamedQuery(t,n){return _t.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(s){return{name:s.name,query:KV(s.bundledQuery),readTime:Js(s.readTime)}}(n)),_t.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(){this.overlays=new Qe(Nt.comparator),this.qr=new Map}getOverlay(t,n){return _t.resolve(this.overlays.get(n))}getOverlays(t,n){const i=hl();return _t.forEach(n,s=>this.getOverlay(t,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,r)=>{this.St(t,n,r)}),_t.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.qr.delete(i)),_t.resolve()}getOverlaysForCollection(t,n,i){const s=hl(),r=n.length+1,l=new Nt(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===r&&h.largestBatchId>i&&s.set(h.getKey(),h)}return _t.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let r=new Qe((d,p)=>d-p);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let p=r.get(d.largestBatchId);p===null&&(p=hl(),r=r.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=hl(),h=r.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,p)=>c.set(d,p)),!(c.size()>=s)););return _t.resolve(c)}St(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new TV(n,i));let r=this.qr.get(n);r===void 0&&(r=oe(),this.qr.set(n,r)),this.qr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(){this.sessionToken=Jn.EMPTY_BYTE_STRING}getSessionToken(t){return _t.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,_t.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(){this.Qr=new Dn(Fn.$r),this.Ur=new Dn(Fn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const i=new Fn(t,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Gr(new Fn(t,n))}zr(t,n){t.forEach(i=>this.removeReference(i,n))}jr(t){const n=new Nt(new Le([])),i=new Fn(n,t),s=new Fn(n,t+1),r=[];return this.Ur.forEachInRange([i,s],l=>{this.Gr(l),r.push(l.key)}),r}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Nt(new Le([])),i=new Fn(n,t),s=new Fn(n,t+1);let r=oe();return this.Ur.forEachInRange([i,s],l=>{r=r.add(l.key)}),r}containsKey(t){const n=new Fn(t,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Fn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Nt.comparator(t.key,n.key)||ae(t.Yr,n.Yr)}static Kr(t,n){return ae(t.Yr,n.Yr)||Nt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Dn(Fn.$r)}checkEmpty(t){return _t.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const r=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new SV(r,n,i,s);this.mutationQueue.push(l);for(const c of s)this.Zr=this.Zr.add(new Fn(c.key,r)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return _t.resolve(l)}lookupMutationBatch(t,n){return _t.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.ei(i),r=s<0?0:s;return _t.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return _t.resolve(this.mutationQueue.length===0?Sv:this.tr-1)}getAllMutationBatches(t){return _t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Fn(n,0),s=new Fn(n,Number.POSITIVE_INFINITY),r=[];return this.Zr.forEachInRange([i,s],l=>{const c=this.Xr(l.Yr);r.push(c)}),_t.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Dn(ae);return n.forEach(s=>{const r=new Fn(s,0),l=new Fn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([r,l],c=>{i=i.add(c.Yr)})}),_t.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let r=i;Nt.isDocumentKey(r)||(r=r.child(""));const l=new Fn(new Nt(r),0);let c=new Dn(ae);return this.Zr.forEachWhile(h=>{const d=h.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(c=c.add(h.Yr)),!0)},l),_t.resolve(this.ti(c))}ti(t){const n=[];return t.forEach(i=>{const s=this.Xr(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){we(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return _t.forEach(n.mutations,s=>{const r=new Fn(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,n){const i=new Fn(n,0),s=this.Zr.firstAfterOrEqual(i);return _t.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,_t.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(t){this.ri=t,this.docs=function(){return new Qe(Nt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return _t.resolve(i?i.document.mutableCopy():ci.newInvalidDocument(n))}getEntries(t,n){let i=oa();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():ci.newInvalidDocument(s))}),_t.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let r=oa();const l=n.path,c=new Nt(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:p}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||U4(V4(p),i)<=0||(s.has(p.key)||Cm(n,p))&&(r=r.insert(p.key,p.mutableCopy()))}return _t.resolve(r)}getAllFromCollectionGroup(t,n,i,s){Ut(9500)}ii(t,n){return _t.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new h6(this)}getSize(t){return _t.resolve(this.size)}}class h6 extends i6{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(i)}),_t.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(t){this.persistence=t,this.si=new Dl(n=>kv(n),Rv),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Pv,this.targetCount=0,this.ai=tu.ur()}forEachTarget(t,n){return this.si.forEach((i,s)=>n(s)),_t.resolve()}getLastRemoteSnapshotVersion(t){return _t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return _t.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),_t.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),_t.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new tu(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,_t.resolve()}updateTargetData(t,n){return this.Pr(n),_t.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,_t.resolve()}removeTargets(t,n,i){let s=0;const r=[];return this.si.forEach((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.si.delete(l),r.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),_t.waitFor(r).next(()=>s)}getTargetCount(t){return _t.resolve(this.targetCount)}getTargetData(t,n){const i=this.si.get(n)||null;return _t.resolve(i)}addMatchingKeys(t,n,i){return this._i.Wr(n,i),_t.resolve()}removeMatchingKeys(t,n,i){this._i.zr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(l=>{r.push(s.markPotentiallyOrphaned(t,l))}),_t.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),_t.resolve()}getMatchingKeysForTargetId(t,n){const i=this._i.Hr(n);return _t.resolve(i)}containsKey(t,n){return _t.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(t,n){this.ui={},this.overlays={},this.ci=new Sm(0),this.li=!1,this.li=!0,this.hi=new l6,this.referenceDelegate=t(this),this.Pi=new d6(this),this.indexManager=new XV,this.remoteDocumentCache=function(s){return new u6(s)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new GV(n),this.Ii=new a6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new o6,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ui[t.toKey()];return i||(i=new c6(n,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,i){Rt("MemoryPersistence","Starting transaction:",t);const s=new f6(this.ci.next());return this.referenceDelegate.Ei(),i(s).next(r=>this.referenceDelegate.di(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ai(t,n){return _t.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,n)))}}class f6 extends F4{constructor(t){super(),this.currentSequenceNumber=t}}class Nv{constructor(t){this.persistence=t,this.Ri=new Pv,this.Vi=null}static mi(t){return new Nv(t)}get fi(){if(this.Vi)return this.Vi;throw Ut(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),_t.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),_t.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),_t.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(r=>this.fi.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _t.forEach(this.fi,i=>{const s=Nt.fromPath(i);return this.gi(t,s).next(r=>{r||n.removeEntry(s,Bt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return _t.or([()=>_t.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Wg{constructor(t,n){this.persistence=t,this.pi=new Dl(i=>q4(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=n6(this,n)}static mi(t,n){return new Wg(t,n)}Ei(){}di(t){return _t.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(s=>i+s))}wr(t){let n=0;return this.pr(t,i=>{n++}).next(()=>n)}pr(t,n){return _t.forEach(this.pi,(i,s)=>this.br(t,i,s).next(r=>r?_t.resolve():n(s)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.ii(t,l=>this.br(t,l,n).next(c=>{c||(i++,r.removeEntry(l,Bt.min()))})).next(()=>r.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),_t.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),_t.resolve()}removeReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),_t.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),_t.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=mg(t.data.value)),n}br(t,n,i){return _t.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.pi.get(n);return _t.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Es=i,this.ds=s}static As(t,n){let i=oe(),s=oe();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Lv(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return rj()?8:B4(di())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,s){const r={result:null};return this.ys(t,n).next(l=>{r.result=l}).next(()=>{if(!r.result)return this.ws(t,n,s,i).next(l=>{r.result=l})}).next(()=>{if(r.result)return;const l=new p6;return this.Ss(t,n,l).next(c=>{if(r.result=c,this.Vs)return this.bs(t,n,l,c.size)})}).next(()=>r.result)}bs(t,n,i,s){return i.documentReadCount<this.fs?(Rc()<=re.DEBUG&&Rt("QueryEngine","SDK will not create cache indexes for query:",Cc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),_t.resolve()):(Rc()<=re.DEBUG&&Rt("QueryEngine","Query:",Cc(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Rc()<=re.DEBUG&&Rt("QueryEngine","The SDK decides to create cache indexes for query:",Cc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Zs(n))):_t.resolve())}ys(t,n){if(oT(n))return _t.resolve(null);let i=Zs(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=T0(n,null,"F"),i=Zs(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const l=oe(...r);return this.ps.getDocuments(t,l).next(c=>this.indexManager.getMinOffset(t,i).next(h=>{const d=this.Ds(n,c);return this.Cs(n,d,l,h.readTime)?this.ys(t,T0(n,null,"F")):this.vs(t,d,n,h)}))})))}ws(t,n,i,s){return oT(n)||s.isEqual(Bt.min())?_t.resolve(null):this.ps.getDocuments(t,i).next(r=>{const l=this.Ds(n,r);return this.Cs(n,l,i,s)?_t.resolve(null):(Rc()<=re.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Cc(n)),this.vs(t,l,n,j4(s,bd)).next(c=>c))})}Ds(t,n){let i=new Dn(JC(t));return n.forEach((s,r)=>{Cm(t,r)&&(i=i.add(r))}),i}Cs(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Ss(t,n,i){return Rc()<=re.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",Cc(n)),this.ps.getDocumentsMatchingQuery(t,n,lo.min(),i)}vs(t,n,i,s){return this.ps.getDocumentsMatchingQuery(t,i,s).next(r=>(n.forEach(l=>{r=r.insert(l.key,l)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="LocalStore",m6=3e8;class y6{constructor(t,n,i,s){this.persistence=t,this.Fs=n,this.serializer=s,this.Ms=new Qe(ae),this.xs=new Dl(r=>kv(r),Rv),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new r6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function _6(e,t,n,i){return new y6(e,t,n,i)}async function ED(e,t){const n=qt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Bs(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const l=[],c=[];let h=oe();for(const d of s){l.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}for(const d of r){c.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(i,h).next(d=>({Ls:d,removedBatchIds:l,addedBatchIds:c}))})})}function b6(e,t){const n=qt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),r=n.Ns.newChangeBuffer({trackRemovals:!0});return function(c,h,d,p){const y=d.batch,_=y.keys();let x=_t.resolve();return _.forEach(E=>{x=x.next(()=>p.getEntry(h,E)).next(T=>{const S=d.docVersions.get(E);we(S!==null,48541),T.version.compareTo(S)<0&&(y.applyToRemoteDocument(T,d),T.isValidDocument()&&(T.setReadTime(d.commitVersion),p.addEntry(T)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=oe();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function SD(e){const t=qt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function v6(e,t){const n=qt(e),i=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];t.targetChanges.forEach((p,y)=>{const _=s.get(y);if(!_)return;c.push(n.Pi.removeMatchingKeys(r,p.removedDocuments,y).next(()=>n.Pi.addMatchingKeys(r,p.addedDocuments,y)));let x=_.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(y)!==null?x=x.withResumeToken(Jn.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,i)),s=s.insert(y,x),function(T,S,D){return T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=m6?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(_,x,p)&&c.push(n.Pi.updateTargetData(r,x))});let h=oa(),d=oe();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(r,p))}),c.push(x6(r,l,t.documentUpdates).next(p=>{h=p.ks,d=p.qs})),!i.isEqual(Bt.min())){const p=n.Pi.getLastRemoteSnapshotVersion(r).next(y=>n.Pi.setTargetsMetadata(r,r.currentSequenceNumber,i));c.push(p)}return _t.waitFor(c).next(()=>l.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,h,d)).next(()=>h)}).then(r=>(n.Ms=s,r))}function x6(e,t,n){let i=oe(),s=oe();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let l=oa();return n.forEach((c,h)=>{const d=r.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Bt.min())?(t.removeEntry(c,h.readTime),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(h),l=l.insert(c,h)):Rt(jv,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{ks:l,qs:s}})}function w6(e,t){const n=qt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Sv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function E6(e,t){const n=qt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Pi.getTargetData(i,t).next(r=>r?(s=r,_t.resolve(s)):n.Pi.allocateTargetId(i).next(l=>(s=new Ka(t,l,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(t,i.targetId)),i})}async function D0(e,t,n){const i=qt(e),s=i.Ms.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!pu(l))throw l;Rt(jv,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ms=i.Ms.remove(t),i.xs.delete(s.target)}function vT(e,t,n){const i=qt(e);let s=Bt.min(),r=oe();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,d,p){const y=qt(h),_=y.xs.get(p);return _!==void 0?_t.resolve(y.Ms.get(_)):y.Pi.getTargetData(d,p)}(i,l,Zs(t)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,c.targetId).next(h=>{r=h})}).next(()=>i.Fs.getDocumentsMatchingQuery(l,t,n?s:Bt.min(),n?r:oe())).next(c=>(S6(i,cV(t),c),{documents:c,Qs:r})))}function S6(e,t,n){let i=e.Os.get(t)||Bt.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.Os.set(t,i)}class xT{constructor(){this.activeTargetIds=gV()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class T6{constructor(){this.Mo=new xT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,i){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new xT,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="ConnectivityMonitor";class ET{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Rt(wT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Rt(wT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dp=null;function M0(){return Dp===null?Dp=function(){return 268435456+Math.round(2147483648*Math.random())}():Dp++,"0x"+Dp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="RestConnection",k6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class R6{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===Fg?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(t,n,i,s,r){const l=M0(),c=this.zo(t,n.toUriEncodedString());Rt(_b,`Sending RPC '${t}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,r);const{host:d}=new URL(c),p=uu(d);return this.Jo(t,c,h,i,p).then(y=>(Rt(_b,`Received RPC '${t}' ${l}: `,y),y),y=>{throw Gc(_b,`RPC '${t}' ${l} failed with error: `,y,"url: ",c,"request:",i),y})}Ho(t,n,i,s,r,l){return this.Go(t,n,i,s,r)}jo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+du}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>t[r]=s),i&&i.headers.forEach((s,r)=>t[r]=s)}zo(t,n){const i=k6[t];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="WebChannelConnection";class D6 extends R6{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,s,r){const l=M0();return new Promise((c,h)=>{const d=new AC;d.setWithCredentials(!0),d.listenOnce(kC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case gg.NO_ERROR:const y=d.getResponseJson();Rt(si,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),c(y);break;case gg.TIMEOUT:Rt(si,`RPC '${t}' ${l} timed out`),h(new kt(pt.DEADLINE_EXCEEDED,"Request time out"));break;case gg.HTTP_ERROR:const _=d.getStatus();if(Rt(si,`RPC '${t}' ${l} failed with status:`,_,"response text:",d.getResponseText()),_>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const E=x==null?void 0:x.error;if(E&&E.status&&E.message){const T=function(D){const I=D.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(I)>=0?I:pt.UNKNOWN}(E.status);h(new kt(T,E.message))}else h(new kt(pt.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new kt(pt.UNAVAILABLE,"Connection failed."));break;default:Ut(9055,{l_:t,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Rt(si,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(s);Rt(si,`RPC '${t}' ${l} sending request:`,s),d.send(n,"POST",p,i,15)})}T_(t,n,i){const s=M0(),r=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=DC(),c=CC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=r.join("");Rt(si,`Creating RPC '${t}' stream ${s}: ${p}`,h);const y=l.createWebChannel(p,h);this.I_(y);let _=!1,x=!1;const E=new C6({Yo:S=>{x?Rt(si,`Not sending because RPC '${t}' stream ${s} is closed:`,S):(_||(Rt(si,`Opening RPC '${t}' stream ${s} transport.`),y.open(),_=!0),Rt(si,`RPC '${t}' stream ${s} sending:`,S),y.send(S))},Zo:()=>y.close()}),T=(S,D,I)=>{S.listen(D,N=>{try{I(N)}catch(H){setTimeout(()=>{throw H},0)}})};return T(y,Fh.EventType.OPEN,()=>{x||(Rt(si,`RPC '${t}' stream ${s} transport opened.`),E.o_())}),T(y,Fh.EventType.CLOSE,()=>{x||(x=!0,Rt(si,`RPC '${t}' stream ${s} transport closed`),E.a_(),this.E_(y))}),T(y,Fh.EventType.ERROR,S=>{x||(x=!0,Gc(si,`RPC '${t}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),E.a_(new kt(pt.UNAVAILABLE,"The operation could not be completed")))}),T(y,Fh.EventType.MESSAGE,S=>{var D;if(!x){const I=S.data[0];we(!!I,16349);const N=I,H=(N==null?void 0:N.error)||((D=N[0])==null?void 0:D.error);if(H){Rt(si,`RPC '${t}' stream ${s} received error:`,H);const M=H.status;let Y=function(P){const V=yn[P];if(V!==void 0)return hD(V)}(M),R=H.message;Y===void 0&&(Y=pt.INTERNAL,R="Unknown error status: "+M+" with message "+H.message),x=!0,E.a_(new kt(Y,R)),y.close()}else Rt(si,`RPC '${t}' stream ${s} received:`,I),E.u_(I)}}),T(c,RC.STAT_EVENT,S=>{S.stat===_0.PROXY?Rt(si,`RPC '${t}' stream ${s} detected buffering proxy`):S.stat===_0.NOPROXY&&Rt(si,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function bb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(e){return new PV(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(t,n,i=1e3,s=1.5,r=6e4){this.Mi=t,this.timerId=n,this.d_=i,this.A_=s,this.R_=r,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&Rt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="PersistentStream";class AD{constructor(t,n,i,s,r,l,c,h){this.Mi=t,this.S_=i,this.b_=s,this.connection=r,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TD(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===pt.RESOURCE_EXHAUSTED?(aa(n.toString()),aa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===pt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===n&&this.G_(i,s)},i=>{t(()=>{const s=new kt(pt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(t,n){const i=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Rt(ST,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(Rt(ST,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class M6 extends AD{constructor(t,n,i,s,r,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=r}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=jV(this.serializer,t),i=function(r){if(!("targetChange"in r))return Bt.min();const l=r.targetChange;return l.targetIds&&l.targetIds.length?Bt.min():l.readTime?Js(l.readTime):Bt.min()}(t);return this.listener.H_(n,i)}Y_(t){const n={};n.database=C0(this.serializer),n.addTarget=function(r,l){let c;const h=l.target;if(c=E0(h)?{documents:zV(r,h)}:{query:FV(r,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=pD(r,l.resumeToken);const d=A0(r,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(Bt.min())>0){c.readTime=Hg(r,l.snapshotVersion.toTimestamp());const d=A0(r,l.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,t);const i=$V(this.serializer,t);i&&(n.labels=i),this.q_(n)}Z_(t){const n={};n.database=C0(this.serializer),n.removeTarget=t,this.q_(n)}}class I6 extends AD{constructor(t,n,i,s,r,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=r}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return we(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,we(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){we(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=UV(t.writeResults,t.commitTime),i=Js(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=C0(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>VV(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{}class P6 extends O6{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new kt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,l])=>this.connection.Go(t,k0(n,i),s,r,l)).catch(r=>{throw r.name==="FirebaseError"?(r.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new kt(pt.UNKNOWN,r.toString())})}Ho(t,n,i,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Ho(t,k0(n,i),s,l,c,r)).catch(l=>{throw l.name==="FirebaseError"?(l.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new kt(pt.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class N6{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(aa(n),this.aa=!1):Rt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="RemoteStore";class L6{constructor(t,n,i,s,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=r,this.Aa.Oo(l=>{i.enqueueAndForget(async()=>{Ml(this)&&(Rt(El,"Restarting streams for network reachability change."),await async function(h){const d=qt(h);d.Ea.add(4),await qd(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Pm(d)}(this))})}),this.Ra=new N6(i,s)}}async function Pm(e){if(Ml(e))for(const t of e.da)await t(!0)}async function qd(e){for(const t of e.da)await t(!1)}function kD(e,t){const n=qt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Fv(n)?zv(n):mu(n).O_()&&Uv(n,t))}function Vv(e,t){const n=qt(e),i=mu(n);n.Ia.delete(t),i.O_()&&RD(n,t),n.Ia.size===0&&(i.O_()?i.L_():Ml(n)&&n.Ra.set("Unknown"))}function Uv(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Bt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}mu(e).Y_(t)}function RD(e,t){e.Va.Ue(t),mu(e).Z_(t)}function zv(e){e.Va=new DV({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),mu(e).start(),e.Ra.ua()}function Fv(e){return Ml(e)&&!mu(e).x_()&&e.Ia.size>0}function Ml(e){return qt(e).Ea.size===0}function CD(e){e.Va=void 0}async function j6(e){e.Ra.set("Online")}async function V6(e){e.Ia.forEach((t,n)=>{Uv(e,t)})}async function U6(e,t){CD(e),Fv(e)?(e.Ra.ha(t),zv(e)):e.Ra.set("Unknown")}async function z6(e,t,n){if(e.Ra.set("Online"),t instanceof fD&&t.state===2&&t.cause)try{await async function(s,r){const l=r.cause;for(const c of r.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.Va.removeTarget(c))}(e,t)}catch(i){Rt(El,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Yg(e,i)}else if(t instanceof bg?e.Va.Ze(t):t instanceof dD?e.Va.st(t):e.Va.tt(t),!n.isEqual(Bt.min()))try{const i=await SD(e.localStore);n.compareTo(i)>=0&&await function(r,l){const c=r.Va.Tt(l);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const p=r.Ia.get(d);p&&r.Ia.set(d,p.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,d)=>{const p=r.Ia.get(h);if(!p)return;r.Ia.set(h,p.withResumeToken(Jn.EMPTY_BYTE_STRING,p.snapshotVersion)),RD(r,h);const y=new Ka(p.target,h,d,p.sequenceNumber);Uv(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(e,n)}catch(i){Rt(El,"Failed to raise snapshot:",i),await Yg(e,i)}}async function Yg(e,t,n){if(!pu(t))throw t;e.Ea.add(1),await qd(e),e.Ra.set("Offline"),n||(n=()=>SD(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Rt(El,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Pm(e)})}function DD(e,t){return t().catch(n=>Yg(e,n,t))}async function Nm(e){const t=qt(e),n=fo(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Sv;for(;F6(t);)try{const s=await w6(t.localStore,i);if(s===null){t.Ta.length===0&&n.L_();break}i=s.batchId,B6(t,s)}catch(s){await Yg(t,s)}MD(t)&&ID(t)}function F6(e){return Ml(e)&&e.Ta.length<10}function B6(e,t){e.Ta.push(t);const n=fo(e);n.O_()&&n.X_&&n.ea(t.mutations)}function MD(e){return Ml(e)&&!fo(e).x_()&&e.Ta.length>0}function ID(e){fo(e).start()}async function $6(e){fo(e).ra()}async function q6(e){const t=fo(e);for(const n of e.Ta)t.ea(n.mutations)}async function H6(e,t,n){const i=e.Ta.shift(),s=Mv.from(i,t,n);await DD(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Nm(e)}async function W6(e,t){t&&fo(e).X_&&await async function(i,s){if(function(l){return kV(l)&&l!==pt.ABORTED}(s.code)){const r=i.Ta.shift();fo(i).B_(),await DD(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Nm(i)}}(e,t),MD(e)&&ID(e)}async function TT(e,t){const n=qt(e);n.asyncQueue.verifyOperationInProgress(),Rt(El,"RemoteStore received new credentials");const i=Ml(n);n.Ea.add(3),await qd(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Pm(n)}async function Y6(e,t){const n=qt(e);t?(n.Ea.delete(2),await Pm(n)):t||(n.Ea.add(2),await qd(n),n.Ra.set("Unknown"))}function mu(e){return e.ma||(e.ma=function(n,i,s){const r=qt(n);return r.sa(),new M6(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{Xo:j6.bind(null,e),t_:V6.bind(null,e),r_:U6.bind(null,e),H_:z6.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Fv(e)?zv(e):e.Ra.set("Unknown")):(await e.ma.stop(),CD(e))})),e.ma}function fo(e){return e.fa||(e.fa=function(n,i,s){const r=qt(n);return r.sa(),new I6(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:$6.bind(null,e),r_:W6.bind(null,e),ta:q6.bind(null,e),na:H6.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Nm(e)):(await e.fa.stop(),e.Ta.length>0&&(Rt(El,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,r){const l=Date.now()+i,c=new Bv(t,n,l,s,r);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new kt(pt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $v(e,t){if(aa("AsyncQueue",`${t}: ${e}`),pu(e))return new kt(pt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{static emptySet(t){return new Nc(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Nt.comparator(n.key,i.key):(n,i)=>Nt.comparator(n.key,i.key),this.keyedMap=Bh(),this.sortedSet=new Qe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Nc)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Nc;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.ga=new Qe(Nt.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Ut(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class eu{constructor(t,n,i,s,r,l,c,h,d){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(t,n,i,s,r){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new eu(t,n,Nc.emptySet(n),l,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class K6{constructor(){this.queries=kT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=qt(n),r=s.queries;s.queries=kT(),r.forEach((l,c)=>{for(const h of c.Sa)h.onError(i)})})(this,new kt(pt.ABORTED,"Firestore shutting down"))}}function kT(){return new Dl(e=>ZC(e),Rm)}async function qv(e,t){const n=qt(e);let i=3;const s=t.query;let r=n.queries.get(s);r?!r.ba()&&t.Da()&&(i=2):(r=new G6,i=t.Da()?0:1);try{switch(i){case 0:r.wa=await n.onListen(s,!0);break;case 1:r.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=$v(l,`Initialization of query '${Cc(t.query)}' failed`);return void t.onError(c)}n.queries.set(s,r),r.Sa.push(t),t.va(n.onlineState),r.wa&&t.Fa(r.wa)&&Wv(n)}async function Hv(e,t){const n=qt(e),i=t.query;let s=3;const r=n.queries.get(i);if(r){const l=r.Sa.indexOf(t);l>=0&&(r.Sa.splice(l,1),r.Sa.length===0?s=t.Da()?0:1:!r.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function X6(e,t){const n=qt(e);let i=!1;for(const s of t){const r=s.query,l=n.queries.get(r);if(l){for(const c of l.Sa)c.Fa(s)&&(i=!0);l.wa=s}}i&&Wv(n)}function Q6(e,t,n){const i=qt(e),s=i.queries.get(t);if(s)for(const r of s.Sa)r.onError(n);i.queries.delete(t)}function Wv(e){e.Ca.forEach(t=>{t.next()})}var I0,RT;(RT=I0||(I0={})).Ma="default",RT.Cache="cache";class Yv{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new eu(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=eu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==I0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(t){this.key=t}}class PD{constructor(t){this.key=t}}class Z6{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=oe(),this.mutatedKeys=oe(),this.eu=JC(t),this.tu=new Nc(this.eu)}get nu(){return this.Ya}ru(t,n){const i=n?n.iu:new AT,s=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((p,y)=>{const _=s.get(p),x=Cm(this.query,y)?y:null,E=!!_&&this.mutatedKeys.has(_.key),T=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let S=!1;_&&x?_.data.isEqual(x.data)?E!==T&&(i.track({type:3,doc:x}),S=!0):this.su(_,x)||(i.track({type:2,doc:x}),S=!0,(h&&this.eu(x,h)>0||d&&this.eu(x,d)<0)&&(c=!0)):!_&&x?(i.track({type:0,doc:x}),S=!0):_&&!x&&(i.track({type:1,doc:_}),S=!0,(h||d)&&(c=!0)),S&&(x?(l=l.add(x),r=T?r.add(p):r.delete(p)):(l=l.delete(p),r=r.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),r=r.delete(p.key),i.track({type:1,doc:p})}return{tu:l,iu:i,Cs:c,mutatedKeys:r}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const r=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort((p,y)=>function(x,E){const T=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut(20277,{Rt:S})}};return T(x)-T(E)}(p.type,y.type)||this.eu(p.doc,y.doc)),this.ou(i),s=s??!1;const c=n&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,d=h!==this.Za;return this.Za=h,l.length!==0||d?{snapshot:new eu(this.query,t.tu,r,l,t.mutatedKeys,h===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=oe(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return t.forEach(i=>{this.Xa.has(i)||n.push(new PD(i))}),this.Xa.forEach(i=>{t.has(i)||n.push(new OD(i))}),n}cu(t){this.Ya=t.Qs,this.Xa=oe();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return eu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Gv="SyncEngine";class J6{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class t5{constructor(t){this.key=t,this.hu=!1}}class e5{constructor(t,n,i,s,r,l){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Dl(c=>ZC(c),Rm),this.Iu=new Map,this.Eu=new Set,this.du=new Qe(Nt.comparator),this.Au=new Map,this.Ru=new Pv,this.Vu={},this.mu=new Map,this.fu=tu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function n5(e,t,n=!0){const i=zD(e);let s;const r=i.Tu.get(t);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.lu()):s=await ND(i,t,n,!0),s}async function i5(e,t){const n=zD(e);await ND(n,t,!0,!1)}async function ND(e,t,n,i){const s=await E6(e.localStore,Zs(t)),r=s.targetId,l=e.sharedClientState.addLocalQueryTarget(r,n);let c;return i&&(c=await s5(e,t,r,l==="current",s.resumeToken)),e.isPrimaryClient&&n&&kD(e.remoteStore,s),c}async function s5(e,t,n,i,s){e.pu=(y,_,x)=>async function(T,S,D,I){let N=S.view.ru(D);N.Cs&&(N=await vT(T.localStore,S.query,!1).then(({documents:R})=>S.view.ru(R,N)));const H=I&&I.targetChanges.get(S.targetId),M=I&&I.targetMismatches.get(S.targetId)!=null,Y=S.view.applyChanges(N,T.isPrimaryClient,H,M);return DT(T,S.targetId,Y.au),Y.snapshot}(e,y,_,x);const r=await vT(e.localStore,t,!0),l=new Z6(t,r.Qs),c=l.ru(r.documents),h=$d.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),d=l.applyChanges(c,e.isPrimaryClient,h);DT(e,n,d.au);const p=new J6(t,n,l);return e.Tu.set(t,p),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),d.snapshot}async function r5(e,t,n){const i=qt(e),s=i.Tu.get(t),r=i.Iu.get(s.targetId);if(r.length>1)return i.Iu.set(s.targetId,r.filter(l=>!Rm(l,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await D0(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Vv(i.remoteStore,s.targetId),O0(i,s.targetId)}).catch(fu)):(O0(i,s.targetId),await D0(i.localStore,s.targetId,!0))}async function a5(e,t){const n=qt(e),i=n.Tu.get(t),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Vv(n.remoteStore,i.targetId))}async function o5(e,t,n){const i=p5(e);try{const s=await function(l,c){const h=qt(l),d=Oe.now(),p=c.reduce((x,E)=>x.add(E.key),oe());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",x=>{let E=oa(),T=oe();return h.Ns.getEntries(x,p).next(S=>{E=S,E.forEach((D,I)=>{I.isValidDocument()||(T=T.add(D))})}).next(()=>h.localDocuments.getOverlayedDocuments(x,E)).next(S=>{y=S;const D=[];for(const I of c){const N=wV(I,y.get(I.key).overlayedDocument);N!=null&&D.push(new vo(I.key,N,qC(N.value.mapValue),ws.exists(!0)))}return h.mutationQueue.addMutationBatch(x,d,D,c)}).next(S=>{_=S;const D=S.applyToLocalDocumentSet(y,T);return h.documentOverlayCache.saveOverlays(x,S.batchId,D)})}).then(()=>({batchId:_.batchId,changes:eD(y)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let d=l.Vu[l.currentUser.toKey()];d||(d=new Qe(ae)),d=d.insert(c,h),l.Vu[l.currentUser.toKey()]=d}(i,s.batchId,n),await Hd(i,s.changes),await Nm(i.remoteStore)}catch(s){const r=$v(s,"Failed to persist write");n.reject(r)}}async function LD(e,t){const n=qt(e);try{const i=await v6(n.localStore,t);t.targetChanges.forEach((s,r)=>{const l=n.Au.get(r);l&&(we(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?we(l.hu,14607):s.removedDocuments.size>0&&(we(l.hu,42227),l.hu=!1))}),await Hd(n,i,t)}catch(i){await fu(i)}}function CT(e,t,n){const i=qt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach((r,l)=>{const c=l.view.va(t);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=qt(l);h.onlineState=c;let d=!1;h.queries.forEach((p,y)=>{for(const _ of y.Sa)_.va(c)&&(d=!0)}),d&&Wv(h)}(i.eventManager,t),s.length&&i.Pu.H_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function l5(e,t,n){const i=qt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Au.get(t),r=s&&s.key;if(r){let l=new Qe(Nt.comparator);l=l.insert(r,ci.newNoDocument(r,Bt.min()));const c=oe().add(r),h=new Im(Bt.min(),new Map,new Qe(ae),l,c);await LD(i,h),i.du=i.du.remove(r),i.Au.delete(t),Kv(i)}else await D0(i.localStore,t,!1).then(()=>O0(i,t,n)).catch(fu)}async function c5(e,t){const n=qt(e),i=t.batch.batchId;try{const s=await b6(n.localStore,t);VD(n,i,null),jD(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Hd(n,s)}catch(s){await fu(s)}}async function u5(e,t,n){const i=qt(e);try{const s=await function(l,c){const h=qt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return h.mutationQueue.lookupMutationBatch(d,c).next(y=>(we(y!==null,37113),p=y.keys(),h.mutationQueue.removeMutationBatch(d,y))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>h.localDocuments.getDocuments(d,p))})}(i.localStore,t);VD(i,t,n),jD(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Hd(i,s)}catch(s){await fu(s)}}function jD(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function VD(e,t,n){const i=qt(e);let s=i.Vu[i.currentUser.toKey()];if(s){const r=s.get(t);r&&(n?r.reject(n):r.resolve(),s=s.remove(t)),i.Vu[i.currentUser.toKey()]=s}}function O0(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(i=>{e.Ru.containsKey(i)||UD(e,i)})}function UD(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Vv(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Kv(e))}function DT(e,t,n){for(const i of n)i instanceof OD?(e.Ru.addReference(i.key,t),h5(e,i)):i instanceof PD?(Rt(Gv,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||UD(e,i.key)):Ut(19791,{wu:i})}function h5(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(Rt(Gv,"New document in limbo: "+n),e.Eu.add(i),Kv(e))}function Kv(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Nt(Le.fromString(t)),i=e.fu.next();e.Au.set(i,new t5(n)),e.du=e.du.insert(n,i),kD(e.remoteStore,new Ka(Zs(km(n.path)),i,"TargetPurposeLimboResolution",Sm.ce))}}async function Hd(e,t,n){const i=qt(e),s=[],r=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach((c,h)=>{l.push(i.pu(h,t,n).then(d=>{var p;if((d||n)&&i.isPrimaryClient){const y=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:p.current;i.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(d){s.push(d);const y=Lv.As(h.targetId,d);r.push(y)}}))}),await Promise.all(l),i.Pu.H_(s),await async function(h,d){const p=qt(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>_t.forEach(d,_=>_t.forEach(_.Es,x=>p.persistence.referenceDelegate.addReference(y,_.targetId,x)).next(()=>_t.forEach(_.ds,x=>p.persistence.referenceDelegate.removeReference(y,_.targetId,x)))))}catch(y){if(!pu(y))throw y;Rt(jv,"Failed to update sequence numbers: "+y)}for(const y of d){const _=y.targetId;if(!y.fromCache){const x=p.Ms.get(_),E=x.snapshotVersion,T=x.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(_,T)}}}(i.localStore,r))}async function d5(e,t){const n=qt(e);if(!n.currentUser.isEqual(t)){Rt(Gv,"User change. New user:",t.toKey());const i=await ED(n.localStore,t);n.currentUser=t,function(r,l){r.mu.forEach(c=>{c.forEach(h=>{h.reject(new kt(pt.CANCELLED,l))})}),r.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Hd(n,i.Ls)}}function f5(e,t){const n=qt(e),i=n.Au.get(t);if(i&&i.hu)return oe().add(i.key);{let s=oe();const r=n.Iu.get(t);if(!r)return s;for(const l of r){const c=n.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}function zD(e){const t=qt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=LD.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=f5.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=l5.bind(null,t),t.Pu.H_=X6.bind(null,t.eventManager),t.Pu.yu=Q6.bind(null,t.eventManager),t}function p5(e){const t=qt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=c5.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=u5.bind(null,t),t}class Gg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Om(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return _6(this.persistence,new g6,t.initialUser,this.serializer)}Cu(t){return new wD(Nv.mi,this.serializer)}Du(t){return new T6}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gg.provider={build:()=>new Gg};class g5 extends Gg{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){we(this.persistence.referenceDelegate instanceof Wg,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new t6(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ai.withCacheSize(this.cacheSizeBytes):Ai.DEFAULT;return new wD(i=>Wg.mi(i,n),this.serializer)}}class P0{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>CT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=d5.bind(null,this.syncEngine),await Y6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new K6}()}createDatastore(t){const n=Om(t.databaseInfo.databaseId),i=function(r){return new D6(r)}(t.databaseInfo);return function(r,l,c,h){return new P6(r,l,c,h)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,r,l,c){return new L6(i,s,r,l,c)}(this.localStore,this.datastore,t.asyncQueue,n=>CT(this.syncEngine,n,0),function(){return ET.v()?new ET:new A6}())}createSyncEngine(t,n){return function(s,r,l,c,h,d,p){const y=new e5(s,r,l,c,h,d);return p&&(y.gu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const r=qt(s);Rt(El,"RemoteStore shutting down."),r.Ea.add(5),await qd(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}P0.provider={build:()=>new P0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):aa("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="FirestoreClient";class m5{constructor(t,n,i,s,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=oi.UNAUTHENTICATED,this.clientId=Ev.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async l=>{Rt(po,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(Rt(po,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=$v(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function vb(e,t){e.asyncQueue.verifyOperationInProgress(),Rt(po,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await ED(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function MT(e,t){e.asyncQueue.verifyOperationInProgress();const n=await y5(e);Rt(po,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>TT(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>TT(t.remoteStore,s)),e._onlineComponents=t}async function y5(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Rt(po,"Using user provided OfflineComponentProvider");try{await vb(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===pt.FAILED_PRECONDITION||s.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Gc("Error using user provided cache. Falling back to memory cache: "+n),await vb(e,new Gg)}}else Rt(po,"Using default OfflineComponentProvider"),await vb(e,new g5(void 0));return e._offlineComponents}async function FD(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Rt(po,"Using user provided OnlineComponentProvider"),await MT(e,e._uninitializedComponentsProvider._online)):(Rt(po,"Using default OnlineComponentProvider"),await MT(e,new P0))),e._onlineComponents}function _5(e){return FD(e).then(t=>t.syncEngine)}async function Kg(e){const t=await FD(e),n=t.eventManager;return n.onListen=n5.bind(null,t.syncEngine),n.onUnlisten=r5.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=i5.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=a5.bind(null,t.syncEngine),n}function b5(e,t,n={}){const i=new ea;return e.asyncQueue.enqueueAndForget(async()=>function(r,l,c,h,d){const p=new Xv({next:_=>{p.Nu(),l.enqueueAndForget(()=>Hv(r,y));const x=_.docs.has(c);!x&&_.fromCache?d.reject(new kt(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&_.fromCache&&h&&h.source==="server"?d.reject(new kt(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),y=new Yv(km(c.path),p,{includeMetadataChanges:!0,qa:!0});return qv(r,y)}(await Kg(e),e.asyncQueue,t,n,i)),i.promise}function v5(e,t,n={}){const i=new ea;return e.asyncQueue.enqueueAndForget(async()=>function(r,l,c,h,d){const p=new Xv({next:_=>{p.Nu(),l.enqueueAndForget(()=>Hv(r,y)),_.fromCache&&h.source==="server"?d.reject(new kt(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),y=new Yv(c,p,{includeMetadataChanges:!0,qa:!0});return qv(r,y)}(await Kg(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="firestore.googleapis.com",OT=!0;class PT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new kt(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$D,this.ssl=OT}else this.host=t.host,this.ssl=t.ssl??OT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=xD;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ZV)throw new kt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}L4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BD(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new kt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new kt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new kt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Lm{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new kt(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new kt(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new A4;switch(i.type){case"firstParty":return new D4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new kt(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=IT.get(n);i&&(Rt("ComponentProvider","Removing Datastore"),IT.delete(n),i.terminate())}(this),Promise.resolve()}}function x5(e,t,n,i={}){var d;e=$i(e,Lm);const s=uu(t),r=e._getSettings(),l={...r,emulatorOptions:e._getEmulatorOptions()},c=`${t}:${n}`;s&&(_C(`https://${c}`),bC("Firestore",!0)),r.host!==$D&&r.host!==c&&Gc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...r,host:c,ssl:s,emulatorOptions:i};if(!sa(h,l)&&(e._setSettings(h),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=oi.MOCK_USER;else{p=XL(i.mockUserToken,(d=e._app)==null?void 0:d.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new kt(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new oi(_)}e._authCredentials=new k4(new IC(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new xo(this.firestore,t,this._query)}}class nn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new nn(this.firestore,t,this._key)}toJSON(){return{type:nn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(Fd(n,nn._jsonSchema))return new nn(t,i||null,new Nt(Le.fromString(n.referencePath)))}}nn._jsonSchemaVersion="firestore/documentReference/1.0",nn._jsonSchema={type:vn("string",nn._jsonSchemaVersion),referencePath:vn("string")};class ro extends xo{constructor(t,n,i){super(t,n,km(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new nn(this.firestore,null,new Nt(t))}withConverter(t){return new ro(this.firestore,t,this._path)}}function We(e,t,...n){if(e=Ge(e),OC("collection","path",t),e instanceof Lm){const i=Le.fromString(t,...n);return YS(i),new ro(e,null,i)}{if(!(e instanceof nn||e instanceof ro))throw new kt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Le.fromString(t,...n));return YS(i),new ro(e.firestore,null,i)}}function Cn(e,t,...n){if(e=Ge(e),arguments.length===1&&(t=Ev.newId()),OC("doc","path",t),e instanceof Lm){const i=Le.fromString(t,...n);return WS(i),new nn(e,null,new Nt(i))}{if(!(e instanceof nn||e instanceof ro))throw new kt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Le.fromString(t,...n));return WS(i),new nn(e.firestore,e instanceof ro?e.converter:null,new Nt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="AsyncQueue";class LT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TD(this,"async_queue_retry"),this._c=()=>{const i=bb();i&&Rt(NT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=bb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=bb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ea;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!pu(t))throw t;Rt(NT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,aa("INTERNAL UNHANDLED ERROR: ",jT(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=Bv.createAndSchedule(this,t,n,i,r=>this.hc(r));return this.tc.push(s),s}uc(){this.nc&&Ut(47125,{Pc:jT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function jT(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(e,["next","error","complete"])}class go extends Lm{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new LT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new LT(t),this._firestoreClient=void 0,await t}}}function w5(e,t){const n=typeof e=="object"?e:xv(),i=typeof e=="string"?e:Fg,s=vv(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=GL("firestore");r&&x5(s,...r)}return s}function jm(e){if(e._terminated)throw new kt(pt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||E5(e),e._firestoreClient}function E5(e){var i,s,r;const t=e._freezeSettings(),n=function(c,h,d,p){return new Y4(c,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,BD(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(e._databaseId,((i=e._app)==null?void 0:i.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(s=t.localCache)!=null&&s._offlineComponentProvider&&((r=t.localCache)!=null&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new m5(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t){this._byteString=t}static fromBase64String(t){try{return new os(Jn.fromBase64String(t))}catch(n){throw new kt(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new os(Jn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:os._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fd(t,os._jsonSchema))return os.fromBase64String(t.bytes)}}os._jsonSchemaVersion="firestore/bytes/1.0",os._jsonSchema={type:vn("string",os._jsonSchemaVersion),bytes:vn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new kt(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new kt(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new kt(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ae(this._lat,t._lat)||ae(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:tr._jsonSchemaVersion}}static fromJSON(t){if(Fd(t,tr._jsonSchema))return new tr(t.latitude,t.longitude)}}tr._jsonSchemaVersion="firestore/geoPoint/1.0",tr._jsonSchema={type:vn("string",tr._jsonSchemaVersion),latitude:vn("number"),longitude:vn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,t._values)}toJSON(){return{type:er._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fd(t,er._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new er(t.vectorValues);throw new kt(pt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}er._jsonSchemaVersion="firestore/vectorValue/1.0",er._jsonSchema={type:vn("string",er._jsonSchemaVersion),vectorValues:vn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=/^__.*__$/;class T5{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new vo(t,this.data,this.fieldMask,n,this.fieldTransforms):new Bd(t,this.data,n,this.fieldTransforms)}}class qD{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new vo(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function HD(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut(40011,{Ac:e})}}class Um{constructor(t,n,i,s,r,l){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Rc(),this.fieldTransforms=r||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Um({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var s;const n=(s=this.path)==null?void 0:s.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){var s;const n=(s=this.path)==null?void 0:s.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Xg(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(HD(this.Ac)&&S5.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class A5{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Om(t)}Cc(t,n,i,s=!1){return new Um({Ac:t,methodName:n,Dc:i,path:Zn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zm(e){const t=e._freezeSettings(),n=Om(e._databaseId);return new A5(e._databaseId,!!t.ignoreUndefinedProperties,n)}function WD(e,t,n,i,s,r={}){const l=e.Cc(r.merge||r.mergeFields?2:0,t,n,s);tx("Data must be an object, but it was:",l,i);const c=GD(i,l);let h,d;if(r.merge)h=new Fi(l.fieldMask),d=l.fieldTransforms;else if(r.mergeFields){const p=[];for(const y of r.mergeFields){const _=N0(t,y,n);if(!l.contains(_))throw new kt(pt.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);XD(p,_)||p.push(_)}h=new Fi(p),d=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,d=l.fieldTransforms;return new T5(new ki(c),h,d)}class Fm extends yu{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Fm}}function YD(e,t,n){return new Um({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Qv extends yu{_toFieldTransform(t){return new Dv(t.path,new Sd)}isEqual(t){return t instanceof Qv}}class Zv extends yu{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=YD(this,t,!0),i=this.vc.map(r=>Il(r,n)),s=new Zc(i);return new Dv(t.path,s)}isEqual(t){return t instanceof Zv&&sa(this.vc,t.vc)}}class Jv extends yu{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=YD(this,t,!0),i=this.vc.map(r=>Il(r,n)),s=new Jc(i);return new Dv(t.path,s)}isEqual(t){return t instanceof Jv&&sa(this.vc,t.vc)}}function k5(e,t,n,i){const s=e.Cc(1,t,n);tx("Data must be an object, but it was:",s,i);const r=[],l=ki.empty();bo(i,(h,d)=>{const p=ex(t,h,n);d=Ge(d);const y=s.yc(p);if(d instanceof Fm)r.push(p);else{const _=Il(d,y);_!=null&&(r.push(p),l.set(p,_))}});const c=new Fi(r);return new qD(l,c,s.fieldTransforms)}function R5(e,t,n,i,s,r){const l=e.Cc(1,t,n),c=[N0(t,i,n)],h=[s];if(r.length%2!=0)throw new kt(pt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<r.length;_+=2)c.push(N0(t,r[_])),h.push(r[_+1]);const d=[],p=ki.empty();for(let _=c.length-1;_>=0;--_)if(!XD(d,c[_])){const x=c[_];let E=h[_];E=Ge(E);const T=l.yc(x);if(E instanceof Fm)d.push(x);else{const S=Il(E,T);S!=null&&(d.push(x),p.set(x,S))}}const y=new Fi(d);return new qD(p,y,l.fieldTransforms)}function C5(e,t,n,i=!1){return Il(n,e.Cc(i?4:3,t))}function Il(e,t){if(KD(e=Ge(e)))return tx("Unsupported field value:",t,e),GD(e,t);if(e instanceof yu)return function(i,s){if(!HD(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,s){const r=[];let l=0;for(const c of i){let h=Il(c,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),r.push(h),l++}return{arrayValue:{values:r}}}(e,t)}return function(i,s){if((i=Ge(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return mV(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Oe.fromDate(i);return{timestampValue:Hg(s.serializer,r)}}if(i instanceof Oe){const r=new Oe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Hg(s.serializer,r)}}if(i instanceof tr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof os)return{bytesValue:pD(s.serializer,i._byteString)};if(i instanceof nn){const r=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(r))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Ov(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof er)return function(l,c){return{mapValue:{fields:{[BC]:{stringValue:$C},[Bg]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return Cv(c.serializer,d)})}}}}}}(i,s);throw s.Sc(`Unsupported field value: ${Em(i)}`)}(e,t)}function GD(e,t){const n={};return LC(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bo(e,(i,s)=>{const r=Il(s,t.mc(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function KD(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Oe||e instanceof tr||e instanceof os||e instanceof nn||e instanceof yu||e instanceof er)}function tx(e,t,n){if(!KD(n)||!PC(n)){const i=Em(n);throw i==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function N0(e,t,n){if((t=Ge(t))instanceof Vm)return t._internalPath;if(typeof t=="string")return ex(e,t);throw Xg("Field path arguments must be of type string or ",e,!1,void 0,n)}const D5=new RegExp("[~\\*/\\[\\]]");function ex(e,t,n){if(t.search(D5)>=0)throw Xg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Vm(...t.split("."))._internalPath}catch{throw Xg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Xg(e,t,n,i,s){const r=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${t}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(r||l)&&(h+=" (found",r&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new kt(pt.INVALID_ARGUMENT,c+e+h)}function XD(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new M5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Bm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class M5 extends QD{data(){return super.data()}}function Bm(e,t){return typeof t=="string"?ex(e,t):t instanceof Vm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new kt(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nx{}class JD extends nx{}function wn(e,t,...n){let i=[];t instanceof nx&&i.push(t),i=i.concat(n),function(r){const l=r.filter(h=>h instanceof ix).length,c=r.filter(h=>h instanceof $m).length;if(l>1||l>0&&c>0)throw new kt(pt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)e=s._apply(e);return e}class $m extends JD{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new $m(t,n,i)}_apply(t){const n=this._parse(t);return tM(t._query,n),new xo(t.firestore,t.converter,S0(t._query,n))}_parse(t){const n=zm(t.firestore);return function(r,l,c,h,d,p,y){let _;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new kt(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){zT(y,p);const E=[];for(const T of y)E.push(UT(h,r,T));_={arrayValue:{values:E}}}else _=UT(h,r,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||zT(y,p),_=C5(c,l,y,p==="in"||p==="not-in");return bn.create(d,p,_)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function en(e,t,n){const i=t,s=Bm("where",e);return $m._create(s,i,n)}class ix extends nx{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new ix(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Ss.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,r){let l=s;const c=r.getFlattenedFilters();for(const h of c)tM(l,h),l=S0(l,h)}(t._query,n),new xo(t.firestore,t.converter,S0(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sx extends JD{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new sx(t,n)}_apply(t){const n=function(s,r,l){if(s.startAt!==null)throw new kt(pt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new kt(pt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ed(r,l)}(t._query,this._field,this._direction);return new xo(t.firestore,t.converter,function(s,r){const l=s.explicitOrderBy.concat([r]);return new gu(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,n))}}function Lc(e,t="asc"){const n=t,i=Bm("orderBy",e);return sx._create(i,n)}function UT(e,t,n){if(typeof(n=Ge(n))=="string"){if(n==="")throw new kt(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QC(t)&&n.indexOf("/")!==-1)throw new kt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Le.fromString(n));if(!Nt.isDocumentKey(i))throw new kt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return eT(e,new Nt(i))}if(n instanceof nn)return eT(e,n._key);throw new kt(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Em(n)}.`)}function zT(e,t){if(!Array.isArray(e)||e.length===0)throw new kt(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function tM(e,t){const n=function(s,r){for(const l of s)for(const c of l.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new kt(pt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new kt(pt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class I5{convertValue(t,n="none"){switch(ho(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ln(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(uo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ut(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return bo(t,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(t){var i,s,r;const n=(r=(s=(i=t.fields)==null?void 0:i[Bg].arrayValue)==null?void 0:s.values)==null?void 0:r.map(l=>ln(l.doubleValue));return new er(n)}convertGeoPoint(t){return new tr(ln(t.latitude),ln(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Am(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(vd(t));default:return null}}convertTimestamp(t){const n=co(t);return new Oe(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Le.fromString(t);we(vD(i),9688,{name:t});const s=new xd(i.get(1),i.get(3)),r=new Nt(i.popFirst(5));return s.isEqual(n)||aa(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class qh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class gl extends QD{constructor(t,n,i,s,r,l){super(t,n,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Bm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new kt(pt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=gl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}gl._jsonSchemaVersion="firestore/documentSnapshot/1.0",gl._jsonSchema={type:vn("string",gl._jsonSchemaVersion),bundleSource:vn("string","DocumentSnapshot"),bundleName:vn("string"),bundle:vn("string")};class vg extends gl{data(t={}){return super.data(t)}}class ml{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new qh(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new vg(this._firestore,this._userDataWriter,i.key,i,new qh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new kt(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new vg(s._firestore,s._userDataWriter,c.doc.key,c.doc,new qh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>r||c.type!==3).map(c=>{const h=new vg(s._firestore,s._userDataWriter,c.doc.key,c.doc,new qh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,p=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:O5(c.type),doc:h,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new kt(pt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ml._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ev.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),s.push(r.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function O5(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(e){e=$i(e,nn);const t=$i(e.firestore,go);return b5(jm(t),e._key).then(n=>nM(t,e,n))}ml._jsonSchemaVersion="firestore/querySnapshot/1.0",ml._jsonSchema={type:vn("string",ml._jsonSchemaVersion),bundleSource:vn("string","QuerySnapshot"),bundleName:vn("string"),bundle:vn("string")};class rx extends I5{constructor(t){super(),this.firestore=t}convertBytes(t){return new os(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function ao(e){e=$i(e,xo);const t=$i(e.firestore,go),n=jm(t),i=new rx(t);return ZD(e._query),v5(n,e._query).then(s=>new ml(t,i,e,s))}function P5(e,t,n){e=$i(e,nn);const i=$i(e.firestore,go),s=eM(e.converter,t);return ax(i,[WD(zm(i),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,ws.none())])}function ys(e,t,n,...i){e=$i(e,nn);const s=$i(e.firestore,go),r=zm(s);let l;return l=typeof(t=Ge(t))=="string"||t instanceof Vm?R5(r,"updateDoc",e._key,t,n,i):k5(r,"updateDoc",e._key,t),ax(s,[l.toMutation(e._key,ws.exists(!0))])}function N5(e,t){const n=$i(e.firestore,go),i=Cn(e),s=eM(e.converter,t);return ax(n,[WD(zm(e.firestore),"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,ws.exists(!1))]).then(()=>i)}function Bi(e,...t){var h,d,p;e=Ge(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||VT(t[i])||(n=t[i++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(VT(t[i])){const y=t[i];t[i]=(h=y.next)==null?void 0:h.bind(y),t[i+1]=(d=y.error)==null?void 0:d.bind(y),t[i+2]=(p=y.complete)==null?void 0:p.bind(y)}let r,l,c;if(e instanceof nn)l=$i(e.firestore,go),c=km(e._key.path),r={next:y=>{t[i]&&t[i](nM(l,e,y))},error:t[i+1],complete:t[i+2]};else{const y=$i(e,xo);l=$i(y.firestore,go),c=y._query;const _=new rx(l);r={next:x=>{t[i]&&t[i](new ml(l,_,y,x))},error:t[i+1],complete:t[i+2]},ZD(e._query)}return function(_,x,E,T){const S=new Xv(T),D=new Yv(x,S,E);return _.asyncQueue.enqueueAndForget(async()=>qv(await Kg(_),D)),()=>{S.Nu(),_.asyncQueue.enqueueAndForget(async()=>Hv(await Kg(_),D))}}(jm(l),c,s,r)}function ax(e,t){return function(i,s){const r=new ea;return i.asyncQueue.enqueueAndForget(async()=>o5(await _5(i),s,r)),r.promise}(jm(e),t)}function nM(e,t,n){const i=n.docs.get(t._key),s=new rx(e);return new gl(e,s,t._key,i,new qh(n.hasPendingWrites,n.fromCache),t.converter)}function L0(){return new Qv("serverTimestamp")}function L5(...e){return new Zv("arrayUnion",e)}function j5(...e){return new Jv("arrayRemove",e)}(function(t,n=!0){(function(s){du=s})(hu),Yc(new xl("firestore",(i,{instanceIdentifier:s,options:r})=>{const l=i.getProvider("app").getImmediate(),c=new go(new R4(i.getProvider("auth-internal")),new M4(l,i.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new kt(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xd(d.options.projectId,p)}(l,s),l);return r={useFetchStreams:n,...r},c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),io(BS,$S,t),io(BS,$S,"esm2020")})();function iM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V5=iM,sM=new Ud("auth","Firebase",iM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=new _v("@firebase/auth");function U5(e,...t){Qg.logLevel<=re.WARN&&Qg.warn(`Auth (${hu}): ${e}`,...t)}function xg(e,...t){Qg.logLevel<=re.ERROR&&Qg.error(`Auth (${hu}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(e,...t){throw ox(e,...t)}function nr(e,...t){return ox(e,...t)}function rM(e,t,n){const i={...V5(),[t]:n};return new Ud("auth","Firebase",i).create(t,{appName:e.name})}function na(e){return rM(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ox(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return sM.create(e,...t)}function It(e,t,...n){if(!e)throw ox(t,...n)}function Wr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw xg(t),new Error(t)}function la(e,t){e||Wr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function z5(){return FT()==="http:"||FT()==="https:"}function FT(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z5()||nj()||"connection"in navigator)?navigator.onLine:!0}function B5(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(t,n){this.shortDelay=t,this.longDelay=n,la(n>t,"Short delay should be less than long delay!"),this.isMobile=JL()||ij()}get(){return F5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(e,t){la(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],H5=new Wd(3e4,6e4);function cr(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Rs(e,t,n,i,s={}){return oM(e,s,async()=>{let r={},l={};i&&(t==="GET"?l=i:r={body:JSON.stringify(i)});const c=zd({key:e.config.apiKey,...l}).slice(1),h=await e._getAdditionalHeaders();h["Content-Type"]="application/json",e.languageCode&&(h["X-Firebase-Locale"]=e.languageCode);const d={method:t,headers:h,...r};return ej()||(d.referrerPolicy="no-referrer"),e.emulatorConfig&&uu(e.emulatorConfig.host)&&(d.credentials="include"),aM.fetch()(await lM(e,e.config.apiHost,n,c),d)})}async function oM(e,t,n){e._canInitEmulator=!1;const i={...$5,...t};try{const s=new Y5(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await r.json();if("needConfirmation"in l)throw Mp(e,"account-exists-with-different-credential",l);if(r.ok&&!("errorMessage"in l))return l;{const c=r.ok?l.errorMessage:l.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mp(e,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Mp(e,"email-already-in-use",l);if(h==="USER_DISABLED")throw Mp(e,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw rM(e,p,d);cs(e,p)}}catch(s){if(s instanceof lr)throw s;cs(e,"network-request-failed",{message:String(s)})}}async function Yd(e,t,n,i,s={}){const r=await Rs(e,t,n,i,s);return"mfaPendingCredential"in r&&cs(e,"multi-factor-auth-required",{_serverResponse:r}),r}async function lM(e,t,n,i){const s=`${t}${n}?${i}`,r=e,l=r.config.emulator?lx(e.config,s):`${e.config.apiScheme}://${s}`;return q5.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(l).toString():l}function W5(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Y5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(nr(this.auth,"network-request-failed")),H5.get())})}}function Mp(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=nr(e,t,i);return s.customData._tokenResponse=n,s}function BT(e){return e!==void 0&&e.enterprise!==void 0}class G5{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return W5(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function K5(e,t){return Rs(e,"GET","/v2/recaptchaConfig",cr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X5(e,t){return Rs(e,"POST","/v1/accounts:delete",t)}async function Zg(e,t){return Rs(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Q5(e,t=!1){const n=Ge(e),i=await n.getIdToken(t),s=cx(i);It(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,l=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:id(xb(s.auth_time)),issuedAtTime:id(xb(s.iat)),expirationTime:id(xb(s.exp)),signInProvider:l||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function xb(e){return Number(e)*1e3}function cx(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return xg("JWT malformed, contained fewer than 3 sections"),null;try{const s=pC(n);return s?JSON.parse(s):(xg("Failed to decode base64 JWT payload"),null)}catch(s){return xg("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function $T(e){const t=cx(e);return It(t,"internal-error"),It(typeof t.exp<"u","internal-error"),It(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof lr&&Z5(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function Z5({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=id(this.lastLoginAt),this.creationTime=id(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jg(e){var y;const t=e.auth,n=await e.getIdToken(),i=await nu(e,Zg(t,{idToken:n}));It(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const r=(y=s.providerUserInfo)!=null&&y.length?cM(s.providerUserInfo):[],l=e3(e.providerData,r),c=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),d=c?h:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new V0(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,p)}async function t3(e){const t=Ge(e);await Jg(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function e3(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function cM(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n3(e,t){const n=await oM(e,{},async()=>{const i=zd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,l=await lM(e,s,"/v1/token",`key=${r}`),c=await e._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:i};return e.emulatorConfig&&uu(e.emulatorConfig.host)&&(h.credentials="include"),aM.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function i3(e,t){return Rs(e,"POST","/v2/accounts:revokeToken",cr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){It(t.idToken,"internal-error"),It(typeof t.idToken<"u","internal-error"),It(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):$T(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){It(t.length!==0,"internal-error");const n=$T(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(It(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await n3(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,l=new jc;return i&&(It(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),s&&(It(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),r&&(It(typeof r=="number","internal-error",{appName:t}),l.expirationTime=r),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new jc,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(e,t){It(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class _s{constructor({uid:t,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new J5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new V0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await nu(this,this.stsTokenManager.getToken(this.auth,t));return It(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Q5(this,t)}reload(){return t3(this)}_assign(t){this!==t&&(It(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new _s({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){It(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Jg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(as(this.auth.app))return Promise.reject(na(this.auth));const t=await this.getIdToken();return await nu(this,X5(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,s=n.email??void 0,r=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,h=n._redirectEventId??void 0,d=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:x,providerData:E,stsTokenManager:T}=n;It(y&&T,t,"internal-error");const S=jc.fromJSON(this.name,T);It(typeof y=="string",t,"internal-error"),za(i,t.name),za(s,t.name),It(typeof _=="boolean",t,"internal-error"),It(typeof x=="boolean",t,"internal-error"),za(r,t.name),za(l,t.name),za(c,t.name),za(h,t.name),za(d,t.name),za(p,t.name);const D=new _s({uid:y,auth:t,email:s,emailVerified:_,displayName:i,isAnonymous:x,photoURL:l,phoneNumber:r,tenantId:c,stsTokenManager:S,createdAt:d,lastLoginAt:p});return E&&Array.isArray(E)&&(D.providerData=E.map(I=>({...I}))),h&&(D._redirectEventId=h),D}static async _fromIdTokenResponse(t,n,i=!1){const s=new jc;s.updateFromServerResponse(n);const r=new _s({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Jg(r),r}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];It(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?cM(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),c=new jc;c.updateFromIdToken(i);const h=new _s({uid:s.localId,auth:t,stsTokenManager:c,isAnonymous:l}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new V0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=new Map;function Yr(e){la(e instanceof Function,"Expected a class definition");let t=qT.get(e);return t?(la(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,qT.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}uM.type="NONE";const U0=uM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(e,t,n){return`firebase:${e}:${t}:${n}`}class Vc{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=wg(this.userKey,s.apiKey,r),this.fullPersistenceKey=wg("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Zg(this.auth,{idToken:t}).catch(()=>{});return n?_s._fromGetAccountInfoResponse(this.auth,n,t):null}return _s._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Vc(Yr(U0),t,i);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let r=s[0]||Yr(U0);const l=wg(i,t.config.apiKey,t.name);let c=null;for(const d of n)try{const p=await d._get(l);if(p){let y;if(typeof p=="string"){const _=await Zg(t,{idToken:p}).catch(()=>{});if(!_)break;y=await _s._fromGetAccountInfoResponse(t,_,p)}else y=_s._fromJSON(t,p);d!==r&&(c=y),r=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!r._shouldAllowMigration||!h.length?new Vc(r,t,i):(r=h[0],c&&await r._set(l,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==r)try{await d._remove(l)}catch{}})),new Vc(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pM(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(hM(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(mM(t))return"Blackberry";if(yM(t))return"Webos";if(dM(t))return"Safari";if((t.includes("chrome/")||fM(t))&&!t.includes("edge/"))return"Chrome";if(gM(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function hM(e=di()){return/firefox\//i.test(e)}function dM(e=di()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function fM(e=di()){return/crios\//i.test(e)}function pM(e=di()){return/iemobile/i.test(e)}function gM(e=di()){return/android/i.test(e)}function mM(e=di()){return/blackberry/i.test(e)}function yM(e=di()){return/webos/i.test(e)}function ux(e=di()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function s3(e=di()){var t;return ux(e)&&!!((t=window.navigator)!=null&&t.standalone)}function r3(){return sj()&&document.documentMode===10}function _M(e=di()){return ux(e)||gM(e)||yM(e)||mM(e)||/windows phone/i.test(e)||pM(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(e,t=[]){let n;switch(e){case"Browser":n=HT(di());break;case"Worker":n=`${HT(di())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${hu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((l,c)=>{try{const h=t(r);l(h)}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o3(e,t={}){return Rs(e,"GET","/v2/passwordPolicy",cr(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=6;class c3{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??l3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WT(this),this.idTokenSubscription=new WT(this),this.beforeStateQueue=new a3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Yr(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await Vc.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Zg(this,{idToken:t}),i=await _s._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(as(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(r=this.redirectUser)==null?void 0:r._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return It(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Jg(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=B5()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(as(this.app))return Promise.reject(na(this));const n=t?Ge(t):null;return n&&It(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&It(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return as(this.app)?Promise.reject(na(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return as(this.app)?Promise.reject(na(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await o3(this),n=new c3(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ud("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await i3(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Yr(t)||this._popupRedirectResolver;It(n,this,"argument-error"),this.redirectPersistenceManager=await Vc.create(this,[Yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(It(c,this,"internal-error"),c.then(()=>{l||r(this.currentUser)}),typeof n=="function"){const h=t.addObserver(n,i,s);return()=>{l=!0,h()}}else{const h=t.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return It(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=bM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(as(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&U5(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ca(e){return Ge(e)}class WT{constructor(t){this.auth=t,this.observer=null,this.addObserver=dj(n=>this.observer=n)}get next(){return It(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h3(e){qm=e}function vM(e){return qm.loadJS(e)}function d3(){return qm.recaptchaEnterpriseScript}function f3(){return qm.gapiScript}function p3(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class g3{constructor(){this.enterprise=new m3}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class m3{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const y3="recaptcha-enterprise",xM="NO_RECAPTCHA";class _3{constructor(t){this.type=y3,this.auth=ca(t)}async verify(t="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(l,c)=>{K5(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new G5(h);return r.tenantId==null?r._agentRecaptchaConfig=d:r._tenantRecaptchaConfigs[r.tenantId]=d,l(d.siteKey)}}).catch(h=>{c(h)})})}function s(r,l,c){const h=window.grecaptcha;BT(h)?h.enterprise.ready(()=>{h.enterprise.execute(r,{action:t}).then(d=>{l(d)}).catch(()=>{l(xM)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new g3().execute("siteKey",{action:"verify"}):new Promise((r,l)=>{i(this.auth).then(c=>{if(!n&&BT(window.grecaptcha))s(c,r,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=d3();h.length!==0&&(h+=c),vM(h).then(()=>{s(c,r,l)}).catch(d=>{l(d)})}}).catch(c=>{l(c)})})}}async function YT(e,t,n,i=!1,s=!1){const r=new _3(e);let l;if(s)l=xM;else try{l=await r.verify(n)}catch{l=await r.verify(n,!0)}const c={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function tm(e,t,n,i,s){var r;if((r=e._getRecaptchaConfig())!=null&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await YT(e,t,n,n==="getOobCode");return i(e,l)}else return i(e,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await YT(e,t,n,n==="getOobCode");return i(e,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(e,t){const n=vv(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(sa(r,t??{}))return s;cs(s,"already-initialized")}return n.initialize({options:t})}function v3(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Yr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function x3(e,t,n){const i=ca(e);It(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,r=wM(t),{host:l,port:c}=w3(t),h=c===null?"":`:${c}`,d={url:`${r}//${l}${h}/`},p=Object.freeze({host:l,port:c,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){It(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),It(sa(d,i.config.emulator)&&sa(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,uu(l)?(_C(`${r}//${l}${h}`),bC("Auth",!0)):E3()}function wM(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function w3(e){const t=wM(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:GT(i.substr(r.length+1))}}else{const[r,l]=i.split(":");return{host:r,port:GT(l)}}}function GT(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function E3(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Wr("not implemented")}_getIdTokenResponse(t){return Wr("not implemented")}_linkToIdToken(t,n){return Wr("not implemented")}_getReauthenticationResolver(t){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EM(e,t){return Rs(e,"POST","/v1/accounts:resetPassword",cr(e,t))}async function S3(e,t){return Rs(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T3(e,t){return Yd(e,"POST","/v1/accounts:signInWithPassword",cr(e,t))}async function A3(e,t){return Rs(e,"POST","/v1/accounts:sendOobCode",cr(e,t))}async function k3(e,t){return A3(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R3(e,t){return Yd(e,"POST","/v1/accounts:signInWithEmailLink",cr(e,t))}async function C3(e,t){return Yd(e,"POST","/v1/accounts:signInWithEmailLink",cr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends hx{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new Td(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Td(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tm(t,n,"signInWithPassword",T3);case"emailLink":return R3(t,{email:this._email,oobCode:this._password});default:cs(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tm(t,i,"signUpPassword",S3);case"emailLink":return C3(t,{idToken:n,email:this._email,oobCode:this._password});default:cs(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(e,t){return Yd(e,"POST","/v1/accounts:signInWithIdp",cr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3="http://localhost";class Tl extends hx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Tl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):cs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...r}=n;if(!i||!s)return null;const l=new Tl(i,s);return l.idToken=r.idToken||void 0,l.accessToken=r.accessToken||void 0,l.secret=r.secret,l.nonce=r.nonce,l.pendingToken=r.pendingToken||null,l}_getIdTokenResponse(t){const n=this.buildRequest();return Uc(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Uc(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Uc(t,n)}buildRequest(){const t={requestUri:D3,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=zd(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I3(e){const t=Uh(zh(e)).link,n=t?Uh(zh(t)).deep_link_id:null,i=Uh(zh(e)).deep_link_id;return(i?Uh(zh(i)).link:null)||i||n||t||e}class dx{constructor(t){const n=Uh(zh(t)),i=n.apiKey??null,s=n.oobCode??null,r=M3(n.mode??null);It(i&&s&&r,"argument-error"),this.apiKey=i,this.operation=r,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=I3(t);try{return new dx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this.providerId=_u.PROVIDER_ID}static credential(t,n){return Td._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=dx.parseLink(n);return It(i,"argument-error"),Td._fromEmailAndCode(t,i.code,i.tenantId)}}_u.PROVIDER_ID="password";_u.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_u.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends SM{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends Gd{constructor(){super("facebook.com")}static credential(t){return Tl._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ha.credentialFromTaggedObject(t)}static credentialFromError(t){return Ha.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ha.credential(t.oauthAccessToken)}catch{return null}}}Ha.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ha.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends Gd{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Tl._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Wa.credentialFromTaggedObject(t)}static credentialFromError(t){return Wa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Wa.credential(n,i)}catch{return null}}}Wa.GOOGLE_SIGN_IN_METHOD="google.com";Wa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Gd{constructor(){super("github.com")}static credential(t){return Tl._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ya.credentialFromTaggedObject(t)}static credentialFromError(t){return Ya.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ya.credential(t.oauthAccessToken)}catch{return null}}}Ya.GITHUB_SIGN_IN_METHOD="github.com";Ya.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends Gd{constructor(){super("twitter.com")}static credential(t,n){return Tl._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ga.credentialFromTaggedObject(t)}static credentialFromError(t){return Ga.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Ga.credential(n,i)}catch{return null}}}Ga.TWITTER_SIGN_IN_METHOD="twitter.com";Ga.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O3(e,t){return Yd(e,"POST","/v1/accounts:signUp",cr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await _s._fromIdTokenResponse(t,i,s),l=KT(i);return new Al({user:r,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=KT(i);return new Al({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function KT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em extends lr{constructor(t,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,em.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new em(t,n,i,s)}}function TM(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?em._fromErrorAndOperation(e,r,t,i):r})}async function P3(e,t,n=!1){const i=await nu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Al._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N3(e,t,n=!1){const{auth:i}=e;if(as(i.app))return Promise.reject(na(i));const s="reauthenticate";try{const r=await nu(e,TM(i,s,t,e),n);It(r.idToken,i,"internal-error");const l=cx(r.idToken);It(l,i,"internal-error");const{sub:c}=l;return It(e.uid===c,i,"user-mismatch"),Al._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&cs(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AM(e,t,n=!1){if(as(e.app))return Promise.reject(na(e));const i="signIn",s=await TM(e,i,t),r=await Al._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}async function L3(e,t){return AM(ca(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(t,n){this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(t,n){return"phoneInfo"in n?px._fromServerResponse(t,n):"totpInfo"in n?gx._fromServerResponse(t,n):cs(t,"internal-error")}}class px extends fx{constructor(t){super("phone",t),this.phoneNumber=t.phoneInfo}static _fromServerResponse(t,n){return new px(n)}}class gx extends fx{constructor(t){super("totp",t)}static _fromServerResponse(t,n){return new gx(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(e,t,n){var i;It(((i=n.url)==null?void 0:i.length)>0,e,"invalid-continue-uri"),It(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),It(typeof n.linkDomain>"u"||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(It(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(It(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mx(e){const t=ca(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function V3(e,t,n){const i=ca(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&j3(i,s,n),await tm(i,s,"getOobCode",k3)}async function U3(e,t,n){await EM(Ge(e),{oobCode:t,newPassword:n}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&mx(e),i})}async function z3(e,t){const n=Ge(e),i=await EM(n,{oobCode:t}),s=i.requestType;switch(It(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":It(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":It(i.mfaInfo,n,"internal-error");default:It(i.email,n,"internal-error")}let r=null;return i.mfaInfo&&(r=fx._fromServerResponse(ca(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:r},operation:s}}async function F3(e,t){const{data:n}=await z3(Ge(e),t);return n.email}async function B3(e,t,n){if(as(e.app))return Promise.reject(na(e));const i=ca(e),l=await tm(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",O3).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&mx(e),h}),c=await Al._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function kM(e,t,n){return as(e.app)?Promise.reject(na(e)):L3(Ge(e),_u.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&mx(e),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $3(e,t){return Rs(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const i=Ge(e),r={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},l=await nu(i,$3(i.auth,r));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const c=i.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(e,t){return Ge(e).setPersistence(t)}function W3(e,t,n,i){return Ge(e).onIdTokenChanged(t,n,i)}function Y3(e,t,n){return Ge(e).beforeAuthStateChanged(t,n)}function wo(e,t,n,i){return Ge(e).onAuthStateChanged(t,n,i)}function G3(e){return Ge(e).signOut()}const nm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nm,"1"),this.storage.removeItem(nm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=1e3,X3=10;class CM extends RM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_M(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},r=this.storage.getItem(i);r3()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,X3):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},K3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}CM.type="LOCAL";const Q3=CM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM extends RM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}DM.type="SESSION";const MM=DM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new Hm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async d=>d(n.origin,r)),h=await Z3(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,l;return new Promise((c,h)=>{const d=yx("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(y){const _=y;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),r=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),c(_.data.response);break;default:clearTimeout(p),clearTimeout(r),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:d,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return window}function tU(e){ir().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}async function eU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nU(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function iU(){return IM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="firebaseLocalStorageDb",sU=1,im="firebaseLocalStorage",PM="fbase_key";class Kd{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wm(e,t){return e.transaction([im],t?"readwrite":"readonly").objectStore(im)}function rU(){const e=indexedDB.deleteDatabase(OM);return new Kd(e).toPromise()}function z0(){const e=indexedDB.open(OM,sU);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(im,{keyPath:PM})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(im)?t(i):(i.close(),await rU(),t(await z0()))})})}async function XT(e,t,n){const i=Wm(e,!0).put({[PM]:t,value:n});return new Kd(i).toPromise()}async function aU(e,t){const n=Wm(e,!1).get(t),i=await new Kd(n).toPromise();return i===void 0?null:i.value}function QT(e,t){const n=Wm(e,!0).delete(t);return new Kd(n).toPromise()}const oU=800,lU=3;class NM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await z0(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>lU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hm._getInstance(iU()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await eU(),!this.activeServiceWorker)return;this.sender=new J3(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||nU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await z0();return await XT(t,nm,"1"),await QT(t,nm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>XT(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>aU(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>QT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=Wm(s,!1).getAll();return new Kd(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NM.type="LOCAL";const cU=NM;new Wd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(e,t){return t?Yr(t):(It(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x extends hx{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Uc(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Uc(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Uc(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function hU(e){return AM(e.auth,new _x(e),e.bypassAuthState)}function dU(e){const{auth:t,user:n}=e;return It(n,t,"internal-error"),N3(n,new _x(e),e.bypassAuthState)}async function fU(e){const{auth:t,user:n}=e;return It(n,t,"internal-error"),P3(n,new _x(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:l,type:c}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return hU;case"linkViaPopup":case"linkViaRedirect":return fU;case"reauthViaPopup":case"reauthViaRedirect":return dU;default:cs(this.auth,"internal-error")}}resolve(t){la(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){la(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=new Wd(2e3,1e4);class Oc extends LM{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Oc.currentPopupAction&&Oc.currentPopupAction.cancel(),Oc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return It(t,this.auth,"internal-error"),t}async onExecution(){la(this.filter.length===1,"Popup operations only handle one event");const t=yx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oc.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,pU.get())};t()}}Oc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU="pendingRedirect",Eg=new Map;class mU extends LM{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Eg.get(this.auth._key());if(!t){try{const i=await yU(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Eg.set(this.auth._key(),t)}return this.bypassAuthState||Eg.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yU(e,t){const n=vU(t),i=bU(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function _U(e,t){Eg.set(e._key(),t)}function bU(e){return Yr(e._redirectPersistence)}function vU(e){return wg(gU,e.config.apiKey,e.name)}async function xU(e,t,n=!1){if(as(e.app))return Promise.reject(na(e));const i=ca(e),s=uU(i,t),l=await new mU(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=600*1e3;class EU{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!SU(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!jM(t)){const s=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(nr(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=wU&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZT(t))}saveEventToCache(t){this.cachedEventUids.add(ZT(t)),this.lastProcessedEventTime=Date.now()}}function ZT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function jM({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function SU(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jM(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(e,t={}){return Rs(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kU=/^https?/;async function RU(e){if(e.config.emulator)return;const{authorizedDomains:t}=await TU(e);for(const n of t)try{if(CU(n))return}catch{}cs(e,"unauthorized-domain")}function CU(e){const t=j0(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const l=new URL(e);return l.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!kU.test(n))return!1;if(AU.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU=new Wd(3e4,6e4);function JT(){const e=ir().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function MU(e){return new Promise((t,n)=>{var s,r,l;function i(){JT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{JT(),n(nr(e,"network-request-failed"))},timeout:DU.get()})}if((r=(s=ir().gapi)==null?void 0:s.iframes)!=null&&r.Iframe)t(gapi.iframes.getContext());else if((l=ir().gapi)!=null&&l.load)i();else{const c=p3("iframefcb");return ir()[c]=()=>{gapi.load?i():n(nr(e,"network-request-failed"))},vM(`${f3()}?onload=${c}`).catch(h=>n(h))}}).catch(t=>{throw Sg=null,t})}let Sg=null;function IU(e){return Sg=Sg||MU(e),Sg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=new Wd(5e3,15e3),PU="__/auth/iframe",NU="emulator/auth/iframe",LU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VU(e){const t=e.config;It(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?lx(t,NU):`https://${e.config.authDomain}/${PU}`,i={apiKey:t.apiKey,appName:e.name,v:hu},s=jU.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${zd(i).slice(1)}`}async function UU(e){const t=await IU(e),n=ir().gapi;return It(n,e,"internal-error"),t.open({where:document.body,url:VU(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LU,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const l=nr(e,"network-request-failed"),c=ir().setTimeout(()=>{r(l)},OU.get());function h(){ir().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{r(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FU=500,BU=600,$U="_blank",qU="http://localhost";class tA{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HU(e,t,n,i=FU,s=BU){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h={...zU,width:i.toString(),height:s.toString(),top:r,left:l},d=di().toLowerCase();n&&(c=fM(d)?$U:n),hM(d)&&(t=t||qU,h.scrollbars="yes");const p=Object.entries(h).reduce((_,[x,E])=>`${_}${x}=${E},`,"");if(s3(d)&&c!=="_self")return WU(t||"",c),new tA(null);const y=window.open(t||"",c,p);It(y,e,"popup-blocked");try{y.focus()}catch{}return new tA(y)}function WU(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU="__/auth/handler",GU="emulator/auth/handler",KU=encodeURIComponent("fac");async function eA(e,t,n,i,s,r){It(e.config.authDomain,e,"auth-domain-config-required"),It(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:hu,eventId:s};if(t instanceof SM){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",hj(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(t instanceof Gd){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await e._getAppCheckToken(),d=h?`#${KU}=${encodeURIComponent(h)}`:"";return`${XU(e)}?${zd(c).slice(1)}${d}`}function XU({config:e}){return e.emulator?lx(e,GU):`https://${e.authDomain}/${YU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="webStorageSupport";class QU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MM,this._completeRedirectFn=xU,this._overrideRedirectResult=_U}async _openPopup(t,n,i,s){var l;la((l=this.eventManagers[t._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const r=await eA(t,n,i,j0(),s);return HU(t,r,yx())}async _openRedirect(t,n,i,s){await this._originValidation(t);const r=await eA(t,n,i,j0(),s);return tU(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(la(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await UU(t),i=new EU(t);return n.register("authEvent",s=>(It(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(wb,{type:wb},s=>{var l;const r=(l=s==null?void 0:s[0])==null?void 0:l[wb];r!==void 0&&n(!!r),cs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RU(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return _M()||dM()||ux()}}const ZU=QU;var nA="@firebase/auth",iA="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){It(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tz(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ez(e){Yc(new xl("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;It(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bM(e)},d=new u3(i,s,r,h);return v3(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Yc(new xl("auth-internal",t=>{const n=ca(t.getProvider("auth").getImmediate());return(i=>new JU(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),io(nA,iA,tz(e)),io(nA,iA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz=300,iz=yC("authIdTokenMaxAge")||nz;let sA=null;const sz=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>iz)return;const s=n==null?void 0:n.token;sA!==s&&(sA=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function rz(e=xv()){const t=vv(e,"auth");if(t.isInitialized())return t.getImmediate();const n=b3(e,{popupRedirectResolver:ZU,persistence:[cU,Q3,MM]}),i=yC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const l=sz(r.toString());Y3(n,l,()=>l(n.currentUser)),W3(n,c=>l(c))}}const s=gC("auth");return s&&x3(n,`http://${s}`),n}function az(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}h3({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=nr("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",az().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ez("Browser");function oz(e){const t=atob(e.replace(/\s+/g,""));return JSON.parse(t)}const lz=oz("eyJhcGlLZXkiOiJBSXphU3lEUHBuY3hzdzYtTTZDdndmcXZERkNPWGduVXVIWG80NG8iLCJhdXRoRG9tYWluIjoicGRtcy1lZGEzNy5maXJlYmFzZWFwcC5jb20iLCJwcm9qZWN0SWQiOiJwZG1zLWVkYTM3Iiwic3RvcmFnZUJ1Y2tldCI6InBkbXMtZWRhMzcuZmlyZWJhc2VzdG9yYWdlLmFwcCIsIm1lc3NhZ2luZ1NlbmRlcklkIjoiNjI3MTE1MTkyNzYiLCJhcHBJZCI6IjE6NjI3MTE1MTkyNzY6d2ViOjFkNjZhMjYyMjhjMTg0ZDEzNWQ5ODkifQ=="),VM=f4().length?xv():wC(lz),Yt=w5(VM),hi=rz(VM),cz=e=>btoa(String.fromCharCode(...new Uint8Array(e))),uz=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n.buffer},zc=e=>{const t=new Uint8Array(e.byteLength);return t.set(e),t.buffer};function hz(e,t,n=7,i="/"){const s=new Date(Date.now()+n*864e5).toUTCString();document.cookie=`${encodeURIComponent(e)}=${encodeURIComponent(t)}; Expires=${s}; Path=${i}; SameSite=Lax`}function dz(e){const t=`${encodeURIComponent(e)}=`,n=document.cookie.split("; ");for(const i of n)if(i.startsWith(t))return decodeURIComponent(i.slice(t.length));return null}function bx(e,t="/"){document.cookie=`${encodeURIComponent(e)}=; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Path=${t}; SameSite=Lax`}async function UM(e,t){const n=new TextEncoder,i=await crypto.subtle.importKey("raw",n.encode(e),"PBKDF2",!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:1e5,hash:"SHA-256"},i,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}const zM=1;async function fz(e,t){const n=new TextEncoder,i=crypto.getRandomValues(new Uint8Array(12)),s=crypto.getRandomValues(new Uint8Array(16)),r=await UM(t,zc(s)),l=await crypto.subtle.encrypt({name:"AES-GCM",iv:zc(i)},r,zc(n.encode(JSON.stringify(e)))),c=new Uint8Array(1+i.length+s.length);c[0]=zM,c.set(i,1),c.set(s,1+i.length);const h=new Uint8Array(c.length+new Uint8Array(l).length);return h.set(c,0),h.set(new Uint8Array(l),c.length),cz(h.buffer)}async function pz(e,t){const n=new Uint8Array(uz(e));if(n[0]!==zM)throw new Error("Unsupported version");const i=n.slice(1,13),s=n.slice(13,29),r=n.slice(29),l=await UM(t,zc(s)),c=await crypto.subtle.decrypt({name:"AES-GCM",iv:zc(i)},l,zc(r));return JSON.parse(new TextDecoder().decode(c))}async function gz(e){await H3(e,U0)}const Ad="pcz_auth_shadow",FM="dev-only-fallback-change-this";async function BM(e,t,n=7){const i={email:e,password:t,t:Date.now()},s=await fz(i,FM);hz(Ad,s,n)}async function mz(e,t,n,i,s=7){const r=await kM(e,t,n);return i?await BM(t,n,s):bx(Ad),r}async function yz(e){const t=dz(Ad);if(!t)return!1;try{const{email:n,password:i}=await pz(t,FM);return await kM(e,n,i),!0}catch{return bx(Ad),!1}}async function _z(e){bx(Ad),await G3(e)}const bz=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function vz(e){const t="이메일 또는 비밀번호가 올바르지 않습니다.";return e instanceof lr&&e.code==="auth/invalid-email"?"이메일 형식이 올바르지 않습니다.":t}function xz({onLoginSuccess:e}){const[t,n]=j.useState(""),[i,s]=j.useState(""),[r,l]=j.useState(!0),c=_o(),h=()=>c("/find-password"),d=async()=>{const p=t;if(!p){alert("이메일을 입력해주세요.");return}if(!bz.test(p)){alert("이메일 형식이 올바르지 않습니다. 예) name@example.com");return}if(!i){alert("비밀번호를 입력해주세요.");return}try{await mz(hi,p,i,r),e(),c("/main")}catch(y){alert(vz(y))}};return v.jsxs(wz,{children:[v.jsxs(Ez,{children:[v.jsxs(Sz,{children:[v.jsx(Tz,{children:"PDMS"}),v.jsx(Az,{children:"Pushcomz Design Management System"})]}),v.jsxs(kz,{children:[v.jsx(Rz,{type:"text",value:t,onChange:p=>n(p.target.value),placeholder:"이메일을 입력해주세요."}),v.jsx(Cz,{type:"password",value:i,onChange:p=>s(p.target.value),placeholder:"비밀번호를 입력해주세요."}),v.jsxs(Dz,{children:[v.jsxs(Mz,{children:[v.jsx("input",{type:"checkbox",checked:r,onChange:p=>l(p.target.checked)}),v.jsx("span",{children:"새로고침시 로그인 유지"})]}),v.jsx(Iz,{type:"button",onClick:h,children:"비밀번호 찾기"})]})]}),v.jsx(Oz,{onClick:d,children:"로그인"})]}),v.jsx(Pz,{children:"© Pushcomz Corp."})]})}const wz=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:e})=>e.colors.gray01};
`,Ez=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:e})=>e.colors.white01};
`,Sz=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,Tz=B.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.navy};
`,Az=B.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,kz=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
`,Rz=B.input`
  width: 460px;
  margin-bottom: 10px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,Cz=B.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,Dz=B.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  width: 100%;
  margin-top: 15px;
  color: #555;
  font-size: 13px;
`,Mz=B.label`
   ${({theme:e})=>e.mixin.flex("center")};

   input {
    margin-right: 5px;
   }

   span {
    color: ${({theme:e})=>e.colors.navy};
   }
`,Iz=B.button`
  color: ${({theme:e})=>e.colors.navy};
`,Oz=B.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:e})=>e.colors.white01};
`,Pz=B.p`
  margin-top: 20px;
  font-size: 12px;
  font-weight: 300;
  line-height: 18px;
  text-align: center;
`,Nz="/pdms-test/assets/homeplus-logo-BtZJKVuP.svg",Lz="/pdms-test/assets/nsmall-logo-B-mz9SOB.svg";function jz({userRole:e}){const[t,n]=gm(),i=t.get("view")||"dashboard",s=p=>{n(y=>{const _=new URLSearchParams(y);return _.set("view",p),_})},r=e??1,l=r===3,c=j.useMemo(()=>{switch(r){case 1:return{my:"요청 리스트",all:"전체 요청 리스트"};case 2:return{my:"작업 리스트",all:"전체 작업 리스트"};case 3:return{my:"요청 리스트",all:""};default:return{my:"요청 리스트",all:"전체 요청 리스트"}}},[r]),h="myrequestlist",d=!l;return v.jsx(Vz,{children:v.jsxs(Uz,{children:[v.jsx(Ip,{children:v.jsx(Op,{type:"button",onClick:()=>s(h),$active:i===h,children:c.my})}),d&&v.jsx(Ip,{children:v.jsx(Op,{type:"button",onClick:()=>s("allrequestlist"),$active:i==="allrequestlist",children:c.all})}),v.jsx(Ip,{children:v.jsx(Op,{type:"button",onClick:()=>s("dashboard"),$active:i==="dashboard",children:"전체 현황"})}),l&&v.jsx(Ip,{children:v.jsx(Op,{type:"button",onClick:()=>s("inworkhour"),$active:i==="inworkhour",children:"내부 공수"})})]})})}const Vz=B.nav``,Uz=B.ul`
  ${({theme:e})=>e.mixin.flex("center","flex-start")};
  gap: 0 20px;
`,Ip=B.li``,Op=B.button`
  color: ${({theme:e,$active:t})=>t?e.colors.white01:e.colors.gray02};
  font-family: 'Pretendard';
  font-size: 15px;
  font-weight: 500;

  &:hover {
    color: ${({theme:e})=>e.colors.white01};
  }
`,rA={HOMEPLUS:"homeplus",NSMALL:"nsmall"};function zz(){const[e,t]=j.useState(""),[n,i]=j.useState(""),[s,r]=j.useState(null),l=_o();j.useEffect(()=>{const _=wo(hi,async x=>{if(x){x.displayName&&t(x.displayName);const E=await Sl(Cn(Yt,"users",x.uid));if(E.exists()){const T=E.data();r(T.role??null),i(T.company??"")}else r(null),i("")}else t(""),r(null),i("")});return()=>_()},[]);const c=async()=>{try{await _z(hi),l("/")}catch(_){alert("로그아웃 중 오류가 발생했습니다: "+_.message)}},h=_=>{switch(_){case 1:return"요청자";case 2:return"디자이너";case 3:return"담당자";default:return"역할 없음"}},d=j.useMemo(()=>{const _=String(n??"").trim().replace(/\s+/g,"").toLowerCase();return _==="homeplus"?rA.HOMEPLUS:_==="nsmall"||_==="n-small"?rA.NSMALL:null},[n]),p=d==="homeplus"?Nz:d==="nsmall"?Lz:null,y=!!p;return v.jsxs(Fz,{children:[v.jsxs(Bz,{$hasLogo:y,children:[y&&v.jsx($z,{children:v.jsx(qz,{src:p,alt:"company logo"})}),v.jsx(jz,{userRole:s})]}),v.jsxs(Hz,{children:[v.jsxs(Wz,{children:[v.jsx(Yz,{children:e}),"님(",h(s),") ",n,"환영합니다."]}),v.jsx(Gz,{onClick:c,children:"로그아웃"}),v.jsx(Kz,{})]})]})}const Fz=B.header`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  height: 64px;
  padding: 0 48px;
  font-family: 'Pretendard';
  background-color: ${({theme:e})=>e.colors.black};
`,Bz=B.div`
  ${({theme:e})=>e.mixin.flex("center")};
  gap: ${({$hasLogo:e})=>e?"0 10px":"0"};
`,$z=B.div`
  width: 120px;
`,qz=B.img`
  width: 100%;
  vertical-align: sub;
`,Hz=B.div``,Wz=B.span`
  margin-right: 24px;
  color: ${({theme:e})=>e.colors.white01};
  font-size: 16px;
`,Yz=B.span`
  font-weight: 700;
`,Gz=B.button`
  padding: 5px 10px;
  border: 1px solid ${({theme:e})=>e.colors.white01};
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  font-size: 16px;
`,Kz=B.span`
  color: ${({theme:e})=>e.colors.white01};
  font-size: 16px;
`,vx="/pdms-test/assets/url-icon-DJKri2bW.svg";function Xz({item:e,index:t,disableActions:n,onReviewComplete:i,onCancel:s,onEditClick:r,onDetailClick:l}){const c=e.manager_review_status==="검수완료",h=_=>{if(!_)return"-";if(_.toDate){const x=_.toDate();return`${x.getMonth()+1}/${x.getDate()}`}return _},d=_=>{_.stopPropagation(),l(e)},p=e.requester_review_status==="검수완료",y=Array.isArray(e.assigned_designers)?e.assigned_designers:null;return v.jsxs(Qz,{isCanceled:e.status==="취소",children:[v.jsx(ss,{children:t}),v.jsx(ss,{children:v.jsx(i9,{onClick:d,$hasUpdate:!!e.updated_date,children:e.design_request_id})}),v.jsx(ss,{children:h(e.request_date)}),v.jsx(Zz,{children:h(e.completion_date)}),v.jsx(Jz,{children:h(e.open_date)}),v.jsx(ss,{children:e.merchandiser}),v.jsx(ss,{children:e.task_form}),v.jsx(t9,{children:v.jsxs(s9,{children:[v.jsx(r9,{children:e.task_type}),v.jsx(a9,{children:e.task_type_detail})]})}),v.jsx(e9,{children:v.jsxs(o9,{children:[e.emergency?v.jsx($M,{children:"긴급"}):"",v.jsx(l9,{onClick:d,children:e.requirement})]})}),v.jsx(ss,{children:v.jsx(aA,{href:e.url,target:"_blank"})}),v.jsx(n9,{children:v.jsx(c9,{onClick:d,children:e.note||""})}),v.jsx(ss,{children:v.jsx(u9,{status:e.status,children:e.status==="검수요청"?"진행중":e.status||"대기"})}),v.jsx(ss,{children:y&&y.length>0?v.jsx(h9,{children:y.map((_,x)=>v.jsx(d9,{children:_},`${_}-${x}`))}):e.assigned_designers||"미배정"}),v.jsx(ss,{children:e.manager_review_status==="검수완료"&&e.result_url?v.jsx(aA,{href:e.result_url,target:"_blank"}):""}),v.jsx(ss,{children:p?v.jsx(oA,{children:"검수완료"}):e.manager_review_status==="검수완료"?e.status!=="완료"?v.jsx(qM,{onClick:()=>i(e.id),disabled:n,children:"검수완료"}):v.jsx(oA,{children:"검수완료"}):""}),v.jsx(ss,{children:v.jsx(HM,{onClick:()=>r(e.id),disabled:n||c||e.status==="취소"||e.status==="완료",children:"수정"})}),v.jsx(ss,{children:v.jsx(WM,{onClick:()=>s(e.id),disabled:n||c||e.status==="취소"||e.status==="완료",children:"취소"})})]})}const Qz=B.tr`
  ${({isCanceled:e})=>e&&`
      td {
        color: #888;
        background-color: #f4f4f4;
      }
    `}
    
  ${({isCanceled:e,theme:t})=>e&&`
      ${$M} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
      }
      ${qM}, ${HM}, ${WM} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
        border-color: ${t.colors.gray06};
        cursor: default;
        pointer-events: none;
      }
    `}
  &:hover {
    td {
      background-color: ${({theme:e})=>e.colors.gray04}
    }
  }

  & td {
    font-family: 'Pretendard';
    font-size: 14px;
    font-weight: 500;
  }
`,ss=B.td`
  padding: 15px 0;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(12) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }
`,Zz=B.td`
  color: ${({theme:e})=>e.colors.red};
`,Jz=B.td`
  color: ${({theme:e})=>e.colors.blue02};
`,t9=B.td`
  padding: 15px 12px;
  line-height: 15px;
`,e9=B.td`
  line-height: 15px;
  text-align: left;
`,n9=B.td`
  line-height: 15px;
  padding: 0 12px;
  text-align: left;
  background-color: #fffff1;
`,i9=B.span`
  position: relative;

  &::after {
    content: '';
    position: absolute;
    top: -5px;
    right: -2px;
    display: ${({$hasUpdate:e})=>e?"block":"none"};
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background-color: ${({theme:e})=>e.colors.red};
  }

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,s9=B.div`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`,r9=B.span`
  
`,a9=B.span`
  
`,o9=B.div`
  ${({theme:e})=>e.mixin.flex("center")};
  padding: 0 12px;
`,l9=B.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,$M=B.span`
  margin-right: 8px;
  padding: 3px 5px;
  border-radius: 2px;
  font-size: 10px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.red};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,aA=B.a`
  display: inline-block;
  vertical-align: middle;
  width: 24px;
  height: 24px;
  background: url(${vx}) no-repeat center / contain;
`,c9=B.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  overflow-wrap: anywhere;
  word-break: break-word;
  text-overflow: ellipsis;
  white-space: normal;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,u9=B.span`
  border-radius: 14px;
  padding: 5.5px 12px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 400;
  color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.orange;case"진행중":return t.colors.blue02;case"검수요청":return t.colors.blue02;case"검수중":return t.colors.red;case"완료":return t.colors.gray06;default:return t.colors.gray06}}};
  background-color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.beige02;case"진행중":return t.colors.lightpupple;case"검수요청":return t.colors.lightpupple;case"검수중":return t.colors.pink03;case"완료":return t.colors.white02;default:return t.colors.gray07}}};;
`,qM=B.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  background-color: green;
  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`,oA=B.span`
  color: green;
  font-weight: bold;
`,HM=B.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  background-color: ${({theme:e})=>e.colors.black};

  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`,WM=B.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  background-color: ${({theme:e})=>e.colors.black};

  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`,h9=B.div`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`,d9=B.span`
  line-height: 1.2;
`;function lA({data:e,disableActions:t=!1,lockOthers:n=!1,currentUserName:i="",onReviewComplete:s,onCancel:r,onEditClick:l,onDetailClick:c}){return v.jsx(f9,{children:v.jsxs(p9,{children:[v.jsx(g9,{children:"요청 리스트"}),v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"90px"}}),v.jsx("col",{style:{width:"180px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"90px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}})]}),v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx(Xn,{children:"번호"}),v.jsx(Xn,{children:"문서번호"}),v.jsx(Xn,{children:"요청일"}),v.jsxs(Xn,{children:["완료",v.jsx("br",{}),"요청일"]}),v.jsx(Xn,{children:"오픈일"}),v.jsx(Xn,{children:"담당MD"}),v.jsx(Xn,{children:"업무부서"}),v.jsx(Xn,{children:"업무유형"}),v.jsx(Xn,{children:"작업항목"}),v.jsx(Xn,{children:"요청서 URL"}),v.jsx(Xn,{children:"메모"}),v.jsx(Xn,{children:"진행상태"}),v.jsx(Xn,{children:"디자이너"}),v.jsx(Xn,{children:"산출물 URL"}),v.jsx(Xn,{children:"검수"}),v.jsx(Xn,{children:"수정"}),v.jsx(Xn,{children:"취소"})]})}),v.jsx("tbody",{children:e.length>0?e.map((h,d)=>{const p=h.requester===i,y=t||n&&!p;return v.jsx(Xz,{index:d+1,item:h,disableActions:y,onReviewComplete:s,onCancel:r,onEditClick:l,onDetailClick:c},h.id)}):v.jsx("tr",{children:v.jsx("td",{colSpan:17,style:{textAlign:"center",padding:20},children:"등록된 요청이 없습니다."})})})]})})}const f9=B.div`
  position: relative;
  max-height: 535px;
  border-top: 2px solid ${({theme:e})=>e.colors.black};
  overflow-y: auto;
  scrollbar-width: thin;
`,p9=B.table`
  table-layout: fixed;
  width: 100%;
  text-align: center;
`,g9=B.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,Xn=B.th`
  position: sticky;
  top: -2px;
  line-height: 16px;
  padding: 13px 0;
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.gray08};
  z-index: 10;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(12) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }

  &:nth-of-type(13), &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16) {
    border-right: 1px solid ${({theme:e})=>e.colors.pink02}
  }

  &:nth-of-type(13), &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`;function xx({userRole:e}){const[t]=gm(),n=t.get("view")||"dashboard",i=e??1,s=j.useMemo(()=>{const d={dashboard:"전체 현황",inworkhour:"내부 공수"};return i===2?{...d,myrequestlist:"작업 리스트",allrequestlist:"전체 작업 리스트"}:i===3?{...d,myrequestlist:"요청 리스트",allrequestlist:"요청 리스트"}:{...d,myrequestlist:"요청 리스트",allrequestlist:"전체 요청 리스트"}},[i]),r=j.useMemo(()=>n!=="myrequestlist"?"":i===2?" (디자이너)":i===3?" (매니저)":"",[n,i]),l=new Date,c=l.getFullYear(),h=l.getMonth()+1;return v.jsx(m9,{children:v.jsxs(y9,{children:[c,"년 ",h,"월 디자인 ",s[n],r]})})}const m9=B.div`
  padding: 29px 48px;
  background-color: ${({theme:e})=>e.colors.gray08};
`,y9=B.h2`
  font-family: 'Pretendard';
  font-size: 36px;
  font-weight: 700;
`,wx="/pdms-test/assets/selectbox-arrow-BwC8UGU0.svg";function _9(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const Eb={},Hh={};function dl(e,t){try{const i=(Eb[e]||(Eb[e]=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format))(t).split("GMT")[1];return i in Hh?Hh[i]:cA(i,i.split(":"))}catch{if(e in Hh)return Hh[e];const n=e==null?void 0:e.match(b9);return n?cA(e,n.slice(1)):NaN}}const b9=/([+-]\d\d):?(\d\d)?/;function cA(e,t){const n=+(t[0]||0),i=+(t[1]||0),s=+(t[2]||0)/60;return Hh[e]=n*60+i>0?n*60+i+s:n*60-i-s}class Qs extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(dl(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),YM(this),F0(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new Qs(...n,t):new Qs(Date.now(),t)}withTimeZone(t){return new Qs(+this,t)}getTimezoneOffset(){const t=-dl(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),F0(this),+this}[Symbol.for("constructDateFrom")](t){return new Qs(+new Date(t),this.timeZone)}}const uA=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!uA.test(e))return;const t=e.replace(uA,"$1UTC");Qs.prototype[t]&&(e.startsWith("get")?Qs.prototype[e]=function(){return this.internal[t]()}:(Qs.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),v9(this),+this},Qs.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),F0(this),+this}))});function F0(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-dl(e.timeZone,e)*60))}function v9(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),YM(e)}function YM(e){const t=dl(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),i=new Date(+e);i.setUTCHours(i.getUTCHours()-1);const s=-new Date(+e).getTimezoneOffset(),r=-new Date(+i).getTimezoneOffset(),l=s-r,c=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();l&&c&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+l);const h=s-n;h&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+h);const d=new Date(+e);d.setUTCSeconds(0);const p=s>0?d.getSeconds():(d.getSeconds()-60)%60,y=Math.round(-(dl(e.timeZone,e)*60))%60;(y||p)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+y),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+y+p));const _=dl(e.timeZone,e),x=_>0?Math.floor(_):Math.ceil(_),T=-new Date(+e).getTimezoneOffset()-x,S=x!==n,D=T-h;if(S&&D){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+D);const I=dl(e.timeZone,e),N=I>0?Math.floor(I):Math.ceil(I),H=x-N;H&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+H),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+H))}}class ai extends Qs{static tz(t,...n){return n.length?new ai(...n,t):new ai(Date.now(),t)}toISOString(){const[t,n,i]=this.tzComponents(),s=`${t}${n}:${i}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,i,s]=this.internal.toUTCString().split(" ");return`${t==null?void 0:t.slice(0,-1)} ${i} ${n} ${s}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,i,s]=this.tzComponents();return`${t} GMT${n}${i}${s} (${_9(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",i=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),s=String(Math.abs(t)%60).padStart(2,"0");return[n,i,s]}withTimeZone(t){return new ai(+this,t)}[Symbol.for("constructDateFrom")](t){return new ai(+new Date(t),this.timeZone)}}const GM=6048e5,x9=864e5,hA=Symbol.for("constructDateFrom");function Mn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&hA in e?e[hA](t):e instanceof Date?new e.constructor(t):new Date(t)}function Me(e,t){return Mn(t||e,e)}function KM(e,t,n){const i=Me(e,n==null?void 0:n.in);return isNaN(t)?Mn(e,NaN):(t&&i.setDate(i.getDate()+t),i)}function XM(e,t,n){const i=Me(e,n==null?void 0:n.in);if(isNaN(t))return Mn(e,NaN);if(!t)return i;const s=i.getDate(),r=Mn(e,i.getTime());r.setMonth(i.getMonth()+t+1,0);const l=r.getDate();return s>=l?r:(i.setFullYear(r.getFullYear(),r.getMonth(),s),i)}let w9={};function Xd(){return w9}function iu(e,t){var c,h,d,p;const n=Xd(),i=(t==null?void 0:t.weekStartsOn)??((h=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((p=(d=n.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,s=Me(e,t==null?void 0:t.in),r=s.getDay(),l=(r<i?7:0)+r-i;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function kd(e,t){return iu(e,{...t,weekStartsOn:1})}function QM(e,t){const n=Me(e,t==null?void 0:t.in),i=n.getFullYear(),s=Mn(n,0);s.setFullYear(i+1,0,4),s.setHours(0,0,0,0);const r=kd(s),l=Mn(n,0);l.setFullYear(i,0,4),l.setHours(0,0,0,0);const c=kd(l);return n.getTime()>=r.getTime()?i+1:n.getTime()>=c.getTime()?i:i-1}function dA(e){const t=Me(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function bu(e,...t){const n=Mn.bind(null,t.find(i=>typeof i=="object"));return t.map(n)}function Rd(e,t){const n=Me(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function ZM(e,t,n){const[i,s]=bu(n==null?void 0:n.in,e,t),r=Rd(i),l=Rd(s),c=+r-dA(r),h=+l-dA(l);return Math.round((c-h)/x9)}function E9(e,t){const n=QM(e,t),i=Mn(e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),kd(i)}function S9(e,t,n){return KM(e,t*7,n)}function T9(e,t,n){return XM(e,t*12,n)}function A9(e,t){let n,i=t==null?void 0:t.in;return e.forEach(s=>{!i&&typeof s=="object"&&(i=Mn.bind(null,s));const r=Me(s,i);(!n||n<r||isNaN(+r))&&(n=r)}),Mn(i,n||NaN)}function k9(e,t){let n,i=t==null?void 0:t.in;return e.forEach(s=>{!i&&typeof s=="object"&&(i=Mn.bind(null,s));const r=Me(s,i);(!n||n>r||isNaN(+r))&&(n=r)}),Mn(i,n||NaN)}function R9(e,t,n){const[i,s]=bu(n==null?void 0:n.in,e,t);return+Rd(i)==+Rd(s)}function JM(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function C9(e){return!(!JM(e)&&typeof e!="number"||isNaN(+Me(e)))}function D9(e,t,n){const[i,s]=bu(n==null?void 0:n.in,e,t),r=i.getFullYear()-s.getFullYear(),l=i.getMonth()-s.getMonth();return r*12+l}function M9(e,t){const n=Me(e,t==null?void 0:t.in),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function I9(e,t){const[n,i]=bu(e,t.start,t.end);return{start:n,end:i}}function O9(e,t){const{start:n,end:i}=I9(t==null?void 0:t.in,e);let s=+n>+i;const r=s?+n:+i,l=s?i:n;l.setHours(0,0,0,0),l.setDate(1);let c=1;const h=[];for(;+l<=r;)h.push(Mn(n,l)),l.setMonth(l.getMonth()+c);return s?h.reverse():h}function P9(e,t){const n=Me(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function N9(e,t){const n=Me(e,t==null?void 0:t.in),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n}function tI(e,t){const n=Me(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function eI(e,t){var c,h,d,p;const n=Xd(),i=(t==null?void 0:t.weekStartsOn)??((h=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((p=(d=n.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,s=Me(e,t==null?void 0:t.in),r=s.getDay(),l=(r<i?-7:0)+6-(r-i);return s.setDate(s.getDate()+l),s.setHours(23,59,59,999),s}function L9(e,t){return eI(e,{...t,weekStartsOn:1})}const j9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},V9=(e,t,n)=>{let i;const s=j9[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Sb(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const U9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},z9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},F9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},B9={date:Sb({formats:U9,defaultWidth:"full"}),time:Sb({formats:z9,defaultWidth:"full"}),dateTime:Sb({formats:F9,defaultWidth:"full"})},$9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},q9=(e,t,n,i)=>$9[e];function Sh(e){return(t,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let s;if(i==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):l;s=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}const r=e.argumentCallback?e.argumentCallback(t):t;return s[r]}}const H9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},W9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Y9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},G9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},K9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},X9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Q9=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Z9={ordinalNumber:Q9,era:Sh({values:H9,defaultWidth:"wide"}),quarter:Sh({values:W9,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Sh({values:Y9,defaultWidth:"wide"}),day:Sh({values:G9,defaultWidth:"wide"}),dayPeriod:Sh({values:K9,defaultWidth:"wide",formattingValues:X9,defaultFormattingWidth:"wide"})};function Th(e){return(t,n={})=>{const i=n.width,s=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],r=t.match(s);if(!r)return null;const l=r[0],c=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(c)?tF(c,y=>y.test(l)):J9(c,y=>y.test(l));let d;d=e.valueCallback?e.valueCallback(h):h,d=n.valueCallback?n.valueCallback(d):d;const p=t.slice(l.length);return{value:d,rest:p}}}function J9(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function tF(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function eF(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const s=i[0],r=t.match(e.parsePattern);if(!r)return null;let l=e.valueCallback?e.valueCallback(r[0]):r[0];l=n.valueCallback?n.valueCallback(l):l;const c=t.slice(s.length);return{value:l,rest:c}}}const nF=/^(\d+)(th|st|nd|rd)?/i,iF=/\d+/i,sF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rF={any:[/^b/i,/^(a|c)/i]},aF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},oF={any:[/1/i,/2/i,/3/i,/4/i]},lF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},uF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pF={ordinalNumber:eF({matchPattern:nF,parsePattern:iF,valueCallback:e=>parseInt(e,10)}),era:Th({matchPatterns:sF,defaultMatchWidth:"wide",parsePatterns:rF,defaultParseWidth:"any"}),quarter:Th({matchPatterns:aF,defaultMatchWidth:"wide",parsePatterns:oF,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Th({matchPatterns:lF,defaultMatchWidth:"wide",parsePatterns:cF,defaultParseWidth:"any"}),day:Th({matchPatterns:uF,defaultMatchWidth:"wide",parsePatterns:hF,defaultParseWidth:"any"}),dayPeriod:Th({matchPatterns:dF,defaultMatchWidth:"any",parsePatterns:fF,defaultParseWidth:"any"})},Ex={code:"en-US",formatDistance:V9,formatLong:B9,formatRelative:q9,localize:Z9,match:pF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gF(e,t){const n=Me(e,t==null?void 0:t.in);return ZM(n,tI(n))+1}function nI(e,t){const n=Me(e,t==null?void 0:t.in),i=+kd(n)-+E9(n);return Math.round(i/GM)+1}function iI(e,t){var p,y,_,x;const n=Me(e,t==null?void 0:t.in),i=n.getFullYear(),s=Xd(),r=(t==null?void 0:t.firstWeekContainsDate)??((y=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(_=s.locale)==null?void 0:_.options)==null?void 0:x.firstWeekContainsDate)??1,l=Mn((t==null?void 0:t.in)||e,0);l.setFullYear(i+1,0,r),l.setHours(0,0,0,0);const c=iu(l,t),h=Mn((t==null?void 0:t.in)||e,0);h.setFullYear(i,0,r),h.setHours(0,0,0,0);const d=iu(h,t);return+n>=+c?i+1:+n>=+d?i:i-1}function mF(e,t){var c,h,d,p;const n=Xd(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(d=n.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,s=iI(e,t),r=Mn((t==null?void 0:t.in)||e,0);return r.setFullYear(s,0,i),r.setHours(0,0,0,0),iu(r,t)}function sI(e,t){const n=Me(e,t==null?void 0:t.in),i=+iu(n,t)-+mF(n,t);return Math.round(i/GM)+1}function Te(e,t){const n=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return n+i}const Fa={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return Te(t==="yy"?i%100:i,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Te(n+1,2)},d(e,t){return Te(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Te(e.getHours()%12||12,t.length)},H(e,t){return Te(e.getHours(),t.length)},m(e,t){return Te(e.getMinutes(),t.length)},s(e,t){return Te(e.getSeconds(),t.length)},S(e,t){const n=t.length,i=e.getMilliseconds(),s=Math.trunc(i*Math.pow(10,n-3));return Te(s,t.length)}},Sc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fA={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const i=e.getFullYear(),s=i>0?i:1-i;return n.ordinalNumber(s,{unit:"year"})}return Fa.y(e,t)},Y:function(e,t,n,i){const s=iI(e,i),r=s>0?s:1-s;if(t==="YY"){const l=r%100;return Te(l,2)}return t==="Yo"?n.ordinalNumber(r,{unit:"year"}):Te(r,t.length)},R:function(e,t){const n=QM(e);return Te(n,t.length)},u:function(e,t){const n=e.getFullYear();return Te(n,t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Te(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Te(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return Fa.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return Te(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const s=sI(e,i);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Te(s,t.length)},I:function(e,t,n){const i=nI(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):Te(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Fa.d(e,t)},D:function(e,t,n){const i=gF(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Te(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const s=e.getDay(),r=(s-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(r);case"ee":return Te(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const s=e.getDay(),r=(s-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(r);case"cc":return Te(r,t.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),s=i===0?7:i;switch(t){case"i":return String(s);case"ii":return Te(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let s;switch(i===12?s=Sc.noon:i===0?s=Sc.midnight:s=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let s;switch(i>=17?s=Sc.evening:i>=12?s=Sc.afternoon:i>=4?s=Sc.morning:s=Sc.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Fa.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Fa.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Te(i,t.length)},k:function(e,t,n){let i=e.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):Te(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Fa.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Fa.s(e,t)},S:function(e,t){return Fa.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return gA(i);case"XXXX":case"XX":return ol(i);case"XXXXX":case"XXX":default:return ol(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return gA(i);case"xxxx":case"xx":return ol(i);case"xxxxx":case"xxx":default:return ol(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+pA(i,":");case"OOOO":default:return"GMT"+ol(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+pA(i,":");case"zzzz":default:return"GMT"+ol(i,":")}},t:function(e,t,n){const i=Math.trunc(+e/1e3);return Te(i,t.length)},T:function(e,t,n){return Te(+e,t.length)}};function pA(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=Math.trunc(i/60),r=i%60;return r===0?n+String(s):n+String(s)+t+Te(r,2)}function gA(e,t){return e%60===0?(e>0?"-":"+")+Te(Math.abs(e)/60,2):ol(e,t)}function ol(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=Te(Math.trunc(i/60),2),r=Te(i%60,2);return n+s+t+r}const mA=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},rI=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},yF=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return mA(e,t);let r;switch(i){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;case"PPPP":default:r=t.dateTime({width:"full"});break}return r.replace("{{date}}",mA(i,t)).replace("{{time}}",rI(s,t))},_F={p:rI,P:yF},bF=/^D+$/,vF=/^Y+$/,xF=["D","DD","YY","YYYY"];function wF(e){return bF.test(e)}function EF(e){return vF.test(e)}function SF(e,t,n){const i=TF(e,t,n);if(console.warn(i),xF.includes(e))throw new RangeError(i)}function TF(e,t,n){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const AF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,RF=/^'([^]*?)'?$/,CF=/''/g,DF=/[a-zA-Z]/;function MF(e,t,n){var p,y,_,x,E,T,S,D;const i=Xd(),s=(n==null?void 0:n.locale)??i.locale??Ex,r=(n==null?void 0:n.firstWeekContainsDate)??((y=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((x=(_=i.locale)==null?void 0:_.options)==null?void 0:x.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((T=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:T.weekStartsOn)??i.weekStartsOn??((D=(S=i.locale)==null?void 0:S.options)==null?void 0:D.weekStartsOn)??0,c=Me(e,n==null?void 0:n.in);if(!C9(c))throw new RangeError("Invalid time value");let h=t.match(kF).map(I=>{const N=I[0];if(N==="p"||N==="P"){const H=_F[N];return H(I,s.formatLong)}return I}).join("").match(AF).map(I=>{if(I==="''")return{isToken:!1,value:"'"};const N=I[0];if(N==="'")return{isToken:!1,value:IF(I)};if(fA[N])return{isToken:!0,value:I};if(N.match(DF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:I}});s.localize.preprocessor&&(h=s.localize.preprocessor(c,h));const d={firstWeekContainsDate:r,weekStartsOn:l,locale:s};return h.map(I=>{if(!I.isToken)return I.value;const N=I.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&EF(N)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&wF(N))&&SF(N,t,String(e));const H=fA[N[0]];return H(c,N,s.localize,d)}).join("")}function IF(e){const t=e.match(RF);return t?t[1].replace(CF,"'"):e}function OF(e,t){const n=Me(e,t==null?void 0:t.in),i=n.getFullYear(),s=n.getMonth(),r=Mn(n,0);return r.setFullYear(i,s+1,0),r.setHours(0,0,0,0),r.getDate()}function PF(e,t){return Me(e,t==null?void 0:t.in).getMonth()}function NF(e,t){return Me(e,t==null?void 0:t.in).getFullYear()}function LF(e,t){return+Me(e)>+Me(t)}function jF(e,t){return+Me(e)<+Me(t)}function VF(e,t,n){const[i,s]=bu(n==null?void 0:n.in,e,t);return i.getFullYear()===s.getFullYear()&&i.getMonth()===s.getMonth()}function UF(e,t,n){const[i,s]=bu(n==null?void 0:n.in,e,t);return i.getFullYear()===s.getFullYear()}function zF(e,t,n){const i=Me(e,n==null?void 0:n.in),s=i.getFullYear(),r=i.getDate(),l=Mn(e,0);l.setFullYear(s,t,15),l.setHours(0,0,0,0);const c=OF(l);return i.setMonth(t,Math.min(r,c)),i}function FF(e,t,n){const i=Me(e,n==null?void 0:n.in);return isNaN(+i)?Mn(e,NaN):(i.setFullYear(t),i)}const yA=5,BF=4;function $F(e,t){const n=t.startOfMonth(e),i=n.getDay()>0?n.getDay():7,s=t.addDays(e,-i+1),r=t.addDays(s,yA*7-1);return t.getMonth(e)===t.getMonth(r)?yA:BF}function aI(e,t){const n=t.startOfMonth(e),i=n.getDay();return i===1?n:i===0?t.addDays(n,-6):t.addDays(n,-1*(i-1))}function qF(e,t){const n=aI(e,t),i=$F(e,t);return t.addDays(n,i*7-1)}class ua{constructor(t,n){this.Date=Date,this.today=()=>{var i;return(i=this.overrides)!=null&&i.today?this.overrides.today():this.options.timeZone?ai.tz(this.options.timeZone):new this.Date},this.newDate=(i,s,r)=>{var l;return(l=this.overrides)!=null&&l.newDate?this.overrides.newDate(i,s,r):this.options.timeZone?new ai(i,s,r,this.options.timeZone):new Date(i,s,r)},this.addDays=(i,s)=>{var r;return(r=this.overrides)!=null&&r.addDays?this.overrides.addDays(i,s):KM(i,s)},this.addMonths=(i,s)=>{var r;return(r=this.overrides)!=null&&r.addMonths?this.overrides.addMonths(i,s):XM(i,s)},this.addWeeks=(i,s)=>{var r;return(r=this.overrides)!=null&&r.addWeeks?this.overrides.addWeeks(i,s):S9(i,s)},this.addYears=(i,s)=>{var r;return(r=this.overrides)!=null&&r.addYears?this.overrides.addYears(i,s):T9(i,s)},this.differenceInCalendarDays=(i,s)=>{var r;return(r=this.overrides)!=null&&r.differenceInCalendarDays?this.overrides.differenceInCalendarDays(i,s):ZM(i,s)},this.differenceInCalendarMonths=(i,s)=>{var r;return(r=this.overrides)!=null&&r.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(i,s):D9(i,s)},this.eachMonthOfInterval=i=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(i):O9(i)},this.endOfBroadcastWeek=i=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(i):qF(i,this)},this.endOfISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(i):L9(i)},this.endOfMonth=i=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(i):M9(i)},this.endOfWeek=(i,s)=>{var r;return(r=this.overrides)!=null&&r.endOfWeek?this.overrides.endOfWeek(i,s):eI(i,this.options)},this.endOfYear=i=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(i):N9(i)},this.format=(i,s,r)=>{var c;const l=(c=this.overrides)!=null&&c.format?this.overrides.format(i,s,this.options):MF(i,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(l):l},this.getISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(i):nI(i)},this.getMonth=(i,s)=>{var r;return(r=this.overrides)!=null&&r.getMonth?this.overrides.getMonth(i,this.options):PF(i,this.options)},this.getYear=(i,s)=>{var r;return(r=this.overrides)!=null&&r.getYear?this.overrides.getYear(i,this.options):NF(i,this.options)},this.getWeek=(i,s)=>{var r;return(r=this.overrides)!=null&&r.getWeek?this.overrides.getWeek(i,this.options):sI(i,this.options)},this.isAfter=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isAfter?this.overrides.isAfter(i,s):LF(i,s)},this.isBefore=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isBefore?this.overrides.isBefore(i,s):jF(i,s)},this.isDate=i=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(i):JM(i)},this.isSameDay=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isSameDay?this.overrides.isSameDay(i,s):R9(i,s)},this.isSameMonth=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isSameMonth?this.overrides.isSameMonth(i,s):VF(i,s)},this.isSameYear=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isSameYear?this.overrides.isSameYear(i,s):UF(i,s)},this.max=i=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(i):A9(i)},this.min=i=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(i):k9(i)},this.setMonth=(i,s)=>{var r;return(r=this.overrides)!=null&&r.setMonth?this.overrides.setMonth(i,s):zF(i,s)},this.setYear=(i,s)=>{var r;return(r=this.overrides)!=null&&r.setYear?this.overrides.setYear(i,s):FF(i,s)},this.startOfBroadcastWeek=(i,s)=>{var r;return(r=this.overrides)!=null&&r.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(i,this):aI(i,this)},this.startOfDay=i=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(i):Rd(i)},this.startOfISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(i):kd(i)},this.startOfMonth=i=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(i):P9(i)},this.startOfWeek=(i,s)=>{var r;return(r=this.overrides)!=null&&r.startOfWeek?this.overrides.startOfWeek(i,this.options):iu(i,this.options)},this.startOfYear=i=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(i):tI(i)},this.options={locale:Ex,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),i={};for(let s=0;s<10;s++)i[s.toString()]=n.format(s);return i}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,i=>n[i]||i)}formatNumber(t){return this.replaceDigits(t.toString())}}const ur=new ua;class oI{constructor(t,n,i=ur){this.date=t,this.displayMonth=n,this.outside=!!(n&&!i.isSameMonth(t,n)),this.dateLib=i}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class HF{constructor(t,n){this.date=t,this.weeks=n}}class WF{constructor(t,n){this.days=n,this.weekNumber=t}}function YF(e){return Et.createElement("button",{...e})}function GF(e){return Et.createElement("span",{...e})}function KF(e){const{size:t=24,orientation:n="left",className:i}=e;return Et.createElement("svg",{className:i,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&Et.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&Et.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&Et.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&Et.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function XF(e){const{day:t,modifiers:n,...i}=e;return Et.createElement("td",{...i})}function QF(e){const{day:t,modifiers:n,...i}=e,s=Et.useRef(null);return Et.useEffect(()=>{var r;n.focused&&((r=s.current)==null||r.focus())},[n.focused]),Et.createElement("button",{ref:s,...i})}var Pt;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(Pt||(Pt={}));var Xe;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(Xe||(Xe={}));var bs;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(bs||(bs={}));var zi;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(zi||(zi={}));function ZF(e){const{options:t,className:n,components:i,classNames:s,...r}=e,l=[s[Pt.Dropdown],n].join(" "),c=t==null?void 0:t.find(({value:h})=>h===r.value);return Et.createElement("span",{"data-disabled":r.disabled,className:s[Pt.DropdownRoot]},Et.createElement(i.Select,{className:l,...r},t==null?void 0:t.map(({value:h,label:d,disabled:p})=>Et.createElement(i.Option,{key:h,value:h,disabled:p},d))),Et.createElement("span",{className:s[Pt.CaptionLabel],"aria-hidden":!0},c==null?void 0:c.label,Et.createElement(i.Chevron,{orientation:"down",size:18,className:s[Pt.Chevron]})))}function JF(e){return Et.createElement("div",{...e})}function tB(e){return Et.createElement("div",{...e})}function eB(e){const{calendarMonth:t,displayIndex:n,...i}=e;return Et.createElement("div",{...i},e.children)}function nB(e){const{calendarMonth:t,displayIndex:n,...i}=e;return Et.createElement("div",{...i})}function iB(e){return Et.createElement("table",{...e})}function sB(e){return Et.createElement("div",{...e})}const lI=j.createContext(void 0);function Qd(){const e=j.useContext(lI);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function rB(e){const{components:t}=Qd();return Et.createElement(t.Dropdown,{...e})}function aB(e){const{onPreviousClick:t,onNextClick:n,previousMonth:i,nextMonth:s,...r}=e,{components:l,classNames:c,labels:{labelPrevious:h,labelNext:d}}=Qd(),p=j.useCallback(_=>{s&&(n==null||n(_))},[s,n]),y=j.useCallback(_=>{i&&(t==null||t(_))},[i,t]);return Et.createElement("nav",{...r},Et.createElement(l.PreviousMonthButton,{type:"button",className:c[Pt.PreviousMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":h(i),onClick:y},Et.createElement(l.Chevron,{disabled:i?void 0:!0,className:c[Pt.Chevron],orientation:"left"})),Et.createElement(l.NextMonthButton,{type:"button",className:c[Pt.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":d(s),onClick:p},Et.createElement(l.Chevron,{disabled:s?void 0:!0,orientation:"right",className:c[Pt.Chevron]})))}function oB(e){const{components:t}=Qd();return Et.createElement(t.Button,{...e})}function lB(e){return Et.createElement("option",{...e})}function cB(e){const{components:t}=Qd();return Et.createElement(t.Button,{...e})}function uB(e){const{rootRef:t,...n}=e;return Et.createElement("div",{...n,ref:t})}function hB(e){return Et.createElement("select",{...e})}function dB(e){const{week:t,...n}=e;return Et.createElement("tr",{...n})}function fB(e){return Et.createElement("th",{...e})}function pB(e){return Et.createElement("thead",{"aria-hidden":!0},Et.createElement("tr",{...e}))}function gB(e){const{week:t,...n}=e;return Et.createElement("th",{...n})}function mB(e){return Et.createElement("th",{...e})}function yB(e){return Et.createElement("tbody",{...e})}function _B(e){const{components:t}=Qd();return Et.createElement(t.Dropdown,{...e})}const bB=Object.freeze(Object.defineProperty({__proto__:null,Button:YF,CaptionLabel:GF,Chevron:KF,Day:XF,DayButton:QF,Dropdown:ZF,DropdownNav:JF,Footer:tB,Month:eB,MonthCaption:nB,MonthGrid:iB,Months:sB,MonthsDropdown:rB,Nav:aB,NextMonthButton:oB,Option:lB,PreviousMonthButton:cB,Root:uB,Select:hB,Week:dB,WeekNumber:gB,WeekNumberHeader:mB,Weekday:fB,Weekdays:pB,Weeks:yB,YearsDropdown:_B},Symbol.toStringTag,{value:"Module"}));function Gr(e,t,n=!1,i=ur){let{from:s,to:r}=e;const{differenceInCalendarDays:l,isSameDay:c}=i;return s&&r?(l(r,s)<0&&([s,r]=[r,s]),l(t,s)>=(n?1:0)&&l(r,t)>=(n?1:0)):!n&&r?c(r,t):!n&&s?c(s,t):!1}function cI(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Sx(e){return!!(e&&typeof e=="object"&&"from"in e)}function uI(e){return!!(e&&typeof e=="object"&&"after"in e)}function hI(e){return!!(e&&typeof e=="object"&&"before"in e)}function dI(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function fI(e,t){return Array.isArray(e)&&e.every(t.isDate)}function Kr(e,t,n=ur){const i=Array.isArray(t)?t:[t],{isSameDay:s,differenceInCalendarDays:r,isAfter:l}=n;return i.some(c=>{if(typeof c=="boolean")return c;if(n.isDate(c))return s(e,c);if(fI(c,n))return c.includes(e);if(Sx(c))return Gr(c,e,!1,n);if(dI(c))return Array.isArray(c.dayOfWeek)?c.dayOfWeek.includes(e.getDay()):c.dayOfWeek===e.getDay();if(cI(c)){const h=r(c.before,e),d=r(c.after,e),p=h>0,y=d<0;return l(c.before,c.after)?y&&p:p||y}return uI(c)?r(e,c.after)>0:hI(c)?r(c.before,e)>0:typeof c=="function"?c(e):!1})}function vB(e,t,n,i,s){const{disabled:r,hidden:l,modifiers:c,showOutsideDays:h,broadcastCalendar:d,today:p}=t,{isSameDay:y,isSameMonth:_,startOfMonth:x,isBefore:E,endOfMonth:T,isAfter:S}=s,D=n&&x(n),I=i&&T(i),N={[Xe.focused]:[],[Xe.outside]:[],[Xe.disabled]:[],[Xe.hidden]:[],[Xe.today]:[]},H={};for(const M of e){const{date:Y,displayMonth:R}=M,C=!!(R&&!_(Y,R)),P=!!(D&&E(Y,D)),V=!!(I&&S(Y,I)),U=!!(r&&Kr(Y,r,s)),q=!!(l&&Kr(Y,l,s))||P||V||!d&&!h&&C||d&&h===!1&&C,z=y(Y,p??s.today());C&&N.outside.push(M),U&&N.disabled.push(M),q&&N.hidden.push(M),z&&N.today.push(M),c&&Object.keys(c).forEach(Ct=>{const Q=c==null?void 0:c[Ct];Q&&Kr(Y,Q,s)&&(H[Ct]?H[Ct].push(M):H[Ct]=[M])})}return M=>{const Y={[Xe.focused]:!1,[Xe.disabled]:!1,[Xe.hidden]:!1,[Xe.outside]:!1,[Xe.today]:!1},R={};for(const C in N){const P=N[C];Y[C]=P.some(V=>V===M)}for(const C in H)R[C]=H[C].some(P=>P===M);return{...Y,...R}}}function xB(e,t,n={}){return Object.entries(e).filter(([,s])=>s===!0).reduce((s,[r])=>(n[r]?s.push(n[r]):t[Xe[r]]?s.push(t[Xe[r]]):t[bs[r]]&&s.push(t[bs[r]]),s),[t[Pt.Day]])}function wB(e){return{...bB,...e}}function EB(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,i])=>{n.startsWith("data-")&&(t[n]=i)}),t}function SB(){const e={};for(const t in Pt)e[Pt[t]]=`rdp-${Pt[t]}`;for(const t in Xe)e[Xe[t]]=`rdp-${Xe[t]}`;for(const t in bs)e[bs[t]]=`rdp-${bs[t]}`;for(const t in zi)e[zi[t]]=`rdp-${zi[t]}`;return e}function pI(e,t,n){return(n??new ua(t)).format(e,"LLLL y")}const TB=pI;function AB(e,t,n){return(n??new ua(t)).format(e,"d")}function kB(e,t=ur){return t.format(e,"LLLL")}function RB(e,t,n){return(n??new ua(t)).format(e,"cccccc")}function CB(e,t=ur){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function DB(){return""}function gI(e,t=ur){return t.format(e,"yyyy")}const MB=gI,IB=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:pI,formatDay:AB,formatMonthCaption:TB,formatMonthDropdown:kB,formatWeekNumber:CB,formatWeekNumberHeader:DB,formatWeekdayName:RB,formatYearCaption:MB,formatYearDropdown:gI},Symbol.toStringTag,{value:"Module"}));function OB(e){return e!=null&&e.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e!=null&&e.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...IB,...e}}function PB(e,t,n,i,s){const{startOfMonth:r,startOfYear:l,endOfYear:c,eachMonthOfInterval:h,getMonth:d}=s;return h({start:l(e),end:c(e)}).map(_=>{const x=i.formatMonthDropdown(_,s),E=d(_),T=t&&_<r(t)||n&&_>r(n)||!1;return{value:E,label:x,disabled:T}})}function NB(e,t={},n={}){let i={...t==null?void 0:t[Pt.Day]};return Object.entries(e).filter(([,s])=>s===!0).forEach(([s])=>{i={...i,...n==null?void 0:n[s]}}),i}function LB(e,t,n){const i=e.today(),s=t?e.startOfISOWeek(i):e.startOfWeek(i),r=[];for(let l=0;l<7;l++){const c=e.addDays(s,l);r.push(c)}return r}function jB(e,t,n,i,s=!1){if(!e||!t)return;const{startOfYear:r,endOfYear:l,addYears:c,getYear:h,isBefore:d,isSameYear:p}=i,y=r(e),_=l(t),x=[];let E=y;for(;d(E,_)||p(E,_);)x.push(E),E=c(E,1);return s&&x.reverse(),x.map(T=>{const S=n.formatYearDropdown(T,i);return{value:h(T),label:S,disabled:!1}})}function mI(e,t,n,i){let s=(i??new ua(n)).format(e,"PPPP");return t.today&&(s=`Today, ${s}`),t.selected&&(s=`${s}, selected`),s}const VB=mI;function yI(e,t,n){return(n??new ua(t)).format(e,"LLLL y")}const UB=yI;function zB(e,t,n,i){let s=(i??new ua(n)).format(e,"PPPP");return t!=null&&t.today&&(s=`Today, ${s}`),s}function FB(e){return"Choose the Month"}function BB(){return""}function $B(e){return"Go to the Next Month"}function qB(e){return"Go to the Previous Month"}function HB(e,t,n){return(n??new ua(t)).format(e,"cccc")}function WB(e,t){return`Week ${e}`}function YB(e){return"Week Number"}function GB(e){return"Choose the Year"}const KB=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:UB,labelDay:VB,labelDayButton:mI,labelGrid:yI,labelGridcell:zB,labelMonthDropdown:FB,labelNav:BB,labelNext:$B,labelPrevious:qB,labelWeekNumber:WB,labelWeekNumberHeader:YB,labelWeekday:HB,labelYearDropdown:GB},Symbol.toStringTag,{value:"Module"})),Zd=e=>e instanceof HTMLElement?e:null,Tb=e=>[...e.querySelectorAll("[data-animated-month]")??[]],XB=e=>Zd(e.querySelector("[data-animated-month]")),Ab=e=>Zd(e.querySelector("[data-animated-caption]")),kb=e=>Zd(e.querySelector("[data-animated-weeks]")),QB=e=>Zd(e.querySelector("[data-animated-nav]")),ZB=e=>Zd(e.querySelector("[data-animated-weekdays]"));function JB(e,t,{classNames:n,months:i,focused:s,dateLib:r}){const l=j.useRef(null),c=j.useRef(i),h=j.useRef(!1);j.useLayoutEffect(()=>{const d=c.current;if(c.current=i,!t||!e.current||!(e.current instanceof HTMLElement)||i.length===0||d.length===0||i.length!==d.length)return;const p=r.isSameMonth(i[0].date,d[0].date),y=r.isAfter(i[0].date,d[0].date),_=y?n[zi.caption_after_enter]:n[zi.caption_before_enter],x=y?n[zi.weeks_after_enter]:n[zi.weeks_before_enter],E=l.current,T=e.current.cloneNode(!0);if(T instanceof HTMLElement?(Tb(T).forEach(N=>{if(!(N instanceof HTMLElement))return;const H=XB(N);H&&N.contains(H)&&N.removeChild(H);const M=Ab(N);M&&M.classList.remove(_);const Y=kb(N);Y&&Y.classList.remove(x)}),l.current=T):l.current=null,h.current||p||s)return;const S=E instanceof HTMLElement?Tb(E):[],D=Tb(e.current);if(D!=null&&D.every(I=>I instanceof HTMLElement)&&S&&S.every(I=>I instanceof HTMLElement)){h.current=!0,e.current.style.isolation="isolate";const I=QB(e.current);I&&(I.style.zIndex="1"),D.forEach((N,H)=>{const M=S[H];if(!M)return;N.style.position="relative",N.style.overflow="hidden";const Y=Ab(N);Y&&Y.classList.add(_);const R=kb(N);R&&R.classList.add(x);const C=()=>{h.current=!1,e.current&&(e.current.style.isolation=""),I&&(I.style.zIndex=""),Y&&Y.classList.remove(_),R&&R.classList.remove(x),N.style.position="",N.style.overflow="",N.contains(M)&&N.removeChild(M)};M.style.pointerEvents="none",M.style.position="absolute",M.style.overflow="hidden",M.setAttribute("aria-hidden","true");const P=ZB(M);P&&(P.style.opacity="0");const V=Ab(M);V&&(V.classList.add(y?n[zi.caption_before_exit]:n[zi.caption_after_exit]),V.addEventListener("animationend",C));const U=kb(M);U&&U.classList.add(y?n[zi.weeks_before_exit]:n[zi.weeks_after_exit]),N.insertBefore(M,N.firstChild)})}})}function t$(e,t,n,i){const s=e[0],r=e[e.length-1],{ISOWeek:l,fixedWeeks:c,broadcastCalendar:h}=n??{},{addDays:d,differenceInCalendarDays:p,differenceInCalendarMonths:y,endOfBroadcastWeek:_,endOfISOWeek:x,endOfMonth:E,endOfWeek:T,isAfter:S,startOfBroadcastWeek:D,startOfISOWeek:I,startOfWeek:N}=i,H=h?D(s,i):l?I(s):N(s),M=h?_(r):l?x(E(r)):T(E(r)),Y=p(M,H),R=y(r,s)+1,C=[];for(let U=0;U<=Y;U++){const q=d(H,U);if(t&&S(q,t))break;C.push(q)}const V=(h?35:42)*R;if(c&&C.length<V){const U=V-C.length;for(let q=0;q<U;q++){const z=d(C[C.length-1],1);C.push(z)}}return C}function e$(e){const t=[];return e.reduce((n,i)=>{const s=i.weeks.reduce((r,l)=>r.concat(l.days.slice()),t.slice());return n.concat(s.slice())},t.slice())}function n$(e,t,n,i){const{numberOfMonths:s=1}=n,r=[];for(let l=0;l<s;l++){const c=i.addMonths(e,l);if(t&&c>t)break;r.push(c)}return r}function _A(e,t,n,i){const{month:s,defaultMonth:r,today:l=i.today(),numberOfMonths:c=1}=e;let h=s||r||l;const{differenceInCalendarMonths:d,addMonths:p,startOfMonth:y}=i;if(n&&d(n,h)<c-1){const _=-1*(c-1);h=p(n,_)}return t&&d(h,t)<0&&(h=t),y(h)}function i$(e,t,n,i){const{addDays:s,endOfBroadcastWeek:r,endOfISOWeek:l,endOfMonth:c,endOfWeek:h,getISOWeek:d,getWeek:p,startOfBroadcastWeek:y,startOfISOWeek:_,startOfWeek:x}=i,E=e.reduce((T,S)=>{const D=n.broadcastCalendar?y(S,i):n.ISOWeek?_(S):x(S),I=n.broadcastCalendar?r(S):n.ISOWeek?l(c(S)):h(c(S)),N=t.filter(R=>R>=D&&R<=I),H=n.broadcastCalendar?35:42;if(n.fixedWeeks&&N.length<H){const R=t.filter(C=>{const P=H-N.length;return C>I&&C<=s(I,P)});N.push(...R)}const M=N.reduce((R,C)=>{const P=n.ISOWeek?d(C):p(C),V=R.find(q=>q.weekNumber===P),U=new oI(C,S,i);return V?V.days.push(U):R.push(new WF(P,[U])),R},[]),Y=new HF(S,M);return T.push(Y),T},[]);return n.reverseMonths?E.reverse():E}function s$(e,t){let{startMonth:n,endMonth:i}=e;const{startOfYear:s,startOfDay:r,startOfMonth:l,endOfMonth:c,addYears:h,endOfYear:d,newDate:p,today:y}=t,{fromYear:_,toYear:x,fromMonth:E,toMonth:T}=e;!n&&E&&(n=E),!n&&_&&(n=t.newDate(_,0,1)),!i&&T&&(i=T),!i&&x&&(i=p(x,11,31));const S=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=l(n):_?n=p(_,0,1):!n&&S&&(n=s(h(e.today??y(),-100))),i?i=c(i):x?i=p(x,11,31):!i&&S&&(i=d(e.today??y())),[n&&r(n),i&&r(i)]}function r$(e,t,n,i){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:r=1}=n,{startOfMonth:l,addMonths:c,differenceInCalendarMonths:h}=i,d=s?r:1,p=l(e);if(!t)return c(p,d);if(!(h(t,e)<r))return c(p,d)}function a$(e,t,n,i){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:r}=n,{startOfMonth:l,addMonths:c,differenceInCalendarMonths:h}=i,d=s?r??1:1,p=l(e);if(!t)return c(p,-d);if(!(h(p,t)<=0))return c(p,-d)}function o$(e){const t=[];return e.reduce((n,i)=>n.concat(i.weeks.slice()),t.slice())}function Ym(e,t){const[n,i]=j.useState(e);return[t===void 0?n:t,i]}function l$(e,t){const[n,i]=s$(e,t),{startOfMonth:s,endOfMonth:r}=t,l=_A(e,n,i,t),[c,h]=Ym(l,e.month?l:void 0);j.useEffect(()=>{const Y=_A(e,n,i,t);h(Y)},[e.timeZone]);const d=n$(c,i,e,t),p=t$(d,e.endMonth?r(e.endMonth):void 0,e,t),y=i$(d,p,e,t),_=o$(y),x=e$(y),E=a$(c,n,e,t),T=r$(c,i,e,t),{disableNavigation:S,onMonthChange:D}=e,I=Y=>_.some(R=>R.days.some(C=>C.isEqualTo(Y))),N=Y=>{if(S)return;let R=s(Y);n&&R<s(n)&&(R=s(n)),i&&R>s(i)&&(R=s(i)),h(R),D==null||D(R)};return{months:y,weeks:_,days:x,navStart:n,navEnd:i,previousMonth:E,nextMonth:T,goToMonth:N,goToDay:Y=>{I(Y)||N(Y.date)}}}var Ys;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(Ys||(Ys={}));function bA(e){return!e[Xe.disabled]&&!e[Xe.hidden]&&!e[Xe.outside]}function c$(e,t,n,i){let s,r=-1;for(const l of e){const c=t(l);bA(c)&&(c[Xe.focused]&&r<Ys.FocusedModifier?(s=l,r=Ys.FocusedModifier):i!=null&&i.isEqualTo(l)&&r<Ys.LastFocused?(s=l,r=Ys.LastFocused):n(l.date)&&r<Ys.Selected?(s=l,r=Ys.Selected):c[Xe.today]&&r<Ys.Today&&(s=l,r=Ys.Today))}return s||(s=e.find(l=>bA(t(l)))),s}function u$(e,t,n,i,s,r,l){const{ISOWeek:c,broadcastCalendar:h}=r,{addDays:d,addMonths:p,addWeeks:y,addYears:_,endOfBroadcastWeek:x,endOfISOWeek:E,endOfWeek:T,max:S,min:D,startOfBroadcastWeek:I,startOfISOWeek:N,startOfWeek:H}=l;let Y={day:d,week:y,month:p,year:_,startOfWeek:R=>h?I(R,l):c?N(R):H(R),endOfWeek:R=>h?x(R):c?E(R):T(R)}[e](n,t==="after"?1:-1);return t==="before"&&i?Y=S([i,Y]):t==="after"&&s&&(Y=D([s,Y])),Y}function _I(e,t,n,i,s,r,l,c=0){if(c>365)return;const h=u$(e,t,n.date,i,s,r,l),d=!!(r.disabled&&Kr(h,r.disabled,l)),p=!!(r.hidden&&Kr(h,r.hidden,l)),y=h,_=new oI(h,y,l);return!d&&!p?_:_I(e,t,_,i,s,r,l,c+1)}function h$(e,t,n,i,s){const{autoFocus:r}=e,[l,c]=j.useState(),h=c$(t.days,n,i||(()=>!1),l),[d,p]=j.useState(r?h:void 0);return{isFocusTarget:T=>!!(h!=null&&h.isEqualTo(T)),setFocused:p,focused:d,blur:()=>{c(d),p(void 0)},moveFocus:(T,S)=>{if(!d)return;const D=_I(T,S,d,t.navStart,t.navEnd,e,s);D&&(t.goToDay(D),p(D))}}}function d$(e,t){const{selected:n,required:i,onSelect:s}=e,[r,l]=Ym(n,s?n:void 0),c=s?n:r,{isSameDay:h}=t,d=x=>(c==null?void 0:c.some(E=>h(E,x)))??!1,{min:p,max:y}=e;return{selected:c,select:(x,E,T)=>{let S=[...c??[]];if(d(x)){if((c==null?void 0:c.length)===p||i&&(c==null?void 0:c.length)===1)return;S=c==null?void 0:c.filter(D=>!h(D,x))}else(c==null?void 0:c.length)===y?S=[x]:S=[...S,x];return s||l(S),s==null||s(S,x,E,T),S},isSelected:d}}function f$(e,t,n=0,i=0,s=!1,r=ur){const{from:l,to:c}=t||{},{isSameDay:h,isAfter:d,isBefore:p}=r;let y;if(!l&&!c)y={from:e,to:n>0?void 0:e};else if(l&&!c)h(l,e)?n===0?y={from:l,to:e}:s?y={from:l,to:void 0}:y=void 0:p(e,l)?y={from:e,to:l}:y={from:l,to:e};else if(l&&c)if(h(l,e)&&h(c,e))s?y={from:l,to:c}:y=void 0;else if(h(l,e))y={from:l,to:n>0?void 0:e};else if(h(c,e))y={from:e,to:n>0?void 0:e};else if(p(e,l))y={from:e,to:c};else if(d(e,l))y={from:l,to:e};else if(d(e,c))y={from:l,to:e};else throw new Error("Invalid range");if(y!=null&&y.from&&(y!=null&&y.to)){const _=r.differenceInCalendarDays(y.to,y.from);i>0&&_>i?y={from:e,to:void 0}:n>1&&_<n&&(y={from:e,to:void 0})}return y}function p$(e,t,n=ur){const i=Array.isArray(t)?t:[t];let s=e.from;const r=n.differenceInCalendarDays(e.to,e.from),l=Math.min(r,6);for(let c=0;c<=l;c++){if(i.includes(s.getDay()))return!0;s=n.addDays(s,1)}return!1}function vA(e,t,n=ur){return Gr(e,t.from,!1,n)||Gr(e,t.to,!1,n)||Gr(t,e.from,!1,n)||Gr(t,e.to,!1,n)}function g$(e,t,n=ur){const i=Array.isArray(t)?t:[t];if(i.filter(c=>typeof c!="function").some(c=>typeof c=="boolean"?c:n.isDate(c)?Gr(e,c,!1,n):fI(c,n)?c.some(h=>Gr(e,h,!1,n)):Sx(c)?c.from&&c.to?vA(e,{from:c.from,to:c.to},n):!1:dI(c)?p$(e,c.dayOfWeek,n):cI(c)?n.isAfter(c.before,c.after)?vA(e,{from:n.addDays(c.after,1),to:n.addDays(c.before,-1)},n):Kr(e.from,c,n)||Kr(e.to,c,n):uI(c)||hI(c)?Kr(e.from,c,n)||Kr(e.to,c,n):!1))return!0;const l=i.filter(c=>typeof c=="function");if(l.length){let c=e.from;const h=n.differenceInCalendarDays(e.to,e.from);for(let d=0;d<=h;d++){if(l.some(p=>p(c)))return!0;c=n.addDays(c,1)}}return!1}function m$(e,t){const{disabled:n,excludeDisabled:i,selected:s,required:r,onSelect:l}=e,[c,h]=Ym(s,l?s:void 0),d=l?s:c;return{selected:d,select:(_,x,E)=>{const{min:T,max:S}=e,D=_?f$(_,d,T,S,r,t):void 0;return i&&n&&(D!=null&&D.from)&&D.to&&g$({from:D.from,to:D.to},n,t)&&(D.from=_,D.to=void 0),l||h(D),l==null||l(D,_,x,E),D},isSelected:_=>d&&Gr(d,_,!1,t)}}function y$(e,t){const{selected:n,required:i,onSelect:s}=e,[r,l]=Ym(n,s?n:void 0),c=s?n:r,{isSameDay:h}=t;return{selected:c,select:(y,_,x)=>{let E=y;return!i&&c&&c&&h(y,c)&&(E=void 0),s||l(E),s==null||s(E,y,_,x),E},isSelected:y=>c?h(c,y):!1}}function _$(e,t){const n=y$(e,t),i=d$(e,t),s=m$(e,t);switch(e.mode){case"single":return n;case"multiple":return i;case"range":return s;default:return}}function b$(e){var ha;let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new ai(t.today,t.timeZone)),t.month&&(t.month=new ai(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new ai(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new ai(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new ai(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new ai(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=(ha=t.selected)==null?void 0:ha.map(Ht=>new ai(Ht,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new ai(t.selected.from,t.timeZone):void 0,to:t.selected.to?new ai(t.selected.to,t.timeZone):void 0}));const{components:n,formatters:i,labels:s,dateLib:r,locale:l,classNames:c}=j.useMemo(()=>{const Ht={...Ex,...t.locale};return{dateLib:new ua({locale:Ht,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:wB(t.components),formatters:OB(t.formatters),labels:{...KB,...t.labels},locale:Ht,classNames:{...SB(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:h,mode:d,navLayout:p,numberOfMonths:y=1,onDayBlur:_,onDayClick:x,onDayFocus:E,onDayKeyDown:T,onDayMouseEnter:S,onDayMouseLeave:D,onNextClick:I,onPrevClick:N,showWeekNumber:H,styles:M}=t,{formatCaption:Y,formatDay:R,formatMonthDropdown:C,formatWeekNumber:P,formatWeekNumberHeader:V,formatWeekdayName:U,formatYearDropdown:q}=i,z=l$(t,r),{days:Ct,months:Q,navStart:$,navEnd:K,previousMonth:ot,nextMonth:nt,goToMonth:F}=z,it=vB(Ct,t,$,K,r),{isSelected:at,select:ut,selected:yt}=_$(t,r)??{},{blur:St,focused:G,isFocusTarget:lt,moveFocus:ht,setFocused:gt}=h$(t,z,it,at??(()=>!1),r),{labelDayButton:vt,labelGridcell:zt,labelGrid:Xt,labelMonthDropdown:ye,labelNav:Pe,labelPrevious:En,labelNext:ei,labelWeekday:Ze,labelWeekNumber:hr,labelWeekNumberHeader:dr,labelYearDropdown:bt}=s,Mt=j.useMemo(()=>LB(r,t.ISOWeek),[r,t.ISOWeek]),At=d!==void 0||x!==void 0,Tt=j.useCallback(()=>{ot&&(F(ot),N==null||N(ot))},[ot,F,N]),te=j.useCallback(()=>{nt&&(F(nt),I==null||I(nt))},[F,nt,I]),fi=j.useCallback((Ht,_e)=>Vt=>{Vt.preventDefault(),Vt.stopPropagation(),gt(Ht),ut==null||ut(Ht.date,_e,Vt),x==null||x(Ht.date,_e,Vt)},[ut,x,gt]),fe=j.useCallback((Ht,_e)=>Vt=>{gt(Ht),E==null||E(Ht.date,_e,Vt)},[E,gt]),ee=j.useCallback((Ht,_e)=>Vt=>{St(),_==null||_(Ht.date,_e,Vt)},[St,_]),pi=j.useCallback((Ht,_e)=>Vt=>{const de={ArrowLeft:[Vt.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[Vt.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[Vt.shiftKey?"year":"week","after"],ArrowUp:[Vt.shiftKey?"year":"week","before"],PageUp:[Vt.shiftKey?"year":"month","before"],PageDown:[Vt.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(de[Vt.key]){Vt.preventDefault(),Vt.stopPropagation();const[On,Wt]=de[Vt.key];ht(On,Wt)}T==null||T(Ht.date,_e,Vt)},[ht,T,t.dir]),In=j.useCallback((Ht,_e)=>Vt=>{S==null||S(Ht.date,_e,Vt)},[S]),Pl=j.useCallback((Ht,_e)=>Vt=>{D==null||D(Ht.date,_e,Vt)},[D]),vu=j.useCallback(Ht=>_e=>{const Vt=Number(_e.target.value),de=r.setMonth(r.startOfMonth(Ht),Vt);F(de)},[r,F]),fr=j.useCallback(Ht=>_e=>{const Vt=Number(_e.target.value),de=r.setYear(r.startOfMonth(Ht),Vt);F(de)},[r,F]),{className:pr,style:gr}=j.useMemo(()=>({className:[c[Pt.Root],t.className].filter(Boolean).join(" "),style:{...M==null?void 0:M[Pt.Root],...t.style}}),[c,t.className,t.style,M]),Ci=EB(t),mr=j.useRef(null);JB(mr,!!t.animate,{classNames:c,months:Q,focused:G,dateLib:r});const yr={dayPickerProps:t,selected:yt,select:ut,isSelected:at,months:Q,nextMonth:nt,previousMonth:ot,goToMonth:F,getModifiers:it,components:n,classNames:c,styles:M,labels:s,formatters:i};return Et.createElement(lI.Provider,{value:yr},Et.createElement(n.Root,{rootRef:t.animate?mr:void 0,className:pr,style:gr,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...Ci},Et.createElement(n.Months,{className:c[Pt.Months],style:M==null?void 0:M[Pt.Months]},!t.hideNavigation&&!p&&Et.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[Pt.Nav],style:M==null?void 0:M[Pt.Nav],"aria-label":Pe(),onPreviousClick:Tt,onNextClick:te,previousMonth:ot,nextMonth:nt}),Q.map((Ht,_e)=>Et.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:c[Pt.Month],style:M==null?void 0:M[Pt.Month],key:_e,displayIndex:_e,calendarMonth:Ht},p==="around"&&!t.hideNavigation&&_e===0&&Et.createElement(n.PreviousMonthButton,{type:"button",className:c[Pt.PreviousMonthButton],tabIndex:ot?void 0:-1,"aria-disabled":ot?void 0:!0,"aria-label":En(ot),onClick:Tt,"data-animated-button":t.animate?"true":void 0},Et.createElement(n.Chevron,{disabled:ot?void 0:!0,className:c[Pt.Chevron],orientation:t.dir==="rtl"?"right":"left"})),Et.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:c[Pt.MonthCaption],style:M==null?void 0:M[Pt.MonthCaption],calendarMonth:Ht,displayIndex:_e},h!=null&&h.startsWith("dropdown")?Et.createElement(n.DropdownNav,{className:c[Pt.Dropdowns],style:M==null?void 0:M[Pt.Dropdowns]},h==="dropdown"||h==="dropdown-months"?Et.createElement(n.MonthsDropdown,{className:c[Pt.MonthsDropdown],"aria-label":ye(),classNames:c,components:n,disabled:!!t.disableNavigation,onChange:vu(Ht.date),options:PB(Ht.date,$,K,i,r),style:M==null?void 0:M[Pt.Dropdown],value:r.getMonth(Ht.date)}):Et.createElement("span",null,C(Ht.date,r)),h==="dropdown"||h==="dropdown-years"?Et.createElement(n.YearsDropdown,{className:c[Pt.YearsDropdown],"aria-label":bt(r.options),classNames:c,components:n,disabled:!!t.disableNavigation,onChange:fr(Ht.date),options:jB($,K,i,r,!!t.reverseYears),style:M==null?void 0:M[Pt.Dropdown],value:r.getYear(Ht.date)}):Et.createElement("span",null,q(Ht.date,r)),Et.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},Y(Ht.date,r.options,r))):Et.createElement(n.CaptionLabel,{className:c[Pt.CaptionLabel],role:"status","aria-live":"polite"},Y(Ht.date,r.options,r))),p==="around"&&!t.hideNavigation&&_e===y-1&&Et.createElement(n.NextMonthButton,{type:"button",className:c[Pt.NextMonthButton],tabIndex:nt?void 0:-1,"aria-disabled":nt?void 0:!0,"aria-label":ei(nt),onClick:te,"data-animated-button":t.animate?"true":void 0},Et.createElement(n.Chevron,{disabled:nt?void 0:!0,className:c[Pt.Chevron],orientation:t.dir==="rtl"?"left":"right"})),_e===y-1&&p==="after"&&!t.hideNavigation&&Et.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[Pt.Nav],style:M==null?void 0:M[Pt.Nav],"aria-label":Pe(),onPreviousClick:Tt,onNextClick:te,previousMonth:ot,nextMonth:nt}),Et.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":Xt(Ht.date,r.options,r)||void 0,className:c[Pt.MonthGrid],style:M==null?void 0:M[Pt.MonthGrid]},!t.hideWeekdays&&Et.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:c[Pt.Weekdays],style:M==null?void 0:M[Pt.Weekdays]},H&&Et.createElement(n.WeekNumberHeader,{"aria-label":dr(r.options),className:c[Pt.WeekNumberHeader],style:M==null?void 0:M[Pt.WeekNumberHeader],scope:"col"},V()),Mt.map(Vt=>Et.createElement(n.Weekday,{"aria-label":Ze(Vt,r.options,r),className:c[Pt.Weekday],key:String(Vt),style:M==null?void 0:M[Pt.Weekday],scope:"col"},U(Vt,r.options,r)))),Et.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:c[Pt.Weeks],style:M==null?void 0:M[Pt.Weeks]},Ht.weeks.map(Vt=>Et.createElement(n.Week,{className:c[Pt.Week],key:Vt.weekNumber,style:M==null?void 0:M[Pt.Week],week:Vt},H&&Et.createElement(n.WeekNumber,{week:Vt,style:M==null?void 0:M[Pt.WeekNumber],"aria-label":hr(Vt.weekNumber,{locale:l}),className:c[Pt.WeekNumber],scope:"row",role:"rowheader"},P(Vt.weekNumber,r)),Vt.days.map(de=>{const{date:On}=de,Wt=it(de);if(Wt[Xe.focused]=!Wt.hidden&&!!(G!=null&&G.isEqualTo(de)),Wt[bs.selected]=(at==null?void 0:at(On))||Wt.selected,Sx(yt)){const{from:Hi,to:fa}=yt;Wt[bs.range_start]=!!(Hi&&fa&&r.isSameDay(On,Hi)),Wt[bs.range_end]=!!(Hi&&fa&&r.isSameDay(On,fa)),Wt[bs.range_middle]=Gr(yt,On,!0,r)}const So=NB(Wt,M,t.modifiersStyles),Cs=xB(Wt,c,t.modifiersClassNames),da=!At&&!Wt.hidden?zt(On,Wt,r.options,r):void 0;return Et.createElement(n.Day,{key:`${r.format(On,"yyyy-MM-dd")}_${r.format(de.displayMonth,"yyyy-MM")}`,day:de,modifiers:Wt,className:Cs.join(" "),style:So,role:"gridcell","aria-selected":Wt.selected||void 0,"aria-label":da,"data-day":r.format(On,"yyyy-MM-dd"),"data-month":de.outside?r.format(On,"yyyy-MM"):void 0,"data-selected":Wt.selected||void 0,"data-disabled":Wt.disabled||void 0,"data-hidden":Wt.hidden||void 0,"data-outside":de.outside||void 0,"data-focused":Wt.focused||void 0,"data-today":Wt.today||void 0},!Wt.hidden&&At?Et.createElement(n.DayButton,{className:c[Pt.DayButton],style:M==null?void 0:M[Pt.DayButton],type:"button",day:de,modifiers:Wt,disabled:Wt.disabled||void 0,tabIndex:lt(de)?0:-1,"aria-label":vt(On,Wt,r.options,r),onClick:fi(de,Wt),onBlur:ee(de,Wt),onFocus:fe(de,Wt),onKeyDown:pi(de,Wt),onMouseEnter:In(de,Wt),onMouseLeave:Pl(de,Wt)},R(On,r.options,r)):!Wt.hidden&&R(de.date,r.options,r))})))))))),t.footer&&Et.createElement(n.Footer,{className:c[Pt.Footer],style:M==null?void 0:M[Pt.Footer],role:"status","aria-live":"polite"},t.footer)))}const v$="/pdms-test/assets/calendar-arrow-BfXL-r2k.png";function x$({value:e,onApply:t,placeholder:n="요청 기간 선택",autoCloseOnComplete:i=!0}){var T;const[s,r]=j.useState({start:(e==null?void 0:e.start)??null,end:(e==null?void 0:e.end)??null}),[l,c]=j.useState(((T=e==null?void 0:e.start)==null?void 0:T.getFullYear())??new Date().getFullYear()),[h,d]=j.useState(!1),p=j.useMemo(()=>{const S=D=>`${D.getFullYear()}.${String(D.getMonth()+1).padStart(2,"0")}.${String(D.getDate()).padStart(2,"0")}`;return s.start&&s.end?`${S(s.start)} ~ ${S(s.end)}`:s.start?`${S(s.start)} ~`:""},[s]),y=new Date().getMonth(),_=j.useRef(null);j.useEffect(()=>{if(h&&_.current){const S=_.current.querySelectorAll(".month-box")[y];S&&S.scrollIntoView({block:"start"})}},[h]);const x=j.useRef(null);j.useEffect(()=>{const S=D=>{x.current&&!x.current.contains(D.target)&&d(!1)};return h&&document.addEventListener("click",S),()=>{document.removeEventListener("click",S)}},[h]),j.useEffect(()=>{const S=N=>N instanceof Date?new Date(N.getFullYear(),N.getMonth(),N.getDate()).getTime():null,D=(e==null?void 0:e.start)??null,I=(e==null?void 0:e.end)??null;(S(s.start)!==S(D)||S(s.end)!==S(I))&&(r({start:D,end:I}),c((D==null?void 0:D.getFullYear())??new Date().getFullYear()))},[e==null?void 0:e.start,e==null?void 0:e.end]);const E=S=>{if(!s.start||s.start&&s.end){r({start:S,end:null});return}if(s.start&&!s.end)if(S<s.start)r({start:S,end:null});else{const D={start:s.start,end:S};r(D),t==null||t(D),i&&d(!1)}};return v.jsxs(w$,{ref:x,children:[v.jsx(O$,{}),v.jsx(E$,{value:p,placeholder:n,readOnly:!0,onClick:()=>d(S=>!S)}),h&&v.jsxs(T$,{children:[v.jsxs(A$,{children:[v.jsx(k$,{dir:"prev",onClick:()=>c(S=>S-1)}),v.jsx("span",{children:l}),v.jsx(R$,{dir:"next",onClick:()=>c(S=>S+1)})]}),v.jsx(C$,{children:["일","월","화","수","목","금","토"].map(S=>v.jsx("span",{children:S},S))}),v.jsx(S$,{children:v.jsx(D$,{ref:_,children:Array.from({length:12}).map((S,D)=>{const I=new Date(l,D,1),N=M=>new Date(M.getFullYear(),M.getMonth(),M.getDate()).getTime(),H=M=>M.getFullYear()===I.getFullYear()&&M.getMonth()===I.getMonth();return v.jsxs(M$,{className:"month-box",children:[v.jsx(I$,{children:String(D+1).padStart(2,"0")}),v.jsx(b$,{mode:"single",month:I,selected:void 0,onDayClick:E,showOutsideDays:!1,modifiers:{start:M=>!!s.start&&H(M)&&N(M)===N(s.start),end:M=>!!s.end&&H(M)&&N(M)===N(s.end),middle:M=>{if(!s.start||!s.end||!H(M))return!1;const Y=N(M),R=N(s.start),C=N(s.end);return Y>R&&Y<C},todayInMonth:M=>{const Y=new Date;return H(M)&&M.getFullYear()===Y.getFullYear()&&M.getMonth()===Y.getMonth()&&M.getDate()===Y.getDate()}},modifiersClassNames:{start:"sel-start",end:"sel-end",middle:"sel-mid",todayInMonth:"sel-today"}})]},D)})})})]})]})}const w$=B.div`
  position: relative;
  width: 215px;
  margin-right: 8px;
  font-family: 'Pretendard';
`,E$=B.input`
  width: 100%;
  padding: 11.5px 12px;
  border: 1px solid ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.gray02)||"#d0d5dd"}};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  cursor: pointer;

  &::placeholder {
    color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.black}};
  }
  
  &:focus {
    outline: none;
    border-color: ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.black)||"#111"}};
  }
`,S$=B.div`
  overflow-y: auto;
  max-height: 385px;

  /* ===== Firefox ===== */
  scrollbar-width: thin;
  scrollbar-color: ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.gray03)||"#c9ced6"}}
                    transparent;

  &::-webkit-scrollbar {
    width: 10px !important;
  }

  /* ===== WebKit (Chrome/Edge/Safari) ===== */
  &::-webkit-scrollbar-button {
    display: none !important;
    width: 0 !important;
    height: 0 !important;
    background: transparent !important;
    border: none !important;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.gray04)||"#aeb4be"}};
  }
`,T$=B.div`
  position: absolute;
  top: 60px;
  left: 0;
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 10px;
  z-index: 100;
  width: 380px;
  max-height: 480px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
`,A$=B.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  height: 46px;
  font-weight: 700;
  font-size: 15px;
  background-color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.gray02}};
`,bI=B.button`
  width: 48px;
  height: 100%;
  background-image: url(${v$});
  background-repeat: no-repeat;
`,k$=B(bI)``,R$=B(bI)`
  background-position: -50px 0;  /* 오른쪽 프레임만 노출 */
`,C$=B.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  height: 46px;
  font-size: 12px;
  padding: 0 11px;
  border-bottom: 1px solid ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.gray03}};

  span {
    flex: 1;
    font-size: 15px;
    font-weight: 700;
    text-align: center;
    color: #757575;
  }
`,D$=B.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding-left: 12px;
`,M$=B.div`
  .rdp-months {
    width: 100%;

    table {
      width: 100%;
    }
  }

  .rdp-tbody {
    display: contents !important; /* table body 제거 */
  }

  .rdp-row {
    display: contents !important; /* tr 제거 */
  }

  .rdp-cell {
    display: flex !important;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
  }

  .rdp-day {
    font-size: 13px;
    line-height: 31px;
    border: none;
    text-align: center;
    cursor: pointer;

    & button {
      width: 100%;
      padding: 8px 0;
      font-family: 'Pretendard';
    }
  }

  /* ✅ 오늘 날짜 강조 */
  .sel-today {
    background-color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.black}};
    font-weight: 700;

    button {
      color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.white01}};
    }
  }

  /* ❶ 라이브러리 기본 range 클래스 전부 무력화 (혹시 붙어도 표시 안 되게) */
  .rdp-range_start,
  .rdp-range_middle,
  .rdp-range_end {
    background: none !important;
    color: inherit !important;
  }

  /* ❷ 우리가 지정한 커스텀 클래스만 색칠 */
  .sel-start,
  .sel-end,
  .sel-mid {
    background-color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.red}} !important;

    & button {
      color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.white01}};
    }
  }
`,I$=B.div`
  font-size: 16px;
  font-weight: 700;
  margin-top: 20px;
  padding-left: 15px;
  color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.black}};
`,O$=hC`
  .rdp-month_caption, .rdp-weekday, .rdp-nav {
    display: none !important;
  }
`,Fc="진행 상태 선택",Ah="요청자 선택",kh="디자이너 선택",Rh="회사 선택",P$=new Set(["PushComz"].map(e=>e.toLowerCase())),Rb={start:null,end:null},N$=e=>e===3?"manager":e===2?"designer":"requester",L$={requester:[Fc,"대기","진행중","검수중","완료","취소"],manager:[Fc,"대기","진행중","검수중","검수요청","완료","취소"],designer:[Fc,"대기","진행중","검수요청","완료","취소"]},j$=(e,t)=>{if(e==="manager"){if(t==="검수중")return"검수요청";if(t==="검수요청")return"검수중"}return t};function V$({onApplyStatus:e,onApplyRange:t,isManager:n=!1,requesterOptions:i=[],onApplyRequester:s,designerOptions:r=[],companyOptions:l=[],onApplyCompany:c,onApplyDesigner:h,roleNumber:d}){const[p,y]=j.useState(Rb),[_,x]=j.useState(Fc),[E,T]=j.useState(Ah),[S,D]=j.useState(kh),[I,N]=j.useState(Rh),H=()=>{x(Fc),y(Rb),T(Ah),D(kh),N(Rh),e(Fc),t(Rb),s==null||s(Ah),h==null||h(kh),c==null||c(Rh)},M=N$(d),Y=L$[M];return v.jsxs(U$,{children:[v.jsx(x$,{value:p,onApply:R=>{y(R),t(R)}}),M!=="requester"&&v.jsxs(Pp,{"aria-label":"회사 선택",value:I,onChange:R=>{const C=R.target.value;N(C),c==null||c(C)},children:[v.jsx("option",{value:Rh,children:Rh}),(l||[]).filter(R=>!!R&&!P$.has(String(R).toLowerCase())).map(R=>v.jsx("option",{value:R,children:R},R))]}),n&&v.jsxs(v.Fragment,{children:[v.jsxs(Pp,{"aria-label":"요청자 선택",value:E,onChange:R=>{T(R.target.value),s==null||s(R.target.value)},children:[v.jsx("option",{value:Ah,children:Ah}),i.map(R=>v.jsx("option",{value:R,children:R},R))]}),v.jsxs(Pp,{"aria-label":"디자이너 선택",value:S,onChange:R=>{const C=R.target.value;D(C),h==null||h(C)},children:[v.jsx("option",{value:kh,children:kh}),r.map(R=>v.jsx("option",{value:R,children:R},R))]})]}),v.jsx(Pp,{value:_,onChange:R=>{const C=R.target.value,P=j$(M,C);x(C),e(P)},children:Y.map(R=>v.jsx("option",{value:R,children:R},R))}),v.jsx(z$,{type:"button",onClick:H,children:"필터 초기화"})]})}const U$=B.div`
  ${({theme:e})=>e.mixin.flex("center")};
`,Pp=B.select`
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;

  width: 150px;
  height: 48px;
  margin-right: 8px;
  padding: 0 12px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 400;
  color: ${({theme:e})=>e.colors.black};
  background-color: ${({theme:e})=>e.colors.white01};
  background-image: url(${wx});
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 16px 16px;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.black};
  }
`,z$=B.button`
  padding: 11.5px 10px;
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 400;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,F$="/pdms-test/assets/search-icon-g0O6fOpZ.svg";function B$({keyword:e,onKeywordChange:t,onSearch:n}){const i=s=>{t(s),n(s.trim())};return v.jsx($$,{children:v.jsx(q$,{placeholder:"문서번호와 작업항목을 검색해 주세요.",value:e,onChange:s=>i(s.target.value),onKeyDown:s=>{s.key==="Escape"&&i("")}})})}const $$=B.div`
  position: relative;
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  padding: 11.5px 14.5px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;

  /* 🔍 아이콘: 버튼 제거하고 래퍼에 ::after로 표시 */
  &::after {
    content: "";
    position: absolute;
    right: 12px;
    top: 50%;
    display: block;
    width: 24px;
    height: 24px;
    background: url(${F$}) no-repeat center / contain;
    transform: translateY(-50%);
  }
`,q$=B.input`
  width: 458px;
  margin-right: 12px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;
`;function Cd({onApplyStatus:e,onApplyRange:t,onSearch:n,keyword:i,onKeywordChange:s,isManager:r=!1,requesterOptions:l=[],onApplyRequester:c,designerOptions:h=[],companyOptions:d=[],onApplyCompany:p,onApplyDesigner:y,roleNumber:_}){return v.jsxs(H$,{children:[v.jsx(V$,{onApplyStatus:e,onApplyRange:t,isManager:r,requesterOptions:l,onApplyRequester:c,designerOptions:h,companyOptions:d,onApplyCompany:p,onApplyDesigner:y,roleNumber:_}),v.jsx(B$,{keyword:i,onKeywordChange:s,onSearch:n})]})}const H$=B.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  padding: 24px 0 30px;
`;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Jd(e){return e+.5|0}const Xa=(e,t,n)=>Math.max(Math.min(e,n),t);function Wh(e){return Xa(Jd(e*2.55),0,255)}function oo(e){return Xa(Jd(e*255),0,255)}function Hr(e){return Xa(Jd(e/2.55)/100,0,1)}function xA(e){return Xa(Jd(e*100),0,100)}const rs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},B0=[..."0123456789ABCDEF"],W$=e=>B0[e&15],Y$=e=>B0[(e&240)>>4]+B0[e&15],Np=e=>(e&240)>>4===(e&15),G$=e=>Np(e.r)&&Np(e.g)&&Np(e.b)&&Np(e.a);function K$(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&rs[e[1]]*17,g:255&rs[e[2]]*17,b:255&rs[e[3]]*17,a:t===5?rs[e[4]]*17:255}:(t===7||t===9)&&(n={r:rs[e[1]]<<4|rs[e[2]],g:rs[e[3]]<<4|rs[e[4]],b:rs[e[5]]<<4|rs[e[6]],a:t===9?rs[e[7]]<<4|rs[e[8]]:255})),n}const X$=(e,t)=>e<255?t(e):"";function Q$(e){var t=G$(e)?W$:Y$;return e?"#"+t(e.r)+t(e.g)+t(e.b)+X$(e.a,t):void 0}const Z$=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function vI(e,t,n){const i=t*Math.min(n,1-n),s=(r,l=(r+e/30)%12)=>n-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function J$(e,t,n){const i=(s,r=(s+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function tq(e,t,n){const i=vI(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function eq(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function Tx(e){const n=e.r/255,i=e.g/255,s=e.b/255,r=Math.max(n,i,s),l=Math.min(n,i,s),c=(r+l)/2;let h,d,p;return r!==l&&(p=r-l,d=c>.5?p/(2-r-l):p/(r+l),h=eq(n,i,s,p,r),h=h*60+.5),[h|0,d||0,c]}function Ax(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(oo)}function kx(e,t,n){return Ax(vI,e,t,n)}function nq(e,t,n){return Ax(tq,e,t,n)}function iq(e,t,n){return Ax(J$,e,t,n)}function xI(e){return(e%360+360)%360}function sq(e){const t=Z$.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Wh(+t[5]):oo(+t[5]));const s=xI(+t[2]),r=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=nq(s,r,l):t[1]==="hsv"?i=iq(s,r,l):i=kx(s,r,l),{r:i[0],g:i[1],b:i[2],a:n}}function rq(e,t){var n=Tx(e);n[0]=xI(n[0]+t),n=kx(n),e.r=n[0],e.g=n[1],e.b=n[2]}function aq(e){if(!e)return;const t=Tx(e),n=t[0],i=xA(t[1]),s=xA(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${Hr(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const wA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},EA={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function oq(){const e={},t=Object.keys(EA),n=Object.keys(wA);let i,s,r,l,c;for(i=0;i<t.length;i++){for(l=c=t[i],s=0;s<n.length;s++)r=n[s],c=c.replace(r,wA[r]);r=parseInt(EA[l],16),e[c]=[r>>16&255,r>>8&255,r&255]}return e}let Lp;function lq(e){Lp||(Lp=oq(),Lp.transparent=[0,0,0,0]);const t=Lp[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const cq=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function uq(e){const t=cq.exec(e);let n=255,i,s,r;if(t){if(t[7]!==i){const l=+t[7];n=t[8]?Wh(l):Xa(l*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?Wh(i):Xa(i,0,255)),s=255&(t[4]?Wh(s):Xa(s,0,255)),r=255&(t[6]?Wh(r):Xa(r,0,255)),{r:i,g:s,b:r,a:n}}}function hq(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Hr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Cb=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Tc=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function dq(e,t,n){const i=Tc(Hr(e.r)),s=Tc(Hr(e.g)),r=Tc(Hr(e.b));return{r:oo(Cb(i+n*(Tc(Hr(t.r))-i))),g:oo(Cb(s+n*(Tc(Hr(t.g))-s))),b:oo(Cb(r+n*(Tc(Hr(t.b))-r))),a:e.a+n*(t.a-e.a)}}function jp(e,t,n){if(e){let i=Tx(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=kx(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function wI(e,t){return e&&Object.assign(t||{},e)}function SA(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=oo(e[3]))):(t=wI(e,{r:0,g:0,b:0,a:1}),t.a=oo(t.a)),t}function fq(e){return e.charAt(0)==="r"?uq(e):sq(e)}class Dd{constructor(t){if(t instanceof Dd)return t;const n=typeof t;let i;n==="object"?i=SA(t):n==="string"&&(i=K$(t)||lq(t)||fq(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=wI(this._rgb);return t&&(t.a=Hr(t.a)),t}set rgb(t){this._rgb=SA(t)}rgbString(){return this._valid?hq(this._rgb):void 0}hexString(){return this._valid?Q$(this._rgb):void 0}hslString(){return this._valid?aq(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let r;const l=n===r?.5:n,c=2*l-1,h=i.a-s.a,d=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;r=1-d,i.r=255&d*i.r+r*s.r+.5,i.g=255&d*i.g+r*s.g+.5,i.b=255&d*i.b+r*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=dq(this._rgb,t._rgb,n)),this}clone(){return new Dd(this.rgb)}alpha(t){return this._rgb.a=oo(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Jd(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return jp(this._rgb,2,t),this}darken(t){return jp(this._rgb,2,-t),this}saturate(t){return jp(this._rgb,1,t),this}desaturate(t){return jp(this._rgb,1,-t),this}rotate(t){return rq(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Fr(){}const pq=(()=>{let e=0;return()=>e++})();function Gt(e){return e==null}function ze(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function se(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function sn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Ui(e,t){return sn(e)?e:t}function $t(e,t){return typeof e>"u"?t:e}const gq=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,EI=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function De(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function xe(e,t,n,i){let s,r,l;if(ze(e))for(r=e.length,s=0;s<r;s++)t.call(n,e[s],s);else if(se(e))for(l=Object.keys(e),r=l.length,s=0;s<r;s++)t.call(n,e[l[s]],l[s])}function sm(e,t){let n,i,s,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],r=t[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function rm(e){if(ze(e))return e.map(rm);if(se(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=rm(e[n[s]]);return t}return e}function SI(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function mq(e,t,n,i){if(!SI(e))return;const s=t[e],r=n[e];se(s)&&se(r)?ar(s,r,i):t[e]=rm(r)}function ar(e,t,n){const i=ze(t)?t:[t],s=i.length;if(!se(e))return e;n=n||{};const r=n.merger||mq;let l;for(let c=0;c<s;++c){if(l=i[c],!se(l))continue;const h=Object.keys(l);for(let d=0,p=h.length;d<p;++d)r(h[d],e,l,n)}return e}function sd(e,t){return ar(e,t,{merger:yq})}function yq(e,t,n){if(!SI(e))return;const i=t[e],s=n[e];se(i)&&se(s)?sd(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=rm(s))}const TA={"":e=>e,x:e=>e.x,y:e=>e.y};function _q(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function bq(e){const t=_q(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function mo(e,t){return(TA[t]||(TA[t]=bq(t)))(e)}function Rx(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Md=e=>typeof e<"u",yo=e=>typeof e=="function",AA=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function vq(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const ge=Math.PI,Fe=2*ge,xq=Fe+ge,am=Number.POSITIVE_INFINITY,wq=ge/180,cn=ge/2,tl=ge/4,kA=ge*2/3,Qa=Math.log10,sr=Math.sign;function rd(e,t,n){return Math.abs(e-t)<n}function RA(e){const t=Math.round(e);e=rd(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Qa(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Eq(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,r)=>s-r).pop(),t}function Sq(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function su(e){return!Sq(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Tq(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function TI(e,t,n){let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function vs(e){return e*(ge/180)}function Cx(e){return e*(180/ge)}function CA(e){if(!sn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function AI(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*ge&&(r+=Fe),{angle:r,distance:s}}function $0(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Aq(e,t){return(e-t+xq)%Fe-ge}function li(e){return(e%Fe+Fe)%Fe}function Id(e,t,n,i){const s=li(e),r=li(t),l=li(n),c=li(r-s),h=li(l-s),d=li(s-r),p=li(s-l);return s===r||s===l||i&&r===l||c>h&&d<p}function qn(e,t,n){return Math.max(t,Math.min(n,e))}function kq(e){return qn(e,-32768,32767)}function Xr(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function Dx(e,t,n){n=n||(l=>e[l]<t);let i=e.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Qr=(e,t,n,i)=>Dx(e,n,i?s=>{const r=e[s][t];return r<n||r===n&&e[s+1][t]===n}:s=>e[s][t]<n),Rq=(e,t,n)=>Dx(e,n,i=>e[i][t]>=n);function Cq(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const kI=["push","pop","shift","splice","unshift"];function Dq(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),kI.forEach(n=>{const i="_onData"+Rx(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const l=s.apply(this,r);return e._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...r)}),l}})})}function DA(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(kI.forEach(r=>{delete e[r]}),delete e._chartjs)}function RI(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const CI=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function DI(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,CI.call(window,()=>{i=!1,e.apply(t,n)}))}}function Mq(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const Mx=e=>e==="start"?"left":e==="end"?"right":"center",ri=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,Iq=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function MI(e,t,n){const i=t.length;let s=0,r=i;if(e._sorted){const{iScale:l,vScale:c,_parsed:h}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,p=l.axis,{min:y,max:_,minDefined:x,maxDefined:E}=l.getUserBounds();if(x){if(s=Math.min(Qr(h,p,y).lo,n?i:Qr(t,p,l.getPixelForValue(y)).lo),d){const T=h.slice(0,s+1).reverse().findIndex(S=>!Gt(S[c.axis]));s-=Math.max(0,T)}s=qn(s,0,i-1)}if(E){let T=Math.max(Qr(h,l.axis,_,!0).hi+1,n?0:Qr(t,p,l.getPixelForValue(_),!0).hi+1);if(d){const S=h.slice(T-1).findIndex(D=>!Gt(D[c.axis]));T+=Math.max(0,S)}r=qn(T,s,i)-s}else r=i-s}return{start:s,count:r}}function II(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const Vp=e=>e===0||e===1,MA=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Fe/n)),IA=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Fe/n)+1,ad={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*cn)+1,easeOutSine:e=>Math.sin(e*cn),easeInOutSine:e=>-.5*(Math.cos(ge*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Vp(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Vp(e)?e:MA(e,.075,.3),easeOutElastic:e=>Vp(e)?e:IA(e,.075,.3),easeInOutElastic(e){return Vp(e)?e:e<.5?.5*MA(e*2,.1125,.45):.5+.5*IA(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-ad.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?ad.easeInBounce(e*2)*.5:ad.easeOutBounce(e*2-1)*.5+.5};function Ix(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function OA(e){return Ix(e)?e:new Dd(e)}function Db(e){return Ix(e)?e:new Dd(e).saturate(.5).darken(.1).hexString()}const Oq=["x","y","borderWidth","radius","tension"],Pq=["color","borderColor","backgroundColor"];function Nq(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Pq},numbers:{type:"number",properties:Oq}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Lq(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const PA=new Map;function jq(e,t){t=t||{};const n=e+JSON.stringify(t);let i=PA.get(n);return i||(i=new Intl.NumberFormat(e,t),PA.set(n,i)),i}function tf(e,t,n){return jq(t,n).format(e)}const OI={values(e){return ze(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,r=e;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),r=Vq(e,n)}const l=Qa(Math.abs(r)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),tf(e,i,h)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(Qa(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?OI.numeric.call(this,e,t,n):""}};function Vq(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Gm={formatters:OI};function Uq(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Gm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const kl=Object.create(null),q0=Object.create(null);function od(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];e=e[r]||(e[r]=Object.create(null))}return e}function Mb(e,t,n){return typeof t=="string"?ar(od(e,t),n):ar(od(e,""),t)}class zq{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Db(s.backgroundColor),this.hoverBorderColor=(i,s)=>Db(s.borderColor),this.hoverColor=(i,s)=>Db(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Mb(this,t,n)}get(t){return od(this,t)}describe(t,n){return Mb(q0,t,n)}override(t,n){return Mb(kl,t,n)}route(t,n,i,s){const r=od(this,t),l=od(this,i),c="_"+n;Object.defineProperties(r,{[c]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[c],d=l[s];return se(h)?Object.assign({},d,h):$t(h,d)},set(h){this[c]=h}}})}apply(t){t.forEach(n=>n(this))}}var Be=new zq({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Nq,Lq,Uq]);function Fq(e){return!e||Gt(e.size)||Gt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function om(e,t,n,i,s){let r=t[s];return r||(r=t[s]=e.measureText(s).width,n.push(s)),r>i&&(i=r),i}function Bq(e,t,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let l=0;const c=n.length;let h,d,p,y,_;for(h=0;h<c;h++)if(y=n[h],y!=null&&!ze(y))l=om(e,s,r,l,y);else if(ze(y))for(d=0,p=y.length;d<p;d++)_=y[d],_!=null&&!ze(_)&&(l=om(e,s,r,l,_));e.restore();const x=r.length/2;if(x>n.length){for(h=0;h<x;h++)delete s[r[h]];r.splice(0,x)}return l}function el(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function NA(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function H0(e,t,n,i){PI(e,t,n,i,null)}function PI(e,t,n,i,s){let r,l,c,h,d,p,y,_;const x=t.pointStyle,E=t.rotation,T=t.radius;let S=(E||0)*wq;if(x&&typeof x=="object"&&(r=x.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(S),e.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),e.restore();return}if(!(isNaN(T)||T<=0)){switch(e.beginPath(),x){default:s?e.ellipse(n,i,s/2,T,0,0,Fe):e.arc(n,i,T,0,Fe),e.closePath();break;case"triangle":p=s?s/2:T,e.moveTo(n+Math.sin(S)*p,i-Math.cos(S)*T),S+=kA,e.lineTo(n+Math.sin(S)*p,i-Math.cos(S)*T),S+=kA,e.lineTo(n+Math.sin(S)*p,i-Math.cos(S)*T),e.closePath();break;case"rectRounded":d=T*.516,h=T-d,l=Math.cos(S+tl)*h,y=Math.cos(S+tl)*(s?s/2-d:h),c=Math.sin(S+tl)*h,_=Math.sin(S+tl)*(s?s/2-d:h),e.arc(n-y,i-c,d,S-ge,S-cn),e.arc(n+_,i-l,d,S-cn,S),e.arc(n+y,i+c,d,S,S+cn),e.arc(n-_,i+l,d,S+cn,S+ge),e.closePath();break;case"rect":if(!E){h=Math.SQRT1_2*T,p=s?s/2:h,e.rect(n-p,i-h,2*p,2*h);break}S+=tl;case"rectRot":y=Math.cos(S)*(s?s/2:T),l=Math.cos(S)*T,c=Math.sin(S)*T,_=Math.sin(S)*(s?s/2:T),e.moveTo(n-y,i-c),e.lineTo(n+_,i-l),e.lineTo(n+y,i+c),e.lineTo(n-_,i+l),e.closePath();break;case"crossRot":S+=tl;case"cross":y=Math.cos(S)*(s?s/2:T),l=Math.cos(S)*T,c=Math.sin(S)*T,_=Math.sin(S)*(s?s/2:T),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"star":y=Math.cos(S)*(s?s/2:T),l=Math.cos(S)*T,c=Math.sin(S)*T,_=Math.sin(S)*(s?s/2:T),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l),S+=tl,y=Math.cos(S)*(s?s/2:T),l=Math.cos(S)*T,c=Math.sin(S)*T,_=Math.sin(S)*(s?s/2:T),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"line":l=s?s/2:Math.cos(S)*T,c=Math.sin(S)*T,e.moveTo(n-l,i-c),e.lineTo(n+l,i+c);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(S)*(s?s/2:T),i+Math.sin(S)*T);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Zr(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Km(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Xm(e){e.restore()}function $q(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function qq(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Hq(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Gt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Wq(e,t,n,i,s){if(s.strikethrough||s.underline){const r=e.measureText(i),l=t-r.actualBoundingBoxLeft,c=t+r.actualBoundingBoxRight,h=n-r.actualBoundingBoxAscent,d=n+r.actualBoundingBoxDescent,p=s.strikethrough?(h+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(l,p),e.lineTo(c,p),e.stroke()}}function Yq(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Rl(e,t,n,i,s,r={}){const l=ze(t)?t:[t],c=r.strokeWidth>0&&r.strokeColor!=="";let h,d;for(e.save(),e.font=s.string,Hq(e,r),h=0;h<l.length;++h)d=l[h],r.backdrop&&Yq(e,r.backdrop),c&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),Gt(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(d,n,i,r.maxWidth)),e.fillText(d,n,i,r.maxWidth),Wq(e,n,i,d,r),i+=Number(s.lineHeight);e.restore()}function Od(e,t){const{x:n,y:i,w:s,h:r,radius:l}=t;e.arc(n+l.topLeft,i+l.topLeft,l.topLeft,1.5*ge,ge,!0),e.lineTo(n,i+r-l.bottomLeft),e.arc(n+l.bottomLeft,i+r-l.bottomLeft,l.bottomLeft,ge,cn,!0),e.lineTo(n+s-l.bottomRight,i+r),e.arc(n+s-l.bottomRight,i+r-l.bottomRight,l.bottomRight,cn,0,!0),e.lineTo(n+s,i+l.topRight),e.arc(n+s-l.topRight,i+l.topRight,l.topRight,0,-cn,!0),e.lineTo(n+l.topLeft,i)}const Gq=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Kq=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Xq(e,t){const n=(""+e).match(Gq);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const Qq=e=>+e||0;function Ox(e,t){const n={},i=se(t),s=i?Object.keys(t):t,r=se(e)?i?l=>$t(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of s)n[l]=Qq(r(l));return n}function NI(e){return Ox(e,{top:"y",right:"x",bottom:"y",left:"x"})}function yl(e){return Ox(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ti(e){const t=NI(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function xn(e,t){e=e||{},t=t||Be.font;let n=$t(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=$t(e.style,t.style);i&&!(""+i).match(Kq)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:$t(e.family,t.family),lineHeight:Xq($t(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:$t(e.weight,t.weight),string:""};return s.string=Fq(s),s}function Ue(e,t,n,i){let s,r,l;for(s=0,r=e.length;s<r;++s)if(l=e[s],l!==void 0&&(t!==void 0&&typeof l=="function"&&(l=l(t)),n!==void 0&&ze(l)&&(l=l[n%l.length]),l!==void 0))return l}function Zq(e,t,n){const{min:i,max:s}=e,r=EI(t,(s-i)/2),l=(c,h)=>n&&c===0?0:c+h;return{min:l(i,-Math.abs(r)),max:l(s,r)}}function Eo(e,t){return Object.assign(Object.create(e),t)}function Px(e,t=[""],n,i,s=()=>e[0]){const r=n||e;typeof i>"u"&&(i=UI("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:i,_getTarget:s,override:c=>Px([c,...e],t,r,i)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete e[0][h],!0},get(c,h){return jI(c,h,()=>a8(h,t,e,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(c,h){return jA(c).includes(h)},ownKeys(c){return jA(c)},set(c,h,d){const p=c._storage||(c._storage=s());return c[h]=p[h]=d,delete c._keys,!0}})}function ru(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:LI(e,i),setContext:r=>ru(e,r,n,i),override:r=>ru(e.override(r),t,n,i)};return new Proxy(s,{deleteProperty(r,l){return delete r[l],delete e[l],!0},get(r,l,c){return jI(r,l,()=>t8(r,l,c))},getOwnPropertyDescriptor(r,l){return r._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(r,l,c){return e[l]=c,delete r[l],!0}})}function LI(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:yo(n)?n:()=>n,isIndexable:yo(i)?i:()=>i}}const Jq=(e,t)=>e?e+Rx(t):t,Nx=(e,t)=>se(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function jI(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function t8(e,t,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:l}=e;let c=i[t];return yo(c)&&l.isScriptable(t)&&(c=e8(t,c,e,n)),ze(c)&&c.length&&(c=n8(t,c,e,l.isIndexable)),Nx(t,c)&&(c=ru(c,s,r&&r[t],l)),c}function e8(e,t,n,i){const{_proxy:s,_context:r,_subProxy:l,_stack:c}=n;if(c.has(e))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+e);c.add(e);let h=t(r,l||i);return c.delete(e),Nx(e,h)&&(h=Lx(s._scopes,s,e,h)),h}function n8(e,t,n,i){const{_proxy:s,_context:r,_subProxy:l,_descriptors:c}=n;if(typeof r.index<"u"&&i(e))return t[r.index%t.length];if(se(t[0])){const h=t,d=s._scopes.filter(p=>p!==h);t=[];for(const p of h){const y=Lx(d,s,e,p);t.push(ru(y,r,l&&l[e],c))}}return t}function VI(e,t,n){return yo(e)?e(t,n):e}const i8=(e,t)=>e===!0?t:typeof e=="string"?mo(t,e):void 0;function s8(e,t,n,i,s){for(const r of t){const l=i8(n,r);if(l){e.add(l);const c=VI(l._fallback,n,s);if(typeof c<"u"&&c!==n&&c!==i)return c}else if(l===!1&&typeof i<"u"&&n!==i)return null}return!1}function Lx(e,t,n,i){const s=t._rootScopes,r=VI(t._fallback,n,i),l=[...e,...s],c=new Set;c.add(i);let h=LA(c,l,n,r||n,i);return h===null||typeof r<"u"&&r!==n&&(h=LA(c,l,r,h,i),h===null)?!1:Px(Array.from(c),[""],s,r,()=>r8(t,n,i))}function LA(e,t,n,i,s){for(;n;)n=s8(e,t,n,i,s);return n}function r8(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return ze(s)&&se(n)?n:s||{}}function a8(e,t,n,i){let s;for(const r of t)if(s=UI(Jq(r,e),n),typeof s<"u")return Nx(e,s)?Lx(n,i,e,s):s}function UI(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function jA(e){let t=e._keys;return t||(t=e._keys=o8(e._scopes)),t}function o8(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function zI(e,t,n,i){const{iScale:s}=e,{key:r="r"}=this._parsing,l=new Array(i);let c,h,d,p;for(c=0,h=i;c<h;++c)d=c+n,p=t[d],l[c]={r:s.parse(mo(p,r),d)};return l}const l8=Number.EPSILON||1e-14,au=(e,t)=>t<e.length&&!e[t].skip&&e[t],FI=e=>e==="x"?"y":"x";function c8(e,t,n,i){const s=e.skip?t:e,r=t,l=n.skip?t:n,c=$0(r,s),h=$0(l,r);let d=c/(c+h),p=h/(c+h);d=isNaN(d)?0:d,p=isNaN(p)?0:p;const y=i*d,_=i*p;return{previous:{x:r.x-y*(l.x-s.x),y:r.y-y*(l.y-s.y)},next:{x:r.x+_*(l.x-s.x),y:r.y+_*(l.y-s.y)}}}function u8(e,t,n){const i=e.length;let s,r,l,c,h,d=au(e,0);for(let p=0;p<i-1;++p)if(h=d,d=au(e,p+1),!(!h||!d)){if(rd(t[p],0,l8)){n[p]=n[p+1]=0;continue}s=n[p]/t[p],r=n[p+1]/t[p],c=Math.pow(s,2)+Math.pow(r,2),!(c<=9)&&(l=3/Math.sqrt(c),n[p]=s*l*t[p],n[p+1]=r*l*t[p])}}function h8(e,t,n="x"){const i=FI(n),s=e.length;let r,l,c,h=au(e,0);for(let d=0;d<s;++d){if(l=c,c=h,h=au(e,d+1),!c)continue;const p=c[n],y=c[i];l&&(r=(p-l[n])/3,c[`cp1${n}`]=p-r,c[`cp1${i}`]=y-r*t[d]),h&&(r=(h[n]-p)/3,c[`cp2${n}`]=p+r,c[`cp2${i}`]=y+r*t[d])}}function d8(e,t="x"){const n=FI(t),i=e.length,s=Array(i).fill(0),r=Array(i);let l,c,h,d=au(e,0);for(l=0;l<i;++l)if(c=h,h=d,d=au(e,l+1),!!h){if(d){const p=d[t]-h[t];s[l]=p!==0?(d[n]-h[n])/p:0}r[l]=c?d?sr(s[l-1])!==sr(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}u8(e,s,r),h8(e,r,t)}function Up(e,t,n){return Math.max(Math.min(e,n),t)}function f8(e,t){let n,i,s,r,l,c=Zr(e[0],t);for(n=0,i=e.length;n<i;++n)l=r,r=c,c=n<i-1&&Zr(e[n+1],t),r&&(s=e[n],l&&(s.cp1x=Up(s.cp1x,t.left,t.right),s.cp1y=Up(s.cp1y,t.top,t.bottom)),c&&(s.cp2x=Up(s.cp2x,t.left,t.right),s.cp2y=Up(s.cp2y,t.top,t.bottom)))}function p8(e,t,n,i,s){let r,l,c,h;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")d8(e,s);else{let d=i?e[e.length-1]:e[0];for(r=0,l=e.length;r<l;++r)c=e[r],h=c8(d,c,e[Math.min(r+1,l-(i?0:1))%l],t.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,d=c}t.capBezierPoints&&f8(e,n)}function jx(){return typeof window<"u"&&typeof document<"u"}function Vx(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function lm(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const Qm=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function g8(e,t){return Qm(e).getPropertyValue(t)}const m8=["top","right","bottom","left"];function _l(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=m8[s];i[r]=parseFloat(e[t+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const y8=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function _8(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:r}=i;let l=!1,c,h;if(y8(s,r,e.target))c=s,h=r;else{const d=t.getBoundingClientRect();c=i.clientX-d.left,h=i.clientY-d.top,l=!0}return{x:c,y:h,box:l}}function ll(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=Qm(n),r=s.boxSizing==="border-box",l=_l(s,"padding"),c=_l(s,"border","width"),{x:h,y:d,box:p}=_8(e,n),y=l.left+(p&&c.left),_=l.top+(p&&c.top);let{width:x,height:E}=t;return r&&(x-=l.width+c.width,E-=l.height+c.height),{x:Math.round((h-y)/x*n.width/i),y:Math.round((d-_)/E*n.height/i)}}function b8(e,t,n){let i,s;if(t===void 0||n===void 0){const r=e&&Vx(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const l=r.getBoundingClientRect(),c=Qm(r),h=_l(c,"border","width"),d=_l(c,"padding");t=l.width-d.width-h.width,n=l.height-d.height-h.height,i=lm(c.maxWidth,r,"clientWidth"),s=lm(c.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:i||am,maxHeight:s||am}}const zp=e=>Math.round(e*10)/10;function v8(e,t,n,i){const s=Qm(e),r=_l(s,"margin"),l=lm(s.maxWidth,e,"clientWidth")||am,c=lm(s.maxHeight,e,"clientHeight")||am,h=b8(e,t,n);let{width:d,height:p}=h;if(s.boxSizing==="content-box"){const _=_l(s,"border","width"),x=_l(s,"padding");d-=x.width+_.width,p-=x.height+_.height}return d=Math.max(0,d-r.width),p=Math.max(0,i?d/i:p-r.height),d=zp(Math.min(d,l,h.maxWidth)),p=zp(Math.min(p,c,h.maxHeight)),d&&!p&&(p=zp(d/2)),(t!==void 0||n!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,d=zp(Math.floor(p*i))),{width:d,height:p}}function VA(e,t,n){const i=t||1,s=Math.floor(e.height*i),r=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||l.height!==s||l.width!==r?(e.currentDevicePixelRatio=i,l.height=s,l.width=r,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const x8=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};jx()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function UA(e,t){const n=g8(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function cl(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function w8(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function E8(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},l=cl(e,s,n),c=cl(s,r,n),h=cl(r,t,n),d=cl(l,c,n),p=cl(c,h,n);return cl(d,p,n)}const S8=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},T8=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Bc(e,t,n){return e?S8(t,n):T8()}function BI(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function $I(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function qI(e){return e==="angle"?{between:Id,compare:Aq,normalize:li}:{between:Xr,compare:(t,n)=>t-n,normalize:t=>t}}function zA({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function A8(e,t,n){const{property:i,start:s,end:r}=n,{between:l,normalize:c}=qI(i),h=t.length;let{start:d,end:p,loop:y}=e,_,x;if(y){for(d+=h,p+=h,_=0,x=h;_<x&&l(c(t[d%h][i]),s,r);++_)d--,p--;d%=h,p%=h}return p<d&&(p+=h),{start:d,end:p,loop:y,style:e.style}}function HI(e,t,n){if(!n)return[e];const{property:i,start:s,end:r}=n,l=t.length,{compare:c,between:h,normalize:d}=qI(i),{start:p,end:y,loop:_,style:x}=A8(e,t,n),E=[];let T=!1,S=null,D,I,N;const H=()=>h(s,N,D)&&c(s,N)!==0,M=()=>c(r,D)===0||h(r,N,D),Y=()=>T||H(),R=()=>!T||M();for(let C=p,P=p;C<=y;++C)I=t[C%l],!I.skip&&(D=d(I[i]),D!==N&&(T=h(D,s,r),S===null&&Y()&&(S=c(D,s)===0?C:P),S!==null&&R()&&(E.push(zA({start:S,end:C,loop:_,count:l,style:x})),S=null),P=C,N=D));return S!==null&&E.push(zA({start:S,end:y,loop:_,count:l,style:x})),E}function WI(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const r=HI(i[s],e.points,t);r.length&&n.push(...r)}return n}function k8(e,t,n,i){let s=0,r=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(r+=s);r>s&&e[r%t].skip;)r--;return r%=t,{start:s,end:r}}function R8(e,t,n,i){const s=e.length,r=[];let l=t,c=e[t],h;for(h=t+1;h<=n;++h){const d=e[h%s];d.skip||d.stop?c.skip||(i=!1,r.push({start:t%s,end:(h-1)%s,loop:i}),t=l=d.stop?h:null):(l=h,c.skip&&(t=h)),c=d}return l!==null&&r.push({start:t%s,end:l%s,loop:i}),r}function C8(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const r=!!e._loop,{start:l,end:c}=k8(n,s,r,i);if(i===!0)return FA(e,[{start:l,end:c,loop:r}],n,t);const h=c<l?c+s:c,d=!!e._fullLoop&&l===0&&c===s-1;return FA(e,R8(n,l,h,d),n,t)}function FA(e,t,n,i){return!i||!i.setContext||!n?t:D8(e,t,n,i)}function D8(e,t,n,i){const s=e._chart.getContext(),r=BA(e.options),{_datasetIndex:l,options:{spanGaps:c}}=e,h=n.length,d=[];let p=r,y=t[0].start,_=y;function x(E,T,S,D){const I=c?-1:1;if(E!==T){for(E+=h;n[E%h].skip;)E-=I;for(;n[T%h].skip;)T+=I;E%h!==T%h&&(d.push({start:E%h,end:T%h,loop:S,style:D}),p=D,y=T%h)}}for(const E of t){y=c?y:E.start;let T=n[y%h],S;for(_=y+1;_<=E.end;_++){const D=n[_%h];S=BA(i.setContext(Eo(s,{type:"segment",p0:T,p1:D,p0DataIndex:(_-1)%h,p1DataIndex:_%h,datasetIndex:l}))),M8(S,p)&&x(y,_-1,E.loop,p),T=D,p=S}y<_-1&&x(y,_-1,E.loop,p)}return d}function BA(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function M8(e,t){if(!t)return!1;const n=[],i=function(s,r){return Ix(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(e,i)!==JSON.stringify(t,i)}function Fp(e,t,n){return e.options.clip?e[n]:t[n]}function I8(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:Fp(n,t,"left"),right:Fp(n,t,"right"),top:Fp(i,t,"top"),bottom:Fp(i,t,"bottom")}:t}function YI(e,t){const n=t._clip;if(n.disabled)return!1;const i=I8(t,e.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class O8{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const r=n.listeners[s],l=n.duration;r.forEach(c=>c({chart:t,initial:n.initial,numSteps:l,currentStep:Math.min(i-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=CI.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let l=r.length-1,c=!1,h;for(;l>=0;--l)h=r[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),c=!0):(r[l]=r[r.length-1],r.pop());c&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Br=new O8;const $A="transparent",P8={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=OA(e||$A),s=i.valid&&OA(t||$A);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class N8{constructor(t,n,i,s){const r=n[i];s=Ue([t.to,s,r,t.from]);const l=Ue([t.from,r,s]);this._active=!0,this._fn=t.fn||P8[t.type||typeof l],this._easing=ad[t.easing]||ad.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,l=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Ue([t.to,n,s,t.from]),this._from=Ue([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,r=this._from,l=this._loop,c=this._to;let h;if(this._active=r!==c&&(l||n<i),!this._active){this._target[s]=c,this._notify(!0);return}if(n<0){this._target[s]=r;return}h=n/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(r,c,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class GI{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!se(t))return;const n=Object.keys(Be.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!se(r))return;const l={};for(const c of n)l[c]=r[c];(ze(r.properties)&&r.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,l)})})}_animateOptions(t,n){const i=n.options,s=j8(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&L8(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,n){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),l=Object.keys(n),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const d=l[h];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(t,n));continue}const p=n[d];let y=r[d];const _=i.get(d);if(y)if(_&&y.active()){y.update(_,p,c);continue}else y.cancel();if(!_||!_.duration){t[d]=p;continue}r[d]=y=new N8(_,t,d,p),s.push(y)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Br.add(this._chart,i),!0}}function L8(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=e[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function j8(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function qA(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function V8(e,t,n){if(n===!1)return!1;const i=qA(e,n),s=qA(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function U8(e){let t,n,i,s;return se(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function KI(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function HA(e,t,n,i={}){const s=e.keys,r=i.mode==="single";let l,c,h,d;if(t===null)return;let p=!1;for(l=0,c=s.length;l<c;++l){if(h=+s[l],h===n){if(p=!0,i.all)continue;break}d=e.values[h],sn(d)&&(r||t===0||sr(t)===sr(d))&&(t+=d)}return!p&&!i.all?0:t}function z8(e,t){const{iScale:n,vScale:i}=t,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",l=Object.keys(e),c=new Array(l.length);let h,d,p;for(h=0,d=l.length;h<d;++h)p=l[h],c[h]={[s]:p,[r]:e[p]};return c}function Ib(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function F8(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function B8(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function $8(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function WA(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=e[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function YA(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:r,vScale:l,index:c}=i,h=r.axis,d=l.axis,p=F8(r,l,i),y=t.length;let _;for(let x=0;x<y;++x){const E=t[x],{[h]:T,[d]:S}=E,D=E._stacks||(E._stacks={});_=D[d]=$8(s,p,T),_[c]=S,_._top=WA(_,l,!0,i.type),_._bottom=WA(_,l,!1,i.type);const I=_._visualValues||(_._visualValues={});I[c]=S}}function Ob(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function q8(e,t){return Eo(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function H8(e,t,n){return Eo(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Ch(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Pb=e=>e==="reset"||e==="none",GA=(e,t)=>t?e:Object.assign({},e),W8=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:KI(n,!0),values:null};class Es{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Ib(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ch(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(y,_,x,E)=>y==="x"?_:y==="r"?E:x,r=n.xAxisID=$t(i.xAxisID,Ob(t,"x")),l=n.yAxisID=$t(i.yAxisID,Ob(t,"y")),c=n.rAxisID=$t(i.rAxisID,Ob(t,"r")),h=n.indexAxis,d=n.iAxisID=s(h,r,l,c),p=n.vAxisID=s(h,l,r,c);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&DA(this._data,this),t._stacked&&Ch(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(se(n)){const s=this._cachedMeta;this._data=z8(n,s)}else if(i!==n){if(i){DA(i,this);const s=this._cachedMeta;Ch(s),s._parsed=[]}n&&Object.isExtensible(n)&&Dq(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=Ib(n.vScale,n),n.stack!==i.stack&&(s=!0,Ch(n),n.stack=i.stack),this._resyncElements(t),(s||r!==n._stacked)&&(YA(this,n._parsed),n._stacked=Ib(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:l}=i,c=r.axis;let h=t===0&&n===s.length?!0:i._sorted,d=t>0&&i._parsed[t-1],p,y,_;if(this._parsing===!1)i._parsed=s,i._sorted=!0,_=s;else{ze(s[t])?_=this.parseArrayData(i,s,t,n):se(s[t])?_=this.parseObjectData(i,s,t,n):_=this.parsePrimitiveData(i,s,t,n);const x=()=>y[c]===null||d&&y[c]<d[c];for(p=0;p<n;++p)i._parsed[p+t]=y=_[p],h&&(x()&&(h=!1),d=y);i._sorted=h}l&&YA(this,_)}parsePrimitiveData(t,n,i,s){const{iScale:r,vScale:l}=t,c=r.axis,h=l.axis,d=r.getLabels(),p=r===l,y=new Array(s);let _,x,E;for(_=0,x=s;_<x;++_)E=_+i,y[_]={[c]:p||r.parse(d[E],E),[h]:l.parse(n[E],E)};return y}parseArrayData(t,n,i,s){const{xScale:r,yScale:l}=t,c=new Array(s);let h,d,p,y;for(h=0,d=s;h<d;++h)p=h+i,y=n[p],c[h]={x:r.parse(y[0],p),y:l.parse(y[1],p)};return c}parseObjectData(t,n,i,s){const{xScale:r,yScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,d=new Array(s);let p,y,_,x;for(p=0,y=s;p<y;++p)_=p+i,x=n[_],d[p]={x:r.parse(mo(x,c),_),y:l.parse(mo(x,h),_)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,r=this._cachedMeta,l=n[t.axis],c={keys:KI(s,!0),values:n._stacks[t.axis]._visualValues};return HA(c,l,r.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const r=i[n.axis];let l=r===null?NaN:r;const c=s&&i._stacks[n.axis];s&&c&&(s.values=c,l=HA(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,l=s.length,c=this._getOtherScale(t),h=W8(n,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=B8(c);let _,x;function E(){x=s[_];const T=x[c.axis];return!sn(x[t.axis])||p>T||y<T}for(_=0;_<l&&!(!E()&&(this.updateRangeFromParsed(d,t,x,h),r));++_);if(r){for(_=l-1;_>=0;--_)if(!E()){this.updateRangeFromParsed(d,t,x,h);break}}return d}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,r,l;for(s=0,r=n.length;s<r;++s)l=n[s][t.axis],sn(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=U8($t(this.options.clip,V8(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,r,c,h),p=c;p<c+h;++p){const y=s[p];y.hidden||(y.active&&d?l.push(y):y.draw(t,r))}for(p=0;p<l.length;++p)l[p].draw(t,r)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];r=l.$context||(l.$context=H8(this.getContext(),t,l)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=q8(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",r=this._cachedDataOpts,l=t+"-"+n,c=r[l],h=this.enableOptionSharing&&Md(i);if(c)return GA(c,h);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,t),y=s?[`${t}Hover`,"hover",t,""]:[t,""],_=d.getOptionScopes(this.getDataset(),p),x=Object.keys(Be.elements[t]),E=()=>this.getContext(i,s,n),T=d.resolveNamedOptions(_,x,E,y);return T.$shared&&(T.$shared=h,r[l]=Object.freeze(GA(T,h))),T}_resolveAnimations(t,n,i){const s=this.chart,r=this._cachedDataOpts,l=`animation-${n}`,c=r[l];if(c)return c;let h;if(s.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,n),_=p.getOptionScopes(this.getDataset(),y);h=p.createResolver(_,this.getContext(t,i,n))}const d=new GI(s,h&&h.animations);return h&&h._cacheable&&(r[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Pb(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,r=this.getSharedOptions(i),l=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:l}}updateElement(t,n,i,s){Pb(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!Pb(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[c,h,d]of this._syncList)this[c](h,d);this._syncList=[];const s=i.length,r=n.length,l=Math.min(r,s);l&&this.parse(0,l),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,n,i=!0){const s=this._cachedMeta,r=s.data,l=t+n;let c;const h=d=>{for(d.length+=n,c=d.length-1;c>=l;c--)d[c]=d[c-n]};for(h(r),c=t;c<l;++c)r[c]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(t,n),i&&this.updateElements(r,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&Ch(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}wt(Es,"defaults",{}),wt(Es,"datasetElementType",null),wt(Es,"dataElementType",null);function Y8(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=RI(i.sort((s,r)=>s-r))}return e._cache.$bar}function G8(e){const t=e.iScale,n=Y8(t,e.type);let i=t._length,s,r,l,c;const h=()=>{l===32767||l===-32768||(Md(c)&&(i=Math.min(i,Math.abs(l-c)||i)),c=l)};for(s=0,r=n.length;s<r;++s)l=t.getPixelForValue(n[s]),h();for(c=void 0,s=0,r=t.ticks.length;s<r;++s)l=t.getPixelForTick(s),h();return i}function K8(e,t,n,i){const s=n.barThickness;let r,l;return Gt(s)?(r=t.min*n.categoryPercentage,l=n.barPercentage):(r=s*i,l=1),{chunk:r/i,ratio:l,start:t.pixels[e]-r/2}}function X8(e,t,n,i){const s=t.pixels,r=s[e];let l=e>0?s[e-1]:null,c=e<s.length-1?s[e+1]:null;const h=n.categoryPercentage;l===null&&(l=r-(c===null?t.end-t.start:c-r)),c===null&&(c=r+r-l);const d=r-(r-Math.min(l,c))/2*h;return{chunk:Math.abs(c-l)/2*h/i,ratio:n.barPercentage,start:d}}function Q8(e,t,n,i){const s=n.parse(e[0],i),r=n.parse(e[1],i),l=Math.min(s,r),c=Math.max(s,r);let h=l,d=c;Math.abs(l)>Math.abs(c)&&(h=c,d=l),t[n.axis]=d,t._custom={barStart:h,barEnd:d,start:s,end:r,min:l,max:c}}function XI(e,t,n,i){return ze(e)?Q8(e,t,n,i):t[n.axis]=n.parse(e,i),t}function KA(e,t,n,i){const s=e.iScale,r=e.vScale,l=s.getLabels(),c=s===r,h=[];let d,p,y,_;for(d=n,p=n+i;d<p;++d)_=t[d],y={},y[s.axis]=c||s.parse(l[d],d),h.push(XI(_,y,r,d));return h}function Nb(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function Z8(e,t,n){return e!==0?sr(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function J8(e){let t,n,i,s,r;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:t,top:s,bottom:r}}function tH(e,t,n,i){let s=t.borderSkipped;const r={};if(!s){e.borderSkipped=r;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:h,top:d,bottom:p}=J8(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=d:(n._bottom||0)===i?s=p:(r[XA(p,l,c,h)]=!0,s=d)),r[XA(s,l,c,h)]=!0,e.borderSkipped=r}function XA(e,t,n,i){return i?(e=eH(e,t,n),e=QA(e,n,t)):e=QA(e,t,n),e}function eH(e,t,n){return e===t?n:e===n?t:e}function QA(e,t,n){return e==="start"?t:e==="end"?n:e}function nH(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Tg extends Es{parsePrimitiveData(t,n,i,s){return KA(t,n,i,s)}parseArrayData(t,n,i,s){return KA(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:r,vScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,d=r.axis==="x"?c:h,p=l.axis==="x"?c:h,y=[];let _,x,E,T;for(_=i,x=i+s;_<x;++_)T=n[_],E={},E[r.axis]=r.parse(mo(T,d),_),y.push(XI(mo(T,p),E,l,_));return y}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(t),l=r._custom,c=Nb(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const r=s==="reset",{index:l,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),d=c.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:_}=this._getSharedOptions(n,s);for(let x=n;x<n+i;x++){const E=this.getParsed(x),T=r||Gt(E[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(x),S=this._calculateBarIndexPixels(x,p),D=(E._stacks||{})[c.axis],I={horizontal:d,base:T.base,enableBorderRadius:!D||Nb(E._custom)||l===D._top||l===D._bottom,x:d?T.head:S.center,y:d?S.center:T.head,height:d?S.size:Math.abs(T.size),width:d?Math.abs(T.size):S.size};_&&(I.options=y||this.resolveDataElementOptions(x,t[x].active?"active":s));const N=I.options||t[x].options;tH(I,N,D,l),nH(I,N,p.ratio),this.updateElement(t[x],x,I,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),r=i.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(n),h=c&&c[i.axis],d=p=>{const y=p._parsed.find(x=>x[i.axis]===h),_=y&&y[p.vScale.axis];if(Gt(_)||isNaN(_))return!0};for(const p of s)if(!(n!==void 0&&d(p))&&((r===!1||l.indexOf(p.stack)===-1||r===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[$t(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,i){const s=this._getStacks(t,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,l;for(r=0,l=n.data.length;r<l;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const c=t.barThickness;return{min:c||G8(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:l}}=this,c=r||0,h=this.getParsed(t),d=h._custom,p=Nb(d);let y=h[n.axis],_=0,x=i?this.applyStack(n,h,i):y,E,T;x!==y&&(_=x-y,x=y),p&&(y=d.barStart,x=d.barEnd-d.barStart,y!==0&&sr(y)!==sr(d.barEnd)&&(_=0),_+=y);const S=!Gt(r)&&!p?r:_;let D=n.getPixelForValue(S);if(this.chart.getDataVisibility(t)?E=n.getPixelForValue(_+x):E=D,T=E-D,Math.abs(T)<l){T=Z8(T,n,c)*l,y===c&&(D-=T/2);const I=n.getPixelForDecimal(0),N=n.getPixelForDecimal(1),H=Math.min(I,N),M=Math.max(I,N);D=Math.max(Math.min(D,M),H),E=D+T,i&&!p&&(h._stacks[n.axis]._visualValues[s]=n.getValueForPixel(E)-n.getValueForPixel(D))}if(D===n.getPixelForValue(c)){const I=sr(T)*n.getLineWidthForValue(c)/2;D+=I,T-=I}return{size:T,base:D,head:E,center:E+T/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,r=s.skipNull,l=$t(s.maxBarThickness,1/0);let c,h;const d=this._getAxisCount();if(n.grouped){const p=r?this._getStackCount(t):n.stackCount,y=s.barThickness==="flex"?X8(t,n,s,p*d):K8(t,n,s,p*d),_=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf($t(_,this.getFirstScaleIdForIndexAxis())),E=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0)+x;c=y.start+y.chunk*E+y.chunk/2,h=Math.min(l,y.chunk*y.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(l,n.min*n.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}wt(Tg,"id","bar"),wt(Tg,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),wt(Tg,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Ag extends Es{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,s){const r=super.parsePrimitiveData(t,n,i,s);for(let l=0;l<r.length;l++)r[l]._custom=this.resolveDataElementOptions(l+i).radius;return r}parseArrayData(t,n,i,s){const r=super.parseArrayData(t,n,i,s);for(let l=0;l<r.length;l++){const c=n[i+l];r[l]._custom=$t(c[2],this.resolveDataElementOptions(l+i).radius)}return r}parseObjectData(t,n,i,s){const r=super.parseObjectData(t,n,i,s);for(let l=0;l<r.length;l++){const c=n[i+l];r[l]._custom=$t(c&&c.r&&+c.r,this.resolveDataElementOptions(l+i).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,l=this.getParsed(t),c=s.getLabelForValue(l.x),h=r.getLabelForValue(l.y),d=l._custom;return{label:i[t]||"",value:"("+c+", "+h+(d?", "+d:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:l,vScale:c}=this._cachedMeta,{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,s),p=l.axis,y=c.axis;for(let _=n;_<n+i;_++){const x=t[_],E=!r&&this.getParsed(_),T={},S=T[p]=r?l.getPixelForDecimal(.5):l.getPixelForValue(E[p]),D=T[y]=r?c.getBasePixel():c.getPixelForValue(E[y]);T.skip=isNaN(S)||isNaN(D),d&&(T.options=h||this.resolveDataElementOptions(_,x.active?"active":s),r&&(T.options.radius=0)),this.updateElement(x,_,T,s)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=$t(i&&i._custom,r),s}}wt(Ag,"id","bubble"),wt(Ag,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),wt(Ag,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function iH(e,t,n){let i=1,s=1,r=0,l=0;if(t<Fe){const c=e,h=c+t,d=Math.cos(c),p=Math.sin(c),y=Math.cos(h),_=Math.sin(h),x=(N,H,M)=>Id(N,c,h,!0)?1:Math.max(H,H*n,M,M*n),E=(N,H,M)=>Id(N,c,h,!0)?-1:Math.min(H,H*n,M,M*n),T=x(0,d,y),S=x(cn,p,_),D=E(ge,d,y),I=E(ge+cn,p,_);i=(T-D)/2,s=(S-I)/2,r=-(T+D)/2,l=-(S+I)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:l}}class fl extends Es{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=h=>+i[h];if(se(i[t])){const{key:h="value"}=this._parsing;r=d=>+mo(i[d],h)}let l,c;for(l=t,c=t+n;l<c;++l)s._parsed[l]=r(l)}}_getRotation(){return vs(this.options.rotation-90)}_getCircumference(){return vs(this.options.circumference)}_getRotationExtents(){let t=Fe,n=-Fe;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),l=s._getCircumference();t=Math.min(t,r),n=Math.max(n,r+l)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(gq(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:p,rotation:y}=this._getRotationExtents(),{ratioX:_,ratioY:x,offsetX:E,offsetY:T}=iH(y,p,h),S=(i.width-l)/_,D=(i.height-l)/x,I=Math.max(Math.min(S,D)/2,0),N=EI(this.options.radius,I),H=Math.max(N*h,0),M=(N-H)/this._getVisibleDatasetWeightTotal();this.offsetX=E*N,this.offsetY=T*N,s.total=this.calculateTotal(),this.outerRadius=N-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*d,0),this.updateElements(r,0,r.length,t)}_circumference(t,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*r/Fe)}updateElements(t,n,i,s){const r=s==="reset",l=this.chart,c=l.chartArea,d=l.options.animation,p=(c.left+c.right)/2,y=(c.top+c.bottom)/2,_=r&&d.animateScale,x=_?0:this.innerRadius,E=_?0:this.outerRadius,{sharedOptions:T,includeOptions:S}=this._getSharedOptions(n,s);let D=this._getRotation(),I;for(I=0;I<n;++I)D+=this._circumference(I,r);for(I=n;I<n+i;++I){const N=this._circumference(I,r),H=t[I],M={x:p+this.offsetX,y:y+this.offsetY,startAngle:D,endAngle:D+N,circumference:N,outerRadius:E,innerRadius:x};S&&(M.options=T||this.resolveDataElementOptions(I,H.active?"active":s)),D+=N,this.updateElement(H,I,M,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,s;for(s=0;s<n.length;s++){const r=t._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Fe*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=tf(n._parsed[t],i.options.locale);return{label:s[t]||"",value:r}}getMaxBorderWidth(t){let n=0;const i=this.chart;let s,r,l,c,h;if(!t){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){l=i.getDatasetMeta(s),t=l.data,c=l.controller;break}}if(!t)return 0;for(s=0,r=t.length;s<r;++s)h=c.resolveDataElementOptions(s),h.borderAlign!=="inner"&&(n=Math.max(n,h.borderWidth||0,h.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,s=t.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max($t(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}wt(fl,"id","doughnut"),wt(fl,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),wt(fl,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),wt(fl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:r,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class kg extends Es{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,l=this.chart._animationsDisabled;let{start:c,count:h}=MI(n,s,l);this._drawStart=c,this._drawCount=h,II(n)&&(c=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:d},t),this.updateElements(s,c,h,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:d}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(n,s),_=l.axis,x=c.axis,{spanGaps:E,segment:T}=this.options,S=su(E)?E:Number.POSITIVE_INFINITY,D=this.chart._animationsDisabled||r||s==="none",I=n+i,N=t.length;let H=n>0&&this.getParsed(n-1);for(let M=0;M<N;++M){const Y=t[M],R=D?Y:{};if(M<n||M>=I){R.skip=!0;continue}const C=this.getParsed(M),P=Gt(C[x]),V=R[_]=l.getPixelForValue(C[_],M),U=R[x]=r||P?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,C,h):C[x],M);R.skip=isNaN(V)||isNaN(U)||P,R.stop=M>0&&Math.abs(C[_]-H[_])>S,T&&(R.parsed=C,R.raw=d.data[M]),y&&(R.options=p||this.resolveDataElementOptions(M,Y.active?"active":s)),D||this.updateElement(Y,M,R,s),H=C}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}wt(kg,"id","line"),wt(kg,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),wt(kg,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ld extends Es{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=tf(n._parsed[t].r,i.options.locale);return{label:s[t]||"",value:r}}parseObjectData(t,n,i,s){return zI.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),l=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),c=(r-l)/t.getVisibleDatasetCount();this.outerRadius=r-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,n,i,s){const r=s==="reset",l=this.chart,h=l.options.animation,d=this._cachedMeta.rScale,p=d.xCenter,y=d.yCenter,_=d.getIndexAngle(0)-.5*ge;let x=_,E;const T=360/this.countVisibleElements();for(E=0;E<n;++E)x+=this._computeAngle(E,s,T);for(E=n;E<n+i;E++){const S=t[E];let D=x,I=x+this._computeAngle(E,s,T),N=l.getDataVisibility(E)?d.getDistanceFromCenterForValue(this.getParsed(E).r):0;x=I,r&&(h.animateScale&&(N=0),h.animateRotate&&(D=I=_));const H={x:p,y,innerRadius:0,outerRadius:N,startAngle:D,endAngle:I,options:this.resolveDataElementOptions(E,S.active?"active":s)};this.updateElement(S,E,H,s)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?vs(this.resolveDataElementOptions(t,n).angle||i):0}}wt(ld,"id","polarArea"),wt(ld,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),wt(ld,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:r,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class W0 extends fl{}wt(W0,"id","pie"),wt(W0,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Rg extends Es{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,s){return zI.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const c={_loop:!0,_fullLoop:r.length===s.length,options:l};this.updateElement(i,void 0,c,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,i,s){const r=this._cachedMeta.rScale,l=s==="reset";for(let c=n;c<n+i;c++){const h=t[c],d=this.resolveDataElementOptions(c,h.active?"active":s),p=r.getPointPositionForValue(c,this.getParsed(c).r),y=l?r.xCenter:p.x,_=l?r.yCenter:p.y,x={x:y,y:_,angle:p.angle,skip:isNaN(y)||isNaN(_),options:d};this.updateElement(h,c,x,s)}}}wt(Rg,"id","radar"),wt(Rg,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),wt(Rg,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Cg extends Es{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,l=this.getParsed(t),c=s.getLabelForValue(l.x),h=r.getLabelForValue(l.y);return{label:i[t]||"",value:"("+c+", "+h+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:l}=MI(n,i,s);if(this._drawStart=r,this._drawCount=l,II(n)&&(r=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:h}=n;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!h._decimated,c.points=i;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:d},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,r,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,s){const r=s==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:d}=this._cachedMeta,p=this.resolveDataElementOptions(n,s),y=this.getSharedOptions(p),_=this.includeOptions(s,y),x=l.axis,E=c.axis,{spanGaps:T,segment:S}=this.options,D=su(T)?T:Number.POSITIVE_INFINITY,I=this.chart._animationsDisabled||r||s==="none";let N=n>0&&this.getParsed(n-1);for(let H=n;H<n+i;++H){const M=t[H],Y=this.getParsed(H),R=I?M:{},C=Gt(Y[E]),P=R[x]=l.getPixelForValue(Y[x],H),V=R[E]=r||C?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,Y,h):Y[E],H);R.skip=isNaN(P)||isNaN(V)||C,R.stop=H>0&&Math.abs(Y[x]-N[x])>D,S&&(R.parsed=Y,R.raw=d.data[H]),_&&(R.options=y||this.resolveDataElementOptions(H,M.active?"active":s)),I||this.updateElement(M,H,R,s),N=Y}this.updateSharedOptions(y,s,p)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let c=0;for(let h=n.length-1;h>=0;--h)c=Math.max(c,n[h].size(this.resolveDataElementOptions(h))/2);return c>0&&c}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,l)/2}}wt(Cg,"id","scatter"),wt(Cg,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),wt(Cg,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var sH=Object.freeze({__proto__:null,BarController:Tg,BubbleController:Ag,DoughnutController:fl,LineController:kg,PieController:W0,PolarAreaController:ld,RadarController:Rg,ScatterController:Cg});function nl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ux{constructor(t){wt(this,"options");this.options=t||{}}static override(t){Object.assign(Ux.prototype,t)}init(){}formats(){return nl()}parse(){return nl()}format(){return nl()}add(){return nl()}diff(){return nl()}startOf(){return nl()}endOf(){return nl()}}var rH={_date:Ux};function aH(e,t,n,i){const{controller:s,data:r,_sorted:l}=e,c=s._cachedMeta.iScale,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&l&&r.length){const d=c._reversePixels?Rq:Qr;if(i){if(s._sharedOptions){const p=r[0],y=typeof p.getRange=="function"&&p.getRange(t);if(y){const _=d(r,t,n-y),x=d(r,t,n+y);return{lo:_.lo,hi:x.hi}}}}else{const p=d(r,t,n);if(h){const{vScale:y}=s._cachedMeta,{_parsed:_}=e,x=_.slice(0,p.lo+1).reverse().findIndex(T=>!Gt(T[y.axis]));p.lo-=Math.max(0,x);const E=_.slice(p.hi).findIndex(T=>!Gt(T[y.axis]));p.hi+=Math.max(0,E)}return p}}return{lo:0,hi:r.length-1}}function Zm(e,t,n,i,s){const r=e.getSortedVisibleDatasetMetas(),l=n[t];for(let c=0,h=r.length;c<h;++c){const{index:d,data:p}=r[c],{lo:y,hi:_}=aH(r[c],t,l,s);for(let x=y;x<=_;++x){const E=p[x];E.skip||i(E,d,x)}}}function oH(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const r=t?Math.abs(i.x-s.x):0,l=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(l,2))}}function Lb(e,t,n,i,s){const r=[];return!s&&!e.isPointInArea(t)||Zm(e,n,t,function(c,h,d){!s&&!Zr(c,e.chartArea,0)||c.inRange(t.x,t.y,i)&&r.push({element:c,datasetIndex:h,index:d})},!0),r}function lH(e,t,n,i){let s=[];function r(l,c,h){const{startAngle:d,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:y}=AI(l,{x:t.x,y:t.y});Id(y,d,p)&&s.push({element:l,datasetIndex:c,index:h})}return Zm(e,n,t,r),s}function cH(e,t,n,i,s,r){let l=[];const c=oH(n);let h=Number.POSITIVE_INFINITY;function d(p,y,_){const x=p.inRange(t.x,t.y,s);if(i&&!x)return;const E=p.getCenterPoint(s);if(!(!!r||e.isPointInArea(E))&&!x)return;const S=c(t,E);S<h?(l=[{element:p,datasetIndex:y,index:_}],h=S):S===h&&l.push({element:p,datasetIndex:y,index:_})}return Zm(e,n,t,d),l}function jb(e,t,n,i,s,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!i?lH(e,t,n,s):cH(e,t,n,i,s,r)}function ZA(e,t,n,i,s){const r=[],l=n==="x"?"inXRange":"inYRange";let c=!1;return Zm(e,n,t,(h,d,p)=>{h[l]&&h[l](t[n],s)&&(r.push({element:h,datasetIndex:d,index:p}),c=c||h.inRange(t.x,t.y,s))}),i&&!c?[]:r}var uH={modes:{index(e,t,n,i){const s=ll(t,e),r=n.axis||"x",l=n.includeInvisible||!1,c=n.intersect?Lb(e,s,r,i,l):jb(e,s,r,!1,i,l),h=[];return c.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const p=c[0].index,y=d.data[p];y&&!y.skip&&h.push({element:y,datasetIndex:d.index,index:p})}),h):[]},dataset(e,t,n,i){const s=ll(t,e),r=n.axis||"xy",l=n.includeInvisible||!1;let c=n.intersect?Lb(e,s,r,i,l):jb(e,s,r,!1,i,l);if(c.length>0){const h=c[0].datasetIndex,d=e.getDatasetMeta(h).data;c=[];for(let p=0;p<d.length;++p)c.push({element:d[p],datasetIndex:h,index:p})}return c},point(e,t,n,i){const s=ll(t,e),r=n.axis||"xy",l=n.includeInvisible||!1;return Lb(e,s,r,i,l)},nearest(e,t,n,i){const s=ll(t,e),r=n.axis||"xy",l=n.includeInvisible||!1;return jb(e,s,r,n.intersect,i,l)},x(e,t,n,i){const s=ll(t,e);return ZA(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=ll(t,e);return ZA(e,s,"y",n.intersect,i)}}};const QI=["left","top","right","bottom"];function Dh(e,t){return e.filter(n=>n.pos===t)}function JA(e,t){return e.filter(n=>QI.indexOf(n.pos)===-1&&n.box.axis===t)}function Mh(e,t){return e.sort((n,i)=>{const s=t?i:n,r=t?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function hH(e){const t=[];let n,i,s,r,l,c;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:r,options:{stack:l,stackWeight:c=1}}=s,t.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&r+l,stackWeight:c});return t}function dH(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!QI.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=r}return t}function fH(e,t){const n=dH(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,l,c;for(r=0,l=e.length;r<l;++r){c=e[r];const{fullSize:h}=c.box,d=n[c.stack],p=d&&c.stackWeight/d.weight;c.horizontal?(c.width=p?p*i:h&&t.availableWidth,c.height=s):(c.width=i,c.height=p?p*s:h&&t.availableHeight)}return n}function pH(e){const t=hH(e),n=Mh(t.filter(d=>d.box.fullSize),!0),i=Mh(Dh(t,"left"),!0),s=Mh(Dh(t,"right")),r=Mh(Dh(t,"top"),!0),l=Mh(Dh(t,"bottom")),c=JA(t,"x"),h=JA(t,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(h).concat(l).concat(c),chartArea:Dh(t,"chartArea"),vertical:i.concat(s).concat(h),horizontal:r.concat(l).concat(c)}}function tk(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function ZI(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function gH(e,t,n,i){const{pos:s,box:r}=n,l=e.maxPadding;if(!se(s)){n.size&&(e[s]-=n.size);const y=i[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?r.height:r.width),n.size=y.size/y.count,e[s]+=n.size}r.getPadding&&ZI(l,r.getPadding());const c=Math.max(0,t.outerWidth-tk(l,e,"left","right")),h=Math.max(0,t.outerHeight-tk(l,e,"top","bottom")),d=c!==e.w,p=h!==e.h;return e.w=c,e.h=h,n.horizontal?{same:d,other:p}:{same:p,other:d}}function mH(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function yH(e,t){const n=t.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{r[l]=Math.max(t[l],n[l])}),r}return i(e?["left","right"]:["top","bottom"])}function Yh(e,t,n,i){const s=[];let r,l,c,h,d,p;for(r=0,l=e.length,d=0;r<l;++r){c=e[r],h=c.box,h.update(c.width||t.w,c.height||t.h,yH(c.horizontal,t));const{same:y,other:_}=gH(t,n,c,i);d|=y&&s.length,p=p||_,h.fullSize||s.push(c)}return d&&Yh(s,t,n,i)||p}function Bp(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function ek(e,t,n,i){const s=n.padding;let{x:r,y:l}=t;for(const c of e){const h=c.box,d=i[c.stack]||{placed:0,weight:1},p=c.stackWeight/d.weight||1;if(c.horizontal){const y=t.w*p,_=d.size||h.height;Md(d.start)&&(l=d.start),h.fullSize?Bp(h,s.left,l,n.outerWidth-s.right-s.left,_):Bp(h,t.left+d.placed,l,y,_),d.start=l,d.placed+=y,l=h.bottom}else{const y=t.h*p,_=d.size||h.width;Md(d.start)&&(r=d.start),h.fullSize?Bp(h,r,s.top,_,n.outerHeight-s.bottom-s.top):Bp(h,r,t.top+d.placed,_,y),d.start=r,d.placed+=y,r=h.right}}t.x=r,t.y=l}var ui={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=ti(e.options.layout.padding),r=Math.max(t-s.width,0),l=Math.max(n-s.height,0),c=pH(e.boxes),h=c.vertical,d=c.horizontal;xe(e.boxes,T=>{typeof T.beforeLayout=="function"&&T.beforeLayout()});const p=h.reduce((T,S)=>S.box.options&&S.box.options.display===!1?T:T+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:r,availableHeight:l,vBoxMaxWidth:r/2/p,hBoxMaxHeight:l/2}),_=Object.assign({},s);ZI(_,ti(i));const x=Object.assign({maxPadding:_,w:r,h:l,x:s.left,y:s.top},s),E=fH(h.concat(d),y);Yh(c.fullSize,x,y,E),Yh(h,x,y,E),Yh(d,x,y,E)&&Yh(h,x,y,E),mH(x),ek(c.leftAndTop,x,y,E),x.x+=x.w,x.y+=x.h,ek(c.rightAndBottom,x,y,E),e.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},xe(c.chartArea,T=>{const S=T.box;Object.assign(S,e.chartArea),S.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class JI{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class _H extends JI{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Dg="$chartjs",bH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},nk=e=>e===null||e==="";function vH(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[Dg]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",nk(s)){const r=UA(e,"width");r!==void 0&&(e.width=r)}if(nk(i))if(e.style.height==="")e.height=e.width/(t||2);else{const r=UA(e,"height");r!==void 0&&(e.height=r)}return e}const tO=x8?{passive:!0}:!1;function xH(e,t,n){e&&e.addEventListener(t,n,tO)}function wH(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,tO)}function EH(e,t){const n=bH[e.type]||e.type,{x:i,y:s}=ll(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function cm(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function SH(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let l=!1;for(const c of r)l=l||cm(c.addedNodes,i),l=l&&!cm(c.removedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function TH(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let l=!1;for(const c of r)l=l||cm(c.removedNodes,i),l=l&&!cm(c.addedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Pd=new Map;let ik=0;function eO(){const e=window.devicePixelRatio;e!==ik&&(ik=e,Pd.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function AH(e,t){Pd.size||window.addEventListener("resize",eO),Pd.set(e,t)}function kH(e){Pd.delete(e),Pd.size||window.removeEventListener("resize",eO)}function RH(e,t,n){const i=e.canvas,s=i&&Vx(i);if(!s)return;const r=DI((c,h)=>{const d=s.clientWidth;n(c,h),d<s.clientWidth&&n()},window),l=new ResizeObserver(c=>{const h=c[0],d=h.contentRect.width,p=h.contentRect.height;d===0&&p===0||r(d,p)});return l.observe(s),AH(e,r),l}function Vb(e,t,n){n&&n.disconnect(),t==="resize"&&kH(e)}function CH(e,t,n){const i=e.canvas,s=DI(r=>{e.ctx!==null&&n(EH(r,e))},e);return xH(i,t,s),s}class DH extends JI{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(vH(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Dg])return!1;const i=n[Dg].initial;["height","width"].forEach(r=>{const l=i[r];Gt(l)?n.removeAttribute(r):n.setAttribute(r,l)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[Dg],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),l={attach:SH,detach:TH,resize:RH}[n]||CH;s[n]=l(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:Vb,detach:Vb,resize:Vb}[n]||wH)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return v8(t,n,i,s)}isAttached(t){const n=t&&Vx(t);return!!(n&&n.isConnected)}}function MH(e){return!jx()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?_H:DH}class Ts{constructor(){wt(this,"x");wt(this,"y");wt(this,"active",!1);wt(this,"options");wt(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return su(this.x)&&su(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}wt(Ts,"defaults",{}),wt(Ts,"defaultRoutes");function IH(e,t){const n=e.options.ticks,i=OH(e),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?NH(t):[],l=r.length,c=r[0],h=r[l-1],d=[];if(l>s)return LH(t,d,r,l/s),d;const p=PH(r,t,s);if(l>0){let y,_;const x=l>1?Math.round((h-c)/(l-1)):null;for($p(t,d,p,Gt(x)?0:c-x,c),y=0,_=l-1;y<_;y++)$p(t,d,p,r[y],r[y+1]);return $p(t,d,p,h,Gt(x)?t.length:h+x),d}return $p(t,d,p),d}function OH(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function PH(e,t,n){const i=jH(e),s=t.length/n;if(!i)return Math.max(s,1);const r=Eq(i);for(let l=0,c=r.length-1;l<c;l++){const h=r[l];if(h>s)return h}return Math.max(s,1)}function NH(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function LH(e,t,n,i){let s=0,r=n[0],l;for(i=Math.ceil(i),l=0;l<e.length;l++)l===r&&(t.push(e[l]),s++,r=n[s*i])}function $p(e,t,n,i,s){const r=$t(i,0),l=Math.min($t(s,e.length),e.length);let c=0,h,d,p;for(n=Math.ceil(n),s&&(h=s-i,n=h/Math.floor(h/n)),p=r;p<0;)c++,p=Math.round(r+c*n);for(d=Math.max(r,0);d<l;d++)d===p&&(t.push(e[d]),c++,p=Math.round(r+c*n))}function jH(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const VH=e=>e==="left"?"right":e==="right"?"left":e,sk=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,rk=(e,t)=>Math.min(t||e,e);function ak(e,t){const n=[],i=e.length/t,s=e.length;let r=0;for(;r<s;r+=i)n.push(e[Math.floor(r)]);return n}function UH(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),r=e._startPixel,l=e._endPixel,c=1e-6;let h=e.getPixelForTick(s),d;if(!(n&&(i===1?d=Math.max(h-r,l-h):t===0?d=(e.getPixelForTick(1)-h)/2:d=(h-e.getPixelForTick(s-1))/2,h+=s<t?d:-d,h<r-c||h>l+c)))return h}function zH(e,t){xe(e,n=>{const i=n.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function Ih(e){return e.drawTicks?e.tickLength:0}function ok(e,t){if(!e.display)return 0;const n=xn(e.font,t),i=ti(e.padding);return(ze(e.text)?e.text.length:1)*n.lineHeight+i.height}function FH(e,t){return Eo(e,{scale:t,type:"scale"})}function BH(e,t,n){return Eo(e,{tick:n,index:t,type:"tick"})}function $H(e,t,n){let i=Mx(e);return(n&&t!=="right"||!n&&t==="right")&&(i=VH(i)),i}function qH(e,t,n,i){const{top:s,left:r,bottom:l,right:c,chart:h}=e,{chartArea:d,scales:p}=h;let y=0,_,x,E;const T=l-s,S=c-r;if(e.isHorizontal()){if(x=ri(i,r,c),se(n)){const D=Object.keys(n)[0],I=n[D];E=p[D].getPixelForValue(I)+T-t}else n==="center"?E=(d.bottom+d.top)/2+T-t:E=sk(e,n,t);_=c-r}else{if(se(n)){const D=Object.keys(n)[0],I=n[D];x=p[D].getPixelForValue(I)-S+t}else n==="center"?x=(d.left+d.right)/2-S+t:x=sk(e,n,t);E=ri(i,l,s),y=n==="left"?-cn:cn}return{titleX:x,titleY:E,maxWidth:_,rotation:y}}class Ol extends Ts{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=Ui(t,Number.POSITIVE_INFINITY),n=Ui(n,Number.NEGATIVE_INFINITY),i=Ui(i,Number.POSITIVE_INFINITY),s=Ui(s,Number.NEGATIVE_INFINITY),{min:Ui(t,i),max:Ui(n,s),minDefined:sn(t),maxDefined:sn(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),l;if(s&&r)return{min:n,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,d=c.length;h<d;++h)l=c[h].controller.getMinMax(this,t),s||(n=Math.min(n,l.min)),r||(i=Math.max(i,l.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:Ui(n,Ui(i,n)),max:Ui(i,Ui(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){De(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:r,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Zq(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?ak(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=IH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){De(this.options.afterUpdate,[this])}beforeSetDimensions(){De(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){De(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),De(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){De(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=De(n.callback,[r.value,i,t],this)}afterTickToLabelConversion(){De(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){De(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=rk(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let l=s,c,h,d;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),y=p.widest.width,_=p.highest.height,x=qn(this.chart.width-y,0,this.maxWidth);c=t.offset?this.maxWidth/i:x/(i-1),y+6>c&&(c=x/(i-(t.offset?.5:1)),h=this.maxHeight-Ih(t.grid)-n.padding-ok(t.title,this.chart.options.font),d=Math.sqrt(y*y+_*_),l=Cx(Math.min(Math.asin(qn((p.highest.height+6)/c,-1,1)),Math.asin(qn(h/d,-1,1))-Math.asin(qn(_/d,-1,1)))),l=Math.max(s,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){De(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){De(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=ok(s,n.options.font);if(c?(t.width=this.maxWidth,t.height=Ih(r)+h):(t.height=this.maxHeight,t.width=Ih(r)+h),i.display&&this.ticks.length){const{first:d,last:p,widest:y,highest:_}=this._getLabelSizes(),x=i.padding*2,E=vs(this.labelRotation),T=Math.cos(E),S=Math.sin(E);if(c){const D=i.mirror?0:S*y.width+T*_.height;t.height=Math.min(this.maxHeight,t.height+D+x)}else{const D=i.mirror?0:T*y.width+S*_.height;t.width=Math.min(this.maxWidth,t.width+D+x)}this._calculatePadding(d,p,S,T)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:r,padding:l},position:c}=this.options,h=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,x=0;h?d?(_=s*t.width,x=i*n.height):(_=i*t.height,x=s*n.width):r==="start"?x=n.width:r==="end"?_=t.width:r!=="inner"&&(_=t.width/2,x=n.width/2),this.paddingLeft=Math.max((_-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((x-y+l)*this.width/(this.width-y),0)}else{let p=n.height/2,y=t.height/2;r==="start"?(p=0,y=t.height):r==="end"&&(p=n.height,y=0),this.paddingTop=p+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){De(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)Gt(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=ak(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:r}=this,l=[],c=[],h=Math.floor(n/rk(n,i));let d=0,p=0,y,_,x,E,T,S,D,I,N,H,M;for(y=0;y<n;y+=h){if(E=t[y].label,T=this._resolveTickFontOptions(y),s.font=S=T.string,D=r[S]=r[S]||{data:{},gc:[]},I=T.lineHeight,N=H=0,!Gt(E)&&!ze(E))N=om(s,D.data,D.gc,N,E),H=I;else if(ze(E))for(_=0,x=E.length;_<x;++_)M=E[_],!Gt(M)&&!ze(M)&&(N=om(s,D.data,D.gc,N,M),H+=I);l.push(N),c.push(H),d=Math.max(N,d),p=Math.max(H,p)}zH(r,n);const Y=l.indexOf(d),R=c.indexOf(p),C=P=>({width:l[P]||0,height:c[P]||0});return{first:C(0),last:C(n-1),widest:C(Y),highest:C(R),widths:l,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return kq(this._alignToPixels?el(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=BH(this.getContext(),t,i))}return this.$context||(this.$context=FH(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=vs(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),l=t.autoSkipPadding||0,c=r?r.widest.width+l:0,h=r?r.highest.height+l:0;return this.isHorizontal()?h*i>c*s?c/i:h/s:h*s<c*i?h/i:c/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:l,border:c}=s,h=r.offset,d=this.isHorizontal(),y=this.ticks.length+(h?1:0),_=Ih(r),x=[],E=c.setContext(this.getContext()),T=E.display?E.width:0,S=T/2,D=function($){return el(i,$,T)};let I,N,H,M,Y,R,C,P,V,U,q,z;if(l==="top")I=D(this.bottom),R=this.bottom-_,P=I-S,U=D(t.top)+S,z=t.bottom;else if(l==="bottom")I=D(this.top),U=t.top,z=D(t.bottom)-S,R=I+S,P=this.top+_;else if(l==="left")I=D(this.right),Y=this.right-_,C=I-S,V=D(t.left)+S,q=t.right;else if(l==="right")I=D(this.left),V=t.left,q=D(t.right)-S,Y=I+S,C=this.left+_;else if(n==="x"){if(l==="center")I=D((t.top+t.bottom)/2+.5);else if(se(l)){const $=Object.keys(l)[0],K=l[$];I=D(this.chart.scales[$].getPixelForValue(K))}U=t.top,z=t.bottom,R=I+S,P=R+_}else if(n==="y"){if(l==="center")I=D((t.left+t.right)/2);else if(se(l)){const $=Object.keys(l)[0],K=l[$];I=D(this.chart.scales[$].getPixelForValue(K))}Y=I-S,C=Y-_,V=t.left,q=t.right}const Ct=$t(s.ticks.maxTicksLimit,y),Q=Math.max(1,Math.ceil(y/Ct));for(N=0;N<y;N+=Q){const $=this.getContext(N),K=r.setContext($),ot=c.setContext($),nt=K.lineWidth,F=K.color,it=ot.dash||[],at=ot.dashOffset,ut=K.tickWidth,yt=K.tickColor,St=K.tickBorderDash||[],G=K.tickBorderDashOffset;H=UH(this,N,h),H!==void 0&&(M=el(i,H,nt),d?Y=C=V=q=M:R=P=U=z=M,x.push({tx1:Y,ty1:R,tx2:C,ty2:P,x1:V,y1:U,x2:q,y2:z,width:nt,color:F,borderDash:it,borderDashOffset:at,tickWidth:ut,tickColor:yt,tickBorderDash:St,tickBorderDashOffset:G}))}return this._ticksLength=y,this._borderValue=I,x}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:r}=i,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:d,padding:p,mirror:y}=r,_=Ih(i.grid),x=_+p,E=y?-p:x,T=-vs(this.labelRotation),S=[];let D,I,N,H,M,Y,R,C,P,V,U,q,z="middle";if(s==="top")Y=this.bottom-E,R=this._getXAxisLabelAlignment();else if(s==="bottom")Y=this.top+E,R=this._getXAxisLabelAlignment();else if(s==="left"){const Q=this._getYAxisLabelAlignment(_);R=Q.textAlign,M=Q.x}else if(s==="right"){const Q=this._getYAxisLabelAlignment(_);R=Q.textAlign,M=Q.x}else if(n==="x"){if(s==="center")Y=(t.top+t.bottom)/2+x;else if(se(s)){const Q=Object.keys(s)[0],$=s[Q];Y=this.chart.scales[Q].getPixelForValue($)+x}R=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")M=(t.left+t.right)/2-x;else if(se(s)){const Q=Object.keys(s)[0],$=s[Q];M=this.chart.scales[Q].getPixelForValue($)}R=this._getYAxisLabelAlignment(_).textAlign}n==="y"&&(h==="start"?z="top":h==="end"&&(z="bottom"));const Ct=this._getLabelSizes();for(D=0,I=c.length;D<I;++D){N=c[D],H=N.label;const Q=r.setContext(this.getContext(D));C=this.getPixelForTick(D)+r.labelOffset,P=this._resolveTickFontOptions(D),V=P.lineHeight,U=ze(H)?H.length:1;const $=U/2,K=Q.color,ot=Q.textStrokeColor,nt=Q.textStrokeWidth;let F=R;l?(M=C,R==="inner"&&(D===I-1?F=this.options.reverse?"left":"right":D===0?F=this.options.reverse?"right":"left":F="center"),s==="top"?d==="near"||T!==0?q=-U*V+V/2:d==="center"?q=-Ct.highest.height/2-$*V+V:q=-Ct.highest.height+V/2:d==="near"||T!==0?q=V/2:d==="center"?q=Ct.highest.height/2-$*V:q=Ct.highest.height-U*V,y&&(q*=-1),T!==0&&!Q.showLabelBackdrop&&(M+=V/2*Math.sin(T))):(Y=C,q=(1-U)*V/2);let it;if(Q.showLabelBackdrop){const at=ti(Q.backdropPadding),ut=Ct.heights[D],yt=Ct.widths[D];let St=q-at.top,G=0-at.left;switch(z){case"middle":St-=ut/2;break;case"bottom":St-=ut;break}switch(R){case"center":G-=yt/2;break;case"right":G-=yt;break;case"inner":D===I-1?G-=yt:D>0&&(G-=yt/2);break}it={left:G,top:St,width:yt+at.width,height:ut+at.height,color:Q.backdropColor}}S.push({label:H,font:P,textOffset:q,options:{rotation:T,color:K,strokeColor:ot,strokeWidth:nt,textAlign:F,textBaseline:z,translation:[M,Y],backdrop:it}})}return S}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-vs(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,l=this._getLabelSizes(),c=t+r,h=l.widest.width;let d,p;return n==="left"?s?(p=this.right+r,i==="near"?d="left":i==="center"?(d="center",p+=h/2):(d="right",p+=h)):(p=this.right-c,i==="near"?d="right":i==="center"?(d="center",p-=h/2):(d="left",p=this.left)):n==="right"?s?(p=this.left+r,i==="near"?d="right":i==="center"?(d="center",p-=h/2):(d="left",p-=h)):(p=this.left+c,i==="near"?d="left":i==="center"?(d="center",p+=h/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:r,height:l}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,r,l),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,l;const c=(h,d,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(n.display)for(r=0,l=s.length;r<l;++r){const h=s[r];n.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),l=i.display?r.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let d,p,y,_;this.isHorizontal()?(d=el(t,this.left,l)-l/2,p=el(t,this.right,c)+c/2,y=_=h):(y=el(t,this.top,l)-l/2,_=el(t,this.bottom,c)+c/2,d=p=h),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(d,y),n.lineTo(p,_),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Km(i,s);const r=this.getLabelItems(t);for(const l of r){const c=l.options,h=l.font,d=l.label,p=l.textOffset;Rl(i,d,0,p,h,c)}s&&Xm(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=xn(i.font),l=ti(i.padding),c=i.align;let h=r.lineHeight/2;n==="bottom"||n==="center"||se(n)?(h+=l.bottom,ze(i.text)&&(h+=r.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:d,titleY:p,maxWidth:y,rotation:_}=qH(this,h,n,c);Rl(t,i.text,0,0,r,{color:i.color,maxWidth:y,rotation:_,textAlign:$H(c,n,s),textBaseline:"middle",translation:[d,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=$t(t.grid&&t.grid.z,-1),s=$t(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ol.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,l;for(r=0,l=n.length;r<l;++r){const c=n[r];c[i]===this.id&&(!t||c.type===t)&&s.push(c)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return xn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class qp{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;YH(n)&&(i=this.register(n));const s=this.items,r=t.id,l=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,HH(t,l,i),this.override&&Be.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in Be[s]&&(delete Be[s][i],this.override&&delete kl[i])}}function HH(e,t,n){const i=ar(Object.create(null),[n?Be.get(n):{},Be.get(t),e.defaults]);Be.set(t,i),e.defaultRoutes&&WH(t,e.defaultRoutes),e.descriptors&&Be.describe(t,e.descriptors)}function WH(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),r=[e].concat(i).join("."),l=t[n].split("."),c=l.pop(),h=l.join(".");Be.route(r,s,h,c)})}function YH(e){return"id"in e&&"defaults"in e}class GH{constructor(){this.controllers=new qp(Es,"datasets",!0),this.elements=new qp(Ts,"elements"),this.plugins=new qp(Object,"plugins"),this.scales=new qp(Ol,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):xe(s,l=>{const c=i||this._getRegistryForType(l);this._exec(t,c,l)})})}_exec(t,n,i){const s=Rx(t);De(i["before"+s],[],i),n[t](i),De(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Gs=new GH;class KH{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(r,t,n,i);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,n,i,s){s=s||{};for(const r of t){const l=r.plugin,c=l[i],h=[n,s,r.options];if(De(c,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Gt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=$t(i.options&&i.options.plugins,{}),r=XH(i);return s===!1&&!n?[]:ZH(t,r,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(r,l)=>r.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function XH(e){const t={},n=[],i=Object.keys(Gs.plugins.items);for(let r=0;r<i.length;r++)n.push(Gs.getPlugin(i[r]));const s=e.plugins||[];for(let r=0;r<s.length;r++){const l=s[r];n.indexOf(l)===-1&&(n.push(l),t[l.id]=!0)}return{plugins:n,localIds:t}}function QH(e,t){return!t&&e===!1?null:e===!0?{}:e}function ZH(e,{plugins:t,localIds:n},i,s){const r=[],l=e.getContext();for(const c of t){const h=c.id,d=QH(i[h],s);d!==null&&r.push({plugin:c,options:JH(e.config,{plugin:c,local:n[h]},d,l)})}return r}function JH(e,{plugin:t,local:n},i,s){const r=e.pluginScopeKeys(t),l=e.getOptionScopes(i,r);return n&&t.defaults&&l.push(t.defaults),e.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Y0(e,t){const n=Be.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function t7(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function e7(e,t){return e===t?"_index_":"_value_"}function lk(e){if(e==="x"||e==="y"||e==="r")return e}function n7(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function G0(e,...t){if(lk(e))return e;for(const n of t){const i=n.axis||n7(n.position)||e.length>1&&lk(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function ck(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function i7(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return ck(e,"x",n[0])||ck(e,"y",n[0])}return{}}function s7(e,t){const n=kl[e.type]||{scales:{}},i=t.scales||{},s=Y0(e.type,t),r=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!se(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=G0(l,c,i7(l,e),Be.scales[c.type]),d=e7(h,s),p=n.scales||{};r[l]=sd(Object.create(null),[{axis:h},c,p[h],p[d]])}),e.data.datasets.forEach(l=>{const c=l.type||e.type,h=l.indexAxis||Y0(c,t),p=(kl[c]||{}).scales||{};Object.keys(p).forEach(y=>{const _=t7(y,h),x=l[_+"AxisID"]||_;r[x]=r[x]||Object.create(null),sd(r[x],[{axis:_},i[x],p[y]])})}),Object.keys(r).forEach(l=>{const c=r[l];sd(c,[Be.scales[c.type],Be.scale])}),r}function nO(e){const t=e.options||(e.options={});t.plugins=$t(t.plugins,{}),t.scales=s7(e,t)}function iO(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function r7(e){return e=e||{},e.data=iO(e.data),nO(e),e}const uk=new Map,sO=new Set;function Hp(e,t){let n=uk.get(e);return n||(n=t(),uk.set(e,n),sO.add(n)),n}const Oh=(e,t,n)=>{const i=mo(t,n);i!==void 0&&e.add(i)};class a7{constructor(t){this._config=r7(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=iO(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),nO(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Hp(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Hp(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Hp(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return Hp(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:r}=this,l=this._cachedScopes(t,i),c=l.get(n);if(c)return c;const h=new Set;n.forEach(p=>{t&&(h.add(t),p.forEach(y=>Oh(h,t,y))),p.forEach(y=>Oh(h,s,y)),p.forEach(y=>Oh(h,kl[r]||{},y)),p.forEach(y=>Oh(h,Be,y)),p.forEach(y=>Oh(h,q0,y))});const d=Array.from(h);return d.length===0&&d.push(Object.create(null)),sO.has(n)&&l.set(n,d),d}chartOptionScopes(){const{options:t,type:n}=this;return[t,kl[n]||{},Be.datasets[n]||{},{type:n},Be,q0]}resolveNamedOptions(t,n,i,s=[""]){const r={$shared:!0},{resolver:l,subPrefixes:c}=hk(this._resolverCache,t,s);let h=l;if(l7(l,n)){r.$shared=!1,i=yo(i)?i():i;const d=this.createResolver(t,i,c);h=ru(l,i,d)}for(const d of n)r[d]=h[d];return r}createResolver(t,n,i=[""],s){const{resolver:r}=hk(this._resolverCache,t,i);return se(n)?ru(r,n,void 0,s):r}}function hk(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let r=i.get(s);return r||(r={resolver:Px(t,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,r)),r}const o7=e=>se(e)&&Object.getOwnPropertyNames(e).some(t=>yo(e[t]));function l7(e,t){const{isScriptable:n,isIndexable:i}=LI(e);for(const s of t){const r=n(s),l=i(s),c=(l||r)&&e[s];if(r&&(yo(c)||o7(c))||l&&ze(c))return!0}return!1}var c7="4.5.0";const u7=["top","bottom","left","right","chartArea"];function dk(e,t){return e==="top"||e==="bottom"||u7.indexOf(e)===-1&&t==="x"}function fk(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function pk(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),De(n&&n.onComplete,[e],t)}function h7(e){const t=e.chart,n=t.options.animation;De(n&&n.onProgress,[e],t)}function rO(e){return jx()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Mg={},gk=e=>{const t=rO(e);return Object.values(Mg).filter(n=>n.canvas===t).pop()};function d7(e,t,n){const i=Object.keys(e);for(const s of i){const r=+s;if(r>=t){const l=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=l)}}}function f7(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}class vi{static register(...t){Gs.add(...t),mk()}static unregister(...t){Gs.remove(...t),mk()}constructor(t,n){const i=this.config=new a7(n),s=rO(t),r=gk(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||MH(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,l.aspectRatio),h=c&&c.canvas,d=h&&h.height,p=h&&h.width;if(this.id=pq(),this.ctx=c,this.canvas=h,this.width=p,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new KH,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Mq(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],Mg[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Br.listen(this,"complete",pk),Br.listen(this,"progress",h7),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return Gt(t)?n&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Gs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():VA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return NA(this.canvas,this.ctx),this}stop(){return Br.stop(this),this}resize(t,n){Br.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,n,r),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,VA(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),De(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};xe(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let r=[];n&&(r=r.concat(Object.keys(n).map(l=>{const c=n[l],h=G0(l,c),d=h==="r",p=h==="x";return{options:c,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),xe(r,l=>{const c=l.options,h=c.id,d=G0(h,c),p=$t(c.type,l.dtype);(c.position===void 0||dk(c.position,d)!==dk(l.dposition))&&(c.position=l.dposition),s[h]=!0;let y=null;if(h in i&&i[h].type===p)y=i[h];else{const _=Gs.getScale(p);y=new _({id:h,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(c,t)}),xe(s,(l,c)=>{l||delete i[c]}),xe(i,l=>{ui.configure(this,l,l.options),ui.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(fk("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let l=this.getDatasetMeta(i);const c=r.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=r.indexAxis||Y0(c,this.options),l.order=r.order||0,l.index=i,l.label=""+r.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=Gs.getController(c),{datasetElementType:d,dataElementType:p}=Be.datasets[c];Object.assign(h,{dataElementType:Gs.getElement(p),datasetElementType:d&&Gs.getElement(d)}),l.controller=new h(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){xe(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:y}=this.getDatasetMeta(d),_=!s&&r.indexOf(y)===-1;y.buildOrUpdateElements(_),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||xe(r,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(fk("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){xe(this.scales,t=>{ui.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!AA(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const l=i==="_removeElements"?-r:r;d7(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(t.filter(l=>l[0]===r).map((l,c)=>c+","+l.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!AA(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ui.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],xe(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,yo(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Br.has(this)?this.attached&&!Br.running(this)&&Br.start(this):(this.draw(),pk({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const l=n[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=YI(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Km(n,s),t.controller.draw(),s&&Xm(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Zr(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const r=uH.modes[n];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Eo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),l=r.controller._resolveAnimations(void 0,s);Md(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(r,{visible:i}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Br.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),NA(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Mg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(r,l)=>{n.addEventListener(this,r,l),t[r]=l},s=(r,l,c)=>{r.offsetX=l,r.offsetY=c,this._eventHandler(r)};xe(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(h,d)=>{n.addEventListener(this,h,d),t[h]=d},s=(h,d)=>{t[h]&&(n.removeEventListener(this,h,d),delete t[h])},r=(h,d)=>{this.canvas&&this.resize(h,d)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",r),i("detach",l)};l=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",c)},n.isAttached(this.canvas)?c():l()}unbindEvents(){xe(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},xe(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let r,l,c,h;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),c=0,h=t.length;c<h;++c){l=t[c];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:r,index:l})=>{const c=this.getDatasetMeta(r);if(!c)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:c.data[l],index:l}});!sm(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,r=(h,d)=>h.filter(p=>!d.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),l=r(n,t),c=i?t:r(t,n);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:r}=this,l=n,c=this._getActiveElements(t,s,i,l),h=vq(t),d=f7(t,this._lastEvent,i,h);i&&(this._lastEvent=null,De(r.onHover,[t,c,this],this),h&&De(r.onClick,[t,c,this],this));const p=!sm(c,s);return(p||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=d,p}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}}wt(vi,"defaults",Be),wt(vi,"instances",Mg),wt(vi,"overrides",kl),wt(vi,"registry",Gs),wt(vi,"version",c7),wt(vi,"getChart",gk);function mk(){return xe(vi.instances,e=>e._plugins.invalidate())}function p7(e,t,n){const{startAngle:i,x:s,y:r,outerRadius:l,innerRadius:c,options:h}=t,{borderWidth:d,borderJoinStyle:p}=h,y=Math.min(d/l,li(i-n));if(e.beginPath(),e.arc(s,r,l-d/2,i+y/2,n-y/2),c>0){const _=Math.min(d/c,li(i-n));e.arc(s,r,c+d/2,n-_/2,i+_/2,!0)}else{const _=Math.min(d/2,l*li(i-n));if(p==="round")e.arc(s,r,_,n-ge/2,i+ge/2,!0);else if(p==="bevel"){const x=2*_*_,E=-x*Math.cos(n+ge/2)+s,T=-x*Math.sin(n+ge/2)+r,S=x*Math.cos(i+ge/2)+s,D=x*Math.sin(i+ge/2)+r;e.lineTo(E,T),e.lineTo(S,D)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function g7(e,t,n){const{startAngle:i,pixelMargin:s,x:r,y:l,outerRadius:c,innerRadius:h}=t;let d=s/c;e.beginPath(),e.arc(r,l,c,i-d,n+d),h>s?(d=s/h,e.arc(r,l,h,n+d,i-d,!0)):e.arc(r,l,s,n+cn,i-cn),e.closePath(),e.clip()}function m7(e){return Ox(e,["outerStart","outerEnd","innerStart","innerEnd"])}function y7(e,t,n,i){const s=m7(e.options.borderRadius),r=(n-t)/2,l=Math.min(r,i*t/2),c=h=>{const d=(n-Math.min(r,h))*i/2;return qn(h,0,Math.min(r,d))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:qn(s.innerStart,0,l),innerEnd:qn(s.innerEnd,0,l)}}function Ac(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function um(e,t,n,i,s,r){const{x:l,y:c,startAngle:h,pixelMargin:d,innerRadius:p}=t,y=Math.max(t.outerRadius+i+n-d,0),_=p>0?p+i+n+d:0;let x=0;const E=s-h;if(i){const Q=p>0?p-i:0,$=y>0?y-i:0,K=(Q+$)/2,ot=K!==0?E*K/(K+i):E;x=(E-ot)/2}const T=Math.max(.001,E*y-n/ge)/y,S=(E-T)/2,D=h+S+x,I=s-S-x,{outerStart:N,outerEnd:H,innerStart:M,innerEnd:Y}=y7(t,_,y,I-D),R=y-N,C=y-H,P=D+N/R,V=I-H/C,U=_+M,q=_+Y,z=D+M/U,Ct=I-Y/q;if(e.beginPath(),r){const Q=(P+V)/2;if(e.arc(l,c,y,P,Q),e.arc(l,c,y,Q,V),H>0){const nt=Ac(C,V,l,c);e.arc(nt.x,nt.y,H,V,I+cn)}const $=Ac(q,I,l,c);if(e.lineTo($.x,$.y),Y>0){const nt=Ac(q,Ct,l,c);e.arc(nt.x,nt.y,Y,I+cn,Ct+Math.PI)}const K=(I-Y/_+(D+M/_))/2;if(e.arc(l,c,_,I-Y/_,K,!0),e.arc(l,c,_,K,D+M/_,!0),M>0){const nt=Ac(U,z,l,c);e.arc(nt.x,nt.y,M,z+Math.PI,D-cn)}const ot=Ac(R,D,l,c);if(e.lineTo(ot.x,ot.y),N>0){const nt=Ac(R,P,l,c);e.arc(nt.x,nt.y,N,D-cn,P)}}else{e.moveTo(l,c);const Q=Math.cos(P)*y+l,$=Math.sin(P)*y+c;e.lineTo(Q,$);const K=Math.cos(V)*y+l,ot=Math.sin(V)*y+c;e.lineTo(K,ot)}e.closePath()}function _7(e,t,n,i,s){const{fullCircles:r,startAngle:l,circumference:c}=t;let h=t.endAngle;if(r){um(e,t,n,i,h,s);for(let d=0;d<r;++d)e.fill();isNaN(c)||(h=l+(c%Fe||Fe))}return um(e,t,n,i,h,s),e.fill(),h}function b7(e,t,n,i,s){const{fullCircles:r,startAngle:l,circumference:c,options:h}=t,{borderWidth:d,borderJoinStyle:p,borderDash:y,borderDashOffset:_,borderRadius:x}=h,E=h.borderAlign==="inner";if(!d)return;e.setLineDash(y||[]),e.lineDashOffset=_,E?(e.lineWidth=d*2,e.lineJoin=p||"round"):(e.lineWidth=d,e.lineJoin=p||"bevel");let T=t.endAngle;if(r){um(e,t,n,i,T,s);for(let S=0;S<r;++S)e.stroke();isNaN(c)||(T=l+(c%Fe||Fe))}E&&g7(e,t,T),h.selfJoin&&T-l>=ge&&x===0&&p!=="miter"&&p7(e,t,T),r||(um(e,t,n,i,T,s),e.stroke())}class Pc extends Ts{constructor(n){super();wt(this,"circumference");wt(this,"endAngle");wt(this,"fullCircles");wt(this,"innerRadius");wt(this,"outerRadius");wt(this,"pixelMargin");wt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.getProps(["x","y"],s),{angle:l,distance:c}=AI(r,{x:n,y:i}),{startAngle:h,endAngle:d,innerRadius:p,outerRadius:y,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),x=(this.options.spacing+this.options.borderWidth)/2,E=$t(_,d-h),T=Id(l,h,d)&&h!==d,S=E>=Fe||T,D=Xr(c,p+x,y+x);return S&&D}getCenterPoint(n){const{x:i,y:s,startAngle:r,endAngle:l,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:d,spacing:p}=this.options,y=(r+l)/2,_=(c+h+p+d)/2;return{x:i+Math.cos(y)*_,y:s+Math.sin(y)*_}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,r=(i.offset||0)/4,l=(i.spacing||0)/2,c=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Fe?Math.floor(s/Fe):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const h=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(h)*r,Math.sin(h)*r);const d=1-Math.sin(Math.min(ge,s||0)),p=r*d;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,_7(n,this,p,l,c),b7(n,this,p,l,c),n.restore()}}wt(Pc,"id","arc"),wt(Pc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),wt(Pc,"defaultRoutes",{backgroundColor:"backgroundColor"}),wt(Pc,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function aO(e,t,n=t){e.lineCap=$t(n.borderCapStyle,t.borderCapStyle),e.setLineDash($t(n.borderDash,t.borderDash)),e.lineDashOffset=$t(n.borderDashOffset,t.borderDashOffset),e.lineJoin=$t(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=$t(n.borderWidth,t.borderWidth),e.strokeStyle=$t(n.borderColor,t.borderColor)}function v7(e,t,n){e.lineTo(n.x,n.y)}function x7(e){return e.stepped?$q:e.tension||e.cubicInterpolationMode==="monotone"?qq:v7}function oO(e,t,n={}){const i=e.length,{start:s=0,end:r=i-1}=n,{start:l,end:c}=t,h=Math.max(s,l),d=Math.min(r,c),p=s<l&&r<l||s>c&&r>c;return{count:i,start:h,loop:t.loop,ilen:d<h&&!p?i+d-h:d-h}}function w7(e,t,n,i){const{points:s,options:r}=t,{count:l,start:c,loop:h,ilen:d}=oO(s,n,i),p=x7(r);let{move:y=!0,reverse:_}=i||{},x,E,T;for(x=0;x<=d;++x)E=s[(c+(_?d-x:x))%l],!E.skip&&(y?(e.moveTo(E.x,E.y),y=!1):p(e,T,E,_,r.stepped),T=E);return h&&(E=s[(c+(_?d:0))%l],p(e,T,E,_,r.stepped)),!!h}function E7(e,t,n,i){const s=t.points,{count:r,start:l,ilen:c}=oO(s,n,i),{move:h=!0,reverse:d}=i||{};let p=0,y=0,_,x,E,T,S,D;const I=H=>(l+(d?c-H:H))%r,N=()=>{T!==S&&(e.lineTo(p,S),e.lineTo(p,T),e.lineTo(p,D))};for(h&&(x=s[I(0)],e.moveTo(x.x,x.y)),_=0;_<=c;++_){if(x=s[I(_)],x.skip)continue;const H=x.x,M=x.y,Y=H|0;Y===E?(M<T?T=M:M>S&&(S=M),p=(y*p+H)/++y):(N(),e.lineTo(H,M),E=Y,y=0,T=S=M),D=M}N()}function K0(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?E7:w7}function S7(e){return e.stepped?w8:e.tension||e.cubicInterpolationMode==="monotone"?E8:cl}function T7(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),aO(e,t.options),e.stroke(s)}function A7(e,t,n,i){const{segments:s,options:r}=t,l=K0(t);for(const c of s)aO(e,r,c.style),e.beginPath(),l(e,t,c,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const k7=typeof Path2D=="function";function R7(e,t,n,i){k7&&!t.options.segment?T7(e,t,n,i):A7(e,t,n,i)}class Za extends Ts{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;p8(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=C8(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],r=this.points,l=WI(this,{property:n,start:s,end:s});if(!l.length)return;const c=[],h=S7(i);let d,p;for(d=0,p=l.length;d<p;++d){const{start:y,end:_}=l[d],x=r[y],E=r[_];if(x===E){c.push(x);continue}const T=Math.abs((s-x[n])/(E[n]-x[n])),S=h(x,E,T,i.stepped);S[n]=t[n],c.push(S)}return c.length===1?c[0]:c}pathSegment(t,n,i){return K0(this)(t,this,n,i)}path(t,n,i){const s=this.segments,r=K0(this);let l=this._loop;n=n||0,i=i||this.points.length-n;for(const c of s)l&=r(t,this,c,{start:n,end:n+i-1});return!!l}draw(t,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),R7(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}wt(Za,"id","line"),wt(Za,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),wt(Za,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),wt(Za,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function yk(e,t,n,i){const s=e.options,{[n]:r}=e.getProps([n],i);return Math.abs(t-r)<s.radius+s.hitRadius}class cd extends Ts{constructor(n){super();wt(this,"parsed");wt(this,"skip");wt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:l,y:c}=this.getProps(["x","y"],s);return Math.pow(n-l,2)+Math.pow(i-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return yk(this,n,"x",i)}inYRange(n,i){return yk(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!Zr(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,H0(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}wt(cd,"id","point"),wt(cd,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),wt(cd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function lO(e,t){const{x:n,y:i,base:s,width:r,height:l}=e.getProps(["x","y","base","width","height"],t);let c,h,d,p,y;return e.horizontal?(y=l/2,c=Math.min(n,s),h=Math.max(n,s),d=i-y,p=i+y):(y=r/2,c=n-y,h=n+y,d=Math.min(i,s),p=Math.max(i,s)),{left:c,top:d,right:h,bottom:p}}function Ja(e,t,n,i){return e?0:qn(t,n,i)}function C7(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,r=NI(i);return{t:Ja(s.top,r.top,0,n),r:Ja(s.right,r.right,0,t),b:Ja(s.bottom,r.bottom,0,n),l:Ja(s.left,r.left,0,t)}}function D7(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=yl(s),l=Math.min(t,n),c=e.borderSkipped,h=i||se(s);return{topLeft:Ja(!h||c.top||c.left,r.topLeft,0,l),topRight:Ja(!h||c.top||c.right,r.topRight,0,l),bottomLeft:Ja(!h||c.bottom||c.left,r.bottomLeft,0,l),bottomRight:Ja(!h||c.bottom||c.right,r.bottomRight,0,l)}}function M7(e){const t=lO(e),n=t.right-t.left,i=t.bottom-t.top,s=C7(e,n/2,i/2),r=D7(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Ub(e,t,n,i){const s=t===null,r=n===null,c=e&&!(s&&r)&&lO(e,i);return c&&(s||Xr(t,c.left,c.right))&&(r||Xr(n,c.top,c.bottom))}function I7(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function O7(e,t){e.rect(t.x,t.y,t.w,t.h)}function zb(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-i,l=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+r,h:e.h+l,radius:e.radius}}class ud extends Ts{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:l}=M7(this),c=I7(l.radius)?Od:O7;t.save(),(l.w!==r.w||l.h!==r.h)&&(t.beginPath(),c(t,zb(l,n,r)),t.clip(),c(t,zb(r,-n,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,zb(r,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return Ub(this,t,n,i)}inXRange(t,n){return Ub(this,t,null,n)}inYRange(t,n){return Ub(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}wt(ud,"id","bar"),wt(ud,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),wt(ud,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var P7=Object.freeze({__proto__:null,ArcElement:Pc,BarElement:ud,LineElement:Za,PointElement:cd});const X0=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],_k=X0.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function cO(e){return X0[e%X0.length]}function uO(e){return _k[e%_k.length]}function N7(e,t){return e.borderColor=cO(t),e.backgroundColor=uO(t),++t}function L7(e,t){return e.backgroundColor=e.data.map(()=>cO(t++)),t}function j7(e,t){return e.backgroundColor=e.data.map(()=>uO(t++)),t}function V7(e){let t=0;return(n,i)=>{const s=e.getDatasetMeta(i).controller;s instanceof fl?t=L7(n,t):s instanceof ld?t=j7(n,t):s&&(t=N7(n,t))}}function bk(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function U7(e){return e&&(e.borderColor||e.backgroundColor)}function z7(){return Be.borderColor!=="rgba(0,0,0,0.1)"||Be.backgroundColor!=="rgba(0,0,0,0.1)"}var F7={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=e.config,{elements:r}=s,l=bk(i)||U7(s)||r&&bk(r)||z7();if(!n.forceOverride&&l)return;const c=V7(e);i.forEach(c)}};function B7(e,t,n,i,s){const r=s.samples||i;if(r>=n)return e.slice(t,t+n);const l=[],c=(n-2)/(r-2);let h=0;const d=t+n-1;let p=t,y,_,x,E,T;for(l[h++]=e[p],y=0;y<r-2;y++){let S=0,D=0,I;const N=Math.floor((y+1)*c)+1+t,H=Math.min(Math.floor((y+2)*c)+1,n)+t,M=H-N;for(I=N;I<H;I++)S+=e[I].x,D+=e[I].y;S/=M,D/=M;const Y=Math.floor(y*c)+1+t,R=Math.min(Math.floor((y+1)*c)+1,n)+t,{x:C,y:P}=e[p];for(x=E=-1,I=Y;I<R;I++)E=.5*Math.abs((C-S)*(e[I].y-P)-(C-e[I].x)*(D-P)),E>x&&(x=E,_=e[I],T=I);l[h++]=_,p=T}return l[h++]=e[d],l}function $7(e,t,n,i){let s=0,r=0,l,c,h,d,p,y,_,x,E,T;const S=[],D=t+n-1,I=e[t].x,H=e[D].x-I;for(l=t;l<t+n;++l){c=e[l],h=(c.x-I)/H*i,d=c.y;const M=h|0;if(M===p)d<E?(E=d,y=l):d>T&&(T=d,_=l),s=(r*s+c.x)/++r;else{const Y=l-1;if(!Gt(y)&&!Gt(_)){const R=Math.min(y,_),C=Math.max(y,_);R!==x&&R!==Y&&S.push({...e[R],x:s}),C!==x&&C!==Y&&S.push({...e[C],x:s})}l>0&&Y!==x&&S.push(e[Y]),S.push(c),p=M,r=0,E=T=d,y=_=x=l}}return S}function hO(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function vk(e){e.data.datasets.forEach(t=>{hO(t)})}function q7(e,t){const n=t.length;let i=0,s;const{iScale:r}=e,{min:l,max:c,minDefined:h,maxDefined:d}=r.getUserBounds();return h&&(i=qn(Qr(t,r.axis,l).lo,0,n-1)),d?s=qn(Qr(t,r.axis,c).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var H7={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){vk(e);return}const i=e.width;e.data.datasets.forEach((s,r)=>{const{_data:l,indexAxis:c}=s,h=e.getDatasetMeta(r),d=l||s.data;if(Ue([c,e.options.indexAxis])==="y"||!h.controller.supportsDecimation)return;const p=e.scales[h.xAxisID];if(p.type!=="linear"&&p.type!=="time"||e.options.parsing)return;let{start:y,count:_}=q7(h,d);const x=n.threshold||4*i;if(_<=x){hO(s);return}Gt(l)&&(s._data=d,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(T){this._data=T}}));let E;switch(n.algorithm){case"lttb":E=B7(d,y,_,i,n);break;case"min-max":E=$7(d,y,_,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=E})},destroy(e){vk(e)}};function W7(e,t,n){const i=e.segments,s=e.points,r=t.points,l=[];for(const c of i){let{start:h,end:d}=c;d=Jm(h,d,s);const p=Q0(n,s[h],s[d],c.loop);if(!t.segments){l.push({source:c,target:p,start:s[h],end:s[d]});continue}const y=WI(t,p);for(const _ of y){const x=Q0(n,r[_.start],r[_.end],_.loop),E=HI(c,s,x);for(const T of E)l.push({source:T,target:_,start:{[n]:xk(p,x,"start",Math.max)},end:{[n]:xk(p,x,"end",Math.min)}})}}return l}function Q0(e,t,n,i){if(i)return;let s=t[e],r=n[e];return e==="angle"&&(s=li(s),r=li(r)),{property:e,start:s,end:r}}function Y7(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,r=[];return t.segments.forEach(({start:l,end:c})=>{c=Jm(l,c,s);const h=s[l],d=s[c];i!==null?(r.push({x:h.x,y:i}),r.push({x:d.x,y:i})):n!==null&&(r.push({x:n,y:h.y}),r.push({x:n,y:d.y}))}),r}function Jm(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function xk(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function dO(e,t){let n=[],i=!1;return ze(e)?(i=!0,n=e):n=Y7(e,t),n.length?new Za({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function wk(e){return e&&e.fill!==!1}function G7(e,t,n){let s=e[t].fill;const r=[t];let l;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!sn(s))return s;if(l=e[s],!l)return!1;if(l.visible)return s;r.push(s),s=l.fill}return!1}function K7(e,t,n){const i=J7(e);if(se(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return sn(s)&&Math.floor(s)===s?X7(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function X7(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function Q7(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:se(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function Z7(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:se(e)?i=e.value:i=t.getBaseValue(),i}function J7(e){const t=e.options,n=t.fill;let i=$t(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function tW(e){const{scale:t,index:n,line:i}=e,s=[],r=i.segments,l=i.points,c=eW(t,n);c.push(dO({x:null,y:t.bottom},i));for(let h=0;h<r.length;h++){const d=r[h];for(let p=d.start;p<=d.end;p++)nW(s,l[p],c)}return new Za({points:s,options:{}})}function eW(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===t)break;r.hidden||n.unshift(r.dataset)}return n}function nW(e,t,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:l,last:c,point:h}=iW(r,t,"x");if(!(!h||l&&c)){if(l)i.unshift(h);else if(e.push(h),!c)break}}e.push(...i)}function iW(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],r=e.segments,l=e.points;let c=!1,h=!1;for(let d=0;d<r.length;d++){const p=r[d],y=l[p.start][n],_=l[p.end][n];if(Xr(s,y,_)){c=s===y,h=s===_;break}}return{first:c,last:h,point:i}}class fO{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:r,radius:l}=this;return n=n||{start:0,end:Fe},t.arc(s,r,l,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,r=t.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function sW(e){const{chart:t,fill:n,line:i}=e;if(sn(n))return rW(t,n);if(n==="stack")return tW(e);if(n==="shape")return!0;const s=aW(e);return s instanceof fO?s:dO(s,i)}function rW(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function aW(e){return(e.scale||{}).getPointPositionForValue?lW(e):oW(e)}function oW(e){const{scale:t={},fill:n}=e,i=Q7(n,t);if(sn(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function lW(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,r=i.reverse?t.max:t.min,l=Z7(n,t,r),c=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,r);return new fO({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(l)})}for(let h=0;h<s;++h)c.push(t.getPointPositionForValue(h,l));return c}function Fb(e,t,n){const i=sW(t),{chart:s,index:r,line:l,scale:c,axis:h}=t,d=l.options,p=d.fill,y=d.backgroundColor,{above:_=y,below:x=y}=p||{},E=s.getDatasetMeta(r),T=YI(s,E);i&&l.points.length&&(Km(e,n),cW(e,{line:l,target:i,above:_,below:x,area:n,scale:c,axis:h,clip:T}),Xm(e))}function cW(e,t){const{line:n,target:i,above:s,below:r,area:l,scale:c,clip:h}=t,d=n._loop?"angle":t.axis;e.save();let p=r;r!==s&&(d==="x"?(Ek(e,i,l.top),Bb(e,{line:n,target:i,color:s,scale:c,property:d,clip:h}),e.restore(),e.save(),Ek(e,i,l.bottom)):d==="y"&&(Sk(e,i,l.left),Bb(e,{line:n,target:i,color:r,scale:c,property:d,clip:h}),e.restore(),e.save(),Sk(e,i,l.right),p=s)),Bb(e,{line:n,target:i,color:p,scale:c,property:d,clip:h}),e.restore()}function Ek(e,t,n){const{segments:i,points:s}=t;let r=!0,l=!1;e.beginPath();for(const c of i){const{start:h,end:d}=c,p=s[h],y=s[Jm(h,d,s)];r?(e.moveTo(p.x,p.y),r=!1):(e.lineTo(p.x,n),e.lineTo(p.x,p.y)),l=!!t.pathSegment(e,c,{move:l}),l?e.closePath():e.lineTo(y.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Sk(e,t,n){const{segments:i,points:s}=t;let r=!0,l=!1;e.beginPath();for(const c of i){const{start:h,end:d}=c,p=s[h],y=s[Jm(h,d,s)];r?(e.moveTo(p.x,p.y),r=!1):(e.lineTo(n,p.y),e.lineTo(p.x,p.y)),l=!!t.pathSegment(e,c,{move:l}),l?e.closePath():e.lineTo(n,y.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function Bb(e,t){const{line:n,target:i,property:s,color:r,scale:l,clip:c}=t,h=W7(n,i,s);for(const{source:d,target:p,start:y,end:_}of h){const{style:{backgroundColor:x=r}={}}=d,E=i!==!0;e.save(),e.fillStyle=x,uW(e,l,c,E&&Q0(s,y,_)),e.beginPath();const T=!!n.pathSegment(e,d);let S;if(E){T?e.closePath():Tk(e,i,_,s);const D=!!i.pathSegment(e,p,{move:T,reverse:!0});S=T&&D,S||Tk(e,i,y,s)}e.closePath(),e.fill(S?"evenodd":"nonzero"),e.restore()}}function uW(e,t,n,i){const s=t.chart.chartArea,{property:r,start:l,end:c}=i||{};if(r==="x"||r==="y"){let h,d,p,y;r==="x"?(h=l,d=s.top,p=c,y=s.bottom):(h=s.left,d=l,p=s.right,y=c),e.beginPath(),n&&(h=Math.max(h,n.left),p=Math.min(p,n.right),d=Math.max(d,n.top),y=Math.min(y,n.bottom)),e.rect(h,d,p-h,y-d),e.clip()}}function Tk(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var hW={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let r,l,c,h;for(l=0;l<i;++l)r=e.getDatasetMeta(l),c=r.dataset,h=null,c&&c.options&&c instanceof Za&&(h={visible:e.isDatasetVisible(l),index:l,fill:K7(c,l,i),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:c}),r.$filler=h,s.push(h);for(l=0;l<i;++l)h=s[l],!(!h||h.fill===!1)&&(h.fill=G7(s,l,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let l=s.length-1;l>=0;--l){const c=s[l].$filler;c&&(c.line.updateControlPoints(r,c.axis),i&&c.fill&&Fb(e.ctx,c,r))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;wk(r)&&Fb(e.ctx,r,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!wk(i)||n.drawTime!=="beforeDatasetDraw"||Fb(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ak=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},dW=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class kk extends Ts{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=De(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=xn(i.font),r=s.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=Ak(i,r);let d,p;n.font=s.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(l,r,c,h)+10):(p=this.maxHeight,d=this._fitCols(l,s,c,h)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:r,maxWidth:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.lineWidths=[0],p=s+c;let y=t;r.textAlign="left",r.textBaseline="middle";let _=-1,x=-p;return this.legendItems.forEach((E,T)=>{const S=i+n/2+r.measureText(E.text).width;(T===0||d[d.length-1]+S+2*c>l)&&(y+=p,d[d.length-(T>0?0:1)]=0,x+=p,_++),h[T]={left:0,top:x,row:_,width:S,height:s},d[d.length-1]+=S+c}),y}_fitCols(t,n,i,s){const{ctx:r,maxHeight:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.columnSizes=[],p=l-t;let y=c,_=0,x=0,E=0,T=0;return this.legendItems.forEach((S,D)=>{const{itemWidth:I,itemHeight:N}=fW(i,n,r,S,s);D>0&&x+N+2*c>p&&(y+=_+c,d.push({width:_,height:x}),E+=_+c,T++,_=x=0),h[D]={left:E,top:x,col:T,width:I,height:N},_=Math.max(_,I),x+=N+c}),y+=_,d.push({width:_,height:x}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,l=Bc(r,this.left,this.width);if(this.isHorizontal()){let c=0,h=ri(i,this.left+s,this.right-this.lineWidths[c]);for(const d of n)c!==d.row&&(c=d.row,h=ri(i,this.left+s,this.right-this.lineWidths[c])),d.top+=this.top+t+s,d.left=l.leftForLtr(l.x(h),d.width),h+=d.width+s}else{let c=0,h=ri(i,this.top+t+s,this.bottom-this.columnSizes[c].height);for(const d of n)d.col!==c&&(c=d.col,h=ri(i,this.top+t+s,this.bottom-this.columnSizes[c].height)),d.top=h,d.left+=this.left+s,d.left=l.leftForLtr(l.x(d.left),d.width),h+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Km(t,this),this._draw(),Xm(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:l}=t,c=Be.color,h=Bc(t.rtl,this.left,this.width),d=xn(l.font),{padding:p}=l,y=d.size,_=y/2;let x;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:E,boxHeight:T,itemHeight:S}=Ak(l,y),D=function(Y,R,C){if(isNaN(E)||E<=0||isNaN(T)||T<0)return;s.save();const P=$t(C.lineWidth,1);if(s.fillStyle=$t(C.fillStyle,c),s.lineCap=$t(C.lineCap,"butt"),s.lineDashOffset=$t(C.lineDashOffset,0),s.lineJoin=$t(C.lineJoin,"miter"),s.lineWidth=P,s.strokeStyle=$t(C.strokeStyle,c),s.setLineDash($t(C.lineDash,[])),l.usePointStyle){const V={radius:T*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:P},U=h.xPlus(Y,E/2),q=R+_;PI(s,V,U,q,l.pointStyleWidth&&E)}else{const V=R+Math.max((y-T)/2,0),U=h.leftForLtr(Y,E),q=yl(C.borderRadius);s.beginPath(),Object.values(q).some(z=>z!==0)?Od(s,{x:U,y:V,w:E,h:T,radius:q}):s.rect(U,V,E,T),s.fill(),P!==0&&s.stroke()}s.restore()},I=function(Y,R,C){Rl(s,C.text,Y,R+S/2,d,{strikethrough:C.hidden,textAlign:h.textAlign(C.textAlign)})},N=this.isHorizontal(),H=this._computeTitleHeight();N?x={x:ri(r,this.left+p,this.right-i[0]),y:this.top+p+H,line:0}:x={x:this.left+p,y:ri(r,this.top+H+p,this.bottom-n[0].height),line:0},BI(this.ctx,t.textDirection);const M=S+p;this.legendItems.forEach((Y,R)=>{s.strokeStyle=Y.fontColor,s.fillStyle=Y.fontColor;const C=s.measureText(Y.text).width,P=h.textAlign(Y.textAlign||(Y.textAlign=l.textAlign)),V=E+_+C;let U=x.x,q=x.y;h.setWidth(this.width),N?R>0&&U+V+p>this.right&&(q=x.y+=M,x.line++,U=x.x=ri(r,this.left+p,this.right-i[x.line])):R>0&&q+M>this.bottom&&(U=x.x=U+n[x.line].width+p,x.line++,q=x.y=ri(r,this.top+H+p,this.bottom-n[x.line].height));const z=h.x(U);if(D(z,q,Y),U=Iq(P,U+E+_,N?U+V:this.right,t.rtl),I(h.x(U),q,Y),N)x.x+=V+p;else if(typeof Y.text!="string"){const Ct=d.lineHeight;x.y+=pO(Y,Ct)+p}else x.y+=M}),$I(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=xn(n.font),s=ti(n.padding);if(!n.display)return;const r=Bc(t.rtl,this.left,this.width),l=this.ctx,c=n.position,h=i.size/2,d=s.top+h;let p,y=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+d,y=ri(t.align,y,this.right-_);else{const E=this.columnSizes.reduce((T,S)=>Math.max(T,S.height),0);p=d+ri(t.align,this.top,this.bottom-E-t.labels.padding-this._computeTitleHeight())}const x=ri(c,y,y+_);l.textAlign=r.textAlign(Mx(c)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=i.string,Rl(l,n.text,x,p,i)}_computeTitleHeight(){const t=this.options.title,n=xn(t.font),i=ti(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,r;if(Xr(t,this.left,this.right)&&Xr(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],Xr(t,s.left,s.left+s.width)&&Xr(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!mW(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=dW(s,i);s&&!r&&De(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&De(n.onHover,[t,i,this],this)}else i&&De(n.onClick,[t,i,this],this)}}function fW(e,t,n,i,s){const r=pW(i,e,t,n),l=gW(s,i,t.lineHeight);return{itemWidth:r,itemHeight:l}}function pW(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((r,l)=>r.length>l.length?r:l)),t+n.size/2+i.measureText(s).width}function gW(e,t,n){let i=e;return typeof t.text!="string"&&(i=pO(t,n)),i}function pO(e,t){const n=e.text?e.text.length:0;return t*n}function mW(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var yW={id:"legend",_element:kk,start(e,t,n){const i=e.legend=new kk({ctx:e.ctx,options:n,chart:e});ui.configure(e,i,n),ui.addBox(e,i)},stop(e){ui.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;ui.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:l,borderRadius:c}}=e.legend.options;return e._getSortedDatasetMetas().map(h=>{const d=h.controller.getStyle(n?0:void 0),p=ti(d.borderWidth);return{text:t[h.index].label,fillStyle:d.backgroundColor,fontColor:r,hidden:!h.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:l&&(c||d.borderRadius),datasetIndex:h.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class zx extends Ts{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=ze(i.text)?i.text.length:1;this._padding=ti(i.padding);const r=s*xn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:r,options:l}=this,c=l.align;let h=0,d,p,y;return this.isHorizontal()?(p=ri(c,i,r),y=n+t,d=r-i):(l.position==="left"?(p=i+t,y=ri(c,s,n),h=ge*-.5):(p=r-t,y=ri(c,n,s),h=ge*.5),d=s-n),{titleX:p,titleY:y,maxWidth:d,rotation:h}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=xn(n.font),r=i.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:h,rotation:d}=this._drawArgs(r);Rl(t,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:d,textAlign:Mx(n.align),textBaseline:"middle",translation:[l,c]})}}function _W(e,t){const n=new zx({ctx:e.ctx,options:t,chart:e});ui.configure(e,n,t),ui.addBox(e,n),e.titleBlock=n}var bW={id:"title",_element:zx,start(e,t,n){_W(e,n)},stop(e){const t=e.titleBlock;ui.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;ui.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Wp=new WeakMap;var vW={id:"subtitle",start(e,t,n){const i=new zx({ctx:e.ctx,options:n,chart:e});ui.configure(e,i,n),ui.addBox(e,i),Wp.set(e,i)},stop(e){ui.removeBox(e,Wp.get(e)),Wp.delete(e)},beforeUpdate(e,t,n){const i=Wp.get(e);ui.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Gh={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,r=0;for(t=0,n=e.length;t<n;++t){const c=e[t].element;if(c&&c.hasValue()){const h=c.tooltipPosition();i.add(h.x),s+=h.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((c,h)=>c+h)/i.size,y:s/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,l,c;for(r=0,l=e.length;r<l;++r){const h=e[r].element;if(h&&h.hasValue()){const d=h.getCenterPoint(),p=$0(t,d);p<s&&(s=p,c=h)}}if(c){const h=c.tooltipPosition();n=h.x,i=h.y}return{x:n,y:i}}};function Ws(e,t){return t&&(ze(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function $r(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function xW(e,t){const{element:n,datasetIndex:i,index:s}=t,r=e.getDatasetMeta(i).controller,{label:l,value:c}=r.getLabelAndValue(s);return{chart:e,label:l,parsed:r.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:c,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function Rk(e,t){const n=e.chart.ctx,{body:i,footer:s,title:r}=e,{boxWidth:l,boxHeight:c}=t,h=xn(t.bodyFont),d=xn(t.titleFont),p=xn(t.footerFont),y=r.length,_=s.length,x=i.length,E=ti(t.padding);let T=E.height,S=0,D=i.reduce((H,M)=>H+M.before.length+M.lines.length+M.after.length,0);if(D+=e.beforeBody.length+e.afterBody.length,y&&(T+=y*d.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),D){const H=t.displayColors?Math.max(c,h.lineHeight):h.lineHeight;T+=x*H+(D-x)*h.lineHeight+(D-1)*t.bodySpacing}_&&(T+=t.footerMarginTop+_*p.lineHeight+(_-1)*t.footerSpacing);let I=0;const N=function(H){S=Math.max(S,n.measureText(H).width+I)};return n.save(),n.font=d.string,xe(e.title,N),n.font=h.string,xe(e.beforeBody.concat(e.afterBody),N),I=t.displayColors?l+2+t.boxPadding:0,xe(i,H=>{xe(H.before,N),xe(H.lines,N),xe(H.after,N)}),I=0,n.font=p.string,xe(e.footer,N),n.restore(),S+=E.width,{width:S,height:T}}function wW(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function EW(e,t,n,i){const{x:s,width:r}=i,l=n.caretSize+n.caretPadding;if(e==="left"&&s+r+l>t.width||e==="right"&&s-r-l<0)return!0}function SW(e,t,n,i){const{x:s,width:r}=n,{width:l,chartArea:{left:c,right:h}}=e;let d="center";return i==="center"?d=s<=(c+h)/2?"left":"right":s<=r/2?d="left":s>=l-r/2&&(d="right"),EW(d,e,t,n)&&(d="center"),d}function Ck(e,t,n){const i=n.yAlign||t.yAlign||wW(e,n);return{xAlign:n.xAlign||t.xAlign||SW(e,t,n,i),yAlign:i}}function TW(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function AW(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function Dk(e,t,n,i){const{caretSize:s,caretPadding:r,cornerRadius:l}=e,{xAlign:c,yAlign:h}=n,d=s+r,{topLeft:p,topRight:y,bottomLeft:_,bottomRight:x}=yl(l);let E=TW(t,c);const T=AW(t,h,d);return h==="center"?c==="left"?E+=d:c==="right"&&(E-=d):c==="left"?E-=Math.max(p,_)+s:c==="right"&&(E+=Math.max(y,x)+s),{x:qn(E,0,i.width-t.width),y:qn(T,0,i.height-t.height)}}function Yp(e,t,n){const i=ti(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function Mk(e){return Ws([],$r(e))}function kW(e,t,n){return Eo(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Ik(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const gO={beforeTitle:Fr,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Fr,beforeBody:Fr,beforeLabel:Fr,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Gt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Fr,afterBody:Fr,beforeFooter:Fr,footer:Fr,afterFooter:Fr};function Si(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?gO[t].call(n,i):s}class Z0 extends Ts{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new GI(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=kW(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=Si(i,"beforeTitle",this,t),r=Si(i,"title",this,t),l=Si(i,"afterTitle",this,t);let c=[];return c=Ws(c,$r(s)),c=Ws(c,$r(r)),c=Ws(c,$r(l)),c}getBeforeBody(t,n){return Mk(Si(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return xe(t,r=>{const l={before:[],lines:[],after:[]},c=Ik(i,r);Ws(l.before,$r(Si(c,"beforeLabel",this,r))),Ws(l.lines,Si(c,"label",this,r)),Ws(l.after,$r(Si(c,"afterLabel",this,r))),s.push(l)}),s}getAfterBody(t,n){return Mk(Si(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=Si(i,"beforeFooter",this,t),r=Si(i,"footer",this,t),l=Si(i,"afterFooter",this,t);let c=[];return c=Ws(c,$r(s)),c=Ws(c,$r(r)),c=Ws(c,$r(l)),c}_createItems(t){const n=this._active,i=this.chart.data,s=[],r=[],l=[];let c=[],h,d;for(h=0,d=n.length;h<d;++h)c.push(xW(this.chart,n[h]));return t.filter&&(c=c.filter((p,y,_)=>t.filter(p,y,_,i))),t.itemSort&&(c=c.sort((p,y)=>t.itemSort(p,y,i))),xe(c,p=>{const y=Ik(t.callbacks,p);s.push(Si(y,"labelColor",this,p)),r.push(Si(y,"labelPointStyle",this,p)),l.push(Si(y,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=l,this.dataPoints=c,c}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,l=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const c=Gh[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=Rk(this,i),d=Object.assign({},c,h),p=Ck(this.chart,i,d),y=Dk(i,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,r={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const r=this.getCaretPosition(t,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:h,topRight:d,bottomLeft:p,bottomRight:y}=yl(c),{x:_,y:x}=t,{width:E,height:T}=n;let S,D,I,N,H,M;return r==="center"?(H=x+T/2,s==="left"?(S=_,D=S-l,N=H+l,M=H-l):(S=_+E,D=S+l,N=H-l,M=H+l),I=S):(s==="left"?D=_+Math.max(h,p)+l:s==="right"?D=_+E-Math.max(d,y)-l:D=this.caretX,r==="top"?(N=x,H=N-l,S=D-l,I=D+l):(N=x+T,H=N+l,S=D+l,I=D-l),M=N),{x1:S,x2:D,x3:I,y1:N,y2:H,y3:M}}drawTitle(t,n,i){const s=this.title,r=s.length;let l,c,h;if(r){const d=Bc(i.rtl,this.x,this.width);for(t.x=Yp(this,i.titleAlign,i),n.textAlign=d.textAlign(i.titleAlign),n.textBaseline="middle",l=xn(i.titleFont),c=i.titleSpacing,n.fillStyle=i.titleColor,n.font=l.string,h=0;h<r;++h)n.fillText(s[h],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,h+1===r&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,n,i,s,r){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:h,boxWidth:d}=r,p=xn(r.bodyFont),y=Yp(this,"left",r),_=s.x(y),x=h<p.lineHeight?(p.lineHeight-h)/2:0,E=n.y+x;if(r.usePointStyle){const T={radius:Math.min(d,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},S=s.leftForLtr(_,d)+d/2,D=E+h/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,H0(t,T,S,D),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,H0(t,T,S,D)}else{t.lineWidth=se(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const T=s.leftForLtr(_,d),S=s.leftForLtr(s.xPlus(_,1),d-2),D=yl(l.borderRadius);Object.values(D).some(I=>I!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Od(t,{x:T,y:E,w:d,h,radius:D}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Od(t,{x:S,y:E+1,w:d-2,h:h-2,radius:D}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(T,E,d,h),t.strokeRect(T,E,d,h),t.fillStyle=l.backgroundColor,t.fillRect(S,E+1,d-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:d,boxPadding:p}=i,y=xn(i.bodyFont);let _=y.lineHeight,x=0;const E=Bc(i.rtl,this.x,this.width),T=function(C){n.fillText(C,E.x(t.x+x),t.y+_/2),t.y+=_+r},S=E.textAlign(l);let D,I,N,H,M,Y,R;for(n.textAlign=l,n.textBaseline="middle",n.font=y.string,t.x=Yp(this,S,i),n.fillStyle=i.bodyColor,xe(this.beforeBody,T),x=c&&S!=="right"?l==="center"?d/2+p:d+2+p:0,H=0,Y=s.length;H<Y;++H){for(D=s[H],I=this.labelTextColors[H],n.fillStyle=I,xe(D.before,T),N=D.lines,c&&N.length&&(this._drawColorBox(n,t,H,E,i),_=Math.max(y.lineHeight,h)),M=0,R=N.length;M<R;++M)T(N[M]),_=y.lineHeight;xe(D.after,T)}x=0,_=y.lineHeight,xe(this.afterBody,T),t.y-=r}drawFooter(t,n,i){const s=this.footer,r=s.length;let l,c;if(r){const h=Bc(i.rtl,this.x,this.width);for(t.x=Yp(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=h.textAlign(i.footerAlign),n.textBaseline="middle",l=xn(i.footerFont),n.fillStyle=i.footerColor,n.font=l.string,c=0;c<r;++c)n.fillText(s[c],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:r,yAlign:l}=this,{x:c,y:h}=t,{width:d,height:p}=i,{topLeft:y,topRight:_,bottomLeft:x,bottomRight:E}=yl(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+y,h),l==="top"&&this.drawCaret(t,n,i,s),n.lineTo(c+d-_,h),n.quadraticCurveTo(c+d,h,c+d,h+_),l==="center"&&r==="right"&&this.drawCaret(t,n,i,s),n.lineTo(c+d,h+p-E),n.quadraticCurveTo(c+d,h+p,c+d-E,h+p),l==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(c+x,h+p),n.quadraticCurveTo(c,h+p,c,h+p-x),l==="center"&&r==="left"&&this.drawCaret(t,n,i,s),n.lineTo(c,h+y),n.quadraticCurveTo(c,h,c+y,h),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const l=Gh[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=Rk(this,t),h=Object.assign({},l,this._size),d=Ck(n,t,h),p=Dk(t,h,d,n);(s._to!==p.x||r._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=ti(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,n),BI(t,n.textDirection),r.y+=l.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),$I(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:c,index:h})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[h],index:h}}),r=!sm(i,s),l=this._positionChanged(s,n);(r||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],l=this._getActiveElements(t,r,n,i),c=this._positionChanged(l,t),h=n||!sm(l,r)||c;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),h}_getActiveElements(t,n,i,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:i,caretY:s,options:r}=this,l=Gh[r.position].call(this,t,n);return l!==!1&&(i!==l.x||s!==l.y)}}wt(Z0,"positioners",Gh);var RW={id:"tooltip",_element:Z0,positioners:Gh,afterInit(e,t,n){n&&(e.tooltip=new Z0({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:gO},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},CW=Object.freeze({__proto__:null,Colors:F7,Decimation:H7,Filler:hW,Legend:yW,SubTitle:vW,Title:bW,Tooltip:RW});const DW=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function MW(e,t,n,i){const s=e.indexOf(t);if(s===-1)return DW(e,t,n,i);const r=e.lastIndexOf(t);return s!==r?n:s}const IW=(e,t)=>e===null?null:qn(Math.round(e),0,t);function Ok(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class J0 extends Ol{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Gt(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:MW(i,t,$t(n,t),this._addedLabels),IW(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=n;l++)s.push({value:l});return s}getLabelForValue(t){return Ok.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}wt(J0,"id","category"),wt(J0,"defaults",{ticks:{callback:Ok}});function OW(e,t){const n=[],{bounds:s,step:r,min:l,max:c,precision:h,count:d,maxTicks:p,maxDigits:y,includeBounds:_}=e,x=r||1,E=p-1,{min:T,max:S}=t,D=!Gt(l),I=!Gt(c),N=!Gt(d),H=(S-T)/(y+1);let M=RA((S-T)/E/x)*x,Y,R,C,P;if(M<1e-14&&!D&&!I)return[{value:T},{value:S}];P=Math.ceil(S/M)-Math.floor(T/M),P>E&&(M=RA(P*M/E/x)*x),Gt(h)||(Y=Math.pow(10,h),M=Math.ceil(M*Y)/Y),s==="ticks"?(R=Math.floor(T/M)*M,C=Math.ceil(S/M)*M):(R=T,C=S),D&&I&&r&&Tq((c-l)/r,M/1e3)?(P=Math.round(Math.min((c-l)/M,p)),M=(c-l)/P,R=l,C=c):N?(R=D?l:R,C=I?c:C,P=d-1,M=(C-R)/P):(P=(C-R)/M,rd(P,Math.round(P),M/1e3)?P=Math.round(P):P=Math.ceil(P));const V=Math.max(CA(M),CA(R));Y=Math.pow(10,Gt(h)?V:h),R=Math.round(R*Y)/Y,C=Math.round(C*Y)/Y;let U=0;for(D&&(_&&R!==l?(n.push({value:l}),R<l&&U++,rd(Math.round((R+U*M)*Y)/Y,l,Pk(l,H,e))&&U++):R<l&&U++);U<P;++U){const q=Math.round((R+U*M)*Y)/Y;if(I&&q>c)break;n.push({value:q})}return I&&_&&C!==c?n.length&&rd(n[n.length-1].value,c,Pk(c,H,e))?n[n.length-1].value=c:n.push({value:c}):(!I||C===c)&&n.push({value:C}),n}function Pk(e,t,{horizontal:n,minRotation:i}){const s=vs(i),r=(n?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+e).length;return Math.min(t/r,l)}class hm extends Ol{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Gt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const l=h=>s=n?s:h,c=h=>r=i?r:h;if(t){const h=sr(s),d=sr(r);h<0&&d<0?c(0):h>0&&d>0&&l(0)}if(s===r){let h=r===0?1:Math.abs(r*.05);c(r+h),t||l(s-h)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,l=OW(s,r);return t.bounds==="ticks"&&TI(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return tf(t,this.chart.options.locale,this.options.ticks.format)}}class tv extends hm{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=sn(t)?t:0,this.max=sn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=vs(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}wt(tv,"id","linear"),wt(tv,"defaults",{ticks:{callback:Gm.formatters.numeric}});const Nd=e=>Math.floor(Qa(e)),il=(e,t)=>Math.pow(10,Nd(e)+t);function Nk(e){return e/Math.pow(10,Nd(e))===1}function Lk(e,t,n){const i=Math.pow(10,n),s=Math.floor(e/i);return Math.ceil(t/i)-s}function PW(e,t){const n=t-e;let i=Nd(n);for(;Lk(e,t,i)>10;)i++;for(;Lk(e,t,i)<10;)i--;return Math.min(i,Nd(e))}function NW(e,{min:t,max:n}){t=Ui(e.min,t);const i=[],s=Nd(t);let r=PW(t,n),l=r<0?Math.pow(10,Math.abs(r)):1;const c=Math.pow(10,r),h=s>r?Math.pow(10,s):0,d=Math.round((t-h)*l)/l,p=Math.floor((t-h)/c/10)*c*10;let y=Math.floor((d-p)/Math.pow(10,r)),_=Ui(e.min,Math.round((h+p+y*Math.pow(10,r))*l)/l);for(;_<n;)i.push({value:_,major:Nk(_),significand:y}),y>=10?y=y<15?15:20:y++,y>=20&&(r++,y=2,l=r>=0?1:l),_=Math.round((h+p+y*Math.pow(10,r))*l)/l;const x=Ui(e.max,_);return i.push({value:x,major:Nk(x),significand:y}),i}class ev extends Ol{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=hm.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return sn(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=sn(t)?Math.max(0,t):null,this.max=sn(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!sn(this._userMin)&&(this.min=t===il(this.min,0)?il(this.min,-1):il(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=c=>i=t?i:c,l=c=>s=n?s:c;i===s&&(i<=0?(r(1),l(10)):(r(il(i,-1)),l(il(s,1)))),i<=0&&r(il(s,-1)),s<=0&&l(il(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=NW(n,this);return t.bounds==="ticks"&&TI(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":tf(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Qa(t),this._valueRange=Qa(this.max)-Qa(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Qa(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}wt(ev,"id","logarithmic"),wt(ev,"defaults",{ticks:{callback:Gm.formatters.logarithmic,major:{enabled:!0}}});function nv(e){const t=e.ticks;if(t.display&&e.display){const n=ti(t.backdropPadding);return $t(t.font&&t.font.size,Be.font.size)+n.height}return 0}function LW(e,t,n){return n=ze(n)?n:[n],{w:Bq(e,t.string,n),h:n.length*t.lineHeight}}function jk(e,t,n,i,s){return e===i||e===s?{start:t-n/2,end:t+n/2}:e<i||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function jW(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],s=[],r=e._pointLabels.length,l=e.options.pointLabels,c=l.centerPointLabels?ge/r:0;for(let h=0;h<r;h++){const d=l.setContext(e.getPointLabelContext(h));s[h]=d.padding;const p=e.getPointPosition(h,e.drawingArea+s[h],c),y=xn(d.font),_=LW(e.ctx,y,e._pointLabels[h]);i[h]=_;const x=li(e.getIndexAngle(h)+c),E=Math.round(Cx(x)),T=jk(E,p.x,_.w,0,180),S=jk(E,p.y,_.h,90,270);VW(n,t,x,T,S)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=FW(e,i,s)}function VW(e,t,n,i,s){const r=Math.abs(Math.sin(n)),l=Math.abs(Math.cos(n));let c=0,h=0;i.start<t.l?(c=(t.l-i.start)/r,e.l=Math.min(e.l,t.l-c)):i.end>t.r&&(c=(i.end-t.r)/r,e.r=Math.max(e.r,t.r+c)),s.start<t.t?(h=(t.t-s.start)/l,e.t=Math.min(e.t,t.t-h)):s.end>t.b&&(h=(s.end-t.b)/l,e.b=Math.max(e.b,t.b+h))}function UW(e,t,n){const i=e.drawingArea,{extra:s,additionalAngle:r,padding:l,size:c}=n,h=e.getPointPosition(t,i+s+l,r),d=Math.round(Cx(li(h.angle+cn))),p=qW(h.y,c.h,d),y=BW(d),_=$W(h.x,c.w,y);return{visible:!0,x:h.x,y:p,textAlign:y,left:_,top:p,right:_+c.w,bottom:p+c.h}}function zW(e,t){if(!t)return!0;const{left:n,top:i,right:s,bottom:r}=e;return!(Zr({x:n,y:i},t)||Zr({x:n,y:r},t)||Zr({x:s,y:i},t)||Zr({x:s,y:r},t))}function FW(e,t,n){const i=[],s=e._pointLabels.length,r=e.options,{centerPointLabels:l,display:c}=r.pointLabels,h={extra:nv(r)/2,additionalAngle:l?ge/s:0};let d;for(let p=0;p<s;p++){h.padding=n[p],h.size=t[p];const y=UW(e,p,h);i.push(y),c==="auto"&&(y.visible=zW(y,d),y.visible&&(d=y))}return i}function BW(e){return e===0||e===180?"center":e<180?"left":"right"}function $W(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function qW(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function HW(e,t,n){const{left:i,top:s,right:r,bottom:l}=n,{backdropColor:c}=t;if(!Gt(c)){const h=yl(t.borderRadius),d=ti(t.backdropPadding);e.fillStyle=c;const p=i-d.left,y=s-d.top,_=r-i+d.width,x=l-s+d.height;Object.values(h).some(E=>E!==0)?(e.beginPath(),Od(e,{x:p,y,w:_,h:x,radius:h}),e.fill()):e.fillRect(p,y,_,x)}}function WW(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){const r=e._pointLabelItems[s];if(!r.visible)continue;const l=i.setContext(e.getPointLabelContext(s));HW(n,l,r);const c=xn(l.font),{x:h,y:d,textAlign:p}=r;Rl(n,e._pointLabels[s],h,d+c.lineHeight/2,c,{color:l.color,textAlign:p,textBaseline:"middle"})}}function mO(e,t,n,i){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,Fe);else{let r=e.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let l=1;l<i;l++)r=e.getPointPosition(l,t),s.lineTo(r.x,r.y)}}function YW(e,t,n,i,s){const r=e.ctx,l=t.circular,{color:c,lineWidth:h}=t;!l&&!i||!c||!h||n<0||(r.save(),r.strokeStyle=c,r.lineWidth=h,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),mO(e,n,l,i),r.closePath(),r.stroke(),r.restore())}function GW(e,t,n){return Eo(e,{label:n,index:t,type:"pointLabel"})}class Kh extends hm{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ti(nv(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=sn(t)&&!isNaN(t)?t:0,this.max=sn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/nv(this.options))}generateTickLabels(t){hm.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const s=De(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?jW(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,s){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,s))}getIndexAngle(t){const n=Fe/(this._pointLabels.length||1),i=this.options.startAngle||0;return li(t*n+vs(i))}getDistanceFromCenterForValue(t){if(Gt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Gt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return GW(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const s=this.getIndexAngle(t)-cn+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),mO(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,l=this._pointLabels.length;let c,h,d;if(n.pointLabels.display&&WW(this,l),s.display&&this.ticks.forEach((p,y)=>{if(y!==0||y===0&&this.min<0){h=this.getDistanceFromCenterForValue(p.value);const _=this.getContext(y),x=s.setContext(_),E=r.setContext(_);YW(this,x,h,l,E)}}),i.display){for(t.save(),c=l-1;c>=0;c--){const p=i.setContext(this.getPointLabelContext(c)),{color:y,lineWidth:_}=p;!_||!y||(t.lineWidth=_,t.strokeStyle=y,t.setLineDash(p.borderDash),t.lineDashOffset=p.borderDashOffset,h=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),d=this.getPointPosition(c,h),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,h)=>{if(h===0&&this.min>=0&&!n.reverse)return;const d=i.setContext(this.getContext(h)),p=xn(d.font);if(r=this.getDistanceFromCenterForValue(this.ticks[h].value),d.showLabelBackdrop){t.font=p.string,l=t.measureText(c.label).width,t.fillStyle=d.backdropColor;const y=ti(d.backdropPadding);t.fillRect(-l/2-y.left,-r-p.size/2-y.top,l+y.width,p.size+y.height)}Rl(t,c.label,0,-r,p,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}wt(Kh,"id","radialLinear"),wt(Kh,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Gm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),wt(Kh,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),wt(Kh,"descriptors",{angleLines:{_fallback:"grid"}});const ty={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ri=Object.keys(ty);function Vk(e,t){return e-t}function Uk(e,t){if(Gt(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:r}=e._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),sn(l)||(l=typeof i=="string"?n.parse(l,i):n.parse(l)),l===null?null:(s&&(l=s==="week"&&(su(r)||r===!0)?n.startOf(l,"isoWeek",r):n.startOf(l,s)),+l)}function zk(e,t,n,i){const s=Ri.length;for(let r=Ri.indexOf(e);r<s-1;++r){const l=ty[Ri[r]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-t)/(c*l.size))<=i)return Ri[r]}return Ri[s-1]}function KW(e,t,n,i,s){for(let r=Ri.length-1;r>=Ri.indexOf(n);r--){const l=Ri[r];if(ty[l].common&&e._adapter.diff(s,i,l)>=t-1)return l}return Ri[n?Ri.indexOf(n):0]}function XW(e){for(let t=Ri.indexOf(e)+1,n=Ri.length;t<n;++t)if(ty[Ri[t]].common)return Ri[t]}function Fk(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=Dx(n,t),r=n[i]>=t?n[i]:n[s];e[r]=!0}}function QW(e,t,n,i){const s=e._adapter,r=+s.startOf(t[0].value,i),l=t[t.length-1].value;let c,h;for(c=r;c<=l;c=+s.add(c,1,i))h=n[c],h>=0&&(t[h].major=!0);return t}function Bk(e,t,n){const i=[],s={},r=t.length;let l,c;for(l=0;l<r;++l)c=t[l],s[c]=l,i.push({value:c,major:!1});return r===0||!n?i:QW(e,i,s,n)}class Ld extends Ol{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new rH._date(t.adapters.date);s.init(n),sd(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Uk(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:r,minDefined:l,maxDefined:c}=this.getUserBounds();function h(d){!l&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(r=Math.max(r,d.max))}(!l||!c)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=sn(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=sn(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,l=this.max,c=Cq(s,r,l);return this._unit=n.unit||(i.autoSkip?zk(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):KW(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:XW(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),Bk(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=qn(n,0,l),i=qn(i,0,l),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,l=r.unit||zk(r.minUnit,n,i,this._getLabelCapacity(n)),c=$t(s.ticks.stepSize,1),h=l==="week"?r.isoWeekday:!1,d=su(h)||h===!0,p={};let y=n,_,x;if(d&&(y=+t.startOf(y,"isoWeek",h)),y=+t.startOf(y,d?"day":l),t.diff(i,n,l)>1e5*c)throw new Error(n+" and "+i+" are too far apart with stepSize of "+c+" "+l);const E=s.ticks.source==="data"&&this.getDataTimestamps();for(_=y,x=0;_<i;_=+t.add(_,c,l),x++)Fk(p,_,E);return(_===i||s.bounds==="ticks"||x===1)&&Fk(p,_,E),Object.keys(p).sort(Vk).map(T=>+T)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,r=this._unit,l=n||s[r];return this._adapter.format(t,l)}_tickFormatFunction(t,n,i,s){const r=this.options,l=r.ticks.callback;if(l)return De(l,[t,n,i],this);const c=r.time.displayFormats,h=this._unit,d=this._majorUnit,p=h&&c[h],y=d&&c[d],_=i[n],x=d&&y&&_&&_.major;return this._adapter.format(t,s||(x?y:p))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=vs(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*r+c*l,h:i*l+c*r}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(t,0,Bk(this,[t],this._majorUnit),s),l=this._getLabelSize(r),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(Uk(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return RI(t.sort(Vk))}}wt(Ld,"id","time"),wt(Ld,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Gp(e,t,n){let i=0,s=e.length-1,r,l,c,h;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=Qr(e,"pos",t)),{pos:r,time:c}=e[i],{pos:l,time:h}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=Qr(e,"time",t)),{time:r,pos:c}=e[i],{time:l,pos:h}=e[s]);const d=l-r;return d?c+(h-c)*(t-r)/d:c}class iv extends Ld{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Gp(n,this.min),this._tableRange=Gp(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],r=[];let l,c,h,d,p;for(l=0,c=t.length;l<c;++l)d=t[l],d>=n&&d<=i&&s.push(d);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(l=0,c=s.length;l<c;++l)p=s[l+1],h=s[l-1],d=s[l],Math.round((p+h)/2)!==d&&r.push({time:d,pos:l/(c-1)});return r}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Gp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Gp(this._table,i*this._tableRange+this._minPos,!0)}}wt(iv,"id","timeseries"),wt(iv,"defaults",Ld.defaults);var ZW=Object.freeze({__proto__:null,CategoryScale:J0,LinearScale:tv,LogarithmicScale:ev,RadialLinearScale:Kh,TimeScale:Ld,TimeSeriesScale:iv});const JW=[sH,P7,CW,ZW];/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var $k=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),hd={toTextLines:function(e){var t=[],n;for(e=[].concat(e);e.length;)n=e.pop(),typeof n=="string"?t.unshift.apply(t,n.split(`
`)):Array.isArray(n)?e.push.apply(e,n):Gt(e)||t.unshift(""+n);return t},textSize:function(e,t,n){var i=[].concat(t),s=i.length,r=e.font,l=0,c;for(e.font=n.string,c=0;c<s;++c)l=Math.max(e.measureText(i[c]).width,l);return e.font=r,{height:s*n.lineHeight,width:l}},bound:function(e,t,n){return Math.max(e,Math.min(t,n))},arrayDiff:function(e,t){var n=e.slice(),i=[],s,r,l,c;for(s=0,l=t.length;s<l;++s)c=t[s],r=n.indexOf(c),r===-1?i.push([c,1]):n.splice(r,1);for(s=0,l=n.length;s<l;++s)i.push([n[s],-1]);return i},rasterize:function(e){return Math.round(e*$k)/$k}};function $b(e,t){var n=t.x,i=t.y;if(n===null)return{x:0,y:-1};if(i===null)return{x:1,y:0};var s=e.x-n,r=e.y-i,l=Math.sqrt(s*s+r*r);return{x:l?s/l:0,y:l?r/l:-1}}function tY(e,t,n,i,s){switch(s){case"center":n=i=0;break;case"bottom":n=0,i=1;break;case"right":n=1,i=0;break;case"left":n=-1,i=0;break;case"top":n=0,i=-1;break;case"start":n=-n,i=-i;break;case"end":break;default:s*=Math.PI/180,n=Math.cos(s),i=Math.sin(s);break}return{x:e,y:t,vx:n,vy:i}}var eY=0,yO=1,_O=2,bO=4,vO=8;function Kp(e,t,n){var i=eY;return e<n.left?i|=yO:e>n.right&&(i|=_O),t<n.top?i|=vO:t>n.bottom&&(i|=bO),i}function nY(e,t){for(var n=e.x0,i=e.y0,s=e.x1,r=e.y1,l=Kp(n,i,t),c=Kp(s,r,t),h,d,p;!(!(l|c)||l&c);)h=l||c,h&vO?(d=n+(s-n)*(t.top-i)/(r-i),p=t.top):h&bO?(d=n+(s-n)*(t.bottom-i)/(r-i),p=t.bottom):h&_O?(p=i+(r-i)*(t.right-n)/(s-n),d=t.right):h&yO&&(p=i+(r-i)*(t.left-n)/(s-n),d=t.left),h===l?(n=d,i=p,l=Kp(n,i,t)):(s=d,r=p,c=Kp(s,r,t));return{x0:n,x1:s,y0:i,y1:r}}function Xp(e,t){var n=t.anchor,i=e,s,r;return t.clamp&&(i=nY(i,t.area)),n==="start"?(s=i.x0,r=i.y0):n==="end"?(s=i.x1,r=i.y1):(s=(i.x0+i.x1)/2,r=(i.y0+i.y1)/2),tY(s,r,e.vx,e.vy,t.align)}var Qp={arc:function(e,t){var n=(e.startAngle+e.endAngle)/2,i=Math.cos(n),s=Math.sin(n),r=e.innerRadius,l=e.outerRadius;return Xp({x0:e.x+i*r,y0:e.y+s*r,x1:e.x+i*l,y1:e.y+s*l,vx:i,vy:s},t)},point:function(e,t){var n=$b(e,t.origin),i=n.x*e.options.radius,s=n.y*e.options.radius;return Xp({x0:e.x-i,y0:e.y-s,x1:e.x+i,y1:e.y+s,vx:n.x,vy:n.y},t)},bar:function(e,t){var n=$b(e,t.origin),i=e.x,s=e.y,r=0,l=0;return e.horizontal?(i=Math.min(e.x,e.base),r=Math.abs(e.base-e.x)):(s=Math.min(e.y,e.base),l=Math.abs(e.base-e.y)),Xp({x0:i,y0:s+l,x1:i+r,y1:s,vx:n.x,vy:n.y},t)},fallback:function(e,t){var n=$b(e,t.origin);return Xp({x0:e.x,y0:e.y,x1:e.x+(e.width||0),y1:e.y+(e.height||0),vx:n.x,vy:n.y},t)}},Jr=hd.rasterize;function iY(e){var t=e.borderWidth||0,n=e.padding,i=e.size.height,s=e.size.width,r=-s/2,l=-i/2;return{frame:{x:r-n.left-t,y:l-n.top-t,w:s+n.width+t*2,h:i+n.height+t*2},text:{x:r,y:l,w:s,h:i}}}function sY(e,t){var n=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var i=n.getBasePixel();return e.horizontal?{x:i,y:null}:{x:null,y:i}}function rY(e){return e instanceof Pc?Qp.arc:e instanceof cd?Qp.point:e instanceof ud?Qp.bar:Qp.fallback}function aY(e,t,n,i,s,r){var l=Math.PI/2;if(r){var c=Math.min(r,s/2,i/2),h=t+c,d=n+c,p=t+i-c,y=n+s-c;e.moveTo(t,d),h<p&&d<y?(e.arc(h,d,c,-Math.PI,-l),e.arc(p,d,c,-l,0),e.arc(p,y,c,0,l),e.arc(h,y,c,l,Math.PI)):h<p?(e.moveTo(h,n),e.arc(p,d,c,-l,l),e.arc(h,d,c,l,Math.PI+l)):d<y?(e.arc(h,d,c,-Math.PI,0),e.arc(h,y,c,0,Math.PI)):e.arc(h,d,c,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,i,s)}function oY(e,t,n){var i=n.backgroundColor,s=n.borderColor,r=n.borderWidth;!i&&(!s||!r)||(e.beginPath(),aY(e,Jr(t.x)+r/2,Jr(t.y)+r/2,Jr(t.w)-r,Jr(t.h)-r,n.borderRadius),e.closePath(),i&&(e.fillStyle=i,e.fill()),s&&r&&(e.strokeStyle=s,e.lineWidth=r,e.lineJoin="miter",e.stroke()))}function lY(e,t,n){var i=n.lineHeight,s=e.w,r=e.x,l=e.y+i/2;return t==="center"?r+=s/2:(t==="end"||t==="right")&&(r+=s),{h:i,w:s,x:r,y:l}}function cY(e,t,n){var i=e.shadowBlur,s=n.stroked,r=Jr(n.x),l=Jr(n.y),c=Jr(n.w);s&&e.strokeText(t,r,l,c),n.filled&&(i&&s&&(e.shadowBlur=0),e.fillText(t,r,l,c),i&&s&&(e.shadowBlur=i))}function uY(e,t,n,i){var s=i.textAlign,r=i.color,l=!!r,c=i.font,h=t.length,d=i.textStrokeColor,p=i.textStrokeWidth,y=d&&p,_;if(!(!h||!l&&!y))for(n=lY(n,s,c),e.font=c.string,e.textAlign=s,e.textBaseline="middle",e.shadowBlur=i.textShadowBlur,e.shadowColor=i.textShadowColor,l&&(e.fillStyle=r),y&&(e.lineJoin="round",e.lineWidth=p,e.strokeStyle=d),_=0,h=t.length;_<h;++_)cY(e,t[_],{stroked:y,filled:l,w:n.w,x:n.x,y:n.y+n.h*_})}var xO=function(e,t,n,i){var s=this;s._config=e,s._index=i,s._model=null,s._rects=null,s._ctx=t,s._el=n};ar(xO.prototype,{_modelize:function(e,t,n,i){var s=this,r=s._index,l=xn(Ue([n.font,{}],i,r)),c=Ue([n.color,Be.color],i,r);return{align:Ue([n.align,"center"],i,r),anchor:Ue([n.anchor,"center"],i,r),area:i.chart.chartArea,backgroundColor:Ue([n.backgroundColor,null],i,r),borderColor:Ue([n.borderColor,null],i,r),borderRadius:Ue([n.borderRadius,0],i,r),borderWidth:Ue([n.borderWidth,0],i,r),clamp:Ue([n.clamp,!1],i,r),clip:Ue([n.clip,!1],i,r),color:c,display:e,font:l,lines:t,offset:Ue([n.offset,4],i,r),opacity:Ue([n.opacity,1],i,r),origin:sY(s._el,i),padding:ti(Ue([n.padding,4],i,r)),positioner:rY(s._el),rotation:Ue([n.rotation,0],i,r)*(Math.PI/180),size:hd.textSize(s._ctx,t,l),textAlign:Ue([n.textAlign,"start"],i,r),textShadowBlur:Ue([n.textShadowBlur,0],i,r),textShadowColor:Ue([n.textShadowColor,c],i,r),textStrokeColor:Ue([n.textStrokeColor,c],i,r),textStrokeWidth:Ue([n.textStrokeWidth,0],i,r)}},update:function(e){var t=this,n=null,i=null,s=t._index,r=t._config,l,c,h,d=Ue([r.display,!0],e,s);d&&(l=e.dataset.data[s],c=$t(De(r.formatter,[l,e]),l),h=Gt(c)?[]:hd.toTextLines(c),h.length&&(n=t._modelize(d,h,r,e),i=iY(n))),t._model=n,t._rects=i},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var n=this,i=e.ctx,s=n._model,r=n._rects,l;this.visible()&&(i.save(),s.clip&&(l=s.area,i.beginPath(),i.rect(l.left,l.top,l.right-l.left,l.bottom-l.top),i.clip()),i.globalAlpha=hd.bound(0,s.opacity,1),i.translate(Jr(t.x),Jr(t.y)),i.rotate(s.rotation),oY(i,r.frame,s),uY(i,s.lines,r.text,s),i.restore())}});var hY=Number.MIN_SAFE_INTEGER||-9007199254740991,dY=Number.MAX_SAFE_INTEGER||9007199254740991;function Ph(e,t,n){var i=Math.cos(n),s=Math.sin(n),r=t.x,l=t.y;return{x:r+i*(e.x-r)-s*(e.y-l),y:l+s*(e.x-r)+i*(e.y-l)}}function qk(e,t){var n=dY,i=hY,s=t.origin,r,l,c,h,d;for(r=0;r<e.length;++r)l=e[r],c=l.x-s.x,h=l.y-s.y,d=t.vx*c+t.vy*h,n=Math.min(n,d),i=Math.max(i,d);return{min:n,max:i}}function Zp(e,t){var n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);return{vx:(t.x-e.x)/s,vy:(t.y-e.y)/s,origin:e,ln:s}}var wO=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};ar(wO.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,n){this._rotation=n,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,n=1,i=t._rect;return e=Ph(e,t.center(),-t._rotation),!(e.x<i.x-n||e.y<i.y-n||e.x>i.x+i.w+n*2||e.y>i.y+i.h+n*2)},intersects:function(e){var t=this._points(),n=e._points(),i=[Zp(t[0],t[1]),Zp(t[0],t[3])],s,r,l;for(this._rotation!==e._rotation&&i.push(Zp(n[0],n[1]),Zp(n[0],n[3])),s=0;s<i.length;++s)if(r=qk(t,i[s]),l=qk(n,i[s]),r.max<l.min||l.max<r.min)return!1;return!0},_points:function(){var e=this,t=e._rect,n=e._rotation,i=e.center();return[Ph({x:t.x,y:t.y},i,n),Ph({x:t.x+t.w,y:t.y},i,n),Ph({x:t.x+t.w,y:t.y+t.h},i,n),Ph({x:t.x,y:t.y+t.h},i,n)]}});function EO(e,t,n){var i=t.positioner(e,t),s=i.vx,r=i.vy;if(!s&&!r)return{x:i.x,y:i.y};var l=n.w,c=n.h,h=t.rotation,d=Math.abs(l/2*Math.cos(h))+Math.abs(c/2*Math.sin(h)),p=Math.abs(l/2*Math.sin(h))+Math.abs(c/2*Math.cos(h)),y=1/Math.max(Math.abs(s),Math.abs(r));return d*=s*y,p*=r*y,d+=t.offset*s,p+=t.offset*r,{x:i.x+d,y:i.y+p}}function fY(e,t){var n,i,s,r;for(n=e.length-1;n>=0;--n)for(s=e[n].$layout,i=n-1;i>=0&&s._visible;--i)r=e[i].$layout,r._visible&&s._box.intersects(r._box)&&t(s,r);return e}function pY(e){var t,n,i,s,r,l,c;for(t=0,n=e.length;t<n;++t)i=e[t],s=i.$layout,s._visible&&(c=new Proxy(i._el,{get:(h,d)=>h.getProps([d],!0)[d]}),r=i.geometry(),l=EO(c,i.model(),r),s._box.update(l,r,i.rotation()));return fY(e,function(h,d){var p=h._hidable,y=d._hidable;p&&y||y?d._visible=!1:p&&(h._visible=!1)})}var dd={prepare:function(e){var t=[],n,i,s,r,l;for(n=0,s=e.length;n<s;++n)for(i=0,r=e[n].length;i<r;++i)l=e[n][i],t.push(l),l.$layout={_box:new wO,_hidable:!1,_visible:!0,_set:n,_idx:l._index};return t.sort(function(c,h){var d=c.$layout,p=h.$layout;return d._idx===p._idx?p._set-d._set:p._idx-d._idx}),this.update(t),t},update:function(e){var t=!1,n,i,s,r,l;for(n=0,i=e.length;n<i;++n)s=e[n],r=s.model(),l=s.$layout,l._hidable=r&&r.display==="auto",l._visible=s.visible(),t|=l._hidable;t&&pY(e)},lookup:function(e,t){var n,i;for(n=e.length-1;n>=0;--n)if(i=e[n].$layout,i&&i._visible&&i._box.contains(t))return e[n];return null},draw:function(e,t){var n,i,s,r,l,c;for(n=0,i=t.length;n<i;++n)s=t[n],r=s.$layout,r._visible&&(l=s.geometry(),c=EO(s._el,s.model(),l),r._box.update(c,l,s.rotation()),s.draw(e,c))}},gY=function(e){if(Gt(e))return null;var t=e,n,i,s;if(se(e))if(!Gt(e.label))t=e.label;else if(!Gt(e.r))t=e.r;else for(t="",n=Object.keys(e),s=0,i=n.length;s<i;++s)t+=(s!==0?", ":"")+n[s]+": "+e[n[s]];return""+t},mY={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:gY,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},Ti="$datalabels",SO="$default";function yY(e,t){var n=e.datalabels,i={},s=[],r,l;return n===!1?null:(n===!0&&(n={}),t=ar({},[t,n]),r=t.labels||{},l=Object.keys(r),delete t.labels,l.length?l.forEach(function(c){r[c]&&s.push(ar({},[t,r[c],{_key:c}]))}):s.push(t),i=s.reduce(function(c,h){return xe(h.listeners||{},function(d,p){c[p]=c[p]||{},c[p][h._key||SO]=d}),delete h.listeners,c},{}),{labels:s,listeners:i})}function sv(e,t,n,i){if(t){var s=n.$context,r=n.$groups,l;t[r._set]&&(l=t[r._set][r._key],l&&De(l,[s,i])===!0&&(e[Ti]._dirty=!0,n.update(s)))}}function _Y(e,t,n,i,s){var r,l;!n&&!i||(n?i?n!==i&&(l=r=!0):l=!0:r=!0,l&&sv(e,t.leave,n,s),r&&sv(e,t.enter,i,s))}function bY(e,t){var n=e[Ti],i=n._listeners,s,r;if(!(!i.enter&&!i.leave)){if(t.type==="mousemove")r=dd.lookup(n._labels,t);else if(t.type!=="mouseout")return;s=n._hovered,n._hovered=r,_Y(e,i,s,r,t)}}function vY(e,t){var n=e[Ti],i=n._listeners.click,s=i&&dd.lookup(n._labels,t);s&&sv(e,i,s,t)}var xY={id:"datalabels",defaults:mY,beforeInit:function(e){e[Ti]={_actives:[]}},beforeUpdate:function(e){var t=e[Ti];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,n){var i=t.index,s=e[Ti],r=s._datasets[i]=[],l=e.isDatasetVisible(i),c=e.data.datasets[i],h=yY(c,n),d=t.meta.data||[],p=e.ctx,y,_,x,E,T,S,D,I;for(p.save(),y=0,x=d.length;y<x;++y)if(D=d[y],D[Ti]=[],l&&D&&e.getDataVisibility(y)&&!D.skip)for(_=0,E=h.labels.length;_<E;++_)T=h.labels[_],S=T._key,I=new xO(T,p,D,y),I.$groups={_set:i,_key:S||SO},I.$context={active:!1,chart:e,dataIndex:y,dataset:c,datasetIndex:i},I.update(I.$context),D[Ti].push(I),r.push(I);p.restore(),ar(s._listeners,h.listeners,{merger:function(N,H,M){H[N]=H[N]||{},H[N][t.index]=M[N],s._listened=!0}})},afterUpdate:function(e){e[Ti]._labels=dd.prepare(e[Ti]._datasets)},afterDatasetsDraw:function(e){dd.draw(e,e[Ti]._labels)},beforeEvent:function(e,t){if(e[Ti]._listened){var n=t.event;switch(n.type){case"mousemove":case"mouseout":bY(e,n);break;case"click":vY(e,n);break}}},afterEvent:function(e){var t=e[Ti],n=t._actives,i=t._actives=e.getActiveElements(),s=hd.arrayDiff(n,i),r,l,c,h,d,p,y;for(r=0,l=s.length;r<l;++r)if(d=s[r],d[1])for(y=d[0].element[Ti]||[],c=0,h=y.length;c<h;++c)p=y[c],p.$context.active=d[1]===1,p.update(p.$context);(t._dirty||s.length)&&(dd.update(t._labels),e.render()),delete t._dirty}};vi.register(...JW,xY);const Jp=["#4e79a7","#ff9da7","#59a14f","#9c755f","#edc949","#e15759","#76b7b2","#f28e2b","#af7aa1","#bab0ab"],Hk={homeplus:704,nsmall:812},dm=e=>String(e??"").replace(/\s+/g,"").toLowerCase(),qb=e=>dm(e.company)==="homeplus",Hb=e=>["nsmall","n-small"].includes(dm(e.company));function tg(e){const t=[e.request_date,e.open_date,e.created_date,e.designer_start_date,e.designer_end_date];for(const n of t){if(!n)continue;if(typeof(n==null?void 0:n.toDate)=="function")return n.toDate().getTime();if(n instanceof Date)return n.getTime();const i=new Date(n).getTime();if(!Number.isNaN(i))return i}return null}const Wk=e=>e.reduce((t,n)=>t+(+n||0),0);function eg(e){const t=new Map;for(const n of e){const i=n&&String(n).trim()||"기타";t.set(i,(t.get(i)||0)+1)}return Array.from(t,([n,i])=>({name:n,value:i}))}function ng(e){if(!e)return"대기";const t=e.replace(/\s/g,"");return/(진행)/.test(t)?"진행중":/(검수중)/.test(t)?"검수중":/(검수요청)/.test(t)?"검수요청":/(완료)/.test(t)?"완료":/(취소|cancel)/i.test(t)?"취소":/(대기)/.test(t)?"대기":e}const ig=e=>{const t=new Date(e).getDay();return t===0||t===6},Wb=e=>{const t=new Date(e);return`${t.getFullYear()}.${String(t.getMonth()+1).padStart(2,"0")}.${String(t.getDate()).padStart(2,"0")}`};function wY(e){const t=new Date(e),n=t.getDay(),i=n===0?-6:1-n,s=new Date(t);s.setDate(t.getDate()+i);const r=new Date(s);r.setDate(s.getDate()+4);const l=new Date(s.getFullYear(),s.getMonth(),s.getDate()).getTime(),c=new Date(r.getFullYear(),r.getMonth(),r.getDate(),23,59,59,999).getTime();return{start:l,end:c}}function EY(e){const t=new Date(e.getFullYear(),e.getMonth(),1),n=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:t.getTime(),end:n.getTime()}}function Yk(e,t){let n=0,i=new Date(e);for(;i.getTime()<=t;){const s=i.getDay();s>=1&&s<=5&&n++,i.setDate(i.getDate()+1)}return n}function Fx({capacityHoursPerMonth:e}){var St;const t=new Date,[n,i]=j.useState({y:t.getFullYear(),m:t.getMonth()+1}),s=`${n.y}.${String(n.m).padStart(2,"0")}`,[r]=j.useState(new Date),[l,c]=j.useState("day"),[h,d]=j.useState(null),[p,y]=j.useState(""),[_,x]=j.useState(!1),[E,T]=j.useState("homeplus");j.useEffect(()=>{const G=wo(hi,async lt=>{if(!lt){d(null),y(""),x(!0);return}const ht=await Sl(Cn(Yt,"users",lt.uid));if(ht.exists()){const gt=ht.data();d(Number((gt==null?void 0:gt.role)??0)),y(String((gt==null?void 0:gt.company)??""));const vt=dm(gt==null?void 0:gt.company);Number(gt==null?void 0:gt.role)===1&&(vt==="homeplus"||vt==="nsmall"||vt==="n-small")&&T(vt.startsWith("n")?"nsmall":"homeplus")}x(!0)});return()=>G()},[]);const[S,D]=j.useState([]);j.useEffect(()=>{const G=Bi(wn(We(Yt,"design_request")),lt=>{const ht=[];lt.forEach(gt=>ht.push({id:gt.id,...gt.data()})),D(ht)});return()=>G()},[]);const[I,N]=j.useState([]);j.useEffect(()=>{const G=Bi(wn(We(Yt,"users"),en("role","==",2)),lt=>{const ht=[];lt.forEach(gt=>{const vt=gt.data();ht.push({name:String((vt==null?void 0:vt.name)??""),company:String((vt==null?void 0:vt.company)??"")})}),N(ht)});return()=>G()},[]);const H=j.useMemo(()=>{const G=new Date(n.y,n.m-1,1).getTime(),lt=new Date(n.y,n.m,0,23,59,59,999).getTime();return{start:G,end:lt}},[n]),M=j.useMemo(()=>h===1?dm(p).startsWith("n")?"nsmall":"homeplus":E,[h,p,E]),Y=j.useMemo(()=>M==="all"?[]:S.filter(G=>{const lt=tg(G),ht=lt!==null&&lt>=H.start&&lt<=H.end;let gt=!0;return M==="homeplus"?gt=qb(G):M==="nsmall"&&(gt=Hb(G)),ht&&gt}),[S,H,M]),R=j.useMemo(()=>{if(M==="all")return null;const G=Y.length,lt=Y.filter(zt=>ng(zt.status)==="완료").length,ht=Wk(Y.map(zt=>Number(zt.out_work_hour)||0)),gt=M==="homeplus"?e??Hk.homeplus:Hk.nsmall,vt=gt?Math.round(ht/gt*100):0;return{totalRequests:G,producedCount:lt,usedHoursDisplay:ht.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),availHours:gt,usedRatio:vt}},[Y,M,e]),C=j.useMemo(()=>{if(M==="all")return[];const G=eg(Y.map(lt=>lt.task_type||lt.task_type_detail)).sort((lt,ht)=>ht.value-lt.value);return G.length>8?[...G.slice(0,8),{name:"기타",value:G.slice(8).reduce((lt,ht)=>lt+ht.value,0)}]:G},[Y,M]),P=j.useMemo(()=>{if(M==="all")return[];const G=["대기중","진행중","검수중","검수요청중","완료","취소"],lt=eg(Y.map(gt=>ng(gt.status))),ht=new Map(lt.map(gt=>[gt.name,gt.value]));return G.map(gt=>({name:gt,value:ht.get(gt)||0}))},[Y,M]),V=j.useMemo(()=>M==="all"?[]:eg(Y.map(G=>G.task_form)).sort((G,lt)=>lt.value-G.value),[Y,M]),U=j.useMemo(()=>{if(M!=="all")return null;if(l==="day"){const vt=new Date(r.getFullYear(),r.getMonth(),r.getDate()).getTime(),zt=new Date(r.getFullYear(),r.getMonth(),r.getDate(),23,59,59,999).getTime(),Xt=ig(vt)?0:1;return{start:vt,end:zt,workingDays:Xt,label:`${Wb(vt)} (평일만)`}}if(l==="week"){const{start:vt,end:zt}=wY(r),Xt=Yk(vt,zt);return{start:vt,end:zt,workingDays:Xt,label:`${Wb(vt)} ~ ${Wb(zt)} (주중)`}}const{start:G,end:lt}=EY(r),ht=Yk(G,lt),gt=`${r.getFullYear()}.${String(r.getMonth()+1).padStart(2,"0")}`;return{start:G,end:lt,workingDays:ht,label:`${gt} (평일만)`}},[M,l,r]),q=j.useMemo(()=>M!=="all"||!U?[]:S.filter(G=>{const lt=tg(G);return lt!==null&&lt>=U.start&&lt<=U.end&&!ig(lt)}),[S,U,M]),z=j.useMemo(()=>{if(M!=="all"||!U)return null;const G=q.length,lt=q.filter(Xt=>ng(Xt.status)==="완료").length,ht=Wk(q.map(Xt=>Number(Xt.in_work_hour)||0)),vt=I.length*U.workingDays*8,zt=vt?Math.round(ht/vt*100):0;return{totalRequests:G,producedCount:lt,usedHoursDisplay:ht.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),availHours:vt,usedRatio:zt}},[q,I,U,M]),Ct=j.useMemo(()=>{if(M!=="all"||!U)return{labels:[],data:[]};const G=S.filter(gt=>{const vt=tg(gt);return vt!==null&&vt>=U.start&&vt<=U.end&&!ig(vt)}),lt=G.filter(qb).length,ht=G.filter(Hb).length;return{labels:["Homeplus","NSmall"],data:[lt,ht]}},[S,U,M]),Q=j.useMemo(()=>{if(M!=="all"||!U)return{labels:[],hpData:[],nsData:[]};const G=new Map;for(const ht of S){const gt=tg(ht);if(gt===null||gt<U.start||gt>U.end||ig(gt))continue;const vt=ht.assigned_designers&&String(ht.assigned_designers).trim()||"미지정",zt=G.get(vt)||{hp:0,ns:0,total:0};qb(ht)?zt.hp+=1:Hb(ht)&&(zt.ns+=1),zt.total=zt.hp+zt.ns,G.set(vt,zt)}const lt=Array.from(G,([ht,gt])=>({name:ht,...gt})).sort((ht,gt)=>gt.total-ht.total).slice(0,20);return{labels:lt.map(ht=>ht.name),hpData:lt.map(ht=>ht.hp),nsData:lt.map(ht=>ht.ns)}},[S,U,M]),$=j.useRef(null),K=j.useRef(null),ot=j.useRef(null),nt=j.useRef(null),F=j.useRef(null),it=j.useRef(null),at=j.useMemo(()=>{if(M==="all"){const G=["대기","진행중","검수중","검수요청","완료","취소"],lt=eg(q.map(gt=>ng(gt.status))),ht=new Map(lt.map(gt=>[gt.name,gt.value]));return{labels:G,data:G.map(gt=>ht.get(gt)||0)}}else{const G=["대기중","진행중","검수중","검수요청중","완료","취소"];return{labels:P.map(lt=>lt.name),data:P.map(lt=>lt.value),orderFallback:G}}},[M,q,P]);j.useEffect(()=>{var lt,ht,gt;const G=M==="all";if($.current){(lt=vi.getChart($.current))==null||lt.destroy();const vt=G?Ct.labels:C.map(ye=>ye.name),zt=G?Ct.data:C.map(ye=>ye.value),Xt=G?[Jp[0],Jp[1]]:C.map((ye,Pe)=>Jp[Pe%Jp.length]);nt.current=new vi($.current,{type:"doughnut",data:{labels:vt,datasets:[{data:zt,backgroundColor:Xt}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"60%",plugins:{legend:{position:"right"},datalabels:{formatter:(ye,Pe)=>{const En=Pe.dataset.data.reduce((Ze,hr)=>Ze+hr,0),ei=En?ye/En*100:0;return ei>=5?`${ei.toFixed(1)}%`:""},color:"#fff",font:{weight:"bold"}}}}})}return K.current&&((ht=vi.getChart(K.current))==null||ht.destroy(),F.current=new vi(K.current,{type:"bar",data:{labels:at.labels,datasets:[{label:"건수",data:at.data}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:4}},scales:{y:{beginAtZero:!0,ticks:{precision:0,font:{size:14}},grace:"15%"}},plugins:{legend:{display:!1},datalabels:{anchor:"end",align:"end",offset:4,clip:!1,font:{size:14},formatter:vt=>vt>0?vt:""}}}})),ot.current&&((gt=vi.getChart(ot.current))==null||gt.destroy(),G?it.current=new vi(ot.current,{type:"bar",data:{labels:Q.labels,datasets:[{label:"Homeplus",data:Q.hpData,backgroundColor:"rgba(78, 121, 167,.7)",stack:"company"},{label:"NSmall",data:Q.nsData,backgroundColor:"rgba(255,157,167,.6)",stack:"company"}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:4}},scales:{x:{stacked:!0,ticks:{autoSkip:!1,maxRotation:40,minRotation:0}},y:{stacked:!0,beginAtZero:!0,ticks:{precision:0,font:{size:14}},grace:"15%"}},plugins:{legend:{position:"top"},datalabels:{anchor:"end",align:"end",offset:2,clip:!1,font:{size:12},formatter:vt=>vt>0?vt:""}}}}):it.current=new vi(ot.current,{type:"bar",data:{labels:V.map(vt=>vt.name),datasets:[{label:"건수",data:V.map(vt=>vt.value),backgroundColor:"rgba(255,157,167,.6)"}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:4}},scales:{y:{beginAtZero:!0,ticks:{precision:0,font:{size:14}},grace:"15%"}},plugins:{legend:{display:!1},datalabels:{anchor:"end",align:"end",offset:4,clip:!1,font:{size:14},formatter:vt=>vt>0?vt:""}}}})),()=>{var vt,zt,Xt;(vt=nt.current)==null||vt.destroy(),(zt=F.current)==null||zt.destroy(),(Xt=it.current)==null||Xt.destroy()}},[M,C,Ct,at,V,Q]);const ut=h===1,yt=M==="all"?z:R;return v.jsxs(SY,{children:[v.jsxs(TY,{children:[_&&!ut&&v.jsxs(AY,{children:[v.jsx(Yb,{$active:M==="homeplus",onClick:()=>T("homeplus"),children:"Homeplus"}),v.jsx(Yb,{$active:M==="nsmall",onClick:()=>T("nsmall"),children:"NSmall"}),v.jsx(Yb,{$active:M==="all",onClick:()=>T("all"),children:"전체"})]}),M!=="all"?v.jsxs(kY,{children:[v.jsx(Gk,{value:n.y,onChange:G=>i(lt=>({...lt,y:Number(G.target.value)})),children:Array.from({length:5}).map((G,lt)=>{const ht=t.getFullYear()-2+lt;return v.jsxs("option",{value:ht,children:[ht,"년"]},ht)})}),v.jsx(Gk,{value:n.m,onChange:G=>i(lt=>({...lt,m:Number(G.target.value)})),children:Array.from({length:12}).map((G,lt)=>v.jsxs("option",{value:lt+1,children:[lt+1,"월"]},lt+1))}),v.jsxs("span",{className:"range",children:[s," 범위"]})]}):v.jsxs(RY,{children:[v.jsx(Gb,{$active:l==="day",onClick:()=>c("day"),children:"일"}),v.jsx(Gb,{$active:l==="week",onClick:()=>c("week"),children:"주"}),v.jsx(Gb,{$active:l==="month",onClick:()=>c("month"),children:"월"}),v.jsx("span",{className:"range",children:U==null?void 0:U.label})]})]}),v.jsxs(CY,{children:[v.jsxs(Nh,{children:[v.jsx(Lh,{children:"총 요청건수(건)"}),v.jsx(jh,{children:(yt==null?void 0:yt.totalRequests)??0})]}),v.jsxs(Nh,{children:[v.jsx(Lh,{children:"실 제작건수(건)"}),v.jsx(jh,{children:(yt==null?void 0:yt.producedCount)??0})]}),v.jsxs(Nh,{children:[v.jsx(Lh,{children:"사용공수"}),v.jsx(jh,{children:(yt==null?void 0:yt.usedHoursDisplay)??"0.00"})]}),v.jsxs(Nh,{children:[v.jsx(Lh,{children:"가용공수"}),v.jsx(jh,{children:((St=yt==null?void 0:yt.availHours)==null?void 0:St.toLocaleString())??"0"})]}),v.jsxs(Nh,{children:[v.jsx(Lh,{children:"사용공수비율"}),v.jsx(jh,{children:yt!=null&&yt.usedRatio?`${yt.usedRatio}%`:"0%"})]})]}),v.jsxs(DY,{children:[v.jsx(MY,{$compact:M==="all",children:v.jsxs(OY,{children:[v.jsx(Kb,{children:M==="all"?"회사별 분포 (일/주/월 기준, 평일)":"업무유형별 분포현황"}),v.jsx(Xb,{$h:400,children:v.jsx("canvas",{ref:$})})]})}),v.jsxs(IY,{$compact:M==="all",children:[v.jsxs(Kk,{children:[v.jsx(Kb,{children:M==="all"?"디자이너별 배정 건수 (회사 스택)":"업무형태현황 (task_form)"}),v.jsx(Xb,{$h:180,children:v.jsx("canvas",{ref:ot})})]}),v.jsxs(Kk,{children:[v.jsx(Kb,{children:"진행현황 (status)"}),v.jsx(Xb,{$h:180,children:v.jsx("canvas",{ref:K})})]})]})]})]})}const SY=B.div`font-family: 'Pretendard';`,TY=B.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  padding: 24px 0 30px;
`,AY=B.div`display:flex; gap:8px;`,Yb=B.button`
  padding: 11.5px 10px; border-radius: 4px; font-family: 'Pretendard';
  font-size: 16px; font-weight: 400;
  background-color: ${({theme:e,$active:t})=>t?e.colors.black:e.colors.white01};
  color: ${({theme:e,$active:t})=>t?e.colors.white01:e.colors.black};
  border: 1px solid ${({theme:e})=>e.colors.black};
`,kY=B.div`
  display:flex; align-items:center; gap:8px; margin-left:auto;
`,Gk=B.select`
  appearance:none; width:150px; height: 48px; margin-right:8px; padding:0 12px;
  border:1px solid ${({theme:e})=>e.colors.gray02}; border-radius:4px;
  font-family:'Pretendard'; font-size:16px; font-weight:400; color:${({theme:e})=>e.colors.black};
  background:${({theme:e})=>e.colors.white01} url(${wx}) no-repeat right 12px center / 16px 16px;
  &:focus { outline:none; border-color:${({theme:e})=>e.colors.black}; }
`,RY=B.div`
  display:flex; align-items:center; gap:8px; margin-left:auto;
  .range { margin-left:12px; color:#667085; font-size:14px; }
`,Gb=B.button`
  padding:10px 14px; border-radius:8px; font-family:'Pretendard'; font-size:15px;
  background:${({$active:e})=>e?"#111":"#fff"};
  color:${({$active:e})=>e?"#fff":"#111"};
  border:1px solid #111; transition:all .15s ease;
`,CY=B.ul`display:flex; gap:14px; margin-bottom:16px;`,Nh=B.li`flex:1; padding:14px; border:1px solid #e8ecf3; border-radius:14px; background:#f7f9fc;`,Lh=B.h3`color:#9aa4b2; font-size:12px; margin-bottom:8px;`,jh=B.strong`font-size:32px; font-weight:800;`,DY=B.div`display:flex; gap:16px;`,MY=B.div`
  flex: 0 0 ${({$compact:e})=>e?"38%":"50%"};
`,IY=B.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
  flex: 1 1 ${({$compact:e})=>e?"62%":"50%"};
`,TO=B.div`background:#fff; border:1px solid #e8ecf3; border-radius:16px; padding:16px; height:100%;`,OY=B(TO)``,Kk=B(TO)``,Kb=B.h3`margin:0 0 10px; font-size:15px; color:#666;`,Xb=B.div`position:relative; width:100%; height:${({$h:e})=>`${e}px`};`,PY=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],NY=e=>[...e||""].map(t=>{const n=t.charCodeAt(0);if(n>=44032&&n<=55203){const i=Math.floor((n-44032)/28/21);return PY[i]}return t}).join("");function Bx(e){const t=r=>r==null?"":String(r).toLowerCase(),n={id:t(e.design_request_id),requirement:t(e.requirement)},i=Object.values(n).join(" "),s=NY(n.requirement);return{...e,_index:{plain:i,chosung:s}}}function $x(e,t){if(!t)return!0;const n=t.toLowerCase();return e._index.plain.includes(n)||e._index.chosung.includes(n)}const LY="진행 상태 선택",jY=e=>{const t=(e??"").trim();if(!t)return[];const n=t.toLowerCase(),i=t.toUpperCase(),s=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase();return Array.from(new Set([t,n,i,s]))};function VY({view:e,userRole:t,setIsDrawerOpen:n,setEditData:i,setDetailData:s}){const[r,l]=j.useState(""),[c,h]=j.useState(""),[d,p]=j.useState([]),[y,_]=j.useState("진행 상태 선택"),[x,E]=j.useState({start:null,end:null}),[T,S]=j.useState(""),[D,I]=j.useState(""),N=e==="allrequestlist";j.useEffect(()=>{const K=wo(hi,async ot=>{if(!ot)return;ot.displayName&&l(ot.displayName);const nt=Cn(Yt,"users",ot.uid),F=await Sl(nt);if(F.exists()){const it=F.data();h(((it==null?void 0:it.company)??"").trim())}else h("")});return()=>K()},[]),j.useEffect(()=>{if(p([]),!(e==="dashboard"||e==="inworkhour")){if(e==="myrequestlist"){if(!r)return;const K=wn(We(Yt,"design_request"),en("requester","==",r),Lc("design_request_id","desc")),ot=Bi(K,nt=>{const F=nt.docs.map(it=>({id:it.id,...it.data()}));p(F)});return()=>ot()}if(e==="allrequestlist"){if(!c)return;const K=jY(c),ot=We(Yt,"design_request"),nt=new Map,F=[],it=()=>{const at=Array.from(nt.values()).sort((ut,yt)=>{const St=String(ut.design_request_id??"");return String(yt.design_request_id??"").localeCompare(St,"en",{numeric:!0})});p(at)};return K.forEach(at=>{const ut=wn(ot,en("company","==",at),Lc("design_request_id","desc")),yt=Bi(ut,St=>{St.docs.forEach(G=>{nt.set(G.id,{id:G.id,...G.data()})}),it()});F.push(yt)}),()=>F.forEach(at=>at())}}},[e,c,r]);const H=K=>E(K),M=K=>_(K),Y=K=>I(K),R=K=>K==="검수요청"?"진행중":K,C=K=>new Date(K.getFullYear(),K.getMonth(),K.getDate()),P=K=>{if(!K)return null;if(typeof K=="object"&&typeof K.toDate=="function")return C(K.toDate());if(K instanceof Date)return C(K);if(typeof K=="number")return C(new Date(K));if(typeof K=="string"){const nt=K.replace(/\./g,"-").replace(/\//g,"-").split("-");if(nt.length===3){const[it,at,ut]=nt.map(Number),yt=it>31?it:new Date().getFullYear();return new Date(yt,at-1,ut)}if(nt.length===2){const[it,at]=nt.map(Number),ut=new Date().getFullYear();return new Date(ut,it-1,at)}const F=new Date(K);return isNaN(+F)?null:C(F)}return null},V=j.useMemo(()=>d.map(K=>{const ot=R(K.status);return Bx({...K,displayStatus:ot})}),[d]),U=j.useMemo(()=>{const K=x.start?C(x.start):null,ot=x.end?C(x.end):null,nt=D.trim();return V.filter(F=>{if(y!==LY&&F.displayStatus!==y)return!1;if(K&&ot){const it=P(F.request_date)||P(F.requested_at)||P(F.requestDate);if(!it||it<K||it>ot)return!1}return!!$x(F,nt)})},[V,y,x,D]),q=(K,ot)=>{const nt=d.find(F=>F.id===K);return!(!nt||e==="allrequestlist"&&nt.requester!==r||nt.status==="완료"||nt.status==="취소"||nt.manager_review_status==="검수완료"&&ot!=="review")},z=async K=>{q(K,"review")&&(await ys(Cn(Yt,"design_request",K),{status:"완료",requester_review_status:"검수완료"}),p(ot=>ot.map(nt=>nt.id===K?{...nt,status:"완료",requester_review_status:"검수완료"}:nt)),alert("완료 처리되었습니다."))},Ct=async K=>{if(!q(K,"edit"))return;const ot=Cn(Yt,"design_request",K);await ys(ot,{requester_edit_state:!0});const nt=await Sl(ot);if(nt.exists()){const F={id:nt.id,...nt.data()};i(F),n(!0)}},Q=K=>{s(K),n(!0)},$=async K=>{if(!q(K,"cancel"))return;const ot=d.find(F=>F.id===K);if(window.confirm(`문서번호 ${(ot==null?void 0:ot.design_request_id)??""} 요청을 취소하시겠습니까?`))try{await ys(Cn(Yt,"design_request",K),{status:"취소"}),p(F=>F.map(it=>it.id===K?{...it,status:"취소"}:it))}catch(F){console.error(F),alert("취소 처리 중 오류가 발생했습니다. 다시 시도해 주세요.")}};return v.jsxs(v.Fragment,{children:[v.jsx(xx,{userRole:t}),e==="dashboard"&&v.jsx(UY,{children:v.jsx(Fx,{capacityHoursPerMonth:704})}),e==="allrequestlist"&&v.jsxs(Xk,{children:[v.jsx(Cd,{roleNumber:1,onApplyStatus:M,onApplyRange:H,onSearch:Y,keyword:T,onKeywordChange:S}),v.jsx(lA,{data:U,disableActions:!1,lockOthers:N,currentUserName:r,onReviewComplete:z,onCancel:$,onEditClick:Ct,onDetailClick:Q})]}),e==="myrequestlist"&&v.jsxs(Xk,{children:[v.jsx(Cd,{roleNumber:1,onApplyStatus:M,onApplyRange:H,onSearch:Y,keyword:T,onKeywordChange:S}),v.jsx(lA,{data:U,disableActions:!1,onReviewComplete:z,onCancel:$,onEditClick:Ct,onDetailClick:Q})]})]})}const Xk=B.div`
  padding: 0 48px;
`,UY=B.div`
  max-height: 766px;
  padding: 0 48px;
  overflow: auto;
`;function zY({index:e,item:t,row:n,onChange:i,onSave:s,onDetailClick:r,disableActions:l}){const c=_=>{if(!_)return"-";if(_.toDate){const x=_.toDate();return`${x.getMonth()+1}/${x.getDate()}`}return _},h=_=>_==="검수중"?"검수요청":_??"대기",d=_=>_,p=h(n.status),y=_=>{_.stopPropagation(),r(t)};return v.jsxs(FY,{isCanceled:t.status==="취소",children:[v.jsx(gs,{children:e}),v.jsx(gs,{children:v.jsx(YY,{onClick:y,$hasUpdate:!!t.updated_date,children:t.design_request_id})}),v.jsx(gs,{children:t.company}),v.jsx(gs,{children:c(t.request_date)}),v.jsx(BY,{children:c(t.completion_date)}),v.jsx($Y,{children:c(t.open_date)}),v.jsx(gs,{children:t.merchandiser}),v.jsx(gs,{children:t.requester}),v.jsx(gs,{children:t.task_form}),v.jsx(qY,{children:v.jsxs(GY,{children:[v.jsx(KY,{children:t.task_type}),v.jsx(XY,{children:t.task_type_detail})]})}),v.jsx(HY,{children:v.jsxs(QY,{children:[t.emergency?v.jsx(AO,{children:"긴급"}):"",v.jsx(ZY,{onClick:y,children:t.requirement})]})}),v.jsx(gs,{children:v.jsx(JY,{href:t.url,target:"_blank"})}),v.jsx(WY,{children:v.jsx(tG,{onClick:y,children:t.note||""})}),v.jsx(Qk,{children:v.jsx(Zk,{type:"date",value:n.start_dt??"",onChange:_=>i(t.id,"start_dt",_.target.value),disabled:l||t.status==="취소"||t.status==="완료"})}),v.jsx(Qk,{children:v.jsx(Zk,{type:"date",value:n.end_dt??"",onChange:_=>i(t.id,"end_dt",_.target.value),disabled:l||t.status==="취소"||t.status==="완료"})}),v.jsx(gs,{children:v.jsx(eG,{type:"text",value:n.result_url??"",placeholder:"산출물 URL을 입력해주세요.",onChange:_=>i(t.id,"result_url",_.target.value),disabled:l||t.status==="취소"||t.status==="완료"})}),v.jsx(gs,{children:v.jsxs("select",{value:p,onChange:_=>i(t.id,"status",d(_.target.value)),disabled:l||t.status==="취소"||t.status==="완료",children:[v.jsx("option",{value:"대기",children:"대기"}),v.jsx("option",{value:"진행중",children:"진행중"}),v.jsx("option",{value:"검수요청",children:"검수요청"}),v.jsx("option",{value:"완료",disabled:!0,children:"완료"}),v.jsx("option",{value:"취소",disabled:!0,children:"취소"})]})}),v.jsx(gs,{children:v.jsx(kO,{onClick:()=>s(t.id),disabled:l||t.status==="취소"||t.status==="완료",children:"저장"})})]})}const FY=B.tr`
  ${({isCanceled:e})=>e&&`
      td {
        color: #888;
        background-color: #f4f4f4;
      }
    `}
  
  ${({isCanceled:e,theme:t})=>e&&`
      ${AO} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
      }
      ${kO} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
        border-color: ${t.colors.gray06};
        cursor: default;
        pointer-events: none;
      }
    `}
  & td {
    font-family: 'Pretendard';
    font-size: 14px;
    font-weight: 500;
  }

  &:hover {
    td, input, select {
      background-color: ${({theme:e})=>e.colors.gray04}
    }
  }
`,gs=B.td`
  padding: 11px 0;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }
`,BY=B.td`
  color: ${({theme:e})=>e.colors.red};
`,$Y=B.td`
  color: ${({theme:e})=>e.colors.blue02};
`,qY=B.td`
  padding: 15px 12px;
  line-height: 15px;
`,HY=B.td`
  line-height: 15px;
  text-align: left;
`,WY=B.td`
  line-height: 15px;
  padding: 0 12px;
  border-right: 1px solid ${({theme:e})=>e.colors.black};
  text-align: left;
  background-color: #fffff1;

`,Qk=B.td`
  padding: 0 6px;
`,YY=B.span`
  position: relative;

  &::after {
    content: '';
    position: absolute;
    top: -5px;
    right: -2px;
    display: ${({$hasUpdate:e})=>e?"block":"none"};
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background-color: ${({theme:e})=>e.colors.red};
  }

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,GY=B.div`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`,KY=B.span`
  white-space: nowrap;
`,XY=B.span`
  
`,QY=B.div`
  ${({theme:e})=>e.mixin.flex("center")};
  padding: 0 12px;
`,AO=B.span`
  margin-right: 5px;
  padding: 3px 5px;
  border-radius: 2px;
  font-size: 10px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.red};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,ZY=B.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,JY=B.a`
  display: inline-block;
  vertical-align: middle;
  width: 24px;
  height: 24px;
  background: url(${vx}) no-repeat center / contain;
`,tG=B.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,Zk=B.input.attrs({type:"date"})`
  width: 100%;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 500;
`,eG=B.input`
  width: 100%;
  padding: 0 12px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 500;
`,kO=B.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`;function Jk({requests:e,onChange:t,formData:n,onSave:i,onDetailClick:s,disableActions:r,lockOthers:l=!1,currentDesignerName:c=""}){return v.jsx(nG,{children:v.jsxs(iG,{children:[v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"40px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"140px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"80px"}})]}),v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx(Un,{children:"번호"}),v.jsx(Un,{children:"문서번호"}),v.jsx(Un,{children:"회사"}),v.jsx(Un,{children:"요청일"}),v.jsxs(Un,{children:["완료",v.jsx("br",{}),"요청일"]}),v.jsx(Un,{children:"오픈일"}),v.jsx(Un,{children:"담당 MD"}),v.jsx(Un,{children:"요청자"}),v.jsx(Un,{children:"업무부서"}),v.jsx(Un,{children:"업무유형"}),v.jsx(Un,{children:"작업항목"}),v.jsxs(Un,{children:["요청서",v.jsx("br",{}),"URL"]}),v.jsx(Un,{children:"메모"}),v.jsx(Un,{children:"디자인 시작일"}),v.jsx(Un,{children:"디자인 종료일"}),v.jsx(Un,{children:"산출물 링크"}),v.jsx(Un,{children:"진행상태"}),v.jsx(Un,{children:"저장"})]})}),v.jsx("tbody",{children:e.length>0?e.map((h,d)=>{const p=Array.isArray(h.assigned_designers)?h.assigned_designers.includes(c):h.assigned_designer===c,y=r||l&&!p;return v.jsx(zY,{index:d+1,item:h,row:n[h.id]??{},onChange:t,onSave:i,onDetailClick:s,disableActions:y},h.id)}):v.jsx("tr",{children:v.jsx("td",{colSpan:16,style:{textAlign:"center"},children:"배정된 요청이 없습니다."})})})]})})}const nG=B.div`
  position: relative;
  max-height: 535px;
  border-top: 2px solid ${({theme:e})=>e.colors.black};
  overflow-y: auto;
  scrollbar-width: thin;
`,iG=B.table`
  table-layout: fixed;
  width: 100%;
  text-align: center;
`,Un=B.th`
  position: sticky;
  top: -2px;
  line-height: 16px;
  padding: 13px 0;
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.gray08};
  z-index: 10;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(13) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }

  &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17) {
    border-right: 1px solid ${({theme:e})=>e.colors.pink02}
  }

  &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17), &:nth-of-type(18) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`,sG="진행 상태 선택",tR="회사 선택",eR="홈돌이";function rG({view:e,userRole:t,setIsDrawerOpen:n,setDetailData:i}){const[s,r]=j.useState([]),[l,c]=j.useState(""),[h,d]=j.useState({}),[p,y]=j.useState("진행 상태 선택"),[_,x]=j.useState({start:null,end:null}),[E,T]=j.useState([]),[S,D]=j.useState(tR),[I,N]=j.useState(""),[H,M]=j.useState(""),Y=e==="allrequestlist";j.useEffect(()=>{const G=wo(hi,lt=>{lt!=null&&lt.displayName&&c(lt.displayName)});return()=>G()},[]),j.useEffect(()=>{if(!l)return;if(e==="dashboard"||e==="inworkhour"){r([]);return}if(e==="allrequestlist"){const ye=wn(We(Yt,"design_request"),Lc("design_request_id","desc")),Pe=Bi(ye,En=>{r(En.docs.map(ei=>({id:ei.id,...ei.data()})))});return()=>Pe()}const G=wn(We(Yt,"design_request"),en("assigned_designers","array-contains",l),Lc("design_request_id","desc")),lt=wn(We(Yt,"design_request"),en("assigned_designer","==",l),Lc("design_request_id","desc"));let ht=[],gt=[];const vt=()=>{const ye=new Map;[...ht,...gt].forEach(En=>ye.set(En.id,En));const Pe=[...ye.values()].sort((En,ei)=>String(ei.design_request_id??"").localeCompare(String(En.design_request_id??"")));r(Pe)},zt=Bi(G,ye=>{ht=ye.docs.map(Pe=>({id:Pe.id,...Pe.data()})),vt()}),Xt=Bi(lt,ye=>{gt=ye.docs.map(Pe=>({id:Pe.id,...Pe.data()})),vt()});return()=>{zt(),Xt()}},[l,e]),j.useEffect(()=>{const G=Bi(We(Yt,"users"),lt=>{const ht=new Set;lt.forEach(gt=>{const vt=String(gt.data().company??"").trim();vt&&ht.add(vt)}),T(Array.from(ht).sort())});return()=>G()},[]);const R=G=>x(G),C=G=>y(G),P=G=>D(G),V=G=>new Date(G.getFullYear(),G.getMonth(),G.getDate()),U=G=>{if(!G)return null;if(typeof G=="object"&&typeof G.toDate=="function")return V(G.toDate());if(G instanceof Date)return V(G);if(typeof G=="number")return V(new Date(G));if(typeof G=="string"){const ht=G.replace(/\./g,"-").replace(/\//g,"-").split("-");if(ht.length===3){const[vt,zt,Xt]=ht.map(Number),ye=vt>31?vt:new Date().getFullYear();return new Date(ye,zt-1,Xt)}if(ht.length===2){const[vt,zt]=ht.map(Number),Xt=new Date().getFullYear();return new Date(Xt,vt-1,zt)}const gt=new Date(G);return isNaN(+gt)?null:V(gt)}return null},q=G=>{const lt=G.getFullYear(),ht=String(G.getMonth()+1).padStart(2,"0"),gt=String(G.getDate()).padStart(2,"0");return`${lt}-${ht}-${gt}`},z=G=>{if(!G)return"";if(typeof G=="object"&&typeof G.toDate=="function")return q(G.toDate());if(G instanceof Date)return q(G);const lt=new Date(G);return isNaN(+lt)?"":q(lt)},Ct=j.useMemo(()=>s.map(G=>({...G,designer_start_date:z(G.designer_start_date),designer_end_date:z(G.designer_end_date),result_url:G.result_url??"",status:G.status??"대기"})),[s]),Q=G=>G==="검수중"?"검수요청":G??"대기",$=j.useMemo(()=>Ct.map(G=>{const lt=Q(G.status);return Bx({...G,displayStatus:lt})}),[Ct]),K=G=>Array.isArray(G.assigned_designers)?G.assigned_designers.filter(Boolean).map(lt=>lt.trim()):G.assigned_designer?[String(G.assigned_designer).trim()]:[],ot=(G,lt)=>{if(lt!==eR)return!0;const ht=K(G);return ht.includes(eR)&&ht.length===1},nt=j.useMemo(()=>{const G=_.start?V(_.start):null,lt=_.end?V(_.end):null;return $.filter(ht=>{let gt=!0;if(gt&&!ot(ht,l)&&(gt=!1),gt&&p&&p!==sG&&Q(ht.status)!==p&&(gt=!1),gt&&S!==tR&&String(ht.company)!==S&&(gt=!1),gt&&G&&lt){const vt=U(ht.request_date)||U(ht.requested_at)||U(ht.requestDate);(!vt||vt<G||vt>lt)&&(gt=!1)}return gt&&H&&!$x(ht,H)&&(gt=!1),gt})},[$,p,S,_,H]),F=G=>M(G);j.useEffect(()=>{s.length&&d(G=>{const lt={...G};return s.forEach(ht=>{lt[ht.id]===void 0&&(lt[ht.id]={start_dt:z(ht.designer_start_date),end_dt:z(ht.designer_end_date),result_url:ht.result_url||"",status:ht.status||"대기"})}),lt})},[s]);const it=(G,lt,ht)=>{d(gt=>({...gt,[G]:{...gt[G],[lt]:ht}}))},at=G=>{if(!G)return null;const lt=new Date(G);return isNaN(+lt)?null:Oe.fromDate(lt)},ut=G=>{const lt=s.find(gt=>gt.id===G);if(!lt||lt.status==="완료"||lt.status==="취소")return!1;const ht=Array.isArray(lt.assigned_designers)?lt.assigned_designers.includes(l):lt.assigned_designer===l;return!(e==="allrequestlist"&&!ht)},yt=async G=>{if(!ut(G))return;const lt=h[G];if(!lt){alert("변경된 내용이 없습니다.");return}await ys(Cn(Yt,"design_request",G),{designer_start_date:at(lt.start_dt),designer_end_date:at(lt.end_dt),result_url:lt.result_url??"",status:lt.status??"대기"}),alert("저장되었습니다.")},St=G=>{i(G),n(!0)};return v.jsxs(aG,{children:[v.jsx(xx,{userRole:t}),e==="allrequestlist"&&v.jsxs(nR,{children:[v.jsx(Cd,{roleNumber:2,onApplyStatus:C,onApplyRange:R,onSearch:F,keyword:I,onKeywordChange:N,companyOptions:E,onApplyCompany:P}),v.jsx(Jk,{requests:nt,formData:h,onChange:it,onSave:yt,onDetailClick:St,disableActions:!1,lockOthers:Y,currentDesignerName:l})]}),e==="myrequestlist"&&v.jsxs(nR,{children:[v.jsx(Cd,{roleNumber:2,onApplyStatus:C,onApplyRange:R,onSearch:F,keyword:I,onKeywordChange:N,companyOptions:E,onApplyCompany:P}),v.jsx(Jk,{requests:nt,formData:h,onChange:it,onSave:yt,onDetailClick:St,disableActions:!1})]}),e==="dashboard"&&v.jsx(oG,{children:v.jsx(Fx,{capacityHoursPerMonth:704})})]})}const aG=B.div``,nR=B.div`
  padding: 0 48px;
`,oG=B.div`
  max-height: 766px;
  padding: 0 48px;
  overflow: auto;
`;function lG({index:e,item:t,designerList:n,selectedDesigners:i,onDesignerSelect:s,onAssignDesigner:r,onUnassignDesigner:l,onSendToRequester:c,onDetailClick:h,workHourValue:d,onChangeWorkHour:p,onSaveWorkHour:y,onStartEditWorkHour:_,onCancelEditWorkHour:x}){const T=(R=>R==="검수요청"?"검수중":R==="검수중"?"검수요청":R)(t.status),S=R=>{if(!R)return"-";if(R.toDate){const C=R.toDate();return`${C.getMonth()+1}/${C.getDate()}`}return R},D=R=>{R.stopPropagation(),h(t)},I=!!t.work_hour_edit_state,N=t.status==="취소"||t.status==="완료",H=j.useCallback(R=>{const C=R.relatedTarget;(!C||!R.currentTarget.contains(C))&&x()},[x]),M=Array.isArray(t.assigned_designers)?t.assigned_designers:t.assigned_designer?[t.assigned_designer]:[],Y=R=>{const C=R.target.value;s(C?[C]:[])};return v.jsxs(cG,{isCanceled:t.status==="취소",children:[v.jsx(bi,{children:e}),v.jsx(bi,{children:v.jsx(gG,{onClick:D,$hasUpdate:!!t.updated_date,children:t.design_request_id})}),v.jsx(bi,{children:t.company}),v.jsx(bi,{children:S(t.request_date)}),v.jsx(uG,{children:S(t.completion_date)}),v.jsx(hG,{children:S(t.open_date)}),v.jsx(bi,{children:t.merchandiser}),v.jsx(bi,{children:t.requester}),v.jsx(bi,{children:t.task_form}),v.jsx(dG,{children:v.jsxs(mG,{children:[v.jsx(yG,{children:t.task_type}),v.jsx(_G,{children:t.task_type_detail})]})}),v.jsx(fG,{children:v.jsxs(bG,{children:[t.emergency?v.jsx(RO,{children:"긴급"}):"",v.jsx(vG,{onClick:D,children:t.requirement})]})}),v.jsx(bi,{children:v.jsx(iR,{href:t.url,target:"_blank"})}),v.jsx(pG,{children:v.jsx(xG,{onClick:D,children:t.note||""})}),v.jsx(bi,{children:v.jsx(wG,{status:T,children:T})}),v.jsx(bi,{children:t.result_url?v.jsx(iR,{href:t.result_url,target:"_blank"}):""}),v.jsx(bi,{children:S(t.designer_start_date)}),v.jsx(bi,{children:S(t.designer_end_date)}),v.jsxs(bi,{children:[M.length>0&&v.jsx(CG,{children:M.map(R=>v.jsxs(DG,{children:[R,v.jsx(MG,{type:"button",onClick:()=>{N||l(R)},disabled:N,"aria-label":`${R} 배정 해제`,children:"×"})]},R))}),v.jsxs(IG,{children:[v.jsxs(EG,{value:i[0]??"",onChange:Y,disabled:N,children:[v.jsx("option",{value:"",children:"선택"}),"      ",n.map(R=>{const C=R.name,P=M.includes(C);return v.jsxs("option",{value:C,disabled:P,children:[C,P?" (배정됨)":""]},R.id)})]}),v.jsx(CO,{onClick:r,disabled:N||i.length===0,children:"배정"})]})]}),v.jsx(bi,{children:t.status==="검수요청"&&t.manager_review_status!=="검수완료"?v.jsx(DO,{onClick:c,children:"검수완료"}):t.manager_review_status==="검수완료"?v.jsx(SG,{children:"검수완료"}):""}),v.jsx(bi,{children:I?v.jsxs(RG,{tabIndex:-1,onBlur:H,children:[v.jsx(TG,{type:"text",placeholder:"공수 입력",value:d,onChange:R=>p(R.target.value),onClick:R=>R.stopPropagation(),disabled:N,autoFocus:!0}),v.jsx(AG,{type:"button",onClick:R=>{R.stopPropagation(),!N&&y()},disabled:N,children:"수정"})]}):t.out_work_hour!=null?v.jsx(kG,{tabIndex:0,onClick:R=>{R.stopPropagation(),!N&&_()},onKeyDown:R=>{N||(R.key==="Enter"||R.key===" ")&&(R.preventDefault(),_())},children:t.out_work_hour}):null})]})}const cG=B.tr`
  ${({isCanceled:e})=>e&&`
      td {
        color: #888;
        background-color: #f4f4f4;
      }
    `}
  
  ${({isCanceled:e,theme:t})=>e&&`
      ${RO} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
      }
      ${DO}, ${CO} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
        border-color: ${t.colors.gray06};
        cursor: default;
        pointer-events: none;
      }
    `}
  & td {
    font-family: 'Pretendard';
    font-size: 14px;
    font-weight: 500;
  }

  &:hover {
    td {
      background-color: ${({theme:e})=>e.colors.gray04}
    }
  }
`,bi=B.td`
  padding: 11px 0;
 
  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(14) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }
`,uG=B.td`
  color: ${({theme:e})=>e.colors.red};
`,hG=B.td`
  color: ${({theme:e})=>e.colors.blue02};
`,dG=B.td`
  padding: 15px 12px;
  line-height: 15px;
`,fG=B.td`
  line-height: 15px;
  text-align: left;
`,pG=B.td`
  line-height: 15px;
  padding: 0 12px;
  text-align: left;
  background-color: #fffff1;
`,gG=B.span`
  position: relative;

  &::after {
    content: '';
    position: absolute;
    top: -5px;
    right: -2px;
    display: ${({$hasUpdate:e})=>e?"block":"none"};
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background-color: ${({theme:e})=>e.colors.red};
  }

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,mG=B.div`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`,yG=B.span`
  white-space: nowrap;
`,_G=B.span``,bG=B.div`
  ${({theme:e})=>e.mixin.flex("center")};
  padding: 0 12px;
`,RO=B.span`
  margin-right: 5px;
  padding: 3px 5px;
  border-radius: 2px;
  font-size: 10px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.red};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,vG=B.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,iR=B.a`
  display: inline-block;
  vertical-align: middle;
  width: 24px;
  height: 24px;
  background: url(${vx}) no-repeat center / contain;
`,xG=B.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,wG=B.span`
  border-radius: 14px;
  padding: 5.5px 12px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 400;
  color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.orange;case"진행중":return t.colors.blue02;case"검수요청":return t.colors.red;case"검수중":return t.colors.red;case"완료":return t.colors.gray06;default:return t.colors.gray06}}};
  background-color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.beige02;case"진행중":return t.colors.lightpupple;case"검수요청":return t.colors.pink03;case"검수중":return t.colors.pink03;case"완료":return t.colors.white02;default:return t.colors.gray07}}};;
`,CO=B.button`
  margin-left:10px;
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};

  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`,EG=B.select`
  width: 90px;
  padding: 6px;
  border: 1px solid #ccc;
  border-radius: 4px;
`,DO=B.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
`,SG=B.span`
  color: green;
  font-size: 13px;
  font-weight: bold;
`,TG=B.input`
  width: 40px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;

  &::placeholder {
    font-size: 11px;
  }
`,AG=B.button`
  margin: 6px 0 0 10px;
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
`,kG=B.span`
  display: inline-block;
  min-width: 24px;
  padding: 2px 6px;
  border-radius: 4px;
  cursor: pointer;
  user-select: none;
  &:hover {
    text-decoration: underline;
    font-weight: 600;
  }
`,RG=B.div`
  display: inline-flex;
  align-items: center;
  gap: 8px;
`,CG=B.div`
  display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 6px; justify-content: center;
`,DG=B.span`
  display: inline-flex; align-items: center; gap: 6px;
  background: #f2f4f7; border: 1px solid #d0d5dd; border-radius: 12px; padding: 2px 8px; font-size: 12px;
`,MG=B.button`
  border: none; background: transparent; font-size: 14px; line-height: 1; cursor: pointer; color: #666;
  &:disabled { color: #bbb; cursor: default; }
`,IG=B.div` display: flex; align-items: center; justify-content: center; `;function OG({data:e,designerList:t,selectedDesigners:n,designerSelect:i,assignDesigner:s,unassignDesigner:r,sendToRequester:l,onDetailClick:c,workHours:h,onChangeWorkHour:d,onSaveWorkHour:p,onStartEditWorkHour:y,onCancelEditWorkHour:_}){return v.jsx(PG,{children:v.jsxs(NG,{children:[v.jsx(LG,{children:"매니저 요청 리스트"}),v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"40px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"140px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"160px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"110px"}})]}),v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx(pn,{children:"번호"}),v.jsx(pn,{children:"문서번호"}),v.jsx(pn,{children:"회사"}),v.jsx(pn,{children:"요청일"}),v.jsxs(pn,{children:["완료",v.jsx("br",{}),"요청일"]}),v.jsx(pn,{children:"오픈일"}),v.jsx(pn,{children:"담당 MD"}),v.jsx(pn,{children:"요청자"}),v.jsx(pn,{children:"업무부서"}),v.jsx(pn,{children:"업무형태"}),v.jsx(pn,{children:"작업항목"}),v.jsxs(pn,{children:["요청서",v.jsx("br",{}),"URL"]}),v.jsx(pn,{children:"메모"}),v.jsx(pn,{children:"진행상태"}),v.jsxs(pn,{children:["산출물",v.jsx("br",{}),"URL"]}),v.jsxs(pn,{children:["디자인",v.jsx("br",{}),"시작일"]}),v.jsxs(pn,{children:["디자인",v.jsx("br",{}),"종료일"]}),v.jsx(pn,{children:"디자이너 배정"}),v.jsx(pn,{children:"검수"}),v.jsx(pn,{children:"공수"})]})}),v.jsx("tbody",{children:e.length>0?e.map((x,E)=>v.jsx(lG,{index:E+1,item:x,designerList:t,selectedDesigners:n[x.id]||[],onDesignerSelect:T=>i(x.id,T),onAssignDesigner:()=>s(x.id),onUnassignDesigner:T=>r(x.id,T),onSendToRequester:()=>l(x.id),onDetailClick:c,workHourValue:h[x.id]??"",onChangeWorkHour:T=>d(x.id,T),onSaveWorkHour:()=>p(x.id),onStartEditWorkHour:()=>y(x.id),onCancelEditWorkHour:()=>_(x.id)},x.id)):v.jsx("tr",{children:v.jsx("td",{colSpan:20,style:{textAlign:"center",padding:"20px"},children:"등록된 요청이 없습니다."})})})]})})}const PG=B.div`
  position: relative;
  max-height: 535px;
  border-top: 2px solid ${({theme:e})=>e.colors.black};
  overflow-y: auto;
  scrollbar-width: thin;
`,NG=B.table`
  table-layout: fixed;
  width: 100%;
  text-align: center;
`,LG=B.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,pn=B.th`
  position: sticky;
  top: -2px;
  line-height: 16px;
  padding: 13px 0;
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.gray08};
  z-index: 10;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(14) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }

  &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17), &:nth-of-type(18), &:nth-of-type(19) {
    border-right: 1px solid ${({theme:e})=>e.colors.pink02}
  }

  &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17), &:nth-of-type(18), &:nth-of-type(19), &:nth-of-type(20) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`,Qb="홈돌이",jG=new Set(["미배정"]),VG=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],Xh=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()),UG=(e,t)=>!!e&&!!t&&e.getTime()===t.getTime(),Zb=e=>{if(!e)return null;if(typeof e=="object"&&typeof e.toDate=="function")return Xh(e.toDate());if(e instanceof Date)return Xh(e);if(typeof e=="number")return Xh(new Date(e));if(typeof e=="string"){const n=e.replace(/\./g,"-").replace(/\//g,"-").split("-");if(n.length===3){const[s,r,l]=n.map(Number),c=s>31?s:new Date().getFullYear();return new Date(c,(r||1)-1,l||1)}const i=new Date(e);return isNaN(+i)?null:Xh(i)}return null},Jb=e=>Zb(e.request_date)??Zb(e.open_date)??Zb(e.created_date),zG=e=>e==="대기"||e==="대기중",FG=e=>e==="완료",BG=e=>e==="진행중"||e==="검수중"||e==="검수요청",$G=160,qG=(e,t=2)=>{const n=Math.pow(10,t);return Math.sign(e)*Math.floor(Math.abs(e)*n+1e-9)/n},HG=e=>e.toFixed(2).replace(/\.?0+$/,"");function WG({dailyHours:e=8,targetDate:t}){const[n,i]=j.useState([]),[s,r]=j.useState([]),l=Xh(t??new Date),c=l.getFullYear();j.useEffect(()=>{const x=wn(We(Yt,"users"),en("role","==",2)),E=Bi(x,T=>{const S=T.docs.map(D=>String(D.data().name||"").trim()).filter(Boolean);r(S)});return()=>E()},[]),j.useEffect(()=>{const x=wn(We(Yt,"design_request")),E=Bi(x,T=>{const S=T.docs.map(D=>({id:D.id,...D.data()}));i(S)});return()=>E()},[]);const h=x=>Array.isArray(x.assigned_designers)&&x.assigned_designers.length?x.assigned_designers.filter(Boolean).map(E=>E.trim()):x.assigned_designer?[String(x.assigned_designer).trim()]:[],d=x=>{const T=h(x).map(S=>S.trim()).filter(Boolean).filter(S=>S!=="미배정");return T.length===1&&T[0]===Qb?[Qb]:T.filter(S=>S!==Qb)},p=(x,E)=>{const T=d(x);if(!T.includes(E))return 0;const S=Number(x.in_work_hour)||0,D=T.length||1;return S/D},y=j.useMemo(()=>{const x=Array.from(new Set(n.flatMap(T=>h(T))));return Array.from(new Set([...s,...x])).filter(T=>T&&!jG.has(T)).sort((T,S)=>T.localeCompare(S,"ko")).map(T=>{const S=n.filter(C=>d(C).includes(T)),D=S.filter(C=>UG(Jb(C),l)),I=D.filter(C=>zG(C.status)).length,N=D.filter(C=>BG(C.status)).length,H=D.filter(C=>FG(C.status)).length,M=D.reduce((C,P)=>C+p(P,T),0),Y=qG(M,2),R=Array.from({length:12},(C,P)=>{const V=S.filter(z=>{const Ct=Jb(z);return Ct&&Ct.getFullYear()===c&&Ct.getMonth()===P}).reduce((z,Ct)=>z+p(Ct,T),0),U=Math.round(V/$G*100),q=S.filter(z=>{const Ct=Jb(z);return Ct&&Ct.getFullYear()===c&&Ct.getMonth()===P}).length;return{rate:U,count:q}});return{name:T,wait:I,progress:N,done:H,usedHours:Y,monthly:R}})},[n,l,c,s]),_=j.useMemo(()=>y.map((x,E)=>{const T=x.monthly.filter(I=>I.count>0),S=T.length?T.reduce((I,N)=>I+N.rate,0)/T.length:0,D=x.monthly.reduce((I,N)=>I+N.count,0);return{index:E+1,avgRate:S,totalCount:D}}),[y]);return y.length===0?v.jsx(GG,{children:"표시할 데이터가 없습니다."}):v.jsx(YG,{children:v.jsxs(KG,{children:[v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"140px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"110px"}})]}),v.jsxs("thead",{children:[v.jsxs("tr",{children:[v.jsx(Hs,{rowSpan:2,children:"번호"}),v.jsx(Hs,{rowSpan:2,children:"디자이너명"}),v.jsxs(Hs,{colSpan:4,children:["현재현황(일공수 : ",e,"h)"]}),v.jsx(Hs,{colSpan:12,children:"월별 진행현황(공수달성율 / 제작건수)"}),v.jsx(Hs,{rowSpan:2,children:"연평균"})]}),v.jsxs("tr",{children:[v.jsx(Hs,{children:"대기"}),v.jsx(Hs,{children:"진행중"}),v.jsx(Hs,{children:"완료"}),v.jsx(Hs,{children:"사용공수(h)"}),VG.map(x=>v.jsx(Hs,{children:x},x))]})]}),v.jsx("tbody",{children:y.map((x,E)=>{const{index:T,avgRate:S,totalCount:D}=_[E];return v.jsxs("tr",{children:[v.jsx(Ba,{children:T}),v.jsx(Ba,{children:x.name}),v.jsx(Ba,{children:x.wait}),v.jsx(Ba,{children:x.progress}),v.jsx(Ba,{children:x.done}),v.jsx(Ba,{children:HG(x.usedHours)}),x.monthly.map((I,N)=>v.jsxs(Ba,{children:[v.jsxs("div",{children:[I.rate,"%"]}),v.jsx("div",{children:I.count})]},N)),v.jsxs(Ba,{children:[v.jsxs("div",{children:[S.toFixed(0),"%"]}),v.jsx("div",{children:D})]})]},x.name+E)})})]})})}const YG=B.div`
  padding: 0 48px;
  margin-top: 20px;
`,GG=B.div`
  padding: 24px;
  text-align: center;
  color: #666;
  border: 1px solid #e5e5e5;
  border-radius: 8px;
  background: #fafafa;
`,KG=B.table`
  width: 100%;
  table-layout: fixed;
  font-family: 'Pretendard';
  border-top: 2px solid ${({theme:e})=>e.colors.black};

  thead {
    tr {
      &:first-of-type {
        th:nth-of-type(3) {
          border-right: 1px solid ${({theme:e})=>e.colors.black};
        }
        th:nth-of-type(4) {
          background-color: ${({theme:e})=>e.colors.pink01};
        }
      }
      &:last-of-type {
        th:nth-of-type(4) {
          border-right: 1px solid ${({theme:e})=>e.colors.black};
        }
      }
    }
  }


  th, td {
    padding: 8px 10px;
    font-size: 14px;
  }
`,Hs=B.th`
  background-color: ${({theme:e})=>e.colors.gray08};
  font-weight: 700;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right:none;
  }

  &:nth-of-type(n + 5):nth-of-type(-n + 16) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`,Ba=B.td`
  text-align: center;
  font-weight: 500;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(6) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }
`;function XG({onClick:e,loading:t,label:n="Export CSV"}){return v.jsx(QG,{type:"button",onClick:e,disabled:!!t,children:t?"추출 중…":n})}const QG=B.button`
  margin-bottom: 10px;
  padding: 8px 12px;
  border-radius: 4px;
  border: 1px solid ${({theme:e})=>e.colors.black};
  background: ${({theme:e})=>e.colors.white01};
  font-size: 14px;
  &:disabled { opacity: 0.5; pointer-events: none; }
`,sR=e=>{if(e==null)return"";const t=String(e).replace(/"/g,'""');return/[",\n]/.test(t)?`"${t}"`:t},ZG=(e,t)=>t.split(".").reduce((n,i)=>n?n[i]:void 0,e),sg=e=>e<10?`0${e}`:`${e}`,JG=e=>{if(e==null)return"";if(typeof e=="object"&&typeof e.toDate=="function"){const t=e.toDate();return`${t.getFullYear()}-${sg(t.getMonth()+1)}-${sg(t.getDate())}`}return e instanceof Date?`${e.getFullYear()}-${sg(e.getMonth()+1)}-${sg(e.getDate())}`:String(e)};function tK(e){const{rows:t,fields:n,filename:i="export.csv",headers:s,serialize:r=JG}=e,l=n.map(y=>sR((s==null?void 0:s[y])??y)).join(","),c=t.map(y=>{const _={id:y.id,...y};return n.map(E=>sR(r(ZG(_,E)))).join(",")}),h="\uFEFF"+[l,...c].join(`\r
`),d=new Blob([h],{type:"text/csv;charset=utf-8"}),p=document.createElement("a");p.href=URL.createObjectURL(d),p.download=i,p.click(),URL.revokeObjectURL(p.href)}const rR="진행 상태 선택",aR="요청자 선택",oR="디자이너 선택",lR="회사 선택",sl=e=>String(e??"").trim();async function eK(e){const t=sl(e.company).toLowerCase();if(t==="nsmall"){const i=wn(We(Yt,"nsmall_task_work_hour"),en("nsmall_task_type","==",sl(e.task_type)),en("nsmall_task_type_detail","==",sl(e.task_type_detail))),s=await ao(i);if(!s.empty){const r=s.docs[0].data(),l=Number(r.nsmall_task_work_times);return Number.isFinite(l)?l:1}return 1}if(t==="homeplus"){const i=wn(We(Yt,"homeplus_task_work_hour"),en("homeplus_task_form","==",sl(e.task_form)),en("homeplus_task_type","==",sl(e.task_type))),s=await ao(i);if(!s.empty){const r=s.docs[0].data(),l=Number(r.homeplus_task_work_times);return Number.isFinite(l)?l:1}return 1}const n=await ao(wn(We(Yt,"task_work_hour"),en("task_form","==",sl(e.task_form)),en("task_type","==",sl(e.task_type))));if(!n.empty){const i=Number(n.docs[0].data().task_work_times);return Number.isFinite(i)?i:1}return 1}function nK({view:e,setIsDrawerOpen:t,setDetailData:n,userRole:i}){const[s,r]=j.useState([]),[l,c]=j.useState([]),[h,d]=j.useState({}),[p,y]=j.useState({}),[_,x]=j.useState(rR),[E,T]=j.useState({start:null,end:null}),[S,D]=j.useState(""),[I,N]=j.useState(""),[H,M]=j.useState([]),[Y,R]=j.useState(aR),[C,P]=j.useState([]),[V,U]=j.useState(oR),[q,z]=j.useState([]),[Ct,Q]=j.useState(lR),[$,K]=j.useState(!1);j.useEffect(()=>{if(e==="dashboard"||e==="inworkhour"){r([]);return}const bt=wn(We(Yt,"design_request"),Lc("design_request_id","desc")),Mt=Bi(bt,At=>{const Tt=At.docs.map(te=>({id:te.id,...te.data()}));r(Tt)});return()=>Mt()},[e]),j.useEffect(()=>{s.length&&d(bt=>{const Mt={...bt};return s.forEach(At=>{Mt[At.id]===void 0&&(Mt[At.id]=Array.isArray(At.assigned_designers)?At.assigned_designers:[])}),Mt})},[s]),j.useEffect(()=>{s.length&&y(bt=>{const Mt={...bt};return s.forEach(At=>{Mt[At.id]===void 0&&(Mt[At.id]=At.out_work_hour!=null?String(At.out_work_hour):"")}),Mt})},[s]),j.useEffect(()=>{(async()=>{const Mt=wn(We(Yt,"users"),en("role","==",2)),Tt=(await ao(Mt)).docs.map(te=>({id:te.id,...te.data()}));c(Tt),P(Tt.map(te=>te.name).filter(Boolean))})()},[]),j.useEffect(()=>{const bt=Bi(We(Yt,"users"),Mt=>{const At=new Set;Mt.forEach(Tt=>{const te=String(Tt.data().company??"").trim();te&&At.add(te)}),z(Array.from(At).sort())});return()=>bt()},[]);const ot=(bt,Mt)=>{d(At=>({...At,[bt]:Mt}))},nt=async bt=>{const Mt=(h[bt]||[]).filter(Boolean);if(!Mt.length){alert("디자이너를 선택하세요.");return}const At=Cn(Yt,"design_request",bt);await ys(At,{assigned_designers:L5(...Mt)}),d(Tt=>({...Tt,[bt]:[]})),alert("디자이너가 배정되었습니다!")},F=async(bt,Mt)=>{const At=Cn(Yt,"design_request",bt);await ys(At,{assigned_designers:j5(Mt)})},it=async bt=>{await ys(Cn(Yt,"design_request",bt),{manager_review_status:"검수완료",status:"검수중"}),r(Mt=>Mt.map(At=>At.id===bt?{...At,manager_review_status:"검수완료",status:"검수중"}:At)),alert("요청자에게 전달되었습니다.")};j.useEffect(()=>{(async()=>{const bt=wn(We(Yt,"users"),en("role","==",1)),At=(await ao(bt)).docs.map(Tt=>Tt.data().name).filter(Boolean);M(At)})()},[]);const at=bt=>{n(bt),t(!0)},ut=bt=>T(bt),yt=bt=>x(bt),St=bt=>N(bt.trim()),G=bt=>R(bt),lt=bt=>U(bt),ht=bt=>Q(bt),gt=bt=>new Date(bt.getFullYear(),bt.getMonth(),bt.getDate()),vt=bt=>{if(!bt)return null;if(typeof bt=="object"&&typeof bt.toDate=="function")return gt(bt.toDate());if(bt instanceof Date)return gt(bt);if(typeof bt=="number")return gt(new Date(bt));if(typeof bt=="string"){const At=bt.replace(/\./g,"-").replace(/\//g,"-").split("-");if(At.length===3){const[te,fi,fe]=At.map(Number),ee=te>31?te:new Date().getFullYear();return new Date(ee,fi-1,fe)}if(At.length===2){const[te,fi]=At.map(Number),fe=new Date().getFullYear();return new Date(fe,te-1,fi)}const Tt=new Date(bt);return isNaN(+Tt)?null:gt(Tt)}return null},zt=bt=>bt==="검수요청"?"검수중":bt==="검수중"?"검수요청":bt??"대기",Xt=j.useMemo(()=>s.map(bt=>{const Mt=zt(bt.status),At=Array.isArray(bt.assigned_designers)?bt.assigned_designers.join(", "):"";return Bx({...bt,displayStatus:Mt,assigned_display:At})}),[s]),ye=j.useMemo(()=>{const bt=E.start?gt(E.start):null,Mt=E.end?gt(E.end):null;return Xt.filter(At=>{let Tt=!0;if(_!==rR&&At.status!==_&&(Tt=!1),Tt&&Y!==aR&&At.requester!==Y&&(Tt=!1),Tt&&V!==oR){const te=Array.isArray(At.assigned_designers)?At.assigned_designers:[],fi=At.assigned_designer??"";te.includes(V)||fi===V||(Tt=!1)}if(Tt&&Ct!==lR&&String(At.company)!==Ct&&(Tt=!1),Tt&&bt&&Mt){const te=vt(At.request_date)||vt(At.requested_at)||vt(At.requestDate);(!te||te<bt||te>Mt)&&(Tt=!1)}return Tt&&I&&!$x(At,I)&&(Tt=!1),Tt})},[Xt,_,Y,V,Ct,E,I]),Pe=(bt,Mt)=>{const At=Mt.replace(/[^0-9.]/g,"");y(Tt=>({...Tt,[bt]:At}))},En=async bt=>{const Mt=s.find(At=>At.id===bt);await ys(Cn(Yt,"design_request",bt),{work_hour_edit_state:!0}),r(At=>At.map(Tt=>Tt.id===bt?{...Tt,work_hour_edit_state:!0}:Tt)),y(At=>({...At,[bt]:At[bt]!==void 0&&At[bt]!==""?At[bt]:(Mt==null?void 0:Mt.out_work_hour)!=null?String(Mt.out_work_hour):""}))},ei=async bt=>{const Mt=s.find(fe=>fe.id===bt);if(!Mt)return;const At=(p[bt]??"").trim(),Tt=Number(At.replace(",","."));if(!Number.isFinite(Tt)||Tt<0){alert("유효한 공수를 입력하세요.");return}const te=await eK(Mt),fi=Math.round(Tt*te*1e3)/1e3;await ys(Cn(Yt,"design_request",bt),{out_work_hour:Tt,in_work_hour:fi,work_hour_edit_state:!1}),r(fe=>fe.map(ee=>ee.id===bt?{...ee,out_work_hour:Tt,in_work_hour:fi,work_hour_edit_state:!1}:ee)),alert("공수 수정 완료")},Ze=bt=>{if(!bt)return"";typeof bt=="object"&&typeof bt.toDate=="function"&&(bt=bt.toDate());const Mt=bt instanceof Date?bt:new Date(bt);if(isNaN(+Mt))return"";const At=Mt.getFullYear(),Tt=String(Mt.getMonth()+1).padStart(2,"0"),te=String(Mt.getDate()).padStart(2,"0");return`${At}-${Tt}-${te}`},hr=async()=>{K(!0);try{const bt=["design_request_id","request_date","completion_date","open_date","merchandiser","requester","task_form","task_type","task_type_detail","requirement","url","note","status","result_url","designer_start_date","designer_end_date","assigned_designers","work_hour"],Mt={design_request_id:"문서번호",request_date:"요청일",completion_date:"완료요청일",open_date:"오픈일",merchandiser:"담당MD",requester:"요청자",task_form:"업무부서",task_type:"업무형태",task_type_detail:"업무형태상세",requirement:"작업항목",url:"요청서URL",note:"메모",status:"진행상태",result_url:"산출물URL",designer_start_date:"디자인 시작일",designer_end_date:"디자인 종료일",assigned_designers:"디자이너",work_hour:"공수"},At=ye.map(Tt=>{const te=Array.isArray(Tt.assigned_designers)?Tt.assigned_designers.join(", "):"";return{design_request_id:Tt.design_request_id??"",request_date:Ze(Tt.request_date??Tt.requested_at??Tt.requestDate),completion_date:Ze(Tt.completion_date),open_date:Ze(Tt.open_date),merchandiser:Tt.merchandiser??Tt.md??"",requester:Tt.requester??"",task_form:Tt.task_form??"",task_type:Tt.task_type??"",task_type_detail:Tt.task_type_detail??"",requirement:Tt.requirement??"",url:Tt.url??"",note:Tt.note??"",status:Tt.status??"",result_url:Tt.result_url??"",designer_start_date:Ze(Tt.designer_start_date),designer_end_date:Ze(Tt.designer_end_date),assigned_designers:te,work_hour:(Tt.in_work_hour??Tt.out_work_hour??"")+""}});tK({rows:At,fields:bt,headers:Mt,filename:"design_request_current_view.csv"})}finally{K(!1)}},dr=async bt=>{await ys(Cn(Yt,"design_request",bt),{work_hour_edit_state:!1}),r(Mt=>Mt.map(At=>At.id===bt?{...At,work_hour_edit_state:!1}:At))};return v.jsxs(iK,{children:[v.jsx(xx,{userRole:i}),e==="myrequestlist"&&v.jsxs(sK,{children:[v.jsx(Cd,{roleNumber:3,onApplyStatus:yt,onApplyRange:ut,onSearch:St,keyword:S,onKeywordChange:D,isManager:!0,requesterOptions:H,onApplyRequester:G,designerOptions:C,onApplyDesigner:lt,companyOptions:q,onApplyCompany:ht}),v.jsx(XG,{onClick:hr,loading:$}),v.jsx(OG,{data:ye,designerList:l,selectedDesigners:h,designerSelect:ot,assignDesigner:nt,unassignDesigner:F,sendToRequester:it,onDetailClick:at,workHours:p,onChangeWorkHour:Pe,onSaveWorkHour:ei,onStartEditWorkHour:En,onCancelEditWorkHour:dr})]}),e==="dashboard"&&v.jsx(rK,{children:v.jsx(Fx,{capacityHoursPerMonth:704})}),e==="inworkhour"&&v.jsx(WG,{})]})}const iK=B.div``,sK=B.div`
  padding: 0 48px;
`,rK=B.div`
  max-height: 766px;
  padding: 0 48px;
  overflow: auto;
`;function aK({userRole:e,setIsDrawerOpen:t,setEditData:n,setDetailData:i}){const[s,r]=gm(),l=s.get("view")||"dashboard";j.useEffect(()=>{s.get("view")||r(h=>{const d=new URLSearchParams(h);return d.set("view","dashboard"),d},{replace:!0})},[]);const c=()=>{if(e===1)return v.jsx(VY,{view:l,userRole:e,setIsDrawerOpen:t,setEditData:n,setDetailData:i});if(e===2)return v.jsx(rG,{view:l,userRole:e,setIsDrawerOpen:t,setDetailData:i});if(e===3)return v.jsx(nK,{view:l,userRole:e,setIsDrawerOpen:t,setDetailData:i})};return v.jsx(oK,{children:c()})}const oK=B.main`
  height: calc(100% - 64px);
`,lK="/pdms-test/assets/aside-logo-DHSQzRu2.svg",cK="/pdms-test/assets/myrequest-icon-DhmqrZY6.svg";function uK({item:e}){return v.jsxs(fK,{status:e.status,children:[v.jsx(pK,{children:e.status}),v.jsx(gK,{status:e.status,children:e.count})]})}const hK=(e,t)=>{switch(e){case"대기":return t.colors.beige01;case"진행중":return t.colors.lightpupple;case"검수요청":case"검수중":return t.colors.pink03;case"완료":return t.colors.gray04;case"취소":return t.colors.gray07;default:return"#f9f9f9"}},dK=(e,t)=>{switch(e){case"대기":return t.colors.orange;case"진행중":return t.colors.blue01;case"검수요청":case"검수중":return t.colors.red;case"완료":return t.colors.gray02;case"취소":return t.colors.gray03;default:return t.colors.gray03}},fK=B.li`
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  padding: 20.5px 44px 20.5px 28px;
  margin-bottom: 8px;
  border-radius: 4px;
  font-family: 'Pretendard';
  color: ${({theme:e})=>e.colors.black};
  background-color: ${({status:e,theme:t})=>hK(e,t)};
`,pK=B.span`
  font-size: 16px;
  font-weight: 500;
`,gK=B.span`
  position: relative;
  width: 10px;
  font-size: 14px;
  font-weight: 700;

  &::before {
    content: "";
    position: absolute;
    top: 50%;
    left: -40px;
    display: block;
    width: 1px;
    height: 18px;
    transform: translateY(-50%);
    background-color: ${({status:e,theme:t})=>dK(e,t)};
  }
`,mK="/pdms-test/assets/icon_slack_gray-BGCbyQrc.svg",yK="/pdms-test/assets/icon_slack_white-COpHHs97.svg",cR="/pdms-test/assets/icon_google_drive_gray-DDhA1xcb.svg",uR="/pdms-test/assets/icon_google_drive_white-DHwRCpfO.svg",_K="/pdms-test/assets/icon_google_chat_gray-Xbb4BQaj.svg",bK="/pdms-test/assets/icon_google_chat_white-tT13zXaw.svg",hR={HOMEPLUS:"homeplus",NSMALL:"nsmall"},vK={homeplus:{slack:{href:"https://hmp-m-design.slack.com/?redir=%2Farchives%2FC06TTC8518T%3Fname%3DC06TTC8518T",icon:mK,hover:yK},drive:{href:"https://drive.google.com/drive/folders/1-hQiEmPEomtaDFgnRqt0bAaxIFEWEvYn",icon:cR,hover:uR}},nsmall:{chat:{href:"https://mail.google.com/chat/u/0/#chat/home",icon:_K,hover:bK},drive:{href:"https://drive.google.com/drive/",icon:cR,hover:uR}}};function xK(){const[e,t]=j.useState("");j.useEffect(()=>{const s=wo(hi,async r=>{if(!r){t("");return}const l=await Sl(Cn(Yt,"users",r.uid));if(l.exists()){const c=l.data();t(c.company??"")}else t("")});return()=>s()},[]);const n=j.useMemo(()=>{const s=String(e??"").trim().replace(/\s+/g,"").toLowerCase();return s==="homeplus"?hR.HOMEPLUS:s==="nsmall"||s==="n-small"?hR.NSMALL:null},[e]),i=j.useMemo(()=>{if(!n)return[];const s=vK[n],r=[];return s.slack&&r.push({href:s.slack.href,icon:s.slack.icon,hover:s.slack.hover,key:"slack"}),s.chat&&r.push({href:s.chat.href,icon:s.chat.icon,hover:s.chat.hover,key:"chat"}),s.drive&&r.push({href:s.drive.href,icon:s.drive.icon,hover:s.drive.hover,key:"drive"}),r},[n]);return v.jsxs(wK,{children:[v.jsxs(EK,{children:[v.jsx(SK,{children:"PDMS"}),v.jsx(TK,{children:"© Pushcomz Corp."})]}),i.length>0&&v.jsx(AK,{children:i.map(s=>v.jsx(MO,{children:v.jsx(kK,{target:"_blank",rel:"noreferrer",$icon:s.icon,$iconHover:s.hover,href:s.href})},s.key))})]})}const wK=B.footer`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  font-family: 'Pretendard';
  padding: 24px;
  padding-top: 0px;
  gap: 0 13px;
`,EK=B.div`
  ${({theme:e})=>e.mixin.flex("flex-start")};
  flex-direction: column;
`,SK=B.strong`
  font-size: 20px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.gray05};
`,TK=B.span`
  font-size: 12px;
  font-weight: 300;
  line-height: 20px;
  color: ${({theme:e})=>e.colors.gray05};
  text-align: center;
  white-space: nowrap;
`,AK=B.ul`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  gap: 0 8px;
`,MO=B.li`
  ${({theme:e})=>e.mixin.flex("center","center")};
  width: 36px;
  height: 36px;
  background-color: ${({theme:e})=>e.colors.gray01};
  border-radius: 50%;
  &:hover {
    background-color: ${({theme:e})=>e.colors.black};
  }
`,kK=B.a`
  display: block;
  width: 20px;
  height: 20px;
  background: ${({$icon:e})=>`url(${e}) no-repeat center / 20px 20px`};
  cursor: pointer;

  &:hover {
    background-image: ${({$iconHover:e})=>`url(${e})`};
  }
  
  ${MO}:hover & {
    background-image: ${({$iconHover:e})=>`url(${e})`};
  }
`,He={WAIT:"대기",PROG:"진행중",REQ:"검수요청",REV:"검수중",DONE:"완료",CAN:"취소"},RK=(e,t)=>{const n=i=>t.reduce((s,r)=>r.status&&i.includes(r.status)?s+1:s,0);switch(e){case 1:return[{status:"대기",count:n([He.WAIT])},{status:"진행중",count:n([He.PROG,He.REQ])},{status:"검수중",count:n([He.REV])},{status:"완료",count:n([He.DONE])},{status:"취소",count:n([He.CAN])}];case 2:return[{status:"대기",count:n([He.WAIT])},{status:"진행중",count:n([He.PROG])},{status:"검수요청",count:n([He.REQ,He.REV])},{status:"완료",count:n([He.DONE])},{status:"취소",count:n([He.CAN])}];case 3:return[{status:"대기",count:n([He.WAIT])},{status:"진행중",count:n([He.PROG])},{status:"검수중",count:n([He.REQ])},{status:"검수요청",count:n([He.REV])},{status:"완료",count:n([He.DONE])},{status:"취소",count:n([He.CAN])}];default:return[{status:"대기",count:n([He.WAIT])},{status:"진행중",count:n([He.PROG])},{status:"검수요청",count:n([He.REQ])},{status:"검수중",count:n([He.REV])},{status:"완료",count:n([He.DONE])},{status:"취소",count:n([He.CAN])}]}},CK=(e,t)=>{switch(e){case 1:return`${t}님의 요청`;case 2:return`${t}님의 작업 현황`;case 3:return"전체 요청 현황";default:return"요청 현황"}};function DK({requests:e,role:t,userName:n,onRequestButtonClick:i}){const s=RK(t,e);return v.jsxs(MK,{children:[v.jsxs(IK,{children:[v.jsxs(OK,{children:[v.jsx(PK,{src:lK}),v.jsx(NK,{children:"업무 관리시스템"})]}),t===1&&v.jsx(LK,{children:v.jsx(jK,{onClick:i,children:"디자인 요청 등록"})}),v.jsxs(VK,{children:[v.jsxs(UK,{children:[v.jsx(zK,{src:cK}),v.jsx(FK,{children:CK(t,n)})]}),v.jsx(BK,{children:s.map(r=>v.jsx(uK,{item:r},r.status))})]})]}),v.jsx(xK,{})]})}const MK=B.aside`
  ${({theme:e})=>e.mixin.flex("","space-between")};
  flex-direction: column;
  width: 240px;
  height: 100%;
  border-right: 1px solid ${({theme:e})=>e.colors.black};
`,IK=B.div`
  
`,OK=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  padding: 18.5px 0;
  border-bottom: 1px solid ${({theme:e})=>e.colors.gray02};
`,PK=B.img`
  margin-right: 8px;
`,NK=B.span`
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
  white-space: nowrap;
`,LK=B.div`
  text-align: center;
  padding: 32px 0;
  border-bottom: 1px solid ${({theme:e})=>e.colors.gray02};
`,jK=B.button`
  padding: 12px 44px;
  border-radius: 8px;
  font-family: 'Pretendard';
  font-size: 16px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,VK=B.div`
  padding: 0 24px;
`,UK=B.div`
  ${({theme:e})=>e.mixin.flex("center")};
  gap: 12px;
  padding: 30px 0;
`,zK=B.img``,FK=B.h4`
  font-family: 'Pretendard';
  font-size: 17px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
`,BK=B.ul`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`;function $K({isOpen:e,onClose:t,children:n}){return v.jsxs(v.Fragment,{children:[v.jsx(qK,{isVisible:e,onClick:t}),v.jsx(HK,{isVisible:e,onClick:i=>i.stopPropagation(),children:n})]})}const qK=B.div`
  position: fixed;
  top: 0; right: 0; bottom: 0; left: 0;
  background: rgba(0, 0, 0, 0.3);
  z-index: 1000;
  opacity: ${({isVisible:e})=>e?1:0};
  pointer-events: ${({isVisible:e})=>e?"auto":"none"};
  transition: opacity 0.3s ease;
`,HK=B.div`
  position: fixed;
  top: 64px;
  right: 0;
  width: 680px;
  height: 100%;
  background-color: white;
  box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
  z-index: 1001;
  overflow-y: hidden;
  padding: 24px;
  transform: ${({isVisible:e})=>e?"translateX(0)":"translateX(100%)"};
  transition: transform 0.3s ease;
`,IO="/pdms-test/assets/requestformexit-button-BcAG546a.svg",WK="/pdms-test/assets/checkbox-checked-eOVFoR8b.svg",rg={completion_date:"",open_date:"",merchandiser:"",task_form:"",task_type:"",task_type_detail:"",requirement:"",url:"",note:"",emergency:!1},dR=["GHS","MHC"],qx=["핫새배너","홈테마","프론트테마","페이/카드프로모션","팝업","트레이딩","즉시배송","제휴","일자별배너","이벤트배너","별도기획전","GNB-택배배송관","GNB-주류이지픽업","GNB-기획전","이벤트","기타"],Hx=["프론트테마","푸시","트레이딩","클럽","이벤트배너","이벤트","기타"],YK={GHS:qx,MHC:Hx},fR=["M영업기획팀","디지털마케팅팀","M상품1팀","M상품2팀","M상품3팀","TV영업기획팀","TC영업기획팀","미디어컨텐츠팀","전략기획팀","MC서비스기획팀"],GK=["프로모션","배너(프로모션,연관)","배너(마케팅)","배너(상품)","배너(etv/etcom)","배너(엔라방)","썸네일(그룹)"],KK={프로모션:["마케팅","마케팅-FULL","마케팅-템플릿","마케팅-모션적용","상품(식품/공산품)","상품(식품/공산품)-브랜드템플릿","etv/etcom","프로모션 수정"],"배너(프로모션,연관)":["템플릿","템플릿-모션","템플릿-썸네일형","공통","기타"],"배너(마케팅)":["템플릿","템플릿-썸네일형","공통","광고성","홈전단지컨셉"],"배너(상품)":["템플릿","공통"],"배너(etv/etcom)":["템플릿","공통"],"배너(엔라방)":["템플릿","공통"],"썸네일(그룹)":["마케팅","그룹코드_프로모션","1팀","2팀","3팀","etv/etcom","엔라방"]},XK=e=>(e??"").trim().toLowerCase(),Ve=e=>XK(e)==="nsmall",Ig=e=>{const t=(e??"").trim(),n=YK[t];return n&&n.length?[...n]:Array.from(new Set([...qx,...Hx]))},Og=e=>Ig(e)[0]??"",QK=e=>{if(Ve(e))return{forms:[...fR],types:[...GK],formDefault:fR[0],typeDefault:""};const t=dR[0];return{forms:[...dR],types:Array.from(new Set([...qx,...Hx])),formDefault:t,typeDefault:Og(t)}};function pR({userName:e,editData:t,isDrawerOpen:n,onClose:i}){const s=(t==null?void 0:t.requester_edit_state)===!0,[r,l]=j.useState(rg),[c,h]=j.useState([]),[d,p]=j.useState(""),y=j.useMemo(()=>QK(d),[d]),_=_o(),x=ks(),E=()=>{const Q=new URLSearchParams(x.search);Q.set("view","myrequestlist"),_({pathname:"/main",search:Q.toString()},{replace:!0})},T=Q=>{const $=(Q??"").trim();return KK[$]??[]},S=j.useMemo(()=>Ve(d)?T(r.task_type):[],[d,r.task_type]),D=j.useMemo(()=>{const Q=[...y.forms];return s&&r.task_form&&!Q.includes(r.task_form)&&Q.unshift(r.task_form),Q},[y.forms,s,r.task_form]),I=j.useMemo(()=>{if(Ve(d)){const K=[...y.types];return s&&r.task_type&&!K.includes(r.task_type)&&K.unshift(r.task_type),K}const Q=r.task_form||y.formDefault,$=Ig(Q);return s&&r.task_type&&!$.includes(r.task_type)&&$.unshift(r.task_type),$},[d,y.types,y.formDefault,s,r.task_form,r.task_type]),N=(Q,$)=>{if(Q==="task_type"&&Ve(d)){l(K=>({...K,task_type:$,task_type_detail:""}));return}if(Q==="task_form"&&!Ve(d)){const K=$,ot=Ig(K);l(nt=>({...nt,task_form:K,task_type:ot.includes(nt.task_type||"")?nt.task_type:ot[0]}));return}l(K=>({...K,[Q]:$}))},H=Q=>typeof Q!="string"||Q.trim()==="",M=(Q,$)=>H(Q.completion_date)?"완료 요청일을 선택하세요.":H(Q.open_date)?"오픈일을 선택하세요.":H(Q.task_form)?"업무 부서를 선택하세요.":H(Q.task_type)?"업무 유형을 선택하세요.":$&&H(Q.task_type_detail)?"업무 유형 상세를 선택하세요.":H(Q.requirement)?"작업 항목을 입력하세요.":null,Y=()=>h(Q=>[...Q,{...rg,task_form:y.formDefault,task_type:y.typeDefault,task_type_detail:""}]),R=Q=>h($=>$.filter((K,ot)=>ot!==Q)),C=(Q,$,K)=>h(ot=>{const nt=[...ot];return $==="task_type"&&Ve(d)?nt[Q]={...nt[Q],task_type:K,task_type_detail:""}:nt[Q]={...nt[Q],[$]:K},nt}),P=Q=>Q?Oe.fromDate(new Date(Q)):null,V=async()=>{const Q=new Date,$=Q.getFullYear().toString().slice(2),K=(Q.getMonth()+1).toString().padStart(2,"0"),ot=wn(We(Yt,"design_request"),en("design_request_id",">=",`H${$}${K}0000`),en("design_request_id","<",`H${$}${K}9999`)),nt=await ao(ot);return{year:$,month:K,base:nt.size}},U=(Q,$,K)=>`H${Q}${$}${K.toString().padStart(4,"0")}`,q=async(Q,$)=>{const K=wn(We(Yt,"homeplus_task_work_hour"),en("homeplus_task_form","==",Q),en("homeplus_task_type","==",$));return await ao(K)},z=async(Q,$,K)=>{if(Ve(d)){if(!$||!K)return{base:null,times:null};const at=wn(We(Yt,"nsmall_task_work_hour"),en("nsmall_task_type","==",$),en("nsmall_task_type_detail","==",K)),ut=await ao(at);if(ut.empty)return{base:null,times:null};const yt=ut.docs[0].data(),St=typeof yt.nsmall_task_work_hour=="number"?yt.nsmall_task_work_hour:null,G=typeof yt.nsmall_task_work_times=="number"?yt.nsmall_task_work_times:null;return console.log("[NSMALL preset]",{task_type:$,task_type_detail:K,base:St,times:G,docId:ut.docs[0].id}),{base:St,times:G}}if(!Q||!$)return{base:null,times:null};let ot=await q(Q,$);if(ot.empty&&(Q==="GHS"||Q==="MHC")&&(ot=await q(Q==="GHS"?"MHC":"GHS",$)),ot.empty)return{base:null,times:null};const nt=ot.docs[0].data(),F=typeof nt.homeplus_task_work_hour=="number"?nt.homeplus_task_work_hour:null,it=typeof nt.homeplus_task_work_times=="number"?nt.homeplus_task_work_times:null;return console.log("[HOMEPLUS preset]",{task_form:Q,task_type:$,base:F,times:it,docId:ot.docs[0].id}),{base:F,times:it}},Ct=async Q=>{if(Q.preventDefault(),s){const at=M(r,Ve(d));if(at){alert(at);return}}if(s&&(t!=null&&t.id)){const at=(r.task_form||"")!==(t.task_form||""),ut=(r.task_type||"")!==(t.task_type||""),yt=Ve(d)&&(r.task_type_detail||"")!==(t.task_type_detail||""),St={completion_date:P(r.completion_date),open_date:P(r.open_date),merchandiser:r.merchandiser??"",task_form:r.task_form||y.formDefault,task_type:Ve(d)?r.task_type??"":r.task_type||y.typeDefault,task_type_detail:r.task_type_detail??"",requirement:r.requirement,url:r.url,note:r.note,emergency:r.emergency,requester_edit_state:!1,updated_date:L0()};if(at||ut||yt){const{base:G,times:lt}=await z(St.task_form,St.task_type,St.task_type_detail);St.out_work_hour=G,St.in_work_hour=G!=null&&lt!=null?Number((G*lt).toFixed(2)):null,St.work_hour_edit_state=!1}await ys(Cn(Yt,"design_request",t.id),St),alert("요청이 수정되었습니다!"),i();return}const $=[r,...c];for(let at=0;at<$.length;at++){const ut=$[at],yt=M(ut,Ve(d));if(yt){alert(`${at===0?"메인 폼":`추가 요청 ${at}`} ${yt}`);return}}const{year:K,month:ot,base:nt}=await V();let F=nt;const it=new Date;for(const at of $){F+=1;const ut=U(K,ot,F),yt=at.task_form||y.formDefault,St=Ve(d)?at.task_type||"":at.task_type||Og(yt),{base:G,times:lt}=await z(at.task_form,at.task_type,at.task_type_detail),ht=G!=null&&lt!=null?Number((G*lt).toFixed(2)):null;await N5(We(Yt,"design_request"),{design_request_id:ut,request_date:P(it.toISOString()),merchandiser:at.merchandiser??"",requester:e,company:d,completion_date:P(at.completion_date),open_date:P(at.open_date),task_form:yt,task_type:St,task_type_detail:at.task_type_detail??"",requirement:at.requirement,url:at.url,note:at.note,status:"대기",assigned_designers:[],requester_review_status:"검수대기",manager_review_status:"",result_url:"",designer_start_date:null,designer_end_date:null,emergency:at.emergency,requester_edit_state:!1,designer_edit_state:!1,in_work_hour:ht,out_work_hour:G,work_hour_edit_state:!1,created_date:L0(),updated_date:null,delete_date:null})}alert(`${$.length}건이 등록되었습니다!`),h([]),l(rg),E(),i()};return j.useEffect(()=>{s&&t&&l({completion_date:t.completion_date?t.completion_date.toDate().toISOString().slice(0,10):"",open_date:t.open_date?t.open_date.toDate().toISOString().slice(0,10):"",merchandiser:t.merchandiser??"",task_form:t.task_form??"",task_type:t.task_type??"",task_type_detail:t.task_type_detail??"",requirement:t.requirement??"",url:t.url??"",note:t.note??"",emergency:t.emergency??!1})},[s,t]),j.useEffect(()=>{!n||s||(l({...rg,task_form:y.formDefault,task_type:y.typeDefault,task_type_detail:""}),h([]))},[n,s,y.formDefault,y.typeDefault]),j.useEffect(()=>{const Q=wo(hi,async $=>{var ot;if(!$){p("");return}const K=await Sl(Cn(Yt,"users",$.uid));p(((ot=K.data())==null?void 0:ot.company)??"")});return()=>Q()},[]),j.useEffect(()=>{s||l(Q=>{const $={...Q};return y.forms.includes($.task_form||"")||($.task_form=y.formDefault),y.types.includes($.task_type||"")||($.task_type=y.typeDefault,$.task_type_detail=""),$})},[y.forms,y.types,y.formDefault,y.typeDefault,s]),v.jsxs(v.Fragment,{children:[v.jsxs(JK,{children:[v.jsx(tX,{children:s?"디자인 요청 수정":"디자인 요청 등록"}),v.jsx(eX,{type:"button",onClick:i})]}),v.jsxs(ZK,{onSubmit:Ct,children:[v.jsxs(nX,{children:[v.jsxs(gR,{children:[v.jsx(mR,{children:"디자인 요청 등록"}),v.jsx("colgroup",{children:v.jsx("col",{style:{width:"120px"}})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx(gn,{children:"문서번호"}),v.jsx(mn,{children:s?t==null?void 0:t.design_request_id:""})]}),v.jsxs("tr",{children:[v.jsx(gn,{children:v.jsx(zn,{htmlFor:"completion_date",children:"완료 요청일"})}),v.jsx(mn,{children:v.jsx(ag,{type:"date",id:"completion_date",value:r.completion_date,onChange:Q=>N("completion_date",Q.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(gn,{children:v.jsx(zn,{htmlFor:"open_date",children:"오픈일"})}),v.jsx(mn,{children:v.jsx(ag,{type:"date",id:"open_date",value:r.open_date,onChange:Q=>N("open_date",Q.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(gn,{children:v.jsx(zn,{htmlFor:"merchandiser",children:"담당 MD"})}),v.jsx(mn,{children:v.jsx(og,{type:"text",id:"merchandiser",value:r.merchandiser||"",onChange:Q=>N("merchandiser",Q.target.value),placeholder:"담당 MD 이름을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(gn,{children:v.jsx(zn,{htmlFor:"task_form",children:"업무 부서"})}),v.jsx(mn,{children:v.jsx(kc,{id:"task_form",$wide:Ve(d),value:r.task_form||y.formDefault,onChange:Q=>N("task_form",Q.target.value),children:D.map(Q=>v.jsx("option",{value:Q,children:Q},Q))})})]}),v.jsxs("tr",{children:[v.jsx(gn,{children:v.jsx(zn,{htmlFor:"task_type",children:"업무 유형"})}),v.jsxs(mn,{children:[v.jsxs(kc,{id:"task_type",$wide:Ve(d),value:Ve(d)?s?r.task_type||I[0]||"":r.task_type??"":r.task_type||Og(r.task_form||y.formDefault),onChange:Q=>N("task_type",Q.target.value),children:[Ve(d)&&!s&&v.jsx("option",{value:"",children:"업무 유형을 선택해주세요"}),I.map(Q=>v.jsx("option",{value:Q,children:Q},Q))]}),Ve(d)&&!!r.task_type&&v.jsxs(kc,{id:"task_type_detail",$wide:!0,value:r.task_type_detail||"",onChange:Q=>N("task_type_detail",Q.target.value),children:[v.jsx("option",{value:"",children:"상세 유형을 선택해주세요"}),S.map(Q=>v.jsx("option",{value:Q,children:Q},Q))]})]})]}),v.jsxs("tr",{children:[v.jsx(gn,{children:v.jsx(zn,{htmlFor:"requirement",children:"작업 항목"})}),v.jsx(mn,{children:v.jsx(og,{type:"text",id:"requirement",value:r.requirement,onChange:Q=>N("requirement",Q.target.value),placeholder:"작업 항목을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(gn,{children:v.jsx(zn,{htmlFor:"emergency",children:"긴급 일정"})}),v.jsx(mn,{children:v.jsx(bR,{children:v.jsxs(vR,{htmlFor:"emergency",children:[v.jsx(xR,{type:"checkbox",id:"emergency",checked:r.emergency,onChange:Q=>N("emergency",Q.target.checked)}),v.jsx(wR,{}),v.jsx("span",{children:"긴급 일정으로 설정"})]})})})]}),v.jsxs("tr",{children:[v.jsx(gn,{children:v.jsx(zn,{htmlFor:"url",children:"요청서 URL"})}),v.jsx(mn,{children:v.jsx(yR,{id:"url",value:r.url,onChange:Q=>N("url",Q.target.value),placeholder:"요청 기획안 URL을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(gn,{children:v.jsx(zn,{htmlFor:"note",children:"메모"})}),v.jsx(mn,{children:v.jsx(_R,{id:"note",rows:2,value:r.note,onChange:Q=>N("note",Q.target.value),placeholder:"메모를 입력하세요."})})]})]})]}),!s&&c.map((Q,$)=>{const K=Ve(d)?T(Q.task_type):[],ot=Ve(d)&&!!Q.task_type;return v.jsxs("div",{style:{marginBottom:24},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"8px 0 4px"},children:[v.jsxs("strong",{children:["추가 요청 ",$+1]}),v.jsx("button",{type:"button",onClick:()=>R($),children:"삭제"})]}),v.jsxs(gR,{children:[v.jsx(mR,{children:"디자인 요청 추가 등록"}),v.jsx("colgroup",{children:v.jsx("col",{style:{width:"120px"}})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx(gn,{children:"문서번호"}),v.jsx(mn,{})]}),v.jsxs("tr",{children:[v.jsx(gn,{children:v.jsx(zn,{htmlFor:`completion_date_ex_${$}`,children:"완료 요청일"})}),v.jsx(mn,{children:v.jsx(ag,{id:`completion_date_ex_${$}`,type:"date",value:Q.completion_date||"",onChange:nt=>C($,"completion_date",nt.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(gn,{children:v.jsx(zn,{htmlFor:`open_date_ex_${$}`,children:"오픈일"})}),v.jsx(mn,{children:v.jsx(ag,{id:`open_date_ex_${$}`,type:"date",value:Q.open_date||"",onChange:nt=>C($,"open_date",nt.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(gn,{children:v.jsx(zn,{htmlFor:`merchandiser_ex_${$}`,children:"담당 MD"})}),v.jsx(mn,{children:v.jsx(og,{id:`merchandiser_ex_${$}`,type:"text",value:Q.merchandiser||"",onChange:nt=>C($,"merchandiser",nt.target.value),placeholder:"담당 MD 이름 또는 ID를 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(gn,{children:v.jsx(zn,{htmlFor:`task_form_ex_${$}`,children:"업무 부서"})}),v.jsx(mn,{children:v.jsx(kc,{id:`task_form_ex_${$}`,$wide:Ve(d),value:Q.task_form||y.formDefault,onChange:nt=>C($,"task_form",nt.target.value),children:y.forms.map(nt=>v.jsx("option",{value:nt,children:nt},nt))})})]}),v.jsxs("tr",{children:[v.jsx(gn,{children:v.jsx(zn,{htmlFor:`task_type_ex_${$}`,children:"업무 유형"})}),v.jsxs(mn,{children:[v.jsxs(kc,{id:`task_type_ex_${$}`,$wide:Ve(d),value:Ve(d)?Q.task_type||"":Q.task_type||Og(Q.task_form||y.formDefault),onChange:nt=>C($,"task_type",nt.target.value),children:[Ve(d)&&v.jsx("option",{value:"",children:"업무 유형을 선택해주세요"}),(Ve(d)?y.types:Ig(Q.task_form||y.formDefault)).map(nt=>v.jsx("option",{value:nt,children:nt},nt))]}),ot&&v.jsxs(kc,{id:`task_type_detail_ex_${$}`,$wide:Ve(d),value:Q.task_type_detail||"",onChange:nt=>C($,"task_type_detail",nt.target.value),children:[v.jsx("option",{value:"",children:"상세 유형을 선택해주세요"}),K.map(nt=>v.jsx("option",{value:nt,children:nt},nt))]})]})]}),v.jsxs("tr",{children:[v.jsx(gn,{children:v.jsx(zn,{htmlFor:`requirement_ex_${$}`,children:"작업 항목"})}),v.jsx(mn,{children:v.jsx(og,{id:`requirement_ex_${$}`,type:"text",value:Q.requirement||"",onChange:nt=>C($,"requirement",nt.target.value),placeholder:"작업 항목을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(gn,{children:v.jsx(zn,{htmlFor:`emergency_ex_${$}`,children:"긴급 일정"})}),v.jsx(mn,{children:v.jsx(bR,{children:v.jsxs(vR,{htmlFor:`emergency_ex_${$}`,children:[v.jsx(xR,{id:`emergency_ex_${$}`,type:"checkbox",checked:!!Q.emergency,onChange:nt=>C($,"emergency",nt.target.checked)}),v.jsx(wR,{}),v.jsx("span",{children:"긴급 일정으로 설정"})]})})})]}),v.jsxs("tr",{children:[v.jsx(gn,{children:v.jsx(zn,{htmlFor:`url_ex_${$}`,children:"요청서 URL"})}),v.jsx(mn,{children:v.jsx(yR,{id:`url_ex_${$}`,value:Q.url||"",onChange:nt=>C($,"url",nt.target.value),placeholder:"요청 기획안 URL을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(gn,{children:v.jsx(zn,{htmlFor:`note_ex_${$}`,children:"메모"})}),v.jsx(mn,{children:v.jsx(_R,{id:`note_ex_${$}`,rows:4,value:Q.note||"",onChange:nt=>C($,"note",nt.target.value),placeholder:"메모를 입력하세요."})})]})]})]})]},$)})]}),v.jsxs(iX,{children:[v.jsx(sX,{type:"submit",children:s?"수정 완료":"등록하기"}),!s&&v.jsx(rX,{type:"button",onClick:Y,children:"추가 등록하기"})]})]})]})}const ZK=B.form`
  font-family: 'Pretendard';
`,JK=B.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  margin-bottom: 24px;
`,tX=B.h3`
  font-family: 'Pretendard';
  font-size: 24px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
  letter-spacing: -0.48px;
`,eX=B.button`
  width: 24px;
  height: 24px;
  background: url(${IO}) no-repeat center;
  background-size: contain;
`,gR=B.table`
  width: 100%;
  color: ${({theme:e})=>e.colors.black};
  border-top: 1px solid ${({theme:e})=>e.colors.black};
`,nX=B.div`
  max-height: 690px;
  overflow: auto;
`,mR=B.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,gn=B.th`
  padding: 16px;
  font-size: 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-left: none;
  background-color: ${({theme:e})=>e.colors.gray04};
`,mn=B.td`
  padding: 10px 24px;
  border-right: none;
`,zn=B.label`
  width: 100%;
  text-align: center;
  font-weight: 700;
`,ag=B.input`
  width: 168px;
  padding: 6px 12px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
`,og=B.input`
  width: 100%;
  padding: 8.5px 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
`,yR=B.textarea`
  width: 100%;
  padding: 10px 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
`,_R=B.textarea`
  width: 100%;
  padding: 10px 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  background-color: #fffff1;
`,bR=B.div`
  ${({theme:e})=>e.mixin.flex("center")};
  gap: 5px;
`,vR=B.label`
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
`,xR=B.input`
  display: none;

  &:checked + span {
    background-color: ${({theme:e})=>e.colors.red};
    background-image: url(${WK});
    background-repeat: no-repeat;
    background-position: center;
    background-size: 12px 12px;
  }
`,wR=B.span`
  width: 18px;
  height: 18px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 2px;
`,kc=B.select`
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;

  width: ${({$wide:e})=>e?"215px":"168px"};
  height: 36px;
  padding: 0 32px 0 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  background-color: ${({theme:e})=>e.colors.white01};
  background-image: url(${wx});
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 16px 16px;
  vertical-align: top;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.black};
  }

  &:first-of-type {
    margin-right: 10px;
  }
`,iX=B.div`
  margin-top: 24px;
  text-align: center;
`,sX=B.button`
  margin-right: 12px;
  padding: 12.5px 32px;
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
`,rX=B.button`
  padding: 10.5px 31.5px;
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 700;
  border: 1px solid ${({theme:e})=>e.colors.black};
  background-color: ${({theme:e})=>e.colors.white01};
  color: ${({theme:e})=>e.colors.black};

  &:hover {
    border: 1px solid ${({theme:e})=>e.colors.black};
  }
`;function aX({data:e,onClose:t}){const n=i=>{if(!i)return"-";if(i.toDate){const s=i.toDate();return`${s.getMonth()+1}/${s.getDate()}`}return i};return v.jsxs(v.Fragment,{children:[v.jsxs(oX,{children:[v.jsx(lX,{children:"디자인 요청 상세"}),v.jsx(cX,{type:"button",onClick:t})]}),v.jsxs(uX,{children:[v.jsx(hX,{children:"디자인 요청 상세"}),v.jsx("colgroup",{children:v.jsx("col",{style:{width:"120px"}})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx(ms,{children:"문서번호"}),v.jsx($a,{children:e==null?void 0:e.design_request_id})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"요청일"}),v.jsx($a,{children:n(e==null?void 0:e.request_date)})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"완료 요청일"}),v.jsx(dX,{children:n(e==null?void 0:e.completion_date)})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"오픈일"}),v.jsx(fX,{children:n(e==null?void 0:e.open_date)})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"담당 MD"}),v.jsx($a,{children:(e==null?void 0:e.merchandiser)||""})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"업무 부서"}),v.jsx($a,{children:e==null?void 0:e.task_form})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"업무 유형"}),v.jsxs($a,{children:[v.jsx(gX,{children:e==null?void 0:e.task_type}),(e==null?void 0:e.task_type_detail)&&v.jsxs(v.Fragment,{children:[v.jsx(mX,{children:"＞"}),v.jsx(yX,{children:e==null?void 0:e.task_type_detail})]})]})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"작업 항목"}),v.jsx($a,{children:e==null?void 0:e.requirement})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"긴급 일정"}),v.jsx($a,{children:e!=null&&e.emergency?"긴급 일정으로 설정":"긴급 일정으로 설정 안함"})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"요청서 URL"}),v.jsx($a,{children:e!=null&&e.url?v.jsx(_X,{href:e==null?void 0:e.url,target:"_blank",rel:"noreferrer",children:e==null?void 0:e.url}):"-"})]}),v.jsxs("tr",{children:[v.jsx(ms,{children:"메모"}),v.jsx(pX,{children:v.jsx(bX,{children:e.note})})]})]})]})]})}const oX=B.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  margin-bottom: 24px;
`,lX=B.h3`
  font-family: "Pretendard";
  font-size: 24px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
  letter-spacing: -0.48px;
`,cX=B.button`
  width: 24px;
  height: 24px;
  background: url(${IO}) no-repeat center;
  background-size: contain;
`,uX=B.table`
  width: 100%;
  border-top: 1px solid ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.black};
  font-family: 'Pretendard';
`,hX=B.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,ms=B.th`
  padding: 16px;
  font-size: 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-left: none;
  background-color: ${({theme:e})=>e.colors.gray04};
`,$a=B.td`
  padding: 12px 24px;
  border-right: none;
`,dX=B.td`
  padding: 12px 24px;
  border-right: none;
  color: ${({theme:e})=>e.colors.red};
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;
`,fX=B.td`
  padding: 12px 24px;
  border-right: none;
  color: ${({theme:e})=>e.colors.blue02};
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;
`,pX=B.td`
  padding: 12px 24px;
  border-right: none;
  background-color: #fffff1;
`,gX=B.span`
`,mX=B.span`
  margin: 0 5px;
`,yX=B.span`
  
`,_X=B.a`
  display: -webkit-box;
  min-height: 70px;
  max-height: 70px;
  overflow-y: auto;
  -webkit-box-orient: vertical;
  word-break: break-word;
`,bX=B.p`
  min-height: 100px;
  max-height: 100px;
  overflow-y: auto;
  word-break: break-word;
`;function vX(){const[e,t]=j.useState(0),[n,i]=j.useState([]),[s,r]=j.useState(""),[l,c]=j.useState(!1),[h,d]=j.useState(void 0),[p,y]=j.useState(null);j.useEffect(()=>{const E=wo(hi,async T=>{if(T){r(T.displayName||"");const S=await Sl(Cn(Yt,"users",T.uid));if(S.exists()){const I=S.data().role,N=T.displayName;t(I);let H;I===1?H=wn(We(Yt,"design_request"),en("requester","==",N)):I===2?H=wn(We(Yt,"design_request"),en("assigned_designer","==",N)):H=We(Yt,"design_request"),Bi(H,M=>{const Y=M.docs.map(R=>{const C=R.data();return{id:R.id,status:C.status??"대기중"}});i(Y)})}}else t(0),r(""),i([])});return()=>E()},[]);const _=()=>{d(void 0),y("create"),c(!0)},x=()=>{c(!1),d(void 0)};return v.jsxs(xX,{children:[v.jsx(DK,{requests:n,userName:s,role:e,onRequestButtonClick:_}),v.jsxs(wX,{children:[v.jsx(zz,{}),v.jsx(aK,{userRole:e,setIsDrawerOpen:c,setEditData:E=>{d(E),y("edit")},setDetailData:E=>{d(E),y("detail")}})]}),v.jsxs($K,{isOpen:l,onClose:x,children:[p==="create"&&v.jsx(pR,{userName:s,isDrawerOpen:l,onClose:x}),p==="edit"&&h&&v.jsx(pR,{userName:s,isDrawerOpen:l,editData:h,onClose:x}),p==="detail"&&h&&v.jsx(aX,{data:h,onClose:x})]})]})}const xX=B.div`
  ${({theme:e})=>e.mixin.flex()};
  width: 100%;
  height: 100%;
`,wX=B.div`
  flex: 1;
`,EX={homeplus:"HomePlus",nsmall:"NSmall",pushcomz:"PushComz"},SX={homeplus:1,nsmall:1,pushcomz:2};function TX(){const[e,t]=j.useState(""),[n,i]=j.useState(""),[s,r]=j.useState(""),[l,c]=j.useState(""),[h,d]=j.useState(""),[p,y]=j.useState(!1),_=_o(),[x]=gm(),E=j.useMemo(()=>(x.get("company")||"").toLowerCase(),[x]);j.useEffect(()=>{const S=EX[E];S?(i(S),y(!0)):(i(""),y(!1))},[E]);const T=async()=>{const S=e.trim(),D=n.trim(),I=s.trim();if(!S){alert("이름을 입력해주세요.");return}if(!D){alert("회사명을 입력해주세요.");return}if(!I){alert("이메일을 입력해주세요.");return}if(l!==h){alert("비밀번호가 일치하지 않습니다.");return}try{const H=(await B3(hi,I,l)).user;await q3(H,{displayName:S});const M=SX[E]??((D||"").toLowerCase()==="pushcomz"?2:1);await P5(Cn(Yt,"users",H.uid),{name:S,email:I,company:D,role:M,createdAt:L0()}),await BM(I,l),alert("회원가입이 완료되었습니다!"),_("/")}catch(N){alert("회원가입 중 오류 발생: "+N.message)}};return v.jsx(AX,{children:v.jsxs(kX,{children:[v.jsxs(RX,{children:[v.jsx(CX,{children:"PDMS"}),v.jsx(DX,{children:"Pushcomz Design Management System"})]}),v.jsxs(MX,{children:[v.jsx(IX,{type:"text",value:e,onChange:S=>t(S.target.value),placeholder:"이름을 입력해주세요."}),v.jsx(LX,{type:"text",value:n,onChange:S=>!p&&i(S.target.value),readOnly:p,"aria-readonly":p?"true":void 0,placeholder:p?"":"회사명을 입력해주세요.",title:p?"캠페인 링크로 자동 설정되었습니다.":"",$locked:p}),v.jsx(OX,{type:"text",value:s,onChange:S=>r(S.target.value),placeholder:"이메일을 입력해주세요."}),v.jsx(PX,{type:"password",value:l,onChange:S=>c(S.target.value),placeholder:"비밀번호를 6자이상 입력해주세요."}),v.jsx(NX,{type:"password",value:h,onChange:S=>d(S.target.value),placeholder:"비밀번호 확인을 입력해주세요."})]}),v.jsx(jX,{onClick:T,children:"등록하기"})]})})}const AX=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:e})=>e.colors.gray01};
`,kX=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:e})=>e.colors.white01};
`,RX=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,CX=B.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.navy};
`,DX=B.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,MX=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  gap: 10px;
`,ef=B.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
  &:focus { outline: none; border-color: #c7d2fe; box-shadow: 0 0 0 3px rgba(59,130,246,0.15); }
`,IX=B(ef)``,OX=B(ef)``,PX=B(ef)``,NX=B(ef)``,LX=B(ef)`
  background-color: ${({$locked:e})=>e?"#f5f6f7":"white"};
  color: ${({$locked:e})=>e?"#555":"#333"};
  cursor: ${({$locked:e})=>e?"default":"text"};

  ${({$locked:e})=>e&&`
    box-shadow: none;
  `}
`,jX=B.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:e})=>e.colors.white01};
`,VX=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function UX(){const[e,t]=j.useState(""),n=async()=>{if(!e){alert("이메일을 입력해주세요.");return}if(!VX.test(e)){alert("이메일 형식이 올바르지 않습니다.");return}try{await V3(hi,e,{url:`${window.location.origin}/pdms-test`,handleCodeInApp:!0}),alert("비밀번호 재설정 메일을 보냈습니다. 받은 메일함을 확인해 주세요.")}catch(i){if((i==null?void 0:i.code)==="auth/user-not-found"){alert("등록되지 않은 이메일입니다.");return}alert("메일 발송 중 문제가 발생했습니다. 잠시 후 다시 시도해주세요.")}};return v.jsxs(zX,{children:[v.jsxs(FX,{children:[v.jsxs(BX,{children:[v.jsx($X,{children:"PDMS"}),v.jsx(qX,{children:"Pushcomz Design Management System"})]}),v.jsxs(HX,{children:["회원가입 시 등록하신 이메일 주소를 입력해 주세요. ",v.jsx("br",{}),"해당 이메일로 비밀번호 재설정 메일을 보내드립니다."]}),v.jsx(WX,{type:"email",placeholder:"이메일을 입력해주세요.",value:e,onChange:i=>t(i.target.value)}),v.jsx(YX,{onClick:n,children:"인증메일 보내기"})]}),v.jsx(GX,{children:"© Pushcomz Corp."})]})}const zX=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:e})=>e.colors.gray01};
`,FX=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:e})=>e.colors.white01};
`,BX=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,$X=B.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.navy};
`,qX=B.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,HX=B.p`
  align-self: flex-start;
  font-size: 12px;
`,WX=B.input`
  width: 460px;
  margin: 25px 0;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,YX=B.button`
  width: 100%;
  padding: 12px 14px;
  border-radius: 6px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.white01};
  background: ${({theme:e})=>e.colors.navy};
`,GX=B.p`
  margin-top: 20px;
  font-size: 12px;
  font-weight: 300;
  line-height: 18px;
  text-align: center;
`;function KX(){const{search:e}=ks(),t=_o(),n=j.useMemo(()=>e&&e.length>0?e:window.location.search,[e]),i=new URLSearchParams(n),s=i.get("mode"),r=i.get("oobCode"),[l,c]=j.useState("checking"),[h,d]=j.useState(""),[p,y]=j.useState(""),[_,x]=j.useState("");j.useEffect(()=>{if(s!=="resetPassword"||!r){c("error");return}(async()=>{try{const T=await F3(hi,r);d(T),c("ready")}catch{c("error")}})()},[s,r]);const E=async()=>{if(r){if(!p||p.length<6){alert("비밀번호는 6자 이상이어야 합니다.");return}if(p!==_){alert("비밀번호 확인이 일치하지 않습니다.");return}try{await U3(hi,r,p),alert("비밀번호가 변경되었습니다. 새 비밀번호로 로그인해 주세요."),t("/",{replace:!0})}catch{c("error"),alert("링크가 만료되었거나 유효하지 않습니다. 다시 요청해 주세요.")}}};return l==="checking"?v.jsx(t0,{children:"링크 확인 중..."}):l==="error"?v.jsx(t0,{children:"유효하지 않은 링크입니다."}):l==="done"?v.jsx(t0,{children:"비밀번호 변경이 완료되었습니다."}):v.jsxs(XX,{children:[v.jsxs(QX,{children:[v.jsxs(ZX,{children:[v.jsx(JX,{children:"PDMS"}),v.jsx(tQ,{children:"Pushcomz Design Management System"})]}),v.jsxs(eQ,{children:[v.jsx(nQ,{type:"email",value:h,readOnly:!0}),v.jsx(ER,{type:"password",placeholder:"새 비밀번호 (6자 이상)",value:p,onChange:T=>y(T.target.value)}),v.jsx(ER,{type:"password",placeholder:"새 비밀번호 확인",value:_,onChange:T=>x(T.target.value)})]}),v.jsx(iQ,{onClick:E,children:"비밀번호 재설정"})]}),v.jsx(sQ,{children:"© Pushcomz Corp."})]})}const XX=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:e})=>e.colors.gray01};
`,QX=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:e})=>e.colors.white01};
`,ZX=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,JX=B.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.navy};
`,tQ=B.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,eQ=B.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  gap: 10px;
`,nQ=B.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,ER=B.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,iQ=B.button`
  width: 100%;
  margin-top: 12px;
  padding: 12px 14px;
  font-weight: 700;
  border-radius: 6px;
  color: #fff;
  background: ${({theme:e})=>{var t;return((t=e.colors)==null?void 0:t.navy)??"#0a3b70"}};
`,sQ=B.p`
  margin-top: 20px;
  font-size: 12px;
  font-weight: 300;
  line-height: 18px;
  text-align: center;
`,t0=B.p`
  text-align: center;
  margin: 80px 0;
`;function rQ(){const[e,t]=j.useState(!1),[n,i]=j.useState(!1);return j.useEffect(()=>{let s=()=>{};return(async()=>(await gz(hi),await yz(hi),s=wo(hi,r=>{t(!!r),i(!0)})))(),()=>s()},[]),j.useEffect(()=>{const s=new URLSearchParams(window.location.search),r=s.get("mode"),l=s.get("oobCode");r==="resetPassword"&&l&&(window.location.hash.startsWith("#/reset-password")||(window.location.hash=`/reset-password${window.location.search}`))},[]),n?v.jsx(CN,{children:v.jsxs(rN,{children:[v.jsx(rl,{path:"/",element:e?v.jsx(rb,{to:"/main",replace:!0}):v.jsx(xz,{onLoginSuccess:()=>t(!0)})}),v.jsx(rl,{path:"/main",element:e?v.jsx(vX,{}):v.jsx(rb,{to:"/",replace:!0})}),v.jsx(rl,{path:"/signup",element:v.jsx(TX,{})}),v.jsx(rl,{path:"/find-password",element:v.jsx(UX,{})}),v.jsx(rl,{path:"/reset-password",element:v.jsx(KX,{})}),v.jsx(rl,{path:"*",element:v.jsx(rb,{to:e?"/main":"/",replace:!0})})]})}):null}const aQ=hC`
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    height: 100vh;
    overflow: hidden;
  }

  li {
    list-style: none;
  }

  button {
    background-color: transparent;
    border: none;
    cursor: pointer;
    &:focus {
      outline: none;
    }
  }

  input {
    border: none;

    &:focus {
      outline: none;
    }
  }

  table {
    border-collapse: collapse;

    th, td {
      border: 1px solid #ccc;
    }
  }

  textarea {
    resize: none;
  }

`,oQ={white01:"#fff",white02:"#f4f4f4",white03:"#f4f6fc",red:"#eb193a",navy:"#073863",beige01:"#fff4ea",beige02:"#FFEEDE",orange:"#f88017",lightpupple:"#eaedfa",blue01:"#4f76ff",blue02:"#0B1ABF",gray01:"#ECEDF0",gray02:"#ccc",gray03:"#bdbdbd",gray04:"#f4f4f4",gray05:"#888",gray06:"#666",gray07:"#e5e2e2",gray08:"#F0F3F9",black:"#212121",pink01:"#FFDDDD",pink02:"#F48193",pink03:"#FFEBEB"},lQ={flex:(e="flex-start",t="flex-start")=>`
    display: flex;
    align-items: ${e};
    justify-content: ${t}
  `},cQ={colors:oQ,mixin:lQ};gP.createRoot(document.getElementById("root")).render(v.jsx(j.StrictMode,{children:v.jsxs(jL,{theme:cQ,children:[v.jsx(rQ,{}),v.jsx(aQ,{})]})}));
