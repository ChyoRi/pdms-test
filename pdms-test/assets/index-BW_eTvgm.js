(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function gb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xp={exports:{}},eu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function yb(){if(wE)return eu;wE=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return eu.Fragment=t,eu.jsx=n,eu.jsxs=n,eu}var bE;function _b(){return bE||(bE=1,Xp.exports=yb()),Xp.exports}var z=_b(),Wp={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE;function vb(){if(RE)return Dt;RE=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function A(N){return N===null||typeof N!="object"?null:(N=T&&N[T]||N["@@iterator"],typeof N=="function"?N:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,k={};function B(N,nt,st){this.props=N,this.context=nt,this.refs=k,this.updater=st||x}B.prototype.isReactComponent={},B.prototype.setState=function(N,nt){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,nt,"setState")},B.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function W(){}W.prototype=B.prototype;function K(N,nt,st){this.props=N,this.context=nt,this.refs=k,this.updater=st||x}var rt=K.prototype=new W;rt.constructor=K,L(rt,B.prototype),rt.isPureReactComponent=!0;var lt=Array.isArray,ut={H:null,A:null,T:null,S:null,V:null},ft=Object.prototype.hasOwnProperty;function C(N,nt,st,it,mt,It){return st=It.ref,{$$typeof:r,type:N,key:nt,ref:st!==void 0?st:null,props:It}}function b(N,nt){return C(N.type,nt,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function M(N){var nt={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(st){return nt[st]})}var V=/\/+/g;function U(N,nt){return typeof N=="object"&&N!==null&&N.key!=null?M(""+N.key):nt.toString(36)}function D(){}function xe(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(nt){N.status==="pending"&&(N.status="fulfilled",N.value=nt)},function(nt){N.status==="pending"&&(N.status="rejected",N.reason=nt)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ae(N,nt,st,it,mt){var It=typeof N;(It==="undefined"||It==="boolean")&&(N=null);var vt=!1;if(N===null)vt=!0;else switch(It){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(N.$$typeof){case r:case t:vt=!0;break;case E:return vt=N._init,ae(vt(N._payload),nt,st,it,mt)}}if(vt)return mt=mt(N),vt=it===""?"."+U(N,0):it,lt(mt)?(st="",vt!=null&&(st=vt.replace(V,"$&/")+"/"),ae(mt,nt,st,"",function(Le){return Le})):mt!=null&&(R(mt)&&(mt=b(mt,st+(mt.key==null||N&&N.key===mt.key?"":(""+mt.key).replace(V,"$&/")+"/")+vt)),nt.push(mt)),1;vt=0;var ce=it===""?".":it+":";if(lt(N))for(var qt=0;qt<N.length;qt++)it=N[qt],It=ce+U(it,qt),vt+=ae(it,nt,st,It,mt);else if(qt=A(N),typeof qt=="function")for(N=qt.call(N),qt=0;!(it=N.next()).done;)it=it.value,It=ce+U(it,qt++),vt+=ae(it,nt,st,It,mt);else if(It==="object"){if(typeof N.then=="function")return ae(xe(N),nt,st,it,mt);throw nt=String(N),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return vt}function Y(N,nt,st){if(N==null)return N;var it=[],mt=0;return ae(N,it,"","",function(It){return nt.call(st,It,mt++)}),it}function ot(N){if(N._status===-1){var nt=N._result;nt=nt(),nt.then(function(st){(N._status===0||N._status===-1)&&(N._status=1,N._result=st)},function(st){(N._status===0||N._status===-1)&&(N._status=2,N._result=st)}),N._status===-1&&(N._status=0,N._result=nt)}if(N._status===1)return N._result.default;throw N._result}var pt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Ct(){}return Dt.Children={map:Y,forEach:function(N,nt,st){Y(N,function(){nt.apply(this,arguments)},st)},count:function(N){var nt=0;return Y(N,function(){nt++}),nt},toArray:function(N){return Y(N,function(nt){return nt})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Dt.Component=B,Dt.Fragment=n,Dt.Profiler=o,Dt.PureComponent=K,Dt.StrictMode=s,Dt.Suspense=m,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ut.H.useMemoCache(N)}},Dt.cache=function(N){return function(){return N.apply(null,arguments)}},Dt.cloneElement=function(N,nt,st){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var it=L({},N.props),mt=N.key,It=void 0;if(nt!=null)for(vt in nt.ref!==void 0&&(It=void 0),nt.key!==void 0&&(mt=""+nt.key),nt)!ft.call(nt,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&nt.ref===void 0||(it[vt]=nt[vt]);var vt=arguments.length-2;if(vt===1)it.children=st;else if(1<vt){for(var ce=Array(vt),qt=0;qt<vt;qt++)ce[qt]=arguments[qt+2];it.children=ce}return C(N.type,mt,void 0,void 0,It,it)},Dt.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Dt.createElement=function(N,nt,st){var it,mt={},It=null;if(nt!=null)for(it in nt.key!==void 0&&(It=""+nt.key),nt)ft.call(nt,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(mt[it]=nt[it]);var vt=arguments.length-2;if(vt===1)mt.children=st;else if(1<vt){for(var ce=Array(vt),qt=0;qt<vt;qt++)ce[qt]=arguments[qt+2];mt.children=ce}if(N&&N.defaultProps)for(it in vt=N.defaultProps,vt)mt[it]===void 0&&(mt[it]=vt[it]);return C(N,It,void 0,void 0,null,mt)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(N){return{$$typeof:p,render:N}},Dt.isValidElement=R,Dt.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:ot}},Dt.memo=function(N,nt){return{$$typeof:g,type:N,compare:nt===void 0?null:nt}},Dt.startTransition=function(N){var nt=ut.T,st={};ut.T=st;try{var it=N(),mt=ut.S;mt!==null&&mt(st,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Ct,pt)}catch(It){pt(It)}finally{ut.T=nt}},Dt.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},Dt.use=function(N){return ut.H.use(N)},Dt.useActionState=function(N,nt,st){return ut.H.useActionState(N,nt,st)},Dt.useCallback=function(N,nt){return ut.H.useCallback(N,nt)},Dt.useContext=function(N){return ut.H.useContext(N)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(N,nt){return ut.H.useDeferredValue(N,nt)},Dt.useEffect=function(N,nt,st){var it=ut.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(N,nt)},Dt.useId=function(){return ut.H.useId()},Dt.useImperativeHandle=function(N,nt,st){return ut.H.useImperativeHandle(N,nt,st)},Dt.useInsertionEffect=function(N,nt){return ut.H.useInsertionEffect(N,nt)},Dt.useLayoutEffect=function(N,nt){return ut.H.useLayoutEffect(N,nt)},Dt.useMemo=function(N,nt){return ut.H.useMemo(N,nt)},Dt.useOptimistic=function(N,nt){return ut.H.useOptimistic(N,nt)},Dt.useReducer=function(N,nt,st){return ut.H.useReducer(N,nt,st)},Dt.useRef=function(N){return ut.H.useRef(N)},Dt.useState=function(N){return ut.H.useState(N)},Dt.useSyncExternalStore=function(N,nt,st){return ut.H.useSyncExternalStore(N,nt,st)},Dt.useTransition=function(){return ut.H.useTransition()},Dt.version="19.1.0",Dt}var IE;function sg(){return IE||(IE=1,Wp.exports=vb()),Wp.exports}var G=sg();const er=gb(G);var Zp={exports:{}},nu={},Jp={exports:{}},tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function Eb(){return CE||(CE=1,function(r){function t(Y,ot){var pt=Y.length;Y.push(ot);t:for(;0<pt;){var Ct=pt-1>>>1,N=Y[Ct];if(0<o(N,ot))Y[Ct]=ot,Y[pt]=N,pt=Ct;else break t}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var ot=Y[0],pt=Y.pop();if(pt!==ot){Y[0]=pt;t:for(var Ct=0,N=Y.length,nt=N>>>1;Ct<nt;){var st=2*(Ct+1)-1,it=Y[st],mt=st+1,It=Y[mt];if(0>o(it,pt))mt<N&&0>o(It,it)?(Y[Ct]=It,Y[mt]=pt,Ct=mt):(Y[Ct]=it,Y[st]=pt,Ct=st);else if(mt<N&&0>o(It,pt))Y[Ct]=It,Y[mt]=pt,Ct=mt;else break t}}return ot}function o(Y,ot){var pt=Y.sortIndex-ot.sortIndex;return pt!==0?pt:Y.id-ot.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var m=[],g=[],E=1,T=null,A=3,x=!1,L=!1,k=!1,B=!1,W=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function lt(Y){for(var ot=n(g);ot!==null;){if(ot.callback===null)s(g);else if(ot.startTime<=Y)s(g),ot.sortIndex=ot.expirationTime,t(m,ot);else break;ot=n(g)}}function ut(Y){if(k=!1,lt(Y),!L)if(n(m)!==null)L=!0,ft||(ft=!0,U());else{var ot=n(g);ot!==null&&ae(ut,ot.startTime-Y)}}var ft=!1,C=-1,b=5,R=-1;function M(){return B?!0:!(r.unstable_now()-R<b)}function V(){if(B=!1,ft){var Y=r.unstable_now();R=Y;var ot=!0;try{t:{L=!1,k&&(k=!1,K(C),C=-1),x=!0;var pt=A;try{e:{for(lt(Y),T=n(m);T!==null&&!(T.expirationTime>Y&&M());){var Ct=T.callback;if(typeof Ct=="function"){T.callback=null,A=T.priorityLevel;var N=Ct(T.expirationTime<=Y);if(Y=r.unstable_now(),typeof N=="function"){T.callback=N,lt(Y),ot=!0;break e}T===n(m)&&s(m),lt(Y)}else s(m);T=n(m)}if(T!==null)ot=!0;else{var nt=n(g);nt!==null&&ae(ut,nt.startTime-Y),ot=!1}}break t}finally{T=null,A=pt,x=!1}ot=void 0}}finally{ot?U():ft=!1}}}var U;if(typeof rt=="function")U=function(){rt(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,xe=D.port2;D.port1.onmessage=V,U=function(){xe.postMessage(null)}}else U=function(){W(V,0)};function ae(Y,ot){C=W(function(){Y(r.unstable_now())},ot)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var ot=3;break;default:ot=A}var pt=A;A=ot;try{return Y()}finally{A=pt}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(Y,ot){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var pt=A;A=Y;try{return ot()}finally{A=pt}},r.unstable_scheduleCallback=function(Y,ot,pt){var Ct=r.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Ct+pt:Ct):pt=Ct,Y){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=pt+N,Y={id:E++,callback:ot,priorityLevel:Y,startTime:pt,expirationTime:N,sortIndex:-1},pt>Ct?(Y.sortIndex=pt,t(g,Y),n(m)===null&&Y===n(g)&&(k?(K(C),C=-1):k=!0,ae(ut,pt-Ct))):(Y.sortIndex=N,t(m,Y),L||x||(L=!0,ft||(ft=!0,U()))),Y},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Y){var ot=A;return function(){var pt=A;A=ot;try{return Y.apply(this,arguments)}finally{A=pt}}}}(tm)),tm}var DE;function Tb(){return DE||(DE=1,Jp.exports=Eb()),Jp.exports}var em={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function Sb(){if(xE)return rn;xE=1;var r=sg();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(m,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,E)},rn.flushSync=function(m){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=g,s.p=E,s.d.f()}},rn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},rn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},rn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var E=g.as,T=p(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:x}):E==="script"&&s.d.X(m,{crossOrigin:T,integrity:A,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},rn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=p(E,g.crossOrigin);s.d.L(m,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rn.preloadModule=function(m,g){if(typeof m=="string")if(g){var E=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},rn.requestFormReset=function(m){s.d.r(m)},rn.unstable_batchedUpdates=function(m,g){return m(g)},rn.useFormState=function(m,g,E){return f.H.useFormState(m,g,E)},rn.useFormStatus=function(){return f.H.useHostTransitionStatus()},rn.version="19.1.0",rn}var NE;function Ab(){if(NE)return em.exports;NE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),em.exports=Sb(),em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function wb(){if(OE)return nu;OE=1;var r=Tb(),t=sg(),n=Ab();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function m(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,S=h.child;S;){if(S===a){v=!0,a=h,l=d;break}if(S===l){v=!0,l=h,a=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===a){v=!0,a=d,l=h;break}if(S===l){v=!0,l=d,a=h;break}S=S.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function xe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case B:return"Profiler";case k:return"StrictMode";case ut:return"Suspense";case ft:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case rt:return(e.displayName||"Context")+".Provider";case K:return(e._context.displayName||"Context")+".Consumer";case lt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return i=e.displayName||null,i!==null?i:xe(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return xe(e(i))}catch{}}return null}var ae=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Ct=[],N=-1;function nt(e){return{current:e}}function st(e){0>N||(e.current=Ct[N],Ct[N]=null,N--)}function it(e,i){N++,Ct[N]=e.current,e.current=i}var mt=nt(null),It=nt(null),vt=nt(null),ce=nt(null);function qt(e,i){switch(it(vt,i),it(It,e),it(mt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Zv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Zv(i),e=Jv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}st(mt),it(mt,e)}function Le(){st(mt),st(It),st(vt)}function On(e){e.memoizedState!==null&&it(ce,e);var i=mt.current,a=Jv(i,e.type);i!==a&&(it(It,e),it(mt,a))}function dn(e){It.current===e&&(st(mt),st(It)),ce.current===e&&(st(ce),Xl._currentValue=pt)}var tn=Object.prototype.hasOwnProperty,ys=r.unstable_scheduleCallback,_s=r.unstable_cancelCallback,Qo=r.unstable_shouldYield,Ku=r.unstable_requestPaint,Mn=r.unstable_now,Xf=r.unstable_getCurrentPriorityLevel,Ko=r.unstable_ImmediatePriority,va=r.unstable_UserBlockingPriority,vs=r.unstable_NormalPriority,Wf=r.unstable_LowPriority,Ea=r.unstable_IdlePriority,Yo=r.log,Yu=r.unstable_setDisableYieldValue,de=null,Kt=null;function vn(e){if(typeof Yo=="function"&&Yu(e),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(de,e)}catch{}}var en=Math.clz32?Math.clz32:Es,Xu=Math.log,Zf=Math.LN2;function Es(e){return e>>>=0,e===0?32:31-(Xu(e)/Zf|0)|0}var Ts=256,Ss=4194304;function Yn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ta(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=Yn(l):(v&=S,v!==0?h=Yn(v):a||(a=S&~e,a!==0&&(h=Yn(a))))):(S=l&~d,S!==0?h=Yn(S):v!==0?h=Yn(v):a||(a=l&~e,a!==0&&(h=Yn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function As(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Xo(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wo(){var e=Ts;return Ts<<=1,(Ts&4194048)===0&&(Ts=256),e}function Zo(){var e=Ss;return Ss<<=1,(Ss&62914560)===0&&(Ss=4194304),e}function Pr(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function kr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jo(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,I=e.expirationTimes,H=e.hiddenUpdates;for(a=v&~a;0<a;){var X=31-en(a),tt=1<<X;S[X]=0,I[X]=-1;var F=H[X];if(F!==null)for(H[X]=null,X=0;X<F.length;X++){var $=F[X];$!==null&&($.lane&=-536870913)}a&=~tt}l!==0&&ur(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function ur(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-en(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function tl(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-en(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function vi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Sa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ei(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:_E(e.type))}function Wu(e,i){var a=ot.p;try{return ot.p=e,i()}finally{ot.p=a}}var oe=Math.random().toString(36).slice(2),Ne="__reactFiber$"+oe,Te="__reactProps$"+oe,Vn="__reactContainer$"+oe,el="__reactEvents$"+oe,Jf="__reactListeners$"+oe,Ti="__reactHandles$"+oe,Zu="__reactResources$"+oe,ws="__reactMarker$"+oe;function Si(e){delete e[Ne],delete e[Te],delete e[el],delete e[Jf],delete e[Ti]}function Lr(e){var i=e[Ne];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Vn]||a[Ne]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=rE(e);e!==null;){if(a=e[Ne])return a;e=rE(e)}return i}e=a,a=e.parentNode}return null}function cr(e){if(e=e[Ne]||e[Vn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function hr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function un(e){var i=e[Zu];return i||(i=e[Zu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ye(e){e[ws]=!0}var nl=new Set,Aa={};function Xn(e,i){Ur(e,i),Ur(e+"Capture",i)}function Ur(e,i){for(Aa[e]=i,e=0;e<i.length;e++)nl.add(i[e])}var Ju=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tc={},bs={};function ec(e){return tn.call(bs,e)?!0:tn.call(tc,e)?!1:Ju.test(e)?bs[e]=!0:(tc[e]=!0,!1)}function Ai(e,i,a){if(ec(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function fr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function $e(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var Rs,nc;function zr(e){if(Rs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Rs=i&&i[1]||"",nc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rs+e+nc}var wa=!1;function ba(e,i){if(!e||wa)return"";wa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch($){var F=$}Reflect.construct(e,[],tt)}else{try{tt.call()}catch($){F=$}e.call(tt.prototype)}}else{try{throw Error()}catch($){F=$}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch($){if($&&F&&typeof $.stack=="string")return[$.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var I=v.split(`
`),H=S.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===H.length)for(l=I.length-1,h=H.length-1;1<=l&&0<=h&&I[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==H[h]){var X=`
`+I[l].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=l&&0<=h);break}}}finally{wa=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?zr(a):""}function rl(e){switch(e.tag){case 26:case 27:case 5:return zr(e.type);case 16:return zr("Lazy");case 13:return zr("Suspense");case 19:return zr("SuspenseList");case 0:case 15:return ba(e.type,!1);case 11:return ba(e.type.render,!1);case 1:return ba(e.type,!0);case 31:return zr("Activity");default:return""}}function Ra(e){try{var i="";do i+=rl(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function il(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function td(e){var i=il(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ia(e){e._valueTracker||(e._valueTracker=td(e))}function sl(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=il(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Is(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ed=/[\n"\\]/g;function Se(e){return e.replace(ed,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function En(e,i,a,l,h,d,v,S){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+cn(i)):e.value!==""+cn(i)&&(e.value=""+cn(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?wi(e,v,cn(i)):a!=null?wi(e,v,cn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+cn(S):e.removeAttribute("name")}function Cs(e,i,a,l,h,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+cn(a):"",i=i!=null?""+cn(i):a,S||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function wi(e,i,a){i==="number"&&Is(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function jr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+cn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Wt(e,i,a){if(i!=null&&(i=""+cn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+cn(a):""}function Ds(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=cn(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Pn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var xs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rc(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||xs.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function al(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&rc(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&rc(e,d,i[d])}function ol(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(e){return rd.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Br=null;function kn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qr=null,Hr=null;function ll(e){var i=cr(e);if(i&&(e=i.stateNode)){var a=e[Te]||null;t:switch(e=i.stateNode,i.type){case"input":if(En(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Se(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Te]||null;if(!h)throw Error(s(90));En(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&sl(l)}break t;case"textarea":Wt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&jr(e,!!a.multiple,i,!1)}}}var dr=!1;function ic(e,i,a){if(dr)return e(i,a);dr=!0;try{var l=e(i);return l}finally{if(dr=!1,(qr!==null||Hr!==null)&&(Wc(),qr&&(i=qr,e=Hr,Hr=qr=null,ll(i),e)))for(i=0;i<e.length;i++)ll(e[i])}}function Ns(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Te]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ln=!1;if(Wn)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{Ln=!1}var pr=null,bi=null,Fr=null;function ul(){if(Fr)return Fr;var e,i=bi,a=i.length,l,h="value"in pr?pr.value:pr.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Fr=h.slice(e,1<l?1-l:void 0)}function mr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function gr(){return!0}function cl(){return!1}function Ue(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?gr:cl,this.isPropagationStopped=cl,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),i}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=Ue(Gt),Ms=E({},Gt,{view:0,detail:0}),sc=Ue(Ms),xa,Na,yr,Vs=E({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ls,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yr&&(yr&&e.type==="mousemove"?(xa=e.screenX-yr.screenX,Na=e.screenY-yr.screenY):Na=xa=0,yr=e),xa)},movementY:function(e){return"movementY"in e?e.movementY:Na}}),Un=Ue(Vs),ac=E({},Vs,{dataTransfer:0}),id=Ue(ac),Ps=E({},Ms,{relatedTarget:0}),Oa=Ue(Ps),hl=E({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ma=Ue(hl),oc=E({},Gt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Va=Ue(oc),sd=E({},Gt,{data:0}),fl=Ue(sd),ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dl(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=uc[e])?!!i[e]:!1}function Ls(){return dl}var cc=E({},Ms,{key:function(e){if(e.key){var i=ks[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=mr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ls,charCode:function(e){return e.type==="keypress"?mr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pa=Ue(cc),hc=E({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pl=Ue(hc),Gr=E({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ls}),fc=Ue(Gr),dc=E({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),pc=Ue(dc),mc=E({},Vs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ka=Ue(mc),hn=E({},Gt,{newState:0,oldState:0}),gc=Ue(hn),yc=[9,13,27,32],_r=Wn&&"CompositionEvent"in window,c=null;Wn&&"documentMode"in document&&(c=document.documentMode);var y=Wn&&"TextEvent"in window&&!c,_=Wn&&(!_r||c&&8<c&&11>=c),w=" ",j=!1;function Q(e,i){switch(e){case"keyup":return yc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ut=!1;function Oe(e,i){switch(e){case"compositionend":return at(i);case"keypress":return i.which!==32?null:(j=!0,w);case"textInput":return e=i.data,e===w&&j?null:e;default:return null}}function zt(e,i){if(Ut)return e==="compositionend"||!_r&&Q(e,i)?(e=ul(),Fr=bi=pr=null,Ut=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var ze={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Me(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!ze[e.type]:i==="textarea"}function $r(e,i,a,l){qr?Hr?Hr.push(l):Hr=[l]:qr=l,i=rh(i,"onChange"),0<i.length&&(a=new Da("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Qe=null,vr=null;function ml(e){Qv(e,0)}function _c(e){var i=hr(e);if(sl(i))return e}function py(e,i){if(e==="change")return i}var my=!1;if(Wn){var ad;if(Wn){var od="oninput"in document;if(!od){var gy=document.createElement("div");gy.setAttribute("oninput","return;"),od=typeof gy.oninput=="function"}ad=od}else ad=!1;my=ad&&(!document.documentMode||9<document.documentMode)}function yy(){Qe&&(Qe.detachEvent("onpropertychange",_y),vr=Qe=null)}function _y(e){if(e.propertyName==="value"&&_c(vr)){var i=[];$r(i,vr,e,kn(e)),ic(ml,i)}}function $A(e,i,a){e==="focusin"?(yy(),Qe=i,vr=a,Qe.attachEvent("onpropertychange",_y)):e==="focusout"&&yy()}function QA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _c(vr)}function KA(e,i){if(e==="click")return _c(i)}function YA(e,i){if(e==="input"||e==="change")return _c(i)}function XA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Tn=typeof Object.is=="function"?Object.is:XA;function gl(e,i){if(Tn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!tn.call(i,h)||!Tn(e[h],i[h]))return!1}return!0}function vy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ey(e,i){var a=vy(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=vy(a)}}function Ty(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Ty(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Sy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Is(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Is(e.document)}return i}function ld(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var WA=Wn&&"documentMode"in document&&11>=document.documentMode,La=null,ud=null,yl=null,cd=!1;function Ay(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cd||La==null||La!==Is(l)||(l=La,"selectionStart"in l&&ld(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&gl(yl,l)||(yl=l,l=rh(ud,"onSelect"),0<l.length&&(i=new Da("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=La)))}function Us(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ua={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},hd={},wy={};Wn&&(wy=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function zs(e){if(hd[e])return hd[e];if(!Ua[e])return e;var i=Ua[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in wy)return hd[e]=i[a];return e}var by=zs("animationend"),Ry=zs("animationiteration"),Iy=zs("animationstart"),ZA=zs("transitionrun"),JA=zs("transitionstart"),tw=zs("transitioncancel"),Cy=zs("transitionend"),Dy=new Map,fd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fd.push("scrollEnd");function Zn(e,i){Dy.set(e,i),Xn(i,[e])}var xy=new WeakMap;function zn(e,i){if(typeof e=="object"&&e!==null){var a=xy.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ra(i)},xy.set(e,i),i)}return{value:e,source:i,stack:Ra(i)}}var jn=[],za=0,dd=0;function vc(){for(var e=za,i=dd=za=0;i<e;){var a=jn[i];jn[i++]=null;var l=jn[i];jn[i++]=null;var h=jn[i];jn[i++]=null;var d=jn[i];if(jn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Ny(a,h,d)}}function Ec(e,i,a,l){jn[za++]=e,jn[za++]=i,jn[za++]=a,jn[za++]=l,dd|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function pd(e,i,a,l){return Ec(e,i,a,l),Tc(e)}function ja(e,i){return Ec(e,null,null,i),Tc(e)}function Ny(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-en(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Tc(e){if(50<ql)throw ql=0,Ep=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ba={};function ew(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,i,a,l){return new ew(e,i,a,l)}function md(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qr(e,i){var a=e.alternate;return a===null?(a=Sn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Oy(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Sc(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")md(e)&&(v=1);else if(typeof e=="string")v=rb(e,a,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Sn(31,a,i,h),e.elementType=R,e.lanes=d,e;case L:return js(a.children,h,d,i);case k:v=8,h|=24;break;case B:return e=Sn(12,a,i,h|2),e.elementType=B,e.lanes=d,e;case ut:return e=Sn(13,a,i,h),e.elementType=ut,e.lanes=d,e;case ft:return e=Sn(19,a,i,h),e.elementType=ft,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:case rt:v=10;break t;case K:v=9;break t;case lt:v=11;break t;case C:v=14;break t;case b:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Sn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function js(e,i,a,l){return e=Sn(7,e,l,i),e.lanes=a,e}function gd(e,i,a){return e=Sn(6,e,null,i),e.lanes=a,e}function yd(e,i,a){return i=Sn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var qa=[],Ha=0,Ac=null,wc=0,Bn=[],qn=0,Bs=null,Kr=1,Yr="";function qs(e,i){qa[Ha++]=wc,qa[Ha++]=Ac,Ac=e,wc=i}function My(e,i,a){Bn[qn++]=Kr,Bn[qn++]=Yr,Bn[qn++]=Bs,Bs=e;var l=Kr;e=Yr;var h=32-en(l)-1;l&=~(1<<h),a+=1;var d=32-en(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Kr=1<<32-en(i)+h|a<<h|l,Yr=d+e}else Kr=1<<d|a<<h|l,Yr=e}function _d(e){e.return!==null&&(qs(e,1),My(e,1,0))}function vd(e){for(;e===Ac;)Ac=qa[--Ha],qa[Ha]=null,wc=qa[--Ha],qa[Ha]=null;for(;e===Bs;)Bs=Bn[--qn],Bn[qn]=null,Yr=Bn[--qn],Bn[qn]=null,Kr=Bn[--qn],Bn[qn]=null}var fn=null,pe=null,Ft=!1,Hs=null,Er=!1,Ed=Error(s(519));function Fs(e){var i=Error(s(418,""));throw El(zn(i,e)),Ed}function Vy(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ne]=e,i[Te]=l,a){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(a=0;a<Fl.length;a++)Vt(Fl[a],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),Cs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ia(i);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),Ds(i,l.value,l.defaultValue,l.children),Ia(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Wv(i.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),l.onScroll!=null&&Vt("scroll",i),l.onScrollEnd!=null&&Vt("scrollend",i),l.onClick!=null&&(i.onclick=ih),i=!0):i=!1,i||Fs(e)}function Py(e){for(fn=e.return;fn;)switch(fn.tag){case 5:case 13:Er=!1;return;case 27:case 3:Er=!0;return;default:fn=fn.return}}function _l(e){if(e!==fn)return!1;if(!Ft)return Py(e),Ft=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||kp(e.type,e.memoizedProps)),a=!a),a&&pe&&Fs(e),Py(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){pe=tr(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}pe=null}}else i===27?(i=pe,Bi(e.type)?(e=jp,jp=null,pe=e):pe=i):pe=fn?tr(e.stateNode.nextSibling):null;return!0}function vl(){pe=fn=null,Ft=!1}function ky(){var e=Hs;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),Hs=null),e}function El(e){Hs===null?Hs=[e]:Hs.push(e)}var Td=nt(null),Gs=null,Xr=null;function Ri(e,i,a){it(Td,i._currentValue),i._currentValue=a}function Wr(e){e._currentValue=Td.current,st(Td)}function Sd(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Ad(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=h;for(var I=0;I<i.length;I++)if(S.context===i[I]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Sd(d.return,a,e),l||(v=null);break t}d=S.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Sd(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Tl(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=h.type;Tn(h.pendingProps.value,v.value)||(e!==null?e.push(S):e=[S])}}else if(h===ce.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Xl):e=[Xl])}h=h.return}e!==null&&Ad(i,e,a,l),i.flags|=262144}function bc(e){for(e=e.firstContext;e!==null;){if(!Tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $s(e){Gs=e,Xr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nn(e){return Ly(Gs,e)}function Rc(e,i){return Gs===null&&$s(e),Ly(e,i)}function Ly(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Xr===null){if(e===null)throw Error(s(308));Xr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Xr=Xr.next=i;return a}var nw=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},rw=r.unstable_scheduleCallback,iw=r.unstable_NormalPriority,Ve={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wd(){return{controller:new nw,data:new Map,refCount:0}}function Sl(e){e.refCount--,e.refCount===0&&rw(iw,function(){e.controller.abort()})}var Al=null,bd=0,Fa=0,Ga=null;function sw(e,i){if(Al===null){var a=Al=[];bd=0,Fa=Ip(),Ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return bd++,i.then(Uy,Uy),i}function Uy(){if(--bd===0&&Al!==null){Ga!==null&&(Ga.status="fulfilled");var e=Al;Al=null,Fa=0,Ga=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function aw(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var zy=Y.S;Y.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&sw(e,i),zy!==null&&zy(e,i)};var Qs=nt(null);function Rd(){var e=Qs.current;return e!==null?e:ne.pooledCache}function Ic(e,i){i===null?it(Qs,Qs.current):it(Qs,i.pool)}function jy(){var e=Rd();return e===null?null:{parent:Ve._currentValue,pool:e}}var wl=Error(s(460)),By=Error(s(474)),Cc=Error(s(542)),Id={then:function(){}};function qy(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Dc(){}function Hy(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Dc,Dc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Gy(e),e;default:if(typeof i.status=="string")i.then(Dc,Dc);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Gy(e),e}throw bl=i,wl}}var bl=null;function Fy(){if(bl===null)throw Error(s(459));var e=bl;return bl=null,e}function Gy(e){if(e===wl||e===Cc)throw Error(s(483))}var Ii=!1;function Cd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dd(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ci(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Di(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Tc(e),Ny(e,null,a),i}return Ec(e,l,i,a),Tc(e)}function Rl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,tl(e,a)}}function xd(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Nd=!1;function Il(){if(Nd){var e=Ga;if(e!==null)throw e}}function Cl(e,i,a,l){Nd=!1;var h=e.updateQueue;Ii=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var I=S,H=I.next;I.next=null,v===null?d=H:v.next=H,v=I;var X=e.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==v&&(S===null?X.firstBaseUpdate=H:S.next=H,X.lastBaseUpdate=I))}if(d!==null){var tt=h.baseState;v=0,X=H=I=null,S=d;do{var F=S.lane&-536870913,$=F!==S.lane;if($?(jt&F)===F:(l&F)===F){F!==0&&F===Fa&&(Nd=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var wt=e,Et=S;F=i;var te=a;switch(Et.tag){case 1:if(wt=Et.payload,typeof wt=="function"){tt=wt.call(te,tt,F);break t}tt=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=Et.payload,F=typeof wt=="function"?wt.call(te,tt,F):wt,F==null)break t;tt=E({},tt,F);break t;case 2:Ii=!0}}F=S.callback,F!==null&&(e.flags|=64,$&&(e.flags|=8192),$=h.callbacks,$===null?h.callbacks=[F]:$.push(F))}else $={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(H=X=$,I=tt):X=X.next=$,v|=F;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;$=S,S=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);X===null&&(I=tt),h.baseState=I,h.firstBaseUpdate=H,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Li|=v,e.lanes=v,e.memoizedState=tt}}function $y(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Qy(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)$y(a[e],i)}var $a=nt(null),xc=nt(0);function Ky(e,i){e=ii,it(xc,e),it($a,i),ii=e|i.baseLanes}function Od(){it(xc,ii),it($a,$a.current)}function Md(){ii=xc.current,st($a),st(xc)}var xi=0,Nt=null,Zt=null,Ae=null,Nc=!1,Qa=!1,Ks=!1,Oc=0,Dl=0,Ka=null,ow=0;function _e(){throw Error(s(321))}function Vd(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Tn(e[a],i[a]))return!1;return!0}function Pd(e,i,a,l,h,d){return xi=d,Nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=e===null||e.memoizedState===null?N_:O_,Ks=!1,d=a(l,h),Ks=!1,Qa&&(d=Xy(i,a,l,h)),Yy(e),d}function Yy(e){Y.H=Uc;var i=Zt!==null&&Zt.next!==null;if(xi=0,Ae=Zt=Nt=null,Nc=!1,Dl=0,Ka=null,i)throw Error(s(300));e===null||je||(e=e.dependencies,e!==null&&bc(e)&&(je=!0))}function Xy(e,i,a,l){Nt=e;var h=0;do{if(Qa&&(Ka=null),Dl=0,Qa=!1,25<=h)throw Error(s(301));if(h+=1,Ae=Zt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=pw,d=i(a,l)}while(Qa);return d}function lw(){var e=Y.H,i=e.useState()[0];return i=typeof i.then=="function"?xl(i):i,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(Nt.flags|=1024),i}function kd(){var e=Oc!==0;return Oc=0,e}function Ld(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Ud(e){if(Nc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Nc=!1}xi=0,Ae=Zt=Nt=null,Qa=!1,Dl=Oc=0,Ka=null}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Nt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function we(){if(Zt===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var i=Ae===null?Nt.memoizedState:Ae.next;if(i!==null)Ae=i,Zt=e;else{if(e===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ae===null?Nt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function zd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(e){var i=Dl;return Dl+=1,Ka===null&&(Ka=[]),e=Hy(Ka,e,i),i=Nt,(Ae===null?i.memoizedState:Ae.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?N_:O_),e}function Mc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xl(e);if(e.$$typeof===rt)return nn(e)}throw Error(s(438,String(e)))}function jd(e){var i=null,a=Nt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=zd(),Nt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=M;return i.index++,a}function Zr(e,i){return typeof i=="function"?i(e):i}function Vc(e){var i=we();return Bd(i,Zt,e)}function Bd(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var S=v=null,I=null,H=i,X=!1;do{var tt=H.lane&-536870913;if(tt!==H.lane?(jt&tt)===tt:(xi&tt)===tt){var F=H.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),tt===Fa&&(X=!0);else if((xi&F)===F){H=H.next,F===Fa&&(X=!0);continue}else tt={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(S=I=tt,v=d):I=I.next=tt,Nt.lanes|=F,Li|=F;tt=H.action,Ks&&a(d,tt),d=H.hasEagerState?H.eagerState:a(d,tt)}else F={lane:tt,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(S=I=F,v=d):I=I.next=F,Nt.lanes|=tt,Li|=tt;H=H.next}while(H!==null&&H!==i);if(I===null?v=d:I.next=S,!Tn(d,e.memoizedState)&&(je=!0,X&&(a=Ga,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function qd(e){var i=we(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);Tn(d,i.memoizedState)||(je=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Wy(e,i,a){var l=Nt,h=we(),d=Ft;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!Tn((Zt||h).memoizedState,a);v&&(h.memoizedState=a,je=!0),h=h.queue;var S=t_.bind(null,l,h,e);if(Nl(2048,8,S,[e]),h.getSnapshot!==i||v||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Ya(9,Pc(),Jy.bind(null,l,h,a,i),null),ne===null)throw Error(s(349));d||(xi&124)!==0||Zy(l,i,a)}return a}function Zy(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Nt.updateQueue,i===null?(i=zd(),Nt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Jy(e,i,a,l){i.value=a,i.getSnapshot=l,e_(i)&&n_(e)}function t_(e,i,a){return a(function(){e_(i)&&n_(e)})}function e_(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Tn(e,a)}catch{return!0}}function n_(e){var i=ja(e,2);i!==null&&In(i,e,2)}function Hd(e){var i=pn();if(typeof e=="function"){var a=e;if(e=a(),Ks){vn(!0);try{a()}finally{vn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:e},i}function r_(e,i,a,l){return e.baseState=a,Bd(e,Zt,typeof l=="function"?l:Zr)}function uw(e,i,a,l,h){if(Lc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,i_(i,d)):(d.next=a.next,i.pending=a.next=d)}}function i_(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=Y.T,v={};Y.T=v;try{var S=a(h,l),I=Y.S;I!==null&&I(v,S),s_(e,i,S)}catch(H){Fd(e,i,H)}finally{Y.T=d}}else try{d=a(h,l),s_(e,i,d)}catch(H){Fd(e,i,H)}}function s_(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){a_(e,i,l)},function(l){return Fd(e,i,l)}):a_(e,i,a)}function a_(e,i,a){i.status="fulfilled",i.value=a,o_(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,i_(e,a)))}function Fd(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,o_(i),i=i.next;while(i!==l)}e.action=null}function o_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function l_(e,i){return i}function u_(e,i){if(Ft){var a=ne.formState;if(a!==null){t:{var l=Nt;if(Ft){if(pe){e:{for(var h=pe,d=Er;h.nodeType!==8;){if(!d){h=null;break e}if(h=tr(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){pe=tr(h.nextSibling),l=h.data==="F!";break t}}Fs(l)}l=!1}l&&(i=a[0])}}return a=pn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l_,lastRenderedState:i},a.queue=l,a=C_.bind(null,Nt,l),l.dispatch=a,l=Hd(!1),d=Yd.bind(null,Nt,!1,l.queue),l=pn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=uw.bind(null,Nt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function c_(e){var i=we();return h_(i,Zt,e)}function h_(e,i,a){if(i=Bd(e,i,l_)[0],e=Vc(Zr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=xl(i)}catch(v){throw v===wl?Cc:v}else l=i;i=we();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Nt.flags|=2048,Ya(9,Pc(),cw.bind(null,h,a),null)),[l,d,e]}function cw(e,i){e.action=i}function f_(e){var i=we(),a=Zt;if(a!==null)return h_(i,a,e);we(),i=i.memoizedState,a=we();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ya(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Nt.updateQueue,i===null&&(i=zd(),Nt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Pc(){return{destroy:void 0,resource:void 0}}function d_(){return we().memoizedState}function kc(e,i,a,l){var h=pn();l=l===void 0?null:l,Nt.flags|=e,h.memoizedState=Ya(1|i,Pc(),a,l)}function Nl(e,i,a,l){var h=we();l=l===void 0?null:l;var d=h.memoizedState.inst;Zt!==null&&l!==null&&Vd(l,Zt.memoizedState.deps)?h.memoizedState=Ya(i,d,a,l):(Nt.flags|=e,h.memoizedState=Ya(1|i,d,a,l))}function p_(e,i){kc(8390656,8,e,i)}function m_(e,i){Nl(2048,8,e,i)}function g_(e,i){return Nl(4,2,e,i)}function y_(e,i){return Nl(4,4,e,i)}function __(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function v_(e,i,a){a=a!=null?a.concat([e]):null,Nl(4,4,__.bind(null,i,e),a)}function Gd(){}function E_(e,i){var a=we();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Vd(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function T_(e,i){var a=we();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Vd(i,l[1]))return l[0];if(l=e(),Ks){vn(!0);try{e()}finally{vn(!1)}}return a.memoizedState=[l,i],l}function $d(e,i,a){return a===void 0||(xi&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=wv(),Nt.lanes|=e,Li|=e,a)}function S_(e,i,a,l){return Tn(a,i)?a:$a.current!==null?(e=$d(e,a,l),Tn(e,i)||(je=!0),e):(xi&42)===0?(je=!0,e.memoizedState=a):(e=wv(),Nt.lanes|=e,Li|=e,i)}function A_(e,i,a,l,h){var d=ot.p;ot.p=d!==0&&8>d?d:8;var v=Y.T,S={};Y.T=S,Yd(e,!1,i,a);try{var I=h(),H=Y.S;if(H!==null&&H(S,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=aw(I,l);Ol(e,i,X,Rn(e))}else Ol(e,i,l,Rn(e))}catch(tt){Ol(e,i,{then:function(){},status:"rejected",reason:tt},Rn())}finally{ot.p=d,Y.T=v}}function hw(){}function Qd(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=w_(e).queue;A_(e,h,i,pt,a===null?hw:function(){return b_(e),a(l)})}function w_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:pt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function b_(e){var i=w_(e).next.queue;Ol(e,i,{},Rn())}function Kd(){return nn(Xl)}function R_(){return we().memoizedState}function I_(){return we().memoizedState}function fw(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Rn();e=Ci(a);var l=Di(i,e,a);l!==null&&(In(l,i,a),Rl(l,i,a)),i={cache:wd()},e.payload=i;return}i=i.return}}function dw(e,i,a){var l=Rn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Lc(e)?D_(i,a):(a=pd(e,i,a,l),a!==null&&(In(a,e,l),x_(a,i,l)))}function C_(e,i,a){var l=Rn();Ol(e,i,a,l)}function Ol(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lc(e))D_(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,S=d(v,a);if(h.hasEagerState=!0,h.eagerState=S,Tn(S,v))return Ec(e,i,h,0),ne===null&&vc(),!1}catch{}finally{}if(a=pd(e,i,h,l),a!==null)return In(a,e,l),x_(a,i,l),!0}return!1}function Yd(e,i,a,l){if(l={lane:2,revertLane:Ip(),action:l,hasEagerState:!1,eagerState:null,next:null},Lc(e)){if(i)throw Error(s(479))}else i=pd(e,a,l,2),i!==null&&In(i,e,2)}function Lc(e){var i=e.alternate;return e===Nt||i!==null&&i===Nt}function D_(e,i){Qa=Nc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function x_(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,tl(e,a)}}var Uc={readContext:nn,use:Mc,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e},N_={readContext:nn,use:Mc,useCallback:function(e,i){return pn().memoizedState=[e,i===void 0?null:i],e},useContext:nn,useEffect:p_,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,kc(4194308,4,__.bind(null,i,e),a)},useLayoutEffect:function(e,i){return kc(4194308,4,e,i)},useInsertionEffect:function(e,i){kc(4,2,e,i)},useMemo:function(e,i){var a=pn();i=i===void 0?null:i;var l=e();if(Ks){vn(!0);try{e()}finally{vn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=pn();if(a!==void 0){var h=a(i);if(Ks){vn(!0);try{a(i)}finally{vn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=dw.bind(null,Nt,e),[l.memoizedState,e]},useRef:function(e){var i=pn();return e={current:e},i.memoizedState=e},useState:function(e){e=Hd(e);var i=e.queue,a=C_.bind(null,Nt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Gd,useDeferredValue:function(e,i){var a=pn();return $d(a,e,i)},useTransition:function(){var e=Hd(!1);return e=A_.bind(null,Nt,e.queue,!0,!1),pn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Nt,h=pn();if(Ft){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ne===null)throw Error(s(349));(jt&124)!==0||Zy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,p_(t_.bind(null,l,d,e),[e]),l.flags|=2048,Ya(9,Pc(),Jy.bind(null,l,d,a,i),null),a},useId:function(){var e=pn(),i=ne.identifierPrefix;if(Ft){var a=Yr,l=Kr;a=(l&~(1<<32-en(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Oc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=ow++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Kd,useFormState:u_,useActionState:u_,useOptimistic:function(e){var i=pn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Yd.bind(null,Nt,!0,a),a.dispatch=i,[e,i]},useMemoCache:jd,useCacheRefresh:function(){return pn().memoizedState=fw.bind(null,Nt)}},O_={readContext:nn,use:Mc,useCallback:E_,useContext:nn,useEffect:m_,useImperativeHandle:v_,useInsertionEffect:g_,useLayoutEffect:y_,useMemo:T_,useReducer:Vc,useRef:d_,useState:function(){return Vc(Zr)},useDebugValue:Gd,useDeferredValue:function(e,i){var a=we();return S_(a,Zt.memoizedState,e,i)},useTransition:function(){var e=Vc(Zr)[0],i=we().memoizedState;return[typeof e=="boolean"?e:xl(e),i]},useSyncExternalStore:Wy,useId:R_,useHostTransitionStatus:Kd,useFormState:c_,useActionState:c_,useOptimistic:function(e,i){var a=we();return r_(a,Zt,e,i)},useMemoCache:jd,useCacheRefresh:I_},pw={readContext:nn,use:Mc,useCallback:E_,useContext:nn,useEffect:m_,useImperativeHandle:v_,useInsertionEffect:g_,useLayoutEffect:y_,useMemo:T_,useReducer:qd,useRef:d_,useState:function(){return qd(Zr)},useDebugValue:Gd,useDeferredValue:function(e,i){var a=we();return Zt===null?$d(a,e,i):S_(a,Zt.memoizedState,e,i)},useTransition:function(){var e=qd(Zr)[0],i=we().memoizedState;return[typeof e=="boolean"?e:xl(e),i]},useSyncExternalStore:Wy,useId:R_,useHostTransitionStatus:Kd,useFormState:f_,useActionState:f_,useOptimistic:function(e,i){var a=we();return Zt!==null?r_(a,Zt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:jd,useCacheRefresh:I_},Xa=null,Ml=0;function zc(e){var i=Ml;return Ml+=1,Xa===null&&(Xa=[]),Hy(Xa,e,i)}function Vl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function jc(e,i){throw i.$$typeof===T?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function M_(e){var i=e._init;return i(e._payload)}function V_(e){function i(P,O){if(e){var q=P.deletions;q===null?(P.deletions=[O],P.flags|=16):q.push(O)}}function a(P,O){if(!e)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=Qr(P,O),P.index=0,P.sibling=null,P}function d(P,O,q){return P.index=q,e?(q=P.alternate,q!==null?(q=q.index,q<O?(P.flags|=67108866,O):q):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function S(P,O,q,Z){return O===null||O.tag!==6?(O=gd(q,P.mode,Z),O.return=P,O):(O=h(O,q),O.return=P,O)}function I(P,O,q,Z){var dt=q.type;return dt===L?X(P,O,q.props.children,Z,q.key):O!==null&&(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&M_(dt)===O.type)?(O=h(O,q.props),Vl(O,q),O.return=P,O):(O=Sc(q.type,q.key,q.props,null,P.mode,Z),Vl(O,q),O.return=P,O)}function H(P,O,q,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==q.containerInfo||O.stateNode.implementation!==q.implementation?(O=yd(q,P.mode,Z),O.return=P,O):(O=h(O,q.children||[]),O.return=P,O)}function X(P,O,q,Z,dt){return O===null||O.tag!==7?(O=js(q,P.mode,Z,dt),O.return=P,O):(O=h(O,q),O.return=P,O)}function tt(P,O,q){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=gd(""+O,P.mode,q),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return q=Sc(O.type,O.key,O.props,null,P.mode,q),Vl(q,O),q.return=P,q;case x:return O=yd(O,P.mode,q),O.return=P,O;case b:var Z=O._init;return O=Z(O._payload),tt(P,O,q)}if(ae(O)||U(O))return O=js(O,P.mode,q,null),O.return=P,O;if(typeof O.then=="function")return tt(P,zc(O),q);if(O.$$typeof===rt)return tt(P,Rc(P,O),q);jc(P,O)}return null}function F(P,O,q,Z){var dt=O!==null?O.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return dt!==null?null:S(P,O,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===dt?I(P,O,q,Z):null;case x:return q.key===dt?H(P,O,q,Z):null;case b:return dt=q._init,q=dt(q._payload),F(P,O,q,Z)}if(ae(q)||U(q))return dt!==null?null:X(P,O,q,Z,null);if(typeof q.then=="function")return F(P,O,zc(q),Z);if(q.$$typeof===rt)return F(P,O,Rc(P,q),Z);jc(P,q)}return null}function $(P,O,q,Z,dt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return P=P.get(q)||null,S(O,P,""+Z,dt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return P=P.get(Z.key===null?q:Z.key)||null,I(O,P,Z,dt);case x:return P=P.get(Z.key===null?q:Z.key)||null,H(O,P,Z,dt);case b:var Ot=Z._init;return Z=Ot(Z._payload),$(P,O,q,Z,dt)}if(ae(Z)||U(Z))return P=P.get(q)||null,X(O,P,Z,dt,null);if(typeof Z.then=="function")return $(P,O,q,zc(Z),dt);if(Z.$$typeof===rt)return $(P,O,q,Rc(O,Z),dt);jc(O,Z)}return null}function wt(P,O,q,Z){for(var dt=null,Ot=null,gt=O,Tt=O=0,qe=null;gt!==null&&Tt<q.length;Tt++){gt.index>Tt?(qe=gt,gt=null):qe=gt.sibling;var Ht=F(P,gt,q[Tt],Z);if(Ht===null){gt===null&&(gt=qe);break}e&&gt&&Ht.alternate===null&&i(P,gt),O=d(Ht,O,Tt),Ot===null?dt=Ht:Ot.sibling=Ht,Ot=Ht,gt=qe}if(Tt===q.length)return a(P,gt),Ft&&qs(P,Tt),dt;if(gt===null){for(;Tt<q.length;Tt++)gt=tt(P,q[Tt],Z),gt!==null&&(O=d(gt,O,Tt),Ot===null?dt=gt:Ot.sibling=gt,Ot=gt);return Ft&&qs(P,Tt),dt}for(gt=l(gt);Tt<q.length;Tt++)qe=$(gt,P,Tt,q[Tt],Z),qe!==null&&(e&&qe.alternate!==null&&gt.delete(qe.key===null?Tt:qe.key),O=d(qe,O,Tt),Ot===null?dt=qe:Ot.sibling=qe,Ot=qe);return e&&gt.forEach(function($i){return i(P,$i)}),Ft&&qs(P,Tt),dt}function Et(P,O,q,Z){if(q==null)throw Error(s(151));for(var dt=null,Ot=null,gt=O,Tt=O=0,qe=null,Ht=q.next();gt!==null&&!Ht.done;Tt++,Ht=q.next()){gt.index>Tt?(qe=gt,gt=null):qe=gt.sibling;var $i=F(P,gt,Ht.value,Z);if($i===null){gt===null&&(gt=qe);break}e&&gt&&$i.alternate===null&&i(P,gt),O=d($i,O,Tt),Ot===null?dt=$i:Ot.sibling=$i,Ot=$i,gt=qe}if(Ht.done)return a(P,gt),Ft&&qs(P,Tt),dt;if(gt===null){for(;!Ht.done;Tt++,Ht=q.next())Ht=tt(P,Ht.value,Z),Ht!==null&&(O=d(Ht,O,Tt),Ot===null?dt=Ht:Ot.sibling=Ht,Ot=Ht);return Ft&&qs(P,Tt),dt}for(gt=l(gt);!Ht.done;Tt++,Ht=q.next())Ht=$(gt,P,Tt,Ht.value,Z),Ht!==null&&(e&&Ht.alternate!==null&&gt.delete(Ht.key===null?Tt:Ht.key),O=d(Ht,O,Tt),Ot===null?dt=Ht:Ot.sibling=Ht,Ot=Ht);return e&&gt.forEach(function(mb){return i(P,mb)}),Ft&&qs(P,Tt),dt}function te(P,O,q,Z){if(typeof q=="object"&&q!==null&&q.type===L&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:t:{for(var dt=q.key;O!==null;){if(O.key===dt){if(dt=q.type,dt===L){if(O.tag===7){a(P,O.sibling),Z=h(O,q.props.children),Z.return=P,P=Z;break t}}else if(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===b&&M_(dt)===O.type){a(P,O.sibling),Z=h(O,q.props),Vl(Z,q),Z.return=P,P=Z;break t}a(P,O);break}else i(P,O);O=O.sibling}q.type===L?(Z=js(q.props.children,P.mode,Z,q.key),Z.return=P,P=Z):(Z=Sc(q.type,q.key,q.props,null,P.mode,Z),Vl(Z,q),Z.return=P,P=Z)}return v(P);case x:t:{for(dt=q.key;O!==null;){if(O.key===dt)if(O.tag===4&&O.stateNode.containerInfo===q.containerInfo&&O.stateNode.implementation===q.implementation){a(P,O.sibling),Z=h(O,q.children||[]),Z.return=P,P=Z;break t}else{a(P,O);break}else i(P,O);O=O.sibling}Z=yd(q,P.mode,Z),Z.return=P,P=Z}return v(P);case b:return dt=q._init,q=dt(q._payload),te(P,O,q,Z)}if(ae(q))return wt(P,O,q,Z);if(U(q)){if(dt=U(q),typeof dt!="function")throw Error(s(150));return q=dt.call(q),Et(P,O,q,Z)}if(typeof q.then=="function")return te(P,O,zc(q),Z);if(q.$$typeof===rt)return te(P,O,Rc(P,q),Z);jc(P,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,O!==null&&O.tag===6?(a(P,O.sibling),Z=h(O,q),Z.return=P,P=Z):(a(P,O),Z=gd(q,P.mode,Z),Z.return=P,P=Z),v(P)):a(P,O)}return function(P,O,q,Z){try{Ml=0;var dt=te(P,O,q,Z);return Xa=null,dt}catch(gt){if(gt===wl||gt===Cc)throw gt;var Ot=Sn(29,gt,null,P.mode);return Ot.lanes=Z,Ot.return=P,Ot}finally{}}}var Wa=V_(!0),P_=V_(!1),Hn=nt(null),Tr=null;function Ni(e){var i=e.alternate;it(Pe,Pe.current&1),it(Hn,e),Tr===null&&(i===null||$a.current!==null||i.memoizedState!==null)&&(Tr=e)}function k_(e){if(e.tag===22){if(it(Pe,Pe.current),it(Hn,e),Tr===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Tr=e)}}else Oi()}function Oi(){it(Pe,Pe.current),it(Hn,Hn.current)}function Jr(e){st(Hn),Tr===e&&(Tr=null),st(Pe)}var Pe=nt(0);function Bc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||zp(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Xd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Wd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Rn(),h=Ci(l);h.payload=i,a!=null&&(h.callback=a),i=Di(e,h,l),i!==null&&(In(i,e,l),Rl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Rn(),h=Ci(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Di(e,h,l),i!==null&&(In(i,e,l),Rl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Rn(),l=Ci(a);l.tag=2,i!=null&&(l.callback=i),i=Di(e,l,a),i!==null&&(In(i,e,a),Rl(i,e,a))}};function L_(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!gl(a,l)||!gl(h,d):!0}function U_(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Wd.enqueueReplaceState(i,i.state,null)}function Ys(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var qc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function z_(e){qc(e)}function j_(e){console.error(e)}function B_(e){qc(e)}function Hc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function q_(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Zd(e,i,a){return a=Ci(a),a.tag=3,a.payload={element:null},a.callback=function(){Hc(e,i)},a}function H_(e){return e=Ci(e),e.tag=3,e}function F_(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){q_(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){q_(i,a,l),typeof h!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function mw(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Tl(i,a,h,!0),a=Hn.current,a!==null){switch(a.tag){case 13:return Tr===null?Sp():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Id?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),wp(e,l,h)),!1;case 22:return a.flags|=65536,l===Id?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),wp(e,l,h)),!1}throw Error(s(435,a.tag))}return wp(e,l,h),Sp(),!1}if(Ft)return i=Hn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Ed&&(e=Error(s(422),{cause:l}),El(zn(e,a)))):(l!==Ed&&(i=Error(s(423),{cause:l}),El(zn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=zn(l,a),h=Zd(e.stateNode,l,h),xd(e,h),me!==4&&(me=2)),!1;var d=Error(s(520),{cause:l});if(d=zn(d,a),Bl===null?Bl=[d]:Bl.push(d),me!==4&&(me=2),i===null)return!0;l=zn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Zd(a.stateNode,l,e),xd(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ui===null||!Ui.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=H_(h),F_(h,e,a,l),xd(a,h),!1}a=a.return}while(a!==null);return!1}var G_=Error(s(461)),je=!1;function Ke(e,i,a,l){i.child=e===null?P_(i,null,a,l):Wa(i,e.child,a,l)}function $_(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return $s(i),l=Pd(e,i,a,v,d,h),S=kd(),e!==null&&!je?(Ld(e,i,h),ti(e,i,h)):(Ft&&S&&_d(i),i.flags|=1,Ke(e,i,l,h),i.child)}function Q_(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!md(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,K_(e,i,d,l,h)):(e=Sc(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!ap(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:gl,a(v,l)&&e.ref===i.ref)return ti(e,i,h)}return i.flags|=1,e=Qr(d,l),e.ref=i.ref,e.return=i,i.child=e}function K_(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(gl(d,l)&&e.ref===i.ref)if(je=!1,i.pendingProps=l=d,ap(e,h))(e.flags&131072)!==0&&(je=!0);else return i.lanes=e.lanes,ti(e,i,h)}return Jd(e,i,a,l,h)}function Y_(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return X_(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ic(i,d!==null?d.cachePool:null),d!==null?Ky(i,d):Od(),k_(i);else return i.lanes=i.childLanes=536870912,X_(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ic(i,d.cachePool),Ky(i,d),Oi(),i.memoizedState=null):(e!==null&&Ic(i,null),Od(),Oi());return Ke(e,i,h,a),i.child}function X_(e,i,a,l){var h=Rd();return h=h===null?null:{parent:Ve._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Ic(i,null),Od(),k_(i),e!==null&&Tl(e,i,l,!0),null}function Fc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Jd(e,i,a,l,h){return $s(i),a=Pd(e,i,a,l,void 0,h),l=kd(),e!==null&&!je?(Ld(e,i,h),ti(e,i,h)):(Ft&&l&&_d(i),i.flags|=1,Ke(e,i,a,h),i.child)}function W_(e,i,a,l,h,d){return $s(i),i.updateQueue=null,a=Xy(i,l,a,h),Yy(e),l=kd(),e!==null&&!je?(Ld(e,i,d),ti(e,i,d)):(Ft&&l&&_d(i),i.flags|=1,Ke(e,i,a,d),i.child)}function Z_(e,i,a,l,h){if($s(i),i.stateNode===null){var d=Ba,v=a.contextType;typeof v=="object"&&v!==null&&(d=nn(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Wd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Cd(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?nn(v):Ba,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Xd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Wd.enqueueReplaceState(d,d.state,null),Cl(i,l,d,h),Il(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var S=i.memoizedProps,I=Ys(a,S);d.props=I;var H=d.context,X=a.contextType;v=Ba,typeof X=="object"&&X!==null&&(v=nn(X));var tt=a.getDerivedStateFromProps;X=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||H!==v)&&U_(i,d,l,v),Ii=!1;var F=i.memoizedState;d.state=F,Cl(i,l,d,h),Il(),H=i.memoizedState,S||F!==H||Ii?(typeof tt=="function"&&(Xd(i,a,tt,l),H=i.memoizedState),(I=Ii||L_(i,a,I,l,F,H,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Dd(e,i),v=i.memoizedProps,X=Ys(a,v),d.props=X,tt=i.pendingProps,F=d.context,H=a.contextType,I=Ba,typeof H=="object"&&H!==null&&(I=nn(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==tt||F!==I)&&U_(i,d,l,I),Ii=!1,F=i.memoizedState,d.state=F,Cl(i,l,d,h),Il();var $=i.memoizedState;v!==tt||F!==$||Ii||e!==null&&e.dependencies!==null&&bc(e.dependencies)?(typeof S=="function"&&(Xd(i,a,S,l),$=i.memoizedState),(X=Ii||L_(i,a,X,l,F,$,I)||e!==null&&e.dependencies!==null&&bc(e.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),d.props=l,d.state=$,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Fc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Wa(i,e.child,null,h),i.child=Wa(i,null,a,h)):Ke(e,i,a,h),i.memoizedState=d.state,e=i.child):e=ti(e,i,h),e}function J_(e,i,a,l){return vl(),i.flags|=256,Ke(e,i,a,l),i.child}var tp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ep(e){return{baseLanes:e,cachePool:jy()}}function np(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Fn),e}function tv(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ft){if(h?Ni(i):Oi(),Ft){var S=pe,I;if(I=S){t:{for(I=S,S=Er;I.nodeType!==8;){if(!S){S=null;break t}if(I=tr(I.nextSibling),I===null){S=null;break t}}S=I}S!==null?(i.memoizedState={dehydrated:S,treeContext:Bs!==null?{id:Kr,overflow:Yr}:null,retryLane:536870912,hydrationErrors:null},I=Sn(18,null,null,0),I.stateNode=S,I.return=i,i.child=I,fn=i,pe=null,I=!0):I=!1}I||Fs(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return zp(S)?i.lanes=32:i.lanes=536870912,null;Jr(i)}return S=l.children,l=l.fallback,h?(Oi(),h=i.mode,S=Gc({mode:"hidden",children:S},h),l=js(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,h=i.child,h.memoizedState=ep(a),h.childLanes=np(e,v,a),i.memoizedState=tp,l):(Ni(i),rp(i,S))}if(I=e.memoizedState,I!==null&&(S=I.dehydrated,S!==null)){if(d)i.flags&256?(Ni(i),i.flags&=-257,i=ip(e,i,a)):i.memoizedState!==null?(Oi(),i.child=e.child,i.flags|=128,i=null):(Oi(),h=l.fallback,S=i.mode,l=Gc({mode:"visible",children:l.children},S),h=js(h,S,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Wa(i,e.child,null,a),l=i.child,l.memoizedState=ep(a),l.childLanes=np(e,v,a),i.memoizedState=tp,i=h);else if(Ni(i),zp(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(s(419)),l.stack="",l.digest=v,El({value:l,source:null,stack:null}),i=ip(e,i,a)}else if(je||Tl(e,i,a,!1),v=(a&e.childLanes)!==0,je||v){if(v=ne,v!==null&&(l=a&-a,l=(l&42)!==0?1:vi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,ja(e,l),In(v,e,l),G_;S.data==="$?"||Sp(),i=ip(e,i,a)}else S.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,pe=tr(S.nextSibling),fn=i,Ft=!0,Hs=null,Er=!1,e!==null&&(Bn[qn++]=Kr,Bn[qn++]=Yr,Bn[qn++]=Bs,Kr=e.id,Yr=e.overflow,Bs=i),i=rp(i,l.children),i.flags|=4096);return i}return h?(Oi(),h=l.fallback,S=i.mode,I=e.child,H=I.sibling,l=Qr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?h=Qr(H,h):(h=js(h,S,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,S=e.child.memoizedState,S===null?S=ep(a):(I=S.cachePool,I!==null?(H=Ve._currentValue,I=I.parent!==H?{parent:H,pool:H}:I):I=jy(),S={baseLanes:S.baseLanes|a,cachePool:I}),h.memoizedState=S,h.childLanes=np(e,v,a),i.memoizedState=tp,l):(Ni(i),a=e.child,e=a.sibling,a=Qr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function rp(e,i){return i=Gc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Gc(e,i){return e=Sn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ip(e,i,a){return Wa(i,e.child,null,a),e=rp(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function ev(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Sd(e.return,i,a)}function sp(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function nv(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ke(e,i,l.children,a),l=Pe.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ev(e,a,i);else if(e.tag===19)ev(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(it(Pe,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Bc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),sp(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Bc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}sp(i,!0,a,null,d);break;case"together":sp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ti(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Li|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Tl(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Qr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Qr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function ap(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&bc(e)))}function gw(e,i,a){switch(i.tag){case 3:qt(i,i.stateNode.containerInfo),Ri(i,Ve,e.memoizedState.cache),vl();break;case 27:case 5:On(i);break;case 4:qt(i,i.stateNode.containerInfo);break;case 10:Ri(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ni(i),i.flags|=128,null):(a&i.child.childLanes)!==0?tv(e,i,a):(Ni(i),e=ti(e,i,a),e!==null?e.sibling:null);Ni(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Tl(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return nv(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Pe,Pe.current),l)break;return null;case 22:case 23:return i.lanes=0,Y_(e,i,a);case 24:Ri(i,Ve,e.memoizedState.cache)}return ti(e,i,a)}function rv(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)je=!0;else{if(!ap(e,a)&&(i.flags&128)===0)return je=!1,gw(e,i,a);je=(e.flags&131072)!==0}else je=!1,Ft&&(i.flags&1048576)!==0&&My(i,wc,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")md(l)?(e=Ys(l,e),i.tag=1,i=Z_(null,i,l,e,a)):(i.tag=0,i=Jd(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===lt){i.tag=11,i=$_(null,i,l,e,a);break t}else if(h===C){i.tag=14,i=Q_(null,i,l,e,a);break t}}throw i=xe(l)||l,Error(s(306,i,""))}}return i;case 0:return Jd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ys(l,i.pendingProps),Z_(e,i,l,h,a);case 3:t:{if(qt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Dd(e,i),Cl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Ri(i,Ve,l),l!==d.cache&&Ad(i,[Ve],a,!0),Il(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=J_(e,i,l,a);break t}else if(l!==h){h=zn(Error(s(424)),i),El(h),i=J_(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(pe=tr(e.firstChild),fn=i,Ft=!0,Hs=null,Er=!0,a=P_(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(vl(),l===h){i=ti(e,i,a);break t}Ke(e,i,l,a)}i=i.child}return i;case 26:return Fc(e,i),e===null?(a=oE(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ft||(a=i.type,e=i.pendingProps,l=sh(vt.current).createElement(a),l[Ne]=i,l[Te]=e,Xe(l,a,e),ye(l),i.stateNode=l):i.memoizedState=oE(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return On(i),e===null&&Ft&&(l=i.stateNode=iE(i.type,i.pendingProps,vt.current),fn=i,Er=!0,h=pe,Bi(i.type)?(jp=h,pe=tr(l.firstChild)):pe=h),Ke(e,i,i.pendingProps.children,a),Fc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ft&&((h=l=pe)&&(l=Fw(l,i.type,i.pendingProps,Er),l!==null?(i.stateNode=l,fn=i,pe=tr(l.firstChild),Er=!1,h=!0):h=!1),h||Fs(i)),On(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,kp(h,d)?l=null:v!==null&&kp(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Pd(e,i,lw,null,null,a),Xl._currentValue=h),Fc(e,i),Ke(e,i,l,a),i.child;case 6:return e===null&&Ft&&((e=a=pe)&&(a=Gw(a,i.pendingProps,Er),a!==null?(i.stateNode=a,fn=i,pe=null,e=!0):e=!1),e||Fs(i)),null;case 13:return tv(e,i,a);case 4:return qt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Wa(i,null,l,a):Ke(e,i,l,a),i.child;case 11:return $_(e,i,i.type,i.pendingProps,a);case 7:return Ke(e,i,i.pendingProps,a),i.child;case 8:return Ke(e,i,i.pendingProps.children,a),i.child;case 12:return Ke(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ri(i,i.type,l.value),Ke(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,$s(i),h=nn(h),l=l(h),i.flags|=1,Ke(e,i,l,a),i.child;case 14:return Q_(e,i,i.type,i.pendingProps,a);case 15:return K_(e,i,i.type,i.pendingProps,a);case 19:return nv(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=Gc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Qr(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Y_(e,i,a);case 24:return $s(i),l=nn(Ve),e===null?(h=Rd(),h===null&&(h=ne,d=wd(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Cd(i),Ri(i,Ve,h)):((e.lanes&a)!==0&&(Dd(e,i),Cl(i,null,null,a),Il()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ri(i,Ve,l)):(l=d.cache,Ri(i,Ve,l),l!==h.cache&&Ad(i,[Ve],a,!0))),Ke(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ei(e){e.flags|=4}function iv(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!fE(i)){if(i=Hn.current,i!==null&&((jt&4194048)===jt?Tr!==null:(jt&62914560)!==jt&&(jt&536870912)===0||i!==Tr))throw bl=Id,By;e.flags|=8192}}function $c(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Zo():536870912,e.lanes|=i,eo|=i)}function Pl(e,i){if(!Ft)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function he(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function yw(e,i,a){var l=i.pendingProps;switch(vd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(i),null;case 1:return he(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Wr(Ve),Le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(_l(i)?ei(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ky())),he(i),null;case 26:return a=i.memoizedState,e===null?(ei(i),a!==null?(he(i),iv(i,a)):(he(i),i.flags&=-16777217)):a?a!==e.memoizedState?(ei(i),he(i),iv(i,a)):(he(i),i.flags&=-16777217):(e.memoizedProps!==l&&ei(i),he(i),i.flags&=-16777217),null;case 27:dn(i),a=vt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ei(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return he(i),null}e=mt.current,_l(i)?Vy(i):(e=iE(h,l,a),i.stateNode=e,ei(i))}return he(i),null;case 5:if(dn(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ei(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return he(i),null}if(e=mt.current,_l(i))Vy(i);else{switch(h=sh(vt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Ne]=i,e[Te]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Xe(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ei(i)}}return he(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&ei(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=vt.current,_l(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=fn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ne]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Wv(e.nodeValue,a)),e||Fs(i)}else e=sh(e).createTextNode(l),e[Ne]=i,i.stateNode=e}return he(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_l(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ne]=i}else vl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;he(i),h=!1}else h=ky(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Jr(i),i):(Jr(i),null)}if(Jr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),$c(i,i.updateQueue),he(i),null;case 4:return Le(),e===null&&Np(i.stateNode.containerInfo),he(i),null;case 10:return Wr(i.type),he(i),null;case 19:if(st(Pe),h=i.memoizedState,h===null)return he(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Pl(h,!1);else{if(me!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Bc(e),d!==null){for(i.flags|=128,Pl(h,!1),e=d.updateQueue,i.updateQueue=e,$c(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Oy(a,e),a=a.sibling;return it(Pe,Pe.current&1|2),i.child}e=e.sibling}h.tail!==null&&Mn()>Yc&&(i.flags|=128,l=!0,Pl(h,!1),i.lanes=4194304)}else{if(!l)if(e=Bc(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,$c(i,e),Pl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ft)return he(i),null}else 2*Mn()-h.renderingStartTime>Yc&&a!==536870912&&(i.flags|=128,l=!0,Pl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Mn(),i.sibling=null,e=Pe.current,it(Pe,l?e&1|2:e&1),i):(he(i),null);case 22:case 23:return Jr(i),Md(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(he(i),i.subtreeFlags&6&&(i.flags|=8192)):he(i),a=i.updateQueue,a!==null&&$c(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&st(Qs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Wr(Ve),he(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function _w(e,i){switch(vd(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Wr(Ve),Le(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return dn(i),null;case 13:if(Jr(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));vl()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return st(Pe),null;case 4:return Le(),null;case 10:return Wr(i.type),null;case 22:case 23:return Jr(i),Md(),e!==null&&st(Qs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Wr(Ve),null;case 25:return null;default:return null}}function sv(e,i){switch(vd(i),i.tag){case 3:Wr(Ve),Le();break;case 26:case 27:case 5:dn(i);break;case 4:Le();break;case 13:Jr(i);break;case 19:st(Pe);break;case 10:Wr(i.type);break;case 22:case 23:Jr(i),Md(),e!==null&&st(Qs);break;case 24:Wr(Ve)}}function kl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(S){ee(i,i.return,S)}}function Mi(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,h=i;var I=a,H=S;try{H()}catch(X){ee(h,I,X)}}}l=l.next}while(l!==d)}}catch(X){ee(i,i.return,X)}}function av(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Qy(i,a)}catch(l){ee(e,e.return,l)}}}function ov(e,i,a){a.props=Ys(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ee(e,i,l)}}function Ll(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){ee(e,i,h)}}function Sr(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ee(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ee(e,i,h)}else a.current=null}function lv(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ee(e,e.return,h)}}function op(e,i,a){try{var l=e.stateNode;zw(l,e.type,a,i),l[Te]=i}catch(h){ee(e,e.return,h)}}function uv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Bi(e.type)||e.tag===4}function lp(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||uv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Bi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function up(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ih));else if(l!==4&&(l===27&&Bi(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(up(e,i,a),e=e.sibling;e!==null;)up(e,i,a),e=e.sibling}function Qc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Bi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Qc(e,i,a),e=e.sibling;e!==null;)Qc(e,i,a),e=e.sibling}function cv(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Xe(i,l,a),i[Ne]=e,i[Te]=a}catch(d){ee(e,e.return,d)}}var ni=!1,ve=!1,cp=!1,hv=typeof WeakSet=="function"?WeakSet:Set,Be=null;function vw(e,i){if(e=e.containerInfo,Vp=hh,e=Sy(e),ld(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,S=-1,I=-1,H=0,X=0,tt=e,F=null;e:for(;;){for(var $;tt!==a||h!==0&&tt.nodeType!==3||(S=v+h),tt!==d||l!==0&&tt.nodeType!==3||(I=v+l),tt.nodeType===3&&(v+=tt.nodeValue.length),($=tt.firstChild)!==null;)F=tt,tt=$;for(;;){if(tt===e)break e;if(F===a&&++H===h&&(S=v),F===d&&++X===l&&(I=v),($=tt.nextSibling)!==null)break;tt=F,F=tt.parentNode}tt=$}a=S===-1||I===-1?null:{start:S,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pp={focusedElem:e,selectionRange:a},hh=!1,Be=i;Be!==null;)if(i=Be,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Be=e;else for(;Be!==null;){switch(i=Be,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var wt=Ys(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(wt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Et){ee(a,a.return,Et)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Up(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Up(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Be=e;break}Be=i.return}}function fv(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Vi(e,a),l&4&&kl(5,a);break;case 1:if(Vi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){ee(a,a.return,v)}else{var h=Ys(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){ee(a,a.return,v)}}l&64&&av(a),l&512&&Ll(a,a.return);break;case 3:if(Vi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Qy(e,i)}catch(v){ee(a,a.return,v)}}break;case 27:i===null&&l&4&&cv(a);case 26:case 5:Vi(e,a),i===null&&l&4&&lv(a),l&512&&Ll(a,a.return);break;case 12:Vi(e,a);break;case 13:Vi(e,a),l&4&&mv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Cw.bind(null,a),$w(e,a))));break;case 22:if(l=a.memoizedState!==null||ni,!l){i=i!==null&&i.memoizedState!==null||ve,h=ni;var d=ve;ni=l,(ve=i)&&!d?Pi(e,a,(a.subtreeFlags&8772)!==0):Vi(e,a),ni=h,ve=d}break;case 30:break;default:Vi(e,a)}}function dv(e){var i=e.alternate;i!==null&&(e.alternate=null,dv(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Si(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,mn=!1;function ri(e,i,a){for(a=a.child;a!==null;)pv(e,i,a),a=a.sibling}function pv(e,i,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(de,a)}catch{}switch(a.tag){case 26:ve||Sr(a,i),ri(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ve||Sr(a,i);var l=le,h=mn;Bi(a.type)&&(le=a.stateNode,mn=!1),ri(e,i,a),$l(a.stateNode),le=l,mn=h;break;case 5:ve||Sr(a,i);case 6:if(l=le,h=mn,le=null,ri(e,i,a),le=l,mn=h,le!==null)if(mn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(d){ee(a,i,d)}else try{le.removeChild(a.stateNode)}catch(d){ee(a,i,d)}break;case 18:le!==null&&(mn?(e=le,nE(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),tu(e)):nE(le,a.stateNode));break;case 4:l=le,h=mn,le=a.stateNode.containerInfo,mn=!0,ri(e,i,a),le=l,mn=h;break;case 0:case 11:case 14:case 15:ve||Mi(2,a,i),ve||Mi(4,a,i),ri(e,i,a);break;case 1:ve||(Sr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ov(a,i,l)),ri(e,i,a);break;case 21:ri(e,i,a);break;case 22:ve=(l=ve)||a.memoizedState!==null,ri(e,i,a),ve=l;break;default:ri(e,i,a)}}function mv(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{tu(e)}catch(a){ee(i,i.return,a)}}function Ew(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new hv),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new hv),i;default:throw Error(s(435,e.tag))}}function hp(e,i){var a=Ew(e);i.forEach(function(l){var h=Dw.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function An(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,S=v;t:for(;S!==null;){switch(S.tag){case 27:if(Bi(S.type)){le=S.stateNode,mn=!1;break t}break;case 5:le=S.stateNode,mn=!1;break t;case 3:case 4:le=S.stateNode.containerInfo,mn=!0;break t}S=S.return}if(le===null)throw Error(s(160));pv(d,v,h),le=null,mn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)gv(i,e),i=i.sibling}var Jn=null;function gv(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:An(i,e),wn(e),l&4&&(Mi(3,e,e.return),kl(3,e),Mi(5,e,e.return));break;case 1:An(i,e),wn(e),l&512&&(ve||a===null||Sr(a,a.return)),l&64&&ni&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Jn;if(An(i,e),wn(e),l&512&&(ve||a===null||Sr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ws]||d[Ne]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Xe(d,l,a),d[Ne]=e,ye(d),l=d;break t;case"link":var v=cE("link","href",h).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break e}}d=h.createElement(l),Xe(d,l,a),h.head.appendChild(d);break;case"meta":if(v=cE("meta","content",h).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break e}}d=h.createElement(l),Xe(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ne]=e,ye(d),l=d}e.stateNode=l}else hE(h,e.type,e.stateNode);else e.stateNode=uE(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?hE(h,e.type,e.stateNode):uE(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&op(e,e.memoizedProps,a.memoizedProps)}break;case 27:An(i,e),wn(e),l&512&&(ve||a===null||Sr(a,a.return)),a!==null&&l&4&&op(e,e.memoizedProps,a.memoizedProps);break;case 5:if(An(i,e),wn(e),l&512&&(ve||a===null||Sr(a,a.return)),e.flags&32){h=e.stateNode;try{Pn(h,"")}catch($){ee(e,e.return,$)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,op(e,h,a!==null?a.memoizedProps:h)),l&1024&&(cp=!0);break;case 6:if(An(i,e),wn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch($){ee(e,e.return,$)}}break;case 3:if(lh=null,h=Jn,Jn=ah(i.containerInfo),An(i,e),Jn=h,wn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{tu(i.containerInfo)}catch($){ee(e,e.return,$)}cp&&(cp=!1,yv(e));break;case 4:l=Jn,Jn=ah(e.stateNode.containerInfo),An(i,e),wn(e),Jn=l;break;case 12:An(i,e),wn(e);break;case 13:An(i,e),wn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yp=Mn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,hp(e,l)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,H=ni,X=ve;if(ni=H||h,ve=X||I,An(i,e),ve=X,ni=H,wn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||ni||ve||Xs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=I.stateNode;var tt=I.memoizedProps.style,F=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch($){ee(I,I.return,$)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch($){ee(I,I.return,$)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,hp(e,a))));break;case 19:An(i,e),wn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,hp(e,l)));break;case 30:break;case 21:break;default:An(i,e),wn(e)}}function wn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(uv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=lp(e);Qc(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Pn(v,""),a.flags&=-33);var S=lp(e);Qc(e,S,v);break;case 3:case 4:var I=a.stateNode.containerInfo,H=lp(e);up(e,H,I);break;default:throw Error(s(161))}}catch(X){ee(e,e.return,X)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function yv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;yv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Vi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)fv(e,i.alternate,i),i=i.sibling}function Xs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Mi(4,i,i.return),Xs(i);break;case 1:Sr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ov(i,i.return,a),Xs(i);break;case 27:$l(i.stateNode);case 26:case 5:Sr(i,i.return),Xs(i);break;case 22:i.memoizedState===null&&Xs(i);break;case 30:Xs(i);break;default:Xs(i)}e=e.sibling}}function Pi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Pi(h,d,a),kl(4,d);break;case 1:if(Pi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){ee(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)$y(I[h],S)}catch(H){ee(l,l.return,H)}}a&&v&64&&av(d),Ll(d,d.return);break;case 27:cv(d);case 26:case 5:Pi(h,d,a),a&&l===null&&v&4&&lv(d),Ll(d,d.return);break;case 12:Pi(h,d,a);break;case 13:Pi(h,d,a),a&&v&4&&mv(h,d);break;case 22:d.memoizedState===null&&Pi(h,d,a),Ll(d,d.return);break;case 30:break;default:Pi(h,d,a)}i=i.sibling}}function fp(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Sl(a))}function dp(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Sl(e))}function Ar(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_v(e,i,a,l),i=i.sibling}function _v(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ar(e,i,a,l),h&2048&&kl(9,i);break;case 1:Ar(e,i,a,l);break;case 3:Ar(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Sl(e)));break;case 12:if(h&2048){Ar(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){ee(i,i.return,I)}}else Ar(e,i,a,l);break;case 13:Ar(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Ar(e,i,a,l):Ul(e,i):d._visibility&2?Ar(e,i,a,l):(d._visibility|=2,Za(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&fp(v,i);break;case 24:Ar(e,i,a,l),h&2048&&dp(i.alternate,i);break;default:Ar(e,i,a,l)}}function Za(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,S=a,I=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:Za(d,v,S,I,h),kl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Za(d,v,S,I,h):Ul(d,v):(X._visibility|=2,Za(d,v,S,I,h)),h&&H&2048&&fp(v.alternate,v);break;case 24:Za(d,v,S,I,h),h&&H&2048&&dp(v.alternate,v);break;default:Za(d,v,S,I,h)}i=i.sibling}}function Ul(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Ul(a,l),h&2048&&fp(l.alternate,l);break;case 24:Ul(a,l),h&2048&&dp(l.alternate,l);break;default:Ul(a,l)}i=i.sibling}}var zl=8192;function Ja(e){if(e.subtreeFlags&zl)for(e=e.child;e!==null;)vv(e),e=e.sibling}function vv(e){switch(e.tag){case 26:Ja(e),e.flags&zl&&e.memoizedState!==null&&sb(Jn,e.memoizedState,e.memoizedProps);break;case 5:Ja(e);break;case 3:case 4:var i=Jn;Jn=ah(e.stateNode.containerInfo),Ja(e),Jn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=zl,zl=16777216,Ja(e),zl=i):Ja(e));break;default:Ja(e)}}function Ev(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function jl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Be=l,Sv(l,e)}Ev(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Tv(e),e=e.sibling}function Tv(e){switch(e.tag){case 0:case 11:case 15:jl(e),e.flags&2048&&Mi(9,e,e.return);break;case 3:jl(e);break;case 12:jl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Kc(e)):jl(e);break;default:jl(e)}}function Kc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Be=l,Sv(l,e)}Ev(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Mi(8,i,i.return),Kc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Kc(i));break;default:Kc(i)}e=e.sibling}}function Sv(e,i){for(;Be!==null;){var a=Be;switch(a.tag){case 0:case 11:case 15:Mi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Be=l;else t:for(a=e;Be!==null;){l=Be;var h=l.sibling,d=l.return;if(dv(l),l===a){Be=null;break t}if(h!==null){h.return=d,Be=h;break t}Be=d}}}var Tw={getCacheForType:function(e){var i=nn(Ve),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},Sw=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ne=null,Mt=null,jt=0,Xt=0,bn=null,ki=!1,to=!1,pp=!1,ii=0,me=0,Li=0,Ws=0,mp=0,Fn=0,eo=0,Bl=null,gn=null,gp=!1,yp=0,Yc=1/0,Xc=null,Ui=null,Ye=0,zi=null,no=null,ro=0,_p=0,vp=null,Av=null,ql=0,Ep=null;function Rn(){if((Yt&2)!==0&&jt!==0)return jt&-jt;if(Y.T!==null){var e=Fa;return e!==0?e:Ip()}return Ei()}function wv(){Fn===0&&(Fn=(jt&536870912)===0||Ft?Wo():536870912);var e=Hn.current;return e!==null&&(e.flags|=32),Fn}function In(e,i,a){(e===ne&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(io(e,0),ji(e,jt,Fn,!1)),kr(e,a),((Yt&2)===0||e!==ne)&&(e===ne&&((Yt&2)===0&&(Ws|=a),me===4&&ji(e,jt,Fn,!1)),wr(e))}function bv(e,i,a){if((Yt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||As(e,i),h=l?bw(e,i):Ap(e,i,!0),d=l;do{if(h===0){to&&!l&&ji(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!Aw(a)){h=Ap(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var S=e;h=Bl;var I=S.current.memoizedState.isDehydrated;if(I&&(io(S,v).flags|=256),v=Ap(S,v,!1),v!==2){if(pp&&!I){S.errorRecoveryDisabledLanes|=d,Ws|=d,h=4;break t}d=gn,gn=h,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){io(e,0),ji(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ji(l,i,Fn,!ki);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=yp+300-Mn(),10<h)){if(ji(l,i,Fn,!ki),Ta(l,0,!0)!==0)break t;l.timeoutHandle=tE(Rv.bind(null,l,a,gn,Xc,gp,i,Fn,Ws,eo,ki,d,2,-0,0),h);break t}Rv(l,a,gn,Xc,gp,i,Fn,Ws,eo,ki,d,0,-0,0)}}break}while(!0);wr(e)}function Rv(e,i,a,l,h,d,v,S,I,H,X,tt,F,$){if(e.timeoutHandle=-1,tt=i.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(Yl={stylesheets:null,count:0,unsuspend:ib},vv(i),tt=ab(),tt!==null)){e.cancelPendingCommit=tt(Mv.bind(null,e,i,d,a,l,h,v,S,I,X,1,F,$)),ji(e,d,v,!H);return}Mv(e,i,d,a,l,h,v,S,I)}function Aw(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Tn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ji(e,i,a,l){i&=~mp,i&=~Ws,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-en(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ur(e,a,i)}function Wc(){return(Yt&6)===0?(Hl(0),!1):!0}function Tp(){if(Mt!==null){if(Xt===0)var e=Mt.return;else e=Mt,Xr=Gs=null,Ud(e),Xa=null,Ml=0,e=Mt;for(;e!==null;)sv(e.alternate,e),e=e.return;Mt=null}}function io(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Bw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Tp(),ne=e,Mt=a=Qr(e.current,null),jt=i,Xt=0,bn=null,ki=!1,to=As(e,i),pp=!1,eo=Fn=mp=Ws=Li=me=0,gn=Bl=null,gp=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-en(l),d=1<<h;i|=e[h],l&=~d}return ii=i,vc(),a}function Iv(e,i){Nt=null,Y.H=Uc,i===wl||i===Cc?(i=Fy(),Xt=3):i===By?(i=Fy(),Xt=4):Xt=i===G_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Mt===null&&(me=1,Hc(e,zn(i,e.current)))}function Cv(){var e=Y.H;return Y.H=Uc,e===null?Uc:e}function Dv(){var e=Y.A;return Y.A=Tw,e}function Sp(){me=4,ki||(jt&4194048)!==jt&&Hn.current!==null||(to=!0),(Li&134217727)===0&&(Ws&134217727)===0||ne===null||ji(ne,jt,Fn,!1)}function Ap(e,i,a){var l=Yt;Yt|=2;var h=Cv(),d=Dv();(ne!==e||jt!==i)&&(Xc=null,io(e,i)),i=!1;var v=me;t:do try{if(Xt!==0&&Mt!==null){var S=Mt,I=bn;switch(Xt){case 8:Tp(),v=6;break t;case 3:case 2:case 9:case 6:Hn.current===null&&(i=!0);var H=Xt;if(Xt=0,bn=null,so(e,S,I,H),a&&to){v=0;break t}break;default:H=Xt,Xt=0,bn=null,so(e,S,I,H)}}ww(),v=me;break}catch(X){Iv(e,X)}while(!0);return i&&e.shellSuspendCounter++,Xr=Gs=null,Yt=l,Y.H=h,Y.A=d,Mt===null&&(ne=null,jt=0,vc()),v}function ww(){for(;Mt!==null;)xv(Mt)}function bw(e,i){var a=Yt;Yt|=2;var l=Cv(),h=Dv();ne!==e||jt!==i?(Xc=null,Yc=Mn()+500,io(e,i)):to=As(e,i);t:do try{if(Xt!==0&&Mt!==null){i=Mt;var d=bn;e:switch(Xt){case 1:Xt=0,bn=null,so(e,i,d,1);break;case 2:case 9:if(qy(d)){Xt=0,bn=null,Nv(i);break}i=function(){Xt!==2&&Xt!==9||ne!==e||(Xt=7),wr(e)},d.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:qy(d)?(Xt=0,bn=null,Nv(i)):(Xt=0,bn=null,so(e,i,d,7));break;case 5:var v=null;switch(Mt.tag){case 26:v=Mt.memoizedState;case 5:case 27:var S=Mt;if(!v||fE(v)){Xt=0,bn=null;var I=S.sibling;if(I!==null)Mt=I;else{var H=S.return;H!==null?(Mt=H,Zc(H)):Mt=null}break e}}Xt=0,bn=null,so(e,i,d,5);break;case 6:Xt=0,bn=null,so(e,i,d,6);break;case 8:Tp(),me=6;break t;default:throw Error(s(462))}}Rw();break}catch(X){Iv(e,X)}while(!0);return Xr=Gs=null,Y.H=l,Y.A=h,Yt=a,Mt!==null?0:(ne=null,jt=0,vc(),me)}function Rw(){for(;Mt!==null&&!Qo();)xv(Mt)}function xv(e){var i=rv(e.alternate,e,ii);e.memoizedProps=e.pendingProps,i===null?Zc(e):Mt=i}function Nv(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=W_(a,i,i.pendingProps,i.type,void 0,jt);break;case 11:i=W_(a,i,i.pendingProps,i.type.render,i.ref,jt);break;case 5:Ud(i);default:sv(a,i),i=Mt=Oy(i,ii),i=rv(a,i,ii)}e.memoizedProps=e.pendingProps,i===null?Zc(e):Mt=i}function so(e,i,a,l){Xr=Gs=null,Ud(i),Xa=null,Ml=0;var h=i.return;try{if(mw(e,h,i,a,jt)){me=1,Hc(e,zn(a,e.current)),Mt=null;return}}catch(d){if(h!==null)throw Mt=h,d;me=1,Hc(e,zn(a,e.current)),Mt=null;return}i.flags&32768?(Ft||l===1?e=!0:to||(jt&536870912)!==0?e=!1:(ki=e=!0,(l===2||l===9||l===3||l===6)&&(l=Hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ov(i,e)):Zc(i)}function Zc(e){var i=e;do{if((i.flags&32768)!==0){Ov(i,ki);return}e=i.return;var a=yw(i.alternate,i,ii);if(a!==null){Mt=a;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);me===0&&(me=5)}function Ov(e,i){do{var a=_w(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);me=6,Mt=null}function Mv(e,i,a,l,h,d,v,S,I){e.cancelPendingCommit=null;do Jc();while(Ye!==0);if((Yt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=dd,Jo(e,a,d,v,S,I),e===ne&&(Mt=ne=null,jt=0),no=i,zi=e,ro=a,_p=d,vp=h,Av=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,xw(vs,function(){return Uv(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=ot.p,ot.p=2,v=Yt,Yt|=4;try{vw(e,i,a)}finally{Yt=v,ot.p=h,Y.T=l}}Ye=1,Vv(),Pv(),kv()}}function Vv(){if(Ye===1){Ye=0;var e=zi,i=no,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=ot.p;ot.p=2;var h=Yt;Yt|=4;try{gv(i,e);var d=Pp,v=Sy(e.containerInfo),S=d.focusedElem,I=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&Ty(S.ownerDocument.documentElement,S)){if(I!==null&&ld(S)){var H=I.start,X=I.end;if(X===void 0&&(X=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(X,S.value.length);else{var tt=S.ownerDocument||document,F=tt&&tt.defaultView||window;if(F.getSelection){var $=F.getSelection(),wt=S.textContent.length,Et=Math.min(I.start,wt),te=I.end===void 0?Et:Math.min(I.end,wt);!$.extend&&Et>te&&(v=te,te=Et,Et=v);var P=Ey(S,Et),O=Ey(S,te);if(P&&O&&($.rangeCount!==1||$.anchorNode!==P.node||$.anchorOffset!==P.offset||$.focusNode!==O.node||$.focusOffset!==O.offset)){var q=tt.createRange();q.setStart(P.node,P.offset),$.removeAllRanges(),Et>te?($.addRange(q),$.extend(O.node,O.offset)):(q.setEnd(O.node,O.offset),$.addRange(q))}}}}for(tt=[],$=S;$=$.parentNode;)$.nodeType===1&&tt.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<tt.length;S++){var Z=tt[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}hh=!!Vp,Pp=Vp=null}finally{Yt=h,ot.p=l,Y.T=a}}e.current=i,Ye=2}}function Pv(){if(Ye===2){Ye=0;var e=zi,i=no,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=ot.p;ot.p=2;var h=Yt;Yt|=4;try{fv(e,i.alternate,i)}finally{Yt=h,ot.p=l,Y.T=a}}Ye=3}}function kv(){if(Ye===4||Ye===3){Ye=0,Ku();var e=zi,i=no,a=ro,l=Av;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ye=5:(Ye=0,no=zi=null,Lv(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ui=null),Sa(a),i=i.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(de,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=ot.p,ot.p=2,Y.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var S=l[v];d(S.value,{componentStack:S.stack})}}finally{Y.T=i,ot.p=h}}(ro&3)!==0&&Jc(),wr(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Ep?ql++:(ql=0,Ep=e):ql=0,Hl(0)}}function Lv(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Sl(i)))}function Jc(e){return Vv(),Pv(),kv(),Uv()}function Uv(){if(Ye!==5)return!1;var e=zi,i=_p;_p=0;var a=Sa(ro),l=Y.T,h=ot.p;try{ot.p=32>a?32:a,Y.T=null,a=vp,vp=null;var d=zi,v=ro;if(Ye=0,no=zi=null,ro=0,(Yt&6)!==0)throw Error(s(331));var S=Yt;if(Yt|=4,Tv(d.current),_v(d,d.current,v,a),Yt=S,Hl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(de,d)}catch{}return!0}finally{ot.p=h,Y.T=l,Lv(e,i)}}function zv(e,i,a){i=zn(a,i),i=Zd(e.stateNode,i,2),e=Di(e,i,2),e!==null&&(kr(e,2),wr(e))}function ee(e,i,a){if(e.tag===3)zv(e,e,a);else for(;i!==null;){if(i.tag===3){zv(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ui===null||!Ui.has(l))){e=zn(a,e),a=H_(2),l=Di(i,a,2),l!==null&&(F_(a,l,i,e),kr(l,2),wr(l));break}}i=i.return}}function wp(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Sw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(pp=!0,h.add(a),e=Iw.bind(null,e,i,a),i.then(e,e))}function Iw(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(jt&a)===a&&(me===4||me===3&&(jt&62914560)===jt&&300>Mn()-yp?(Yt&2)===0&&io(e,0):mp|=a,eo===jt&&(eo=0)),wr(e)}function jv(e,i){i===0&&(i=Zo()),e=ja(e,i),e!==null&&(kr(e,i),wr(e))}function Cw(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),jv(e,a)}function Dw(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),jv(e,a)}function xw(e,i){return ys(e,i)}var th=null,ao=null,bp=!1,eh=!1,Rp=!1,Zs=0;function wr(e){e!==ao&&e.next===null&&(ao===null?th=ao=e:ao=ao.next=e),eh=!0,bp||(bp=!0,Ow())}function Hl(e,i){if(!Rp&&eh){Rp=!0;do for(var a=!1,l=th;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-en(42|e)+1)-1,d&=h&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Fv(l,d))}else d=jt,d=Ta(l,l===ne?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||As(l,d)||(a=!0,Fv(l,d));l=l.next}while(a);Rp=!1}}function Nw(){Bv()}function Bv(){eh=bp=!1;var e=0;Zs!==0&&(jw()&&(e=Zs),Zs=0);for(var i=Mn(),a=null,l=th;l!==null;){var h=l.next,d=qv(l,i);d===0?(l.next=null,a===null?th=h:a.next=h,h===null&&(ao=a)):(a=l,(e!==0||(d&3)!==0)&&(eh=!0)),l=h}Hl(e)}function qv(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-en(d),S=1<<v,I=h[v];I===-1?((S&a)===0||(S&l)!==0)&&(h[v]=Xo(S,i)):I<=i&&(e.expiredLanes|=S),d&=~S}if(i=ne,a=jt,a=Ta(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&_s(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||As(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&_s(l),Sa(a)){case 2:case 8:a=va;break;case 32:a=vs;break;case 268435456:a=Ea;break;default:a=vs}return l=Hv.bind(null,e),a=ys(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&_s(l),e.callbackPriority=2,e.callbackNode=null,2}function Hv(e,i){if(Ye!==0&&Ye!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Jc()&&e.callbackNode!==a)return null;var l=jt;return l=Ta(e,e===ne?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(bv(e,l,i),qv(e,Mn()),e.callbackNode!=null&&e.callbackNode===a?Hv.bind(null,e):null)}function Fv(e,i){if(Jc())return null;bv(e,i,!0)}function Ow(){qw(function(){(Yt&6)!==0?ys(Ko,Nw):Bv()})}function Ip(){return Zs===0&&(Zs=Wo()),Zs}function Gv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ca(""+e)}function $v(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function Mw(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Gv((h[Te]||null).action),v=l.submitter;v&&(i=(i=v[Te]||null)?Gv(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var S=new Da("action","action",null,l,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zs!==0){var I=v?$v(h,v):new FormData(h);Qd(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(S.preventDefault(),I=v?$v(h,v):new FormData(h),Qd(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Cp=0;Cp<fd.length;Cp++){var Dp=fd[Cp],Vw=Dp.toLowerCase(),Pw=Dp[0].toUpperCase()+Dp.slice(1);Zn(Vw,"on"+Pw)}Zn(by,"onAnimationEnd"),Zn(Ry,"onAnimationIteration"),Zn(Iy,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(ZA,"onTransitionRun"),Zn(JA,"onTransitionStart"),Zn(tw,"onTransitionCancel"),Zn(Cy,"onTransitionEnd"),Ur("onMouseEnter",["mouseout","mouseover"]),Ur("onMouseLeave",["mouseout","mouseover"]),Ur("onPointerEnter",["pointerout","pointerover"]),Ur("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function Qv(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var S=l[v],I=S.instance,H=S.currentTarget;if(S=S.listener,I!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=H;try{d(h)}catch(X){qc(X)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(S=l[v],I=S.instance,H=S.currentTarget,S=S.listener,I!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=H;try{d(h)}catch(X){qc(X)}h.currentTarget=null,d=I}}}}function Vt(e,i){var a=i[el];a===void 0&&(a=i[el]=new Set);var l=e+"__bubble";a.has(l)||(Kv(i,e,2,!1),a.add(l))}function xp(e,i,a){var l=0;i&&(l|=4),Kv(a,e,l,i)}var nh="_reactListening"+Math.random().toString(36).slice(2);function Np(e){if(!e[nh]){e[nh]=!0,nl.forEach(function(a){a!=="selectionchange"&&(kw.has(a)||xp(a,!1,e),xp(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[nh]||(i[nh]=!0,xp("selectionchange",!1,i))}}function Kv(e,i,a,l){switch(_E(i)){case 2:var h=ub;break;case 8:h=cb;break;default:h=Gp}a=h.bind(null,i,a,e),h=void 0,!Ln||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Op(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;S!==null;){if(v=Lr(S),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue t}S=S.parentNode}}l=l.return}ic(function(){var H=d,X=kn(a),tt=[];t:{var F=Dy.get(e);if(F!==void 0){var $=Da,wt=e;switch(e){case"keypress":if(mr(a)===0)break t;case"keydown":case"keyup":$=Pa;break;case"focusin":wt="focus",$=Oa;break;case"focusout":wt="blur",$=Oa;break;case"beforeblur":case"afterblur":$=Oa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=id;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=fc;break;case by:case Ry:case Iy:$=Ma;break;case Cy:$=pc;break;case"scroll":case"scrollend":$=sc;break;case"wheel":$=ka;break;case"copy":case"cut":case"paste":$=Va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=pl;break;case"toggle":case"beforetoggle":$=gc}var Et=(i&4)!==0,te=!Et&&(e==="scroll"||e==="scrollend"),P=Et?F!==null?F+"Capture":null:F;Et=[];for(var O=H,q;O!==null;){var Z=O;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||P===null||(Z=Ns(O,P),Z!=null&&Et.push(Gl(O,Z,q))),te)break;O=O.return}0<Et.length&&(F=new $(F,wt,null,a,X),tt.push({event:F,listeners:Et}))}}if((i&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",F&&a!==Br&&(wt=a.relatedTarget||a.fromElement)&&(Lr(wt)||wt[Vn]))break t;if(($||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,$?(wt=a.relatedTarget||a.toElement,$=H,wt=wt?Lr(wt):null,wt!==null&&(te=u(wt),Et=wt.tag,wt!==te||Et!==5&&Et!==27&&Et!==6)&&(wt=null)):($=null,wt=H),$!==wt)){if(Et=Un,Z="onMouseLeave",P="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(Et=pl,Z="onPointerLeave",P="onPointerEnter",O="pointer"),te=$==null?F:hr($),q=wt==null?F:hr(wt),F=new Et(Z,O+"leave",$,a,X),F.target=te,F.relatedTarget=q,Z=null,Lr(X)===H&&(Et=new Et(P,O+"enter",wt,a,X),Et.target=q,Et.relatedTarget=te,Z=Et),te=Z,$&&wt)e:{for(Et=$,P=wt,O=0,q=Et;q;q=oo(q))O++;for(q=0,Z=P;Z;Z=oo(Z))q++;for(;0<O-q;)Et=oo(Et),O--;for(;0<q-O;)P=oo(P),q--;for(;O--;){if(Et===P||P!==null&&Et===P.alternate)break e;Et=oo(Et),P=oo(P)}Et=null}else Et=null;$!==null&&Yv(tt,F,$,Et,!1),wt!==null&&te!==null&&Yv(tt,te,wt,Et,!0)}}t:{if(F=H?hr(H):window,$=F.nodeName&&F.nodeName.toLowerCase(),$==="select"||$==="input"&&F.type==="file")var dt=py;else if(Me(F))if(my)dt=YA;else{dt=QA;var Ot=$A}else $=F.nodeName,!$||$.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&ol(H.elementType)&&(dt=py):dt=KA;if(dt&&(dt=dt(e,H))){$r(tt,dt,a,X);break t}Ot&&Ot(e,F,H),e==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&wi(F,"number",F.value)}switch(Ot=H?hr(H):window,e){case"focusin":(Me(Ot)||Ot.contentEditable==="true")&&(La=Ot,ud=H,yl=null);break;case"focusout":yl=ud=La=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,Ay(tt,a,X);break;case"selectionchange":if(WA)break;case"keydown":case"keyup":Ay(tt,a,X)}var gt;if(_r)t:{switch(e){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else Ut?Q(e,a)&&(Tt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Tt="onCompositionStart");Tt&&(_&&a.locale!=="ko"&&(Ut||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Ut&&(gt=ul()):(pr=X,bi="value"in pr?pr.value:pr.textContent,Ut=!0)),Ot=rh(H,Tt),0<Ot.length&&(Tt=new fl(Tt,e,null,a,X),tt.push({event:Tt,listeners:Ot}),gt?Tt.data=gt:(gt=at(a),gt!==null&&(Tt.data=gt)))),(gt=y?Oe(e,a):zt(e,a))&&(Tt=rh(H,"onBeforeInput"),0<Tt.length&&(Ot=new fl("onBeforeInput","beforeinput",null,a,X),tt.push({event:Ot,listeners:Tt}),Ot.data=gt)),Mw(tt,e,H,a,X)}Qv(tt,i)})}function Gl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function rh(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ns(e,a),h!=null&&l.unshift(Gl(e,h,d)),h=Ns(e,i),h!=null&&l.push(Gl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function oo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yv(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var S=a,I=S.alternate,H=S.stateNode;if(S=S.tag,I!==null&&I===l)break;S!==5&&S!==26&&S!==27||H===null||(I=H,h?(H=Ns(a,d),H!=null&&v.unshift(Gl(a,H,I))):h||(H=Ns(a,d),H!=null&&v.push(Gl(a,H,I)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var Lw=/\r\n?/g,Uw=/\u0000|\uFFFD/g;function Xv(e){return(typeof e=="string"?e:""+e).replace(Lw,`
`).replace(Uw,"")}function Wv(e,i){return i=Xv(i),Xv(e)===i}function ih(){}function Jt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Pn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Pn(e,""+l);break;case"className":fr(e,"class",l);break;case"tabIndex":fr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(e,a,l);break;case"style":al(e,l,d);break;case"data":if(i!=="object"){fr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ca(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Jt(e,i,"name",h.name,h,null),Jt(e,i,"formEncType",h.formEncType,h,null),Jt(e,i,"formMethod",h.formMethod,h,null),Jt(e,i,"formTarget",h.formTarget,h,null)):(Jt(e,i,"encType",h.encType,h,null),Jt(e,i,"method",h.method,h,null),Jt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ca(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ih);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ca(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),Ai(e,"popover",l);break;case"xlinkActuate":$e(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$e(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$e(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$e(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$e(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$e(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$e(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$e(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$e(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ai(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=nd.get(a)||a,Ai(e,a,l))}}function Mp(e,i,a,l,h,d){switch(a){case"style":al(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Pn(e,l):(typeof l=="number"||typeof l=="bigint")&&Pn(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ih);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Aa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Te]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ai(e,a,l)}}}function Xe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,d,v,a,null)}}h&&Jt(e,i,"srcSet",a.srcSet,a,null),l&&Jt(e,i,"src",a.src,a,null);return;case"input":Vt("invalid",e);var S=d=v=h=null,I=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":I=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Jt(e,i,l,X,a,null)}}Cs(e,d,S,I,H,v,h,!1),Ia(e);return;case"select":Vt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:Jt(e,i,h,S,a,null)}i=d,a=v,e.multiple=!!l,i!=null?jr(e,!!l,i,!1):a!=null&&jr(e,!!l,a,!0);return;case"textarea":Vt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Jt(e,i,v,S,a,null)}Ds(e,l,h,d),Ia(e);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(e,i,I,l,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<Fl.length;l++)Vt(Fl[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,H,l,a,null)}return;default:if(ol(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Mp(e,i,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Jt(e,i,S,l,a,null))}function zw(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,S=null,I=null,H=null,X=null;for($ in a){var tt=a[$];if(a.hasOwnProperty($)&&tt!=null)switch($){case"checked":break;case"value":break;case"defaultValue":I=tt;default:l.hasOwnProperty($)||Jt(e,i,$,null,l,tt)}}for(var F in l){var $=l[F];if(tt=a[F],l.hasOwnProperty(F)&&($!=null||tt!=null))switch(F){case"type":d=$;break;case"name":h=$;break;case"checked":H=$;break;case"defaultChecked":X=$;break;case"value":v=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==tt&&Jt(e,i,F,$,l,tt)}}En(e,v,S,I,H,X,d,h);return;case"select":$=v=S=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":$=I;default:l.hasOwnProperty(d)||Jt(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":F=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==I&&Jt(e,i,h,d,l,I)}i=S,a=v,l=$,F!=null?jr(e,!!a,F,!1):!!l!=!!a&&(i!=null?jr(e,!!a,i,!0):jr(e,!!a,a?[]:"",!1));return;case"textarea":$=F=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Jt(e,i,S,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Jt(e,i,v,h,l,d)}Wt(e,F,$);return;case"option":for(var wt in a)if(F=a[wt],a.hasOwnProperty(wt)&&F!=null&&!l.hasOwnProperty(wt))switch(wt){case"selected":e.selected=!1;break;default:Jt(e,i,wt,null,l,F)}for(I in l)if(F=l[I],$=a[I],l.hasOwnProperty(I)&&F!==$&&(F!=null||$!=null))switch(I){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Jt(e,i,I,F,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)F=a[Et],a.hasOwnProperty(Et)&&F!=null&&!l.hasOwnProperty(Et)&&Jt(e,i,Et,null,l,F);for(H in l)if(F=l[H],$=a[H],l.hasOwnProperty(H)&&F!==$&&(F!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Jt(e,i,H,F,l,$)}return;default:if(ol(i)){for(var te in a)F=a[te],a.hasOwnProperty(te)&&F!==void 0&&!l.hasOwnProperty(te)&&Mp(e,i,te,void 0,l,F);for(X in l)F=l[X],$=a[X],!l.hasOwnProperty(X)||F===$||F===void 0&&$===void 0||Mp(e,i,X,F,l,$);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!l.hasOwnProperty(P)&&Jt(e,i,P,null,l,F);for(tt in l)F=l[tt],$=a[tt],!l.hasOwnProperty(tt)||F===$||F==null&&$==null||Jt(e,i,tt,F,l,$)}var Vp=null,Pp=null;function sh(e){return e.nodeType===9?e:e.ownerDocument}function Zv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function kp(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Lp=null;function jw(){var e=window.event;return e&&e.type==="popstate"?e===Lp?!1:(Lp=e,!0):(Lp=null,!1)}var tE=typeof setTimeout=="function"?setTimeout:void 0,Bw=typeof clearTimeout=="function"?clearTimeout:void 0,eE=typeof Promise=="function"?Promise:void 0,qw=typeof queueMicrotask=="function"?queueMicrotask:typeof eE<"u"?function(e){return eE.resolve(null).then(e).catch(Hw)}:tE;function Hw(e){setTimeout(function(){throw e})}function Bi(e){return e==="head"}function nE(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&$l(v.documentElement),a&2&&$l(v.body),a&4)for(a=v.head,$l(a),v=a.firstChild;v;){var S=v.nextSibling,I=v.nodeName;v[ws]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=S}}if(h===0){e.removeChild(d),tu(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);tu(i)}function Up(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Up(a),Si(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Fw(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ws])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=tr(e.nextSibling),e===null)break}return null}function Gw(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=tr(e.nextSibling),e===null))return null;return e}function zp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function $w(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function tr(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var jp=null;function rE(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function iE(e,i,a){switch(i=sh(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function $l(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Si(e)}var Gn=new Map,sE=new Set;function ah(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var si=ot.d;ot.d={f:Qw,r:Kw,D:Yw,C:Xw,L:Ww,m:Zw,X:tb,S:Jw,M:eb};function Qw(){var e=si.f(),i=Wc();return e||i}function Kw(e){var i=cr(e);i!==null&&i.tag===5&&i.type==="form"?b_(i):si.r(e)}var lo=typeof document>"u"?null:document;function aE(e,i,a){var l=lo;if(l&&typeof i=="string"&&i){var h=Se(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),sE.has(h)||(sE.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Xe(i,"link",e),ye(i),l.head.appendChild(i)))}}function Yw(e){si.D(e),aE("dns-prefetch",e,null)}function Xw(e,i){si.C(e,i),aE("preconnect",e,i)}function Ww(e,i,a){si.L(e,i,a);var l=lo;if(l&&e&&i){var h='link[rel="preload"][as="'+Se(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Se(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Se(a.imageSizes)+'"]')):h+='[href="'+Se(e)+'"]';var d=h;switch(i){case"style":d=uo(e);break;case"script":d=co(e)}Gn.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Gn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ql(d))||i==="script"&&l.querySelector(Kl(d))||(i=l.createElement("link"),Xe(i,"link",e),ye(i),l.head.appendChild(i)))}}function Zw(e,i){si.m(e,i);var a=lo;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Se(l)+'"][href="'+Se(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=co(e)}if(!Gn.has(d)&&(e=E({rel:"modulepreload",href:e},i),Gn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Kl(d)))return}l=a.createElement("link"),Xe(l,"link",e),ye(l),a.head.appendChild(l)}}}function Jw(e,i,a){si.S(e,i,a);var l=lo;if(l&&e){var h=un(l).hoistableStyles,d=uo(e);i=i||"default";var v=h.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Ql(d)))S.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Gn.get(d))&&Bp(e,a);var I=v=l.createElement("link");ye(I),Xe(I,"link",e),I._p=new Promise(function(H,X){I.onload=H,I.onerror=X}),I.addEventListener("load",function(){S.loading|=1}),I.addEventListener("error",function(){S.loading|=2}),S.loading|=4,oh(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:S},h.set(d,v)}}}function tb(e,i){si.X(e,i);var a=lo;if(a&&e){var l=un(a).hoistableScripts,h=co(e),d=l.get(h);d||(d=a.querySelector(Kl(h)),d||(e=E({src:e,async:!0},i),(i=Gn.get(h))&&qp(e,i),d=a.createElement("script"),ye(d),Xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function eb(e,i){si.M(e,i);var a=lo;if(a&&e){var l=un(a).hoistableScripts,h=co(e),d=l.get(h);d||(d=a.querySelector(Kl(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=Gn.get(h))&&qp(e,i),d=a.createElement("script"),ye(d),Xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function oE(e,i,a,l){var h=(h=vt.current)?ah(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=uo(a.href),a=un(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=uo(a.href);var d=un(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(Ql(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Gn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(e,a),d||nb(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=co(a),a=un(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function uo(e){return'href="'+Se(e)+'"'}function Ql(e){return'link[rel="stylesheet"]['+e+"]"}function lE(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function nb(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xe(i,"link",a),ye(i),e.head.appendChild(i))}function co(e){return'[src="'+Se(e)+'"]'}function Kl(e){return"script[async]"+e}function uE(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+Se(a.href)+'"]');if(l)return i.instance=l,ye(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ye(l),Xe(l,"style",h),oh(l,a.precedence,e),i.instance=l;case"stylesheet":h=uo(a.href);var d=e.querySelector(Ql(h));if(d)return i.state.loading|=4,i.instance=d,ye(d),d;l=lE(a),(h=Gn.get(h))&&Bp(l,h),d=(e.ownerDocument||e).createElement("link"),ye(d);var v=d;return v._p=new Promise(function(S,I){v.onload=S,v.onerror=I}),Xe(d,"link",l),i.state.loading|=4,oh(d,a.precedence,e),i.instance=d;case"script":return d=co(a.src),(h=e.querySelector(Kl(d)))?(i.instance=h,ye(h),h):(l=a,(h=Gn.get(d))&&(l=E({},a),qp(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ye(h),Xe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,oh(l,a.precedence,e));return i.instance}function oh(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Bp(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function qp(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var lh=null;function cE(e,i,a){if(lh===null){var l=new Map,h=lh=new Map;h.set(a,l)}else h=lh,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ws]||d[Ne]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function hE(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function rb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function fE(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Yl=null;function ib(){}function sb(e,i,a){if(Yl===null)throw Error(s(475));var l=Yl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=uo(a.href),d=e.querySelector(Ql(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=uh.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ye(d);return}d=e.ownerDocument||e,a=lE(a),(h=Gn.get(h))&&Bp(a,h),d=d.createElement("link"),ye(d);var v=d;v._p=new Promise(function(S,I){v.onload=S,v.onerror=I}),Xe(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=uh.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function ab(){if(Yl===null)throw Error(s(475));var e=Yl;return e.stylesheets&&e.count===0&&Hp(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Hp(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function uh(){if(this.count--,this.count===0){if(this.stylesheets)Hp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ch=null;function Hp(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ch=new Map,i.forEach(ob,e),ch=null,uh.call(e))}function ob(e,i){if(!(i.state.loading&4)){var a=ch.get(e);if(a)var l=a.get(null);else{a=new Map,ch.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=uh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Xl={$$typeof:rt,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function lb(e,i,a,l,h,d,v,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pr(0),this.hiddenUpdates=Pr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function dE(e,i,a,l,h,d,v,S,I,H,X,tt){return e=new lb(e,i,a,v,S,I,H,tt),i=1,d===!0&&(i|=24),d=Sn(3,null,null,i),e.current=d,d.stateNode=e,i=wd(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Cd(d),e}function pE(e){return e?(e=Ba,e):Ba}function mE(e,i,a,l,h,d){h=pE(h),l.context===null?l.context=h:l.pendingContext=h,l=Ci(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Di(e,l,i),a!==null&&(In(a,e,i),Rl(a,e,i))}function gE(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Fp(e,i){gE(e,i),(e=e.alternate)&&gE(e,i)}function yE(e){if(e.tag===13){var i=ja(e,67108864);i!==null&&In(i,e,67108864),Fp(e,67108864)}}var hh=!0;function ub(e,i,a,l){var h=Y.T;Y.T=null;var d=ot.p;try{ot.p=2,Gp(e,i,a,l)}finally{ot.p=d,Y.T=h}}function cb(e,i,a,l){var h=Y.T;Y.T=null;var d=ot.p;try{ot.p=8,Gp(e,i,a,l)}finally{ot.p=d,Y.T=h}}function Gp(e,i,a,l){if(hh){var h=$p(l);if(h===null)Op(e,i,l,fh,a),vE(e,l);else if(fb(h,e,i,a,l))l.stopPropagation();else if(vE(e,l),i&4&&-1<hb.indexOf(e)){for(;h!==null;){var d=cr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Yn(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var I=1<<31-en(v);S.entanglements[1]|=I,v&=~I}wr(d),(Yt&6)===0&&(Yc=Mn()+500,Hl(0))}}break;case 13:S=ja(d,2),S!==null&&In(S,d,2),Wc(),Fp(d,2)}if(d=$p(l),d===null&&Op(e,i,l,fh,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Op(e,i,l,null,a)}}function $p(e){return e=kn(e),Qp(e)}var fh=null;function Qp(e){if(fh=null,e=Lr(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return fh=e,null}function _E(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xf()){case Ko:return 2;case va:return 8;case vs:case Wf:return 32;case Ea:return 268435456;default:return 32}default:return 32}}var Kp=!1,qi=null,Hi=null,Fi=null,Wl=new Map,Zl=new Map,Gi=[],hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vE(e,i){switch(e){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":Wl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(i.pointerId)}}function Jl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=cr(i),i!==null&&yE(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function fb(e,i,a,l,h){switch(i){case"focusin":return qi=Jl(qi,e,i,a,l,h),!0;case"dragenter":return Hi=Jl(Hi,e,i,a,l,h),!0;case"mouseover":return Fi=Jl(Fi,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Wl.set(d,Jl(Wl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Zl.set(d,Jl(Zl.get(d)||null,e,i,a,l,h)),!0}return!1}function EE(e){var i=Lr(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Wu(e.priority,function(){if(a.tag===13){var l=Rn();l=vi(l);var h=ja(a,l);h!==null&&In(h,a,l),Fp(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=$p(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Br=l,a.target.dispatchEvent(l),Br=null}else return i=cr(a),i!==null&&yE(i),e.blockedOn=a,!1;i.shift()}return!0}function TE(e,i,a){dh(e)&&a.delete(i)}function db(){Kp=!1,qi!==null&&dh(qi)&&(qi=null),Hi!==null&&dh(Hi)&&(Hi=null),Fi!==null&&dh(Fi)&&(Fi=null),Wl.forEach(TE),Zl.forEach(TE)}function ph(e,i){e.blockedOn===i&&(e.blockedOn=null,Kp||(Kp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,db)))}var mh=null;function SE(e){mh!==e&&(mh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){mh===e&&(mh=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Qp(l||a)===null)continue;break}var d=cr(a);d!==null&&(e.splice(i,3),i-=3,Qd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function tu(e){function i(I){return ph(I,e)}qi!==null&&ph(qi,e),Hi!==null&&ph(Hi,e),Fi!==null&&ph(Fi,e),Wl.forEach(i),Zl.forEach(i);for(var a=0;a<Gi.length;a++){var l=Gi[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Gi.length&&(a=Gi[0],a.blockedOn===null);)EE(a),a.blockedOn===null&&Gi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Te]||null;if(typeof d=="function")v||SE(a);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Te]||null)S=v.formAction;else if(Qp(h)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),SE(a)}}}function Yp(e){this._internalRoot=e}gh.prototype.render=Yp.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Rn();mE(a,l,e,i,null,null)},gh.prototype.unmount=Yp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;mE(e.current,2,null,e,null,null),Wc(),i[Vn]=null}};function gh(e){this._internalRoot=e}gh.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ei();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Gi.length&&i!==0&&i<Gi[a].priority;a++);Gi.splice(a,0,e),a===0&&EE(e)}};var AE=t.version;if(AE!=="19.1.0")throw Error(s(527,AE,"19.1.0"));ot.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var pb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{de=yh.inject(pb),Kt=yh}catch{}}return nu.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=z_,d=j_,v=B_,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=dE(e,1,!1,null,null,a,l,h,d,v,S,null),e[Vn]=i.current,Np(e),new Yp(i)},nu.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=z_,v=j_,S=B_,I=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),i=dE(e,1,!0,i,a??null,l,h,d,v,S,I,H),i.context=pE(null),a=i.current,l=Rn(),l=vi(l),h=Ci(l),h.callback=null,Di(a,h,l),a=l,i.current.lanes=a,kr(i,a),wr(i),e[Vn]=i.current,Np(e),new gh(i)},nu.version="19.1.0",nu}var ME;function bb(){if(ME)return Zp.exports;ME=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Zp.exports=wb(),Zp.exports}var Rb=bb();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var VE="popstate";function Ib(r={}){function t(s,o){let{pathname:u,search:f,hash:p}=s.location;return Tm("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:_u(o)}return Db(t,n,null,r)}function ue(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function sr(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Cb(){return Math.random().toString(36).substring(2,10)}function PE(r,t){return{usr:r.state,key:r.key,idx:t}}function Tm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?ko(t):t,state:n,key:t&&t.key||s||Cb()}}function _u({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ko(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function Db(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",m=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function T(){p="POP";let B=E(),W=B==null?null:B-g;g=B,m&&m({action:p,location:k.location,delta:W})}function A(B,W){p="PUSH";let K=Tm(k.location,B,W);g=E()+1;let rt=PE(K,g),lt=k.createHref(K);try{f.pushState(rt,"",lt)}catch(ut){if(ut instanceof DOMException&&ut.name==="DataCloneError")throw ut;o.location.assign(lt)}u&&m&&m({action:p,location:k.location,delta:1})}function x(B,W){p="REPLACE";let K=Tm(k.location,B,W);g=E();let rt=PE(K,g),lt=k.createHref(K);f.replaceState(rt,"",lt),u&&m&&m({action:p,location:k.location,delta:0})}function L(B){return xb(B)}let k={get action(){return p},get location(){return r(o,f)},listen(B){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(VE,T),m=B,()=>{o.removeEventListener(VE,T),m=null}},createHref(B){return t(o,B)},createURL:L,encodeLocation(B){let W=L(B);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:A,replace:x,go(B){return f.go(B)}};return k}function xb(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ue(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:_u(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function D0(r,t,n="/"){return Nb(r,t,n,!1)}function Nb(r,t,n,s){let o=typeof t=="string"?ko(t):t,u=fi(o.pathname||"/",n);if(u==null)return null;let f=x0(r);Ob(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let g=Hb(u);p=Bb(f[m],g,s)}return p}function x0(r,t=[],n=[],s=""){let o=(u,f,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(ue(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=ui([s,m.relativePath]),E=n.concat(m);u.children&&u.children.length>0&&(ue(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),x0(u.children,t,E,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:zb(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,f);else for(let m of N0(u.path))o(u,f,m)}),t}function N0(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=N0(s.join("/")),p=[];return p.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...f),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function Ob(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:jb(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Mb=/^:[\w-]+$/,Vb=3,Pb=2,kb=1,Lb=10,Ub=-2,kE=r=>r==="*";function zb(r,t){let n=r.split("/"),s=n.length;return n.some(kE)&&(s+=Ub),t&&(s+=Pb),n.filter(o=>!kE(o)).reduce((o,u)=>o+(Mb.test(u)?Vb:u===""?kb:Lb),s)}function jb(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function Bb(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let m=s[p],g=p===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",T=$h({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},E),A=m.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=$h({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:ui([u,T.pathname]),pathnameBase:Qb(ui([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=ui([u,T.pathnameBase]))}return f}function $h(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=qb(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},A)=>{if(E==="*"){let L=p[A]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const x=p[A];return T&&!x?g[E]=void 0:g[E]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function qb(r,t=!1,n=!0){sr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Hb(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function fi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Fb(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ko(r):r;return{pathname:n?n.startsWith("/")?n:Gb(n,t):t,search:Kb(s),hash:Yb(o)}}function Gb(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function nm(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $b(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ag(r){let t=$b(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function og(r,t,n,s=!1){let o;typeof r=="string"?o=ko(r):(o={...r},ue(!o.pathname||!o.pathname.includes("?"),nm("?","pathname","search",o)),ue(!o.pathname||!o.pathname.includes("#"),nm("#","pathname","hash",o)),ue(!o.search||!o.search.includes("#"),nm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let T=t.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}p=T>=0?t[T]:"/"}let m=Fb(o,p),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||E)&&(m.pathname+="/"),m}var ui=r=>r.join("/").replace(/\/\/+/g,"/"),Qb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Kb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Yb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Xb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var O0=["POST","PUT","PATCH","DELETE"];new Set(O0);var Wb=["GET",...O0];new Set(Wb);var Lo=G.createContext(null);Lo.displayName="DataRouter";var _f=G.createContext(null);_f.displayName="DataRouterState";G.createContext(!1);var M0=G.createContext({isTransitioning:!1});M0.displayName="ViewTransition";var Zb=G.createContext(new Map);Zb.displayName="Fetchers";var Jb=G.createContext(null);Jb.displayName="Await";var lr=G.createContext(null);lr.displayName="Navigation";var Ou=G.createContext(null);Ou.displayName="Location";var Vr=G.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var lg=G.createContext(null);lg.displayName="RouteError";function tR(r,{relative:t}={}){ue(Uo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(lr),{hash:o,pathname:u,search:f}=Vu(r,{relative:t}),p=u;return n!=="/"&&(p=u==="/"?n:ui([n,u])),s.createHref({pathname:p,search:f,hash:o})}function Uo(){return G.useContext(Ou)!=null}function ds(){return ue(Uo(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Ou).location}var V0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function P0(r){G.useContext(lr).static||G.useLayoutEffect(r)}function Mu(){let{isDataRoute:r}=G.useContext(Vr);return r?dR():eR()}function eR(){ue(Uo(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(Lo),{basename:t,navigator:n}=G.useContext(lr),{matches:s}=G.useContext(Vr),{pathname:o}=ds(),u=JSON.stringify(ag(s)),f=G.useRef(!1);return P0(()=>{f.current=!0}),G.useCallback((m,g={})=>{if(sr(f.current,V0),!f.current)return;if(typeof m=="number"){n.go(m);return}let E=og(m,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:ui([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,r])}G.createContext(null);function Vu(r,{relative:t}={}){let{matches:n}=G.useContext(Vr),{pathname:s}=ds(),o=JSON.stringify(ag(n));return G.useMemo(()=>og(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function nR(r,t){return k0(r,t)}function k0(r,t,n,s){var W;ue(Uo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=G.useContext(lr),{matches:u}=G.useContext(Vr),f=u[u.length-1],p=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let K=E&&E.path||"";L0(m,!E||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let T=ds(),A;if(t){let K=typeof t=="string"?ko(t):t;ue(g==="/"||((W=K.pathname)==null?void 0:W.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${K.pathname}" was given in the \`location\` prop.`),A=K}else A=T;let x=A.pathname||"/",L=x;if(g!=="/"){let K=g.replace(/^\//,"").split("/");L="/"+x.replace(/^\//,"").split("/").slice(K.length).join("/")}let k=D0(r,{pathname:L});sr(E||k!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),sr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=oR(k&&k.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:ui([g,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?g:ui([g,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),u,n,s);return t&&B?G.createElement(Ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},B):B}function rR(){let r=fR(),t=Xb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),n?G.createElement("pre",{style:o},n):null,f)}var iR=G.createElement(rR,null),sR=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?G.createElement(Vr.Provider,{value:this.props.routeContext},G.createElement(lg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aR({routeContext:r,match:t,children:n}){let s=G.useContext(Lo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(Vr.Provider,{value:r},n)}function oR(r,t=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ue(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,p=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:E,errors:T}=n,A=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||A){f=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,g,E)=>{let T,A=!1,x=null,L=null;n&&(T=u&&g.route.id?u[g.route.id]:void 0,x=g.route.errorElement||iR,f&&(p<0&&E===0?(L0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,L=null):p===E&&(A=!0,L=g.route.hydrateFallbackElement||null)));let k=t.concat(o.slice(0,E+1)),B=()=>{let W;return T?W=x:A?W=L:g.route.Component?W=G.createElement(g.route.Component,null):g.route.element?W=g.route.element:W=m,G.createElement(aR,{match:g,routeContext:{outlet:m,matches:k,isDataRoute:n!=null},children:W})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?G.createElement(sR,{location:n.location,revalidation:n.revalidation,component:x,error:T,children:B(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):B()},null)}function ug(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lR(r){let t=G.useContext(Lo);return ue(t,ug(r)),t}function uR(r){let t=G.useContext(_f);return ue(t,ug(r)),t}function cR(r){let t=G.useContext(Vr);return ue(t,ug(r)),t}function cg(r){let t=cR(r),n=t.matches[t.matches.length-1];return ue(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function hR(){return cg("useRouteId")}function fR(){var s;let r=G.useContext(lg),t=uR("useRouteError"),n=cg("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function dR(){let{router:r}=lR("useNavigate"),t=cg("useNavigate"),n=G.useRef(!1);return P0(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{sr(n.current,V0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var LE={};function L0(r,t,n){!t&&!LE[r]&&(LE[r]=!0,sr(!1,n))}G.memo(pR);function pR({routes:r,future:t,state:n}){return k0(r,void 0,n,t)}function mR({to:r,replace:t,state:n,relative:s}){ue(Uo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(lr);sr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(Vr),{pathname:f}=ds(),p=Mu(),m=og(r,ag(u),f,s==="path"),g=JSON.stringify(m);return G.useEffect(()=>{p(JSON.parse(g),{replace:t,state:n,relative:s})},[p,g,s,t,n]),null}function Ch(r){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gR({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ue(!Uo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=ko(n));let{pathname:m="/",search:g="",hash:E="",state:T=null,key:A="default"}=n,x=G.useMemo(()=>{let L=fi(m,f);return L==null?null:{location:{pathname:L,search:g,hash:E,state:T,key:A},navigationType:s}},[f,m,g,E,T,A,s]);return sr(x!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:G.createElement(lr.Provider,{value:p},G.createElement(Ou.Provider,{children:t,value:x}))}function yR({children:r,location:t}){return nR(Sm(r),t)}function Sm(r,t=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...t,o];if(s.type===G.Fragment){n.push.apply(n,Sm(s.props.children,u));return}ue(s.type===Ch,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Sm(s.props.children,u)),n.push(f)}),n}var Dh="get",xh="application/x-www-form-urlencoded";function vf(r){return r!=null&&typeof r.tagName=="string"}function _R(r){return vf(r)&&r.tagName.toLowerCase()==="button"}function vR(r){return vf(r)&&r.tagName.toLowerCase()==="form"}function ER(r){return vf(r)&&r.tagName.toLowerCase()==="input"}function TR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function SR(r,t){return r.button===0&&(!t||t==="_self")&&!TR(r)}var _h=null;function AR(){if(_h===null)try{new FormData(document.createElement("form"),0),_h=!1}catch{_h=!0}return _h}var wR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rm(r){return r!=null&&!wR.has(r)?(sr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xh}"`),null):r}function bR(r,t){let n,s,o,u,f;if(vR(r)){let p=r.getAttribute("action");s=p?fi(p,t):null,n=r.getAttribute("method")||Dh,o=rm(r.getAttribute("enctype"))||xh,u=new FormData(r)}else if(_R(r)||ER(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(s=m?fi(m,t):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Dh,o=rm(r.getAttribute("formenctype"))||rm(p.getAttribute("enctype"))||xh,u=new FormData(p,r),!AR()){let{name:g,type:E,value:T}=r;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(vf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Dh,s=null,o=xh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hg(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function RR(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&fi(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function IR(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function DR(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await IR(u,n);return f.links?f.links():[]}return[]}));return MR(s.flat(1).filter(CR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function UE(r,t,n,s,o,u){let f=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>{var E;return n[g].pathname!==m.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return u==="assets"?t.filter((m,g)=>f(m,g)||p(m,g)):u==="data"?t.filter((m,g)=>{var T;let E=s.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(f(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let A=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function xR(r,t,{includeHydrateFallback:n}={}){return NR(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function NR(r){return[...new Set(r)]}function OR(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function MR(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(OR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function U0(){let r=G.useContext(Lo);return hg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function VR(){let r=G.useContext(_f);return hg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var fg=G.createContext(void 0);fg.displayName="FrameworkContext";function z0(){let r=G.useContext(fg);return hg(r,"You must render this element inside a <HydratedRouter> element"),r}function PR(r,t){let n=G.useContext(fg),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=t,A=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let k=W=>{W.forEach(K=>{f(K.isIntersecting)})},B=new IntersectionObserver(k,{threshold:.5});return A.current&&B.observe(A.current),()=>{B.disconnect()}}},[r]),G.useEffect(()=>{if(s){let k=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(k)}}},[s]);let x=()=>{o(!0)},L=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:ru(p,x),onBlur:ru(m,L),onMouseEnter:ru(g,x),onMouseLeave:ru(E,L),onTouchStart:ru(T,x)}]:[!1,A,{}]}function ru(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function kR({page:r,...t}){let{router:n}=U0(),s=G.useMemo(()=>D0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(UR,{page:r,matches:s,...t}):null}function LR(r){let{manifest:t,routeModules:n}=z0(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return DR(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function UR({page:r,matches:t,...n}){let s=ds(),{manifest:o,routeModules:u}=z0(),{basename:f}=U0(),{loaderData:p,matches:m}=VR(),g=G.useMemo(()=>UE(r,t,m,o,s,"data"),[r,t,m,o,s]),E=G.useMemo(()=>UE(r,t,m,o,s,"assets"),[r,t,m,o,s]),T=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let L=new Set,k=!1;if(t.forEach(W=>{var rt;let K=o.routes[W.route.id];!K||!K.hasLoader||(!g.some(lt=>lt.route.id===W.route.id)&&W.route.id in p&&((rt=u[W.route.id])!=null&&rt.shouldRevalidate)||K.hasClientLoader?k=!0:L.add(W.route.id))}),L.size===0)return[];let B=RR(r,f,"data");return k&&L.size>0&&B.searchParams.set("_routes",t.filter(W=>L.has(W.route.id)).map(W=>W.route.id).join(",")),[B.pathname+B.search]},[f,p,s,o,g,t,r,u]),A=G.useMemo(()=>xR(E,o),[E,o]),x=LR(E);return G.createElement(G.Fragment,null,T.map(L=>G.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),A.map(L=>G.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),x.map(({key:L,link:k})=>G.createElement("link",{key:L,...k})))}function zR(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var j0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j0&&(window.__reactRouterVersion="7.7.0")}catch{}function jR({basename:r,children:t,window:n}){let s=G.useRef();s.current==null&&(s.current=Ib({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),p=G.useCallback(m=>{G.startTransition(()=>f(m))},[f]);return G.useLayoutEffect(()=>o.listen(p),[o,p]),G.createElement(gR,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var B0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q0=G.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:m,to:g,preventScrollReset:E,viewTransition:T,...A},x){let{basename:L}=G.useContext(lr),k=typeof g=="string"&&B0.test(g),B,W=!1;if(typeof g=="string"&&k&&(B=g,j0))try{let R=new URL(window.location.href),M=g.startsWith("//")?new URL(R.protocol+g):new URL(g),V=fi(M.pathname,L);M.origin===R.origin&&V!=null?g=V+M.search+M.hash:W=!0}catch{sr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=tR(g,{relative:o}),[rt,lt,ut]=PR(s,A),ft=FR(g,{replace:f,state:p,target:m,preventScrollReset:E,relative:o,viewTransition:T});function C(R){t&&t(R),R.defaultPrevented||ft(R)}let b=G.createElement("a",{...A,...ut,href:B||K,onClick:W||u?t:C,ref:zR(x,lt),target:m,"data-discover":!k&&n==="render"?"true":void 0});return rt&&!k?G.createElement(G.Fragment,null,b,G.createElement(kR,{page:K})):b});q0.displayName="Link";var BR=G.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:m,...g},E){let T=Vu(f,{relative:g.relative}),A=ds(),x=G.useContext(_f),{navigator:L,basename:k}=G.useContext(lr),B=x!=null&&YR(T)&&p===!0,W=L.encodeLocation?L.encodeLocation(T).pathname:T.pathname,K=A.pathname,rt=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(K=K.toLowerCase(),rt=rt?rt.toLowerCase():null,W=W.toLowerCase()),rt&&k&&(rt=fi(rt,k)||rt);const lt=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let ut=K===W||!o&&K.startsWith(W)&&K.charAt(lt)==="/",ft=rt!=null&&(rt===W||!o&&rt.startsWith(W)&&rt.charAt(W.length)==="/"),C={isActive:ut,isPending:ft,isTransitioning:B},b=ut?t:void 0,R;typeof s=="function"?R=s(C):R=[s,ut?"active":null,ft?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(C):u;return G.createElement(q0,{...g,"aria-current":b,className:R,ref:E,style:M,to:f,viewTransition:p},typeof m=="function"?m(C):m)});BR.displayName="NavLink";var qR=G.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Dh,action:p,onSubmit:m,relative:g,preventScrollReset:E,viewTransition:T,...A},x)=>{let L=QR(),k=KR(p,{relative:g}),B=f.toLowerCase()==="get"?"get":"post",W=typeof p=="string"&&B0.test(p),K=rt=>{if(m&&m(rt),rt.defaultPrevented)return;rt.preventDefault();let lt=rt.nativeEvent.submitter,ut=(lt==null?void 0:lt.getAttribute("formmethod"))||f;L(lt||rt.currentTarget,{fetcherKey:t,method:ut,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return G.createElement("form",{ref:x,method:B,action:k,onSubmit:s?m:K,...A,"data-discover":!W&&r==="render"?"true":void 0})});qR.displayName="Form";function HR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H0(r){let t=G.useContext(Lo);return ue(t,HR(r)),t}function FR(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=Mu(),m=ds(),g=Vu(r,{relative:u});return G.useCallback(E=>{if(SR(E,t)){E.preventDefault();let T=n!==void 0?n:_u(m)===_u(g);p(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[m,p,g,n,s,t,r,o,u,f])}var GR=0,$R=()=>`__${String(++GR)}__`;function QR(){let{router:r}=H0("useSubmit"),{basename:t}=G.useContext(lr),n=hR();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:m,body:g}=bR(s,t);if(o.navigate===!1){let E=o.fetcherKey||$R();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function KR(r,{relative:t}={}){let{basename:n}=G.useContext(lr),s=G.useContext(Vr);ue(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Vu(r||".",{relative:t})},f=ds();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(E=>E==="")){p.delete("index"),m.filter(T=>T).forEach(T=>p.append("index",T));let E=p.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ui([n,u.pathname])),_u(u)}function YR(r,t={}){let n=G.useContext(M0);ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=H0("useViewTransitionState"),o=Vu(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=fi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=fi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return $h(o.pathname,f)!=null||$h(o.pathname,u)!=null}var Ge=function(){return Ge=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},Ge.apply(this,arguments)};function vu(r,t,n){if(n||arguments.length===2)for(var s=0,o=t.length,u;s<o;s++)(u||!(s in t))&&(u||(u=Array.prototype.slice.call(t,0,s)),u[s]=t[s]);return r.concat(u||Array.prototype.slice.call(t))}var ie="-ms-",hu="-moz-",$t="-webkit-",F0="comm",Ef="rule",dg="decl",XR="@import",G0="@keyframes",WR="@layer",$0=Math.abs,pg=String.fromCharCode,Am=Object.assign;function ZR(r,t){return Fe(r,0)^45?(((t<<2^Fe(r,0))<<2^Fe(r,1))<<2^Fe(r,2))<<2^Fe(r,3):0}function Q0(r){return r.trim()}function ai(r,t){return(r=t.exec(r))?r[0]:r}function xt(r,t,n){return r.replace(t,n)}function Nh(r,t,n){return r.indexOf(t,n)}function Fe(r,t){return r.charCodeAt(t)|0}function Ao(r,t,n){return r.slice(t,n)}function Rr(r){return r.length}function K0(r){return r.length}function iu(r,t){return t.push(r),r}function JR(r,t){return r.map(t).join("")}function zE(r,t){return r.filter(function(n){return!ai(n,t)})}var Tf=1,wo=1,Y0=0,Kn=0,Re=0,zo="";function Sf(r,t,n,s,o,u,f,p){return{value:r,root:t,parent:n,type:s,props:o,children:u,line:Tf,column:wo,length:f,return:"",siblings:p}}function Ki(r,t){return Am(Sf("",null,null,"",null,null,0,r.siblings),r,{length:-r.length},t)}function ho(r){for(;r.root;)r=Ki(r.root,{children:[r]});iu(r,r.siblings)}function tI(){return Re}function eI(){return Re=Kn>0?Fe(zo,--Kn):0,wo--,Re===10&&(wo=1,Tf--),Re}function rr(){return Re=Kn<Y0?Fe(zo,Kn++):0,wo++,Re===10&&(wo=1,Tf++),Re}function na(){return Fe(zo,Kn)}function Oh(){return Kn}function Af(r,t){return Ao(zo,r,t)}function wm(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nI(r){return Tf=wo=1,Y0=Rr(zo=r),Kn=0,[]}function rI(r){return zo="",r}function im(r){return Q0(Af(Kn-1,bm(r===91?r+2:r===40?r+1:r)))}function iI(r){for(;(Re=na())&&Re<33;)rr();return wm(r)>2||wm(Re)>3?"":" "}function sI(r,t){for(;--t&&rr()&&!(Re<48||Re>102||Re>57&&Re<65||Re>70&&Re<97););return Af(r,Oh()+(t<6&&na()==32&&rr()==32))}function bm(r){for(;rr();)switch(Re){case r:return Kn;case 34:case 39:r!==34&&r!==39&&bm(Re);break;case 40:r===41&&bm(r);break;case 92:rr();break}return Kn}function aI(r,t){for(;rr()&&r+Re!==57;)if(r+Re===84&&na()===47)break;return"/*"+Af(t,Kn-1)+"*"+pg(r===47?r:rr())}function oI(r){for(;!wm(na());)rr();return Af(r,Kn)}function lI(r){return rI(Mh("",null,null,null,[""],r=nI(r),0,[0],r))}function Mh(r,t,n,s,o,u,f,p,m){for(var g=0,E=0,T=f,A=0,x=0,L=0,k=1,B=1,W=1,K=0,rt="",lt=o,ut=u,ft=s,C=rt;B;)switch(L=K,K=rr()){case 40:if(L!=108&&Fe(C,T-1)==58){Nh(C+=xt(im(K),"&","&\f"),"&\f",$0(g?p[g-1]:0))!=-1&&(W=-1);break}case 34:case 39:case 91:C+=im(K);break;case 9:case 10:case 13:case 32:C+=iI(L);break;case 92:C+=sI(Oh()-1,7);continue;case 47:switch(na()){case 42:case 47:iu(uI(aI(rr(),Oh()),t,n,m),m);break;default:C+="/"}break;case 123*k:p[g++]=Rr(C)*W;case 125*k:case 59:case 0:switch(K){case 0:case 125:B=0;case 59+E:W==-1&&(C=xt(C,/\f/g,"")),x>0&&Rr(C)-T&&iu(x>32?BE(C+";",s,n,T-1,m):BE(xt(C," ","")+";",s,n,T-2,m),m);break;case 59:C+=";";default:if(iu(ft=jE(C,t,n,g,E,o,p,rt,lt=[],ut=[],T,u),u),K===123)if(E===0)Mh(C,t,ft,ft,lt,u,T,p,ut);else switch(A===99&&Fe(C,3)===110?100:A){case 100:case 108:case 109:case 115:Mh(r,ft,ft,s&&iu(jE(r,ft,ft,0,0,o,p,rt,o,lt=[],T,ut),ut),o,ut,T,p,s?lt:ut);break;default:Mh(C,ft,ft,ft,[""],ut,0,p,ut)}}g=E=x=0,k=W=1,rt=C="",T=f;break;case 58:T=1+Rr(C),x=L;default:if(k<1){if(K==123)--k;else if(K==125&&k++==0&&eI()==125)continue}switch(C+=pg(K),K*k){case 38:W=E>0?1:(C+="\f",-1);break;case 44:p[g++]=(Rr(C)-1)*W,W=1;break;case 64:na()===45&&(C+=im(rr())),A=na(),E=T=Rr(rt=C+=oI(Oh())),K++;break;case 45:L===45&&Rr(C)==2&&(k=0)}}return u}function jE(r,t,n,s,o,u,f,p,m,g,E,T){for(var A=o-1,x=o===0?u:[""],L=K0(x),k=0,B=0,W=0;k<s;++k)for(var K=0,rt=Ao(r,A+1,A=$0(B=f[k])),lt=r;K<L;++K)(lt=Q0(B>0?x[K]+" "+rt:xt(rt,/&\f/g,x[K])))&&(m[W++]=lt);return Sf(r,t,n,o===0?Ef:p,m,g,E,T)}function uI(r,t,n,s){return Sf(r,t,n,F0,pg(tI()),Ao(r,2,-2),0,s)}function BE(r,t,n,s,o){return Sf(r,t,n,dg,Ao(r,0,s),Ao(r,s+1,-1),s,o)}function X0(r,t,n){switch(ZR(r,t)){case 5103:return $t+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $t+r+r;case 4789:return hu+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return $t+r+hu+r+ie+r+r;case 5936:switch(Fe(r,t+11)){case 114:return $t+r+ie+xt(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return $t+r+ie+xt(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return $t+r+ie+xt(r,/[svh]\w+-[tblr]{2}/,"lr")+r}case 6828:case 4268:case 2903:return $t+r+ie+r+r;case 6165:return $t+r+ie+"flex-"+r+r;case 5187:return $t+r+xt(r,/(\w+).+(:[^]+)/,$t+"box-$1$2"+ie+"flex-$1$2")+r;case 5443:return $t+r+ie+"flex-item-"+xt(r,/flex-|-self/g,"")+(ai(r,/flex-|baseline/)?"":ie+"grid-row-"+xt(r,/flex-|-self/g,""))+r;case 4675:return $t+r+ie+"flex-line-pack"+xt(r,/align-content|flex-|-self/g,"")+r;case 5548:return $t+r+ie+xt(r,"shrink","negative")+r;case 5292:return $t+r+ie+xt(r,"basis","preferred-size")+r;case 6060:return $t+"box-"+xt(r,"-grow","")+$t+r+ie+xt(r,"grow","positive")+r;case 4554:return $t+xt(r,/([^-])(transform)/g,"$1"+$t+"$2")+r;case 6187:return xt(xt(xt(r,/(zoom-|grab)/,$t+"$1"),/(image-set)/,$t+"$1"),r,"")+r;case 5495:case 3959:return xt(r,/(image-set\([^]*)/,$t+"$1$`$1");case 4968:return xt(xt(r,/(.+:)(flex-)?(.*)/,$t+"box-pack:$3"+ie+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$t+r+r;case 4200:if(!ai(r,/flex-|baseline/))return ie+"grid-column-align"+Ao(r,t)+r;break;case 2592:case 3360:return ie+xt(r,"template-","")+r;case 4384:case 3616:return n&&n.some(function(s,o){return t=o,ai(s.props,/grid-\w+-end/)})?~Nh(r+(n=n[t].value),"span",0)?r:ie+xt(r,"-start","")+r+ie+"grid-row-span:"+(~Nh(n,"span",0)?ai(n,/\d+/):+ai(n,/\d+/)-+ai(r,/\d+/))+";":ie+xt(r,"-start","")+r;case 4896:case 4128:return n&&n.some(function(s){return ai(s.props,/grid-\w+-start/)})?r:ie+xt(xt(r,"-end","-span"),"span ","")+r;case 4095:case 3583:case 4068:case 2532:return xt(r,/(.+)-inline(.+)/,$t+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Rr(r)-1-t>6)switch(Fe(r,t+1)){case 109:if(Fe(r,t+4)!==45)break;case 102:return xt(r,/(.+:)(.+)-([^]+)/,"$1"+$t+"$2-$3$1"+hu+(Fe(r,t+3)==108?"$3":"$2-$3"))+r;case 115:return~Nh(r,"stretch",0)?X0(xt(r,"stretch","fill-available"),t,n)+r:r}break;case 5152:case 5920:return xt(r,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,o,u,f,p,m,g){return ie+o+":"+u+g+(f?ie+o+"-span:"+(p?m:+m-+u)+g:"")+r});case 4949:if(Fe(r,t+6)===121)return xt(r,":",":"+$t)+r;break;case 6444:switch(Fe(r,Fe(r,14)===45?18:11)){case 120:return xt(r,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+$t+(Fe(r,14)===45?"inline-":"")+"box$3$1"+$t+"$2$3$1"+ie+"$2box$3")+r;case 100:return xt(r,":",":"+ie)+r}break;case 5719:case 2647:case 2135:case 3927:case 2391:return xt(r,"scroll-","scroll-snap-")+r}return r}function Qh(r,t){for(var n="",s=0;s<r.length;s++)n+=t(r[s],s,r,t)||"";return n}function cI(r,t,n,s){switch(r.type){case WR:if(r.children.length)break;case XR:case dg:return r.return=r.return||r.value;case F0:return"";case G0:return r.return=r.value+"{"+Qh(r.children,s)+"}";case Ef:if(!Rr(r.value=r.props.join(",")))return""}return Rr(n=Qh(r.children,s))?r.return=r.value+"{"+n+"}":""}function hI(r){var t=K0(r);return function(n,s,o,u){for(var f="",p=0;p<t;p++)f+=r[p](n,s,o,u)||"";return f}}function fI(r){return function(t){t.root||(t=t.return)&&r(t)}}function dI(r,t,n,s){if(r.length>-1&&!r.return)switch(r.type){case dg:r.return=X0(r.value,r.length,n);return;case G0:return Qh([Ki(r,{value:xt(r.value,"@","@"+$t)})],s);case Ef:if(r.length)return JR(n=r.props,function(o){switch(ai(o,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ho(Ki(r,{props:[xt(o,/:(read-\w+)/,":"+hu+"$1")]})),ho(Ki(r,{props:[o]})),Am(r,{props:zE(n,s)});break;case"::placeholder":ho(Ki(r,{props:[xt(o,/:(plac\w+)/,":"+$t+"input-$1")]})),ho(Ki(r,{props:[xt(o,/:(plac\w+)/,":"+hu+"$1")]})),ho(Ki(r,{props:[xt(o,/:(plac\w+)/,ie+"input-$1")]})),ho(Ki(r,{props:[o]})),Am(r,{props:zE(n,s)});break}return""})}}var pI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Cn={},bo=typeof process<"u"&&Cn!==void 0&&(Cn.REACT_APP_SC_ATTR||Cn.SC_ATTR)||"data-styled",W0="active",Z0="data-styled-version",wf="6.1.19",mg=`/*!sc*/
`,Kh=typeof window<"u"&&typeof document<"u",mI=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Cn!==void 0&&Cn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Cn.REACT_APP_SC_DISABLE_SPEEDY!==""?Cn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Cn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Cn!==void 0&&Cn.SC_DISABLE_SPEEDY!==void 0&&Cn.SC_DISABLE_SPEEDY!==""&&Cn.SC_DISABLE_SPEEDY!=="false"&&Cn.SC_DISABLE_SPEEDY),gI={},bf=Object.freeze([]),Ro=Object.freeze({});function J0(r,t,n){return n===void 0&&(n=Ro),r.theme!==n.theme&&r.theme||t||n.theme}var tS=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),yI=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,_I=/(^-|-$)/g;function qE(r){return r.replace(yI,"-").replace(_I,"")}var vI=/(a)(d)/gi,vh=52,HE=function(r){return String.fromCharCode(r+(r>25?39:97))};function Rm(r){var t,n="";for(t=Math.abs(r);t>vh;t=t/vh|0)n=HE(t%vh)+n;return(HE(t%vh)+n).replace(vI,"$1-$2")}var sm,eS=5381,yo=function(r,t){for(var n=t.length;n;)r=33*r^t.charCodeAt(--n);return r},nS=function(r){return yo(eS,r)};function rS(r){return Rm(nS(r)>>>0)}function EI(r){return r.displayName||r.name||"Component"}function am(r){return typeof r=="string"&&!0}var iS=typeof Symbol=="function"&&Symbol.for,sS=iS?Symbol.for("react.memo"):60115,TI=iS?Symbol.for("react.forward_ref"):60112,SI={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},AI={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},aS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wI=((sm={})[TI]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},sm[sS]=aS,sm);function FE(r){return("type"in(t=r)&&t.type.$$typeof)===sS?aS:"$$typeof"in r?wI[r.$$typeof]:SI;var t}var bI=Object.defineProperty,RI=Object.getOwnPropertyNames,GE=Object.getOwnPropertySymbols,II=Object.getOwnPropertyDescriptor,CI=Object.getPrototypeOf,$E=Object.prototype;function oS(r,t,n){if(typeof t!="string"){if($E){var s=CI(t);s&&s!==$E&&oS(r,s,n)}var o=RI(t);GE&&(o=o.concat(GE(t)));for(var u=FE(r),f=FE(t),p=0;p<o.length;++p){var m=o[p];if(!(m in AI||n&&n[m]||f&&m in f||u&&m in u)){var g=II(t,m);try{bI(r,m,g)}catch{}}}}return r}function aa(r){return typeof r=="function"}function gg(r){return typeof r=="object"&&"styledComponentId"in r}function ta(r,t){return r&&t?"".concat(r," ").concat(t):r||t||""}function Im(r,t){if(r.length===0)return"";for(var n=r[0],s=1;s<r.length;s++)n+=r[s];return n}function Eu(r){return r!==null&&typeof r=="object"&&r.constructor.name===Object.name&&!("props"in r&&r.$$typeof)}function Cm(r,t,n){if(n===void 0&&(n=!1),!n&&!Eu(r)&&!Array.isArray(r))return t;if(Array.isArray(t))for(var s=0;s<t.length;s++)r[s]=Cm(r[s],t[s]);else if(Eu(t))for(var s in t)r[s]=Cm(r[s],t[s]);return r}function yg(r,t){Object.defineProperty(r,"toString",{value:t})}function oa(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(r," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var DI=function(){function r(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return r.prototype.indexOfGroup=function(t){for(var n=0,s=0;s<t;s++)n+=this.groupSizes[s];return n},r.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var s=this.groupSizes,o=s.length,u=o;t>=u;)if((u<<=1)<0)throw oa(16,"".concat(t));this.groupSizes=new Uint32Array(u),this.groupSizes.set(s),this.length=u;for(var f=o;f<u;f++)this.groupSizes[f]=0}for(var p=this.indexOfGroup(t+1),m=(f=0,n.length);f<m;f++)this.tag.insertRule(p,n[f])&&(this.groupSizes[t]++,p++)},r.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],s=this.indexOfGroup(t),o=s+n;this.groupSizes[t]=0;for(var u=s;u<o;u++)this.tag.deleteRule(s)}},r.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var s=this.groupSizes[t],o=this.indexOfGroup(t),u=o+s,f=o;f<u;f++)n+="".concat(this.tag.getRule(f)).concat(mg);return n},r}(),Vh=new Map,Yh=new Map,Ph=1,Eh=function(r){if(Vh.has(r))return Vh.get(r);for(;Yh.has(Ph);)Ph++;var t=Ph++;return Vh.set(r,t),Yh.set(t,r),t},xI=function(r,t){Ph=t+1,Vh.set(r,t),Yh.set(t,r)},NI="style[".concat(bo,"][").concat(Z0,'="').concat(wf,'"]'),OI=new RegExp("^".concat(bo,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),MI=function(r,t,n){for(var s,o=n.split(","),u=0,f=o.length;u<f;u++)(s=o[u])&&r.registerName(t,s)},VI=function(r,t){for(var n,s=((n=t.textContent)!==null&&n!==void 0?n:"").split(mg),o=[],u=0,f=s.length;u<f;u++){var p=s[u].trim();if(p){var m=p.match(OI);if(m){var g=0|parseInt(m[1],10),E=m[2];g!==0&&(xI(E,g),MI(r,E,m[3]),r.getTag().insertRules(g,o)),o.length=0}else o.push(p)}}},QE=function(r){for(var t=document.querySelectorAll(NI),n=0,s=t.length;n<s;n++){var o=t[n];o&&o.getAttribute(bo)!==W0&&(VI(r,o),o.parentNode&&o.parentNode.removeChild(o))}};function PI(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var lS=function(r){var t=document.head,n=r||t,s=document.createElement("style"),o=function(p){var m=Array.from(p.querySelectorAll("style[".concat(bo,"]")));return m[m.length-1]}(n),u=o!==void 0?o.nextSibling:null;s.setAttribute(bo,W0),s.setAttribute(Z0,wf);var f=PI();return f&&s.setAttribute("nonce",f),n.insertBefore(s,u),s},kI=function(){function r(t){this.element=lS(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var s=document.styleSheets,o=0,u=s.length;o<u;o++){var f=s[o];if(f.ownerNode===n)return f}throw oa(17)}(this.element),this.length=0}return r.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},r.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},r.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},r}(),LI=function(){function r(t){this.element=lS(t),this.nodes=this.element.childNodes,this.length=0}return r.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var s=document.createTextNode(n);return this.element.insertBefore(s,this.nodes[t]||null),this.length++,!0}return!1},r.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},r.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},r}(),UI=function(){function r(t){this.rules=[],this.length=0}return r.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},r.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},r.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},r}(),KE=Kh,zI={isServer:!Kh,useCSSOMInjection:!mI},Xh=function(){function r(t,n,s){t===void 0&&(t=Ro),n===void 0&&(n={});var o=this;this.options=Ge(Ge({},zI),t),this.gs=n,this.names=new Map(s),this.server=!!t.isServer,!this.server&&Kh&&KE&&(KE=!1,QE(this)),yg(this,function(){return function(u){for(var f=u.getTag(),p=f.length,m="",g=function(T){var A=function(W){return Yh.get(W)}(T);if(A===void 0)return"continue";var x=u.names.get(A),L=f.getGroup(T);if(x===void 0||!x.size||L.length===0)return"continue";var k="".concat(bo,".g").concat(T,'[id="').concat(A,'"]'),B="";x!==void 0&&x.forEach(function(W){W.length>0&&(B+="".concat(W,","))}),m+="".concat(L).concat(k,'{content:"').concat(B,'"}').concat(mg)},E=0;E<p;E++)g(E);return m}(o)})}return r.registerId=function(t){return Eh(t)},r.prototype.rehydrate=function(){!this.server&&Kh&&QE(this)},r.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new r(Ge(Ge({},this.options),t),this.gs,n&&this.names||void 0)},r.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},r.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var s=n.useCSSOMInjection,o=n.target;return n.isServer?new UI(o):s?new kI(o):new LI(o)}(this.options),new DI(t)));var t},r.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},r.prototype.registerName=function(t,n){if(Eh(t),this.names.has(t))this.names.get(t).add(n);else{var s=new Set;s.add(n),this.names.set(t,s)}},r.prototype.insertRules=function(t,n,s){this.registerName(t,n),this.getTag().insertRules(Eh(t),s)},r.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},r.prototype.clearRules=function(t){this.getTag().clearGroup(Eh(t)),this.clearNames(t)},r.prototype.clearTag=function(){this.tag=void 0},r}(),jI=/&/g,BI=/^\s*\/\/.*$/gm;function uS(r,t){return r.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(s){return"".concat(t," ").concat(s)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=uS(n.children,t)),n})}function qI(r){var t,n,s,o=Ro,u=o.options,f=u===void 0?Ro:u,p=o.plugins,m=p===void 0?bf:p,g=function(A,x,L){return L.startsWith(n)&&L.endsWith(n)&&L.replaceAll(n,"").length>0?".".concat(t):A},E=m.slice();E.push(function(A){A.type===Ef&&A.value.includes("&")&&(A.props[0]=A.props[0].replace(jI,n).replace(s,g))}),f.prefix&&E.push(dI),E.push(cI);var T=function(A,x,L,k){x===void 0&&(x=""),L===void 0&&(L=""),k===void 0&&(k="&"),t=k,n=x,s=new RegExp("\\".concat(n,"\\b"),"g");var B=A.replace(BI,""),W=lI(L||x?"".concat(L," ").concat(x," { ").concat(B," }"):B);f.namespace&&(W=uS(W,f.namespace));var K=[];return Qh(W,hI(E.concat(fI(function(rt){return K.push(rt)})))),K};return T.hash=m.length?m.reduce(function(A,x){return x.name||oa(15),yo(A,x.name)},eS).toString():"",T}var HI=new Xh,Dm=qI(),cS=er.createContext({shouldForwardProp:void 0,styleSheet:HI,stylis:Dm});cS.Consumer;er.createContext(void 0);function xm(){return G.useContext(cS)}var FI=function(){function r(t,n){var s=this;this.inject=function(o,u){u===void 0&&(u=Dm);var f=s.name+u.hash;o.hasNameForId(s.id,f)||o.insertRules(s.id,f,u(s.rules,f,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,yg(this,function(){throw oa(12,String(s.name))})}return r.prototype.getName=function(t){return t===void 0&&(t=Dm),this.name+t.hash},r}(),GI=function(r){return r>="A"&&r<="Z"};function YE(r){for(var t="",n=0;n<r.length;n++){var s=r[n];if(n===1&&s==="-"&&r[0]==="-")return r;GI(s)?t+="-"+s.toLowerCase():t+=s}return t.startsWith("ms-")?"-"+t:t}var hS=function(r){return r==null||r===!1||r===""},fS=function(r){var t,n,s=[];for(var o in r){var u=r[o];r.hasOwnProperty(o)&&!hS(u)&&(Array.isArray(u)&&u.isCss||aa(u)?s.push("".concat(YE(o),":"),u,";"):Eu(u)?s.push.apply(s,vu(vu(["".concat(o," {")],fS(u),!1),["}"],!1)):s.push("".concat(YE(o),": ").concat((t=o,(n=u)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in pI||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return s};function ts(r,t,n,s){if(hS(r))return[];if(gg(r))return[".".concat(r.styledComponentId)];if(aa(r)){if(!aa(u=r)||u.prototype&&u.prototype.isReactComponent||!t)return[r];var o=r(t);return ts(o,t,n,s)}var u;return r instanceof FI?n?(r.inject(n,s),[r.getName(s)]):[r]:Eu(r)?fS(r):Array.isArray(r)?Array.prototype.concat.apply(bf,r.map(function(f){return ts(f,t,n,s)})):[r.toString()]}function dS(r){for(var t=0;t<r.length;t+=1){var n=r[t];if(aa(n)&&!gg(n))return!1}return!0}var $I=nS(wf),QI=function(){function r(t,n,s){this.rules=t,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&dS(t),this.componentId=n,this.baseHash=yo($I,n),this.baseStyle=s,Xh.registerId(n)}return r.prototype.generateAndInjectStyles=function(t,n,s){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=ta(o,this.staticRulesId);else{var u=Im(ts(this.rules,t,n,s)),f=Rm(yo(this.baseHash,u)>>>0);if(!n.hasNameForId(this.componentId,f)){var p=s(u,".".concat(f),void 0,this.componentId);n.insertRules(this.componentId,f,p)}o=ta(o,f),this.staticRulesId=f}else{for(var m=yo(this.baseHash,s.hash),g="",E=0;E<this.rules.length;E++){var T=this.rules[E];if(typeof T=="string")g+=T;else if(T){var A=Im(ts(T,t,n,s));m=yo(m,A+E),g+=A}}if(g){var x=Rm(m>>>0);n.hasNameForId(this.componentId,x)||n.insertRules(this.componentId,x,s(g,".".concat(x),void 0,this.componentId)),o=ta(o,x)}}return o},r}(),Tu=er.createContext(void 0);Tu.Consumer;function KI(r){var t=er.useContext(Tu),n=G.useMemo(function(){return function(s,o){if(!s)throw oa(14);if(aa(s)){var u=s(o);return u}if(Array.isArray(s)||typeof s!="object")throw oa(8);return o?Ge(Ge({},o),s):s}(r.theme,t)},[r.theme,t]);return r.children?er.createElement(Tu.Provider,{value:n},r.children):null}var om={};function YI(r,t,n){var s=gg(r),o=r,u=!am(r),f=t.attrs,p=f===void 0?bf:f,m=t.componentId,g=m===void 0?function(lt,ut){var ft=typeof lt!="string"?"sc":qE(lt);om[ft]=(om[ft]||0)+1;var C="".concat(ft,"-").concat(rS(wf+ft+om[ft]));return ut?"".concat(ut,"-").concat(C):C}(t.displayName,t.parentComponentId):m,E=t.displayName,T=E===void 0?function(lt){return am(lt)?"styled.".concat(lt):"Styled(".concat(EI(lt),")")}(r):E,A=t.displayName&&t.componentId?"".concat(qE(t.displayName),"-").concat(t.componentId):t.componentId||g,x=s&&o.attrs?o.attrs.concat(p).filter(Boolean):p,L=t.shouldForwardProp;if(s&&o.shouldForwardProp){var k=o.shouldForwardProp;if(t.shouldForwardProp){var B=t.shouldForwardProp;L=function(lt,ut){return k(lt,ut)&&B(lt,ut)}}else L=k}var W=new QI(n,A,s?o.componentStyle:void 0);function K(lt,ut){return function(ft,C,b){var R=ft.attrs,M=ft.componentStyle,V=ft.defaultProps,U=ft.foldedComponentIds,D=ft.styledComponentId,xe=ft.target,ae=er.useContext(Tu),Y=xm(),ot=ft.shouldForwardProp||Y.shouldForwardProp,pt=J0(C,ae,V)||Ro,Ct=function(It,vt,ce){for(var qt,Le=Ge(Ge({},vt),{className:void 0,theme:ce}),On=0;On<It.length;On+=1){var dn=aa(qt=It[On])?qt(Le):qt;for(var tn in dn)Le[tn]=tn==="className"?ta(Le[tn],dn[tn]):tn==="style"?Ge(Ge({},Le[tn]),dn[tn]):dn[tn]}return vt.className&&(Le.className=ta(Le.className,vt.className)),Le}(R,C,pt),N=Ct.as||xe,nt={};for(var st in Ct)Ct[st]===void 0||st[0]==="$"||st==="as"||st==="theme"&&Ct.theme===pt||(st==="forwardedAs"?nt.as=Ct.forwardedAs:ot&&!ot(st,N)||(nt[st]=Ct[st]));var it=function(It,vt){var ce=xm(),qt=It.generateAndInjectStyles(vt,ce.styleSheet,ce.stylis);return qt}(M,Ct),mt=ta(U,D);return it&&(mt+=" "+it),Ct.className&&(mt+=" "+Ct.className),nt[am(N)&&!tS.has(N)?"class":"className"]=mt,b&&(nt.ref=b),G.createElement(N,nt)}(rt,lt,ut)}K.displayName=T;var rt=er.forwardRef(K);return rt.attrs=x,rt.componentStyle=W,rt.displayName=T,rt.shouldForwardProp=L,rt.foldedComponentIds=s?ta(o.foldedComponentIds,o.styledComponentId):"",rt.styledComponentId=A,rt.target=s?o.target:r,Object.defineProperty(rt,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(lt){this._foldedDefaultProps=s?function(ut){for(var ft=[],C=1;C<arguments.length;C++)ft[C-1]=arguments[C];for(var b=0,R=ft;b<R.length;b++)Cm(ut,R[b],!0);return ut}({},o.defaultProps,lt):lt}}),yg(rt,function(){return".".concat(rt.styledComponentId)}),u&&oS(rt,r,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),rt}function XE(r,t){for(var n=[r[0]],s=0,o=t.length;s<o;s+=1)n.push(t[s],r[s+1]);return n}var WE=function(r){return Object.assign(r,{isCss:!0})};function pS(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(aa(r)||Eu(r))return WE(ts(XE(bf,vu([r],t,!0))));var s=r;return t.length===0&&s.length===1&&typeof s[0]=="string"?ts(s):WE(ts(XE(s,t)))}function Nm(r,t,n){if(n===void 0&&(n=Ro),!t)throw oa(1,t);var s=function(o){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];return r(t,n,pS.apply(void 0,vu([o],u,!1)))};return s.attrs=function(o){return Nm(r,t,Ge(Ge({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},s.withConfig=function(o){return Nm(r,t,Ge(Ge({},n),o))},s}var mS=function(r){return Nm(YI,r)},yt=mS;tS.forEach(function(r){yt[r]=mS(r)});var XI=function(){function r(t,n){this.rules=t,this.componentId=n,this.isStatic=dS(t),Xh.registerId(this.componentId+1)}return r.prototype.createStyles=function(t,n,s,o){var u=o(Im(ts(this.rules,n,s,o)),""),f=this.componentId+t;s.insertRules(f,f,u)},r.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},r.prototype.renderStyles=function(t,n,s,o){t>2&&Xh.registerId(this.componentId+t),this.removeStyles(t,s),this.createStyles(t,n,s,o)},r}();function WI(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var s=pS.apply(void 0,vu([r],t,!1)),o="sc-global-".concat(rS(JSON.stringify(s))),u=new XI(s,o),f=function(m){var g=xm(),E=er.useContext(Tu),T=er.useRef(g.styleSheet.allocateGSInstance(o)).current;return g.styleSheet.server&&p(T,m,g.styleSheet,E,g.stylis),er.useLayoutEffect(function(){if(!g.styleSheet.server)return p(T,m,g.styleSheet,E,g.stylis),function(){return u.removeStyles(T,g.styleSheet)}},[T,m,g.styleSheet,E,g.stylis]),null};function p(m,g,E,T,A){if(u.isStatic)u.renderStyles(m,gI,E,A);else{var x=Ge(Ge({},g),{theme:J0(g,T,f.defaultProps)});u.renderStyles(m,x,E,A)}}return er.memo(f)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=()=>{};var ZE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},JI=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},yS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,E=u>>2,T=(u&3)<<4|p>>4;let A=(p&15)<<2|g>>6,x=g&63;m||(x=64,f||(A=64)),s.push(n[E],n[T],n[A],n[x])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(gS(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):JI(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||g==null||T==null)throw new tC;const A=u<<2|p>>4;if(s.push(A),g!==64){const x=p<<4&240|g>>2;if(s.push(x),T!==64){const L=g<<6&192|T;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class tC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eC=function(r){const t=gS(r);return yS.encodeByteArray(t,!0)},Wh=function(r){return eC(r).replace(/\./g,"")},_S=function(r){try{return yS.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=()=>nC().__FIREBASE_DEFAULTS__,iC=()=>{if(typeof process>"u"||typeof ZE>"u")return;const r=ZE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},sC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&_S(r[1]);return t&&JSON.parse(t)},Rf=()=>{try{return ZI()||rC()||iC()||sC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},vS=r=>{var t,n;return(n=(t=Rf())==null?void 0:t.emulatorHosts)==null?void 0:n[r]},aC=r=>{const t=vS(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},ES=()=>{var r;return(r=Rf())==null?void 0:r.config},TS=r=>{var t;return(t=Rf())==null?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function SS(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Wh(JSON.stringify(n)),Wh(JSON.stringify(f)),""].join(".")}const fu={};function uC(){const r={prod:[],emulator:[]};for(const t of Object.keys(fu))fu[t]?r.emulator.push(t):r.prod.push(t);return r}function cC(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let JE=!1;function AS(r,t){if(typeof window>"u"||typeof document>"u"||!jo(window.location.host)||fu[r]===t||fu[r]||JE)return;fu[r]=t;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=uC().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function m(A,x){A.setAttribute("width","24"),A.setAttribute("id",x),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{JE=!0,f()},A}function E(A,x){A.setAttribute("id",x),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=cC(s),x=n("text"),L=document.getElementById(x)||document.createElement("span"),k=n("learnmore"),B=document.getElementById(k)||document.createElement("a"),W=n("preprendIcon"),K=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const rt=A.element;p(rt),E(B,k);const lt=g();m(K,W),rt.append(K,L,B,lt),document.body.appendChild(rt)}u?(L.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function fC(){var t;const r=(t=Rf())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function mC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gC(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function yC(){return!fC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _C(){try{return typeof indexedDB=="object"}catch{return!1}}function vC(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="FirebaseError";class yi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=EC,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pu.prototype.create)}}class Pu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?TC(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new yi(o,p,s)}}function TC(r,t){return r.replace(SC,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const SC=/\{\$([^}]+)}/g;function AC(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function la(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(tT(u)&&tT(f)){if(!la(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function tT(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function su(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function au(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function wC(r,t){const n=new bC(r,t);return n.subscribe.bind(n)}class bC{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");RC(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=lm),o.error===void 0&&(o.error=lm),o.complete===void 0&&(o.complete=lm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RC(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function lm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(r){return r&&r._delegate?r._delegate:r}class ua{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new oC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(DC(t))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Js){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Js){return this.instances.has(t)}getOptions(t=Js){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CC(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Js){return this.component?this.component.multipleInstances?t:Js:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CC(r){return r===Js?void 0:r}function DC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new IC(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const NC={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},OC=Pt.INFO,MC={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},VC=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=MC[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _g{constructor(t){this.name=t,this._logLevel=OC,this._logHandler=VC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?NC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const PC=(r,t)=>t.some(n=>r instanceof n);let eT,nT;function kC(){return eT||(eT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LC(){return nT||(nT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wS=new WeakMap,Om=new WeakMap,bS=new WeakMap,um=new WeakMap,vg=new WeakMap;function UC(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(es(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&wS.set(n,r)}).catch(()=>{}),vg.set(t,r),t}function zC(r){if(Om.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Om.set(r,t)}let Mm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Om.get(r);if(t==="objectStoreNames")return r.objectStoreNames||bS.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function jC(r){Mm=r(Mm)}function BC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(cm(this),t,...n);return bS.set(s,t.sort?t.sort():[t]),es(s)}:LC().includes(r)?function(...t){return r.apply(cm(this),t),es(wS.get(this))}:function(...t){return es(r.apply(cm(this),t))}}function qC(r){return typeof r=="function"?BC(r):(r instanceof IDBTransaction&&zC(r),PC(r,kC())?new Proxy(r,Mm):r)}function es(r){if(r instanceof IDBRequest)return UC(r);if(um.has(r))return um.get(r);const t=qC(r);return t!==r&&(um.set(r,t),vg.set(t,r)),t}const cm=r=>vg.get(r);function HC(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),p=es(f);return s&&f.addEventListener("upgradeneeded",m=>{s(es(f.result),m.oldVersion,m.newVersion,es(f.transaction),m)}),n&&f.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const FC=["get","getKey","getAll","getAllKeys","count"],GC=["put","add","delete","clear"],hm=new Map;function rT(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(hm.get(t))return hm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=GC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||FC.includes(n)))return;const u=async function(f,...p){const m=this.transaction(f,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&m.done]))[0]};return hm.set(t,u),u}jC(r=>({...r,get:(t,n,s)=>rT(t,n)||r.get(t,n,s),has:(t,n)=>!!rT(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function QC(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Vm="@firebase/app",iT="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new _g("@firebase/app"),KC="@firebase/app-compat",YC="@firebase/analytics-compat",XC="@firebase/analytics",WC="@firebase/app-check-compat",ZC="@firebase/app-check",JC="@firebase/auth",tD="@firebase/auth-compat",eD="@firebase/database",nD="@firebase/data-connect",rD="@firebase/database-compat",iD="@firebase/functions",sD="@firebase/functions-compat",aD="@firebase/installations",oD="@firebase/installations-compat",lD="@firebase/messaging",uD="@firebase/messaging-compat",cD="@firebase/performance",hD="@firebase/performance-compat",fD="@firebase/remote-config",dD="@firebase/remote-config-compat",pD="@firebase/storage",mD="@firebase/storage-compat",gD="@firebase/firestore",yD="@firebase/ai",_D="@firebase/firestore-compat",vD="firebase",ED="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="[DEFAULT]",TD={[Vm]:"fire-core",[KC]:"fire-core-compat",[XC]:"fire-analytics",[YC]:"fire-analytics-compat",[ZC]:"fire-app-check",[WC]:"fire-app-check-compat",[JC]:"fire-auth",[tD]:"fire-auth-compat",[eD]:"fire-rtdb",[nD]:"fire-data-connect",[rD]:"fire-rtdb-compat",[iD]:"fire-fn",[sD]:"fire-fn-compat",[aD]:"fire-iid",[oD]:"fire-iid-compat",[lD]:"fire-fcm",[uD]:"fire-fcm-compat",[cD]:"fire-perf",[hD]:"fire-perf-compat",[fD]:"fire-rc",[dD]:"fire-rc-compat",[pD]:"fire-gcs",[mD]:"fire-gcs-compat",[gD]:"fire-fst",[_D]:"fire-fst-compat",[yD]:"fire-vertex","fire-js":"fire-js",[vD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=new Map,SD=new Map,km=new Map;function sT(r,t){try{r.container.addComponent(t)}catch(n){di.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Io(r){const t=r.name;if(km.has(t))return di.debug(`There were multiple attempts to register component ${t}.`),!1;km.set(t,r);for(const n of Zh.values())sT(n,r);for(const n of SD.values())sT(n,r);return!0}function Eg(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function $n(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new Pu("app","Firebase",AD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=ED;function RS(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Pm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw ns.create("bad-app-name",{appName:String(o)});if(n||(n=ES()),!n)throw ns.create("no-options");const u=Zh.get(o);if(u){if(la(n,u.options)&&la(s,u.config))return u;throw ns.create("duplicate-app",{appName:o})}const f=new xC(o);for(const m of km.values())f.addComponent(m);const p=new wD(n,s,f);return Zh.set(o,p),p}function IS(r=Pm){const t=Zh.get(r);if(!t&&r===Pm&&ES())return RS();if(!t)throw ns.create("no-app",{appName:r});return t}function rs(r,t,n){let s=TD[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),di.warn(f.join(" "));return}Io(new ua(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="firebase-heartbeat-database",RD=1,Su="firebase-heartbeat-store";let fm=null;function CS(){return fm||(fm=HC(bD,RD,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Su)}catch(n){console.warn(n)}}}}).catch(r=>{throw ns.create("idb-open",{originalErrorMessage:r.message})})),fm}async function ID(r){try{const n=(await CS()).transaction(Su),s=await n.objectStore(Su).get(DS(r));return await n.done,s}catch(t){if(t instanceof yi)di.warn(t.message);else{const n=ns.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});di.warn(n.message)}}}async function aT(r,t){try{const s=(await CS()).transaction(Su,"readwrite");await s.objectStore(Su).put(t,DS(r)),await s.done}catch(n){if(n instanceof yi)di.warn(n.message);else{const s=ns.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});di.warn(s.message)}}}function DS(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=1024,DD=30;class xD{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=oT();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>DD){const f=MD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){di.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=oT(),{heartbeatsToSend:s,unsentEntries:o}=ND(this._heartbeatsCache.heartbeats),u=Wh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return di.warn(n),""}}}function oT(){return new Date().toISOString().substring(0,10)}function ND(r,t=CD){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),lT(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),lT(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class OD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _C()?vC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ID(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return aT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return aT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function lT(r){return Wh(JSON.stringify({version:2,heartbeats:r})).length}function MD(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(r){Io(new ua("platform-logger",t=>new $C(t),"PRIVATE")),Io(new ua("heartbeat",t=>new xD(t),"PRIVATE")),rs(Vm,iT,r),rs(Vm,iT,"esm2020"),rs("fire-js","")}VD("");function xS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PD=xS,NS=new Pu("auth","Firebase",xS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=new _g("@firebase/auth");function kD(r,...t){Jh.logLevel<=Pt.WARN&&Jh.warn(`Auth (${Bo}): ${r}`,...t)}function kh(r,...t){Jh.logLevel<=Pt.ERROR&&Jh.error(`Auth (${Bo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(r,...t){throw Tg(r,...t)}function Ir(r,...t){return Tg(r,...t)}function OS(r,t,n){const s={...PD(),[t]:n};return new Pu("auth","Firebase",s).create(t,{appName:r.name})}function ci(r){return OS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tg(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return NS.create(r,...t)}function St(r,t,...n){if(!r)throw Tg(t,...n)}function oi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw kh(t),new Error(t)}function pi(r,t){r||oi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function LD(){return uT()==="http:"||uT()==="https:"}function uT(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LD()||pC()||"connection"in navigator)?navigator.onLine:!0}function zD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(t,n){this.shortDelay=t,this.longDelay=n,pi(n>t,"Short delay should be less than long delay!"),this.isMobile=hC()||mC()}get(){return UD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(r,t){pi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qD=new Lu(3e4,6e4);function ps(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function _i(r,t,n,s,o={}){return VS(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const p=ku({key:r.config.apiKey,...f}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g={method:t,headers:m,...u};return dC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&jo(r.emulatorConfig.host)&&(g.credentials="include"),MS.fetch()(await PS(r,r.config.apiHost,n,p),g)})}async function VS(r,t,n){r._canInitEmulator=!1;const s={...jD,...t};try{const o=new FD(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Th(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Th(r,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw Th(r,"email-already-in-use",f);if(m==="USER_DISABLED")throw Th(r,"user-disabled",f);const E=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw OS(r,E,g);ar(r,E)}}catch(o){if(o instanceof yi)throw o;ar(r,"network-request-failed",{message:String(o)})}}async function Uu(r,t,n,s,o={}){const u=await _i(r,t,n,s,o);return"mfaPendingCredential"in u&&ar(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function PS(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Sg(r.config,o):`${r.config.apiScheme}://${o}`;return BD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function HD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ir(this.auth,"network-request-failed")),qD.get())})}}function Th(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ir(r,t,s);return o.customData._tokenResponse=n,o}function cT(r){return r!==void 0&&r.enterprise!==void 0}class GD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return HD(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $D(r,t){return _i(r,"GET","/v2/recaptchaConfig",ps(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(r,t){return _i(r,"POST","/v1/accounts:delete",t)}async function tf(r,t){return _i(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function KD(r,t=!1){const n=De(r),s=await n.getIdToken(t),o=Ag(s);St(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:du(dm(o.auth_time)),issuedAtTime:du(dm(o.iat)),expirationTime:du(dm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function dm(r){return Number(r)*1e3}function Ag(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return kh("JWT malformed, contained fewer than 3 sections"),null;try{const o=_S(n);return o?JSON.parse(o):(kh("Failed to decode base64 JWT payload"),null)}catch(o){return kh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function hT(r){const t=Ag(r);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof yi&&YD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function YD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ef(r){var T;const t=r.auth,n=await r.getIdToken(),s=await Co(r,tf(t,{idToken:n}));St(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?kS(o.providerUserInfo):[],f=ZD(r.providerData,u),p=r.isAnonymous,m=!(r.email&&o.passwordHash)&&!(f!=null&&f.length),g=p?m:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Um(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function WD(r){const t=De(r);await ef(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ZD(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function kS(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(r,t){const n=await VS(r,{},async()=>{const s=ku({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await PS(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:s};return r.emulatorConfig&&jo(r.emulatorConfig.host)&&(m.credentials="include"),MS.fetch()(f,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tx(r,t){return _i(r,"POST","/v2/accounts:revokeToken",ps(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):hT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){St(t.length!==0,"internal-error");const n=hT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await JD(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new vo;return s&&(St(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(St(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(St(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(r,t){St(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class nr{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new XD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Um(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Co(this,this.stsTokenManager.getToken(this.auth,t));return St(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return KD(this,t)}reload(){return WD(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new nr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await ef(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(ci(this.auth));const t=await this.getIdToken();return await Co(this,QD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:x,providerData:L,stsTokenManager:k}=n;St(T&&k,t,"internal-error");const B=vo.fromJSON(this.name,k);St(typeof T=="string",t,"internal-error"),Qi(s,t.name),Qi(o,t.name),St(typeof A=="boolean",t,"internal-error"),St(typeof x=="boolean",t,"internal-error"),Qi(u,t.name),Qi(f,t.name),Qi(p,t.name),Qi(m,t.name),Qi(g,t.name),Qi(E,t.name);const W=new nr({uid:T,auth:t,email:o,emailVerified:A,displayName:s,isAnonymous:x,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:B,createdAt:g,lastLoginAt:E});return L&&Array.isArray(L)&&(W.providerData=L.map(K=>({...K}))),m&&(W._redirectEventId=m),W}static async _fromIdTokenResponse(t,n,s=!1){const o=new vo;o.updateFromServerResponse(n);const u=new nr({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await ef(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];St(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?kS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new vo;p.updateFromIdToken(s);const m=new nr({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Um(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=new Map;function li(r){pi(r instanceof Function,"Expected a class definition");let t=fT.get(r);return t?(pi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,fT.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}LS.type="NONE";const dT=LS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(r,t,n){return`firebase:${r}:${t}:${n}`}class Eo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await tf(this.auth,{idToken:t}).catch(()=>{});return n?nr._fromGetAccountInfoResponse(this.auth,n,t):null}return nr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Eo(li(dT),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||li(dT);const f=Lh(s,t.config.apiKey,t.name);let p=null;for(const g of n)try{const E=await g._get(f);if(E){let T;if(typeof E=="string"){const A=await tf(t,{idToken:E}).catch(()=>{});if(!A)break;T=await nr._fromGetAccountInfoResponse(t,A,E)}else T=nr._fromJSON(t,E);g!==u&&(p=T),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Eo(u,t,s):(u=m[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Eo(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(BS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(US(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(HS(t))return"Blackberry";if(FS(t))return"Webos";if(zS(t))return"Safari";if((t.includes("chrome/")||jS(t))&&!t.includes("edge/"))return"Chrome";if(qS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function US(r=ln()){return/firefox\//i.test(r)}function zS(r=ln()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function jS(r=ln()){return/crios\//i.test(r)}function BS(r=ln()){return/iemobile/i.test(r)}function qS(r=ln()){return/android/i.test(r)}function HS(r=ln()){return/blackberry/i.test(r)}function FS(r=ln()){return/webos/i.test(r)}function wg(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ex(r=ln()){var t;return wg(r)&&!!((t=window.navigator)!=null&&t.standalone)}function nx(){return gC()&&document.documentMode===10}function GS(r=ln()){return wg(r)||qS(r)||FS(r)||HS(r)||/windows phone/i.test(r)||BS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(r,t=[]){let n;switch(r){case"Browser":n=pT(ln());break;case"Worker":n=`${pT(ln())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,p)=>{try{const m=t(u);f(m)}catch(m){p(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(r,t={}){return _i(r,"GET","/v2/passwordPolicy",ps(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=6;class ax{constructor(t){var s;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??sx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=t.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mT(this),this.idTokenSubscription=new mT(this),this.beforeStateQueue=new rx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Eo.create(this,t),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await tf(this,{idToken:t}),s=await nr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if($n(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,p=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(t);(!f||f===p)&&(m!=null&&m.user)&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ef(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=zD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($n(this.app))return Promise.reject(ci(this));const n=t?De(t):null;return n&&St(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $n(this.app)?Promise.reject(ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ix(this),n=new ax(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Pu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await tx(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&li(t)||this._popupRedirectResolver;St(n,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,s,o);return()=>{f=!0,m()}}else{const m=t.addObserver(n);return()=>{f=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=$S(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var n;if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&kD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ma(r){return De(r)}class mT{constructor(t){this.auth=t,this.observer=null,this.addObserver=wC(n=>this.observer=n)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lx(r){If=r}function QS(r){return If.loadJS(r)}function ux(){return If.recaptchaEnterpriseScript}function cx(){return If.gapiScript}function hx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class fx{constructor(){this.enterprise=new dx}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class dx{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const px="recaptcha-enterprise",KS="NO_RECAPTCHA";class mx{constructor(t){this.type=px,this.auth=ma(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{$D(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new GD(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(m=>{p(m)})})}function o(u,f,p){const m=window.grecaptcha;cT(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(KS)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fx().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&cT(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let m=ux();m.length!==0&&(m+=p),QS(m).then(()=>{o(p,u,f)}).catch(g=>{f(g)})}}).catch(p=>{f(p)})})}}async function gT(r,t,n,s=!1,o=!1){const u=new mx(r);let f;if(o)f=KS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function zm(r,t,n,s,o){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await gT(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await gT(r,t,n,n==="getOobCode");return s(r,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(r,t){const n=Eg(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(la(u,t??{}))return o;ar(o,"already-initialized")}return n.initialize({options:t})}function yx(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(li);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function _x(r,t,n){const s=ma(r);St(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=YS(t),{host:f,port:p}=vx(t),m=p===null?"":`:${p}`,g={url:`${u}//${f}${m}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){St(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),St(la(g,s.config.emulator)&&la(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,jo(f)?(SS(`${u}//${f}${m}`),AS("Auth",!0)):Ex()}function YS(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function vx(r){const t=YS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:yT(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:yT(f)}}}function yT(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Ex(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(t){return oi("not implemented")}_linkToIdToken(t,n){return oi("not implemented")}_getReauthenticationResolver(t){return oi("not implemented")}}async function Tx(r,t){return _i(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sx(r,t){return Uu(r,"POST","/v1/accounts:signInWithPassword",ps(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ax(r,t){return Uu(r,"POST","/v1/accounts:signInWithEmailLink",ps(r,t))}async function wx(r,t){return Uu(r,"POST","/v1/accounts:signInWithEmailLink",ps(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends bg{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Au(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Au(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zm(t,n,"signInWithPassword",Sx);case"emailLink":return Ax(t,{email:this._email,oobCode:this._password});default:ar(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zm(t,s,"signUpPassword",Tx);case"emailLink":return wx(t,{idToken:n,email:this._email,oobCode:this._password});default:ar(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(r,t){return Uu(r,"POST","/v1/accounts:signInWithIdp",ps(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="http://localhost";class ca extends bg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ca(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ca(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return To(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,To(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,To(t,n)}buildRequest(){const t={requestUri:bx,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ku(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ix(r){const t=su(au(r)).link,n=t?su(au(t)).deep_link_id:null,s=su(au(r)).deep_link_id;return(s?su(au(s)).link:null)||s||n||t||r}class Rg{constructor(t){const n=su(au(t)),s=n.apiKey??null,o=n.oobCode??null,u=Rx(n.mode??null);St(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=Ix(t);try{return new Rg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.providerId=qo.PROVIDER_ID}static credential(t,n){return Au._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Rg.parseLink(n);return St(s,"argument-error"),Au._fromEmailAndCode(t,s.code,s.tenantId)}}qo.PROVIDER_ID="password";qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends XS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends zu{constructor(){super("facebook.com")}static credential(t){return ca._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Yi.credentialFromTaggedObject(t)}static credentialFromError(t){return Yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Yi.credential(t.oauthAccessToken)}catch{return null}}}Yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ca._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Xi.credentialFromTaggedObject(t)}static credentialFromError(t){return Xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Xi.credential(n,s)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends zu{constructor(){super("github.com")}static credential(t){return ca._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wi.credentialFromTaggedObject(t)}static credentialFromError(t){return Wi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wi.credential(t.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends zu{constructor(){super("twitter.com")}static credential(t,n){return ca._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Zi.credentialFromTaggedObject(t)}static credentialFromError(t){return Zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Zi.credential(n,s)}catch{return null}}}Zi.TWITTER_SIGN_IN_METHOD="twitter.com";Zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cx(r,t){return Uu(r,"POST","/v1/accounts:signUp",ps(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await nr._fromIdTokenResponse(t,s,o),f=_T(s);return new ha({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=_T(s);return new ha({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function _T(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends yi{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,nf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new nf(t,n,s,o)}}function WS(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?nf._fromErrorAndOperation(r,u,t,s):u})}async function Dx(r,t,n=!1){const s=await Co(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return ha._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xx(r,t,n=!1){const{auth:s}=r;if($n(s.app))return Promise.reject(ci(s));const o="reauthenticate";try{const u=await Co(r,WS(s,o,t,r),n);St(u.idToken,s,"internal-error");const f=Ag(u.idToken);St(f,s,"internal-error");const{sub:p}=f;return St(r.uid===p,s,"user-mismatch"),ha._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ar(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(r,t,n=!1){if($n(r.app))return Promise.reject(ci(r));const s="signIn",o=await WS(r,s,t),u=await ha._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function Nx(r,t){return ZS(ma(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JS(r){const t=ma(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ox(r,t,n){if($n(r.app))return Promise.reject(ci(r));const s=ma(r),f=await zm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Cx).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&JS(r),m}),p=await ha._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function Mx(r,t,n){return $n(r.app)?Promise.reject(ci(r)):Nx(De(r),qo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&JS(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vx(r,t){return _i(r,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(r,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const s=De(r),u={idToken:await s.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},f=await Co(s,Vx(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const p=s.providerData.find(({providerId:m})=>m==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function kx(r,t,n,s){return De(r).onIdTokenChanged(t,n,s)}function Lx(r,t,n){return De(r).beforeAuthStateChanged(t,n)}function Ig(r,t,n,s){return De(r).onAuthStateChanged(t,n,s)}function Ux(r){return De(r).signOut()}const rf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rf,"1"),this.storage.removeItem(rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=1e3,jx=10;class e1 extends t1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,p,m)=>{this.notifyListeners(f,m)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);nx()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,jx):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},zx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}e1.type="LOCAL";const Bx=e1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1 extends t1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}n1.type="SESSION";const r1=n1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Cf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async g=>g(n.origin,u)),m=await qx(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,m)=>{const g=Cg("",20);o.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(A.data.response);break;default:clearTimeout(E),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function Fx(r){Cr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function Gx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $x(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function Qx(){return i1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="firebaseLocalStorageDb",Kx=1,sf="firebaseLocalStorage",a1="fbase_key";class ju{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Df(r,t){return r.transaction([sf],t?"readwrite":"readonly").objectStore(sf)}function Yx(){const r=indexedDB.deleteDatabase(s1);return new ju(r).toPromise()}function jm(){const r=indexedDB.open(s1,Kx);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(sf,{keyPath:a1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(sf)?t(s):(s.close(),await Yx(),t(await jm()))})})}async function vT(r,t,n){const s=Df(r,!0).put({[a1]:t,value:n});return new ju(s).toPromise()}async function Xx(r,t){const n=Df(r,!1).get(t),s=await new ju(n).toPromise();return s===void 0?null:s.value}function ET(r,t){const n=Df(r,!0).delete(t);return new ju(n).toPromise()}const Wx=800,Zx=3;class o1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>Zx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cf._getInstance(Qx()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await Gx(),!this.activeServiceWorker)return;this.sender=new Hx(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(s=t[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||$x()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await jm();return await vT(t,rf,"1"),await ET(t,rf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>vT(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>Xx(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ET(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Df(o,!1).getAll();return new ju(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Wx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o1.type="LOCAL";const Jx=o1;new Lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(r,t){return t?li(t):(St(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg extends bg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return To(t,this._buildIdpRequest())}_linkToIdToken(t,n){return To(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return To(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function eN(r){return ZS(r.auth,new Dg(r),r.bypassAuthState)}function nN(r){const{auth:t,user:n}=r;return St(n,t,"internal-error"),xx(n,new Dg(r),r.bypassAuthState)}async function rN(r){const{auth:t,user:n}=r;return St(n,t,"internal-error"),Dx(n,new Dg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=t;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return eN;case"linkViaPopup":case"linkViaRedirect":return rN;case"reauthViaPopup":case"reauthViaRedirect":return nN;default:ar(this.auth,"internal-error")}}resolve(t){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new Lu(2e3,1e4);class _o extends l1{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const t=Cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,iN.get())};t()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="pendingRedirect",Uh=new Map;class aN extends l1{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Uh.get(this.auth._key());if(!t){try{const s=await oN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Uh.set(this.auth._key(),t)}return this.bypassAuthState||Uh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oN(r,t){const n=cN(t),s=uN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function lN(r,t){Uh.set(r._key(),t)}function uN(r){return li(r._redirectPersistence)}function cN(r){return Lh(sN,r.config.apiKey,r.name)}async function hN(r,t,n=!1){if($n(r.app))return Promise.reject(ci(r));const s=ma(r),o=tN(s,t),f=await new aN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=600*1e3;class dN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!pN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!u1(t)){const o=((s=t.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ir(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fN&&this.cachedEventUids.clear(),this.cachedEventUids.has(TT(t))}saveEventToCache(t){this.cachedEventUids.add(TT(t)),this.lastProcessedEventTime=Date.now()}}function TT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function u1({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function pN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(r,t={}){return _i(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yN=/^https?/;async function _N(r){if(r.config.emulator)return;const{authorizedDomains:t}=await mN(r);for(const n of t)try{if(vN(n))return}catch{}ar(r,"unauthorized-domain")}function vN(r){const t=Lm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!yN.test(n))return!1;if(gN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=new Lu(3e4,6e4);function ST(){const r=Cr().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function TN(r){return new Promise((t,n)=>{var o,u,f;function s(){ST(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ST(),n(Ir(r,"network-request-failed"))},timeout:EN.get()})}if((u=(o=Cr().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((f=Cr().gapi)!=null&&f.load)s();else{const p=hx("iframefcb");return Cr()[p]=()=>{gapi.load?s():n(Ir(r,"network-request-failed"))},QS(`${cx()}?onload=${p}`).catch(m=>n(m))}}).catch(t=>{throw zh=null,t})}let zh=null;function SN(r){return zh=zh||TN(r),zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=new Lu(5e3,15e3),wN="__/auth/iframe",bN="emulator/auth/iframe",RN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CN(r){const t=r.config;St(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Sg(t,bN):`https://${r.config.authDomain}/${wN}`,s={apiKey:t.apiKey,appName:r.name,v:Bo},o=IN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ku(s).slice(1)}`}async function DN(r){const t=await SN(r),n=Cr().gapi;return St(n,r,"internal-error"),t.open({where:document.body,url:CN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ir(r,"network-request-failed"),p=Cr().setTimeout(()=>{u(f)},AN.get());function m(){Cr().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NN=500,ON=600,MN="_blank",VN="http://localhost";class AT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PN(r,t,n,s=NN,o=ON){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m={...xN,width:s.toString(),height:o.toString(),top:u,left:f},g=ln().toLowerCase();n&&(p=jS(g)?MN:n),US(g)&&(t=t||VN,m.scrollbars="yes");const E=Object.entries(m).reduce((A,[x,L])=>`${A}${x}=${L},`,"");if(ex(g)&&p!=="_self")return kN(t||"",p),new AT(null);const T=window.open(t||"",p,E);St(T,r,"popup-blocked");try{T.focus()}catch{}return new AT(T)}function kN(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="__/auth/handler",UN="emulator/auth/handler",zN=encodeURIComponent("fac");async function wT(r,t,n,s,o,u){St(r.config.authDomain,r,"auth-domain-config-required"),St(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Bo,eventId:o};if(t instanceof XS){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",AC(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(t instanceof zu){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const m=await r._getAppCheckToken(),g=m?`#${zN}=${encodeURIComponent(m)}`:"";return`${jN(r)}?${ku(p).slice(1)}${g}`}function jN({config:r}){return r.emulator?Sg(r,UN):`https://${r.authDomain}/${LN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="webStorageSupport";class BN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r1,this._completeRedirectFn=hN,this._overrideRedirectResult=lN}async _openPopup(t,n,s,o){var f;pi((f=this.eventManagers[t._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await wT(t,n,s,Lm(),o);return PN(t,u,Cg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await wT(t,n,s,Lm(),o);return Fx(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(pi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await DN(t),s=new dN(t);return n.register("authEvent",o=>(St(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(pm,{type:pm},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[pm];u!==void 0&&n(!!u),ar(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_N(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return GS()||zS()||wg()}}const qN=BN;var bT="@firebase/auth",RT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GN(r){Io(new ua("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;St(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$S(r)},g=new ox(s,o,u,m);return yx(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Io(new ua("auth-internal",t=>{const n=ma(t.getProvider("auth").getImmediate());return(s=>new HN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(bT,RT,FN(r)),rs(bT,RT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=300,QN=TS("authIdTokenMaxAge")||$N;let IT=null;const KN=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>QN)return;const o=n==null?void 0:n.token;IT!==o&&(IT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function YN(r=IS()){const t=Eg(r,"auth");if(t.isInitialized())return t.getImmediate();const n=gx(r,{popupRedirectResolver:qN,persistence:[Jx,Bx,r1]}),s=TS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=KN(u.toString());Lx(n,f,()=>f(n.currentUser)),kx(n,p=>f(p))}}const o=vS("auth");return o&&_x(n,`http://${o}`),n}function XN(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}lx({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Ir("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",XN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GN("Browser");var WN="firebase",ZN="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs(WN,ZN,"app");var CT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,c1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,b){function R(){}R.prototype=b.prototype,C.D=b.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(M,V,U){for(var D=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)D[xe-2]=arguments[xe];return b.prototype[V].apply(M,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,b,R){R||(R=0);var M=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)M[V]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(V=0;16>V;++V)M[V]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=C.g[0],R=C.g[1],V=C.g[2];var U=C.g[3],D=b+(U^R&(V^U))+M[0]+3614090360&4294967295;b=R+(D<<7&4294967295|D>>>25),D=U+(V^b&(R^V))+M[1]+3905402710&4294967295,U=b+(D<<12&4294967295|D>>>20),D=V+(R^U&(b^R))+M[2]+606105819&4294967295,V=U+(D<<17&4294967295|D>>>15),D=R+(b^V&(U^b))+M[3]+3250441966&4294967295,R=V+(D<<22&4294967295|D>>>10),D=b+(U^R&(V^U))+M[4]+4118548399&4294967295,b=R+(D<<7&4294967295|D>>>25),D=U+(V^b&(R^V))+M[5]+1200080426&4294967295,U=b+(D<<12&4294967295|D>>>20),D=V+(R^U&(b^R))+M[6]+2821735955&4294967295,V=U+(D<<17&4294967295|D>>>15),D=R+(b^V&(U^b))+M[7]+4249261313&4294967295,R=V+(D<<22&4294967295|D>>>10),D=b+(U^R&(V^U))+M[8]+1770035416&4294967295,b=R+(D<<7&4294967295|D>>>25),D=U+(V^b&(R^V))+M[9]+2336552879&4294967295,U=b+(D<<12&4294967295|D>>>20),D=V+(R^U&(b^R))+M[10]+4294925233&4294967295,V=U+(D<<17&4294967295|D>>>15),D=R+(b^V&(U^b))+M[11]+2304563134&4294967295,R=V+(D<<22&4294967295|D>>>10),D=b+(U^R&(V^U))+M[12]+1804603682&4294967295,b=R+(D<<7&4294967295|D>>>25),D=U+(V^b&(R^V))+M[13]+4254626195&4294967295,U=b+(D<<12&4294967295|D>>>20),D=V+(R^U&(b^R))+M[14]+2792965006&4294967295,V=U+(D<<17&4294967295|D>>>15),D=R+(b^V&(U^b))+M[15]+1236535329&4294967295,R=V+(D<<22&4294967295|D>>>10),D=b+(V^U&(R^V))+M[1]+4129170786&4294967295,b=R+(D<<5&4294967295|D>>>27),D=U+(R^V&(b^R))+M[6]+3225465664&4294967295,U=b+(D<<9&4294967295|D>>>23),D=V+(b^R&(U^b))+M[11]+643717713&4294967295,V=U+(D<<14&4294967295|D>>>18),D=R+(U^b&(V^U))+M[0]+3921069994&4294967295,R=V+(D<<20&4294967295|D>>>12),D=b+(V^U&(R^V))+M[5]+3593408605&4294967295,b=R+(D<<5&4294967295|D>>>27),D=U+(R^V&(b^R))+M[10]+38016083&4294967295,U=b+(D<<9&4294967295|D>>>23),D=V+(b^R&(U^b))+M[15]+3634488961&4294967295,V=U+(D<<14&4294967295|D>>>18),D=R+(U^b&(V^U))+M[4]+3889429448&4294967295,R=V+(D<<20&4294967295|D>>>12),D=b+(V^U&(R^V))+M[9]+568446438&4294967295,b=R+(D<<5&4294967295|D>>>27),D=U+(R^V&(b^R))+M[14]+3275163606&4294967295,U=b+(D<<9&4294967295|D>>>23),D=V+(b^R&(U^b))+M[3]+4107603335&4294967295,V=U+(D<<14&4294967295|D>>>18),D=R+(U^b&(V^U))+M[8]+1163531501&4294967295,R=V+(D<<20&4294967295|D>>>12),D=b+(V^U&(R^V))+M[13]+2850285829&4294967295,b=R+(D<<5&4294967295|D>>>27),D=U+(R^V&(b^R))+M[2]+4243563512&4294967295,U=b+(D<<9&4294967295|D>>>23),D=V+(b^R&(U^b))+M[7]+1735328473&4294967295,V=U+(D<<14&4294967295|D>>>18),D=R+(U^b&(V^U))+M[12]+2368359562&4294967295,R=V+(D<<20&4294967295|D>>>12),D=b+(R^V^U)+M[5]+4294588738&4294967295,b=R+(D<<4&4294967295|D>>>28),D=U+(b^R^V)+M[8]+2272392833&4294967295,U=b+(D<<11&4294967295|D>>>21),D=V+(U^b^R)+M[11]+1839030562&4294967295,V=U+(D<<16&4294967295|D>>>16),D=R+(V^U^b)+M[14]+4259657740&4294967295,R=V+(D<<23&4294967295|D>>>9),D=b+(R^V^U)+M[1]+2763975236&4294967295,b=R+(D<<4&4294967295|D>>>28),D=U+(b^R^V)+M[4]+1272893353&4294967295,U=b+(D<<11&4294967295|D>>>21),D=V+(U^b^R)+M[7]+4139469664&4294967295,V=U+(D<<16&4294967295|D>>>16),D=R+(V^U^b)+M[10]+3200236656&4294967295,R=V+(D<<23&4294967295|D>>>9),D=b+(R^V^U)+M[13]+681279174&4294967295,b=R+(D<<4&4294967295|D>>>28),D=U+(b^R^V)+M[0]+3936430074&4294967295,U=b+(D<<11&4294967295|D>>>21),D=V+(U^b^R)+M[3]+3572445317&4294967295,V=U+(D<<16&4294967295|D>>>16),D=R+(V^U^b)+M[6]+76029189&4294967295,R=V+(D<<23&4294967295|D>>>9),D=b+(R^V^U)+M[9]+3654602809&4294967295,b=R+(D<<4&4294967295|D>>>28),D=U+(b^R^V)+M[12]+3873151461&4294967295,U=b+(D<<11&4294967295|D>>>21),D=V+(U^b^R)+M[15]+530742520&4294967295,V=U+(D<<16&4294967295|D>>>16),D=R+(V^U^b)+M[2]+3299628645&4294967295,R=V+(D<<23&4294967295|D>>>9),D=b+(V^(R|~U))+M[0]+4096336452&4294967295,b=R+(D<<6&4294967295|D>>>26),D=U+(R^(b|~V))+M[7]+1126891415&4294967295,U=b+(D<<10&4294967295|D>>>22),D=V+(b^(U|~R))+M[14]+2878612391&4294967295,V=U+(D<<15&4294967295|D>>>17),D=R+(U^(V|~b))+M[5]+4237533241&4294967295,R=V+(D<<21&4294967295|D>>>11),D=b+(V^(R|~U))+M[12]+1700485571&4294967295,b=R+(D<<6&4294967295|D>>>26),D=U+(R^(b|~V))+M[3]+2399980690&4294967295,U=b+(D<<10&4294967295|D>>>22),D=V+(b^(U|~R))+M[10]+4293915773&4294967295,V=U+(D<<15&4294967295|D>>>17),D=R+(U^(V|~b))+M[1]+2240044497&4294967295,R=V+(D<<21&4294967295|D>>>11),D=b+(V^(R|~U))+M[8]+1873313359&4294967295,b=R+(D<<6&4294967295|D>>>26),D=U+(R^(b|~V))+M[15]+4264355552&4294967295,U=b+(D<<10&4294967295|D>>>22),D=V+(b^(U|~R))+M[6]+2734768916&4294967295,V=U+(D<<15&4294967295|D>>>17),D=R+(U^(V|~b))+M[13]+1309151649&4294967295,R=V+(D<<21&4294967295|D>>>11),D=b+(V^(R|~U))+M[4]+4149444226&4294967295,b=R+(D<<6&4294967295|D>>>26),D=U+(R^(b|~V))+M[11]+3174756917&4294967295,U=b+(D<<10&4294967295|D>>>22),D=V+(b^(U|~R))+M[2]+718787259&4294967295,V=U+(D<<15&4294967295|D>>>17),D=R+(U^(V|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+U&4294967295}s.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var R=b-this.blockSize,M=this.B,V=this.h,U=0;U<b;){if(V==0)for(;U<=R;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<b;)if(M[V++]=C.charCodeAt(U++),V==this.blockSize){o(this,M),V=0;break}}else for(;U<b;)if(M[V++]=C[U++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=b},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var R=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=R&255,R/=256;for(this.u(C),C=Array(16),b=R=0;4>b;++b)for(var M=0;32>M;M+=8)C[R++]=this.g[b]>>>M&255;return C};function u(C,b){var R=p;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=b(C)}function f(C,b){this.h=b;for(var R=[],M=!0,V=C.length-1;0<=V;V--){var U=C[V]|0;M&&U==b||(R[V]=U,M=!1)}this.g=R}var p={};function m(C){return-128<=C&&128>C?u(C,function(b){return new f([b|0],0>b?-1:0)}):new f([C|0],0>C?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(0>C)return B(g(-C));for(var b=[],R=1,M=0;C>=R;M++)b[M]=C/R|0,R*=4294967296;return new f(b,0)}function E(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return B(E(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(b,8)),M=T,V=0;V<C.length;V+=8){var U=Math.min(8,C.length-V),D=parseInt(C.substring(V,V+U),b);8>U?(U=g(Math.pow(b,U)),M=M.j(U).add(g(D))):(M=M.j(R),M=M.add(g(D)))}return M}var T=m(0),A=m(1),x=m(16777216);r=f.prototype,r.m=function(){if(k(this))return-B(this).m();for(var C=0,b=1,R=0;R<this.g.length;R++){var M=this.i(R);C+=(0<=M?M:4294967296+M)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(L(this))return"0";if(k(this))return"-"+B(this).toString(C);for(var b=g(Math.pow(C,6)),R=this,M="";;){var V=lt(R,b).g;R=W(R,V.j(b));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=V,L(R))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function L(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function k(C){return C.h==-1}r.l=function(C){return C=W(this,C),k(C)?-1:L(C)?0:1};function B(C){for(var b=C.g.length,R=[],M=0;M<b;M++)R[M]=~C.g[M];return new f(R,~C.h).add(A)}r.abs=function(){return k(this)?B(this):this},r.add=function(C){for(var b=Math.max(this.g.length,C.g.length),R=[],M=0,V=0;V<=b;V++){var U=M+(this.i(V)&65535)+(C.i(V)&65535),D=(U>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);M=D>>>16,U&=65535,D&=65535,R[V]=D<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function W(C,b){return C.add(B(b))}r.j=function(C){if(L(this)||L(C))return T;if(k(this))return k(C)?B(this).j(B(C)):B(B(this).j(C));if(k(C))return B(this.j(B(C)));if(0>this.l(x)&&0>C.l(x))return g(this.m()*C.m());for(var b=this.g.length+C.g.length,R=[],M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<C.g.length;V++){var U=this.i(M)>>>16,D=this.i(M)&65535,xe=C.i(V)>>>16,ae=C.i(V)&65535;R[2*M+2*V]+=D*ae,K(R,2*M+2*V),R[2*M+2*V+1]+=U*ae,K(R,2*M+2*V+1),R[2*M+2*V+1]+=D*xe,K(R,2*M+2*V+1),R[2*M+2*V+2]+=U*xe,K(R,2*M+2*V+2)}for(M=0;M<b;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=b;M<2*b;M++)R[M]=0;return new f(R,0)};function K(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function rt(C,b){this.g=C,this.h=b}function lt(C,b){if(L(b))throw Error("division by zero");if(L(C))return new rt(T,T);if(k(C))return b=lt(B(C),b),new rt(B(b.g),B(b.h));if(k(b))return b=lt(C,B(b)),new rt(B(b.g),b.h);if(30<C.g.length){if(k(C)||k(b))throw Error("slowDivide_ only works with positive integers.");for(var R=A,M=b;0>=M.l(C);)R=ut(R),M=ut(M);var V=ft(R,1),U=ft(M,1);for(M=ft(M,2),R=ft(R,2);!L(M);){var D=U.add(M);0>=D.l(C)&&(V=V.add(R),U=D),M=ft(M,1),R=ft(R,1)}return b=W(C,V.j(b)),new rt(V,b)}for(V=T;0<=C.l(b);){for(R=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=g(R),D=U.j(b);k(D)||0<D.l(C);)R-=M,U=g(R),D=U.j(b);L(U)&&(U=A),V=V.add(U),C=W(C,D)}return new rt(V,C)}r.A=function(C){return lt(this,C).h},r.and=function(C){for(var b=Math.max(this.g.length,C.g.length),R=[],M=0;M<b;M++)R[M]=this.i(M)&C.i(M);return new f(R,this.h&C.h)},r.or=function(C){for(var b=Math.max(this.g.length,C.g.length),R=[],M=0;M<b;M++)R[M]=this.i(M)|C.i(M);return new f(R,this.h|C.h)},r.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),R=[],M=0;M<b;M++)R[M]=this.i(M)^C.i(M);return new f(R,this.h^C.h)};function ut(C){for(var b=C.g.length+1,R=[],M=0;M<b;M++)R[M]=C.i(M)<<1|C.i(M-1)>>>31;return new f(R,C.h)}function ft(C,b){var R=b>>5;b%=32;for(var M=C.g.length-R,V=[],U=0;U<M;U++)V[U]=0<b?C.i(U+R)>>>b|C.i(U+R+1)<<32-b:C.i(U+R);return new f(V,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,c1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,is=f}).apply(typeof CT<"u"?CT:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h1,ou,f1,jh,Bm,d1,p1,m1;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var j=c[w];if(!(j in _))break t;_=_[j]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,j={next:function(){if(!w&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return w=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,w),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,A.apply(null,arguments)}function x(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function L(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,j,Q){for(var at=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)at[Ut-2]=arguments[Ut];return y.prototype[j].apply(w,at)}}function k(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function B(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(m(w)){const j=c.length||0,Q=w.length||0;c.length=j+Q;for(let at=0;at<Q;at++)c[j+at]=w[at]}else c.push(w)}}class W{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function K(c){return/^[\s\xa0]*$/.test(c)}function rt(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function lt(c){return lt[" "](c),c}lt[" "]=function(){};var ut=rt().indexOf("Gecko")!=-1&&!(rt().toLowerCase().indexOf("webkit")!=-1&&rt().indexOf("Edge")==-1)&&!(rt().indexOf("Trident")!=-1||rt().indexOf("MSIE")!=-1)&&rt().indexOf("Edge")==-1;function ft(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function C(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function b(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(_ in w)c[_]=w[_];for(let Q=0;Q<R.length;Q++)_=R[Q],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){p.setTimeout(()=>{throw c},0)}function D(){var c=Ct;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class xe{constructor(){this.h=this.g=null}add(y,_){const w=ae.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var ae=new W(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,pt=!1,Ct=new xe,N=()=>{const c=p.Promise.resolve(void 0);ot=()=>{c.then(nt)}};var nt=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){U(_)}var y=ae;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pt=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,y),p.removeEventListener("test",_,y)}catch{}return c}();function It(c,y){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ut){t:{try{lt(y.nodeName);var j=!0;break t}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:vt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&It.aa.h.call(this)}}L(It,it);var vt={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),qt=0;function Le(c,y,_,w,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=j,this.key=++qt,this.da=this.fa=!1}function On(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function dn(c){this.src=c,this.g={},this.h=0}dn.prototype.add=function(c,y,_,w,j){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var at=ys(c,y,w,j);return-1<at?(y=c[at],_||(y.fa=!1)):(y=new Le(y,this.src,Q,!!w,j),y.fa=_,c.push(y)),y};function tn(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],j=Array.prototype.indexOf.call(w,y,void 0),Q;(Q=0<=j)&&Array.prototype.splice.call(w,j,1),Q&&(On(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ys(c,y,_,w){for(var j=0;j<c.length;++j){var Q=c[j];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==w)return j}return-1}var _s="closure_lm_"+(1e6*Math.random()|0),Qo={};function Ku(c,y,_,w,j){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Ku(c,y[Q],_,w,j);return null}return _=Yu(_),c&&c[ce]?c.K(y,_,g(w)?!!w.capture:!1,j):Mn(c,y,_,!1,w,j)}function Mn(c,y,_,w,j,Q){if(!y)throw Error("Invalid event type");var at=g(j)?!!j.capture:!!j,Ut=Ea(c);if(Ut||(c[_s]=Ut=new dn(c)),_=Ut.add(y,_,w,at,Q),_.proxy)return _;if(w=Xf(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)mt||(j=at),j===void 0&&(j=!1),c.addEventListener(y.toString(),w,j);else if(c.attachEvent)c.attachEvent(vs(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Xf(){function c(_){return y.call(c.src,c.listener,_)}const y=Wf;return c}function Ko(c,y,_,w,j){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Ko(c,y[Q],_,w,j);else w=g(w)?!!w.capture:!!w,_=Yu(_),c&&c[ce]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=ys(Q,_,w,j),-1<_&&(On(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ea(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ys(y,_,w,j)),(_=-1<c?y[c]:null)&&va(_))}function va(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ce])tn(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(vs(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=Ea(y))?(tn(_,c),_.h==0&&(_.src=null,y[_s]=null)):On(c)}}}function vs(c){return c in Qo?Qo[c]:Qo[c]="on"+c}function Wf(c,y){if(c.da)c=!0;else{y=new It(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&va(c),c=_.call(w,y)}return c}function Ea(c){return c=c[_s],c instanceof dn?c:null}var Yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yu(c){return typeof c=="function"?c:(c[Yo]||(c[Yo]=function(y){return c.handleEvent(y)}),c[Yo])}function de(){st.call(this),this.i=new dn(this),this.M=this,this.F=null}L(de,st),de.prototype[ce]=!0,de.prototype.removeEventListener=function(c,y,_,w){Ko(this,c,y,_,w)};function Kt(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new it(y,c);else if(y instanceof it)y.target=y.target||c;else{var j=y;y=new it(w,c),M(y,j)}if(j=!0,_)for(var Q=_.length-1;0<=Q;Q--){var at=y.g=_[Q];j=vn(at,w,!0,y)&&j}if(at=y.g=c,j=vn(at,w,!0,y)&&j,j=vn(at,w,!1,y)&&j,_)for(Q=0;Q<_.length;Q++)at=y.g=_[Q],j=vn(at,w,!1,y)&&j}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)On(_[w]);delete c.g[y],c.h--}}this.F=null},de.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},de.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function vn(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,Q=0;Q<y.length;++Q){var at=y[Q];if(at&&!at.da&&at.capture==_){var Ut=at.listener,Oe=at.ha||at.src;at.fa&&tn(c.i,at),j=Ut.call(Oe,w)!==!1&&j}}return j&&!w.defaultPrevented}function en(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function Xu(c){c.g=en(()=>{c.g=null,c.i&&(c.i=!1,Xu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Zf extends st{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Xu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(c){st.call(this),this.h=c,this.g={}}L(Es,st);var Ts=[];function Ss(c){ft(c.g,function(y,_){this.g.hasOwnProperty(_)&&va(y)},c),c.g={}}Es.prototype.N=function(){Es.aa.N.call(this),Ss(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yn=p.JSON.stringify,Ta=p.JSON.parse,As=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function Xo(){}Xo.prototype.h=null;function Wo(c){return c.h||(c.h=c.i())}function Zo(){}var Pr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kr(){it.call(this,"d")}L(kr,it);function Jo(){it.call(this,"c")}L(Jo,it);var ur={},tl=null;function vi(){return tl=tl||new de}ur.La="serverreachability";function Sa(c){it.call(this,ur.La,c)}L(Sa,it);function Ei(c){const y=vi();Kt(y,new Sa(y))}ur.STAT_EVENT="statevent";function Wu(c,y){it.call(this,ur.STAT_EVENT,c),this.stat=y}L(Wu,it);function oe(c){const y=vi();Kt(y,new Wu(y,c))}ur.Ma="timingevent";function Ne(c,y){it.call(this,ur.Ma,c),this.size=y}L(Ne,it);function Te(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function Vn(){this.g=!0}Vn.prototype.xa=function(){this.g=!1};function el(c,y,_,w,j,Q){c.info(function(){if(c.g)if(Q)for(var at="",Ut=Q.split("&"),Oe=0;Oe<Ut.length;Oe++){var zt=Ut[Oe].split("=");if(1<zt.length){var ze=zt[0];zt=zt[1];var Me=ze.split("_");at=2<=Me.length&&Me[1]=="type"?at+(ze+"="+zt+"&"):at+(ze+"=redacted&")}}else at=null;else at=Q;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+y+`
`+_+`
`+at})}function Jf(c,y,_,w,j,Q,at){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+y+`
`+_+`
`+Q+" "+at})}function Ti(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ws(c,_)+(w?" "+w:"")})}function Zu(c,y){c.info(function(){return"TIMEOUT: "+y})}Vn.prototype.info=function(){};function ws(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var j=w[1];if(Array.isArray(j)&&!(1>j.length)){var Q=j[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var at=1;at<j.length;at++)j[at]=""}}}}return Yn(_)}catch{return y}}var Si={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cr;function hr(){}L(hr,Xo),hr.prototype.g=function(){return new XMLHttpRequest},hr.prototype.i=function(){return{}},cr=new hr;function un(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new Es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ye}function ye(){this.i=null,this.g="",this.h=!1}var nl={},Aa={};function Xn(c,y,_){c.L=1,c.v=Ds(En(y)),c.m=_,c.P=!0,Ur(c,null)}function Ur(c,y){c.F=Date.now(),bs(c),c.A=En(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),ll(_.i,"t",w),c.C=0,_=c.j.J,c.h=new ye,c.g=pc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Zf(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Ts[0]=j.toString()),j=Ts);for(var Q=0;Q<j.length;Q++){var at=Ku(_,j[Q],w||y.handleEvent,!1,y.h||y);if(!at)break;y.g[at.key]=at}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ei(),el(c.i,c.u,c.A,c.l,c.R,c.m)}un.prototype.ca=function(c){c=c.target;const y=this.M;y&&Un(c)==3?y.j():this.Y(c)},un.prototype.Y=function(c){try{if(c==this.g)t:{const Me=Un(this.g);var y=this.g.Ba();const $r=this.g.Z();if(!(3>Me)&&(Me!=3||this.g&&(this.h.h||this.g.oa()||ac(this.g)))){this.J||Me!=4||y==7||(y==8||0>=$r?Ei(3):Ei(2)),Ai(this);var _=this.g.Z();this.X=_;e:if(Ju(this)){var w=ac(this.g);c="";var j=w.length,Q=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$e(this),fr(this);var at="";break e}this.h.i=new p.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(Q&&y==j-1)});w.length=0,this.h.g+=c,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=_==200,Jf(this.i,this.u,this.A,this.l,this.R,Me,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Oe=this.g;if((Ut=Oe.g?Oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Ut)){var zt=Ut;break e}}zt=null}if(_=zt)Ti(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rs(this,_);else{this.o=!1,this.s=3,oe(12),$e(this),fr(this);break t}}if(this.P){_=!0;let Qe;for(;!this.J&&this.C<at.length;)if(Qe=tc(this,at),Qe==Aa){Me==4&&(this.s=4,oe(14),_=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(Qe==nl){this.s=4,oe(15),Ti(this.i,this.l,at,"[Invalid Chunk]"),_=!1;break}else Ti(this.i,this.l,Qe,null),Rs(this,Qe);if(Ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||at.length!=0||this.h.h||(this.s=1,oe(16),_=!1),this.o=this.o&&_,!_)Ti(this.i,this.l,at,"[Invalid Chunked Response]"),$e(this),fr(this);else if(0<at.length&&!this.W){this.W=!0;var ze=this.j;ze.g==this&&ze.ba&&!ze.M&&(ze.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),Ls(ze),ze.M=!0,oe(11))}}else Ti(this.i,this.l,at,null),Rs(this,at);Me==4&&$e(this),this.o&&!this.J&&(Me==4?hc(this.j,this):(this.o=!1,bs(this)))}else id(this.g),_==400&&0<at.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),$e(this),fr(this)}}}catch{}finally{}};function Ju(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function tc(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?Aa:(_=Number(y.substring(_,w)),isNaN(_)?nl:(w+=1,w+_>y.length?Aa:(y=y.slice(w,w+_),c.C=w+_,y)))}un.prototype.cancel=function(){this.J=!0,$e(this)};function bs(c){c.S=Date.now()+c.I,ec(c,c.I)}function ec(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Te(A(c.ba,c),y)}function Ai(c){c.B&&(p.clearTimeout(c.B),c.B=null)}un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Zu(this.i,this.A),this.L!=2&&(Ei(),oe(17)),$e(this),this.s=2,fr(this)):ec(this,this.S-c)};function fr(c){c.j.G==0||c.J||hc(c.j,c)}function $e(c){Ai(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ss(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Rs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||rl(_.h,c))){if(!c.K&&rl(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Pa(_),Ma(_);else break t;dl(_),oe(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=Te(A(_.Za,_),6e3));if(1>=ba(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Gr(_,11)}else if((c.K||_.g==c)&&Pa(_),!K(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let zt=j[y];if(_.T=zt[0],zt=zt[1],_.G==2)if(zt[0]=="c"){_.K=zt[1],_.ia=zt[2];const ze=zt[3];ze!=null&&(_.la=ze,_.j.info("VER="+_.la));const Me=zt[4];Me!=null&&(_.Aa=Me,_.j.info("SVER="+_.Aa));const $r=zt[5];$r!=null&&typeof $r=="number"&&0<$r&&(w=1.5*$r,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Qe=c.g;if(Qe){const vr=Qe.g?Qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var Q=w.h;Q.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ra(Q,Q.h),Q.h=null))}if(w.D){const ml=Qe.g?Qe.g.getResponseHeader("X-HTTP-Session-Id"):null;ml&&(w.ya=ml,Wt(w.I,w.D,ml))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var at=c;if(w.qa=dc(w,w.J?w.ia:null,w.W),at.K){cn(w.h,at);var Ut=at,Oe=w.L;Oe&&(Ut.I=Oe),Ut.B&&(Ai(Ut),bs(Ut)),w.g=at}else uc(w);0<_.i.length&&Va(_)}else zt[0]!="stop"&&zt[0]!="close"||Gr(_,7);else _.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Gr(_,7):hl(_):zt[0]!="noop"&&_.l&&_.l.ta(zt),_.v=0)}}Ei(4)}catch{}}var nc=class{constructor(c,y){this.g=c,this.map=y}};function zr(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ba(c){return c.h?1:c.g?c.g.size:0}function rl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ra(c,y){c.g?c.g.add(y):c.h=y}function cn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}zr.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function il(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return k(c.i)}function td(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function Ia(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function sl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Ia(c),w=td(c),j=w.length,Q=0;Q<j;Q++)y.call(void 0,w[Q],_&&_[Q],c)}var Is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ed(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),j=null;if(0<=w){var Q=c[_].substring(0,w);j=c[_].substring(w+1)}else Q=c[_];y(Q,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Se(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Se){this.h=c.h,Cs(this,c.j),this.o=c.o,this.g=c.g,wi(this,c.s),this.l=c.l;var y=c.i,_=new Br;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),jr(this,_),this.m=c.m}else c&&(y=String(c).match(Is))?(this.h=!1,Cs(this,y[1]||"",!0),this.o=Pn(y[2]||""),this.g=Pn(y[3]||"",!0),wi(this,y[4]),this.l=Pn(y[5]||"",!0),jr(this,y[6]||"",!0),this.m=Pn(y[7]||"")):(this.h=!1,this.i=new Br(null,this.h))}Se.prototype.toString=function(){var c=[],y=this.j;y&&c.push(xs(y,al,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(xs(y,al,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(xs(_,_.charAt(0)=="/"?nd:ol,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",xs(_,Ca)),c.join("")};function En(c){return new Se(c)}function Cs(c,y,_){c.j=_?Pn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function wi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function jr(c,y,_){y instanceof Br?(c.i=y,ic(c.i,c.h)):(_||(y=xs(y,rd)),c.i=new Br(y,c.h))}function Wt(c,y,_){c.i.set(y,_)}function Ds(c){return Wt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Pn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,rc),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var al=/[#\/\?@]/g,ol=/[#\?:]/g,nd=/[#\?]/g,rd=/[#\?@]/g,Ca=/#/g;function Br(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function kn(c){c.g||(c.g=new Map,c.h=0,c.i&&ed(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Br.prototype,r.add=function(c,y){kn(this),this.i=null,c=dr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function qr(c,y){kn(c),y=dr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Hr(c,y){return kn(c),y=dr(c,y),c.g.has(y)}r.forEach=function(c,y){kn(this),this.g.forEach(function(_,w){_.forEach(function(j){c.call(y,j,w,this)},this)},this)},r.na=function(){kn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const j=c[w];for(let Q=0;Q<j.length;Q++)_.push(y[w])}return _},r.V=function(c){kn(this);let y=[];if(typeof c=="string")Hr(this,c)&&(y=y.concat(this.g.get(dr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return kn(this),this.i=null,c=dr(this,c),Hr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ll(c,y,_){qr(c,y),0<_.length&&(c.i=null,c.g.set(dr(c,y),k(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const Q=encodeURIComponent(String(w)),at=this.V(w);for(w=0;w<at.length;w++){var j=Q;at[w]!==""&&(j+="="+encodeURIComponent(String(at[w]))),c.push(j)}}return this.i=c.join("&")};function dr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ic(c,y){y&&!c.j&&(kn(c),c.i=null,c.g.forEach(function(_,w){var j=w.toLowerCase();w!=j&&(qr(this,w),ll(this,j,_))},c)),c.j=y}function Ns(c,y){const _=new Vn;if(p.Image){const w=new Image;w.onload=x(Ln,_,"TestLoadImage: loaded",!0,y,w),w.onerror=x(Ln,_,"TestLoadImage: error",!1,y,w),w.onabort=x(Ln,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=x(Ln,_,"TestLoadImage: timeout",!1,y,w),p.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Wn(c,y){const _=new Vn,w=new AbortController,j=setTimeout(()=>{w.abort(),Ln(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(Q=>{clearTimeout(j),Q.ok?Ln(_,"TestPingServer: ok",!0,y):Ln(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Ln(_,"TestPingServer: error",!1,y)})}function Ln(c,y,_,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(_)}catch{}}function Os(){this.g=new As}function pr(c,y,_){const w=_||"";try{sl(c,function(j,Q){let at=j;g(j)&&(at=Yn(j)),y.push(w+Q+"="+encodeURIComponent(at))})}catch(j){throw y.push(w+"type="+encodeURIComponent("_badmap")),j}}function bi(c){this.l=c.Ub||null,this.j=c.eb||!1}L(bi,Xo),bi.prototype.g=function(){return new Fr(this.l,this.j)},bi.prototype.i=function(c){return function(){return c}}({});function Fr(c,y){de.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Fr,de),r=Fr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,gr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,gr(this)),this.g&&(this.readyState=3,gr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ul(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ul(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?mr(this):gr(this),this.readyState==3&&ul(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,mr(this))},r.Qa=function(c){this.g&&(this.response=c,mr(this))},r.ga=function(){this.g&&mr(this)};function mr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,gr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function gr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function cl(c){let y="";return ft(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function Ue(c,y,_){t:{for(w in _){var w=!1;break t}w=!0}w||(_=cl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Wt(c,y,_))}function Gt(c){de.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Gt,de);var Da=/^https?$/i,Ms=["POST","PUT"];r=Gt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cr.g(),this.v=this.o?Wo(this.o):Wo(cr),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){sc(this,Q);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)_.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())_.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),j=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Ms,y,void 0))||w||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,at]of _)this.g.setRequestHeader(Q,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){sc(this,Q)}};function sc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,xa(c),yr(c)}function xa(c){c.A||(c.A=!0,Kt(c,"complete"),Kt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Kt(this,"complete"),Kt(this,"abort"),yr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yr(this,!0)),Gt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Na(this):this.bb())},r.bb=function(){Na(this)};function Na(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Un(c)!=4||c.Z()!=2)){if(c.u&&Un(c)==4)en(c.Ea,0,c);else if(Kt(c,"readystatechange"),Un(c)==4){c.h=!1;try{const at=c.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var w;if(w=at===0){var j=String(c.D).match(Is)[1]||null;!j&&p.self&&p.self.location&&(j=p.self.location.protocol.slice(0,-1)),w=!Da.test(j?j.toLowerCase():"")}_=w}if(_)Kt(c,"complete"),Kt(c,"success");else{c.m=6;try{var Q=2<Un(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",xa(c)}}finally{yr(c)}}}}function yr(c,y){if(c.g){Vs(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Kt(c,"ready");try{_.onreadystatechange=w}catch{}}}function Vs(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Un(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ta(y)}};function ac(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function id(c){const y={};c=(c.g&&2<=Un(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(K(c[w]))continue;var _=V(c[w]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[j]||[];y[j]=Q,Q.push(_)}C(y,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ps(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Oa(c){this.Aa=0,this.i=[],this.j=new Vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ps("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ps("baseRetryDelayMs",5e3,c),this.cb=Ps("retryDelaySeedMs",1e4,c),this.Wa=Ps("forwardChannelMaxRetries",2,c),this.wa=Ps("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new zr(c&&c.concurrentRequestLimit),this.Da=new Os,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Oa.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,w){oe(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=dc(this,null,this.W),Va(this)};function hl(c){if(oc(c),c.G==3){var y=c.U++,_=En(c.I);if(Wt(_,"SID",c.K),Wt(_,"RID",y),Wt(_,"TYPE","terminate"),ks(c,_),y=new un(c,c.j,y),y.L=2,y.v=Ds(En(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=y.v,_=!0),_||(y.g=pc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),bs(y)}fc(c)}function Ma(c){c.g&&(Ls(c),c.g.cancel(),c.g=null)}function oc(c){Ma(c),c.u&&(p.clearTimeout(c.u),c.u=null),Pa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function Va(c){if(!wa(c.h)&&!c.s){c.s=!0;var y=c.Ga;ot||N(),pt||(ot(),pt=!0),Ct.add(y,c),c.B=0}}function sd(c,y){return ba(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Te(A(c.Ga,c,y),pl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new un(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=b(Q),M(Q,this.S)):Q=this.S),this.m!==null||this.O||(j.H=Q,Q=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=lc(this,j,y),_=En(this.I),Wt(_,"RID",c),Wt(_,"CVER",22),this.D&&Wt(_,"X-HTTP-Session-Id",this.D),ks(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(cl(Q)))+"&"+y:this.m&&Ue(_,this.m,Q)),Ra(this.h,j),this.Ua&&Wt(_,"TYPE","init"),this.P?(Wt(_,"$req",y),Wt(_,"SID","null"),j.T=!0,Xn(j,_,null)):Xn(j,_,y),this.G=2}}else this.G==3&&(c?fl(this,c):this.i.length==0||wa(this.h)||fl(this))};function fl(c,y){var _;y?_=y.l:_=c.U++;const w=En(c.I);Wt(w,"SID",c.K),Wt(w,"RID",_),Wt(w,"AID",c.T),ks(c,w),c.m&&c.o&&Ue(w,c.m,c.o),_=new un(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=lc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ra(c.h,_),Xn(_,w,y)}function ks(c,y){c.H&&ft(c.H,function(_,w){Wt(y,w,_)}),c.l&&sl({},function(_,w){Wt(y,w,_)})}function lc(c,y,_){_=Math.min(c.i.length,_);var w=c.l?A(c.l.Na,c.l,c):null;t:{var j=c.i;let Q=-1;for(;;){const at=["count="+_];Q==-1?0<_?(Q=j[0].g,at.push("ofs="+Q)):Q=0:at.push("ofs="+Q);let Ut=!0;for(let Oe=0;Oe<_;Oe++){let zt=j[Oe].g;const ze=j[Oe].map;if(zt-=Q,0>zt)Q=Math.max(0,j[Oe].g-100),Ut=!1;else try{pr(ze,at,"req"+zt+"_")}catch{w&&w(ze)}}if(Ut){w=at.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,w}function uc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ot||N(),pt||(ot(),pt=!0),Ct.add(y,c),c.v=0}}function dl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Te(A(c.Fa,c),pl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,cc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Te(A(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),Ma(this),cc(this))};function Ls(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function cc(c){c.g=new un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=En(c.qa);Wt(y,"RID","rpc"),Wt(y,"SID",c.K),Wt(y,"AID",c.T),Wt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Wt(y,"TO",c.ja),Wt(y,"TYPE","xmlhttp"),ks(c,y),c.m&&c.o&&Ue(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ds(En(y)),_.m=null,_.P=!0,Ur(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Ma(this),dl(this),oe(19))};function Pa(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function hc(c,y){var _=null;if(c.g==y){Pa(c),Ls(c),c.g=null;var w=2}else if(rl(c.h,y))_=y.D,cn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;w=vi(),Kt(w,new Ne(w,_)),Va(c)}else uc(c);else if(j=y.s,j==3||j==0&&0<y.X||!(w==1&&sd(c,y)||w==2&&dl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:Gr(c,5);break;case 4:Gr(c,10);break;case 3:Gr(c,6);break;default:Gr(c,2)}}}function pl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Gr(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),w=c.Xa;const j=!w;w=new Se(w||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Cs(w,"https"),Ds(w),j?Ns(w.toString(),_):Wn(w.toString(),_)}else oe(2);c.G=0,c.l&&c.l.sa(y),fc(c),oc(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function fc(c){if(c.G=0,c.ka=[],c.l){const y=il(c.h);(y.length!=0||c.i.length!=0)&&(B(c.ka,y),B(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function dc(c,y,_){var w=_ instanceof Se?En(_):new Se(_);if(w.g!="")y&&(w.g=y+"."+w.g),wi(w,w.s);else{var j=p.location;w=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var Q=new Se(null);w&&Cs(Q,w),y&&(Q.g=y),j&&wi(Q,j),_&&(Q.l=_),w=Q}return _=c.D,y=c.ya,_&&y&&Wt(w,_,y),Wt(w,"VER",c.la),ks(c,w),w}function pc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Gt(new bi({eb:_})):new Gt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}r=mc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ka(){}ka.prototype.g=function(c,y){return new hn(c,y)};function hn(c,y){de.call(this),this.g=new Oa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!K(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!K(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new _r(this)}L(hn,de),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){hl(this.g)},hn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Yn(c),c=_);y.i.push(new nc(y.Ya++,c)),y.G==3&&Va(y)},hn.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,hn.aa.N.call(this)};function gc(c){kr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}L(gc,kr);function yc(){Jo.call(this),this.status=1}L(yc,Jo);function _r(c){this.g=c}L(_r,mc),_r.prototype.ua=function(){Kt(this.g,"a")},_r.prototype.ta=function(c){Kt(this.g,new gc(c))},_r.prototype.sa=function(c){Kt(this.g,new yc)},_r.prototype.ra=function(){Kt(this.g,"b")},ka.prototype.createWebChannel=ka.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,m1=function(){return new ka},p1=function(){return vi()},d1=ur,Bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Si.NO_ERROR=0,Si.TIMEOUT=8,Si.HTTP_ERROR=6,jh=Si,Lr.COMPLETE="complete",f1=Lr,Zo.EventType=Pr,Pr.OPEN="a",Pr.CLOSE="b",Pr.ERROR="c",Pr.MESSAGE="d",de.prototype.listen=de.prototype.K,ou=Zo,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,h1=Gt}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});const DT="@firebase/firestore",xT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new _g("@firebase/firestore");function fo(){return fa.logLevel}function ht(r,...t){if(fa.logLevel<=Pt.DEBUG){const n=t.map(xg);fa.debug(`Firestore (${Ho}): ${r}`,...n)}}function mi(r,...t){if(fa.logLevel<=Pt.ERROR){const n=t.map(xg);fa.error(`Firestore (${Ho}): ${r}`,...n)}}function Do(r,...t){if(fa.logLevel<=Pt.WARN){const n=t.map(xg);fa.warn(`Firestore (${Ho}): ${r}`,...n)}}function xg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,g1(r,s,n)}function g1(r,t,n){let s=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw mi(s),new Error(s)}function Qt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||g1(t,o,s)}function Rt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends yi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class JN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class tO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class eO{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Qt(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hi,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const m=u;t.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hi)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qt(typeof s.accessToken=="string",31837,{l:s}),new y1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class nO{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rO{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new nO(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iO{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Qt(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new NT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new NT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=sO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function kt(r,t){return r<t?-1:r>t?1:0}function qm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return mm(o)===mm(u)?kt(o,u):mm(o)?1:-1}return kt(r.length,t.length)}const aO=55296,oO=57343;function mm(r){const t=r.charCodeAt(0);return t>=aO&&t<=oO}function xo(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="__name__";class br{constructor(t,n,s){n===void 0?n=0:n>t.length&&At(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&At(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return br.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof br?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=br.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return kt(t.length,n.length)}static compareSegments(t,n){const s=br.isNumericId(t),o=br.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?br.extractNumericId(t).compare(br.extractNumericId(n)):qm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return is.fromString(t.substring(4,t.length-2))}}class re extends br{construct(t,n,s){return new re(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new re(n)}static emptyPath(){return new re([])}}const lO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends br{construct(t,n,s){return new Ze(t,n,s)}static isValidIdentifier(t){return lO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OT}static keyField(){return new Ze([OT])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ct(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ct(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new ct(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(re.fromString(t))}static fromName(t){return new _t(re.fromString(t).popFirst(5))}static empty(){return new _t(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return re.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new re(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(r,t,n){if(!n)throw new ct(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function uO(r,t,n,s){if(t===!0&&s===!0)throw new ct(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function MT(r){if(!_t.isDocumentKey(r))throw new ct(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function VT(r){if(_t.isDocumentKey(r))throw new ct(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function v1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function xf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":At(12329,{type:typeof r})}function Nn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xf(r);throw new ct(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r,t){const n={typeString:r};return t&&(n.value=t),n}function Bu(r,t){if(!v1(r))throw new ct(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ct(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=-62135596800,kT=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*kT);return new se(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<PT)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kT}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bu(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-PT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ce("string",se._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new se(0,0))}static max(){return new bt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=-1;function cO(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(s===1e9?new se(n+1,0):new se(n,s));return new as(o,_t.empty(),t)}function hO(r){return new as(r.readTime,r.key,wu)}class as{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new as(bt.min(),_t.empty(),wu)}static max(){return new as(bt.max(),_t.empty(),wu)}}function fO(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=_t.comparator(r.documentKey,t.documentKey),n!==0?n:kt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==dO)throw r;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new et((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof et?n:et.resolve(n)}catch(n){return et.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):et.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):et.reject(n)}static resolve(t){return new et((n,s)=>{n(t)})}static reject(t){return new et((n,s)=>{s(t)})}static waitFor(t){return new et((n,s)=>{let o=0,u=0,f=!1;t.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},m=>s(m))}),f=!0,u===o&&n()})}static or(t){let n=et.resolve(!1);for(const s of t)n=n.next(o=>o?et.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new et((s,o)=>{const u=t.length,f=new Array(u);let p=0;for(let m=0;m<u;m++){const g=m;n(t[g]).next(E=>{f[g]=E,++p,p===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new et((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function mO(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Go(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Nf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og=-1;function Of(r){return r==null}function af(r){return r===0&&1/r==-1/0}function gO(r){return typeof r=="number"&&Number.isInteger(r)&&!af(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="";function yO(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=LT(t)),t=_O(r.get(n),t);return LT(t)}function _O(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case E1:n+="";break;default:n+=u}}return n}function LT(r){return r+E1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function ms(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function T1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,n){this.comparator=t,this.root=n||We.EMPTY}insert(t,n){return new fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ah(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ah(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ah(this.root,t,this.comparator,!0)}}class Ah{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??We.RED,this.left=o??We.EMPTY,this.right=u??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new We(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return We.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw At(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new We(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new zT(this.data.getIterator())}getIteratorFrom(t){return new zT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ke(this.comparator);return n.data=t,n}}class zT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new xn([])}unionWith(t){let n=new ke(Ze.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new xn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return xo(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new S1("Invalid base64 string: "+u):u}}(t);return new Je(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Je(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const vO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(r){if(Qt(!!r,39018),typeof r=="string"){let t=0;const n=vO.exec(r);if(Qt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ee(r.seconds),nanos:Ee(r.nanos)}}function Ee(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ls(r){return typeof r=="string"?Je.fromBase64String(r):Je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="server_timestamp",w1="__type__",b1="__previous_value__",R1="__local_write_time__";function Mg(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[w1])==null?void 0:s.stringValue)===A1}function Mf(r){const t=r.mapValue.fields[b1];return Mg(t)?Mf(t):t}function bu(r){const t=os(r.mapValue.fields[R1].timestampValue);return new se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(t,n,s,o,u,f,p,m,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=E}}const of="(default)";class Ru{constructor(t,n){this.projectId=t,this.database=n||of}static empty(){return new Ru("","")}get isDefaultDatabase(){return this.database===of}isEqual(t){return t instanceof Ru&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="__type__",TO="__max__",wh={mapValue:{}},C1="__vector__",lf="value";function us(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Mg(r)?4:AO(r)?9007199254740991:SO(r)?10:11:At(28295,{value:r})}function Mr(r,t){if(r===t)return!0;const n=us(r);if(n!==us(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return bu(r).isEqual(bu(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=os(o.timestampValue),p=os(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return ls(o.bytesValue).isEqual(ls(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return Ee(o.geoPointValue.latitude)===Ee(u.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ee(o.integerValue)===Ee(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ee(o.doubleValue),p=Ee(u.doubleValue);return f===p?af(f)===af(p):isNaN(f)&&isNaN(p)}return!1}(r,t);case 9:return xo(r.arrayValue.values||[],t.arrayValue.values||[],Mr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(UT(f)!==UT(p))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(p[m]===void 0||!Mr(f[m],p[m])))return!1;return!0}(r,t);default:return At(52216,{left:r})}}function Iu(r,t){return(r.values||[]).find(n=>Mr(n,t))!==void 0}function No(r,t){if(r===t)return 0;const n=us(r),s=us(t);if(n!==s)return kt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const p=Ee(u.integerValue||u.doubleValue),m=Ee(f.integerValue||f.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(r,t);case 3:return jT(r.timestampValue,t.timestampValue);case 4:return jT(bu(r),bu(t));case 5:return qm(r.stringValue,t.stringValue);case 6:return function(u,f){const p=ls(u),m=ls(f);return p.compareTo(m)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const p=u.split("/"),m=f.split("/");for(let g=0;g<p.length&&g<m.length;g++){const E=kt(p[g],m[g]);if(E!==0)return E}return kt(p.length,m.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const p=kt(Ee(u.latitude),Ee(f.latitude));return p!==0?p:kt(Ee(u.longitude),Ee(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return BT(r.arrayValue,t.arrayValue);case 10:return function(u,f){var A,x,L,k;const p=u.fields||{},m=f.fields||{},g=(A=p[lf])==null?void 0:A.arrayValue,E=(x=m[lf])==null?void 0:x.arrayValue,T=kt(((L=g==null?void 0:g.values)==null?void 0:L.length)||0,((k=E==null?void 0:E.values)==null?void 0:k.length)||0);return T!==0?T:BT(g,E)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===wh.mapValue&&f===wh.mapValue)return 0;if(u===wh.mapValue)return 1;if(f===wh.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),g=f.fields||{},E=Object.keys(g);m.sort(),E.sort();for(let T=0;T<m.length&&T<E.length;++T){const A=qm(m[T],E[T]);if(A!==0)return A;const x=No(p[m[T]],g[E[T]]);if(x!==0)return x}return kt(m.length,E.length)}(r.mapValue,t.mapValue);default:throw At(23264,{he:n})}}function jT(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return kt(r,t);const n=os(r),s=os(t),o=kt(n.seconds,s.seconds);return o!==0?o:kt(n.nanos,s.nanos)}function BT(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=No(n[o],s[o]);if(u)return u}return kt(n.length,s.length)}function Oo(r){return Hm(r)}function Hm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=os(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ls(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return _t.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Hm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Hm(n.fields[f])}`;return o+"}"}(r.mapValue):At(61005,{value:r})}function Bh(r){switch(us(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Mf(r);return t?16+Bh(t):16;case 5:return 2*r.stringValue.length;case 6:return ls(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Bh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ms(s.fields,(u,f)=>{o+=u.length+Bh(f)}),o}(r.mapValue);default:throw At(13486,{value:r})}}function qT(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Fm(r){return!!r&&"integerValue"in r}function Vg(r){return!!r&&"arrayValue"in r}function HT(r){return!!r&&"nullValue"in r}function FT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function qh(r){return!!r&&"mapValue"in r}function SO(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[I1])==null?void 0:s.stringValue)===C1}function pu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ms(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=pu(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=pu(r.arrayValue.values[n]);return t}return{...r}}function AO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===TO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.value=t}static empty(){return new _n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!qh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=pu(n)}setAll(t){let n=Ze.emptyPath(),s={},o=[];t.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=pu(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());qh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Mr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];qh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){ms(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new _n(pu(this.value))}}function D1(r){const t=[];return ms(r.fields,(n,s)=>{const o=new Ze([n]);if(qh(s)){const u=D1(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new xn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t,n,s,o,u,f,p){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new on(t,0,bt.min(),bt.min(),bt.min(),_n.empty(),0)}static newFoundDocument(t,n,s,o){return new on(t,1,n,bt.min(),s,o,0)}static newNoDocument(t,n){return new on(t,2,n,bt.min(),bt.min(),_n.empty(),0)}static newUnknownDocument(t,n){return new on(t,3,n,bt.min(),bt.min(),_n.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(t,n){this.position=t,this.inclusive=n}}function GT(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=_t.comparator(_t.fromName(f.referenceValue),n.key):s=No(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function $T(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Mr(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t,n="asc"){this.field=t,this.dir=n}}function wO(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{}class Ie extends x1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new RO(t,n,s):n==="array-contains"?new DO(t,s):n==="in"?new xO(t,s):n==="not-in"?new NO(t,s):n==="array-contains-any"?new OO(t,s):new Ie(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new IO(t,s):new CO(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(No(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends x1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new or(t,n)}matches(t){return N1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function N1(r){return r.op==="and"}function O1(r){return bO(r)&&N1(r)}function bO(r){for(const t of r.filters)if(t instanceof or)return!1;return!0}function Gm(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+Oo(r.value);if(O1(r))return r.filters.map(t=>Gm(t)).join(",");{const t=r.filters.map(n=>Gm(n)).join(",");return`${r.op}(${t})`}}function M1(r,t){return r instanceof Ie?function(s,o){return o instanceof Ie&&s.op===o.op&&s.field.isEqual(o.field)&&Mr(s.value,o.value)}(r,t):r instanceof or?function(s,o){return o instanceof or&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&M1(f,o.filters[p]),!0):!1}(r,t):void At(19439)}function V1(r){return r instanceof Ie?function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`}(r):r instanceof or?function(n){return n.op.toString()+" {"+n.getFilters().map(V1).join(" ,")+"}"}(r):"Filter"}class RO extends Ie{constructor(t,n,s){super(t,n,s),this.key=_t.fromName(s.referenceValue)}matches(t){const n=_t.comparator(t.key,this.key);return this.matchesComparison(n)}}class IO extends Ie{constructor(t,n){super(t,"in",n),this.keys=P1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class CO extends Ie{constructor(t,n){super(t,"not-in",n),this.keys=P1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function P1(r,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(s=>_t.fromName(s.referenceValue))}class DO extends Ie{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Vg(n)&&Iu(n.arrayValue,this.value)}}class xO extends Ie{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Iu(this.value.arrayValue,n)}}class NO extends Ie{constructor(t,n){super(t,"not-in",n)}matches(t){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Iu(this.value.arrayValue,n)}}class OO extends Ie{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Vg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Iu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(t,n=null,s=[],o=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function QT(r,t=null,n=[],s=[],o=null,u=null,f=null){return new MO(r,t,n,s,o,u,f)}function Pg(r){const t=Rt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Gm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Of(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Oo(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Oo(s)).join(",")),t.Te=n}return t.Te}function kg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!wO(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!M1(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!$T(r.startAt,t.startAt)&&$T(r.endAt,t.endAt)}function $m(r){return _t.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(t,n=null,s=[],o=[],u=null,f="F",p=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function VO(r,t,n,s,o,u,f,p){return new qu(r,t,n,s,o,u,f,p)}function Vf(r){return new qu(r)}function KT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function k1(r){return r.collectionGroup!==null}function mu(r){const t=Rt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new ke(Ze.comparator);return f.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new cf(u,s))}),n.has(Ze.keyField().canonicalString())||t.Ie.push(new cf(Ze.keyField(),s))}return t.Ie}function Dr(r){const t=Rt(r);return t.Ee||(t.Ee=PO(t,mu(r))),t.Ee}function PO(r,t){if(r.limitType==="F")return QT(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new cf(o.field,u)});const n=r.endAt?new uf(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new uf(r.startAt.position,r.startAt.inclusive):null;return QT(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Qm(r,t){const n=r.filters.concat([t]);return new qu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Km(r,t,n){return new qu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Pf(r,t){return kg(Dr(r),Dr(t))&&r.limitType===t.limitType}function L1(r){return`${Pg(Dr(r))}|lt:${r.limitType}`}function po(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>V1(o)).join(", ")}]`),Of(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Oo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Oo(o)).join(",")),`Target(${s})`}(Dr(r))}; limitType=${r.limitType})`}function kf(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_t.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of mu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,p,m){const g=GT(f,p,m);return f.inclusive?g<=0:g<0}(s.startAt,mu(s),o)||s.endAt&&!function(f,p,m){const g=GT(f,p,m);return f.inclusive?g>=0:g>0}(s.endAt,mu(s),o))}(r,t)}function kO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function U1(r){return(t,n)=>{let s=!1;for(const o of mu(r)){const u=LO(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function LO(r,t,n){const s=r.field.isKeyField()?_t.comparator(t.key,n.key):function(u,f,p){const m=f.data.field(u),g=p.data.field(u);return m!==null&&g!==null?No(m,g):At(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return At(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ms(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return T1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=new fe(_t.comparator);function gi(){return UO}const z1=new fe(_t.comparator);function lu(...r){let t=z1;for(const n of r)t=t.insert(n.key,n);return t}function j1(r){let t=z1;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function ea(){return gu()}function B1(){return gu()}function gu(){return new ga(r=>r.toString(),(r,t)=>r.isEqual(t))}const zO=new fe(_t.comparator),jO=new ke(_t.comparator);function Lt(...r){let t=jO;for(const n of r)t=t.add(n);return t}const BO=new ke(kt);function qO(){return BO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:af(t)?"-0":t}}function q1(r){return{integerValue:""+r}}function HO(r,t){return gO(t)?q1(t):Lg(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(){this._=void 0}}function FO(r,t,n){return r instanceof Cu?function(o,u){const f={fields:{[w1]:{stringValue:A1},[R1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Mg(u)&&(u=Mf(u)),u&&(f.fields[b1]=u),{mapValue:f}}(n,t):r instanceof Du?F1(r,t):r instanceof xu?G1(r,t):function(o,u){const f=H1(o,u),p=YT(f)+YT(o.Ae);return Fm(f)&&Fm(o.Ae)?q1(p):Lg(o.serializer,p)}(r,t)}function GO(r,t,n){return r instanceof Du?F1(r,t):r instanceof xu?G1(r,t):n}function H1(r,t){return r instanceof hf?function(s){return Fm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Cu extends Lf{}class Du extends Lf{constructor(t){super(),this.elements=t}}function F1(r,t){const n=$1(t);for(const s of r.elements)n.some(o=>Mr(o,s))||n.push(s);return{arrayValue:{values:n}}}class xu extends Lf{constructor(t){super(),this.elements=t}}function G1(r,t){let n=$1(t);for(const s of r.elements)n=n.filter(o=>!Mr(o,s));return{arrayValue:{values:n}}}class hf extends Lf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function YT(r){return Ee(r.integerValue||r.doubleValue)}function $1(r){return Vg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(t,n){this.field=t,this.transform=n}}function QO(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Du&&o instanceof Du||s instanceof xu&&o instanceof xu?xo(s.elements,o.elements,Mr):s instanceof hf&&o instanceof hf?Mr(s.Ae,o.Ae):s instanceof Cu&&o instanceof Cu}(r.transform,t.transform)}class KO{constructor(t,n){this.version=t,this.transformResults=n}}class ir{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ir}static exists(t){return new ir(void 0,t)}static updateTime(t){return new ir(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Uf{}function Q1(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Y1(r.key,ir.none()):new Hu(r.key,r.data,ir.none());{const n=r.data,s=_n.empty();let o=new ke(Ze.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new gs(r.key,s,new xn(o.toArray()),ir.none())}}function YO(r,t,n){r instanceof Hu?function(o,u,f){const p=o.value.clone(),m=WT(o.fieldTransforms,u,f.transformResults);p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):r instanceof gs?function(o,u,f){if(!Hh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=WT(o.fieldTransforms,u,f.transformResults),m=u.data;m.setAll(K1(o)),m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function yu(r,t,n,s){return r instanceof Hu?function(u,f,p,m){if(!Hh(u.precondition,f))return p;const g=u.value.clone(),E=ZT(u.fieldTransforms,m,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,t,n,s):r instanceof gs?function(u,f,p,m){if(!Hh(u.precondition,f))return p;const g=ZT(u.fieldTransforms,m,f),E=f.data;return E.setAll(K1(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(r,t,n,s):function(u,f,p){return Hh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,t,n)}function XO(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=H1(s.transform,o||null);u!=null&&(n===null&&(n=_n.empty()),n.set(s.field,u))}return n||null}function XT(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&xo(s,o,(u,f)=>QO(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Hu extends Uf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class gs extends Uf{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function K1(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function WT(r,t,n){const s=new Map;Qt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=t.data.field(u.field);s.set(u.field,GO(f,p,n[o]))}return s}function ZT(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,FO(u,f,t))}return s}class Y1 extends Uf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WO extends Uf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&YO(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=yu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=yu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=B1();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const m=Q1(f,p);m!==null&&s.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(bt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Lt())}isEqual(t){return this.batchId===t.batchId&&xo(this.mutations,t.mutations,(n,s)=>XT(n,s))&&xo(this.baseMutations,t.baseMutations,(n,s)=>XT(n,s))}}class Ug{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=function(){return zO}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ug(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,Bt;function e2(r){switch(r){case J.OK:return At(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return At(15467,{code:r})}}function X1(r){if(r===void 0)return mi("GRPC error has no .code"),J.UNKNOWN;switch(r){case be.OK:return J.OK;case be.CANCELLED:return J.CANCELLED;case be.UNKNOWN:return J.UNKNOWN;case be.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case be.INTERNAL:return J.INTERNAL;case be.UNAVAILABLE:return J.UNAVAILABLE;case be.UNAUTHENTICATED:return J.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case be.NOT_FOUND:return J.NOT_FOUND;case be.ALREADY_EXISTS:return J.ALREADY_EXISTS;case be.PERMISSION_DENIED:return J.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case be.ABORTED:return J.ABORTED;case be.OUT_OF_RANGE:return J.OUT_OF_RANGE;case be.UNIMPLEMENTED:return J.UNIMPLEMENTED;case be.DATA_LOSS:return J.DATA_LOSS;default:return At(39323,{code:r})}}(Bt=be||(be={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new is([4294967295,4294967295],0);function JT(r){const t=n2().encode(r),n=new c1;return n.update(t),new Uint8Array(n.digest())}function t0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new is([n,s],0),new is([o,u],0)]}class zg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new uu(`Invalid padding: ${n}`);if(s<0)throw new uu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new uu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=is.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(is.fromNumber(s)));return o.compare(r2)===1&&(o=new is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=JT(t),[s,o]=t0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new zg(u,o,n);return s.forEach(p=>f.insert(p)),f}insert(t){if(this.ge===0)return;const n=JT(t),[s,o]=t0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Fu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new zf(bt.min(),o,new fe(kt),gi(),Lt())}}class Fu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Fu(s,n,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class W1{constructor(t,n){this.targetId=t,this.Ce=n}}class Z1{constructor(t,n,s=Je.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class e0{constructor(){this.ve=0,this.Fe=n0(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),s=Lt();return this.Fe.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:At(38017,{changeType:u})}}),new Fu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=n0()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class i2{constructor(t){this.Ge=t,this.ze=new Map,this.je=gi(),this.Je=bh(),this.He=bh(),this.Ye=new fe(kt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:At(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if($m(u))if(s===0){const f=new _t(u.path);this.et(n,f,on.newNoDocument(f,bt.min()))}else Qt(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const p=this.ut(t),m=p?this.ct(p,t,f):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=ls(s).toUint8Array()}catch(m){if(m instanceof S1)return Do("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new zg(f,o,u)}catch(m){return Do(m instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),o++)}),o}Tt(t){const n=new Map;this.ze.forEach((u,f)=>{const p=this.ot(f);if(p){if(u.current&&$m(p.target)){const m=new _t(p.target.path);this.It(m).has(f)||this.Et(f,m)||this.et(f,m,on.newNoDocument(m,t))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Lt();this.He.forEach((u,f)=>{let p=!0;f.forEachWhile(m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(t));const o=new zf(t,n,this.Ye,this.je,s);return this.je=gi(),this.Je=bh(),this.He=bh(),this.Ye=new fe(kt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new e0,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new ke(kt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new ke(kt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new e0),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function bh(){return new fe(_t.comparator)}function n0(){return new fe(_t.comparator)}const s2={asc:"ASCENDING",desc:"DESCENDING"},a2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},o2={and:"AND",or:"OR"};class l2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ym(r,t){return r.useProto3Json||Of(t)?t:{value:t}}function ff(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function J1(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function u2(r,t){return ff(r,t.toTimestamp())}function xr(r){return Qt(!!r,49232),bt.fromTimestamp(function(n){const s=os(n);return new se(s.seconds,s.nanos)}(r))}function jg(r,t){return Xm(r,t).canonicalString()}function Xm(r,t){const n=function(o){return new re(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function tA(r){const t=re.fromString(r);return Qt(sA(t),10190,{key:t.toString()}),t}function Wm(r,t){return jg(r.databaseId,t.path)}function gm(r,t){const n=tA(t);if(n.get(1)!==r.databaseId.projectId)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _t(nA(n))}function eA(r,t){return jg(r.databaseId,t)}function c2(r){const t=tA(r);return t.length===4?re.emptyPath():nA(t)}function Zm(r){return new re(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function nA(r){return Qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function r0(r,t,n){return{name:Wm(r,t),fields:n.value.mapValue.fields}}function h2(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:At(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Qt(E===void 0||typeof E=="string",58123),Je.fromBase64String(E||"")):(Qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Je.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&function(g){const E=g.code===void 0?J.UNKNOWN:X1(g.code);return new ct(E,g.message||"")}(f);n=new Z1(s,o,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=gm(r,s.document.name),u=xr(s.document.updateTime),f=s.document.createTime?xr(s.document.createTime):bt.min(),p=new _n({mapValue:{fields:s.document.fields}}),m=on.newFoundDocument(o,u,f,p),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Fh(g,E,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=gm(r,s.document),u=s.readTime?xr(s.readTime):bt.min(),f=on.newNoDocument(o,u),p=s.removedTargetIds||[];n=new Fh([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=gm(r,s.document),u=s.removedTargetIds||[];n=new Fh([],u,o,null)}else{if(!("filter"in t))return At(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new t2(o,u),p=s.targetId;n=new W1(p,f)}}return n}function f2(r,t){let n;if(t instanceof Hu)n={update:r0(r,t.key,t.value)};else if(t instanceof Y1)n={delete:Wm(r,t.key)};else if(t instanceof gs)n={update:r0(r,t.key,t.data),updateMask:T2(t.fieldMask)};else{if(!(t instanceof WO))return At(16599,{Vt:t.type});n={verify:Wm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof Cu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Du)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof xu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof hf)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw At(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:u2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:At(27497)}(r,t.precondition)),n}function d2(r,t){return r&&r.length>0?(Qt(t!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?xr(o.updateTime):xr(u);return f.isEqual(bt.min())&&(f=xr(u)),new KO(f,o.transformResults||[])}(n,t))):[]}function p2(r,t){return{documents:[eA(r,t.path)]}}function m2(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=eA(r,o);const u=function(g){if(g.length!==0)return iA(or.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(A){return{field:mo(A.field),direction:_2(A.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Ym(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ft:n,parent:o}}function g2(r){let t=c2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(T){const A=rA(T);return A instanceof or&&O1(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(T){return T.map(A=>function(L){return new cf(go(L.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(A))}(n.orderBy));let p=null;n.limit&&(p=function(T){let A;return A=typeof T=="object"?T.value:T,Of(A)?null:A}(n.limit));let m=null;n.startAt&&(m=function(T){const A=!!T.before,x=T.values||[];return new uf(x,A)}(n.startAt));let g=null;return n.endAt&&(g=function(T){const A=!T.before,x=T.values||[];return new uf(x,A)}(n.endAt)),VO(t,o,f,u,p,"F",m,g)}function y2(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function rA(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=go(n.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=go(n.unaryFilter.field);return Ie.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=go(n.unaryFilter.field);return Ie.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=go(n.unaryFilter.field);return Ie.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}}(r):r.fieldFilter!==void 0?function(n){return Ie.create(go(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return or.create(n.compositeFilter.filters.map(s=>rA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return At(1026)}}(n.compositeFilter.op))}(r):At(30097,{filter:r})}function _2(r){return s2[r]}function v2(r){return a2[r]}function E2(r){return o2[r]}function mo(r){return{fieldPath:r.canonicalString()}}function go(r){return Ze.fromServerFormat(r.fieldPath)}function iA(r){return r instanceof Ie?function(n){if(n.op==="=="){if(FT(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(HT(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(FT(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(HT(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:v2(n.op),value:n.value}}}(r):r instanceof or?function(n){const s=n.getFilters().map(o=>iA(o));return s.length===1?s[0]:{compositeFilter:{op:E2(n.op),filters:s}}}(r):At(54877,{filter:r})}function T2(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function sA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t,n,s,o,u=bt.min(),f=bt.min(),p=Je.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(t){return new Ji(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(t){this.yt=t}}function A2(r){const t=g2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Km(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.Cn=new b2}addToCollectionParentIndex(t,n){return this.Cn.add(n),et.resolve()}getCollectionParents(t,n){return et.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return et.resolve()}deleteFieldIndex(t,n){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,n){return et.resolve()}getDocumentsMatchingTarget(t,n){return et.resolve(null)}getIndexType(t,n){return et.resolve(0)}getFieldIndexes(t,n){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,n){return et.resolve(as.min())}getMinOffsetFromCollectionGroup(t,n){return et.resolve(as.min())}updateCollectionGroup(t,n,s){return et.resolve()}updateIndexEntries(t,n){return et.resolve()}}class b2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new ke(re.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new ke(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aA=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(aA,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Mo(0)}static cr(){return new Mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="LruGarbageCollector",R2=1048576;function a0([r,t],[n,s]){const o=kt(r,n);return o===0?kt(t,s):o}class I2{constructor(t){this.Ir=t,this.buffer=new ke(a0),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();a0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class C2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(s0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Go(n)?ht(s0,"Ignoring IndexedDB error during garbage collection: ",n):await Fo(n)}await this.Vr(3e5)})}}class D2{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return et.resolve(Nf.ce);const s=new I2(n);return this.mr.forEachTarget(t,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(i0)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i0):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,p,m,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o))).next(T=>(s=T,p=Date.now(),this.removeTargets(t,s,n))).next(T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(t,s))).next(T=>(g=Date.now(),fo()<=Pt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-E}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function x2(r,t){return new D2(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.changes=new ga(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?et.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&yu(s.mutation,o,xn.empty(),se.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Lt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Lt()){const o=ea();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=lu();return u.forEach((p,m)=>{f=f.insert(p,m.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=ea();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Lt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(t,n,s,o){let u=gi();const f=gu(),p=function(){return gu()}();return n.forEach((m,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof gs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),yu(E.mutation,g,E.mutation.getFieldMask(),se.now())):f.set(g.key,xn.empty())}),this.recalculateAndSaveOverlays(t,u).next(m=>(m.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>p.set(g,new O2(E,f.get(g)??null))),p))}recalculateAndSaveOverlays(t,n){const s=gu();let o=new fe((f,p)=>f-p),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const p of f)p.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let E=s.get(m)||xn.empty();E=p.applyToLocalView(g,E),s.set(m,E);const T=(o.get(p.batchId)||Lt()).add(m);o=o.insert(p.batchId,T)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,E=m.value,T=B1();E.forEach(A=>{if(!u.has(A)){const x=Q1(n.get(A),s.get(A));x!==null&&T.set(A,x),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,T))}return et.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return _t.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):k1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):et.resolve(ea());let p=wu,m=u;return f.next(g=>et.forEach(g,(E,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),u.get(E)?et.resolve():this.remoteDocumentCache.getEntry(t,E).next(A=>{m=m.insert(E,A)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,m,g,Lt())).next(E=>({batchId:p,changes:j1(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new _t(n)).next(s=>{let o=lu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=lu();return this.indexManager.getCollectionParents(t,u).next(p=>et.forEach(p,m=>{const g=function(T,A){return new qu(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(E=>{E.forEach((T,A)=>{f=f.insert(T,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((m,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,on.newInvalidDocument(E)))});let p=lu();return f.forEach((m,g)=>{const E=u.get(m);E!==void 0&&yu(E.mutation,g,xn.empty(),se.now()),kf(n,g)&&(p=p.insert(m,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return et.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:xr(o.createTime)}}(n)),et.resolve()}getNamedQuery(t,n){return et.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(o){return{name:o.name,query:A2(o.bundledQuery),readTime:xr(o.readTime)}}(n)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.overlays=new fe(_t.comparator),this.qr=new Map}getOverlay(t,n){return et.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ea();return et.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),et.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),et.resolve()}getOverlaysForCollection(t,n,s){const o=ea(),u=n.length+1,f=new _t(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return et.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new fe((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ea(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const p=ea(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,E)=>p.set(g,E)),!(p.size()>=o)););return et.resolve(p)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new JO(n,s));let u=this.qr.get(n);u===void 0&&(u=Lt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(){this.Qr=new ke(He.$r),this.Ur=new ke(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new He(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Gr(new He(t,n))}zr(t,n){t.forEach(s=>this.removeReference(s,n))}jr(t){const n=new _t(new re([])),s=new He(n,t),o=new He(n,t+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new _t(new re([])),s=new He(n,t),o=new He(n,t+1);let u=Lt();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new He(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class He{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return _t.comparator(t.key,n.key)||kt(t.Yr,n.Yr)}static Kr(t,n){return kt(t.Yr,n.Yr)||_t.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ke(He.$r)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new ZO(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new He(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return et.resolve(f)}lookupMutationBatch(t,n){return et.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?Og:this.tr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new He(n,0),o=new He(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const p=this.Xr(f.Yr);u.push(p)}),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new ke(kt);return n.forEach(o=>{const u=new He(o,0),f=new He(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],p=>{s=s.add(p.Yr)})}),et.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;_t.isDocumentKey(u)||(u=u.child(""));const f=new He(new _t(u),0);let p=new ke(kt);return this.Zr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Yr)),!0)},f),et.resolve(this.ti(p))}ti(t){const n=[];return t.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Qt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return et.forEach(n.mutations,o=>{const u=new He(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,n){const s=new He(n,0),o=this.Zr.firstAfterOrEqual(s);return et.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t){this.ri=t,this.docs=function(){return new fe(_t.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return et.resolve(s?s.document.mutableCopy():on.newInvalidDocument(n))}getEntries(t,n){let s=gi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():on.newInvalidDocument(o))}),et.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=gi();const f=n.path,p=new _t(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:E}}=m.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||fO(hO(E),s)<=0||(o.has(E.key)||kf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,n,s,o){At(9500)}ii(t,n){return et.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new z2(this)}getSize(t){return et.resolve(this.size)}}class z2 extends N2{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)}),et.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t){this.persistence=t,this.si=new ga(n=>Pg(n),kg),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Bg,this.targetCount=0,this.ai=Mo.ur()}forEachTarget(t,n){return this.si.forEach((s,o)=>n(o)),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),et.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Mo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,et.resolve()}updateTargetData(t,n){return this.Pr(n),et.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)}),et.waitFor(u).next(()=>o)}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return et.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),et.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),et.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),et.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return et.resolve(s)}containsKey(t,n){return et.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(t,n){this.ui={},this.overlays={},this.ci=new Nf(0),this.li=!1,this.li=!0,this.hi=new k2,this.referenceDelegate=t(this),this.Pi=new j2(this),this.indexManager=new w2,this.remoteDocumentCache=function(o){return new U2(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new S2(n),this.Ii=new V2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new P2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new L2(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const o=new B2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(t,n){return et.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,n)))}}class B2 extends pO{constructor(t){super(),this.currentSequenceNumber=t}}class qg{constructor(t){this.persistence=t,this.Ri=new Bg,this.Vi=null}static mi(t){return new qg(t)}get fi(){if(this.Vi)return this.Vi;throw At(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),et.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),et.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,s=>{const o=_t.fromPath(s);return this.gi(t,o).next(u=>{u||n.removeEntry(o,bt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return et.or([()=>et.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class df{constructor(t,n){this.persistence=t,this.pi=new ga(s=>yO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=x2(this,n)}static mi(t,n){return new df(t,n)}Ei(){}di(t){return et.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}wr(t){let n=0;return this.pr(t,s=>{n++}).next(()=>n)}pr(t,n){return et.forEach(this.pi,(s,o)=>this.br(t,s,o).next(u=>u?et.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,f=>this.br(t,f,n).next(p=>{p||(s++,u.removeEntry(f,bt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Bh(t.data.value)),n}br(t,n,s){return et.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return et.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Lt(),o=Lt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Hg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return yC()?8:mO(ln())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new q2;return this.Ss(t,n,f).next(p=>{if(u.result=p,this.Vs)return this.bs(t,n,f,p.size)})}).next(()=>u.result)}bs(t,n,s,o){return s.documentReadCount<this.fs?(fo()<=Pt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(fo()<=Pt.DEBUG&&ht("QueryEngine","Query:",po(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(fo()<=Pt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Dr(n))):et.resolve())}ys(t,n){if(KT(n))return et.resolve(null);let s=Dr(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Km(n,null,"F"),s=Dr(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Lt(...u);return this.ps.getDocuments(t,f).next(p=>this.indexManager.getMinOffset(t,s).next(m=>{const g=this.Ds(n,p);return this.Cs(n,g,f,m.readTime)?this.ys(t,Km(n,null,"F")):this.vs(t,g,n,m)}))})))}ws(t,n,s,o){return KT(n)||o.isEqual(bt.min())?et.resolve(null):this.ps.getDocuments(t,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?et.resolve(null):(fo()<=Pt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(n)),this.vs(t,f,n,cO(o,wu)).next(p=>p))})}Ds(t,n){let s=new ke(U1(t));return n.forEach((o,u)=>{kf(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return fo()<=Pt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",po(n)),this.ps.getDocumentsMatchingQuery(t,n,as.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="LocalStore",F2=3e8;class G2{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new fe(kt),this.xs=new ga(u=>Pg(u),kg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new M2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function $2(r,t,n,s){return new G2(r,t,n,s)}async function lA(r,t){const n=Rt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let m=Lt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}for(const g of u){p.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}return n.localDocuments.getDocuments(s,m).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:p}))})})}function Q2(r,t){const n=Rt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(p,m,g,E){const T=g.batch,A=T.keys();let x=et.resolve();return A.forEach(L=>{x=x.next(()=>E.getEntry(m,L)).next(k=>{const B=g.docVersions.get(L);Qt(B!==null,48541),k.version.compareTo(B)<0&&(T.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),E.addEntry(k)))})}),x.next(()=>p.mutationQueue.removeMutationBatch(m,T))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let m=Lt();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function uA(r){const t=Rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function K2(r,t){const n=Rt(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];t.targetChanges.forEach((E,T)=>{const A=o.get(T);if(!A)return;p.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T)));let x=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?x=x.withResumeToken(Je.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),o=o.insert(T,x),function(k,B,W){return k.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=F2?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(A,x,E)&&p.push(n.Pi.updateTargetData(u,x))});let m=gi(),g=Lt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),p.push(Y2(u,f,t.documentUpdates).next(E=>{m=E.ks,g=E.qs})),!s.isEqual(bt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(E)}return et.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(n.Ms=o,u))}function Y2(r,t,n){let s=Lt(),o=Lt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=gi();return n.forEach((p,m)=>{const g=u.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(bt.min())?(t.removeEntry(p,m.readTime),f=f.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),f=f.insert(p,m)):ht(Fg,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)}),{ks:f,qs:o}})}function X2(r,t){const n=Rt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Og),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function W2(r,t){const n=Rt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,t).next(u=>u?(o=u,et.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new Ji(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s})}async function Jm(r,t,n){const s=Rt(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Go(f))throw f;ht(Fg,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function o0(r,t,n){const s=Rt(r);let o=bt.min(),u=Lt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(m,g,E){const T=Rt(m),A=T.xs.get(E);return A!==void 0?et.resolve(T.Ms.get(A)):T.Pi.getTargetData(g,E)}(s,f,Dr(t)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next(m=>{u=m})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:bt.min(),n?u:Lt())).next(p=>(Z2(s,kO(t),p),{documents:p,Qs:u})))}function Z2(r,t,n){let s=r.Os.get(t)||bt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(t,s)}class l0{constructor(){this.activeTargetIds=qO()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class J2{constructor(){this.Mo=new l0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new l0,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="ConnectivityMonitor";class c0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(u0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(u0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh=null;function tg(){return Rh===null?Rh=function(){return 268435456+Math.round(2147483648*Math.random())}():Rh++,"0x"+Rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="RestConnection",eM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nM{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===of?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=tg(),p=this.zo(t,n.toUriEncodedString());ht(ym,`Sending RPC '${t}' ${f}:`,p,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:g}=new URL(p),E=jo(g);return this.Jo(t,p,m,s,E).then(T=>(ht(ym,`Received RPC '${t}' ${f}: `,T),T),T=>{throw Do(ym,`RPC '${t}' ${f} failed with error: `,T,"url: ",p,"request:",s),T})}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ho}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}zo(t,n){const s=eM[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class iM extends nM{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=tg();return new Promise((p,m)=>{const g=new h1;g.setWithCredentials(!0),g.listenOnce(f1.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case jh.NO_ERROR:const T=g.getResponseJson();ht(sn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),p(T);break;case jh.TIMEOUT:ht(sn,`RPC '${t}' ${f} timed out`),m(new ct(J.DEADLINE_EXCEEDED,"Request time out"));break;case jh.HTTP_ERROR:const A=g.getStatus();if(ht(sn,`RPC '${t}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const L=x==null?void 0:x.error;if(L&&L.status&&L.message){const k=function(W){const K=W.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(K)>=0?K:J.UNKNOWN}(L.status);m(new ct(k,L.message))}else m(new ct(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ct(J.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ht(sn,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);ht(sn,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}T_(t,n,s){const o=tg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=m1(),p=p1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const E=u.join("");ht(sn,`Creating RPC '${t}' stream ${o}: ${E}`,m);const T=f.createWebChannel(E,m);this.I_(T);let A=!1,x=!1;const L=new rM({Yo:B=>{x?ht(sn,`Not sending because RPC '${t}' stream ${o} is closed:`,B):(A||(ht(sn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),A=!0),ht(sn,`RPC '${t}' stream ${o} sending:`,B),T.send(B))},Zo:()=>T.close()}),k=(B,W,K)=>{B.listen(W,rt=>{try{K(rt)}catch(lt){setTimeout(()=>{throw lt},0)}})};return k(T,ou.EventType.OPEN,()=>{x||(ht(sn,`RPC '${t}' stream ${o} transport opened.`),L.o_())}),k(T,ou.EventType.CLOSE,()=>{x||(x=!0,ht(sn,`RPC '${t}' stream ${o} transport closed`),L.a_(),this.E_(T))}),k(T,ou.EventType.ERROR,B=>{x||(x=!0,Do(sn,`RPC '${t}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),L.a_(new ct(J.UNAVAILABLE,"The operation could not be completed")))}),k(T,ou.EventType.MESSAGE,B=>{var W;if(!x){const K=B.data[0];Qt(!!K,16349);const rt=K,lt=(rt==null?void 0:rt.error)||((W=rt[0])==null?void 0:W.error);if(lt){ht(sn,`RPC '${t}' stream ${o} received error:`,lt);const ut=lt.status;let ft=function(R){const M=be[R];if(M!==void 0)return X1(M)}(ut),C=lt.message;ft===void 0&&(ft=J.INTERNAL,C="Unknown error status: "+ut+" with message "+lt.message),x=!0,L.a_(new ct(ft,C)),T.close()}else ht(sn,`RPC '${t}' stream ${o} received:`,K),L.u_(K)}}),k(p,d1.STAT_EVENT,B=>{B.stat===Bm.PROXY?ht(sn,`RPC '${t}' stream ${o} detected buffering proxy`):B.stat===Bm.NOPROXY&&ht(sn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.__()},0),L}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function _m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(r){return new l2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="PersistentStream";class hA{constructor(t,n,s,o,u,f,p,m){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cA(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(mi(n.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{t(()=>{const o=new ct(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return ht(h0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(ht(h0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sM extends hA{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=h2(this.serializer,t),s=function(u){if(!("targetChange"in u))return bt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?bt.min():f.readTime?xr(f.readTime):bt.min()}(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Zm(this.serializer),n.addTarget=function(u,f){let p;const m=f.target;if(p=$m(m)?{documents:p2(u,m)}:{query:m2(u,m).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=J1(u,f.resumeToken);const g=Ym(u,f.expectedCount);g!==null&&(p.expectedCount=g)}else if(f.snapshotVersion.compareTo(bt.min())>0){p.readTime=ff(u,f.snapshotVersion.toTimestamp());const g=Ym(u,f.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,t);const s=y2(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Zm(this.serializer),n.removeTarget=t,this.q_(n)}}class aM extends hA{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=d2(t.writeResults,t.commitTime),s=xr(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Zm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>f2(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{}class lM extends oM{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(t,Xm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(J.UNKNOWN,u.toString())})}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Ho(t,Xm(n,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(J.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class uM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mi(n),this.aa=!1):ht("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="RemoteStore";class cM{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{ya(this)&&(ht(da,"Restarting streams for network reachability change."),await async function(m){const g=Rt(m);g.Ea.add(4),await Gu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Bf(g)}(this))})}),this.Ra=new uM(s,o)}}async function Bf(r){if(ya(r))for(const t of r.da)await t(!0)}async function Gu(r){for(const t of r.da)await t(!1)}function fA(r,t){const n=Rt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Kg(n)?Qg(n):$o(n).O_()&&$g(n,t))}function Gg(r,t){const n=Rt(r),s=$o(n);n.Ia.delete(t),s.O_()&&dA(n,t),n.Ia.size===0&&(s.O_()?s.L_():ya(n)&&n.Ra.set("Unknown"))}function $g(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$o(r).Y_(t)}function dA(r,t){r.Va.Ue(t),$o(r).Z_(t)}function Qg(r){r.Va=new i2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),$o(r).start(),r.Ra.ua()}function Kg(r){return ya(r)&&!$o(r).x_()&&r.Ia.size>0}function ya(r){return Rt(r).Ea.size===0}function pA(r){r.Va=void 0}async function hM(r){r.Ra.set("Online")}async function fM(r){r.Ia.forEach((t,n)=>{$g(r,t)})}async function dM(r,t){pA(r),Kg(r)?(r.Ra.ha(t),Qg(r)):r.Ra.set("Unknown")}async function pM(r,t,n){if(r.Ra.set("Online"),t instanceof Z1&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))}(r,t)}catch(s){ht(da,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await pf(r,s)}else if(t instanceof Fh?r.Va.Ze(t):t instanceof W1?r.Va.st(t):r.Va.tt(t),!n.isEqual(bt.min()))try{const s=await uA(r.localStore);n.compareTo(s)>=0&&await function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(m.resumeToken,f))}}),p.targetMismatches.forEach((m,g)=>{const E=u.Ia.get(m);if(!E)return;u.Ia.set(m,E.withResumeToken(Je.EMPTY_BYTE_STRING,E.snapshotVersion)),dA(u,m);const T=new Ji(E.target,m,g,E.sequenceNumber);$g(u,T)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){ht(da,"Failed to raise snapshot:",s),await pf(r,s)}}async function pf(r,t,n){if(!Go(t))throw t;r.Ea.add(1),await Gu(r),r.Ra.set("Offline"),n||(n=()=>uA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ht(da,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Bf(r)})}function mA(r,t){return t().catch(n=>pf(r,n,t))}async function qf(r){const t=Rt(r),n=cs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Og;for(;mM(t);)try{const o=await X2(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,gM(t,o)}catch(o){await pf(t,o)}gA(t)&&yA(t)}function mM(r){return ya(r)&&r.Ta.length<10}function gM(r,t){r.Ta.push(t);const n=cs(r);n.O_()&&n.X_&&n.ea(t.mutations)}function gA(r){return ya(r)&&!cs(r).x_()&&r.Ta.length>0}function yA(r){cs(r).start()}async function yM(r){cs(r).ra()}async function _M(r){const t=cs(r);for(const n of r.Ta)t.ea(n.mutations)}async function vM(r,t,n){const s=r.Ta.shift(),o=Ug.from(s,t,n);await mA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await qf(r)}async function EM(r,t){t&&cs(r).X_&&await async function(s,o){if(function(f){return e2(f)&&f!==J.ABORTED}(o.code)){const u=s.Ta.shift();cs(s).B_(),await mA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await qf(s)}}(r,t),gA(r)&&yA(r)}async function f0(r,t){const n=Rt(r);n.asyncQueue.verifyOperationInProgress(),ht(da,"RemoteStore received new credentials");const s=ya(n);n.Ea.add(3),await Gu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Bf(n)}async function TM(r,t){const n=Rt(r);t?(n.Ea.delete(2),await Bf(n)):t||(n.Ea.add(2),await Gu(n),n.Ra.set("Unknown"))}function $o(r){return r.ma||(r.ma=function(n,s,o){const u=Rt(n);return u.sa(),new sM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:hM.bind(null,r),t_:fM.bind(null,r),r_:dM.bind(null,r),H_:pM.bind(null,r)}),r.da.push(async t=>{t?(r.ma.B_(),Kg(r)?Qg(r):r.Ra.set("Unknown")):(await r.ma.stop(),pA(r))})),r.ma}function cs(r){return r.fa||(r.fa=function(n,s,o){const u=Rt(n);return u.sa(),new aM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:yM.bind(null,r),r_:EM.bind(null,r),ta:_M.bind(null,r),na:vM.bind(null,r)}),r.da.push(async t=>{t?(r.fa.B_(),await qf(r)):(await r.fa.stop(),r.Ta.length>0&&(ht(da,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,p=new Yg(t,n,f,o,u);return p.start(s),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xg(r,t){if(mi("AsyncQueue",`${t}: ${r}`),Go(r))return new ct(J.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{static emptySet(t){return new So(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||_t.comparator(n.key,s.key):(n,s)=>_t.comparator(n.key,s.key),this.keyedMap=lu(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof So)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new So;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(){this.ga=new fe(_t.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):At(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,s)=>{t.push(s)}),t}}class Vo{constructor(t,n,s,o,u,f,p,m,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new Vo(t,n,So.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Pf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class AM{constructor(){this.queries=p0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Rt(n),u=o.queries;o.queries=p0(),u.forEach((f,p)=>{for(const m of p.Sa)m.onError(s)})})(this,new ct(J.ABORTED,"Firestore shutting down"))}}function p0(){return new ga(r=>L1(r),Pf)}async function Wg(r,t){const n=Rt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new SM,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Xg(f,`Initialization of query '${po(t.query)}' failed`);return void t.onError(p)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Jg(n)}async function Zg(r,t){const n=Rt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function wM(r,t){const n=Rt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&Jg(n)}function bM(r,t,n){const s=Rt(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function Jg(r){r.Ca.forEach(t=>{t.next()})}var eg,m0;(m0=eg||(eg={})).Ma="default",m0.Cache="cache";class ty{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Vo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Vo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==eg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(t){this.key=t}}class vA{constructor(t){this.key=t}}class RM{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=U1(t),this.tu=new So(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new d0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,T)=>{const A=o.get(E),x=kf(this.query,T)?T:null,L=!!A&&this.mutatedKeys.has(A.key),k=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let B=!1;A&&x?A.data.isEqual(x.data)?L!==k&&(s.track({type:3,doc:x}),B=!0):this.su(A,x)||(s.track({type:2,doc:x}),B=!0,(m&&this.eu(x,m)>0||g&&this.eu(x,g)<0)&&(p=!0)):!A&&x?(s.track({type:0,doc:x}),B=!0):A&&!x&&(s.track({type:1,doc:A}),B=!0,(m||g)&&(p=!0)),B&&(x?(f=f.add(x),u=k?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort((E,T)=>function(x,L){const k=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Rt:B})}};return k(x)-k(L)}(E.type,T.type)||this.eu(E.doc,T.doc)),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,f.length!==0||g?{snapshot:new Vo(this.query,t.tu,u,f,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new d0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return t.forEach(s=>{this.Xa.has(s)||n.push(new vA(s))}),this.Xa.forEach(s=>{t.has(s)||n.push(new _A(s))}),n}cu(t){this.Ya=t.Qs,this.Xa=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ey="SyncEngine";class IM{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class CM{constructor(t){this.key=t,this.hu=!1}}class DM{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ga(p=>L1(p),Pf),this.Iu=new Map,this.Eu=new Set,this.du=new fe(_t.comparator),this.Au=new Map,this.Ru=new Bg,this.Vu={},this.mu=new Map,this.fu=Mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xM(r,t,n=!0){const s=bA(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await EA(s,t,n,!0),o}async function NM(r,t){const n=bA(r);await EA(n,t,!0,!1)}async function EA(r,t,n,s){const o=await W2(r.localStore,Dr(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await OM(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&fA(r.remoteStore,o),p}async function OM(r,t,n,s,o){r.pu=(T,A,x)=>async function(k,B,W,K){let rt=B.view.ru(W);rt.Cs&&(rt=await o0(k.localStore,B.query,!1).then(({documents:C})=>B.view.ru(C,rt)));const lt=K&&K.targetChanges.get(B.targetId),ut=K&&K.targetMismatches.get(B.targetId)!=null,ft=B.view.applyChanges(rt,k.isPrimaryClient,lt,ut);return y0(k,B.targetId,ft.au),ft.snapshot}(r,T,A,x);const u=await o0(r.localStore,t,!0),f=new RM(t,u.Qs),p=f.ru(u.documents),m=Fu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(p,r.isPrimaryClient,m);y0(r,n,g.au);const E=new IM(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),g.snapshot}async function MM(r,t,n){const s=Rt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!Pf(f,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Jm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Gg(s.remoteStore,o.targetId),ng(s,o.targetId)}).catch(Fo)):(ng(s,o.targetId),await Jm(s.localStore,o.targetId,!0))}async function VM(r,t){const n=Rt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Gg(n.remoteStore,s.targetId))}async function PM(r,t,n){const s=qM(r);try{const o=await function(f,p){const m=Rt(f),g=se.now(),E=p.reduce((x,L)=>x.add(L.key),Lt());let T,A;return m.persistence.runTransaction("Locally write mutations","readwrite",x=>{let L=gi(),k=Lt();return m.Ns.getEntries(x,E).next(B=>{L=B,L.forEach((W,K)=>{K.isValidDocument()||(k=k.add(W))})}).next(()=>m.localDocuments.getOverlayedDocuments(x,L)).next(B=>{T=B;const W=[];for(const K of p){const rt=XO(K,T.get(K.key).overlayedDocument);rt!=null&&W.push(new gs(K.key,rt,D1(rt.value.mapValue),ir.exists(!0)))}return m.mutationQueue.addMutationBatch(x,g,W,p)}).next(B=>{A=B;const W=B.applyToLocalDocumentSet(T,k);return m.documentOverlayCache.saveOverlays(x,B.batchId,W)})}).then(()=>({batchId:A.batchId,changes:j1(T)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,m){let g=f.Vu[f.currentUser.toKey()];g||(g=new fe(kt)),g=g.insert(p,m),f.Vu[f.currentUser.toKey()]=g}(s,o.batchId,n),await $u(s,o.changes),await qf(s.remoteStore)}catch(o){const u=Xg(o,"Failed to persist write");n.reject(u)}}async function TA(r,t){const n=Rt(r);try{const s=await K2(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(Qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qt(f.hu,14607):o.removedDocuments.size>0&&(Qt(f.hu,42227),f.hu=!1))}),await $u(n,s,t)}catch(s){await Fo(s)}}function g0(r,t,n){const s=Rt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const p=f.view.va(t);p.snapshot&&o.push(p.snapshot)}),function(f,p){const m=Rt(f);m.onlineState=p;let g=!1;m.queries.forEach((E,T)=>{for(const A of T.Sa)A.va(p)&&(g=!0)}),g&&Jg(m)}(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function kM(r,t,n){const s=Rt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new fe(_t.comparator);f=f.insert(u,on.newNoDocument(u,bt.min()));const p=Lt().add(u),m=new zf(bt.min(),new Map,new fe(kt),f,p);await TA(s,m),s.du=s.du.remove(u),s.Au.delete(t),ny(s)}else await Jm(s.localStore,t,!1).then(()=>ng(s,t,n)).catch(Fo)}async function LM(r,t){const n=Rt(r),s=t.batch.batchId;try{const o=await Q2(n.localStore,t);AA(n,s,null),SA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await $u(n,o)}catch(o){await Fo(o)}}async function UM(r,t,n){const s=Rt(r);try{const o=await function(f,p){const m=Rt(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return m.mutationQueue.lookupMutationBatch(g,p).next(T=>(Qt(T!==null,37113),E=T.keys(),m.mutationQueue.removeMutationBatch(g,T))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,E,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>m.localDocuments.getDocuments(g,E))})}(s.localStore,t);AA(s,t,n),SA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await $u(s,o)}catch(o){await Fo(o)}}function SA(r,t){(r.mu.get(t)||[]).forEach(n=>{n.resolve()}),r.mu.delete(t)}function AA(r,t,n){const s=Rt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function ng(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach(s=>{r.Ru.containsKey(s)||wA(r,s)})}function wA(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Gg(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),ny(r))}function y0(r,t,n){for(const s of n)s instanceof _A?(r.Ru.addReference(s.key,t),zM(r,s)):s instanceof vA?(ht(ey,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||wA(r,s.key)):At(19791,{wu:s})}function zM(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ht(ey,"New document in limbo: "+n),r.Eu.add(s),ny(r))}function ny(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new _t(re.fromString(t)),s=r.fu.next();r.Au.set(s,new CM(n)),r.du=r.du.insert(n,s),fA(r.remoteStore,new Ji(Dr(Vf(n.path)),s,"TargetPurposeLimboResolution",Nf.ce))}}async function $u(r,t,n){const s=Rt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((p,m)=>{f.push(s.pu(m,t,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:E.current;s.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Hg.As(m.targetId,g);u.push(T)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(m,g){const E=Rt(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>et.forEach(g,A=>et.forEach(A.Es,x=>E.persistence.referenceDelegate.addReference(T,A.targetId,x)).next(()=>et.forEach(A.ds,x=>E.persistence.referenceDelegate.removeReference(T,A.targetId,x)))))}catch(T){if(!Go(T))throw T;ht(Fg,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const x=E.Ms.get(A),L=x.snapshotVersion,k=x.withLastLimboFreeSnapshotVersion(L);E.Ms=E.Ms.insert(A,k)}}}(s.localStore,u))}async function jM(r,t){const n=Rt(r);if(!n.currentUser.isEqual(t)){ht(ey,"User change. New user:",t.toKey());const s=await lA(n.localStore,t);n.currentUser=t,function(u,f){u.mu.forEach(p=>{p.forEach(m=>{m.reject(new ct(J.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await $u(n,s.Ls)}}function BM(r,t){const n=Rt(r),s=n.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let o=Lt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function bA(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=TA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kM.bind(null,t),t.Pu.H_=wM.bind(null,t.eventManager),t.Pu.yu=bM.bind(null,t.eventManager),t}function qM(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=LM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=UM.bind(null,t),t}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=jf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return $2(this.persistence,new H2,t.initialUser,this.serializer)}Cu(t){return new oA(qg.mi,this.serializer)}Du(t){return new J2}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class HM extends mf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Qt(this.persistence.referenceDelegate instanceof df,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new C2(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new oA(s=>df.mi(s,n),this.serializer)}}class rg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>g0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=jM.bind(null,this.syncEngine),await TM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new AM}()}createDatastore(t){const n=jf(t.databaseInfo.databaseId),s=function(u){return new iM(u)}(t.databaseInfo);return function(u,f,p,m){return new lM(u,f,p,m)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,p){return new cM(s,o,u,f,p)}(this.localStore,this.datastore,t.asyncQueue,n=>g0(this.syncEngine,n,0),function(){return c0.v()?new c0:new tM}())}createSyncEngine(t,n){return function(o,u,f,p,m,g,E){const T=new DM(o,u,f,p,m,g);return E&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=Rt(o);ht(da,"RemoteStore shutting down."),u.Ea.add(5),await Gu(u),u.Aa.shutdown(),u.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}rg.provider={build:()=>new rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):mi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="FirestoreClient";class FM{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=Ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ht(hs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ht(hs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Xg(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function vm(r,t){r.asyncQueue.verifyOperationInProgress(),ht(hs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await lA(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function _0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await GM(r);ht(hs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>f0(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>f0(t.remoteStore,o)),r._onlineComponents=t}async function GM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ht(hs,"Using user provided OfflineComponentProvider");try{await vm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Do("Error using user provided cache. Falling back to memory cache: "+n),await vm(r,new mf)}}else ht(hs,"Using default OfflineComponentProvider"),await vm(r,new HM(void 0));return r._offlineComponents}async function RA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ht(hs,"Using user provided OnlineComponentProvider"),await _0(r,r._uninitializedComponentsProvider._online)):(ht(hs,"Using default OnlineComponentProvider"),await _0(r,new rg))),r._onlineComponents}function $M(r){return RA(r).then(t=>t.syncEngine)}async function gf(r){const t=await RA(r),n=t.eventManager;return n.onListen=xM.bind(null,t.syncEngine),n.onUnlisten=MM.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=NM.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=VM.bind(null,t.syncEngine),n}function QM(r,t,n={}){const s=new hi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,g){const E=new ry({next:A=>{E.Nu(),f.enqueueAndForget(()=>Zg(u,T));const x=A.docs.has(p);!x&&A.fromCache?g.reject(new ct(J.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&A.fromCache&&m&&m.source==="server"?g.reject(new ct(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new ty(Vf(p.path),E,{includeMetadataChanges:!0,qa:!0});return Wg(u,T)}(await gf(r),r.asyncQueue,t,n,s)),s.promise}function KM(r,t,n={}){const s=new hi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,m,g){const E=new ry({next:A=>{E.Nu(),f.enqueueAndForget(()=>Zg(u,T)),A.fromCache&&m.source==="server"?g.reject(new ct(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new ty(p,E,{includeMetadataChanges:!0,qa:!0});return Wg(u,T)}(await gf(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="firestore.googleapis.com",E0=!0;class T0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CA,this.ssl=E0}else this.host=t.host,this.ssl=t.ssl??E0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=aA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<R2)throw new ct(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}uO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IA(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new JN;switch(s.type){case"firstParty":return new rO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=v0.get(n);s&&(ht("ComponentProvider","Removing Datastore"),v0.delete(n),s.terminate())}(this),Promise.resolve()}}function YM(r,t,n,s={}){var g;r=Nn(r,Hf);const o=jo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${n}`;o&&(SS(`https://${p}`),AS("Firestore",!0)),u.host!==CA&&u.host!==p&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:p,ssl:o,emulatorOptions:s};if(!la(m,f)&&(r._setSettings(m),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=an.MOCK_USER;else{E=lC(s.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ct(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new an(A)}r._authCredentials=new tO(new y1(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new _a(this.firestore,t,this._query)}}class ge{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ge(this.firestore,t,this._key)}toJSON(){return{type:ge._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Bu(n,ge._jsonSchema))return new ge(t,s||null,new _t(re.fromString(n.referencePath)))}}ge._jsonSchemaVersion="firestore/documentReference/1.0",ge._jsonSchema={type:Ce("string",ge._jsonSchemaVersion),referencePath:Ce("string")};class ss extends _a{constructor(t,n,s){super(t,n,Vf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ge(this.firestore,null,new _t(t))}withConverter(t){return new ss(this.firestore,t,this._path)}}function ra(r,t,...n){if(r=De(r),_1("collection","path",t),r instanceof Hf){const s=re.fromString(t,...n);return VT(s),new ss(r,null,s)}{if(!(r instanceof ge||r instanceof ss))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(re.fromString(t,...n));return VT(s),new ss(r.firestore,null,s)}}function pa(r,t,...n){if(r=De(r),arguments.length===1&&(t=Ng.newId()),_1("doc","path",t),r instanceof Hf){const s=re.fromString(t,...n);return MT(s),new ge(r,null,new _t(s))}{if(!(r instanceof ge||r instanceof ss))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(re.fromString(t,...n));return MT(s),new ge(r.firestore,r instanceof ss?r.converter:null,new _t(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="AsyncQueue";class A0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cA(this,"async_queue_retry"),this._c=()=>{const s=_m();s&&ht(S0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=_m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=_m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new hi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Go(t))throw t;ht(S0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,mi("INTERNAL UNHANDLED ERROR: ",w0(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Yg.createAndSchedule(this,t,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&At(47125,{Pc:w0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function w0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class fs extends Hf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new A0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new A0(t),this._firestoreClient=void 0,await t}}}function DA(r,t){const n=typeof r=="object"?r:IS(),s=typeof r=="string"?r:of,o=Eg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=aC("firestore");u&&YM(o,...u)}return o}function Ff(r){if(r._terminated)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||XM(r),r._firestoreClient}function XM(r){var s,o,u;const t=r._freezeSettings(),n=function(p,m,g,E){return new EO(p,m,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,IA(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,t);r._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new FM(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(p){const m=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(Je.fromBase64String(t))}catch(n){throw new ct(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Qn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bu(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Ce("string",Qn._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Nr._jsonSchemaVersion}}static fromJSON(t){if(Bu(t,Nr._jsonSchema))return new Nr(t.latitude,t.longitude)}}Nr._jsonSchemaVersion="firestore/geoPoint/1.0",Nr._jsonSchema={type:Ce("string",Nr._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Or._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bu(t,Or._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Or(t.vectorValues);throw new ct(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Or._jsonSchemaVersion="firestore/vectorValue/1.0",Or._jsonSchema={type:Ce("string",Or._jsonSchemaVersion),vectorValues:Ce("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=/^__.*__$/;class ZM{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new gs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Hu(t,this.data,n,this.fieldTransforms)}}class xA{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new gs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function NA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{Ac:r})}}class iy{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new iy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const n=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){var o;const n=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return yf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(NA(this.Ac)&&WM.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class JM{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||jf(t)}Cc(t,n,s,o=!1){return new iy({Ac:t,methodName:n,Dc:s,path:Ze.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qf(r){const t=r._freezeSettings(),n=jf(r._databaseId);return new JM(r._databaseId,!!t.ignoreUndefinedProperties,n)}function OA(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);ay("Data must be an object, but it was:",f,s);const p=MA(s,f);let m,g;if(u.merge)m=new xn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const A=ig(t,T,n);if(!f.contains(A))throw new ct(J.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);PA(E,A)||E.push(A)}m=new xn(E),g=f.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,g=f.fieldTransforms;return new ZM(new _n(p),m,g)}class Kf extends $f{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Kf}}class sy extends $f{_toFieldTransform(t){return new $O(t.path,new Cu)}isEqual(t){return t instanceof sy}}function t4(r,t,n,s){const o=r.Cc(1,t,n);ay("Data must be an object, but it was:",o,s);const u=[],f=_n.empty();ms(s,(m,g)=>{const E=oy(t,m,n);g=De(g);const T=o.yc(E);if(g instanceof Kf)u.push(E);else{const A=Qu(g,T);A!=null&&(u.push(E),f.set(E,A))}});const p=new xn(u);return new xA(f,p,o.fieldTransforms)}function e4(r,t,n,s,o,u){const f=r.Cc(1,t,n),p=[ig(t,s,n)],m=[o];if(u.length%2!=0)throw new ct(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)p.push(ig(t,u[A])),m.push(u[A+1]);const g=[],E=_n.empty();for(let A=p.length-1;A>=0;--A)if(!PA(g,p[A])){const x=p[A];let L=m[A];L=De(L);const k=f.yc(x);if(L instanceof Kf)g.push(x);else{const B=Qu(L,k);B!=null&&(g.push(x),E.set(x,B))}}const T=new xn(g);return new xA(E,T,f.fieldTransforms)}function n4(r,t,n,s=!1){return Qu(n,r.Cc(s?4:3,t))}function Qu(r,t){if(VA(r=De(r)))return ay("Unsupported field value:",t,r),MA(r,t);if(r instanceof $f)return function(s,o){if(!NA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let m=Qu(p,o.wc(f));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=De(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return HO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=se.fromDate(s);return{timestampValue:ff(o.serializer,u)}}if(s instanceof se){const u=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ff(o.serializer,u)}}if(s instanceof Nr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:J1(o.serializer,s._byteString)};if(s instanceof ge){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:jg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Or)return function(f,p){return{mapValue:{fields:{[I1]:{stringValue:C1},[lf]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return Lg(p.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${xf(s)}`)}(r,t)}function MA(r,t){const n={};return T1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ms(r,(s,o)=>{const u=Qu(o,t.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function VA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof Nr||r instanceof Qn||r instanceof ge||r instanceof $f||r instanceof Or)}function ay(r,t,n){if(!VA(n)||!v1(n)){const s=xf(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function ig(r,t,n){if((t=De(t))instanceof Gf)return t._internalPath;if(typeof t=="string")return oy(r,t);throw yf("Field path arguments must be of type string or ",r,!1,void 0,n)}const r4=new RegExp("[~\\*/\\[\\]]");function oy(r,t,n){if(t.search(r4)>=0)throw yf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Gf(...t.split("."))._internalPath}catch{throw yf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function yf(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${s}`),f&&(m+=` in document ${o}`),m+=")"),new ct(J.INVALID_ARGUMENT,p+r+m)}function PA(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ge(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new i4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ly("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class i4 extends kA{data(){return super.data()}}function ly(r,t){return typeof t=="string"?oy(r,t):t instanceof Gf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uy{}class s4 extends uy{}function UA(r,t,...n){let s=[];t instanceof uy&&s.push(t),s=s.concat(n),function(u){const f=u.filter(m=>m instanceof cy).length,p=u.filter(m=>m instanceof Yf).length;if(f>1||f>0&&p>0)throw new ct(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Yf extends s4{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Yf(t,n,s)}_apply(t){const n=this._parse(t);return jA(t._query,n),new _a(t.firestore,t.converter,Qm(t._query,n))}_parse(t){const n=Qf(t.firestore);return function(u,f,p,m,g,E,T){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ct(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){I0(T,E);const L=[];for(const k of T)L.push(R0(m,u,k));A={arrayValue:{values:L}}}else A=R0(m,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||I0(T,E),A=n4(p,f,T,E==="in"||E==="not-in");return Ie.create(g,E,A)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function zA(r,t,n){const s=t,o=ly("where",r);return Yf._create(o,s,n)}class cy extends uy{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new cy(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:or.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const p=u.getFlattenedFilters();for(const m of p)jA(f,m),f=Qm(f,m)}(t._query,n),new _a(t.firestore,t.converter,Qm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function R0(r,t,n){if(typeof(n=De(n))=="string"){if(n==="")throw new ct(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!k1(t)&&n.indexOf("/")!==-1)throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(re.fromString(n));if(!_t.isDocumentKey(s))throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return qT(r,new _t(s))}if(n instanceof ge)return qT(r,n._key);throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xf(n)}.`)}function I0(r,t){if(!Array.isArray(r)||r.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function jA(r,t){const n=function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ct(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class a4{convertValue(t,n="none"){switch(us(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ls(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw At(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ms(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var s,o,u;const n=(u=(o=(s=t.fields)==null?void 0:s[lf].arrayValue)==null?void 0:o.values)==null?void 0:u.map(f=>Ee(f.doubleValue));return new Or(n)}convertGeoPoint(t){return new Nr(Ee(t.latitude),Ee(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Mf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(bu(t));default:return null}}convertTimestamp(t){const n=os(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=re.fromString(t);Qt(sA(s),9688,{name:t});const o=new Ru(s.get(1),s.get(3)),u=new _t(s.popFirst(5));return o.isEqual(n)||mi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class cu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ia extends kA{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(ly("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ia._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:Ce("string",ia._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Gh extends ia{data(t={}){return super.data(t)}}class sa{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new cu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Gh(this._firestore,this._userDataWriter,s.key,s,new cu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const m=new Gh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new cu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const m=new Gh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new cu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return p.type!==0&&(g=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:o4(p.type),doc:m,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=sa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function o4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(r){r=Nn(r,ge);const t=Nn(r.firestore,fs);return QM(Ff(t),r._key).then(n=>FA(t,r,n))}sa._jsonSchemaVersion="firestore/querySnapshot/1.0",sa._jsonSchema={type:Ce("string",sa._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class hy extends a4{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ge(this.firestore,null,n)}}function l4(r){r=Nn(r,_a);const t=Nn(r.firestore,fs),n=Ff(t),s=new hy(t);return LA(r._query),KM(n,r._query).then(o=>new sa(t,s,r,o))}function HA(r,t,n){r=Nn(r,ge);const s=Nn(r.firestore,fs),o=BA(r.converter,t,n);return fy(s,[OA(Qf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ir.none())])}function C0(r,t,n,...s){r=Nn(r,ge);const o=Nn(r.firestore,fs),u=Qf(o);let f;return f=typeof(t=De(t))=="string"||t instanceof Gf?e4(u,"updateDoc",r._key,t,n,s):t4(u,"updateDoc",r._key,t),fy(o,[f.toMutation(r._key,ir.exists(!0))])}function u4(r,t){const n=Nn(r.firestore,fs),s=pa(r),o=BA(r.converter,t);return fy(n,[OA(Qf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ir.exists(!1))]).then(()=>s)}function Nu(r,...t){var m,g,E;r=De(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||b0(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(b0(t[s])){const T=t[s];t[s]=(m=T.next)==null?void 0:m.bind(T),t[s+1]=(g=T.error)==null?void 0:g.bind(T),t[s+2]=(E=T.complete)==null?void 0:E.bind(T)}let u,f,p;if(r instanceof ge)f=Nn(r.firestore,fs),p=Vf(r._key.path),u={next:T=>{t[s]&&t[s](FA(f,r,T))},error:t[s+1],complete:t[s+2]};else{const T=Nn(r,_a);f=Nn(T.firestore,fs),p=T._query;const A=new hy(f);u={next:x=>{t[s]&&t[s](new sa(f,A,T,x))},error:t[s+1],complete:t[s+2]},LA(r._query)}return function(A,x,L,k){const B=new ry(k),W=new ty(x,B,L);return A.asyncQueue.enqueueAndForget(async()=>Wg(await gf(A),W)),()=>{B.Nu(),A.asyncQueue.enqueueAndForget(async()=>Zg(await gf(A),W))}}(Ff(f),p,o,u)}function fy(r,t){return function(s,o){const u=new hi;return s.asyncQueue.enqueueAndForget(async()=>PM(await $M(s),o,u)),u.promise}(Ff(r),t)}function FA(r,t,n){const s=n.docs.get(t._key),o=new hy(r);return new ia(r,o,t._key,s,new cu(n.hasPendingWrites,n.fromCache),t.converter)}function c4(){return new sy("serverTimestamp")}(function(t,n=!0){(function(o){Ho=o})(Bo),Io(new ua("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new fs(new eO(s.getProvider("auth-internal")),new iO(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(g.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),rs(DT,xT,t),rs(DT,xT,"esm2020")})();const h4={apiKey:"AIzaSyB5aFUQbtG1rShW-1O88aZjCG7uErNxmgQ",authDomain:"pdms-test-8a5cc.firebaseapp.com",projectId:"pdms-test-8a5cc",storageBucket:"pdms-test-8a5cc.firebasestorage.app",messagingSenderId:"631678861167",appId:"1:631678861167:web:5cd775b77e53535700329a"},dy=RS(h4);DA(dy);const Dn=DA(dy),Po=YN(dy);function f4({onLoginSuccess:r}){const[t,n]=G.useState(""),[s,o]=G.useState(""),u=Mu(),f=()=>{u("/signup")},p=()=>{Mx(Po,t,s).then(()=>{r(),u("/dashboard")}).catch(m=>{alert("로그인 실패: "+m.message)})};return z.jsxs(d4,{children:[z.jsxs(p4,{children:[z.jsxs(m4,{children:[z.jsx(g4,{children:"PDMS"}),z.jsx(y4,{children:"Pushcomz Design Management System"})]}),z.jsxs(_4,{children:[z.jsx(v4,{type:"text",value:t,onChange:m=>n(m.target.value),placeholder:"이메일을 입력해주세요."}),z.jsx(E4,{type:"password",value:s,onChange:m=>o(m.target.value),placeholder:"비밀번호를 입력해주세요."})]}),z.jsx(T4,{onClick:p,children:"로그인"}),z.jsxs(A4,{children:[z.jsx(w4,{children:"계정이 없습니까?"}),z.jsx(b4,{onClick:f,children:"등록하기"})]})]}),z.jsx(S4,{children:"© Pushcomz Corp."})]})}const d4=yt.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:r})=>r.colors.gray};
`,p4=yt.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:r})=>r.colors.white};
`,m4=yt.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,g4=yt.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:r})=>r.colors.navy};
`,y4=yt.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,_4=yt.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
`,v4=yt.input`
  width: 460px;
  margin-bottom: 10px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,E4=yt.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,T4=yt.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:r})=>r.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:r})=>r.colors.white};
`,S4=yt.p`
  margin-top: 20px;
  font-size: 12px;
  font-weight: 300;
  line-height: 18px;
  text-align: center;
`,A4=yt.div`
  
`,w4=yt.span`
  margin-right: 10px;
  font-size: 13px;
`,b4=yt.button`
  font-size: 13px;
  color: ${({theme:r})=>r.colors.navy};
`,GA="./assets/logo-NEcdCz8m.svg";function R4(){const[r,t]=G.useState(""),[n,s]=G.useState(null),o=Mu();G.useEffect(()=>{const p=Ig(Po,async m=>{if(m){m.displayName&&t(m.displayName);const g=await qA(pa(Dn,"users",m.uid));g.exists()?s(g.data().role):s(null)}else t(""),s(null)});return()=>p()},[]);const u=()=>{Ux(Po).then(()=>{o("/")}).catch(p=>{alert("로그아웃 중 오류가 발생했습니다: "+p.message)})},f=p=>{switch(p){case 1:return"요청자";case 2:return"디자이너";case 3:return"담당자";default:return"역할 없음"}};return z.jsxs(I4,{children:[z.jsx(C4,{src:GA}),z.jsxs(D4,{children:[z.jsxs(x4,{children:[r,"님 (",f(n),")환영합니다."]}),z.jsx(N4,{onClick:u,children:"로그아웃"}),z.jsx(O4,{})]})]})}const I4=yt.header`
  ${({theme:r})=>r.mixin.flex("center","space-between")};
  padding: 15px 20px;
  background-color: ${({theme:r})=>r.colors.navy};
`,C4=yt.img`
  
`,D4=yt.div`

`,x4=yt.span`
  margin-right: 10px;
  color: ${({theme:r})=>r.colors.white};
  font-size: 14px;
  line-height: 20px;
`,N4=yt.button`
  color: ${({theme:r})=>r.colors.white};
  font-size: 14px;
  line-height: 20px;
`,O4=yt.span`
  color: ${({theme:r})=>r.colors.white};
  font-size: 14px;
  line-height: 20px;
`;function M4(){const[r,t]=G.useState(""),[n,s]=G.useState("GHS"),[o,u]=G.useState("기획전"),[f,p]=G.useState(""),[m,g]=G.useState(""),[E,T]=G.useState([]),[A,x]=G.useState({});G.useEffect(()=>{const k=Ig(Po,B=>{B&&B.displayName&&t(B.displayName)});return()=>k()},[]),G.useEffect(()=>{const k=Nu(ra(Dn,"design_request"),B=>{const W=B.docs.map(K=>({id:K.id,...K.data()}));T(W)});return()=>k()},[]),G.useEffect(()=>{const k=UA(ra(Dn,"design_response"),zA("is_sent_to_requester","==",!0)),B=Nu(k,W=>{const K={};W.docs.forEach(rt=>{const lt=rt.data();K[lt.request_id]=lt}),x(K)});return()=>B()},[]);const L=async k=>{if(k.preventDefault(),!f){alert("요청 내용을 입력하세요.");return}const B=new Date,W=`${B.getMonth()+1}/${B.getDate()}`;u4(ra(Dn,"design_request"),{requester:r,request_date:W,task_form:n,task_type:o,requirement:f,url:m,created_at:c4(),updated_at:null,delete_at:null}).then(()=>{alert("요청이 등록되었습니다!"),p(""),g("")}).catch(K=>{alert("등록 중 오류가 발생했습니다: "+K.message)})};return z.jsxs(z.Fragment,{children:[z.jsxs(V4,{onSubmit:L,children:[z.jsx("h2",{children:"디자인 요청 등록"}),z.jsxs(P4,{children:[z.jsx("label",{children:"업무형태"}),z.jsxs("select",{value:n,onChange:k=>s(k.target.value),children:[z.jsx("option",{value:"GHS",children:"GHS"}),z.jsx("option",{value:"MHC",children:"MHC"})]}),z.jsx("label",{children:"업무타입"}),z.jsxs("select",{value:o,onChange:k=>u(k.target.value),children:[z.jsx("option",{value:"기획전",children:"기획전"}),z.jsx("option",{value:"배너",children:"배너"}),z.jsx("option",{value:"이벤트",children:"이벤트"}),z.jsx("option",{value:"기타",children:"기타"})]}),z.jsx("label",{children:"요청 내용"}),z.jsx("input",{type:"text",value:f,onChange:k=>p(k.target.value),placeholder:"요청 내용을 입력하세요."}),z.jsx("label",{children:"요청 기획안 URL"}),z.jsx("input",{type:"text",value:m,onChange:k=>g(k.target.value),placeholder:"요청 기획안 URL을 입력하세요."})]}),z.jsx(k4,{type:"submit",children:"등록하기"})]}),z.jsx("h2",{children:"디자인 요청 리스트"}),E.length>0?z.jsx(L4,{children:E.map(k=>{const B=A[k.id];return z.jsxs(U4,{children:[z.jsxs(z4,{children:[z.jsxs("p",{children:[z.jsx("strong",{children:"요청일:"})," ",k.request_date]}),z.jsxs("p",{children:[z.jsx("strong",{children:"업무형태:"})," ",k.task_form]}),z.jsxs("p",{children:[z.jsx("strong",{children:"업무타입:"})," ",k.task_type]}),z.jsxs("p",{children:[z.jsx("strong",{children:"요청내용:"})," ",k.requirement]}),k.url&&z.jsxs("p",{children:[z.jsx("strong",{children:"기획안:"})," ",z.jsx("a",{href:k.url,target:"_blank",children:"보기"})]})]}),B&&z.jsxs(j4,{children:[z.jsx("h4",{children:"디자이너 응답"}),z.jsxs("p",{children:[z.jsx("strong",{children:"시작일:"})," ",B.start_dt]}),z.jsxs("p",{children:[z.jsx("strong",{children:"종료일:"})," ",B.end_dt]}),z.jsxs("p",{children:[z.jsx("strong",{children:"산출물 링크:"})," ",B.result_url?z.jsx("a",{href:B.result_url,target:"_blank",children:"보기"}):"-"]}),z.jsxs("p",{children:[z.jsx("strong",{children:"진행상태:"})," ",B.status]})]})]},k.id)})}):z.jsx("p",{children:"등록한 요청이 없습니다."})]})}const V4=yt.form`
`,P4=yt.ul`
  ${({theme:r})=>r.mixin.flex()};
  flex-direction: column;
`,k4=yt.button`
  
`,L4=yt.div`
  margin-top: 20px;
  display: flex;
  flex-direction: column;
  gap: 16px;
`,U4=yt.div`
  border: 1px solid #ddd;
  padding: 16px;
  border-radius: 8px;
  background: #fff;
`,z4=yt.div`
  p {
    margin: 4px 0;
  }
`,j4=yt.div`
  margin-top: 15px;
  padding: 10px;
  background: #f9f9f9;
  border: 1px solid #ddd;
  border-radius: 6px;
`;function B4(){const[r,t]=G.useState([]),[n,s]=G.useState({});G.useEffect(()=>{const f=Nu(ra(Dn,"design_request"),p=>{const m=p.docs.map(g=>({id:g.id,...g.data()})).filter(g=>g.assigned_designer&&g.assigned_designer!=="미배정");t(m)});return()=>f()},[]);const o=(f,p,m)=>{s(g=>({...g,[f]:{...g[f],[p]:m}}))},u=async f=>{const p=pa(Dn,"design_response",f),m={request_id:f,...n[f],updated_at:new Date};await HA(p,m,{merge:!0}),alert("응답이 저장되었습니다.")};return z.jsxs(q4,{children:[z.jsx("h2",{children:"디자이너 화면"}),r.length>0?z.jsx(H4,{children:r.map(f=>z.jsx(F4,{children:z.jsxs(G4,{children:[z.jsxs("p",{children:[z.jsx("strong",{children:"요청자:"})," ",f.requester]}),z.jsxs("p",{children:[z.jsx("strong",{children:"요청일:"})," ",f.request_date]}),z.jsxs("p",{children:[z.jsx("strong",{children:"업무형태:"})," ",f.task_form]}),z.jsxs("p",{children:[z.jsx("strong",{children:"업무타입:"})," ",f.task_type]}),z.jsxs("p",{children:[z.jsx("strong",{children:"요청내용:"})," ",f.requirement]}),f.url&&z.jsxs("p",{children:[z.jsx("strong",{children:"기획안:"})," ",z.jsx("a",{href:f.url,target:"_blank",rel:"noopener noreferrer",children:"보기"})]}),z.jsxs("p",{children:[z.jsx("strong",{children:"배정 디자이너:"})," ",f.assigned_designer]}),z.jsx(Ih,{children:"시작일"}),z.jsx(Em,{type:"date",onChange:p=>o(f.id,"start_dt",p.target.value)}),z.jsx(Ih,{children:"종료일"}),z.jsx(Em,{type:"date",onChange:p=>o(f.id,"end_dt",p.target.value)}),z.jsx(Ih,{children:"산출물 링크"}),z.jsx(Em,{type:"text",placeholder:"https://...",onChange:p=>o(f.id,"result_url",p.target.value)}),z.jsx(Ih,{children:"진행상태"}),z.jsxs($4,{onChange:p=>o(f.id,"status",p.target.value),children:[z.jsx("option",{value:"대기중",children:"대기"}),z.jsx("option",{value:"진행중",children:"진행중"}),z.jsx("option",{value:"완료",children:"완료"})]}),z.jsx(Q4,{onClick:()=>u(f.id),children:"저장"})]})},f.id))}):z.jsx("p",{children:"배정된 요청이 없습니다."})]})}const q4=yt.div`
  padding: 20px;
`,H4=yt.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
`,F4=yt.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  border: 1px solid #ddd;
  padding: 16px;
  border-radius: 8px;
  background: #fff;
`,G4=yt.div`
  flex: 1;
  p {
    margin: 4px 0;
  }
`,Ih=yt.label`
  display: block;
  margin-top: 10px;
  font-weight: bold;
`,Em=yt.input`
  width: 100%;
  margin-bottom: 10px;
  padding: 8px;
  border: 1px solid #ddd;
  border-radius: 4px;
`,$4=yt.select`
  width: 100%;
  padding: 8px;
  border: 1px solid #ddd;
  border-radius: 4px;
`,Q4=yt.button`
  margin-top: 10px;
  padding: 10px 15px;
  background: #073863;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
`;function K4(){const[r,t]=G.useState([]),[n,s]=G.useState([]),[o,u]=G.useState({}),[f,p]=G.useState({});G.useEffect(()=>{const T=Nu(ra(Dn,"design_request"),A=>{const x=A.docs.map(L=>({id:L.id,...L.data()}));t(x)});return()=>T()},[]),G.useEffect(()=>{const T=Nu(ra(Dn,"design_response"),A=>{const x={};A.docs.forEach(L=>{const k=L.data();x[k.request_id]=k}),p(x)});return()=>T()},[]),G.useEffect(()=>{(async()=>{const A=UA(ra(Dn,"users"),zA("role","==",2)),L=(await l4(A)).docs.map(k=>({id:k.id,...k.data()}));s(L)})()},[]);const m=(T,A)=>{u(x=>({...x,[T]:A}))},g=async T=>{const A=o[T];if(!A){alert("디자이너를 선택하세요.");return}const x=pa(Dn,"design_request",T);await C0(x,{assigned_designer:A,status:"assigned"}),alert("디자이너가 배정되었습니다!"),t(L=>L.map(k=>k.id===T?{...k,assigned_designer:A}:k))},E=async T=>{const A=pa(Dn,"design_response",T);await C0(A,{is_sent_to_requester:!0}),alert("요청자에게 전달되었습니다."),p(x=>({...x,[T]:{...x[T],is_sent_to_requester:!0}}))};return z.jsxs(Y4,{children:[z.jsx("h2",{children:"요청 리스트"}),r.length>0?z.jsx(X4,{children:r.map(T=>{const A=f[T.id];return z.jsxs(W4,{children:[z.jsxs(Z4,{children:[z.jsxs("p",{children:[z.jsx("strong",{children:"요청자:"})," ",T.requester]}),z.jsxs("p",{children:[z.jsx("strong",{children:"요청일:"})," ",T.request_date]}),z.jsxs("p",{children:[z.jsx("strong",{children:"업무형태:"})," ",T.task_form]}),z.jsxs("p",{children:[z.jsx("strong",{children:"업무타입:"})," ",T.task_type]}),z.jsxs("p",{children:[z.jsx("strong",{children:"요청내용:"})," ",T.requirement]}),T.url&&z.jsxs("p",{children:[z.jsx("strong",{children:"기획안:"})," ",z.jsx("a",{href:T.url,target:"_blank",rel:"noopener noreferrer",children:"보기"})]}),z.jsxs("p",{children:[z.jsx("strong",{children:"배정 디자이너:"})," ",T.assigned_designer||"미배정"]}),A&&z.jsxs(J4,{children:[z.jsx("h4",{children:"디자이너 응답"}),z.jsxs("p",{children:[z.jsx("strong",{children:"시작일:"})," ",A.start_dt||"-"]}),z.jsxs("p",{children:[z.jsx("strong",{children:"종료일:"})," ",A.end_dt||"-"]}),z.jsxs("p",{children:[z.jsx("strong",{children:"산출물 링크:"})," ",A.result_url?z.jsx("a",{href:A.result_url,target:"_blank",children:"보기"}):"-"]}),z.jsxs("p",{children:[z.jsx("strong",{children:"진행상태:"})," ",A.status||"-"]}),!A.is_sent_to_requester&&z.jsx(eV,{onClick:()=>E(T.id),children:"요청자에게 전달"}),A.is_sent_to_requester&&z.jsx("p",{style:{color:"green"},children:"요청자에게 전달됨"})]})]}),z.jsxs(tV,{children:[z.jsxs("select",{value:o[T.id]||"",onChange:x=>m(T.id,x.target.value),children:[z.jsx("option",{value:"",children:"디자이너 선택"}),n.map(x=>z.jsx("option",{value:x.name,children:x.name},x.id))]}),z.jsx("button",{onClick:()=>g(T.id),children:"배정"})]})]},T.id)})}):z.jsx("p",{children:"요청 데이터를 불러오는 중..."})]})}const Y4=yt.div`
  padding: 20px;
`,X4=yt.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
`,W4=yt.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  border: 1px solid #ddd;
  padding: 16px;
  border-radius: 8px;
  background: #fff;
`,Z4=yt.div`
  flex: 1;
  p {
    margin: 4px 0;
  }
`,J4=yt.div`
  margin-top: 15px;
  padding: 10px;
  background: #f9f9f9;
  border: 1px solid #ddd;
  border-radius: 6px;
`,tV=yt.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
  select {
    padding: 8px;
    font-size: 14px;
  }
  button {
    padding: 8px 12px;
    background: #073863;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
`,eV=yt.button`
  margin-top: 10px;
  padding: 8px 12px;
  background: #28a745;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
`;function nV(){const[r,t]=G.useState(null);G.useEffect(()=>{const s=Ig(Po,async o=>{if(o){const u=await qA(pa(Dn,"users",o.uid));u.exists()&&t(u.data().role)}else t(null)});return()=>s()},[]);const n=()=>{if(r===1)return z.jsx(M4,{});if(r===2)return z.jsx(B4,{});if(r===3)return z.jsx(K4,{})};return z.jsx(rV,{children:n()})}const rV=yt.main`
  
`;function iV(){return z.jsxs(sV,{children:[z.jsx(R4,{}),z.jsx(nV,{})]})}const sV=yt.div`
  
`;function aV(){const[r,t]=G.useState(""),[n,s]=G.useState(""),[o,u]=G.useState(""),[f,p]=G.useState(""),m=Mu(),g=async()=>{if(o!==f){alert("비밀번호가 일치하지 않습니다.");return}Ox(Po,n,o).then(async E=>{const T=E.user;await Px(T,{displayName:r}),await HA(pa(Dn,"users",T.uid),{name:r,role:2,createdAt:new Date})}).then(()=>{alert("회원가입이 완료되었습니다!"),m("/")}).catch(E=>{alert("회원가입 중 오류 발생: "+E.message)})};return z.jsx(oV,{children:z.jsxs(lV,{children:[z.jsxs(uV,{children:[z.jsx(cV,{children:"PDMS"}),z.jsx(hV,{children:"Pushcomz Design Management System"})]}),z.jsx(fV,{children:z.jsx(dV,{src:GA})}),z.jsxs(pV,{children:[z.jsx(mV,{type:"text",value:r,onChange:E=>t(E.target.value),placeholder:"이름을 입력해주세요."}),z.jsx(gV,{type:"text",value:n,onChange:E=>s(E.target.value),placeholder:"이메일을 입력해주세요."}),z.jsx(yV,{type:"password",value:o,onChange:E=>u(E.target.value),placeholder:"비밀번호를 입력해주세요."}),z.jsx(_V,{type:"password",value:f,onChange:E=>p(E.target.value),placeholder:"비밀번호 확인을 입력해주세요."})]}),z.jsx(vV,{onClick:g,children:"등록하기"})]})})}const oV=yt.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:r})=>r.colors.gray};
`,lV=yt.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:r})=>r.colors.white};
`,uV=yt.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,cV=yt.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:r})=>r.colors.navy};
`,hV=yt.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,fV=yt.div`
  margin-right: auto;
`,dV=yt.img`
  
`,pV=yt.div`
  ${({theme:r})=>r.mixin.flex("center","center")};
  flex-direction: column;
  gap: 10px;
`,mV=yt.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,gV=yt.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,yV=yt.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,_V=yt.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,vV=yt.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:r})=>r.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:r})=>r.colors.white};
`;function EV(){const[r,t]=G.useState(!1);return z.jsx(jR,{basename:"/pdms-test",children:z.jsxs(yR,{children:[z.jsx(Ch,{path:"/",element:z.jsx(f4,{onLoginSuccess:()=>t(!0)})}),z.jsx(Ch,{path:"/dashboard",element:r?z.jsx(iV,{}):z.jsx(mR,{to:"/"})}),z.jsx(Ch,{path:"/signup",element:z.jsx(aV,{})})]})})}const TV=WI`
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    height: 100vh;
  }

  li {
    list-style: none;
  }

  button {
    background-color: transparent;
    border: none;
    cursor: pointer;
    &:focus {
      outline: none;
    }
  }

  input {
    border: none;

    &:focus {
      outline: none;
    }
  }
`,SV={white:"#fff",navy:"#073863",gray:"#EFEFEF"},AV={flex:(r="flex-start",t="flex-start")=>`
    display: flex;
    align-items: ${r};
    justify-content: ${t}
  `},wV={colors:SV,mixin:AV};Rb.createRoot(document.getElementById("root")).render(z.jsx(G.StrictMode,{children:z.jsxs(KI,{theme:wV,children:[z.jsx(EV,{}),z.jsx(TV,{})]})}));
