var F2=Object.defineProperty;var q2=(e,t,n)=>t in e?F2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var wt=(e,t,n)=>q2(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function $2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var X_={exports:{}},gh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function H2(){if(GE)return gh;GE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,r){var l=null;if(r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),"key"in s){r={};for(var c in s)c!=="key"&&(r[c]=s[c])}else r=s;return s=r.ref,{$$typeof:e,type:i,key:l,ref:s!==void 0?s:null,props:r}}return gh.Fragment=t,gh.jsx=n,gh.jsxs=n,gh}var KE;function W2(){return KE||(KE=1,X_.exports=H2()),X_.exports}var v=W2(),Q_={exports:{}},Gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function Y2(){if(XE)return Gt;XE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function _(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function S(B,st,lt){this.props=B,this.context=st,this.refs=A,this.updater=lt||w}S.prototype.isReactComponent={},S.prototype.setState=function(B,st){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,st,"setState")},S.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function D(){}D.prototype=S.prototype;function I(B,st,lt){this.props=B,this.context=st,this.refs=A,this.updater=lt||w}var L=I.prototype=new D;L.constructor=I,E(L,S.prototype),L.isPureReactComponent=!0;var z=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function C(B,st,lt,ut,X,gt){return lt=gt.ref,{$$typeof:e,type:B,key:st,ref:lt!==void 0?lt:null,props:gt}}function R(B,st){return C(B.type,st,void 0,void 0,void 0,B.props)}function P(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function j(B){var st={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(lt){return st[lt]})}var U=/\/+/g;function $(B,st){return typeof B=="object"&&B!==null&&B.key!=null?j(""+B.key):st.toString(36)}function F(){}function Mt(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(F,F):(B.status="pending",B.then(function(st){B.status==="pending"&&(B.status="fulfilled",B.value=st)},function(st){B.status==="pending"&&(B.status="rejected",B.reason=st)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Q(B,st,lt,ut,X){var gt=typeof B;(gt==="undefined"||gt==="boolean")&&(B=null);var J=!1;if(B===null)J=!0;else switch(gt){case"bigint":case"string":case"number":J=!0;break;case"object":switch(B.$$typeof){case e:case t:J=!0;break;case p:return J=B._init,Q(J(B._payload),st,lt,ut,X)}}if(J)return X=X(B),J=ut===""?"."+$(B,0):ut,z(X)?(lt="",J!=null&&(lt=J.replace(U,"$&/")+"/"),Q(X,st,lt,"",function(vt){return vt})):X!=null&&(P(X)&&(X=R(X,lt+(X.key==null||B&&B.key===X.key?"":(""+X.key).replace(U,"$&/")+"/")+J)),st.push(X)),1;J=0;var pt=ut===""?".":ut+":";if(z(B))for(var yt=0;yt<B.length;yt++)ut=B[yt],gt=pt+$(ut,yt),J+=Q(ut,st,lt,gt,X);else if(yt=_(B),typeof yt=="function")for(B=yt.call(B),yt=0;!(ut=B.next()).done;)ut=ut.value,gt=pt+$(ut,yt++),J+=Q(ut,st,lt,gt,X);else if(gt==="object"){if(typeof B.then=="function")return Q(Mt(B),st,lt,ut,X);throw st=String(B),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return J}function q(B,st,lt){if(B==null)return B;var ut=[],X=0;return Q(B,ut,"","",function(gt){return st.call(lt,gt,X++)}),ut}function G(B){if(B._status===-1){var st=B._result;st=st(),st.then(function(lt){(B._status===0||B._status===-1)&&(B._status=1,B._result=lt)},function(lt){(B._status===0||B._status===-1)&&(B._status=2,B._result=lt)}),B._status===-1&&(B._status=0,B._result=st)}if(B._status===1)return B._result.default;throw B._result}var ot=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function it(){}return Gt.Children={map:q,forEach:function(B,st,lt){q(B,function(){st.apply(this,arguments)},lt)},count:function(B){var st=0;return q(B,function(){st++}),st},toArray:function(B){return q(B,function(st){return st})||[]},only:function(B){if(!P(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Gt.Component=S,Gt.Fragment=n,Gt.Profiler=s,Gt.PureComponent=I,Gt.StrictMode=i,Gt.Suspense=h,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Gt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return M.H.useMemoCache(B)}},Gt.cache=function(B){return function(){return B.apply(null,arguments)}},Gt.cloneElement=function(B,st,lt){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ut=E({},B.props),X=B.key,gt=void 0;if(st!=null)for(J in st.ref!==void 0&&(gt=void 0),st.key!==void 0&&(X=""+st.key),st)!Y.call(st,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&st.ref===void 0||(ut[J]=st[J]);var J=arguments.length-2;if(J===1)ut.children=lt;else if(1<J){for(var pt=Array(J),yt=0;yt<J;yt++)pt[yt]=arguments[yt+2];ut.children=pt}return C(B.type,X,void 0,void 0,gt,ut)},Gt.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:r,_context:B},B},Gt.createElement=function(B,st,lt){var ut,X={},gt=null;if(st!=null)for(ut in st.key!==void 0&&(gt=""+st.key),st)Y.call(st,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(X[ut]=st[ut]);var J=arguments.length-2;if(J===1)X.children=lt;else if(1<J){for(var pt=Array(J),yt=0;yt<J;yt++)pt[yt]=arguments[yt+2];X.children=pt}if(B&&B.defaultProps)for(ut in J=B.defaultProps,J)X[ut]===void 0&&(X[ut]=J[ut]);return C(B,gt,void 0,void 0,null,X)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(B){return{$$typeof:c,render:B}},Gt.isValidElement=P,Gt.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:G}},Gt.memo=function(B,st){return{$$typeof:f,type:B,compare:st===void 0?null:st}},Gt.startTransition=function(B){var st=M.T,lt={};M.T=lt;try{var ut=B(),X=M.S;X!==null&&X(lt,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(it,ot)}catch(gt){ot(gt)}finally{M.T=st}},Gt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Gt.use=function(B){return M.H.use(B)},Gt.useActionState=function(B,st,lt){return M.H.useActionState(B,st,lt)},Gt.useCallback=function(B,st){return M.H.useCallback(B,st)},Gt.useContext=function(B){return M.H.useContext(B)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(B,st){return M.H.useDeferredValue(B,st)},Gt.useEffect=function(B,st,lt){var ut=M.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ut.useEffect(B,st)},Gt.useId=function(){return M.H.useId()},Gt.useImperativeHandle=function(B,st,lt){return M.H.useImperativeHandle(B,st,lt)},Gt.useInsertionEffect=function(B,st){return M.H.useInsertionEffect(B,st)},Gt.useLayoutEffect=function(B,st){return M.H.useLayoutEffect(B,st)},Gt.useMemo=function(B,st){return M.H.useMemo(B,st)},Gt.useOptimistic=function(B,st){return M.H.useOptimistic(B,st)},Gt.useReducer=function(B,st,lt){return M.H.useReducer(B,st,lt)},Gt.useRef=function(B){return M.H.useRef(B)},Gt.useState=function(B){return M.H.useState(B)},Gt.useSyncExternalStore=function(B,st,lt){return M.H.useSyncExternalStore(B,st,lt)},Gt.useTransition=function(){return M.H.useTransition()},Gt.version="19.1.0",Gt}var QE;function iv(){return QE||(QE=1,Q_.exports=Y2()),Q_.exports}var V=iv();const Et=$2(V);var Z_={exports:{}},mh={},J_={exports:{}},tb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZE;function G2(){return ZE||(ZE=1,function(e){function t(q,G){var ot=q.length;q.push(G);t:for(;0<ot;){var it=ot-1>>>1,B=q[it];if(0<s(B,G))q[it]=G,q[ot]=B,ot=it;else break t}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var G=q[0],ot=q.pop();if(ot!==G){q[0]=ot;t:for(var it=0,B=q.length,st=B>>>1;it<st;){var lt=2*(it+1)-1,ut=q[lt],X=lt+1,gt=q[X];if(0>s(ut,ot))X<B&&0>s(gt,ut)?(q[it]=gt,q[X]=ot,it=X):(q[it]=ut,q[lt]=ot,it=lt);else if(X<B&&0>s(gt,ot))q[it]=gt,q[X]=ot,it=X;else break t}}return G}function s(q,G){var ot=q.sortIndex-G.sortIndex;return ot!==0?ot:q.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var h=[],f=[],p=1,y=null,_=3,w=!1,E=!1,A=!1,S=!1,D=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function z(q){for(var G=n(f);G!==null;){if(G.callback===null)i(f);else if(G.startTime<=q)i(f),G.sortIndex=G.expirationTime,t(h,G);else break;G=n(f)}}function M(q){if(A=!1,z(q),!E)if(n(h)!==null)E=!0,Y||(Y=!0,$());else{var G=n(f);G!==null&&Q(M,G.startTime-q)}}var Y=!1,C=-1,R=5,P=-1;function j(){return S?!0:!(e.unstable_now()-P<R)}function U(){if(S=!1,Y){var q=e.unstable_now();P=q;var G=!0;try{t:{E=!1,A&&(A=!1,I(C),C=-1),w=!0;var ot=_;try{e:{for(z(q),y=n(h);y!==null&&!(y.expirationTime>q&&j());){var it=y.callback;if(typeof it=="function"){y.callback=null,_=y.priorityLevel;var B=it(y.expirationTime<=q);if(q=e.unstable_now(),typeof B=="function"){y.callback=B,z(q),G=!0;break e}y===n(h)&&i(h),z(q)}else i(h);y=n(h)}if(y!==null)G=!0;else{var st=n(f);st!==null&&Q(M,st.startTime-q),G=!1}}break t}finally{y=null,_=ot,w=!1}G=void 0}}finally{G?$():Y=!1}}}var $;if(typeof L=="function")$=function(){L(U)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Mt=F.port2;F.port1.onmessage=U,$=function(){Mt.postMessage(null)}}else $=function(){D(U,0)};function Q(q,G){C=D(function(){q(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(q){switch(_){case 1:case 2:case 3:var G=3;break;default:G=_}var ot=_;_=G;try{return q()}finally{_=ot}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(q,G){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ot=_;_=q;try{return G()}finally{_=ot}},e.unstable_scheduleCallback=function(q,G,ot){var it=e.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?it+ot:it):ot=it,q){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ot+B,q={id:p++,callback:G,priorityLevel:q,startTime:ot,expirationTime:B,sortIndex:-1},ot>it?(q.sortIndex=ot,t(f,q),n(h)===null&&q===n(f)&&(A?(I(C),C=-1):A=!0,Q(M,ot-it))):(q.sortIndex=B,t(h,q),E||w||(E=!0,Y||(Y=!0,$()))),q},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(q){var G=_;return function(){var ot=_;_=G;try{return q.apply(this,arguments)}finally{_=ot}}}}(tb)),tb}var JE;function K2(){return JE||(JE=1,J_.exports=G2()),J_.exports}var eb={exports:{}},ni={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS;function X2(){if(tS)return ni;tS=1;var e=iv();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(h,f,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ni.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ni.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return r(h,f,null,p)},ni.flushSync=function(h){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=p,i.d.f()}},ni.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},ni.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},ni.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,y=c(p,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:w}):p==="script"&&i.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ni.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},ni.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,y=c(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ni.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=c(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},ni.requestFormReset=function(h){i.d.r(h)},ni.unstable_batchedUpdates=function(h,f){return h(f)},ni.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},ni.useFormStatus=function(){return l.H.useHostTransitionStatus()},ni.version="19.1.0",ni}var eS;function Q2(){if(eS)return eb.exports;eS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),eb.exports=X2(),eb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS;function Z2(){if(nS)return mh;nS=1;var e=K2(),t=iv(),n=Q2();function i(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function r(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(r(a)!==a)throw Error(i(188))}function h(a){var o=a.alternate;if(!o){if(o=r(a),o===null)throw Error(i(188));return o!==a?null:a}for(var u=a,d=o;;){var m=u.return;if(m===null)break;var b=m.alternate;if(b===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===u)return c(m),a;if(b===d)return c(m),o;b=b.sibling}throw Error(i(188))}if(u.return!==d.return)u=m,d=b;else{for(var k=!1,O=m.child;O;){if(O===u){k=!0,u=m,d=b;break}if(O===d){k=!0,d=m,u=b;break}O=O.sibling}if(!k){for(O=b.child;O;){if(O===u){k=!0,u=b,d=m;break}if(O===d){k=!0,d=b,u=m;break}O=O.sibling}if(!k)throw Error(i(189))}}if(u.alternate!==d)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?a:o}function f(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=f(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),L=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function $(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var F=Symbol.for("react.client.reference");function Mt(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===F?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case S:return"Profiler";case A:return"StrictMode";case M:return"Suspense";case Y:return"SuspenseList";case P:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case L:return(a.displayName||"Context")+".Provider";case I:return(a._context.displayName||"Context")+".Consumer";case z:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case C:return o=a.displayName||null,o!==null?o:Mt(a.type)||"Memo";case R:o=a._payload,a=a._init;try{return Mt(a(o))}catch{}}return null}var Q=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},it=[],B=-1;function st(a){return{current:a}}function lt(a){0>B||(a.current=it[B],it[B]=null,B--)}function ut(a,o){B++,it[B]=a.current,a.current=o}var X=st(null),gt=st(null),J=st(null),pt=st(null);function yt(a,o){switch(ut(J,o),ut(gt,a),ut(X,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?wE(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=wE(o),a=EE(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}lt(X),ut(X,a)}function vt(){lt(X),lt(gt),lt(J)}function Tt(a){a.memoizedState!==null&&ut(pt,a);var o=X.current,u=EE(o,a.type);o!==u&&(ut(gt,a),ut(X,u))}function Bt(a){gt.current===a&&(lt(X),lt(gt)),pt.current===a&&(lt(pt),uh._currentValue=ot)}var ae=Object.prototype.hasOwnProperty,An=e.unstable_scheduleCallback,Jn=e.unstable_cancelCallback,qi=e.unstable_shouldYield,hi=e.unstable_requestPaint,kn=e.unstable_now,ur=e.unstable_getCurrentPriorityLevel,bt=e.unstable_ImmediatePriority,It=e.unstable_UserBlockingPriority,kt=e.unstable_NormalPriority,At=e.unstable_LowPriority,Qt=e.unstable_IdlePriority,ti=e.log,bi=e.unstable_setDisableYieldValue,me=null,pe=null;function fi(a){if(typeof ti=="function"&&bi(a),pe&&typeof pe.setStrictMode=="function")try{pe.setStrictMode(me,a)}catch{}}var Rn=Math.clz32?Math.clz32:hr,Ml=Math.log,pu=Math.LN2;function hr(a){return a>>>=0,a===0?32:31-(Ml(a)/pu|0)|0}var fr=256,dr=4194304;function Ri(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function pr(a,o,u){var d=a.pendingLanes;if(d===0)return 0;var m=0,b=a.suspendedLanes,k=a.pingedLanes;a=a.warmLanes;var O=d&134217727;return O!==0?(d=O&~b,d!==0?m=Ri(d):(k&=O,k!==0?m=Ri(k):u||(u=O&~a,u!==0&&(m=Ri(u))))):(O=d&~b,O!==0?m=Ri(O):k!==0?m=Ri(k):u||(u=d&~a,u!==0&&(m=Ri(u)))),m===0?0:o!==0&&o!==m&&(o&b)===0&&(b=m&-m,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:m}function gr(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function la(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ht(){var a=fr;return fr<<=1,(fr&4194048)===0&&(fr=256),a}function ye(){var a=dr;return dr<<=1,(dr&62914560)===0&&(dr=4194304),a}function Vt(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function he(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Cn(a,o,u,d,m,b){var k=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var O=a.entanglements,W=a.expirationTimes,nt=a.hiddenUpdates;for(u=k&~u;0<u;){var ht=31-Rn(u),mt=1<<ht;O[ht]=0,W[ht]=-1;var rt=nt[ht];if(rt!==null)for(nt[ht]=null,ht=0;ht<rt.length;ht++){var at=rt[ht];at!==null&&(at.lane&=-536870913)}u&=~mt}d!==0&&Wt(a,d,0),b!==0&&m===0&&a.tag!==0&&(a.suspendedLanes|=b&~(k&~o))}function Wt(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var d=31-Rn(o);a.entangledLanes|=o,a.entanglements[d]=a.entanglements[d]|1073741824|u&4194090}function vo(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var d=31-Rn(u),m=1<<d;m&o|a[d]&o&&(a[d]|=o),u&=~m}}function As(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ca(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function $i(){var a=G.p;return a!==0?a:(a=window.event,a===void 0?32:FE(a.type))}function ua(a,o){var u=G.p;try{return G.p=a,o()}finally{G.p=u}}var Be=Math.random().toString(36).slice(2),bn="__reactFiber$"+Be,an="__reactProps$"+Be,Hi="__reactContainer$"+Be,gu="__reactEvents$"+Be,Jm="__reactListeners$"+Be,ha="__reactHandles$"+Be,nd="__reactResources$"+Be,xo="__reactMarker$"+Be;function fa(a){delete a[bn],delete a[an],delete a[gu],delete a[Jm],delete a[ha]}function mr(a){var o=a[bn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[Hi]||u[bn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=kE(a);a!==null;){if(u=a[bn])return u;a=kE(a)}return o}a=u,u=a.parentNode}return null}function ks(a){if(a=a[bn]||a[Hi]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function Rs(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(i(33))}function di(a){var o=a[nd];return o||(o=a[nd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Je(a){a[xo]=!0}var mu=new Set,Il={};function cs(a,o){yr(a,o),yr(a+"Capture",o)}function yr(a,o){for(Il[a]=o,a=0;a<o.length;a++)mu.add(o[a])}var id=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sd={},wo={};function rd(a){return ae.call(wo,a)?!0:ae.call(sd,a)?!1:id.test(a)?wo[a]=!0:(sd[a]=!0,!1)}function da(a,o,u){if(rd(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function Cs(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function Fn(a,o,u,d){if(d===null)a.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+d)}}var Eo,ad;function _r(a){if(Eo===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Eo=o&&o[1]||"",ad=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Eo+a+ad}var Ol=!1;function Pl(a,o){if(!a||Ol)return"";Ol=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(at){var rt=at}Reflect.construct(a,[],mt)}else{try{mt.call()}catch(at){rt=at}a.call(mt.prototype)}}else{try{throw Error()}catch(at){rt=at}(mt=a())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(at){if(at&&rt&&typeof at.stack=="string")return[at.stack,rt.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),k=b[0],O=b[1];if(k&&O){var W=k.split(`
`),nt=O.split(`
`);for(m=d=0;d<W.length&&!W[d].includes("DetermineComponentFrameRoot");)d++;for(;m<nt.length&&!nt[m].includes("DetermineComponentFrameRoot");)m++;if(d===W.length||m===nt.length)for(d=W.length-1,m=nt.length-1;1<=d&&0<=m&&W[d]!==nt[m];)m--;for(;1<=d&&0<=m;d--,m--)if(W[d]!==nt[m]){if(d!==1||m!==1)do if(d--,m--,0>m||W[d]!==nt[m]){var ht=`
`+W[d].replace(" at new "," at ");return a.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",a.displayName)),ht}while(1<=d&&0<=m);break}}}finally{Ol=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?_r(u):""}function yu(a){switch(a.tag){case 26:case 27:case 5:return _r(a.type);case 16:return _r("Lazy");case 13:return _r("Suspense");case 19:return _r("SuspenseList");case 0:case 15:return Pl(a.type,!1);case 11:return Pl(a.type.render,!1);case 1:return Pl(a.type,!0);case 31:return _r("Activity");default:return""}}function Nl(a){try{var o="";do o+=yu(a),a=a.return;while(a);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function pi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function _u(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ty(a){var o=_u(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),d=""+a[o];if(!a.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,b=u.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return m.call(this)},set:function(k){d=""+k,b.call(this,k)}}),Object.defineProperty(a,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(k){d=""+k},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Ll(a){a._valueTracker||(a._valueTracker=ty(a))}function bu(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return a&&(d=_u(a)?a.checked?"true":"false":a.value),a=d,a!==u?(o.setValue(a),!0):!1}function So(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var ey=/[\n"\\]/g;function on(a){return a.replace(ey,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ci(a,o,u,d,m,b,k,O){a.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.type=k:a.removeAttribute("type"),o!=null?k==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+pi(o)):a.value!==""+pi(o)&&(a.value=""+pi(o)):k!=="submit"&&k!=="reset"||a.removeAttribute("value"),o!=null?pa(a,k,pi(o)):u!=null?pa(a,k,pi(u)):d!=null&&a.removeAttribute("value"),m==null&&b!=null&&(a.defaultChecked=!!b),m!=null&&(a.checked=m&&typeof m!="function"&&typeof m!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.name=""+pi(O):a.removeAttribute("name")}function To(a,o,u,d,m,b,k,O){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;u=u!=null?""+pi(u):"",o=o!=null?""+pi(o):u,O||o===a.value||(a.value=o),a.defaultValue=o}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=O?a.checked:!!d,a.defaultChecked=!!d,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.name=k)}function pa(a,o,u){o==="number"&&So(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function br(a,o,u,d){if(a=a.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<a.length;u++)m=o.hasOwnProperty("$"+a[u].value),a[u].selected!==m&&(a[u].selected=m),m&&d&&(a[u].defaultSelected=!0)}else{for(u=""+pi(u),o=null,m=0;m<a.length;m++){if(a[m].value===u){a[m].selected=!0,d&&(a[m].defaultSelected=!0);return}o!==null||a[m].disabled||(o=a[m])}o!==null&&(o.selected=!0)}}function Te(a,o,u){if(o!=null&&(o=""+pi(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+pi(u):""}function Ao(a,o,u,d){if(o==null){if(d!=null){if(u!=null)throw Error(i(92));if(Q(d)){if(1<d.length)throw Error(i(93));d=d[0]}u=d}u==null&&(u=""),o=u}u=pi(o),a.defaultValue=u,d=a.textContent,d===u&&d!==""&&d!==null&&(a.value=d)}function Wi(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var ko=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function od(a,o,u){var d=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":d?a.setProperty(o,u):typeof u!="number"||u===0||ko.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function vu(a,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(a=a.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var m in o)d=o[m],o.hasOwnProperty(m)&&u[m]!==d&&od(a,m,d)}else for(var b in o)o.hasOwnProperty(b)&&od(a,b,o[b])}function xu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ny=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vl(a){return iy.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var vr=null;function Yi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var xr=null,wr=null;function wu(a){var o=ks(a);if(o&&(a=o.stateNode)){var u=a[an]||null;t:switch(a=o.stateNode,o.type){case"input":if(Ci(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+on(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==a&&d.form===a.form){var m=d[an]||null;if(!m)throw Error(i(90));Ci(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<u.length;o++)d=u[o],d.form===a.form&&bu(d)}break t;case"textarea":Te(a,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&br(a,!!u.multiple,o,!1)}}}var Ds=!1;function ld(a,o,u){if(Ds)return a(o,u);Ds=!0;try{var d=a(o);return d}finally{if(Ds=!1,(xr!==null||wr!==null)&&(ep(),xr&&(o=xr,a=wr,wr=xr=null,wu(o),a)))for(o=0;o<a.length;o++)wu(a[o])}}function Ro(a,o){var u=a.stateNode;if(u===null)return null;var d=u[an]||null;if(d===null)return null;u=d[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break t;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gi=!1;if(us)try{var Co={};Object.defineProperty(Co,"passive",{get:function(){Gi=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{Gi=!1}var Ms=null,ga=null,Er=null;function Eu(){if(Er)return Er;var a,o=ga,u=o.length,d,m="value"in Ms?Ms.value:Ms.textContent,b=m.length;for(a=0;a<u&&o[a]===m[a];a++);var k=u-a;for(d=1;d<=k&&o[u-d]===m[b-d];d++);return Er=m.slice(a,1<d?1-d:void 0)}function Is(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Os(){return!0}function Su(){return!1}function Dn(a){function o(u,d,m,b,k){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var O in a)a.hasOwnProperty(O)&&(u=a[O],this[O]=u?u(b):b[O]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Os:Su,this.isPropagationStopped=Su,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Os)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Os)},persist:function(){},isPersistent:Os}),o}var _e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=Dn(_e),Do=p({},_e,{view:0,detail:0}),cd=Dn(Do),Ul,zl,Ps,Mo=p({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Po,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ps&&(Ps&&a.type==="mousemove"?(Ul=a.screenX-Ps.screenX,zl=a.screenY-Ps.screenY):zl=Ul=0,Ps=a),Ul)},movementY:function(a){return"movementY"in a?a.movementY:zl}}),Ki=Dn(Mo),ud=p({},Mo,{dataTransfer:0}),sy=Dn(ud),Io=p({},Do,{relatedTarget:0}),Bl=Dn(Io),Tu=p({},_e,{animationName:0,elapsedTime:0,pseudoElement:0}),Fl=Dn(Tu),hd=p({},_e,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ql=Dn(hd),ry=p({},_e,{data:0}),Au=Dn(ry),Oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=dd[a])?!!o[a]:!1}function Po(){return ku}var pd=p({},Do,{key:function(a){if(a.key){var o=Oo[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Is(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?fd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Po,charCode:function(a){return a.type==="keypress"?Is(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Is(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),$l=Dn(pd),gd=p({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ru=Dn(gd),Sr=p({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Po}),md=Dn(Sr),yd=p({},_e,{propertyName:0,elapsedTime:0,pseudoElement:0}),_d=Dn(yd),bd=p({},Mo,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Hl=Dn(bd),gi=p({},_e,{newState:0,oldState:0}),vd=Dn(gi),xd=[9,13,27,32],Ns=us&&"CompositionEvent"in window,g=null;us&&"documentMode"in document&&(g=document.documentMode);var x=us&&"TextEvent"in window&&!g,T=us&&(!Ns||g&&8<g&&11>=g),N=" ",tt=!1;function ct(a,o){switch(a){case"keyup":return xd.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xt(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var oe=!1;function vn(a,o){switch(a){case"compositionend":return xt(o);case"keypress":return o.which!==32?null:(tt=!0,N);case"textInput":return a=o.data,a===N&&tt?null:a;default:return null}}function le(a,o){if(oe)return a==="compositionend"||!Ns&&ct(a,o)?(a=Eu(),Er=ga=Ms=null,oe=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return T&&o.locale!=="ko"?null:o.data;default:return null}}var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xn(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Mn[a.type]:o==="textarea"}function Tr(a,o,u,d){xr?wr?wr.push(d):wr=[d]:xr=d,o=op(o,"onChange"),0<o.length&&(u=new jl("onChange","change",null,u,d),a.push({event:u,listeners:o}))}var qn=null,Ls=null;function Cu(a){yE(a,0)}function wd(a){var o=Rs(a);if(bu(o))return a}function jx(a,o){if(a==="change")return o}var Ux=!1;if(us){var ay;if(us){var oy="oninput"in document;if(!oy){var zx=document.createElement("div");zx.setAttribute("oninput","return;"),oy=typeof zx.oninput=="function"}ay=oy}else ay=!1;Ux=ay&&(!document.documentMode||9<document.documentMode)}function Bx(){qn&&(qn.detachEvent("onpropertychange",Fx),Ls=qn=null)}function Fx(a){if(a.propertyName==="value"&&wd(Ls)){var o=[];Tr(o,Ls,a,Yi(a)),ld(Cu,o)}}function _O(a,o,u){a==="focusin"?(Bx(),qn=o,Ls=u,qn.attachEvent("onpropertychange",Fx)):a==="focusout"&&Bx()}function bO(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return wd(Ls)}function vO(a,o){if(a==="click")return wd(o)}function xO(a,o){if(a==="input"||a==="change")return wd(o)}function wO(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Di=typeof Object.is=="function"?Object.is:wO;function Du(a,o){if(Di(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!ae.call(o,m)||!Di(a[m],o[m]))return!1}return!0}function qx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function $x(a,o){var u=qx(a);a=0;for(var d;u;){if(u.nodeType===3){if(d=a+u.textContent.length,a<=o&&d>=o)return{node:u,offset:o-a};a=d}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=qx(u)}}function Hx(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Hx(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Wx(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=So(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=So(a.document)}return o}function ly(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var EO=us&&"documentMode"in document&&11>=document.documentMode,Wl=null,cy=null,Mu=null,uy=!1;function Yx(a,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;uy||Wl==null||Wl!==So(d)||(d=Wl,"selectionStart"in d&&ly(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Mu&&Du(Mu,d)||(Mu=d,d=op(cy,"onSelect"),0<d.length&&(o=new jl("onSelect","select",null,o,u),a.push({event:o,listeners:d}),o.target=Wl)))}function No(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var Yl={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionrun:No("Transition","TransitionRun"),transitionstart:No("Transition","TransitionStart"),transitioncancel:No("Transition","TransitionCancel"),transitionend:No("Transition","TransitionEnd")},hy={},Gx={};us&&(Gx=document.createElement("div").style,"AnimationEvent"in window||(delete Yl.animationend.animation,delete Yl.animationiteration.animation,delete Yl.animationstart.animation),"TransitionEvent"in window||delete Yl.transitionend.transition);function Lo(a){if(hy[a])return hy[a];if(!Yl[a])return a;var o=Yl[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in Gx)return hy[a]=o[u];return a}var Kx=Lo("animationend"),Xx=Lo("animationiteration"),Qx=Lo("animationstart"),SO=Lo("transitionrun"),TO=Lo("transitionstart"),AO=Lo("transitioncancel"),Zx=Lo("transitionend"),Jx=new Map,fy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fy.push("scrollEnd");function hs(a,o){Jx.set(a,o),cs(o,[a])}var tw=new WeakMap;function Xi(a,o){if(typeof a=="object"&&a!==null){var u=tw.get(a);return u!==void 0?u:(o={value:a,source:o,stack:Nl(o)},tw.set(a,o),o)}return{value:a,source:o,stack:Nl(o)}}var Qi=[],Gl=0,dy=0;function Ed(){for(var a=Gl,o=dy=Gl=0;o<a;){var u=Qi[o];Qi[o++]=null;var d=Qi[o];Qi[o++]=null;var m=Qi[o];Qi[o++]=null;var b=Qi[o];if(Qi[o++]=null,d!==null&&m!==null){var k=d.pending;k===null?m.next=m:(m.next=k.next,k.next=m),d.pending=m}b!==0&&ew(u,m,b)}}function Sd(a,o,u,d){Qi[Gl++]=a,Qi[Gl++]=o,Qi[Gl++]=u,Qi[Gl++]=d,dy|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function py(a,o,u,d){return Sd(a,o,u,d),Td(a)}function Kl(a,o){return Sd(a,null,null,o),Td(a)}function ew(a,o,u){a.lanes|=u;var d=a.alternate;d!==null&&(d.lanes|=u);for(var m=!1,b=a.return;b!==null;)b.childLanes|=u,d=b.alternate,d!==null&&(d.childLanes|=u),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(m=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,m&&o!==null&&(m=31-Rn(u),a=b.hiddenUpdates,d=a[m],d===null?a[m]=[o]:d.push(o),o.lane=u|536870912),b):null}function Td(a){if(50<nh)throw nh=0,v_=null,Error(i(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Xl={};function kO(a,o,u,d){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(a,o,u,d){return new kO(a,o,u,d)}function gy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ar(a,o){var u=a.alternate;return u===null?(u=Mi(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function nw(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Ad(a,o,u,d,m,b){var k=0;if(d=a,typeof a=="function")gy(a)&&(k=1);else if(typeof a=="string")k=C2(a,u,X.current)?26:a==="html"||a==="head"||a==="body"?27:5;else t:switch(a){case P:return a=Mi(31,u,o,m),a.elementType=P,a.lanes=b,a;case E:return Vo(u.children,m,b,o);case A:k=8,m|=24;break;case S:return a=Mi(12,u,o,m|2),a.elementType=S,a.lanes=b,a;case M:return a=Mi(13,u,o,m),a.elementType=M,a.lanes=b,a;case Y:return a=Mi(19,u,o,m),a.elementType=Y,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:case L:k=10;break t;case I:k=9;break t;case z:k=11;break t;case C:k=14;break t;case R:k=16,d=null;break t}k=29,u=Error(i(130,a===null?"null":typeof a,"")),d=null}return o=Mi(k,u,o,m),o.elementType=a,o.type=d,o.lanes=b,o}function Vo(a,o,u,d){return a=Mi(7,a,d,o),a.lanes=u,a}function my(a,o,u){return a=Mi(6,a,null,o),a.lanes=u,a}function yy(a,o,u){return o=Mi(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var Ql=[],Zl=0,kd=null,Rd=0,Zi=[],Ji=0,jo=null,kr=1,Rr="";function Uo(a,o){Ql[Zl++]=Rd,Ql[Zl++]=kd,kd=a,Rd=o}function iw(a,o,u){Zi[Ji++]=kr,Zi[Ji++]=Rr,Zi[Ji++]=jo,jo=a;var d=kr;a=Rr;var m=32-Rn(d)-1;d&=~(1<<m),u+=1;var b=32-Rn(o)+m;if(30<b){var k=m-m%5;b=(d&(1<<k)-1).toString(32),d>>=k,m-=k,kr=1<<32-Rn(o)+m|u<<m|d,Rr=b+a}else kr=1<<b|u<<m|d,Rr=a}function _y(a){a.return!==null&&(Uo(a,1),iw(a,1,0))}function by(a){for(;a===kd;)kd=Ql[--Zl],Ql[Zl]=null,Rd=Ql[--Zl],Ql[Zl]=null;for(;a===jo;)jo=Zi[--Ji],Zi[Ji]=null,Rr=Zi[--Ji],Zi[Ji]=null,kr=Zi[--Ji],Zi[Ji]=null}var mi=null,Ge=null,ge=!1,zo=null,Vs=!1,vy=Error(i(519));function Bo(a){var o=Error(i(418,""));throw Pu(Xi(o,a)),vy}function sw(a){var o=a.stateNode,u=a.type,d=a.memoizedProps;switch(o[bn]=a,o[an]=d,u){case"dialog":ee("cancel",o),ee("close",o);break;case"iframe":case"object":case"embed":ee("load",o);break;case"video":case"audio":for(u=0;u<sh.length;u++)ee(sh[u],o);break;case"source":ee("error",o);break;case"img":case"image":case"link":ee("error",o),ee("load",o);break;case"details":ee("toggle",o);break;case"input":ee("invalid",o),To(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Ll(o);break;case"select":ee("invalid",o);break;case"textarea":ee("invalid",o),Ao(o,d.value,d.defaultValue,d.children),Ll(o)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||d.suppressHydrationWarning===!0||xE(o.textContent,u)?(d.popover!=null&&(ee("beforetoggle",o),ee("toggle",o)),d.onScroll!=null&&ee("scroll",o),d.onScrollEnd!=null&&ee("scrollend",o),d.onClick!=null&&(o.onclick=lp),o=!0):o=!1,o||Bo(a)}function rw(a){for(mi=a.return;mi;)switch(mi.tag){case 5:case 13:Vs=!1;return;case 27:case 3:Vs=!0;return;default:mi=mi.return}}function Iu(a){if(a!==mi)return!1;if(!ge)return rw(a),ge=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||L_(a.type,a.memoizedProps)),u=!u),u&&Ge&&Bo(a),rw(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));t:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(o===0){Ge=ds(a.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;a=a.nextSibling}Ge=null}}else o===27?(o=Ge,Ma(a.type)?(a=z_,z_=null,Ge=a):Ge=o):Ge=mi?ds(a.stateNode.nextSibling):null;return!0}function Ou(){Ge=mi=null,ge=!1}function aw(){var a=zo;return a!==null&&(wi===null?wi=a:wi.push.apply(wi,a),zo=null),a}function Pu(a){zo===null?zo=[a]:zo.push(a)}var xy=st(null),Fo=null,Cr=null;function ma(a,o,u){ut(xy,o._currentValue),o._currentValue=u}function Dr(a){a._currentValue=xy.current,lt(xy)}function wy(a,o,u){for(;a!==null;){var d=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),a===u)break;a=a.return}}function Ey(a,o,u,d){var m=a.child;for(m!==null&&(m.return=a);m!==null;){var b=m.dependencies;if(b!==null){var k=m.child;b=b.firstContext;t:for(;b!==null;){var O=b;b=m;for(var W=0;W<o.length;W++)if(O.context===o[W]){b.lanes|=u,O=b.alternate,O!==null&&(O.lanes|=u),wy(b.return,u,a),d||(k=null);break t}b=O.next}}else if(m.tag===18){if(k=m.return,k===null)throw Error(i(341));k.lanes|=u,b=k.alternate,b!==null&&(b.lanes|=u),wy(k,u,a),k=null}else k=m.child;if(k!==null)k.return=m;else for(k=m;k!==null;){if(k===a){k=null;break}if(m=k.sibling,m!==null){m.return=k.return,k=m;break}k=k.return}m=k}}function Nu(a,o,u,d){a=null;for(var m=o,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var k=m.alternate;if(k===null)throw Error(i(387));if(k=k.memoizedProps,k!==null){var O=m.type;Di(m.pendingProps.value,k.value)||(a!==null?a.push(O):a=[O])}}else if(m===pt.current){if(k=m.alternate,k===null)throw Error(i(387));k.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(a!==null?a.push(uh):a=[uh])}m=m.return}a!==null&&Ey(o,a,u,d),o.flags|=262144}function Cd(a){for(a=a.firstContext;a!==null;){if(!Di(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function qo(a){Fo=a,Cr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ei(a){return ow(Fo,a)}function Dd(a,o){return Fo===null&&qo(a),ow(a,o)}function ow(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Cr===null){if(a===null)throw Error(i(308));Cr=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Cr=Cr.next=o;return u}var RO=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,d){a.push(d)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},CO=e.unstable_scheduleCallback,DO=e.unstable_NormalPriority,wn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sy(){return{controller:new RO,data:new Map,refCount:0}}function Lu(a){a.refCount--,a.refCount===0&&CO(DO,function(){a.controller.abort()})}var Vu=null,Ty=0,Jl=0,tc=null;function MO(a,o){if(Vu===null){var u=Vu=[];Ty=0,Jl=k_(),tc={status:"pending",value:void 0,then:function(d){u.push(d)}}}return Ty++,o.then(lw,lw),o}function lw(){if(--Ty===0&&Vu!==null){tc!==null&&(tc.status="fulfilled");var a=Vu;Vu=null,Jl=0,tc=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function IO(a,o){var u=[],d={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return a.then(function(){d.status="fulfilled",d.value=o;for(var m=0;m<u.length;m++)(0,u[m])(o)},function(m){for(d.status="rejected",d.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),d}var cw=q.S;q.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&MO(a,o),cw!==null&&cw(a,o)};var $o=st(null);function Ay(){var a=$o.current;return a!==null?a:Oe.pooledCache}function Md(a,o){o===null?ut($o,$o.current):ut($o,o.pool)}function uw(){var a=Ay();return a===null?null:{parent:wn._currentValue,pool:a}}var ju=Error(i(460)),hw=Error(i(474)),Id=Error(i(542)),ky={then:function(){}};function fw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Od(){}function dw(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Od,Od),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,gw(a),a;default:if(typeof o.status=="string")o.then(Od,Od);else{if(a=Oe,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=o,a.status="pending",a.then(function(d){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=d}},function(d){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,gw(a),a}throw Uu=o,ju}}var Uu=null;function pw(){if(Uu===null)throw Error(i(459));var a=Uu;return Uu=null,a}function gw(a){if(a===ju||a===Id)throw Error(i(483))}var ya=!1;function Ry(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cy(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function _a(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ba(a,o,u){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(we&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,o=Td(a),ew(a,null,u),o}return Sd(a,d,o,u),Td(a)}function zu(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var d=o.lanes;d&=a.pendingLanes,u|=d,o.lanes=u,vo(a,u)}}function Dy(a,o){var u=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var k={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?m=b=k:b=b.next=k,u=u.next}while(u!==null);b===null?m=b=o:b=b.next=o}else m=b=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var My=!1;function Bu(){if(My){var a=tc;if(a!==null)throw a}}function Fu(a,o,u,d){My=!1;var m=a.updateQueue;ya=!1;var b=m.firstBaseUpdate,k=m.lastBaseUpdate,O=m.shared.pending;if(O!==null){m.shared.pending=null;var W=O,nt=W.next;W.next=null,k===null?b=nt:k.next=nt,k=W;var ht=a.alternate;ht!==null&&(ht=ht.updateQueue,O=ht.lastBaseUpdate,O!==k&&(O===null?ht.firstBaseUpdate=nt:O.next=nt,ht.lastBaseUpdate=W))}if(b!==null){var mt=m.baseState;k=0,ht=nt=W=null,O=b;do{var rt=O.lane&-536870913,at=rt!==O.lane;if(at?(ce&rt)===rt:(d&rt)===rt){rt!==0&&rt===Jl&&(My=!0),ht!==null&&(ht=ht.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});t:{var zt=a,Nt=O;rt=o;var Re=u;switch(Nt.tag){case 1:if(zt=Nt.payload,typeof zt=="function"){mt=zt.call(Re,mt,rt);break t}mt=zt;break t;case 3:zt.flags=zt.flags&-65537|128;case 0:if(zt=Nt.payload,rt=typeof zt=="function"?zt.call(Re,mt,rt):zt,rt==null)break t;mt=p({},mt,rt);break t;case 2:ya=!0}}rt=O.callback,rt!==null&&(a.flags|=64,at&&(a.flags|=8192),at=m.callbacks,at===null?m.callbacks=[rt]:at.push(rt))}else at={lane:rt,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ht===null?(nt=ht=at,W=mt):ht=ht.next=at,k|=rt;if(O=O.next,O===null){if(O=m.shared.pending,O===null)break;at=O,O=at.next,at.next=null,m.lastBaseUpdate=at,m.shared.pending=null}}while(!0);ht===null&&(W=mt),m.baseState=W,m.firstBaseUpdate=nt,m.lastBaseUpdate=ht,b===null&&(m.shared.lanes=0),ka|=k,a.lanes=k,a.memoizedState=mt}}function mw(a,o){if(typeof a!="function")throw Error(i(191,a));a.call(o)}function yw(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)mw(u[a],o)}var ec=st(null),Pd=st(0);function _w(a,o){a=Vr,ut(Pd,a),ut(ec,o),Vr=a|o.baseLanes}function Iy(){ut(Pd,Vr),ut(ec,ec.current)}function Oy(){Vr=Pd.current,lt(ec),lt(Pd)}var va=0,Xt=null,Ae=null,ln=null,Nd=!1,nc=!1,Ho=!1,Ld=0,qu=0,ic=null,OO=0;function tn(){throw Error(i(321))}function Py(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Di(a[u],o[u]))return!1;return!0}function Ny(a,o,u,d,m,b){return va=b,Xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,q.H=a===null||a.memoizedState===null?e1:n1,Ho=!1,b=u(d,m),Ho=!1,nc&&(b=vw(o,u,d,m)),bw(a),b}function bw(a){q.H=Fd;var o=Ae!==null&&Ae.next!==null;if(va=0,ln=Ae=Xt=null,Nd=!1,qu=0,ic=null,o)throw Error(i(300));a===null||In||(a=a.dependencies,a!==null&&Cd(a)&&(In=!0))}function vw(a,o,u,d){Xt=a;var m=0;do{if(nc&&(ic=null),qu=0,nc=!1,25<=m)throw Error(i(301));if(m+=1,ln=Ae=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}q.H=zO,b=o(u,d)}while(nc);return b}function PO(){var a=q.H,o=a.useState()[0];return o=typeof o.then=="function"?$u(o):o,a=a.useState()[0],(Ae!==null?Ae.memoizedState:null)!==a&&(Xt.flags|=1024),o}function Ly(){var a=Ld!==0;return Ld=0,a}function Vy(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function jy(a){if(Nd){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Nd=!1}va=0,ln=Ae=Xt=null,nc=!1,qu=Ld=0,ic=null}function vi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Xt.memoizedState=ln=a:ln=ln.next=a,ln}function cn(){if(Ae===null){var a=Xt.alternate;a=a!==null?a.memoizedState:null}else a=Ae.next;var o=ln===null?Xt.memoizedState:ln.next;if(o!==null)ln=o,Ae=a;else{if(a===null)throw Xt.alternate===null?Error(i(467)):Error(i(310));Ae=a,a={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},ln===null?Xt.memoizedState=ln=a:ln=ln.next=a}return ln}function Uy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $u(a){var o=qu;return qu+=1,ic===null&&(ic=[]),a=dw(ic,a,o),o=Xt,(ln===null?o.memoizedState:ln.next)===null&&(o=o.alternate,q.H=o===null||o.memoizedState===null?e1:n1),a}function Vd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return $u(a);if(a.$$typeof===L)return ei(a)}throw Error(i(438,String(a)))}function zy(a){var o=null,u=Xt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var d=Xt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Uy(),Xt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),d=0;d<a;d++)u[d]=j;return o.index++,u}function Mr(a,o){return typeof o=="function"?o(a):o}function jd(a){var o=cn();return By(o,Ae,a)}function By(a,o,u){var d=a.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=u;var m=a.baseQueue,b=d.pending;if(b!==null){if(m!==null){var k=m.next;m.next=b.next,b.next=k}o.baseQueue=m=b,d.pending=null}if(b=a.baseState,m===null)a.memoizedState=b;else{o=m.next;var O=k=null,W=null,nt=o,ht=!1;do{var mt=nt.lane&-536870913;if(mt!==nt.lane?(ce&mt)===mt:(va&mt)===mt){var rt=nt.revertLane;if(rt===0)W!==null&&(W=W.next={lane:0,revertLane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),mt===Jl&&(ht=!0);else if((va&rt)===rt){nt=nt.next,rt===Jl&&(ht=!0);continue}else mt={lane:0,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},W===null?(O=W=mt,k=b):W=W.next=mt,Xt.lanes|=rt,ka|=rt;mt=nt.action,Ho&&u(b,mt),b=nt.hasEagerState?nt.eagerState:u(b,mt)}else rt={lane:mt,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},W===null?(O=W=rt,k=b):W=W.next=rt,Xt.lanes|=mt,ka|=mt;nt=nt.next}while(nt!==null&&nt!==o);if(W===null?k=b:W.next=O,!Di(b,a.memoizedState)&&(In=!0,ht&&(u=tc,u!==null)))throw u;a.memoizedState=b,a.baseState=k,a.baseQueue=W,d.lastRenderedState=b}return m===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function Fy(a){var o=cn(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var d=u.dispatch,m=u.pending,b=o.memoizedState;if(m!==null){u.pending=null;var k=m=m.next;do b=a(b,k.action),k=k.next;while(k!==m);Di(b,o.memoizedState)||(In=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,d]}function xw(a,o,u){var d=Xt,m=cn(),b=ge;if(b){if(u===void 0)throw Error(i(407));u=u()}else u=o();var k=!Di((Ae||m).memoizedState,u);k&&(m.memoizedState=u,In=!0),m=m.queue;var O=Sw.bind(null,d,m,a);if(Hu(2048,8,O,[a]),m.getSnapshot!==o||k||ln!==null&&ln.memoizedState.tag&1){if(d.flags|=2048,sc(9,Ud(),Ew.bind(null,d,m,u,o),null),Oe===null)throw Error(i(349));b||(va&124)!==0||ww(d,o,u)}return u}function ww(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=Xt.updateQueue,o===null?(o=Uy(),Xt.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function Ew(a,o,u,d){o.value=u,o.getSnapshot=d,Tw(o)&&Aw(a)}function Sw(a,o,u){return u(function(){Tw(o)&&Aw(a)})}function Tw(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Di(a,u)}catch{return!0}}function Aw(a){var o=Kl(a,2);o!==null&&Li(o,a,2)}function qy(a){var o=vi();if(typeof a=="function"){var u=a;if(a=u(),Ho){fi(!0);try{u()}finally{fi(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:a},o}function kw(a,o,u,d){return a.baseState=u,By(a,Ae,typeof d=="function"?d:Mr)}function NO(a,o,u,d,m){if(Bd(a))throw Error(i(485));if(a=o.action,a!==null){var b={payload:m,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){b.listeners.push(k)}};q.T!==null?u(!0):b.isTransition=!1,d(b),u=o.pending,u===null?(b.next=o.pending=b,Rw(o,b)):(b.next=u.next,o.pending=u.next=b)}}function Rw(a,o){var u=o.action,d=o.payload,m=a.state;if(o.isTransition){var b=q.T,k={};q.T=k;try{var O=u(m,d),W=q.S;W!==null&&W(k,O),Cw(a,o,O)}catch(nt){$y(a,o,nt)}finally{q.T=b}}else try{b=u(m,d),Cw(a,o,b)}catch(nt){$y(a,o,nt)}}function Cw(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){Dw(a,o,d)},function(d){return $y(a,o,d)}):Dw(a,o,u)}function Dw(a,o,u){o.status="fulfilled",o.value=u,Mw(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,Rw(a,u)))}function $y(a,o,u){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=u,Mw(o),o=o.next;while(o!==d)}a.action=null}function Mw(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Iw(a,o){return o}function Ow(a,o){if(ge){var u=Oe.formState;if(u!==null){t:{var d=Xt;if(ge){if(Ge){e:{for(var m=Ge,b=Vs;m.nodeType!==8;){if(!b){m=null;break e}if(m=ds(m.nextSibling),m===null){m=null;break e}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){Ge=ds(m.nextSibling),d=m.data==="F!";break t}}Bo(d)}d=!1}d&&(o=u[0])}}return u=vi(),u.memoizedState=u.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Iw,lastRenderedState:o},u.queue=d,u=Zw.bind(null,Xt,d),d.dispatch=u,d=qy(!1),b=Ky.bind(null,Xt,!1,d.queue),d=vi(),m={state:o,dispatch:null,action:a,pending:null},d.queue=m,u=NO.bind(null,Xt,m,b,u),m.dispatch=u,d.memoizedState=a,[o,u,!1]}function Pw(a){var o=cn();return Nw(o,Ae,a)}function Nw(a,o,u){if(o=By(a,o,Iw)[0],a=jd(Mr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=$u(o)}catch(k){throw k===ju?Id:k}else d=o;o=cn();var m=o.queue,b=m.dispatch;return u!==o.memoizedState&&(Xt.flags|=2048,sc(9,Ud(),LO.bind(null,m,u),null)),[d,b,a]}function LO(a,o){a.action=o}function Lw(a){var o=cn(),u=Ae;if(u!==null)return Nw(o,u,a);cn(),o=o.memoizedState,u=cn();var d=u.queue.dispatch;return u.memoizedState=a,[o,d,!1]}function sc(a,o,u,d){return a={tag:a,create:u,deps:d,inst:o,next:null},o=Xt.updateQueue,o===null&&(o=Uy(),Xt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(d=u.next,u.next=a,a.next=d,o.lastEffect=a),a}function Ud(){return{destroy:void 0,resource:void 0}}function Vw(){return cn().memoizedState}function zd(a,o,u,d){var m=vi();d=d===void 0?null:d,Xt.flags|=a,m.memoizedState=sc(1|o,Ud(),u,d)}function Hu(a,o,u,d){var m=cn();d=d===void 0?null:d;var b=m.memoizedState.inst;Ae!==null&&d!==null&&Py(d,Ae.memoizedState.deps)?m.memoizedState=sc(o,b,u,d):(Xt.flags|=a,m.memoizedState=sc(1|o,b,u,d))}function jw(a,o){zd(8390656,8,a,o)}function Uw(a,o){Hu(2048,8,a,o)}function zw(a,o){return Hu(4,2,a,o)}function Bw(a,o){return Hu(4,4,a,o)}function Fw(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function qw(a,o,u){u=u!=null?u.concat([a]):null,Hu(4,4,Fw.bind(null,o,a),u)}function Hy(){}function $w(a,o){var u=cn();o=o===void 0?null:o;var d=u.memoizedState;return o!==null&&Py(o,d[1])?d[0]:(u.memoizedState=[a,o],a)}function Hw(a,o){var u=cn();o=o===void 0?null:o;var d=u.memoizedState;if(o!==null&&Py(o,d[1]))return d[0];if(d=a(),Ho){fi(!0);try{a()}finally{fi(!1)}}return u.memoizedState=[d,o],d}function Wy(a,o,u){return u===void 0||(va&1073741824)!==0?a.memoizedState=o:(a.memoizedState=u,a=G1(),Xt.lanes|=a,ka|=a,u)}function Ww(a,o,u,d){return Di(u,o)?u:ec.current!==null?(a=Wy(a,u,d),Di(a,o)||(In=!0),a):(va&42)===0?(In=!0,a.memoizedState=u):(a=G1(),Xt.lanes|=a,ka|=a,o)}function Yw(a,o,u,d,m){var b=G.p;G.p=b!==0&&8>b?b:8;var k=q.T,O={};q.T=O,Ky(a,!1,o,u);try{var W=m(),nt=q.S;if(nt!==null&&nt(O,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var ht=IO(W,d);Wu(a,o,ht,Ni(a))}else Wu(a,o,d,Ni(a))}catch(mt){Wu(a,o,{then:function(){},status:"rejected",reason:mt},Ni())}finally{G.p=b,q.T=k}}function VO(){}function Yy(a,o,u,d){if(a.tag!==5)throw Error(i(476));var m=Gw(a).queue;Yw(a,m,o,ot,u===null?VO:function(){return Kw(a),u(d)})}function Gw(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:ot},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function Kw(a){var o=Gw(a).next.queue;Wu(a,o,{},Ni())}function Gy(){return ei(uh)}function Xw(){return cn().memoizedState}function Qw(){return cn().memoizedState}function jO(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=Ni();a=_a(u);var d=ba(o,a,u);d!==null&&(Li(d,o,u),zu(d,o,u)),o={cache:Sy()},a.payload=o;return}o=o.return}}function UO(a,o,u){var d=Ni();u={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Bd(a)?Jw(o,u):(u=py(a,o,u,d),u!==null&&(Li(u,a,d),t1(u,o,d)))}function Zw(a,o,u){var d=Ni();Wu(a,o,u,d)}function Wu(a,o,u,d){var m={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Bd(a))Jw(o,m);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var k=o.lastRenderedState,O=b(k,u);if(m.hasEagerState=!0,m.eagerState=O,Di(O,k))return Sd(a,o,m,0),Oe===null&&Ed(),!1}catch{}finally{}if(u=py(a,o,m,d),u!==null)return Li(u,a,d),t1(u,o,d),!0}return!1}function Ky(a,o,u,d){if(d={lane:2,revertLane:k_(),action:d,hasEagerState:!1,eagerState:null,next:null},Bd(a)){if(o)throw Error(i(479))}else o=py(a,u,d,2),o!==null&&Li(o,a,2)}function Bd(a){var o=a.alternate;return a===Xt||o!==null&&o===Xt}function Jw(a,o){nc=Nd=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function t1(a,o,u){if((u&4194048)!==0){var d=o.lanes;d&=a.pendingLanes,u|=d,o.lanes=u,vo(a,u)}}var Fd={readContext:ei,use:Vd,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn},e1={readContext:ei,use:Vd,useCallback:function(a,o){return vi().memoizedState=[a,o===void 0?null:o],a},useContext:ei,useEffect:jw,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,zd(4194308,4,Fw.bind(null,o,a),u)},useLayoutEffect:function(a,o){return zd(4194308,4,a,o)},useInsertionEffect:function(a,o){zd(4,2,a,o)},useMemo:function(a,o){var u=vi();o=o===void 0?null:o;var d=a();if(Ho){fi(!0);try{a()}finally{fi(!1)}}return u.memoizedState=[d,o],d},useReducer:function(a,o,u){var d=vi();if(u!==void 0){var m=u(o);if(Ho){fi(!0);try{u(o)}finally{fi(!1)}}}else m=o;return d.memoizedState=d.baseState=m,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:m},d.queue=a,a=a.dispatch=UO.bind(null,Xt,a),[d.memoizedState,a]},useRef:function(a){var o=vi();return a={current:a},o.memoizedState=a},useState:function(a){a=qy(a);var o=a.queue,u=Zw.bind(null,Xt,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Hy,useDeferredValue:function(a,o){var u=vi();return Wy(u,a,o)},useTransition:function(){var a=qy(!1);return a=Yw.bind(null,Xt,a.queue,!0,!1),vi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var d=Xt,m=vi();if(ge){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),Oe===null)throw Error(i(349));(ce&124)!==0||ww(d,o,u)}m.memoizedState=u;var b={value:u,getSnapshot:o};return m.queue=b,jw(Sw.bind(null,d,b,a),[a]),d.flags|=2048,sc(9,Ud(),Ew.bind(null,d,b,u,o),null),u},useId:function(){var a=vi(),o=Oe.identifierPrefix;if(ge){var u=Rr,d=kr;u=(d&~(1<<32-Rn(d)-1)).toString(32)+u,o="«"+o+"R"+u,u=Ld++,0<u&&(o+="H"+u.toString(32)),o+="»"}else u=OO++,o="«"+o+"r"+u.toString(32)+"»";return a.memoizedState=o},useHostTransitionStatus:Gy,useFormState:Ow,useActionState:Ow,useOptimistic:function(a){var o=vi();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Ky.bind(null,Xt,!0,u),u.dispatch=o,[a,o]},useMemoCache:zy,useCacheRefresh:function(){return vi().memoizedState=jO.bind(null,Xt)}},n1={readContext:ei,use:Vd,useCallback:$w,useContext:ei,useEffect:Uw,useImperativeHandle:qw,useInsertionEffect:zw,useLayoutEffect:Bw,useMemo:Hw,useReducer:jd,useRef:Vw,useState:function(){return jd(Mr)},useDebugValue:Hy,useDeferredValue:function(a,o){var u=cn();return Ww(u,Ae.memoizedState,a,o)},useTransition:function(){var a=jd(Mr)[0],o=cn().memoizedState;return[typeof a=="boolean"?a:$u(a),o]},useSyncExternalStore:xw,useId:Xw,useHostTransitionStatus:Gy,useFormState:Pw,useActionState:Pw,useOptimistic:function(a,o){var u=cn();return kw(u,Ae,a,o)},useMemoCache:zy,useCacheRefresh:Qw},zO={readContext:ei,use:Vd,useCallback:$w,useContext:ei,useEffect:Uw,useImperativeHandle:qw,useInsertionEffect:zw,useLayoutEffect:Bw,useMemo:Hw,useReducer:Fy,useRef:Vw,useState:function(){return Fy(Mr)},useDebugValue:Hy,useDeferredValue:function(a,o){var u=cn();return Ae===null?Wy(u,a,o):Ww(u,Ae.memoizedState,a,o)},useTransition:function(){var a=Fy(Mr)[0],o=cn().memoizedState;return[typeof a=="boolean"?a:$u(a),o]},useSyncExternalStore:xw,useId:Xw,useHostTransitionStatus:Gy,useFormState:Lw,useActionState:Lw,useOptimistic:function(a,o){var u=cn();return Ae!==null?kw(u,Ae,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:zy,useCacheRefresh:Qw},rc=null,Yu=0;function qd(a){var o=Yu;return Yu+=1,rc===null&&(rc=[]),dw(rc,a,o)}function Gu(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function $d(a,o){throw o.$$typeof===y?Error(i(525)):(a=Object.prototype.toString.call(o),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function i1(a){var o=a._init;return o(a._payload)}function s1(a){function o(Z,K){if(a){var et=Z.deletions;et===null?(Z.deletions=[K],Z.flags|=16):et.push(K)}}function u(Z,K){if(!a)return null;for(;K!==null;)o(Z,K),K=K.sibling;return null}function d(Z){for(var K=new Map;Z!==null;)Z.key!==null?K.set(Z.key,Z):K.set(Z.index,Z),Z=Z.sibling;return K}function m(Z,K){return Z=Ar(Z,K),Z.index=0,Z.sibling=null,Z}function b(Z,K,et){return Z.index=et,a?(et=Z.alternate,et!==null?(et=et.index,et<K?(Z.flags|=67108866,K):et):(Z.flags|=67108866,K)):(Z.flags|=1048576,K)}function k(Z){return a&&Z.alternate===null&&(Z.flags|=67108866),Z}function O(Z,K,et,ft){return K===null||K.tag!==6?(K=my(et,Z.mode,ft),K.return=Z,K):(K=m(K,et),K.return=Z,K)}function W(Z,K,et,ft){var Ct=et.type;return Ct===E?ht(Z,K,et.props.children,ft,et.key):K!==null&&(K.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===R&&i1(Ct)===K.type)?(K=m(K,et.props),Gu(K,et),K.return=Z,K):(K=Ad(et.type,et.key,et.props,null,Z.mode,ft),Gu(K,et),K.return=Z,K)}function nt(Z,K,et,ft){return K===null||K.tag!==4||K.stateNode.containerInfo!==et.containerInfo||K.stateNode.implementation!==et.implementation?(K=yy(et,Z.mode,ft),K.return=Z,K):(K=m(K,et.children||[]),K.return=Z,K)}function ht(Z,K,et,ft,Ct){return K===null||K.tag!==7?(K=Vo(et,Z.mode,ft,Ct),K.return=Z,K):(K=m(K,et),K.return=Z,K)}function mt(Z,K,et){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=my(""+K,Z.mode,et),K.return=Z,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return et=Ad(K.type,K.key,K.props,null,Z.mode,et),Gu(et,K),et.return=Z,et;case w:return K=yy(K,Z.mode,et),K.return=Z,K;case R:var ft=K._init;return K=ft(K._payload),mt(Z,K,et)}if(Q(K)||$(K))return K=Vo(K,Z.mode,et,null),K.return=Z,K;if(typeof K.then=="function")return mt(Z,qd(K),et);if(K.$$typeof===L)return mt(Z,Dd(Z,K),et);$d(Z,K)}return null}function rt(Z,K,et,ft){var Ct=K!==null?K.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Ct!==null?null:O(Z,K,""+et,ft);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case _:return et.key===Ct?W(Z,K,et,ft):null;case w:return et.key===Ct?nt(Z,K,et,ft):null;case R:return Ct=et._init,et=Ct(et._payload),rt(Z,K,et,ft)}if(Q(et)||$(et))return Ct!==null?null:ht(Z,K,et,ft,null);if(typeof et.then=="function")return rt(Z,K,qd(et),ft);if(et.$$typeof===L)return rt(Z,K,Dd(Z,et),ft);$d(Z,et)}return null}function at(Z,K,et,ft,Ct){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return Z=Z.get(et)||null,O(K,Z,""+ft,Ct);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case _:return Z=Z.get(ft.key===null?et:ft.key)||null,W(K,Z,ft,Ct);case w:return Z=Z.get(ft.key===null?et:ft.key)||null,nt(K,Z,ft,Ct);case R:var Zt=ft._init;return ft=Zt(ft._payload),at(Z,K,et,ft,Ct)}if(Q(ft)||$(ft))return Z=Z.get(et)||null,ht(K,Z,ft,Ct,null);if(typeof ft.then=="function")return at(Z,K,et,qd(ft),Ct);if(ft.$$typeof===L)return at(Z,K,et,Dd(K,ft),Ct);$d(K,ft)}return null}function zt(Z,K,et,ft){for(var Ct=null,Zt=null,Dt=K,Lt=K=0,Pn=null;Dt!==null&&Lt<et.length;Lt++){Dt.index>Lt?(Pn=Dt,Dt=null):Pn=Dt.sibling;var fe=rt(Z,Dt,et[Lt],ft);if(fe===null){Dt===null&&(Dt=Pn);break}a&&Dt&&fe.alternate===null&&o(Z,Dt),K=b(fe,K,Lt),Zt===null?Ct=fe:Zt.sibling=fe,Zt=fe,Dt=Pn}if(Lt===et.length)return u(Z,Dt),ge&&Uo(Z,Lt),Ct;if(Dt===null){for(;Lt<et.length;Lt++)Dt=mt(Z,et[Lt],ft),Dt!==null&&(K=b(Dt,K,Lt),Zt===null?Ct=Dt:Zt.sibling=Dt,Zt=Dt);return ge&&Uo(Z,Lt),Ct}for(Dt=d(Dt);Lt<et.length;Lt++)Pn=at(Dt,Z,Lt,et[Lt],ft),Pn!==null&&(a&&Pn.alternate!==null&&Dt.delete(Pn.key===null?Lt:Pn.key),K=b(Pn,K,Lt),Zt===null?Ct=Pn:Zt.sibling=Pn,Zt=Pn);return a&&Dt.forEach(function(La){return o(Z,La)}),ge&&Uo(Z,Lt),Ct}function Nt(Z,K,et,ft){if(et==null)throw Error(i(151));for(var Ct=null,Zt=null,Dt=K,Lt=K=0,Pn=null,fe=et.next();Dt!==null&&!fe.done;Lt++,fe=et.next()){Dt.index>Lt?(Pn=Dt,Dt=null):Pn=Dt.sibling;var La=rt(Z,Dt,fe.value,ft);if(La===null){Dt===null&&(Dt=Pn);break}a&&Dt&&La.alternate===null&&o(Z,Dt),K=b(La,K,Lt),Zt===null?Ct=La:Zt.sibling=La,Zt=La,Dt=Pn}if(fe.done)return u(Z,Dt),ge&&Uo(Z,Lt),Ct;if(Dt===null){for(;!fe.done;Lt++,fe=et.next())fe=mt(Z,fe.value,ft),fe!==null&&(K=b(fe,K,Lt),Zt===null?Ct=fe:Zt.sibling=fe,Zt=fe);return ge&&Uo(Z,Lt),Ct}for(Dt=d(Dt);!fe.done;Lt++,fe=et.next())fe=at(Dt,Z,Lt,fe.value,ft),fe!==null&&(a&&fe.alternate!==null&&Dt.delete(fe.key===null?Lt:fe.key),K=b(fe,K,Lt),Zt===null?Ct=fe:Zt.sibling=fe,Zt=fe);return a&&Dt.forEach(function(B2){return o(Z,B2)}),ge&&Uo(Z,Lt),Ct}function Re(Z,K,et,ft){if(typeof et=="object"&&et!==null&&et.type===E&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case _:t:{for(var Ct=et.key;K!==null;){if(K.key===Ct){if(Ct=et.type,Ct===E){if(K.tag===7){u(Z,K.sibling),ft=m(K,et.props.children),ft.return=Z,Z=ft;break t}}else if(K.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===R&&i1(Ct)===K.type){u(Z,K.sibling),ft=m(K,et.props),Gu(ft,et),ft.return=Z,Z=ft;break t}u(Z,K);break}else o(Z,K);K=K.sibling}et.type===E?(ft=Vo(et.props.children,Z.mode,ft,et.key),ft.return=Z,Z=ft):(ft=Ad(et.type,et.key,et.props,null,Z.mode,ft),Gu(ft,et),ft.return=Z,Z=ft)}return k(Z);case w:t:{for(Ct=et.key;K!==null;){if(K.key===Ct)if(K.tag===4&&K.stateNode.containerInfo===et.containerInfo&&K.stateNode.implementation===et.implementation){u(Z,K.sibling),ft=m(K,et.children||[]),ft.return=Z,Z=ft;break t}else{u(Z,K);break}else o(Z,K);K=K.sibling}ft=yy(et,Z.mode,ft),ft.return=Z,Z=ft}return k(Z);case R:return Ct=et._init,et=Ct(et._payload),Re(Z,K,et,ft)}if(Q(et))return zt(Z,K,et,ft);if($(et)){if(Ct=$(et),typeof Ct!="function")throw Error(i(150));return et=Ct.call(et),Nt(Z,K,et,ft)}if(typeof et.then=="function")return Re(Z,K,qd(et),ft);if(et.$$typeof===L)return Re(Z,K,Dd(Z,et),ft);$d(Z,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,K!==null&&K.tag===6?(u(Z,K.sibling),ft=m(K,et),ft.return=Z,Z=ft):(u(Z,K),ft=my(et,Z.mode,ft),ft.return=Z,Z=ft),k(Z)):u(Z,K)}return function(Z,K,et,ft){try{Yu=0;var Ct=Re(Z,K,et,ft);return rc=null,Ct}catch(Dt){if(Dt===ju||Dt===Id)throw Dt;var Zt=Mi(29,Dt,null,Z.mode);return Zt.lanes=ft,Zt.return=Z,Zt}finally{}}}var ac=s1(!0),r1=s1(!1),ts=st(null),js=null;function xa(a){var o=a.alternate;ut(En,En.current&1),ut(ts,a),js===null&&(o===null||ec.current!==null||o.memoizedState!==null)&&(js=a)}function a1(a){if(a.tag===22){if(ut(En,En.current),ut(ts,a),js===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(js=a)}}else wa()}function wa(){ut(En,En.current),ut(ts,ts.current)}function Ir(a){lt(ts),js===a&&(js=null),lt(En)}var En=st(0);function Hd(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||U_(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Xy(a,o,u,d){o=a.memoizedState,u=u(d,o),u=u==null?o:p({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Qy={enqueueSetState:function(a,o,u){a=a._reactInternals;var d=Ni(),m=_a(d);m.payload=o,u!=null&&(m.callback=u),o=ba(a,m,d),o!==null&&(Li(o,a,d),zu(o,a,d))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var d=Ni(),m=_a(d);m.tag=1,m.payload=o,u!=null&&(m.callback=u),o=ba(a,m,d),o!==null&&(Li(o,a,d),zu(o,a,d))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=Ni(),d=_a(u);d.tag=2,o!=null&&(d.callback=o),o=ba(a,d,u),o!==null&&(Li(o,a,u),zu(o,a,u))}};function o1(a,o,u,d,m,b,k){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,b,k):o.prototype&&o.prototype.isPureReactComponent?!Du(u,d)||!Du(m,b):!0}function l1(a,o,u,d){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==a&&Qy.enqueueReplaceState(o,o.state,null)}function Wo(a,o){var u=o;if("ref"in o){u={};for(var d in o)d!=="ref"&&(u[d]=o[d])}if(a=a.defaultProps){u===o&&(u=p({},u));for(var m in a)u[m]===void 0&&(u[m]=a[m])}return u}var Wd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function c1(a){Wd(a)}function u1(a){console.error(a)}function h1(a){Wd(a)}function Yd(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function f1(a,o,u){try{var d=a.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Zy(a,o,u){return u=_a(u),u.tag=3,u.payload={element:null},u.callback=function(){Yd(a,o)},u}function d1(a){return a=_a(a),a.tag=3,a}function p1(a,o,u,d){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var b=d.value;a.payload=function(){return m(b)},a.callback=function(){f1(o,u,d)}}var k=u.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(a.callback=function(){f1(o,u,d),typeof m!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var O=d.stack;this.componentDidCatch(d.value,{componentStack:O!==null?O:""})})}function BO(a,o,u,d,m){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=u.alternate,o!==null&&Nu(o,u,m,!0),u=ts.current,u!==null){switch(u.tag){case 13:return js===null?w_():u.alternate===null&&Ke===0&&(Ke=3),u.flags&=-257,u.flags|=65536,u.lanes=m,d===ky?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([d]):o.add(d),S_(a,d,m)),!1;case 22:return u.flags|=65536,d===ky?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([d]):u.add(d)),S_(a,d,m)),!1}throw Error(i(435,u.tag))}return S_(a,d,m),w_(),!1}if(ge)return o=ts.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,d!==vy&&(a=Error(i(422),{cause:d}),Pu(Xi(a,u)))):(d!==vy&&(o=Error(i(423),{cause:d}),Pu(Xi(o,u))),a=a.current.alternate,a.flags|=65536,m&=-m,a.lanes|=m,d=Xi(d,u),m=Zy(a.stateNode,d,m),Dy(a,m),Ke!==4&&(Ke=2)),!1;var b=Error(i(520),{cause:d});if(b=Xi(b,u),eh===null?eh=[b]:eh.push(b),Ke!==4&&(Ke=2),o===null)return!0;d=Xi(d,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=m&-m,u.lanes|=a,a=Zy(u.stateNode,d,a),Dy(u,a),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ra===null||!Ra.has(b))))return u.flags|=65536,m&=-m,u.lanes|=m,m=d1(m),p1(m,a,u,d),Dy(u,m),!1}u=u.return}while(u!==null);return!1}var g1=Error(i(461)),In=!1;function $n(a,o,u,d){o.child=a===null?r1(o,null,u,d):ac(o,a.child,u,d)}function m1(a,o,u,d,m){u=u.render;var b=o.ref;if("ref"in d){var k={};for(var O in d)O!=="ref"&&(k[O]=d[O])}else k=d;return qo(o),d=Ny(a,o,u,k,b,m),O=Ly(),a!==null&&!In?(Vy(a,o,m),Or(a,o,m)):(ge&&O&&_y(o),o.flags|=1,$n(a,o,d,m),o.child)}function y1(a,o,u,d,m){if(a===null){var b=u.type;return typeof b=="function"&&!gy(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,_1(a,o,b,d,m)):(a=Ad(u.type,null,d,o,o.mode,m),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!a_(a,m)){var k=b.memoizedProps;if(u=u.compare,u=u!==null?u:Du,u(k,d)&&a.ref===o.ref)return Or(a,o,m)}return o.flags|=1,a=Ar(b,d),a.ref=o.ref,a.return=o,o.child=a}function _1(a,o,u,d,m){if(a!==null){var b=a.memoizedProps;if(Du(b,d)&&a.ref===o.ref)if(In=!1,o.pendingProps=d=b,a_(a,m))(a.flags&131072)!==0&&(In=!0);else return o.lanes=a.lanes,Or(a,o,m)}return Jy(a,o,u,d,m)}function b1(a,o,u){var d=o.pendingProps,m=d.children,b=a!==null?a.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=b!==null?b.baseLanes|u:u,a!==null){for(m=o.child=a.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;o.childLanes=b&~d}else o.childLanes=0,o.child=null;return v1(a,o,d,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Md(o,b!==null?b.cachePool:null),b!==null?_w(o,b):Iy(),a1(o);else return o.lanes=o.childLanes=536870912,v1(a,o,b!==null?b.baseLanes|u:u,u)}else b!==null?(Md(o,b.cachePool),_w(o,b),wa(),o.memoizedState=null):(a!==null&&Md(o,null),Iy(),wa());return $n(a,o,m,u),o.child}function v1(a,o,u,d){var m=Ay();return m=m===null?null:{parent:wn._currentValue,pool:m},o.memoizedState={baseLanes:u,cachePool:m},a!==null&&Md(o,null),Iy(),a1(o),a!==null&&Nu(a,o,d,!0),null}function Gd(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function Jy(a,o,u,d,m){return qo(o),u=Ny(a,o,u,d,void 0,m),d=Ly(),a!==null&&!In?(Vy(a,o,m),Or(a,o,m)):(ge&&d&&_y(o),o.flags|=1,$n(a,o,u,m),o.child)}function x1(a,o,u,d,m,b){return qo(o),o.updateQueue=null,u=vw(o,d,u,m),bw(a),d=Ly(),a!==null&&!In?(Vy(a,o,b),Or(a,o,b)):(ge&&d&&_y(o),o.flags|=1,$n(a,o,u,b),o.child)}function w1(a,o,u,d,m){if(qo(o),o.stateNode===null){var b=Xl,k=u.contextType;typeof k=="object"&&k!==null&&(b=ei(k)),b=new u(d,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Qy,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=d,b.state=o.memoizedState,b.refs={},Ry(o),k=u.contextType,b.context=typeof k=="object"&&k!==null?ei(k):Xl,b.state=o.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(Xy(o,u,k,d),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(k=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),k!==b.state&&Qy.enqueueReplaceState(b,b.state,null),Fu(o,d,b,m),Bu(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(a===null){b=o.stateNode;var O=o.memoizedProps,W=Wo(u,O);b.props=W;var nt=b.context,ht=u.contextType;k=Xl,typeof ht=="object"&&ht!==null&&(k=ei(ht));var mt=u.getDerivedStateFromProps;ht=typeof mt=="function"||typeof b.getSnapshotBeforeUpdate=="function",O=o.pendingProps!==O,ht||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O||nt!==k)&&l1(o,b,d,k),ya=!1;var rt=o.memoizedState;b.state=rt,Fu(o,d,b,m),Bu(),nt=o.memoizedState,O||rt!==nt||ya?(typeof mt=="function"&&(Xy(o,u,mt,d),nt=o.memoizedState),(W=ya||o1(o,u,W,d,rt,nt,k))?(ht||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=nt),b.props=d,b.state=nt,b.context=k,d=W):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{b=o.stateNode,Cy(a,o),k=o.memoizedProps,ht=Wo(u,k),b.props=ht,mt=o.pendingProps,rt=b.context,nt=u.contextType,W=Xl,typeof nt=="object"&&nt!==null&&(W=ei(nt)),O=u.getDerivedStateFromProps,(nt=typeof O=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==mt||rt!==W)&&l1(o,b,d,W),ya=!1,rt=o.memoizedState,b.state=rt,Fu(o,d,b,m),Bu();var at=o.memoizedState;k!==mt||rt!==at||ya||a!==null&&a.dependencies!==null&&Cd(a.dependencies)?(typeof O=="function"&&(Xy(o,u,O,d),at=o.memoizedState),(ht=ya||o1(o,u,ht,d,rt,at,W)||a!==null&&a.dependencies!==null&&Cd(a.dependencies))?(nt||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,at,W),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,at,W)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||k===a.memoizedProps&&rt===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&rt===a.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=at),b.props=d,b.state=at,b.context=W,d=ht):(typeof b.componentDidUpdate!="function"||k===a.memoizedProps&&rt===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&rt===a.memoizedState||(o.flags|=1024),d=!1)}return b=d,Gd(a,o),d=(o.flags&128)!==0,b||d?(b=o.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&d?(o.child=ac(o,a.child,null,m),o.child=ac(o,null,u,m)):$n(a,o,u,m),o.memoizedState=b.state,a=o.child):a=Or(a,o,m),a}function E1(a,o,u,d){return Ou(),o.flags|=256,$n(a,o,u,d),o.child}var t_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function e_(a){return{baseLanes:a,cachePool:uw()}}function n_(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=es),a}function S1(a,o,u){var d=o.pendingProps,m=!1,b=(o.flags&128)!==0,k;if((k=b)||(k=a!==null&&a.memoizedState===null?!1:(En.current&2)!==0),k&&(m=!0,o.flags&=-129),k=(o.flags&32)!==0,o.flags&=-33,a===null){if(ge){if(m?xa(o):wa(),ge){var O=Ge,W;if(W=O){t:{for(W=O,O=Vs;W.nodeType!==8;){if(!O){O=null;break t}if(W=ds(W.nextSibling),W===null){O=null;break t}}O=W}O!==null?(o.memoizedState={dehydrated:O,treeContext:jo!==null?{id:kr,overflow:Rr}:null,retryLane:536870912,hydrationErrors:null},W=Mi(18,null,null,0),W.stateNode=O,W.return=o,o.child=W,mi=o,Ge=null,W=!0):W=!1}W||Bo(o)}if(O=o.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return U_(O)?o.lanes=32:o.lanes=536870912,null;Ir(o)}return O=d.children,d=d.fallback,m?(wa(),m=o.mode,O=Kd({mode:"hidden",children:O},m),d=Vo(d,m,u,null),O.return=o,d.return=o,O.sibling=d,o.child=O,m=o.child,m.memoizedState=e_(u),m.childLanes=n_(a,k,u),o.memoizedState=t_,d):(xa(o),i_(o,O))}if(W=a.memoizedState,W!==null&&(O=W.dehydrated,O!==null)){if(b)o.flags&256?(xa(o),o.flags&=-257,o=s_(a,o,u)):o.memoizedState!==null?(wa(),o.child=a.child,o.flags|=128,o=null):(wa(),m=d.fallback,O=o.mode,d=Kd({mode:"visible",children:d.children},O),m=Vo(m,O,u,null),m.flags|=2,d.return=o,m.return=o,d.sibling=m,o.child=d,ac(o,a.child,null,u),d=o.child,d.memoizedState=e_(u),d.childLanes=n_(a,k,u),o.memoizedState=t_,o=m);else if(xa(o),U_(O)){if(k=O.nextSibling&&O.nextSibling.dataset,k)var nt=k.dgst;k=nt,d=Error(i(419)),d.stack="",d.digest=k,Pu({value:d,source:null,stack:null}),o=s_(a,o,u)}else if(In||Nu(a,o,u,!1),k=(u&a.childLanes)!==0,In||k){if(k=Oe,k!==null&&(d=u&-u,d=(d&42)!==0?1:As(d),d=(d&(k.suspendedLanes|u))!==0?0:d,d!==0&&d!==W.retryLane))throw W.retryLane=d,Kl(a,d),Li(k,a,d),g1;O.data==="$?"||w_(),o=s_(a,o,u)}else O.data==="$?"?(o.flags|=192,o.child=a.child,o=null):(a=W.treeContext,Ge=ds(O.nextSibling),mi=o,ge=!0,zo=null,Vs=!1,a!==null&&(Zi[Ji++]=kr,Zi[Ji++]=Rr,Zi[Ji++]=jo,kr=a.id,Rr=a.overflow,jo=o),o=i_(o,d.children),o.flags|=4096);return o}return m?(wa(),m=d.fallback,O=o.mode,W=a.child,nt=W.sibling,d=Ar(W,{mode:"hidden",children:d.children}),d.subtreeFlags=W.subtreeFlags&65011712,nt!==null?m=Ar(nt,m):(m=Vo(m,O,u,null),m.flags|=2),m.return=o,d.return=o,d.sibling=m,o.child=d,d=m,m=o.child,O=a.child.memoizedState,O===null?O=e_(u):(W=O.cachePool,W!==null?(nt=wn._currentValue,W=W.parent!==nt?{parent:nt,pool:nt}:W):W=uw(),O={baseLanes:O.baseLanes|u,cachePool:W}),m.memoizedState=O,m.childLanes=n_(a,k,u),o.memoizedState=t_,d):(xa(o),u=a.child,a=u.sibling,u=Ar(u,{mode:"visible",children:d.children}),u.return=o,u.sibling=null,a!==null&&(k=o.deletions,k===null?(o.deletions=[a],o.flags|=16):k.push(a)),o.child=u,o.memoizedState=null,u)}function i_(a,o){return o=Kd({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Kd(a,o){return a=Mi(22,a,null,o),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function s_(a,o,u){return ac(o,a.child,null,u),a=i_(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function T1(a,o,u){a.lanes|=o;var d=a.alternate;d!==null&&(d.lanes|=o),wy(a.return,o,u)}function r_(a,o,u,d,m){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=u,b.tailMode=m)}function A1(a,o,u){var d=o.pendingProps,m=d.revealOrder,b=d.tail;if($n(a,o,d.children,u),d=En.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)t:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&T1(a,u,o);else if(a.tag===19)T1(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break t;for(;a.sibling===null;){if(a.return===null||a.return===o)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}d&=1}switch(ut(En,d),m){case"forwards":for(u=o.child,m=null;u!==null;)a=u.alternate,a!==null&&Hd(a)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),r_(o,!1,m,u,b);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(a=m.alternate,a!==null&&Hd(a)===null){o.child=m;break}a=m.sibling,m.sibling=u,u=m,m=a}r_(o,!0,u,null,b);break;case"together":r_(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Or(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),ka|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(Nu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(i(153));if(o.child!==null){for(a=o.child,u=Ar(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=Ar(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function a_(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Cd(a)))}function FO(a,o,u){switch(o.tag){case 3:yt(o,o.stateNode.containerInfo),ma(o,wn,a.memoizedState.cache),Ou();break;case 27:case 5:Tt(o);break;case 4:yt(o,o.stateNode.containerInfo);break;case 10:ma(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(xa(o),o.flags|=128,null):(u&o.child.childLanes)!==0?S1(a,o,u):(xa(o),a=Or(a,o,u),a!==null?a.sibling:null);xa(o);break;case 19:var m=(a.flags&128)!==0;if(d=(u&o.childLanes)!==0,d||(Nu(a,o,u,!1),d=(u&o.childLanes)!==0),m){if(d)return A1(a,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ut(En,En.current),d)break;return null;case 22:case 23:return o.lanes=0,b1(a,o,u);case 24:ma(o,wn,a.memoizedState.cache)}return Or(a,o,u)}function k1(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)In=!0;else{if(!a_(a,u)&&(o.flags&128)===0)return In=!1,FO(a,o,u);In=(a.flags&131072)!==0}else In=!1,ge&&(o.flags&1048576)!==0&&iw(o,Rd,o.index);switch(o.lanes=0,o.tag){case 16:t:{a=o.pendingProps;var d=o.elementType,m=d._init;if(d=m(d._payload),o.type=d,typeof d=="function")gy(d)?(a=Wo(d,a),o.tag=1,o=w1(null,o,d,a,u)):(o.tag=0,o=Jy(null,o,d,a,u));else{if(d!=null){if(m=d.$$typeof,m===z){o.tag=11,o=m1(null,o,d,a,u);break t}else if(m===C){o.tag=14,o=y1(null,o,d,a,u);break t}}throw o=Mt(d)||d,Error(i(306,o,""))}}return o;case 0:return Jy(a,o,o.type,o.pendingProps,u);case 1:return d=o.type,m=Wo(d,o.pendingProps),w1(a,o,d,m,u);case 3:t:{if(yt(o,o.stateNode.containerInfo),a===null)throw Error(i(387));d=o.pendingProps;var b=o.memoizedState;m=b.element,Cy(a,o),Fu(o,d,null,u);var k=o.memoizedState;if(d=k.cache,ma(o,wn,d),d!==b.cache&&Ey(o,[wn],u,!0),Bu(),d=k.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:k.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=E1(a,o,d,u);break t}else if(d!==m){m=Xi(Error(i(424)),o),Pu(m),o=E1(a,o,d,u);break t}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ge=ds(a.firstChild),mi=o,ge=!0,zo=null,Vs=!0,u=r1(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ou(),d===m){o=Or(a,o,u);break t}$n(a,o,d,u)}o=o.child}return o;case 26:return Gd(a,o),a===null?(u=ME(o.type,null,o.pendingProps,null))?o.memoizedState=u:ge||(u=o.type,a=o.pendingProps,d=cp(J.current).createElement(u),d[bn]=o,d[an]=a,Wn(d,u,a),Je(d),o.stateNode=d):o.memoizedState=ME(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Tt(o),a===null&&ge&&(d=o.stateNode=RE(o.type,o.pendingProps,J.current),mi=o,Vs=!0,m=Ge,Ma(o.type)?(z_=m,Ge=ds(d.firstChild)):Ge=m),$n(a,o,o.pendingProps.children,u),Gd(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&ge&&((m=d=Ge)&&(d=m2(d,o.type,o.pendingProps,Vs),d!==null?(o.stateNode=d,mi=o,Ge=ds(d.firstChild),Vs=!1,m=!0):m=!1),m||Bo(o)),Tt(o),m=o.type,b=o.pendingProps,k=a!==null?a.memoizedProps:null,d=b.children,L_(m,b)?d=null:k!==null&&L_(m,k)&&(o.flags|=32),o.memoizedState!==null&&(m=Ny(a,o,PO,null,null,u),uh._currentValue=m),Gd(a,o),$n(a,o,d,u),o.child;case 6:return a===null&&ge&&((a=u=Ge)&&(u=y2(u,o.pendingProps,Vs),u!==null?(o.stateNode=u,mi=o,Ge=null,a=!0):a=!1),a||Bo(o)),null;case 13:return S1(a,o,u);case 4:return yt(o,o.stateNode.containerInfo),d=o.pendingProps,a===null?o.child=ac(o,null,d,u):$n(a,o,d,u),o.child;case 11:return m1(a,o,o.type,o.pendingProps,u);case 7:return $n(a,o,o.pendingProps,u),o.child;case 8:return $n(a,o,o.pendingProps.children,u),o.child;case 12:return $n(a,o,o.pendingProps.children,u),o.child;case 10:return d=o.pendingProps,ma(o,o.type,d.value),$n(a,o,d.children,u),o.child;case 9:return m=o.type._context,d=o.pendingProps.children,qo(o),m=ei(m),d=d(m),o.flags|=1,$n(a,o,d,u),o.child;case 14:return y1(a,o,o.type,o.pendingProps,u);case 15:return _1(a,o,o.type,o.pendingProps,u);case 19:return A1(a,o,u);case 31:return d=o.pendingProps,u=o.mode,d={mode:d.mode,children:d.children},a===null?(u=Kd(d,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=Ar(a.child,d),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return b1(a,o,u);case 24:return qo(o),d=ei(wn),a===null?(m=Ay(),m===null&&(m=Oe,b=Sy(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=u),m=b),o.memoizedState={parent:d,cache:m},Ry(o),ma(o,wn,m)):((a.lanes&u)!==0&&(Cy(a,o),Fu(o,null,null,u),Bu()),m=a.memoizedState,b=o.memoizedState,m.parent!==d?(m={parent:d,cache:d},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),ma(o,wn,d)):(d=b.cache,ma(o,wn,d),d!==m.cache&&Ey(o,[wn],u,!0))),$n(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Pr(a){a.flags|=4}function R1(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!LE(o)){if(o=ts.current,o!==null&&((ce&4194048)===ce?js!==null:(ce&62914560)!==ce&&(ce&536870912)===0||o!==js))throw Uu=ky,hw;a.flags|=8192}}function Xd(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?ye():536870912,a.lanes|=o,uc|=o)}function Ku(a,o){if(!ge)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function He(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,d=0;if(o)for(var m=a.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=a,m=m.sibling;else for(m=a.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=a,m=m.sibling;return a.subtreeFlags|=d,a.childLanes=u,o}function qO(a,o,u){var d=o.pendingProps;switch(by(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(o),null;case 1:return He(o),null;case 3:return u=o.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Dr(wn),vt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Iu(o)?Pr(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,aw())),He(o),null;case 26:return u=o.memoizedState,a===null?(Pr(o),u!==null?(He(o),R1(o,u)):(He(o),o.flags&=-16777217)):u?u!==a.memoizedState?(Pr(o),He(o),R1(o,u)):(He(o),o.flags&=-16777217):(a.memoizedProps!==d&&Pr(o),He(o),o.flags&=-16777217),null;case 27:Bt(o),u=J.current;var m=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==d&&Pr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return He(o),null}a=X.current,Iu(o)?sw(o):(a=RE(m,d,u),o.stateNode=a,Pr(o))}return He(o),null;case 5:if(Bt(o),u=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&Pr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return He(o),null}if(a=X.current,Iu(o))sw(o);else{switch(m=cp(J.current),a){case 1:a=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=m.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof d.is=="string"?m.createElement("select",{is:d.is}):m.createElement("select"),d.multiple?a.multiple=!0:d.size&&(a.size=d.size);break;default:a=typeof d.is=="string"?m.createElement(u,{is:d.is}):m.createElement(u)}}a[bn]=o,a[an]=d;t:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)a.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break t;for(;m.sibling===null;){if(m.return===null||m.return===o)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=a;t:switch(Wn(a,u,d),u){case"button":case"input":case"select":case"textarea":a=!!d.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Pr(o)}}return He(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==d&&Pr(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(a=J.current,Iu(o)){if(a=o.stateNode,u=o.memoizedProps,d=null,m=mi,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}a[bn]=o,a=!!(a.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||xE(a.nodeValue,u)),a||Bo(o)}else a=cp(a).createTextNode(d),a[bn]=o,o.stateNode=a}return He(o),null;case 13:if(d=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(m=Iu(o),d!==null&&d.dehydrated!==null){if(a===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[bn]=o}else Ou(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;He(o),m=!1}else m=aw(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(Ir(o),o):(Ir(o),null)}if(Ir(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=d!==null,a=a!==null&&a.memoizedState!==null,u){d=o.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==m&&(d.flags|=2048)}return u!==a&&u&&(o.child.flags|=8192),Xd(o,o.updateQueue),He(o),null;case 4:return vt(),a===null&&M_(o.stateNode.containerInfo),He(o),null;case 10:return Dr(o.type),He(o),null;case 19:if(lt(En),m=o.memoizedState,m===null)return He(o),null;if(d=(o.flags&128)!==0,b=m.rendering,b===null)if(d)Ku(m,!1);else{if(Ke!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=Hd(a),b!==null){for(o.flags|=128,Ku(m,!1),a=b.updateQueue,o.updateQueue=a,Xd(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)nw(u,a),u=u.sibling;return ut(En,En.current&1|2),o.child}a=a.sibling}m.tail!==null&&kn()>Jd&&(o.flags|=128,d=!0,Ku(m,!1),o.lanes=4194304)}else{if(!d)if(a=Hd(b),a!==null){if(o.flags|=128,d=!0,a=a.updateQueue,o.updateQueue=a,Xd(o,a),Ku(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!ge)return He(o),null}else 2*kn()-m.renderingStartTime>Jd&&u!==536870912&&(o.flags|=128,d=!0,Ku(m,!1),o.lanes=4194304);m.isBackwards?(b.sibling=o.child,o.child=b):(a=m.last,a!==null?a.sibling=b:o.child=b,m.last=b)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=kn(),o.sibling=null,a=En.current,ut(En,d?a&1|2:a&1),o):(He(o),null);case 22:case 23:return Ir(o),Oy(),d=o.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(u&536870912)!==0&&(o.flags&128)===0&&(He(o),o.subtreeFlags&6&&(o.flags|=8192)):He(o),u=o.updateQueue,u!==null&&Xd(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048),a!==null&&lt($o),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Dr(wn),He(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function $O(a,o){switch(by(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Dr(wn),vt(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Bt(o),null;case 13:if(Ir(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Ou()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return lt(En),null;case 4:return vt(),null;case 10:return Dr(o.type),null;case 22:case 23:return Ir(o),Oy(),a!==null&&lt($o),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Dr(wn),null;case 25:return null;default:return null}}function C1(a,o){switch(by(o),o.tag){case 3:Dr(wn),vt();break;case 26:case 27:case 5:Bt(o);break;case 4:vt();break;case 13:Ir(o);break;case 19:lt(En);break;case 10:Dr(o.type);break;case 22:case 23:Ir(o),Oy(),a!==null&&lt($o);break;case 24:Dr(wn)}}function Xu(a,o){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var m=d.next;u=m;do{if((u.tag&a)===a){d=void 0;var b=u.create,k=u.inst;d=b(),k.destroy=d}u=u.next}while(u!==m)}}catch(O){Me(o,o.return,O)}}function Ea(a,o,u){try{var d=o.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var b=m.next;d=b;do{if((d.tag&a)===a){var k=d.inst,O=k.destroy;if(O!==void 0){k.destroy=void 0,m=o;var W=u,nt=O;try{nt()}catch(ht){Me(m,W,ht)}}}d=d.next}while(d!==b)}}catch(ht){Me(o,o.return,ht)}}function D1(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{yw(o,u)}catch(d){Me(a,a.return,d)}}}function M1(a,o,u){u.props=Wo(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(d){Me(a,o,d)}}function Qu(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof u=="function"?a.refCleanup=u(d):u.current=d}}catch(m){Me(a,o,m)}}function Us(a,o){var u=a.ref,d=a.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(m){Me(a,o,m)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){Me(a,o,m)}else u.current=null}function I1(a){var o=a.type,u=a.memoizedProps,d=a.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break t;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(m){Me(a,a.return,m)}}function o_(a,o,u){try{var d=a.stateNode;h2(d,a.type,u,o),d[an]=o}catch(m){Me(a,a.return,m)}}function O1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ma(a.type)||a.tag===4}function l_(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||O1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ma(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function c_(a,o,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=lp));else if(d!==4&&(d===27&&Ma(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(c_(a,o,u),a=a.sibling;a!==null;)c_(a,o,u),a=a.sibling}function Qd(a,o,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(d!==4&&(d===27&&Ma(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Qd(a,o,u),a=a.sibling;a!==null;)Qd(a,o,u),a=a.sibling}function P1(a){var o=a.stateNode,u=a.memoizedProps;try{for(var d=a.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);Wn(o,d,u),o[bn]=a,o[an]=u}catch(b){Me(a,a.return,b)}}var Nr=!1,en=!1,u_=!1,N1=typeof WeakSet=="function"?WeakSet:Set,On=null;function HO(a,o){if(a=a.containerInfo,P_=gp,a=Wx(a),ly(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else t:{u=(u=a.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break t}var k=0,O=-1,W=-1,nt=0,ht=0,mt=a,rt=null;e:for(;;){for(var at;mt!==u||m!==0&&mt.nodeType!==3||(O=k+m),mt!==b||d!==0&&mt.nodeType!==3||(W=k+d),mt.nodeType===3&&(k+=mt.nodeValue.length),(at=mt.firstChild)!==null;)rt=mt,mt=at;for(;;){if(mt===a)break e;if(rt===u&&++nt===m&&(O=k),rt===b&&++ht===d&&(W=k),(at=mt.nextSibling)!==null)break;mt=rt,rt=mt.parentNode}mt=at}u=O===-1||W===-1?null:{start:O,end:W}}else u=null}u=u||{start:0,end:0}}else u=null;for(N_={focusedElem:a,selectionRange:u},gp=!1,On=o;On!==null;)if(o=On,a=o.child,(o.subtreeFlags&1024)!==0&&a!==null)a.return=o,On=a;else for(;On!==null;){switch(o=On,b=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,u=o,m=b.memoizedProps,b=b.memoizedState,d=u.stateNode;try{var zt=Wo(u.type,m,u.elementType===u.type);a=d.getSnapshotBeforeUpdate(zt,b),d.__reactInternalSnapshotBeforeUpdate=a}catch(Nt){Me(u,u.return,Nt)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)j_(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":j_(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=o.sibling,a!==null){a.return=o.return,On=a;break}On=o.return}}function L1(a,o,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Sa(a,u),d&4&&Xu(5,u);break;case 1:if(Sa(a,u),d&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(k){Me(u,u.return,k)}else{var m=Wo(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(m,o,a.__reactInternalSnapshotBeforeUpdate)}catch(k){Me(u,u.return,k)}}d&64&&D1(u),d&512&&Qu(u,u.return);break;case 3:if(Sa(a,u),d&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{yw(a,o)}catch(k){Me(u,u.return,k)}}break;case 27:o===null&&d&4&&P1(u);case 26:case 5:Sa(a,u),o===null&&d&4&&I1(u),d&512&&Qu(u,u.return);break;case 12:Sa(a,u);break;case 13:Sa(a,u),d&4&&U1(a,u),d&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=t2.bind(null,u),_2(a,u))));break;case 22:if(d=u.memoizedState!==null||Nr,!d){o=o!==null&&o.memoizedState!==null||en,m=Nr;var b=en;Nr=d,(en=o)&&!b?Ta(a,u,(u.subtreeFlags&8772)!==0):Sa(a,u),Nr=m,en=b}break;case 30:break;default:Sa(a,u)}}function V1(a){var o=a.alternate;o!==null&&(a.alternate=null,V1(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&fa(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Fe=null,xi=!1;function Lr(a,o,u){for(u=u.child;u!==null;)j1(a,o,u),u=u.sibling}function j1(a,o,u){if(pe&&typeof pe.onCommitFiberUnmount=="function")try{pe.onCommitFiberUnmount(me,u)}catch{}switch(u.tag){case 26:en||Us(u,o),Lr(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:en||Us(u,o);var d=Fe,m=xi;Ma(u.type)&&(Fe=u.stateNode,xi=!1),Lr(a,o,u),ah(u.stateNode),Fe=d,xi=m;break;case 5:en||Us(u,o);case 6:if(d=Fe,m=xi,Fe=null,Lr(a,o,u),Fe=d,xi=m,Fe!==null)if(xi)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(u.stateNode)}catch(b){Me(u,o,b)}else try{Fe.removeChild(u.stateNode)}catch(b){Me(u,o,b)}break;case 18:Fe!==null&&(xi?(a=Fe,AE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),ph(a)):AE(Fe,u.stateNode));break;case 4:d=Fe,m=xi,Fe=u.stateNode.containerInfo,xi=!0,Lr(a,o,u),Fe=d,xi=m;break;case 0:case 11:case 14:case 15:en||Ea(2,u,o),en||Ea(4,u,o),Lr(a,o,u);break;case 1:en||(Us(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"&&M1(u,o,d)),Lr(a,o,u);break;case 21:Lr(a,o,u);break;case 22:en=(d=en)||u.memoizedState!==null,Lr(a,o,u),en=d;break;default:Lr(a,o,u)}}function U1(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{ph(a)}catch(u){Me(o,o.return,u)}}function WO(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new N1),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new N1),o;default:throw Error(i(435,a.tag))}}function h_(a,o){var u=WO(a);o.forEach(function(d){var m=e2.bind(null,a,d);u.has(d)||(u.add(d),d.then(m,m))})}function Ii(a,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d],b=a,k=o,O=k;t:for(;O!==null;){switch(O.tag){case 27:if(Ma(O.type)){Fe=O.stateNode,xi=!1;break t}break;case 5:Fe=O.stateNode,xi=!1;break t;case 3:case 4:Fe=O.stateNode.containerInfo,xi=!0;break t}O=O.return}if(Fe===null)throw Error(i(160));j1(b,k,m),Fe=null,xi=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)z1(o,a),o=o.sibling}var fs=null;function z1(a,o){var u=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ii(o,a),Oi(a),d&4&&(Ea(3,a,a.return),Xu(3,a),Ea(5,a,a.return));break;case 1:Ii(o,a),Oi(a),d&512&&(en||u===null||Us(u,u.return)),d&64&&Nr&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var m=fs;if(Ii(o,a),Oi(a),d&512&&(en||u===null||Us(u,u.return)),d&4){var b=u!==null?u.memoizedState:null;if(d=a.memoizedState,u===null)if(d===null)if(a.stateNode===null){t:{d=a.type,u=a.memoizedProps,m=m.ownerDocument||m;e:switch(d){case"title":b=m.getElementsByTagName("title")[0],(!b||b[xo]||b[bn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(d),m.head.insertBefore(b,m.querySelector("head > title"))),Wn(b,d,u),b[bn]=a,Je(b),d=b;break t;case"link":var k=PE("link","href",m).get(d+(u.href||""));if(k){for(var O=0;O<k.length;O++)if(b=k[O],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){k.splice(O,1);break e}}b=m.createElement(d),Wn(b,d,u),m.head.appendChild(b);break;case"meta":if(k=PE("meta","content",m).get(d+(u.content||""))){for(O=0;O<k.length;O++)if(b=k[O],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){k.splice(O,1);break e}}b=m.createElement(d),Wn(b,d,u),m.head.appendChild(b);break;default:throw Error(i(468,d))}b[bn]=a,Je(b),d=b}a.stateNode=d}else NE(m,a.type,a.stateNode);else a.stateNode=OE(m,d,a.memoizedProps);else b!==d?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,d===null?NE(m,a.type,a.stateNode):OE(m,d,a.memoizedProps)):d===null&&a.stateNode!==null&&o_(a,a.memoizedProps,u.memoizedProps)}break;case 27:Ii(o,a),Oi(a),d&512&&(en||u===null||Us(u,u.return)),u!==null&&d&4&&o_(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Ii(o,a),Oi(a),d&512&&(en||u===null||Us(u,u.return)),a.flags&32){m=a.stateNode;try{Wi(m,"")}catch(at){Me(a,a.return,at)}}d&4&&a.stateNode!=null&&(m=a.memoizedProps,o_(a,m,u!==null?u.memoizedProps:m)),d&1024&&(u_=!0);break;case 6:if(Ii(o,a),Oi(a),d&4){if(a.stateNode===null)throw Error(i(162));d=a.memoizedProps,u=a.stateNode;try{u.nodeValue=d}catch(at){Me(a,a.return,at)}}break;case 3:if(fp=null,m=fs,fs=up(o.containerInfo),Ii(o,a),fs=m,Oi(a),d&4&&u!==null&&u.memoizedState.isDehydrated)try{ph(o.containerInfo)}catch(at){Me(a,a.return,at)}u_&&(u_=!1,B1(a));break;case 4:d=fs,fs=up(a.stateNode.containerInfo),Ii(o,a),Oi(a),fs=d;break;case 12:Ii(o,a),Oi(a);break;case 13:Ii(o,a),Oi(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(y_=kn()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,h_(a,d)));break;case 22:m=a.memoizedState!==null;var W=u!==null&&u.memoizedState!==null,nt=Nr,ht=en;if(Nr=nt||m,en=ht||W,Ii(o,a),en=ht,Nr=nt,Oi(a),d&8192)t:for(o=a.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(u===null||W||Nr||en||Yo(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){W=u=o;try{if(b=W.stateNode,m)k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{O=W.stateNode;var mt=W.memoizedProps.style,rt=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;O.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(at){Me(W,W.return,at)}}}else if(o.tag===6){if(u===null){W=o;try{W.stateNode.nodeValue=m?"":W.memoizedProps}catch(at){Me(W,W.return,at)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break t;for(;o.sibling===null;){if(o.return===null||o.return===a)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=a.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,h_(a,u))));break;case 19:Ii(o,a),Oi(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,h_(a,d)));break;case 30:break;case 21:break;default:Ii(o,a),Oi(a)}}function Oi(a){var o=a.flags;if(o&2){try{for(var u,d=a.return;d!==null;){if(O1(d)){u=d;break}d=d.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var m=u.stateNode,b=l_(a);Qd(a,b,m);break;case 5:var k=u.stateNode;u.flags&32&&(Wi(k,""),u.flags&=-33);var O=l_(a);Qd(a,O,k);break;case 3:case 4:var W=u.stateNode.containerInfo,nt=l_(a);c_(a,nt,W);break;default:throw Error(i(161))}}catch(ht){Me(a,a.return,ht)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function B1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;B1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Sa(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)L1(a,o.alternate,o),o=o.sibling}function Yo(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Ea(4,o,o.return),Yo(o);break;case 1:Us(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&M1(o,o.return,u),Yo(o);break;case 27:ah(o.stateNode);case 26:case 5:Us(o,o.return),Yo(o);break;case 22:o.memoizedState===null&&Yo(o);break;case 30:Yo(o);break;default:Yo(o)}a=a.sibling}}function Ta(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,m=a,b=o,k=b.flags;switch(b.tag){case 0:case 11:case 15:Ta(m,b,u),Xu(4,b);break;case 1:if(Ta(m,b,u),d=b,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(nt){Me(d,d.return,nt)}if(d=b,m=d.updateQueue,m!==null){var O=d.stateNode;try{var W=m.shared.hiddenCallbacks;if(W!==null)for(m.shared.hiddenCallbacks=null,m=0;m<W.length;m++)mw(W[m],O)}catch(nt){Me(d,d.return,nt)}}u&&k&64&&D1(b),Qu(b,b.return);break;case 27:P1(b);case 26:case 5:Ta(m,b,u),u&&d===null&&k&4&&I1(b),Qu(b,b.return);break;case 12:Ta(m,b,u);break;case 13:Ta(m,b,u),u&&k&4&&U1(m,b);break;case 22:b.memoizedState===null&&Ta(m,b,u),Qu(b,b.return);break;case 30:break;default:Ta(m,b,u)}o=o.sibling}}function f_(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Lu(u))}function d_(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Lu(a))}function zs(a,o,u,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)F1(a,o,u,d),o=o.sibling}function F1(a,o,u,d){var m=o.flags;switch(o.tag){case 0:case 11:case 15:zs(a,o,u,d),m&2048&&Xu(9,o);break;case 1:zs(a,o,u,d);break;case 3:zs(a,o,u,d),m&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Lu(a)));break;case 12:if(m&2048){zs(a,o,u,d),a=o.stateNode;try{var b=o.memoizedProps,k=b.id,O=b.onPostCommit;typeof O=="function"&&O(k,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(W){Me(o,o.return,W)}}else zs(a,o,u,d);break;case 13:zs(a,o,u,d);break;case 23:break;case 22:b=o.stateNode,k=o.alternate,o.memoizedState!==null?b._visibility&2?zs(a,o,u,d):Zu(a,o):b._visibility&2?zs(a,o,u,d):(b._visibility|=2,oc(a,o,u,d,(o.subtreeFlags&10256)!==0)),m&2048&&f_(k,o);break;case 24:zs(a,o,u,d),m&2048&&d_(o.alternate,o);break;default:zs(a,o,u,d)}}function oc(a,o,u,d,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=a,k=o,O=u,W=d,nt=k.flags;switch(k.tag){case 0:case 11:case 15:oc(b,k,O,W,m),Xu(8,k);break;case 23:break;case 22:var ht=k.stateNode;k.memoizedState!==null?ht._visibility&2?oc(b,k,O,W,m):Zu(b,k):(ht._visibility|=2,oc(b,k,O,W,m)),m&&nt&2048&&f_(k.alternate,k);break;case 24:oc(b,k,O,W,m),m&&nt&2048&&d_(k.alternate,k);break;default:oc(b,k,O,W,m)}o=o.sibling}}function Zu(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,d=o,m=d.flags;switch(d.tag){case 22:Zu(u,d),m&2048&&f_(d.alternate,d);break;case 24:Zu(u,d),m&2048&&d_(d.alternate,d);break;default:Zu(u,d)}o=o.sibling}}var Ju=8192;function lc(a){if(a.subtreeFlags&Ju)for(a=a.child;a!==null;)q1(a),a=a.sibling}function q1(a){switch(a.tag){case 26:lc(a),a.flags&Ju&&a.memoizedState!==null&&M2(fs,a.memoizedState,a.memoizedProps);break;case 5:lc(a);break;case 3:case 4:var o=fs;fs=up(a.stateNode.containerInfo),lc(a),fs=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=Ju,Ju=16777216,lc(a),Ju=o):lc(a));break;default:lc(a)}}function $1(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function th(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];On=d,W1(d,a)}$1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)H1(a),a=a.sibling}function H1(a){switch(a.tag){case 0:case 11:case 15:th(a),a.flags&2048&&Ea(9,a,a.return);break;case 3:th(a);break;case 12:th(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Zd(a)):th(a);break;default:th(a)}}function Zd(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];On=d,W1(d,a)}$1(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Ea(8,o,o.return),Zd(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Zd(o));break;default:Zd(o)}a=a.sibling}}function W1(a,o){for(;On!==null;){var u=On;switch(u.tag){case 0:case 11:case 15:Ea(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Lu(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,On=d;else t:for(u=a;On!==null;){d=On;var m=d.sibling,b=d.return;if(V1(d),d===u){On=null;break t}if(m!==null){m.return=b,On=m;break t}On=b}}}var YO={getCacheForType:function(a){var o=ei(wn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u}},GO=typeof WeakMap=="function"?WeakMap:Map,we=0,Oe=null,te=null,ce=0,Ee=0,Pi=null,Aa=!1,cc=!1,p_=!1,Vr=0,Ke=0,ka=0,Go=0,g_=0,es=0,uc=0,eh=null,wi=null,m_=!1,y_=0,Jd=1/0,tp=null,Ra=null,Hn=0,Ca=null,hc=null,fc=0,__=0,b_=null,Y1=null,nh=0,v_=null;function Ni(){if((we&2)!==0&&ce!==0)return ce&-ce;if(q.T!==null){var a=Jl;return a!==0?a:k_()}return $i()}function G1(){es===0&&(es=(ce&536870912)===0||ge?Ht():536870912);var a=ts.current;return a!==null&&(a.flags|=32),es}function Li(a,o,u){(a===Oe&&(Ee===2||Ee===9)||a.cancelPendingCommit!==null)&&(dc(a,0),Da(a,ce,es,!1)),he(a,u),((we&2)===0||a!==Oe)&&(a===Oe&&((we&2)===0&&(Go|=u),Ke===4&&Da(a,ce,es,!1)),Bs(a))}function K1(a,o,u){if((we&6)!==0)throw Error(i(327));var d=!u&&(o&124)===0&&(o&a.expiredLanes)===0||gr(a,o),m=d?QO(a,o):E_(a,o,!0),b=d;do{if(m===0){cc&&!d&&Da(a,o,0,!1);break}else{if(u=a.current.alternate,b&&!KO(u)){m=E_(a,o,!1),b=!1;continue}if(m===2){if(b=o,a.errorRecoveryDisabledLanes&b)var k=0;else k=a.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){o=k;t:{var O=a;m=eh;var W=O.current.memoizedState.isDehydrated;if(W&&(dc(O,k).flags|=256),k=E_(O,k,!1),k!==2){if(p_&&!W){O.errorRecoveryDisabledLanes|=b,Go|=b,m=4;break t}b=wi,wi=m,b!==null&&(wi===null?wi=b:wi.push.apply(wi,b))}m=k}if(b=!1,m!==2)continue}}if(m===1){dc(a,0),Da(a,o,0,!0);break}t:{switch(d=a,b=m,b){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Da(d,o,es,!Aa);break t;case 2:wi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(m=y_+300-kn(),10<m)){if(Da(d,o,es,!Aa),pr(d,0,!0)!==0)break t;d.timeoutHandle=SE(X1.bind(null,d,u,wi,tp,m_,o,es,Go,uc,Aa,b,2,-0,0),m);break t}X1(d,u,wi,tp,m_,o,es,Go,uc,Aa,b,0,-0,0)}}break}while(!0);Bs(a)}function X1(a,o,u,d,m,b,k,O,W,nt,ht,mt,rt,at){if(a.timeoutHandle=-1,mt=o.subtreeFlags,(mt&8192||(mt&16785408)===16785408)&&(ch={stylesheets:null,count:0,unsuspend:D2},q1(o),mt=I2(),mt!==null)){a.cancelPendingCommit=mt(iE.bind(null,a,o,b,u,d,m,k,O,W,ht,1,rt,at)),Da(a,b,k,!nt);return}iE(a,o,b,u,d,m,k,O,W)}function KO(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var m=u[d],b=m.getSnapshot;m=m.value;try{if(!Di(b(),m))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Da(a,o,u,d){o&=~g_,o&=~Go,a.suspendedLanes|=o,a.pingedLanes&=~o,d&&(a.warmLanes|=o),d=a.expirationTimes;for(var m=o;0<m;){var b=31-Rn(m),k=1<<b;d[b]=-1,m&=~k}u!==0&&Wt(a,u,o)}function ep(){return(we&6)===0?(ih(0),!1):!0}function x_(){if(te!==null){if(Ee===0)var a=te.return;else a=te,Cr=Fo=null,jy(a),rc=null,Yu=0,a=te;for(;a!==null;)C1(a.alternate,a),a=a.return;te=null}}function dc(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,d2(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),x_(),Oe=a,te=u=Ar(a.current,null),ce=o,Ee=0,Pi=null,Aa=!1,cc=gr(a,o),p_=!1,uc=es=g_=Go=ka=Ke=0,wi=eh=null,m_=!1,(o&8)!==0&&(o|=o&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=o;0<d;){var m=31-Rn(d),b=1<<m;o|=a[m],d&=~b}return Vr=o,Ed(),u}function Q1(a,o){Xt=null,q.H=Fd,o===ju||o===Id?(o=pw(),Ee=3):o===hw?(o=pw(),Ee=4):Ee=o===g1?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Pi=o,te===null&&(Ke=1,Yd(a,Xi(o,a.current)))}function Z1(){var a=q.H;return q.H=Fd,a===null?Fd:a}function J1(){var a=q.A;return q.A=YO,a}function w_(){Ke=4,Aa||(ce&4194048)!==ce&&ts.current!==null||(cc=!0),(ka&134217727)===0&&(Go&134217727)===0||Oe===null||Da(Oe,ce,es,!1)}function E_(a,o,u){var d=we;we|=2;var m=Z1(),b=J1();(Oe!==a||ce!==o)&&(tp=null,dc(a,o)),o=!1;var k=Ke;t:do try{if(Ee!==0&&te!==null){var O=te,W=Pi;switch(Ee){case 8:x_(),k=6;break t;case 3:case 2:case 9:case 6:ts.current===null&&(o=!0);var nt=Ee;if(Ee=0,Pi=null,pc(a,O,W,nt),u&&cc){k=0;break t}break;default:nt=Ee,Ee=0,Pi=null,pc(a,O,W,nt)}}XO(),k=Ke;break}catch(ht){Q1(a,ht)}while(!0);return o&&a.shellSuspendCounter++,Cr=Fo=null,we=d,q.H=m,q.A=b,te===null&&(Oe=null,ce=0,Ed()),k}function XO(){for(;te!==null;)tE(te)}function QO(a,o){var u=we;we|=2;var d=Z1(),m=J1();Oe!==a||ce!==o?(tp=null,Jd=kn()+500,dc(a,o)):cc=gr(a,o);t:do try{if(Ee!==0&&te!==null){o=te;var b=Pi;e:switch(Ee){case 1:Ee=0,Pi=null,pc(a,o,b,1);break;case 2:case 9:if(fw(b)){Ee=0,Pi=null,eE(o);break}o=function(){Ee!==2&&Ee!==9||Oe!==a||(Ee=7),Bs(a)},b.then(o,o);break t;case 3:Ee=7;break t;case 4:Ee=5;break t;case 7:fw(b)?(Ee=0,Pi=null,eE(o)):(Ee=0,Pi=null,pc(a,o,b,7));break;case 5:var k=null;switch(te.tag){case 26:k=te.memoizedState;case 5:case 27:var O=te;if(!k||LE(k)){Ee=0,Pi=null;var W=O.sibling;if(W!==null)te=W;else{var nt=O.return;nt!==null?(te=nt,np(nt)):te=null}break e}}Ee=0,Pi=null,pc(a,o,b,5);break;case 6:Ee=0,Pi=null,pc(a,o,b,6);break;case 8:x_(),Ke=6;break t;default:throw Error(i(462))}}ZO();break}catch(ht){Q1(a,ht)}while(!0);return Cr=Fo=null,q.H=d,q.A=m,we=u,te!==null?0:(Oe=null,ce=0,Ed(),Ke)}function ZO(){for(;te!==null&&!qi();)tE(te)}function tE(a){var o=k1(a.alternate,a,Vr);a.memoizedProps=a.pendingProps,o===null?np(a):te=o}function eE(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=x1(u,o,o.pendingProps,o.type,void 0,ce);break;case 11:o=x1(u,o,o.pendingProps,o.type.render,o.ref,ce);break;case 5:jy(o);default:C1(u,o),o=te=nw(o,Vr),o=k1(u,o,Vr)}a.memoizedProps=a.pendingProps,o===null?np(a):te=o}function pc(a,o,u,d){Cr=Fo=null,jy(o),rc=null,Yu=0;var m=o.return;try{if(BO(a,m,o,u,ce)){Ke=1,Yd(a,Xi(u,a.current)),te=null;return}}catch(b){if(m!==null)throw te=m,b;Ke=1,Yd(a,Xi(u,a.current)),te=null;return}o.flags&32768?(ge||d===1?a=!0:cc||(ce&536870912)!==0?a=!1:(Aa=a=!0,(d===2||d===9||d===3||d===6)&&(d=ts.current,d!==null&&d.tag===13&&(d.flags|=16384))),nE(o,a)):np(o)}function np(a){var o=a;do{if((o.flags&32768)!==0){nE(o,Aa);return}a=o.return;var u=qO(o.alternate,o,Vr);if(u!==null){te=u;return}if(o=o.sibling,o!==null){te=o;return}te=o=a}while(o!==null);Ke===0&&(Ke=5)}function nE(a,o){do{var u=$O(a.alternate,a);if(u!==null){u.flags&=32767,te=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){te=a;return}te=a=u}while(a!==null);Ke=6,te=null}function iE(a,o,u,d,m,b,k,O,W){a.cancelPendingCommit=null;do ip();while(Hn!==0);if((we&6)!==0)throw Error(i(327));if(o!==null){if(o===a.current)throw Error(i(177));if(b=o.lanes|o.childLanes,b|=dy,Cn(a,u,b,k,O,W),a===Oe&&(te=Oe=null,ce=0),hc=o,Ca=a,fc=u,__=b,b_=m,Y1=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,n2(kt,function(){return lE(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=q.T,q.T=null,m=G.p,G.p=2,k=we,we|=4;try{HO(a,o,u)}finally{we=k,G.p=m,q.T=d}}Hn=1,sE(),rE(),aE()}}function sE(){if(Hn===1){Hn=0;var a=Ca,o=hc,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=q.T,q.T=null;var d=G.p;G.p=2;var m=we;we|=4;try{z1(o,a);var b=N_,k=Wx(a.containerInfo),O=b.focusedElem,W=b.selectionRange;if(k!==O&&O&&O.ownerDocument&&Hx(O.ownerDocument.documentElement,O)){if(W!==null&&ly(O)){var nt=W.start,ht=W.end;if(ht===void 0&&(ht=nt),"selectionStart"in O)O.selectionStart=nt,O.selectionEnd=Math.min(ht,O.value.length);else{var mt=O.ownerDocument||document,rt=mt&&mt.defaultView||window;if(rt.getSelection){var at=rt.getSelection(),zt=O.textContent.length,Nt=Math.min(W.start,zt),Re=W.end===void 0?Nt:Math.min(W.end,zt);!at.extend&&Nt>Re&&(k=Re,Re=Nt,Nt=k);var Z=$x(O,Nt),K=$x(O,Re);if(Z&&K&&(at.rangeCount!==1||at.anchorNode!==Z.node||at.anchorOffset!==Z.offset||at.focusNode!==K.node||at.focusOffset!==K.offset)){var et=mt.createRange();et.setStart(Z.node,Z.offset),at.removeAllRanges(),Nt>Re?(at.addRange(et),at.extend(K.node,K.offset)):(et.setEnd(K.node,K.offset),at.addRange(et))}}}}for(mt=[],at=O;at=at.parentNode;)at.nodeType===1&&mt.push({element:at,left:at.scrollLeft,top:at.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<mt.length;O++){var ft=mt[O];ft.element.scrollLeft=ft.left,ft.element.scrollTop=ft.top}}gp=!!P_,N_=P_=null}finally{we=m,G.p=d,q.T=u}}a.current=o,Hn=2}}function rE(){if(Hn===2){Hn=0;var a=Ca,o=hc,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=q.T,q.T=null;var d=G.p;G.p=2;var m=we;we|=4;try{L1(a,o.alternate,o)}finally{we=m,G.p=d,q.T=u}}Hn=3}}function aE(){if(Hn===4||Hn===3){Hn=0,hi();var a=Ca,o=hc,u=fc,d=Y1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Hn=5:(Hn=0,hc=Ca=null,oE(a,a.pendingLanes));var m=a.pendingLanes;if(m===0&&(Ra=null),ca(u),o=o.stateNode,pe&&typeof pe.onCommitFiberRoot=="function")try{pe.onCommitFiberRoot(me,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=q.T,m=G.p,G.p=2,q.T=null;try{for(var b=a.onRecoverableError,k=0;k<d.length;k++){var O=d[k];b(O.value,{componentStack:O.stack})}}finally{q.T=o,G.p=m}}(fc&3)!==0&&ip(),Bs(a),m=a.pendingLanes,(u&4194090)!==0&&(m&42)!==0?a===v_?nh++:(nh=0,v_=a):nh=0,ih(0)}}function oE(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Lu(o)))}function ip(a){return sE(),rE(),aE(),lE()}function lE(){if(Hn!==5)return!1;var a=Ca,o=__;__=0;var u=ca(fc),d=q.T,m=G.p;try{G.p=32>u?32:u,q.T=null,u=b_,b_=null;var b=Ca,k=fc;if(Hn=0,hc=Ca=null,fc=0,(we&6)!==0)throw Error(i(331));var O=we;if(we|=4,H1(b.current),F1(b,b.current,k,u),we=O,ih(0,!1),pe&&typeof pe.onPostCommitFiberRoot=="function")try{pe.onPostCommitFiberRoot(me,b)}catch{}return!0}finally{G.p=m,q.T=d,oE(a,o)}}function cE(a,o,u){o=Xi(u,o),o=Zy(a.stateNode,o,2),a=ba(a,o,2),a!==null&&(he(a,2),Bs(a))}function Me(a,o,u){if(a.tag===3)cE(a,a,u);else for(;o!==null;){if(o.tag===3){cE(o,a,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ra===null||!Ra.has(d))){a=Xi(u,a),u=d1(2),d=ba(o,u,2),d!==null&&(p1(u,d,o,a),he(d,2),Bs(d));break}}o=o.return}}function S_(a,o,u){var d=a.pingCache;if(d===null){d=a.pingCache=new GO;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(p_=!0,m.add(u),a=JO.bind(null,a,o,u),o.then(a,a))}function JO(a,o,u){var d=a.pingCache;d!==null&&d.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Oe===a&&(ce&u)===u&&(Ke===4||Ke===3&&(ce&62914560)===ce&&300>kn()-y_?(we&2)===0&&dc(a,0):g_|=u,uc===ce&&(uc=0)),Bs(a)}function uE(a,o){o===0&&(o=ye()),a=Kl(a,o),a!==null&&(he(a,o),Bs(a))}function t2(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),uE(a,u)}function e2(a,o){var u=0;switch(a.tag){case 13:var d=a.stateNode,m=a.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),uE(a,u)}function n2(a,o){return An(a,o)}var sp=null,gc=null,T_=!1,rp=!1,A_=!1,Ko=0;function Bs(a){a!==gc&&a.next===null&&(gc===null?sp=gc=a:gc=gc.next=a),rp=!0,T_||(T_=!0,s2())}function ih(a,o){if(!A_&&rp){A_=!0;do for(var u=!1,d=sp;d!==null;){if(a!==0){var m=d.pendingLanes;if(m===0)var b=0;else{var k=d.suspendedLanes,O=d.pingedLanes;b=(1<<31-Rn(42|a)+1)-1,b&=m&~(k&~O),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,pE(d,b))}else b=ce,b=pr(d,d===Oe?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||gr(d,b)||(u=!0,pE(d,b));d=d.next}while(u);A_=!1}}function i2(){hE()}function hE(){rp=T_=!1;var a=0;Ko!==0&&(f2()&&(a=Ko),Ko=0);for(var o=kn(),u=null,d=sp;d!==null;){var m=d.next,b=fE(d,o);b===0?(d.next=null,u===null?sp=m:u.next=m,m===null&&(gc=u)):(u=d,(a!==0||(b&3)!==0)&&(rp=!0)),d=m}ih(a)}function fE(a,o){for(var u=a.suspendedLanes,d=a.pingedLanes,m=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var k=31-Rn(b),O=1<<k,W=m[k];W===-1?((O&u)===0||(O&d)!==0)&&(m[k]=la(O,o)):W<=o&&(a.expiredLanes|=O),b&=~O}if(o=Oe,u=ce,u=pr(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,u===0||a===o&&(Ee===2||Ee===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&Jn(d),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||gr(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(d!==null&&Jn(d),ca(u)){case 2:case 8:u=It;break;case 32:u=kt;break;case 268435456:u=Qt;break;default:u=kt}return d=dE.bind(null,a),u=An(u,d),a.callbackPriority=o,a.callbackNode=u,o}return d!==null&&d!==null&&Jn(d),a.callbackPriority=2,a.callbackNode=null,2}function dE(a,o){if(Hn!==0&&Hn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(ip()&&a.callbackNode!==u)return null;var d=ce;return d=pr(a,a===Oe?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(K1(a,d,o),fE(a,kn()),a.callbackNode!=null&&a.callbackNode===u?dE.bind(null,a):null)}function pE(a,o){if(ip())return null;K1(a,o,!0)}function s2(){p2(function(){(we&6)!==0?An(bt,i2):hE()})}function k_(){return Ko===0&&(Ko=Ht()),Ko}function gE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Vl(""+a)}function mE(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function r2(a,o,u,d,m){if(o==="submit"&&u&&u.stateNode===m){var b=gE((m[an]||null).action),k=d.submitter;k&&(o=(o=k[an]||null)?gE(o.formAction):k.getAttribute("formAction"),o!==null&&(b=o,k=null));var O=new jl("action","action",null,d,m);a.push({event:O,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ko!==0){var W=k?mE(m,k):new FormData(m);Yy(u,{pending:!0,data:W,method:m.method,action:b},null,W)}}else typeof b=="function"&&(O.preventDefault(),W=k?mE(m,k):new FormData(m),Yy(u,{pending:!0,data:W,method:m.method,action:b},b,W))},currentTarget:m}]})}}for(var R_=0;R_<fy.length;R_++){var C_=fy[R_],a2=C_.toLowerCase(),o2=C_[0].toUpperCase()+C_.slice(1);hs(a2,"on"+o2)}hs(Kx,"onAnimationEnd"),hs(Xx,"onAnimationIteration"),hs(Qx,"onAnimationStart"),hs("dblclick","onDoubleClick"),hs("focusin","onFocus"),hs("focusout","onBlur"),hs(SO,"onTransitionRun"),hs(TO,"onTransitionStart"),hs(AO,"onTransitionCancel"),hs(Zx,"onTransitionEnd"),yr("onMouseEnter",["mouseout","mouseover"]),yr("onMouseLeave",["mouseout","mouseover"]),yr("onPointerEnter",["pointerout","pointerover"]),yr("onPointerLeave",["pointerout","pointerover"]),cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sh));function yE(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var d=a[u],m=d.event;d=d.listeners;t:{var b=void 0;if(o)for(var k=d.length-1;0<=k;k--){var O=d[k],W=O.instance,nt=O.currentTarget;if(O=O.listener,W!==b&&m.isPropagationStopped())break t;b=O,m.currentTarget=nt;try{b(m)}catch(ht){Wd(ht)}m.currentTarget=null,b=W}else for(k=0;k<d.length;k++){if(O=d[k],W=O.instance,nt=O.currentTarget,O=O.listener,W!==b&&m.isPropagationStopped())break t;b=O,m.currentTarget=nt;try{b(m)}catch(ht){Wd(ht)}m.currentTarget=null,b=W}}}}function ee(a,o){var u=o[gu];u===void 0&&(u=o[gu]=new Set);var d=a+"__bubble";u.has(d)||(_E(o,a,2,!1),u.add(d))}function D_(a,o,u){var d=0;o&&(d|=4),_E(u,a,d,o)}var ap="_reactListening"+Math.random().toString(36).slice(2);function M_(a){if(!a[ap]){a[ap]=!0,mu.forEach(function(u){u!=="selectionchange"&&(l2.has(u)||D_(u,!1,a),D_(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[ap]||(o[ap]=!0,D_("selectionchange",!1,o))}}function _E(a,o,u,d){switch(FE(o)){case 2:var m=N2;break;case 8:m=L2;break;default:m=H_}u=m.bind(null,o,u,a),m=void 0,!Gi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?a.addEventListener(o,u,{capture:!0,passive:m}):a.addEventListener(o,u,!0):m!==void 0?a.addEventListener(o,u,{passive:m}):a.addEventListener(o,u,!1)}function I_(a,o,u,d,m){var b=d;if((o&1)===0&&(o&2)===0&&d!==null)t:for(;;){if(d===null)return;var k=d.tag;if(k===3||k===4){var O=d.stateNode.containerInfo;if(O===m)break;if(k===4)for(k=d.return;k!==null;){var W=k.tag;if((W===3||W===4)&&k.stateNode.containerInfo===m)return;k=k.return}for(;O!==null;){if(k=mr(O),k===null)return;if(W=k.tag,W===5||W===6||W===26||W===27){d=b=k;continue t}O=O.parentNode}}d=d.return}ld(function(){var nt=b,ht=Yi(u),mt=[];t:{var rt=Jx.get(a);if(rt!==void 0){var at=jl,zt=a;switch(a){case"keypress":if(Is(u)===0)break t;case"keydown":case"keyup":at=$l;break;case"focusin":zt="focus",at=Bl;break;case"focusout":zt="blur",at=Bl;break;case"beforeblur":case"afterblur":at=Bl;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=Ki;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=sy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=md;break;case Kx:case Xx:case Qx:at=Fl;break;case Zx:at=_d;break;case"scroll":case"scrollend":at=cd;break;case"wheel":at=Hl;break;case"copy":case"cut":case"paste":at=ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=Ru;break;case"toggle":case"beforetoggle":at=vd}var Nt=(o&4)!==0,Re=!Nt&&(a==="scroll"||a==="scrollend"),Z=Nt?rt!==null?rt+"Capture":null:rt;Nt=[];for(var K=nt,et;K!==null;){var ft=K;if(et=ft.stateNode,ft=ft.tag,ft!==5&&ft!==26&&ft!==27||et===null||Z===null||(ft=Ro(K,Z),ft!=null&&Nt.push(rh(K,ft,et))),Re)break;K=K.return}0<Nt.length&&(rt=new at(rt,zt,null,u,ht),mt.push({event:rt,listeners:Nt}))}}if((o&7)===0){t:{if(rt=a==="mouseover"||a==="pointerover",at=a==="mouseout"||a==="pointerout",rt&&u!==vr&&(zt=u.relatedTarget||u.fromElement)&&(mr(zt)||zt[Hi]))break t;if((at||rt)&&(rt=ht.window===ht?ht:(rt=ht.ownerDocument)?rt.defaultView||rt.parentWindow:window,at?(zt=u.relatedTarget||u.toElement,at=nt,zt=zt?mr(zt):null,zt!==null&&(Re=r(zt),Nt=zt.tag,zt!==Re||Nt!==5&&Nt!==27&&Nt!==6)&&(zt=null)):(at=null,zt=nt),at!==zt)){if(Nt=Ki,ft="onMouseLeave",Z="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(Nt=Ru,ft="onPointerLeave",Z="onPointerEnter",K="pointer"),Re=at==null?rt:Rs(at),et=zt==null?rt:Rs(zt),rt=new Nt(ft,K+"leave",at,u,ht),rt.target=Re,rt.relatedTarget=et,ft=null,mr(ht)===nt&&(Nt=new Nt(Z,K+"enter",zt,u,ht),Nt.target=et,Nt.relatedTarget=Re,ft=Nt),Re=ft,at&&zt)e:{for(Nt=at,Z=zt,K=0,et=Nt;et;et=mc(et))K++;for(et=0,ft=Z;ft;ft=mc(ft))et++;for(;0<K-et;)Nt=mc(Nt),K--;for(;0<et-K;)Z=mc(Z),et--;for(;K--;){if(Nt===Z||Z!==null&&Nt===Z.alternate)break e;Nt=mc(Nt),Z=mc(Z)}Nt=null}else Nt=null;at!==null&&bE(mt,rt,at,Nt,!1),zt!==null&&Re!==null&&bE(mt,Re,zt,Nt,!0)}}t:{if(rt=nt?Rs(nt):window,at=rt.nodeName&&rt.nodeName.toLowerCase(),at==="select"||at==="input"&&rt.type==="file")var Ct=jx;else if(xn(rt))if(Ux)Ct=xO;else{Ct=bO;var Zt=_O}else at=rt.nodeName,!at||at.toLowerCase()!=="input"||rt.type!=="checkbox"&&rt.type!=="radio"?nt&&xu(nt.elementType)&&(Ct=jx):Ct=vO;if(Ct&&(Ct=Ct(a,nt))){Tr(mt,Ct,u,ht);break t}Zt&&Zt(a,rt,nt),a==="focusout"&&nt&&rt.type==="number"&&nt.memoizedProps.value!=null&&pa(rt,"number",rt.value)}switch(Zt=nt?Rs(nt):window,a){case"focusin":(xn(Zt)||Zt.contentEditable==="true")&&(Wl=Zt,cy=nt,Mu=null);break;case"focusout":Mu=cy=Wl=null;break;case"mousedown":uy=!0;break;case"contextmenu":case"mouseup":case"dragend":uy=!1,Yx(mt,u,ht);break;case"selectionchange":if(EO)break;case"keydown":case"keyup":Yx(mt,u,ht)}var Dt;if(Ns)t:{switch(a){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else oe?ct(a,u)&&(Lt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Lt="onCompositionStart");Lt&&(T&&u.locale!=="ko"&&(oe||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&oe&&(Dt=Eu()):(Ms=ht,ga="value"in Ms?Ms.value:Ms.textContent,oe=!0)),Zt=op(nt,Lt),0<Zt.length&&(Lt=new Au(Lt,a,null,u,ht),mt.push({event:Lt,listeners:Zt}),Dt?Lt.data=Dt:(Dt=xt(u),Dt!==null&&(Lt.data=Dt)))),(Dt=x?vn(a,u):le(a,u))&&(Lt=op(nt,"onBeforeInput"),0<Lt.length&&(Zt=new Au("onBeforeInput","beforeinput",null,u,ht),mt.push({event:Zt,listeners:Lt}),Zt.data=Dt)),r2(mt,a,nt,u,ht)}yE(mt,o)})}function rh(a,o,u){return{instance:a,listener:o,currentTarget:u}}function op(a,o){for(var u=o+"Capture",d=[];a!==null;){var m=a,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=Ro(a,u),m!=null&&d.unshift(rh(a,m,b)),m=Ro(a,o),m!=null&&d.push(rh(a,m,b))),a.tag===3)return d;a=a.return}return[]}function mc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function bE(a,o,u,d,m){for(var b=o._reactName,k=[];u!==null&&u!==d;){var O=u,W=O.alternate,nt=O.stateNode;if(O=O.tag,W!==null&&W===d)break;O!==5&&O!==26&&O!==27||nt===null||(W=nt,m?(nt=Ro(u,b),nt!=null&&k.unshift(rh(u,nt,W))):m||(nt=Ro(u,b),nt!=null&&k.push(rh(u,nt,W)))),u=u.return}k.length!==0&&a.push({event:o,listeners:k})}var c2=/\r\n?/g,u2=/\u0000|\uFFFD/g;function vE(a){return(typeof a=="string"?a:""+a).replace(c2,`
`).replace(u2,"")}function xE(a,o){return o=vE(o),vE(a)===o}function lp(){}function ke(a,o,u,d,m,b){switch(u){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||Wi(a,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&Wi(a,""+d);break;case"className":Cs(a,"class",d);break;case"tabIndex":Cs(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Cs(a,u,d);break;case"style":vu(a,d,b);break;case"data":if(o!=="object"){Cs(a,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=Vl(""+d),a.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&ke(a,o,"name",m.name,m,null),ke(a,o,"formEncType",m.formEncType,m,null),ke(a,o,"formMethod",m.formMethod,m,null),ke(a,o,"formTarget",m.formTarget,m,null)):(ke(a,o,"encType",m.encType,m,null),ke(a,o,"method",m.method,m,null),ke(a,o,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=Vl(""+d),a.setAttribute(u,d);break;case"onClick":d!=null&&(a.onclick=lp);break;case"onScroll":d!=null&&ee("scroll",a);break;case"onScrollEnd":d!=null&&ee("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(m.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}u=Vl(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""+d):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":d===!0?a.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,d):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(u,d):a.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(u):a.setAttribute(u,d);break;case"popover":ee("beforetoggle",a),ee("toggle",a),da(a,"popover",d);break;case"xlinkActuate":Fn(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Fn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Fn(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Fn(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Fn(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Fn(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Fn(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Fn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Fn(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":da(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=ny.get(u)||u,da(a,u,d))}}function O_(a,o,u,d,m,b){switch(u){case"style":vu(a,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(m.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"children":typeof d=="string"?Wi(a,d):(typeof d=="number"||typeof d=="bigint")&&Wi(a,""+d);break;case"onScroll":d!=null&&ee("scroll",a);break;case"onScrollEnd":d!=null&&ee("scrollend",a);break;case"onClick":d!=null&&(a.onclick=lp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Il.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),o=u.slice(2,m?u.length-7:void 0),b=a[an]||null,b=b!=null?b[u]:null,typeof b=="function"&&a.removeEventListener(o,b,m),typeof d=="function")){typeof b!="function"&&b!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,d,m);break t}u in a?a[u]=d:d===!0?a.setAttribute(u,""):da(a,u,d)}}}function Wn(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ee("error",a),ee("load",a);var d=!1,m=!1,b;for(b in u)if(u.hasOwnProperty(b)){var k=u[b];if(k!=null)switch(b){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ke(a,o,b,k,u,null)}}m&&ke(a,o,"srcSet",u.srcSet,u,null),d&&ke(a,o,"src",u.src,u,null);return;case"input":ee("invalid",a);var O=b=k=m=null,W=null,nt=null;for(d in u)if(u.hasOwnProperty(d)){var ht=u[d];if(ht!=null)switch(d){case"name":m=ht;break;case"type":k=ht;break;case"checked":W=ht;break;case"defaultChecked":nt=ht;break;case"value":b=ht;break;case"defaultValue":O=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(i(137,o));break;default:ke(a,o,d,ht,u,null)}}To(a,b,O,W,nt,k,m,!1),Ll(a);return;case"select":ee("invalid",a),d=k=b=null;for(m in u)if(u.hasOwnProperty(m)&&(O=u[m],O!=null))switch(m){case"value":b=O;break;case"defaultValue":k=O;break;case"multiple":d=O;default:ke(a,o,m,O,u,null)}o=b,u=k,a.multiple=!!d,o!=null?br(a,!!d,o,!1):u!=null&&br(a,!!d,u,!0);return;case"textarea":ee("invalid",a),b=m=d=null;for(k in u)if(u.hasOwnProperty(k)&&(O=u[k],O!=null))switch(k){case"value":d=O;break;case"defaultValue":m=O;break;case"children":b=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:ke(a,o,k,O,u,null)}Ao(a,d,m,b),Ll(a);return;case"option":for(W in u)if(u.hasOwnProperty(W)&&(d=u[W],d!=null))switch(W){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ke(a,o,W,d,u,null)}return;case"dialog":ee("beforetoggle",a),ee("toggle",a),ee("cancel",a),ee("close",a);break;case"iframe":case"object":ee("load",a);break;case"video":case"audio":for(d=0;d<sh.length;d++)ee(sh[d],a);break;case"image":ee("error",a),ee("load",a);break;case"details":ee("toggle",a);break;case"embed":case"source":case"link":ee("error",a),ee("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(nt in u)if(u.hasOwnProperty(nt)&&(d=u[nt],d!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ke(a,o,nt,d,u,null)}return;default:if(xu(o)){for(ht in u)u.hasOwnProperty(ht)&&(d=u[ht],d!==void 0&&O_(a,o,ht,d,u,void 0));return}}for(O in u)u.hasOwnProperty(O)&&(d=u[O],d!=null&&ke(a,o,O,d,u,null))}function h2(a,o,u,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,k=null,O=null,W=null,nt=null,ht=null;for(at in u){var mt=u[at];if(u.hasOwnProperty(at)&&mt!=null)switch(at){case"checked":break;case"value":break;case"defaultValue":W=mt;default:d.hasOwnProperty(at)||ke(a,o,at,null,d,mt)}}for(var rt in d){var at=d[rt];if(mt=u[rt],d.hasOwnProperty(rt)&&(at!=null||mt!=null))switch(rt){case"type":b=at;break;case"name":m=at;break;case"checked":nt=at;break;case"defaultChecked":ht=at;break;case"value":k=at;break;case"defaultValue":O=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(i(137,o));break;default:at!==mt&&ke(a,o,rt,at,d,mt)}}Ci(a,k,O,W,nt,ht,b,m);return;case"select":at=k=O=rt=null;for(b in u)if(W=u[b],u.hasOwnProperty(b)&&W!=null)switch(b){case"value":break;case"multiple":at=W;default:d.hasOwnProperty(b)||ke(a,o,b,null,d,W)}for(m in d)if(b=d[m],W=u[m],d.hasOwnProperty(m)&&(b!=null||W!=null))switch(m){case"value":rt=b;break;case"defaultValue":O=b;break;case"multiple":k=b;default:b!==W&&ke(a,o,m,b,d,W)}o=O,u=k,d=at,rt!=null?br(a,!!u,rt,!1):!!d!=!!u&&(o!=null?br(a,!!u,o,!0):br(a,!!u,u?[]:"",!1));return;case"textarea":at=rt=null;for(O in u)if(m=u[O],u.hasOwnProperty(O)&&m!=null&&!d.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:ke(a,o,O,null,d,m)}for(k in d)if(m=d[k],b=u[k],d.hasOwnProperty(k)&&(m!=null||b!=null))switch(k){case"value":rt=m;break;case"defaultValue":at=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==b&&ke(a,o,k,m,d,b)}Te(a,rt,at);return;case"option":for(var zt in u)if(rt=u[zt],u.hasOwnProperty(zt)&&rt!=null&&!d.hasOwnProperty(zt))switch(zt){case"selected":a.selected=!1;break;default:ke(a,o,zt,null,d,rt)}for(W in d)if(rt=d[W],at=u[W],d.hasOwnProperty(W)&&rt!==at&&(rt!=null||at!=null))switch(W){case"selected":a.selected=rt&&typeof rt!="function"&&typeof rt!="symbol";break;default:ke(a,o,W,rt,d,at)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nt in u)rt=u[Nt],u.hasOwnProperty(Nt)&&rt!=null&&!d.hasOwnProperty(Nt)&&ke(a,o,Nt,null,d,rt);for(nt in d)if(rt=d[nt],at=u[nt],d.hasOwnProperty(nt)&&rt!==at&&(rt!=null||at!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(i(137,o));break;default:ke(a,o,nt,rt,d,at)}return;default:if(xu(o)){for(var Re in u)rt=u[Re],u.hasOwnProperty(Re)&&rt!==void 0&&!d.hasOwnProperty(Re)&&O_(a,o,Re,void 0,d,rt);for(ht in d)rt=d[ht],at=u[ht],!d.hasOwnProperty(ht)||rt===at||rt===void 0&&at===void 0||O_(a,o,ht,rt,d,at);return}}for(var Z in u)rt=u[Z],u.hasOwnProperty(Z)&&rt!=null&&!d.hasOwnProperty(Z)&&ke(a,o,Z,null,d,rt);for(mt in d)rt=d[mt],at=u[mt],!d.hasOwnProperty(mt)||rt===at||rt==null&&at==null||ke(a,o,mt,rt,d,at)}var P_=null,N_=null;function cp(a){return a.nodeType===9?a:a.ownerDocument}function wE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EE(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function L_(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var V_=null;function f2(){var a=window.event;return a&&a.type==="popstate"?a===V_?!1:(V_=a,!0):(V_=null,!1)}var SE=typeof setTimeout=="function"?setTimeout:void 0,d2=typeof clearTimeout=="function"?clearTimeout:void 0,TE=typeof Promise=="function"?Promise:void 0,p2=typeof queueMicrotask=="function"?queueMicrotask:typeof TE<"u"?function(a){return TE.resolve(null).then(a).catch(g2)}:SE;function g2(a){setTimeout(function(){throw a})}function Ma(a){return a==="head"}function AE(a,o){var u=o,d=0,m=0;do{var b=u.nextSibling;if(a.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<d&&8>d){u=d;var k=a.ownerDocument;if(u&1&&ah(k.documentElement),u&2&&ah(k.body),u&4)for(u=k.head,ah(u),k=u.firstChild;k;){var O=k.nextSibling,W=k.nodeName;k[xo]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&k.rel.toLowerCase()==="stylesheet"||u.removeChild(k),k=O}}if(m===0){a.removeChild(b),ph(o);return}m--}else u==="$"||u==="$?"||u==="$!"?m++:d=u.charCodeAt(0)-48;else d=0;u=b}while(u);ph(o)}function j_(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":j_(u),fa(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function m2(a,o,u,d){for(;a.nodeType===1;){var m=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[xo])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==m.rel||a.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||a.getAttribute("title")!==(m.title==null?null:m.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(m.src==null?null:m.src)||a.getAttribute("type")!==(m.type==null?null:m.type)||a.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=ds(a.nextSibling),a===null)break}return null}function y2(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=ds(a.nextSibling),a===null))return null;return a}function U_(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function _2(a,o){var u=a.ownerDocument;if(a.data!=="$?"||u.readyState==="complete")o();else{var d=function(){o(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function ds(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}var z_=null;function kE(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return a;o--}else u==="/$"&&o++}a=a.previousSibling}return null}function RE(a,o,u){switch(o=cp(u),a){case"html":if(a=o.documentElement,!a)throw Error(i(452));return a;case"head":if(a=o.head,!a)throw Error(i(453));return a;case"body":if(a=o.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function ah(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);fa(a)}var ns=new Map,CE=new Set;function up(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var jr=G.d;G.d={f:b2,r:v2,D:x2,C:w2,L:E2,m:S2,X:A2,S:T2,M:k2};function b2(){var a=jr.f(),o=ep();return a||o}function v2(a){var o=ks(a);o!==null&&o.tag===5&&o.type==="form"?Kw(o):jr.r(a)}var yc=typeof document>"u"?null:document;function DE(a,o,u){var d=yc;if(d&&typeof o=="string"&&o){var m=on(o);m='link[rel="'+a+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),CE.has(m)||(CE.add(m),a={rel:a,crossOrigin:u,href:o},d.querySelector(m)===null&&(o=d.createElement("link"),Wn(o,"link",a),Je(o),d.head.appendChild(o)))}}function x2(a){jr.D(a),DE("dns-prefetch",a,null)}function w2(a,o){jr.C(a,o),DE("preconnect",a,o)}function E2(a,o,u){jr.L(a,o,u);var d=yc;if(d&&a&&o){var m='link[rel="preload"][as="'+on(o)+'"]';o==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+on(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+on(u.imageSizes)+'"]')):m+='[href="'+on(a)+'"]';var b=m;switch(o){case"style":b=_c(a);break;case"script":b=bc(a)}ns.has(b)||(a=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),ns.set(b,a),d.querySelector(m)!==null||o==="style"&&d.querySelector(oh(b))||o==="script"&&d.querySelector(lh(b))||(o=d.createElement("link"),Wn(o,"link",a),Je(o),d.head.appendChild(o)))}}function S2(a,o){jr.m(a,o);var u=yc;if(u&&a){var d=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+on(d)+'"][href="'+on(a)+'"]',b=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=bc(a)}if(!ns.has(b)&&(a=p({rel:"modulepreload",href:a},o),ns.set(b,a),u.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(lh(b)))return}d=u.createElement("link"),Wn(d,"link",a),Je(d),u.head.appendChild(d)}}}function T2(a,o,u){jr.S(a,o,u);var d=yc;if(d&&a){var m=di(d).hoistableStyles,b=_c(a);o=o||"default";var k=m.get(b);if(!k){var O={loading:0,preload:null};if(k=d.querySelector(oh(b)))O.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},u),(u=ns.get(b))&&B_(a,u);var W=k=d.createElement("link");Je(W),Wn(W,"link",a),W._p=new Promise(function(nt,ht){W.onload=nt,W.onerror=ht}),W.addEventListener("load",function(){O.loading|=1}),W.addEventListener("error",function(){O.loading|=2}),O.loading|=4,hp(k,o,d)}k={type:"stylesheet",instance:k,count:1,state:O},m.set(b,k)}}}function A2(a,o){jr.X(a,o);var u=yc;if(u&&a){var d=di(u).hoistableScripts,m=bc(a),b=d.get(m);b||(b=u.querySelector(lh(m)),b||(a=p({src:a,async:!0},o),(o=ns.get(m))&&F_(a,o),b=u.createElement("script"),Je(b),Wn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(m,b))}}function k2(a,o){jr.M(a,o);var u=yc;if(u&&a){var d=di(u).hoistableScripts,m=bc(a),b=d.get(m);b||(b=u.querySelector(lh(m)),b||(a=p({src:a,async:!0,type:"module"},o),(o=ns.get(m))&&F_(a,o),b=u.createElement("script"),Je(b),Wn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(m,b))}}function ME(a,o,u,d){var m=(m=J.current)?up(m):null;if(!m)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=_c(u.href),u=di(m).hoistableStyles,d=u.get(o),d||(d={type:"style",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=_c(u.href);var b=di(m).hoistableStyles,k=b.get(a);if(k||(m=m.ownerDocument||m,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,k),(b=m.querySelector(oh(a)))&&!b._p&&(k.instance=b,k.state.loading=5),ns.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ns.set(a,u),b||R2(m,a,u,k.state))),o&&d===null)throw Error(i(528,""));return k}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=bc(u),u=di(m).hoistableScripts,d=u.get(o),d||(d={type:"script",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function _c(a){return'href="'+on(a)+'"'}function oh(a){return'link[rel="stylesheet"]['+a+"]"}function IE(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function R2(a,o,u,d){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=a.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Wn(o,"link",u),Je(o),a.head.appendChild(o))}function bc(a){return'[src="'+on(a)+'"]'}function lh(a){return"script[async]"+a}function OE(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var d=a.querySelector('style[data-href~="'+on(u.href)+'"]');if(d)return o.instance=d,Je(d),d;var m=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),Je(d),Wn(d,"style",m),hp(d,u.precedence,a),o.instance=d;case"stylesheet":m=_c(u.href);var b=a.querySelector(oh(m));if(b)return o.state.loading|=4,o.instance=b,Je(b),b;d=IE(u),(m=ns.get(m))&&B_(d,m),b=(a.ownerDocument||a).createElement("link"),Je(b);var k=b;return k._p=new Promise(function(O,W){k.onload=O,k.onerror=W}),Wn(b,"link",d),o.state.loading|=4,hp(b,u.precedence,a),o.instance=b;case"script":return b=bc(u.src),(m=a.querySelector(lh(b)))?(o.instance=m,Je(m),m):(d=u,(m=ns.get(b))&&(d=p({},u),F_(d,m)),a=a.ownerDocument||a,m=a.createElement("script"),Je(m),Wn(m,"link",d),a.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,hp(d,u.precedence,a));return o.instance}function hp(a,o,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,b=m,k=0;k<d.length;k++){var O=d[k];if(O.dataset.precedence===o)b=O;else if(b!==m)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function B_(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function F_(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var fp=null;function PE(a,o,u){if(fp===null){var d=new Map,m=fp=new Map;m.set(u,d)}else m=fp,d=m.get(u),d||(d=new Map,m.set(u,d));if(d.has(a))return d;for(d.set(a,null),u=u.getElementsByTagName(a),m=0;m<u.length;m++){var b=u[m];if(!(b[xo]||b[bn]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var k=b.getAttribute(o)||"";k=a+k;var O=d.get(k);O?O.push(b):d.set(k,[b])}}return d}function NE(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function C2(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function LE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var ch=null;function D2(){}function M2(a,o,u){if(ch===null)throw Error(i(475));var d=ch;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=_c(u.href),b=a.querySelector(oh(m));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(d.count++,d=dp.bind(d),a.then(d,d)),o.state.loading|=4,o.instance=b,Je(b);return}b=a.ownerDocument||a,u=IE(u),(m=ns.get(m))&&B_(u,m),b=b.createElement("link"),Je(b);var k=b;k._p=new Promise(function(O,W){k.onload=O,k.onerror=W}),Wn(b,"link",u),o.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=dp.bind(d),a.addEventListener("load",o),a.addEventListener("error",o))}}function I2(){if(ch===null)throw Error(i(475));var a=ch;return a.stylesheets&&a.count===0&&q_(a,a.stylesheets),0<a.count?function(o){var u=setTimeout(function(){if(a.stylesheets&&q_(a,a.stylesheets),a.unsuspend){var d=a.unsuspend;a.unsuspend=null,d()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(u)}}:null}function dp(){if(this.count--,this.count===0){if(this.stylesheets)q_(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var pp=null;function q_(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,pp=new Map,o.forEach(O2,a),pp=null,dp.call(a))}function O2(a,o){if(!(o.state.loading&4)){var u=pp.get(a);if(u)var d=u.get(null);else{u=new Map,pp.set(a,u);for(var m=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var k=m[b];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(u.set(k.dataset.precedence,k),d=k)}d&&u.set(null,d)}m=o.instance,k=m.getAttribute("data-precedence"),b=u.get(k)||d,b===d&&u.set(null,m),u.set(k,m),this.count++,d=dp.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),b?b.parentNode.insertBefore(m,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(m,a.firstChild)),o.state.loading|=4}}var uh={$$typeof:L,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function P2(a,o,u,d,m,b,k,O){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.hiddenUpdates=Vt(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function VE(a,o,u,d,m,b,k,O,W,nt,ht,mt){return a=new P2(a,o,u,k,O,W,nt,mt),o=1,b===!0&&(o|=24),b=Mi(3,null,null,o),a.current=b,b.stateNode=a,o=Sy(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:d,isDehydrated:u,cache:o},Ry(b),a}function jE(a){return a?(a=Xl,a):Xl}function UE(a,o,u,d,m,b){m=jE(m),d.context===null?d.context=m:d.pendingContext=m,d=_a(o),d.payload={element:u},b=b===void 0?null:b,b!==null&&(d.callback=b),u=ba(a,d,o),u!==null&&(Li(u,a,o),zu(u,a,o))}function zE(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function $_(a,o){zE(a,o),(a=a.alternate)&&zE(a,o)}function BE(a){if(a.tag===13){var o=Kl(a,67108864);o!==null&&Li(o,a,67108864),$_(a,67108864)}}var gp=!0;function N2(a,o,u,d){var m=q.T;q.T=null;var b=G.p;try{G.p=2,H_(a,o,u,d)}finally{G.p=b,q.T=m}}function L2(a,o,u,d){var m=q.T;q.T=null;var b=G.p;try{G.p=8,H_(a,o,u,d)}finally{G.p=b,q.T=m}}function H_(a,o,u,d){if(gp){var m=W_(d);if(m===null)I_(a,o,d,mp,u),qE(a,d);else if(j2(m,a,o,u,d))d.stopPropagation();else if(qE(a,d),o&4&&-1<V2.indexOf(a)){for(;m!==null;){var b=ks(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var k=Ri(b.pendingLanes);if(k!==0){var O=b;for(O.pendingLanes|=2,O.entangledLanes|=2;k;){var W=1<<31-Rn(k);O.entanglements[1]|=W,k&=~W}Bs(b),(we&6)===0&&(Jd=kn()+500,ih(0))}}break;case 13:O=Kl(b,2),O!==null&&Li(O,b,2),ep(),$_(b,2)}if(b=W_(d),b===null&&I_(a,o,d,mp,u),b===m)break;m=b}m!==null&&d.stopPropagation()}else I_(a,o,d,null,u)}}function W_(a){return a=Yi(a),Y_(a)}var mp=null;function Y_(a){if(mp=null,a=mr(a),a!==null){var o=r(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return mp=a,null}function FE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case bt:return 2;case It:return 8;case kt:case At:return 32;case Qt:return 268435456;default:return 32}default:return 32}}var G_=!1,Ia=null,Oa=null,Pa=null,hh=new Map,fh=new Map,Na=[],V2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qE(a,o){switch(a){case"focusin":case"focusout":Ia=null;break;case"dragenter":case"dragleave":Oa=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":hh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":fh.delete(o.pointerId)}}function dh(a,o,u,d,m,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:b,targetContainers:[m]},o!==null&&(o=ks(o),o!==null&&BE(o)),a):(a.eventSystemFlags|=d,o=a.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),a)}function j2(a,o,u,d,m){switch(o){case"focusin":return Ia=dh(Ia,a,o,u,d,m),!0;case"dragenter":return Oa=dh(Oa,a,o,u,d,m),!0;case"mouseover":return Pa=dh(Pa,a,o,u,d,m),!0;case"pointerover":var b=m.pointerId;return hh.set(b,dh(hh.get(b)||null,a,o,u,d,m)),!0;case"gotpointercapture":return b=m.pointerId,fh.set(b,dh(fh.get(b)||null,a,o,u,d,m)),!0}return!1}function $E(a){var o=mr(a.target);if(o!==null){var u=r(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,ua(a.priority,function(){if(u.tag===13){var d=Ni();d=As(d);var m=Kl(u,d);m!==null&&Li(m,u,d),$_(u,d)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function yp(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=W_(a.nativeEvent);if(u===null){u=a.nativeEvent;var d=new u.constructor(u.type,u);vr=d,u.target.dispatchEvent(d),vr=null}else return o=ks(u),o!==null&&BE(o),a.blockedOn=u,!1;o.shift()}return!0}function HE(a,o,u){yp(a)&&u.delete(o)}function U2(){G_=!1,Ia!==null&&yp(Ia)&&(Ia=null),Oa!==null&&yp(Oa)&&(Oa=null),Pa!==null&&yp(Pa)&&(Pa=null),hh.forEach(HE),fh.forEach(HE)}function _p(a,o){a.blockedOn===o&&(a.blockedOn=null,G_||(G_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,U2)))}var bp=null;function WE(a){bp!==a&&(bp=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){bp===a&&(bp=null);for(var o=0;o<a.length;o+=3){var u=a[o],d=a[o+1],m=a[o+2];if(typeof d!="function"){if(Y_(d||u)===null)continue;break}var b=ks(u);b!==null&&(a.splice(o,3),o-=3,Yy(b,{pending:!0,data:m,method:u.method,action:d},d,m))}}))}function ph(a){function o(W){return _p(W,a)}Ia!==null&&_p(Ia,a),Oa!==null&&_p(Oa,a),Pa!==null&&_p(Pa,a),hh.forEach(o),fh.forEach(o);for(var u=0;u<Na.length;u++){var d=Na[u];d.blockedOn===a&&(d.blockedOn=null)}for(;0<Na.length&&(u=Na[0],u.blockedOn===null);)$E(u),u.blockedOn===null&&Na.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var m=u[d],b=u[d+1],k=m[an]||null;if(typeof b=="function")k||WE(u);else if(k){var O=null;if(b&&b.hasAttribute("formAction")){if(m=b,k=b[an]||null)O=k.formAction;else if(Y_(m)!==null)continue}else O=k.action;typeof O=="function"?u[d+1]=O:(u.splice(d,3),d-=3),WE(u)}}}function K_(a){this._internalRoot=a}vp.prototype.render=K_.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,d=Ni();UE(u,d,a,o,null,null)},vp.prototype.unmount=K_.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;UE(a.current,2,null,a,null,null),ep(),o[Hi]=null}};function vp(a){this._internalRoot=a}vp.prototype.unstable_scheduleHydration=function(a){if(a){var o=$i();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Na.length&&o!==0&&o<Na[u].priority;u++);Na.splice(u,0,a),u===0&&$E(a)}};var YE=t.version;if(YE!=="19.1.0")throw Error(i(527,YE,"19.1.0"));G.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=h(o),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var z2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xp.isDisabled&&xp.supportsFiber)try{me=xp.inject(z2),pe=xp}catch{}}return mh.createRoot=function(a,o){if(!s(a))throw Error(i(299));var u=!1,d="",m=c1,b=u1,k=h1,O=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks)),o=VE(a,1,!1,null,null,u,d,m,b,k,O,null),a[Hi]=o.current,M_(a),new K_(o)},mh.hydrateRoot=function(a,o,u){if(!s(a))throw Error(i(299));var d=!1,m="",b=c1,k=u1,O=h1,W=null,nt=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(O=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(W=u.unstable_transitionCallbacks),u.formState!==void 0&&(nt=u.formState)),o=VE(a,1,!0,o,u??null,d,m,b,k,O,W,nt),o.context=jE(null),u=o.current,d=Ni(),d=As(d),m=_a(d),m.callback=null,ba(u,m,d),u=d,o.current.lanes=u,he(o,u),Bs(o),a[Hi]=o.current,M_(a),new vp(o)},mh.version="19.1.0",mh}var iS;function J2(){if(iS)return Z_.exports;iS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Z_.exports=Z2(),Z_.exports}var tP=J2();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sS="popstate";function eP(e={}){function t(s,r){let{pathname:l="/",search:c="",hash:h=""}=Sl(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Qb("",{pathname:l,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){let l=s.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let h=s.location.href,f=h.indexOf("#");c=f===-1?h:h.slice(0,f)}return c+"#"+(typeof r=="string"?r:cf(r))}function i(s,r){Fi(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(r)})`)}return iP(t,n,i,e)}function $e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nP(){return Math.random().toString(36).substring(2,10)}function rS(e,t){return{usr:e.state,key:e.key,idx:t}}function Qb(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Sl(t):t,state:n,key:t&&t.key||i||nP()}}function cf({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Sl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function iP(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,l=s.history,c="POP",h=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function y(){c="POP";let S=p(),D=S==null?null:S-f;f=S,h&&h({action:c,location:A.location,delta:D})}function _(S,D){c="PUSH";let I=Qb(A.location,S,D);n&&n(I,S),f=p()+1;let L=rS(I,f),z=A.createHref(I);try{l.pushState(L,"",z)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(z)}r&&h&&h({action:c,location:A.location,delta:1})}function w(S,D){c="REPLACE";let I=Qb(A.location,S,D);n&&n(I,S),f=p();let L=rS(I,f),z=A.createHref(I);l.replaceState(L,"",z),r&&h&&h({action:c,location:A.location,delta:0})}function E(S){return sP(S)}let A={get action(){return c},get location(){return e(s,l)},listen(S){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(sS,y),h=S,()=>{s.removeEventListener(sS,y),h=null}},createHref(S){return t(s,S)},createURL:E,encodeLocation(S){let D=E(S);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:_,replace:w,go(S){return l.go(S)}};return A}function sP(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),$e(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:cf(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function hR(e,t,n="/"){return rP(e,t,n,!1)}function rP(e,t,n,i){let s=typeof t=="string"?Sl(t):t,r=ea(s.pathname||"/",n);if(r==null)return null;let l=fR(e);aP(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=yP(r);c=gP(l[h],f,i)}return c}function fR(e,t=[],n=[],i=""){let s=(r,l,c)=>{let h={relativePath:c===void 0?r.path||"":c,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};h.relativePath.startsWith("/")&&($e(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=Zr([i,h.relativePath]),p=n.concat(h);r.children&&r.children.length>0&&($e(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),fR(r.children,t,p,f)),!(r.path==null&&!r.index)&&t.push({path:f,score:dP(f,r.index),routesMeta:p})};return e.forEach((r,l)=>{var c;if(r.path===""||!((c=r.path)!=null&&c.includes("?")))s(r,l);else for(let h of dR(r.path))s(r,l,h)}),t}function dR(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let l=dR(i.join("/")),c=[];return c.push(...l.map(h=>h===""?r:[r,h].join("/"))),s&&c.push(...l),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function aP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:pP(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var oP=/^:[\w-]+$/,lP=3,cP=2,uP=1,hP=10,fP=-2,aS=e=>e==="*";function dP(e,t){let n=e.split("/"),i=n.length;return n.some(aS)&&(i+=fP),t&&(i+=cP),n.filter(s=>!aS(s)).reduce((s,r)=>s+(oP.test(r)?lP:r===""?uP:hP),i)}function pP(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function gP(e,t,n=!1){let{routesMeta:i}=e,s={},r="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],f=c===i.length-1,p=r==="/"?t:t.slice(r.length)||"/",y=Og({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),_=h.route;if(!y&&f&&n&&!i[i.length-1].route.index&&(y=Og({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:Zr([r,y.pathname]),pathnameBase:xP(Zr([r,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(r=Zr([r,y.pathnameBase]))}return l}function Og(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=mP(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let r=s[0],l=r.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:y},_)=>{if(p==="*"){let E=c[_]||"";l=r.slice(0,r.length-E.length).replace(/(.)\/+$/,"$1")}const w=c[_];return y&&!w?f[p]=void 0:f[p]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:r,pathnameBase:l,pattern:e}}function mP(e,t=!1,n=!0){Fi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function yP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ea(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function _P(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?Sl(e):e;return{pathname:n?n.startsWith("/")?n:bP(n,t):t,search:wP(i),hash:EP(s)}}function bP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function nb(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function sv(e){let t=vP(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function rv(e,t,n,i=!1){let s;typeof e=="string"?s=Sl(e):(s={...e},$e(!s.pathname||!s.pathname.includes("?"),nb("?","pathname","search",s)),$e(!s.pathname||!s.pathname.includes("#"),nb("#","pathname","hash",s)),$e(!s.search||!s.search.includes("#"),nb("#","search","hash",s)));let r=e===""||s.pathname==="",l=r?"/":s.pathname,c;if(l==null)c=n;else{let y=t.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;s.pathname=_.join("/")}c=y>=0?t[y]:"/"}let h=_P(s,c),f=l&&l!=="/"&&l.endsWith("/"),p=(r||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var Zr=e=>e.join("/").replace(/\/\/+/g,"/"),xP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,EP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function SP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var pR=["POST","PUT","PATCH","DELETE"];new Set(pR);var TP=["GET",...pR];new Set(TP);var nu=V.createContext(null);nu.displayName="DataRouter";var hm=V.createContext(null);hm.displayName="DataRouterState";V.createContext(!1);var gR=V.createContext({isTransitioning:!1});gR.displayName="ViewTransition";var AP=V.createContext(new Map);AP.displayName="Fetchers";var kP=V.createContext(null);kP.displayName="Await";var Ts=V.createContext(null);Ts.displayName="Navigation";var Lf=V.createContext(null);Lf.displayName="Location";var ar=V.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var av=V.createContext(null);av.displayName="RouteError";function RP(e,{relative:t}={}){$e(iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=V.useContext(Ts),{hash:s,pathname:r,search:l}=Vf(e,{relative:t}),c=r;return n!=="/"&&(c=r==="/"?n:Zr([n,r])),i.createHref({pathname:c,search:l,hash:s})}function iu(){return V.useContext(Lf)!=null}function or(){return $e(iu(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Lf).location}var mR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yR(e){V.useContext(Ts).static||V.useLayoutEffect(e)}function Tl(){let{isDataRoute:e}=V.useContext(ar);return e?BP():CP()}function CP(){$e(iu(),"useNavigate() may be used only in the context of a <Router> component.");let e=V.useContext(nu),{basename:t,navigator:n}=V.useContext(Ts),{matches:i}=V.useContext(ar),{pathname:s}=or(),r=JSON.stringify(sv(i)),l=V.useRef(!1);return yR(()=>{l.current=!0}),V.useCallback((h,f={})=>{if(Fi(l.current,mR),!l.current)return;if(typeof h=="number"){n.go(h);return}let p=rv(h,JSON.parse(r),s,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Zr([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,r,s,e])}V.createContext(null);function Vf(e,{relative:t}={}){let{matches:n}=V.useContext(ar),{pathname:i}=or(),s=JSON.stringify(sv(n));return V.useMemo(()=>rv(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function DP(e,t){return _R(e,t)}function _R(e,t,n,i){var D;$e(iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=V.useContext(Ts),{matches:r}=V.useContext(ar),l=r[r.length-1],c=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let I=p&&p.path||"";bR(h,!p||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let y=or(),_;if(t){let I=typeof t=="string"?Sl(t):t;$e(f==="/"||((D=I.pathname)==null?void 0:D.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${I.pathname}" was given in the \`location\` prop.`),_=I}else _=y;let w=_.pathname||"/",E=w;if(f!=="/"){let I=f.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(I.length).join("/")}let A=hR(e,{pathname:E});Fi(p||A!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Fi(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=NP(A&&A.map(I=>Object.assign({},I,{params:Object.assign({},c,I.params),pathname:Zr([f,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?f:Zr([f,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),r,n,i);return t&&S?V.createElement(Lf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},S):S}function MP(){let e=zP(),t=SP(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=V.createElement(V.Fragment,null,V.createElement("p",null,"💿 Hey developer 👋"),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:r},"ErrorBoundary")," or"," ",V.createElement("code",{style:r},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:s},n):null,l)}var IP=V.createElement(MP,null),OP=class extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?V.createElement(ar.Provider,{value:this.props.routeContext},V.createElement(av.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PP({routeContext:e,match:t,children:n}){let i=V.useContext(nu);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),V.createElement(ar.Provider,{value:e},n)}function NP(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,r=n==null?void 0:n.errors;if(r!=null){let h=s.findIndex(f=>f.route.id&&(r==null?void 0:r[f.route.id])!==void 0);$e(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(n)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:y}=n,_=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||_){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,f,p)=>{let y,_=!1,w=null,E=null;n&&(y=r&&f.route.id?r[f.route.id]:void 0,w=f.route.errorElement||IP,l&&(c<0&&p===0?(bR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):c===p&&(_=!0,E=f.route.hydrateFallbackElement||null)));let A=t.concat(s.slice(0,p+1)),S=()=>{let D;return y?D=w:_?D=E:f.route.Component?D=V.createElement(f.route.Component,null):f.route.element?D=f.route.element:D=h,V.createElement(PP,{match:f,routeContext:{outlet:h,matches:A,isDataRoute:n!=null},children:D})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?V.createElement(OP,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:S(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):S()},null)}function ov(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LP(e){let t=V.useContext(nu);return $e(t,ov(e)),t}function VP(e){let t=V.useContext(hm);return $e(t,ov(e)),t}function jP(e){let t=V.useContext(ar);return $e(t,ov(e)),t}function lv(e){let t=jP(e),n=t.matches[t.matches.length-1];return $e(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function UP(){return lv("useRouteId")}function zP(){var i;let e=V.useContext(av),t=VP("useRouteError"),n=lv("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function BP(){let{router:e}=LP("useNavigate"),t=lv("useNavigate"),n=V.useRef(!1);return yR(()=>{n.current=!0}),V.useCallback(async(s,r={})=>{Fi(n.current,mR),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...r}))},[e,t])}var oS={};function bR(e,t,n){!t&&!oS[e]&&(oS[e]=!0,Fi(!1,n))}V.memo(FP);function FP({routes:e,future:t,state:n}){return _R(e,void 0,n,t)}function ib({to:e,replace:t,state:n,relative:i}){$e(iu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=V.useContext(Ts);Fi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=V.useContext(ar),{pathname:l}=or(),c=Tl(),h=rv(e,sv(r),l,i==="path"),f=JSON.stringify(h);return V.useEffect(()=>{c(JSON.parse(f),{replace:t,state:n,relative:i})},[c,f,i,t,n]),null}function Ih(e){$e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qP({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:r=!1}){$e(!iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:l,navigator:s,static:r,future:{}}),[l,s,r]);typeof n=="string"&&(n=Sl(n));let{pathname:h="/",search:f="",hash:p="",state:y=null,key:_="default"}=n,w=V.useMemo(()=>{let E=ea(h,l);return E==null?null:{location:{pathname:E,search:f,hash:p,state:y,key:_},navigationType:i}},[l,h,f,p,y,_,i]);return Fi(w!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:V.createElement(Ts.Provider,{value:c},V.createElement(Lf.Provider,{children:t,value:w}))}function $P({children:e,location:t}){return DP(Zb(e),t)}function Zb(e,t=[]){let n=[];return V.Children.forEach(e,(i,s)=>{if(!V.isValidElement(i))return;let r=[...t,s];if(i.type===V.Fragment){n.push.apply(n,Zb(i.props.children,r));return}$e(i.type===Ih,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$e(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Zb(i.props.children,r)),n.push(l)}),n}var og="get",lg="application/x-www-form-urlencoded";function fm(e){return e!=null&&typeof e.tagName=="string"}function HP(e){return fm(e)&&e.tagName.toLowerCase()==="button"}function WP(e){return fm(e)&&e.tagName.toLowerCase()==="form"}function YP(e){return fm(e)&&e.tagName.toLowerCase()==="input"}function GP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KP(e,t){return e.button===0&&(!t||t==="_self")&&!GP(e)}function Jb(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(s=>[n,s]):[[n,i]])},[]))}function XP(e,t){let n=Jb(e);return t&&t.forEach((i,s)=>{n.has(s)||t.getAll(s).forEach(r=>{n.append(s,r)})}),n}var wp=null;function QP(){if(wp===null)try{new FormData(document.createElement("form"),0),wp=!1}catch{wp=!0}return wp}var ZP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sb(e){return e!=null&&!ZP.has(e)?(Fi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lg}"`),null):e}function JP(e,t){let n,i,s,r,l;if(WP(e)){let c=e.getAttribute("action");i=c?ea(c,t):null,n=e.getAttribute("method")||og,s=sb(e.getAttribute("enctype"))||lg,r=new FormData(e)}else if(HP(e)||YP(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||c.getAttribute("action");if(i=h?ea(h,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||og,s=sb(e.getAttribute("formenctype"))||sb(c.getAttribute("enctype"))||lg,r=new FormData(c,e),!QP()){let{name:f,type:p,value:y}=e;if(p==="image"){let _=f?`${f}.`:"";r.append(`${_}x`,"0"),r.append(`${_}y`,"0")}else f&&r.append(f,y)}}else{if(fm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=og,i=null,s=lg,l=e}return r&&s==="text/plain"&&(l=r,r=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:r,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tN(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&ea(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function eN(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function iN(e,t,n){let i=await Promise.all(e.map(async s=>{let r=t.routes[s.route.id];if(r){let l=await eN(r,n);return l.links?l.links():[]}return[]}));return oN(i.flat(1).filter(nN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function lS(e,t,n,i,s,r){let l=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,c=(h,f)=>{var p;return n[f].pathname!==h.pathname||((p=n[f].route.path)==null?void 0:p.endsWith("*"))&&n[f].params["*"]!==h.params["*"]};return r==="assets"?t.filter((h,f)=>l(h,f)||c(h,f)):r==="data"?t.filter((h,f)=>{var y;let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function sN(e,t,{includeHydrateFallback:n}={}){return rN(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function rN(e){return[...new Set(e)]}function aN(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function oN(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let r=JSON.stringify(aN(s));return n.has(r)||(n.add(r),i.push({key:r,link:s})),i},[])}function vR(){let e=V.useContext(nu);return cv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function lN(){let e=V.useContext(hm);return cv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var uv=V.createContext(void 0);uv.displayName="FrameworkContext";function xR(){let e=V.useContext(uv);return cv(e,"You must render this element inside a <HydratedRouter> element"),e}function cN(e,t){let n=V.useContext(uv),[i,s]=V.useState(!1),[r,l]=V.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:y}=t,_=V.useRef(null);V.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let A=D=>{D.forEach(I=>{l(I.isIntersecting)})},S=new IntersectionObserver(A,{threshold:.5});return _.current&&S.observe(_.current),()=>{S.disconnect()}}},[e]),V.useEffect(()=>{if(i){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[i]);let w=()=>{s(!0)},E=()=>{s(!1),l(!1)};return n?e!=="intent"?[r,_,{}]:[r,_,{onFocus:yh(c,w),onBlur:yh(h,E),onMouseEnter:yh(f,w),onMouseLeave:yh(p,E),onTouchStart:yh(y,w)}]:[!1,_,{}]}function yh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function uN({page:e,...t}){let{router:n}=vR(),i=V.useMemo(()=>hR(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?V.createElement(fN,{page:e,matches:i,...t}):null}function hN(e){let{manifest:t,routeModules:n}=xR(),[i,s]=V.useState([]);return V.useEffect(()=>{let r=!1;return iN(e,t,n).then(l=>{r||s(l)}),()=>{r=!0}},[e,t,n]),i}function fN({page:e,matches:t,...n}){let i=or(),{manifest:s,routeModules:r}=xR(),{basename:l}=vR(),{loaderData:c,matches:h}=lN(),f=V.useMemo(()=>lS(e,t,h,s,i,"data"),[e,t,h,s,i]),p=V.useMemo(()=>lS(e,t,h,s,i,"assets"),[e,t,h,s,i]),y=V.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let E=new Set,A=!1;if(t.forEach(D=>{var L;let I=s.routes[D.route.id];!I||!I.hasLoader||(!f.some(z=>z.route.id===D.route.id)&&D.route.id in c&&((L=r[D.route.id])!=null&&L.shouldRevalidate)||I.hasClientLoader?A=!0:E.add(D.route.id))}),E.size===0)return[];let S=tN(e,l,"data");return A&&E.size>0&&S.searchParams.set("_routes",t.filter(D=>E.has(D.route.id)).map(D=>D.route.id).join(",")),[S.pathname+S.search]},[l,c,i,s,f,t,e,r]),_=V.useMemo(()=>sN(p,s),[p,s]),w=hN(p);return V.createElement(V.Fragment,null,y.map(E=>V.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),_.map(E=>V.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),w.map(({key:E,link:A})=>V.createElement("link",{key:E,...A})))}function dN(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var wR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wR&&(window.__reactRouterVersion="7.7.0")}catch{}function pN({basename:e,children:t,window:n}){let i=V.useRef();i.current==null&&(i.current=eP({window:n,v5Compat:!0}));let s=i.current,[r,l]=V.useState({action:s.action,location:s.location}),c=V.useCallback(h=>{V.startTransition(()=>l(h))},[l]);return V.useLayoutEffect(()=>s.listen(c),[s,c]),V.createElement(qP,{basename:e,children:t,location:r.location,navigationType:r.action,navigator:s})}var ER=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SR=V.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:r,replace:l,state:c,target:h,to:f,preventScrollReset:p,viewTransition:y,..._},w){let{basename:E}=V.useContext(Ts),A=typeof f=="string"&&ER.test(f),S,D=!1;if(typeof f=="string"&&A&&(S=f,wR))try{let P=new URL(window.location.href),j=f.startsWith("//")?new URL(P.protocol+f):new URL(f),U=ea(j.pathname,E);j.origin===P.origin&&U!=null?f=U+j.search+j.hash:D=!0}catch{Fi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=RP(f,{relative:s}),[L,z,M]=cN(i,_),Y=_N(f,{replace:l,state:c,target:h,preventScrollReset:p,relative:s,viewTransition:y});function C(P){t&&t(P),P.defaultPrevented||Y(P)}let R=V.createElement("a",{..._,...M,href:S||I,onClick:D||r?t:C,ref:dN(w,z),target:h,"data-discover":!A&&n==="render"?"true":void 0});return L&&!A?V.createElement(V.Fragment,null,R,V.createElement(uN,{page:I})):R});SR.displayName="Link";var gN=V.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:r,to:l,viewTransition:c,children:h,...f},p){let y=Vf(l,{relative:f.relative}),_=or(),w=V.useContext(hm),{navigator:E,basename:A}=V.useContext(Ts),S=w!=null&&EN(y)&&c===!0,D=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,I=_.pathname,L=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(I=I.toLowerCase(),L=L?L.toLowerCase():null,D=D.toLowerCase()),L&&A&&(L=ea(L,A)||L);const z=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let M=I===D||!s&&I.startsWith(D)&&I.charAt(z)==="/",Y=L!=null&&(L===D||!s&&L.startsWith(D)&&L.charAt(D.length)==="/"),C={isActive:M,isPending:Y,isTransitioning:S},R=M?t:void 0,P;typeof i=="function"?P=i(C):P=[i,M?"active":null,Y?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let j=typeof r=="function"?r(C):r;return V.createElement(SR,{...f,"aria-current":R,className:P,ref:p,style:j,to:l,viewTransition:c},typeof h=="function"?h(C):h)});gN.displayName="NavLink";var mN=V.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:r,method:l=og,action:c,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:y,..._},w)=>{let E=xN(),A=wN(c,{relative:f}),S=l.toLowerCase()==="get"?"get":"post",D=typeof c=="string"&&ER.test(c),I=L=>{if(h&&h(L),L.defaultPrevented)return;L.preventDefault();let z=L.nativeEvent.submitter,M=(z==null?void 0:z.getAttribute("formmethod"))||l;E(z||L.currentTarget,{fetcherKey:t,method:M,navigate:n,replace:s,state:r,relative:f,preventScrollReset:p,viewTransition:y})};return V.createElement("form",{ref:w,method:S,action:A,onSubmit:i?h:I,..._,"data-discover":!D&&e==="render"?"true":void 0})});mN.displayName="Form";function yN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TR(e){let t=V.useContext(nu);return $e(t,yN(e)),t}function _N(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:r,viewTransition:l}={}){let c=Tl(),h=or(),f=Vf(e,{relative:r});return V.useCallback(p=>{if(KP(p,t)){p.preventDefault();let y=n!==void 0?n:cf(h)===cf(f);c(e,{replace:y,state:i,preventScrollReset:s,relative:r,viewTransition:l})}},[h,c,f,n,i,t,e,s,r,l])}function dm(e){Fi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=V.useRef(Jb(e)),n=V.useRef(!1),i=or(),s=V.useMemo(()=>XP(i.search,n.current?null:t.current),[i.search]),r=Tl(),l=V.useCallback((c,h)=>{const f=Jb(typeof c=="function"?c(new URLSearchParams(s)):c);n.current=!0,r("?"+f,h)},[r,s]);return[s,l]}var bN=0,vN=()=>`__${String(++bN)}__`;function xN(){let{router:e}=TR("useSubmit"),{basename:t}=V.useContext(Ts),n=UP();return V.useCallback(async(i,s={})=>{let{action:r,method:l,encType:c,formData:h,body:f}=JP(i,t);if(s.navigate===!1){let p=s.fetcherKey||vN();await e.fetch(p,n,s.action||r,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await e.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function wN(e,{relative:t}={}){let{basename:n}=V.useContext(Ts),i=V.useContext(ar);$e(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...Vf(e||".",{relative:t})},l=or();if(e==null){r.search=l.search;let c=new URLSearchParams(r.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();r.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:Zr([n,r.pathname])),cf(r)}function EN(e,t={}){let n=V.useContext(gR);$e(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=TR("useViewTransitionState"),s=Vf(e,{relative:t.relative});if(!n.isTransitioning)return!1;let r=ea(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=ea(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Og(s.pathname,l)!=null||Og(s.pathname,r)!=null}var Un=function(){return Un=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Un.apply(this,arguments)};function uf(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,r;i<s;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var Ne="-ms-",Wh="-moz-",be="-webkit-",AR="comm",pm="rule",hv="decl",SN="@import",kR="@keyframes",TN="@layer",RR=Math.abs,fv=String.fromCharCode,t0=Object.assign;function AN(e,t){return jn(e,0)^45?(((t<<2^jn(e,0))<<2^jn(e,1))<<2^jn(e,2))<<2^jn(e,3):0}function CR(e){return e.trim()}function Fr(e,t){return(e=t.exec(e))?e[0]:e}function Kt(e,t,n){return e.replace(t,n)}function cg(e,t,n){return e.indexOf(t,n)}function jn(e,t){return e.charCodeAt(t)|0}function Uc(e,t,n){return e.slice(t,n)}function Ys(e){return e.length}function DR(e){return e.length}function Oh(e,t){return t.push(e),e}function kN(e,t){return e.map(t).join("")}function cS(e,t){return e.filter(function(n){return!Fr(n,t)})}var gm=1,zc=1,MR=0,ls=0,pn=0,su="";function mm(e,t,n,i,s,r,l,c){return{value:e,root:t,parent:n,type:i,props:s,children:r,line:gm,column:zc,length:l,return:"",siblings:c}}function Ba(e,t){return t0(mm("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function vc(e){for(;e.root;)e=Ba(e.root,{children:[e]});Oh(e,e.siblings)}function RN(){return pn}function CN(){return pn=ls>0?jn(su,--ls):0,zc--,pn===10&&(zc=1,gm--),pn}function bs(){return pn=ls<MR?jn(su,ls++):0,zc++,pn===10&&(zc=1,gm++),pn}function cl(){return jn(su,ls)}function ug(){return ls}function ym(e,t){return Uc(su,e,t)}function e0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function DN(e){return gm=zc=1,MR=Ys(su=e),ls=0,[]}function MN(e){return su="",e}function rb(e){return CR(ym(ls-1,n0(e===91?e+2:e===40?e+1:e)))}function IN(e){for(;(pn=cl())&&pn<33;)bs();return e0(e)>2||e0(pn)>3?"":" "}function ON(e,t){for(;--t&&bs()&&!(pn<48||pn>102||pn>57&&pn<65||pn>70&&pn<97););return ym(e,ug()+(t<6&&cl()==32&&bs()==32))}function n0(e){for(;bs();)switch(pn){case e:return ls;case 34:case 39:e!==34&&e!==39&&n0(pn);break;case 40:e===41&&n0(e);break;case 92:bs();break}return ls}function PN(e,t){for(;bs()&&e+pn!==57;)if(e+pn===84&&cl()===47)break;return"/*"+ym(t,ls-1)+"*"+fv(e===47?e:bs())}function NN(e){for(;!e0(cl());)bs();return ym(e,ls)}function LN(e){return MN(hg("",null,null,null,[""],e=DN(e),0,[0],e))}function hg(e,t,n,i,s,r,l,c,h){for(var f=0,p=0,y=l,_=0,w=0,E=0,A=1,S=1,D=1,I=0,L="",z=s,M=r,Y=i,C=L;S;)switch(E=I,I=bs()){case 40:if(E!=108&&jn(C,y-1)==58){cg(C+=Kt(rb(I),"&","&\f"),"&\f",RR(f?c[f-1]:0))!=-1&&(D=-1);break}case 34:case 39:case 91:C+=rb(I);break;case 9:case 10:case 13:case 32:C+=IN(E);break;case 92:C+=ON(ug()-1,7);continue;case 47:switch(cl()){case 42:case 47:Oh(VN(PN(bs(),ug()),t,n,h),h);break;default:C+="/"}break;case 123*A:c[f++]=Ys(C)*D;case 125*A:case 59:case 0:switch(I){case 0:case 125:S=0;case 59+p:D==-1&&(C=Kt(C,/\f/g,"")),w>0&&Ys(C)-y&&Oh(w>32?hS(C+";",i,n,y-1,h):hS(Kt(C," ","")+";",i,n,y-2,h),h);break;case 59:C+=";";default:if(Oh(Y=uS(C,t,n,f,p,s,c,L,z=[],M=[],y,r),r),I===123)if(p===0)hg(C,t,Y,Y,z,r,y,c,M);else switch(_===99&&jn(C,3)===110?100:_){case 100:case 108:case 109:case 115:hg(e,Y,Y,i&&Oh(uS(e,Y,Y,0,0,s,c,L,s,z=[],y,M),M),s,M,y,c,i?z:M);break;default:hg(C,Y,Y,Y,[""],M,0,c,M)}}f=p=w=0,A=D=1,L=C="",y=l;break;case 58:y=1+Ys(C),w=E;default:if(A<1){if(I==123)--A;else if(I==125&&A++==0&&CN()==125)continue}switch(C+=fv(I),I*A){case 38:D=p>0?1:(C+="\f",-1);break;case 44:c[f++]=(Ys(C)-1)*D,D=1;break;case 64:cl()===45&&(C+=rb(bs())),_=cl(),p=y=Ys(L=C+=NN(ug())),I++;break;case 45:E===45&&Ys(C)==2&&(A=0)}}return r}function uS(e,t,n,i,s,r,l,c,h,f,p,y){for(var _=s-1,w=s===0?r:[""],E=DR(w),A=0,S=0,D=0;A<i;++A)for(var I=0,L=Uc(e,_+1,_=RR(S=l[A])),z=e;I<E;++I)(z=CR(S>0?w[I]+" "+L:Kt(L,/&\f/g,w[I])))&&(h[D++]=z);return mm(e,t,n,s===0?pm:c,h,f,p,y)}function VN(e,t,n,i){return mm(e,t,n,AR,fv(RN()),Uc(e,2,-2),0,i)}function hS(e,t,n,i,s){return mm(e,t,n,hv,Uc(e,0,i),Uc(e,i+1,-1),i,s)}function IR(e,t,n){switch(AN(e,t)){case 5103:return be+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return be+e+e;case 4789:return Wh+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return be+e+Wh+e+Ne+e+e;case 5936:switch(jn(e,t+11)){case 114:return be+e+Ne+Kt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return be+e+Ne+Kt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return be+e+Ne+Kt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return be+e+Ne+e+e;case 6165:return be+e+Ne+"flex-"+e+e;case 5187:return be+e+Kt(e,/(\w+).+(:[^]+)/,be+"box-$1$2"+Ne+"flex-$1$2")+e;case 5443:return be+e+Ne+"flex-item-"+Kt(e,/flex-|-self/g,"")+(Fr(e,/flex-|baseline/)?"":Ne+"grid-row-"+Kt(e,/flex-|-self/g,""))+e;case 4675:return be+e+Ne+"flex-line-pack"+Kt(e,/align-content|flex-|-self/g,"")+e;case 5548:return be+e+Ne+Kt(e,"shrink","negative")+e;case 5292:return be+e+Ne+Kt(e,"basis","preferred-size")+e;case 6060:return be+"box-"+Kt(e,"-grow","")+be+e+Ne+Kt(e,"grow","positive")+e;case 4554:return be+Kt(e,/([^-])(transform)/g,"$1"+be+"$2")+e;case 6187:return Kt(Kt(Kt(e,/(zoom-|grab)/,be+"$1"),/(image-set)/,be+"$1"),e,"")+e;case 5495:case 3959:return Kt(e,/(image-set\([^]*)/,be+"$1$`$1");case 4968:return Kt(Kt(e,/(.+:)(flex-)?(.*)/,be+"box-pack:$3"+Ne+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+be+e+e;case 4200:if(!Fr(e,/flex-|baseline/))return Ne+"grid-column-align"+Uc(e,t)+e;break;case 2592:case 3360:return Ne+Kt(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(i,s){return t=s,Fr(i.props,/grid-\w+-end/)})?~cg(e+(n=n[t].value),"span",0)?e:Ne+Kt(e,"-start","")+e+Ne+"grid-row-span:"+(~cg(n,"span",0)?Fr(n,/\d+/):+Fr(n,/\d+/)-+Fr(e,/\d+/))+";":Ne+Kt(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(i){return Fr(i.props,/grid-\w+-start/)})?e:Ne+Kt(Kt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Kt(e,/(.+)-inline(.+)/,be+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ys(e)-1-t>6)switch(jn(e,t+1)){case 109:if(jn(e,t+4)!==45)break;case 102:return Kt(e,/(.+:)(.+)-([^]+)/,"$1"+be+"$2-$3$1"+Wh+(jn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~cg(e,"stretch",0)?IR(Kt(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Kt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,s,r,l,c,h,f){return Ne+s+":"+r+f+(l?Ne+s+"-span:"+(c?h:+h-+r)+f:"")+e});case 4949:if(jn(e,t+6)===121)return Kt(e,":",":"+be)+e;break;case 6444:switch(jn(e,jn(e,14)===45?18:11)){case 120:return Kt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+be+(jn(e,14)===45?"inline-":"")+"box$3$1"+be+"$2$3$1"+Ne+"$2box$3")+e;case 100:return Kt(e,":",":"+Ne)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Kt(e,"scroll-","scroll-snap-")+e}return e}function Pg(e,t){for(var n="",i=0;i<e.length;i++)n+=t(e[i],i,e,t)||"";return n}function jN(e,t,n,i){switch(e.type){case TN:if(e.children.length)break;case SN:case hv:return e.return=e.return||e.value;case AR:return"";case kR:return e.return=e.value+"{"+Pg(e.children,i)+"}";case pm:if(!Ys(e.value=e.props.join(",")))return""}return Ys(n=Pg(e.children,i))?e.return=e.value+"{"+n+"}":""}function UN(e){var t=DR(e);return function(n,i,s,r){for(var l="",c=0;c<t;c++)l+=e[c](n,i,s,r)||"";return l}}function zN(e){return function(t){t.root||(t=t.return)&&e(t)}}function BN(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case hv:e.return=IR(e.value,e.length,n);return;case kR:return Pg([Ba(e,{value:Kt(e.value,"@","@"+be)})],i);case pm:if(e.length)return kN(n=e.props,function(s){switch(Fr(s,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":vc(Ba(e,{props:[Kt(s,/:(read-\w+)/,":"+Wh+"$1")]})),vc(Ba(e,{props:[s]})),t0(e,{props:cS(n,i)});break;case"::placeholder":vc(Ba(e,{props:[Kt(s,/:(plac\w+)/,":"+be+"input-$1")]})),vc(Ba(e,{props:[Kt(s,/:(plac\w+)/,":"+Wh+"$1")]})),vc(Ba(e,{props:[Kt(s,/:(plac\w+)/,Ne+"input-$1")]})),vc(Ba(e,{props:[s]})),t0(e,{props:cS(n,i)});break}return""})}}var FN={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Vi={},Bc=typeof process<"u"&&Vi!==void 0&&(Vi.REACT_APP_SC_ATTR||Vi.SC_ATTR)||"data-styled",OR="active",PR="data-styled-version",_m="6.1.19",dv=`/*!sc*/
`,Ng=typeof window<"u"&&typeof document<"u",qN=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Vi!==void 0&&Vi.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Vi.REACT_APP_SC_DISABLE_SPEEDY!==""?Vi.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Vi.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Vi!==void 0&&Vi.SC_DISABLE_SPEEDY!==void 0&&Vi.SC_DISABLE_SPEEDY!==""&&Vi.SC_DISABLE_SPEEDY!=="false"&&Vi.SC_DISABLE_SPEEDY),$N={},bm=Object.freeze([]),Fc=Object.freeze({});function NR(e,t,n){return n===void 0&&(n=Fc),e.theme!==n.theme&&e.theme||t||n.theme}var LR=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),HN=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,WN=/(^-|-$)/g;function fS(e){return e.replace(HN,"-").replace(WN,"")}var YN=/(a)(d)/gi,Ep=52,dS=function(e){return String.fromCharCode(e+(e>25?39:97))};function i0(e){var t,n="";for(t=Math.abs(e);t>Ep;t=t/Ep|0)n=dS(t%Ep)+n;return(dS(t%Ep)+n).replace(YN,"$1-$2")}var ab,VR=5381,Cc=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},jR=function(e){return Cc(VR,e)};function UR(e){return i0(jR(e)>>>0)}function GN(e){return e.displayName||e.name||"Component"}function ob(e){return typeof e=="string"&&!0}var zR=typeof Symbol=="function"&&Symbol.for,BR=zR?Symbol.for("react.memo"):60115,KN=zR?Symbol.for("react.forward_ref"):60112,XN={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},QN={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ZN=((ab={})[KN]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ab[BR]=FR,ab);function pS(e){return("type"in(t=e)&&t.type.$$typeof)===BR?FR:"$$typeof"in e?ZN[e.$$typeof]:XN;var t}var JN=Object.defineProperty,tL=Object.getOwnPropertyNames,gS=Object.getOwnPropertySymbols,eL=Object.getOwnPropertyDescriptor,nL=Object.getPrototypeOf,mS=Object.prototype;function qR(e,t,n){if(typeof t!="string"){if(mS){var i=nL(t);i&&i!==mS&&qR(e,i,n)}var s=tL(t);gS&&(s=s.concat(gS(t)));for(var r=pS(e),l=pS(t),c=0;c<s.length;++c){var h=s[c];if(!(h in QN||n&&n[h]||l&&h in l||r&&h in r)){var f=eL(t,h);try{JN(e,h,f)}catch{}}}}return e}function pl(e){return typeof e=="function"}function pv(e){return typeof e=="object"&&"styledComponentId"in e}function rl(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function s0(e,t){if(e.length===0)return"";for(var n=e[0],i=1;i<e.length;i++)n+=e[i];return n}function hf(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function r0(e,t,n){if(n===void 0&&(n=!1),!n&&!hf(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var i=0;i<t.length;i++)e[i]=r0(e[i],t[i]);else if(hf(t))for(var i in t)e[i]=r0(e[i],t[i]);return e}function gv(e,t){Object.defineProperty(e,"toString",{value:t})}function gl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var iL=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,i=0;i<t;i++)n+=this.groupSizes[i];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,r=s;t>=r;)if((r<<=1)<0)throw gl(16,"".concat(t));this.groupSizes=new Uint32Array(r),this.groupSizes.set(i),this.length=r;for(var l=s;l<r;l++)this.groupSizes[l]=0}for(var c=this.indexOfGroup(t+1),h=(l=0,n.length);l<h;l++)this.tag.insertRule(c,n[l])&&(this.groupSizes[t]++,c++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],i=this.indexOfGroup(t),s=i+n;this.groupSizes[t]=0;for(var r=i;r<s;r++)this.tag.deleteRule(i)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var i=this.groupSizes[t],s=this.indexOfGroup(t),r=s+i,l=s;l<r;l++)n+="".concat(this.tag.getRule(l)).concat(dv);return n},e}(),fg=new Map,Lg=new Map,dg=1,Sp=function(e){if(fg.has(e))return fg.get(e);for(;Lg.has(dg);)dg++;var t=dg++;return fg.set(e,t),Lg.set(t,e),t},sL=function(e,t){dg=t+1,fg.set(e,t),Lg.set(t,e)},rL="style[".concat(Bc,"][").concat(PR,'="').concat(_m,'"]'),aL=new RegExp("^".concat(Bc,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),oL=function(e,t,n){for(var i,s=n.split(","),r=0,l=s.length;r<l;r++)(i=s[r])&&e.registerName(t,i)},lL=function(e,t){for(var n,i=((n=t.textContent)!==null&&n!==void 0?n:"").split(dv),s=[],r=0,l=i.length;r<l;r++){var c=i[r].trim();if(c){var h=c.match(aL);if(h){var f=0|parseInt(h[1],10),p=h[2];f!==0&&(sL(p,f),oL(e,p,h[3]),e.getTag().insertRules(f,s)),s.length=0}else s.push(c)}}},yS=function(e){for(var t=document.querySelectorAll(rL),n=0,i=t.length;n<i;n++){var s=t[n];s&&s.getAttribute(Bc)!==OR&&(lL(e,s),s.parentNode&&s.parentNode.removeChild(s))}};function cL(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var $R=function(e){var t=document.head,n=e||t,i=document.createElement("style"),s=function(c){var h=Array.from(c.querySelectorAll("style[".concat(Bc,"]")));return h[h.length-1]}(n),r=s!==void 0?s.nextSibling:null;i.setAttribute(Bc,OR),i.setAttribute(PR,_m);var l=cL();return l&&i.setAttribute("nonce",l),n.insertBefore(i,r),i},uL=function(){function e(t){this.element=$R(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var i=document.styleSheets,s=0,r=i.length;s<r;s++){var l=i[s];if(l.ownerNode===n)return l}throw gl(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),hL=function(){function e(t){this.element=$R(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var i=document.createTextNode(n);return this.element.insertBefore(i,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),fL=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),_S=Ng,dL={isServer:!Ng,useCSSOMInjection:!qN},Vg=function(){function e(t,n,i){t===void 0&&(t=Fc),n===void 0&&(n={});var s=this;this.options=Un(Un({},dL),t),this.gs=n,this.names=new Map(i),this.server=!!t.isServer,!this.server&&Ng&&_S&&(_S=!1,yS(this)),gv(this,function(){return function(r){for(var l=r.getTag(),c=l.length,h="",f=function(y){var _=function(D){return Lg.get(D)}(y);if(_===void 0)return"continue";var w=r.names.get(_),E=l.getGroup(y);if(w===void 0||!w.size||E.length===0)return"continue";var A="".concat(Bc,".g").concat(y,'[id="').concat(_,'"]'),S="";w!==void 0&&w.forEach(function(D){D.length>0&&(S+="".concat(D,","))}),h+="".concat(E).concat(A,'{content:"').concat(S,'"}').concat(dv)},p=0;p<c;p++)f(p);return h}(s)})}return e.registerId=function(t){return Sp(t)},e.prototype.rehydrate=function(){!this.server&&Ng&&yS(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Un(Un({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var i=n.useCSSOMInjection,s=n.target;return n.isServer?new fL(s):i?new uL(s):new hL(s)}(this.options),new iL(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(Sp(t),this.names.has(t))this.names.get(t).add(n);else{var i=new Set;i.add(n),this.names.set(t,i)}},e.prototype.insertRules=function(t,n,i){this.registerName(t,n),this.getTag().insertRules(Sp(t),i)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Sp(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),pL=/&/g,gL=/^\s*\/\/.*$/gm;function HR(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(i){return"".concat(t," ").concat(i)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=HR(n.children,t)),n})}function mL(e){var t,n,i,s=Fc,r=s.options,l=r===void 0?Fc:r,c=s.plugins,h=c===void 0?bm:c,f=function(_,w,E){return E.startsWith(n)&&E.endsWith(n)&&E.replaceAll(n,"").length>0?".".concat(t):_},p=h.slice();p.push(function(_){_.type===pm&&_.value.includes("&")&&(_.props[0]=_.props[0].replace(pL,n).replace(i,f))}),l.prefix&&p.push(BN),p.push(jN);var y=function(_,w,E,A){w===void 0&&(w=""),E===void 0&&(E=""),A===void 0&&(A="&"),t=A,n=w,i=new RegExp("\\".concat(n,"\\b"),"g");var S=_.replace(gL,""),D=LN(E||w?"".concat(E," ").concat(w," { ").concat(S," }"):S);l.namespace&&(D=HR(D,l.namespace));var I=[];return Pg(D,UN(p.concat(zN(function(L){return I.push(L)})))),I};return y.hash=h.length?h.reduce(function(_,w){return w.name||gl(15),Cc(_,w.name)},VR).toString():"",y}var yL=new Vg,a0=mL(),WR=Et.createContext({shouldForwardProp:void 0,styleSheet:yL,stylis:a0});WR.Consumer;Et.createContext(void 0);function o0(){return V.useContext(WR)}var _L=function(){function e(t,n){var i=this;this.inject=function(s,r){r===void 0&&(r=a0);var l=i.name+r.hash;s.hasNameForId(i.id,l)||s.insertRules(i.id,l,r(i.rules,l,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,gv(this,function(){throw gl(12,String(i.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=a0),this.name+t.hash},e}(),bL=function(e){return e>="A"&&e<="Z"};function bS(e){for(var t="",n=0;n<e.length;n++){var i=e[n];if(n===1&&i==="-"&&e[0]==="-")return e;bL(i)?t+="-"+i.toLowerCase():t+=i}return t.startsWith("ms-")?"-"+t:t}var YR=function(e){return e==null||e===!1||e===""},GR=function(e){var t,n,i=[];for(var s in e){var r=e[s];e.hasOwnProperty(s)&&!YR(r)&&(Array.isArray(r)&&r.isCss||pl(r)?i.push("".concat(bS(s),":"),r,";"):hf(r)?i.push.apply(i,uf(uf(["".concat(s," {")],GR(r),!1),["}"],!1)):i.push("".concat(bS(s),": ").concat((t=s,(n=r)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in FN||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return i};function Qa(e,t,n,i){if(YR(e))return[];if(pv(e))return[".".concat(e.styledComponentId)];if(pl(e)){if(!pl(r=e)||r.prototype&&r.prototype.isReactComponent||!t)return[e];var s=e(t);return Qa(s,t,n,i)}var r;return e instanceof _L?n?(e.inject(n,i),[e.getName(i)]):[e]:hf(e)?GR(e):Array.isArray(e)?Array.prototype.concat.apply(bm,e.map(function(l){return Qa(l,t,n,i)})):[e.toString()]}function KR(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(pl(n)&&!pv(n))return!1}return!0}var vL=jR(_m),xL=function(){function e(t,n,i){this.rules=t,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&KR(t),this.componentId=n,this.baseHash=Cc(vL,n),this.baseStyle=i,Vg.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,i){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))s=rl(s,this.staticRulesId);else{var r=s0(Qa(this.rules,t,n,i)),l=i0(Cc(this.baseHash,r)>>>0);if(!n.hasNameForId(this.componentId,l)){var c=i(r,".".concat(l),void 0,this.componentId);n.insertRules(this.componentId,l,c)}s=rl(s,l),this.staticRulesId=l}else{for(var h=Cc(this.baseHash,i.hash),f="",p=0;p<this.rules.length;p++){var y=this.rules[p];if(typeof y=="string")f+=y;else if(y){var _=s0(Qa(y,t,n,i));h=Cc(h,_+p),f+=_}}if(f){var w=i0(h>>>0);n.hasNameForId(this.componentId,w)||n.insertRules(this.componentId,w,i(f,".".concat(w),void 0,this.componentId)),s=rl(s,w)}}return s},e}(),ff=Et.createContext(void 0);ff.Consumer;function wL(e){var t=Et.useContext(ff),n=V.useMemo(function(){return function(i,s){if(!i)throw gl(14);if(pl(i)){var r=i(s);return r}if(Array.isArray(i)||typeof i!="object")throw gl(8);return s?Un(Un({},s),i):i}(e.theme,t)},[e.theme,t]);return e.children?Et.createElement(ff.Provider,{value:n},e.children):null}var lb={};function EL(e,t,n){var i=pv(e),s=e,r=!ob(e),l=t.attrs,c=l===void 0?bm:l,h=t.componentId,f=h===void 0?function(z,M){var Y=typeof z!="string"?"sc":fS(z);lb[Y]=(lb[Y]||0)+1;var C="".concat(Y,"-").concat(UR(_m+Y+lb[Y]));return M?"".concat(M,"-").concat(C):C}(t.displayName,t.parentComponentId):h,p=t.displayName,y=p===void 0?function(z){return ob(z)?"styled.".concat(z):"Styled(".concat(GN(z),")")}(e):p,_=t.displayName&&t.componentId?"".concat(fS(t.displayName),"-").concat(t.componentId):t.componentId||f,w=i&&s.attrs?s.attrs.concat(c).filter(Boolean):c,E=t.shouldForwardProp;if(i&&s.shouldForwardProp){var A=s.shouldForwardProp;if(t.shouldForwardProp){var S=t.shouldForwardProp;E=function(z,M){return A(z,M)&&S(z,M)}}else E=A}var D=new xL(n,_,i?s.componentStyle:void 0);function I(z,M){return function(Y,C,R){var P=Y.attrs,j=Y.componentStyle,U=Y.defaultProps,$=Y.foldedComponentIds,F=Y.styledComponentId,Mt=Y.target,Q=Et.useContext(ff),q=o0(),G=Y.shouldForwardProp||q.shouldForwardProp,ot=NR(C,Q,U)||Fc,it=function(gt,J,pt){for(var yt,vt=Un(Un({},J),{className:void 0,theme:pt}),Tt=0;Tt<gt.length;Tt+=1){var Bt=pl(yt=gt[Tt])?yt(vt):yt;for(var ae in Bt)vt[ae]=ae==="className"?rl(vt[ae],Bt[ae]):ae==="style"?Un(Un({},vt[ae]),Bt[ae]):Bt[ae]}return J.className&&(vt.className=rl(vt.className,J.className)),vt}(P,C,ot),B=it.as||Mt,st={};for(var lt in it)it[lt]===void 0||lt[0]==="$"||lt==="as"||lt==="theme"&&it.theme===ot||(lt==="forwardedAs"?st.as=it.forwardedAs:G&&!G(lt,B)||(st[lt]=it[lt]));var ut=function(gt,J){var pt=o0(),yt=gt.generateAndInjectStyles(J,pt.styleSheet,pt.stylis);return yt}(j,it),X=rl($,F);return ut&&(X+=" "+ut),it.className&&(X+=" "+it.className),st[ob(B)&&!LR.has(B)?"class":"className"]=X,R&&(st.ref=R),V.createElement(B,st)}(L,z,M)}I.displayName=y;var L=Et.forwardRef(I);return L.attrs=w,L.componentStyle=D,L.displayName=y,L.shouldForwardProp=E,L.foldedComponentIds=i?rl(s.foldedComponentIds,s.styledComponentId):"",L.styledComponentId=_,L.target=i?s.target:e,Object.defineProperty(L,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(z){this._foldedDefaultProps=i?function(M){for(var Y=[],C=1;C<arguments.length;C++)Y[C-1]=arguments[C];for(var R=0,P=Y;R<P.length;R++)r0(M,P[R],!0);return M}({},s.defaultProps,z):z}}),gv(L,function(){return".".concat(L.styledComponentId)}),r&&qR(L,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),L}function vS(e,t){for(var n=[e[0]],i=0,s=t.length;i<s;i+=1)n.push(t[i],e[i+1]);return n}var xS=function(e){return Object.assign(e,{isCss:!0})};function XR(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(pl(e)||hf(e))return xS(Qa(vS(bm,uf([e],t,!0))));var i=e;return t.length===0&&i.length===1&&typeof i[0]=="string"?Qa(i):xS(Qa(vS(i,t)))}function l0(e,t,n){if(n===void 0&&(n=Fc),!t)throw gl(1,t);var i=function(s){for(var r=[],l=1;l<arguments.length;l++)r[l-1]=arguments[l];return e(t,n,XR.apply(void 0,uf([s],r,!1)))};return i.attrs=function(s){return l0(e,t,Un(Un({},n),{attrs:Array.prototype.concat(n.attrs,s).filter(Boolean)}))},i.withConfig=function(s){return l0(e,t,Un(Un({},n),s))},i}var QR=function(e){return l0(EL,e)},H=QR;LR.forEach(function(e){H[e]=QR(e)});var SL=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=KR(t),Vg.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,i,s){var r=s(s0(Qa(this.rules,n,i,s)),""),l=this.componentId+t;i.insertRules(l,l,r)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,i,s){t>2&&Vg.registerId(this.componentId+t),this.removeStyles(t,i),this.createStyles(t,n,i,s)},e}();function ZR(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=XR.apply(void 0,uf([e],t,!1)),s="sc-global-".concat(UR(JSON.stringify(i))),r=new SL(i,s),l=function(h){var f=o0(),p=Et.useContext(ff),y=Et.useRef(f.styleSheet.allocateGSInstance(s)).current;return f.styleSheet.server&&c(y,h,f.styleSheet,p,f.stylis),Et.useLayoutEffect(function(){if(!f.styleSheet.server)return c(y,h,f.styleSheet,p,f.stylis),function(){return r.removeStyles(y,f.styleSheet)}},[y,h,f.styleSheet,p,f.stylis]),null};function c(h,f,p,y,_){if(r.isStatic)r.renderStyles(h,$N,p,_);else{var w=Un(Un({},f),{theme:NR(f,y,l.defaultProps)});r.renderStyles(h,w,p,_)}}return Et.memo(l)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=()=>{};var wS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},AL=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],l=e[n++],c=e[n++],h=((s&7)<<18|(r&63)<<12|(l&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const r=e[n++],l=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|l&63)}}return t.join("")},tC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],l=s+1<e.length,c=l?e[s+1]:0,h=s+2<e.length,f=h?e[s+2]:0,p=r>>2,y=(r&3)<<4|c>>4;let _=(c&15)<<2|f>>6,w=f&63;h||(w=64,l||(_=64)),i.push(n[p],n[y],n[_],n[w])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(JR(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):AL(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],c=s<e.length?n[e.charAt(s)]:0;++s;const f=s<e.length?n[e.charAt(s)]:64;++s;const y=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||c==null||f==null||y==null)throw new kL;const _=r<<2|c>>4;if(i.push(_),f!==64){const w=c<<4&240|f>>2;if(i.push(w),y!==64){const E=f<<6&192|y;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class kL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RL=function(e){const t=JR(e);return tC.encodeByteArray(t,!0)},jg=function(e){return RL(e).replace(/\./g,"")},eC=function(e){try{return tC.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=()=>CL().__FIREBASE_DEFAULTS__,ML=()=>{if(typeof process>"u"||typeof wS>"u")return;const e=wS.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},IL=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&eC(e[1]);return t&&JSON.parse(t)},vm=()=>{try{return TL()||DL()||ML()||IL()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},nC=e=>{var t,n;return(n=(t=vm())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},OL=e=>{const t=nC(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},iC=()=>{var e;return(e=vm())==null?void 0:e.config},sC=e=>{var t;return(t=vm())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rC(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...e};return[jg(JSON.stringify(n)),jg(JSON.stringify(l)),""].join(".")}const Yh={};function LL(){const e={prod:[],emulator:[]};for(const t of Object.keys(Yh))Yh[t]?e.emulator.push(t):e.prod.push(t);return e}function VL(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let ES=!1;function aC(e,t){if(typeof window>"u"||typeof document>"u"||!ru(window.location.host)||Yh[e]===t||Yh[e]||ES)return;Yh[e]=t;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",r=LL().prod.length>0;function l(){const _=document.getElementById(i);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,w){_.setAttribute("width","24"),_.setAttribute("id",w),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{ES=!0,l()},_}function p(_,w){_.setAttribute("id",w),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=VL(i),w=n("text"),E=document.getElementById(w)||document.createElement("span"),A=n("learnmore"),S=document.getElementById(A)||document.createElement("a"),D=n("preprendIcon"),I=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const L=_.element;c(L),p(S,A);const z=f();h(I,D),L.append(I,E,S,z),document.body.appendChild(L)}r?(E.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ui())}function UL(){var t;const e=(t=vm())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BL(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function FL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qL(){const e=ui();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function $L(){return!UL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HL(){try{return typeof indexedDB=="object"}catch{return!1}}function WL(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)==null?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL="FirebaseError";class lr extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=YL,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jf.prototype.create)}}class jf{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],l=r?GL(r,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new lr(s,c,i)}}function GL(e,t){return e.replace(KL,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const KL=/\{\$([^}]+)}/g;function XL(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ml(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],l=t[s];if(SS(r)&&SS(l)){if(!ml(r,l))return!1}else if(r!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function SS(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Ph(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(r)}}),t}function Nh(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function QL(e,t){const n=new ZL(e,t);return n.subscribe.bind(n)}class ZL{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");JL(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=cb),s.error===void 0&&(s.error=cb),s.complete===void 0&&(s.complete=cb);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JL(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function cb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(e){return e&&e._delegate?e._delegate:e}class yl{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new PL;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(n4(t))try{this.getOrInitializeService({instanceIdentifier:el})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=el){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=el){return this.instances.has(t)}getOptions(t=el){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(r);i===c&&l.resolve(s)}return s}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&t(r,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:e4(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=el){return this.component?this.component.multipleInstances?t:el:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function e4(e){return e===el?void 0:e}function n4(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new t4(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ie||(ie={}));const s4={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},r4=ie.INFO,a4={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},o4=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=a4[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mv{constructor(t){this.name=t,this._logLevel=r4,this._logHandler=o4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ie))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?s4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...t),this._logHandler(this,ie.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...t),this._logHandler(this,ie.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...t),this._logHandler(this,ie.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...t),this._logHandler(this,ie.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...t),this._logHandler(this,ie.ERROR,...t)}}const l4=(e,t)=>t.some(n=>e instanceof n);let TS,AS;function c4(){return TS||(TS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u4(){return AS||(AS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oC=new WeakMap,c0=new WeakMap,lC=new WeakMap,ub=new WeakMap,yv=new WeakMap;function h4(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",l)},r=()=>{n(Za(e.result)),s()},l=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&oC.set(n,e)}).catch(()=>{}),yv.set(t,e),t}function f4(e){if(c0.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",l),e.removeEventListener("abort",l)},r=()=>{n(),s()},l=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",l),e.addEventListener("abort",l)});c0.set(e,t)}let u0={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return c0.get(e);if(t==="objectStoreNames")return e.objectStoreNames||lC.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Za(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function d4(e){u0=e(u0)}function p4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(hb(this),t,...n);return lC.set(i,t.sort?t.sort():[t]),Za(i)}:u4().includes(e)?function(...t){return e.apply(hb(this),t),Za(oC.get(this))}:function(...t){return Za(e.apply(hb(this),t))}}function g4(e){return typeof e=="function"?p4(e):(e instanceof IDBTransaction&&f4(e),l4(e,c4())?new Proxy(e,u0):e)}function Za(e){if(e instanceof IDBRequest)return h4(e);if(ub.has(e))return ub.get(e);const t=g4(e);return t!==e&&(ub.set(e,t),yv.set(t,e)),t}const hb=e=>yv.get(e);function m4(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const l=indexedDB.open(e,t),c=Za(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Za(l.result),h.oldVersion,h.newVersion,Za(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{r&&h.addEventListener("close",()=>r()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const y4=["get","getKey","getAll","getAllKeys","count"],_4=["put","add","delete","clear"],fb=new Map;function kS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(fb.get(t))return fb.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=_4.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||y4.includes(n)))return;const r=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&h.done]))[0]};return fb.set(t,r),r}d4(e=>({...e,get:(t,n,i)=>kS(t,n)||e.get(t,n,i),has:(t,n)=>!!kS(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(v4(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function v4(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const h0="@firebase/app",RS="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new mv("@firebase/app"),x4="@firebase/app-compat",w4="@firebase/analytics-compat",E4="@firebase/analytics",S4="@firebase/app-check-compat",T4="@firebase/app-check",A4="@firebase/auth",k4="@firebase/auth-compat",R4="@firebase/database",C4="@firebase/data-connect",D4="@firebase/database-compat",M4="@firebase/functions",I4="@firebase/functions-compat",O4="@firebase/installations",P4="@firebase/installations-compat",N4="@firebase/messaging",L4="@firebase/messaging-compat",V4="@firebase/performance",j4="@firebase/performance-compat",U4="@firebase/remote-config",z4="@firebase/remote-config-compat",B4="@firebase/storage",F4="@firebase/storage-compat",q4="@firebase/firestore",$4="@firebase/ai",H4="@firebase/firestore-compat",W4="firebase",Y4="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="[DEFAULT]",G4={[h0]:"fire-core",[x4]:"fire-core-compat",[E4]:"fire-analytics",[w4]:"fire-analytics-compat",[T4]:"fire-app-check",[S4]:"fire-app-check-compat",[A4]:"fire-auth",[k4]:"fire-auth-compat",[R4]:"fire-rtdb",[C4]:"fire-data-connect",[D4]:"fire-rtdb-compat",[M4]:"fire-fn",[I4]:"fire-fn-compat",[O4]:"fire-iid",[P4]:"fire-iid-compat",[N4]:"fire-fcm",[L4]:"fire-fcm-compat",[V4]:"fire-perf",[j4]:"fire-perf-compat",[U4]:"fire-rc",[z4]:"fire-rc-compat",[B4]:"fire-gcs",[F4]:"fire-gcs-compat",[q4]:"fire-fst",[H4]:"fire-fst-compat",[$4]:"fire-vertex","fire-js":"fire-js",[W4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=new Map,K4=new Map,d0=new Map;function CS(e,t){try{e.container.addComponent(t)}catch(n){na.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function qc(e){const t=e.name;if(d0.has(t))return na.debug(`There were multiple attempts to register component ${t}.`),!1;d0.set(t,e);for(const n of df.values())CS(n,e);for(const n of K4.values())CS(n,e);return!0}function _v(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function rs(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ja=new jf("app","Firebase",X4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=Y4;function cC(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:f0,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw Ja.create("bad-app-name",{appName:String(s)});if(n||(n=iC()),!n)throw Ja.create("no-options");const r=df.get(s);if(r){if(ml(n,r.options)&&ml(i,r.config))return r;throw Ja.create("duplicate-app",{appName:s})}const l=new i4(s);for(const h of d0.values())l.addComponent(h);const c=new Q4(n,i,l);return df.set(s,c),c}function bv(e=f0){const t=df.get(e);if(!t&&e===f0&&iC())return cC();if(!t)throw Ja.create("no-app",{appName:e});return t}function Z4(){return Array.from(df.values())}function to(e,t,n){let i=G4[e]??e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),r=t.match(/\s|\//);if(s||r){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&r&&l.push("and"),r&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),na.warn(l.join(" "));return}qc(new yl(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="firebase-heartbeat-database",tV=1,pf="firebase-heartbeat-store";let db=null;function uC(){return db||(db=m4(J4,tV,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(pf)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ja.create("idb-open",{originalErrorMessage:e.message})})),db}async function eV(e){try{const n=(await uC()).transaction(pf),i=await n.objectStore(pf).get(hC(e));return await n.done,i}catch(t){if(t instanceof lr)na.warn(t.message);else{const n=Ja.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});na.warn(n.message)}}}async function DS(e,t){try{const i=(await uC()).transaction(pf,"readwrite");await i.objectStore(pf).put(t,hC(e)),await i.done}catch(n){if(n instanceof lr)na.warn(n.message);else{const i=Ja.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});na.warn(i.message)}}}function hC(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=1024,iV=30;class sV{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aV(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=MS();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>iV){const l=oV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){na.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=MS(),{heartbeatsToSend:i,unsentEntries:s}=rV(this._heartbeatsCache.heartbeats),r=jg(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return na.warn(n),""}}}function MS(){return new Date().toISOString().substring(0,10)}function rV(e,t=nV){const n=[];let i=e.slice();for(const s of e){const r=n.find(l=>l.agent===s.agent);if(r){if(r.dates.push(s.date),IS(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),IS(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class aV{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HL()?WL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return DS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return DS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function IS(e){return jg(JSON.stringify({version:2,heartbeats:e})).length}function oV(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(e){qc(new yl("platform-logger",t=>new b4(t),"PRIVATE")),qc(new yl("heartbeat",t=>new sV(t),"PRIVATE")),to(h0,RS,e),to(h0,RS,"esm2020"),to("fire-js","")}lV("");var cV="firebase",uV="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */to(cV,uV,"app");var OS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eo,fC;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,R){function P(){}P.prototype=R.prototype,C.D=R.prototype,C.prototype=new P,C.prototype.constructor=C,C.C=function(j,U,$){for(var F=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)F[Mt-2]=arguments[Mt];return R.prototype[U].apply(j,F)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,R,P){P||(P=0);var j=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)j[U]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(U=0;16>U;++U)j[U]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=C.g[0],P=C.g[1],U=C.g[2];var $=C.g[3],F=R+($^P&(U^$))+j[0]+3614090360&4294967295;R=P+(F<<7&4294967295|F>>>25),F=$+(U^R&(P^U))+j[1]+3905402710&4294967295,$=R+(F<<12&4294967295|F>>>20),F=U+(P^$&(R^P))+j[2]+606105819&4294967295,U=$+(F<<17&4294967295|F>>>15),F=P+(R^U&($^R))+j[3]+3250441966&4294967295,P=U+(F<<22&4294967295|F>>>10),F=R+($^P&(U^$))+j[4]+4118548399&4294967295,R=P+(F<<7&4294967295|F>>>25),F=$+(U^R&(P^U))+j[5]+1200080426&4294967295,$=R+(F<<12&4294967295|F>>>20),F=U+(P^$&(R^P))+j[6]+2821735955&4294967295,U=$+(F<<17&4294967295|F>>>15),F=P+(R^U&($^R))+j[7]+4249261313&4294967295,P=U+(F<<22&4294967295|F>>>10),F=R+($^P&(U^$))+j[8]+1770035416&4294967295,R=P+(F<<7&4294967295|F>>>25),F=$+(U^R&(P^U))+j[9]+2336552879&4294967295,$=R+(F<<12&4294967295|F>>>20),F=U+(P^$&(R^P))+j[10]+4294925233&4294967295,U=$+(F<<17&4294967295|F>>>15),F=P+(R^U&($^R))+j[11]+2304563134&4294967295,P=U+(F<<22&4294967295|F>>>10),F=R+($^P&(U^$))+j[12]+1804603682&4294967295,R=P+(F<<7&4294967295|F>>>25),F=$+(U^R&(P^U))+j[13]+4254626195&4294967295,$=R+(F<<12&4294967295|F>>>20),F=U+(P^$&(R^P))+j[14]+2792965006&4294967295,U=$+(F<<17&4294967295|F>>>15),F=P+(R^U&($^R))+j[15]+1236535329&4294967295,P=U+(F<<22&4294967295|F>>>10),F=R+(U^$&(P^U))+j[1]+4129170786&4294967295,R=P+(F<<5&4294967295|F>>>27),F=$+(P^U&(R^P))+j[6]+3225465664&4294967295,$=R+(F<<9&4294967295|F>>>23),F=U+(R^P&($^R))+j[11]+643717713&4294967295,U=$+(F<<14&4294967295|F>>>18),F=P+($^R&(U^$))+j[0]+3921069994&4294967295,P=U+(F<<20&4294967295|F>>>12),F=R+(U^$&(P^U))+j[5]+3593408605&4294967295,R=P+(F<<5&4294967295|F>>>27),F=$+(P^U&(R^P))+j[10]+38016083&4294967295,$=R+(F<<9&4294967295|F>>>23),F=U+(R^P&($^R))+j[15]+3634488961&4294967295,U=$+(F<<14&4294967295|F>>>18),F=P+($^R&(U^$))+j[4]+3889429448&4294967295,P=U+(F<<20&4294967295|F>>>12),F=R+(U^$&(P^U))+j[9]+568446438&4294967295,R=P+(F<<5&4294967295|F>>>27),F=$+(P^U&(R^P))+j[14]+3275163606&4294967295,$=R+(F<<9&4294967295|F>>>23),F=U+(R^P&($^R))+j[3]+4107603335&4294967295,U=$+(F<<14&4294967295|F>>>18),F=P+($^R&(U^$))+j[8]+1163531501&4294967295,P=U+(F<<20&4294967295|F>>>12),F=R+(U^$&(P^U))+j[13]+2850285829&4294967295,R=P+(F<<5&4294967295|F>>>27),F=$+(P^U&(R^P))+j[2]+4243563512&4294967295,$=R+(F<<9&4294967295|F>>>23),F=U+(R^P&($^R))+j[7]+1735328473&4294967295,U=$+(F<<14&4294967295|F>>>18),F=P+($^R&(U^$))+j[12]+2368359562&4294967295,P=U+(F<<20&4294967295|F>>>12),F=R+(P^U^$)+j[5]+4294588738&4294967295,R=P+(F<<4&4294967295|F>>>28),F=$+(R^P^U)+j[8]+2272392833&4294967295,$=R+(F<<11&4294967295|F>>>21),F=U+($^R^P)+j[11]+1839030562&4294967295,U=$+(F<<16&4294967295|F>>>16),F=P+(U^$^R)+j[14]+4259657740&4294967295,P=U+(F<<23&4294967295|F>>>9),F=R+(P^U^$)+j[1]+2763975236&4294967295,R=P+(F<<4&4294967295|F>>>28),F=$+(R^P^U)+j[4]+1272893353&4294967295,$=R+(F<<11&4294967295|F>>>21),F=U+($^R^P)+j[7]+4139469664&4294967295,U=$+(F<<16&4294967295|F>>>16),F=P+(U^$^R)+j[10]+3200236656&4294967295,P=U+(F<<23&4294967295|F>>>9),F=R+(P^U^$)+j[13]+681279174&4294967295,R=P+(F<<4&4294967295|F>>>28),F=$+(R^P^U)+j[0]+3936430074&4294967295,$=R+(F<<11&4294967295|F>>>21),F=U+($^R^P)+j[3]+3572445317&4294967295,U=$+(F<<16&4294967295|F>>>16),F=P+(U^$^R)+j[6]+76029189&4294967295,P=U+(F<<23&4294967295|F>>>9),F=R+(P^U^$)+j[9]+3654602809&4294967295,R=P+(F<<4&4294967295|F>>>28),F=$+(R^P^U)+j[12]+3873151461&4294967295,$=R+(F<<11&4294967295|F>>>21),F=U+($^R^P)+j[15]+530742520&4294967295,U=$+(F<<16&4294967295|F>>>16),F=P+(U^$^R)+j[2]+3299628645&4294967295,P=U+(F<<23&4294967295|F>>>9),F=R+(U^(P|~$))+j[0]+4096336452&4294967295,R=P+(F<<6&4294967295|F>>>26),F=$+(P^(R|~U))+j[7]+1126891415&4294967295,$=R+(F<<10&4294967295|F>>>22),F=U+(R^($|~P))+j[14]+2878612391&4294967295,U=$+(F<<15&4294967295|F>>>17),F=P+($^(U|~R))+j[5]+4237533241&4294967295,P=U+(F<<21&4294967295|F>>>11),F=R+(U^(P|~$))+j[12]+1700485571&4294967295,R=P+(F<<6&4294967295|F>>>26),F=$+(P^(R|~U))+j[3]+2399980690&4294967295,$=R+(F<<10&4294967295|F>>>22),F=U+(R^($|~P))+j[10]+4293915773&4294967295,U=$+(F<<15&4294967295|F>>>17),F=P+($^(U|~R))+j[1]+2240044497&4294967295,P=U+(F<<21&4294967295|F>>>11),F=R+(U^(P|~$))+j[8]+1873313359&4294967295,R=P+(F<<6&4294967295|F>>>26),F=$+(P^(R|~U))+j[15]+4264355552&4294967295,$=R+(F<<10&4294967295|F>>>22),F=U+(R^($|~P))+j[6]+2734768916&4294967295,U=$+(F<<15&4294967295|F>>>17),F=P+($^(U|~R))+j[13]+1309151649&4294967295,P=U+(F<<21&4294967295|F>>>11),F=R+(U^(P|~$))+j[4]+4149444226&4294967295,R=P+(F<<6&4294967295|F>>>26),F=$+(P^(R|~U))+j[11]+3174756917&4294967295,$=R+(F<<10&4294967295|F>>>22),F=U+(R^($|~P))+j[2]+718787259&4294967295,U=$+(F<<15&4294967295|F>>>17),F=P+($^(U|~R))+j[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(U+(F<<21&4294967295|F>>>11))&4294967295,C.g[2]=C.g[2]+U&4294967295,C.g[3]=C.g[3]+$&4294967295}i.prototype.u=function(C,R){R===void 0&&(R=C.length);for(var P=R-this.blockSize,j=this.B,U=this.h,$=0;$<R;){if(U==0)for(;$<=P;)s(this,C,$),$+=this.blockSize;if(typeof C=="string"){for(;$<R;)if(j[U++]=C.charCodeAt($++),U==this.blockSize){s(this,j),U=0;break}}else for(;$<R;)if(j[U++]=C[$++],U==this.blockSize){s(this,j),U=0;break}}this.h=U,this.o+=R},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;var P=8*this.o;for(R=C.length-8;R<C.length;++R)C[R]=P&255,P/=256;for(this.u(C),C=Array(16),R=P=0;4>R;++R)for(var j=0;32>j;j+=8)C[P++]=this.g[R]>>>j&255;return C};function r(C,R){var P=c;return Object.prototype.hasOwnProperty.call(P,C)?P[C]:P[C]=R(C)}function l(C,R){this.h=R;for(var P=[],j=!0,U=C.length-1;0<=U;U--){var $=C[U]|0;j&&$==R||(P[U]=$,j=!1)}this.g=P}var c={};function h(C){return-128<=C&&128>C?r(C,function(R){return new l([R|0],0>R?-1:0)}):new l([C|0],0>C?-1:0)}function f(C){if(isNaN(C)||!isFinite(C))return y;if(0>C)return S(f(-C));for(var R=[],P=1,j=0;C>=P;j++)R[j]=C/P|0,P*=4294967296;return new l(R,0)}function p(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return S(p(C.substring(1),R));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=f(Math.pow(R,8)),j=y,U=0;U<C.length;U+=8){var $=Math.min(8,C.length-U),F=parseInt(C.substring(U,U+$),R);8>$?($=f(Math.pow(R,$)),j=j.j($).add(f(F))):(j=j.j(P),j=j.add(f(F)))}return j}var y=h(0),_=h(1),w=h(16777216);e=l.prototype,e.m=function(){if(A(this))return-S(this).m();for(var C=0,R=1,P=0;P<this.g.length;P++){var j=this.i(P);C+=(0<=j?j:4294967296+j)*R,R*=4294967296}return C},e.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(E(this))return"0";if(A(this))return"-"+S(this).toString(C);for(var R=f(Math.pow(C,6)),P=this,j="";;){var U=z(P,R).g;P=D(P,U.j(R));var $=((0<P.g.length?P.g[0]:P.h)>>>0).toString(C);if(P=U,E(P))return $+j;for(;6>$.length;)$="0"+$;j=$+j}},e.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function E(C){if(C.h!=0)return!1;for(var R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function A(C){return C.h==-1}e.l=function(C){return C=D(this,C),A(C)?-1:E(C)?0:1};function S(C){for(var R=C.g.length,P=[],j=0;j<R;j++)P[j]=~C.g[j];return new l(P,~C.h).add(_)}e.abs=function(){return A(this)?S(this):this},e.add=function(C){for(var R=Math.max(this.g.length,C.g.length),P=[],j=0,U=0;U<=R;U++){var $=j+(this.i(U)&65535)+(C.i(U)&65535),F=($>>>16)+(this.i(U)>>>16)+(C.i(U)>>>16);j=F>>>16,$&=65535,F&=65535,P[U]=F<<16|$}return new l(P,P[P.length-1]&-2147483648?-1:0)};function D(C,R){return C.add(S(R))}e.j=function(C){if(E(this)||E(C))return y;if(A(this))return A(C)?S(this).j(S(C)):S(S(this).j(C));if(A(C))return S(this.j(S(C)));if(0>this.l(w)&&0>C.l(w))return f(this.m()*C.m());for(var R=this.g.length+C.g.length,P=[],j=0;j<2*R;j++)P[j]=0;for(j=0;j<this.g.length;j++)for(var U=0;U<C.g.length;U++){var $=this.i(j)>>>16,F=this.i(j)&65535,Mt=C.i(U)>>>16,Q=C.i(U)&65535;P[2*j+2*U]+=F*Q,I(P,2*j+2*U),P[2*j+2*U+1]+=$*Q,I(P,2*j+2*U+1),P[2*j+2*U+1]+=F*Mt,I(P,2*j+2*U+1),P[2*j+2*U+2]+=$*Mt,I(P,2*j+2*U+2)}for(j=0;j<R;j++)P[j]=P[2*j+1]<<16|P[2*j];for(j=R;j<2*R;j++)P[j]=0;return new l(P,0)};function I(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function L(C,R){this.g=C,this.h=R}function z(C,R){if(E(R))throw Error("division by zero");if(E(C))return new L(y,y);if(A(C))return R=z(S(C),R),new L(S(R.g),S(R.h));if(A(R))return R=z(C,S(R)),new L(S(R.g),R.h);if(30<C.g.length){if(A(C)||A(R))throw Error("slowDivide_ only works with positive integers.");for(var P=_,j=R;0>=j.l(C);)P=M(P),j=M(j);var U=Y(P,1),$=Y(j,1);for(j=Y(j,2),P=Y(P,2);!E(j);){var F=$.add(j);0>=F.l(C)&&(U=U.add(P),$=F),j=Y(j,1),P=Y(P,1)}return R=D(C,U.j(R)),new L(U,R)}for(U=y;0<=C.l(R);){for(P=Math.max(1,Math.floor(C.m()/R.m())),j=Math.ceil(Math.log(P)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),$=f(P),F=$.j(R);A(F)||0<F.l(C);)P-=j,$=f(P),F=$.j(R);E($)&&($=_),U=U.add($),C=D(C,F)}return new L(U,C)}e.A=function(C){return z(this,C).h},e.and=function(C){for(var R=Math.max(this.g.length,C.g.length),P=[],j=0;j<R;j++)P[j]=this.i(j)&C.i(j);return new l(P,this.h&C.h)},e.or=function(C){for(var R=Math.max(this.g.length,C.g.length),P=[],j=0;j<R;j++)P[j]=this.i(j)|C.i(j);return new l(P,this.h|C.h)},e.xor=function(C){for(var R=Math.max(this.g.length,C.g.length),P=[],j=0;j<R;j++)P[j]=this.i(j)^C.i(j);return new l(P,this.h^C.h)};function M(C){for(var R=C.g.length+1,P=[],j=0;j<R;j++)P[j]=C.i(j)<<1|C.i(j-1)>>>31;return new l(P,C.h)}function Y(C,R){var P=R>>5;R%=32;for(var j=C.g.length-P,U=[],$=0;$<j;$++)U[$]=0<R?C.i($+P)>>>R|C.i($+P+1)<<32-R:C.i($+P);return new l(U,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,fC=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,eo=l}).apply(typeof OS<"u"?OS:typeof self<"u"?self:typeof window<"u"?window:{});var Tp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dC,Lh,pC,pg,p0,gC,mC,yC;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,x,T){return g==Array.prototype||g==Object.prototype||(g[x]=T.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tp=="object"&&Tp];for(var x=0;x<g.length;++x){var T=g[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function s(g,x){if(x)t:{var T=i;g=g.split(".");for(var N=0;N<g.length-1;N++){var tt=g[N];if(!(tt in T))break t;T=T[tt]}g=g[g.length-1],N=T[g],x=x(N),x!=N&&x!=null&&t(T,g,{configurable:!0,writable:!0,value:x})}}function r(g,x){g instanceof String&&(g+="");var T=0,N=!1,tt={next:function(){if(!N&&T<g.length){var ct=T++;return{value:x(ct,g[ct]),done:!1}}return N=!0,{done:!0,value:void 0}}};return tt[Symbol.iterator]=function(){return tt},tt}s("Array.prototype.values",function(g){return g||function(){return r(this,function(x,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(g){var x=typeof g;return x=x!="object"?x:g?Array.isArray(g)?"array":x:"null",x=="array"||x=="object"&&typeof g.length=="number"}function f(g){var x=typeof g;return x=="object"&&g!=null||x=="function"}function p(g,x,T){return g.call.apply(g.bind,arguments)}function y(g,x,T){if(!g)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var tt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(tt,N),g.apply(x,tt)}}return function(){return g.apply(x,arguments)}}function _(g,x,T){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,_.apply(null,arguments)}function w(g,x){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),g.apply(this,N)}}function E(g,x){function T(){}T.prototype=x.prototype,g.aa=x.prototype,g.prototype=new T,g.prototype.constructor=g,g.Qb=function(N,tt,ct){for(var xt=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)xt[oe-2]=arguments[oe];return x.prototype[tt].apply(N,xt)}}function A(g){const x=g.length;if(0<x){const T=Array(x);for(let N=0;N<x;N++)T[N]=g[N];return T}return[]}function S(g,x){for(let T=1;T<arguments.length;T++){const N=arguments[T];if(h(N)){const tt=g.length||0,ct=N.length||0;g.length=tt+ct;for(let xt=0;xt<ct;xt++)g[tt+xt]=N[xt]}else g.push(N)}}class D{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function I(g){return/^[\s\xa0]*$/.test(g)}function L(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function z(g){return z[" "](g),g}z[" "]=function(){};var M=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function Y(g,x,T){for(const N in g)x.call(T,g[N],N,g)}function C(g,x){for(const T in g)x.call(void 0,g[T],T,g)}function R(g){const x={};for(const T in g)x[T]=g[T];return x}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(g,x){let T,N;for(let tt=1;tt<arguments.length;tt++){N=arguments[tt];for(T in N)g[T]=N[T];for(let ct=0;ct<P.length;ct++)T=P[ct],Object.prototype.hasOwnProperty.call(N,T)&&(g[T]=N[T])}}function U(g){var x=1;g=g.split(":");const T=[];for(;0<x&&g.length;)T.push(g.shift()),x--;return g.length&&T.push(g.join(":")),T}function $(g){c.setTimeout(()=>{throw g},0)}function F(){var g=it;let x=null;return g.g&&(x=g.g,g.g=g.g.next,g.g||(g.h=null),x.next=null),x}class Mt{constructor(){this.h=this.g=null}add(x,T){const N=Q.get();N.set(x,T),this.h?this.h.next=N:this.g=N,this.h=N}}var Q=new D(()=>new q,g=>g.reset());class q{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let G,ot=!1,it=new Mt,B=()=>{const g=c.Promise.resolve(void 0);G=()=>{g.then(st)}};var st=()=>{for(var g;g=F();){try{g.h.call(g.g)}catch(T){$(T)}var x=Q;x.j(g),100>x.h&&(x.h++,g.next=x.g,x.g=g)}ot=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(g,x){this.type=g,this.g=this.target=x,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,x=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const T=()=>{};c.addEventListener("test",T,x),c.removeEventListener("test",T,x)}catch{}return g}();function gt(g,x){if(ut.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var T=this.type=g.type,N=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=x,x=g.relatedTarget){if(M){t:{try{z(x.nodeName);var tt=!0;break t}catch{}tt=!1}tt||(x=null)}}else T=="mouseover"?x=g.fromElement:T=="mouseout"&&(x=g.toElement);this.relatedTarget=x,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:J[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&gt.aa.h.call(this)}}E(gt,ut);var J={2:"touch",3:"pen",4:"mouse"};gt.prototype.h=function(){gt.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var pt="closure_listenable_"+(1e6*Math.random()|0),yt=0;function vt(g,x,T,N,tt){this.listener=g,this.proxy=null,this.src=x,this.type=T,this.capture=!!N,this.ha=tt,this.key=++yt,this.da=this.fa=!1}function Tt(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Bt(g){this.src=g,this.g={},this.h=0}Bt.prototype.add=function(g,x,T,N,tt){var ct=g.toString();g=this.g[ct],g||(g=this.g[ct]=[],this.h++);var xt=An(g,x,N,tt);return-1<xt?(x=g[xt],T||(x.fa=!1)):(x=new vt(x,this.src,ct,!!N,tt),x.fa=T,g.push(x)),x};function ae(g,x){var T=x.type;if(T in g.g){var N=g.g[T],tt=Array.prototype.indexOf.call(N,x,void 0),ct;(ct=0<=tt)&&Array.prototype.splice.call(N,tt,1),ct&&(Tt(x),g.g[T].length==0&&(delete g.g[T],g.h--))}}function An(g,x,T,N){for(var tt=0;tt<g.length;++tt){var ct=g[tt];if(!ct.da&&ct.listener==x&&ct.capture==!!T&&ct.ha==N)return tt}return-1}var Jn="closure_lm_"+(1e6*Math.random()|0),qi={};function hi(g,x,T,N,tt){if(Array.isArray(x)){for(var ct=0;ct<x.length;ct++)hi(g,x[ct],T,N,tt);return null}return T=bi(T),g&&g[pt]?g.K(x,T,f(N)?!!N.capture:!1,tt):kn(g,x,T,!1,N,tt)}function kn(g,x,T,N,tt,ct){if(!x)throw Error("Invalid event type");var xt=f(tt)?!!tt.capture:!!tt,oe=Qt(g);if(oe||(g[Jn]=oe=new Bt(g)),T=oe.add(x,T,N,xt,ct),T.proxy)return T;if(N=ur(),T.proxy=N,N.src=g,N.listener=T,g.addEventListener)X||(tt=xt),tt===void 0&&(tt=!1),g.addEventListener(x.toString(),N,tt);else if(g.attachEvent)g.attachEvent(kt(x.toString()),N);else if(g.addListener&&g.removeListener)g.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ur(){function g(T){return x.call(g.src,g.listener,T)}const x=At;return g}function bt(g,x,T,N,tt){if(Array.isArray(x))for(var ct=0;ct<x.length;ct++)bt(g,x[ct],T,N,tt);else N=f(N)?!!N.capture:!!N,T=bi(T),g&&g[pt]?(g=g.i,x=String(x).toString(),x in g.g&&(ct=g.g[x],T=An(ct,T,N,tt),-1<T&&(Tt(ct[T]),Array.prototype.splice.call(ct,T,1),ct.length==0&&(delete g.g[x],g.h--)))):g&&(g=Qt(g))&&(x=g.g[x.toString()],g=-1,x&&(g=An(x,T,N,tt)),(T=-1<g?x[g]:null)&&It(T))}function It(g){if(typeof g!="number"&&g&&!g.da){var x=g.src;if(x&&x[pt])ae(x.i,g);else{var T=g.type,N=g.proxy;x.removeEventListener?x.removeEventListener(T,N,g.capture):x.detachEvent?x.detachEvent(kt(T),N):x.addListener&&x.removeListener&&x.removeListener(N),(T=Qt(x))?(ae(T,g),T.h==0&&(T.src=null,x[Jn]=null)):Tt(g)}}}function kt(g){return g in qi?qi[g]:qi[g]="on"+g}function At(g,x){if(g.da)g=!0;else{x=new gt(x,this);var T=g.listener,N=g.ha||g.src;g.fa&&It(g),g=T.call(N,x)}return g}function Qt(g){return g=g[Jn],g instanceof Bt?g:null}var ti="__closure_events_fn_"+(1e9*Math.random()>>>0);function bi(g){return typeof g=="function"?g:(g[ti]||(g[ti]=function(x){return g.handleEvent(x)}),g[ti])}function me(){lt.call(this),this.i=new Bt(this),this.M=this,this.F=null}E(me,lt),me.prototype[pt]=!0,me.prototype.removeEventListener=function(g,x,T,N){bt(this,g,x,T,N)};function pe(g,x){var T,N=g.F;if(N)for(T=[];N;N=N.F)T.push(N);if(g=g.M,N=x.type||x,typeof x=="string")x=new ut(x,g);else if(x instanceof ut)x.target=x.target||g;else{var tt=x;x=new ut(N,g),j(x,tt)}if(tt=!0,T)for(var ct=T.length-1;0<=ct;ct--){var xt=x.g=T[ct];tt=fi(xt,N,!0,x)&&tt}if(xt=x.g=g,tt=fi(xt,N,!0,x)&&tt,tt=fi(xt,N,!1,x)&&tt,T)for(ct=0;ct<T.length;ct++)xt=x.g=T[ct],tt=fi(xt,N,!1,x)&&tt}me.prototype.N=function(){if(me.aa.N.call(this),this.i){var g=this.i,x;for(x in g.g){for(var T=g.g[x],N=0;N<T.length;N++)Tt(T[N]);delete g.g[x],g.h--}}this.F=null},me.prototype.K=function(g,x,T,N){return this.i.add(String(g),x,!1,T,N)},me.prototype.L=function(g,x,T,N){return this.i.add(String(g),x,!0,T,N)};function fi(g,x,T,N){if(x=g.i.g[String(x)],!x)return!0;x=x.concat();for(var tt=!0,ct=0;ct<x.length;++ct){var xt=x[ct];if(xt&&!xt.da&&xt.capture==T){var oe=xt.listener,vn=xt.ha||xt.src;xt.fa&&ae(g.i,xt),tt=oe.call(vn,N)!==!1&&tt}}return tt&&!N.defaultPrevented}function Rn(g,x,T){if(typeof g=="function")T&&(g=_(g,T));else if(g&&typeof g.handleEvent=="function")g=_(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:c.setTimeout(g,x||0)}function Ml(g){g.g=Rn(()=>{g.g=null,g.i&&(g.i=!1,Ml(g))},g.l);const x=g.h;g.h=null,g.m.apply(null,x)}class pu extends lt{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Ml(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(g){lt.call(this),this.h=g,this.g={}}E(hr,lt);var fr=[];function dr(g){Y(g.g,function(x,T){this.g.hasOwnProperty(T)&&It(x)},g),g.g={}}hr.prototype.N=function(){hr.aa.N.call(this),dr(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ri=c.JSON.stringify,pr=c.JSON.parse,gr=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function la(){}la.prototype.h=null;function Ht(g){return g.h||(g.h=g.i())}function ye(){}var Vt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function he(){ut.call(this,"d")}E(he,ut);function Cn(){ut.call(this,"c")}E(Cn,ut);var Wt={},vo=null;function As(){return vo=vo||new me}Wt.La="serverreachability";function ca(g){ut.call(this,Wt.La,g)}E(ca,ut);function $i(g){const x=As();pe(x,new ca(x))}Wt.STAT_EVENT="statevent";function ua(g,x){ut.call(this,Wt.STAT_EVENT,g),this.stat=x}E(ua,ut);function Be(g){const x=As();pe(x,new ua(x,g))}Wt.Ma="timingevent";function bn(g,x){ut.call(this,Wt.Ma,g),this.size=x}E(bn,ut);function an(g,x){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},x)}function Hi(){this.g=!0}Hi.prototype.xa=function(){this.g=!1};function gu(g,x,T,N,tt,ct){g.info(function(){if(g.g)if(ct)for(var xt="",oe=ct.split("&"),vn=0;vn<oe.length;vn++){var le=oe[vn].split("=");if(1<le.length){var Mn=le[0];le=le[1];var xn=Mn.split("_");xt=2<=xn.length&&xn[1]=="type"?xt+(Mn+"="+le+"&"):xt+(Mn+"=redacted&")}}else xt=null;else xt=ct;return"XMLHTTP REQ ("+N+") [attempt "+tt+"]: "+x+`
`+T+`
`+xt})}function Jm(g,x,T,N,tt,ct,xt){g.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+tt+"]: "+x+`
`+T+`
`+ct+" "+xt})}function ha(g,x,T,N){g.info(function(){return"XMLHTTP TEXT ("+x+"): "+xo(g,T)+(N?" "+N:"")})}function nd(g,x){g.info(function(){return"TIMEOUT: "+x})}Hi.prototype.info=function(){};function xo(g,x){if(!g.g)return x;if(!x)return null;try{var T=JSON.parse(x);if(T){for(g=0;g<T.length;g++)if(Array.isArray(T[g])){var N=T[g];if(!(2>N.length)){var tt=N[1];if(Array.isArray(tt)&&!(1>tt.length)){var ct=tt[0];if(ct!="noop"&&ct!="stop"&&ct!="close")for(var xt=1;xt<tt.length;xt++)tt[xt]=""}}}}return Ri(T)}catch{return x}}var fa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ks;function Rs(){}E(Rs,la),Rs.prototype.g=function(){return new XMLHttpRequest},Rs.prototype.i=function(){return{}},ks=new Rs;function di(g,x,T,N){this.j=g,this.i=x,this.l=T,this.R=N||1,this.U=new hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Je}function Je(){this.i=null,this.g="",this.h=!1}var mu={},Il={};function cs(g,x,T){g.L=1,g.v=Ao(Ci(x)),g.m=T,g.P=!0,yr(g,null)}function yr(g,x){g.F=Date.now(),wo(g),g.A=Ci(g.v);var T=g.A,N=g.R;Array.isArray(N)||(N=[String(N)]),wu(T.i,"t",N),g.C=0,T=g.j.J,g.h=new Je,g.g=_d(g.j,T?x:null,!g.m),0<g.O&&(g.M=new pu(_(g.Y,g,g.g),g.O)),x=g.U,T=g.g,N=g.ca;var tt="readystatechange";Array.isArray(tt)||(tt&&(fr[0]=tt.toString()),tt=fr);for(var ct=0;ct<tt.length;ct++){var xt=hi(T,tt[ct],N||x.handleEvent,!1,x.h||x);if(!xt)break;x.g[xt.key]=xt}x=g.H?R(g.H):{},g.m?(g.u||(g.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,x)):(g.u="GET",g.g.ea(g.A,g.u,null,x)),$i(),gu(g.i,g.u,g.A,g.l,g.R,g.m)}di.prototype.ca=function(g){g=g.target;const x=this.M;x&&Ki(g)==3?x.j():this.Y(g)},di.prototype.Y=function(g){try{if(g==this.g)t:{const xn=Ki(this.g);var x=this.g.Ba();const Tr=this.g.Z();if(!(3>xn)&&(xn!=3||this.g&&(this.h.h||this.g.oa()||ud(this.g)))){this.J||xn!=4||x==7||(x==8||0>=Tr?$i(3):$i(2)),da(this);var T=this.g.Z();this.X=T;e:if(id(this)){var N=ud(this.g);g="";var tt=N.length,ct=Ki(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fn(this),Cs(this);var xt="";break e}this.h.i=new c.TextDecoder}for(x=0;x<tt;x++)this.h.h=!0,g+=this.h.i.decode(N[x],{stream:!(ct&&x==tt-1)});N.length=0,this.h.g+=g,this.C=0,xt=this.h.g}else xt=this.g.oa();if(this.o=T==200,Jm(this.i,this.u,this.A,this.l,this.R,xn,T),this.o){if(this.T&&!this.K){e:{if(this.g){var oe,vn=this.g;if((oe=vn.g?vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(oe)){var le=oe;break e}}le=null}if(T=le)ha(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Eo(this,T);else{this.o=!1,this.s=3,Be(12),Fn(this),Cs(this);break t}}if(this.P){T=!0;let qn;for(;!this.J&&this.C<xt.length;)if(qn=sd(this,xt),qn==Il){xn==4&&(this.s=4,Be(14),T=!1),ha(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==mu){this.s=4,Be(15),ha(this.i,this.l,xt,"[Invalid Chunk]"),T=!1;break}else ha(this.i,this.l,qn,null),Eo(this,qn);if(id(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xn!=4||xt.length!=0||this.h.h||(this.s=1,Be(16),T=!1),this.o=this.o&&T,!T)ha(this.i,this.l,xt,"[Invalid Chunked Response]"),Fn(this),Cs(this);else if(0<xt.length&&!this.W){this.W=!0;var Mn=this.j;Mn.g==this&&Mn.ba&&!Mn.M&&(Mn.j.info("Great, no buffering proxy detected. Bytes received: "+xt.length),Po(Mn),Mn.M=!0,Be(11))}}else ha(this.i,this.l,xt,null),Eo(this,xt);xn==4&&Fn(this),this.o&&!this.J&&(xn==4?gd(this.j,this):(this.o=!1,wo(this)))}else sy(this.g),T==400&&0<xt.indexOf("Unknown SID")?(this.s=3,Be(12)):(this.s=0,Be(13)),Fn(this),Cs(this)}}}catch{}finally{}};function id(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function sd(g,x){var T=g.C,N=x.indexOf(`
`,T);return N==-1?Il:(T=Number(x.substring(T,N)),isNaN(T)?mu:(N+=1,N+T>x.length?Il:(x=x.slice(N,N+T),g.C=N+T,x)))}di.prototype.cancel=function(){this.J=!0,Fn(this)};function wo(g){g.S=Date.now()+g.I,rd(g,g.I)}function rd(g,x){if(g.B!=null)throw Error("WatchDog timer not null");g.B=an(_(g.ba,g),x)}function da(g){g.B&&(c.clearTimeout(g.B),g.B=null)}di.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(nd(this.i,this.A),this.L!=2&&($i(),Be(17)),Fn(this),this.s=2,Cs(this)):rd(this,this.S-g)};function Cs(g){g.j.G==0||g.J||gd(g.j,g)}function Fn(g){da(g);var x=g.M;x&&typeof x.ma=="function"&&x.ma(),g.M=null,dr(g.U),g.g&&(x=g.g,g.g=null,x.abort(),x.ma())}function Eo(g,x){try{var T=g.j;if(T.G!=0&&(T.g==g||yu(T.h,g))){if(!g.K&&yu(T.h,g)&&T.G==3){try{var N=T.Da.g.parse(x)}catch{N=null}if(Array.isArray(N)&&N.length==3){var tt=N;if(tt[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<g.F)$l(T),Fl(T);else break t;ku(T),Be(18)}}else T.za=tt[1],0<T.za-T.T&&37500>tt[2]&&T.F&&T.v==0&&!T.C&&(T.C=an(_(T.Za,T),6e3));if(1>=Pl(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Sr(T,11)}else if((g.K||T.g==g)&&$l(T),!I(x))for(tt=T.Da.g.parse(x),x=0;x<tt.length;x++){let le=tt[x];if(T.T=le[0],le=le[1],T.G==2)if(le[0]=="c"){T.K=le[1],T.ia=le[2];const Mn=le[3];Mn!=null&&(T.la=Mn,T.j.info("VER="+T.la));const xn=le[4];xn!=null&&(T.Aa=xn,T.j.info("SVER="+T.Aa));const Tr=le[5];Tr!=null&&typeof Tr=="number"&&0<Tr&&(N=1.5*Tr,T.L=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const qn=g.g;if(qn){const Ls=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ls){var ct=N.h;ct.g||Ls.indexOf("spdy")==-1&&Ls.indexOf("quic")==-1&&Ls.indexOf("h2")==-1||(ct.j=ct.l,ct.g=new Set,ct.h&&(Nl(ct,ct.h),ct.h=null))}if(N.D){const Cu=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Cu&&(N.ya=Cu,Te(N.I,N.D,Cu))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-g.F,T.j.info("Handshake RTT: "+T.R+"ms")),N=T;var xt=g;if(N.qa=yd(N,N.J?N.ia:null,N.W),xt.K){pi(N.h,xt);var oe=xt,vn=N.L;vn&&(oe.I=vn),oe.B&&(da(oe),wo(oe)),N.g=xt}else dd(N);0<T.i.length&&ql(T)}else le[0]!="stop"&&le[0]!="close"||Sr(T,7);else T.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?Sr(T,7):Tu(T):le[0]!="noop"&&T.l&&T.l.ta(le),T.v=0)}}$i(4)}catch{}}var ad=class{constructor(g,x){this.g=g,this.map=x}};function _r(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ol(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Pl(g){return g.h?1:g.g?g.g.size:0}function yu(g,x){return g.h?g.h==x:g.g?g.g.has(x):!1}function Nl(g,x){g.g?g.g.add(x):g.h=x}function pi(g,x){g.h&&g.h==x?g.h=null:g.g&&g.g.has(x)&&g.g.delete(x)}_r.prototype.cancel=function(){if(this.i=_u(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function _u(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let x=g.i;for(const T of g.g.values())x=x.concat(T.D);return x}return A(g.i)}function ty(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var x=[],T=g.length,N=0;N<T;N++)x.push(g[N]);return x}x=[],T=0;for(N in g)x[T++]=g[N];return x}function Ll(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var x=[];g=g.length;for(var T=0;T<g;T++)x.push(T);return x}x=[],T=0;for(const N in g)x[T++]=N;return x}}}function bu(g,x){if(g.forEach&&typeof g.forEach=="function")g.forEach(x,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,x,void 0);else for(var T=Ll(g),N=ty(g),tt=N.length,ct=0;ct<tt;ct++)x.call(void 0,N[ct],T&&T[ct],g)}var So=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ey(g,x){if(g){g=g.split("&");for(var T=0;T<g.length;T++){var N=g[T].indexOf("="),tt=null;if(0<=N){var ct=g[T].substring(0,N);tt=g[T].substring(N+1)}else ct=g[T];x(ct,tt?decodeURIComponent(tt.replace(/\+/g," ")):"")}}}function on(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof on){this.h=g.h,To(this,g.j),this.o=g.o,this.g=g.g,pa(this,g.s),this.l=g.l;var x=g.i,T=new vr;T.i=x.i,x.g&&(T.g=new Map(x.g),T.h=x.h),br(this,T),this.m=g.m}else g&&(x=String(g).match(So))?(this.h=!1,To(this,x[1]||"",!0),this.o=Wi(x[2]||""),this.g=Wi(x[3]||"",!0),pa(this,x[4]),this.l=Wi(x[5]||"",!0),br(this,x[6]||"",!0),this.m=Wi(x[7]||"")):(this.h=!1,this.i=new vr(null,this.h))}on.prototype.toString=function(){var g=[],x=this.j;x&&g.push(ko(x,vu,!0),":");var T=this.g;return(T||x=="file")&&(g.push("//"),(x=this.o)&&g.push(ko(x,vu,!0),"@"),g.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&g.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&g.push("/"),g.push(ko(T,T.charAt(0)=="/"?ny:xu,!0))),(T=this.i.toString())&&g.push("?",T),(T=this.m)&&g.push("#",ko(T,Vl)),g.join("")};function Ci(g){return new on(g)}function To(g,x,T){g.j=T?Wi(x,!0):x,g.j&&(g.j=g.j.replace(/:$/,""))}function pa(g,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);g.s=x}else g.s=null}function br(g,x,T){x instanceof vr?(g.i=x,ld(g.i,g.h)):(T||(x=ko(x,iy)),g.i=new vr(x,g.h))}function Te(g,x,T){g.i.set(x,T)}function Ao(g){return Te(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Wi(g,x){return g?x?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ko(g,x,T){return typeof g=="string"?(g=encodeURI(g).replace(x,od),T&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function od(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var vu=/[#\/\?@]/g,xu=/[#\?:]/g,ny=/[#\?]/g,iy=/[#\?@]/g,Vl=/#/g;function vr(g,x){this.h=this.g=null,this.i=g||null,this.j=!!x}function Yi(g){g.g||(g.g=new Map,g.h=0,g.i&&ey(g.i,function(x,T){g.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}e=vr.prototype,e.add=function(g,x){Yi(this),this.i=null,g=Ds(this,g);var T=this.g.get(g);return T||this.g.set(g,T=[]),T.push(x),this.h+=1,this};function xr(g,x){Yi(g),x=Ds(g,x),g.g.has(x)&&(g.i=null,g.h-=g.g.get(x).length,g.g.delete(x))}function wr(g,x){return Yi(g),x=Ds(g,x),g.g.has(x)}e.forEach=function(g,x){Yi(this),this.g.forEach(function(T,N){T.forEach(function(tt){g.call(x,tt,N,this)},this)},this)},e.na=function(){Yi(this);const g=Array.from(this.g.values()),x=Array.from(this.g.keys()),T=[];for(let N=0;N<x.length;N++){const tt=g[N];for(let ct=0;ct<tt.length;ct++)T.push(x[N])}return T},e.V=function(g){Yi(this);let x=[];if(typeof g=="string")wr(this,g)&&(x=x.concat(this.g.get(Ds(this,g))));else{g=Array.from(this.g.values());for(let T=0;T<g.length;T++)x=x.concat(g[T])}return x},e.set=function(g,x){return Yi(this),this.i=null,g=Ds(this,g),wr(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[x]),this.h+=1,this},e.get=function(g,x){return g?(g=this.V(g),0<g.length?String(g[0]):x):x};function wu(g,x,T){xr(g,x),0<T.length&&(g.i=null,g.g.set(Ds(g,x),A(T)),g.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],x=Array.from(this.g.keys());for(var T=0;T<x.length;T++){var N=x[T];const ct=encodeURIComponent(String(N)),xt=this.V(N);for(N=0;N<xt.length;N++){var tt=ct;xt[N]!==""&&(tt+="="+encodeURIComponent(String(xt[N]))),g.push(tt)}}return this.i=g.join("&")};function Ds(g,x){return x=String(x),g.j&&(x=x.toLowerCase()),x}function ld(g,x){x&&!g.j&&(Yi(g),g.i=null,g.g.forEach(function(T,N){var tt=N.toLowerCase();N!=tt&&(xr(this,N),wu(this,tt,T))},g)),g.j=x}function Ro(g,x){const T=new Hi;if(c.Image){const N=new Image;N.onload=w(Gi,T,"TestLoadImage: loaded",!0,x,N),N.onerror=w(Gi,T,"TestLoadImage: error",!1,x,N),N.onabort=w(Gi,T,"TestLoadImage: abort",!1,x,N),N.ontimeout=w(Gi,T,"TestLoadImage: timeout",!1,x,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=g}else x(!1)}function us(g,x){const T=new Hi,N=new AbortController,tt=setTimeout(()=>{N.abort(),Gi(T,"TestPingServer: timeout",!1,x)},1e4);fetch(g,{signal:N.signal}).then(ct=>{clearTimeout(tt),ct.ok?Gi(T,"TestPingServer: ok",!0,x):Gi(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(tt),Gi(T,"TestPingServer: error",!1,x)})}function Gi(g,x,T,N,tt){try{tt&&(tt.onload=null,tt.onerror=null,tt.onabort=null,tt.ontimeout=null),N(T)}catch{}}function Co(){this.g=new gr}function Ms(g,x,T){const N=T||"";try{bu(g,function(tt,ct){let xt=tt;f(tt)&&(xt=Ri(tt)),x.push(N+ct+"="+encodeURIComponent(xt))})}catch(tt){throw x.push(N+"type="+encodeURIComponent("_badmap")),tt}}function ga(g){this.l=g.Ub||null,this.j=g.eb||!1}E(ga,la),ga.prototype.g=function(){return new Er(this.l,this.j)},ga.prototype.i=function(g){return function(){return g}}({});function Er(g,x){me.call(this),this.D=g,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Er,me),e=Er.prototype,e.open=function(g,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=x,this.readyState=1,Os(this)},e.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(x.body=g),(this.D||c).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},e.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Os(this)),this.g&&(this.readyState=3,Os(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eu(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eu(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}e.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var x=g.value?g.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!g.done}))&&(this.response=this.responseText+=x)}g.done?Is(this):Os(this),this.readyState==3&&Eu(this)}},e.Ra=function(g){this.g&&(this.response=this.responseText=g,Is(this))},e.Qa=function(g){this.g&&(this.response=g,Is(this))},e.ga=function(){this.g&&Is(this)};function Is(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Os(g)}e.setRequestHeader=function(g,x){this.u.append(g,x)},e.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,g.push(T[0]+": "+T[1]),T=x.next();return g.join(`\r
`)};function Os(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Su(g){let x="";return Y(g,function(T,N){x+=N,x+=":",x+=T,x+=`\r
`}),x}function Dn(g,x,T){t:{for(N in T){var N=!1;break t}N=!0}N||(T=Su(T),typeof g=="string"?T!=null&&encodeURIComponent(String(T)):Te(g,x,T))}function _e(g){me.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(_e,me);var jl=/^https?$/i,Do=["POST","PUT"];e=_e.prototype,e.Ha=function(g){this.J=g},e.ea=function(g,x,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);x=x?x.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ks.g(),this.v=this.o?Ht(this.o):Ht(ks),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(x,String(g),!0),this.B=!1}catch(ct){cd(this,ct);return}if(g=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var tt in N)T.set(tt,N[tt]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ct of N.keys())T.set(ct,N.get(ct));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(ct=>ct.toLowerCase()=="content-type"),tt=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Do,x,void 0))||N||tt||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ct,xt]of T)this.g.setRequestHeader(ct,xt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mo(this),this.u=!0,this.g.send(g),this.u=!1}catch(ct){cd(this,ct)}};function cd(g,x){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=x,g.m=5,Ul(g),Ps(g)}function Ul(g){g.A||(g.A=!0,pe(g,"complete"),pe(g,"error"))}e.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,pe(this,"complete"),pe(this,"abort"),Ps(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ps(this,!0)),_e.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zl(this):this.bb())},e.bb=function(){zl(this)};function zl(g){if(g.h&&typeof l<"u"&&(!g.v[1]||Ki(g)!=4||g.Z()!=2)){if(g.u&&Ki(g)==4)Rn(g.Ea,0,g);else if(pe(g,"readystatechange"),Ki(g)==4){g.h=!1;try{const xt=g.Z();t:switch(xt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break t;default:x=!1}var T;if(!(T=x)){var N;if(N=xt===0){var tt=String(g.D).match(So)[1]||null;!tt&&c.self&&c.self.location&&(tt=c.self.location.protocol.slice(0,-1)),N=!jl.test(tt?tt.toLowerCase():"")}T=N}if(T)pe(g,"complete"),pe(g,"success");else{g.m=6;try{var ct=2<Ki(g)?g.g.statusText:""}catch{ct=""}g.l=ct+" ["+g.Z()+"]",Ul(g)}}finally{Ps(g)}}}}function Ps(g,x){if(g.g){Mo(g);const T=g.g,N=g.v[0]?()=>{}:null;g.g=null,g.v=null,x||pe(g,"ready");try{T.onreadystatechange=N}catch{}}}function Mo(g){g.I&&(c.clearTimeout(g.I),g.I=null)}e.isActive=function(){return!!this.g};function Ki(g){return g.g?g.g.readyState:0}e.Z=function(){try{return 2<Ki(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(g){if(this.g){var x=this.g.responseText;return g&&x.indexOf(g)==0&&(x=x.substring(g.length)),pr(x)}};function ud(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function sy(g){const x={};g=(g.g&&2<=Ki(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<g.length;N++){if(I(g[N]))continue;var T=U(g[N]);const tt=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ct=x[tt]||[];x[tt]=ct,ct.push(T)}C(x,function(N){return N.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Io(g,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[g]||x}function Bl(g){this.Aa=0,this.i=[],this.j=new Hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Io("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Io("baseRetryDelayMs",5e3,g),this.cb=Io("retryDelaySeedMs",1e4,g),this.Wa=Io("forwardChannelMaxRetries",2,g),this.wa=Io("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new _r(g&&g.concurrentRequestLimit),this.Da=new Co,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Bl.prototype,e.la=8,e.G=1,e.connect=function(g,x,T,N){Be(0),this.W=g,this.H=x||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.I=yd(this,null,this.W),ql(this)};function Tu(g){if(hd(g),g.G==3){var x=g.U++,T=Ci(g.I);if(Te(T,"SID",g.K),Te(T,"RID",x),Te(T,"TYPE","terminate"),Oo(g,T),x=new di(g,g.j,x),x.L=2,x.v=Ao(Ci(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(x.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=x.v,T=!0),T||(x.g=_d(x.j,null),x.g.ea(x.v)),x.F=Date.now(),wo(x)}md(g)}function Fl(g){g.g&&(Po(g),g.g.cancel(),g.g=null)}function hd(g){Fl(g),g.u&&(c.clearTimeout(g.u),g.u=null),$l(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function ql(g){if(!Ol(g.h)&&!g.s){g.s=!0;var x=g.Ga;G||B(),ot||(G(),ot=!0),it.add(x,g),g.B=0}}function ry(g,x){return Pl(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=x.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=an(_(g.Ga,g,x),Ru(g,g.B)),g.B++,!0)}e.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const tt=new di(this,this.j,g);let ct=this.o;if(this.S&&(ct?(ct=R(ct),j(ct,this.S)):ct=this.S),this.m!==null||this.O||(tt.H=ct,ct=null),this.P)t:{for(var x=0,T=0;T<this.i.length;T++){e:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break e}N=void 0}if(N===void 0)break;if(x+=N,4096<x){x=T;break t}if(x===4096||T===this.i.length-1){x=T+1;break t}}x=1e3}else x=1e3;x=fd(this,tt,x),T=Ci(this.I),Te(T,"RID",g),Te(T,"CVER",22),this.D&&Te(T,"X-HTTP-Session-Id",this.D),Oo(this,T),ct&&(this.O?x="headers="+encodeURIComponent(String(Su(ct)))+"&"+x:this.m&&Dn(T,this.m,ct)),Nl(this.h,tt),this.Ua&&Te(T,"TYPE","init"),this.P?(Te(T,"$req",x),Te(T,"SID","null"),tt.T=!0,cs(tt,T,null)):cs(tt,T,x),this.G=2}}else this.G==3&&(g?Au(this,g):this.i.length==0||Ol(this.h)||Au(this))};function Au(g,x){var T;x?T=x.l:T=g.U++;const N=Ci(g.I);Te(N,"SID",g.K),Te(N,"RID",T),Te(N,"AID",g.T),Oo(g,N),g.m&&g.o&&Dn(N,g.m,g.o),T=new di(g,g.j,T,g.B+1),g.m===null&&(T.H=g.o),x&&(g.i=x.D.concat(g.i)),x=fd(g,T,1e3),T.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Nl(g.h,T),cs(T,N,x)}function Oo(g,x){g.H&&Y(g.H,function(T,N){Te(x,N,T)}),g.l&&bu({},function(T,N){Te(x,N,T)})}function fd(g,x,T){T=Math.min(g.i.length,T);var N=g.l?_(g.l.Na,g.l,g):null;t:{var tt=g.i;let ct=-1;for(;;){const xt=["count="+T];ct==-1?0<T?(ct=tt[0].g,xt.push("ofs="+ct)):ct=0:xt.push("ofs="+ct);let oe=!0;for(let vn=0;vn<T;vn++){let le=tt[vn].g;const Mn=tt[vn].map;if(le-=ct,0>le)ct=Math.max(0,tt[vn].g-100),oe=!1;else try{Ms(Mn,xt,"req"+le+"_")}catch{N&&N(Mn)}}if(oe){N=xt.join("&");break t}}}return g=g.i.splice(0,T),x.D=g,N}function dd(g){if(!g.g&&!g.u){g.Y=1;var x=g.Fa;G||B(),ot||(G(),ot=!0),it.add(x,g),g.v=0}}function ku(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=an(_(g.Fa,g),Ru(g,g.v)),g.v++,!0)}e.Fa=function(){if(this.u=null,pd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=an(_(this.ab,this),g)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Be(10),Fl(this),pd(this))};function Po(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function pd(g){g.g=new di(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var x=Ci(g.qa);Te(x,"RID","rpc"),Te(x,"SID",g.K),Te(x,"AID",g.T),Te(x,"CI",g.F?"0":"1"),!g.F&&g.ja&&Te(x,"TO",g.ja),Te(x,"TYPE","xmlhttp"),Oo(g,x),g.m&&g.o&&Dn(x,g.m,g.o),g.L&&(g.g.I=g.L);var T=g.g;g=g.ia,T.L=1,T.v=Ao(Ci(x)),T.m=null,T.P=!0,yr(T,g)}e.Za=function(){this.C!=null&&(this.C=null,Fl(this),ku(this),Be(19))};function $l(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function gd(g,x){var T=null;if(g.g==x){$l(g),Po(g),g.g=null;var N=2}else if(yu(g.h,x))T=x.D,pi(g.h,x),N=1;else return;if(g.G!=0){if(x.o)if(N==1){T=x.m?x.m.length:0,x=Date.now()-x.F;var tt=g.B;N=As(),pe(N,new bn(N,T)),ql(g)}else dd(g);else if(tt=x.s,tt==3||tt==0&&0<x.X||!(N==1&&ry(g,x)||N==2&&ku(g)))switch(T&&0<T.length&&(x=g.h,x.i=x.i.concat(T)),tt){case 1:Sr(g,5);break;case 4:Sr(g,10);break;case 3:Sr(g,6);break;default:Sr(g,2)}}}function Ru(g,x){let T=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(T*=2),T*x}function Sr(g,x){if(g.j.info("Error code "+x),x==2){var T=_(g.fb,g),N=g.Xa;const tt=!N;N=new on(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||To(N,"https"),Ao(N),tt?Ro(N.toString(),T):us(N.toString(),T)}else Be(2);g.G=0,g.l&&g.l.sa(x),md(g),hd(g)}e.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Be(2)):(this.j.info("Failed to ping google.com"),Be(1))};function md(g){if(g.G=0,g.ka=[],g.l){const x=_u(g.h);(x.length!=0||g.i.length!=0)&&(S(g.ka,x),S(g.ka,g.i),g.h.i.length=0,A(g.i),g.i.length=0),g.l.ra()}}function yd(g,x,T){var N=T instanceof on?Ci(T):new on(T);if(N.g!="")x&&(N.g=x+"."+N.g),pa(N,N.s);else{var tt=c.location;N=tt.protocol,x=x?x+"."+tt.hostname:tt.hostname,tt=+tt.port;var ct=new on(null);N&&To(ct,N),x&&(ct.g=x),tt&&pa(ct,tt),T&&(ct.l=T),N=ct}return T=g.D,x=g.ya,T&&x&&Te(N,T,x),Te(N,"VER",g.la),Oo(g,N),N}function _d(g,x,T){if(x&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=g.Ca&&!g.pa?new _e(new ga({eb:T})):new _e(g.pa),x.Ha(g.J),x}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function bd(){}e=bd.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Hl(){}Hl.prototype.g=function(g,x){return new gi(g,x)};function gi(g,x){me.call(this),this.g=new Bl(x),this.l=g,this.h=x&&x.messageUrlParams||null,g=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(g?g["X-WebChannel-Content-Type"]=x.messageContentType:g={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(g?g["X-WebChannel-Client-Profile"]=x.va:g={"X-WebChannel-Client-Profile":x.va}),this.g.S=g,(g=x&&x.Sb)&&!I(g)&&(this.g.m=g),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!I(x)&&(this.g.D=x,g=this.h,g!==null&&x in g&&(g=this.h,x in g&&delete g[x])),this.j=new Ns(this)}E(gi,me),gi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gi.prototype.close=function(){Tu(this.g)},gi.prototype.o=function(g){var x=this.g;if(typeof g=="string"){var T={};T.__data__=g,g=T}else this.u&&(T={},T.__data__=Ri(g),g=T);x.i.push(new ad(x.Ya++,g)),x.G==3&&ql(x)},gi.prototype.N=function(){this.g.l=null,delete this.j,Tu(this.g),delete this.g,gi.aa.N.call(this)};function vd(g){he.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var x=g.__sm__;if(x){t:{for(const T in x){g=T;break t}g=void 0}(this.i=g)&&(g=this.i,x=x!==null&&g in x?x[g]:void 0),this.data=x}else this.data=g}E(vd,he);function xd(){Cn.call(this),this.status=1}E(xd,Cn);function Ns(g){this.g=g}E(Ns,bd),Ns.prototype.ua=function(){pe(this.g,"a")},Ns.prototype.ta=function(g){pe(this.g,new vd(g))},Ns.prototype.sa=function(g){pe(this.g,new xd)},Ns.prototype.ra=function(){pe(this.g,"b")},Hl.prototype.createWebChannel=Hl.prototype.g,gi.prototype.send=gi.prototype.o,gi.prototype.open=gi.prototype.m,gi.prototype.close=gi.prototype.close,yC=function(){return new Hl},mC=function(){return As()},gC=Wt,p0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,pg=fa,mr.COMPLETE="complete",pC=mr,ye.EventType=Vt,Vt.OPEN="a",Vt.CLOSE="b",Vt.ERROR="c",Vt.MESSAGE="d",me.prototype.listen=me.prototype.K,Lh=ye,_e.prototype.listenOnce=_e.prototype.L,_e.prototype.getLastError=_e.prototype.Ka,_e.prototype.getLastErrorCode=_e.prototype.Ba,_e.prototype.getStatus=_e.prototype.Z,_e.prototype.getResponseJson=_e.prototype.Oa,_e.prototype.getResponseText=_e.prototype.oa,_e.prototype.send=_e.prototype.ea,_e.prototype.setWithCredentials=_e.prototype.Ha,dC=_e}).apply(typeof Tp<"u"?Tp:typeof self<"u"?self:typeof window<"u"?window:{});const PS="@firebase/firestore",NS="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ai.UNAUTHENTICATED=new ai(null),ai.GOOGLE_CREDENTIALS=new ai("google-credentials-uid"),ai.FIRST_PARTY=new ai("first-party-uid"),ai.MOCK_USER=new ai("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new mv("@firebase/firestore");function Tc(){return _l.logLevel}function Rt(e,...t){if(_l.logLevel<=ie.DEBUG){const n=t.map(vv);_l.debug(`Firestore (${ou}): ${e}`,...n)}}function ia(e,...t){if(_l.logLevel<=ie.ERROR){const n=t.map(vv);_l.error(`Firestore (${ou}): ${e}`,...n)}}function $c(e,...t){if(_l.logLevel<=ie.WARN){const n=t.map(vv);_l.warn(`Firestore (${ou}): ${e}`,...n)}}function vv(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,_C(e,i,n)}function _C(e,t,n){let i=`FIRESTORE (${ou}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ia(i),new Error(i)}function xe(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||_C(t,s,i)}function $t(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends lr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class hV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ai.UNAUTHENTICATED))}shutdown(){}}class fV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dV{constructor(t){this.t=t,this.currentUser=ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){xe(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let r=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Jr,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=r;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Jr)}},0),l()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(xe(typeof i.accessToken=="string",31837,{l:i}),new bC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return xe(t===null||typeof t=="string",2055,{h:t}),new ai(t)}}class pV{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=ai.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gV{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new pV(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mV{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rs(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){xe(this.o===void 0,3512);const i=r=>{r.error!=null&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const l=r.token!==this.m;return this.m=r.token,Rt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new LS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new LS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=yV(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%62))}return i}}function se(e,t){return e<t?-1:e>t?1:0}function g0(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.charAt(i),r=t.charAt(i);if(s!==r)return pb(s)===pb(r)?se(s,r):pb(s)?1:-1}return se(e.length,t.length)}const _V=55296,bV=57343;function pb(e){const t=e.charCodeAt(0);return t>=_V&&t<=bV}function Hc(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="__name__";class Ws{constructor(t,n,i){n===void 0?n=0:n>t.length&&Ut(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Ut(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Ws.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ws?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=Ws.compareSegments(t.get(s),n.get(s));if(r!==0)return r}return se(t.length,n.length)}static compareSegments(t,n){const i=Ws.isNumericId(t),s=Ws.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Ws.extractNumericId(t).compare(Ws.extractNumericId(n)):g0(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return eo.fromString(t.substring(4,t.length-2))}}class Pe extends Ws{construct(t,n,i){return new Pe(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new St(dt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const vV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends Ws{construct(t,n,i){return new Kn(t,n,i)}static isValidIdentifier(t){return vV.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VS}static keyField(){return new Kn([VS])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new St(dt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new St(dt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new St(dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(r(),s++)}if(r(),l)throw new St(dt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Kn(n)}static emptyPath(){return new Kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(t){this.path=t}static fromPath(t){return new Pt(Pe.fromString(t))}static fromName(t){return new Pt(Pe.fromString(t).popFirst(5))}static empty(){return new Pt(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Pe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Pe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Pt(new Pe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(e,t,n){if(!n)throw new St(dt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function xV(e,t,n,i){if(t===!0&&i===!0)throw new St(dt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function jS(e){if(!Pt.isDocumentKey(e))throw new St(dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function US(e){if(Pt.isDocumentKey(e))throw new St(dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function xC(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function xm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ut(12329,{type:typeof e})}function Bi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new St(dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xm(e);throw new St(dt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(e,t){const n={typeString:e};return t&&(n.value=t),n}function zf(e,t){if(!xC(e))throw new St(dt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,r="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const l=e[i];if(s&&typeof l!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(r!==void 0&&l!==r.value){n=`Expected '${i}' field to equal '${r.value}'`;break}}if(n)throw new St(dt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=-62135596800,BS=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(t){return Ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*BS);return new Ie(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new St(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new St(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<zS)throw new St(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new St(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BS}_compareTo(t){return this.seconds===t.seconds?se(this.nanoseconds,t.nanoseconds):se(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(zf(t,Ie._jsonSchema))return new Ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-zS;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ie._jsonSchemaVersion="firestore/timestamp/1.0",Ie._jsonSchema={type:yn("string",Ie._jsonSchemaVersion),seconds:yn("number"),nanoseconds:yn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{static fromTimestamp(t){return new Ft(t)}static min(){return new Ft(new Ie(0,0))}static max(){return new Ft(new Ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=-1;function wV(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=Ft.fromTimestamp(i===1e9?new Ie(n+1,0):new Ie(n,i));return new ro(s,Pt.empty(),t)}function EV(e){return new ro(e.readTime,e.key,gf)}class ro{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new ro(Ft.min(),Pt.empty(),gf)}static max(){return new ro(Ft.max(),Pt.empty(),gf)}}function SV(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Pt.comparator(e.documentKey,t.documentKey),n!==0?n:se(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(e){if(e.code!==dt.FAILED_PRECONDITION||e.message!==TV)throw e;Rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new _t((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof _t?n:_t.resolve(n)}catch(n){return _t.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):_t.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):_t.reject(n)}static resolve(t){return new _t((n,i)=>{n(t)})}static reject(t){return new _t((n,i)=>{i(t)})}static waitFor(t){return new _t((n,i)=>{let s=0,r=0,l=!1;t.forEach(c=>{++s,c.next(()=>{++r,l&&r===s&&n()},h=>i(h))}),l=!0,r===s&&n()})}static or(t){let n=_t.resolve(!1);for(const i of t)n=n.next(s=>s?_t.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(t,n){return new _t((i,s)=>{const r=t.length,l=new Array(r);let c=0;for(let h=0;h<r;h++){const f=h;n(t[f]).next(p=>{l[f]=p,++c,c===r&&i(l)},p=>s(p))}})}static doWhile(t,n){return new _t((i,s)=>{const r=()=>{t()===!0?n().next(()=>{r()},s):i()};r()})}}function kV(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}wm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=-1;function Em(e){return e==null}function Ug(e){return e===0&&1/e==-1/0}function RV(e){return typeof e=="number"&&Number.isInteger(e)&&!Ug(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="";function CV(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=FS(t)),t=DV(e.get(n),t);return FS(t)}function DV(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const r=e.charAt(s);switch(r){case"\0":n+="";break;case wC:n+="";break;default:n+=r}}return n}function FS(e){return e+wC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function go(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function EC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,n){this.comparator=t,this.root=n||Gn.EMPTY}insert(t,n){return new Ye(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Gn.BLACK,null,null))}remove(t){return new Ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Gn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ap(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ap(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ap(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ap(this.root,t,this.comparator,!0)}}class Ap{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&s&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Gn{constructor(t,n,i,s,r){this.key=t,this.value=n,this.color=i??Gn.RED,this.left=s??Gn.EMPTY,this.right=r??Gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,r){return new Gn(t??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const r=i(t,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(t,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Gn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Gn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ut(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ut(27949);return t+(this.isRed()?0:1)}}Gn.EMPTY=null,Gn.RED=!0,Gn.BLACK=!1;Gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut(57766)}get value(){throw Ut(16141)}get color(){throw Ut(16727)}get left(){throw Ut(29726)}get right(){throw Ut(36894)}copy(t,n,i,s,r){return this}insert(t,n,i){return new Gn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.comparator=t,this.data=new Ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new $S(this.data.getIterator())}getIteratorFrom(t){return new $S(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Sn)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Sn(this.comparator);return n.data=t,n}}class $S{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t){this.fields=t,t.sort(Kn.comparator)}static empty(){return new zi([])}unionWith(t){let n=new Sn(Kn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new zi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Hc(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new SC("Invalid base64 string: "+r):r}}(t);return new Qn(n)}static fromUint8Array(t){const n=function(s){let r="";for(let l=0;l<s.length;++l)r+=String.fromCharCode(s[l]);return r}(t);return new Qn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return se(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qn.EMPTY_BYTE_STRING=new Qn("");const MV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ao(e){if(xe(!!e,39018),typeof e=="string"){let t=0;const n=MV.exec(e);if(xe(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:nn(e.seconds),nanos:nn(e.nanos)}}function nn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function oo(e){return typeof e=="string"?Qn.fromBase64String(e):Qn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="server_timestamp",AC="__type__",kC="__previous_value__",RC="__local_write_time__";function Ev(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[AC])==null?void 0:i.stringValue)===TC}function Sm(e){const t=e.mapValue.fields[kC];return Ev(t)?Sm(t):t}function mf(e){const t=ao(e.mapValue.fields[RC].timestampValue);return new Ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(t,n,i,s,r,l,c,h,f,p){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=p}}const zg="(default)";class yf{constructor(t,n){this.projectId=t,this.database=n||zg}static empty(){return new yf("","")}get isDefaultDatabase(){return this.database===zg}isEqual(t){return t instanceof yf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="__type__",OV="__max__",kp={mapValue:{}},DC="__vector__",Bg="value";function lo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ev(e)?4:NV(e)?9007199254740991:PV(e)?10:11:Ut(28295,{value:e})}function ir(e,t){if(e===t)return!0;const n=lo(e);if(n!==lo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mf(e).isEqual(mf(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const l=ao(s.timestampValue),c=ao(r.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,r){return oo(s.bytesValue).isEqual(oo(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,r){return nn(s.geoPointValue.latitude)===nn(r.geoPointValue.latitude)&&nn(s.geoPointValue.longitude)===nn(r.geoPointValue.longitude)}(e,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return nn(s.integerValue)===nn(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const l=nn(s.doubleValue),c=nn(r.doubleValue);return l===c?Ug(l)===Ug(c):isNaN(l)&&isNaN(c)}return!1}(e,t);case 9:return Hc(e.arrayValue.values||[],t.arrayValue.values||[],ir);case 10:case 11:return function(s,r){const l=s.mapValue.fields||{},c=r.mapValue.fields||{};if(qS(l)!==qS(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!ir(l[h],c[h])))return!1;return!0}(e,t);default:return Ut(52216,{left:e})}}function _f(e,t){return(e.values||[]).find(n=>ir(n,t))!==void 0}function Wc(e,t){if(e===t)return 0;const n=lo(e),i=lo(t);if(n!==i)return se(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(e.booleanValue,t.booleanValue);case 2:return function(r,l){const c=nn(r.integerValue||r.doubleValue),h=nn(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(e,t);case 3:return HS(e.timestampValue,t.timestampValue);case 4:return HS(mf(e),mf(t));case 5:return g0(e.stringValue,t.stringValue);case 6:return function(r,l){const c=oo(r),h=oo(l);return c.compareTo(h)}(e.bytesValue,t.bytesValue);case 7:return function(r,l){const c=r.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const p=se(c[f],h[f]);if(p!==0)return p}return se(c.length,h.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,l){const c=se(nn(r.latitude),nn(l.latitude));return c!==0?c:se(nn(r.longitude),nn(l.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return WS(e.arrayValue,t.arrayValue);case 10:return function(r,l){var _,w,E,A;const c=r.fields||{},h=l.fields||{},f=(_=c[Bg])==null?void 0:_.arrayValue,p=(w=h[Bg])==null?void 0:w.arrayValue,y=se(((E=f==null?void 0:f.values)==null?void 0:E.length)||0,((A=p==null?void 0:p.values)==null?void 0:A.length)||0);return y!==0?y:WS(f,p)}(e.mapValue,t.mapValue);case 11:return function(r,l){if(r===kp.mapValue&&l===kp.mapValue)return 0;if(r===kp.mapValue)return 1;if(l===kp.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let y=0;y<h.length&&y<p.length;++y){const _=g0(h[y],p[y]);if(_!==0)return _;const w=Wc(c[h[y]],f[p[y]]);if(w!==0)return w}return se(h.length,p.length)}(e.mapValue,t.mapValue);default:throw Ut(23264,{he:n})}}function HS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return se(e,t);const n=ao(e),i=ao(t),s=se(n.seconds,i.seconds);return s!==0?s:se(n.nanos,i.nanos)}function WS(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=Wc(n[s],i[s]);if(r)return r}return se(n.length,i.length)}function Yc(e){return m0(e)}function m0(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=ao(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return oo(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Pt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=m0(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const l of i)r?r=!1:s+=",",s+=`${l}:${m0(n.fields[l])}`;return s+"}"}(e.mapValue):Ut(61005,{value:e})}function gg(e){switch(lo(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Sm(e);return t?16+gg(t):16;case 5:return 2*e.stringValue.length;case 6:return oo(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+gg(r),0)}(e.arrayValue);case 10:case 11:return function(i){let s=0;return go(i.fields,(r,l)=>{s+=r.length+gg(l)}),s}(e.mapValue);default:throw Ut(13486,{value:e})}}function YS(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function y0(e){return!!e&&"integerValue"in e}function Sv(e){return!!e&&"arrayValue"in e}function GS(e){return!!e&&"nullValue"in e}function KS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function mg(e){return!!e&&"mapValue"in e}function PV(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[CC])==null?void 0:i.stringValue)===DC}function Gh(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return go(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Gh(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Gh(e.arrayValue.values[n]);return t}return{...e}}function NV(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===OV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t){this.value=t}static empty(){return new Ai({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!mg(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Gh(n)}setAll(t){let n=Kn.emptyPath(),i={},s=[];t.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=c.popLast()}l?i[c.lastSegment()]=Gh(l):s.push(c.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(t){const n=this.field(t.popLast());mg(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ir(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];mg(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){go(n,(s,r)=>t[s]=r);for(const s of i)delete t[s]}clone(){return new Ai(Gh(this.value))}}function MC(e){const t=[];return go(e.fields,(n,i)=>{const s=new Kn([n]);if(mg(i)){const r=MC(i.mapValue).fields;if(r.length===0)t.push(s);else for(const l of r)t.push(s.child(l))}else t.push(s)}),new zi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(t,n,i,s,r,l,c){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=l,this.documentState=c}static newInvalidDocument(t){return new li(t,0,Ft.min(),Ft.min(),Ft.min(),Ai.empty(),0)}static newFoundDocument(t,n,i,s){return new li(t,1,n,Ft.min(),i,s,0)}static newNoDocument(t,n){return new li(t,2,n,Ft.min(),Ft.min(),Ai.empty(),0)}static newUnknownDocument(t,n){return new li(t,3,n,Ft.min(),Ft.min(),Ai.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ai.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof li&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new li(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(t,n){this.position=t,this.inclusive=n}}function XS(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const r=t[s],l=e.position[s];if(r.field.isKeyField()?i=Pt.comparator(Pt.fromName(l.referenceValue),n.key):i=Wc(l,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function QS(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ir(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(t,n="asc"){this.field=t,this.dir=n}}function LV(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{}class mn extends IC{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new jV(t,n,i):n==="array-contains"?new BV(t,i):n==="in"?new FV(t,i):n==="not-in"?new qV(t,i):n==="array-contains-any"?new $V(t,i):new mn(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new UV(t,i):new zV(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wc(n,this.value)):n!==null&&lo(this.value)===lo(n)&&this.matchesComparison(Wc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ws extends IC{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ws(t,n)}matches(t){return OC(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OC(e){return e.op==="and"}function PC(e){return VV(e)&&OC(e)}function VV(e){for(const t of e.filters)if(t instanceof ws)return!1;return!0}function _0(e){if(e instanceof mn)return e.field.canonicalString()+e.op.toString()+Yc(e.value);if(PC(e))return e.filters.map(t=>_0(t)).join(",");{const t=e.filters.map(n=>_0(n)).join(",");return`${e.op}(${t})`}}function NC(e,t){return e instanceof mn?function(i,s){return s instanceof mn&&i.op===s.op&&i.field.isEqual(s.field)&&ir(i.value,s.value)}(e,t):e instanceof ws?function(i,s){return s instanceof ws&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,l,c)=>r&&NC(l,s.filters[c]),!0):!1}(e,t):void Ut(19439)}function LC(e){return e instanceof mn?function(n){return`${n.field.canonicalString()} ${n.op} ${Yc(n.value)}`}(e):e instanceof ws?function(n){return n.op.toString()+" {"+n.getFilters().map(LC).join(" ,")+"}"}(e):"Filter"}class jV extends mn{constructor(t,n,i){super(t,n,i),this.key=Pt.fromName(i.referenceValue)}matches(t){const n=Pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class UV extends mn{constructor(t,n){super(t,"in",n),this.keys=VC("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class zV extends mn{constructor(t,n){super(t,"not-in",n),this.keys=VC("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function VC(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(i=>Pt.fromName(i.referenceValue))}class BV extends mn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Sv(n)&&_f(n.arrayValue,this.value)}}class FV extends mn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&_f(this.value.arrayValue,n)}}class qV extends mn{constructor(t,n){super(t,"not-in",n)}matches(t){if(_f(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_f(this.value.arrayValue,n)}}class $V extends mn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Sv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>_f(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(t,n=null,i=[],s=[],r=null,l=null,c=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=l,this.endAt=c,this.Te=null}}function ZS(e,t=null,n=[],i=[],s=null,r=null,l=null){return new HV(e,t,n,i,s,r,l)}function Tv(e){const t=$t(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>_0(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Em(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Yc(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Yc(i)).join(",")),t.Te=n}return t.Te}function Av(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!LV(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!NC(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!QS(e.startAt,t.startAt)&&QS(e.endAt,t.endAt)}function b0(e){return Pt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(t,n=null,i=[],s=[],r=null,l="F",c=null,h=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function WV(e,t,n,i,s,r,l,c){return new uu(e,t,n,i,s,r,l,c)}function Tm(e){return new uu(e)}function JS(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function jC(e){return e.collectionGroup!==null}function Kh(e){const t=$t(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const r of t.explicitOrderBy)t.Ie.push(r),n.add(r.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Sn(Kn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(t).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new bf(r,i))}),n.has(Kn.keyField().canonicalString())||t.Ie.push(new bf(Kn.keyField(),i))}return t.Ie}function Xs(e){const t=$t(e);return t.Ee||(t.Ee=YV(t,Kh(e))),t.Ee}function YV(e,t){if(e.limitType==="F")return ZS(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new bf(s.field,r)});const n=e.endAt?new Fg(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Fg(e.startAt.position,e.startAt.inclusive):null;return ZS(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function v0(e,t){const n=e.filters.concat([t]);return new uu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function x0(e,t,n){return new uu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Am(e,t){return Av(Xs(e),Xs(t))&&e.limitType===t.limitType}function UC(e){return`${Tv(Xs(e))}|lt:${e.limitType}`}function Ac(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>LC(s)).join(", ")}]`),Em(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Yc(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Yc(s)).join(",")),`Target(${i})`}(Xs(e))}; limitType=${e.limitType})`}function km(e,t){return t.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):Pt.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,s){for(const r of Kh(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(l,c,h){const f=XS(l,c,h);return l.inclusive?f<=0:f<0}(i.startAt,Kh(i),s)||i.endAt&&!function(l,c,h){const f=XS(l,c,h);return l.inclusive?f>=0:f>0}(i.endAt,Kh(i),s))}(e,t)}function GV(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zC(e){return(t,n)=>{let i=!1;for(const s of Kh(e)){const r=KV(s,t,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function KV(e,t,n){const i=e.field.isKeyField()?Pt.comparator(t.key,n.key):function(r,l,c){const h=l.data.field(r),f=c.data.field(r);return h!==null&&f!==null?Wc(h,f):Ut(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Ut(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return void(s[r]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){go(this.inner,(n,i)=>{for(const[s,r]of i)t(s,r)})}isEmpty(){return EC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=new Ye(Pt.comparator);function sa(){return XV}const BC=new Ye(Pt.comparator);function Vh(...e){let t=BC;for(const n of e)t=t.insert(n.key,n);return t}function FC(e){let t=BC;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function al(){return Xh()}function qC(){return Xh()}function Xh(){return new Al(e=>e.toString(),(e,t)=>e.isEqual(t))}const QV=new Ye(Pt.comparator),ZV=new Sn(Pt.comparator);function re(...e){let t=ZV;for(const n of e)t=t.add(n);return t}const JV=new Sn(se);function tj(){return JV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ug(t)?"-0":t}}function $C(e){return{integerValue:""+e}}function ej(e,t){return RV(t)?$C(t):kv(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(){this._=void 0}}function nj(e,t,n){return e instanceof vf?function(s,r){const l={fields:{[AC]:{stringValue:TC},[RC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Ev(r)&&(r=Sm(r)),r&&(l.fields[kC]=r),{mapValue:l}}(n,t):e instanceof xf?WC(e,t):e instanceof wf?YC(e,t):function(s,r){const l=HC(s,r),c=tT(l)+tT(s.Ae);return y0(l)&&y0(s.Ae)?$C(c):kv(s.serializer,c)}(e,t)}function ij(e,t,n){return e instanceof xf?WC(e,t):e instanceof wf?YC(e,t):n}function HC(e,t){return e instanceof qg?function(i){return y0(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class vf extends Rm{}class xf extends Rm{constructor(t){super(),this.elements=t}}function WC(e,t){const n=GC(t);for(const i of e.elements)n.some(s=>ir(s,i))||n.push(i);return{arrayValue:{values:n}}}class wf extends Rm{constructor(t){super(),this.elements=t}}function YC(e,t){let n=GC(t);for(const i of e.elements)n=n.filter(s=>!ir(s,i));return{arrayValue:{values:n}}}class qg extends Rm{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function tT(e){return nn(e.integerValue||e.doubleValue)}function GC(e){return Sv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(t,n){this.field=t,this.transform=n}}function rj(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof xf&&s instanceof xf||i instanceof wf&&s instanceof wf?Hc(i.elements,s.elements,ir):i instanceof qg&&s instanceof qg?ir(i.Ae,s.Ae):i instanceof vf&&s instanceof vf}(e.transform,t.transform)}class aj{constructor(t,n){this.version=t,this.transformResults=n}}class vs{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new vs}static exists(t){return new vs(void 0,t)}static updateTime(t){return new vs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yg(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Cm{}function KC(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new QC(e.key,vs.none()):new Bf(e.key,e.data,vs.none());{const n=e.data,i=Ai.empty();let s=new Sn(Kn.comparator);for(let r of t.fields)if(!s.has(r)){let l=n.field(r);l===null&&r.length>1&&(r=r.popLast(),l=n.field(r)),l===null?i.delete(r):i.set(r,l),s=s.add(r)}return new mo(e.key,i,new zi(s.toArray()),vs.none())}}function oj(e,t,n){e instanceof Bf?function(s,r,l){const c=s.value.clone(),h=nT(s.fieldTransforms,r,l.transformResults);c.setAll(h),r.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(e,t,n):e instanceof mo?function(s,r,l){if(!yg(s.precondition,r))return void r.convertToUnknownDocument(l.version);const c=nT(s.fieldTransforms,r,l.transformResults),h=r.data;h.setAll(XC(s)),h.setAll(c),r.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(e,t,n):function(s,r,l){r.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,n)}function Qh(e,t,n,i){return e instanceof Bf?function(r,l,c,h){if(!yg(r.precondition,l))return c;const f=r.value.clone(),p=iT(r.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(e,t,n,i):e instanceof mo?function(r,l,c,h){if(!yg(r.precondition,l))return c;const f=iT(r.fieldTransforms,h,l),p=l.data;return p.setAll(XC(r)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(y=>y.field))}(e,t,n,i):function(r,l,c){return yg(r.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(e,t,n)}function lj(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),r=HC(i.transform,s||null);r!=null&&(n===null&&(n=Ai.empty()),n.set(i.field,r))}return n||null}function eT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Hc(i,s,(r,l)=>rj(r,l))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Bf extends Cm{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class mo extends Cm{constructor(t,n,i,s,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function XC(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function nT(e,t,n){const i=new Map;xe(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const r=e[s],l=r.transform,c=t.data.field(r.field);i.set(r.field,ij(l,c,n[s]))}return i}function iT(e,t,n){const i=new Map;for(const s of e){const r=s.transform,l=n.data.field(s.field);i.set(s.field,nj(r,l,t))}return i}class QC extends Cm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cj extends Cm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(t.key)&&oj(r,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Qh(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Qh(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=qC();return this.mutations.forEach(s=>{const r=t.get(s.key),l=r.overlayedDocument;let c=this.applyToLocalView(l,r.mutatedFields);c=n.has(s.key)?null:c;const h=KC(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Ft.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),re())}isEqual(t){return this.batchId===t.batchId&&Hc(this.mutations,t.mutations,(n,i)=>eT(n,i))&&Hc(this.baseMutations,t.baseMutations,(n,i)=>eT(n,i))}}class Rv{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){xe(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let s=function(){return QV}();const r=t.mutations;for(let l=0;l<r.length;l++)s=s.insert(r[l].key,i[l].version);return new Rv(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,ue;function dj(e){switch(e){case dt.OK:return Ut(64938);case dt.CANCELLED:case dt.UNKNOWN:case dt.DEADLINE_EXCEEDED:case dt.RESOURCE_EXHAUSTED:case dt.INTERNAL:case dt.UNAVAILABLE:case dt.UNAUTHENTICATED:return!1;case dt.INVALID_ARGUMENT:case dt.NOT_FOUND:case dt.ALREADY_EXISTS:case dt.PERMISSION_DENIED:case dt.FAILED_PRECONDITION:case dt.ABORTED:case dt.OUT_OF_RANGE:case dt.UNIMPLEMENTED:case dt.DATA_LOSS:return!0;default:return Ut(15467,{code:e})}}function ZC(e){if(e===void 0)return ia("GRPC error has no .code"),dt.UNKNOWN;switch(e){case dn.OK:return dt.OK;case dn.CANCELLED:return dt.CANCELLED;case dn.UNKNOWN:return dt.UNKNOWN;case dn.DEADLINE_EXCEEDED:return dt.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return dt.RESOURCE_EXHAUSTED;case dn.INTERNAL:return dt.INTERNAL;case dn.UNAVAILABLE:return dt.UNAVAILABLE;case dn.UNAUTHENTICATED:return dt.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return dt.INVALID_ARGUMENT;case dn.NOT_FOUND:return dt.NOT_FOUND;case dn.ALREADY_EXISTS:return dt.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return dt.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return dt.FAILED_PRECONDITION;case dn.ABORTED:return dt.ABORTED;case dn.OUT_OF_RANGE:return dt.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return dt.UNIMPLEMENTED;case dn.DATA_LOSS:return dt.DATA_LOSS;default:return Ut(39323,{code:e})}}(ue=dn||(dn={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=new eo([4294967295,4294967295],0);function sT(e){const t=pj().encode(e),n=new fC;return n.update(t),new Uint8Array(n.digest())}function rT(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new eo([n,i],0),new eo([s,r],0)]}class Cv{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new jh(`Invalid padding: ${n}`);if(i<0)throw new jh(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new jh(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new jh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=eo.fromNumber(this.ge)}ye(t,n,i){let s=t.add(n.multiply(eo.fromNumber(i)));return s.compare(gj)===1&&(s=new eo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=sT(t),[i,s]=rT(n);for(let r=0;r<this.hashCount;r++){const l=this.ye(i,s,r);if(!this.we(l))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),l=new Cv(r,s,n);return i.forEach(c=>l.insert(c)),l}insert(t){if(this.ge===0)return;const n=sT(t),[i,s]=rT(n);for(let r=0;r<this.hashCount;r++){const l=this.ye(i,s,r);this.Se(l)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class jh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(t,n,i,s,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,Ff.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Dm(Ft.min(),s,new Ye(se),sa(),re())}}class Ff{constructor(t,n,i,s,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Ff(i,n,re(),re(),re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(t,n,i,s){this.be=t,this.removedTargetIds=n,this.key=i,this.De=s}}class JC{constructor(t,n){this.targetId=t,this.Ce=n}}class tD{constructor(t,n,i=Qn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class aT{constructor(){this.ve=0,this.Fe=oT(),this.Me=Qn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=re(),n=re(),i=re();return this.Fe.forEach((s,r)=>{switch(r){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Ut(38017,{changeType:r})}}),new Ff(this.Me,this.xe,t,n,i)}qe(){this.Oe=!1,this.Fe=oT()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mj{constructor(t){this.Ge=t,this.ze=new Map,this.je=sa(),this.Je=Rp(),this.He=Rp(),this.Ye=new Ye(se)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:Ut(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,s)=>{this.rt(s)&&n(s)})}st(t){const n=t.targetId,i=t.Ce.count,s=this.ot(n);if(s){const r=s.target;if(b0(r))if(i===0){const l=new Pt(r.path);this.et(n,l,li.newNoDocument(l,Ft.min()))}else xe(i===1,20013,{expectedCount:i});else{const l=this._t(n);if(l!==i){const c=this.ut(t),h=c?this.ct(c,t,l):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let l,c;try{l=oo(i).toUint8Array()}catch(h){if(h instanceof SC)return $c("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Cv(l,s,r)}catch(h){return $c(h instanceof jh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${r.path.canonicalString()}`;t.mightContain(c)||(this.et(n,r,null),s++)}),s}Tt(t){const n=new Map;this.ze.forEach((r,l)=>{const c=this.ot(l);if(c){if(r.current&&b0(c.target)){const h=new Pt(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,li.newNoDocument(h,t))}r.Be&&(n.set(l,r.ke()),r.qe())}});let i=re();this.He.forEach((r,l)=>{let c=!0;l.forEachWhile(h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(r))}),this.je.forEach((r,l)=>l.setReadTime(t));const s=new Dm(t,n,this.Ye,this.je,i);return this.je=sa(),this.Je=Rp(),this.He=Rp(),this.Ye=new Ye(se),s}Xe(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new aT,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Sn(se),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Sn(se),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Rt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new aT),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Rp(){return new Ye(Pt.comparator)}function oT(){return new Ye(Pt.comparator)}const yj={asc:"ASCENDING",desc:"DESCENDING"},_j={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bj={and:"AND",or:"OR"};class vj{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function w0(e,t){return e.useProto3Json||Em(t)?t:{value:t}}function $g(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function eD(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function xj(e,t){return $g(e,t.toTimestamp())}function Qs(e){return xe(!!e,49232),Ft.fromTimestamp(function(n){const i=ao(n);return new Ie(i.seconds,i.nanos)}(e))}function Dv(e,t){return E0(e,t).canonicalString()}function E0(e,t){const n=function(s){return new Pe(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function nD(e){const t=Pe.fromString(e);return xe(oD(t),10190,{key:t.toString()}),t}function S0(e,t){return Dv(e.databaseId,t.path)}function gb(e,t){const n=nD(t);if(n.get(1)!==e.databaseId.projectId)throw new St(dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new St(dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Pt(sD(n))}function iD(e,t){return Dv(e.databaseId,t)}function wj(e){const t=nD(e);return t.length===4?Pe.emptyPath():sD(t)}function T0(e){return new Pe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sD(e){return xe(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function lT(e,t,n){return{name:S0(e,t),fields:n.value.mapValue.fields}}function Ej(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ut(39313,{state:f})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],r=function(f,p){return f.useProto3Json?(xe(p===void 0||typeof p=="string",58123),Qn.fromBase64String(p||"")):(xe(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Qn.fromUint8Array(p||new Uint8Array))}(e,t.targetChange.resumeToken),l=t.targetChange.cause,c=l&&function(f){const p=f.code===void 0?dt.UNKNOWN:ZC(f.code);return new St(p,f.message||"")}(l);n=new tD(i,s,r,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=gb(e,i.document.name),r=Qs(i.document.updateTime),l=i.document.createTime?Qs(i.document.createTime):Ft.min(),c=new Ai({mapValue:{fields:i.document.fields}}),h=li.newFoundDocument(s,r,l,c),f=i.targetIds||[],p=i.removedTargetIds||[];n=new _g(f,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=gb(e,i.document),r=i.readTime?Qs(i.readTime):Ft.min(),l=li.newNoDocument(s,r),c=i.removedTargetIds||[];n=new _g([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=gb(e,i.document),r=i.removedTargetIds||[];n=new _g([],r,s,null)}else{if(!("filter"in t))return Ut(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,l=new fj(s,r),c=i.targetId;n=new JC(c,l)}}return n}function Sj(e,t){let n;if(t instanceof Bf)n={update:lT(e,t.key,t.value)};else if(t instanceof QC)n={delete:S0(e,t.key)};else if(t instanceof mo)n={update:lT(e,t.key,t.data),updateMask:Oj(t.fieldMask)};else{if(!(t instanceof cj))return Ut(16599,{Vt:t.type});n={verify:S0(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,l){const c=l.transform;if(c instanceof vf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof xf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof wf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof qg)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Ut(20930,{transform:l.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:xj(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Ut(27497)}(e,t.precondition)),n}function Tj(e,t){return e&&e.length>0?(xe(t!==void 0,14353),e.map(n=>function(s,r){let l=s.updateTime?Qs(s.updateTime):Qs(r);return l.isEqual(Ft.min())&&(l=Qs(r)),new aj(l,s.transformResults||[])}(n,t))):[]}function Aj(e,t){return{documents:[iD(e,t.path)]}}function kj(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=iD(e,s);const r=function(f){if(f.length!==0)return aD(ws.create(f,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const l=function(f){if(f.length!==0)return f.map(p=>function(_){return{field:kc(_.field),direction:Dj(_.dir)}}(p))}(t.orderBy);l&&(n.structuredQuery.orderBy=l);const c=w0(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{ft:n,parent:s}}function Rj(e){let t=wj(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){xe(i===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:t=t.child(p.collectionId)}let r=[];n.where&&(r=function(y){const _=rD(y);return _ instanceof ws&&PC(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(_=>function(E){return new bf(Rc(E.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(y){let _;return _=typeof y=="object"?y.value:y,Em(_)?null:_}(n.limit));let h=null;n.startAt&&(h=function(y){const _=!!y.before,w=y.values||[];return new Fg(w,_)}(n.startAt));let f=null;return n.endAt&&(f=function(y){const _=!y.before,w=y.values||[];return new Fg(w,_)}(n.endAt)),WV(t,s,l,r,c,"F",h,f)}function Cj(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut(28987,{purpose:s})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function rD(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Rc(n.unaryFilter.field);return mn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Rc(n.unaryFilter.field);return mn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Rc(n.unaryFilter.field);return mn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Rc(n.unaryFilter.field);return mn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ut(61313);default:return Ut(60726)}}(e):e.fieldFilter!==void 0?function(n){return mn.create(Rc(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ut(58110);default:return Ut(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ws.create(n.compositeFilter.filters.map(i=>rD(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ut(1026)}}(n.compositeFilter.op))}(e):Ut(30097,{filter:e})}function Dj(e){return yj[e]}function Mj(e){return _j[e]}function Ij(e){return bj[e]}function kc(e){return{fieldPath:e.canonicalString()}}function Rc(e){return Kn.fromServerFormat(e.fieldPath)}function aD(e){return e instanceof mn?function(n){if(n.op==="=="){if(KS(n.value))return{unaryFilter:{field:kc(n.field),op:"IS_NAN"}};if(GS(n.value))return{unaryFilter:{field:kc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KS(n.value))return{unaryFilter:{field:kc(n.field),op:"IS_NOT_NAN"}};if(GS(n.value))return{unaryFilter:{field:kc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kc(n.field),op:Mj(n.op),value:n.value}}}(e):e instanceof ws?function(n){const i=n.getFilters().map(s=>aD(s));return i.length===1?i[0]:{compositeFilter:{op:Ij(n.op),filters:i}}}(e):Ut(54877,{filter:e})}function Oj(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function oD(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t,n,i,s,r=Ft.min(),l=Ft.min(),c=Qn.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(t){return new Wa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(t){this.yt=t}}function Nj(e){const t=Rj({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?x0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(){this.Cn=new Vj}addToCollectionParentIndex(t,n){return this.Cn.add(n),_t.resolve()}getCollectionParents(t,n){return _t.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return _t.resolve()}deleteFieldIndex(t,n){return _t.resolve()}deleteAllFieldIndexes(t){return _t.resolve()}createTargetIndexes(t,n){return _t.resolve()}getDocumentsMatchingTarget(t,n){return _t.resolve(null)}getIndexType(t,n){return _t.resolve(0)}getFieldIndexes(t,n){return _t.resolve([])}getNextCollectionGroupToUpdate(t){return _t.resolve(null)}getMinOffset(t,n){return _t.resolve(ro.min())}getMinOffsetFromCollectionGroup(t,n){return _t.resolve(ro.min())}updateCollectionGroup(t,n,i){return _t.resolve()}updateIndexEntries(t,n){return _t.resolve()}}class Vj{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new Sn(Pe.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Sn(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lD=41943040;class Ti{static withCacheSize(t){return new Ti(t,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti.DEFAULT_COLLECTION_PERCENTILE=10,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ti.DEFAULT=new Ti(lD,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ti.DISABLED=new Ti(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Gc(0)}static cr(){return new Gc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="LruGarbageCollector",jj=1048576;function hT([e,t],[n,i]){const s=se(e,n);return s===0?se(t,i):s}class Uj{constructor(t){this.Ir=t,this.buffer=new Sn(hT),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();hT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zj{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Rt(uT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cu(n)?Rt(uT,"Ignoring IndexedDB error during garbage collection: ",n):await lu(n)}await this.Vr(3e5)})}}class Bj{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return _t.resolve(wm.ce);const i=new Uj(n);return this.mr.forEachTarget(t,s=>i.Ar(s.sequenceNumber)).next(()=>this.mr.pr(t,s=>i.Ar(s))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.mr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Rt("LruGarbageCollector","Garbage collection skipped; disabled"),_t.resolve(cT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cT):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let i,s,r,l,c,h,f;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(Rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(t,s))).next(y=>(i=y,c=Date.now(),this.removeTargets(t,i,n))).next(y=>(r=y,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(y=>(f=Date.now(),Tc()<=ie.DEBUG&&Rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${r} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),_t.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:y})))}}function Fj(e,t){return new Bj(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(){this.changes=new Al(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,li.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?_t.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&Qh(i.mutation,s,zi.empty(),Ie.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,re()).next(()=>i))}getLocalViewOfDocuments(t,n,i=re()){const s=al();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(r=>{let l=Vh();return r.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,n){const i=al();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,re()))}populateOverlays(t,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(t,s).next(r=>{r.forEach((l,c)=>{n.set(l,c)})})}computeViews(t,n,i,s){let r=sa();const l=Xh(),c=function(){return Xh()}();return n.forEach((h,f)=>{const p=i.get(f.key);s.has(f.key)&&(p===void 0||p.mutation instanceof mo)?r=r.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Qh(p.mutation,f,p.mutation.getFieldMask(),Ie.now())):l.set(f.key,zi.empty())}),this.recalculateAndSaveOverlays(t,r).next(h=>(h.forEach((f,p)=>l.set(f,p)),n.forEach((f,p)=>c.set(f,new $j(p,l.get(f)??null))),c))}recalculateAndSaveOverlays(t,n){const i=Xh();let s=new Ye((l,c)=>l-c),r=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let p=i.get(h)||zi.empty();p=c.applyToLocalView(f,p),i.set(h,p);const y=(s.get(c.batchId)||re()).add(h);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,p=h.value,y=qC();p.forEach(_=>{if(!r.has(_)){const w=KC(n.get(_),i.get(_));w!==null&&y.set(_,w),r=r.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(t,f,y))}return _t.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return function(l){return Pt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):jC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(r=>{const l=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-r.size):_t.resolve(al());let c=gf,h=r;return l.next(f=>_t.forEach(f,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),r.get(p)?_t.resolve():this.remoteDocumentCache.getEntry(t,p).next(_=>{h=h.insert(p,_)}))).next(()=>this.populateOverlays(t,f,r)).next(()=>this.computeViews(t,h,f,re())).next(p=>({batchId:c,changes:FC(p)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Pt(n)).next(i=>{let s=Vh();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const r=n.collectionGroup;let l=Vh();return this.indexManager.getCollectionParents(t,r).next(c=>_t.forEach(c,h=>{const f=function(y,_){return new uu(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(r));return this.getDocumentsMatchingCollectionQuery(t,f,i,s).next(p=>{p.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(l=>(r=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,r,s))).next(l=>{r.forEach((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,li.newInvalidDocument(p)))});let c=Vh();return l.forEach((h,f)=>{const p=r.get(h);p!==void 0&&Qh(p.mutation,f,zi.empty(),Ie.now()),km(n,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return _t.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Qs(s.createTime)}}(n)),_t.resolve()}getNamedQuery(t,n){return _t.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(s){return{name:s.name,query:Nj(s.bundledQuery),readTime:Qs(s.readTime)}}(n)),_t.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(){this.overlays=new Ye(Pt.comparator),this.qr=new Map}getOverlay(t,n){return _t.resolve(this.overlays.get(n))}getOverlays(t,n){const i=al();return _t.forEach(n,s=>this.getOverlay(t,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,r)=>{this.St(t,n,r)}),_t.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.qr.delete(i)),_t.resolve()}getOverlaysForCollection(t,n,i){const s=al(),r=n.length+1,l=new Pt(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===r&&h.largestBatchId>i&&s.set(h.getKey(),h)}return _t.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let r=new Ye((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let p=r.get(f.largestBatchId);p===null&&(p=al(),r=r.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=al(),h=r.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=s)););return _t.resolve(c)}St(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new hj(n,i));let r=this.qr.get(n);r===void 0&&(r=re(),this.qr.set(n,r)),this.qr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(){this.sessionToken=Qn.EMPTY_BYTE_STRING}getSessionToken(t){return _t.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,_t.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(){this.Qr=new Sn(Vn.$r),this.Ur=new Sn(Vn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const i=new Vn(t,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Gr(new Vn(t,n))}zr(t,n){t.forEach(i=>this.removeReference(i,n))}jr(t){const n=new Pt(new Pe([])),i=new Vn(n,t),s=new Vn(n,t+1),r=[];return this.Ur.forEachInRange([i,s],l=>{this.Gr(l),r.push(l.key)}),r}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Pt(new Pe([])),i=new Vn(n,t),s=new Vn(n,t+1);let r=re();return this.Ur.forEachInRange([i,s],l=>{r=r.add(l.key)}),r}containsKey(t){const n=new Vn(t,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Vn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Pt.comparator(t.key,n.key)||se(t.Yr,n.Yr)}static Kr(t,n){return se(t.Yr,n.Yr)||Pt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Sn(Vn.$r)}checkEmpty(t){return _t.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const r=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new uj(r,n,i,s);this.mutationQueue.push(l);for(const c of s)this.Zr=this.Zr.add(new Vn(c.key,r)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return _t.resolve(l)}lookupMutationBatch(t,n){return _t.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.ei(i),r=s<0?0:s;return _t.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return _t.resolve(this.mutationQueue.length===0?wv:this.tr-1)}getAllMutationBatches(t){return _t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Vn(n,0),s=new Vn(n,Number.POSITIVE_INFINITY),r=[];return this.Zr.forEachInRange([i,s],l=>{const c=this.Xr(l.Yr);r.push(c)}),_t.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Sn(se);return n.forEach(s=>{const r=new Vn(s,0),l=new Vn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([r,l],c=>{i=i.add(c.Yr)})}),_t.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let r=i;Pt.isDocumentKey(r)||(r=r.child(""));const l=new Vn(new Pt(r),0);let c=new Sn(se);return this.Zr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(c=c.add(h.Yr)),!0)},l),_t.resolve(this.ti(c))}ti(t){const n=[];return t.forEach(i=>{const s=this.Xr(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return _t.forEach(n.mutations,s=>{const r=new Vn(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,n){const i=new Vn(n,0),s=this.Zr.firstAfterOrEqual(i);return _t.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,_t.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(t){this.ri=t,this.docs=function(){return new Ye(Pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return _t.resolve(i?i.document.mutableCopy():li.newInvalidDocument(n))}getEntries(t,n){let i=sa();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():li.newInvalidDocument(s))}),_t.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let r=sa();const l=n.path,c=new Pt(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||SV(EV(p),i)<=0||(s.has(p.key)||km(n,p))&&(r=r.insert(p.key,p.mutableCopy()))}return _t.resolve(r)}getAllFromCollectionGroup(t,n,i,s){Ut(9500)}ii(t,n){return _t.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new Qj(this)}getSize(t){return _t.resolve(this.size)}}class Qj extends qj{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(i)}),_t.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(t){this.persistence=t,this.si=new Al(n=>Tv(n),Av),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.oi=0,this._i=new Mv,this.targetCount=0,this.ai=Gc.ur()}forEachTarget(t,n){return this.si.forEach((i,s)=>n(s)),_t.resolve()}getLastRemoteSnapshotVersion(t){return _t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return _t.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),_t.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),_t.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Gc(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,_t.resolve()}updateTargetData(t,n){return this.Pr(n),_t.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,_t.resolve()}removeTargets(t,n,i){let s=0;const r=[];return this.si.forEach((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.si.delete(l),r.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),_t.waitFor(r).next(()=>s)}getTargetCount(t){return _t.resolve(this.targetCount)}getTargetData(t,n){const i=this.si.get(n)||null;return _t.resolve(i)}addMatchingKeys(t,n,i){return this._i.Wr(n,i),_t.resolve()}removeMatchingKeys(t,n,i){this._i.zr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(l=>{r.push(s.markPotentiallyOrphaned(t,l))}),_t.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),_t.resolve()}getMatchingKeysForTargetId(t,n){const i=this._i.Hr(n);return _t.resolve(i)}containsKey(t,n){return _t.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(t,n){this.ui={},this.overlays={},this.ci=new wm(0),this.li=!1,this.li=!0,this.hi=new Gj,this.referenceDelegate=t(this),this.Pi=new Zj(this),this.indexManager=new Lj,this.remoteDocumentCache=function(s){return new Xj(s)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new Pj(n),this.Ii=new Wj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Yj,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ui[t.toKey()];return i||(i=new Kj(n,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,i){Rt("MemoryPersistence","Starting transaction:",t);const s=new Jj(this.ci.next());return this.referenceDelegate.Ei(),i(s).next(r=>this.referenceDelegate.di(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ai(t,n){return _t.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,n)))}}class Jj extends AV{constructor(t){super(),this.currentSequenceNumber=t}}class Iv{constructor(t){this.persistence=t,this.Ri=new Mv,this.Vi=null}static mi(t){return new Iv(t)}get fi(){if(this.Vi)return this.Vi;throw Ut(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),_t.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),_t.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),_t.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(r=>this.fi.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _t.forEach(this.fi,i=>{const s=Pt.fromPath(i);return this.gi(t,s).next(r=>{r||n.removeEntry(s,Ft.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return _t.or([()=>_t.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Hg{constructor(t,n){this.persistence=t,this.pi=new Al(i=>CV(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=Fj(this,n)}static mi(t,n){return new Hg(t,n)}Ei(){}di(t){return _t.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(s=>i+s))}wr(t){let n=0;return this.pr(t,i=>{n++}).next(()=>n)}pr(t,n){return _t.forEach(this.pi,(i,s)=>this.br(t,i,s).next(r=>r?_t.resolve():n(s)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.ii(t,l=>this.br(t,l,n).next(c=>{c||(i++,r.removeEntry(l,Ft.min()))})).next(()=>r.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),_t.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),_t.resolve()}removeReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),_t.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),_t.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=gg(t.data.value)),n}br(t,n,i){return _t.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.pi.get(n);return _t.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Es=i,this.ds=s}static As(t,n){let i=re(),s=re();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Ov(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return $L()?8:kV(ui())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,s){const r={result:null};return this.ys(t,n).next(l=>{r.result=l}).next(()=>{if(!r.result)return this.ws(t,n,s,i).next(l=>{r.result=l})}).next(()=>{if(r.result)return;const l=new t6;return this.Ss(t,n,l).next(c=>{if(r.result=c,this.Vs)return this.bs(t,n,l,c.size)})}).next(()=>r.result)}bs(t,n,i,s){return i.documentReadCount<this.fs?(Tc()<=ie.DEBUG&&Rt("QueryEngine","SDK will not create cache indexes for query:",Ac(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),_t.resolve()):(Tc()<=ie.DEBUG&&Rt("QueryEngine","Query:",Ac(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Tc()<=ie.DEBUG&&Rt("QueryEngine","The SDK decides to create cache indexes for query:",Ac(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Xs(n))):_t.resolve())}ys(t,n){if(JS(n))return _t.resolve(null);let i=Xs(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=x0(n,null,"F"),i=Xs(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const l=re(...r);return this.ps.getDocuments(t,l).next(c=>this.indexManager.getMinOffset(t,i).next(h=>{const f=this.Ds(n,c);return this.Cs(n,f,l,h.readTime)?this.ys(t,x0(n,null,"F")):this.vs(t,f,n,h)}))})))}ws(t,n,i,s){return JS(n)||s.isEqual(Ft.min())?_t.resolve(null):this.ps.getDocuments(t,i).next(r=>{const l=this.Ds(n,r);return this.Cs(n,l,i,s)?_t.resolve(null):(Tc()<=ie.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ac(n)),this.vs(t,l,n,wV(s,gf)).next(c=>c))})}Ds(t,n){let i=new Sn(zC(t));return n.forEach((s,r)=>{km(t,r)&&(i=i.add(r))}),i}Cs(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Ss(t,n,i){return Tc()<=ie.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",Ac(n)),this.ps.getDocumentsMatchingQuery(t,n,ro.min(),i)}vs(t,n,i,s){return this.ps.getDocumentsMatchingQuery(t,i,s).next(r=>(n.forEach(l=>{r=r.insert(l.key,l)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="LocalStore",n6=3e8;class i6{constructor(t,n,i,s){this.persistence=t,this.Fs=n,this.serializer=s,this.Ms=new Ye(se),this.xs=new Al(r=>Tv(r),Av),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Hj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function s6(e,t,n,i){return new i6(e,t,n,i)}async function uD(e,t){const n=$t(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Bs(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const l=[],c=[];let h=re();for(const f of s){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of r){c.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(i,h).next(f=>({Ls:f,removedBatchIds:l,addedBatchIds:c}))})})}function r6(e,t){const n=$t(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),r=n.Ns.newChangeBuffer({trackRemovals:!0});return function(c,h,f,p){const y=f.batch,_=y.keys();let w=_t.resolve();return _.forEach(E=>{w=w.next(()=>p.getEntry(h,E)).next(A=>{const S=f.docVersions.get(E);xe(S!==null,48541),A.version.compareTo(S)<0&&(y.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),p.addEntry(A)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=re();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function hD(e){const t=$t(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function a6(e,t){const n=$t(e),i=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];t.targetChanges.forEach((p,y)=>{const _=s.get(y);if(!_)return;c.push(n.Pi.removeMatchingKeys(r,p.removedDocuments,y).next(()=>n.Pi.addMatchingKeys(r,p.addedDocuments,y)));let w=_.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(y)!==null?w=w.withResumeToken(Qn.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,i)),s=s.insert(y,w),function(A,S,D){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=n6?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(_,w,p)&&c.push(n.Pi.updateTargetData(r,w))});let h=sa(),f=re();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(r,p))}),c.push(o6(r,l,t.documentUpdates).next(p=>{h=p.ks,f=p.qs})),!i.isEqual(Ft.min())){const p=n.Pi.getLastRemoteSnapshotVersion(r).next(y=>n.Pi.setTargetsMetadata(r,r.currentSequenceNumber,i));c.push(p)}return _t.waitFor(c).next(()=>l.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,h,f)).next(()=>h)}).then(r=>(n.Ms=s,r))}function o6(e,t,n){let i=re(),s=re();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let l=sa();return n.forEach((c,h)=>{const f=r.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Ft.min())?(t.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(h),l=l.insert(c,h)):Rt(Pv,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),{ks:l,qs:s}})}function l6(e,t){const n=$t(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=wv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function c6(e,t){const n=$t(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Pi.getTargetData(i,t).next(r=>r?(s=r,_t.resolve(s)):n.Pi.allocateTargetId(i).next(l=>(s=new Wa(t,l,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(t,i.targetId)),i})}async function A0(e,t,n){const i=$t(e),s=i.Ms.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!cu(l))throw l;Rt(Pv,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ms=i.Ms.remove(t),i.xs.delete(s.target)}function fT(e,t,n){const i=$t(e);let s=Ft.min(),r=re();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,p){const y=$t(h),_=y.xs.get(p);return _!==void 0?_t.resolve(y.Ms.get(_)):y.Pi.getTargetData(f,p)}(i,l,Xs(t)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,c.targetId).next(h=>{r=h})}).next(()=>i.Fs.getDocumentsMatchingQuery(l,t,n?s:Ft.min(),n?r:re())).next(c=>(u6(i,GV(t),c),{documents:c,Qs:r})))}function u6(e,t,n){let i=e.Os.get(t)||Ft.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.Os.set(t,i)}class dT{constructor(){this.activeTargetIds=tj()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class h6{constructor(){this.Mo=new dT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,i){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new dT,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="ConnectivityMonitor";class gT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Rt(pT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Rt(pT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cp=null;function k0(){return Cp===null?Cp=function(){return 268435456+Math.round(2147483648*Math.random())}():Cp++,"0x"+Cp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="RestConnection",d6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class p6{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===zg?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(t,n,i,s,r){const l=k0(),c=this.zo(t,n.toUriEncodedString());Rt(mb,`Sending RPC '${t}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,r);const{host:f}=new URL(c),p=ru(f);return this.Jo(t,c,h,i,p).then(y=>(Rt(mb,`Received RPC '${t}' ${l}: `,y),y),y=>{throw $c(mb,`RPC '${t}' ${l} failed with error: `,y,"url: ",c,"request:",i),y})}Ho(t,n,i,s,r,l){return this.Go(t,n,i,s,r)}jo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ou}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>t[r]=s),i&&i.headers.forEach((s,r)=>t[r]=s)}zo(t,n){const i=d6[t];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii="WebChannelConnection";class m6 extends p6{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,s,r){const l=k0();return new Promise((c,h)=>{const f=new dC;f.setWithCredentials(!0),f.listenOnce(pC.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case pg.NO_ERROR:const y=f.getResponseJson();Rt(ii,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),c(y);break;case pg.TIMEOUT:Rt(ii,`RPC '${t}' ${l} timed out`),h(new St(dt.DEADLINE_EXCEEDED,"Request time out"));break;case pg.HTTP_ERROR:const _=f.getStatus();if(Rt(ii,`RPC '${t}' ${l} failed with status:`,_,"response text:",f.getResponseText()),_>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=w==null?void 0:w.error;if(E&&E.status&&E.message){const A=function(D){const I=D.toLowerCase().replace(/_/g,"-");return Object.values(dt).indexOf(I)>=0?I:dt.UNKNOWN}(E.status);h(new St(A,E.message))}else h(new St(dt.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new St(dt.UNAVAILABLE,"Connection failed."));break;default:Ut(9055,{l_:t,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Rt(ii,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(s);Rt(ii,`RPC '${t}' ${l} sending request:`,s),f.send(n,"POST",p,i,15)})}T_(t,n,i){const s=k0(),r=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=yC(),c=mC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=r.join("");Rt(ii,`Creating RPC '${t}' stream ${s}: ${p}`,h);const y=l.createWebChannel(p,h);this.I_(y);let _=!1,w=!1;const E=new g6({Yo:S=>{w?Rt(ii,`Not sending because RPC '${t}' stream ${s} is closed:`,S):(_||(Rt(ii,`Opening RPC '${t}' stream ${s} transport.`),y.open(),_=!0),Rt(ii,`RPC '${t}' stream ${s} sending:`,S),y.send(S))},Zo:()=>y.close()}),A=(S,D,I)=>{S.listen(D,L=>{try{I(L)}catch(z){setTimeout(()=>{throw z},0)}})};return A(y,Lh.EventType.OPEN,()=>{w||(Rt(ii,`RPC '${t}' stream ${s} transport opened.`),E.o_())}),A(y,Lh.EventType.CLOSE,()=>{w||(w=!0,Rt(ii,`RPC '${t}' stream ${s} transport closed`),E.a_(),this.E_(y))}),A(y,Lh.EventType.ERROR,S=>{w||(w=!0,$c(ii,`RPC '${t}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),E.a_(new St(dt.UNAVAILABLE,"The operation could not be completed")))}),A(y,Lh.EventType.MESSAGE,S=>{var D;if(!w){const I=S.data[0];xe(!!I,16349);const L=I,z=(L==null?void 0:L.error)||((D=L[0])==null?void 0:D.error);if(z){Rt(ii,`RPC '${t}' stream ${s} received error:`,z);const M=z.status;let Y=function(P){const j=dn[P];if(j!==void 0)return ZC(j)}(M),C=z.message;Y===void 0&&(Y=dt.INTERNAL,C="Unknown error status: "+M+" with message "+z.message),w=!0,E.a_(new St(Y,C)),y.close()}else Rt(ii,`RPC '${t}' stream ${s} received:`,I),E.u_(I)}}),A(c,gC.STAT_EVENT,S=>{S.stat===p0.PROXY?Rt(ii,`RPC '${t}' stream ${s} detected buffering proxy`):S.stat===p0.NOPROXY&&Rt(ii,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function yb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(e){return new vj(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t,n,i=1e3,s=1.5,r=6e4){this.Mi=t,this.timerId=n,this.d_=i,this.A_=s,this.R_=r,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&Rt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="PersistentStream";class dD{constructor(t,n,i,s,r,l,c,h){this.Mi=t,this.S_=i,this.b_=s,this.connection=r,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fD(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===dt.RESOURCE_EXHAUSTED?(ia(n.toString()),ia("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===dt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===n&&this.G_(i,s)},i=>{t(()=>{const s=new St(dt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(t,n){const i=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Rt(mT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(Rt(mT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y6 extends dD{constructor(t,n,i,s,r,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=r}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Ej(this.serializer,t),i=function(r){if(!("targetChange"in r))return Ft.min();const l=r.targetChange;return l.targetIds&&l.targetIds.length?Ft.min():l.readTime?Qs(l.readTime):Ft.min()}(t);return this.listener.H_(n,i)}Y_(t){const n={};n.database=T0(this.serializer),n.addTarget=function(r,l){let c;const h=l.target;if(c=b0(h)?{documents:Aj(r,h)}:{query:kj(r,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=eD(r,l.resumeToken);const f=w0(r,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ft.min())>0){c.readTime=$g(r,l.snapshotVersion.toTimestamp());const f=w0(r,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,t);const i=Cj(this.serializer,t);i&&(n.labels=i),this.q_(n)}Z_(t){const n={};n.database=T0(this.serializer),n.removeTarget=t,this.q_(n)}}class _6 extends dD{constructor(t,n,i,s,r,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=r}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return xe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,xe(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){xe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=Tj(t.writeResults,t.commitTime),i=Qs(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=T0(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>Sj(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{}class v6 extends b6{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new St(dt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,l])=>this.connection.Go(t,E0(n,i),s,r,l)).catch(r=>{throw r.name==="FirebaseError"?(r.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new St(dt.UNKNOWN,r.toString())})}Ho(t,n,i,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Ho(t,E0(n,i),s,l,c,r)).catch(l=>{throw l.name==="FirebaseError"?(l.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new St(dt.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class x6{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ia(n),this.aa=!1):Rt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="RemoteStore";class w6{constructor(t,n,i,s,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=r,this.Aa.Oo(l=>{i.enqueueAndForget(async()=>{kl(this)&&(Rt(bl,"Restarting streams for network reachability change."),await async function(h){const f=$t(h);f.Ea.add(4),await qf(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Im(f)}(this))})}),this.Ra=new x6(i,s)}}async function Im(e){if(kl(e))for(const t of e.da)await t(!0)}async function qf(e){for(const t of e.da)await t(!1)}function pD(e,t){const n=$t(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),jv(n)?Vv(n):hu(n).O_()&&Lv(n,t))}function Nv(e,t){const n=$t(e),i=hu(n);n.Ia.delete(t),i.O_()&&gD(n,t),n.Ia.size===0&&(i.O_()?i.L_():kl(n)&&n.Ra.set("Unknown"))}function Lv(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ft.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}hu(e).Y_(t)}function gD(e,t){e.Va.Ue(t),hu(e).Z_(t)}function Vv(e){e.Va=new mj({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),hu(e).start(),e.Ra.ua()}function jv(e){return kl(e)&&!hu(e).x_()&&e.Ia.size>0}function kl(e){return $t(e).Ea.size===0}function mD(e){e.Va=void 0}async function E6(e){e.Ra.set("Online")}async function S6(e){e.Ia.forEach((t,n)=>{Lv(e,t)})}async function T6(e,t){mD(e),jv(e)?(e.Ra.ha(t),Vv(e)):e.Ra.set("Unknown")}async function A6(e,t,n){if(e.Ra.set("Online"),t instanceof tD&&t.state===2&&t.cause)try{await async function(s,r){const l=r.cause;for(const c of r.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.Va.removeTarget(c))}(e,t)}catch(i){Rt(bl,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Wg(e,i)}else if(t instanceof _g?e.Va.Ze(t):t instanceof JC?e.Va.st(t):e.Va.tt(t),!n.isEqual(Ft.min()))try{const i=await hD(e.localStore);n.compareTo(i)>=0&&await function(r,l){const c=r.Va.Tt(l);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=r.Ia.get(f);p&&r.Ia.set(f,p.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,f)=>{const p=r.Ia.get(h);if(!p)return;r.Ia.set(h,p.withResumeToken(Qn.EMPTY_BYTE_STRING,p.snapshotVersion)),gD(r,h);const y=new Wa(p.target,h,f,p.sequenceNumber);Lv(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(e,n)}catch(i){Rt(bl,"Failed to raise snapshot:",i),await Wg(e,i)}}async function Wg(e,t,n){if(!cu(t))throw t;e.Ea.add(1),await qf(e),e.Ra.set("Offline"),n||(n=()=>hD(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Rt(bl,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Im(e)})}function yD(e,t){return t().catch(n=>Wg(e,n,t))}async function Om(e){const t=$t(e),n=co(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:wv;for(;k6(t);)try{const s=await l6(t.localStore,i);if(s===null){t.Ta.length===0&&n.L_();break}i=s.batchId,R6(t,s)}catch(s){await Wg(t,s)}_D(t)&&bD(t)}function k6(e){return kl(e)&&e.Ta.length<10}function R6(e,t){e.Ta.push(t);const n=co(e);n.O_()&&n.X_&&n.ea(t.mutations)}function _D(e){return kl(e)&&!co(e).x_()&&e.Ta.length>0}function bD(e){co(e).start()}async function C6(e){co(e).ra()}async function D6(e){const t=co(e);for(const n of e.Ta)t.ea(n.mutations)}async function M6(e,t,n){const i=e.Ta.shift(),s=Rv.from(i,t,n);await yD(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Om(e)}async function I6(e,t){t&&co(e).X_&&await async function(i,s){if(function(l){return dj(l)&&l!==dt.ABORTED}(s.code)){const r=i.Ta.shift();co(i).B_(),await yD(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Om(i)}}(e,t),_D(e)&&bD(e)}async function yT(e,t){const n=$t(e);n.asyncQueue.verifyOperationInProgress(),Rt(bl,"RemoteStore received new credentials");const i=kl(n);n.Ea.add(3),await qf(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Im(n)}async function O6(e,t){const n=$t(e);t?(n.Ea.delete(2),await Im(n)):t||(n.Ea.add(2),await qf(n),n.Ra.set("Unknown"))}function hu(e){return e.ma||(e.ma=function(n,i,s){const r=$t(n);return r.sa(),new y6(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{Xo:E6.bind(null,e),t_:S6.bind(null,e),r_:T6.bind(null,e),H_:A6.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),jv(e)?Vv(e):e.Ra.set("Unknown")):(await e.ma.stop(),mD(e))})),e.ma}function co(e){return e.fa||(e.fa=function(n,i,s){const r=$t(n);return r.sa(),new _6(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:C6.bind(null,e),r_:I6.bind(null,e),ta:D6.bind(null,e),na:M6.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Om(e)):(await e.fa.stop(),e.Ta.length>0&&(Rt(bl,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,r){const l=Date.now()+i,c=new Uv(t,n,l,s,r);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new St(dt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zv(e,t){if(ia("AsyncQueue",`${t}: ${e}`),cu(e))return new St(dt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{static emptySet(t){return new Ic(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Pt.comparator(n.key,i.key):(n,i)=>Pt.comparator(n.key,i.key),this.keyedMap=Vh(),this.sortedSet=new Ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ic)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Ic;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.ga=new Ye(Pt.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Ut(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class Kc{constructor(t,n,i,s,r,l,c,h,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(t,n,i,s,r){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Kc(t,n,Ic.emptySet(n),l,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Am(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class N6{constructor(){this.queries=bT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=$t(n),r=s.queries;s.queries=bT(),r.forEach((l,c)=>{for(const h of c.Sa)h.onError(i)})})(this,new St(dt.ABORTED,"Firestore shutting down"))}}function bT(){return new Al(e=>UC(e),Am)}async function Bv(e,t){const n=$t(e);let i=3;const s=t.query;let r=n.queries.get(s);r?!r.ba()&&t.Da()&&(i=2):(r=new P6,i=t.Da()?0:1);try{switch(i){case 0:r.wa=await n.onListen(s,!0);break;case 1:r.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=zv(l,`Initialization of query '${Ac(t.query)}' failed`);return void t.onError(c)}n.queries.set(s,r),r.Sa.push(t),t.va(n.onlineState),r.wa&&t.Fa(r.wa)&&qv(n)}async function Fv(e,t){const n=$t(e),i=t.query;let s=3;const r=n.queries.get(i);if(r){const l=r.Sa.indexOf(t);l>=0&&(r.Sa.splice(l,1),r.Sa.length===0?s=t.Da()?0:1:!r.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function L6(e,t){const n=$t(e);let i=!1;for(const s of t){const r=s.query,l=n.queries.get(r);if(l){for(const c of l.Sa)c.Fa(s)&&(i=!0);l.wa=s}}i&&qv(n)}function V6(e,t,n){const i=$t(e),s=i.queries.get(t);if(s)for(const r of s.Sa)r.onError(n);i.queries.delete(t)}function qv(e){e.Ca.forEach(t=>{t.next()})}var R0,vT;(vT=R0||(R0={})).Ma="default",vT.Cache="cache";class $v{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Kc(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Kc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==R0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(t){this.key=t}}class xD{constructor(t){this.key=t}}class j6{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=re(),this.mutatedKeys=re(),this.eu=zC(t),this.tu=new Ic(this.eu)}get nu(){return this.Ya}ru(t,n){const i=n?n.iu:new _T,s=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((p,y)=>{const _=s.get(p),w=km(this.query,y)?y:null,E=!!_&&this.mutatedKeys.has(_.key),A=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let S=!1;_&&w?_.data.isEqual(w.data)?E!==A&&(i.track({type:3,doc:w}),S=!0):this.su(_,w)||(i.track({type:2,doc:w}),S=!0,(h&&this.eu(w,h)>0||f&&this.eu(w,f)<0)&&(c=!0)):!_&&w?(i.track({type:0,doc:w}),S=!0):_&&!w&&(i.track({type:1,doc:_}),S=!0,(h||f)&&(c=!0)),S&&(w?(l=l.add(w),r=A?r.add(p):r.delete(p)):(l=l.delete(p),r=r.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),r=r.delete(p.key),i.track({type:1,doc:p})}return{tu:l,iu:i,Cs:c,mutatedKeys:r}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const r=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort((p,y)=>function(w,E){const A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut(20277,{Rt:S})}};return A(w)-A(E)}(p.type,y.type)||this.eu(p.doc,y.doc)),this.ou(i),s=s??!1;const c=n&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new Kc(this.query,t.tu,r,l,t.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _T,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=re(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return t.forEach(i=>{this.Xa.has(i)||n.push(new xD(i))}),this.Xa.forEach(i=>{t.has(i)||n.push(new vD(i))}),n}cu(t){this.Ya=t.Qs,this.Xa=re();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Kc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hv="SyncEngine";class U6{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class z6{constructor(t){this.key=t,this.hu=!1}}class B6{constructor(t,n,i,s,r,l){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Al(c=>UC(c),Am),this.Iu=new Map,this.Eu=new Set,this.du=new Ye(Pt.comparator),this.Au=new Map,this.Ru=new Mv,this.Vu={},this.mu=new Map,this.fu=Gc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function F6(e,t,n=!0){const i=kD(e);let s;const r=i.Tu.get(t);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.lu()):s=await wD(i,t,n,!0),s}async function q6(e,t){const n=kD(e);await wD(n,t,!0,!1)}async function wD(e,t,n,i){const s=await c6(e.localStore,Xs(t)),r=s.targetId,l=e.sharedClientState.addLocalQueryTarget(r,n);let c;return i&&(c=await $6(e,t,r,l==="current",s.resumeToken)),e.isPrimaryClient&&n&&pD(e.remoteStore,s),c}async function $6(e,t,n,i,s){e.pu=(y,_,w)=>async function(A,S,D,I){let L=S.view.ru(D);L.Cs&&(L=await fT(A.localStore,S.query,!1).then(({documents:C})=>S.view.ru(C,L)));const z=I&&I.targetChanges.get(S.targetId),M=I&&I.targetMismatches.get(S.targetId)!=null,Y=S.view.applyChanges(L,A.isPrimaryClient,z,M);return wT(A,S.targetId,Y.au),Y.snapshot}(e,y,_,w);const r=await fT(e.localStore,t,!0),l=new j6(t,r.Qs),c=l.ru(r.documents),h=Ff.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),f=l.applyChanges(c,e.isPrimaryClient,h);wT(e,n,f.au);const p=new U6(t,n,l);return e.Tu.set(t,p),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),f.snapshot}async function H6(e,t,n){const i=$t(e),s=i.Tu.get(t),r=i.Iu.get(s.targetId);if(r.length>1)return i.Iu.set(s.targetId,r.filter(l=>!Am(l,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await A0(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Nv(i.remoteStore,s.targetId),C0(i,s.targetId)}).catch(lu)):(C0(i,s.targetId),await A0(i.localStore,s.targetId,!0))}async function W6(e,t){const n=$t(e),i=n.Tu.get(t),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Nv(n.remoteStore,i.targetId))}async function Y6(e,t,n){const i=t5(e);try{const s=await function(l,c){const h=$t(l),f=Ie.now(),p=c.reduce((w,E)=>w.add(E.key),re());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",w=>{let E=sa(),A=re();return h.Ns.getEntries(w,p).next(S=>{E=S,E.forEach((D,I)=>{I.isValidDocument()||(A=A.add(D))})}).next(()=>h.localDocuments.getOverlayedDocuments(w,E)).next(S=>{y=S;const D=[];for(const I of c){const L=lj(I,y.get(I.key).overlayedDocument);L!=null&&D.push(new mo(I.key,L,MC(L.value.mapValue),vs.exists(!0)))}return h.mutationQueue.addMutationBatch(w,f,D,c)}).next(S=>{_=S;const D=S.applyToLocalDocumentSet(y,A);return h.documentOverlayCache.saveOverlays(w,S.batchId,D)})}).then(()=>({batchId:_.batchId,changes:FC(y)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new Ye(se)),f=f.insert(c,h),l.Vu[l.currentUser.toKey()]=f}(i,s.batchId,n),await $f(i,s.changes),await Om(i.remoteStore)}catch(s){const r=zv(s,"Failed to persist write");n.reject(r)}}async function ED(e,t){const n=$t(e);try{const i=await a6(n.localStore,t);t.targetChanges.forEach((s,r)=>{const l=n.Au.get(r);l&&(xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?xe(l.hu,14607):s.removedDocuments.size>0&&(xe(l.hu,42227),l.hu=!1))}),await $f(n,i,t)}catch(i){await lu(i)}}function xT(e,t,n){const i=$t(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach((r,l)=>{const c=l.view.va(t);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=$t(l);h.onlineState=c;let f=!1;h.queries.forEach((p,y)=>{for(const _ of y.Sa)_.va(c)&&(f=!0)}),f&&qv(h)}(i.eventManager,t),s.length&&i.Pu.H_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function G6(e,t,n){const i=$t(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Au.get(t),r=s&&s.key;if(r){let l=new Ye(Pt.comparator);l=l.insert(r,li.newNoDocument(r,Ft.min()));const c=re().add(r),h=new Dm(Ft.min(),new Map,new Ye(se),l,c);await ED(i,h),i.du=i.du.remove(r),i.Au.delete(t),Wv(i)}else await A0(i.localStore,t,!1).then(()=>C0(i,t,n)).catch(lu)}async function K6(e,t){const n=$t(e),i=t.batch.batchId;try{const s=await r6(n.localStore,t);TD(n,i,null),SD(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await $f(n,s)}catch(s){await lu(s)}}async function X6(e,t,n){const i=$t(e);try{const s=await function(l,c){const h=$t(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,c).next(y=>(xe(y!==null,37113),p=y.keys(),h.mutationQueue.removeMutationBatch(f,y))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(i.localStore,t);TD(i,t,n),SD(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await $f(i,s)}catch(s){await lu(s)}}function SD(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function TD(e,t,n){const i=$t(e);let s=i.Vu[i.currentUser.toKey()];if(s){const r=s.get(t);r&&(n?r.reject(n):r.resolve(),s=s.remove(t)),i.Vu[i.currentUser.toKey()]=s}}function C0(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(i=>{e.Ru.containsKey(i)||AD(e,i)})}function AD(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Nv(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Wv(e))}function wT(e,t,n){for(const i of n)i instanceof vD?(e.Ru.addReference(i.key,t),Q6(e,i)):i instanceof xD?(Rt(Hv,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||AD(e,i.key)):Ut(19791,{wu:i})}function Q6(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(Rt(Hv,"New document in limbo: "+n),e.Eu.add(i),Wv(e))}function Wv(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Pt(Pe.fromString(t)),i=e.fu.next();e.Au.set(i,new z6(n)),e.du=e.du.insert(n,i),pD(e.remoteStore,new Wa(Xs(Tm(n.path)),i,"TargetPurposeLimboResolution",wm.ce))}}async function $f(e,t,n){const i=$t(e),s=[],r=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach((c,h)=>{l.push(i.pu(h,t,n).then(f=>{var p;if((f||n)&&i.isPrimaryClient){const y=f?!f.fromCache:(p=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:p.current;i.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(f){s.push(f);const y=Ov.As(h.targetId,f);r.push(y)}}))}),await Promise.all(l),i.Pu.H_(s),await async function(h,f){const p=$t(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>_t.forEach(f,_=>_t.forEach(_.Es,w=>p.persistence.referenceDelegate.addReference(y,_.targetId,w)).next(()=>_t.forEach(_.ds,w=>p.persistence.referenceDelegate.removeReference(y,_.targetId,w)))))}catch(y){if(!cu(y))throw y;Rt(Pv,"Failed to update sequence numbers: "+y)}for(const y of f){const _=y.targetId;if(!y.fromCache){const w=p.Ms.get(_),E=w.snapshotVersion,A=w.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(_,A)}}}(i.localStore,r))}async function Z6(e,t){const n=$t(e);if(!n.currentUser.isEqual(t)){Rt(Hv,"User change. New user:",t.toKey());const i=await uD(n.localStore,t);n.currentUser=t,function(r,l){r.mu.forEach(c=>{c.forEach(h=>{h.reject(new St(dt.CANCELLED,l))})}),r.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await $f(n,i.Ls)}}function J6(e,t){const n=$t(e),i=n.Au.get(t);if(i&&i.hu)return re().add(i.key);{let s=re();const r=n.Iu.get(t);if(!r)return s;for(const l of r){const c=n.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}function kD(e){const t=$t(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ED.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=J6.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=G6.bind(null,t),t.Pu.H_=L6.bind(null,t.eventManager),t.Pu.yu=V6.bind(null,t.eventManager),t}function t5(e){const t=$t(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=K6.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=X6.bind(null,t),t}class Yg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Mm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return s6(this.persistence,new e6,t.initialUser,this.serializer)}Cu(t){return new cD(Iv.mi,this.serializer)}Du(t){return new h6}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yg.provider={build:()=>new Yg};class e5 extends Yg{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){xe(this.persistence.referenceDelegate instanceof Hg,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new zj(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ti.withCacheSize(this.cacheSizeBytes):Ti.DEFAULT;return new cD(i=>Hg.mi(i,n),this.serializer)}}class D0{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>xT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z6.bind(null,this.syncEngine),await O6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new N6}()}createDatastore(t){const n=Mm(t.databaseInfo.databaseId),i=function(r){return new m6(r)}(t.databaseInfo);return function(r,l,c,h){return new v6(r,l,c,h)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,r,l,c){return new w6(i,s,r,l,c)}(this.localStore,this.datastore,t.asyncQueue,n=>xT(this.syncEngine,n,0),function(){return gT.v()?new gT:new f6}())}createSyncEngine(t,n){return function(s,r,l,c,h,f,p){const y=new B6(s,r,l,c,h,f);return p&&(y.gu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const r=$t(s);Rt(bl,"RemoteStore shutting down."),r.Ea.add(5),await qf(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}D0.provider={build:()=>new D0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ia("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="FirestoreClient";class n5{constructor(t,n,i,s,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=ai.UNAUTHENTICATED,this.clientId=xv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async l=>{Rt(uo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(Rt(uo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=zv(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function _b(e,t){e.asyncQueue.verifyOperationInProgress(),Rt(uo,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await uD(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ET(e,t){e.asyncQueue.verifyOperationInProgress();const n=await i5(e);Rt(uo,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>yT(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>yT(t.remoteStore,s)),e._onlineComponents=t}async function i5(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Rt(uo,"Using user provided OfflineComponentProvider");try{await _b(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===dt.FAILED_PRECONDITION||s.code===dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;$c("Error using user provided cache. Falling back to memory cache: "+n),await _b(e,new Yg)}}else Rt(uo,"Using default OfflineComponentProvider"),await _b(e,new e5(void 0));return e._offlineComponents}async function RD(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Rt(uo,"Using user provided OnlineComponentProvider"),await ET(e,e._uninitializedComponentsProvider._online)):(Rt(uo,"Using default OnlineComponentProvider"),await ET(e,new D0))),e._onlineComponents}function s5(e){return RD(e).then(t=>t.syncEngine)}async function Gg(e){const t=await RD(e),n=t.eventManager;return n.onListen=F6.bind(null,t.syncEngine),n.onUnlisten=H6.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=q6.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=W6.bind(null,t.syncEngine),n}function r5(e,t,n={}){const i=new Jr;return e.asyncQueue.enqueueAndForget(async()=>function(r,l,c,h,f){const p=new Yv({next:_=>{p.Nu(),l.enqueueAndForget(()=>Fv(r,y));const w=_.docs.has(c);!w&&_.fromCache?f.reject(new St(dt.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&h&&h.source==="server"?f.reject(new St(dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new $v(Tm(c.path),p,{includeMetadataChanges:!0,qa:!0});return Bv(r,y)}(await Gg(e),e.asyncQueue,t,n,i)),i.promise}function a5(e,t,n={}){const i=new Jr;return e.asyncQueue.enqueueAndForget(async()=>function(r,l,c,h,f){const p=new Yv({next:_=>{p.Nu(),l.enqueueAndForget(()=>Fv(r,y)),_.fromCache&&h.source==="server"?f.reject(new St(dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new $v(c,p,{includeMetadataChanges:!0,qa:!0});return Bv(r,y)}(await Gg(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="firestore.googleapis.com",TT=!0;class AT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new St(dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DD,this.ssl=TT}else this.host=t.host,this.ssl=t.ssl??TT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=lD;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<jj)throw new St(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CD(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new St(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new St(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new St(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Pm{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new St(dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new St(dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new hV;switch(i.type){case"firstParty":return new gV(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new St(dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=ST.get(n);i&&(Rt("ComponentProvider","Removing Datastore"),ST.delete(n),i.terminate())}(this),Promise.resolve()}}function o5(e,t,n,i={}){var f;e=Bi(e,Pm);const s=ru(t),r=e._getSettings(),l={...r,emulatorOptions:e._getEmulatorOptions()},c=`${t}:${n}`;s&&(rC(`https://${c}`),aC("Firestore",!0)),r.host!==DD&&r.host!==c&&$c("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...r,host:c,ssl:s,emulatorOptions:i};if(!ml(h,l)&&(e._setSettings(h),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=ai.MOCK_USER;else{p=NL(i.mockUserToken,(f=e._app)==null?void 0:f.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new St(dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ai(_)}e._authCredentials=new fV(new bC(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new yo(this.firestore,t,this._query)}}class Xe{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new no(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Xe(this.firestore,t,this._key)}toJSON(){return{type:Xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(zf(n,Xe._jsonSchema))return new Xe(t,i||null,new Pt(Pe.fromString(n.referencePath)))}}Xe._jsonSchemaVersion="firestore/documentReference/1.0",Xe._jsonSchema={type:yn("string",Xe._jsonSchemaVersion),referencePath:yn("string")};class no extends yo{constructor(t,n,i){super(t,n,Tm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Xe(this.firestore,null,new Pt(t))}withConverter(t){return new no(this.firestore,t,this._path)}}function Qe(e,t,...n){if(e=rn(e),vC("collection","path",t),e instanceof Pm){const i=Pe.fromString(t,...n);return US(i),new no(e,null,i)}{if(!(e instanceof Xe||e instanceof no))throw new St(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Pe.fromString(t,...n));return US(i),new no(e.firestore,null,i)}}function Xn(e,t,...n){if(e=rn(e),arguments.length===1&&(t=xv.newId()),vC("doc","path",t),e instanceof Pm){const i=Pe.fromString(t,...n);return jS(i),new Xe(e,null,new Pt(i))}{if(!(e instanceof Xe||e instanceof no))throw new St(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Pe.fromString(t,...n));return jS(i),new Xe(e.firestore,e instanceof no?e.converter:null,new Pt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="AsyncQueue";class RT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fD(this,"async_queue_retry"),this._c=()=>{const i=yb();i&&Rt(kT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=yb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=yb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Jr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!cu(t))throw t;Rt(kT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,ia("INTERNAL UNHANDLED ERROR: ",CT(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=Uv.createAndSchedule(this,t,n,i,r=>this.hc(r));return this.tc.push(s),s}uc(){this.nc&&Ut(47125,{Pc:CT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function CT(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(e,["next","error","complete"])}class ho extends Pm{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new RT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new RT(t),this._firestoreClient=void 0,await t}}}function l5(e,t){const n=typeof e=="object"?e:bv(),i=typeof e=="string"?e:zg,s=_v(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=OL("firestore");r&&o5(s,...r)}return s}function Nm(e){if(e._terminated)throw new St(dt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||c5(e),e._firestoreClient}function c5(e){var i,s,r;const t=e._freezeSettings(),n=function(c,h,f,p){return new IV(c,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,CD(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(e._databaseId,((i=e._app)==null?void 0:i.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(s=t.localCache)!=null&&s._offlineComponentProvider&&((r=t.localCache)!=null&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new n5(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t){this._byteString=t}static fromBase64String(t){try{return new as(Qn.fromBase64String(t))}catch(n){throw new St(dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new as(Qn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:as._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(zf(t,as._jsonSchema))return as.fromBase64String(t.bytes)}}as._jsonSchemaVersion="firestore/bytes/1.0",as._jsonSchema={type:yn("string",as._jsonSchemaVersion),bytes:yn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new St(dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new St(dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new St(dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return se(this._lat,t._lat)||se(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zs._jsonSchemaVersion}}static fromJSON(t){if(zf(t,Zs._jsonSchema))return new Zs(t.latitude,t.longitude)}}Zs._jsonSchemaVersion="firestore/geoPoint/1.0",Zs._jsonSchema={type:yn("string",Zs._jsonSchemaVersion),latitude:yn("number"),longitude:yn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Js._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(zf(t,Js._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Js(t.vectorValues);throw new St(dt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Js._jsonSchemaVersion="firestore/vectorValue/1.0",Js._jsonSchema={type:yn("string",Js._jsonSchemaVersion),vectorValues:yn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=/^__.*__$/;class h5{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new mo(t,this.data,this.fieldMask,n,this.fieldTransforms):new Bf(t,this.data,n,this.fieldTransforms)}}class MD{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new mo(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function ID(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut(40011,{Ac:e})}}class Gv{constructor(t,n,i,s,r,l){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Rc(),this.fieldTransforms=r||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Gv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var s;const n=(s=this.path)==null?void 0:s.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){var s;const n=(s=this.path)==null?void 0:s.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Kg(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(ID(this.Ac)&&u5.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class f5{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Mm(t)}Cc(t,n,i,s=!1){return new Gv({Ac:t,methodName:n,Dc:i,path:Kn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jm(e){const t=e._freezeSettings(),n=Mm(e._databaseId);return new f5(e._databaseId,!!t.ignoreUndefinedProperties,n)}function OD(e,t,n,i,s,r={}){const l=e.Cc(r.merge||r.mergeFields?2:0,t,n,s);Xv("Data must be an object, but it was:",l,i);const c=PD(i,l);let h,f;if(r.merge)h=new zi(l.fieldMask),f=l.fieldTransforms;else if(r.mergeFields){const p=[];for(const y of r.mergeFields){const _=M0(t,y,n);if(!l.contains(_))throw new St(dt.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);LD(p,_)||p.push(_)}h=new zi(p),f=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,f=l.fieldTransforms;return new h5(new Ai(c),h,f)}class Um extends Vm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Um}}class Kv extends Vm{_toFieldTransform(t){return new sj(t.path,new vf)}isEqual(t){return t instanceof Kv}}function d5(e,t,n,i){const s=e.Cc(1,t,n);Xv("Data must be an object, but it was:",s,i);const r=[],l=Ai.empty();go(i,(h,f)=>{const p=Qv(t,h,n);f=rn(f);const y=s.yc(p);if(f instanceof Um)r.push(p);else{const _=Hf(f,y);_!=null&&(r.push(p),l.set(p,_))}});const c=new zi(r);return new MD(l,c,s.fieldTransforms)}function p5(e,t,n,i,s,r){const l=e.Cc(1,t,n),c=[M0(t,i,n)],h=[s];if(r.length%2!=0)throw new St(dt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<r.length;_+=2)c.push(M0(t,r[_])),h.push(r[_+1]);const f=[],p=Ai.empty();for(let _=c.length-1;_>=0;--_)if(!LD(f,c[_])){const w=c[_];let E=h[_];E=rn(E);const A=l.yc(w);if(E instanceof Um)f.push(w);else{const S=Hf(E,A);S!=null&&(f.push(w),p.set(w,S))}}const y=new zi(f);return new MD(p,y,l.fieldTransforms)}function g5(e,t,n,i=!1){return Hf(n,e.Cc(i?4:3,t))}function Hf(e,t){if(ND(e=rn(e)))return Xv("Unsupported field value:",t,e),PD(e,t);if(e instanceof Vm)return function(i,s){if(!ID(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,s){const r=[];let l=0;for(const c of i){let h=Hf(c,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),r.push(h),l++}return{arrayValue:{values:r}}}(e,t)}return function(i,s){if((i=rn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ej(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Ie.fromDate(i);return{timestampValue:$g(s.serializer,r)}}if(i instanceof Ie){const r=new Ie(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:$g(s.serializer,r)}}if(i instanceof Zs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof as)return{bytesValue:eD(s.serializer,i._byteString)};if(i instanceof Xe){const r=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(r))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Dv(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Js)return function(l,c){return{mapValue:{fields:{[CC]:{stringValue:DC},[Bg]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return kv(c.serializer,f)})}}}}}}(i,s);throw s.Sc(`Unsupported field value: ${xm(i)}`)}(e,t)}function PD(e,t){const n={};return EC(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):go(e,(i,s)=>{const r=Hf(s,t.mc(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function ND(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ie||e instanceof Zs||e instanceof as||e instanceof Xe||e instanceof Vm||e instanceof Js)}function Xv(e,t,n){if(!ND(n)||!xC(n)){const i=xm(n);throw i==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function M0(e,t,n){if((t=rn(t))instanceof Lm)return t._internalPath;if(typeof t=="string")return Qv(e,t);throw Kg("Field path arguments must be of type string or ",e,!1,void 0,n)}const m5=new RegExp("[~\\*/\\[\\]]");function Qv(e,t,n){if(t.search(m5)>=0)throw Kg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Lm(...t.split("."))._internalPath}catch{throw Kg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Kg(e,t,n,i,s){const r=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${t}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(r||l)&&(h+=" (found",r&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new St(dt.INVALID_ARGUMENT,c+e+h)}function LD(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new y5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(zm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class y5 extends VD{data(){return super.data()}}function zm(e,t){return typeof t=="string"?Qv(e,t):t instanceof Lm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new St(dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zv{}class UD extends Zv{}function Bn(e,t,...n){let i=[];t instanceof Zv&&i.push(t),i=i.concat(n),function(r){const l=r.filter(h=>h instanceof Jv).length,c=r.filter(h=>h instanceof Bm).length;if(l>1||l>0&&c>0)throw new St(dt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)e=s._apply(e);return e}class Bm extends UD{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Bm(t,n,i)}_apply(t){const n=this._parse(t);return zD(t._query,n),new yo(t.firestore,t.converter,v0(t._query,n))}_parse(t){const n=jm(t.firestore);return function(r,l,c,h,f,p,y){let _;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new St(dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){IT(y,p);const E=[];for(const A of y)E.push(MT(h,r,A));_={arrayValue:{values:E}}}else _=MT(h,r,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||IT(y,p),_=g5(c,l,y,p==="in"||p==="not-in");return mn.create(f,p,_)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function gn(e,t,n){const i=t,s=zm("where",e);return Bm._create(s,i,n)}class Jv extends Zv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Jv(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:ws.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,r){let l=s;const c=r.getFlattenedFilters();for(const h of c)zD(l,h),l=v0(l,h)}(t._query,n),new yo(t.firestore,t.converter,v0(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tx extends UD{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new tx(t,n)}_apply(t){const n=function(s,r,l){if(s.startAt!==null)throw new St(dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new St(dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bf(r,l)}(t._query,this._field,this._direction);return new yo(t.firestore,t.converter,function(s,r){const l=s.explicitOrderBy.concat([r]);return new uu(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,n))}}function Ef(e,t="asc"){const n=t,i=zm("orderBy",e);return tx._create(i,n)}function MT(e,t,n){if(typeof(n=rn(n))=="string"){if(n==="")throw new St(dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jC(t)&&n.indexOf("/")!==-1)throw new St(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Pe.fromString(n));if(!Pt.isDocumentKey(i))throw new St(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return YS(e,new Pt(i))}if(n instanceof Xe)return YS(e,n._key);throw new St(dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xm(n)}.`)}function IT(e,t){if(!Array.isArray(e)||e.length===0)throw new St(dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function zD(e,t){const n=function(s,r){for(const l of s)for(const c of l.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new St(dt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new St(dt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class _5{convertValue(t,n="none"){switch(lo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return nn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(oo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ut(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return go(t,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(t){var i,s,r;const n=(r=(s=(i=t.fields)==null?void 0:i[Bg].arrayValue)==null?void 0:s.values)==null?void 0:r.map(l=>nn(l.doubleValue));return new Js(n)}convertGeoPoint(t){return new Zs(nn(t.latitude),nn(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Sm(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(mf(t));default:return null}}convertTimestamp(t){const n=ao(t);return new Ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Pe.fromString(t);xe(oD(i),9688,{name:t});const s=new yf(i.get(1),i.get(3)),r=new Pt(i.popFirst(5));return s.isEqual(n)||ia(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class Uh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ul extends VD{constructor(t,n,i,s,r,l){super(t,n,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new bg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(zm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new St(dt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ul._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ul._jsonSchemaVersion="firestore/documentSnapshot/1.0",ul._jsonSchema={type:yn("string",ul._jsonSchemaVersion),bundleSource:yn("string","DocumentSnapshot"),bundleName:yn("string"),bundle:yn("string")};class bg extends ul{data(t={}){return super.data(t)}}class hl{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Uh(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new bg(this._firestore,this._userDataWriter,i.key,i,new Uh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new St(dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new bg(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Uh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>r||c.type!==3).map(c=>{const h=new bg(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Uh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:b5(c.type),doc:h,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new St(dt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=hl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=xv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),s.push(r.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function b5(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(e){e=Bi(e,Xe);const t=Bi(e.firestore,ho);return r5(Nm(t),e._key).then(n=>FD(t,e,n))}hl._jsonSchemaVersion="firestore/querySnapshot/1.0",hl._jsonSchema={type:yn("string",hl._jsonSchemaVersion),bundleSource:yn("string","QuerySnapshot"),bundleName:yn("string"),bundle:yn("string")};class ex extends _5{constructor(t){super(),this.firestore=t}convertBytes(t){return new as(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Xe(this.firestore,null,n)}}function io(e){e=Bi(e,yo);const t=Bi(e.firestore,ho),n=Nm(t),i=new ex(t);return jD(e._query),a5(n,e._query).then(s=>new hl(t,i,e,s))}function v5(e,t,n){e=Bi(e,Xe);const i=Bi(e.firestore,ho),s=BD(e.converter,t);return nx(i,[OD(jm(i),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,vs.none())])}function Gs(e,t,n,...i){e=Bi(e,Xe);const s=Bi(e.firestore,ho),r=jm(s);let l;return l=typeof(t=rn(t))=="string"||t instanceof Lm?p5(r,"updateDoc",e._key,t,n,i):d5(r,"updateDoc",e._key,t),nx(s,[l.toMutation(e._key,vs.exists(!0))])}function x5(e,t){const n=Bi(e.firestore,ho),i=Xn(e),s=BD(e.converter,t);return nx(n,[OD(jm(e.firestore),"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,vs.exists(!1))]).then(()=>i)}function sr(e,...t){var h,f,p;e=rn(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||DT(t[i])||(n=t[i++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(DT(t[i])){const y=t[i];t[i]=(h=y.next)==null?void 0:h.bind(y),t[i+1]=(f=y.error)==null?void 0:f.bind(y),t[i+2]=(p=y.complete)==null?void 0:p.bind(y)}let r,l,c;if(e instanceof Xe)l=Bi(e.firestore,ho),c=Tm(e._key.path),r={next:y=>{t[i]&&t[i](FD(l,e,y))},error:t[i+1],complete:t[i+2]};else{const y=Bi(e,yo);l=Bi(y.firestore,ho),c=y._query;const _=new ex(l);r={next:w=>{t[i]&&t[i](new hl(l,_,y,w))},error:t[i+1],complete:t[i+2]},jD(e._query)}return function(_,w,E,A){const S=new Yv(A),D=new $v(w,S,E);return _.asyncQueue.enqueueAndForget(async()=>Bv(await Gg(_),D)),()=>{S.Nu(),_.asyncQueue.enqueueAndForget(async()=>Fv(await Gg(_),D))}}(Nm(l),c,s,r)}function nx(e,t){return function(i,s){const r=new Jr;return i.asyncQueue.enqueueAndForget(async()=>Y6(await s5(i),s,r)),r.promise}(Nm(e),t)}function FD(e,t,n){const i=n.docs.get(t._key),s=new ex(e);return new ul(e,s,t._key,i,new Uh(n.hasPendingWrites,n.fromCache),t.converter)}function I0(){return new Kv("serverTimestamp")}(function(t,n=!0){(function(s){ou=s})(au),qc(new yl("firestore",(i,{instanceIdentifier:s,options:r})=>{const l=i.getProvider("app").getImmediate(),c=new ho(new dV(i.getProvider("auth-internal")),new mV(l,i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new St(dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yf(f.options.projectId,p)}(l,s),l);return r={useFetchStreams:n,...r},c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),to(PS,NS,t),to(PS,NS,"esm2020")})();function qD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const w5=qD,$D=new jf("auth","Firebase",qD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=new mv("@firebase/auth");function E5(e,...t){Xg.logLevel<=ie.WARN&&Xg.warn(`Auth (${au}): ${e}`,...t)}function vg(e,...t){Xg.logLevel<=ie.ERROR&&Xg.error(`Auth (${au}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(e,...t){throw ix(e,...t)}function tr(e,...t){return ix(e,...t)}function HD(e,t,n){const i={...w5(),[t]:n};return new jf("auth","Firebase",i).create(t,{appName:e.name})}function ta(e){return HD(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ix(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return $D.create(e,...t)}function jt(e,t,...n){if(!e)throw ix(t,...n)}function $r(e){const t="INTERNAL ASSERTION FAILED: "+e;throw vg(t),new Error(t)}function ra(e,t){e||$r(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function S5(){return OT()==="http:"||OT()==="https:"}function OT(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S5()||BL()||"connection"in navigator)?navigator.onLine:!0}function A5(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t,n){this.shortDelay=t,this.longDelay=n,ra(n>t,"Short delay should be less than long delay!"),this.isMobile=jL()||FL()}get(){return T5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(e,t){ra(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],C5=new Wf(3e4,6e4);function _o(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function aa(e,t,n,i,s={}){return YD(e,s,async()=>{let r={},l={};i&&(t==="GET"?l=i:r={body:JSON.stringify(i)});const c=Uf({key:e.config.apiKey,...l}).slice(1),h=await e._getAdditionalHeaders();h["Content-Type"]="application/json",e.languageCode&&(h["X-Firebase-Locale"]=e.languageCode);const f={method:t,headers:h,...r};return zL()||(f.referrerPolicy="no-referrer"),e.emulatorConfig&&ru(e.emulatorConfig.host)&&(f.credentials="include"),WD.fetch()(await GD(e,e.config.apiHost,n,c),f)})}async function YD(e,t,n){e._canInitEmulator=!1;const i={...k5,...t};try{const s=new M5(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await r.json();if("needConfirmation"in l)throw Dp(e,"account-exists-with-different-credential",l);if(r.ok&&!("errorMessage"in l))return l;{const c=r.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dp(e,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Dp(e,"email-already-in-use",l);if(h==="USER_DISABLED")throw Dp(e,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw HD(e,p,f);Es(e,p)}}catch(s){if(s instanceof lr)throw s;Es(e,"network-request-failed",{message:String(s)})}}async function Yf(e,t,n,i,s={}){const r=await aa(e,t,n,i,s);return"mfaPendingCredential"in r&&Es(e,"multi-factor-auth-required",{_serverResponse:r}),r}async function GD(e,t,n,i){const s=`${t}${n}?${i}`,r=e,l=r.config.emulator?sx(e.config,s):`${e.config.apiScheme}://${s}`;return R5.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(l).toString():l}function D5(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(tr(this.auth,"network-request-failed")),C5.get())})}}function Dp(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=tr(e,t,i);return s.customData._tokenResponse=n,s}function PT(e){return e!==void 0&&e.enterprise!==void 0}class I5{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return D5(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function O5(e,t){return aa(e,"GET","/v2/recaptchaConfig",_o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P5(e,t){return aa(e,"POST","/v1/accounts:delete",t)}async function Qg(e,t){return aa(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function N5(e,t=!1){const n=rn(e),i=await n.getIdToken(t),s=rx(i);jt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,l=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:Zh(bb(s.auth_time)),issuedAtTime:Zh(bb(s.iat)),expirationTime:Zh(bb(s.exp)),signInProvider:l||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function bb(e){return Number(e)*1e3}function rx(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return vg("JWT malformed, contained fewer than 3 sections"),null;try{const s=eC(n);return s?JSON.parse(s):(vg("Failed to decode base64 JWT payload"),null)}catch(s){return vg("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function NT(e){const t=rx(e);return jt(t,"internal-error"),jt(typeof t.exp<"u","internal-error"),jt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof lr&&L5(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function L5({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zh(this.lastLoginAt),this.creationTime=Zh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zg(e){var y;const t=e.auth,n=await e.getIdToken(),i=await Qc(e,Qg(t,{idToken:n}));jt(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const r=(y=s.providerUserInfo)!=null&&y.length?KD(s.providerUserInfo):[],l=U5(e.providerData,r),c=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),f=c?h:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new P0(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(e,p)}async function j5(e){const t=rn(e);await Zg(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function U5(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function KD(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z5(e,t){const n=await YD(e,{},async()=>{const i=Uf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,l=await GD(e,s,"/v1/token",`key=${r}`),c=await e._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:i};return e.emulatorConfig&&ru(e.emulatorConfig.host)&&(h.credentials="include"),WD.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function B5(e,t){return aa(e,"POST","/v2/accounts:revokeToken",_o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){jt(t.idToken,"internal-error"),jt(typeof t.idToken<"u","internal-error"),jt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):NT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){jt(t.length!==0,"internal-error");const n=NT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(jt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await z5(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,l=new Oc;return i&&(jt(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),s&&(jt(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),r&&(jt(typeof r=="number","internal-error",{appName:t}),l.expirationTime=r),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Oc,this.toJSON())}_performRefresh(){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(e,t){jt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ms{constructor({uid:t,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new V5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new P0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Qc(this,this.stsTokenManager.getToken(this.auth,t));return jt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return N5(this,t)}reload(){return j5(this)}_assign(t){this!==t&&(jt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ms({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Zg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rs(this.auth.app))return Promise.reject(ta(this.auth));const t=await this.getIdToken();return await Qc(this,P5(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,s=n.email??void 0,r=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:w,providerData:E,stsTokenManager:A}=n;jt(y&&A,t,"internal-error");const S=Oc.fromJSON(this.name,A);jt(typeof y=="string",t,"internal-error"),Va(i,t.name),Va(s,t.name),jt(typeof _=="boolean",t,"internal-error"),jt(typeof w=="boolean",t,"internal-error"),Va(r,t.name),Va(l,t.name),Va(c,t.name),Va(h,t.name),Va(f,t.name),Va(p,t.name);const D=new ms({uid:y,auth:t,email:s,emailVerified:_,displayName:i,isAnonymous:w,photoURL:l,phoneNumber:r,tenantId:c,stsTokenManager:S,createdAt:f,lastLoginAt:p});return E&&Array.isArray(E)&&(D.providerData=E.map(I=>({...I}))),h&&(D._redirectEventId=h),D}static async _fromIdTokenResponse(t,n,i=!1){const s=new Oc;s.updateFromServerResponse(n);const r=new ms({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Zg(r),r}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];jt(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?KD(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),c=new Oc;c.updateFromIdToken(i);const h=new ms({uid:s.localId,auth:t,stsTokenManager:c,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new P0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=new Map;function Hr(e){ra(e instanceof Function,"Expected a class definition");let t=LT.get(e);return t?(ra(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,LT.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}XD.type="NONE";const N0=XD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(e,t,n){return`firebase:${e}:${t}:${n}`}class Pc{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=xg(this.userKey,s.apiKey,r),this.fullPersistenceKey=xg("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Qg(this.auth,{idToken:t}).catch(()=>{});return n?ms._fromGetAccountInfoResponse(this.auth,n,t):null}return ms._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Pc(Hr(N0),t,i);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let r=s[0]||Hr(N0);const l=xg(i,t.config.apiKey,t.name);let c=null;for(const f of n)try{const p=await f._get(l);if(p){let y;if(typeof p=="string"){const _=await Qg(t,{idToken:p}).catch(()=>{});if(!_)break;y=await ms._fromGetAccountInfoResponse(t,_,p)}else y=ms._fromJSON(t,p);f!==r&&(c=y),r=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!r._shouldAllowMigration||!h.length?new Pc(r,t,i):(r=h[0],c&&await r._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==r)try{await f._remove(l)}catch{}})),new Pc(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(tM(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(QD(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nM(t))return"Blackberry";if(iM(t))return"Webos";if(ZD(t))return"Safari";if((t.includes("chrome/")||JD(t))&&!t.includes("edge/"))return"Chrome";if(eM(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function QD(e=ui()){return/firefox\//i.test(e)}function ZD(e=ui()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function JD(e=ui()){return/crios\//i.test(e)}function tM(e=ui()){return/iemobile/i.test(e)}function eM(e=ui()){return/android/i.test(e)}function nM(e=ui()){return/blackberry/i.test(e)}function iM(e=ui()){return/webos/i.test(e)}function ax(e=ui()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function F5(e=ui()){var t;return ax(e)&&!!((t=window.navigator)!=null&&t.standalone)}function q5(){return qL()&&document.documentMode===10}function sM(e=ui()){return ax(e)||eM(e)||iM(e)||nM(e)||/windows phone/i.test(e)||tM(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(e,t=[]){let n;switch(e){case"Browser":n=VT(ui());break;case"Worker":n=`${VT(ui())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${au}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((l,c)=>{try{const h=t(r);l(h)}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(e,t={}){return aa(e,"GET","/v2/passwordPolicy",_o(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=6;class Y5{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??W5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jT(this),this.idTokenSubscription=new jT(this),this.beforeStateQueue=new $5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$D,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await Pc.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Qg(this,{idToken:t}),i=await ms._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(rs(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(r=this.redirectUser)==null?void 0:r._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Zg(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=A5()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(rs(this.app))return Promise.reject(ta(this));const n=t?rn(t):null;return n&&jt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&jt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return rs(this.app)?Promise.reject(ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return rs(this.app)?Promise.reject(ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await H5(this),n=new Y5(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jf("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await B5(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Hr(t)||this._popupRedirectResolver;jt(n,this,"argument-error"),this.redirectPersistenceManager=await Pc.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(jt(c,this,"internal-error"),c.then(()=>{l||r(this.currentUser)}),typeof n=="function"){const h=t.addObserver(n,i,s);return()=>{l=!0,h()}}else{const h=t.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=rM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(rs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&E5(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Rl(e){return rn(e)}class jT{constructor(t){this.auth=t,this.observer=null,this.addObserver=QL(n=>this.observer=n)}get next(){return jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function K5(e){Fm=e}function aM(e){return Fm.loadJS(e)}function X5(){return Fm.recaptchaEnterpriseScript}function Q5(){return Fm.gapiScript}function Z5(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class J5{constructor(){this.enterprise=new t3}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class t3{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const e3="recaptcha-enterprise",oM="NO_RECAPTCHA";class n3{constructor(t){this.type=e3,this.auth=Rl(t)}async verify(t="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(l,c)=>{O5(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new I5(h);return r.tenantId==null?r._agentRecaptchaConfig=f:r._tenantRecaptchaConfigs[r.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function s(r,l,c){const h=window.grecaptcha;PT(h)?h.enterprise.ready(()=>{h.enterprise.execute(r,{action:t}).then(f=>{l(f)}).catch(()=>{l(oM)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new J5().execute("siteKey",{action:"verify"}):new Promise((r,l)=>{i(this.auth).then(c=>{if(!n&&PT(window.grecaptcha))s(c,r,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=X5();h.length!==0&&(h+=c),aM(h).then(()=>{s(c,r,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function UT(e,t,n,i=!1,s=!1){const r=new n3(e);let l;if(s)l=oM;else try{l=await r.verify(n)}catch{l=await r.verify(n,!0)}const c={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function L0(e,t,n,i,s){var r;if((r=e._getRecaptchaConfig())!=null&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await UT(e,t,n,n==="getOobCode");return i(e,l)}else return i(e,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await UT(e,t,n,n==="getOobCode");return i(e,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(e,t){const n=_v(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(ml(r,t??{}))return s;Es(s,"already-initialized")}return n.initialize({options:t})}function s3(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Hr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function r3(e,t,n){const i=Rl(e);jt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,r=lM(t),{host:l,port:c}=a3(t),h=c===null?"":`:${c}`,f={url:`${r}//${l}${h}/`},p=Object.freeze({host:l,port:c,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){jt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),jt(ml(f,i.config.emulator)&&ml(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,ru(l)?(rC(`${r}//${l}${h}`),aC("Auth",!0)):o3()}function lM(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function a3(e){const t=lM(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:zT(i.substr(r.length+1))}}else{const[r,l]=i.split(":");return{host:r,port:zT(l)}}}function zT(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function o3(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(t){return $r("not implemented")}_linkToIdToken(t,n){return $r("not implemented")}_getReauthenticationResolver(t){return $r("not implemented")}}async function l3(e,t){return aa(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(e,t){return Yf(e,"POST","/v1/accounts:signInWithPassword",_o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3(e,t){return Yf(e,"POST","/v1/accounts:signInWithEmailLink",_o(e,t))}async function h3(e,t){return Yf(e,"POST","/v1/accounts:signInWithEmailLink",_o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends ox{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new Sf(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Sf(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return L0(t,n,"signInWithPassword",c3);case"emailLink":return u3(t,{email:this._email,oobCode:this._password});default:Es(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return L0(t,i,"signUpPassword",l3);case"emailLink":return h3(t,{idToken:n,email:this._email,oobCode:this._password});default:Es(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(e,t){return Yf(e,"POST","/v1/accounts:signInWithIdp",_o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="http://localhost";class vl extends ox{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new vl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...r}=n;if(!i||!s)return null;const l=new vl(i,s);return l.idToken=r.idToken||void 0,l.accessToken=r.accessToken||void 0,l.secret=r.secret,l.nonce=r.nonce,l.pendingToken=r.pendingToken||null,l}_getIdTokenResponse(t){const n=this.buildRequest();return Nc(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Nc(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Nc(t,n)}buildRequest(){const t={requestUri:f3,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Uf(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function p3(e){const t=Ph(Nh(e)).link,n=t?Ph(Nh(t)).deep_link_id:null,i=Ph(Nh(e)).deep_link_id;return(i?Ph(Nh(i)).link:null)||i||n||t||e}class lx{constructor(t){const n=Ph(Nh(t)),i=n.apiKey??null,s=n.oobCode??null,r=d3(n.mode??null);jt(i&&s&&r,"argument-error"),this.apiKey=i,this.operation=r,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=p3(t);try{return new lx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(){this.providerId=fu.PROVIDER_ID}static credential(t,n){return Sf._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=lx.parseLink(n);return jt(i,"argument-error"),Sf._fromEmailAndCode(t,i.code,i.tenantId)}}fu.PROVIDER_ID="password";fu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends cM{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends Gf{constructor(){super("facebook.com")}static credential(t){return vl._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fa.credentialFromTaggedObject(t)}static credentialFromError(t){return Fa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fa.credential(t.oauthAccessToken)}catch{return null}}}Fa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends Gf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return vl._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return qa.credentialFromTaggedObject(t)}static credentialFromError(t){return qa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return qa.credential(n,i)}catch{return null}}}qa.GOOGLE_SIGN_IN_METHOD="google.com";qa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends Gf{constructor(){super("github.com")}static credential(t){return vl._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $a.credentialFromTaggedObject(t)}static credentialFromError(t){return $a.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $a.credential(t.oauthAccessToken)}catch{return null}}}$a.GITHUB_SIGN_IN_METHOD="github.com";$a.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends Gf{constructor(){super("twitter.com")}static credential(t,n){return vl._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ha.credentialFromTaggedObject(t)}static credentialFromError(t){return Ha.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Ha.credential(n,i)}catch{return null}}}Ha.TWITTER_SIGN_IN_METHOD="twitter.com";Ha.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(e,t){return Yf(e,"POST","/v1/accounts:signUp",_o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await ms._fromIdTokenResponse(t,i,s),l=BT(i);return new xl({user:r,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=BT(i);return new xl({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function BT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg extends lr{constructor(t,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Jg.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new Jg(t,n,i,s)}}function uM(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Jg._fromErrorAndOperation(e,r,t,i):r})}async function m3(e,t,n=!1){const i=await Qc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return xl._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3(e,t,n=!1){const{auth:i}=e;if(rs(i.app))return Promise.reject(ta(i));const s="reauthenticate";try{const r=await Qc(e,uM(i,s,t,e),n);jt(r.idToken,i,"internal-error");const l=rx(r.idToken);jt(l,i,"internal-error");const{sub:c}=l;return jt(e.uid===c,i,"user-mismatch"),xl._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Es(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hM(e,t,n=!1){if(rs(e.app))return Promise.reject(ta(e));const i="signIn",s=await uM(e,i,t),r=await xl._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}async function _3(e,t){return hM(Rl(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(e){const t=Rl(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function b3(e,t,n){if(rs(e.app))return Promise.reject(ta(e));const i=Rl(e),l=await L0(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",g3).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&fM(e),h}),c=await xl._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function dM(e,t,n){return rs(e.app)?Promise.reject(ta(e)):_3(rn(e),fu.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&fM(e),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(e,t){return aa(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x3(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const i=rn(e),r={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},l=await Qc(i,v3(i.auth,r));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const c=i.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(e,t){return rn(e).setPersistence(t)}function E3(e,t,n,i){return rn(e).onIdTokenChanged(t,n,i)}function S3(e,t,n){return rn(e).beforeAuthStateChanged(t,n)}function Cl(e,t,n,i){return rn(e).onAuthStateChanged(t,n,i)}function T3(e){return rn(e).signOut()}const tm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tm,"1"),this.storage.removeItem(tm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=1e3,k3=10;class gM extends pM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},r=this.storage.getItem(i);q5()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,k3):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},A3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}gM.type="LOCAL";const R3=gM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM extends pM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}mM.type="SESSION";const yM=mM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new qm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async f=>f(n.origin,r)),h=await C3(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,l;return new Promise((c,h)=>{const f=cx("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(y){const _=y;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(p),r=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),c(_.data.response);break;default:clearTimeout(p),clearTimeout(r),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return window}function M3(e){er().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function I3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O3(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function P3(){return _M()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM="firebaseLocalStorageDb",N3=1,em="firebaseLocalStorage",vM="fbase_key";class Kf{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $m(e,t){return e.transaction([em],t?"readwrite":"readonly").objectStore(em)}function L3(){const e=indexedDB.deleteDatabase(bM);return new Kf(e).toPromise()}function V0(){const e=indexedDB.open(bM,N3);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(em,{keyPath:vM})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(em)?t(i):(i.close(),await L3(),t(await V0()))})})}async function FT(e,t,n){const i=$m(e,!0).put({[vM]:t,value:n});return new Kf(i).toPromise()}async function V3(e,t){const n=$m(e,!1).get(t),i=await new Kf(n).toPromise();return i===void 0?null:i.value}function qT(e,t){const n=$m(e,!0).delete(t);return new Kf(n).toPromise()}const j3=800,U3=3;class xM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await V0(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>U3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _M()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qm._getInstance(P3()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await I3(),!this.activeServiceWorker)return;this.sender=new D3(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||O3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await V0();return await FT(t,tm,"1"),await qT(t,tm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>FT(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>V3(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>qT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=$m(s,!1).getAll();return new Kf(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),j3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xM.type="LOCAL";const z3=xM;new Wf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(e,t){return t?Hr(t):(jt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux extends ox{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Nc(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Nc(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Nc(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function F3(e){return hM(e.auth,new ux(e),e.bypassAuthState)}function q3(e){const{auth:t,user:n}=e;return jt(n,t,"internal-error"),y3(n,new ux(e),e.bypassAuthState)}async function $3(e){const{auth:t,user:n}=e;return jt(n,t,"internal-error"),m3(n,new ux(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:l,type:c}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return F3;case"linkViaPopup":case"linkViaRedirect":return $3;case"reauthViaPopup":case"reauthViaRedirect":return q3;default:Es(this.auth,"internal-error")}}resolve(t){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=new Wf(2e3,1e4);class Dc extends wM{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Dc.currentPopupAction&&Dc.currentPopupAction.cancel(),Dc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return jt(t,this.auth,"internal-error"),t}async onExecution(){ra(this.filter.length===1,"Popup operations only handle one event");const t=cx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dc.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,H3.get())};t()}}Dc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3="pendingRedirect",wg=new Map;class Y3 extends wM{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=wg.get(this.auth._key());if(!t){try{const i=await G3(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}wg.set(this.auth._key(),t)}return this.bypassAuthState||wg.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G3(e,t){const n=Q3(t),i=X3(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function K3(e,t){wg.set(e._key(),t)}function X3(e){return Hr(e._redirectPersistence)}function Q3(e){return xg(W3,e.config.apiKey,e.name)}async function Z3(e,t,n=!1){if(rs(e.app))return Promise.reject(ta(e));const i=Rl(e),s=B3(i,t),l=await new Y3(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=600*1e3;class tU{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!eU(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!EM(t)){const s=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(tr(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=J3&&this.cachedEventUids.clear(),this.cachedEventUids.has($T(t))}saveEventToCache(t){this.cachedEventUids.add($T(t)),this.lastProcessedEventTime=Date.now()}}function $T(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function EM({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function eU(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EM(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nU(e,t={}){return aa(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sU=/^https?/;async function rU(e){if(e.config.emulator)return;const{authorizedDomains:t}=await nU(e);for(const n of t)try{if(aU(n))return}catch{}Es(e,"unauthorized-domain")}function aU(e){const t=O0(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const l=new URL(e);return l.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!sU.test(n))return!1;if(iU.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=new Wf(3e4,6e4);function HT(){const e=er().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function lU(e){return new Promise((t,n)=>{var s,r,l;function i(){HT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{HT(),n(tr(e,"network-request-failed"))},timeout:oU.get()})}if((r=(s=er().gapi)==null?void 0:s.iframes)!=null&&r.Iframe)t(gapi.iframes.getContext());else if((l=er().gapi)!=null&&l.load)i();else{const c=Z5("iframefcb");return er()[c]=()=>{gapi.load?i():n(tr(e,"network-request-failed"))},aM(`${Q5()}?onload=${c}`).catch(h=>n(h))}}).catch(t=>{throw Eg=null,t})}let Eg=null;function cU(e){return Eg=Eg||lU(e),Eg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=new Wf(5e3,15e3),hU="__/auth/iframe",fU="emulator/auth/iframe",dU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gU(e){const t=e.config;jt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?sx(t,fU):`https://${e.config.authDomain}/${hU}`,i={apiKey:t.apiKey,appName:e.name,v:au},s=pU.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${Uf(i).slice(1)}`}async function mU(e){const t=await cU(e),n=er().gapi;return jt(n,e,"internal-error"),t.open({where:document.body,url:gU(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dU,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const l=tr(e,"network-request-failed"),c=er().setTimeout(()=>{r(l)},uU.get());function h(){er().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{r(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_U=500,bU=600,vU="_blank",xU="http://localhost";class WT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wU(e,t,n,i=_U,s=bU){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h={...yU,width:i.toString(),height:s.toString(),top:r,left:l},f=ui().toLowerCase();n&&(c=JD(f)?vU:n),QD(f)&&(t=t||xU,h.scrollbars="yes");const p=Object.entries(h).reduce((_,[w,E])=>`${_}${w}=${E},`,"");if(F5(f)&&c!=="_self")return EU(t||"",c),new WT(null);const y=window.open(t||"",c,p);jt(y,e,"popup-blocked");try{y.focus()}catch{}return new WT(y)}function EU(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU="__/auth/handler",TU="emulator/auth/handler",AU=encodeURIComponent("fac");async function YT(e,t,n,i,s,r){jt(e.config.authDomain,e,"auth-domain-config-required"),jt(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:au,eventId:s};if(t instanceof cM){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",XL(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(t instanceof Gf){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await e._getAppCheckToken(),f=h?`#${AU}=${encodeURIComponent(h)}`:"";return`${kU(e)}?${Uf(c).slice(1)}${f}`}function kU({config:e}){return e.emulator?sx(e,TU):`https://${e.authDomain}/${SU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="webStorageSupport";class RU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yM,this._completeRedirectFn=Z3,this._overrideRedirectResult=K3}async _openPopup(t,n,i,s){var l;ra((l=this.eventManagers[t._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const r=await YT(t,n,i,O0(),s);return wU(t,r,cx())}async _openRedirect(t,n,i,s){await this._originValidation(t);const r=await YT(t,n,i,O0(),s);return M3(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(ra(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await mU(t),i=new tU(t);return n.register("authEvent",s=>(jt(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(vb,{type:vb},s=>{var l;const r=(l=s==null?void 0:s[0])==null?void 0:l[vb];r!==void 0&&n(!!r),Es(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rU(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return sM()||ZD()||ax()}}const CU=RU;var GT="@firebase/auth",KT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IU(e){qc(new yl("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;jt(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rM(e)},f=new G5(i,s,r,h);return s3(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),qc(new yl("auth-internal",t=>{const n=Rl(t.getProvider("auth").getImmediate());return(i=>new DU(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),to(GT,KT,MU(e)),to(GT,KT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=300,PU=sC("authIdTokenMaxAge")||OU;let XT=null;const NU=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>PU)return;const s=n==null?void 0:n.token;XT!==s&&(XT=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function LU(e=bv()){const t=_v(e,"auth");if(t.isInitialized())return t.getImmediate();const n=i3(e,{popupRedirectResolver:CU,persistence:[z3,R3,yM]}),i=sC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const l=NU(r.toString());S3(n,l,()=>l(n.currentUser)),E3(n,c=>l(c))}}const s=nC("auth");return s&&r3(n,`http://${s}`),n}function VU(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}K5({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=tr("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",VU().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IU("Browser");function jU(e){const t=atob(e.replace(/\s+/g,""));return JSON.parse(t)}const UU=jU("eyJhcGlLZXkiOiJBSXphU3lEUHBuY3hzdzYtTTZDdndmcXZERkNPWGduVXVIWG80NG8iLCJhdXRoRG9tYWluIjoicGRtcy1lZGEzNy5maXJlYmFzZWFwcC5jb20iLCJwcm9qZWN0SWQiOiJwZG1zLWVkYTM3Iiwic3RvcmFnZUJ1Y2tldCI6InBkbXMtZWRhMzcuZmlyZWJhc2VzdG9yYWdlLmFwcCIsIm1lc3NhZ2luZ1NlbmRlcklkIjoiNjI3MTE1MTkyNzYiLCJhcHBJZCI6IjE6NjI3MTE1MTkyNzY6d2ViOjFkNjZhMjYyMjhjMTg0ZDEzNWQ5ODkifQ=="),SM=Z4().length?bv():cC(UU),Jt=l5(SM),os=LU(SM),zU=e=>btoa(String.fromCharCode(...new Uint8Array(e))),BU=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n.buffer},Lc=e=>{const t=new Uint8Array(e.byteLength);return t.set(e),t.buffer};function FU(e,t,n=7,i="/"){const s=new Date(Date.now()+n*864e5).toUTCString();document.cookie=`${encodeURIComponent(e)}=${encodeURIComponent(t)}; Expires=${s}; Path=${i}; SameSite=Lax`}function qU(e){const t=`${encodeURIComponent(e)}=`,n=document.cookie.split("; ");for(const i of n)if(i.startsWith(t))return decodeURIComponent(i.slice(t.length));return null}function hx(e,t="/"){document.cookie=`${encodeURIComponent(e)}=; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Path=${t}; SameSite=Lax`}async function TM(e,t){const n=new TextEncoder,i=await crypto.subtle.importKey("raw",n.encode(e),"PBKDF2",!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:1e5,hash:"SHA-256"},i,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}const AM=1;async function $U(e,t){const n=new TextEncoder,i=crypto.getRandomValues(new Uint8Array(12)),s=crypto.getRandomValues(new Uint8Array(16)),r=await TM(t,Lc(s)),l=await crypto.subtle.encrypt({name:"AES-GCM",iv:Lc(i)},r,Lc(n.encode(JSON.stringify(e)))),c=new Uint8Array(1+i.length+s.length);c[0]=AM,c.set(i,1),c.set(s,1+i.length);const h=new Uint8Array(c.length+new Uint8Array(l).length);return h.set(c,0),h.set(new Uint8Array(l),c.length),zU(h.buffer)}async function HU(e,t){const n=new Uint8Array(BU(e));if(n[0]!==AM)throw new Error("Unsupported version");const i=n.slice(1,13),s=n.slice(13,29),r=n.slice(29),l=await TM(t,Lc(s)),c=await crypto.subtle.decrypt({name:"AES-GCM",iv:Lc(i)},l,Lc(r));return JSON.parse(new TextDecoder().decode(c))}async function WU(e){await w3(e,N0)}const Tf="pcz_auth_shadow",kM="dev-only-fallback-change-this";async function RM(e,t,n=7){const i={email:e,password:t,t:Date.now()},s=await $U(i,kM);FU(Tf,s,n)}async function YU(e,t,n,i,s=7){const r=await dM(e,t,n);return i?await RM(t,n,s):hx(Tf),r}async function GU(e){const t=qU(Tf);if(!t)return!1;try{const{email:n,password:i}=await HU(t,kM);return await dM(e,n,i),!0}catch{return hx(Tf),!1}}async function KU(e){hx(Tf),await T3(e)}const XU=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function QU(e){const t="로그인에 실패했습니다. 입력 정보를 확인해 주세요.";if(!(e instanceof lr))return t;switch(e.code){case"auth/invalid-email":return"이메일 형식이 올바르지 않습니다.";case"auth/user-not-found":return"해당 이메일의 계정을 찾을 수 없습니다. 아이디를 확인해 주세요.";case"auth/wrong-password":case"auth/invalid-credential":case"auth/invalid-login-credentials":return"비밀번호가 일치하지 않습니다.";case"auth/too-many-requests":return"로그인 시도가 너무 많습니다. 잠시 후 다시 시도해 주세요.";case"auth/network-request-failed":return"네트워크 오류로 로그인할 수 없습니다. 연결 상태를 확인해 주세요.";case"auth/user-disabled":return"해당 계정은 비활성화되어 로그인할 수 없습니다.";default:return t}}function ZU({onLoginSuccess:e}){const[t,n]=V.useState(""),[i,s]=V.useState(""),[r,l]=V.useState(!0),c=Tl(),h=()=>{c("/signup")},f=async()=>{const p=t.trim();if(!p){alert("이메일을 입력해주세요.");return}if(!XU.test(p)){alert("올바른 이메일 형식이 아닙니다. 예) name@example.com");return}if(!i){alert("비밀번호를 입력해주세요.");return}try{await YU(os,p,i,r),e(),c("/main")}catch(y){alert(QU(y))}};return v.jsxs(JU,{children:[v.jsxs(tz,{children:[v.jsxs(ez,{children:[v.jsx(nz,{children:"PDMS"}),v.jsx(iz,{children:"Pushcomz Design Management System"})]}),v.jsxs(sz,{children:[v.jsx(rz,{type:"text",value:t,onChange:p=>n(p.target.value),placeholder:"이메일을 입력해주세요."}),v.jsx(az,{type:"password",value:i,onChange:p=>s(p.target.value),placeholder:"비밀번호를 입력해주세요."}),v.jsx(oz,{children:v.jsxs("label",{children:[v.jsx("input",{type:"checkbox",checked:r,onChange:p=>l(p.target.checked)}),v.jsx("span",{children:" 이 기기에서 로그인 유지"})]})})]}),v.jsx(lz,{onClick:f,children:"로그인"}),v.jsxs(uz,{children:[v.jsx(hz,{children:"계정이 없습니까?"}),v.jsx(fz,{onClick:h,children:"등록하기"})]})]}),v.jsx(cz,{children:"© Pushcomz Corp."})]})}const JU=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:e})=>e.colors.gray01};
`,tz=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:e})=>e.colors.white01};
`,ez=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,nz=H.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.navy};
`,iz=H.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,sz=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
`,rz=H.input`
  width: 460px;
  margin-bottom: 10px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,az=H.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
`,oz=H.div`
  width: 460px;
  margin-top: 10px;
  color: #555;
  font-size: 13px;
`,lz=H.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:e})=>e.colors.white01};
`,cz=H.p`
  margin-top: 20px;
  font-size: 12px;
  font-weight: 300;
  line-height: 18px;
  text-align: center;
`,uz=H.div`
  
`,hz=H.span`
  margin-right: 10px;
  font-size: 13px;
`,fz=H.button`
  font-size: 13px;
  color: ${({theme:e})=>e.colors.navy};
`,dz="/pdms-test/assets/homeplus-logo-BtZJKVuP.svg",pz="/pdms-test/assets/nsmall-logo-B-mz9SOB.svg";function gz({userRole:e}){const[t,n]=dm(),i=t.get("view")||"dashboard",s=p=>{n(y=>{const _=new URLSearchParams(y);return _.set("view",p),_})},r=e??1,l=r===3,c=V.useMemo(()=>{switch(r){case 1:return{my:"요청 리스트",all:"전체 요청 리스트"};case 2:return{my:"작업 리스트",all:"전체 작업 리스트"};case 3:return{my:"요청 리스트",all:""};default:return{my:"요청 리스트",all:"전체 요청 리스트"}}},[r]),h="myrequestlist",f=!l;return v.jsx(mz,{children:v.jsxs(yz,{children:[v.jsx(Mp,{children:v.jsx(Ip,{type:"button",onClick:()=>s(h),$active:i===h,children:c.my})}),f&&v.jsx(Mp,{children:v.jsx(Ip,{type:"button",onClick:()=>s("allrequestlist"),$active:i==="allrequestlist",children:c.all})}),v.jsx(Mp,{children:v.jsx(Ip,{type:"button",onClick:()=>s("dashboard"),$active:i==="dashboard",children:"전체 현황"})}),l&&v.jsx(Mp,{children:v.jsx(Ip,{type:"button",onClick:()=>s("inworkhour"),$active:i==="inworkhour",children:"내부 공수"})})]})})}const mz=H.nav``,yz=H.ul`
  ${({theme:e})=>e.mixin.flex("center","flex-start")};
  gap: 0 20px;
`,Mp=H.li``,Ip=H.button`
  color: ${({theme:e,$active:t})=>t?e.colors.white01:e.colors.gray02};
  font-family: 'Pretendard';
  font-size: 15px;
  font-weight: 500;

  &:hover {
    color: ${({theme:e})=>e.colors.white01};
  }
`,QT={HOMEPLUS:"homeplus",NSMALL:"nsmall"};function _z(){const[e,t]=V.useState(""),[n,i]=V.useState(""),[s,r]=V.useState(null),l=Tl();V.useEffect(()=>{const _=Cl(os,async w=>{if(w){w.displayName&&t(w.displayName);const E=await Xc(Xn(Jt,"users",w.uid));if(E.exists()){const A=E.data();r(A.role??null),i(A.company??"")}else r(null),i("")}else t(""),r(null),i("")});return()=>_()},[]);const c=async()=>{try{await KU(os),l("/")}catch(_){alert("로그아웃 중 오류가 발생했습니다: "+_.message)}},h=_=>{switch(_){case 1:return"요청자";case 2:return"디자이너";case 3:return"담당자";default:return"역할 없음"}},f=V.useMemo(()=>{const _=String(n??"").trim().replace(/\s+/g,"").toLowerCase();return _==="homeplus"?QT.HOMEPLUS:_==="nsmall"||_==="n-small"?QT.NSMALL:null},[n]),p=f==="homeplus"?dz:f==="nsmall"?pz:null,y=!!p;return v.jsxs(bz,{children:[v.jsxs(vz,{$hasLogo:y,children:[y&&v.jsx(xz,{children:v.jsx(wz,{src:p,alt:"company logo"})}),v.jsx(gz,{userRole:s})]}),v.jsxs(Ez,{children:[v.jsxs(Sz,{children:[v.jsx(Tz,{children:e}),"님(",h(s),") ",n,"환영합니다."]}),v.jsx(Az,{onClick:c,children:"로그아웃"}),v.jsx(kz,{})]})]})}const bz=H.header`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  height: 64px;
  padding: 0 48px;
  font-family: 'Pretendard';
  background-color: ${({theme:e})=>e.colors.black};
`,vz=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  gap: ${({$hasLogo:e})=>e?"0 10px":"0"};
`,xz=H.div`
  width: 120px;
`,wz=H.img`
  width: 100%;
  vertical-align: sub;
`,Ez=H.div``,Sz=H.span`
  margin-right: 24px;
  color: ${({theme:e})=>e.colors.white01};
  font-size: 16px;
`,Tz=H.span`
  font-weight: 700;
`,Az=H.button`
  padding: 5px 10px;
  border: 1px solid ${({theme:e})=>e.colors.white01};
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  font-size: 16px;
`,kz=H.span`
  color: ${({theme:e})=>e.colors.white01};
  font-size: 16px;
`,fx="/pdms-test/assets/url-icon-DJKri2bW.svg";function Rz({item:e,index:t,disableActions:n,onReviewComplete:i,onCancel:s,onEditClick:r,onDetailClick:l}){const c=e.manager_review_status==="검수완료",h=p=>{if(!p)return"-";if(p.toDate){const y=p.toDate();return`${y.getMonth()+1}/${y.getDate()}`}return p},f=p=>{p.stopPropagation(),l(e)};return v.jsxs(Cz,{isCanceled:e.status==="취소",children:[v.jsx(is,{children:t}),v.jsx(is,{children:v.jsx(Nz,{onClick:f,$hasUpdate:!!e.updated_date,children:e.design_request_id})}),v.jsx(is,{children:h(e.request_date)}),v.jsx(Dz,{children:h(e.completion_date)}),v.jsx(Mz,{children:h(e.open_date)}),v.jsx(is,{children:e.merchandiser}),v.jsx(is,{children:e.task_form}),v.jsx(Iz,{children:v.jsxs(Lz,{children:[v.jsx(Vz,{children:e.task_type}),v.jsx(jz,{children:e.task_type_detail})]})}),v.jsx(Oz,{children:v.jsxs(Uz,{children:[e.emergency?v.jsx(CM,{children:"긴급"}):"",v.jsx(zz,{onClick:f,children:e.requirement})]})}),v.jsx(is,{children:v.jsx(ZT,{href:e.url,target:"_blank"})}),v.jsx(Pz,{children:v.jsx(Bz,{onClick:f,children:e.note||""})}),v.jsx(is,{children:v.jsx(Fz,{status:e.status,children:e.status==="검수요청"?"진행중":e.status||"대기"})}),v.jsx(is,{children:e.assigned_designer||"미배정"}),v.jsx(is,{children:e.manager_review_status==="검수완료"&&e.result_url?v.jsx(ZT,{href:e.result_url,target:"_blank"}):""}),v.jsx(is,{children:e.manager_review_status==="검수완료"?e.status!=="완료"?v.jsx(DM,{onClick:()=>i(e.id),disabled:n,children:"검수완료"}):v.jsx(qz,{children:"검수완료"}):""}),v.jsx(is,{children:v.jsx(MM,{onClick:()=>r(e.id),disabled:n||c||e.status==="취소"||e.status==="완료",children:"수정"})}),v.jsx(is,{children:v.jsx(IM,{onClick:()=>s(e.id),disabled:n||c||e.status==="취소"||e.status==="완료",children:"취소"})})]})}const Cz=H.tr`
  ${({isCanceled:e})=>e&&`
      td {
        color: #888;
        background-color: #f4f4f4;
      }
    `}
    
  ${({isCanceled:e,theme:t})=>e&&`
      ${CM} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
      }
      ${DM}, ${MM}, ${IM} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
        border-color: ${t.colors.gray06};
        cursor: default;
        pointer-events: none;
      }
    `}
  &:hover {
    td {
      background-color: ${({theme:e})=>e.colors.gray04}
    }
  }

  & td {
    font-family: 'Pretendard';
    font-size: 14px;
    font-weight: 500;
  }
`,is=H.td`
  padding: 15px 0;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(12) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }
`,Dz=H.td`
  color: ${({theme:e})=>e.colors.red};
`,Mz=H.td`
  color: ${({theme:e})=>e.colors.blue02};
`,Iz=H.td`
  padding: 15px 12px;
  line-height: 15px;
`,Oz=H.td`
  line-height: 15px;
  text-align: left;
`,Pz=H.td`
  line-height: 15px;
  padding: 0 12px;
  text-align: left;
  background-color: #fffff1;
`,Nz=H.span`
  position: relative;

  &::after {
    content: '';
    position: absolute;
    top: -5px;
    right: -2px;
    display: ${({$hasUpdate:e})=>e?"block":"none"};
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background-color: ${({theme:e})=>e.colors.red};
  }

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,Lz=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`,Vz=H.span`
  
`,jz=H.span`
  
`,Uz=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  padding: 0 12px;
`,zz=H.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,CM=H.span`
  margin-right: 8px;
  padding: 3px 5px;
  border-radius: 2px;
  font-size: 10px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.red};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,ZT=H.a`
  display: inline-block;
  vertical-align: middle;
  width: 24px;
  height: 24px;
  background: url(${fx}) no-repeat center / contain;
`,Bz=H.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  overflow-wrap: anywhere;
  word-break: break-word;
  text-overflow: ellipsis;
  white-space: normal;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,Fz=H.span`
  border-radius: 14px;
  padding: 5.5px 12px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 400;
  color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.orange;case"진행중":return t.colors.blue02;case"검수요청":return t.colors.blue02;case"검수중":return t.colors.red;case"완료":return t.colors.gray06;default:return t.colors.gray06}}};
  background-color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.beige02;case"진행중":return t.colors.lightpupple;case"검수요청":return t.colors.lightpupple;case"검수중":return t.colors.pink03;case"완료":return t.colors.white02;default:return t.colors.gray07}}};;
`,DM=H.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  background-color: green;
  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`,qz=H.span`
  color: green;
  font-weight: bold;
`,MM=H.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  background-color: ${({theme:e})=>e.colors.black};

  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`,IM=H.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  color: ${({theme:e})=>e.colors.white01};
  background-color: ${({theme:e})=>e.colors.black};

  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`;function JT({data:e,disableActions:t=!1,lockOthers:n=!1,currentUserName:i="",onReviewComplete:s,onCancel:r,onEditClick:l,onDetailClick:c}){return v.jsx($z,{children:v.jsxs(Hz,{children:[v.jsx(Wz,{children:"요청 리스트"}),v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"60px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"90px"}}),v.jsx("col",{style:{width:"180px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"90px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}})]}),v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx(Yn,{children:"번호"}),v.jsx(Yn,{children:"문서번호"}),v.jsx(Yn,{children:"요청일"}),v.jsxs(Yn,{children:["완료",v.jsx("br",{}),"요청일"]}),v.jsx(Yn,{children:"오픈일"}),v.jsx(Yn,{children:"담당MD"}),v.jsx(Yn,{children:"업무부서"}),v.jsx(Yn,{children:"업무유형"}),v.jsx(Yn,{children:"작업항목"}),v.jsx(Yn,{children:"요청서 URL"}),v.jsx(Yn,{children:"메모"}),v.jsx(Yn,{children:"진행상태"}),v.jsx(Yn,{children:"디자이너"}),v.jsx(Yn,{children:"산출물 URL"}),v.jsx(Yn,{children:"검수"}),v.jsx(Yn,{children:"수정"}),v.jsx(Yn,{children:"취소"})]})}),v.jsx("tbody",{children:e.length>0?e.map((h,f)=>{const p=h.requester===i,y=t||n&&!p;return v.jsx(Rz,{index:f+1,item:h,disableActions:y,onReviewComplete:s,onCancel:r,onEditClick:l,onDetailClick:c},h.id)}):v.jsx("tr",{children:v.jsx("td",{colSpan:17,style:{textAlign:"center",padding:20},children:"등록된 요청이 없습니다."})})})]})})}const $z=H.div`
  position: relative;
  max-height: 535px;
  border-top: 2px solid ${({theme:e})=>e.colors.black};
  overflow-y: auto;
  scrollbar-width: thin;
`,Hz=H.table`
  table-layout: fixed;
  width: 100%;
  text-align: center;
`,Wz=H.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,Yn=H.th`
  position: sticky;
  top: -2px;
  line-height: 16px;
  padding: 13px 0;
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.gray08};
  z-index: 10;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(12) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }

  &:nth-of-type(13), &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16) {
    border-right: 1px solid ${({theme:e})=>e.colors.pink02}
  }

  &:nth-of-type(13), &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`;function dx({userRole:e}){const[t]=dm(),n=t.get("view")||"dashboard",i=e??1,s=V.useMemo(()=>{const f={dashboard:"전체 현황",inworkhour:"내부 공수"};return i===2?{...f,myrequestlist:"작업 리스트",allrequestlist:"전체 작업 리스트"}:i===3?{...f,myrequestlist:"요청 리스트",allrequestlist:"요청 리스트"}:{...f,myrequestlist:"요청 리스트",allrequestlist:"전체 요청 리스트"}},[i]),r=V.useMemo(()=>n!=="myrequestlist"?"":i===2?" (디자이너)":i===3?" (매니저)":"",[n,i]),l=new Date,c=l.getFullYear(),h=l.getMonth()+1;return v.jsx(Yz,{children:v.jsxs(Gz,{children:[c,"년 ",h,"월 디자인 ",s[n],r]})})}const Yz=H.div`
  padding: 29px 48px;
  background-color: ${({theme:e})=>e.colors.gray08};
`,Gz=H.h2`
  font-family: 'Pretendard';
  font-size: 36px;
  font-weight: 700;
`,px="/pdms-test/assets/selectbox-arrow-BwC8UGU0.svg";function Kz(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const xb={},zh={};function ol(e,t){try{const i=(xb[e]||(xb[e]=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format))(t).split("GMT")[1];return i in zh?zh[i]:tA(i,i.split(":"))}catch{if(e in zh)return zh[e];const n=e==null?void 0:e.match(Xz);return n?tA(e,n.slice(1)):NaN}}const Xz=/([+-]\d\d):?(\d\d)?/;function tA(e,t){const n=+(t[0]||0),i=+(t[1]||0),s=+(t[2]||0)/60;return zh[e]=n*60+i>0?n*60+i+s:n*60-i-s}class Ks extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(ol(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),OM(this),j0(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new Ks(...n,t):new Ks(Date.now(),t)}withTimeZone(t){return new Ks(+this,t)}getTimezoneOffset(){const t=-ol(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),j0(this),+this}[Symbol.for("constructDateFrom")](t){return new Ks(+new Date(t),this.timeZone)}}const eA=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!eA.test(e))return;const t=e.replace(eA,"$1UTC");Ks.prototype[t]&&(e.startsWith("get")?Ks.prototype[e]=function(){return this.internal[t]()}:(Ks.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),Qz(this),+this},Ks.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),j0(this),+this}))});function j0(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-ol(e.timeZone,e)*60))}function Qz(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),OM(e)}function OM(e){const t=ol(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),i=new Date(+e);i.setUTCHours(i.getUTCHours()-1);const s=-new Date(+e).getTimezoneOffset(),r=-new Date(+i).getTimezoneOffset(),l=s-r,c=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();l&&c&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+l);const h=s-n;h&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+h);const f=new Date(+e);f.setUTCSeconds(0);const p=s>0?f.getSeconds():(f.getSeconds()-60)%60,y=Math.round(-(ol(e.timeZone,e)*60))%60;(y||p)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+y),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+y+p));const _=ol(e.timeZone,e),w=_>0?Math.floor(_):Math.ceil(_),A=-new Date(+e).getTimezoneOffset()-w,S=w!==n,D=A-h;if(S&&D){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+D);const I=ol(e.timeZone,e),L=I>0?Math.floor(I):Math.ceil(I),z=w-L;z&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+z),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+z))}}class ri extends Ks{static tz(t,...n){return n.length?new ri(...n,t):new ri(Date.now(),t)}toISOString(){const[t,n,i]=this.tzComponents(),s=`${t}${n}:${i}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,i,s]=this.internal.toUTCString().split(" ");return`${t==null?void 0:t.slice(0,-1)} ${i} ${n} ${s}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,i,s]=this.tzComponents();return`${t} GMT${n}${i}${s} (${Kz(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",i=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),s=String(Math.abs(t)%60).padStart(2,"0");return[n,i,s]}withTimeZone(t){return new ri(+this,t)}[Symbol.for("constructDateFrom")](t){return new ri(+new Date(t),this.timeZone)}}const PM=6048e5,Zz=864e5,nA=Symbol.for("constructDateFrom");function Tn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&nA in e?e[nA](t):e instanceof Date?new e.constructor(t):new Date(t)}function De(e,t){return Tn(t||e,e)}function NM(e,t,n){const i=De(e,n==null?void 0:n.in);return isNaN(t)?Tn(e,NaN):(t&&i.setDate(i.getDate()+t),i)}function LM(e,t,n){const i=De(e,n==null?void 0:n.in);if(isNaN(t))return Tn(e,NaN);if(!t)return i;const s=i.getDate(),r=Tn(e,i.getTime());r.setMonth(i.getMonth()+t+1,0);const l=r.getDate();return s>=l?r:(i.setFullYear(r.getFullYear(),r.getMonth(),s),i)}let Jz={};function Xf(){return Jz}function Zc(e,t){var c,h,f,p;const n=Xf(),i=(t==null?void 0:t.weekStartsOn)??((h=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,s=De(e,t==null?void 0:t.in),r=s.getDay(),l=(r<i?7:0)+r-i;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function Af(e,t){return Zc(e,{...t,weekStartsOn:1})}function VM(e,t){const n=De(e,t==null?void 0:t.in),i=n.getFullYear(),s=Tn(n,0);s.setFullYear(i+1,0,4),s.setHours(0,0,0,0);const r=Af(s),l=Tn(n,0);l.setFullYear(i,0,4),l.setHours(0,0,0,0);const c=Af(l);return n.getTime()>=r.getTime()?i+1:n.getTime()>=c.getTime()?i:i-1}function iA(e){const t=De(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function du(e,...t){const n=Tn.bind(null,t.find(i=>typeof i=="object"));return t.map(n)}function kf(e,t){const n=De(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function jM(e,t,n){const[i,s]=du(n==null?void 0:n.in,e,t),r=kf(i),l=kf(s),c=+r-iA(r),h=+l-iA(l);return Math.round((c-h)/Zz)}function t9(e,t){const n=VM(e,t),i=Tn(e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),Af(i)}function e9(e,t,n){return NM(e,t*7,n)}function n9(e,t,n){return LM(e,t*12,n)}function i9(e,t){let n,i=t==null?void 0:t.in;return e.forEach(s=>{!i&&typeof s=="object"&&(i=Tn.bind(null,s));const r=De(s,i);(!n||n<r||isNaN(+r))&&(n=r)}),Tn(i,n||NaN)}function s9(e,t){let n,i=t==null?void 0:t.in;return e.forEach(s=>{!i&&typeof s=="object"&&(i=Tn.bind(null,s));const r=De(s,i);(!n||n>r||isNaN(+r))&&(n=r)}),Tn(i,n||NaN)}function r9(e,t,n){const[i,s]=du(n==null?void 0:n.in,e,t);return+kf(i)==+kf(s)}function UM(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function a9(e){return!(!UM(e)&&typeof e!="number"||isNaN(+De(e)))}function o9(e,t,n){const[i,s]=du(n==null?void 0:n.in,e,t),r=i.getFullYear()-s.getFullYear(),l=i.getMonth()-s.getMonth();return r*12+l}function l9(e,t){const n=De(e,t==null?void 0:t.in),i=n.getMonth();return n.setFullYear(n.getFullYear(),i+1,0),n.setHours(23,59,59,999),n}function c9(e,t){const[n,i]=du(e,t.start,t.end);return{start:n,end:i}}function u9(e,t){const{start:n,end:i}=c9(t==null?void 0:t.in,e);let s=+n>+i;const r=s?+n:+i,l=s?i:n;l.setHours(0,0,0,0),l.setDate(1);let c=1;const h=[];for(;+l<=r;)h.push(Tn(n,l)),l.setMonth(l.getMonth()+c);return s?h.reverse():h}function h9(e,t){const n=De(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function f9(e,t){const n=De(e,t==null?void 0:t.in),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n}function zM(e,t){const n=De(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function BM(e,t){var c,h,f,p;const n=Xf(),i=(t==null?void 0:t.weekStartsOn)??((h=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,s=De(e,t==null?void 0:t.in),r=s.getDay(),l=(r<i?-7:0)+6-(r-i);return s.setDate(s.getDate()+l),s.setHours(23,59,59,999),s}function d9(e,t){return BM(e,{...t,weekStartsOn:1})}const p9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},g9=(e,t,n)=>{let i;const s=p9[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function wb(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const m9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},y9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},b9={date:wb({formats:m9,defaultWidth:"full"}),time:wb({formats:y9,defaultWidth:"full"}),dateTime:wb({formats:_9,defaultWidth:"full"})},v9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},x9=(e,t,n,i)=>v9[e];function _h(e){return(t,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let s;if(i==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):l;s=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}const r=e.argumentCallback?e.argumentCallback(t):t;return s[r]}}const w9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},E9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},S9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},T9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},A9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},k9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},R9=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},C9={ordinalNumber:R9,era:_h({values:w9,defaultWidth:"wide"}),quarter:_h({values:E9,defaultWidth:"wide",argumentCallback:e=>e-1}),month:_h({values:S9,defaultWidth:"wide"}),day:_h({values:T9,defaultWidth:"wide"}),dayPeriod:_h({values:A9,defaultWidth:"wide",formattingValues:k9,defaultFormattingWidth:"wide"})};function bh(e){return(t,n={})=>{const i=n.width,s=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],r=t.match(s);if(!r)return null;const l=r[0],c=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(c)?M9(c,y=>y.test(l)):D9(c,y=>y.test(l));let f;f=e.valueCallback?e.valueCallback(h):h,f=n.valueCallback?n.valueCallback(f):f;const p=t.slice(l.length);return{value:f,rest:p}}}function D9(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function M9(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function I9(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const s=i[0],r=t.match(e.parsePattern);if(!r)return null;let l=e.valueCallback?e.valueCallback(r[0]):r[0];l=n.valueCallback?n.valueCallback(l):l;const c=t.slice(s.length);return{value:l,rest:c}}}const O9=/^(\d+)(th|st|nd|rd)?/i,P9=/\d+/i,N9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},L9={any:[/^b/i,/^(a|c)/i]},V9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},j9={any:[/1/i,/2/i,/3/i,/4/i]},U9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},z9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},B9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},F9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},q9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},H9={ordinalNumber:I9({matchPattern:O9,parsePattern:P9,valueCallback:e=>parseInt(e,10)}),era:bh({matchPatterns:N9,defaultMatchWidth:"wide",parsePatterns:L9,defaultParseWidth:"any"}),quarter:bh({matchPatterns:V9,defaultMatchWidth:"wide",parsePatterns:j9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:bh({matchPatterns:U9,defaultMatchWidth:"wide",parsePatterns:z9,defaultParseWidth:"any"}),day:bh({matchPatterns:B9,defaultMatchWidth:"wide",parsePatterns:F9,defaultParseWidth:"any"}),dayPeriod:bh({matchPatterns:q9,defaultMatchWidth:"any",parsePatterns:$9,defaultParseWidth:"any"})},gx={code:"en-US",formatDistance:g9,formatLong:b9,formatRelative:x9,localize:C9,match:H9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function W9(e,t){const n=De(e,t==null?void 0:t.in);return jM(n,zM(n))+1}function FM(e,t){const n=De(e,t==null?void 0:t.in),i=+Af(n)-+t9(n);return Math.round(i/PM)+1}function qM(e,t){var p,y,_,w;const n=De(e,t==null?void 0:t.in),i=n.getFullYear(),s=Xf(),r=(t==null?void 0:t.firstWeekContainsDate)??((y=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??s.firstWeekContainsDate??((w=(_=s.locale)==null?void 0:_.options)==null?void 0:w.firstWeekContainsDate)??1,l=Tn((t==null?void 0:t.in)||e,0);l.setFullYear(i+1,0,r),l.setHours(0,0,0,0);const c=Zc(l,t),h=Tn((t==null?void 0:t.in)||e,0);h.setFullYear(i,0,r),h.setHours(0,0,0,0);const f=Zc(h,t);return+n>=+c?i+1:+n>=+f?i:i-1}function Y9(e,t){var c,h,f,p;const n=Xf(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,s=qM(e,t),r=Tn((t==null?void 0:t.in)||e,0);return r.setFullYear(s,0,i),r.setHours(0,0,0,0),Zc(r,t)}function $M(e,t){const n=De(e,t==null?void 0:t.in),i=+Zc(n,t)-+Y9(n,t);return Math.round(i/PM)+1}function Se(e,t){const n=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return n+i}const ja={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return Se(t==="yy"?i%100:i,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Se(n+1,2)},d(e,t){return Se(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Se(e.getHours()%12||12,t.length)},H(e,t){return Se(e.getHours(),t.length)},m(e,t){return Se(e.getMinutes(),t.length)},s(e,t){return Se(e.getSeconds(),t.length)},S(e,t){const n=t.length,i=e.getMilliseconds(),s=Math.trunc(i*Math.pow(10,n-3));return Se(s,t.length)}},xc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},sA={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const i=e.getFullYear(),s=i>0?i:1-i;return n.ordinalNumber(s,{unit:"year"})}return ja.y(e,t)},Y:function(e,t,n,i){const s=qM(e,i),r=s>0?s:1-s;if(t==="YY"){const l=r%100;return Se(l,2)}return t==="Yo"?n.ordinalNumber(r,{unit:"year"}):Se(r,t.length)},R:function(e,t){const n=VM(e);return Se(n,t.length)},u:function(e,t){const n=e.getFullYear();return Se(n,t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Se(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Se(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return ja.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return Se(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const s=$M(e,i);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Se(s,t.length)},I:function(e,t,n){const i=FM(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):Se(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ja.d(e,t)},D:function(e,t,n){const i=W9(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Se(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const s=e.getDay(),r=(s-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(r);case"ee":return Se(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const s=e.getDay(),r=(s-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(r);case"cc":return Se(r,t.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),s=i===0?7:i;switch(t){case"i":return String(s);case"ii":return Se(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let s;switch(i===12?s=xc.noon:i===0?s=xc.midnight:s=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let s;switch(i>=17?s=xc.evening:i>=12?s=xc.afternoon:i>=4?s=xc.morning:s=xc.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return ja.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ja.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Se(i,t.length)},k:function(e,t,n){let i=e.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):Se(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ja.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ja.s(e,t)},S:function(e,t){return ja.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return aA(i);case"XXXX":case"XX":return nl(i);case"XXXXX":case"XXX":default:return nl(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return aA(i);case"xxxx":case"xx":return nl(i);case"xxxxx":case"xxx":default:return nl(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+rA(i,":");case"OOOO":default:return"GMT"+nl(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+rA(i,":");case"zzzz":default:return"GMT"+nl(i,":")}},t:function(e,t,n){const i=Math.trunc(+e/1e3);return Se(i,t.length)},T:function(e,t,n){return Se(+e,t.length)}};function rA(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=Math.trunc(i/60),r=i%60;return r===0?n+String(s):n+String(s)+t+Se(r,2)}function aA(e,t){return e%60===0?(e>0?"-":"+")+Se(Math.abs(e)/60,2):nl(e,t)}function nl(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=Se(Math.trunc(i/60),2),r=Se(i%60,2);return n+s+t+r}const oA=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},HM=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},G9=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return oA(e,t);let r;switch(i){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;case"PPPP":default:r=t.dateTime({width:"full"});break}return r.replace("{{date}}",oA(i,t)).replace("{{time}}",HM(s,t))},K9={p:HM,P:G9},X9=/^D+$/,Q9=/^Y+$/,Z9=["D","DD","YY","YYYY"];function J9(e){return X9.test(e)}function tB(e){return Q9.test(e)}function eB(e,t,n){const i=nB(e,t,n);if(console.warn(i),Z9.includes(e))throw new RangeError(i)}function nB(e,t,n){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const iB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rB=/^'([^]*?)'?$/,aB=/''/g,oB=/[a-zA-Z]/;function lB(e,t,n){var p,y,_,w,E,A,S,D;const i=Xf(),s=(n==null?void 0:n.locale)??i.locale??gx,r=(n==null?void 0:n.firstWeekContainsDate)??((y=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((w=(_=i.locale)==null?void 0:_.options)==null?void 0:w.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((A=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:A.weekStartsOn)??i.weekStartsOn??((D=(S=i.locale)==null?void 0:S.options)==null?void 0:D.weekStartsOn)??0,c=De(e,n==null?void 0:n.in);if(!a9(c))throw new RangeError("Invalid time value");let h=t.match(sB).map(I=>{const L=I[0];if(L==="p"||L==="P"){const z=K9[L];return z(I,s.formatLong)}return I}).join("").match(iB).map(I=>{if(I==="''")return{isToken:!1,value:"'"};const L=I[0];if(L==="'")return{isToken:!1,value:cB(I)};if(sA[L])return{isToken:!0,value:I};if(L.match(oB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return{isToken:!1,value:I}});s.localize.preprocessor&&(h=s.localize.preprocessor(c,h));const f={firstWeekContainsDate:r,weekStartsOn:l,locale:s};return h.map(I=>{if(!I.isToken)return I.value;const L=I.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&tB(L)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&J9(L))&&eB(L,t,String(e));const z=sA[L[0]];return z(c,L,s.localize,f)}).join("")}function cB(e){const t=e.match(rB);return t?t[1].replace(aB,"'"):e}function uB(e,t){const n=De(e,t==null?void 0:t.in),i=n.getFullYear(),s=n.getMonth(),r=Tn(n,0);return r.setFullYear(i,s+1,0),r.setHours(0,0,0,0),r.getDate()}function hB(e,t){return De(e,t==null?void 0:t.in).getMonth()}function fB(e,t){return De(e,t==null?void 0:t.in).getFullYear()}function dB(e,t){return+De(e)>+De(t)}function pB(e,t){return+De(e)<+De(t)}function gB(e,t,n){const[i,s]=du(n==null?void 0:n.in,e,t);return i.getFullYear()===s.getFullYear()&&i.getMonth()===s.getMonth()}function mB(e,t,n){const[i,s]=du(n==null?void 0:n.in,e,t);return i.getFullYear()===s.getFullYear()}function yB(e,t,n){const i=De(e,n==null?void 0:n.in),s=i.getFullYear(),r=i.getDate(),l=Tn(e,0);l.setFullYear(s,t,15),l.setHours(0,0,0,0);const c=uB(l);return i.setMonth(t,Math.min(r,c)),i}function _B(e,t,n){const i=De(e,n==null?void 0:n.in);return isNaN(+i)?Tn(e,NaN):(i.setFullYear(t),i)}const lA=5,bB=4;function vB(e,t){const n=t.startOfMonth(e),i=n.getDay()>0?n.getDay():7,s=t.addDays(e,-i+1),r=t.addDays(s,lA*7-1);return t.getMonth(e)===t.getMonth(r)?lA:bB}function WM(e,t){const n=t.startOfMonth(e),i=n.getDay();return i===1?n:i===0?t.addDays(n,-6):t.addDays(n,-1*(i-1))}function xB(e,t){const n=WM(e,t),i=vB(e,t);return t.addDays(n,i*7-1)}class oa{constructor(t,n){this.Date=Date,this.today=()=>{var i;return(i=this.overrides)!=null&&i.today?this.overrides.today():this.options.timeZone?ri.tz(this.options.timeZone):new this.Date},this.newDate=(i,s,r)=>{var l;return(l=this.overrides)!=null&&l.newDate?this.overrides.newDate(i,s,r):this.options.timeZone?new ri(i,s,r,this.options.timeZone):new Date(i,s,r)},this.addDays=(i,s)=>{var r;return(r=this.overrides)!=null&&r.addDays?this.overrides.addDays(i,s):NM(i,s)},this.addMonths=(i,s)=>{var r;return(r=this.overrides)!=null&&r.addMonths?this.overrides.addMonths(i,s):LM(i,s)},this.addWeeks=(i,s)=>{var r;return(r=this.overrides)!=null&&r.addWeeks?this.overrides.addWeeks(i,s):e9(i,s)},this.addYears=(i,s)=>{var r;return(r=this.overrides)!=null&&r.addYears?this.overrides.addYears(i,s):n9(i,s)},this.differenceInCalendarDays=(i,s)=>{var r;return(r=this.overrides)!=null&&r.differenceInCalendarDays?this.overrides.differenceInCalendarDays(i,s):jM(i,s)},this.differenceInCalendarMonths=(i,s)=>{var r;return(r=this.overrides)!=null&&r.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(i,s):o9(i,s)},this.eachMonthOfInterval=i=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(i):u9(i)},this.endOfBroadcastWeek=i=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(i):xB(i,this)},this.endOfISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(i):d9(i)},this.endOfMonth=i=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(i):l9(i)},this.endOfWeek=(i,s)=>{var r;return(r=this.overrides)!=null&&r.endOfWeek?this.overrides.endOfWeek(i,s):BM(i,this.options)},this.endOfYear=i=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(i):f9(i)},this.format=(i,s,r)=>{var c;const l=(c=this.overrides)!=null&&c.format?this.overrides.format(i,s,this.options):lB(i,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(l):l},this.getISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(i):FM(i)},this.getMonth=(i,s)=>{var r;return(r=this.overrides)!=null&&r.getMonth?this.overrides.getMonth(i,this.options):hB(i,this.options)},this.getYear=(i,s)=>{var r;return(r=this.overrides)!=null&&r.getYear?this.overrides.getYear(i,this.options):fB(i,this.options)},this.getWeek=(i,s)=>{var r;return(r=this.overrides)!=null&&r.getWeek?this.overrides.getWeek(i,this.options):$M(i,this.options)},this.isAfter=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isAfter?this.overrides.isAfter(i,s):dB(i,s)},this.isBefore=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isBefore?this.overrides.isBefore(i,s):pB(i,s)},this.isDate=i=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(i):UM(i)},this.isSameDay=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isSameDay?this.overrides.isSameDay(i,s):r9(i,s)},this.isSameMonth=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isSameMonth?this.overrides.isSameMonth(i,s):gB(i,s)},this.isSameYear=(i,s)=>{var r;return(r=this.overrides)!=null&&r.isSameYear?this.overrides.isSameYear(i,s):mB(i,s)},this.max=i=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(i):i9(i)},this.min=i=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(i):s9(i)},this.setMonth=(i,s)=>{var r;return(r=this.overrides)!=null&&r.setMonth?this.overrides.setMonth(i,s):yB(i,s)},this.setYear=(i,s)=>{var r;return(r=this.overrides)!=null&&r.setYear?this.overrides.setYear(i,s):_B(i,s)},this.startOfBroadcastWeek=(i,s)=>{var r;return(r=this.overrides)!=null&&r.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(i,this):WM(i,this)},this.startOfDay=i=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(i):kf(i)},this.startOfISOWeek=i=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(i):Af(i)},this.startOfMonth=i=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(i):h9(i)},this.startOfWeek=(i,s)=>{var r;return(r=this.overrides)!=null&&r.startOfWeek?this.overrides.startOfWeek(i,this.options):Zc(i,this.options)},this.startOfYear=i=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(i):zM(i)},this.options={locale:gx,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),i={};for(let s=0;s<10;s++)i[s.toString()]=n.format(s);return i}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,i=>n[i]||i)}formatNumber(t){return this.replaceDigits(t.toString())}}const cr=new oa;class YM{constructor(t,n,i=cr){this.date=t,this.displayMonth=n,this.outside=!!(n&&!i.isSameMonth(t,n)),this.dateLib=i}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class wB{constructor(t,n){this.date=t,this.weeks=n}}class EB{constructor(t,n){this.days=n,this.weekNumber=t}}function SB(e){return Et.createElement("button",{...e})}function TB(e){return Et.createElement("span",{...e})}function AB(e){const{size:t=24,orientation:n="left",className:i}=e;return Et.createElement("svg",{className:i,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&Et.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&Et.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&Et.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&Et.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function kB(e){const{day:t,modifiers:n,...i}=e;return Et.createElement("td",{...i})}function RB(e){const{day:t,modifiers:n,...i}=e,s=Et.useRef(null);return Et.useEffect(()=>{var r;n.focused&&((r=s.current)==null||r.focus())},[n.focused]),Et.createElement("button",{ref:s,...i})}var Ot;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(Ot||(Ot={}));var We;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(We||(We={}));var ys;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(ys||(ys={}));var Ui;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(Ui||(Ui={}));function CB(e){const{options:t,className:n,components:i,classNames:s,...r}=e,l=[s[Ot.Dropdown],n].join(" "),c=t==null?void 0:t.find(({value:h})=>h===r.value);return Et.createElement("span",{"data-disabled":r.disabled,className:s[Ot.DropdownRoot]},Et.createElement(i.Select,{className:l,...r},t==null?void 0:t.map(({value:h,label:f,disabled:p})=>Et.createElement(i.Option,{key:h,value:h,disabled:p},f))),Et.createElement("span",{className:s[Ot.CaptionLabel],"aria-hidden":!0},c==null?void 0:c.label,Et.createElement(i.Chevron,{orientation:"down",size:18,className:s[Ot.Chevron]})))}function DB(e){return Et.createElement("div",{...e})}function MB(e){return Et.createElement("div",{...e})}function IB(e){const{calendarMonth:t,displayIndex:n,...i}=e;return Et.createElement("div",{...i},e.children)}function OB(e){const{calendarMonth:t,displayIndex:n,...i}=e;return Et.createElement("div",{...i})}function PB(e){return Et.createElement("table",{...e})}function NB(e){return Et.createElement("div",{...e})}const GM=V.createContext(void 0);function Qf(){const e=V.useContext(GM);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function LB(e){const{components:t}=Qf();return Et.createElement(t.Dropdown,{...e})}function VB(e){const{onPreviousClick:t,onNextClick:n,previousMonth:i,nextMonth:s,...r}=e,{components:l,classNames:c,labels:{labelPrevious:h,labelNext:f}}=Qf(),p=V.useCallback(_=>{s&&(n==null||n(_))},[s,n]),y=V.useCallback(_=>{i&&(t==null||t(_))},[i,t]);return Et.createElement("nav",{...r},Et.createElement(l.PreviousMonthButton,{type:"button",className:c[Ot.PreviousMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":h(i),onClick:y},Et.createElement(l.Chevron,{disabled:i?void 0:!0,className:c[Ot.Chevron],orientation:"left"})),Et.createElement(l.NextMonthButton,{type:"button",className:c[Ot.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":f(s),onClick:p},Et.createElement(l.Chevron,{disabled:s?void 0:!0,orientation:"right",className:c[Ot.Chevron]})))}function jB(e){const{components:t}=Qf();return Et.createElement(t.Button,{...e})}function UB(e){return Et.createElement("option",{...e})}function zB(e){const{components:t}=Qf();return Et.createElement(t.Button,{...e})}function BB(e){const{rootRef:t,...n}=e;return Et.createElement("div",{...n,ref:t})}function FB(e){return Et.createElement("select",{...e})}function qB(e){const{week:t,...n}=e;return Et.createElement("tr",{...n})}function $B(e){return Et.createElement("th",{...e})}function HB(e){return Et.createElement("thead",{"aria-hidden":!0},Et.createElement("tr",{...e}))}function WB(e){const{week:t,...n}=e;return Et.createElement("th",{...n})}function YB(e){return Et.createElement("th",{...e})}function GB(e){return Et.createElement("tbody",{...e})}function KB(e){const{components:t}=Qf();return Et.createElement(t.Dropdown,{...e})}const XB=Object.freeze(Object.defineProperty({__proto__:null,Button:SB,CaptionLabel:TB,Chevron:AB,Day:kB,DayButton:RB,Dropdown:CB,DropdownNav:DB,Footer:MB,Month:IB,MonthCaption:OB,MonthGrid:PB,Months:NB,MonthsDropdown:LB,Nav:VB,NextMonthButton:jB,Option:UB,PreviousMonthButton:zB,Root:BB,Select:FB,Week:qB,WeekNumber:WB,WeekNumberHeader:YB,Weekday:$B,Weekdays:HB,Weeks:GB,YearsDropdown:KB},Symbol.toStringTag,{value:"Module"}));function Wr(e,t,n=!1,i=cr){let{from:s,to:r}=e;const{differenceInCalendarDays:l,isSameDay:c}=i;return s&&r?(l(r,s)<0&&([s,r]=[r,s]),l(t,s)>=(n?1:0)&&l(r,t)>=(n?1:0)):!n&&r?c(r,t):!n&&s?c(s,t):!1}function KM(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function mx(e){return!!(e&&typeof e=="object"&&"from"in e)}function XM(e){return!!(e&&typeof e=="object"&&"after"in e)}function QM(e){return!!(e&&typeof e=="object"&&"before"in e)}function ZM(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function JM(e,t){return Array.isArray(e)&&e.every(t.isDate)}function Yr(e,t,n=cr){const i=Array.isArray(t)?t:[t],{isSameDay:s,differenceInCalendarDays:r,isAfter:l}=n;return i.some(c=>{if(typeof c=="boolean")return c;if(n.isDate(c))return s(e,c);if(JM(c,n))return c.includes(e);if(mx(c))return Wr(c,e,!1,n);if(ZM(c))return Array.isArray(c.dayOfWeek)?c.dayOfWeek.includes(e.getDay()):c.dayOfWeek===e.getDay();if(KM(c)){const h=r(c.before,e),f=r(c.after,e),p=h>0,y=f<0;return l(c.before,c.after)?y&&p:p||y}return XM(c)?r(e,c.after)>0:QM(c)?r(c.before,e)>0:typeof c=="function"?c(e):!1})}function QB(e,t,n,i,s){const{disabled:r,hidden:l,modifiers:c,showOutsideDays:h,broadcastCalendar:f,today:p}=t,{isSameDay:y,isSameMonth:_,startOfMonth:w,isBefore:E,endOfMonth:A,isAfter:S}=s,D=n&&w(n),I=i&&A(i),L={[We.focused]:[],[We.outside]:[],[We.disabled]:[],[We.hidden]:[],[We.today]:[]},z={};for(const M of e){const{date:Y,displayMonth:C}=M,R=!!(C&&!_(Y,C)),P=!!(D&&E(Y,D)),j=!!(I&&S(Y,I)),U=!!(r&&Yr(Y,r,s)),$=!!(l&&Yr(Y,l,s))||P||j||!f&&!h&&R||f&&h===!1&&R,F=y(Y,p??s.today());R&&L.outside.push(M),U&&L.disabled.push(M),$&&L.hidden.push(M),F&&L.today.push(M),c&&Object.keys(c).forEach(Mt=>{const Q=c==null?void 0:c[Mt];Q&&Yr(Y,Q,s)&&(z[Mt]?z[Mt].push(M):z[Mt]=[M])})}return M=>{const Y={[We.focused]:!1,[We.disabled]:!1,[We.hidden]:!1,[We.outside]:!1,[We.today]:!1},C={};for(const R in L){const P=L[R];Y[R]=P.some(j=>j===M)}for(const R in z)C[R]=z[R].some(P=>P===M);return{...Y,...C}}}function ZB(e,t,n={}){return Object.entries(e).filter(([,s])=>s===!0).reduce((s,[r])=>(n[r]?s.push(n[r]):t[We[r]]?s.push(t[We[r]]):t[ys[r]]&&s.push(t[ys[r]]),s),[t[Ot.Day]])}function JB(e){return{...XB,...e}}function tF(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,i])=>{n.startsWith("data-")&&(t[n]=i)}),t}function eF(){const e={};for(const t in Ot)e[Ot[t]]=`rdp-${Ot[t]}`;for(const t in We)e[We[t]]=`rdp-${We[t]}`;for(const t in ys)e[ys[t]]=`rdp-${ys[t]}`;for(const t in Ui)e[Ui[t]]=`rdp-${Ui[t]}`;return e}function tI(e,t,n){return(n??new oa(t)).format(e,"LLLL y")}const nF=tI;function iF(e,t,n){return(n??new oa(t)).format(e,"d")}function sF(e,t=cr){return t.format(e,"LLLL")}function rF(e,t,n){return(n??new oa(t)).format(e,"cccccc")}function aF(e,t=cr){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function oF(){return""}function eI(e,t=cr){return t.format(e,"yyyy")}const lF=eI,cF=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:tI,formatDay:iF,formatMonthCaption:nF,formatMonthDropdown:sF,formatWeekNumber:aF,formatWeekNumberHeader:oF,formatWeekdayName:rF,formatYearCaption:lF,formatYearDropdown:eI},Symbol.toStringTag,{value:"Module"}));function uF(e){return e!=null&&e.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e!=null&&e.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...cF,...e}}function hF(e,t,n,i,s){const{startOfMonth:r,startOfYear:l,endOfYear:c,eachMonthOfInterval:h,getMonth:f}=s;return h({start:l(e),end:c(e)}).map(_=>{const w=i.formatMonthDropdown(_,s),E=f(_),A=t&&_<r(t)||n&&_>r(n)||!1;return{value:E,label:w,disabled:A}})}function fF(e,t={},n={}){let i={...t==null?void 0:t[Ot.Day]};return Object.entries(e).filter(([,s])=>s===!0).forEach(([s])=>{i={...i,...n==null?void 0:n[s]}}),i}function dF(e,t,n){const i=e.today(),s=t?e.startOfISOWeek(i):e.startOfWeek(i),r=[];for(let l=0;l<7;l++){const c=e.addDays(s,l);r.push(c)}return r}function pF(e,t,n,i,s=!1){if(!e||!t)return;const{startOfYear:r,endOfYear:l,addYears:c,getYear:h,isBefore:f,isSameYear:p}=i,y=r(e),_=l(t),w=[];let E=y;for(;f(E,_)||p(E,_);)w.push(E),E=c(E,1);return s&&w.reverse(),w.map(A=>{const S=n.formatYearDropdown(A,i);return{value:h(A),label:S,disabled:!1}})}function nI(e,t,n,i){let s=(i??new oa(n)).format(e,"PPPP");return t.today&&(s=`Today, ${s}`),t.selected&&(s=`${s}, selected`),s}const gF=nI;function iI(e,t,n){return(n??new oa(t)).format(e,"LLLL y")}const mF=iI;function yF(e,t,n,i){let s=(i??new oa(n)).format(e,"PPPP");return t!=null&&t.today&&(s=`Today, ${s}`),s}function _F(e){return"Choose the Month"}function bF(){return""}function vF(e){return"Go to the Next Month"}function xF(e){return"Go to the Previous Month"}function wF(e,t,n){return(n??new oa(t)).format(e,"cccc")}function EF(e,t){return`Week ${e}`}function SF(e){return"Week Number"}function TF(e){return"Choose the Year"}const AF=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:mF,labelDay:gF,labelDayButton:nI,labelGrid:iI,labelGridcell:yF,labelMonthDropdown:_F,labelNav:bF,labelNext:vF,labelPrevious:xF,labelWeekNumber:EF,labelWeekNumberHeader:SF,labelWeekday:wF,labelYearDropdown:TF},Symbol.toStringTag,{value:"Module"})),Zf=e=>e instanceof HTMLElement?e:null,Eb=e=>[...e.querySelectorAll("[data-animated-month]")??[]],kF=e=>Zf(e.querySelector("[data-animated-month]")),Sb=e=>Zf(e.querySelector("[data-animated-caption]")),Tb=e=>Zf(e.querySelector("[data-animated-weeks]")),RF=e=>Zf(e.querySelector("[data-animated-nav]")),CF=e=>Zf(e.querySelector("[data-animated-weekdays]"));function DF(e,t,{classNames:n,months:i,focused:s,dateLib:r}){const l=V.useRef(null),c=V.useRef(i),h=V.useRef(!1);V.useLayoutEffect(()=>{const f=c.current;if(c.current=i,!t||!e.current||!(e.current instanceof HTMLElement)||i.length===0||f.length===0||i.length!==f.length)return;const p=r.isSameMonth(i[0].date,f[0].date),y=r.isAfter(i[0].date,f[0].date),_=y?n[Ui.caption_after_enter]:n[Ui.caption_before_enter],w=y?n[Ui.weeks_after_enter]:n[Ui.weeks_before_enter],E=l.current,A=e.current.cloneNode(!0);if(A instanceof HTMLElement?(Eb(A).forEach(L=>{if(!(L instanceof HTMLElement))return;const z=kF(L);z&&L.contains(z)&&L.removeChild(z);const M=Sb(L);M&&M.classList.remove(_);const Y=Tb(L);Y&&Y.classList.remove(w)}),l.current=A):l.current=null,h.current||p||s)return;const S=E instanceof HTMLElement?Eb(E):[],D=Eb(e.current);if(D!=null&&D.every(I=>I instanceof HTMLElement)&&S&&S.every(I=>I instanceof HTMLElement)){h.current=!0,e.current.style.isolation="isolate";const I=RF(e.current);I&&(I.style.zIndex="1"),D.forEach((L,z)=>{const M=S[z];if(!M)return;L.style.position="relative",L.style.overflow="hidden";const Y=Sb(L);Y&&Y.classList.add(_);const C=Tb(L);C&&C.classList.add(w);const R=()=>{h.current=!1,e.current&&(e.current.style.isolation=""),I&&(I.style.zIndex=""),Y&&Y.classList.remove(_),C&&C.classList.remove(w),L.style.position="",L.style.overflow="",L.contains(M)&&L.removeChild(M)};M.style.pointerEvents="none",M.style.position="absolute",M.style.overflow="hidden",M.setAttribute("aria-hidden","true");const P=CF(M);P&&(P.style.opacity="0");const j=Sb(M);j&&(j.classList.add(y?n[Ui.caption_before_exit]:n[Ui.caption_after_exit]),j.addEventListener("animationend",R));const U=Tb(M);U&&U.classList.add(y?n[Ui.weeks_before_exit]:n[Ui.weeks_after_exit]),L.insertBefore(M,L.firstChild)})}})}function MF(e,t,n,i){const s=e[0],r=e[e.length-1],{ISOWeek:l,fixedWeeks:c,broadcastCalendar:h}=n??{},{addDays:f,differenceInCalendarDays:p,differenceInCalendarMonths:y,endOfBroadcastWeek:_,endOfISOWeek:w,endOfMonth:E,endOfWeek:A,isAfter:S,startOfBroadcastWeek:D,startOfISOWeek:I,startOfWeek:L}=i,z=h?D(s,i):l?I(s):L(s),M=h?_(r):l?w(E(r)):A(E(r)),Y=p(M,z),C=y(r,s)+1,R=[];for(let U=0;U<=Y;U++){const $=f(z,U);if(t&&S($,t))break;R.push($)}const j=(h?35:42)*C;if(c&&R.length<j){const U=j-R.length;for(let $=0;$<U;$++){const F=f(R[R.length-1],1);R.push(F)}}return R}function IF(e){const t=[];return e.reduce((n,i)=>{const s=i.weeks.reduce((r,l)=>r.concat(l.days.slice()),t.slice());return n.concat(s.slice())},t.slice())}function OF(e,t,n,i){const{numberOfMonths:s=1}=n,r=[];for(let l=0;l<s;l++){const c=i.addMonths(e,l);if(t&&c>t)break;r.push(c)}return r}function cA(e,t,n,i){const{month:s,defaultMonth:r,today:l=i.today(),numberOfMonths:c=1}=e;let h=s||r||l;const{differenceInCalendarMonths:f,addMonths:p,startOfMonth:y}=i;if(n&&f(n,h)<c-1){const _=-1*(c-1);h=p(n,_)}return t&&f(h,t)<0&&(h=t),y(h)}function PF(e,t,n,i){const{addDays:s,endOfBroadcastWeek:r,endOfISOWeek:l,endOfMonth:c,endOfWeek:h,getISOWeek:f,getWeek:p,startOfBroadcastWeek:y,startOfISOWeek:_,startOfWeek:w}=i,E=e.reduce((A,S)=>{const D=n.broadcastCalendar?y(S,i):n.ISOWeek?_(S):w(S),I=n.broadcastCalendar?r(S):n.ISOWeek?l(c(S)):h(c(S)),L=t.filter(C=>C>=D&&C<=I),z=n.broadcastCalendar?35:42;if(n.fixedWeeks&&L.length<z){const C=t.filter(R=>{const P=z-L.length;return R>I&&R<=s(I,P)});L.push(...C)}const M=L.reduce((C,R)=>{const P=n.ISOWeek?f(R):p(R),j=C.find($=>$.weekNumber===P),U=new YM(R,S,i);return j?j.days.push(U):C.push(new EB(P,[U])),C},[]),Y=new wB(S,M);return A.push(Y),A},[]);return n.reverseMonths?E.reverse():E}function NF(e,t){let{startMonth:n,endMonth:i}=e;const{startOfYear:s,startOfDay:r,startOfMonth:l,endOfMonth:c,addYears:h,endOfYear:f,newDate:p,today:y}=t,{fromYear:_,toYear:w,fromMonth:E,toMonth:A}=e;!n&&E&&(n=E),!n&&_&&(n=t.newDate(_,0,1)),!i&&A&&(i=A),!i&&w&&(i=p(w,11,31));const S=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=l(n):_?n=p(_,0,1):!n&&S&&(n=s(h(e.today??y(),-100))),i?i=c(i):w?i=p(w,11,31):!i&&S&&(i=f(e.today??y())),[n&&r(n),i&&r(i)]}function LF(e,t,n,i){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:r=1}=n,{startOfMonth:l,addMonths:c,differenceInCalendarMonths:h}=i,f=s?r:1,p=l(e);if(!t)return c(p,f);if(!(h(t,e)<r))return c(p,f)}function VF(e,t,n,i){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:r}=n,{startOfMonth:l,addMonths:c,differenceInCalendarMonths:h}=i,f=s?r??1:1,p=l(e);if(!t)return c(p,-f);if(!(h(p,t)<=0))return c(p,-f)}function jF(e){const t=[];return e.reduce((n,i)=>n.concat(i.weeks.slice()),t.slice())}function Hm(e,t){const[n,i]=V.useState(e);return[t===void 0?n:t,i]}function UF(e,t){const[n,i]=NF(e,t),{startOfMonth:s,endOfMonth:r}=t,l=cA(e,n,i,t),[c,h]=Hm(l,e.month?l:void 0);V.useEffect(()=>{const Y=cA(e,n,i,t);h(Y)},[e.timeZone]);const f=OF(c,i,e,t),p=MF(f,e.endMonth?r(e.endMonth):void 0,e,t),y=PF(f,p,e,t),_=jF(y),w=IF(y),E=VF(c,n,e,t),A=LF(c,i,e,t),{disableNavigation:S,onMonthChange:D}=e,I=Y=>_.some(C=>C.days.some(R=>R.isEqualTo(Y))),L=Y=>{if(S)return;let C=s(Y);n&&C<s(n)&&(C=s(n)),i&&C>s(i)&&(C=s(i)),h(C),D==null||D(C)};return{months:y,weeks:_,days:w,navStart:n,navEnd:i,previousMonth:E,nextMonth:A,goToMonth:L,goToDay:Y=>{I(Y)||L(Y.date)}}}var $s;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})($s||($s={}));function uA(e){return!e[We.disabled]&&!e[We.hidden]&&!e[We.outside]}function zF(e,t,n,i){let s,r=-1;for(const l of e){const c=t(l);uA(c)&&(c[We.focused]&&r<$s.FocusedModifier?(s=l,r=$s.FocusedModifier):i!=null&&i.isEqualTo(l)&&r<$s.LastFocused?(s=l,r=$s.LastFocused):n(l.date)&&r<$s.Selected?(s=l,r=$s.Selected):c[We.today]&&r<$s.Today&&(s=l,r=$s.Today))}return s||(s=e.find(l=>uA(t(l)))),s}function BF(e,t,n,i,s,r,l){const{ISOWeek:c,broadcastCalendar:h}=r,{addDays:f,addMonths:p,addWeeks:y,addYears:_,endOfBroadcastWeek:w,endOfISOWeek:E,endOfWeek:A,max:S,min:D,startOfBroadcastWeek:I,startOfISOWeek:L,startOfWeek:z}=l;let Y={day:f,week:y,month:p,year:_,startOfWeek:C=>h?I(C,l):c?L(C):z(C),endOfWeek:C=>h?w(C):c?E(C):A(C)}[e](n,t==="after"?1:-1);return t==="before"&&i?Y=S([i,Y]):t==="after"&&s&&(Y=D([s,Y])),Y}function sI(e,t,n,i,s,r,l,c=0){if(c>365)return;const h=BF(e,t,n.date,i,s,r,l),f=!!(r.disabled&&Yr(h,r.disabled,l)),p=!!(r.hidden&&Yr(h,r.hidden,l)),y=h,_=new YM(h,y,l);return!f&&!p?_:sI(e,t,_,i,s,r,l,c+1)}function FF(e,t,n,i,s){const{autoFocus:r}=e,[l,c]=V.useState(),h=zF(t.days,n,i||(()=>!1),l),[f,p]=V.useState(r?h:void 0);return{isFocusTarget:A=>!!(h!=null&&h.isEqualTo(A)),setFocused:p,focused:f,blur:()=>{c(f),p(void 0)},moveFocus:(A,S)=>{if(!f)return;const D=sI(A,S,f,t.navStart,t.navEnd,e,s);D&&(t.goToDay(D),p(D))}}}function qF(e,t){const{selected:n,required:i,onSelect:s}=e,[r,l]=Hm(n,s?n:void 0),c=s?n:r,{isSameDay:h}=t,f=w=>(c==null?void 0:c.some(E=>h(E,w)))??!1,{min:p,max:y}=e;return{selected:c,select:(w,E,A)=>{let S=[...c??[]];if(f(w)){if((c==null?void 0:c.length)===p||i&&(c==null?void 0:c.length)===1)return;S=c==null?void 0:c.filter(D=>!h(D,w))}else(c==null?void 0:c.length)===y?S=[w]:S=[...S,w];return s||l(S),s==null||s(S,w,E,A),S},isSelected:f}}function $F(e,t,n=0,i=0,s=!1,r=cr){const{from:l,to:c}=t||{},{isSameDay:h,isAfter:f,isBefore:p}=r;let y;if(!l&&!c)y={from:e,to:n>0?void 0:e};else if(l&&!c)h(l,e)?n===0?y={from:l,to:e}:s?y={from:l,to:void 0}:y=void 0:p(e,l)?y={from:e,to:l}:y={from:l,to:e};else if(l&&c)if(h(l,e)&&h(c,e))s?y={from:l,to:c}:y=void 0;else if(h(l,e))y={from:l,to:n>0?void 0:e};else if(h(c,e))y={from:e,to:n>0?void 0:e};else if(p(e,l))y={from:e,to:c};else if(f(e,l))y={from:l,to:e};else if(f(e,c))y={from:l,to:e};else throw new Error("Invalid range");if(y!=null&&y.from&&(y!=null&&y.to)){const _=r.differenceInCalendarDays(y.to,y.from);i>0&&_>i?y={from:e,to:void 0}:n>1&&_<n&&(y={from:e,to:void 0})}return y}function HF(e,t,n=cr){const i=Array.isArray(t)?t:[t];let s=e.from;const r=n.differenceInCalendarDays(e.to,e.from),l=Math.min(r,6);for(let c=0;c<=l;c++){if(i.includes(s.getDay()))return!0;s=n.addDays(s,1)}return!1}function hA(e,t,n=cr){return Wr(e,t.from,!1,n)||Wr(e,t.to,!1,n)||Wr(t,e.from,!1,n)||Wr(t,e.to,!1,n)}function WF(e,t,n=cr){const i=Array.isArray(t)?t:[t];if(i.filter(c=>typeof c!="function").some(c=>typeof c=="boolean"?c:n.isDate(c)?Wr(e,c,!1,n):JM(c,n)?c.some(h=>Wr(e,h,!1,n)):mx(c)?c.from&&c.to?hA(e,{from:c.from,to:c.to},n):!1:ZM(c)?HF(e,c.dayOfWeek,n):KM(c)?n.isAfter(c.before,c.after)?hA(e,{from:n.addDays(c.after,1),to:n.addDays(c.before,-1)},n):Yr(e.from,c,n)||Yr(e.to,c,n):XM(c)||QM(c)?Yr(e.from,c,n)||Yr(e.to,c,n):!1))return!0;const l=i.filter(c=>typeof c=="function");if(l.length){let c=e.from;const h=n.differenceInCalendarDays(e.to,e.from);for(let f=0;f<=h;f++){if(l.some(p=>p(c)))return!0;c=n.addDays(c,1)}}return!1}function YF(e,t){const{disabled:n,excludeDisabled:i,selected:s,required:r,onSelect:l}=e,[c,h]=Hm(s,l?s:void 0),f=l?s:c;return{selected:f,select:(_,w,E)=>{const{min:A,max:S}=e,D=_?$F(_,f,A,S,r,t):void 0;return i&&n&&(D!=null&&D.from)&&D.to&&WF({from:D.from,to:D.to},n,t)&&(D.from=_,D.to=void 0),l||h(D),l==null||l(D,_,w,E),D},isSelected:_=>f&&Wr(f,_,!1,t)}}function GF(e,t){const{selected:n,required:i,onSelect:s}=e,[r,l]=Hm(n,s?n:void 0),c=s?n:r,{isSameDay:h}=t;return{selected:c,select:(y,_,w)=>{let E=y;return!i&&c&&c&&h(y,c)&&(E=void 0),s||l(E),s==null||s(E,y,_,w),E},isSelected:y=>c?h(c,y):!1}}function KF(e,t){const n=GF(e,t),i=qF(e,t),s=YF(e,t);switch(e.mode){case"single":return n;case"multiple":return i;case"range":return s;default:return}}function XF(e){var la;let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new ri(t.today,t.timeZone)),t.month&&(t.month=new ri(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new ri(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new ri(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new ri(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new ri(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=(la=t.selected)==null?void 0:la.map(Ht=>new ri(Ht,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new ri(t.selected.from,t.timeZone):void 0,to:t.selected.to?new ri(t.selected.to,t.timeZone):void 0}));const{components:n,formatters:i,labels:s,dateLib:r,locale:l,classNames:c}=V.useMemo(()=>{const Ht={...gx,...t.locale};return{dateLib:new oa({locale:Ht,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:JB(t.components),formatters:uF(t.formatters),labels:{...AF,...t.labels},locale:Ht,classNames:{...eF(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:h,mode:f,navLayout:p,numberOfMonths:y=1,onDayBlur:_,onDayClick:w,onDayFocus:E,onDayKeyDown:A,onDayMouseEnter:S,onDayMouseLeave:D,onNextClick:I,onPrevClick:L,showWeekNumber:z,styles:M}=t,{formatCaption:Y,formatDay:C,formatMonthDropdown:R,formatWeekNumber:P,formatWeekNumberHeader:j,formatWeekdayName:U,formatYearDropdown:$}=i,F=UF(t,r),{days:Mt,months:Q,navStart:q,navEnd:G,previousMonth:ot,nextMonth:it,goToMonth:B}=F,st=QB(Mt,t,q,G,r),{isSelected:lt,select:ut,selected:X}=KF(t,r)??{},{blur:gt,focused:J,isFocusTarget:pt,moveFocus:yt,setFocused:vt}=FF(t,F,st,lt??(()=>!1),r),{labelDayButton:Tt,labelGridcell:Bt,labelGrid:ae,labelMonthDropdown:An,labelNav:Jn,labelPrevious:qi,labelNext:hi,labelWeekday:kn,labelWeekNumber:ur,labelWeekNumberHeader:bt,labelYearDropdown:It}=s,kt=V.useMemo(()=>dF(r,t.ISOWeek),[r,t.ISOWeek]),At=f!==void 0||w!==void 0,Qt=V.useCallback(()=>{ot&&(B(ot),L==null||L(ot))},[ot,B,L]),ti=V.useCallback(()=>{it&&(B(it),I==null||I(it))},[B,it,I]),bi=V.useCallback((Ht,ye)=>Vt=>{Vt.preventDefault(),Vt.stopPropagation(),vt(Ht),ut==null||ut(Ht.date,ye,Vt),w==null||w(Ht.date,ye,Vt)},[ut,w,vt]),me=V.useCallback((Ht,ye)=>Vt=>{vt(Ht),E==null||E(Ht.date,ye,Vt)},[E,vt]),pe=V.useCallback((Ht,ye)=>Vt=>{gt(),_==null||_(Ht.date,ye,Vt)},[gt,_]),fi=V.useCallback((Ht,ye)=>Vt=>{const he={ArrowLeft:[Vt.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[Vt.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[Vt.shiftKey?"year":"week","after"],ArrowUp:[Vt.shiftKey?"year":"week","before"],PageUp:[Vt.shiftKey?"year":"month","before"],PageDown:[Vt.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(he[Vt.key]){Vt.preventDefault(),Vt.stopPropagation();const[Cn,Wt]=he[Vt.key];yt(Cn,Wt)}A==null||A(Ht.date,ye,Vt)},[yt,A,t.dir]),Rn=V.useCallback((Ht,ye)=>Vt=>{S==null||S(Ht.date,ye,Vt)},[S]),Ml=V.useCallback((Ht,ye)=>Vt=>{D==null||D(Ht.date,ye,Vt)},[D]),pu=V.useCallback(Ht=>ye=>{const Vt=Number(ye.target.value),he=r.setMonth(r.startOfMonth(Ht),Vt);B(he)},[r,B]),hr=V.useCallback(Ht=>ye=>{const Vt=Number(ye.target.value),he=r.setYear(r.startOfMonth(Ht),Vt);B(he)},[r,B]),{className:fr,style:dr}=V.useMemo(()=>({className:[c[Ot.Root],t.className].filter(Boolean).join(" "),style:{...M==null?void 0:M[Ot.Root],...t.style}}),[c,t.className,t.style,M]),Ri=tF(t),pr=V.useRef(null);DF(pr,!!t.animate,{classNames:c,months:Q,focused:J,dateLib:r});const gr={dayPickerProps:t,selected:X,select:ut,isSelected:lt,months:Q,nextMonth:it,previousMonth:ot,goToMonth:B,getModifiers:st,components:n,classNames:c,styles:M,labels:s,formatters:i};return Et.createElement(GM.Provider,{value:gr},Et.createElement(n.Root,{rootRef:t.animate?pr:void 0,className:fr,style:dr,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...Ri},Et.createElement(n.Months,{className:c[Ot.Months],style:M==null?void 0:M[Ot.Months]},!t.hideNavigation&&!p&&Et.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[Ot.Nav],style:M==null?void 0:M[Ot.Nav],"aria-label":Jn(),onPreviousClick:Qt,onNextClick:ti,previousMonth:ot,nextMonth:it}),Q.map((Ht,ye)=>Et.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:c[Ot.Month],style:M==null?void 0:M[Ot.Month],key:ye,displayIndex:ye,calendarMonth:Ht},p==="around"&&!t.hideNavigation&&ye===0&&Et.createElement(n.PreviousMonthButton,{type:"button",className:c[Ot.PreviousMonthButton],tabIndex:ot?void 0:-1,"aria-disabled":ot?void 0:!0,"aria-label":qi(ot),onClick:Qt,"data-animated-button":t.animate?"true":void 0},Et.createElement(n.Chevron,{disabled:ot?void 0:!0,className:c[Ot.Chevron],orientation:t.dir==="rtl"?"right":"left"})),Et.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:c[Ot.MonthCaption],style:M==null?void 0:M[Ot.MonthCaption],calendarMonth:Ht,displayIndex:ye},h!=null&&h.startsWith("dropdown")?Et.createElement(n.DropdownNav,{className:c[Ot.Dropdowns],style:M==null?void 0:M[Ot.Dropdowns]},h==="dropdown"||h==="dropdown-months"?Et.createElement(n.MonthsDropdown,{className:c[Ot.MonthsDropdown],"aria-label":An(),classNames:c,components:n,disabled:!!t.disableNavigation,onChange:pu(Ht.date),options:hF(Ht.date,q,G,i,r),style:M==null?void 0:M[Ot.Dropdown],value:r.getMonth(Ht.date)}):Et.createElement("span",null,R(Ht.date,r)),h==="dropdown"||h==="dropdown-years"?Et.createElement(n.YearsDropdown,{className:c[Ot.YearsDropdown],"aria-label":It(r.options),classNames:c,components:n,disabled:!!t.disableNavigation,onChange:hr(Ht.date),options:pF(q,G,i,r,!!t.reverseYears),style:M==null?void 0:M[Ot.Dropdown],value:r.getYear(Ht.date)}):Et.createElement("span",null,$(Ht.date,r)),Et.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},Y(Ht.date,r.options,r))):Et.createElement(n.CaptionLabel,{className:c[Ot.CaptionLabel],role:"status","aria-live":"polite"},Y(Ht.date,r.options,r))),p==="around"&&!t.hideNavigation&&ye===y-1&&Et.createElement(n.NextMonthButton,{type:"button",className:c[Ot.NextMonthButton],tabIndex:it?void 0:-1,"aria-disabled":it?void 0:!0,"aria-label":hi(it),onClick:ti,"data-animated-button":t.animate?"true":void 0},Et.createElement(n.Chevron,{disabled:it?void 0:!0,className:c[Ot.Chevron],orientation:t.dir==="rtl"?"left":"right"})),ye===y-1&&p==="after"&&!t.hideNavigation&&Et.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[Ot.Nav],style:M==null?void 0:M[Ot.Nav],"aria-label":Jn(),onPreviousClick:Qt,onNextClick:ti,previousMonth:ot,nextMonth:it}),Et.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":f==="multiple"||f==="range","aria-label":ae(Ht.date,r.options,r)||void 0,className:c[Ot.MonthGrid],style:M==null?void 0:M[Ot.MonthGrid]},!t.hideWeekdays&&Et.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:c[Ot.Weekdays],style:M==null?void 0:M[Ot.Weekdays]},z&&Et.createElement(n.WeekNumberHeader,{"aria-label":bt(r.options),className:c[Ot.WeekNumberHeader],style:M==null?void 0:M[Ot.WeekNumberHeader],scope:"col"},j()),kt.map(Vt=>Et.createElement(n.Weekday,{"aria-label":kn(Vt,r.options,r),className:c[Ot.Weekday],key:String(Vt),style:M==null?void 0:M[Ot.Weekday],scope:"col"},U(Vt,r.options,r)))),Et.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:c[Ot.Weeks],style:M==null?void 0:M[Ot.Weeks]},Ht.weeks.map(Vt=>Et.createElement(n.Week,{className:c[Ot.Week],key:Vt.weekNumber,style:M==null?void 0:M[Ot.Week],week:Vt},z&&Et.createElement(n.WeekNumber,{week:Vt,style:M==null?void 0:M[Ot.WeekNumber],"aria-label":ur(Vt.weekNumber,{locale:l}),className:c[Ot.WeekNumber],scope:"row",role:"rowheader"},P(Vt.weekNumber,r)),Vt.days.map(he=>{const{date:Cn}=he,Wt=st(he);if(Wt[We.focused]=!Wt.hidden&&!!(J!=null&&J.isEqualTo(he)),Wt[ys.selected]=(lt==null?void 0:lt(Cn))||Wt.selected,mx(X)){const{from:$i,to:ua}=X;Wt[ys.range_start]=!!($i&&ua&&r.isSameDay(Cn,$i)),Wt[ys.range_end]=!!($i&&ua&&r.isSameDay(Cn,ua)),Wt[ys.range_middle]=Wr(X,Cn,!0,r)}const vo=fF(Wt,M,t.modifiersStyles),As=ZB(Wt,c,t.modifiersClassNames),ca=!At&&!Wt.hidden?Bt(Cn,Wt,r.options,r):void 0;return Et.createElement(n.Day,{key:`${r.format(Cn,"yyyy-MM-dd")}_${r.format(he.displayMonth,"yyyy-MM")}`,day:he,modifiers:Wt,className:As.join(" "),style:vo,role:"gridcell","aria-selected":Wt.selected||void 0,"aria-label":ca,"data-day":r.format(Cn,"yyyy-MM-dd"),"data-month":he.outside?r.format(Cn,"yyyy-MM"):void 0,"data-selected":Wt.selected||void 0,"data-disabled":Wt.disabled||void 0,"data-hidden":Wt.hidden||void 0,"data-outside":he.outside||void 0,"data-focused":Wt.focused||void 0,"data-today":Wt.today||void 0},!Wt.hidden&&At?Et.createElement(n.DayButton,{className:c[Ot.DayButton],style:M==null?void 0:M[Ot.DayButton],type:"button",day:he,modifiers:Wt,disabled:Wt.disabled||void 0,tabIndex:pt(he)?0:-1,"aria-label":Tt(Cn,Wt,r.options,r),onClick:bi(he,Wt),onBlur:pe(he,Wt),onFocus:me(he,Wt),onKeyDown:fi(he,Wt),onMouseEnter:Rn(he,Wt),onMouseLeave:Ml(he,Wt)},C(Cn,r.options,r)):!Wt.hidden&&C(he.date,r.options,r))})))))))),t.footer&&Et.createElement(n.Footer,{className:c[Ot.Footer],style:M==null?void 0:M[Ot.Footer],role:"status","aria-live":"polite"},t.footer)))}const QF="/pdms-test/assets/calendar-arrow-BfXL-r2k.png";function ZF({value:e,onApply:t,placeholder:n="요청 기간 선택",autoCloseOnComplete:i=!0}){var A;const[s,r]=V.useState({start:(e==null?void 0:e.start)??null,end:(e==null?void 0:e.end)??null}),[l,c]=V.useState(((A=e==null?void 0:e.start)==null?void 0:A.getFullYear())??new Date().getFullYear()),[h,f]=V.useState(!1),p=V.useMemo(()=>{const S=D=>`${D.getFullYear()}.${String(D.getMonth()+1).padStart(2,"0")}.${String(D.getDate()).padStart(2,"0")}`;return s.start&&s.end?`${S(s.start)} ~ ${S(s.end)}`:s.start?`${S(s.start)} ~`:""},[s]),y=new Date().getMonth(),_=V.useRef(null);V.useEffect(()=>{if(h&&_.current){const S=_.current.querySelectorAll(".month-box")[y];S&&S.scrollIntoView({block:"start"})}},[h]);const w=V.useRef(null);V.useEffect(()=>{const S=D=>{w.current&&!w.current.contains(D.target)&&f(!1)};return h&&document.addEventListener("click",S),()=>{document.removeEventListener("click",S)}},[h]),V.useEffect(()=>{const S=L=>L instanceof Date?new Date(L.getFullYear(),L.getMonth(),L.getDate()).getTime():null,D=(e==null?void 0:e.start)??null,I=(e==null?void 0:e.end)??null;(S(s.start)!==S(D)||S(s.end)!==S(I))&&(r({start:D,end:I}),c((D==null?void 0:D.getFullYear())??new Date().getFullYear()))},[e==null?void 0:e.start,e==null?void 0:e.end]);const E=S=>{if(!s.start||s.start&&s.end){r({start:S,end:null});return}if(s.start&&!s.end)if(S<s.start)r({start:S,end:null});else{const D={start:s.start,end:S};r(D),t==null||t(D),i&&f(!1)}};return v.jsxs(JF,{ref:w,children:[v.jsx(uq,{}),v.jsx(tq,{value:p,placeholder:n,readOnly:!0,onClick:()=>f(S=>!S)}),h&&v.jsxs(nq,{children:[v.jsxs(iq,{children:[v.jsx(sq,{dir:"prev",onClick:()=>c(S=>S-1)}),v.jsx("span",{children:l}),v.jsx(rq,{dir:"next",onClick:()=>c(S=>S+1)})]}),v.jsx(aq,{children:["일","월","화","수","목","금","토"].map(S=>v.jsx("span",{children:S},S))}),v.jsx(eq,{children:v.jsx(oq,{ref:_,children:Array.from({length:12}).map((S,D)=>{const I=new Date(l,D,1),L=M=>new Date(M.getFullYear(),M.getMonth(),M.getDate()).getTime(),z=M=>M.getFullYear()===I.getFullYear()&&M.getMonth()===I.getMonth();return v.jsxs(lq,{className:"month-box",children:[v.jsx(cq,{children:String(D+1).padStart(2,"0")}),v.jsx(XF,{mode:"single",month:I,selected:void 0,onDayClick:E,showOutsideDays:!1,modifiers:{start:M=>!!s.start&&z(M)&&L(M)===L(s.start),end:M=>!!s.end&&z(M)&&L(M)===L(s.end),middle:M=>{if(!s.start||!s.end||!z(M))return!1;const Y=L(M),C=L(s.start),R=L(s.end);return Y>C&&Y<R},todayInMonth:M=>{const Y=new Date;return z(M)&&M.getFullYear()===Y.getFullYear()&&M.getMonth()===Y.getMonth()&&M.getDate()===Y.getDate()}},modifiersClassNames:{start:"sel-start",end:"sel-end",middle:"sel-mid",todayInMonth:"sel-today"}})]},D)})})})]})]})}const JF=H.div`
  position: relative;
  width: 215px;
  margin-right: 8px;
  font-family: 'Pretendard';
`,tq=H.input`
  width: 100%;
  padding: 11.5px 12px;
  border: 1px solid ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.gray02)||"#d0d5dd"}};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  cursor: pointer;

  &::placeholder {
    color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.black}};
  }
  
  &:focus {
    outline: none;
    border-color: ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.black)||"#111"}};
  }
`,eq=H.div`
  overflow-y: auto;
  max-height: 385px;

  /* ===== Firefox ===== */
  scrollbar-width: thin;
  scrollbar-color: ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.gray03)||"#c9ced6"}}
                    transparent;

  &::-webkit-scrollbar {
    width: 10px !important;
  }

  /* ===== WebKit (Chrome/Edge/Safari) ===== */
  &::-webkit-scrollbar-button {
    display: none !important;
    width: 0 !important;
    height: 0 !important;
    background: transparent !important;
    border: none !important;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: ${({theme:e})=>{var t;return((t=e==null?void 0:e.colors)==null?void 0:t.gray04)||"#aeb4be"}};
  }
`,nq=H.div`
  position: absolute;
  top: 60px;
  left: 0;
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 10px;
  z-index: 100;
  width: 380px;
  max-height: 480px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
`,iq=H.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  height: 46px;
  font-weight: 700;
  font-size: 15px;
  background-color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.gray02}};
`,rI=H.button`
  width: 48px;
  height: 100%;
  background-image: url(${QF});
  background-repeat: no-repeat;
`,sq=H(rI)``,rq=H(rI)`
  background-position: -50px 0;  /* 오른쪽 프레임만 노출 */
`,aq=H.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  height: 46px;
  font-size: 12px;
  padding: 0 11px;
  border-bottom: 1px solid ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.gray03}};

  span {
    flex: 1;
    font-size: 15px;
    font-weight: 700;
    text-align: center;
    color: #757575;
  }
`,oq=H.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding-left: 12px;
`,lq=H.div`
  .rdp-months {
    width: 100%;

    table {
      width: 100%;
    }
  }

  .rdp-tbody {
    display: contents !important; /* table body 제거 */
  }

  .rdp-row {
    display: contents !important; /* tr 제거 */
  }

  .rdp-cell {
    display: flex !important;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
  }

  .rdp-day {
    font-size: 13px;
    line-height: 31px;
    border: none;
    text-align: center;
    cursor: pointer;

    & button {
      width: 100%;
      padding: 8px 0;
      font-family: 'Pretendard';
    }
  }

  /* ✅ 오늘 날짜 강조 */
  .sel-today {
    background-color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.black}};
    font-weight: 700;

    button {
      color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.white01}};
    }
  }

  /* ❶ 라이브러리 기본 range 클래스 전부 무력화 (혹시 붙어도 표시 안 되게) */
  .rdp-range_start,
  .rdp-range_middle,
  .rdp-range_end {
    background: none !important;
    color: inherit !important;
  }

  /* ❷ 우리가 지정한 커스텀 클래스만 색칠 */
  .sel-start,
  .sel-end,
  .sel-mid {
    background-color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.red}} !important;

    & button {
      color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.white01}};
    }
  }
`,cq=H.div`
  font-size: 16px;
  font-weight: 700;
  margin-top: 20px;
  padding-left: 15px;
  color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.black}};
`,uq=ZR`
  .rdp-month_caption, .rdp-weekday, .rdp-nav {
    display: none !important;
  }
`,Vc="진행 상태 선택",vh="요청자 선택",xh="디자이너 선택",wh="회사 선택",hq=new Set(["PushComz"].map(e=>e.toLowerCase())),Ab={start:null,end:null},fq=e=>e===3?"manager":e===2?"designer":"requester",dq={requester:[Vc,"대기","진행중","검수중","완료","취소"],manager:[Vc,"대기","진행중","검수중","검수요청","완료","취소"],designer:[Vc,"대기","진행중","검수요청","완료","취소"]},pq=(e,t)=>{if(e==="manager"){if(t==="검수중")return"검수요청";if(t==="검수요청")return"검수중"}return t};function gq({onApplyStatus:e,onApplyRange:t,isManager:n=!1,requesterOptions:i=[],onApplyRequester:s,designerOptions:r=[],companyOptions:l=[],onApplyCompany:c,onApplyDesigner:h,roleNumber:f}){const[p,y]=V.useState(Ab),[_,w]=V.useState(Vc),[E,A]=V.useState(vh),[S,D]=V.useState(xh),[I,L]=V.useState(wh),z=()=>{w(Vc),y(Ab),A(vh),D(xh),L(wh),e(Vc),t(Ab),s==null||s(vh),h==null||h(xh),c==null||c(wh)},M=fq(f),Y=dq[M];return v.jsxs(mq,{children:[v.jsx(ZF,{value:p,onApply:C=>{y(C),t(C)}}),M!=="requester"&&v.jsxs(Op,{"aria-label":"회사 선택",value:I,onChange:C=>{const R=C.target.value;L(R),c==null||c(R)},children:[v.jsx("option",{value:wh,children:wh}),(l||[]).filter(C=>!!C&&!hq.has(String(C).toLowerCase())).map(C=>v.jsx("option",{value:C,children:C},C))]}),n&&v.jsxs(v.Fragment,{children:[v.jsxs(Op,{"aria-label":"요청자 선택",value:E,onChange:C=>{A(C.target.value),s==null||s(C.target.value)},children:[v.jsx("option",{value:vh,children:vh}),i.map(C=>v.jsx("option",{value:C,children:C},C))]}),v.jsxs(Op,{"aria-label":"디자이너 선택",value:S,onChange:C=>{const R=C.target.value;D(R),h==null||h(R)},children:[v.jsx("option",{value:xh,children:xh}),r.map(C=>v.jsx("option",{value:C,children:C},C))]})]}),v.jsx(Op,{value:_,onChange:C=>{const R=C.target.value,P=pq(M,R);w(R),e(P)},children:Y.map(C=>v.jsx("option",{value:C,children:C},C))}),v.jsx(yq,{type:"button",onClick:z,children:"필터 초기화"})]})}const mq=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
`,Op=H.select`
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;

  width: 150px;
  height: 48px;
  margin-right: 8px;
  padding: 0 12px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 400;
  color: ${({theme:e})=>e.colors.black};
  background-color: ${({theme:e})=>e.colors.white01};
  background-image: url(${px});
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 16px 16px;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.black};
  }
`,yq=H.button`
  padding: 11.5px 10px;
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 400;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,_q="/pdms-test/assets/search-icon-g0O6fOpZ.svg";function bq({keyword:e,onKeywordChange:t,onSearch:n}){const i=s=>{t(s),n(s.trim())};return v.jsx(vq,{children:v.jsx(xq,{placeholder:"문서번호와 작업항목을 검색해 주세요.",value:e,onChange:s=>i(s.target.value),onKeyDown:s=>{s.key==="Escape"&&i("")}})})}const vq=H.div`
  position: relative;
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  padding: 11.5px 14.5px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;

  /* 🔍 아이콘: 버튼 제거하고 래퍼에 ::after로 표시 */
  &::after {
    content: "";
    position: absolute;
    right: 12px;
    top: 50%;
    display: block;
    width: 24px;
    height: 24px;
    background: url(${_q}) no-repeat center / contain;
    transform: translateY(-50%);
  }
`,xq=H.input`
  width: 458px;
  margin-right: 12px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;
`;function Rf({onApplyStatus:e,onApplyRange:t,onSearch:n,keyword:i,onKeywordChange:s,isManager:r=!1,requesterOptions:l=[],onApplyRequester:c,designerOptions:h=[],companyOptions:f=[],onApplyCompany:p,onApplyDesigner:y,roleNumber:_}){return v.jsxs(wq,{children:[v.jsx(gq,{onApplyStatus:e,onApplyRange:t,isManager:r,requesterOptions:l,onApplyRequester:c,designerOptions:h,companyOptions:f,onApplyCompany:p,onApplyDesigner:y,roleNumber:_}),v.jsx(bq,{keyword:i,onKeywordChange:s,onSearch:n})]})}const wq=H.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  padding: 24px 0 30px;
`;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Jf(e){return e+.5|0}const Ya=(e,t,n)=>Math.max(Math.min(e,n),t);function Bh(e){return Ya(Jf(e*2.55),0,255)}function so(e){return Ya(Jf(e*255),0,255)}function qr(e){return Ya(Jf(e/2.55)/100,0,1)}function fA(e){return Ya(Jf(e*100),0,100)}const ss={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},U0=[..."0123456789ABCDEF"],Eq=e=>U0[e&15],Sq=e=>U0[(e&240)>>4]+U0[e&15],Pp=e=>(e&240)>>4===(e&15),Tq=e=>Pp(e.r)&&Pp(e.g)&&Pp(e.b)&&Pp(e.a);function Aq(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&ss[e[1]]*17,g:255&ss[e[2]]*17,b:255&ss[e[3]]*17,a:t===5?ss[e[4]]*17:255}:(t===7||t===9)&&(n={r:ss[e[1]]<<4|ss[e[2]],g:ss[e[3]]<<4|ss[e[4]],b:ss[e[5]]<<4|ss[e[6]],a:t===9?ss[e[7]]<<4|ss[e[8]]:255})),n}const kq=(e,t)=>e<255?t(e):"";function Rq(e){var t=Tq(e)?Eq:Sq;return e?"#"+t(e.r)+t(e.g)+t(e.b)+kq(e.a,t):void 0}const Cq=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function aI(e,t,n){const i=t*Math.min(n,1-n),s=(r,l=(r+e/30)%12)=>n-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function Dq(e,t,n){const i=(s,r=(s+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function Mq(e,t,n){const i=aI(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function Iq(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function yx(e){const n=e.r/255,i=e.g/255,s=e.b/255,r=Math.max(n,i,s),l=Math.min(n,i,s),c=(r+l)/2;let h,f,p;return r!==l&&(p=r-l,f=c>.5?p/(2-r-l):p/(r+l),h=Iq(n,i,s,p,r),h=h*60+.5),[h|0,f||0,c]}function _x(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(so)}function bx(e,t,n){return _x(aI,e,t,n)}function Oq(e,t,n){return _x(Mq,e,t,n)}function Pq(e,t,n){return _x(Dq,e,t,n)}function oI(e){return(e%360+360)%360}function Nq(e){const t=Cq.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Bh(+t[5]):so(+t[5]));const s=oI(+t[2]),r=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=Oq(s,r,l):t[1]==="hsv"?i=Pq(s,r,l):i=bx(s,r,l),{r:i[0],g:i[1],b:i[2],a:n}}function Lq(e,t){var n=yx(e);n[0]=oI(n[0]+t),n=bx(n),e.r=n[0],e.g=n[1],e.b=n[2]}function Vq(e){if(!e)return;const t=yx(e),n=t[0],i=fA(t[1]),s=fA(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${qr(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const dA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},pA={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function jq(){const e={},t=Object.keys(pA),n=Object.keys(dA);let i,s,r,l,c;for(i=0;i<t.length;i++){for(l=c=t[i],s=0;s<n.length;s++)r=n[s],c=c.replace(r,dA[r]);r=parseInt(pA[l],16),e[c]=[r>>16&255,r>>8&255,r&255]}return e}let Np;function Uq(e){Np||(Np=jq(),Np.transparent=[0,0,0,0]);const t=Np[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const zq=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Bq(e){const t=zq.exec(e);let n=255,i,s,r;if(t){if(t[7]!==i){const l=+t[7];n=t[8]?Bh(l):Ya(l*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?Bh(i):Ya(i,0,255)),s=255&(t[4]?Bh(s):Ya(s,0,255)),r=255&(t[6]?Bh(r):Ya(r,0,255)),{r:i,g:s,b:r,a:n}}}function Fq(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${qr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const kb=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,wc=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function qq(e,t,n){const i=wc(qr(e.r)),s=wc(qr(e.g)),r=wc(qr(e.b));return{r:so(kb(i+n*(wc(qr(t.r))-i))),g:so(kb(s+n*(wc(qr(t.g))-s))),b:so(kb(r+n*(wc(qr(t.b))-r))),a:e.a+n*(t.a-e.a)}}function Lp(e,t,n){if(e){let i=yx(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=bx(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function lI(e,t){return e&&Object.assign(t||{},e)}function gA(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=so(e[3]))):(t=lI(e,{r:0,g:0,b:0,a:1}),t.a=so(t.a)),t}function $q(e){return e.charAt(0)==="r"?Bq(e):Nq(e)}class Cf{constructor(t){if(t instanceof Cf)return t;const n=typeof t;let i;n==="object"?i=gA(t):n==="string"&&(i=Aq(t)||Uq(t)||$q(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=lI(this._rgb);return t&&(t.a=qr(t.a)),t}set rgb(t){this._rgb=gA(t)}rgbString(){return this._valid?Fq(this._rgb):void 0}hexString(){return this._valid?Rq(this._rgb):void 0}hslString(){return this._valid?Vq(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let r;const l=n===r?.5:n,c=2*l-1,h=i.a-s.a,f=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;r=1-f,i.r=255&f*i.r+r*s.r+.5,i.g=255&f*i.g+r*s.g+.5,i.b=255&f*i.b+r*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=qq(this._rgb,t._rgb,n)),this}clone(){return new Cf(this.rgb)}alpha(t){return this._rgb.a=so(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Jf(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Lp(this._rgb,2,t),this}darken(t){return Lp(this._rgb,2,-t),this}saturate(t){return Lp(this._rgb,1,t),this}desaturate(t){return Lp(this._rgb,1,-t),this}rotate(t){return Lq(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ur(){}const Hq=(()=>{let e=0;return()=>e++})();function Yt(e){return e==null}function je(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ne(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Ze(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ji(e,t){return Ze(e)?e:t}function qt(e,t){return typeof e>"u"?t:e}const Wq=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,cI=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ce(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function ve(e,t,n,i){let s,r,l;if(je(e))for(r=e.length,s=0;s<r;s++)t.call(n,e[s],s);else if(ne(e))for(l=Object.keys(e),r=l.length,s=0;s<r;s++)t.call(n,e[l[s]],l[s])}function nm(e,t){let n,i,s,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],r=t[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function im(e){if(je(e))return e.map(im);if(ne(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=im(e[n[s]]);return t}return e}function uI(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Yq(e,t,n,i){if(!uI(e))return;const s=t[e],r=n[e];ne(s)&&ne(r)?rr(s,r,i):t[e]=im(r)}function rr(e,t,n){const i=je(t)?t:[t],s=i.length;if(!ne(e))return e;n=n||{};const r=n.merger||Yq;let l;for(let c=0;c<s;++c){if(l=i[c],!ne(l))continue;const h=Object.keys(l);for(let f=0,p=h.length;f<p;++f)r(h[f],e,l,n)}return e}function Jh(e,t){return rr(e,t,{merger:Gq})}function Gq(e,t,n){if(!uI(e))return;const i=t[e],s=n[e];ne(i)&&ne(s)?Jh(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=im(s))}const mA={"":e=>e,x:e=>e.x,y:e=>e.y};function Kq(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function Xq(e){const t=Kq(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function fo(e,t){return(mA[t]||(mA[t]=Xq(t)))(e)}function vx(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Df=e=>typeof e<"u",po=e=>typeof e=="function",yA=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function Qq(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const de=Math.PI,Ue=2*de,Zq=Ue+de,sm=Number.POSITIVE_INFINITY,Jq=de/180,sn=de/2,Xo=de/4,_A=de*2/3,Ga=Math.log10,nr=Math.sign;function tf(e,t,n){return Math.abs(e-t)<n}function bA(e){const t=Math.round(e);e=tf(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Ga(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function t8(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,r)=>s-r).pop(),t}function e8(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Jc(e){return!e8(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function n8(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function hI(e,t,n){let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function _s(e){return e*(de/180)}function xx(e){return e*(180/de)}function vA(e){if(!Ze(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function fI(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*de&&(r+=Ue),{angle:r,distance:s}}function z0(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function i8(e,t){return(e-t+Zq)%Ue-de}function oi(e){return(e%Ue+Ue)%Ue}function Mf(e,t,n,i){const s=oi(e),r=oi(t),l=oi(n),c=oi(r-s),h=oi(l-s),f=oi(s-r),p=oi(s-l);return s===r||s===l||i&&r===l||c>h&&f<p}function zn(e,t,n){return Math.max(t,Math.min(n,e))}function s8(e){return zn(e,-32768,32767)}function Gr(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function wx(e,t,n){n=n||(l=>e[l]<t);let i=e.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Kr=(e,t,n,i)=>wx(e,n,i?s=>{const r=e[s][t];return r<n||r===n&&e[s+1][t]===n}:s=>e[s][t]<n),r8=(e,t,n)=>wx(e,n,i=>e[i][t]>=n);function a8(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const dI=["push","pop","shift","splice","unshift"];function o8(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),dI.forEach(n=>{const i="_onData"+vx(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const l=s.apply(this,r);return e._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...r)}),l}})})}function xA(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(dI.forEach(r=>{delete e[r]}),delete e._chartjs)}function pI(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const gI=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function mI(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,gI.call(window,()=>{i=!1,e.apply(t,n)}))}}function l8(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const Ex=e=>e==="start"?"left":e==="end"?"right":"center",si=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,c8=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function yI(e,t,n){const i=t.length;let s=0,r=i;if(e._sorted){const{iScale:l,vScale:c,_parsed:h}=e,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,p=l.axis,{min:y,max:_,minDefined:w,maxDefined:E}=l.getUserBounds();if(w){if(s=Math.min(Kr(h,p,y).lo,n?i:Kr(t,p,l.getPixelForValue(y)).lo),f){const A=h.slice(0,s+1).reverse().findIndex(S=>!Yt(S[c.axis]));s-=Math.max(0,A)}s=zn(s,0,i-1)}if(E){let A=Math.max(Kr(h,l.axis,_,!0).hi+1,n?0:Kr(t,p,l.getPixelForValue(_),!0).hi+1);if(f){const S=h.slice(A-1).findIndex(D=>!Yt(D[c.axis]));A+=Math.max(0,S)}r=zn(A,s,i)-s}else r=i-s}return{start:s,count:r}}function _I(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const Vp=e=>e===0||e===1,wA=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ue/n)),EA=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ue/n)+1,ef={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*sn)+1,easeOutSine:e=>Math.sin(e*sn),easeInOutSine:e=>-.5*(Math.cos(de*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Vp(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Vp(e)?e:wA(e,.075,.3),easeOutElastic:e=>Vp(e)?e:EA(e,.075,.3),easeInOutElastic(e){return Vp(e)?e:e<.5?.5*wA(e*2,.1125,.45):.5+.5*EA(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-ef.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?ef.easeInBounce(e*2)*.5:ef.easeOutBounce(e*2-1)*.5+.5};function Sx(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function SA(e){return Sx(e)?e:new Cf(e)}function Rb(e){return Sx(e)?e:new Cf(e).saturate(.5).darken(.1).hexString()}const u8=["x","y","borderWidth","radius","tension"],h8=["color","borderColor","backgroundColor"];function f8(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:h8},numbers:{type:"number",properties:u8}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function d8(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const TA=new Map;function p8(e,t){t=t||{};const n=e+JSON.stringify(t);let i=TA.get(n);return i||(i=new Intl.NumberFormat(e,t),TA.set(n,i)),i}function td(e,t,n){return p8(t,n).format(e)}const bI={values(e){return je(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,r=e;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),r=g8(e,n)}const l=Ga(Math.abs(r)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),td(e,i,h)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(Ga(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?bI.numeric.call(this,e,t,n):""}};function g8(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Wm={formatters:bI};function m8(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Wm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const wl=Object.create(null),B0=Object.create(null);function nf(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];e=e[r]||(e[r]=Object.create(null))}return e}function Cb(e,t,n){return typeof t=="string"?rr(nf(e,t),n):rr(nf(e,""),t)}class y8{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Rb(s.backgroundColor),this.hoverBorderColor=(i,s)=>Rb(s.borderColor),this.hoverColor=(i,s)=>Rb(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Cb(this,t,n)}get(t){return nf(this,t)}describe(t,n){return Cb(B0,t,n)}override(t,n){return Cb(wl,t,n)}route(t,n,i,s){const r=nf(this,t),l=nf(this,i),c="_"+n;Object.defineProperties(r,{[c]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[c],f=l[s];return ne(h)?Object.assign({},f,h):qt(h,f)},set(h){this[c]=h}}})}apply(t){t.forEach(n=>n(this))}}var ze=new y8({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[f8,d8,m8]);function _8(e){return!e||Yt(e.size)||Yt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function rm(e,t,n,i,s){let r=t[s];return r||(r=t[s]=e.measureText(s).width,n.push(s)),r>i&&(i=r),i}function b8(e,t,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let l=0;const c=n.length;let h,f,p,y,_;for(h=0;h<c;h++)if(y=n[h],y!=null&&!je(y))l=rm(e,s,r,l,y);else if(je(y))for(f=0,p=y.length;f<p;f++)_=y[f],_!=null&&!je(_)&&(l=rm(e,s,r,l,_));e.restore();const w=r.length/2;if(w>n.length){for(h=0;h<w;h++)delete s[r[h]];r.splice(0,w)}return l}function Qo(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function AA(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function F0(e,t,n,i){vI(e,t,n,i,null)}function vI(e,t,n,i,s){let r,l,c,h,f,p,y,_;const w=t.pointStyle,E=t.rotation,A=t.radius;let S=(E||0)*Jq;if(w&&typeof w=="object"&&(r=w.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(S),e.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),e.restore();return}if(!(isNaN(A)||A<=0)){switch(e.beginPath(),w){default:s?e.ellipse(n,i,s/2,A,0,0,Ue):e.arc(n,i,A,0,Ue),e.closePath();break;case"triangle":p=s?s/2:A,e.moveTo(n+Math.sin(S)*p,i-Math.cos(S)*A),S+=_A,e.lineTo(n+Math.sin(S)*p,i-Math.cos(S)*A),S+=_A,e.lineTo(n+Math.sin(S)*p,i-Math.cos(S)*A),e.closePath();break;case"rectRounded":f=A*.516,h=A-f,l=Math.cos(S+Xo)*h,y=Math.cos(S+Xo)*(s?s/2-f:h),c=Math.sin(S+Xo)*h,_=Math.sin(S+Xo)*(s?s/2-f:h),e.arc(n-y,i-c,f,S-de,S-sn),e.arc(n+_,i-l,f,S-sn,S),e.arc(n+y,i+c,f,S,S+sn),e.arc(n-_,i+l,f,S+sn,S+de),e.closePath();break;case"rect":if(!E){h=Math.SQRT1_2*A,p=s?s/2:h,e.rect(n-p,i-h,2*p,2*h);break}S+=Xo;case"rectRot":y=Math.cos(S)*(s?s/2:A),l=Math.cos(S)*A,c=Math.sin(S)*A,_=Math.sin(S)*(s?s/2:A),e.moveTo(n-y,i-c),e.lineTo(n+_,i-l),e.lineTo(n+y,i+c),e.lineTo(n-_,i+l),e.closePath();break;case"crossRot":S+=Xo;case"cross":y=Math.cos(S)*(s?s/2:A),l=Math.cos(S)*A,c=Math.sin(S)*A,_=Math.sin(S)*(s?s/2:A),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"star":y=Math.cos(S)*(s?s/2:A),l=Math.cos(S)*A,c=Math.sin(S)*A,_=Math.sin(S)*(s?s/2:A),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l),S+=Xo,y=Math.cos(S)*(s?s/2:A),l=Math.cos(S)*A,c=Math.sin(S)*A,_=Math.sin(S)*(s?s/2:A),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"line":l=s?s/2:Math.cos(S)*A,c=Math.sin(S)*A,e.moveTo(n-l,i-c),e.lineTo(n+l,i+c);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(S)*(s?s/2:A),i+Math.sin(S)*A);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Xr(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Ym(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Gm(e){e.restore()}function v8(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function x8(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function w8(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Yt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function E8(e,t,n,i,s){if(s.strikethrough||s.underline){const r=e.measureText(i),l=t-r.actualBoundingBoxLeft,c=t+r.actualBoundingBoxRight,h=n-r.actualBoundingBoxAscent,f=n+r.actualBoundingBoxDescent,p=s.strikethrough?(h+f)/2:f;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(l,p),e.lineTo(c,p),e.stroke()}}function S8(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function El(e,t,n,i,s,r={}){const l=je(t)?t:[t],c=r.strokeWidth>0&&r.strokeColor!=="";let h,f;for(e.save(),e.font=s.string,w8(e,r),h=0;h<l.length;++h)f=l[h],r.backdrop&&S8(e,r.backdrop),c&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),Yt(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(f,n,i,r.maxWidth)),e.fillText(f,n,i,r.maxWidth),E8(e,n,i,f,r),i+=Number(s.lineHeight);e.restore()}function If(e,t){const{x:n,y:i,w:s,h:r,radius:l}=t;e.arc(n+l.topLeft,i+l.topLeft,l.topLeft,1.5*de,de,!0),e.lineTo(n,i+r-l.bottomLeft),e.arc(n+l.bottomLeft,i+r-l.bottomLeft,l.bottomLeft,de,sn,!0),e.lineTo(n+s-l.bottomRight,i+r),e.arc(n+s-l.bottomRight,i+r-l.bottomRight,l.bottomRight,sn,0,!0),e.lineTo(n+s,i+l.topRight),e.arc(n+s-l.topRight,i+l.topRight,l.topRight,0,-sn,!0),e.lineTo(n+l.topLeft,i)}const T8=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,A8=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function k8(e,t){const n=(""+e).match(T8);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const R8=e=>+e||0;function Tx(e,t){const n={},i=ne(t),s=i?Object.keys(t):t,r=ne(e)?i?l=>qt(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of s)n[l]=R8(r(l));return n}function xI(e){return Tx(e,{top:"y",right:"x",bottom:"y",left:"x"})}function fl(e){return Tx(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Zn(e){const t=xI(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function _n(e,t){e=e||{},t=t||ze.font;let n=qt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=qt(e.style,t.style);i&&!(""+i).match(A8)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:qt(e.family,t.family),lineHeight:k8(qt(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:qt(e.weight,t.weight),string:""};return s.string=_8(s),s}function Ve(e,t,n,i){let s,r,l;for(s=0,r=e.length;s<r;++s)if(l=e[s],l!==void 0&&(t!==void 0&&typeof l=="function"&&(l=l(t)),n!==void 0&&je(l)&&(l=l[n%l.length]),l!==void 0))return l}function C8(e,t,n){const{min:i,max:s}=e,r=cI(t,(s-i)/2),l=(c,h)=>n&&c===0?0:c+h;return{min:l(i,-Math.abs(r)),max:l(s,r)}}function bo(e,t){return Object.assign(Object.create(e),t)}function Ax(e,t=[""],n,i,s=()=>e[0]){const r=n||e;typeof i>"u"&&(i=TI("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:i,_getTarget:s,override:c=>Ax([c,...e],t,r,i)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete e[0][h],!0},get(c,h){return EI(c,h,()=>V8(h,t,e,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(c,h){return RA(c).includes(h)},ownKeys(c){return RA(c)},set(c,h,f){const p=c._storage||(c._storage=s());return c[h]=p[h]=f,delete c._keys,!0}})}function tu(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:wI(e,i),setContext:r=>tu(e,r,n,i),override:r=>tu(e.override(r),t,n,i)};return new Proxy(s,{deleteProperty(r,l){return delete r[l],delete e[l],!0},get(r,l,c){return EI(r,l,()=>M8(r,l,c))},getOwnPropertyDescriptor(r,l){return r._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(r,l,c){return e[l]=c,delete r[l],!0}})}function wI(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:po(n)?n:()=>n,isIndexable:po(i)?i:()=>i}}const D8=(e,t)=>e?e+vx(t):t,kx=(e,t)=>ne(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function EI(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function M8(e,t,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:l}=e;let c=i[t];return po(c)&&l.isScriptable(t)&&(c=I8(t,c,e,n)),je(c)&&c.length&&(c=O8(t,c,e,l.isIndexable)),kx(t,c)&&(c=tu(c,s,r&&r[t],l)),c}function I8(e,t,n,i){const{_proxy:s,_context:r,_subProxy:l,_stack:c}=n;if(c.has(e))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+e);c.add(e);let h=t(r,l||i);return c.delete(e),kx(e,h)&&(h=Rx(s._scopes,s,e,h)),h}function O8(e,t,n,i){const{_proxy:s,_context:r,_subProxy:l,_descriptors:c}=n;if(typeof r.index<"u"&&i(e))return t[r.index%t.length];if(ne(t[0])){const h=t,f=s._scopes.filter(p=>p!==h);t=[];for(const p of h){const y=Rx(f,s,e,p);t.push(tu(y,r,l&&l[e],c))}}return t}function SI(e,t,n){return po(e)?e(t,n):e}const P8=(e,t)=>e===!0?t:typeof e=="string"?fo(t,e):void 0;function N8(e,t,n,i,s){for(const r of t){const l=P8(n,r);if(l){e.add(l);const c=SI(l._fallback,n,s);if(typeof c<"u"&&c!==n&&c!==i)return c}else if(l===!1&&typeof i<"u"&&n!==i)return null}return!1}function Rx(e,t,n,i){const s=t._rootScopes,r=SI(t._fallback,n,i),l=[...e,...s],c=new Set;c.add(i);let h=kA(c,l,n,r||n,i);return h===null||typeof r<"u"&&r!==n&&(h=kA(c,l,r,h,i),h===null)?!1:Ax(Array.from(c),[""],s,r,()=>L8(t,n,i))}function kA(e,t,n,i,s){for(;n;)n=N8(e,t,n,i,s);return n}function L8(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return je(s)&&ne(n)?n:s||{}}function V8(e,t,n,i){let s;for(const r of t)if(s=TI(D8(r,e),n),typeof s<"u")return kx(e,s)?Rx(n,i,e,s):s}function TI(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function RA(e){let t=e._keys;return t||(t=e._keys=j8(e._scopes)),t}function j8(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function AI(e,t,n,i){const{iScale:s}=e,{key:r="r"}=this._parsing,l=new Array(i);let c,h,f,p;for(c=0,h=i;c<h;++c)f=c+n,p=t[f],l[c]={r:s.parse(fo(p,r),f)};return l}const U8=Number.EPSILON||1e-14,eu=(e,t)=>t<e.length&&!e[t].skip&&e[t],kI=e=>e==="x"?"y":"x";function z8(e,t,n,i){const s=e.skip?t:e,r=t,l=n.skip?t:n,c=z0(r,s),h=z0(l,r);let f=c/(c+h),p=h/(c+h);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const y=i*f,_=i*p;return{previous:{x:r.x-y*(l.x-s.x),y:r.y-y*(l.y-s.y)},next:{x:r.x+_*(l.x-s.x),y:r.y+_*(l.y-s.y)}}}function B8(e,t,n){const i=e.length;let s,r,l,c,h,f=eu(e,0);for(let p=0;p<i-1;++p)if(h=f,f=eu(e,p+1),!(!h||!f)){if(tf(t[p],0,U8)){n[p]=n[p+1]=0;continue}s=n[p]/t[p],r=n[p+1]/t[p],c=Math.pow(s,2)+Math.pow(r,2),!(c<=9)&&(l=3/Math.sqrt(c),n[p]=s*l*t[p],n[p+1]=r*l*t[p])}}function F8(e,t,n="x"){const i=kI(n),s=e.length;let r,l,c,h=eu(e,0);for(let f=0;f<s;++f){if(l=c,c=h,h=eu(e,f+1),!c)continue;const p=c[n],y=c[i];l&&(r=(p-l[n])/3,c[`cp1${n}`]=p-r,c[`cp1${i}`]=y-r*t[f]),h&&(r=(h[n]-p)/3,c[`cp2${n}`]=p+r,c[`cp2${i}`]=y+r*t[f])}}function q8(e,t="x"){const n=kI(t),i=e.length,s=Array(i).fill(0),r=Array(i);let l,c,h,f=eu(e,0);for(l=0;l<i;++l)if(c=h,h=f,f=eu(e,l+1),!!h){if(f){const p=f[t]-h[t];s[l]=p!==0?(f[n]-h[n])/p:0}r[l]=c?f?nr(s[l-1])!==nr(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}B8(e,s,r),F8(e,r,t)}function jp(e,t,n){return Math.max(Math.min(e,n),t)}function $8(e,t){let n,i,s,r,l,c=Xr(e[0],t);for(n=0,i=e.length;n<i;++n)l=r,r=c,c=n<i-1&&Xr(e[n+1],t),r&&(s=e[n],l&&(s.cp1x=jp(s.cp1x,t.left,t.right),s.cp1y=jp(s.cp1y,t.top,t.bottom)),c&&(s.cp2x=jp(s.cp2x,t.left,t.right),s.cp2y=jp(s.cp2y,t.top,t.bottom)))}function H8(e,t,n,i,s){let r,l,c,h;if(t.spanGaps&&(e=e.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")q8(e,s);else{let f=i?e[e.length-1]:e[0];for(r=0,l=e.length;r<l;++r)c=e[r],h=z8(f,c,e[Math.min(r+1,l-(i?0:1))%l],t.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,f=c}t.capBezierPoints&&$8(e,n)}function Cx(){return typeof window<"u"&&typeof document<"u"}function Dx(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function am(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const Km=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function W8(e,t){return Km(e).getPropertyValue(t)}const Y8=["top","right","bottom","left"];function dl(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=Y8[s];i[r]=parseFloat(e[t+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const G8=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function K8(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:r}=i;let l=!1,c,h;if(G8(s,r,e.target))c=s,h=r;else{const f=t.getBoundingClientRect();c=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:c,y:h,box:l}}function il(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=Km(n),r=s.boxSizing==="border-box",l=dl(s,"padding"),c=dl(s,"border","width"),{x:h,y:f,box:p}=K8(e,n),y=l.left+(p&&c.left),_=l.top+(p&&c.top);let{width:w,height:E}=t;return r&&(w-=l.width+c.width,E-=l.height+c.height),{x:Math.round((h-y)/w*n.width/i),y:Math.round((f-_)/E*n.height/i)}}function X8(e,t,n){let i,s;if(t===void 0||n===void 0){const r=e&&Dx(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const l=r.getBoundingClientRect(),c=Km(r),h=dl(c,"border","width"),f=dl(c,"padding");t=l.width-f.width-h.width,n=l.height-f.height-h.height,i=am(c.maxWidth,r,"clientWidth"),s=am(c.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:i||sm,maxHeight:s||sm}}const Up=e=>Math.round(e*10)/10;function Q8(e,t,n,i){const s=Km(e),r=dl(s,"margin"),l=am(s.maxWidth,e,"clientWidth")||sm,c=am(s.maxHeight,e,"clientHeight")||sm,h=X8(e,t,n);let{width:f,height:p}=h;if(s.boxSizing==="content-box"){const _=dl(s,"border","width"),w=dl(s,"padding");f-=w.width+_.width,p-=w.height+_.height}return f=Math.max(0,f-r.width),p=Math.max(0,i?f/i:p-r.height),f=Up(Math.min(f,l,h.maxWidth)),p=Up(Math.min(p,c,h.maxHeight)),f&&!p&&(p=Up(f/2)),(t!==void 0||n!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,f=Up(Math.floor(p*i))),{width:f,height:p}}function CA(e,t,n){const i=t||1,s=Math.floor(e.height*i),r=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||l.height!==s||l.width!==r?(e.currentDevicePixelRatio=i,l.height=s,l.width=r,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Z8=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Cx()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function DA(e,t){const n=W8(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function sl(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function J8(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function t$(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},l=sl(e,s,n),c=sl(s,r,n),h=sl(r,t,n),f=sl(l,c,n),p=sl(c,h,n);return sl(f,p,n)}const e$=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},n$=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function jc(e,t,n){return e?e$(t,n):n$()}function RI(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function CI(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function DI(e){return e==="angle"?{between:Mf,compare:i8,normalize:oi}:{between:Gr,compare:(t,n)=>t-n,normalize:t=>t}}function MA({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function i$(e,t,n){const{property:i,start:s,end:r}=n,{between:l,normalize:c}=DI(i),h=t.length;let{start:f,end:p,loop:y}=e,_,w;if(y){for(f+=h,p+=h,_=0,w=h;_<w&&l(c(t[f%h][i]),s,r);++_)f--,p--;f%=h,p%=h}return p<f&&(p+=h),{start:f,end:p,loop:y,style:e.style}}function MI(e,t,n){if(!n)return[e];const{property:i,start:s,end:r}=n,l=t.length,{compare:c,between:h,normalize:f}=DI(i),{start:p,end:y,loop:_,style:w}=i$(e,t,n),E=[];let A=!1,S=null,D,I,L;const z=()=>h(s,L,D)&&c(s,L)!==0,M=()=>c(r,D)===0||h(r,L,D),Y=()=>A||z(),C=()=>!A||M();for(let R=p,P=p;R<=y;++R)I=t[R%l],!I.skip&&(D=f(I[i]),D!==L&&(A=h(D,s,r),S===null&&Y()&&(S=c(D,s)===0?R:P),S!==null&&C()&&(E.push(MA({start:S,end:R,loop:_,count:l,style:w})),S=null),P=R,L=D));return S!==null&&E.push(MA({start:S,end:y,loop:_,count:l,style:w})),E}function II(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const r=MI(i[s],e.points,t);r.length&&n.push(...r)}return n}function s$(e,t,n,i){let s=0,r=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(r+=s);r>s&&e[r%t].skip;)r--;return r%=t,{start:s,end:r}}function r$(e,t,n,i){const s=e.length,r=[];let l=t,c=e[t],h;for(h=t+1;h<=n;++h){const f=e[h%s];f.skip||f.stop?c.skip||(i=!1,r.push({start:t%s,end:(h-1)%s,loop:i}),t=l=f.stop?h:null):(l=h,c.skip&&(t=h)),c=f}return l!==null&&r.push({start:t%s,end:l%s,loop:i}),r}function a$(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const r=!!e._loop,{start:l,end:c}=s$(n,s,r,i);if(i===!0)return IA(e,[{start:l,end:c,loop:r}],n,t);const h=c<l?c+s:c,f=!!e._fullLoop&&l===0&&c===s-1;return IA(e,r$(n,l,h,f),n,t)}function IA(e,t,n,i){return!i||!i.setContext||!n?t:o$(e,t,n,i)}function o$(e,t,n,i){const s=e._chart.getContext(),r=OA(e.options),{_datasetIndex:l,options:{spanGaps:c}}=e,h=n.length,f=[];let p=r,y=t[0].start,_=y;function w(E,A,S,D){const I=c?-1:1;if(E!==A){for(E+=h;n[E%h].skip;)E-=I;for(;n[A%h].skip;)A+=I;E%h!==A%h&&(f.push({start:E%h,end:A%h,loop:S,style:D}),p=D,y=A%h)}}for(const E of t){y=c?y:E.start;let A=n[y%h],S;for(_=y+1;_<=E.end;_++){const D=n[_%h];S=OA(i.setContext(bo(s,{type:"segment",p0:A,p1:D,p0DataIndex:(_-1)%h,p1DataIndex:_%h,datasetIndex:l}))),l$(S,p)&&w(y,_-1,E.loop,p),A=D,p=S}y<_-1&&w(y,_-1,E.loop,p)}return f}function OA(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function l$(e,t){if(!t)return!1;const n=[],i=function(s,r){return Sx(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(e,i)!==JSON.stringify(t,i)}function zp(e,t,n){return e.options.clip?e[n]:t[n]}function c$(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:zp(n,t,"left"),right:zp(n,t,"right"),top:zp(i,t,"top"),bottom:zp(i,t,"bottom")}:t}function OI(e,t){const n=t._clip;if(n.disabled)return!1;const i=c$(t,e.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class u${constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const r=n.listeners[s],l=n.duration;r.forEach(c=>c({chart:t,initial:n.initial,numSteps:l,currentStep:Math.min(i-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=gI.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let l=r.length-1,c=!1,h;for(;l>=0;--l)h=r[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),c=!0):(r[l]=r[r.length-1],r.pop());c&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var zr=new u$;const PA="transparent",h$={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=SA(e||PA),s=i.valid&&SA(t||PA);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class f${constructor(t,n,i,s){const r=n[i];s=Ve([t.to,s,r,t.from]);const l=Ve([t.from,r,s]);this._active=!0,this._fn=t.fn||h$[t.type||typeof l],this._easing=ef[t.easing]||ef.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,l=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Ve([t.to,n,s,t.from]),this._from=Ve([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,r=this._from,l=this._loop,c=this._to;let h;if(this._active=r!==c&&(l||n<i),!this._active){this._target[s]=c,this._notify(!0);return}if(n<0){this._target[s]=r;return}h=n/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(r,c,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class PI{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ne(t))return;const n=Object.keys(ze.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!ne(r))return;const l={};for(const c of n)l[c]=r[c];(je(r.properties)&&r.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,l)})})}_animateOptions(t,n){const i=n.options,s=p$(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&d$(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,n){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),l=Object.keys(n),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(t,n));continue}const p=n[f];let y=r[f];const _=i.get(f);if(y)if(_&&y.active()){y.update(_,p,c);continue}else y.cancel();if(!_||!_.duration){t[f]=p;continue}r[f]=y=new f$(_,t,f,p),s.push(y)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return zr.add(this._chart,i),!0}}function d$(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=e[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function p$(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function NA(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function g$(e,t,n){if(n===!1)return!1;const i=NA(e,n),s=NA(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function m$(e){let t,n,i,s;return ne(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function NI(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function LA(e,t,n,i={}){const s=e.keys,r=i.mode==="single";let l,c,h,f;if(t===null)return;let p=!1;for(l=0,c=s.length;l<c;++l){if(h=+s[l],h===n){if(p=!0,i.all)continue;break}f=e.values[h],Ze(f)&&(r||t===0||nr(t)===nr(f))&&(t+=f)}return!p&&!i.all?0:t}function y$(e,t){const{iScale:n,vScale:i}=t,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",l=Object.keys(e),c=new Array(l.length);let h,f,p;for(h=0,f=l.length;h<f;++h)p=l[h],c[h]={[s]:p,[r]:e[p]};return c}function Db(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function _$(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function b$(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function v$(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function VA(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=e[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function jA(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:r,vScale:l,index:c}=i,h=r.axis,f=l.axis,p=_$(r,l,i),y=t.length;let _;for(let w=0;w<y;++w){const E=t[w],{[h]:A,[f]:S}=E,D=E._stacks||(E._stacks={});_=D[f]=v$(s,p,A),_[c]=S,_._top=VA(_,l,!0,i.type),_._bottom=VA(_,l,!1,i.type);const I=_._visualValues||(_._visualValues={});I[c]=S}}function Mb(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function x$(e,t){return bo(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function w$(e,t,n){return bo(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Eh(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Ib=e=>e==="reset"||e==="none",UA=(e,t)=>t?e:Object.assign({},e),E$=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:NI(n,!0),values:null};class xs{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Db(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Eh(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(y,_,w,E)=>y==="x"?_:y==="r"?E:w,r=n.xAxisID=qt(i.xAxisID,Mb(t,"x")),l=n.yAxisID=qt(i.yAxisID,Mb(t,"y")),c=n.rAxisID=qt(i.rAxisID,Mb(t,"r")),h=n.indexAxis,f=n.iAxisID=s(h,r,l,c),p=n.vAxisID=s(h,l,r,c);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&xA(this._data,this),t._stacked&&Eh(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(ne(n)){const s=this._cachedMeta;this._data=y$(n,s)}else if(i!==n){if(i){xA(i,this);const s=this._cachedMeta;Eh(s),s._parsed=[]}n&&Object.isExtensible(n)&&o8(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=Db(n.vScale,n),n.stack!==i.stack&&(s=!0,Eh(n),n.stack=i.stack),this._resyncElements(t),(s||r!==n._stacked)&&(jA(this,n._parsed),n._stacked=Db(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:l}=i,c=r.axis;let h=t===0&&n===s.length?!0:i._sorted,f=t>0&&i._parsed[t-1],p,y,_;if(this._parsing===!1)i._parsed=s,i._sorted=!0,_=s;else{je(s[t])?_=this.parseArrayData(i,s,t,n):ne(s[t])?_=this.parseObjectData(i,s,t,n):_=this.parsePrimitiveData(i,s,t,n);const w=()=>y[c]===null||f&&y[c]<f[c];for(p=0;p<n;++p)i._parsed[p+t]=y=_[p],h&&(w()&&(h=!1),f=y);i._sorted=h}l&&jA(this,_)}parsePrimitiveData(t,n,i,s){const{iScale:r,vScale:l}=t,c=r.axis,h=l.axis,f=r.getLabels(),p=r===l,y=new Array(s);let _,w,E;for(_=0,w=s;_<w;++_)E=_+i,y[_]={[c]:p||r.parse(f[E],E),[h]:l.parse(n[E],E)};return y}parseArrayData(t,n,i,s){const{xScale:r,yScale:l}=t,c=new Array(s);let h,f,p,y;for(h=0,f=s;h<f;++h)p=h+i,y=n[p],c[h]={x:r.parse(y[0],p),y:l.parse(y[1],p)};return c}parseObjectData(t,n,i,s){const{xScale:r,yScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=new Array(s);let p,y,_,w;for(p=0,y=s;p<y;++p)_=p+i,w=n[_],f[p]={x:r.parse(fo(w,c),_),y:l.parse(fo(w,h),_)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,r=this._cachedMeta,l=n[t.axis],c={keys:NI(s,!0),values:n._stacks[t.axis]._visualValues};return LA(c,l,r.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const r=i[n.axis];let l=r===null?NaN:r;const c=s&&i._stacks[n.axis];s&&c&&(s.values=c,l=LA(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,l=s.length,c=this._getOtherScale(t),h=E$(n,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=b$(c);let _,w;function E(){w=s[_];const A=w[c.axis];return!Ze(w[t.axis])||p>A||y<A}for(_=0;_<l&&!(!E()&&(this.updateRangeFromParsed(f,t,w,h),r));++_);if(r){for(_=l-1;_>=0;--_)if(!E()){this.updateRangeFromParsed(f,t,w,h);break}}return f}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,r,l;for(s=0,r=n.length;s<r;++s)l=n[s][t.axis],Ze(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=m$(qt(this.options.clip,g$(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||s.length-c,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,r,c,h),p=c;p<c+h;++p){const y=s[p];y.hidden||(y.active&&f?l.push(y):y.draw(t,r))}for(p=0;p<l.length;++p)l[p].draw(t,r)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];r=l.$context||(l.$context=w$(this.getContext(),t,l)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=x$(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",r=this._cachedDataOpts,l=t+"-"+n,c=r[l],h=this.enableOptionSharing&&Df(i);if(c)return UA(c,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),y=s?[`${t}Hover`,"hover",t,""]:[t,""],_=f.getOptionScopes(this.getDataset(),p),w=Object.keys(ze.elements[t]),E=()=>this.getContext(i,s,n),A=f.resolveNamedOptions(_,w,E,y);return A.$shared&&(A.$shared=h,r[l]=Object.freeze(UA(A,h))),A}_resolveAnimations(t,n,i){const s=this.chart,r=this._cachedDataOpts,l=`animation-${n}`,c=r[l];if(c)return c;let h;if(s.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,n),_=p.getOptionScopes(this.getDataset(),y);h=p.createResolver(_,this.getContext(t,i,n))}const f=new PI(s,h&&h.animations);return h&&h._cacheable&&(r[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Ib(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,r=this.getSharedOptions(i),l=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:l}}updateElement(t,n,i,s){Ib(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!Ib(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[c,h,f]of this._syncList)this[c](h,f);this._syncList=[];const s=i.length,r=n.length,l=Math.min(r,s);l&&this.parse(0,l),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,n,i=!0){const s=this._cachedMeta,r=s.data,l=t+n;let c;const h=f=>{for(f.length+=n,c=f.length-1;c>=l;c--)f[c]=f[c-n]};for(h(r),c=t;c<l;++c)r[c]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(t,n),i&&this.updateElements(r,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&Eh(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}wt(xs,"defaults",{}),wt(xs,"datasetElementType",null),wt(xs,"dataElementType",null);function S$(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=pI(i.sort((s,r)=>s-r))}return e._cache.$bar}function T$(e){const t=e.iScale,n=S$(t,e.type);let i=t._length,s,r,l,c;const h=()=>{l===32767||l===-32768||(Df(c)&&(i=Math.min(i,Math.abs(l-c)||i)),c=l)};for(s=0,r=n.length;s<r;++s)l=t.getPixelForValue(n[s]),h();for(c=void 0,s=0,r=t.ticks.length;s<r;++s)l=t.getPixelForTick(s),h();return i}function A$(e,t,n,i){const s=n.barThickness;let r,l;return Yt(s)?(r=t.min*n.categoryPercentage,l=n.barPercentage):(r=s*i,l=1),{chunk:r/i,ratio:l,start:t.pixels[e]-r/2}}function k$(e,t,n,i){const s=t.pixels,r=s[e];let l=e>0?s[e-1]:null,c=e<s.length-1?s[e+1]:null;const h=n.categoryPercentage;l===null&&(l=r-(c===null?t.end-t.start:c-r)),c===null&&(c=r+r-l);const f=r-(r-Math.min(l,c))/2*h;return{chunk:Math.abs(c-l)/2*h/i,ratio:n.barPercentage,start:f}}function R$(e,t,n,i){const s=n.parse(e[0],i),r=n.parse(e[1],i),l=Math.min(s,r),c=Math.max(s,r);let h=l,f=c;Math.abs(l)>Math.abs(c)&&(h=c,f=l),t[n.axis]=f,t._custom={barStart:h,barEnd:f,start:s,end:r,min:l,max:c}}function LI(e,t,n,i){return je(e)?R$(e,t,n,i):t[n.axis]=n.parse(e,i),t}function zA(e,t,n,i){const s=e.iScale,r=e.vScale,l=s.getLabels(),c=s===r,h=[];let f,p,y,_;for(f=n,p=n+i;f<p;++f)_=t[f],y={},y[s.axis]=c||s.parse(l[f],f),h.push(LI(_,y,r,f));return h}function Ob(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function C$(e,t,n){return e!==0?nr(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function D$(e){let t,n,i,s,r;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:t,top:s,bottom:r}}function M$(e,t,n,i){let s=t.borderSkipped;const r={};if(!s){e.borderSkipped=r;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:h,top:f,bottom:p}=D$(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=f:(n._bottom||0)===i?s=p:(r[BA(p,l,c,h)]=!0,s=f)),r[BA(s,l,c,h)]=!0,e.borderSkipped=r}function BA(e,t,n,i){return i?(e=I$(e,t,n),e=FA(e,n,t)):e=FA(e,t,n),e}function I$(e,t,n){return e===t?n:e===n?t:e}function FA(e,t,n){return e==="start"?t:e==="end"?n:e}function O$(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Sg extends xs{parsePrimitiveData(t,n,i,s){return zA(t,n,i,s)}parseArrayData(t,n,i,s){return zA(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:r,vScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=r.axis==="x"?c:h,p=l.axis==="x"?c:h,y=[];let _,w,E,A;for(_=i,w=i+s;_<w;++_)A=n[_],E={},E[r.axis]=r.parse(fo(A,f),_),y.push(LI(fo(A,p),E,l,_));return y}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(t),l=r._custom,c=Ob(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const r=s==="reset",{index:l,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),f=c.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:_}=this._getSharedOptions(n,s);for(let w=n;w<n+i;w++){const E=this.getParsed(w),A=r||Yt(E[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(w),S=this._calculateBarIndexPixels(w,p),D=(E._stacks||{})[c.axis],I={horizontal:f,base:A.base,enableBorderRadius:!D||Ob(E._custom)||l===D._top||l===D._bottom,x:f?A.head:S.center,y:f?S.center:A.head,height:f?S.size:Math.abs(A.size),width:f?Math.abs(A.size):S.size};_&&(I.options=y||this.resolveDataElementOptions(w,t[w].active?"active":s));const L=I.options||t[w].options;M$(I,L,D,l),O$(I,L,p.ratio),this.updateElement(t[w],w,I,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),r=i.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(n),h=c&&c[i.axis],f=p=>{const y=p._parsed.find(w=>w[i.axis]===h),_=y&&y[p.vScale.axis];if(Yt(_)||isNaN(_))return!0};for(const p of s)if(!(n!==void 0&&f(p))&&((r===!1||l.indexOf(p.stack)===-1||r===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[qt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,i){const s=this._getStacks(t,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,l;for(r=0,l=n.data.length;r<l;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const c=t.barThickness;return{min:c||T$(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:l}}=this,c=r||0,h=this.getParsed(t),f=h._custom,p=Ob(f);let y=h[n.axis],_=0,w=i?this.applyStack(n,h,i):y,E,A;w!==y&&(_=w-y,w=y),p&&(y=f.barStart,w=f.barEnd-f.barStart,y!==0&&nr(y)!==nr(f.barEnd)&&(_=0),_+=y);const S=!Yt(r)&&!p?r:_;let D=n.getPixelForValue(S);if(this.chart.getDataVisibility(t)?E=n.getPixelForValue(_+w):E=D,A=E-D,Math.abs(A)<l){A=C$(A,n,c)*l,y===c&&(D-=A/2);const I=n.getPixelForDecimal(0),L=n.getPixelForDecimal(1),z=Math.min(I,L),M=Math.max(I,L);D=Math.max(Math.min(D,M),z),E=D+A,i&&!p&&(h._stacks[n.axis]._visualValues[s]=n.getValueForPixel(E)-n.getValueForPixel(D))}if(D===n.getPixelForValue(c)){const I=nr(A)*n.getLineWidthForValue(c)/2;D+=I,A-=I}return{size:A,base:D,head:E,center:E+A/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,r=s.skipNull,l=qt(s.maxBarThickness,1/0);let c,h;const f=this._getAxisCount();if(n.grouped){const p=r?this._getStackCount(t):n.stackCount,y=s.barThickness==="flex"?k$(t,n,s,p*f):A$(t,n,s,p*f),_=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,w=this._getAxis().indexOf(qt(_,this.getFirstScaleIdForIndexAxis())),E=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0)+w;c=y.start+y.chunk*E+y.chunk/2,h=Math.min(l,y.chunk*y.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(l,n.min*n.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}wt(Sg,"id","bar"),wt(Sg,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),wt(Sg,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Tg extends xs{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,s){const r=super.parsePrimitiveData(t,n,i,s);for(let l=0;l<r.length;l++)r[l]._custom=this.resolveDataElementOptions(l+i).radius;return r}parseArrayData(t,n,i,s){const r=super.parseArrayData(t,n,i,s);for(let l=0;l<r.length;l++){const c=n[i+l];r[l]._custom=qt(c[2],this.resolveDataElementOptions(l+i).radius)}return r}parseObjectData(t,n,i,s){const r=super.parseObjectData(t,n,i,s);for(let l=0;l<r.length;l++){const c=n[i+l];r[l]._custom=qt(c&&c.r&&+c.r,this.resolveDataElementOptions(l+i).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,l=this.getParsed(t),c=s.getLabelForValue(l.x),h=r.getLabelForValue(l.y),f=l._custom;return{label:i[t]||"",value:"("+c+", "+h+(f?", "+f:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:l,vScale:c}=this._cachedMeta,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,s),p=l.axis,y=c.axis;for(let _=n;_<n+i;_++){const w=t[_],E=!r&&this.getParsed(_),A={},S=A[p]=r?l.getPixelForDecimal(.5):l.getPixelForValue(E[p]),D=A[y]=r?c.getBasePixel():c.getPixelForValue(E[y]);A.skip=isNaN(S)||isNaN(D),f&&(A.options=h||this.resolveDataElementOptions(_,w.active?"active":s),r&&(A.options.radius=0)),this.updateElement(w,_,A,s)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=qt(i&&i._custom,r),s}}wt(Tg,"id","bubble"),wt(Tg,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),wt(Tg,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function P$(e,t,n){let i=1,s=1,r=0,l=0;if(t<Ue){const c=e,h=c+t,f=Math.cos(c),p=Math.sin(c),y=Math.cos(h),_=Math.sin(h),w=(L,z,M)=>Mf(L,c,h,!0)?1:Math.max(z,z*n,M,M*n),E=(L,z,M)=>Mf(L,c,h,!0)?-1:Math.min(z,z*n,M,M*n),A=w(0,f,y),S=w(sn,p,_),D=E(de,f,y),I=E(de+sn,p,_);i=(A-D)/2,s=(S-I)/2,r=-(A+D)/2,l=-(S+I)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:l}}class ll extends xs{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=h=>+i[h];if(ne(i[t])){const{key:h="value"}=this._parsing;r=f=>+fo(i[f],h)}let l,c;for(l=t,c=t+n;l<c;++l)s._parsed[l]=r(l)}}_getRotation(){return _s(this.options.rotation-90)}_getCircumference(){return _s(this.options.circumference)}_getRotationExtents(){let t=Ue,n=-Ue;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),l=s._getCircumference();t=Math.min(t,r),n=Math.max(n,r+l)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(Wq(this.options.cutout,c),1),f=this._getRingWeight(this.index),{circumference:p,rotation:y}=this._getRotationExtents(),{ratioX:_,ratioY:w,offsetX:E,offsetY:A}=P$(y,p,h),S=(i.width-l)/_,D=(i.height-l)/w,I=Math.max(Math.min(S,D)/2,0),L=cI(this.options.radius,I),z=Math.max(L*h,0),M=(L-z)/this._getVisibleDatasetWeightTotal();this.offsetX=E*L,this.offsetY=A*L,s.total=this.calculateTotal(),this.outerRadius=L-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*f,0),this.updateElements(r,0,r.length,t)}_circumference(t,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*r/Ue)}updateElements(t,n,i,s){const r=s==="reset",l=this.chart,c=l.chartArea,f=l.options.animation,p=(c.left+c.right)/2,y=(c.top+c.bottom)/2,_=r&&f.animateScale,w=_?0:this.innerRadius,E=_?0:this.outerRadius,{sharedOptions:A,includeOptions:S}=this._getSharedOptions(n,s);let D=this._getRotation(),I;for(I=0;I<n;++I)D+=this._circumference(I,r);for(I=n;I<n+i;++I){const L=this._circumference(I,r),z=t[I],M={x:p+this.offsetX,y:y+this.offsetY,startAngle:D,endAngle:D+L,circumference:L,outerRadius:E,innerRadius:w};S&&(M.options=A||this.resolveDataElementOptions(I,z.active?"active":s)),D+=L,this.updateElement(z,I,M,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,s;for(s=0;s<n.length;s++){const r=t._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Ue*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=td(n._parsed[t],i.options.locale);return{label:s[t]||"",value:r}}getMaxBorderWidth(t){let n=0;const i=this.chart;let s,r,l,c,h;if(!t){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){l=i.getDatasetMeta(s),t=l.data,c=l.controller;break}}if(!t)return 0;for(s=0,r=t.length;s<r;++s)h=c.resolveDataElementOptions(s),h.borderAlign!=="inner"&&(n=Math.max(n,h.borderWidth||0,h.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,s=t.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(qt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}wt(ll,"id","doughnut"),wt(ll,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),wt(ll,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),wt(ll,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:r,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Ag extends xs{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,l=this.chart._animationsDisabled;let{start:c,count:h}=yI(n,s,l);this._drawStart=c,this._drawCount=h,_I(n)&&(c=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},t),this.updateElements(s,c,h,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(n,s),_=l.axis,w=c.axis,{spanGaps:E,segment:A}=this.options,S=Jc(E)?E:Number.POSITIVE_INFINITY,D=this.chart._animationsDisabled||r||s==="none",I=n+i,L=t.length;let z=n>0&&this.getParsed(n-1);for(let M=0;M<L;++M){const Y=t[M],C=D?Y:{};if(M<n||M>=I){C.skip=!0;continue}const R=this.getParsed(M),P=Yt(R[w]),j=C[_]=l.getPixelForValue(R[_],M),U=C[w]=r||P?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,R,h):R[w],M);C.skip=isNaN(j)||isNaN(U)||P,C.stop=M>0&&Math.abs(R[_]-z[_])>S,A&&(C.parsed=R,C.raw=f.data[M]),y&&(C.options=p||this.resolveDataElementOptions(M,Y.active?"active":s)),D||this.updateElement(Y,M,C,s),z=R}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}wt(Ag,"id","line"),wt(Ag,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),wt(Ag,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class sf extends xs{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=td(n._parsed[t].r,i.options.locale);return{label:s[t]||"",value:r}}parseObjectData(t,n,i,s){return AI.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),l=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),c=(r-l)/t.getVisibleDatasetCount();this.outerRadius=r-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,n,i,s){const r=s==="reset",l=this.chart,h=l.options.animation,f=this._cachedMeta.rScale,p=f.xCenter,y=f.yCenter,_=f.getIndexAngle(0)-.5*de;let w=_,E;const A=360/this.countVisibleElements();for(E=0;E<n;++E)w+=this._computeAngle(E,s,A);for(E=n;E<n+i;E++){const S=t[E];let D=w,I=w+this._computeAngle(E,s,A),L=l.getDataVisibility(E)?f.getDistanceFromCenterForValue(this.getParsed(E).r):0;w=I,r&&(h.animateScale&&(L=0),h.animateRotate&&(D=I=_));const z={x:p,y,innerRadius:0,outerRadius:L,startAngle:D,endAngle:I,options:this.resolveDataElementOptions(E,S.active?"active":s)};this.updateElement(S,E,z,s)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?_s(this.resolveDataElementOptions(t,n).angle||i):0}}wt(sf,"id","polarArea"),wt(sf,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),wt(sf,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:r,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class q0 extends ll{}wt(q0,"id","pie"),wt(q0,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class kg extends xs{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,s){return AI.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const c={_loop:!0,_fullLoop:r.length===s.length,options:l};this.updateElement(i,void 0,c,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,i,s){const r=this._cachedMeta.rScale,l=s==="reset";for(let c=n;c<n+i;c++){const h=t[c],f=this.resolveDataElementOptions(c,h.active?"active":s),p=r.getPointPositionForValue(c,this.getParsed(c).r),y=l?r.xCenter:p.x,_=l?r.yCenter:p.y,w={x:y,y:_,angle:p.angle,skip:isNaN(y)||isNaN(_),options:f};this.updateElement(h,c,w,s)}}}wt(kg,"id","radar"),wt(kg,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),wt(kg,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Rg extends xs{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,l=this.getParsed(t),c=s.getLabelForValue(l.x),h=r.getLabelForValue(l.y);return{label:i[t]||"",value:"("+c+", "+h+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:l}=yI(n,i,s);if(this._drawStart=r,this._drawCount=l,_I(n)&&(r=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:h}=n;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!h._decimated,c.points=i;const f=this.resolveDatasetElementOptions(t);f.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:f},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,r,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,s){const r=s==="reset",{iScale:l,vScale:c,_stacked:h,_dataset:f}=this._cachedMeta,p=this.resolveDataElementOptions(n,s),y=this.getSharedOptions(p),_=this.includeOptions(s,y),w=l.axis,E=c.axis,{spanGaps:A,segment:S}=this.options,D=Jc(A)?A:Number.POSITIVE_INFINITY,I=this.chart._animationsDisabled||r||s==="none";let L=n>0&&this.getParsed(n-1);for(let z=n;z<n+i;++z){const M=t[z],Y=this.getParsed(z),C=I?M:{},R=Yt(Y[E]),P=C[w]=l.getPixelForValue(Y[w],z),j=C[E]=r||R?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,Y,h):Y[E],z);C.skip=isNaN(P)||isNaN(j)||R,C.stop=z>0&&Math.abs(Y[w]-L[w])>D,S&&(C.parsed=Y,C.raw=f.data[z]),_&&(C.options=y||this.resolveDataElementOptions(z,M.active?"active":s)),I||this.updateElement(M,z,C,s),L=Y}this.updateSharedOptions(y,s,p)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let c=0;for(let h=n.length-1;h>=0;--h)c=Math.max(c,n[h].size(this.resolveDataElementOptions(h))/2);return c>0&&c}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,l)/2}}wt(Rg,"id","scatter"),wt(Rg,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),wt(Rg,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var N$=Object.freeze({__proto__:null,BarController:Sg,BubbleController:Tg,DoughnutController:ll,LineController:Ag,PieController:q0,PolarAreaController:sf,RadarController:kg,ScatterController:Rg});function Zo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Mx{constructor(t){wt(this,"options");this.options=t||{}}static override(t){Object.assign(Mx.prototype,t)}init(){}formats(){return Zo()}parse(){return Zo()}format(){return Zo()}add(){return Zo()}diff(){return Zo()}startOf(){return Zo()}endOf(){return Zo()}}var L$={_date:Mx};function V$(e,t,n,i){const{controller:s,data:r,_sorted:l}=e,c=s._cachedMeta.iScale,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&l&&r.length){const f=c._reversePixels?r8:Kr;if(i){if(s._sharedOptions){const p=r[0],y=typeof p.getRange=="function"&&p.getRange(t);if(y){const _=f(r,t,n-y),w=f(r,t,n+y);return{lo:_.lo,hi:w.hi}}}}else{const p=f(r,t,n);if(h){const{vScale:y}=s._cachedMeta,{_parsed:_}=e,w=_.slice(0,p.lo+1).reverse().findIndex(A=>!Yt(A[y.axis]));p.lo-=Math.max(0,w);const E=_.slice(p.hi).findIndex(A=>!Yt(A[y.axis]));p.hi+=Math.max(0,E)}return p}}return{lo:0,hi:r.length-1}}function Xm(e,t,n,i,s){const r=e.getSortedVisibleDatasetMetas(),l=n[t];for(let c=0,h=r.length;c<h;++c){const{index:f,data:p}=r[c],{lo:y,hi:_}=V$(r[c],t,l,s);for(let w=y;w<=_;++w){const E=p[w];E.skip||i(E,f,w)}}}function j$(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const r=t?Math.abs(i.x-s.x):0,l=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(l,2))}}function Pb(e,t,n,i,s){const r=[];return!s&&!e.isPointInArea(t)||Xm(e,n,t,function(c,h,f){!s&&!Xr(c,e.chartArea,0)||c.inRange(t.x,t.y,i)&&r.push({element:c,datasetIndex:h,index:f})},!0),r}function U$(e,t,n,i){let s=[];function r(l,c,h){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:y}=fI(l,{x:t.x,y:t.y});Mf(y,f,p)&&s.push({element:l,datasetIndex:c,index:h})}return Xm(e,n,t,r),s}function z$(e,t,n,i,s,r){let l=[];const c=j$(n);let h=Number.POSITIVE_INFINITY;function f(p,y,_){const w=p.inRange(t.x,t.y,s);if(i&&!w)return;const E=p.getCenterPoint(s);if(!(!!r||e.isPointInArea(E))&&!w)return;const S=c(t,E);S<h?(l=[{element:p,datasetIndex:y,index:_}],h=S):S===h&&l.push({element:p,datasetIndex:y,index:_})}return Xm(e,n,t,f),l}function Nb(e,t,n,i,s,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!i?U$(e,t,n,s):z$(e,t,n,i,s,r)}function qA(e,t,n,i,s){const r=[],l=n==="x"?"inXRange":"inYRange";let c=!1;return Xm(e,n,t,(h,f,p)=>{h[l]&&h[l](t[n],s)&&(r.push({element:h,datasetIndex:f,index:p}),c=c||h.inRange(t.x,t.y,s))}),i&&!c?[]:r}var B$={modes:{index(e,t,n,i){const s=il(t,e),r=n.axis||"x",l=n.includeInvisible||!1,c=n.intersect?Pb(e,s,r,i,l):Nb(e,s,r,!1,i,l),h=[];return c.length?(e.getSortedVisibleDatasetMetas().forEach(f=>{const p=c[0].index,y=f.data[p];y&&!y.skip&&h.push({element:y,datasetIndex:f.index,index:p})}),h):[]},dataset(e,t,n,i){const s=il(t,e),r=n.axis||"xy",l=n.includeInvisible||!1;let c=n.intersect?Pb(e,s,r,i,l):Nb(e,s,r,!1,i,l);if(c.length>0){const h=c[0].datasetIndex,f=e.getDatasetMeta(h).data;c=[];for(let p=0;p<f.length;++p)c.push({element:f[p],datasetIndex:h,index:p})}return c},point(e,t,n,i){const s=il(t,e),r=n.axis||"xy",l=n.includeInvisible||!1;return Pb(e,s,r,i,l)},nearest(e,t,n,i){const s=il(t,e),r=n.axis||"xy",l=n.includeInvisible||!1;return Nb(e,s,r,n.intersect,i,l)},x(e,t,n,i){const s=il(t,e);return qA(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=il(t,e);return qA(e,s,"y",n.intersect,i)}}};const VI=["left","top","right","bottom"];function Sh(e,t){return e.filter(n=>n.pos===t)}function $A(e,t){return e.filter(n=>VI.indexOf(n.pos)===-1&&n.box.axis===t)}function Th(e,t){return e.sort((n,i)=>{const s=t?i:n,r=t?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function F$(e){const t=[];let n,i,s,r,l,c;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:r,options:{stack:l,stackWeight:c=1}}=s,t.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&r+l,stackWeight:c});return t}function q$(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!VI.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=r}return t}function $$(e,t){const n=q$(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,l,c;for(r=0,l=e.length;r<l;++r){c=e[r];const{fullSize:h}=c.box,f=n[c.stack],p=f&&c.stackWeight/f.weight;c.horizontal?(c.width=p?p*i:h&&t.availableWidth,c.height=s):(c.width=i,c.height=p?p*s:h&&t.availableHeight)}return n}function H$(e){const t=F$(e),n=Th(t.filter(f=>f.box.fullSize),!0),i=Th(Sh(t,"left"),!0),s=Th(Sh(t,"right")),r=Th(Sh(t,"top"),!0),l=Th(Sh(t,"bottom")),c=$A(t,"x"),h=$A(t,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(h).concat(l).concat(c),chartArea:Sh(t,"chartArea"),vertical:i.concat(s).concat(h),horizontal:r.concat(l).concat(c)}}function HA(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function jI(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function W$(e,t,n,i){const{pos:s,box:r}=n,l=e.maxPadding;if(!ne(s)){n.size&&(e[s]-=n.size);const y=i[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?r.height:r.width),n.size=y.size/y.count,e[s]+=n.size}r.getPadding&&jI(l,r.getPadding());const c=Math.max(0,t.outerWidth-HA(l,e,"left","right")),h=Math.max(0,t.outerHeight-HA(l,e,"top","bottom")),f=c!==e.w,p=h!==e.h;return e.w=c,e.h=h,n.horizontal?{same:f,other:p}:{same:p,other:f}}function Y$(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function G$(e,t){const n=t.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{r[l]=Math.max(t[l],n[l])}),r}return i(e?["left","right"]:["top","bottom"])}function Fh(e,t,n,i){const s=[];let r,l,c,h,f,p;for(r=0,l=e.length,f=0;r<l;++r){c=e[r],h=c.box,h.update(c.width||t.w,c.height||t.h,G$(c.horizontal,t));const{same:y,other:_}=W$(t,n,c,i);f|=y&&s.length,p=p||_,h.fullSize||s.push(c)}return f&&Fh(s,t,n,i)||p}function Bp(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function WA(e,t,n,i){const s=n.padding;let{x:r,y:l}=t;for(const c of e){const h=c.box,f=i[c.stack]||{placed:0,weight:1},p=c.stackWeight/f.weight||1;if(c.horizontal){const y=t.w*p,_=f.size||h.height;Df(f.start)&&(l=f.start),h.fullSize?Bp(h,s.left,l,n.outerWidth-s.right-s.left,_):Bp(h,t.left+f.placed,l,y,_),f.start=l,f.placed+=y,l=h.bottom}else{const y=t.h*p,_=f.size||h.width;Df(f.start)&&(r=f.start),h.fullSize?Bp(h,r,s.top,_,n.outerHeight-s.bottom-s.top):Bp(h,r,t.top+f.placed,_,y),f.start=r,f.placed+=y,r=h.right}}t.x=r,t.y=l}var ci={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=Zn(e.options.layout.padding),r=Math.max(t-s.width,0),l=Math.max(n-s.height,0),c=H$(e.boxes),h=c.vertical,f=c.horizontal;ve(e.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const p=h.reduce((A,S)=>S.box.options&&S.box.options.display===!1?A:A+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:r,availableHeight:l,vBoxMaxWidth:r/2/p,hBoxMaxHeight:l/2}),_=Object.assign({},s);jI(_,Zn(i));const w=Object.assign({maxPadding:_,w:r,h:l,x:s.left,y:s.top},s),E=$$(h.concat(f),y);Fh(c.fullSize,w,y,E),Fh(h,w,y,E),Fh(f,w,y,E)&&Fh(h,w,y,E),Y$(w),WA(c.leftAndTop,w,y,E),w.x+=w.w,w.y+=w.h,WA(c.rightAndBottom,w,y,E),e.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},ve(c.chartArea,A=>{const S=A.box;Object.assign(S,e.chartArea),S.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class UI{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class K$ extends UI{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Cg="$chartjs",X$={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},YA=e=>e===null||e==="";function Q$(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[Cg]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",YA(s)){const r=DA(e,"width");r!==void 0&&(e.width=r)}if(YA(i))if(e.style.height==="")e.height=e.width/(t||2);else{const r=DA(e,"height");r!==void 0&&(e.height=r)}return e}const zI=Z8?{passive:!0}:!1;function Z$(e,t,n){e&&e.addEventListener(t,n,zI)}function J$(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,zI)}function tH(e,t){const n=X$[e.type]||e.type,{x:i,y:s}=il(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function om(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function eH(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let l=!1;for(const c of r)l=l||om(c.addedNodes,i),l=l&&!om(c.removedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function nH(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let l=!1;for(const c of r)l=l||om(c.removedNodes,i),l=l&&!om(c.addedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Of=new Map;let GA=0;function BI(){const e=window.devicePixelRatio;e!==GA&&(GA=e,Of.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function iH(e,t){Of.size||window.addEventListener("resize",BI),Of.set(e,t)}function sH(e){Of.delete(e),Of.size||window.removeEventListener("resize",BI)}function rH(e,t,n){const i=e.canvas,s=i&&Dx(i);if(!s)return;const r=mI((c,h)=>{const f=s.clientWidth;n(c,h),f<s.clientWidth&&n()},window),l=new ResizeObserver(c=>{const h=c[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||r(f,p)});return l.observe(s),iH(e,r),l}function Lb(e,t,n){n&&n.disconnect(),t==="resize"&&sH(e)}function aH(e,t,n){const i=e.canvas,s=mI(r=>{e.ctx!==null&&n(tH(r,e))},e);return Z$(i,t,s),s}class oH extends UI{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(Q$(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Cg])return!1;const i=n[Cg].initial;["height","width"].forEach(r=>{const l=i[r];Yt(l)?n.removeAttribute(r):n.setAttribute(r,l)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[Cg],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),l={attach:eH,detach:nH,resize:rH}[n]||aH;s[n]=l(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:Lb,detach:Lb,resize:Lb}[n]||J$)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return Q8(t,n,i,s)}isAttached(t){const n=t&&Dx(t);return!!(n&&n.isConnected)}}function lH(e){return!Cx()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?K$:oH}class Ss{constructor(){wt(this,"x");wt(this,"y");wt(this,"active",!1);wt(this,"options");wt(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return Jc(this.x)&&Jc(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}wt(Ss,"defaults",{}),wt(Ss,"defaultRoutes");function cH(e,t){const n=e.options.ticks,i=uH(e),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?fH(t):[],l=r.length,c=r[0],h=r[l-1],f=[];if(l>s)return dH(t,f,r,l/s),f;const p=hH(r,t,s);if(l>0){let y,_;const w=l>1?Math.round((h-c)/(l-1)):null;for(Fp(t,f,p,Yt(w)?0:c-w,c),y=0,_=l-1;y<_;y++)Fp(t,f,p,r[y],r[y+1]);return Fp(t,f,p,h,Yt(w)?t.length:h+w),f}return Fp(t,f,p),f}function uH(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function hH(e,t,n){const i=pH(e),s=t.length/n;if(!i)return Math.max(s,1);const r=t8(i);for(let l=0,c=r.length-1;l<c;l++){const h=r[l];if(h>s)return h}return Math.max(s,1)}function fH(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function dH(e,t,n,i){let s=0,r=n[0],l;for(i=Math.ceil(i),l=0;l<e.length;l++)l===r&&(t.push(e[l]),s++,r=n[s*i])}function Fp(e,t,n,i,s){const r=qt(i,0),l=Math.min(qt(s,e.length),e.length);let c=0,h,f,p;for(n=Math.ceil(n),s&&(h=s-i,n=h/Math.floor(h/n)),p=r;p<0;)c++,p=Math.round(r+c*n);for(f=Math.max(r,0);f<l;f++)f===p&&(t.push(e[f]),c++,p=Math.round(r+c*n))}function pH(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const gH=e=>e==="left"?"right":e==="right"?"left":e,KA=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,XA=(e,t)=>Math.min(t||e,e);function QA(e,t){const n=[],i=e.length/t,s=e.length;let r=0;for(;r<s;r+=i)n.push(e[Math.floor(r)]);return n}function mH(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),r=e._startPixel,l=e._endPixel,c=1e-6;let h=e.getPixelForTick(s),f;if(!(n&&(i===1?f=Math.max(h-r,l-h):t===0?f=(e.getPixelForTick(1)-h)/2:f=(h-e.getPixelForTick(s-1))/2,h+=s<t?f:-f,h<r-c||h>l+c)))return h}function yH(e,t){ve(e,n=>{const i=n.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function Ah(e){return e.drawTicks?e.tickLength:0}function ZA(e,t){if(!e.display)return 0;const n=_n(e.font,t),i=Zn(e.padding);return(je(e.text)?e.text.length:1)*n.lineHeight+i.height}function _H(e,t){return bo(e,{scale:t,type:"scale"})}function bH(e,t,n){return bo(e,{tick:n,index:t,type:"tick"})}function vH(e,t,n){let i=Ex(e);return(n&&t!=="right"||!n&&t==="right")&&(i=gH(i)),i}function xH(e,t,n,i){const{top:s,left:r,bottom:l,right:c,chart:h}=e,{chartArea:f,scales:p}=h;let y=0,_,w,E;const A=l-s,S=c-r;if(e.isHorizontal()){if(w=si(i,r,c),ne(n)){const D=Object.keys(n)[0],I=n[D];E=p[D].getPixelForValue(I)+A-t}else n==="center"?E=(f.bottom+f.top)/2+A-t:E=KA(e,n,t);_=c-r}else{if(ne(n)){const D=Object.keys(n)[0],I=n[D];w=p[D].getPixelForValue(I)-S+t}else n==="center"?w=(f.left+f.right)/2-S+t:w=KA(e,n,t);E=si(i,l,s),y=n==="left"?-sn:sn}return{titleX:w,titleY:E,maxWidth:_,rotation:y}}class Dl extends Ss{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=ji(t,Number.POSITIVE_INFINITY),n=ji(n,Number.NEGATIVE_INFINITY),i=ji(i,Number.POSITIVE_INFINITY),s=ji(s,Number.NEGATIVE_INFINITY),{min:ji(t,i),max:ji(n,s),minDefined:Ze(t),maxDefined:Ze(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),l;if(s&&r)return{min:n,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,f=c.length;h<f;++h)l=c[h].controller.getMinMax(this,t),s||(n=Math.min(n,l.min)),r||(i=Math.max(i,l.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:ji(n,ji(i,n)),max:ji(i,ji(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ce(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:r,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=C8(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?QA(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=cH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ce(this.options.afterUpdate,[this])}beforeSetDimensions(){Ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ce(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ce(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=Ce(n.callback,[r.value,i,t],this)}afterTickToLabelConversion(){Ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=XA(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let l=s,c,h,f;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),y=p.widest.width,_=p.highest.height,w=zn(this.chart.width-y,0,this.maxWidth);c=t.offset?this.maxWidth/i:w/(i-1),y+6>c&&(c=w/(i-(t.offset?.5:1)),h=this.maxHeight-Ah(t.grid)-n.padding-ZA(t.title,this.chart.options.font),f=Math.sqrt(y*y+_*_),l=xx(Math.min(Math.asin(zn((p.highest.height+6)/c,-1,1)),Math.asin(zn(h/f,-1,1))-Math.asin(zn(_/f,-1,1)))),l=Math.max(s,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ce(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=ZA(s,n.options.font);if(c?(t.width=this.maxWidth,t.height=Ah(r)+h):(t.height=this.maxHeight,t.width=Ah(r)+h),i.display&&this.ticks.length){const{first:f,last:p,widest:y,highest:_}=this._getLabelSizes(),w=i.padding*2,E=_s(this.labelRotation),A=Math.cos(E),S=Math.sin(E);if(c){const D=i.mirror?0:S*y.width+A*_.height;t.height=Math.min(this.maxHeight,t.height+D+w)}else{const D=i.mirror?0:A*y.width+S*_.height;t.width=Math.min(this.maxWidth,t.width+D+w)}this._calculatePadding(f,p,S,A)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:r,padding:l},position:c}=this.options,h=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,w=0;h?f?(_=s*t.width,w=i*n.height):(_=i*t.height,w=s*n.width):r==="start"?w=n.width:r==="end"?_=t.width:r!=="inner"&&(_=t.width/2,w=n.width/2),this.paddingLeft=Math.max((_-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((w-y+l)*this.width/(this.width-y),0)}else{let p=n.height/2,y=t.height/2;r==="start"?(p=0,y=t.height):r==="end"&&(p=n.height,y=0),this.paddingTop=p+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ce(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)Yt(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=QA(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:r}=this,l=[],c=[],h=Math.floor(n/XA(n,i));let f=0,p=0,y,_,w,E,A,S,D,I,L,z,M;for(y=0;y<n;y+=h){if(E=t[y].label,A=this._resolveTickFontOptions(y),s.font=S=A.string,D=r[S]=r[S]||{data:{},gc:[]},I=A.lineHeight,L=z=0,!Yt(E)&&!je(E))L=rm(s,D.data,D.gc,L,E),z=I;else if(je(E))for(_=0,w=E.length;_<w;++_)M=E[_],!Yt(M)&&!je(M)&&(L=rm(s,D.data,D.gc,L,M),z+=I);l.push(L),c.push(z),f=Math.max(L,f),p=Math.max(z,p)}yH(r,n);const Y=l.indexOf(f),C=c.indexOf(p),R=P=>({width:l[P]||0,height:c[P]||0});return{first:R(0),last:R(n-1),widest:R(Y),highest:R(C),widths:l,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return s8(this._alignToPixels?Qo(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=bH(this.getContext(),t,i))}return this.$context||(this.$context=_H(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=_s(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),l=t.autoSkipPadding||0,c=r?r.widest.width+l:0,h=r?r.highest.height+l:0;return this.isHorizontal()?h*i>c*s?c/i:h/s:h*s<c*i?h/i:c/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:l,border:c}=s,h=r.offset,f=this.isHorizontal(),y=this.ticks.length+(h?1:0),_=Ah(r),w=[],E=c.setContext(this.getContext()),A=E.display?E.width:0,S=A/2,D=function(q){return Qo(i,q,A)};let I,L,z,M,Y,C,R,P,j,U,$,F;if(l==="top")I=D(this.bottom),C=this.bottom-_,P=I-S,U=D(t.top)+S,F=t.bottom;else if(l==="bottom")I=D(this.top),U=t.top,F=D(t.bottom)-S,C=I+S,P=this.top+_;else if(l==="left")I=D(this.right),Y=this.right-_,R=I-S,j=D(t.left)+S,$=t.right;else if(l==="right")I=D(this.left),j=t.left,$=D(t.right)-S,Y=I+S,R=this.left+_;else if(n==="x"){if(l==="center")I=D((t.top+t.bottom)/2+.5);else if(ne(l)){const q=Object.keys(l)[0],G=l[q];I=D(this.chart.scales[q].getPixelForValue(G))}U=t.top,F=t.bottom,C=I+S,P=C+_}else if(n==="y"){if(l==="center")I=D((t.left+t.right)/2);else if(ne(l)){const q=Object.keys(l)[0],G=l[q];I=D(this.chart.scales[q].getPixelForValue(G))}Y=I-S,R=Y-_,j=t.left,$=t.right}const Mt=qt(s.ticks.maxTicksLimit,y),Q=Math.max(1,Math.ceil(y/Mt));for(L=0;L<y;L+=Q){const q=this.getContext(L),G=r.setContext(q),ot=c.setContext(q),it=G.lineWidth,B=G.color,st=ot.dash||[],lt=ot.dashOffset,ut=G.tickWidth,X=G.tickColor,gt=G.tickBorderDash||[],J=G.tickBorderDashOffset;z=mH(this,L,h),z!==void 0&&(M=Qo(i,z,it),f?Y=R=j=$=M:C=P=U=F=M,w.push({tx1:Y,ty1:C,tx2:R,ty2:P,x1:j,y1:U,x2:$,y2:F,width:it,color:B,borderDash:st,borderDashOffset:lt,tickWidth:ut,tickColor:X,tickBorderDash:gt,tickBorderDashOffset:J}))}return this._ticksLength=y,this._borderValue=I,w}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:r}=i,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:f,padding:p,mirror:y}=r,_=Ah(i.grid),w=_+p,E=y?-p:w,A=-_s(this.labelRotation),S=[];let D,I,L,z,M,Y,C,R,P,j,U,$,F="middle";if(s==="top")Y=this.bottom-E,C=this._getXAxisLabelAlignment();else if(s==="bottom")Y=this.top+E,C=this._getXAxisLabelAlignment();else if(s==="left"){const Q=this._getYAxisLabelAlignment(_);C=Q.textAlign,M=Q.x}else if(s==="right"){const Q=this._getYAxisLabelAlignment(_);C=Q.textAlign,M=Q.x}else if(n==="x"){if(s==="center")Y=(t.top+t.bottom)/2+w;else if(ne(s)){const Q=Object.keys(s)[0],q=s[Q];Y=this.chart.scales[Q].getPixelForValue(q)+w}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")M=(t.left+t.right)/2-w;else if(ne(s)){const Q=Object.keys(s)[0],q=s[Q];M=this.chart.scales[Q].getPixelForValue(q)}C=this._getYAxisLabelAlignment(_).textAlign}n==="y"&&(h==="start"?F="top":h==="end"&&(F="bottom"));const Mt=this._getLabelSizes();for(D=0,I=c.length;D<I;++D){L=c[D],z=L.label;const Q=r.setContext(this.getContext(D));R=this.getPixelForTick(D)+r.labelOffset,P=this._resolveTickFontOptions(D),j=P.lineHeight,U=je(z)?z.length:1;const q=U/2,G=Q.color,ot=Q.textStrokeColor,it=Q.textStrokeWidth;let B=C;l?(M=R,C==="inner"&&(D===I-1?B=this.options.reverse?"left":"right":D===0?B=this.options.reverse?"right":"left":B="center"),s==="top"?f==="near"||A!==0?$=-U*j+j/2:f==="center"?$=-Mt.highest.height/2-q*j+j:$=-Mt.highest.height+j/2:f==="near"||A!==0?$=j/2:f==="center"?$=Mt.highest.height/2-q*j:$=Mt.highest.height-U*j,y&&($*=-1),A!==0&&!Q.showLabelBackdrop&&(M+=j/2*Math.sin(A))):(Y=R,$=(1-U)*j/2);let st;if(Q.showLabelBackdrop){const lt=Zn(Q.backdropPadding),ut=Mt.heights[D],X=Mt.widths[D];let gt=$-lt.top,J=0-lt.left;switch(F){case"middle":gt-=ut/2;break;case"bottom":gt-=ut;break}switch(C){case"center":J-=X/2;break;case"right":J-=X;break;case"inner":D===I-1?J-=X:D>0&&(J-=X/2);break}st={left:J,top:gt,width:X+lt.width,height:ut+lt.height,color:Q.backdropColor}}S.push({label:z,font:P,textOffset:$,options:{rotation:A,color:G,strokeColor:ot,strokeWidth:it,textAlign:B,textBaseline:F,translation:[M,Y],backdrop:st}})}return S}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-_s(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,l=this._getLabelSizes(),c=t+r,h=l.widest.width;let f,p;return n==="left"?s?(p=this.right+r,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-c,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p=this.left)):n==="right"?s?(p=this.left+r,i==="near"?f="right":i==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+c,i==="near"?f="left":i==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:r,height:l}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,r,l),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,l;const c=(h,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(n.display)for(r=0,l=s.length;r<l;++r){const h=s[r];n.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),l=i.display?r.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,y,_;this.isHorizontal()?(f=Qo(t,this.left,l)-l/2,p=Qo(t,this.right,c)+c/2,y=_=h):(y=Qo(t,this.top,l)-l/2,_=Qo(t,this.bottom,c)+c/2,f=p=h),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(f,y),n.lineTo(p,_),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Ym(i,s);const r=this.getLabelItems(t);for(const l of r){const c=l.options,h=l.font,f=l.label,p=l.textOffset;El(i,f,0,p,h,c)}s&&Gm(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=_n(i.font),l=Zn(i.padding),c=i.align;let h=r.lineHeight/2;n==="bottom"||n==="center"||ne(n)?(h+=l.bottom,je(i.text)&&(h+=r.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:p,maxWidth:y,rotation:_}=xH(this,h,n,c);El(t,i.text,0,0,r,{color:i.color,maxWidth:y,rotation:_,textAlign:vH(c,n,s),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=qt(t.grid&&t.grid.z,-1),s=qt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Dl.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,l;for(r=0,l=n.length;r<l;++r){const c=n[r];c[i]===this.id&&(!t||c.type===t)&&s.push(c)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return _n(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class qp{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;SH(n)&&(i=this.register(n));const s=this.items,r=t.id,l=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,wH(t,l,i),this.override&&ze.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in ze[s]&&(delete ze[s][i],this.override&&delete wl[i])}}function wH(e,t,n){const i=rr(Object.create(null),[n?ze.get(n):{},ze.get(t),e.defaults]);ze.set(t,i),e.defaultRoutes&&EH(t,e.defaultRoutes),e.descriptors&&ze.describe(t,e.descriptors)}function EH(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),r=[e].concat(i).join("."),l=t[n].split("."),c=l.pop(),h=l.join(".");ze.route(r,s,h,c)})}function SH(e){return"id"in e&&"defaults"in e}class TH{constructor(){this.controllers=new qp(xs,"datasets",!0),this.elements=new qp(Ss,"elements"),this.plugins=new qp(Object,"plugins"),this.scales=new qp(Dl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):ve(s,l=>{const c=i||this._getRegistryForType(l);this._exec(t,c,l)})})}_exec(t,n,i){const s=vx(t);Ce(i["before"+s],[],i),n[t](i),Ce(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Hs=new TH;class AH{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(r,t,n,i);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,n,i,s){s=s||{};for(const r of t){const l=r.plugin,c=l[i],h=[n,s,r.options];if(Ce(c,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Yt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=qt(i.options&&i.options.plugins,{}),r=kH(i);return s===!1&&!n?[]:CH(t,r,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(r,l)=>r.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function kH(e){const t={},n=[],i=Object.keys(Hs.plugins.items);for(let r=0;r<i.length;r++)n.push(Hs.getPlugin(i[r]));const s=e.plugins||[];for(let r=0;r<s.length;r++){const l=s[r];n.indexOf(l)===-1&&(n.push(l),t[l.id]=!0)}return{plugins:n,localIds:t}}function RH(e,t){return!t&&e===!1?null:e===!0?{}:e}function CH(e,{plugins:t,localIds:n},i,s){const r=[],l=e.getContext();for(const c of t){const h=c.id,f=RH(i[h],s);f!==null&&r.push({plugin:c,options:DH(e.config,{plugin:c,local:n[h]},f,l)})}return r}function DH(e,{plugin:t,local:n},i,s){const r=e.pluginScopeKeys(t),l=e.getOptionScopes(i,r);return n&&t.defaults&&l.push(t.defaults),e.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function $0(e,t){const n=ze.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function MH(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function IH(e,t){return e===t?"_index_":"_value_"}function JA(e){if(e==="x"||e==="y"||e==="r")return e}function OH(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function H0(e,...t){if(JA(e))return e;for(const n of t){const i=n.axis||OH(n.position)||e.length>1&&JA(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function tk(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function PH(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return tk(e,"x",n[0])||tk(e,"y",n[0])}return{}}function NH(e,t){const n=wl[e.type]||{scales:{}},i=t.scales||{},s=$0(e.type,t),r=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!ne(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=H0(l,c,PH(l,e),ze.scales[c.type]),f=IH(h,s),p=n.scales||{};r[l]=Jh(Object.create(null),[{axis:h},c,p[h],p[f]])}),e.data.datasets.forEach(l=>{const c=l.type||e.type,h=l.indexAxis||$0(c,t),p=(wl[c]||{}).scales||{};Object.keys(p).forEach(y=>{const _=MH(y,h),w=l[_+"AxisID"]||_;r[w]=r[w]||Object.create(null),Jh(r[w],[{axis:_},i[w],p[y]])})}),Object.keys(r).forEach(l=>{const c=r[l];Jh(c,[ze.scales[c.type],ze.scale])}),r}function FI(e){const t=e.options||(e.options={});t.plugins=qt(t.plugins,{}),t.scales=NH(e,t)}function qI(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function LH(e){return e=e||{},e.data=qI(e.data),FI(e),e}const ek=new Map,$I=new Set;function $p(e,t){let n=ek.get(e);return n||(n=t(),ek.set(e,n),$I.add(n)),n}const kh=(e,t,n)=>{const i=fo(t,n);i!==void 0&&e.add(i)};class VH{constructor(t){this._config=LH(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=qI(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),FI(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return $p(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return $p(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return $p(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return $p(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:r}=this,l=this._cachedScopes(t,i),c=l.get(n);if(c)return c;const h=new Set;n.forEach(p=>{t&&(h.add(t),p.forEach(y=>kh(h,t,y))),p.forEach(y=>kh(h,s,y)),p.forEach(y=>kh(h,wl[r]||{},y)),p.forEach(y=>kh(h,ze,y)),p.forEach(y=>kh(h,B0,y))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),$I.has(n)&&l.set(n,f),f}chartOptionScopes(){const{options:t,type:n}=this;return[t,wl[n]||{},ze.datasets[n]||{},{type:n},ze,B0]}resolveNamedOptions(t,n,i,s=[""]){const r={$shared:!0},{resolver:l,subPrefixes:c}=nk(this._resolverCache,t,s);let h=l;if(UH(l,n)){r.$shared=!1,i=po(i)?i():i;const f=this.createResolver(t,i,c);h=tu(l,i,f)}for(const f of n)r[f]=h[f];return r}createResolver(t,n,i=[""],s){const{resolver:r}=nk(this._resolverCache,t,i);return ne(n)?tu(r,n,void 0,s):r}}function nk(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let r=i.get(s);return r||(r={resolver:Ax(t,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,r)),r}const jH=e=>ne(e)&&Object.getOwnPropertyNames(e).some(t=>po(e[t]));function UH(e,t){const{isScriptable:n,isIndexable:i}=wI(e);for(const s of t){const r=n(s),l=i(s),c=(l||r)&&e[s];if(r&&(po(c)||jH(c))||l&&je(c))return!0}return!1}var zH="4.5.0";const BH=["top","bottom","left","right","chartArea"];function ik(e,t){return e==="top"||e==="bottom"||BH.indexOf(e)===-1&&t==="x"}function sk(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function rk(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Ce(n&&n.onComplete,[e],t)}function FH(e){const t=e.chart,n=t.options.animation;Ce(n&&n.onProgress,[e],t)}function HI(e){return Cx()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Dg={},ak=e=>{const t=HI(e);return Object.values(Dg).filter(n=>n.canvas===t).pop()};function qH(e,t,n){const i=Object.keys(e);for(const s of i){const r=+s;if(r>=t){const l=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=l)}}}function $H(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}class _i{static register(...t){Hs.add(...t),ok()}static unregister(...t){Hs.remove(...t),ok()}constructor(t,n){const i=this.config=new VH(n),s=HI(t),r=ak(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||lH(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,l.aspectRatio),h=c&&c.canvas,f=h&&h.height,p=h&&h.width;if(this.id=Hq(),this.ctx=c,this.canvas=h,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new AH,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=l8(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],Dg[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}zr.listen(this,"complete",rk),zr.listen(this,"progress",FH),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return Yt(t)?n&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Hs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():CA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return AA(this.canvas,this.ctx),this}stop(){return zr.stop(this),this}resize(t,n){zr.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,n,r),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,CA(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),Ce(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ve(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let r=[];n&&(r=r.concat(Object.keys(n).map(l=>{const c=n[l],h=H0(l,c),f=h==="r",p=h==="x";return{options:c,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),ve(r,l=>{const c=l.options,h=c.id,f=H0(h,c),p=qt(c.type,l.dtype);(c.position===void 0||ik(c.position,f)!==ik(l.dposition))&&(c.position=l.dposition),s[h]=!0;let y=null;if(h in i&&i[h].type===p)y=i[h];else{const _=Hs.getScale(p);y=new _({id:h,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(c,t)}),ve(s,(l,c)=>{l||delete i[c]}),ve(i,l=>{ci.configure(this,l,l.options),ci.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(sk("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let l=this.getDatasetMeta(i);const c=r.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=r.indexAxis||$0(c,this.options),l.order=r.order||0,l.index=i,l.label=""+r.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=Hs.getController(c),{datasetElementType:f,dataElementType:p}=ze.datasets[c];Object.assign(h,{dataElementType:Hs.getElement(p),datasetElementType:f&&Hs.getElement(f)}),l.controller=new h(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){ve(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:y}=this.getDatasetMeta(f),_=!s&&r.indexOf(y)===-1;y.buildOrUpdateElements(_),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||ve(r,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(sk("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){ve(this.scales,t=>{ci.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!yA(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const l=i==="_removeElements"?-r:r;qH(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(t.filter(l=>l[0]===r).map((l,c)=>c+","+l.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!yA(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ci.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],ve(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,po(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(zr.has(this)?this.attached&&!zr.running(this)&&zr.start(this):(this.draw(),rk({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const l=n[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=OI(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Ym(n,s),t.controller.draw(),s&&Gm(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Xr(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const r=B$.modes[n];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=bo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),l=r.controller._resolveAnimations(void 0,s);Df(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(r,{visible:i}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),zr.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),AA(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Dg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(r,l)=>{n.addEventListener(this,r,l),t[r]=l},s=(r,l,c)=>{r.offsetX=l,r.offsetY=c,this._eventHandler(r)};ve(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(h,f)=>{n.addEventListener(this,h,f),t[h]=f},s=(h,f)=>{t[h]&&(n.removeEventListener(this,h,f),delete t[h])},r=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",r),i("detach",l)};l=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",c)},n.isAttached(this.canvas)?c():l()}unbindEvents(){ve(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},ve(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let r,l,c,h;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),c=0,h=t.length;c<h;++c){l=t[c];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:r,index:l})=>{const c=this.getDatasetMeta(r);if(!c)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:c.data[l],index:l}});!nm(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,r=(h,f)=>h.filter(p=>!f.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),l=r(n,t),c=i?t:r(t,n);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:r}=this,l=n,c=this._getActiveElements(t,s,i,l),h=Qq(t),f=$H(t,this._lastEvent,i,h);i&&(this._lastEvent=null,Ce(r.onHover,[t,c,this],this),h&&Ce(r.onClick,[t,c,this],this));const p=!nm(c,s);return(p||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=f,p}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}}wt(_i,"defaults",ze),wt(_i,"instances",Dg),wt(_i,"overrides",wl),wt(_i,"registry",Hs),wt(_i,"version",zH),wt(_i,"getChart",ak);function ok(){return ve(_i.instances,e=>e._plugins.invalidate())}function HH(e,t,n){const{startAngle:i,x:s,y:r,outerRadius:l,innerRadius:c,options:h}=t,{borderWidth:f,borderJoinStyle:p}=h,y=Math.min(f/l,oi(i-n));if(e.beginPath(),e.arc(s,r,l-f/2,i+y/2,n-y/2),c>0){const _=Math.min(f/c,oi(i-n));e.arc(s,r,c+f/2,n-_/2,i+_/2,!0)}else{const _=Math.min(f/2,l*oi(i-n));if(p==="round")e.arc(s,r,_,n-de/2,i+de/2,!0);else if(p==="bevel"){const w=2*_*_,E=-w*Math.cos(n+de/2)+s,A=-w*Math.sin(n+de/2)+r,S=w*Math.cos(i+de/2)+s,D=w*Math.sin(i+de/2)+r;e.lineTo(E,A),e.lineTo(S,D)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function WH(e,t,n){const{startAngle:i,pixelMargin:s,x:r,y:l,outerRadius:c,innerRadius:h}=t;let f=s/c;e.beginPath(),e.arc(r,l,c,i-f,n+f),h>s?(f=s/h,e.arc(r,l,h,n+f,i-f,!0)):e.arc(r,l,s,n+sn,i-sn),e.closePath(),e.clip()}function YH(e){return Tx(e,["outerStart","outerEnd","innerStart","innerEnd"])}function GH(e,t,n,i){const s=YH(e.options.borderRadius),r=(n-t)/2,l=Math.min(r,i*t/2),c=h=>{const f=(n-Math.min(r,h))*i/2;return zn(h,0,Math.min(r,f))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:zn(s.innerStart,0,l),innerEnd:zn(s.innerEnd,0,l)}}function Ec(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function lm(e,t,n,i,s,r){const{x:l,y:c,startAngle:h,pixelMargin:f,innerRadius:p}=t,y=Math.max(t.outerRadius+i+n-f,0),_=p>0?p+i+n+f:0;let w=0;const E=s-h;if(i){const Q=p>0?p-i:0,q=y>0?y-i:0,G=(Q+q)/2,ot=G!==0?E*G/(G+i):E;w=(E-ot)/2}const A=Math.max(.001,E*y-n/de)/y,S=(E-A)/2,D=h+S+w,I=s-S-w,{outerStart:L,outerEnd:z,innerStart:M,innerEnd:Y}=GH(t,_,y,I-D),C=y-L,R=y-z,P=D+L/C,j=I-z/R,U=_+M,$=_+Y,F=D+M/U,Mt=I-Y/$;if(e.beginPath(),r){const Q=(P+j)/2;if(e.arc(l,c,y,P,Q),e.arc(l,c,y,Q,j),z>0){const it=Ec(R,j,l,c);e.arc(it.x,it.y,z,j,I+sn)}const q=Ec($,I,l,c);if(e.lineTo(q.x,q.y),Y>0){const it=Ec($,Mt,l,c);e.arc(it.x,it.y,Y,I+sn,Mt+Math.PI)}const G=(I-Y/_+(D+M/_))/2;if(e.arc(l,c,_,I-Y/_,G,!0),e.arc(l,c,_,G,D+M/_,!0),M>0){const it=Ec(U,F,l,c);e.arc(it.x,it.y,M,F+Math.PI,D-sn)}const ot=Ec(C,D,l,c);if(e.lineTo(ot.x,ot.y),L>0){const it=Ec(C,P,l,c);e.arc(it.x,it.y,L,D-sn,P)}}else{e.moveTo(l,c);const Q=Math.cos(P)*y+l,q=Math.sin(P)*y+c;e.lineTo(Q,q);const G=Math.cos(j)*y+l,ot=Math.sin(j)*y+c;e.lineTo(G,ot)}e.closePath()}function KH(e,t,n,i,s){const{fullCircles:r,startAngle:l,circumference:c}=t;let h=t.endAngle;if(r){lm(e,t,n,i,h,s);for(let f=0;f<r;++f)e.fill();isNaN(c)||(h=l+(c%Ue||Ue))}return lm(e,t,n,i,h,s),e.fill(),h}function XH(e,t,n,i,s){const{fullCircles:r,startAngle:l,circumference:c,options:h}=t,{borderWidth:f,borderJoinStyle:p,borderDash:y,borderDashOffset:_,borderRadius:w}=h,E=h.borderAlign==="inner";if(!f)return;e.setLineDash(y||[]),e.lineDashOffset=_,E?(e.lineWidth=f*2,e.lineJoin=p||"round"):(e.lineWidth=f,e.lineJoin=p||"bevel");let A=t.endAngle;if(r){lm(e,t,n,i,A,s);for(let S=0;S<r;++S)e.stroke();isNaN(c)||(A=l+(c%Ue||Ue))}E&&WH(e,t,A),h.selfJoin&&A-l>=de&&w===0&&p!=="miter"&&HH(e,t,A),r||(lm(e,t,n,i,A,s),e.stroke())}class Mc extends Ss{constructor(n){super();wt(this,"circumference");wt(this,"endAngle");wt(this,"fullCircles");wt(this,"innerRadius");wt(this,"outerRadius");wt(this,"pixelMargin");wt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.getProps(["x","y"],s),{angle:l,distance:c}=fI(r,{x:n,y:i}),{startAngle:h,endAngle:f,innerRadius:p,outerRadius:y,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),w=(this.options.spacing+this.options.borderWidth)/2,E=qt(_,f-h),A=Mf(l,h,f)&&h!==f,S=E>=Ue||A,D=Gr(c,p+w,y+w);return S&&D}getCenterPoint(n){const{x:i,y:s,startAngle:r,endAngle:l,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:f,spacing:p}=this.options,y=(r+l)/2,_=(c+h+p+f)/2;return{x:i+Math.cos(y)*_,y:s+Math.sin(y)*_}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,r=(i.offset||0)/4,l=(i.spacing||0)/2,c=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Ue?Math.floor(s/Ue):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const h=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(h)*r,Math.sin(h)*r);const f=1-Math.sin(Math.min(de,s||0)),p=r*f;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,KH(n,this,p,l,c),XH(n,this,p,l,c),n.restore()}}wt(Mc,"id","arc"),wt(Mc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),wt(Mc,"defaultRoutes",{backgroundColor:"backgroundColor"}),wt(Mc,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function WI(e,t,n=t){e.lineCap=qt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(qt(n.borderDash,t.borderDash)),e.lineDashOffset=qt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=qt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=qt(n.borderWidth,t.borderWidth),e.strokeStyle=qt(n.borderColor,t.borderColor)}function QH(e,t,n){e.lineTo(n.x,n.y)}function ZH(e){return e.stepped?v8:e.tension||e.cubicInterpolationMode==="monotone"?x8:QH}function YI(e,t,n={}){const i=e.length,{start:s=0,end:r=i-1}=n,{start:l,end:c}=t,h=Math.max(s,l),f=Math.min(r,c),p=s<l&&r<l||s>c&&r>c;return{count:i,start:h,loop:t.loop,ilen:f<h&&!p?i+f-h:f-h}}function JH(e,t,n,i){const{points:s,options:r}=t,{count:l,start:c,loop:h,ilen:f}=YI(s,n,i),p=ZH(r);let{move:y=!0,reverse:_}=i||{},w,E,A;for(w=0;w<=f;++w)E=s[(c+(_?f-w:w))%l],!E.skip&&(y?(e.moveTo(E.x,E.y),y=!1):p(e,A,E,_,r.stepped),A=E);return h&&(E=s[(c+(_?f:0))%l],p(e,A,E,_,r.stepped)),!!h}function t7(e,t,n,i){const s=t.points,{count:r,start:l,ilen:c}=YI(s,n,i),{move:h=!0,reverse:f}=i||{};let p=0,y=0,_,w,E,A,S,D;const I=z=>(l+(f?c-z:z))%r,L=()=>{A!==S&&(e.lineTo(p,S),e.lineTo(p,A),e.lineTo(p,D))};for(h&&(w=s[I(0)],e.moveTo(w.x,w.y)),_=0;_<=c;++_){if(w=s[I(_)],w.skip)continue;const z=w.x,M=w.y,Y=z|0;Y===E?(M<A?A=M:M>S&&(S=M),p=(y*p+z)/++y):(L(),e.lineTo(z,M),E=Y,y=0,A=S=M),D=M}L()}function W0(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?t7:JH}function e7(e){return e.stepped?J8:e.tension||e.cubicInterpolationMode==="monotone"?t$:sl}function n7(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),WI(e,t.options),e.stroke(s)}function i7(e,t,n,i){const{segments:s,options:r}=t,l=W0(t);for(const c of s)WI(e,r,c.style),e.beginPath(),l(e,t,c,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const s7=typeof Path2D=="function";function r7(e,t,n,i){s7&&!t.options.segment?n7(e,t,n,i):i7(e,t,n,i)}class Ka extends Ss{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;H8(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=a$(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],r=this.points,l=II(this,{property:n,start:s,end:s});if(!l.length)return;const c=[],h=e7(i);let f,p;for(f=0,p=l.length;f<p;++f){const{start:y,end:_}=l[f],w=r[y],E=r[_];if(w===E){c.push(w);continue}const A=Math.abs((s-w[n])/(E[n]-w[n])),S=h(w,E,A,i.stepped);S[n]=t[n],c.push(S)}return c.length===1?c[0]:c}pathSegment(t,n,i){return W0(this)(t,this,n,i)}path(t,n,i){const s=this.segments,r=W0(this);let l=this._loop;n=n||0,i=i||this.points.length-n;for(const c of s)l&=r(t,this,c,{start:n,end:n+i-1});return!!l}draw(t,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),r7(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}wt(Ka,"id","line"),wt(Ka,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),wt(Ka,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),wt(Ka,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function lk(e,t,n,i){const s=e.options,{[n]:r}=e.getProps([n],i);return Math.abs(t-r)<s.radius+s.hitRadius}class rf extends Ss{constructor(n){super();wt(this,"parsed");wt(this,"skip");wt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:l,y:c}=this.getProps(["x","y"],s);return Math.pow(n-l,2)+Math.pow(i-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return lk(this,n,"x",i)}inYRange(n,i){return lk(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!Xr(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,F0(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}wt(rf,"id","point"),wt(rf,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),wt(rf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function GI(e,t){const{x:n,y:i,base:s,width:r,height:l}=e.getProps(["x","y","base","width","height"],t);let c,h,f,p,y;return e.horizontal?(y=l/2,c=Math.min(n,s),h=Math.max(n,s),f=i-y,p=i+y):(y=r/2,c=n-y,h=n+y,f=Math.min(i,s),p=Math.max(i,s)),{left:c,top:f,right:h,bottom:p}}function Xa(e,t,n,i){return e?0:zn(t,n,i)}function a7(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,r=xI(i);return{t:Xa(s.top,r.top,0,n),r:Xa(s.right,r.right,0,t),b:Xa(s.bottom,r.bottom,0,n),l:Xa(s.left,r.left,0,t)}}function o7(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=fl(s),l=Math.min(t,n),c=e.borderSkipped,h=i||ne(s);return{topLeft:Xa(!h||c.top||c.left,r.topLeft,0,l),topRight:Xa(!h||c.top||c.right,r.topRight,0,l),bottomLeft:Xa(!h||c.bottom||c.left,r.bottomLeft,0,l),bottomRight:Xa(!h||c.bottom||c.right,r.bottomRight,0,l)}}function l7(e){const t=GI(e),n=t.right-t.left,i=t.bottom-t.top,s=a7(e,n/2,i/2),r=o7(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Vb(e,t,n,i){const s=t===null,r=n===null,c=e&&!(s&&r)&&GI(e,i);return c&&(s||Gr(t,c.left,c.right))&&(r||Gr(n,c.top,c.bottom))}function c7(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function u7(e,t){e.rect(t.x,t.y,t.w,t.h)}function jb(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-i,l=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+r,h:e.h+l,radius:e.radius}}class af extends Ss{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:l}=l7(this),c=c7(l.radius)?If:u7;t.save(),(l.w!==r.w||l.h!==r.h)&&(t.beginPath(),c(t,jb(l,n,r)),t.clip(),c(t,jb(r,-n,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,jb(r,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return Vb(this,t,n,i)}inXRange(t,n){return Vb(this,t,null,n)}inYRange(t,n){return Vb(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}wt(af,"id","bar"),wt(af,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),wt(af,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var h7=Object.freeze({__proto__:null,ArcElement:Mc,BarElement:af,LineElement:Ka,PointElement:rf});const Y0=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],ck=Y0.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function KI(e){return Y0[e%Y0.length]}function XI(e){return ck[e%ck.length]}function f7(e,t){return e.borderColor=KI(t),e.backgroundColor=XI(t),++t}function d7(e,t){return e.backgroundColor=e.data.map(()=>KI(t++)),t}function p7(e,t){return e.backgroundColor=e.data.map(()=>XI(t++)),t}function g7(e){let t=0;return(n,i)=>{const s=e.getDatasetMeta(i).controller;s instanceof ll?t=d7(n,t):s instanceof sf?t=p7(n,t):s&&(t=f7(n,t))}}function uk(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function m7(e){return e&&(e.borderColor||e.backgroundColor)}function y7(){return ze.borderColor!=="rgba(0,0,0,0.1)"||ze.backgroundColor!=="rgba(0,0,0,0.1)"}var _7={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=e.config,{elements:r}=s,l=uk(i)||m7(s)||r&&uk(r)||y7();if(!n.forceOverride&&l)return;const c=g7(e);i.forEach(c)}};function b7(e,t,n,i,s){const r=s.samples||i;if(r>=n)return e.slice(t,t+n);const l=[],c=(n-2)/(r-2);let h=0;const f=t+n-1;let p=t,y,_,w,E,A;for(l[h++]=e[p],y=0;y<r-2;y++){let S=0,D=0,I;const L=Math.floor((y+1)*c)+1+t,z=Math.min(Math.floor((y+2)*c)+1,n)+t,M=z-L;for(I=L;I<z;I++)S+=e[I].x,D+=e[I].y;S/=M,D/=M;const Y=Math.floor(y*c)+1+t,C=Math.min(Math.floor((y+1)*c)+1,n)+t,{x:R,y:P}=e[p];for(w=E=-1,I=Y;I<C;I++)E=.5*Math.abs((R-S)*(e[I].y-P)-(R-e[I].x)*(D-P)),E>w&&(w=E,_=e[I],A=I);l[h++]=_,p=A}return l[h++]=e[f],l}function v7(e,t,n,i){let s=0,r=0,l,c,h,f,p,y,_,w,E,A;const S=[],D=t+n-1,I=e[t].x,z=e[D].x-I;for(l=t;l<t+n;++l){c=e[l],h=(c.x-I)/z*i,f=c.y;const M=h|0;if(M===p)f<E?(E=f,y=l):f>A&&(A=f,_=l),s=(r*s+c.x)/++r;else{const Y=l-1;if(!Yt(y)&&!Yt(_)){const C=Math.min(y,_),R=Math.max(y,_);C!==w&&C!==Y&&S.push({...e[C],x:s}),R!==w&&R!==Y&&S.push({...e[R],x:s})}l>0&&Y!==w&&S.push(e[Y]),S.push(c),p=M,r=0,E=A=f,y=_=w=l}}return S}function QI(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function hk(e){e.data.datasets.forEach(t=>{QI(t)})}function x7(e,t){const n=t.length;let i=0,s;const{iScale:r}=e,{min:l,max:c,minDefined:h,maxDefined:f}=r.getUserBounds();return h&&(i=zn(Kr(t,r.axis,l).lo,0,n-1)),f?s=zn(Kr(t,r.axis,c).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var w7={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){hk(e);return}const i=e.width;e.data.datasets.forEach((s,r)=>{const{_data:l,indexAxis:c}=s,h=e.getDatasetMeta(r),f=l||s.data;if(Ve([c,e.options.indexAxis])==="y"||!h.controller.supportsDecimation)return;const p=e.scales[h.xAxisID];if(p.type!=="linear"&&p.type!=="time"||e.options.parsing)return;let{start:y,count:_}=x7(h,f);const w=n.threshold||4*i;if(_<=w){QI(s);return}Yt(l)&&(s._data=f,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(A){this._data=A}}));let E;switch(n.algorithm){case"lttb":E=b7(f,y,_,i,n);break;case"min-max":E=v7(f,y,_,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=E})},destroy(e){hk(e)}};function E7(e,t,n){const i=e.segments,s=e.points,r=t.points,l=[];for(const c of i){let{start:h,end:f}=c;f=Qm(h,f,s);const p=G0(n,s[h],s[f],c.loop);if(!t.segments){l.push({source:c,target:p,start:s[h],end:s[f]});continue}const y=II(t,p);for(const _ of y){const w=G0(n,r[_.start],r[_.end],_.loop),E=MI(c,s,w);for(const A of E)l.push({source:A,target:_,start:{[n]:fk(p,w,"start",Math.max)},end:{[n]:fk(p,w,"end",Math.min)}})}}return l}function G0(e,t,n,i){if(i)return;let s=t[e],r=n[e];return e==="angle"&&(s=oi(s),r=oi(r)),{property:e,start:s,end:r}}function S7(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,r=[];return t.segments.forEach(({start:l,end:c})=>{c=Qm(l,c,s);const h=s[l],f=s[c];i!==null?(r.push({x:h.x,y:i}),r.push({x:f.x,y:i})):n!==null&&(r.push({x:n,y:h.y}),r.push({x:n,y:f.y}))}),r}function Qm(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function fk(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function ZI(e,t){let n=[],i=!1;return je(e)?(i=!0,n=e):n=S7(e,t),n.length?new Ka({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function dk(e){return e&&e.fill!==!1}function T7(e,t,n){let s=e[t].fill;const r=[t];let l;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Ze(s))return s;if(l=e[s],!l)return!1;if(l.visible)return s;r.push(s),s=l.fill}return!1}function A7(e,t,n){const i=D7(e);if(ne(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Ze(s)&&Math.floor(s)===s?k7(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function k7(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function R7(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:ne(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function C7(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:ne(e)?i=e.value:i=t.getBaseValue(),i}function D7(e){const t=e.options,n=t.fill;let i=qt(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function M7(e){const{scale:t,index:n,line:i}=e,s=[],r=i.segments,l=i.points,c=I7(t,n);c.push(ZI({x:null,y:t.bottom},i));for(let h=0;h<r.length;h++){const f=r[h];for(let p=f.start;p<=f.end;p++)O7(s,l[p],c)}return new Ka({points:s,options:{}})}function I7(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===t)break;r.hidden||n.unshift(r.dataset)}return n}function O7(e,t,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:l,last:c,point:h}=P7(r,t,"x");if(!(!h||l&&c)){if(l)i.unshift(h);else if(e.push(h),!c)break}}e.push(...i)}function P7(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],r=e.segments,l=e.points;let c=!1,h=!1;for(let f=0;f<r.length;f++){const p=r[f],y=l[p.start][n],_=l[p.end][n];if(Gr(s,y,_)){c=s===y,h=s===_;break}}return{first:c,last:h,point:i}}class JI{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:r,radius:l}=this;return n=n||{start:0,end:Ue},t.arc(s,r,l,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,r=t.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function N7(e){const{chart:t,fill:n,line:i}=e;if(Ze(n))return L7(t,n);if(n==="stack")return M7(e);if(n==="shape")return!0;const s=V7(e);return s instanceof JI?s:ZI(s,i)}function L7(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function V7(e){return(e.scale||{}).getPointPositionForValue?U7(e):j7(e)}function j7(e){const{scale:t={},fill:n}=e,i=R7(n,t);if(Ze(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function U7(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,r=i.reverse?t.max:t.min,l=C7(n,t,r),c=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,r);return new JI({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(l)})}for(let h=0;h<s;++h)c.push(t.getPointPositionForValue(h,l));return c}function Ub(e,t,n){const i=N7(t),{chart:s,index:r,line:l,scale:c,axis:h}=t,f=l.options,p=f.fill,y=f.backgroundColor,{above:_=y,below:w=y}=p||{},E=s.getDatasetMeta(r),A=OI(s,E);i&&l.points.length&&(Ym(e,n),z7(e,{line:l,target:i,above:_,below:w,area:n,scale:c,axis:h,clip:A}),Gm(e))}function z7(e,t){const{line:n,target:i,above:s,below:r,area:l,scale:c,clip:h}=t,f=n._loop?"angle":t.axis;e.save();let p=r;r!==s&&(f==="x"?(pk(e,i,l.top),zb(e,{line:n,target:i,color:s,scale:c,property:f,clip:h}),e.restore(),e.save(),pk(e,i,l.bottom)):f==="y"&&(gk(e,i,l.left),zb(e,{line:n,target:i,color:r,scale:c,property:f,clip:h}),e.restore(),e.save(),gk(e,i,l.right),p=s)),zb(e,{line:n,target:i,color:p,scale:c,property:f,clip:h}),e.restore()}function pk(e,t,n){const{segments:i,points:s}=t;let r=!0,l=!1;e.beginPath();for(const c of i){const{start:h,end:f}=c,p=s[h],y=s[Qm(h,f,s)];r?(e.moveTo(p.x,p.y),r=!1):(e.lineTo(p.x,n),e.lineTo(p.x,p.y)),l=!!t.pathSegment(e,c,{move:l}),l?e.closePath():e.lineTo(y.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function gk(e,t,n){const{segments:i,points:s}=t;let r=!0,l=!1;e.beginPath();for(const c of i){const{start:h,end:f}=c,p=s[h],y=s[Qm(h,f,s)];r?(e.moveTo(p.x,p.y),r=!1):(e.lineTo(n,p.y),e.lineTo(p.x,p.y)),l=!!t.pathSegment(e,c,{move:l}),l?e.closePath():e.lineTo(n,y.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function zb(e,t){const{line:n,target:i,property:s,color:r,scale:l,clip:c}=t,h=E7(n,i,s);for(const{source:f,target:p,start:y,end:_}of h){const{style:{backgroundColor:w=r}={}}=f,E=i!==!0;e.save(),e.fillStyle=w,B7(e,l,c,E&&G0(s,y,_)),e.beginPath();const A=!!n.pathSegment(e,f);let S;if(E){A?e.closePath():mk(e,i,_,s);const D=!!i.pathSegment(e,p,{move:A,reverse:!0});S=A&&D,S||mk(e,i,y,s)}e.closePath(),e.fill(S?"evenodd":"nonzero"),e.restore()}}function B7(e,t,n,i){const s=t.chart.chartArea,{property:r,start:l,end:c}=i||{};if(r==="x"||r==="y"){let h,f,p,y;r==="x"?(h=l,f=s.top,p=c,y=s.bottom):(h=s.left,f=l,p=s.right,y=c),e.beginPath(),n&&(h=Math.max(h,n.left),p=Math.min(p,n.right),f=Math.max(f,n.top),y=Math.min(y,n.bottom)),e.rect(h,f,p-h,y-f),e.clip()}}function mk(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var F7={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let r,l,c,h;for(l=0;l<i;++l)r=e.getDatasetMeta(l),c=r.dataset,h=null,c&&c.options&&c instanceof Ka&&(h={visible:e.isDatasetVisible(l),index:l,fill:A7(c,l,i),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:c}),r.$filler=h,s.push(h);for(l=0;l<i;++l)h=s[l],!(!h||h.fill===!1)&&(h.fill=T7(s,l,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let l=s.length-1;l>=0;--l){const c=s[l].$filler;c&&(c.line.updateControlPoints(r,c.axis),i&&c.fill&&Ub(e.ctx,c,r))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;dk(r)&&Ub(e.ctx,r,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!dk(i)||n.drawTime!=="beforeDatasetDraw"||Ub(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const yk=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},q7=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class _k extends Ss{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Ce(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=_n(i.font),r=s.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=yk(i,r);let f,p;n.font=s.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,r,c,h)+10):(p=this.maxHeight,f=this._fitCols(l,s,c,h)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:r,maxWidth:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=s+c;let y=t;r.textAlign="left",r.textBaseline="middle";let _=-1,w=-p;return this.legendItems.forEach((E,A)=>{const S=i+n/2+r.measureText(E.text).width;(A===0||f[f.length-1]+S+2*c>l)&&(y+=p,f[f.length-(A>0?0:1)]=0,w+=p,_++),h[A]={left:0,top:w,row:_,width:S,height:s},f[f.length-1]+=S+c}),y}_fitCols(t,n,i,s){const{ctx:r,maxHeight:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-t;let y=c,_=0,w=0,E=0,A=0;return this.legendItems.forEach((S,D)=>{const{itemWidth:I,itemHeight:L}=$7(i,n,r,S,s);D>0&&w+L+2*c>p&&(y+=_+c,f.push({width:_,height:w}),E+=_+c,A++,_=w=0),h[D]={left:E,top:w,col:A,width:I,height:L},_=Math.max(_,I),w+=L+c}),y+=_,f.push({width:_,height:w}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,l=jc(r,this.left,this.width);if(this.isHorizontal()){let c=0,h=si(i,this.left+s,this.right-this.lineWidths[c]);for(const f of n)c!==f.row&&(c=f.row,h=si(i,this.left+s,this.right-this.lineWidths[c])),f.top+=this.top+t+s,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+s}else{let c=0,h=si(i,this.top+t+s,this.bottom-this.columnSizes[c].height);for(const f of n)f.col!==c&&(c=f.col,h=si(i,this.top+t+s,this.bottom-this.columnSizes[c].height)),f.top=h,f.left+=this.left+s,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ym(t,this),this._draw(),Gm(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:l}=t,c=ze.color,h=jc(t.rtl,this.left,this.width),f=_n(l.font),{padding:p}=l,y=f.size,_=y/2;let w;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=f.string;const{boxWidth:E,boxHeight:A,itemHeight:S}=yk(l,y),D=function(Y,C,R){if(isNaN(E)||E<=0||isNaN(A)||A<0)return;s.save();const P=qt(R.lineWidth,1);if(s.fillStyle=qt(R.fillStyle,c),s.lineCap=qt(R.lineCap,"butt"),s.lineDashOffset=qt(R.lineDashOffset,0),s.lineJoin=qt(R.lineJoin,"miter"),s.lineWidth=P,s.strokeStyle=qt(R.strokeStyle,c),s.setLineDash(qt(R.lineDash,[])),l.usePointStyle){const j={radius:A*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:P},U=h.xPlus(Y,E/2),$=C+_;vI(s,j,U,$,l.pointStyleWidth&&E)}else{const j=C+Math.max((y-A)/2,0),U=h.leftForLtr(Y,E),$=fl(R.borderRadius);s.beginPath(),Object.values($).some(F=>F!==0)?If(s,{x:U,y:j,w:E,h:A,radius:$}):s.rect(U,j,E,A),s.fill(),P!==0&&s.stroke()}s.restore()},I=function(Y,C,R){El(s,R.text,Y,C+S/2,f,{strikethrough:R.hidden,textAlign:h.textAlign(R.textAlign)})},L=this.isHorizontal(),z=this._computeTitleHeight();L?w={x:si(r,this.left+p,this.right-i[0]),y:this.top+p+z,line:0}:w={x:this.left+p,y:si(r,this.top+z+p,this.bottom-n[0].height),line:0},RI(this.ctx,t.textDirection);const M=S+p;this.legendItems.forEach((Y,C)=>{s.strokeStyle=Y.fontColor,s.fillStyle=Y.fontColor;const R=s.measureText(Y.text).width,P=h.textAlign(Y.textAlign||(Y.textAlign=l.textAlign)),j=E+_+R;let U=w.x,$=w.y;h.setWidth(this.width),L?C>0&&U+j+p>this.right&&($=w.y+=M,w.line++,U=w.x=si(r,this.left+p,this.right-i[w.line])):C>0&&$+M>this.bottom&&(U=w.x=U+n[w.line].width+p,w.line++,$=w.y=si(r,this.top+z+p,this.bottom-n[w.line].height));const F=h.x(U);if(D(F,$,Y),U=c8(P,U+E+_,L?U+j:this.right,t.rtl),I(h.x(U),$,Y),L)w.x+=j+p;else if(typeof Y.text!="string"){const Mt=f.lineHeight;w.y+=tO(Y,Mt)+p}else w.y+=M}),CI(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=_n(n.font),s=Zn(n.padding);if(!n.display)return;const r=jc(t.rtl,this.left,this.width),l=this.ctx,c=n.position,h=i.size/2,f=s.top+h;let p,y=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+f,y=si(t.align,y,this.right-_);else{const E=this.columnSizes.reduce((A,S)=>Math.max(A,S.height),0);p=f+si(t.align,this.top,this.bottom-E-t.labels.padding-this._computeTitleHeight())}const w=si(c,y,y+_);l.textAlign=r.textAlign(Ex(c)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=i.string,El(l,n.text,w,p,i)}_computeTitleHeight(){const t=this.options.title,n=_n(t.font),i=Zn(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,r;if(Gr(t,this.left,this.right)&&Gr(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],Gr(t,s.left,s.left+s.width)&&Gr(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!Y7(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=q7(s,i);s&&!r&&Ce(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&Ce(n.onHover,[t,i,this],this)}else i&&Ce(n.onClick,[t,i,this],this)}}function $7(e,t,n,i,s){const r=H7(i,e,t,n),l=W7(s,i,t.lineHeight);return{itemWidth:r,itemHeight:l}}function H7(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((r,l)=>r.length>l.length?r:l)),t+n.size/2+i.measureText(s).width}function W7(e,t,n){let i=e;return typeof t.text!="string"&&(i=tO(t,n)),i}function tO(e,t){const n=e.text?e.text.length:0;return t*n}function Y7(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var G7={id:"legend",_element:_k,start(e,t,n){const i=e.legend=new _k({ctx:e.ctx,options:n,chart:e});ci.configure(e,i,n),ci.addBox(e,i)},stop(e){ci.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;ci.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:l,borderRadius:c}}=e.legend.options;return e._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(n?0:void 0),p=Zn(f.borderWidth);return{text:t[h.index].label,fillStyle:f.backgroundColor,fontColor:r,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:s||f.textAlign,borderRadius:l&&(c||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Ix extends Ss{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=je(i.text)?i.text.length:1;this._padding=Zn(i.padding);const r=s*_n(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:r,options:l}=this,c=l.align;let h=0,f,p,y;return this.isHorizontal()?(p=si(c,i,r),y=n+t,f=r-i):(l.position==="left"?(p=i+t,y=si(c,s,n),h=de*-.5):(p=r-t,y=si(c,n,s),h=de*.5),f=s-n),{titleX:p,titleY:y,maxWidth:f,rotation:h}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=_n(n.font),r=i.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:h,rotation:f}=this._drawArgs(r);El(t,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:f,textAlign:Ex(n.align),textBaseline:"middle",translation:[l,c]})}}function K7(e,t){const n=new Ix({ctx:e.ctx,options:t,chart:e});ci.configure(e,n,t),ci.addBox(e,n),e.titleBlock=n}var X7={id:"title",_element:Ix,start(e,t,n){K7(e,n)},stop(e){const t=e.titleBlock;ci.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;ci.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Hp=new WeakMap;var Q7={id:"subtitle",start(e,t,n){const i=new Ix({ctx:e.ctx,options:n,chart:e});ci.configure(e,i,n),ci.addBox(e,i),Hp.set(e,i)},stop(e){ci.removeBox(e,Hp.get(e)),Hp.delete(e)},beforeUpdate(e,t,n){const i=Hp.get(e);ci.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qh={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,r=0;for(t=0,n=e.length;t<n;++t){const c=e[t].element;if(c&&c.hasValue()){const h=c.tooltipPosition();i.add(h.x),s+=h.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((c,h)=>c+h)/i.size,y:s/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,l,c;for(r=0,l=e.length;r<l;++r){const h=e[r].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=z0(t,f);p<s&&(s=p,c=h)}}if(c){const h=c.tooltipPosition();n=h.x,i=h.y}return{x:n,y:i}}};function qs(e,t){return t&&(je(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Br(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Z7(e,t){const{element:n,datasetIndex:i,index:s}=t,r=e.getDatasetMeta(i).controller,{label:l,value:c}=r.getLabelAndValue(s);return{chart:e,label:l,parsed:r.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:c,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function bk(e,t){const n=e.chart.ctx,{body:i,footer:s,title:r}=e,{boxWidth:l,boxHeight:c}=t,h=_n(t.bodyFont),f=_n(t.titleFont),p=_n(t.footerFont),y=r.length,_=s.length,w=i.length,E=Zn(t.padding);let A=E.height,S=0,D=i.reduce((z,M)=>z+M.before.length+M.lines.length+M.after.length,0);if(D+=e.beforeBody.length+e.afterBody.length,y&&(A+=y*f.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),D){const z=t.displayColors?Math.max(c,h.lineHeight):h.lineHeight;A+=w*z+(D-w)*h.lineHeight+(D-1)*t.bodySpacing}_&&(A+=t.footerMarginTop+_*p.lineHeight+(_-1)*t.footerSpacing);let I=0;const L=function(z){S=Math.max(S,n.measureText(z).width+I)};return n.save(),n.font=f.string,ve(e.title,L),n.font=h.string,ve(e.beforeBody.concat(e.afterBody),L),I=t.displayColors?l+2+t.boxPadding:0,ve(i,z=>{ve(z.before,L),ve(z.lines,L),ve(z.after,L)}),I=0,n.font=p.string,ve(e.footer,L),n.restore(),S+=E.width,{width:S,height:A}}function J7(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function tW(e,t,n,i){const{x:s,width:r}=i,l=n.caretSize+n.caretPadding;if(e==="left"&&s+r+l>t.width||e==="right"&&s-r-l<0)return!0}function eW(e,t,n,i){const{x:s,width:r}=n,{width:l,chartArea:{left:c,right:h}}=e;let f="center";return i==="center"?f=s<=(c+h)/2?"left":"right":s<=r/2?f="left":s>=l-r/2&&(f="right"),tW(f,e,t,n)&&(f="center"),f}function vk(e,t,n){const i=n.yAlign||t.yAlign||J7(e,n);return{xAlign:n.xAlign||t.xAlign||eW(e,t,n,i),yAlign:i}}function nW(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function iW(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function xk(e,t,n,i){const{caretSize:s,caretPadding:r,cornerRadius:l}=e,{xAlign:c,yAlign:h}=n,f=s+r,{topLeft:p,topRight:y,bottomLeft:_,bottomRight:w}=fl(l);let E=nW(t,c);const A=iW(t,h,f);return h==="center"?c==="left"?E+=f:c==="right"&&(E-=f):c==="left"?E-=Math.max(p,_)+s:c==="right"&&(E+=Math.max(y,w)+s),{x:zn(E,0,i.width-t.width),y:zn(A,0,i.height-t.height)}}function Wp(e,t,n){const i=Zn(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function wk(e){return qs([],Br(e))}function sW(e,t,n){return bo(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Ek(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const eO={beforeTitle:Ur,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Ur,beforeBody:Ur,beforeLabel:Ur,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Yt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ur,afterBody:Ur,beforeFooter:Ur,footer:Ur,afterFooter:Ur};function Ei(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?eO[t].call(n,i):s}class K0 extends Ss{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new PI(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=sW(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=Ei(i,"beforeTitle",this,t),r=Ei(i,"title",this,t),l=Ei(i,"afterTitle",this,t);let c=[];return c=qs(c,Br(s)),c=qs(c,Br(r)),c=qs(c,Br(l)),c}getBeforeBody(t,n){return wk(Ei(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return ve(t,r=>{const l={before:[],lines:[],after:[]},c=Ek(i,r);qs(l.before,Br(Ei(c,"beforeLabel",this,r))),qs(l.lines,Ei(c,"label",this,r)),qs(l.after,Br(Ei(c,"afterLabel",this,r))),s.push(l)}),s}getAfterBody(t,n){return wk(Ei(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=Ei(i,"beforeFooter",this,t),r=Ei(i,"footer",this,t),l=Ei(i,"afterFooter",this,t);let c=[];return c=qs(c,Br(s)),c=qs(c,Br(r)),c=qs(c,Br(l)),c}_createItems(t){const n=this._active,i=this.chart.data,s=[],r=[],l=[];let c=[],h,f;for(h=0,f=n.length;h<f;++h)c.push(Z7(this.chart,n[h]));return t.filter&&(c=c.filter((p,y,_)=>t.filter(p,y,_,i))),t.itemSort&&(c=c.sort((p,y)=>t.itemSort(p,y,i))),ve(c,p=>{const y=Ek(t.callbacks,p);s.push(Ei(y,"labelColor",this,p)),r.push(Ei(y,"labelPointStyle",this,p)),l.push(Ei(y,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=l,this.dataPoints=c,c}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,l=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const c=qh[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=bk(this,i),f=Object.assign({},c,h),p=vk(this.chart,i,f),y=xk(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,r={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const r=this.getCaretPosition(t,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:y}=fl(c),{x:_,y:w}=t,{width:E,height:A}=n;let S,D,I,L,z,M;return r==="center"?(z=w+A/2,s==="left"?(S=_,D=S-l,L=z+l,M=z-l):(S=_+E,D=S+l,L=z-l,M=z+l),I=S):(s==="left"?D=_+Math.max(h,p)+l:s==="right"?D=_+E-Math.max(f,y)-l:D=this.caretX,r==="top"?(L=w,z=L-l,S=D-l,I=D+l):(L=w+A,z=L+l,S=D+l,I=D-l),M=L),{x1:S,x2:D,x3:I,y1:L,y2:z,y3:M}}drawTitle(t,n,i){const s=this.title,r=s.length;let l,c,h;if(r){const f=jc(i.rtl,this.x,this.width);for(t.x=Wp(this,i.titleAlign,i),n.textAlign=f.textAlign(i.titleAlign),n.textBaseline="middle",l=_n(i.titleFont),c=i.titleSpacing,n.fillStyle=i.titleColor,n.font=l.string,h=0;h<r;++h)n.fillText(s[h],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,h+1===r&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,n,i,s,r){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=r,p=_n(r.bodyFont),y=Wp(this,"left",r),_=s.x(y),w=h<p.lineHeight?(p.lineHeight-h)/2:0,E=n.y+w;if(r.usePointStyle){const A={radius:Math.min(f,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},S=s.leftForLtr(_,f)+f/2,D=E+h/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,F0(t,A,S,D),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,F0(t,A,S,D)}else{t.lineWidth=ne(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const A=s.leftForLtr(_,f),S=s.leftForLtr(s.xPlus(_,1),f-2),D=fl(l.borderRadius);Object.values(D).some(I=>I!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,If(t,{x:A,y:E,w:f,h,radius:D}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),If(t,{x:S,y:E+1,w:f-2,h:h-2,radius:D}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(A,E,f,h),t.strokeRect(A,E,f,h),t.fillStyle=l.backgroundColor,t.fillRect(S,E+1,f-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:f,boxPadding:p}=i,y=_n(i.bodyFont);let _=y.lineHeight,w=0;const E=jc(i.rtl,this.x,this.width),A=function(R){n.fillText(R,E.x(t.x+w),t.y+_/2),t.y+=_+r},S=E.textAlign(l);let D,I,L,z,M,Y,C;for(n.textAlign=l,n.textBaseline="middle",n.font=y.string,t.x=Wp(this,S,i),n.fillStyle=i.bodyColor,ve(this.beforeBody,A),w=c&&S!=="right"?l==="center"?f/2+p:f+2+p:0,z=0,Y=s.length;z<Y;++z){for(D=s[z],I=this.labelTextColors[z],n.fillStyle=I,ve(D.before,A),L=D.lines,c&&L.length&&(this._drawColorBox(n,t,z,E,i),_=Math.max(y.lineHeight,h)),M=0,C=L.length;M<C;++M)A(L[M]),_=y.lineHeight;ve(D.after,A)}w=0,_=y.lineHeight,ve(this.afterBody,A),t.y-=r}drawFooter(t,n,i){const s=this.footer,r=s.length;let l,c;if(r){const h=jc(i.rtl,this.x,this.width);for(t.x=Wp(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=h.textAlign(i.footerAlign),n.textBaseline="middle",l=_n(i.footerFont),n.fillStyle=i.footerColor,n.font=l.string,c=0;c<r;++c)n.fillText(s[c],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:r,yAlign:l}=this,{x:c,y:h}=t,{width:f,height:p}=i,{topLeft:y,topRight:_,bottomLeft:w,bottomRight:E}=fl(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+y,h),l==="top"&&this.drawCaret(t,n,i,s),n.lineTo(c+f-_,h),n.quadraticCurveTo(c+f,h,c+f,h+_),l==="center"&&r==="right"&&this.drawCaret(t,n,i,s),n.lineTo(c+f,h+p-E),n.quadraticCurveTo(c+f,h+p,c+f-E,h+p),l==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(c+w,h+p),n.quadraticCurveTo(c,h+p,c,h+p-w),l==="center"&&r==="left"&&this.drawCaret(t,n,i,s),n.lineTo(c,h+y),n.quadraticCurveTo(c,h,c+y,h),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const l=qh[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=bk(this,t),h=Object.assign({},l,this._size),f=vk(n,t,h),p=xk(t,h,f,n);(s._to!==p.x||r._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Zn(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,n),RI(t,n.textDirection),r.y+=l.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),CI(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:c,index:h})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[h],index:h}}),r=!nm(i,s),l=this._positionChanged(s,n);(r||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],l=this._getActiveElements(t,r,n,i),c=this._positionChanged(l,t),h=n||!nm(l,r)||c;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),h}_getActiveElements(t,n,i,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:i,caretY:s,options:r}=this,l=qh[r.position].call(this,t,n);return l!==!1&&(i!==l.x||s!==l.y)}}wt(K0,"positioners",qh);var rW={id:"tooltip",_element:K0,positioners:qh,afterInit(e,t,n){n&&(e.tooltip=new K0({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:eO},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},aW=Object.freeze({__proto__:null,Colors:_7,Decimation:w7,Filler:F7,Legend:G7,SubTitle:Q7,Title:X7,Tooltip:rW});const oW=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function lW(e,t,n,i){const s=e.indexOf(t);if(s===-1)return oW(e,t,n,i);const r=e.lastIndexOf(t);return s!==r?n:s}const cW=(e,t)=>e===null?null:zn(Math.round(e),0,t);function Sk(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class X0 extends Dl{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Yt(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:lW(i,t,qt(n,t),this._addedLabels),cW(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=n;l++)s.push({value:l});return s}getLabelForValue(t){return Sk.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}wt(X0,"id","category"),wt(X0,"defaults",{ticks:{callback:Sk}});function uW(e,t){const n=[],{bounds:s,step:r,min:l,max:c,precision:h,count:f,maxTicks:p,maxDigits:y,includeBounds:_}=e,w=r||1,E=p-1,{min:A,max:S}=t,D=!Yt(l),I=!Yt(c),L=!Yt(f),z=(S-A)/(y+1);let M=bA((S-A)/E/w)*w,Y,C,R,P;if(M<1e-14&&!D&&!I)return[{value:A},{value:S}];P=Math.ceil(S/M)-Math.floor(A/M),P>E&&(M=bA(P*M/E/w)*w),Yt(h)||(Y=Math.pow(10,h),M=Math.ceil(M*Y)/Y),s==="ticks"?(C=Math.floor(A/M)*M,R=Math.ceil(S/M)*M):(C=A,R=S),D&&I&&r&&n8((c-l)/r,M/1e3)?(P=Math.round(Math.min((c-l)/M,p)),M=(c-l)/P,C=l,R=c):L?(C=D?l:C,R=I?c:R,P=f-1,M=(R-C)/P):(P=(R-C)/M,tf(P,Math.round(P),M/1e3)?P=Math.round(P):P=Math.ceil(P));const j=Math.max(vA(M),vA(C));Y=Math.pow(10,Yt(h)?j:h),C=Math.round(C*Y)/Y,R=Math.round(R*Y)/Y;let U=0;for(D&&(_&&C!==l?(n.push({value:l}),C<l&&U++,tf(Math.round((C+U*M)*Y)/Y,l,Tk(l,z,e))&&U++):C<l&&U++);U<P;++U){const $=Math.round((C+U*M)*Y)/Y;if(I&&$>c)break;n.push({value:$})}return I&&_&&R!==c?n.length&&tf(n[n.length-1].value,c,Tk(c,z,e))?n[n.length-1].value=c:n.push({value:c}):(!I||R===c)&&n.push({value:R}),n}function Tk(e,t,{horizontal:n,minRotation:i}){const s=_s(i),r=(n?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+e).length;return Math.min(t/r,l)}class cm extends Dl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Yt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const l=h=>s=n?s:h,c=h=>r=i?r:h;if(t){const h=nr(s),f=nr(r);h<0&&f<0?c(0):h>0&&f>0&&l(0)}if(s===r){let h=r===0?1:Math.abs(r*.05);c(r+h),t||l(s-h)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,l=uW(s,r);return t.bounds==="ticks"&&hI(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return td(t,this.chart.options.locale,this.options.ticks.format)}}class Q0 extends cm{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Ze(t)?t:0,this.max=Ze(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=_s(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}wt(Q0,"id","linear"),wt(Q0,"defaults",{ticks:{callback:Wm.formatters.numeric}});const Pf=e=>Math.floor(Ga(e)),Jo=(e,t)=>Math.pow(10,Pf(e)+t);function Ak(e){return e/Math.pow(10,Pf(e))===1}function kk(e,t,n){const i=Math.pow(10,n),s=Math.floor(e/i);return Math.ceil(t/i)-s}function hW(e,t){const n=t-e;let i=Pf(n);for(;kk(e,t,i)>10;)i++;for(;kk(e,t,i)<10;)i--;return Math.min(i,Pf(e))}function fW(e,{min:t,max:n}){t=ji(e.min,t);const i=[],s=Pf(t);let r=hW(t,n),l=r<0?Math.pow(10,Math.abs(r)):1;const c=Math.pow(10,r),h=s>r?Math.pow(10,s):0,f=Math.round((t-h)*l)/l,p=Math.floor((t-h)/c/10)*c*10;let y=Math.floor((f-p)/Math.pow(10,r)),_=ji(e.min,Math.round((h+p+y*Math.pow(10,r))*l)/l);for(;_<n;)i.push({value:_,major:Ak(_),significand:y}),y>=10?y=y<15?15:20:y++,y>=20&&(r++,y=2,l=r>=0?1:l),_=Math.round((h+p+y*Math.pow(10,r))*l)/l;const w=ji(e.max,_);return i.push({value:w,major:Ak(w),significand:y}),i}class Z0 extends Dl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=cm.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return Ze(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Ze(t)?Math.max(0,t):null,this.max=Ze(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ze(this._userMin)&&(this.min=t===Jo(this.min,0)?Jo(this.min,-1):Jo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=c=>i=t?i:c,l=c=>s=n?s:c;i===s&&(i<=0?(r(1),l(10)):(r(Jo(i,-1)),l(Jo(s,1)))),i<=0&&r(Jo(s,-1)),s<=0&&l(Jo(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=fW(n,this);return t.bounds==="ticks"&&hI(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":td(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Ga(t),this._valueRange=Ga(this.max)-Ga(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ga(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}wt(Z0,"id","logarithmic"),wt(Z0,"defaults",{ticks:{callback:Wm.formatters.logarithmic,major:{enabled:!0}}});function J0(e){const t=e.ticks;if(t.display&&e.display){const n=Zn(t.backdropPadding);return qt(t.font&&t.font.size,ze.font.size)+n.height}return 0}function dW(e,t,n){return n=je(n)?n:[n],{w:b8(e,t.string,n),h:n.length*t.lineHeight}}function Rk(e,t,n,i,s){return e===i||e===s?{start:t-n/2,end:t+n/2}:e<i||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function pW(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],s=[],r=e._pointLabels.length,l=e.options.pointLabels,c=l.centerPointLabels?de/r:0;for(let h=0;h<r;h++){const f=l.setContext(e.getPointLabelContext(h));s[h]=f.padding;const p=e.getPointPosition(h,e.drawingArea+s[h],c),y=_n(f.font),_=dW(e.ctx,y,e._pointLabels[h]);i[h]=_;const w=oi(e.getIndexAngle(h)+c),E=Math.round(xx(w)),A=Rk(E,p.x,_.w,0,180),S=Rk(E,p.y,_.h,90,270);gW(n,t,w,A,S)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=_W(e,i,s)}function gW(e,t,n,i,s){const r=Math.abs(Math.sin(n)),l=Math.abs(Math.cos(n));let c=0,h=0;i.start<t.l?(c=(t.l-i.start)/r,e.l=Math.min(e.l,t.l-c)):i.end>t.r&&(c=(i.end-t.r)/r,e.r=Math.max(e.r,t.r+c)),s.start<t.t?(h=(t.t-s.start)/l,e.t=Math.min(e.t,t.t-h)):s.end>t.b&&(h=(s.end-t.b)/l,e.b=Math.max(e.b,t.b+h))}function mW(e,t,n){const i=e.drawingArea,{extra:s,additionalAngle:r,padding:l,size:c}=n,h=e.getPointPosition(t,i+s+l,r),f=Math.round(xx(oi(h.angle+sn))),p=xW(h.y,c.h,f),y=bW(f),_=vW(h.x,c.w,y);return{visible:!0,x:h.x,y:p,textAlign:y,left:_,top:p,right:_+c.w,bottom:p+c.h}}function yW(e,t){if(!t)return!0;const{left:n,top:i,right:s,bottom:r}=e;return!(Xr({x:n,y:i},t)||Xr({x:n,y:r},t)||Xr({x:s,y:i},t)||Xr({x:s,y:r},t))}function _W(e,t,n){const i=[],s=e._pointLabels.length,r=e.options,{centerPointLabels:l,display:c}=r.pointLabels,h={extra:J0(r)/2,additionalAngle:l?de/s:0};let f;for(let p=0;p<s;p++){h.padding=n[p],h.size=t[p];const y=mW(e,p,h);i.push(y),c==="auto"&&(y.visible=yW(y,f),y.visible&&(f=y))}return i}function bW(e){return e===0||e===180?"center":e<180?"left":"right"}function vW(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function xW(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function wW(e,t,n){const{left:i,top:s,right:r,bottom:l}=n,{backdropColor:c}=t;if(!Yt(c)){const h=fl(t.borderRadius),f=Zn(t.backdropPadding);e.fillStyle=c;const p=i-f.left,y=s-f.top,_=r-i+f.width,w=l-s+f.height;Object.values(h).some(E=>E!==0)?(e.beginPath(),If(e,{x:p,y,w:_,h:w,radius:h}),e.fill()):e.fillRect(p,y,_,w)}}function EW(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){const r=e._pointLabelItems[s];if(!r.visible)continue;const l=i.setContext(e.getPointLabelContext(s));wW(n,l,r);const c=_n(l.font),{x:h,y:f,textAlign:p}=r;El(n,e._pointLabels[s],h,f+c.lineHeight/2,c,{color:l.color,textAlign:p,textBaseline:"middle"})}}function nO(e,t,n,i){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,Ue);else{let r=e.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let l=1;l<i;l++)r=e.getPointPosition(l,t),s.lineTo(r.x,r.y)}}function SW(e,t,n,i,s){const r=e.ctx,l=t.circular,{color:c,lineWidth:h}=t;!l&&!i||!c||!h||n<0||(r.save(),r.strokeStyle=c,r.lineWidth=h,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),nO(e,n,l,i),r.closePath(),r.stroke(),r.restore())}function TW(e,t,n){return bo(e,{label:n,index:t,type:"pointLabel"})}class $h extends cm{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Zn(J0(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Ze(t)&&!isNaN(t)?t:0,this.max=Ze(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/J0(this.options))}generateTickLabels(t){cm.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const s=Ce(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?pW(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,s){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,s))}getIndexAngle(t){const n=Ue/(this._pointLabels.length||1),i=this.options.startAngle||0;return oi(t*n+_s(i))}getDistanceFromCenterForValue(t){if(Yt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(Yt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return TW(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const s=this.getIndexAngle(t)-sn+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),nO(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,l=this._pointLabels.length;let c,h,f;if(n.pointLabels.display&&EW(this,l),s.display&&this.ticks.forEach((p,y)=>{if(y!==0||y===0&&this.min<0){h=this.getDistanceFromCenterForValue(p.value);const _=this.getContext(y),w=s.setContext(_),E=r.setContext(_);SW(this,w,h,l,E)}}),i.display){for(t.save(),c=l-1;c>=0;c--){const p=i.setContext(this.getPointLabelContext(c)),{color:y,lineWidth:_}=p;!_||!y||(t.lineWidth=_,t.strokeStyle=y,t.setLineDash(p.borderDash),t.lineDashOffset=p.borderDashOffset,h=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),f=this.getPointPosition(c,h),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(f.x,f.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,h)=>{if(h===0&&this.min>=0&&!n.reverse)return;const f=i.setContext(this.getContext(h)),p=_n(f.font);if(r=this.getDistanceFromCenterForValue(this.ticks[h].value),f.showLabelBackdrop){t.font=p.string,l=t.measureText(c.label).width,t.fillStyle=f.backdropColor;const y=Zn(f.backdropPadding);t.fillRect(-l/2-y.left,-r-p.size/2-y.top,l+y.width,p.size+y.height)}El(t,c.label,0,-r,p,{color:f.color,strokeColor:f.textStrokeColor,strokeWidth:f.textStrokeWidth})}),t.restore()}drawTitle(){}}wt($h,"id","radialLinear"),wt($h,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Wm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),wt($h,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),wt($h,"descriptors",{angleLines:{_fallback:"grid"}});const Zm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ki=Object.keys(Zm);function Ck(e,t){return e-t}function Dk(e,t){if(Yt(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:r}=e._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),Ze(l)||(l=typeof i=="string"?n.parse(l,i):n.parse(l)),l===null?null:(s&&(l=s==="week"&&(Jc(r)||r===!0)?n.startOf(l,"isoWeek",r):n.startOf(l,s)),+l)}function Mk(e,t,n,i){const s=ki.length;for(let r=ki.indexOf(e);r<s-1;++r){const l=Zm[ki[r]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-t)/(c*l.size))<=i)return ki[r]}return ki[s-1]}function AW(e,t,n,i,s){for(let r=ki.length-1;r>=ki.indexOf(n);r--){const l=ki[r];if(Zm[l].common&&e._adapter.diff(s,i,l)>=t-1)return l}return ki[n?ki.indexOf(n):0]}function kW(e){for(let t=ki.indexOf(e)+1,n=ki.length;t<n;++t)if(Zm[ki[t]].common)return ki[t]}function Ik(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=wx(n,t),r=n[i]>=t?n[i]:n[s];e[r]=!0}}function RW(e,t,n,i){const s=e._adapter,r=+s.startOf(t[0].value,i),l=t[t.length-1].value;let c,h;for(c=r;c<=l;c=+s.add(c,1,i))h=n[c],h>=0&&(t[h].major=!0);return t}function Ok(e,t,n){const i=[],s={},r=t.length;let l,c;for(l=0;l<r;++l)c=t[l],s[c]=l,i.push({value:c,major:!1});return r===0||!n?i:RW(e,i,s,n)}class Nf extends Dl{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new L$._date(t.adapters.date);s.init(n),Jh(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Dk(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:r,minDefined:l,maxDefined:c}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!c&&!isNaN(f.max)&&(r=Math.max(r,f.max))}(!l||!c)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=Ze(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=Ze(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,l=this.max,c=a8(s,r,l);return this._unit=n.unit||(i.autoSkip?Mk(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):AW(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:kW(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),Ok(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=zn(n,0,l),i=zn(i,0,l),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,l=r.unit||Mk(r.minUnit,n,i,this._getLabelCapacity(n)),c=qt(s.ticks.stepSize,1),h=l==="week"?r.isoWeekday:!1,f=Jc(h)||h===!0,p={};let y=n,_,w;if(f&&(y=+t.startOf(y,"isoWeek",h)),y=+t.startOf(y,f?"day":l),t.diff(i,n,l)>1e5*c)throw new Error(n+" and "+i+" are too far apart with stepSize of "+c+" "+l);const E=s.ticks.source==="data"&&this.getDataTimestamps();for(_=y,w=0;_<i;_=+t.add(_,c,l),w++)Ik(p,_,E);return(_===i||s.bounds==="ticks"||w===1)&&Ik(p,_,E),Object.keys(p).sort(Ck).map(A=>+A)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,r=this._unit,l=n||s[r];return this._adapter.format(t,l)}_tickFormatFunction(t,n,i,s){const r=this.options,l=r.ticks.callback;if(l)return Ce(l,[t,n,i],this);const c=r.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&c[h],y=f&&c[f],_=i[n],w=f&&y&&_&&_.major;return this._adapter.format(t,s||(w?y:p))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=_s(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*r+c*l,h:i*l+c*r}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(t,0,Ok(this,[t],this._majorUnit),s),l=this._getLabelSize(r),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(Dk(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return pI(t.sort(Ck))}}wt(Nf,"id","time"),wt(Nf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Yp(e,t,n){let i=0,s=e.length-1,r,l,c,h;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=Kr(e,"pos",t)),{pos:r,time:c}=e[i],{pos:l,time:h}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=Kr(e,"time",t)),{time:r,pos:c}=e[i],{time:l,pos:h}=e[s]);const f=l-r;return f?c+(h-c)*(t-r)/f:c}class tv extends Nf{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Yp(n,this.min),this._tableRange=Yp(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],r=[];let l,c,h,f,p;for(l=0,c=t.length;l<c;++l)f=t[l],f>=n&&f<=i&&s.push(f);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(l=0,c=s.length;l<c;++l)p=s[l+1],h=s[l-1],f=s[l],Math.round((p+h)/2)!==f&&r.push({time:f,pos:l/(c-1)});return r}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Yp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Yp(this._table,i*this._tableRange+this._minPos,!0)}}wt(tv,"id","timeseries"),wt(tv,"defaults",Nf.defaults);var CW=Object.freeze({__proto__:null,CategoryScale:X0,LinearScale:Q0,LogarithmicScale:Z0,RadialLinearScale:$h,TimeScale:Nf,TimeSeriesScale:tv});const DW=[N$,h7,aW,CW];/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var Pk=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),of={toTextLines:function(e){var t=[],n;for(e=[].concat(e);e.length;)n=e.pop(),typeof n=="string"?t.unshift.apply(t,n.split(`
`)):Array.isArray(n)?e.push.apply(e,n):Yt(e)||t.unshift(""+n);return t},textSize:function(e,t,n){var i=[].concat(t),s=i.length,r=e.font,l=0,c;for(e.font=n.string,c=0;c<s;++c)l=Math.max(e.measureText(i[c]).width,l);return e.font=r,{height:s*n.lineHeight,width:l}},bound:function(e,t,n){return Math.max(e,Math.min(t,n))},arrayDiff:function(e,t){var n=e.slice(),i=[],s,r,l,c;for(s=0,l=t.length;s<l;++s)c=t[s],r=n.indexOf(c),r===-1?i.push([c,1]):n.splice(r,1);for(s=0,l=n.length;s<l;++s)i.push([n[s],-1]);return i},rasterize:function(e){return Math.round(e*Pk)/Pk}};function Bb(e,t){var n=t.x,i=t.y;if(n===null)return{x:0,y:-1};if(i===null)return{x:1,y:0};var s=e.x-n,r=e.y-i,l=Math.sqrt(s*s+r*r);return{x:l?s/l:0,y:l?r/l:-1}}function MW(e,t,n,i,s){switch(s){case"center":n=i=0;break;case"bottom":n=0,i=1;break;case"right":n=1,i=0;break;case"left":n=-1,i=0;break;case"top":n=0,i=-1;break;case"start":n=-n,i=-i;break;case"end":break;default:s*=Math.PI/180,n=Math.cos(s),i=Math.sin(s);break}return{x:e,y:t,vx:n,vy:i}}var IW=0,iO=1,sO=2,rO=4,aO=8;function Gp(e,t,n){var i=IW;return e<n.left?i|=iO:e>n.right&&(i|=sO),t<n.top?i|=aO:t>n.bottom&&(i|=rO),i}function OW(e,t){for(var n=e.x0,i=e.y0,s=e.x1,r=e.y1,l=Gp(n,i,t),c=Gp(s,r,t),h,f,p;!(!(l|c)||l&c);)h=l||c,h&aO?(f=n+(s-n)*(t.top-i)/(r-i),p=t.top):h&rO?(f=n+(s-n)*(t.bottom-i)/(r-i),p=t.bottom):h&sO?(p=i+(r-i)*(t.right-n)/(s-n),f=t.right):h&iO&&(p=i+(r-i)*(t.left-n)/(s-n),f=t.left),h===l?(n=f,i=p,l=Gp(n,i,t)):(s=f,r=p,c=Gp(s,r,t));return{x0:n,x1:s,y0:i,y1:r}}function Kp(e,t){var n=t.anchor,i=e,s,r;return t.clamp&&(i=OW(i,t.area)),n==="start"?(s=i.x0,r=i.y0):n==="end"?(s=i.x1,r=i.y1):(s=(i.x0+i.x1)/2,r=(i.y0+i.y1)/2),MW(s,r,e.vx,e.vy,t.align)}var Xp={arc:function(e,t){var n=(e.startAngle+e.endAngle)/2,i=Math.cos(n),s=Math.sin(n),r=e.innerRadius,l=e.outerRadius;return Kp({x0:e.x+i*r,y0:e.y+s*r,x1:e.x+i*l,y1:e.y+s*l,vx:i,vy:s},t)},point:function(e,t){var n=Bb(e,t.origin),i=n.x*e.options.radius,s=n.y*e.options.radius;return Kp({x0:e.x-i,y0:e.y-s,x1:e.x+i,y1:e.y+s,vx:n.x,vy:n.y},t)},bar:function(e,t){var n=Bb(e,t.origin),i=e.x,s=e.y,r=0,l=0;return e.horizontal?(i=Math.min(e.x,e.base),r=Math.abs(e.base-e.x)):(s=Math.min(e.y,e.base),l=Math.abs(e.base-e.y)),Kp({x0:i,y0:s+l,x1:i+r,y1:s,vx:n.x,vy:n.y},t)},fallback:function(e,t){var n=Bb(e,t.origin);return Kp({x0:e.x,y0:e.y,x1:e.x+(e.width||0),y1:e.y+(e.height||0),vx:n.x,vy:n.y},t)}},Qr=of.rasterize;function PW(e){var t=e.borderWidth||0,n=e.padding,i=e.size.height,s=e.size.width,r=-s/2,l=-i/2;return{frame:{x:r-n.left-t,y:l-n.top-t,w:s+n.width+t*2,h:i+n.height+t*2},text:{x:r,y:l,w:s,h:i}}}function NW(e,t){var n=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var i=n.getBasePixel();return e.horizontal?{x:i,y:null}:{x:null,y:i}}function LW(e){return e instanceof Mc?Xp.arc:e instanceof rf?Xp.point:e instanceof af?Xp.bar:Xp.fallback}function VW(e,t,n,i,s,r){var l=Math.PI/2;if(r){var c=Math.min(r,s/2,i/2),h=t+c,f=n+c,p=t+i-c,y=n+s-c;e.moveTo(t,f),h<p&&f<y?(e.arc(h,f,c,-Math.PI,-l),e.arc(p,f,c,-l,0),e.arc(p,y,c,0,l),e.arc(h,y,c,l,Math.PI)):h<p?(e.moveTo(h,n),e.arc(p,f,c,-l,l),e.arc(h,f,c,l,Math.PI+l)):f<y?(e.arc(h,f,c,-Math.PI,0),e.arc(h,y,c,0,Math.PI)):e.arc(h,f,c,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,i,s)}function jW(e,t,n){var i=n.backgroundColor,s=n.borderColor,r=n.borderWidth;!i&&(!s||!r)||(e.beginPath(),VW(e,Qr(t.x)+r/2,Qr(t.y)+r/2,Qr(t.w)-r,Qr(t.h)-r,n.borderRadius),e.closePath(),i&&(e.fillStyle=i,e.fill()),s&&r&&(e.strokeStyle=s,e.lineWidth=r,e.lineJoin="miter",e.stroke()))}function UW(e,t,n){var i=n.lineHeight,s=e.w,r=e.x,l=e.y+i/2;return t==="center"?r+=s/2:(t==="end"||t==="right")&&(r+=s),{h:i,w:s,x:r,y:l}}function zW(e,t,n){var i=e.shadowBlur,s=n.stroked,r=Qr(n.x),l=Qr(n.y),c=Qr(n.w);s&&e.strokeText(t,r,l,c),n.filled&&(i&&s&&(e.shadowBlur=0),e.fillText(t,r,l,c),i&&s&&(e.shadowBlur=i))}function BW(e,t,n,i){var s=i.textAlign,r=i.color,l=!!r,c=i.font,h=t.length,f=i.textStrokeColor,p=i.textStrokeWidth,y=f&&p,_;if(!(!h||!l&&!y))for(n=UW(n,s,c),e.font=c.string,e.textAlign=s,e.textBaseline="middle",e.shadowBlur=i.textShadowBlur,e.shadowColor=i.textShadowColor,l&&(e.fillStyle=r),y&&(e.lineJoin="round",e.lineWidth=p,e.strokeStyle=f),_=0,h=t.length;_<h;++_)zW(e,t[_],{stroked:y,filled:l,w:n.w,x:n.x,y:n.y+n.h*_})}var oO=function(e,t,n,i){var s=this;s._config=e,s._index=i,s._model=null,s._rects=null,s._ctx=t,s._el=n};rr(oO.prototype,{_modelize:function(e,t,n,i){var s=this,r=s._index,l=_n(Ve([n.font,{}],i,r)),c=Ve([n.color,ze.color],i,r);return{align:Ve([n.align,"center"],i,r),anchor:Ve([n.anchor,"center"],i,r),area:i.chart.chartArea,backgroundColor:Ve([n.backgroundColor,null],i,r),borderColor:Ve([n.borderColor,null],i,r),borderRadius:Ve([n.borderRadius,0],i,r),borderWidth:Ve([n.borderWidth,0],i,r),clamp:Ve([n.clamp,!1],i,r),clip:Ve([n.clip,!1],i,r),color:c,display:e,font:l,lines:t,offset:Ve([n.offset,4],i,r),opacity:Ve([n.opacity,1],i,r),origin:NW(s._el,i),padding:Zn(Ve([n.padding,4],i,r)),positioner:LW(s._el),rotation:Ve([n.rotation,0],i,r)*(Math.PI/180),size:of.textSize(s._ctx,t,l),textAlign:Ve([n.textAlign,"start"],i,r),textShadowBlur:Ve([n.textShadowBlur,0],i,r),textShadowColor:Ve([n.textShadowColor,c],i,r),textStrokeColor:Ve([n.textStrokeColor,c],i,r),textStrokeWidth:Ve([n.textStrokeWidth,0],i,r)}},update:function(e){var t=this,n=null,i=null,s=t._index,r=t._config,l,c,h,f=Ve([r.display,!0],e,s);f&&(l=e.dataset.data[s],c=qt(Ce(r.formatter,[l,e]),l),h=Yt(c)?[]:of.toTextLines(c),h.length&&(n=t._modelize(f,h,r,e),i=PW(n))),t._model=n,t._rects=i},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var n=this,i=e.ctx,s=n._model,r=n._rects,l;this.visible()&&(i.save(),s.clip&&(l=s.area,i.beginPath(),i.rect(l.left,l.top,l.right-l.left,l.bottom-l.top),i.clip()),i.globalAlpha=of.bound(0,s.opacity,1),i.translate(Qr(t.x),Qr(t.y)),i.rotate(s.rotation),jW(i,r.frame,s),BW(i,s.lines,r.text,s),i.restore())}});var FW=Number.MIN_SAFE_INTEGER||-9007199254740991,qW=Number.MAX_SAFE_INTEGER||9007199254740991;function Rh(e,t,n){var i=Math.cos(n),s=Math.sin(n),r=t.x,l=t.y;return{x:r+i*(e.x-r)-s*(e.y-l),y:l+s*(e.x-r)+i*(e.y-l)}}function Nk(e,t){var n=qW,i=FW,s=t.origin,r,l,c,h,f;for(r=0;r<e.length;++r)l=e[r],c=l.x-s.x,h=l.y-s.y,f=t.vx*c+t.vy*h,n=Math.min(n,f),i=Math.max(i,f);return{min:n,max:i}}function Qp(e,t){var n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);return{vx:(t.x-e.x)/s,vy:(t.y-e.y)/s,origin:e,ln:s}}var lO=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};rr(lO.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,n){this._rotation=n,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,n=1,i=t._rect;return e=Rh(e,t.center(),-t._rotation),!(e.x<i.x-n||e.y<i.y-n||e.x>i.x+i.w+n*2||e.y>i.y+i.h+n*2)},intersects:function(e){var t=this._points(),n=e._points(),i=[Qp(t[0],t[1]),Qp(t[0],t[3])],s,r,l;for(this._rotation!==e._rotation&&i.push(Qp(n[0],n[1]),Qp(n[0],n[3])),s=0;s<i.length;++s)if(r=Nk(t,i[s]),l=Nk(n,i[s]),r.max<l.min||l.max<r.min)return!1;return!0},_points:function(){var e=this,t=e._rect,n=e._rotation,i=e.center();return[Rh({x:t.x,y:t.y},i,n),Rh({x:t.x+t.w,y:t.y},i,n),Rh({x:t.x+t.w,y:t.y+t.h},i,n),Rh({x:t.x,y:t.y+t.h},i,n)]}});function cO(e,t,n){var i=t.positioner(e,t),s=i.vx,r=i.vy;if(!s&&!r)return{x:i.x,y:i.y};var l=n.w,c=n.h,h=t.rotation,f=Math.abs(l/2*Math.cos(h))+Math.abs(c/2*Math.sin(h)),p=Math.abs(l/2*Math.sin(h))+Math.abs(c/2*Math.cos(h)),y=1/Math.max(Math.abs(s),Math.abs(r));return f*=s*y,p*=r*y,f+=t.offset*s,p+=t.offset*r,{x:i.x+f,y:i.y+p}}function $W(e,t){var n,i,s,r;for(n=e.length-1;n>=0;--n)for(s=e[n].$layout,i=n-1;i>=0&&s._visible;--i)r=e[i].$layout,r._visible&&s._box.intersects(r._box)&&t(s,r);return e}function HW(e){var t,n,i,s,r,l,c;for(t=0,n=e.length;t<n;++t)i=e[t],s=i.$layout,s._visible&&(c=new Proxy(i._el,{get:(h,f)=>h.getProps([f],!0)[f]}),r=i.geometry(),l=cO(c,i.model(),r),s._box.update(l,r,i.rotation()));return $W(e,function(h,f){var p=h._hidable,y=f._hidable;p&&y||y?f._visible=!1:p&&(h._visible=!1)})}var lf={prepare:function(e){var t=[],n,i,s,r,l;for(n=0,s=e.length;n<s;++n)for(i=0,r=e[n].length;i<r;++i)l=e[n][i],t.push(l),l.$layout={_box:new lO,_hidable:!1,_visible:!0,_set:n,_idx:l._index};return t.sort(function(c,h){var f=c.$layout,p=h.$layout;return f._idx===p._idx?p._set-f._set:p._idx-f._idx}),this.update(t),t},update:function(e){var t=!1,n,i,s,r,l;for(n=0,i=e.length;n<i;++n)s=e[n],r=s.model(),l=s.$layout,l._hidable=r&&r.display==="auto",l._visible=s.visible(),t|=l._hidable;t&&HW(e)},lookup:function(e,t){var n,i;for(n=e.length-1;n>=0;--n)if(i=e[n].$layout,i&&i._visible&&i._box.contains(t))return e[n];return null},draw:function(e,t){var n,i,s,r,l,c;for(n=0,i=t.length;n<i;++n)s=t[n],r=s.$layout,r._visible&&(l=s.geometry(),c=cO(s._el,s.model(),l),r._box.update(c,l,s.rotation()),s.draw(e,c))}},WW=function(e){if(Yt(e))return null;var t=e,n,i,s;if(ne(e))if(!Yt(e.label))t=e.label;else if(!Yt(e.r))t=e.r;else for(t="",n=Object.keys(e),s=0,i=n.length;s<i;++s)t+=(s!==0?", ":"")+n[s]+": "+e[n[s]];return""+t},YW={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:WW,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},Si="$datalabels",uO="$default";function GW(e,t){var n=e.datalabels,i={},s=[],r,l;return n===!1?null:(n===!0&&(n={}),t=rr({},[t,n]),r=t.labels||{},l=Object.keys(r),delete t.labels,l.length?l.forEach(function(c){r[c]&&s.push(rr({},[t,r[c],{_key:c}]))}):s.push(t),i=s.reduce(function(c,h){return ve(h.listeners||{},function(f,p){c[p]=c[p]||{},c[p][h._key||uO]=f}),delete h.listeners,c},{}),{labels:s,listeners:i})}function ev(e,t,n,i){if(t){var s=n.$context,r=n.$groups,l;t[r._set]&&(l=t[r._set][r._key],l&&Ce(l,[s,i])===!0&&(e[Si]._dirty=!0,n.update(s)))}}function KW(e,t,n,i,s){var r,l;!n&&!i||(n?i?n!==i&&(l=r=!0):l=!0:r=!0,l&&ev(e,t.leave,n,s),r&&ev(e,t.enter,i,s))}function XW(e,t){var n=e[Si],i=n._listeners,s,r;if(!(!i.enter&&!i.leave)){if(t.type==="mousemove")r=lf.lookup(n._labels,t);else if(t.type!=="mouseout")return;s=n._hovered,n._hovered=r,KW(e,i,s,r,t)}}function QW(e,t){var n=e[Si],i=n._listeners.click,s=i&&lf.lookup(n._labels,t);s&&ev(e,i,s,t)}var ZW={id:"datalabels",defaults:YW,beforeInit:function(e){e[Si]={_actives:[]}},beforeUpdate:function(e){var t=e[Si];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,n){var i=t.index,s=e[Si],r=s._datasets[i]=[],l=e.isDatasetVisible(i),c=e.data.datasets[i],h=GW(c,n),f=t.meta.data||[],p=e.ctx,y,_,w,E,A,S,D,I;for(p.save(),y=0,w=f.length;y<w;++y)if(D=f[y],D[Si]=[],l&&D&&e.getDataVisibility(y)&&!D.skip)for(_=0,E=h.labels.length;_<E;++_)A=h.labels[_],S=A._key,I=new oO(A,p,D,y),I.$groups={_set:i,_key:S||uO},I.$context={active:!1,chart:e,dataIndex:y,dataset:c,datasetIndex:i},I.update(I.$context),D[Si].push(I),r.push(I);p.restore(),rr(s._listeners,h.listeners,{merger:function(L,z,M){z[L]=z[L]||{},z[L][t.index]=M[L],s._listened=!0}})},afterUpdate:function(e){e[Si]._labels=lf.prepare(e[Si]._datasets)},afterDatasetsDraw:function(e){lf.draw(e,e[Si]._labels)},beforeEvent:function(e,t){if(e[Si]._listened){var n=t.event;switch(n.type){case"mousemove":case"mouseout":XW(e,n);break;case"click":QW(e,n);break}}},afterEvent:function(e){var t=e[Si],n=t._actives,i=t._actives=e.getActiveElements(),s=of.arrayDiff(n,i),r,l,c,h,f,p,y;for(r=0,l=s.length;r<l;++r)if(f=s[r],f[1])for(y=f[0].element[Si]||[],c=0,h=y.length;c<h;++c)p=y[c],p.$context.active=f[1]===1,p.update(p.$context);(t._dirty||s.length)&&(lf.update(t._labels),e.render()),delete t._dirty}};_i.register(...DW,ZW);const Zp=["#4e79a7","#ff9da7","#59a14f","#9c755f","#edc949","#e15759","#76b7b2","#f28e2b","#af7aa1","#bab0ab"],Lk={homeplus:704,nsmall:812},um=e=>String(e??"").replace(/\s+/g,"").toLowerCase(),Fb=e=>um(e.company)==="homeplus",qb=e=>["nsmall","n-small"].includes(um(e.company));function Jp(e){const t=[e.request_date,e.open_date,e.created_date,e.designer_start_date,e.designer_end_date];for(const n of t){if(!n)continue;if(typeof(n==null?void 0:n.toDate)=="function")return n.toDate().getTime();if(n instanceof Date)return n.getTime();const i=new Date(n).getTime();if(!Number.isNaN(i))return i}return null}const Vk=e=>e.reduce((t,n)=>t+(+n||0),0);function tg(e){const t=new Map;for(const n of e){const i=n&&String(n).trim()||"기타";t.set(i,(t.get(i)||0)+1)}return Array.from(t,([n,i])=>({name:n,value:i}))}function eg(e){if(!e)return"대기";const t=e.replace(/\s/g,"");return/(진행)/.test(t)?"진행중":/(검수중)/.test(t)?"검수중":/(검수요청)/.test(t)?"검수요청":/(완료)/.test(t)?"완료":/(취소|cancel)/i.test(t)?"취소":/(대기)/.test(t)?"대기":e}const ng=e=>{const t=new Date(e).getDay();return t===0||t===6},$b=e=>{const t=new Date(e);return`${t.getFullYear()}.${String(t.getMonth()+1).padStart(2,"0")}.${String(t.getDate()).padStart(2,"0")}`};function JW(e){const t=new Date(e),n=t.getDay(),i=n===0?-6:1-n,s=new Date(t);s.setDate(t.getDate()+i);const r=new Date(s);r.setDate(s.getDate()+4);const l=new Date(s.getFullYear(),s.getMonth(),s.getDate()).getTime(),c=new Date(r.getFullYear(),r.getMonth(),r.getDate(),23,59,59,999).getTime();return{start:l,end:c}}function tY(e){const t=new Date(e.getFullYear(),e.getMonth(),1),n=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:t.getTime(),end:n.getTime()}}function jk(e,t){let n=0,i=new Date(e);for(;i.getTime()<=t;){const s=i.getDay();s>=1&&s<=5&&n++,i.setDate(i.getDate()+1)}return n}function Ox({capacityHoursPerMonth:e}){var gt;const t=new Date,[n,i]=V.useState({y:t.getFullYear(),m:t.getMonth()+1}),s=`${n.y}.${String(n.m).padStart(2,"0")}`,[r]=V.useState(new Date),[l,c]=V.useState("day"),[h,f]=V.useState(null),[p,y]=V.useState(""),[_,w]=V.useState(!1),[E,A]=V.useState("homeplus");V.useEffect(()=>{const J=Cl(os,async pt=>{if(!pt){f(null),y(""),w(!0);return}const yt=await Xc(Xn(Jt,"users",pt.uid));if(yt.exists()){const vt=yt.data();f(Number((vt==null?void 0:vt.role)??0)),y(String((vt==null?void 0:vt.company)??""));const Tt=um(vt==null?void 0:vt.company);Number(vt==null?void 0:vt.role)===1&&(Tt==="homeplus"||Tt==="nsmall"||Tt==="n-small")&&A(Tt.startsWith("n")?"nsmall":"homeplus")}w(!0)});return()=>J()},[]);const[S,D]=V.useState([]);V.useEffect(()=>{const J=sr(Bn(Qe(Jt,"design_request")),pt=>{const yt=[];pt.forEach(vt=>yt.push({id:vt.id,...vt.data()})),D(yt)});return()=>J()},[]);const[I,L]=V.useState([]);V.useEffect(()=>{const J=sr(Bn(Qe(Jt,"users"),gn("role","==",2)),pt=>{const yt=[];pt.forEach(vt=>{const Tt=vt.data();yt.push({name:String((Tt==null?void 0:Tt.name)??""),company:String((Tt==null?void 0:Tt.company)??"")})}),L(yt)});return()=>J()},[]);const z=V.useMemo(()=>{const J=new Date(n.y,n.m-1,1).getTime(),pt=new Date(n.y,n.m,0,23,59,59,999).getTime();return{start:J,end:pt}},[n]),M=V.useMemo(()=>h===1?um(p).startsWith("n")?"nsmall":"homeplus":E,[h,p,E]),Y=V.useMemo(()=>M==="all"?[]:S.filter(J=>{const pt=Jp(J),yt=pt!==null&&pt>=z.start&&pt<=z.end;let vt=!0;return M==="homeplus"?vt=Fb(J):M==="nsmall"&&(vt=qb(J)),yt&&vt}),[S,z,M]),C=V.useMemo(()=>{if(M==="all")return null;const J=Y.length,pt=Y.filter(Bt=>eg(Bt.status)==="완료").length,yt=Vk(Y.map(Bt=>Number(Bt.out_work_hour)||0)),vt=M==="homeplus"?e??Lk.homeplus:Lk.nsmall,Tt=vt?Math.round(yt/vt*100):0;return{totalRequests:J,producedCount:pt,usedHoursDisplay:yt.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),availHours:vt,usedRatio:Tt}},[Y,M,e]),R=V.useMemo(()=>{if(M==="all")return[];const J=tg(Y.map(pt=>pt.task_type||pt.task_type_detail)).sort((pt,yt)=>yt.value-pt.value);return J.length>8?[...J.slice(0,8),{name:"기타",value:J.slice(8).reduce((pt,yt)=>pt+yt.value,0)}]:J},[Y,M]),P=V.useMemo(()=>{if(M==="all")return[];const J=["대기중","진행중","검수중","검수요청중","완료","취소"],pt=tg(Y.map(vt=>eg(vt.status))),yt=new Map(pt.map(vt=>[vt.name,vt.value]));return J.map(vt=>({name:vt,value:yt.get(vt)||0}))},[Y,M]),j=V.useMemo(()=>M==="all"?[]:tg(Y.map(J=>J.task_form)).sort((J,pt)=>pt.value-J.value),[Y,M]),U=V.useMemo(()=>{if(M!=="all")return null;if(l==="day"){const Tt=new Date(r.getFullYear(),r.getMonth(),r.getDate()).getTime(),Bt=new Date(r.getFullYear(),r.getMonth(),r.getDate(),23,59,59,999).getTime(),ae=ng(Tt)?0:1;return{start:Tt,end:Bt,workingDays:ae,label:`${$b(Tt)} (평일만)`}}if(l==="week"){const{start:Tt,end:Bt}=JW(r),ae=jk(Tt,Bt);return{start:Tt,end:Bt,workingDays:ae,label:`${$b(Tt)} ~ ${$b(Bt)} (주중)`}}const{start:J,end:pt}=tY(r),yt=jk(J,pt),vt=`${r.getFullYear()}.${String(r.getMonth()+1).padStart(2,"0")}`;return{start:J,end:pt,workingDays:yt,label:`${vt} (평일만)`}},[M,l,r]),$=V.useMemo(()=>M!=="all"||!U?[]:S.filter(J=>{const pt=Jp(J);return pt!==null&&pt>=U.start&&pt<=U.end&&!ng(pt)}),[S,U,M]),F=V.useMemo(()=>{if(M!=="all"||!U)return null;const J=$.length,pt=$.filter(ae=>eg(ae.status)==="완료").length,yt=Vk($.map(ae=>Number(ae.in_work_hour)||0)),Tt=I.length*U.workingDays*8,Bt=Tt?Math.round(yt/Tt*100):0;return{totalRequests:J,producedCount:pt,usedHoursDisplay:yt.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),availHours:Tt,usedRatio:Bt}},[$,I,U,M]),Mt=V.useMemo(()=>{if(M!=="all"||!U)return{labels:[],data:[]};const J=S.filter(vt=>{const Tt=Jp(vt);return Tt!==null&&Tt>=U.start&&Tt<=U.end&&!ng(Tt)}),pt=J.filter(Fb).length,yt=J.filter(qb).length;return{labels:["Homeplus","NSmall"],data:[pt,yt]}},[S,U,M]),Q=V.useMemo(()=>{if(M!=="all"||!U)return{labels:[],hpData:[],nsData:[]};const J=new Map;for(const yt of S){const vt=Jp(yt);if(vt===null||vt<U.start||vt>U.end||ng(vt))continue;const Tt=yt.assigned_designer&&String(yt.assigned_designer).trim()||"미지정",Bt=J.get(Tt)||{hp:0,ns:0,total:0};Fb(yt)?Bt.hp+=1:qb(yt)&&(Bt.ns+=1),Bt.total=Bt.hp+Bt.ns,J.set(Tt,Bt)}const pt=Array.from(J,([yt,vt])=>({name:yt,...vt})).sort((yt,vt)=>vt.total-yt.total).slice(0,20);return{labels:pt.map(yt=>yt.name),hpData:pt.map(yt=>yt.hp),nsData:pt.map(yt=>yt.ns)}},[S,U,M]),q=V.useRef(null),G=V.useRef(null),ot=V.useRef(null),it=V.useRef(null),B=V.useRef(null),st=V.useRef(null),lt=V.useMemo(()=>{if(M==="all"){const J=["대기","진행중","검수중","검수요청","완료","취소"],pt=tg($.map(vt=>eg(vt.status))),yt=new Map(pt.map(vt=>[vt.name,vt.value]));return{labels:J,data:J.map(vt=>yt.get(vt)||0)}}else{const J=["대기중","진행중","검수중","검수요청중","완료","취소"];return{labels:P.map(pt=>pt.name),data:P.map(pt=>pt.value),orderFallback:J}}},[M,$,P]);V.useEffect(()=>{var pt,yt,vt;const J=M==="all";if(q.current){(pt=_i.getChart(q.current))==null||pt.destroy();const Tt=J?Mt.labels:R.map(An=>An.name),Bt=J?Mt.data:R.map(An=>An.value),ae=J?[Zp[0],Zp[1]]:R.map((An,Jn)=>Zp[Jn%Zp.length]);it.current=new _i(q.current,{type:"doughnut",data:{labels:Tt,datasets:[{data:Bt,backgroundColor:ae}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"60%",plugins:{legend:{position:"right"},datalabels:{formatter:(An,Jn)=>{const qi=Jn.dataset.data.reduce((kn,ur)=>kn+ur,0),hi=qi?An/qi*100:0;return hi>=5?`${hi.toFixed(1)}%`:""},color:"#fff",font:{weight:"bold"}}}}})}return G.current&&((yt=_i.getChart(G.current))==null||yt.destroy(),B.current=new _i(G.current,{type:"bar",data:{labels:lt.labels,datasets:[{label:"건수",data:lt.data}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:4}},scales:{y:{beginAtZero:!0,ticks:{precision:0,font:{size:14}},grace:"15%"}},plugins:{legend:{display:!1},datalabels:{anchor:"end",align:"end",offset:4,clip:!1,font:{size:14},formatter:Tt=>Tt>0?Tt:""}}}})),ot.current&&((vt=_i.getChart(ot.current))==null||vt.destroy(),J?st.current=new _i(ot.current,{type:"bar",data:{labels:Q.labels,datasets:[{label:"Homeplus",data:Q.hpData,backgroundColor:"rgba(78, 121, 167,.7)",stack:"company"},{label:"NSmall",data:Q.nsData,backgroundColor:"rgba(255,157,167,.6)",stack:"company"}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:4}},scales:{x:{stacked:!0,ticks:{autoSkip:!1,maxRotation:40,minRotation:0}},y:{stacked:!0,beginAtZero:!0,ticks:{precision:0,font:{size:14}},grace:"15%"}},plugins:{legend:{position:"top"},datalabels:{anchor:"end",align:"end",offset:2,clip:!1,font:{size:12},formatter:Tt=>Tt>0?Tt:""}}}}):st.current=new _i(ot.current,{type:"bar",data:{labels:j.map(Tt=>Tt.name),datasets:[{label:"건수",data:j.map(Tt=>Tt.value),backgroundColor:"rgba(255,157,167,.6)"}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:4}},scales:{y:{beginAtZero:!0,ticks:{precision:0,font:{size:14}},grace:"15%"}},plugins:{legend:{display:!1},datalabels:{anchor:"end",align:"end",offset:4,clip:!1,font:{size:14},formatter:Tt=>Tt>0?Tt:""}}}})),()=>{var Tt,Bt,ae;(Tt=it.current)==null||Tt.destroy(),(Bt=B.current)==null||Bt.destroy(),(ae=st.current)==null||ae.destroy()}},[M,R,Mt,lt,j,Q]);const ut=h===1,X=M==="all"?F:C;return v.jsxs(eY,{children:[v.jsxs(nY,{children:[_&&!ut&&v.jsxs(iY,{children:[v.jsx(Hb,{$active:M==="homeplus",onClick:()=>A("homeplus"),children:"Homeplus"}),v.jsx(Hb,{$active:M==="nsmall",onClick:()=>A("nsmall"),children:"NSmall"}),v.jsx(Hb,{$active:M==="all",onClick:()=>A("all"),children:"전체"})]}),M!=="all"?v.jsxs(sY,{children:[v.jsx(Uk,{value:n.y,onChange:J=>i(pt=>({...pt,y:Number(J.target.value)})),children:Array.from({length:5}).map((J,pt)=>{const yt=t.getFullYear()-2+pt;return v.jsxs("option",{value:yt,children:[yt,"년"]},yt)})}),v.jsx(Uk,{value:n.m,onChange:J=>i(pt=>({...pt,m:Number(J.target.value)})),children:Array.from({length:12}).map((J,pt)=>v.jsxs("option",{value:pt+1,children:[pt+1,"월"]},pt+1))}),v.jsxs("span",{className:"range",children:[s," 범위"]})]}):v.jsxs(rY,{children:[v.jsx(Wb,{$active:l==="day",onClick:()=>c("day"),children:"일"}),v.jsx(Wb,{$active:l==="week",onClick:()=>c("week"),children:"주"}),v.jsx(Wb,{$active:l==="month",onClick:()=>c("month"),children:"월"}),v.jsx("span",{className:"range",children:U==null?void 0:U.label})]})]}),v.jsxs(aY,{children:[v.jsxs(Ch,{children:[v.jsx(Dh,{children:"총 요청건수(건)"}),v.jsx(Mh,{children:(X==null?void 0:X.totalRequests)??0})]}),v.jsxs(Ch,{children:[v.jsx(Dh,{children:"실 제작건수(건)"}),v.jsx(Mh,{children:(X==null?void 0:X.producedCount)??0})]}),v.jsxs(Ch,{children:[v.jsx(Dh,{children:"사용공수"}),v.jsx(Mh,{children:(X==null?void 0:X.usedHoursDisplay)??"0.00"})]}),v.jsxs(Ch,{children:[v.jsx(Dh,{children:"가용공수"}),v.jsx(Mh,{children:((gt=X==null?void 0:X.availHours)==null?void 0:gt.toLocaleString())??"0"})]}),v.jsxs(Ch,{children:[v.jsx(Dh,{children:"사용공수비율"}),v.jsx(Mh,{children:X!=null&&X.usedRatio?`${X.usedRatio}%`:"0%"})]})]}),v.jsxs(oY,{children:[v.jsx(lY,{$compact:M==="all",children:v.jsxs(uY,{children:[v.jsx(Yb,{children:M==="all"?"회사별 분포 (일/주/월 기준, 평일)":"업무유형별 분포현황"}),v.jsx(Gb,{$h:400,children:v.jsx("canvas",{ref:q})})]})}),v.jsxs(cY,{$compact:M==="all",children:[v.jsxs(zk,{children:[v.jsx(Yb,{children:M==="all"?"디자이너별 배정 건수 (회사 스택)":"업무형태현황 (task_form)"}),v.jsx(Gb,{$h:180,children:v.jsx("canvas",{ref:ot})})]}),v.jsxs(zk,{children:[v.jsx(Yb,{children:"진행현황 (status)"}),v.jsx(Gb,{$h:180,children:v.jsx("canvas",{ref:G})})]})]})]})]})}const eY=H.div`font-family: 'Pretendard';`,nY=H.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  padding: 24px 0 30px;
`,iY=H.div`display:flex; gap:8px;`,Hb=H.button`
  padding: 11.5px 10px; border-radius: 4px; font-family: 'Pretendard';
  font-size: 16px; font-weight: 400;
  background-color: ${({theme:e,$active:t})=>t?e.colors.black:e.colors.white01};
  color: ${({theme:e,$active:t})=>t?e.colors.white01:e.colors.black};
  border: 1px solid ${({theme:e})=>e.colors.black};
`,sY=H.div`
  display:flex; align-items:center; gap:8px; margin-left:auto;
`,Uk=H.select`
  appearance:none; width:150px; height: 48px; margin-right:8px; padding:0 12px;
  border:1px solid ${({theme:e})=>e.colors.gray02}; border-radius:4px;
  font-family:'Pretendard'; font-size:16px; font-weight:400; color:${({theme:e})=>e.colors.black};
  background:${({theme:e})=>e.colors.white01} url(${px}) no-repeat right 12px center / 16px 16px;
  &:focus { outline:none; border-color:${({theme:e})=>e.colors.black}; }
`,rY=H.div`
  display:flex; align-items:center; gap:8px; margin-left:auto;
  .range { margin-left:12px; color:#667085; font-size:14px; }
`,Wb=H.button`
  padding:10px 14px; border-radius:8px; font-family:'Pretendard'; font-size:15px;
  background:${({$active:e})=>e?"#111":"#fff"};
  color:${({$active:e})=>e?"#fff":"#111"};
  border:1px solid #111; transition:all .15s ease;
`,aY=H.ul`display:flex; gap:14px; margin-bottom:16px;`,Ch=H.li`flex:1; padding:14px; border:1px solid #e8ecf3; border-radius:14px; background:#f7f9fc;`,Dh=H.h3`color:#9aa4b2; font-size:12px; margin-bottom:8px;`,Mh=H.strong`font-size:32px; font-weight:800;`,oY=H.div`display:flex; gap:16px;`,lY=H.div`
  flex: 0 0 ${({$compact:e})=>e?"38%":"50%"};
`,cY=H.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
  flex: 1 1 ${({$compact:e})=>e?"62%":"50%"};
`,hO=H.div`background:#fff; border:1px solid #e8ecf3; border-radius:16px; padding:16px; height:100%;`,uY=H(hO)``,zk=H(hO)``,Yb=H.h3`margin:0 0 10px; font-size:15px; color:#666;`,Gb=H.div`position:relative; width:100%; height:${({$h:e})=>`${e}px`};`,hY=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],fY=e=>[...e||""].map(t=>{const n=t.charCodeAt(0);if(n>=44032&&n<=55203){const i=Math.floor((n-44032)/28/21);return hY[i]}return t}).join("");function Px(e){const t=r=>r==null?"":String(r).toLowerCase(),n={id:t(e.design_request_id),requirement:t(e.requirement)},i=Object.values(n).join(" "),s=fY(n.requirement);return{...e,_index:{plain:i,chosung:s}}}function Nx(e,t){if(!t)return!0;const n=t.toLowerCase();return e._index.plain.includes(n)||e._index.chosung.includes(n)}const dY="진행 상태 선택",pY=e=>{const t=(e??"").trim();if(!t)return[];const n=t.toLowerCase(),i=t.toUpperCase(),s=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase();return Array.from(new Set([t,n,i,s]))};function gY({view:e,userRole:t,setIsDrawerOpen:n,setEditData:i,setDetailData:s}){const[r,l]=V.useState(""),[c,h]=V.useState(""),[f,p]=V.useState([]),[y,_]=V.useState("진행 상태 선택"),[w,E]=V.useState({start:null,end:null}),[A,S]=V.useState(""),[D,I]=V.useState(""),L=e==="allrequestlist";V.useEffect(()=>{const G=Cl(os,async ot=>{if(!ot)return;ot.displayName&&l(ot.displayName);const it=Xn(Jt,"users",ot.uid),B=await Xc(it);if(B.exists()){const st=B.data();h(((st==null?void 0:st.company)??"").trim())}else h("")});return()=>G()},[]),V.useEffect(()=>{if(p([]),!(e==="dashboard"||e==="inworkhour")){if(e==="myrequestlist"){if(!r)return;const G=Bn(Qe(Jt,"design_request"),gn("requester","==",r),Ef("design_request_id","desc")),ot=sr(G,it=>{const B=it.docs.map(st=>({id:st.id,...st.data()}));p(B)});return()=>ot()}if(e==="allrequestlist"){if(!c)return;const G=pY(c),ot=Qe(Jt,"design_request"),it=new Map,B=[],st=()=>{const lt=Array.from(it.values()).sort((ut,X)=>{const gt=String(ut.design_request_id??"");return String(X.design_request_id??"").localeCompare(gt,"en",{numeric:!0})});p(lt)};return G.forEach(lt=>{const ut=Bn(ot,gn("company","==",lt),Ef("design_request_id","desc")),X=sr(ut,gt=>{gt.docs.forEach(J=>{it.set(J.id,{id:J.id,...J.data()})}),st()});B.push(X)}),()=>B.forEach(lt=>lt())}}},[e,c,r]);const z=G=>E(G),M=G=>_(G),Y=G=>I(G),C=G=>G==="검수요청"?"진행중":G,R=G=>new Date(G.getFullYear(),G.getMonth(),G.getDate()),P=G=>{if(!G)return null;if(typeof G=="object"&&typeof G.toDate=="function")return R(G.toDate());if(G instanceof Date)return R(G);if(typeof G=="number")return R(new Date(G));if(typeof G=="string"){const it=G.replace(/\./g,"-").replace(/\//g,"-").split("-");if(it.length===3){const[st,lt,ut]=it.map(Number),X=st>31?st:new Date().getFullYear();return new Date(X,lt-1,ut)}if(it.length===2){const[st,lt]=it.map(Number),ut=new Date().getFullYear();return new Date(ut,st-1,lt)}const B=new Date(G);return isNaN(+B)?null:R(B)}return null},j=V.useMemo(()=>f.map(G=>{const ot=C(G.status);return Px({...G,displayStatus:ot})}),[f]),U=V.useMemo(()=>{const G=w.start?R(w.start):null,ot=w.end?R(w.end):null,it=D.trim();return j.filter(B=>{if(y!==dY&&B.displayStatus!==y)return!1;if(G&&ot){const st=P(B.request_date)||P(B.requested_at)||P(B.requestDate);if(!st||st<G||st>ot)return!1}return!!Nx(B,it)})},[j,y,w,D]),$=G=>{const ot=f.find(it=>it.id===G);return!(!ot||ot.manager_review_status==="검수완료"||ot.status==="완료"||ot.status==="취소"||e==="allrequestlist"&&ot.requester!==r)},F=async G=>{$(G)&&(await Gs(Xn(Jt,"design_request",G),{status:"완료",requester_review_status:"검수완료"}),p(ot=>ot.map(it=>it.id===G?{...it,status:"완료",requester_review_status:"검수완료"}:it)),alert("완료 처리되었습니다."))},Mt=async G=>{if(!$(G))return;const ot=Xn(Jt,"design_request",G);await Gs(ot,{requester_edit_state:!0});const it=await Xc(ot);if(it.exists()){const B={id:it.id,...it.data()};i(B),n(!0)}},Q=G=>{s(G),n(!0)},q=async G=>{if(!$(G))return;const ot=f.find(B=>B.id===G);if(window.confirm(`문서번호 ${(ot==null?void 0:ot.design_request_id)??""} 요청을 취소하시겠습니까?`))try{await Gs(Xn(Jt,"design_request",G),{status:"취소"}),p(B=>B.map(st=>st.id===G?{...st,status:"취소"}:st))}catch(B){console.error(B),alert("취소 처리 중 오류가 발생했습니다. 다시 시도해 주세요.")}};return v.jsxs(v.Fragment,{children:[v.jsx(dx,{userRole:t}),e==="dashboard"&&v.jsx(mY,{children:v.jsx(Ox,{capacityHoursPerMonth:704})}),e==="allrequestlist"&&v.jsxs(Bk,{children:[v.jsx(Rf,{roleNumber:1,onApplyStatus:M,onApplyRange:z,onSearch:Y,keyword:A,onKeywordChange:S}),v.jsx(JT,{data:U,disableActions:!1,lockOthers:L,currentUserName:r,onReviewComplete:F,onCancel:q,onEditClick:Mt,onDetailClick:Q})]}),e==="myrequestlist"&&v.jsxs(Bk,{children:[v.jsx(Rf,{roleNumber:1,onApplyStatus:M,onApplyRange:z,onSearch:Y,keyword:A,onKeywordChange:S}),v.jsx(JT,{data:U,disableActions:!1,onReviewComplete:F,onCancel:q,onEditClick:Mt,onDetailClick:Q})]})]})}const Bk=H.div`
  padding: 0 48px;
`,mY=H.div`
  max-height: 766px;
  padding: 0 48px;
  overflow: auto;
`;function yY({index:e,item:t,row:n,onChange:i,onSave:s,onDetailClick:r,disableActions:l}){const c=_=>{if(!_)return"-";if(_.toDate){const w=_.toDate();return`${w.getMonth()+1}/${w.getDate()}`}return _},h=_=>_==="검수중"?"검수요청":_??"대기",f=_=>_,p=h(n.status),y=_=>{_.stopPropagation(),r(t)};return v.jsxs(_Y,{isCanceled:t.status==="취소",children:[v.jsx(ps,{children:e}),v.jsx(ps,{children:v.jsx(SY,{onClick:y,$hasUpdate:!!t.updated_date,children:t.design_request_id})}),v.jsx(ps,{children:t.company}),v.jsx(ps,{children:c(t.request_date)}),v.jsx(bY,{children:c(t.completion_date)}),v.jsx(vY,{children:c(t.open_date)}),v.jsx(ps,{children:t.merchandiser}),v.jsx(ps,{children:t.requester}),v.jsx(ps,{children:t.task_form}),v.jsx(xY,{children:v.jsxs(TY,{children:[v.jsx(AY,{children:t.task_type}),v.jsx(kY,{children:t.task_type_detail})]})}),v.jsx(wY,{children:v.jsxs(RY,{children:[t.emergency?v.jsx(fO,{children:"긴급"}):"",v.jsx(CY,{onClick:y,children:t.requirement})]})}),v.jsx(ps,{children:v.jsx(DY,{href:t.url,target:"_blank"})}),v.jsx(EY,{children:v.jsx(MY,{onClick:y,children:t.note||""})}),v.jsx(Fk,{children:v.jsx(qk,{type:"date",value:n.start_dt??"",onChange:_=>i(t.id,"start_dt",_.target.value),disabled:l||t.status==="취소"||t.status==="완료"})}),v.jsx(Fk,{children:v.jsx(qk,{type:"date",value:n.end_dt??"",onChange:_=>i(t.id,"end_dt",_.target.value),disabled:l||t.status==="취소"||t.status==="완료"})}),v.jsx(ps,{children:v.jsx(IY,{type:"text",value:n.result_url??"",placeholder:"산출물 URL을 입력해주세요.",onChange:_=>i(t.id,"result_url",_.target.value),disabled:l||t.status==="취소"||t.status==="완료"})}),v.jsx(ps,{children:v.jsxs("select",{value:p,onChange:_=>i(t.id,"status",f(_.target.value)),disabled:l||t.status==="취소"||t.status==="완료",children:[v.jsx("option",{value:"대기",children:"대기"}),v.jsx("option",{value:"진행중",children:"진행중"}),v.jsx("option",{value:"검수요청",children:"검수요청"}),v.jsx("option",{value:"완료",disabled:!0,children:"완료"}),v.jsx("option",{value:"취소",disabled:!0,children:"취소"})]})}),v.jsx(ps,{children:v.jsx(dO,{onClick:()=>s(t.id),disabled:l||t.status==="취소"||t.status==="완료",children:"저장"})})]})}const _Y=H.tr`
  ${({isCanceled:e})=>e&&`
      td {
        color: #888;
        background-color: #f4f4f4;
      }
    `}
  
  ${({isCanceled:e,theme:t})=>e&&`
      ${fO} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
      }
      ${dO} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
        border-color: ${t.colors.gray06};
        cursor: default;
        pointer-events: none;
      }
    `}
  & td {
    font-family: 'Pretendard';
    font-size: 14px;
    font-weight: 500;
  }

  &:hover {
    td, input, select {
      background-color: ${({theme:e})=>e.colors.gray04}
    }
  }
`,ps=H.td`
  padding: 11px 0;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }
`,bY=H.td`
  color: ${({theme:e})=>e.colors.red};
`,vY=H.td`
  color: ${({theme:e})=>e.colors.blue02};
`,xY=H.td`
  padding: 15px 12px;
  line-height: 15px;
`,wY=H.td`
  line-height: 15px;
  text-align: left;
`,EY=H.td`
  line-height: 15px;
  padding: 0 12px;
  border-right: 1px solid ${({theme:e})=>e.colors.black};
  text-align: left;
  background-color: #fffff1;

`,Fk=H.td`
  padding: 0 6px;
`,SY=H.span`
  position: relative;

  &::after {
    content: '';
    position: absolute;
    top: -5px;
    right: -2px;
    display: ${({$hasUpdate:e})=>e?"block":"none"};
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background-color: ${({theme:e})=>e.colors.red};
  }

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,TY=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`,AY=H.span`
  white-space: nowrap;
`,kY=H.span`
  
`,RY=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  padding: 0 12px;
`,fO=H.span`
  margin-right: 5px;
  padding: 3px 5px;
  border-radius: 2px;
  font-size: 10px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.red};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,CY=H.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,DY=H.a`
  display: inline-block;
  vertical-align: middle;
  width: 24px;
  height: 24px;
  background: url(${fx}) no-repeat center / contain;
`,MY=H.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,qk=H.input.attrs({type:"date"})`
  width: 100%;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 500;
`,IY=H.input`
  width: 100%;
  padding: 0 12px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 500;
`,dO=H.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`;function $k({requests:e,onChange:t,formData:n,onSave:i,onDetailClick:s,disableActions:r,lockOthers:l=!1,currentDesignerName:c=""}){return v.jsx(OY,{children:v.jsxs(PY,{children:[v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"40px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"140px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"80px"}})]}),v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx(Nn,{children:"번호"}),v.jsx(Nn,{children:"문서번호"}),v.jsx(Nn,{children:"회사"}),v.jsx(Nn,{children:"요청일"}),v.jsxs(Nn,{children:["완료",v.jsx("br",{}),"요청일"]}),v.jsx(Nn,{children:"오픈일"}),v.jsx(Nn,{children:"담당 MD"}),v.jsx(Nn,{children:"요청자"}),v.jsx(Nn,{children:"업무부서"}),v.jsx(Nn,{children:"업무유형"}),v.jsx(Nn,{children:"작업항목"}),v.jsxs(Nn,{children:["요청서",v.jsx("br",{}),"URL"]}),v.jsx(Nn,{children:"메모"}),v.jsx(Nn,{children:"디자인 시작일"}),v.jsx(Nn,{children:"디자인 종료일"}),v.jsx(Nn,{children:"산출물 링크"}),v.jsx(Nn,{children:"진행상태"}),v.jsx(Nn,{children:"저장"})]})}),v.jsx("tbody",{children:e.length>0?e.map((h,f)=>{const p=h.assigned_designer===c,y=r||l&&!p;return v.jsx(yY,{index:f+1,item:h,row:n[h.id]??{},onChange:t,onSave:i,onDetailClick:s,disableActions:y},h.id)}):v.jsx("tr",{children:v.jsx("td",{colSpan:16,style:{textAlign:"center"},children:"배정된 요청이 없습니다."})})})]})})}const OY=H.div`
  position: relative;
  max-height: 535px;
  border-top: 2px solid ${({theme:e})=>e.colors.black};
  overflow-y: auto;
  scrollbar-width: thin;
`,PY=H.table`
  table-layout: fixed;
  width: 100%;
  text-align: center;
`,Nn=H.th`
  position: sticky;
  top: -2px;
  line-height: 16px;
  padding: 13px 0;
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.gray08};
  z-index: 10;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(13) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }

  &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17) {
    border-right: 1px solid ${({theme:e})=>e.colors.pink02}
  }

  &:nth-of-type(14), &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17), &:nth-of-type(18) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`,NY="진행 상태 선택",Hk="회사 선택";function LY({view:e,userRole:t,setIsDrawerOpen:n,setDetailData:i}){const[s,r]=V.useState([]),[l,c]=V.useState(""),[h,f]=V.useState({}),[p,y]=V.useState("진행 상태 선택"),[_,w]=V.useState({start:null,end:null}),[E,A]=V.useState([]),[S,D]=V.useState(Hk),[I,L]=V.useState(""),[z,M]=V.useState(""),Y=e==="allrequestlist";V.useEffect(()=>{const X=Cl(os,gt=>{gt!=null&&gt.displayName&&c(gt.displayName)});return()=>X()},[]),V.useEffect(()=>{if(!l)return;if(e==="dashboard"||e==="inworkhour"){r([]);return}const X=e==="allrequestlist"?Bn(Qe(Jt,"design_request"),Ef("design_request_id","desc")):Bn(Qe(Jt,"design_request"),gn("assigned_designer","==",l),Ef("design_request_id","desc")),gt=sr(X,J=>{const pt=J.docs.map(yt=>({id:yt.id,...yt.data()}));r(pt)});return()=>gt()},[l,e]),V.useEffect(()=>{const X=sr(Qe(Jt,"users"),gt=>{const J=new Set;gt.forEach(pt=>{const yt=String(pt.data().company??"").trim();yt&&J.add(yt)}),A(Array.from(J).sort())});return()=>X()},[]);const C=X=>w(X),R=X=>y(X),P=X=>D(X),j=X=>new Date(X.getFullYear(),X.getMonth(),X.getDate()),U=X=>{if(!X)return null;if(typeof X=="object"&&typeof X.toDate=="function")return j(X.toDate());if(X instanceof Date)return j(X);if(typeof X=="number")return j(new Date(X));if(typeof X=="string"){const J=X.replace(/\./g,"-").replace(/\//g,"-").split("-");if(J.length===3){const[yt,vt,Tt]=J.map(Number),Bt=yt>31?yt:new Date().getFullYear();return new Date(Bt,vt-1,Tt)}if(J.length===2){const[yt,vt]=J.map(Number),Tt=new Date().getFullYear();return new Date(Tt,yt-1,vt)}const pt=new Date(X);return isNaN(+pt)?null:j(pt)}return null},$=X=>{const gt=X.getFullYear(),J=String(X.getMonth()+1).padStart(2,"0"),pt=String(X.getDate()).padStart(2,"0");return`${gt}-${J}-${pt}`},F=X=>{if(!X)return"";if(typeof X=="object"&&typeof X.toDate=="function")return $(X.toDate());if(X instanceof Date)return $(X);const gt=new Date(X);return isNaN(+gt)?"":$(gt)},Mt=V.useMemo(()=>s.map(X=>({...X,designer_start_date:F(X.designer_start_date),designer_end_date:F(X.designer_end_date),result_url:X.result_url??"",status:X.status??"대기"})),[s]),Q=X=>X==="검수중"?"검수요청":X??"대기",q=V.useMemo(()=>Mt.map(X=>{const gt=Q(X.status);return Px({...X,displayStatus:gt})}),[Mt]),G=V.useMemo(()=>{const X=_.start?j(_.start):null,gt=_.end?j(_.end):null;return q.filter(J=>{let pt=!0;if(pt&&p&&p!==NY&&Q(J.status)!==p&&(pt=!1),pt&&S!==Hk&&String(J.company)!==S&&(pt=!1),pt&&X&&gt){const yt=U(J.request_date)||U(J.requested_at)||U(J.requestDate);(!yt||yt<X||yt>gt)&&(pt=!1)}return pt&&z&&!Nx(J,z)&&(pt=!1),pt})},[q,p,S,_,z]),ot=X=>M(X);V.useEffect(()=>{s.length&&f(X=>{const gt={...X};return s.forEach(J=>{gt[J.id]===void 0&&(gt[J.id]={start_dt:F(J.designer_start_date),end_dt:F(J.designer_end_date),result_url:J.result_url||"",status:J.status||"대기"})}),gt})},[s]);const it=(X,gt,J)=>{f(pt=>({...pt,[X]:{...pt[X],[gt]:J}}))},B=X=>{if(!X)return null;const gt=new Date(X);return isNaN(+gt)?null:Ie.fromDate(gt)},st=X=>{const gt=s.find(J=>J.id===X);return!(!gt||gt.status==="완료"||gt.status==="취소"||e==="allrequestlist"&&gt.assigned_designer!==l)},lt=async X=>{if(!st(X))return;const gt=h[X];if(!gt){alert("변경된 내용이 없습니다.");return}await Gs(Xn(Jt,"design_request",X),{designer_start_date:B(gt.start_dt),designer_end_date:B(gt.end_dt),result_url:gt.result_url??"",status:gt.status??"대기"}),alert("저장되었습니다.")},ut=X=>{i(X),n(!0)};return v.jsxs(VY,{children:[v.jsx(dx,{userRole:t}),e==="allrequestlist"&&v.jsxs(Wk,{children:[v.jsx(Rf,{roleNumber:2,onApplyStatus:R,onApplyRange:C,onSearch:ot,keyword:I,onKeywordChange:L,companyOptions:E,onApplyCompany:P}),v.jsx($k,{requests:G,formData:h,onChange:it,onSave:lt,onDetailClick:ut,disableActions:!1,lockOthers:Y,currentDesignerName:l})]}),e==="myrequestlist"&&v.jsxs(Wk,{children:[v.jsx(Rf,{roleNumber:2,onApplyStatus:R,onApplyRange:C,onSearch:ot,keyword:I,onKeywordChange:L,companyOptions:E,onApplyCompany:P}),v.jsx($k,{requests:G,formData:h,onChange:it,onSave:lt,onDetailClick:ut,disableActions:!1})]}),e==="dashboard"&&v.jsx(jY,{children:v.jsx(Ox,{capacityHoursPerMonth:704})})]})}const VY=H.div``,Wk=H.div`
  padding: 0 48px;
`,jY=H.div`
  max-height: 766px;
  padding: 0 48px;
  overflow: auto;
`;function UY({index:e,item:t,designerList:n,selectedDesigner:i,onDesignerSelect:s,onAssignDesigner:r,onSendToRequester:l,onDetailClick:c,workHourValue:h,onChangeWorkHour:f,onSaveWorkHour:p,onStartEditWorkHour:y,onCancelEditWorkHour:_}){const E=(z=>z==="검수요청"?"검수중":z==="검수중"?"검수요청":z)(t.status),A=z=>{if(!z)return"-";if(z.toDate){const M=z.toDate();return`${M.getMonth()+1}/${M.getDate()}`}return z},S=z=>{z.stopPropagation(),c(t)},D=!!t.work_hour_edit_state,I=t.status==="취소"||t.status==="완료",L=V.useCallback(z=>{const M=z.relatedTarget;(!M||!z.currentTarget.contains(M))&&_()},[_]);return v.jsxs(zY,{isCanceled:t.status==="취소",children:[v.jsx(yi,{children:e}),v.jsx(yi,{children:v.jsx(WY,{onClick:S,$hasUpdate:!!t.updated_date,children:t.design_request_id})}),v.jsx(yi,{children:t.company}),v.jsx(yi,{children:A(t.request_date)}),v.jsx(BY,{children:A(t.completion_date)}),v.jsx(FY,{children:A(t.open_date)}),v.jsx(yi,{children:t.merchandiser}),v.jsx(yi,{children:t.requester}),v.jsx(yi,{children:t.task_form}),v.jsx(qY,{children:v.jsxs(YY,{children:[v.jsx(GY,{children:t.task_type}),v.jsx(KY,{children:t.task_type_detail})]})}),v.jsx($Y,{children:v.jsxs(XY,{children:[t.emergency?v.jsx(pO,{children:"긴급"}):"",v.jsx(QY,{onClick:S,children:t.requirement})]})}),v.jsx(yi,{children:v.jsx(Yk,{href:t.url,target:"_blank"})}),v.jsx(HY,{children:v.jsx(ZY,{onClick:S,children:t.note||""})}),v.jsx(yi,{children:v.jsx(JY,{status:E,children:E})}),v.jsx(yi,{children:t.result_url?v.jsx(Yk,{href:t.result_url,target:"_blank"}):""}),v.jsx(yi,{children:A(t.designer_start_date)}),v.jsx(yi,{children:A(t.designer_end_date)}),v.jsxs(yi,{children:[v.jsxs(tG,{value:i,onChange:z=>s(z.target.value),disabled:t.status==="취소"||t.status==="완료",children:[v.jsx("option",{value:"",children:"선택"}),n.map(z=>v.jsx("option",{value:z.name,children:z.name},z.id))]}),v.jsx(gO,{onClick:r,disabled:t.status==="취소"||t.status==="완료",children:"배정"})]}),v.jsx(yi,{children:t.status==="검수요청"&&t.manager_review_status!=="검수완료"?v.jsx(mO,{onClick:l,children:"검수완료"}):t.manager_review_status==="검수완료"?v.jsx(eG,{children:"검수완료"}):""}),v.jsx(yi,{children:D?v.jsxs(rG,{tabIndex:-1,onBlur:L,children:[v.jsx(nG,{type:"text",placeholder:"공수 입력",value:h,onChange:z=>f(z.target.value),onClick:z=>z.stopPropagation(),disabled:I,autoFocus:!0}),v.jsx(iG,{type:"button",onClick:z=>{z.stopPropagation(),!I&&p()},disabled:I,children:"수정"})]}):t.out_work_hour!=null?v.jsx(sG,{tabIndex:0,onClick:z=>{z.stopPropagation(),!I&&y()},onKeyDown:z=>{I||(z.key==="Enter"||z.key===" ")&&(z.preventDefault(),y())},children:t.out_work_hour}):null})]})}const zY=H.tr`
  ${({isCanceled:e})=>e&&`
      td {
        color: #888;
        background-color: #f4f4f4;
      }
    `}
  
  ${({isCanceled:e,theme:t})=>e&&`
      ${pO} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
      }
      ${mO}, ${gO} {
        background-color: ${t.colors.gray07};
        color: ${t.colors.gray06};
        border-color: ${t.colors.gray06};
        cursor: default;
        pointer-events: none;
      }
    `}
  & td {
    font-family: 'Pretendard';
    font-size: 14px;
    font-weight: 500;
  }

  &:hover {
    td {
      background-color: ${({theme:e})=>e.colors.gray04}
    }
  }
`,yi=H.td`
  padding: 11px 0;
 
  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(14) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }
`,BY=H.td`
  color: ${({theme:e})=>e.colors.red};
`,FY=H.td`
  color: ${({theme:e})=>e.colors.blue02};
`,qY=H.td`
  padding: 15px 12px;
  line-height: 15px;
`,$Y=H.td`
  line-height: 15px;
  text-align: left;
`,HY=H.td`
  line-height: 15px;
  padding: 0 12px;
  text-align: left;
  background-color: #fffff1;
`,WY=H.span`
  position: relative;

  &::after {
    content: '';
    position: absolute;
    top: -5px;
    right: -2px;
    display: ${({$hasUpdate:e})=>e?"block":"none"};
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background-color: ${({theme:e})=>e.colors.red};
  }

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,YY=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`,GY=H.span`
  white-space: nowrap;
`,KY=H.span``,XY=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  padding: 0 12px;
`,pO=H.span`
  margin-right: 5px;
  padding: 3px 5px;
  border-radius: 2px;
  font-size: 10px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.red};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,QY=H.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,Yk=H.a`
  display: inline-block;
  vertical-align: middle;
  width: 24px;
  height: 24px;
  background: url(${fx}) no-repeat center / contain;
`,ZY=H.span`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-word;
  text-overflow: ellipsis;

  &:hover {
    font-weight: 600;
    text-decoration: underline;
  }
`,JY=H.span`
  border-radius: 14px;
  padding: 5.5px 12px;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 400;
  color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.orange;case"진행중":return t.colors.blue02;case"검수요청":return t.colors.red;case"검수중":return t.colors.red;case"완료":return t.colors.gray06;default:return t.colors.gray06}}};
  background-color: ${({status:e,theme:t})=>{switch(e){case"대기":return t.colors.beige02;case"진행중":return t.colors.lightpupple;case"검수요청":return t.colors.pink03;case"검수중":return t.colors.pink03;case"완료":return t.colors.white02;default:return t.colors.gray07}}};;
`,gO=H.button`
  margin-left:10px;
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};

  &:disabled {
    background-color: ${({theme:e})=>e.colors.gray07};
    color: ${({theme:e})=>e.colors.gray06};
    border-color: ${({theme:e})=>e.colors.gray06};
    cursor: default;
    pointer-events: none;
  }
`,tG=H.select`
  width: 90px;
  padding: 6px;
  border: 1px solid #ccc;
  border-radius: 4px;
`,mO=H.button`
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
`,eG=H.span`
  color: green;
  font-size: 13px;
  font-weight: bold;
`,nG=H.input`
  width: 40px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;

  &::placeholder {
    font-size: 11px;
  }
`,iG=H.button`
  margin: 6px 0 0 10px;
  padding: 4.5px 10px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
`,sG=H.span`
  display: inline-block;
  min-width: 24px;
  padding: 2px 6px;
  border-radius: 4px;
  cursor: pointer;
  user-select: none;
  &:hover {
    text-decoration: underline;
    font-weight: 600;
  }
`,rG=H.div`
  display: inline-flex;
  align-items: center;
  gap: 8px;
`;function aG({data:e,designerList:t,selectedDesigners:n,designerSelect:i,assignDesigner:s,sendToRequester:r,onDetailClick:l,workHours:c,onChangeWorkHour:h,onSaveWorkHour:f,onStartEditWorkHour:p,onCancelEditWorkHour:y}){return v.jsx(oG,{children:v.jsxs(lG,{children:[v.jsx(cG,{children:"매니저 요청 리스트"}),v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"40px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"100px"}}),v.jsx("col",{style:{width:"120px"}}),v.jsx("col",{}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"140px"}}),v.jsx("col",{style:{width:"85px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"160px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"110px"}})]}),v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx(un,{children:"번호"}),v.jsx(un,{children:"문서번호"}),v.jsx(un,{children:"회사"}),v.jsx(un,{children:"요청일"}),v.jsxs(un,{children:["완료",v.jsx("br",{}),"요청일"]}),v.jsx(un,{children:"오픈일"}),v.jsx(un,{children:"담당 MD"}),v.jsx(un,{children:"요청자"}),v.jsx(un,{children:"업무부서"}),v.jsx(un,{children:"업무형태"}),v.jsx(un,{children:"작업항목"}),v.jsxs(un,{children:["요청서",v.jsx("br",{}),"URL"]}),v.jsx(un,{children:"메모"}),v.jsx(un,{children:"진행상태"}),v.jsxs(un,{children:["산출물",v.jsx("br",{}),"URL"]}),v.jsxs(un,{children:["디자인",v.jsx("br",{}),"시작일"]}),v.jsxs(un,{children:["디자인",v.jsx("br",{}),"종료일"]}),v.jsx(un,{children:"디자이너 배정"}),v.jsx(un,{children:"검수"}),v.jsx(un,{children:"공수"})]})}),v.jsx("tbody",{children:e.length>0?e.map((_,w)=>v.jsx(UY,{index:w+1,item:_,designerList:t,selectedDesigner:n[_.id]||"",onDesignerSelect:E=>i(_.id,E),onAssignDesigner:()=>s(_.id),onSendToRequester:()=>r(_.id),onDetailClick:l,workHourValue:c[_.id]??"",onChangeWorkHour:E=>h(_.id,E),onSaveWorkHour:()=>f(_.id),onStartEditWorkHour:()=>p(_.id),onCancelEditWorkHour:()=>y(_.id)},_.id)):v.jsx("tr",{children:v.jsx("td",{colSpan:20,style:{textAlign:"center",padding:"20px"},children:"등록된 요청이 없습니다."})})})]})})}const oG=H.div`
  position: relative;
  max-height: 535px;
  border-top: 2px solid ${({theme:e})=>e.colors.black};
  overflow-y: auto;
  scrollbar-width: thin;
`,lG=H.table`
  table-layout: fixed;
  width: 100%;
  text-align: center;
`,cG=H.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,un=H.th`
  position: sticky;
  top: -2px;
  line-height: 16px;
  padding: 13px 0;
  border-bottom: none;
  font-family: 'Pretendard';
  font-size: 14px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.gray08};
  z-index: 10;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(14) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }

  &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17), &:nth-of-type(18), &:nth-of-type(19) {
    border-right: 1px solid ${({theme:e})=>e.colors.pink02}
  }

  &:nth-of-type(15), &:nth-of-type(16), &:nth-of-type(17), &:nth-of-type(18), &:nth-of-type(19), &:nth-of-type(20) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`,uG=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],Hh=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()),hG=(e,t)=>!!e&&!!t&&e.getTime()===t.getTime(),Kb=e=>{if(!e)return null;if(typeof e=="object"&&typeof e.toDate=="function")return Hh(e.toDate());if(e instanceof Date)return Hh(e);if(typeof e=="number")return Hh(new Date(e));if(typeof e=="string"){const n=e.replace(/\./g,"-").replace(/\//g,"-").split("-");if(n.length===3){const[s,r,l]=n.map(Number),c=s>31?s:new Date().getFullYear();return new Date(c,(r||1)-1,l||1)}const i=new Date(e);return isNaN(+i)?null:Hh(i)}return null},Xb=e=>Kb(e.request_date)??Kb(e.open_date)??Kb(e.created_date),fG=e=>e==="대기"||e==="대기중",dG=e=>e==="완료",pG=e=>e==="진행중"||e==="검수중"||e==="검수요청",gG=160,mG=(e,t=2)=>{const n=Math.pow(10,t);return Math.sign(e)*Math.floor(Math.abs(e)*n+1e-9)/n},yG=e=>e.toFixed(2).replace(/\.?0+$/,"");function _G({dailyHours:e=8,targetDate:t}){const[n,i]=V.useState([]),s=Hh(t??new Date),r=s.getFullYear();V.useEffect(()=>{const h=Bn(Qe(Jt,"design_request")),f=sr(h,p=>{const y=p.docs.map(_=>({id:_.id,..._.data()}));i(y)});return()=>f()},[]);const l=V.useMemo(()=>Array.from(new Set(n.map(f=>(f.assigned_designer||"").trim()).filter(f=>f.length>0&&f!=="미배정"))).sort((f,p)=>f.localeCompare(p,"ko")).map(f=>{const p=n.filter(I=>I.assigned_designer===f),y=p.filter(I=>hG(Xb(I),s)),_=y.filter(I=>fG(I.status)).length,w=y.filter(I=>pG(I.status)).length,E=y.filter(I=>dG(I.status)).length,A=y.reduce((I,L)=>I+(Number(L.in_work_hour)||0),0),S=mG(A,2),D=Array.from({length:12},(I,L)=>{const z=p.filter(C=>{const R=Xb(C);return R&&R.getFullYear()===r&&R.getMonth()===L}).reduce((C,R)=>C+(Number(R.in_work_hour)||0),0),M=Math.round(z/gG*100),Y=p.filter(C=>{const R=Xb(C);return R&&R.getFullYear()===r&&R.getMonth()===L}).length;return{rate:M,count:Y}});return{name:f,wait:_,progress:w,done:E,usedHours:S,monthly:D}}),[n,s,r]),c=V.useMemo(()=>l.map((h,f)=>{const p=h.monthly.filter(w=>w.count>0),y=p.length?p.reduce((w,E)=>w+E.rate,0)/p.length:0,_=h.monthly.reduce((w,E)=>w+E.count,0);return{index:f+1,avgRate:y,totalCount:_}}),[l]);return l.length===0?v.jsx(vG,{children:"표시할 데이터가 없습니다."}):v.jsx(bG,{children:v.jsxs(xG,{children:[v.jsxs("colgroup",{children:[v.jsx("col",{style:{width:"50px"}}),v.jsx("col",{style:{width:"140px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"70px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"80px"}}),v.jsx("col",{style:{width:"110px"}})]}),v.jsxs("thead",{children:[v.jsxs("tr",{children:[v.jsx(Fs,{rowSpan:2,children:"번호"}),v.jsx(Fs,{rowSpan:2,children:"디자이너명"}),v.jsxs(Fs,{colSpan:4,children:["현재현황(일공수 : ",e,"h)"]}),v.jsx(Fs,{colSpan:12,children:"월별 진행현황(공수달성율 / 제작건수)"}),v.jsx(Fs,{rowSpan:2,children:"연평균"})]}),v.jsxs("tr",{children:[v.jsx(Fs,{children:"대기"}),v.jsx(Fs,{children:"진행중"}),v.jsx(Fs,{children:"완료"}),v.jsx(Fs,{children:"사용공수(h)"}),uG.map(h=>v.jsx(Fs,{children:h},h))]})]}),v.jsx("tbody",{children:l.map((h,f)=>{const{index:p,avgRate:y,totalCount:_}=c[f];return v.jsxs("tr",{children:[v.jsx(Ua,{children:p}),v.jsx(Ua,{children:h.name}),v.jsx(Ua,{children:h.wait}),v.jsx(Ua,{children:h.progress}),v.jsx(Ua,{children:h.done}),v.jsx(Ua,{children:yG(h.usedHours)}),h.monthly.map((w,E)=>v.jsxs(Ua,{children:[v.jsxs("div",{children:[w.rate,"%"]}),v.jsx("div",{children:w.count})]},E)),v.jsxs(Ua,{children:[v.jsxs("div",{children:[y.toFixed(0),"%"]}),v.jsx("div",{children:_})]})]},h.name+f)})})]})})}const bG=H.div`
  padding: 0 48px;
  margin-top: 20px;
`,vG=H.div`
  padding: 24px;
  text-align: center;
  color: #666;
  border: 1px solid #e5e5e5;
  border-radius: 8px;
  background: #fafafa;
`,xG=H.table`
  width: 100%;
  table-layout: fixed;
  font-family: 'Pretendard';
  border-top: 2px solid ${({theme:e})=>e.colors.black};

  thead {
    tr {
      &:first-of-type {
        th:nth-of-type(3) {
          border-right: 1px solid ${({theme:e})=>e.colors.black};
        }
        th:nth-of-type(4) {
          background-color: ${({theme:e})=>e.colors.pink01};
        }
      }
      &:last-of-type {
        th:nth-of-type(4) {
          border-right: 1px solid ${({theme:e})=>e.colors.black};
        }
      }
    }
  }


  th, td {
    padding: 8px 10px;
    font-size: 14px;
  }
`,Fs=H.th`
  background-color: ${({theme:e})=>e.colors.gray08};
  font-weight: 700;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right:none;
  }

  &:nth-of-type(n + 5):nth-of-type(-n + 16) {
    background-color: ${({theme:e})=>e.colors.pink01};
  }
`,Ua=H.td`
  text-align: center;
  font-weight: 500;

  &:first-of-type {
    border-left: none;
  }

  &:last-of-type {
    border-right: none;
  }

  &:nth-of-type(6) {
    border-right: 1px solid ${({theme:e})=>e.colors.black};
  }
`;function wG({onClick:e,loading:t,label:n="Export CSV"}){return v.jsx(EG,{type:"button",onClick:e,disabled:!!t,children:t?"추출 중…":n})}const EG=H.button`
  margin-bottom: 10px;
  padding: 8px 12px;
  border-radius: 4px;
  border: 1px solid ${({theme:e})=>e.colors.black};
  background: ${({theme:e})=>e.colors.white01};
  font-size: 14px;
  &:disabled { opacity: 0.5; pointer-events: none; }
`,Gk=e=>{if(e==null)return"";const t=String(e).replace(/"/g,'""');return/[",\n]/.test(t)?`"${t}"`:t},SG=(e,t)=>t.split(".").reduce((n,i)=>n?n[i]:void 0,e),ig=e=>e<10?`0${e}`:`${e}`,TG=e=>{if(e==null)return"";if(typeof e=="object"&&typeof e.toDate=="function"){const t=e.toDate();return`${t.getFullYear()}-${ig(t.getMonth()+1)}-${ig(t.getDate())}`}return e instanceof Date?`${e.getFullYear()}-${ig(e.getMonth()+1)}-${ig(e.getDate())}`:String(e)};function AG(e){const{rows:t,fields:n,filename:i="export.csv",headers:s,serialize:r=TG}=e,l=n.map(y=>Gk((s==null?void 0:s[y])??y)).join(","),c=t.map(y=>{const _={id:y.id,...y};return n.map(E=>Gk(r(SG(_,E)))).join(",")}),h="\uFEFF"+[l,...c].join(`\r
`),f=new Blob([h],{type:"text/csv;charset=utf-8"}),p=document.createElement("a");p.href=URL.createObjectURL(f),p.download=i,p.click(),URL.revokeObjectURL(p.href)}const Kk="진행 상태 선택",Xk="요청자 선택",Qk="디자이너 선택",Zk="회사 선택",tl=e=>String(e??"").trim();async function kG(e){const t=tl(e.company).toLowerCase();if(t==="nsmall"){const i=Bn(Qe(Jt,"nsmall_task_work_hour"),gn("nsmall_task_type","==",tl(e.task_type)),gn("nsmall_task_type_detail","==",tl(e.task_type_detail))),s=await io(i);if(!s.empty){const r=s.docs[0].data(),l=Number(r.nsmall_task_work_times);return Number.isFinite(l)?l:1}return 1}if(t==="homeplus"){const i=Bn(Qe(Jt,"homeplus_task_work_hour"),gn("homeplus_task_form","==",tl(e.task_form)),gn("homeplus_task_type","==",tl(e.task_type))),s=await io(i);if(!s.empty){const r=s.docs[0].data(),l=Number(r.homeplus_task_work_times);return Number.isFinite(l)?l:1}return 1}const n=await io(Bn(Qe(Jt,"task_work_hour"),gn("task_form","==",tl(e.task_form)),gn("task_type","==",tl(e.task_type))));if(!n.empty){const i=Number(n.docs[0].data().task_work_times);return Number.isFinite(i)?i:1}return 1}function RG({view:e,setIsDrawerOpen:t,setDetailData:n,userRole:i}){const[s,r]=V.useState([]),[l,c]=V.useState([]),[h,f]=V.useState({}),[p,y]=V.useState({}),[_,w]=V.useState(Kk),[E,A]=V.useState({start:null,end:null}),[S,D]=V.useState(""),[I,L]=V.useState(""),[z,M]=V.useState([]),[Y,C]=V.useState(Xk),[R,P]=V.useState([]),[j,U]=V.useState(Qk),[$,F]=V.useState([]),[Mt,Q]=V.useState(Zk),[q,G]=V.useState(!1);V.useEffect(()=>{if(e==="dashboard"||e==="inworkhour"){r([]);return}const bt=Bn(Qe(Jt,"design_request"),Ef("design_request_id","desc")),It=sr(bt,kt=>{const At=kt.docs.map(Qt=>({id:Qt.id,...Qt.data()}));r(At)});return()=>It()},[e]),V.useEffect(()=>{s.length&&f(bt=>{const It={...bt};return s.forEach(kt=>{It[kt.id]===void 0&&(It[kt.id]=kt.assigned_designer??"")}),It})},[s]),V.useEffect(()=>{s.length&&y(bt=>{const It={...bt};return s.forEach(kt=>{It[kt.id]===void 0&&(It[kt.id]=kt.out_work_hour!=null?String(kt.out_work_hour):"")}),It})},[s]),V.useEffect(()=>{(async()=>{const It=Bn(Qe(Jt,"users"),gn("role","==",2)),At=(await io(It)).docs.map(Qt=>({id:Qt.id,...Qt.data()}));c(At),P(At.map(Qt=>Qt.name).filter(Boolean))})()},[]),V.useEffect(()=>{const bt=sr(Qe(Jt,"users"),It=>{const kt=new Set;It.forEach(At=>{const Qt=String(At.data().company??"").trim();Qt&&kt.add(Qt)}),F(Array.from(kt).sort())});return()=>bt()},[]);const ot=(bt,It)=>{f(kt=>({...kt,[bt]:It}))},it=async bt=>{const It=h[bt];if(!It){alert("디자이너를 선택하세요.");return}const kt=Xn(Jt,"design_request",bt);await Gs(kt,{assigned_designer:It}),alert("디자이너가 배정되었습니다!"),r(At=>At.map(Qt=>Qt.id===bt?{...Qt,assigned_designer:It}:Qt))},B=async bt=>{await Gs(Xn(Jt,"design_request",bt),{manager_review_status:"검수완료",status:"검수중"}),r(It=>It.map(kt=>kt.id===bt?{...kt,manager_review_status:"검수완료",status:"검수중"}:kt)),alert("요청자에게 전달되었습니다.")};V.useEffect(()=>{(async()=>{const bt=Bn(Qe(Jt,"users"),gn("role","==",1)),kt=(await io(bt)).docs.map(At=>At.data().name).filter(Boolean);M(kt)})()},[]);const st=bt=>{n(bt),t(!0)},lt=bt=>A(bt),ut=bt=>w(bt),X=bt=>L(bt.trim()),gt=bt=>C(bt),J=bt=>U(bt),pt=bt=>Q(bt),yt=bt=>new Date(bt.getFullYear(),bt.getMonth(),bt.getDate()),vt=bt=>{if(!bt)return null;if(typeof bt=="object"&&typeof bt.toDate=="function")return yt(bt.toDate());if(bt instanceof Date)return yt(bt);if(typeof bt=="number")return yt(new Date(bt));if(typeof bt=="string"){const kt=bt.replace(/\./g,"-").replace(/\//g,"-").split("-");if(kt.length===3){const[Qt,ti,bi]=kt.map(Number),me=Qt>31?Qt:new Date().getFullYear();return new Date(me,ti-1,bi)}if(kt.length===2){const[Qt,ti]=kt.map(Number),bi=new Date().getFullYear();return new Date(bi,Qt-1,ti)}const At=new Date(bt);return isNaN(+At)?null:yt(At)}return null},Tt=bt=>bt==="검수요청"?"검수중":bt==="검수중"?"검수요청":bt??"대기",Bt=V.useMemo(()=>s.map(bt=>{const It=Tt(bt.status);return Px({...bt,displayStatus:It})}),[s]),ae=V.useMemo(()=>{const bt=E.start?yt(E.start):null,It=E.end?yt(E.end):null;return Bt.filter(kt=>{let At=!0;if(_!==Kk&&kt.status!==_&&(At=!1),At&&Y!==Xk&&kt.requester!==Y&&(At=!1),At&&j!==Qk&&kt.assigned_designer!==j&&(At=!1),At&&Mt!==Zk&&String(kt.company)!==Mt&&(At=!1),At&&bt&&It){const Qt=vt(kt.request_date)||vt(kt.requested_at)||vt(kt.requestDate);(!Qt||Qt<bt||Qt>It)&&(At=!1)}return At&&I&&!Nx(kt,I)&&(At=!1),At})},[Bt,_,Y,j,Mt,E,I]),An=(bt,It)=>{const kt=It.replace(/[^0-9.]/g,"");y(At=>({...At,[bt]:kt}))},Jn=async bt=>{const It=s.find(kt=>kt.id===bt);await Gs(Xn(Jt,"design_request",bt),{work_hour_edit_state:!0}),r(kt=>kt.map(At=>At.id===bt?{...At,work_hour_edit_state:!0}:At)),y(kt=>({...kt,[bt]:kt[bt]!==void 0&&kt[bt]!==""?kt[bt]:(It==null?void 0:It.out_work_hour)!=null?String(It.out_work_hour):""}))},qi=async bt=>{const It=s.find(bi=>bi.id===bt);if(!It)return;const kt=(p[bt]??"").trim(),At=Number(kt.replace(",","."));if(!Number.isFinite(At)||At<0){alert("유효한 공수를 입력하세요.");return}const Qt=await kG(It),ti=Math.round(At*Qt*1e3)/1e3;await Gs(Xn(Jt,"design_request",bt),{out_work_hour:At,in_work_hour:ti,work_hour_edit_state:!1}),r(bi=>bi.map(me=>me.id===bt?{...me,out_work_hour:At,in_work_hour:ti,work_hour_edit_state:!1}:me)),alert("공수 수정 완료")},hi=bt=>{if(!bt)return"";typeof bt=="object"&&typeof bt.toDate=="function"&&(bt=bt.toDate());const It=bt instanceof Date?bt:new Date(bt);if(isNaN(+It))return"";const kt=It.getFullYear(),At=String(It.getMonth()+1).padStart(2,"0"),Qt=String(It.getDate()).padStart(2,"0");return`${kt}-${At}-${Qt}`},kn=async()=>{G(!0);try{const bt=["design_request_id","request_date","completion_date","open_date","merchandiser","requester","task_form","task_type","task_type_detail","requirement","url","note","status","result_url","designer_start_date","designer_end_date","assigned_designer","work_hour"],It={design_request_id:"문서번호",request_date:"요청일",completion_date:"완료요청일",open_date:"오픈일",merchandiser:"담당MD",requester:"요청자",task_form:"업무부서",task_type:"업무형태",task_type_detail:"업무형태상세",requirement:"작업항목",url:"요청서URL",note:"메모",status:"진행상태",result_url:"산출물URL",designer_start_date:"디자인 시작일",designer_end_date:"디자인 종료일",assigned_designer:"디자이너",work_hour:"공수"},kt=ae.map(At=>({design_request_id:At.design_request_id??"",request_date:hi(At.request_date??At.requested_at??At.requestDate),completion_date:hi(At.completion_date),open_date:hi(At.open_date),merchandiser:At.merchandiser??At.md??"",requester:At.requester??"",task_form:At.task_form??"",task_type:At.task_type??"",task_type_detail:At.task_type_detail??"",requirement:At.requirement??"",url:At.url??"",note:At.note??"",status:At.status??"",result_url:At.result_url??"",designer_start_date:hi(At.designer_start_date),designer_end_date:hi(At.designer_end_date),assigned_designer:At.assigned_designer??"",work_hour:(At.in_work_hour??At.out_work_hour??"")+""}));AG({rows:kt,fields:bt,headers:It,filename:"design_request_current_view.csv"})}finally{G(!1)}},ur=async bt=>{await Gs(Xn(Jt,"design_request",bt),{work_hour_edit_state:!1}),r(It=>It.map(kt=>kt.id===bt?{...kt,work_hour_edit_state:!1}:kt))};return v.jsxs(CG,{children:[v.jsx(dx,{userRole:i}),e==="myrequestlist"&&v.jsxs(DG,{children:[v.jsx(Rf,{roleNumber:3,onApplyStatus:ut,onApplyRange:lt,onSearch:X,keyword:S,onKeywordChange:D,isManager:!0,requesterOptions:z,onApplyRequester:gt,designerOptions:R,onApplyDesigner:J,companyOptions:$,onApplyCompany:pt}),v.jsx(wG,{onClick:kn,loading:q}),v.jsx(aG,{data:ae,designerList:l,selectedDesigners:h,designerSelect:ot,assignDesigner:it,sendToRequester:B,onDetailClick:st,workHours:p,onChangeWorkHour:An,onSaveWorkHour:qi,onStartEditWorkHour:Jn,onCancelEditWorkHour:ur})]}),e==="dashboard"&&v.jsx(MG,{children:v.jsx(Ox,{capacityHoursPerMonth:704})}),e==="inworkhour"&&v.jsx(_G,{})]})}const CG=H.div``,DG=H.div`
  padding: 0 48px;
`,MG=H.div`
  max-height: 766px;
  padding: 0 48px;
  overflow: auto;
`;function IG({userRole:e,setIsDrawerOpen:t,setEditData:n,setDetailData:i}){const[s,r]=dm(),l=s.get("view")||"dashboard";V.useEffect(()=>{s.get("view")||r(h=>{const f=new URLSearchParams(h);return f.set("view","dashboard"),f},{replace:!0})},[]);const c=()=>{if(e===1)return v.jsx(gY,{view:l,userRole:e,setIsDrawerOpen:t,setEditData:n,setDetailData:i});if(e===2)return v.jsx(LY,{view:l,userRole:e,setIsDrawerOpen:t,setDetailData:i});if(e===3)return v.jsx(RG,{view:l,userRole:e,setIsDrawerOpen:t,setDetailData:i})};return v.jsx(OG,{children:c()})}const OG=H.main`
  height: calc(100% - 64px);
`,PG="/pdms-test/assets/aside-logo-DHSQzRu2.svg",NG="/pdms-test/assets/myrequest-icon-DhmqrZY6.svg";function LG({item:e}){return v.jsxs(UG,{status:e.status,children:[v.jsx(zG,{children:e.status}),v.jsx(BG,{status:e.status,children:e.count})]})}const VG=(e,t)=>{switch(e){case"대기":return t.colors.beige01;case"진행중":return t.colors.lightpupple;case"검수요청":case"검수중":return t.colors.pink03;case"완료":return t.colors.gray04;case"취소":return t.colors.gray07;default:return"#f9f9f9"}},jG=(e,t)=>{switch(e){case"대기":return t.colors.orange;case"진행중":return t.colors.blue01;case"검수요청":case"검수중":return t.colors.red;case"완료":return t.colors.gray02;case"취소":return t.colors.gray03;default:return t.colors.gray03}},UG=H.li`
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  padding: 20.5px 44px 20.5px 28px;
  margin-bottom: 8px;
  border-radius: 4px;
  font-family: 'Pretendard';
  color: ${({theme:e})=>e.colors.black};
  background-color: ${({status:e,theme:t})=>VG(e,t)};
`,zG=H.span`
  font-size: 16px;
  font-weight: 500;
`,BG=H.span`
  position: relative;
  width: 10px;
  font-size: 14px;
  font-weight: 700;

  &::before {
    content: "";
    position: absolute;
    top: 50%;
    left: -40px;
    display: block;
    width: 1px;
    height: 18px;
    transform: translateY(-50%);
    background-color: ${({status:e,theme:t})=>jG(e,t)};
  }
`,FG="/pdms-test/assets/icon_slack_gray-BGCbyQrc.svg",qG="/pdms-test/assets/icon_slack_white-COpHHs97.svg",$G="/pdms-test/assets/icon_google_drive_gray-DDhA1xcb.svg",HG="/pdms-test/assets/icon_google_drive_white-DHwRCpfO.svg";function WG(){return v.jsxs(YG,{children:[v.jsxs(GG,{children:[v.jsx(KG,{children:"PDMS"}),v.jsx(XG,{children:"© Pushcomz Corp."})]}),v.jsxs(QG,{children:[v.jsx(nv,{children:v.jsx(Jk,{target:"_blank",$icon:FG,$iconHover:qG})}),v.jsx(nv,{children:v.jsx(Jk,{target:"_blank",$icon:$G,$iconHover:HG,href:"https://drive.google.com/drive/folders/1-hQiEmPEomtaDFgnRqt0bAaxIFEWEvYn"})})]})]})}const YG=H.footer`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  font-family: 'Pretendard';
  padding: 24px;
  padding-top: 0px;
  gap: 0 13px;
`,GG=H.div`
  ${({theme:e})=>e.mixin.flex("flex-start")};
  flex-direction: column;
`,KG=H.strong`
  font-size: 20px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.gray05};
`,XG=H.span`
  font-size: 12px;
  font-weight: 300;
  line-height: 20px;
  color: ${({theme:e})=>e.colors.gray05};
  text-align: center;
  white-space: nowrap;
`,QG=H.ul`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  gap: 0 8px;
`,nv=H.li`
  ${({theme:e})=>e.mixin.flex("center","center")};
  width: 36px;
  height: 36px;
  background-color: ${({theme:e})=>e.colors.gray01};
  border-radius: 50%;
  &:hover {
    background-color: ${({theme:e})=>e.colors.black};
  }
`,Jk=H.a`
  display: block;
  width: 20px;
  height: 20px;
  background: ${({$icon:e})=>`url(${e}) no-repeat center / 20px 20px`};
  cursor: pointer;

  &:hover {
    background-image: ${({$iconHover:e})=>`url(${e})`};
  }
  
  ${nv}:hover & {
    background-image: ${({$iconHover:e})=>`url(${e})`};
  }
`,qe={WAIT:"대기",PROG:"진행중",REQ:"검수요청",REV:"검수중",DONE:"완료",CAN:"취소"},ZG=(e,t)=>{const n=i=>t.reduce((s,r)=>r.status&&i.includes(r.status)?s+1:s,0);switch(e){case 1:return[{status:"대기",count:n([qe.WAIT])},{status:"진행중",count:n([qe.PROG,qe.REQ])},{status:"검수중",count:n([qe.REV])},{status:"완료",count:n([qe.DONE])},{status:"취소",count:n([qe.CAN])}];case 2:return[{status:"대기",count:n([qe.WAIT])},{status:"진행중",count:n([qe.PROG])},{status:"검수요청",count:n([qe.REQ,qe.REV])},{status:"완료",count:n([qe.DONE])},{status:"취소",count:n([qe.CAN])}];case 3:return[{status:"대기",count:n([qe.WAIT])},{status:"진행중",count:n([qe.PROG])},{status:"검수중",count:n([qe.REQ])},{status:"검수요청",count:n([qe.REV])},{status:"완료",count:n([qe.DONE])},{status:"취소",count:n([qe.CAN])}];default:return[{status:"대기",count:n([qe.WAIT])},{status:"진행중",count:n([qe.PROG])},{status:"검수요청",count:n([qe.REQ])},{status:"검수중",count:n([qe.REV])},{status:"완료",count:n([qe.DONE])},{status:"취소",count:n([qe.CAN])}]}},JG=(e,t)=>{switch(e){case 1:return`${t}님의 요청`;case 2:return`${t}님의 작업 현황`;case 3:return"전체 요청 현황";default:return"요청 현황"}};function tK({requests:e,role:t,userName:n,onRequestButtonClick:i}){const s=ZG(t,e);return v.jsxs(eK,{children:[v.jsxs(nK,{children:[v.jsxs(iK,{children:[v.jsx(sK,{src:PG}),v.jsx(rK,{children:"업무 관리시스템"})]}),t===1&&v.jsx(aK,{children:v.jsx(oK,{onClick:i,children:"디자인 요청 등록"})}),v.jsxs(lK,{children:[v.jsxs(cK,{children:[v.jsx(uK,{src:NG}),v.jsx(hK,{children:JG(t,n)})]}),v.jsx(fK,{children:s.map(r=>v.jsx(LG,{item:r},r.status))})]})]}),v.jsx(WG,{})]})}const eK=H.aside`
  ${({theme:e})=>e.mixin.flex("","space-between")};
  flex-direction: column;
  width: 240px;
  height: 100%;
  border-right: 1px solid ${({theme:e})=>e.colors.black};
`,nK=H.div`
  
`,iK=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  padding: 18.5px 0;
  border-bottom: 1px solid ${({theme:e})=>e.colors.gray02};
`,sK=H.img`
  margin-right: 8px;
`,rK=H.span`
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
  white-space: nowrap;
`,aK=H.div`
  text-align: center;
  padding: 32px 0;
  border-bottom: 1px solid ${({theme:e})=>e.colors.gray02};
`,oK=H.button`
  padding: 12px 44px;
  border-radius: 8px;
  font-family: 'Pretendard';
  font-size: 16px;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
  white-space: nowrap;
`,lK=H.div`
  padding: 0 24px;
`,cK=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  gap: 12px;
  padding: 30px 0;
`,uK=H.img``,hK=H.h4`
  font-family: 'Pretendard';
  font-size: 17px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
`,fK=H.ul`
  ${({theme:e})=>e.mixin.flex("center")};
  flex-direction: column;
`;function dK({isOpen:e,onClose:t,children:n}){return v.jsxs(v.Fragment,{children:[v.jsx(pK,{isVisible:e,onClick:t}),v.jsx(gK,{isVisible:e,onClick:i=>i.stopPropagation(),children:n})]})}const pK=H.div`
  position: fixed;
  top: 0; right: 0; bottom: 0; left: 0;
  background: rgba(0, 0, 0, 0.3);
  z-index: 1000;
  opacity: ${({isVisible:e})=>e?1:0};
  pointer-events: ${({isVisible:e})=>e?"auto":"none"};
  transition: opacity 0.3s ease;
`,gK=H.div`
  position: fixed;
  top: 64px;
  right: 0;
  width: 680px;
  height: 100%;
  background-color: white;
  box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
  z-index: 1001;
  overflow-y: hidden;
  padding: 24px;
  transform: ${({isVisible:e})=>e?"translateX(0)":"translateX(100%)"};
  transition: transform 0.3s ease;
`,yO="/pdms-test/assets/requestformexit-button-BcAG546a.svg",mK="/pdms-test/assets/checkbox-checked-eOVFoR8b.svg",sg={completion_date:"",open_date:"",merchandiser:"",task_form:"",task_type:"",task_type_detail:"",requirement:"",url:"",note:"",emergency:!1},tR=["GHS","MHC"],Lx=["핫새배너","홈테마","프론트테마","페이/카드프로모션","팝업","트레이딩","즉시배송","제휴","일자별배너","이벤트배너","별도기획전","GNB-택배배송관","GNB-주류이지픽업","GNB-기획전","이벤트","기타"],Vx=["프론트테마","푸시","트레이딩","클럽","이벤트배너","이벤트","기타"],yK={GHS:Lx,MHC:Vx},eR=["M영업기획팀","디지털마케팅팀","M상품1팀","M상품2팀","M상품3팀","TV영업기획팀","TC영업기획팀","미디어컨텐츠팀","전략기획팀","MC서비스기획팀"],_K=["프로모션","배너(프로모션,연관)","배너(마케팅)","배너(상품)","배너(etv/etcom)","배너(엔라방)","썸네일(그룹)"],bK={프로모션:["마케팅","마케팅-FULL","마케팅-템플릿","마케팅-모션적용","상품(식품/공산품)","상품(식품/공산품)-브랜드템플릿","etv/etcom","프로모션 수정"],"배너(프로모션,연관)":["템플릿","템플릿-모션","템플릿-썸네일형","공통","기타"],"배너(마케팅)":["템플릿","템플릿-썸네일형","공통","광고성","홈전단지컨셉"],"배너(상품)":["템플릿","공통"],"배너(etv/etcom)":["템플릿","공통"],"배너(엔라방)":["템플릿","공통"],"썸네일(그룹)":["마케팅","그룹코드_프로모션","1팀","2팀","3팀","etv/etcom","엔라방"]},vK=e=>(e??"").trim().toLowerCase(),Le=e=>vK(e)==="nsmall",Mg=e=>{const t=(e??"").trim(),n=yK[t];return n&&n.length?[...n]:Array.from(new Set([...Lx,...Vx]))},Ig=e=>Mg(e)[0]??"",xK=e=>{if(Le(e))return{forms:[...eR],types:[..._K],formDefault:eR[0],typeDefault:""};const t=tR[0];return{forms:[...tR],types:Array.from(new Set([...Lx,...Vx])),formDefault:t,typeDefault:Ig(t)}};function nR({userName:e,editData:t,isDrawerOpen:n,onClose:i}){const s=(t==null?void 0:t.requester_edit_state)===!0,[r,l]=V.useState(sg),[c,h]=V.useState([]),[f,p]=V.useState(""),y=V.useMemo(()=>xK(f),[f]),_=Tl(),w=or(),E=()=>{const Q=new URLSearchParams(w.search);Q.set("view","myrequestlist"),_({pathname:"/main",search:Q.toString()},{replace:!0})},A=Q=>{const q=(Q??"").trim();return bK[q]??[]},S=V.useMemo(()=>Le(f)?A(r.task_type):[],[f,r.task_type]),D=V.useMemo(()=>{const Q=[...y.forms];return s&&r.task_form&&!Q.includes(r.task_form)&&Q.unshift(r.task_form),Q},[y.forms,s,r.task_form]),I=V.useMemo(()=>{if(Le(f)){const G=[...y.types];return s&&r.task_type&&!G.includes(r.task_type)&&G.unshift(r.task_type),G}const Q=r.task_form||y.formDefault,q=Mg(Q);return s&&r.task_type&&!q.includes(r.task_type)&&q.unshift(r.task_type),q},[f,y.types,y.formDefault,s,r.task_form,r.task_type]),L=(Q,q)=>{if(Q==="task_type"&&Le(f)){l(G=>({...G,task_type:q,task_type_detail:""}));return}if(Q==="task_form"&&!Le(f)){const G=q,ot=Mg(G);l(it=>({...it,task_form:G,task_type:ot.includes(it.task_type||"")?it.task_type:ot[0]}));return}l(G=>({...G,[Q]:q}))},z=Q=>typeof Q!="string"||Q.trim()==="",M=(Q,q)=>z(Q.completion_date)?"완료 요청일을 선택하세요.":z(Q.open_date)?"오픈일을 선택하세요.":z(Q.task_form)?"업무 부서를 선택하세요.":z(Q.task_type)?"업무 유형을 선택하세요.":q&&z(Q.task_type_detail)?"업무 유형 상세를 선택하세요.":z(Q.requirement)?"작업 항목을 입력하세요.":null,Y=()=>h(Q=>[...Q,{...sg,task_form:y.formDefault,task_type:y.typeDefault,task_type_detail:""}]),C=Q=>h(q=>q.filter((G,ot)=>ot!==Q)),R=(Q,q,G)=>h(ot=>{const it=[...ot];return q==="task_type"&&Le(f)?it[Q]={...it[Q],task_type:G,task_type_detail:""}:it[Q]={...it[Q],[q]:G},it}),P=Q=>Q?Ie.fromDate(new Date(Q)):null,j=async()=>{const Q=new Date,q=Q.getFullYear().toString().slice(2),G=(Q.getMonth()+1).toString().padStart(2,"0"),ot=Bn(Qe(Jt,"design_request"),gn("design_request_id",">=",`H${q}${G}0000`),gn("design_request_id","<",`H${q}${G}9999`)),it=await io(ot);return{year:q,month:G,base:it.size}},U=(Q,q,G)=>`H${Q}${q}${G.toString().padStart(4,"0")}`,$=async(Q,q)=>{const G=Bn(Qe(Jt,"homeplus_task_work_hour"),gn("homeplus_task_form","==",Q),gn("homeplus_task_type","==",q));return await io(G)},F=async(Q,q,G)=>{if(Le(f)){if(!q||!G)return{base:null,times:null};const lt=Bn(Qe(Jt,"nsmall_task_work_hour"),gn("nsmall_task_type","==",q),gn("nsmall_task_type_detail","==",G)),ut=await io(lt);if(ut.empty)return{base:null,times:null};const X=ut.docs[0].data(),gt=typeof X.nsmall_task_work_hour=="number"?X.nsmall_task_work_hour:null,J=typeof X.nsmall_task_work_times=="number"?X.nsmall_task_work_times:null;return console.log("[NSMALL preset]",{task_type:q,task_type_detail:G,base:gt,times:J,docId:ut.docs[0].id}),{base:gt,times:J}}if(!Q||!q)return{base:null,times:null};let ot=await $(Q,q);if(ot.empty&&(Q==="GHS"||Q==="MHC")&&(ot=await $(Q==="GHS"?"MHC":"GHS",q)),ot.empty)return{base:null,times:null};const it=ot.docs[0].data(),B=typeof it.homeplus_task_work_hour=="number"?it.homeplus_task_work_hour:null,st=typeof it.homeplus_task_work_times=="number"?it.homeplus_task_work_times:null;return console.log("[HOMEPLUS preset]",{task_form:Q,task_type:q,base:B,times:st,docId:ot.docs[0].id}),{base:B,times:st}},Mt=async Q=>{if(Q.preventDefault(),s){const lt=M(r,Le(f));if(lt){alert(lt);return}}if(s&&(t!=null&&t.id)){const lt=(r.task_form||"")!==(t.task_form||""),ut=(r.task_type||"")!==(t.task_type||""),X=Le(f)&&(r.task_type_detail||"")!==(t.task_type_detail||""),gt={completion_date:P(r.completion_date),open_date:P(r.open_date),merchandiser:r.merchandiser??"",task_form:r.task_form||y.formDefault,task_type:Le(f)?r.task_type??"":r.task_type||y.typeDefault,task_type_detail:r.task_type_detail??"",requirement:r.requirement,url:r.url,note:r.note,emergency:r.emergency,requester_edit_state:!1,updated_date:I0()};if(lt||ut||X){const{base:J,times:pt}=await F(gt.task_form,gt.task_type,gt.task_type_detail);gt.out_work_hour=J,gt.in_work_hour=J!=null&&pt!=null?Number((J*pt).toFixed(2)):null,gt.work_hour_edit_state=!1}await Gs(Xn(Jt,"design_request",t.id),gt),alert("요청이 수정되었습니다!"),i();return}const q=[r,...c];for(let lt=0;lt<q.length;lt++){const ut=q[lt],X=M(ut,Le(f));if(X){alert(`${lt===0?"메인 폼":`추가 요청 ${lt}`} ${X}`);return}}const{year:G,month:ot,base:it}=await j();let B=it;const st=new Date;for(const lt of q){B+=1;const ut=U(G,ot,B),X=lt.task_form||y.formDefault,gt=Le(f)?lt.task_type||"":lt.task_type||Ig(X),{base:J,times:pt}=await F(lt.task_form,lt.task_type,lt.task_type_detail),yt=J!=null&&pt!=null?Number((J*pt).toFixed(2)):null;await x5(Qe(Jt,"design_request"),{design_request_id:ut,request_date:P(st.toISOString()),merchandiser:lt.merchandiser??"",requester:e,company:f,completion_date:P(lt.completion_date),open_date:P(lt.open_date),task_form:X,task_type:gt,task_type_detail:lt.task_type_detail??"",requirement:lt.requirement,url:lt.url,note:lt.note,status:"대기",assigned_designer:"미배정",requester_review_status:"검수대기",manager_review_status:"",result_url:"",designer_start_date:null,designer_end_date:null,emergency:lt.emergency,requester_edit_state:!1,designer_edit_state:!1,in_work_hour:yt,out_work_hour:J,work_hour_edit_state:!1,created_date:I0(),updated_date:null,delete_date:null})}alert(`${q.length}건이 등록되었습니다!`),h([]),l(sg),E(),i()};return V.useEffect(()=>{s&&t&&l({completion_date:t.completion_date?t.completion_date.toDate().toISOString().slice(0,10):"",open_date:t.open_date?t.open_date.toDate().toISOString().slice(0,10):"",merchandiser:t.merchandiser??"",task_form:t.task_form??"",task_type:t.task_type??"",task_type_detail:t.task_type_detail??"",requirement:t.requirement??"",url:t.url??"",note:t.note??"",emergency:t.emergency??!1})},[s,t]),V.useEffect(()=>{!n||s||(l({...sg,task_form:y.formDefault,task_type:y.typeDefault,task_type_detail:""}),h([]))},[n,s,y.formDefault,y.typeDefault]),V.useEffect(()=>{const Q=Cl(os,async q=>{var ot;if(!q){p("");return}const G=await Xc(Xn(Jt,"users",q.uid));p(((ot=G.data())==null?void 0:ot.company)??"")});return()=>Q()},[]),V.useEffect(()=>{s||l(Q=>{const q={...Q};return y.forms.includes(q.task_form||"")||(q.task_form=y.formDefault),y.types.includes(q.task_type||"")||(q.task_type=y.typeDefault,q.task_type_detail=""),q})},[y.forms,y.types,y.formDefault,y.typeDefault,s]),v.jsxs(v.Fragment,{children:[v.jsxs(EK,{children:[v.jsx(SK,{children:s?"디자인 요청 수정":"디자인 요청 등록"}),v.jsx(TK,{type:"button",onClick:i})]}),v.jsxs(wK,{onSubmit:Mt,children:[v.jsxs(AK,{children:[v.jsxs(iR,{children:[v.jsx(sR,{children:"디자인 요청 등록"}),v.jsx("colgroup",{children:v.jsx("col",{style:{width:"120px"}})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx(hn,{children:"문서번호"}),v.jsx(fn,{children:s?t==null?void 0:t.design_request_id:""})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:"completion_date",children:"완료 요청일"})}),v.jsx(fn,{children:v.jsx(rg,{type:"date",id:"completion_date",value:r.completion_date,onChange:Q=>L("completion_date",Q.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:"open_date",children:"오픈일"})}),v.jsx(fn,{children:v.jsx(rg,{type:"date",id:"open_date",value:r.open_date,onChange:Q=>L("open_date",Q.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:"merchandiser",children:"담당 MD"})}),v.jsx(fn,{children:v.jsx(ag,{type:"text",id:"merchandiser",value:r.merchandiser||"",onChange:Q=>L("merchandiser",Q.target.value),placeholder:"담당 MD 이름을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:"task_form",children:"업무 부서"})}),v.jsx(fn,{children:v.jsx(Sc,{id:"task_form",$wide:Le(f),value:r.task_form||y.formDefault,onChange:Q=>L("task_form",Q.target.value),children:D.map(Q=>v.jsx("option",{value:Q,children:Q},Q))})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:"task_type",children:"업무 유형"})}),v.jsxs(fn,{children:[v.jsxs(Sc,{id:"task_type",$wide:Le(f),value:Le(f)?s?r.task_type||I[0]||"":r.task_type??"":r.task_type||Ig(r.task_form||y.formDefault),onChange:Q=>L("task_type",Q.target.value),children:[Le(f)&&!s&&v.jsx("option",{value:"",children:"업무 유형을 선택해주세요"}),I.map(Q=>v.jsx("option",{value:Q,children:Q},Q))]}),Le(f)&&!!r.task_type&&v.jsxs(Sc,{id:"task_type_detail",$wide:!0,value:r.task_type_detail||"",onChange:Q=>L("task_type_detail",Q.target.value),children:[v.jsx("option",{value:"",children:"상세 유형을 선택해주세요"}),S.map(Q=>v.jsx("option",{value:Q,children:Q},Q))]})]})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:"requirement",children:"작업 항목"})}),v.jsx(fn,{children:v.jsx(ag,{type:"text",id:"requirement",value:r.requirement,onChange:Q=>L("requirement",Q.target.value),placeholder:"작업 항목을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:"emergency",children:"긴급 일정"})}),v.jsx(fn,{children:v.jsx(oR,{children:v.jsxs(lR,{htmlFor:"emergency",children:[v.jsx(cR,{type:"checkbox",id:"emergency",checked:r.emergency,onChange:Q=>L("emergency",Q.target.checked)}),v.jsx(uR,{}),v.jsx("span",{children:"긴급 일정으로 설정"})]})})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:"url",children:"요청서 URL"})}),v.jsx(fn,{children:v.jsx(rR,{id:"url",value:r.url,onChange:Q=>L("url",Q.target.value),placeholder:"요청 기획안 URL을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:"note",children:"메모"})}),v.jsx(fn,{children:v.jsx(aR,{id:"note",rows:2,value:r.note,onChange:Q=>L("note",Q.target.value),placeholder:"메모를 입력하세요."})})]})]})]}),!s&&c.map((Q,q)=>{const G=Le(f)?A(Q.task_type):[],ot=Le(f)&&!!Q.task_type;return v.jsxs("div",{style:{marginBottom:24},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"8px 0 4px"},children:[v.jsxs("strong",{children:["추가 요청 ",q+1]}),v.jsx("button",{type:"button",onClick:()=>C(q),children:"삭제"})]}),v.jsxs(iR,{children:[v.jsx(sR,{children:"디자인 요청 추가 등록"}),v.jsx("colgroup",{children:v.jsx("col",{style:{width:"120px"}})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx(hn,{children:"문서번호"}),v.jsx(fn,{})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:`completion_date_ex_${q}`,children:"완료 요청일"})}),v.jsx(fn,{children:v.jsx(rg,{id:`completion_date_ex_${q}`,type:"date",value:Q.completion_date||"",onChange:it=>R(q,"completion_date",it.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:`open_date_ex_${q}`,children:"오픈일"})}),v.jsx(fn,{children:v.jsx(rg,{id:`open_date_ex_${q}`,type:"date",value:Q.open_date||"",onChange:it=>R(q,"open_date",it.target.value)})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:`merchandiser_ex_${q}`,children:"담당 MD"})}),v.jsx(fn,{children:v.jsx(ag,{id:`merchandiser_ex_${q}`,type:"text",value:Q.merchandiser||"",onChange:it=>R(q,"merchandiser",it.target.value),placeholder:"담당 MD 이름 또는 ID를 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:`task_form_ex_${q}`,children:"업무 부서"})}),v.jsx(fn,{children:v.jsx(Sc,{id:`task_form_ex_${q}`,$wide:Le(f),value:Q.task_form||y.formDefault,onChange:it=>R(q,"task_form",it.target.value),children:y.forms.map(it=>v.jsx("option",{value:it,children:it},it))})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:`task_type_ex_${q}`,children:"업무 유형"})}),v.jsxs(fn,{children:[v.jsxs(Sc,{id:`task_type_ex_${q}`,$wide:Le(f),value:Le(f)?Q.task_type||"":Q.task_type||Ig(Q.task_form||y.formDefault),onChange:it=>R(q,"task_type",it.target.value),children:[Le(f)&&v.jsx("option",{value:"",children:"업무 유형을 선택해주세요"}),(Le(f)?y.types:Mg(Q.task_form||y.formDefault)).map(it=>v.jsx("option",{value:it,children:it},it))]}),ot&&v.jsxs(Sc,{id:`task_type_detail_ex_${q}`,$wide:Le(f),value:Q.task_type_detail||"",onChange:it=>R(q,"task_type_detail",it.target.value),children:[v.jsx("option",{value:"",children:"상세 유형을 선택해주세요"}),G.map(it=>v.jsx("option",{value:it,children:it},it))]})]})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:`requirement_ex_${q}`,children:"작업 항목"})}),v.jsx(fn,{children:v.jsx(ag,{id:`requirement_ex_${q}`,type:"text",value:Q.requirement||"",onChange:it=>R(q,"requirement",it.target.value),placeholder:"작업 항목을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:`emergency_ex_${q}`,children:"긴급 일정"})}),v.jsx(fn,{children:v.jsx(oR,{children:v.jsxs(lR,{htmlFor:`emergency_ex_${q}`,children:[v.jsx(cR,{id:`emergency_ex_${q}`,type:"checkbox",checked:!!Q.emergency,onChange:it=>R(q,"emergency",it.target.checked)}),v.jsx(uR,{}),v.jsx("span",{children:"긴급 일정으로 설정"})]})})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:`url_ex_${q}`,children:"요청서 URL"})}),v.jsx(fn,{children:v.jsx(rR,{id:`url_ex_${q}`,value:Q.url||"",onChange:it=>R(q,"url",it.target.value),placeholder:"요청 기획안 URL을 입력하세요."})})]}),v.jsxs("tr",{children:[v.jsx(hn,{children:v.jsx(Ln,{htmlFor:`note_ex_${q}`,children:"메모"})}),v.jsx(fn,{children:v.jsx(aR,{id:`note_ex_${q}`,rows:4,value:Q.note||"",onChange:it=>R(q,"note",it.target.value),placeholder:"메모를 입력하세요."})})]})]})]})]},q)})]}),v.jsxs(kK,{children:[v.jsx(RK,{type:"submit",children:s?"수정 완료":"등록하기"}),!s&&v.jsx(CK,{type:"button",onClick:Y,children:"추가 등록하기"})]})]})]})}const wK=H.form`
  font-family: 'Pretendard';
`,EK=H.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  margin-bottom: 24px;
`,SK=H.h3`
  font-family: 'Pretendard';
  font-size: 24px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
  letter-spacing: -0.48px;
`,TK=H.button`
  width: 24px;
  height: 24px;
  background: url(${yO}) no-repeat center;
  background-size: contain;
`,iR=H.table`
  width: 100%;
  color: ${({theme:e})=>e.colors.black};
  border-top: 1px solid ${({theme:e})=>e.colors.black};
`,AK=H.div`
  max-height: 690px;
  overflow: auto;
`,sR=H.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,hn=H.th`
  padding: 16px;
  font-size: 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-left: none;
  background-color: ${({theme:e})=>e.colors.gray04};
`,fn=H.td`
  padding: 10px 24px;
  border-right: none;
`,Ln=H.label`
  width: 100%;
  text-align: center;
  font-weight: 700;
`,rg=H.input`
  width: 168px;
  padding: 6px 12px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
`,ag=H.input`
  width: 100%;
  padding: 8.5px 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
`,rR=H.textarea`
  width: 100%;
  padding: 10px 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
`,aR=H.textarea`
  width: 100%;
  padding: 10px 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  background-color: #fffff1;
`,oR=H.div`
  ${({theme:e})=>e.mixin.flex("center")};
  gap: 5px;
`,lR=H.label`
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
`,cR=H.input`
  display: none;

  &:checked + span {
    background-color: ${({theme:e})=>e.colors.red};
    background-image: url(${mK});
    background-repeat: no-repeat;
    background-position: center;
    background-size: 12px 12px;
  }
`,uR=H.span`
  width: 18px;
  height: 18px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 2px;
`,Sc=H.select`
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;

  width: ${({$wide:e})=>e?"215px":"168px"};
  height: 36px;
  padding: 0 32px 0 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  background-color: ${({theme:e})=>e.colors.white01};
  background-image: url(${px});
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 16px 16px;
  vertical-align: top;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.black};
  }

  &:first-of-type {
    margin-right: 10px;
  }
`,kK=H.div`
  margin-top: 24px;
  text-align: center;
`,RK=H.button`
  margin-right: 12px;
  padding: 12.5px 32px;
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 700;
  background-color: ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.white01};
`,CK=H.button`
  padding: 10.5px 31.5px;
  border-radius: 4px;
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 700;
  border: 1px solid ${({theme:e})=>e.colors.black};
  background-color: ${({theme:e})=>e.colors.white01};
  color: ${({theme:e})=>e.colors.black};

  &:hover {
    border: 1px solid ${({theme:e})=>e.colors.black};
  }
`;function DK({data:e,onClose:t}){const n=i=>{if(!i)return"-";if(i.toDate){const s=i.toDate();return`${s.getMonth()+1}/${s.getDate()}`}return i};return v.jsxs(v.Fragment,{children:[v.jsxs(MK,{children:[v.jsx(IK,{children:"디자인 요청 상세"}),v.jsx(OK,{type:"button",onClick:t})]}),v.jsxs(PK,{children:[v.jsx(NK,{children:"디자인 요청 상세"}),v.jsx("colgroup",{children:v.jsx("col",{style:{width:"120px"}})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx(gs,{children:"문서번호"}),v.jsx(za,{children:e==null?void 0:e.design_request_id})]}),v.jsxs("tr",{children:[v.jsx(gs,{children:"요청일"}),v.jsx(za,{children:n(e==null?void 0:e.request_date)})]}),v.jsxs("tr",{children:[v.jsx(gs,{children:"완료 요청일"}),v.jsx(LK,{children:n(e==null?void 0:e.completion_date)})]}),v.jsxs("tr",{children:[v.jsx(gs,{children:"오픈일"}),v.jsx(VK,{children:n(e==null?void 0:e.open_date)})]}),v.jsxs("tr",{children:[v.jsx(gs,{children:"담당 MD"}),v.jsx(za,{children:(e==null?void 0:e.merchandiser)||""})]}),v.jsxs("tr",{children:[v.jsx(gs,{children:"업무 부서"}),v.jsx(za,{children:e==null?void 0:e.task_form})]}),v.jsxs("tr",{children:[v.jsx(gs,{children:"업무 유형"}),v.jsxs(za,{children:[v.jsx(UK,{children:e==null?void 0:e.task_type}),(e==null?void 0:e.task_type_detail)&&v.jsxs(v.Fragment,{children:[v.jsx(zK,{children:"＞"}),v.jsx(BK,{children:e==null?void 0:e.task_type_detail})]})]})]}),v.jsxs("tr",{children:[v.jsx(gs,{children:"작업 항목"}),v.jsx(za,{children:e==null?void 0:e.requirement})]}),v.jsxs("tr",{children:[v.jsx(gs,{children:"긴급 일정"}),v.jsx(za,{children:e!=null&&e.emergency?"긴급 일정으로 설정":"긴급 일정으로 설정 안함"})]}),v.jsxs("tr",{children:[v.jsx(gs,{children:"요청서 URL"}),v.jsx(za,{children:e!=null&&e.url?v.jsx(FK,{href:e==null?void 0:e.url,target:"_blank",rel:"noreferrer",children:e==null?void 0:e.url}):"-"})]}),v.jsxs("tr",{children:[v.jsx(gs,{children:"메모"}),v.jsx(jK,{children:v.jsx(qK,{children:e.note})})]})]})]})]})}const MK=H.div`
  ${({theme:e})=>e.mixin.flex("center","space-between")};
  margin-bottom: 24px;
`,IK=H.h3`
  font-family: "Pretendard";
  font-size: 24px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.black};
  letter-spacing: -0.48px;
`,OK=H.button`
  width: 24px;
  height: 24px;
  background: url(${yO}) no-repeat center;
  background-size: contain;
`,PK=H.table`
  width: 100%;
  border-top: 1px solid ${({theme:e})=>e.colors.black};
  color: ${({theme:e})=>e.colors.black};
  font-family: 'Pretendard';
`,NK=H.caption`
  position: absolute;
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  margin: -1px;
  overflow: hidden;
`,gs=H.th`
  padding: 16px;
  font-size: 16px;
  border: 1px solid ${({theme:e})=>e.colors.gray02};
  border-left: none;
  background-color: ${({theme:e})=>e.colors.gray04};
`,za=H.td`
  padding: 12px 24px;
  border-right: none;
`,LK=H.td`
  padding: 12px 24px;
  border-right: none;
  color: ${({theme:e})=>e.colors.red};
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;
`,VK=H.td`
  padding: 12px 24px;
  border-right: none;
  color: ${({theme:e})=>e.colors.blue02};
  font-family: 'Pretendard';
  font-size: 16px;
  font-weight: 500;
`,jK=H.td`
  padding: 12px 24px;
  border-right: none;
  background-color: #fffff1;
`,UK=H.span`
`,zK=H.span`
  margin: 0 5px;
`,BK=H.span`
  
`,FK=H.a`
  display: -webkit-box;
  min-height: 70px;
  max-height: 70px;
  overflow-y: auto;
  -webkit-box-orient: vertical;
  word-break: break-word;
`,qK=H.p`
  min-height: 100px;
  max-height: 100px;
  overflow-y: auto;
  word-break: break-word;
`;function $K(){const[e,t]=V.useState(0),[n,i]=V.useState([]),[s,r]=V.useState(""),[l,c]=V.useState(!1),[h,f]=V.useState(void 0),[p,y]=V.useState(null);V.useEffect(()=>{const E=Cl(os,async A=>{if(A){r(A.displayName||"");const S=await Xc(Xn(Jt,"users",A.uid));if(S.exists()){const I=S.data().role,L=A.displayName;t(I);let z;I===1?z=Bn(Qe(Jt,"design_request"),gn("requester","==",L)):I===2?z=Bn(Qe(Jt,"design_request"),gn("assigned_designer","==",L)):z=Qe(Jt,"design_request"),sr(z,M=>{const Y=M.docs.map(C=>{const R=C.data();return{id:C.id,status:R.status??"대기중"}});i(Y)})}}else t(0),r(""),i([])});return()=>E()},[]);const _=()=>{f(void 0),y("create"),c(!0)},w=()=>{c(!1),f(void 0)};return v.jsxs(HK,{children:[v.jsx(tK,{requests:n,userName:s,role:e,onRequestButtonClick:_}),v.jsxs(WK,{children:[v.jsx(_z,{}),v.jsx(IG,{userRole:e,setIsDrawerOpen:c,setEditData:E=>{f(E),y("edit")},setDetailData:E=>{f(E),y("detail")}})]}),v.jsxs(dK,{isOpen:l,onClose:w,children:[p==="create"&&v.jsx(nR,{userName:s,isDrawerOpen:l,onClose:w}),p==="edit"&&h&&v.jsx(nR,{userName:s,isDrawerOpen:l,editData:h,onClose:w}),p==="detail"&&h&&v.jsx(DK,{data:h,onClose:w})]})]})}const HK=H.div`
  ${({theme:e})=>e.mixin.flex()};
  width: 100%;
  height: 100%;
`,WK=H.div`
  flex: 1;
`,YK={homeplus:"HomePlus",nsmall:"NSmall",pushcomz:"PushComz"},GK={homeplus:1,nsmall:1,pushcomz:2};function KK(){const[e,t]=V.useState(""),[n,i]=V.useState(""),[s,r]=V.useState(""),[l,c]=V.useState(""),[h,f]=V.useState(""),[p,y]=V.useState(!1),_=Tl(),[w]=dm(),E=V.useMemo(()=>(w.get("company")||"").toLowerCase(),[w]);V.useEffect(()=>{const S=YK[E];S?(i(S),y(!0)):(i(""),y(!1))},[E]);const A=async()=>{const S=e.trim(),D=n.trim(),I=s.trim();if(!S){alert("이름을 입력해주세요.");return}if(!D){alert("회사명을 입력해주세요.");return}if(!I){alert("이메일을 입력해주세요.");return}if(l!==h){alert("비밀번호가 일치하지 않습니다.");return}try{const z=(await b3(os,I,l)).user;await x3(z,{displayName:S});const M=GK[E]??((D||"").toLowerCase()==="pushcomz"?2:1);await v5(Xn(Jt,"users",z.uid),{name:S,company:D,role:M,createdAt:I0()}),await RM(I,l),alert("회원가입이 완료되었습니다!"),_("/")}catch(L){alert("회원가입 중 오류 발생: "+L.message)}};return v.jsx(XK,{children:v.jsxs(QK,{children:[v.jsxs(ZK,{children:[v.jsx(JK,{children:"PDMS"}),v.jsx(tX,{children:"Pushcomz Design Management System"})]}),v.jsxs(eX,{children:[v.jsx(nX,{type:"text",value:e,onChange:S=>t(S.target.value),placeholder:"이름을 입력해주세요."}),v.jsx(aX,{type:"text",value:n,onChange:S=>!p&&i(S.target.value),readOnly:p,"aria-readonly":p?"true":void 0,placeholder:p?"":"회사명을 입력해주세요.",title:p?"캠페인 링크로 자동 설정되었습니다.":"",$locked:p}),v.jsx(iX,{type:"text",value:s,onChange:S=>r(S.target.value),placeholder:"이메일을 입력해주세요."}),v.jsx(sX,{type:"password",value:l,onChange:S=>c(S.target.value),placeholder:"비밀번호를 입력해주세요."}),v.jsx(rX,{type:"password",value:h,onChange:S=>f(S.target.value),placeholder:"비밀번호 확인을 입력해주세요."})]}),v.jsx(oX,{onClick:A,children:"등록하기"})]})})}const XK=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  height: 100%;
  background-color: ${({theme:e})=>e.colors.gray01};
`,QK=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  max-width: 500px;
  padding: 50px 20px;
  background-color: ${({theme:e})=>e.colors.white01};
`,ZK=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  margin-bottom: 50px;
`,JK=H.h1`
  line-height: 45px;
  font-size: 30px;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.navy};
`,tX=H.span`
  font-size: 12px;
  font-weight: 100;
  color: #999;
`,eX=H.div`
  ${({theme:e})=>e.mixin.flex("center","center")};
  flex-direction: column;
  gap: 10px;
`,ed=H.input`
  width: 460px;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  line-height: 20px;
  color: #333;
  &:focus { outline: none; border-color: #c7d2fe; box-shadow: 0 0 0 3px rgba(59,130,246,0.15); }
`,nX=H(ed)``,iX=H(ed)``,sX=H(ed)``,rX=H(ed)``,aX=H(ed)`
  background-color: ${({$locked:e})=>e?"#f5f6f7":"white"};
  color: ${({$locked:e})=>e?"#555":"#333"};
  cursor: ${({$locked:e})=>e?"default":"text"};

  ${({$locked:e})=>e&&`
    box-shadow: none;
  `}
`,oX=H.button`
  width: 100%;
  padding: 13px 0;
  margin: 25px 0 30px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.navy};
  font-size: 16px;
  font-weight: 700;
  line-height: 18px;
  color: ${({theme:e})=>e.colors.white01};
`;function lX(){const[e,t]=V.useState(!1),[n,i]=V.useState(!1);return V.useEffect(()=>{let s=()=>{};return(async()=>(await WU(os),await GU(os),s=Cl(os,r=>{t(!!r),i(!0)})))(),()=>s()},[]),n?v.jsx(pN,{children:v.jsxs($P,{children:[v.jsx(Ih,{path:"/",element:e?v.jsx(ib,{to:"/main",replace:!0}):v.jsx(ZU,{onLoginSuccess:()=>t(!0)})}),v.jsx(Ih,{path:"/main",element:e?v.jsx($K,{}):v.jsx(ib,{to:"/",replace:!0})}),v.jsx(Ih,{path:"/signup",element:v.jsx(KK,{})}),v.jsx(Ih,{path:"*",element:v.jsx(ib,{to:e?"/main":"/",replace:!0})})]})}):null}const cX=ZR`
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    height: 100vh;
    overflow: hidden;
  }

  li {
    list-style: none;
  }

  button {
    background-color: transparent;
    border: none;
    cursor: pointer;
    &:focus {
      outline: none;
    }
  }

  input {
    border: none;

    &:focus {
      outline: none;
    }
  }

  table {
    border-collapse: collapse;

    th, td {
      border: 1px solid #ccc;
    }
  }

  textarea {
    resize: none;
  }

`,uX={white01:"#fff",white02:"#f4f4f4",white03:"#f4f6fc",red:"#eb193a",navy:"#073863",beige01:"#fff4ea",beige02:"#FFEEDE",orange:"#f88017",lightpupple:"#eaedfa",blue01:"#4f76ff",blue02:"#0B1ABF",gray01:"#ECEDF0",gray02:"#ccc",gray03:"#bdbdbd",gray04:"#f4f4f4",gray05:"#888",gray06:"#666",gray07:"#e5e2e2",gray08:"#F0F3F9",black:"#212121",pink01:"#FFDDDD",pink02:"#F48193",pink03:"#FFEBEB"},hX={flex:(e="flex-start",t="flex-start")=>`
    display: flex;
    align-items: ${e};
    justify-content: ${t}
  `},fX={colors:uX,mixin:hX};tP.createRoot(document.getElementById("root")).render(v.jsx(V.StrictMode,{children:v.jsxs(wL,{theme:fX,children:[v.jsx(lX,{}),v.jsx(cX,{})]})}));
